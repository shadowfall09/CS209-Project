{"items":[{"tags":["java","math","rotation","trigonometry","angle"],"comments":[{"owner":{"account_id":2802349,"reputation":146413,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1671015012,"post_id":74785974,"comment_id":132004102,"body_markdown":"One improvement, round, not floor.  `rotate_x  = (int) Math.round((posx * cos - posz * sin))`","body":"One improvement, round, not floor.  <code>rotate_x  = (int) Math.round((posx * cos - posz * sin))</code>"}],"answers":[{"tags":[],"owner":{"account_id":27240617,"reputation":1,"user_id":20766863,"display_name":"cupa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670941248,"creation_date":1670941248,"answer_id":74786305,"question_id":74785974,"body_markdown":"    public void drawImage(MapCanvas canvas,int x, int y, BufferedImage image,double angle) {\r\n        byte[] bytes = MapPalette.imageToBytes(image);\r\n\r\n        int real_x = image.getWidth()/2;\r\n        int real_y = image.getHeight()/2;\r\n\r\n        for(int x2 = 0; x2 &lt; image.getWidth(); ++x2) {\r\n            for(int y2 = 0; y2 &lt; image.getHeight(); ++y2) {\r\n\r\n                byte c =  bytes[y2 * image.getWidth() + x2];\r\n                if(c == 0) continue;\r\n                int [] sol = rotateByAngle(x2-real_x,y2-real_y,angle);\r\n                canvas.setPixel(x + sol[0], y + sol[1],c);\r\n\r\n            }\r\n        }\r\n\r\n    }","title":"Rotate an image with trigonometry","body":"<pre><code>public void drawImage(MapCanvas canvas,int x, int y, BufferedImage image,double angle) {\n    byte[] bytes = MapPalette.imageToBytes(image);\n\n    int real_x = image.getWidth()/2;\n    int real_y = image.getHeight()/2;\n\n    for(int x2 = 0; x2 &lt; image.getWidth(); ++x2) {\n        for(int y2 = 0; y2 &lt; image.getHeight(); ++y2) {\n\n            byte c =  bytes[y2 * image.getWidth() + x2];\n            if(c == 0) continue;\n            int [] sol = rotateByAngle(x2-real_x,y2-real_y,angle);\n            canvas.setPixel(x + sol[0], y + sol[1],c);\n\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27240617,"reputation":1,"user_id":20766863,"display_name":"cupa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670941248,"creation_date":1670939779,"question_id":74785974,"body_markdown":"i would like to rotate an image like the next gif:\r\n[rotation that i want](https://i.stack.imgur.com/i4SGZ.gif)\r\n\r\nbut i&#39;m getting this result:\r\n\r\n[wrong rotation](https://www.youtube.com/watch?v=ojZcrgXKzPY&amp;ab_channel=Cupa)\r\n\r\n\r\n\r\n```\r\npublic int[] rotateByAngle(int posx, int posz, double angle){\r\n    double radians = Math.toRadians(angle);\r\n    double cos = Math.cos(radians);\r\n    double sin = Math.sin(radians);\r\n\r\n\r\n\r\n    int rotate_x  = (int) Math.floor((posx * cos - posz * sin)) ;\r\n    int rotate_z  = (int) Math.floor((posx * sin  + posz * cos)) ;\r\n\r\n\r\n    return new int[] {rotate_x ,rotate_z };\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\npublic void drawImage(MapCanvas canvas,int x, int y, BufferedImage image,double angle) {\r\n    byte[] bytes = MapPalette.imageToBytes(image);\r\n\r\n    for(int x2 = 0; x2 &lt; image.getWidth(); ++x2) {\r\n        for(int y2 = 0; y2 &lt; image.getHeight(); ++y2) {\r\n            byte c =  bytes[y2 * image.getWidth() + x2];\r\n            if(c == 0) continue;\r\n            int [] sol = rotateByAngle(x2,y2,angle);\r\n            canvas.setPixel(x + sol[0], y + sol[1],c);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\ndrawImage(canvas,64,64, img.getBufferedImage(),angle);\r\n```\r\n\r\ni dont want to use =&gt; AffineTransform at = new AffineTransform();\r\ni would like to use cos and sen\r\n\r\n","title":"Rotate an image with trigonometry","body":"<p>i would like to rotate an image like the next gif:\n<a href=\"https://i.stack.imgur.com/i4SGZ.gif\" rel=\"nofollow noreferrer\">rotation that i want</a></p>\n<p>but i'm getting this result:</p>\n<p><a href=\"https://www.youtube.com/watch?v=ojZcrgXKzPY&amp;ab_channel=Cupa\" rel=\"nofollow noreferrer\">wrong rotation</a></p>\n<pre><code>public int[] rotateByAngle(int posx, int posz, double angle){\n    double radians = Math.toRadians(angle);\n    double cos = Math.cos(radians);\n    double sin = Math.sin(radians);\n\n\n\n    int rotate_x  = (int) Math.floor((posx * cos - posz * sin)) ;\n    int rotate_z  = (int) Math.floor((posx * sin  + posz * cos)) ;\n\n\n    return new int[] {rotate_x ,rotate_z };\n}\n</code></pre>\n<pre><code>public void drawImage(MapCanvas canvas,int x, int y, BufferedImage image,double angle) {\n    byte[] bytes = MapPalette.imageToBytes(image);\n\n    for(int x2 = 0; x2 &lt; image.getWidth(); ++x2) {\n        for(int y2 = 0; y2 &lt; image.getHeight(); ++y2) {\n            byte c =  bytes[y2 * image.getWidth() + x2];\n            if(c == 0) continue;\n            int [] sol = rotateByAngle(x2,y2,angle);\n            canvas.setPixel(x + sol[0], y + sol[1],c);\n        }\n    }\n\n}\n</code></pre>\n<pre><code>drawImage(canvas,64,64, img.getBufferedImage(),angle);\n</code></pre>\n<p>i dont want to use =&gt; AffineTransform at = new AffineTransform();\ni would like to use cos and sen</p>\n"},{"tags":["java","spring","routes","spring-cloud"],"comments":[{"owner":{"account_id":5363666,"reputation":1950,"user_id":4274223,"display_name":"Gregorio Palam&#224;"},"score":1,"creation_date":1670934086,"post_id":74784108,"comment_id":131983362,"body_markdown":"Looks like you need to use an API Gateway. You can do it with Spring Cloud Gateway, and set the rule according to what you need to achieve. Further details here: https://spring.io/projects/spring-cloud-gateway","body":"Looks like you need to use an API Gateway. You can do it with Spring Cloud Gateway, and set the rule according to what you need to achieve. Further details here: <a href=\"https://spring.io/projects/spring-cloud-gateway\" rel=\"nofollow noreferrer\">spring.io/projects/spring-cloud-gateway</a>"}],"answers":[{"tags":[],"owner":{"account_id":3310905,"reputation":84,"user_id":2784451,"display_name":"Yoav Naaman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670940905,"creation_date":1670940905,"answer_id":74786235,"question_id":74784108,"body_markdown":"Best practice is not to route according to request body, but use different attributes of the HTTP request instead. Spring Cloud Gateway includes many built-in route predicate factories based on those attributes.\r\n\r\nThe problem is request body can be read only once. moreover you need to know the object class it contains in order to properly read it.\r\n \r\nIn order to construct a solution to your question, we can use Spring Cloud Gateway ModifyRequestBody to rewrite the request body after you read it and before it send to the downstream.\r\n\r\n[Read more about ModifyRequestBody][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#modify-a-request-body-gatewayfilter-factory","title":"How to change routes url based on request body in spring cloud","body":"<p>Best practice is not to route according to request body, but use different attributes of the HTTP request instead. Spring Cloud Gateway includes many built-in route predicate factories based on those attributes.</p>\n<p>The problem is request body can be read only once. moreover you need to know the object class it contains in order to properly read it.</p>\n<p>In order to construct a solution to your question, we can use Spring Cloud Gateway ModifyRequestBody to rewrite the request body after you read it and before it send to the downstream.</p>\n<p><a href=\"https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#modify-a-request-body-gatewayfilter-factory\" rel=\"nofollow noreferrer\">Read more about ModifyRequestBody</a></p>\n"}],"owner":{"account_id":6736921,"reputation":948,"user_id":5191371,"accept_rate":0,"display_name":"Milad Bahmanabadi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670940905,"creation_date":1670930813,"question_id":74784108,"body_markdown":"I want to route requests based on some values in requestBody in spring cloud, for example:   \r\n\r\nif value of `firstField` in requestBody is chagre, I want to route this request to `/chagre` api  \r\nelse if value of `firstField` in requestBody is package, I want to route this request to `/package` api\r\n\r\nAny help would be appreciated.","title":"How to change routes url based on request body in spring cloud","body":"<p>I want to route requests based on some values in requestBody in spring cloud, for example:</p>\n<p>if value of <code>firstField</code> in requestBody is chagre, I want to route this request to <code>/chagre</code> api<br />\nelse if value of <code>firstField</code> in requestBody is package, I want to route this request to <code>/package</code> api</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":435040,"reputation":434,"user_id":821408,"display_name":"Viktor Pishchulin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1320663468,"creation_date":1320663468,"answer_id":8035494,"question_id":8035194,"body_markdown":"Bernhard\r\n\r\nhttp://camel.apache.org/how-do-i-use-dynamic-uri-in-to.html\r\n\r\nUse the Recipient List EIP pattern, which allows you to compute the dynamic URI using an Expression.\r\nFor example using the Simple expression language as shown below:\r\n\r\n    recipientList(simple(&quot;freemarker://templateHome/${body.templateName}.ftl&quot;))","title":"Simple Expression in apache-camel uri","body":"<p>Bernhard</p>\n\n<p><a href=\"http://camel.apache.org/how-do-i-use-dynamic-uri-in-to.html\" rel=\"nofollow\">http://camel.apache.org/how-do-i-use-dynamic-uri-in-to.html</a></p>\n\n<p>Use the Recipient List EIP pattern, which allows you to compute the dynamic URI using an Expression.\nFor example using the Simple expression language as shown below:</p>\n\n<pre><code>recipientList(simple(\"freemarker://templateHome/${body.templateName}.ftl\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375922249,"creation_date":1375922249,"answer_id":18116095,"question_id":8035194,"body_markdown":"Another way is to use the &quot;CamelXsltResourceUri&quot; property in the header.\r\n\r\n    \r\n    .setHeader(&quot;CamelXsltResourceUri&quot;,simple(&quot;xslt:&lt;path&gt;/&lt;to&gt;/&lt;template&gt;&quot;))\r\n\r\n\r\n\r\n\r\n\r\n&gt; &quot;recipientList(simple(&quot;freemarker://templateHome/${body.templateName}.ftl&quot;))&quot;\r\n\r\nThe selected answer did not work for me since I had to use a custom uriresolver","title":"Simple Expression in apache-camel uri","body":"<p>Another way is to use the \"CamelXsltResourceUri\" property in the header.</p>\n\n<pre><code>.setHeader(\"CamelXsltResourceUri\",simple(\"xslt:&lt;path&gt;/&lt;to&gt;/&lt;template&gt;\"))\n</code></pre>\n\n<blockquote>\n  <p>\"recipientList(simple(\"freemarker://templateHome/${body.templateName}.ftl\"))\"</p>\n</blockquote>\n\n<p>The selected answer did not work for me since I had to use a custom uriresolver</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670940818,"creation_date":1670940818,"answer_id":74786215,"question_id":8035194,"body_markdown":"Use `toD()` then dynamic uri can be used. recipientlist is for multiple destinations, not the correct EIP.\r\n\r\nHowever you may need to avoid creating too many different URLs with your `simple()` expression. See: https://camel.apache.org/components/3.18.x/eips/toD-eip.html","title":"Simple Expression in apache-camel uri","body":"<p>Use <code>toD()</code> then dynamic uri can be used. recipientlist is for multiple destinations, not the correct EIP.</p>\n<p>However you may need to avoid creating too many different URLs with your <code>simple()</code> expression. See: <a href=\"https://camel.apache.org/components/3.18.x/eips/toD-eip.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.18.x/eips/toD-eip.html</a></p>\n"}],"owner":{"account_id":1023795,"reputation":602,"user_id":1033533,"accept_rate":100,"display_name":"Bernhard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4038,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8035494,"answer_count":3,"score":2,"last_activity_date":1670940818,"creation_date":1320661795,"question_id":8035194,"body_markdown":"I&#39;m new to apache-camel and know i met a problem.\r\nI want to use simple expressions in my uri definition, but i don&#39;t know how.\r\n\r\nFor example:\r\n\r\n    from(&quot;foo://bar&quot;).to(&quot;foo://bar?var=${header.varName}&quot;);\r\n\r\nIs there a way to use such expressions?\r\n","title":"Simple Expression in apache-camel uri","body":"<p>I'm new to apache-camel and know i met a problem.\nI want to use simple expressions in my uri definition, but i don't know how.</p>\n\n<p>For example:</p>\n\n<pre><code>from(\"foo://bar\").to(\"foo://bar?var=${header.varName}\");\n</code></pre>\n\n<p>Is there a way to use such expressions?</p>\n"},{"tags":["java","system-administration","jmx"],"answers":[{"tags":[],"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258488467,"creation_date":1258486475,"answer_id":1751213,"question_id":1751130,"body_markdown":"I&#39;m not sure about bash-like environment.  You might try some simple wrapper programs in Java (with program arguments) that invoke your MBeans on the remote server.  You can then call these wrappers from the shell script\r\n\r\nIf you can use something like Python or Perl, you might be interested in [JSR-262][1] which allows you to expose JMX operations over web services.  This is scheduled to be included in Java 7 but you might be able to use a release candidate of the [reference implementation][2]\r\n\r\n\r\n  [1]: http://jcp.org/en/jsr/detail?id=262\r\n  [2]: https://ws-jmx-connector.dev.java.net/","title":"Calling JMX MBean method from a shell script","body":"<p>I'm not sure about bash-like environment.  You might try some simple wrapper programs in Java (with program arguments) that invoke your MBeans on the remote server.  You can then call these wrappers from the shell script</p>\n\n<p>If you can use something like Python or Perl, you might be interested in <a href=\"http://jcp.org/en/jsr/detail?id=262\" rel=\"nofollow noreferrer\">JSR-262</a> which allows you to expose JMX operations over web services.  This is scheduled to be included in Java 7 but you might be able to use a release candidate of the <a href=\"https://ws-jmx-connector.dev.java.net/\" rel=\"nofollow noreferrer\">reference implementation</a></p>\n"},{"tags":[],"owner":{"account_id":44712,"reputation":99786,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1258487980,"creation_date":1258487980,"answer_id":1751365,"question_id":1751130,"body_markdown":"Take a look at &lt;a href=&quot;http://www.jmanage.org/&quot;&gt;JManage&lt;/a&gt;. It&#39;s able to execute MBean methods and get / set attributes from &lt;a href=&quot;http://www.jmanage.org/wiki/index.php/Command_Line&quot;&gt;command line&lt;/a&gt;.","title":"Calling JMX MBean method from a shell script","body":"<p>Take a look at <a href=\"http://www.jmanage.org/\" rel=\"nofollow noreferrer\">JManage</a>. It's able to execute MBean methods and get / set attributes from <a href=\"http://www.jmanage.org/wiki/index.php/Command_Line\" rel=\"nofollow noreferrer\">command line</a>.</p>\n"},{"tags":[],"owner":{"account_id":34674,"reputation":14769,"user_id":98050,"accept_rate":57,"display_name":"Dougnukem"},"down_vote_count":0,"up_vote_count":115,"is_accepted":true,"score":115,"last_activity_date":1558612246,"creation_date":1258488628,"answer_id":1751426,"question_id":1751130,"body_markdown":"The following command line JMX utilities are available:\r\n\r\n\r\n 1. [jmxterm][1] - seems to be the most fully featured utility.\r\n 2. [cmdline-jmxclient][2] - used in the WebArchive project seems very bare bones (and no development since 2006 it looks like)\r\n 3. [Groovy script and JMX][3] - provides some really powerful JMX functionality but requires groovy and other library setup.\r\n 4. [JManage command line\r\n    functionality][4] - (downside is\r\n    that it requires a running JManage\r\n    server to proxy commands through)\r\n\r\n**Groovy JMX Example:**\r\n\r\n    import java.lang.management.*\r\n    import javax.management.ObjectName\r\n    import javax.management.remote.JMXConnectorFactory as JmxFactory\r\n    import javax.management.remote.JMXServiceURL as JmxUrl\r\n    \r\n    def serverUrl = &#39;service:jmx:rmi:///jndi/rmi://localhost:9003/jmxrmi&#39;\r\n    String beanName = &quot;com.webwars.gameplatform.data:type=udmdataloadsystem,id=0&quot;\r\n    def server = JmxFactory.connect(new JmxUrl(serverUrl)).MBeanServerConnection\r\n    def dataSystem = new GroovyMBean(server, beanName)\r\n    \r\n    println &quot;Connected to:\\n$dataSystem\\n&quot;\r\n    \r\n    println &quot;Executing jmxForceRefresh()&quot;\r\n    dataSystem.jmxForceRefresh();\r\n\r\n\r\n**cmdline-jmxclient example:**\r\n\r\nIf you have an \r\n\r\n* MBean: com.company.data:type=datasystem,id=0\r\n\r\nWith an Operation called:\r\n  \r\n*  jmxForceRefresh()\r\n\r\nThen you can write a simple bash script (assuming you download [cmdline-jmxclient-0.10.3.jar][5] and put in the same directory as your script):\r\n\r\n    #!/bin/bash\r\n    \r\n    cmdLineJMXJar=./cmdline-jmxclient-0.10.3.jar\r\n    user=yourUser\r\n    password=yourPassword\r\n    jmxHost=localhost\r\n    port=9003\r\n    \r\n    #No User and password so pass &#39;-&#39;\r\n    echo &quot;Available Operations for com.company.data:type=datasystem,id=0&quot;\r\n    java -jar ${cmdLineJMXJar} ${user}:${password} ${jmxHost}:${port} com.company.data:type=datasystem,id=0\r\n    \r\n    echo &quot;Executing XML update...&quot;\r\n    java -jar ${cmdLineJMXJar} - ${jmxHost}:${port} com.company.data:type=datasystem,id=0 jmxForceRefresh\r\n\r\n\r\n  [1]: http://wiki.cyclopsgroup.org/jmxterm\r\n  [2]: http://crawler.archive.org/cmdline-jmxclient/\r\n  [3]: http://docs.codehaus.org/display/GROOVY/Groovy+and+JMX\r\n  [4]: http://www.jmanage.org/\r\n  [5]: http://crawler.archive.org/cmdline-jmxclient/cmdline-jmxclient-0.10.3.jar","title":"Calling JMX MBean method from a shell script","body":"<p>The following command line JMX utilities are available:</p>\n\n<ol>\n<li><a href=\"http://wiki.cyclopsgroup.org/jmxterm\" rel=\"noreferrer\">jmxterm</a> - seems to be the most fully featured utility.</li>\n<li><a href=\"http://crawler.archive.org/cmdline-jmxclient/\" rel=\"noreferrer\">cmdline-jmxclient</a> - used in the WebArchive project seems very bare bones (and no development since 2006 it looks like)</li>\n<li><a href=\"http://docs.codehaus.org/display/GROOVY/Groovy+and+JMX\" rel=\"noreferrer\">Groovy script and JMX</a> - provides some really powerful JMX functionality but requires groovy and other library setup.</li>\n<li><a href=\"http://www.jmanage.org/\" rel=\"noreferrer\">JManage command line\nfunctionality</a> - (downside is\nthat it requires a running JManage\nserver to proxy commands through)</li>\n</ol>\n\n<p><strong>Groovy JMX Example:</strong></p>\n\n<pre><code>import java.lang.management.*\nimport javax.management.ObjectName\nimport javax.management.remote.JMXConnectorFactory as JmxFactory\nimport javax.management.remote.JMXServiceURL as JmxUrl\n\ndef serverUrl = 'service:jmx:rmi:///jndi/rmi://localhost:9003/jmxrmi'\nString beanName = \"com.webwars.gameplatform.data:type=udmdataloadsystem,id=0\"\ndef server = JmxFactory.connect(new JmxUrl(serverUrl)).MBeanServerConnection\ndef dataSystem = new GroovyMBean(server, beanName)\n\nprintln \"Connected to:\\n$dataSystem\\n\"\n\nprintln \"Executing jmxForceRefresh()\"\ndataSystem.jmxForceRefresh();\n</code></pre>\n\n<p><strong>cmdline-jmxclient example:</strong></p>\n\n<p>If you have an </p>\n\n<ul>\n<li>MBean: com.company.data:type=datasystem,id=0</li>\n</ul>\n\n<p>With an Operation called:</p>\n\n<ul>\n<li>jmxForceRefresh()</li>\n</ul>\n\n<p>Then you can write a simple bash script (assuming you download <a href=\"http://crawler.archive.org/cmdline-jmxclient/cmdline-jmxclient-0.10.3.jar\" rel=\"noreferrer\">cmdline-jmxclient-0.10.3.jar</a> and put in the same directory as your script):</p>\n\n<pre><code>#!/bin/bash\n\ncmdLineJMXJar=./cmdline-jmxclient-0.10.3.jar\nuser=yourUser\npassword=yourPassword\njmxHost=localhost\nport=9003\n\n#No User and password so pass '-'\necho \"Available Operations for com.company.data:type=datasystem,id=0\"\njava -jar ${cmdLineJMXJar} ${user}:${password} ${jmxHost}:${port} com.company.data:type=datasystem,id=0\n\necho \"Executing XML update...\"\njava -jar ${cmdLineJMXJar} - ${jmxHost}:${port} com.company.data:type=datasystem,id=0 jmxForceRefresh\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71815,"reputation":2507,"user_id":207604,"accept_rate":50,"display_name":"Roland Hu&#223;"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1373834598,"creation_date":1258620961,"answer_id":1761851,"question_id":1751130,"body_markdown":"You might want also to have a look at [jmx4perl][1]. It provides java-less access to a remote Java EE Server&#39;s MBeans. However, a small agent servlet needs to be installed on the target platform, which provides a restful JMX Access via HTTP with a JSON payload. (Version 0.50 will add an agentless mode by implementing a JSR-160 proxy).\r\n\r\nAdvantages are quick startup times compared to launching a local java JVM and ease of use. jmx4perl comes with a full set of Perl modules which can be easily used in your own scripts:\r\n\r\n    use JMX::Jmx4Perl;\r\n    use JMX::Jmx4Perl::Alias;   # Import certains aliases for MBeans\r\n\r\n    print &quot;Memory Used: &quot;,\r\n          JMX::Jmx4Perl\r\n              -&gt;new(url =&gt; &quot;http://localhost:8080/j4p&quot;)\r\n              -&gt;get_attribute(MEMORY_HEAP_USED);\r\n\r\nYou can also use alias for common MBean/Attribute/Operation combos (e.g. for most MXBeans). \r\nFor additional features (Nagios-Plugin, XPath-like access to complex attribute types, ...), please refer to the documentation of jmx4perl. \r\n\r\n  [1]: http://www.jmx4perl.org","title":"Calling JMX MBean method from a shell script","body":"<p>You might want also to have a look at <a href=\"http://www.jmx4perl.org\" rel=\"nofollow noreferrer\">jmx4perl</a>. It provides java-less access to a remote Java EE Server's MBeans. However, a small agent servlet needs to be installed on the target platform, which provides a restful JMX Access via HTTP with a JSON payload. (Version 0.50 will add an agentless mode by implementing a JSR-160 proxy).</p>\n\n<p>Advantages are quick startup times compared to launching a local java JVM and ease of use. jmx4perl comes with a full set of Perl modules which can be easily used in your own scripts:</p>\n\n<pre><code>use JMX::Jmx4Perl;\nuse JMX::Jmx4Perl::Alias;   # Import certains aliases for MBeans\n\nprint \"Memory Used: \",\n      JMX::Jmx4Perl\n          -&gt;new(url =&gt; \"http://localhost:8080/j4p\")\n          -&gt;get_attribute(MEMORY_HEAP_USED);\n</code></pre>\n\n<p>You can also use alias for common MBean/Attribute/Operation combos (e.g. for most MXBeans). \nFor additional features (Nagios-Plugin, XPath-like access to complex attribute types, ...), please refer to the documentation of jmx4perl. </p>\n"},{"tags":[],"owner":{"account_id":32541,"reputation":485,"user_id":90387,"display_name":"Austin Mills"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1288648064,"creation_date":1288648064,"answer_id":4073361,"question_id":1751130,"body_markdown":"The [Syabru Nagios JMX plugin][1] is meant to be used from Nagios, but doesn&#39;t require Nagios and is very convenient for command-line use: \r\n\r\n    ~$ ./check_jmx -U service:jmx:rmi:///jndi/rmi://localhost:1099/JMXConnector --username myuser --password mypass -O java.lang:type=Memory -A HeapMemoryUsage -K used \r\n    JMX OK - HeapMemoryUsage.used = 445012360 | &#39;HeapMemoryUsage used&#39;=445012360;;;;\r\n\r\n\r\n\r\n  [1]: http://snippets.syabru.ch/nagios-jmx-plugin/\r\n","title":"Calling JMX MBean method from a shell script","body":"<p>The <a href=\"http://snippets.syabru.ch/nagios-jmx-plugin/\" rel=\"noreferrer\">Syabru Nagios JMX plugin</a> is meant to be used from Nagios, but doesn't require Nagios and is very convenient for command-line use: </p>\n\n<pre><code>~$ ./check_jmx -U service:jmx:rmi:///jndi/rmi://localhost:1099/JMXConnector --username myuser --password mypass -O java.lang:type=Memory -A HeapMemoryUsage -K used \nJMX OK - HeapMemoryUsage.used = 445012360 | 'HeapMemoryUsage used'=445012360;;;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1692258,"reputation":26916,"user_id":1554386,"accept_rate":71,"display_name":"Alastair McCormack"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1500042585,"creation_date":1354229640,"answer_id":13636269,"question_id":1751130,"body_markdown":"I&#39;ve developed jmxfuse which exposes JMX Mbeans as a Linux FUSE filesystem with similar functionality as the /proc fs. It relies on [Jolokia](https://jolokia.org/) as the bridge to JMX. Attributes and operations are exposed for reading and writing.\r\n\r\nhttp://code.google.com/p/jmxfuse/\r\n\r\nFor example, to read an attribute:\r\n\r\n    me@oddjob:jmx$ cd log4j/root/attributes\r\n    me@oddjob:jmx$ cat priority\r\n\r\nto write an attribute:\r\n\r\n    me@oddjob:jmx$ echo &quot;WARN&quot; &gt; priority\r\n\r\nto invoke an operation:\r\n\r\n    me@oddjob:jmx$ cd Catalina/none/none/WebModule/localhost/helloworld/operations/addParameter\r\n    me@oddjob:jmx$ echo &quot;myParam myValue&quot; &gt; invoke","title":"Calling JMX MBean method from a shell script","body":"<p>I've developed jmxfuse which exposes JMX Mbeans as a Linux FUSE filesystem with similar functionality as the /proc fs. It relies on <a href=\"https://jolokia.org/\" rel=\"nofollow noreferrer\">Jolokia</a> as the bridge to JMX. Attributes and operations are exposed for reading and writing.</p>\n\n<p><a href=\"http://code.google.com/p/jmxfuse/\" rel=\"nofollow noreferrer\">http://code.google.com/p/jmxfuse/</a></p>\n\n<p>For example, to read an attribute:</p>\n\n<pre><code>me@oddjob:jmx$ cd log4j/root/attributes\nme@oddjob:jmx$ cat priority\n</code></pre>\n\n<p>to write an attribute:</p>\n\n<pre><code>me@oddjob:jmx$ echo \"WARN\" &gt; priority\n</code></pre>\n\n<p>to invoke an operation:</p>\n\n<pre><code>me@oddjob:jmx$ cd Catalina/none/none/WebModule/localhost/helloworld/operations/addParameter\nme@oddjob:jmx$ echo \"myParam myValue\" &gt; invoke\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2387596,"reputation":51,"user_id":2088235,"display_name":"BBay"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1361386642,"creation_date":1361296896,"answer_id":14964290,"question_id":1751130,"body_markdown":"A little risky, but you could run a curl POST command with the values from the form from the JMX console, its URL and http authentication (if required):\r\n\r\n    curl -s -X POST --user &#39;myuser:mypass&#39;\r\n      --data &quot;action=invokeOp&amp;name=App:service=ThisServiceOp&amp;methodIndex=3&amp;arg0=value1&amp;arg1=value1&amp;submit=Invoke&quot;\r\n      http://yourhost.domain.com/jmx-console/HtmlAdaptor\r\n\r\nBeware: the method index may change with changes to the software. And the implementation of the web form could change.\r\n\r\nThe above is based on source of the JMX service page for the operation you want to perform:\r\n\r\n    http://yourhost.domain.com/jmx-console/HtmlAdaptor?action=inspectMBean&amp;name=YourJMXServiceName\r\n\r\nSource of the form:\r\n\r\n    form method=&quot;post&quot; action=&quot;HtmlAdaptor&quot;&gt;\r\n       &lt;input type=&quot;hidden&quot; name=&quot;action&quot; value=&quot;invokeOp&quot;&gt;\r\n       &lt;input type=&quot;hidden&quot; name=&quot;name&quot; value=&quot;App:service=ThisServiceOp&quot;&gt;\r\n       &lt;input type=&quot;hidden&quot; name=&quot;methodIndex&quot; value=&quot;3&quot;&gt;\r\n       &lt;hr align=&#39;left&#39; width=&#39;80&#39;&gt;\r\n       &lt;h4&gt;void ThisOperation()&lt;/h4&gt;\r\n       &lt;p&gt;Operation exposed for management&lt;/p&gt;\r\n    \t&lt;table cellspacing=&quot;2&quot; cellpadding=&quot;2&quot; border=&quot;1&quot;&gt;\r\n    \t\t&lt;tr class=&quot;OperationHeader&quot;&gt;\r\n    \t\t\t&lt;th&gt;Param&lt;/th&gt;\r\n    \t\t\t&lt;th&gt;ParamType&lt;/th&gt;\r\n    \t\t\t&lt;th&gt;ParamValue&lt;/th&gt;\r\n    \t\t\t&lt;th&gt;ParamDescription&lt;/th&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t\t&lt;tr&gt;\r\n    \t\t\t&lt;td&gt;p1&lt;/td&gt;\r\n    \t\t   &lt;td&gt;java.lang.String&lt;/td&gt;\r\n             &lt;td&gt; \r\n                &lt;input type=&quot;text&quot; name=&quot;arg0&quot;&gt;\r\n             &lt;/td&gt;\r\n             &lt;td&gt;(no description)&lt;/td&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t\t&lt;tr&gt;\r\n    \t\t\t&lt;td&gt;p2&lt;/td&gt;\r\n    \t\t   &lt;td&gt;arg1Type&lt;/td&gt;\r\n             &lt;td&gt; \r\n                &lt;input type=&quot;text&quot; name=&quot;arg1&quot;&gt;\r\n             &lt;/td&gt;\r\n             &lt;td&gt;(no description)&lt;/td&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t&lt;/table&gt;\r\n    \t&lt;input type=&quot;submit&quot; value=&quot;Invoke&quot;&gt;\r\n    &lt;/form&gt;\r\n","title":"Calling JMX MBean method from a shell script","body":"<p>A little risky, but you could run a curl POST command with the values from the form from the JMX console, its URL and http authentication (if required):</p>\n\n<pre><code>curl -s -X POST --user 'myuser:mypass'\n  --data \"action=invokeOp&amp;name=App:service=ThisServiceOp&amp;methodIndex=3&amp;arg0=value1&amp;arg1=value1&amp;submit=Invoke\"\n  http://yourhost.domain.com/jmx-console/HtmlAdaptor\n</code></pre>\n\n<p>Beware: the method index may change with changes to the software. And the implementation of the web form could change.</p>\n\n<p>The above is based on source of the JMX service page for the operation you want to perform:</p>\n\n<pre><code>http://yourhost.domain.com/jmx-console/HtmlAdaptor?action=inspectMBean&amp;name=YourJMXServiceName\n</code></pre>\n\n<p>Source of the form:</p>\n\n<pre><code>form method=\"post\" action=\"HtmlAdaptor\"&gt;\n   &lt;input type=\"hidden\" name=\"action\" value=\"invokeOp\"&gt;\n   &lt;input type=\"hidden\" name=\"name\" value=\"App:service=ThisServiceOp\"&gt;\n   &lt;input type=\"hidden\" name=\"methodIndex\" value=\"3\"&gt;\n   &lt;hr align='left' width='80'&gt;\n   &lt;h4&gt;void ThisOperation()&lt;/h4&gt;\n   &lt;p&gt;Operation exposed for management&lt;/p&gt;\n    &lt;table cellspacing=\"2\" cellpadding=\"2\" border=\"1\"&gt;\n        &lt;tr class=\"OperationHeader\"&gt;\n            &lt;th&gt;Param&lt;/th&gt;\n            &lt;th&gt;ParamType&lt;/th&gt;\n            &lt;th&gt;ParamValue&lt;/th&gt;\n            &lt;th&gt;ParamDescription&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;p1&lt;/td&gt;\n           &lt;td&gt;java.lang.String&lt;/td&gt;\n         &lt;td&gt; \n            &lt;input type=\"text\" name=\"arg0\"&gt;\n         &lt;/td&gt;\n         &lt;td&gt;(no description)&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;p2&lt;/td&gt;\n           &lt;td&gt;arg1Type&lt;/td&gt;\n         &lt;td&gt; \n            &lt;input type=\"text\" name=\"arg1\"&gt;\n         &lt;/td&gt;\n         &lt;td&gt;(no description)&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;input type=\"submit\" value=\"Invoke\"&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1783732,"reputation":11618,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1548788206,"creation_date":1408532106,"answer_id":25402898,"question_id":1751130,"body_markdown":"@Dougnukem answer helped me a lot. I have taken the Groovy approach (using groovy 2.3.3).\r\n\r\nI did some changes on Dougnukem code.\r\nThis will work with Java 7 and will print two attributes to stdout every 10 sec.\r\n\r\n            package com.my.company.jmx\r\n            import groovy.util.GroovyMBean;\r\n            import javax.management.remote.JMXServiceURL\r\n            import javax.management.remote.JMXConnectorFactory\r\n            import java.lang.management.*\r\n            \r\n                class Monitor {\r\n                \tstatic main(args) {\r\n                \t\tdef serverUrl = &#39;service:jmx:rmi:///jndi/rmi://localhost:5019/jmxrmi&#39;\r\n                \t\tString beanName = &quot;Catalina:type=DataSource,class=javax.sql.DataSource,name=\\&quot;jdbc/CommonDB\\&quot;&quot;\r\n                \t\tprintln  &quot;numIdle,numActive&quot;\r\n                \t\t\r\n                \t\twhile(1){\r\n                \t\t\tdef server = JMXConnectorFactory.connect(new JMXServiceURL(serverUrl))\r\n                           //make sure to reconnect in case the jvm was restrated \r\n                \t\t\tserver.connect()\r\n                \t\t\tGroovyMBean mbean = new GroovyMBean(server.MBeanServerConnection, beanName)\r\n                \t\t\tprintln  &quot;${mbean.numIdle},${mbean.numActive}&quot;\r\n                \t\t\tserver.close()\r\n                \t\t\tsleep(10000)\r\n                \t\t}\r\n                \t\t\r\n                \t}\r\n                }\r\n\r\nCompile this code into a jar using maven-compiler-plugin so you will not require groovy installation only the groovy-all.jar .\r\nBelow is the relevant plugin definition and dependency.\r\n\r\n \r\n\r\n       &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;compilerId&gt;groovy-eclipse-compiler&lt;/compilerId&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;groovy-eclipse-compiler&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;2.8.0-01&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;groovy-eclipse-batch&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;2.3.4-01&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\nWrap it with a bat or a shell and it will print the data to stdout.","title":"Calling JMX MBean method from a shell script","body":"<p>@Dougnukem answer helped me a lot. I have taken the Groovy approach (using groovy 2.3.3).</p>\n\n<p>I did some changes on Dougnukem code.\nThis will work with Java 7 and will print two attributes to stdout every 10 sec.</p>\n\n<pre><code>        package com.my.company.jmx\n        import groovy.util.GroovyMBean;\n        import javax.management.remote.JMXServiceURL\n        import javax.management.remote.JMXConnectorFactory\n        import java.lang.management.*\n\n            class Monitor {\n                static main(args) {\n                    def serverUrl = 'service:jmx:rmi:///jndi/rmi://localhost:5019/jmxrmi'\n                    String beanName = \"Catalina:type=DataSource,class=javax.sql.DataSource,name=\\\"jdbc/CommonDB\\\"\"\n                    println  \"numIdle,numActive\"\n\n                    while(1){\n                        def server = JMXConnectorFactory.connect(new JMXServiceURL(serverUrl))\n                       //make sure to reconnect in case the jvm was restrated \n                        server.connect()\n                        GroovyMBean mbean = new GroovyMBean(server.MBeanServerConnection, beanName)\n                        println  \"${mbean.numIdle},${mbean.numActive}\"\n                        server.close()\n                        sleep(10000)\n                    }\n\n                }\n            }\n</code></pre>\n\n<p>Compile this code into a jar using maven-compiler-plugin so you will not require groovy installation only the groovy-all.jar .\nBelow is the relevant plugin definition and dependency.</p>\n\n<pre><code>   &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;compilerId&gt;groovy-eclipse-compiler&lt;/compilerId&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                        &lt;artifactId&gt;groovy-eclipse-compiler&lt;/artifactId&gt;\n                        &lt;version&gt;2.8.0-01&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                        &lt;artifactId&gt;groovy-eclipse-batch&lt;/artifactId&gt;\n                        &lt;version&gt;2.3.4-01&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n            &lt;version&gt;2.4.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p>Wrap it with a bat or a shell and it will print the data to stdout.</p>\n"},{"tags":[],"owner":{"account_id":465839,"reputation":6552,"user_id":870207,"accept_rate":0,"display_name":"teknopaul"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1601448078,"creation_date":1513605242,"answer_id":47869966,"question_id":1751130,"body_markdown":"Potentially its easiest to write this in Java\r\n\r\n    import javax.management.*;\r\n    import javax.management.remote.*;\r\n    \r\n    public class JmxInvoke {\r\n    \r\n        public static void main(String... args) throws Exception {\r\n            JMXConnectorFactory.connect(new JMXServiceURL(args[0]))\r\n                .getMBeanServerConnection().invoke(new ObjectName(args[1]), args[2], new Object[]{}, new String[]{});    \r\n        }\r\n    \r\n    }\r\n\r\nThis would compile to a single .class and needs no dependencies in server or any complicated maven packaging.\r\n\r\ncall it with\r\n\r\n    javac JmxInvoke.java\r\n    java -cp . JmxInvoke [url] [beanName] [method]\r\n\r\n","title":"Calling JMX MBean method from a shell script","body":"<p>Potentially its easiest to write this in Java</p>\n<pre><code>import javax.management.*;\nimport javax.management.remote.*;\n\npublic class JmxInvoke {\n\n    public static void main(String... args) throws Exception {\n        JMXConnectorFactory.connect(new JMXServiceURL(args[0]))\n            .getMBeanServerConnection().invoke(new ObjectName(args[1]), args[2], new Object[]{}, new String[]{});    \n    }\n\n}\n</code></pre>\n<p>This would compile to a single .class and needs no dependencies in server or any complicated maven packaging.</p>\n<p>call it with</p>\n<pre><code>javac JmxInvoke.java\njava -cp . JmxInvoke [url] [beanName] [method]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8779511,"reputation":6404,"user_id":6563567,"accept_rate":100,"display_name":"ns15"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669904092,"creation_date":1669904092,"answer_id":74643275,"question_id":1751130,"body_markdown":"Below steps describe using [jmxterm][1] from command line.\r\n\r\nFirst, download jmxterm JAR file\r\n\r\n\r\n    omega@omega-master-0:/opt/omega/data/backup$ wget https://github.com/jiaqi/jmxterm/releases/download/v1.0.4/jmxterm-1.0.4-uber.jar\r\n\r\nRun jmxterm \r\n\r\n    omega@omega-master-0:/opt/omega/data/backup$ java -jar jmxterm-1.0.4-uber.jar\r\n\r\nOpen a connection\r\n\r\n    $&gt;open localhost:9999\r\n    #Connection to localhost:9999 is opened\r\n\r\nList all JMX beans\r\n\r\n    $&gt;beans\r\n    #domain = JMImplementation:\r\n    JMImplementation:type=MBeanServerDelegate\r\n    ...\r\n    java.lang:type=Memory\r\n    java.lang:type=OperatingSystem\r\n    java.lang:type=Runtime\r\n    ...\r\n\r\nSee the stats for a bean by running command like below.\r\n\r\n    $&gt;get -b java.lang:type=Memory *\r\n    #mbean = java.lang:type=Memory:\r\n    Verbose = false;\r\n    \r\n    ObjectPendingFinalizationCount = 0;\r\n    \r\n    HeapMemoryUsage = { \r\n      committed = 4143972352;\r\n      init = 526385152;\r\n      max = 4143972352;\r\n      used = 2113527712;\r\n     };\r\n    \r\n    NonHeapMemoryUsage = { \r\n      committed = 371900416;\r\n      init = 2555904;\r\n      max = -1;\r\n      used = 320582904;\r\n     };\r\n    \r\n    ObjectName = java.lang:type=Memory;\r\n\r\n\r\n  [1]: https://github.com/jiaqi/jmxterm","title":"Calling JMX MBean method from a shell script","body":"<p>Below steps describe using <a href=\"https://github.com/jiaqi/jmxterm\" rel=\"nofollow noreferrer\">jmxterm</a> from command line.</p>\n<p>First, download jmxterm JAR file</p>\n<pre><code>omega@omega-master-0:/opt/omega/data/backup$ wget https://github.com/jiaqi/jmxterm/releases/download/v1.0.4/jmxterm-1.0.4-uber.jar\n</code></pre>\n<p>Run jmxterm</p>\n<pre><code>omega@omega-master-0:/opt/omega/data/backup$ java -jar jmxterm-1.0.4-uber.jar\n</code></pre>\n<p>Open a connection</p>\n<pre><code>$&gt;open localhost:9999\n#Connection to localhost:9999 is opened\n</code></pre>\n<p>List all JMX beans</p>\n<pre><code>$&gt;beans\n#domain = JMImplementation:\nJMImplementation:type=MBeanServerDelegate\n...\njava.lang:type=Memory\njava.lang:type=OperatingSystem\njava.lang:type=Runtime\n...\n</code></pre>\n<p>See the stats for a bean by running command like below.</p>\n<pre><code>$&gt;get -b java.lang:type=Memory *\n#mbean = java.lang:type=Memory:\nVerbose = false;\n\nObjectPendingFinalizationCount = 0;\n\nHeapMemoryUsage = { \n  committed = 4143972352;\n  init = 526385152;\n  max = 4143972352;\n  used = 2113527712;\n };\n\nNonHeapMemoryUsage = { \n  committed = 371900416;\n  init = 2555904;\n  max = -1;\n  used = 320582904;\n };\n\nObjectName = java.lang:type=Memory;\n</code></pre>\n"}],"owner":{"account_id":34674,"reputation":14769,"user_id":98050,"accept_rate":57,"display_name":"Dougnukem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156238,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":1751426,"answer_count":10,"score":112,"last_activity_date":1670940795,"creation_date":1258485626,"question_id":1751130,"body_markdown":"Are there any libraries that would allow me to call a JMX MBean method from a shell script. We expose some operations/admin commands through JMX, and we could have our admins use JConsole, or VisualVM, but some tasks are better left to automation. In that automation we&#39;d like to be able to call a JMX MBean method on our running server, preferably from a shell script.","title":"Calling JMX MBean method from a shell script","body":"<p>Are there any libraries that would allow me to call a JMX MBean method from a shell script. We expose some operations/admin commands through JMX, and we could have our admins use JConsole, or VisualVM, but some tasks are better left to automation. In that automation we'd like to be able to call a JMX MBean method on our running server, preferably from a shell script.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":1,"creation_date":1313767075,"post_id":7123555,"comment_id":8536963,"body_markdown":"@Gweebz, of course he could have tried both, but that&#39;s not the point. He&#39;s asking which is more appropriate.","body":"@Gweebz, of course he could have tried both, but that&#39;s not the point. He&#39;s asking which is more appropriate."}],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1313766372,"creation_date":1313766372,"answer_id":7123572,"question_id":7123555,"body_markdown":"`assertNotNull` asserts that the object is not null.  If it is null the test fails, so you want that.","title":"AssertNull should be used or AssertNotNull","body":"<p><code>assertNotNull</code> asserts that the object is not null.  If it is null the test fails, so you want that.</p>\n"},{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"down_vote_count":0,"up_vote_count":171,"is_accepted":true,"score":171,"last_activity_date":1478768248,"creation_date":1313766396,"answer_id":7123581,"question_id":7123555,"body_markdown":"Use `assertNotNull(obj)`. `assert` means `must be`. ","title":"AssertNull should be used or AssertNotNull","body":"<p>Use <code>assertNotNull(obj)</code>. <code>assert</code> means <code>must be</code>. </p>\n"},{"tags":[],"owner":{"account_id":7287089,"reputation":291,"user_id":5554849,"display_name":"punya"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1570941311,"creation_date":1447999985,"answer_id":33820122,"question_id":7123555,"body_markdown":"The `assertNotNull()` method means &quot;a passed parameter must not be `null`&quot;: if it is null then the test case fails.  \r\nThe `assertNull()` method means &quot;a passed parameter must be `null`&quot;: if it is not null then the test case fails.  \r\n\r\n    String str1 = null;\r\n    String str2 = &quot;hello&quot;;              \r\n\r\n    // Success.\r\n    assertNotNull(str2);\r\n\r\n    // Fail.\r\n    assertNotNull(str1);\r\n\r\n    // Success.\r\n    assertNull(str1);\r\n\r\n    // Fail.\r\n    assertNull(str2);","title":"AssertNull should be used or AssertNotNull","body":"<p>The <code>assertNotNull()</code> method means \"a passed parameter must not be <code>null</code>\": if it is null then the test case fails.<br>\nThe <code>assertNull()</code> method means \"a passed parameter must be <code>null</code>\": if it is not null then the test case fails.  </p>\n\n<pre><code>String str1 = null;\nString str2 = \"hello\";              \n\n// Success.\nassertNotNull(str2);\n\n// Fail.\nassertNotNull(str1);\n\n// Success.\nassertNull(str1);\n\n// Fail.\nassertNull(str2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1558602845,"creation_date":1558602845,"answer_id":56271859,"question_id":7123555,"body_markdown":"I just want to add that if you want to write special text if It null than you make it like that\r\n\r\n      Assert.assertNotNull(&quot;The object you enter return null&quot;, str1)\r\n\r\n","title":"AssertNull should be used or AssertNotNull","body":"<p>I just want to add that if you want to write special text if It null than you make it like that</p>\n\n<pre><code>  Assert.assertNotNull(\"The object you enter return null\", str1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3910227,"reputation":174,"user_id":3235791,"display_name":"Fred Danna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670940740,"creation_date":1670940740,"answer_id":74786190,"question_id":7123555,"body_markdown":"In JUnit 4, IDEA (UE 2020) suggests using `assertThat(..., notNullValue());` instead of `Assert.assertNotNull(...)`.\r\n\r\nFor instance:\r\n\r\n1. [IDEA warning][1]\r\n1. [IDEA suggestions][2]\r\n1. [IDEA fix][3]\r\n\r\n  [1]: https://i.stack.imgur.com/0QzkU.png\r\n  [2]: https://i.stack.imgur.com/jeOYe.png\r\n  [3]: https://i.stack.imgur.com/8XMXf.png","title":"AssertNull should be used or AssertNotNull","body":"<p>In JUnit 4, IDEA (UE 2020) suggests using <code>assertThat(..., notNullValue());</code> instead of <code>Assert.assertNotNull(...)</code>.</p>\n<p>For instance:</p>\n<ol>\n<li><a href=\"https://i.stack.imgur.com/0QzkU.png\" rel=\"nofollow noreferrer\">IDEA warning</a></li>\n<li><a href=\"https://i.stack.imgur.com/jeOYe.png\" rel=\"nofollow noreferrer\">IDEA suggestions</a></li>\n<li><a href=\"https://i.stack.imgur.com/8XMXf.png\" rel=\"nofollow noreferrer\">IDEA fix</a></li>\n</ol>\n"}],"owner":{"account_id":125140,"reputation":26301,"user_id":320724,"accept_rate":80,"display_name":"Bohn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349828,"favorite_count":0,"down_vote_count":2,"up_vote_count":87,"accepted_answer_id":7123581,"answer_count":5,"score":85,"last_activity_date":1670940740,"creation_date":1313766288,"question_id":7123555,"body_markdown":"This is a pretty dumb question but my first time with unit testing so:\r\nlets say I have an object variable like obj and I want my unit test to Fail if this obj is Null.\r\nso for assertions, should I say AssertNull or AssertNotNull ? I get confused how they are named.","title":"AssertNull should be used or AssertNotNull","body":"<p>This is a pretty dumb question but my first time with unit testing so:\nlets say I have an object variable like obj and I want my unit test to Fail if this obj is Null.\nso for assertions, should I say AssertNull or AssertNotNull ? I get confused how they are named.</p>\n"},{"tags":["java","android","kotlin","double","tostring"],"answers":[{"tags":[],"owner":{"account_id":8211460,"reputation":2451,"user_id":6179431,"display_name":"Sandi"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1637556272,"creation_date":1567421387,"answer_id":57755643,"question_id":57755536,"body_markdown":"You can use `.toBigDecimal().toPlainString()` on your `Double`. For example:\r\n\r\n```kotlin\r\nprintln(PI.toBigDecimal().toPlainString())\r\n```\r\n\r\nprints out:\r\n\r\n```\r\n3.141592653589793\r\n```","title":"Kotlin - How to convert Double to String in Kotlin without scientific notation?","body":"<p>You can use <code>.toBigDecimal().toPlainString()</code> on your <code>Double</code>. For example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>println(PI.toBigDecimal().toPlainString())\n</code></pre>\n<p>prints out:</p>\n<pre><code>3.141592653589793\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10471288,"reputation":1263,"user_id":7719064,"display_name":"Akshay Raiyani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604904733,"creation_date":1567421821,"answer_id":57755741,"question_id":57755536,"body_markdown":"You can try with this\r\n\r\n      val dou = 123456789.123456789\r\n      val df = DecimalFormat(&quot;0&quot;, DecimalFormatSymbols.getInstance(Locale.ENGLISH))\r\n      df.maximumFractionDigits = 340 // 340 = DecimalFormat.DOUBLE_FRACTION_DIGITS\r\n      val stringValue = df.format(dou)","title":"Kotlin - How to convert Double to String in Kotlin without scientific notation?","body":"<p>You can try with this</p>\n<pre><code>  val dou = 123456789.123456789\n  val df = DecimalFormat(&quot;0&quot;, DecimalFormatSymbols.getInstance(Locale.ENGLISH))\n  df.maximumFractionDigits = 340 // 340 = DecimalFormat.DOUBLE_FRACTION_DIGITS\n  val stringValue = df.format(dou)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15088793,"reputation":521,"user_id":10889271,"display_name":"Joozd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567432652,"creation_date":1567432652,"answer_id":57758224,"question_id":57755536,"body_markdown":"```&quot;${x.toLong()}${(x%1).toString().drop(1)}&quot;.take(16)```\r\n\r\nwill do the trick. Didn&#39;t find a cleaner method but I didn&#39;t look that hard as I found something that works :)\r\n\r\nAlso, a double will hold only 15-16 digits, so you will end up getting pretty random digits at the end if you make the string larger.\r\n\r\nAlso, you can always make a nice extension function of it!\r\n\r\n\r\n```fun Double.toMyString(): String = &quot;${this.toLong()}${(this%1).toString().drop(1)}&quot;.take(16)```\r\n\r\nthen just \r\n```someLongNumber.toMyString()``` to keep your code readable!\r\n","title":"Kotlin - How to convert Double to String in Kotlin without scientific notation?","body":"<p><code>\"${x.toLong()}${(x%1).toString().drop(1)}\".take(16)</code></p>\n\n<p>will do the trick. Didn't find a cleaner method but I didn't look that hard as I found something that works :)</p>\n\n<p>Also, a double will hold only 15-16 digits, so you will end up getting pretty random digits at the end if you make the string larger.</p>\n\n<p>Also, you can always make a nice extension function of it!</p>\n\n<p><code>fun Double.toMyString(): String = \"${this.toLong()}${(this%1).toString().drop(1)}\".take(16)</code></p>\n\n<p>then just \n<code>someLongNumber.toMyString()</code> to keep your code readable!</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567433106,"creation_date":1567433106,"answer_id":57758335,"question_id":57755536,"body_markdown":"    new BigDecimal(&quot;123456789.123456789&quot;).toPlainString();\r\n\r\nThis needs a bit of explanation. Floating point, `double`, has no notion of the number of decimals used; it always is an approximation, a sum of powers of 2.\r\n`BigDecimal` is fixed point. Hence a constructor with a String must be used to have specify the precision.\r\n\r\nAnd `toPlainString` avoids the scientific E-Notation.","title":"Kotlin - How to convert Double to String in Kotlin without scientific notation?","body":"<pre><code>new BigDecimal(\"123456789.123456789\").toPlainString();\n</code></pre>\n\n<p>This needs a bit of explanation. Floating point, <code>double</code>, has no notion of the number of decimals used; it always is an approximation, a sum of powers of 2.\n<code>BigDecimal</code> is fixed point. Hence a constructor with a String must be used to have specify the precision.</p>\n\n<p>And <code>toPlainString</code> avoids the scientific E-Notation.</p>\n"},{"tags":[],"owner":{"account_id":14636108,"reputation":1436,"user_id":10570201,"display_name":"nhcodes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670940299,"creation_date":1669717642,"answer_id":74612580,"question_id":57755536,"body_markdown":"I tried a lot of different approaches, but all of them had flaws. In the end I came up with this:\r\n\r\n```\r\nfun Double.toDecimalNotationString() =\r\n    String.format(&quot;%.99f&quot;, this) //convert number to string with 99 decimal places\r\n        .trimEnd(&#39;0&#39;) //remove trailing zeroes\r\n```\r\n\r\nInput:\r\n```\r\nval numbers = listOf(12300.0, 123.0, 123.123, 0.00000000123, 0.000000000000000000123, 123.000000000123)\r\nnumbers.forEach { println(it.toDecimalNotationString()) }\r\n```\r\n\r\nOutput:\r\n```\r\n12300.\r\n123.\r\n123.123\r\n0.00000000123\r\n0.000000000000000000123\r\n123.000000000123\r\n```","title":"Kotlin - How to convert Double to String in Kotlin without scientific notation?","body":"<p>I tried a lot of different approaches, but all of them had flaws. In the end I came up with this:</p>\n<pre><code>fun Double.toDecimalNotationString() =\n    String.format(&quot;%.99f&quot;, this) //convert number to string with 99 decimal places\n        .trimEnd('0') //remove trailing zeroes\n</code></pre>\n<p>Input:</p>\n<pre><code>val numbers = listOf(12300.0, 123.0, 123.123, 0.00000000123, 0.000000000000000000123, 123.000000000123)\nnumbers.forEach { println(it.toDecimalNotationString()) }\n</code></pre>\n<p>Output:</p>\n<pre><code>12300.\n123.\n123.123\n0.00000000123\n0.000000000000000000123\n123.000000000123\n</code></pre>\n"}],"owner":{"account_id":15287379,"reputation":499,"user_id":11030016,"display_name":"Damian JK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20392,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":5,"score":17,"last_activity_date":1670940299,"creation_date":1567420882,"question_id":57755536,"body_markdown":"I want to set in text view full value of Double without scientific notation (Exponential), what is best approach?\r\n\r\nI tried convert Double value using method toString() on it, but I still have scientific value.\r\n\r\n```kotlin\r\ntvDepth.text=depth.toString()\r\n```\r\n\r\n\r\nI entered value 123456789.123456789 and expect same value in textView, but instead I have:\r\n1.23456789123456789E8.\r\n\r\nI don&#39;t know how many decimal places I need, so I couldn&#39;t format it before set it in text view. I read that in Java is available static method\r\n```java\r\nDouble.toString(Double d)\r\n```\r\nbut it&#39;s not available in Kotlin. Is there any good approach to show this value correctly?","title":"Kotlin - How to convert Double to String in Kotlin without scientific notation?","body":"<p>I want to set in text view full value of Double without scientific notation (Exponential), what is best approach?</p>\n\n<p>I tried convert Double value using method toString() on it, but I still have scientific value.</p>\n\n<pre><code>tvDepth.text=depth.toString()\n</code></pre>\n\n<p>I entered value 123456789.123456789 and expect same value in textView, but instead I have:\n1.23456789123456789E8.</p>\n\n<p>I don't know how many decimal places I need, so I couldn't format it before set it in text view. I read that in Java is available static method</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Double.toString(Double d)\n</code></pre>\n\n<p>but it's not available in Kotlin. Is there any good approach to show this value correctly?</p>\n"},{"tags":["java","character-encoding"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":1,"up_vote_count":103,"is_accepted":true,"score":102,"last_activity_date":1412812401,"creation_date":1412812401,"answer_id":26268235,"question_id":26268132,"body_markdown":"You probably want to have a list of supported encodings.  For each file, try each encoding in turn, maybe starting with UTF-8.  Every time you catch the `MalformedInputException`, try the next encoding.","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>You probably want to have a list of supported encodings.  For each file, try each encoding in turn, maybe starting with UTF-8.  Every time you catch the <code>MalformedInputException</code>, try the next encoding.</p>\n"},{"tags":[],"owner":{"account_id":1961485,"reputation":3248,"user_id":1762932,"accept_rate":84,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1454737688,"creation_date":1454737688,"answer_id":35237841,"question_id":26268132,"body_markdown":"I also encountered this exception with error message, \r\n\r\n    java.nio.charset.MalformedInputException: Input length = 1\r\n\tat java.nio.charset.CoderResult.throwException(Unknown Source)\r\n\tat sun.nio.cs.StreamEncoder.implWrite(Unknown Source)\r\n\tat sun.nio.cs.StreamEncoder.write(Unknown Source)\r\n\tat java.io.OutputStreamWriter.write(Unknown Source)\r\n\tat java.io.BufferedWriter.flushBuffer(Unknown Source)\r\n\tat java.io.BufferedWriter.write(Unknown Source)\r\n\tat java.io.Writer.write(Unknown Source)\r\n\r\nand found that some strange bug occurs when trying to use\r\n \r\n    BufferedWriter writer = Files.newBufferedWriter(Paths.get(filePath));\r\n\r\nto write a String &quot;orazg\t54&quot; cast from a generic type in a class. \r\n\r\n    //key is of generic type &lt;Key extends Comparable&lt;Key&gt;&gt;\r\n    writer.write(item.getKey() + &quot;\\t&quot; + item.getValue() + &quot;\\n&quot;);\r\n\r\nThis String is of length 9 containing chars with the following code points:\r\n\r\n111\r\n114\r\n97\r\n122\r\n103\r\n9\r\n53\r\n52\r\n10\r\n\r\nHowever, if the BufferedWriter in the class is replaced with: \r\n\r\n    FileOutputStream outputStream = new FileOutputStream(filePath);\r\n\tBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(outputStream));\r\n\r\nit can successfully write this String without exceptions. In addition, if I write the same String create from the characters it still works OK.\r\n\r\n    String string = new String(new char[] {111, 114, 97, 122, 103, 9, 53, 52, 10});\r\n\tBufferedWriter writer = Files.newBufferedWriter(Paths.get(&quot;a.txt&quot;));\r\n\twriter.write(string);\r\n\twriter.close();\r\n\r\nPreviously I have never encountered any Exception when using the first BufferedWriter to write any Strings. It&#39;s a strange bug that occurs to BufferedWriter created from java.nio.file.Files.newBufferedWriter(path, options)","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>I also encountered this exception with error message, </p>\n\n<pre><code>java.nio.charset.MalformedInputException: Input length = 1\nat java.nio.charset.CoderResult.throwException(Unknown Source)\nat sun.nio.cs.StreamEncoder.implWrite(Unknown Source)\nat sun.nio.cs.StreamEncoder.write(Unknown Source)\nat java.io.OutputStreamWriter.write(Unknown Source)\nat java.io.BufferedWriter.flushBuffer(Unknown Source)\nat java.io.BufferedWriter.write(Unknown Source)\nat java.io.Writer.write(Unknown Source)\n</code></pre>\n\n<p>and found that some strange bug occurs when trying to use</p>\n\n<pre><code>BufferedWriter writer = Files.newBufferedWriter(Paths.get(filePath));\n</code></pre>\n\n<p>to write a String \"orazg    54\" cast from a generic type in a class. </p>\n\n<pre><code>//key is of generic type &lt;Key extends Comparable&lt;Key&gt;&gt;\nwriter.write(item.getKey() + \"\\t\" + item.getValue() + \"\\n\");\n</code></pre>\n\n<p>This String is of length 9 containing chars with the following code points:</p>\n\n<p>111\n114\n97\n122\n103\n9\n53\n52\n10</p>\n\n<p>However, if the BufferedWriter in the class is replaced with: </p>\n\n<pre><code>FileOutputStream outputStream = new FileOutputStream(filePath);\nBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(outputStream));\n</code></pre>\n\n<p>it can successfully write this String without exceptions. In addition, if I write the same String create from the characters it still works OK.</p>\n\n<pre><code>String string = new String(new char[] {111, 114, 97, 122, 103, 9, 53, 52, 10});\nBufferedWriter writer = Files.newBufferedWriter(Paths.get(\"a.txt\"));\nwriter.write(string);\nwriter.close();\n</code></pre>\n\n<p>Previously I have never encountered any Exception when using the first BufferedWriter to write any Strings. It's a strange bug that occurs to BufferedWriter created from java.nio.file.Files.newBufferedWriter(path, options)</p>\n"},{"tags":[],"owner":{"account_id":6189920,"reputation":2014,"user_id":4822884,"accept_rate":60,"display_name":"francesco foresti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456158067,"creation_date":1456158067,"answer_id":35558651,"question_id":26268132,"body_markdown":"Well, the problem is that `Files.newBufferedReader(Path path)` is implemented like this :\r\n\r\n    public static BufferedReader newBufferedReader(Path path) throws IOException {\r\n        return newBufferedReader(path, StandardCharsets.UTF_8);\r\n    }\r\n\r\nso basically there is no point in specifying `UTF-8` unless you want to be descriptive in your code. \r\nIf you want to try a &quot;broader&quot; charset you could try with `StandardCharsets.UTF_16`, but you can&#39;t be 100% sure to get every possible character anyway.","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>Well, the problem is that <code>Files.newBufferedReader(Path path)</code> is implemented like this :</p>\n\n<pre><code>public static BufferedReader newBufferedReader(Path path) throws IOException {\n    return newBufferedReader(path, StandardCharsets.UTF_8);\n}\n</code></pre>\n\n<p>so basically there is no point in specifying <code>UTF-8</code> unless you want to be descriptive in your code. \nIf you want to try a \"broader\" charset you could try with <code>StandardCharsets.UTF_16</code>, but you can't be 100% sure to get every possible character anyway.</p>\n"},{"tags":[],"owner":{"account_id":10480298,"reputation":11,"user_id":7725491,"display_name":"Pengxiang"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1525077306,"creation_date":1489732818,"answer_id":42850842,"question_id":26268132,"body_markdown":"you can try something like this, or just copy and past below piece.\r\n\r\n   \tboolean exception = true;\r\n\tCharset charset = Charset.defaultCharset(); //Try the default one first.\t\t\r\n\tint index = 0;\r\n\t\t\r\n\twhile(exception) {\r\n\t\ttry {\r\n\t\t\tlines = Files.readAllLines(f.toPath(),charset);\r\n\t          for (String line: lines) {\r\n\t        \t  line= line.trim();\r\n\t        \t  if(line.contains(keyword))\r\n\t        \t\t  values.add(line);\r\n\t        \t  }\t          \r\n\t        //No exception, just returns\r\n\t\t\texception = false; \r\n\t\t} catch (IOException e) {\r\n\t\t\texception = true;\r\n\t\t\t//Try the next charset\r\n\t\t\tif(index&lt;Charset.availableCharsets().values().size())\r\n\t\t\t\tcharset = (Charset) Charset.availableCharsets().values().toArray()[index];\r\n\t\t\tindex ++;\r\n\t\t}\r\n\t}","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>you can try something like this, or just copy and past below piece.</p>\n\n<pre><code>boolean exception = true;\nCharset charset = Charset.defaultCharset(); //Try the default one first.        \nint index = 0;\n\nwhile(exception) {\n    try {\n        lines = Files.readAllLines(f.toPath(),charset);\n          for (String line: lines) {\n              line= line.trim();\n              if(line.contains(keyword))\n                  values.add(line);\n              }           \n        //No exception, just returns\n        exception = false; \n    } catch (IOException e) {\n        exception = true;\n        //Try the next charset\n        if(index&lt;Charset.availableCharsets().values().size())\n            charset = (Charset) Charset.availableCharsets().values().toArray()[index];\n        index ++;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6844693,"reputation":571,"user_id":5263864,"display_name":"Xin Wang"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1492412557,"creation_date":1492412557,"answer_id":43446789,"question_id":26268132,"body_markdown":"Creating BufferedReader from Files.newBufferedReader \r\n\r\n    Files.newBufferedReader(Paths.get(&quot;a.txt&quot;), StandardCharsets.UTF_8);\r\n\r\nwhen running the application it may throw the following exception:\r\n\r\n    java.nio.charset.MalformedInputException: Input length = 1\r\n\r\nBut\r\n\r\n    new BufferedReader(new InputStreamReader(new FileInputStream(&quot;a.txt&quot;),&quot;utf-8&quot;));\r\n\r\nworks well.\r\n\r\n\r\nThe different is that, the former uses CharsetDecoder default action.\r\n\r\n&gt; The default action for malformed-input and unmappable-character errors is to **report** them.\r\n\r\nwhile the latter uses the REPLACE action.\r\n\r\n    cs.newDecoder().onMalformedInput(CodingErrorAction.REPLACE).onUnmappableCharacter(CodingErrorAction.REPLACE)\r\n\r\n\r\n","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>Creating BufferedReader from Files.newBufferedReader </p>\n\n<pre><code>Files.newBufferedReader(Paths.get(\"a.txt\"), StandardCharsets.UTF_8);\n</code></pre>\n\n<p>when running the application it may throw the following exception:</p>\n\n<pre><code>java.nio.charset.MalformedInputException: Input length = 1\n</code></pre>\n\n<p>But</p>\n\n<pre><code>new BufferedReader(new InputStreamReader(new FileInputStream(\"a.txt\"),\"utf-8\"));\n</code></pre>\n\n<p>works well.</p>\n\n<p>The different is that, the former uses CharsetDecoder default action.</p>\n\n<blockquote>\n  <p>The default action for malformed-input and unmappable-character errors is to <strong>report</strong> them.</p>\n</blockquote>\n\n<p>while the latter uses the REPLACE action.</p>\n\n<pre><code>cs.newDecoder().onMalformedInput(CodingErrorAction.REPLACE).onUnmappableCharacter(CodingErrorAction.REPLACE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4475689,"reputation":1215,"user_id":3640867,"accept_rate":60,"display_name":"EngineerWithJava54321"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1525077218,"creation_date":1493150121,"answer_id":43619832,"question_id":26268132,"body_markdown":"I wrote the following to print a list of results to standard out based on available charsets.  Note that it also tells you what line fails from a 0 based line number in case you are troubleshooting what character is causing issues.\r\n\r\n  \tpublic static void testCharset(String fileName) {\r\n\t\tSortedMap&lt;String, Charset&gt; charsets = Charset.availableCharsets();\r\n\t\tfor (String k : charsets.keySet()) {\r\n\t\t\tint line = 0;\r\n\t\t\tboolean success = true;\r\n\t\t\ttry (BufferedReader b = Files.newBufferedReader(Paths.get(fileName),charsets.get(k))) {\r\n\t\t\t\twhile (b.ready()) {\r\n\t\t\t\t\tb.readLine();\r\n\t\t\t\t\tline++;\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tsuccess = false;\r\n\t\t\t\tSystem.out.println(k+&quot; failed on line &quot;+line);\r\n\t\t\t}\r\n\t\t\tif (success) \r\n                System.out.println(&quot;*************************  Successs &quot;+k);\r\n\t\t}\r\n\t}\r\n\t","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>I wrote the following to print a list of results to standard out based on available charsets.  Note that it also tells you what line fails from a 0 based line number in case you are troubleshooting what character is causing issues.</p>\n\n<pre><code>public static void testCharset(String fileName) {\n    SortedMap&lt;String, Charset&gt; charsets = Charset.availableCharsets();\n    for (String k : charsets.keySet()) {\n        int line = 0;\n        boolean success = true;\n        try (BufferedReader b = Files.newBufferedReader(Paths.get(fileName),charsets.get(k))) {\n            while (b.ready()) {\n                b.readLine();\n                line++;\n            }\n        } catch (IOException e) {\n            success = false;\n            System.out.println(k+\" failed on line \"+line);\n        }\n        if (success) \n            System.out.println(\"*************************  Successs \"+k);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6328,"reputation":10132,"user_id":10592,"accept_rate":79,"display_name":"Tim Cooper"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1506932956,"creation_date":1496025618,"answer_id":44233948,"question_id":26268132,"body_markdown":"ISO-8859-1 is an all-inclusive charset, in the sense that it&#39;s guaranteed not to throw MalformedInputException. So it&#39;s good for debugging, even if your input is not in this charset.  So:-\r\n\r\n    req.setCharacterEncoding(&quot;ISO-8859-1&quot;);\r\n\r\nI had some double-right-quote/double-left-quote characters in my input, and both US-ASCII and UTF-8 threw MalformedInputException on them, but ISO-8859-1 worked.","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>ISO-8859-1 is an all-inclusive charset, in the sense that it's guaranteed not to throw MalformedInputException. So it's good for debugging, even if your input is not in this charset.  So:-</p>\n\n<pre><code>req.setCharacterEncoding(\"ISO-8859-1\");\n</code></pre>\n\n<p>I had some double-right-quote/double-left-quote characters in my input, and both US-ASCII and UTF-8 threw MalformedInputException on them, but ISO-8859-1 worked.</p>\n"},{"tags":[],"owner":{"account_id":13672251,"reputation":81,"user_id":9864664,"display_name":"Vin"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1527600772,"creation_date":1527600772,"answer_id":50585702,"question_id":26268132,"body_markdown":"try this.. i had the same issue, below implementation worked for me\r\n\r\n    Reader reader = Files.newBufferedReader(Paths.get(&lt;yourfilewithpath&gt;), StandardCharsets.ISO_8859_1);\r\n\r\nthen use Reader where ever you want.\r\n\r\nforeg:\r\n\r\n\r\n    CsvToBean&lt;anyPojo&gt; csvToBean = null;\r\n        try {\r\n            Reader reader = Files.newBufferedReader(Paths.get(csvFilePath), \r\n                            StandardCharsets.ISO_8859_1);\r\n            csvToBean = new CsvToBeanBuilder(reader)\r\n                    .withType(anyPojo.class)\r\n                    .withIgnoreLeadingWhiteSpace(true)\r\n                    .withSkipLines(1)\r\n                    .build();\r\n    \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>try this.. i had the same issue, below implementation worked for me</p>\n\n<pre><code>Reader reader = Files.newBufferedReader(Paths.get(&lt;yourfilewithpath&gt;), StandardCharsets.ISO_8859_1);\n</code></pre>\n\n<p>then use Reader where ever you want.</p>\n\n<p>foreg:</p>\n\n<pre><code>CsvToBean&lt;anyPojo&gt; csvToBean = null;\n    try {\n        Reader reader = Files.newBufferedReader(Paths.get(csvFilePath), \n                        StandardCharsets.ISO_8859_1);\n        csvToBean = new CsvToBeanBuilder(reader)\n                .withType(anyPojo.class)\n                .withIgnoreLeadingWhiteSpace(true)\n                .withSkipLines(1)\n                .build();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12898503,"reputation":2596,"user_id":9328117,"display_name":"Shahid Hussain Abbasi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1540547417,"creation_date":1540547417,"answer_id":53006021,"question_id":26268132,"body_markdown":"ISO_8859_1 Worked for me! I was reading text file with comma separated values","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>ISO_8859_1 Worked for me! I was reading text file with comma separated values</p>\n"},{"tags":[],"owner":{"account_id":10142585,"reputation":904,"user_id":7491837,"accept_rate":49,"display_name":"Adriano"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1564568686,"creation_date":1564568686,"answer_id":57288585,"question_id":26268132,"body_markdown":"UTF-8 works for me with Polish characters","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>UTF-8 works for me with Polish characters</p>\n"},{"tags":[],"owner":{"account_id":2229031,"reputation":757,"user_id":1967127,"display_name":"Johannes Stadler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670940185,"creation_date":1670940185,"answer_id":74786064,"question_id":26268132,"body_markdown":"Adding an additional answer for quarkus mailer and qute templates, as this is always the first result in google no matter what parts of the stack trace I searched for:\r\n\r\nIf you&#39;re using quarkus mailer and a qute template and get this `MalformedInputException` check if your templates folder contains other files than template files. In my case I had a `.png` file that I wanted to include in the mail and that was automatically read as template, therefore this encoding issue appeared.","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>Adding an additional answer for quarkus mailer and qute templates, as this is always the first result in google no matter what parts of the stack trace I searched for:</p>\n<p>If you're using quarkus mailer and a qute template and get this <code>MalformedInputException</code> check if your templates folder contains other files than template files. In my case I had a <code>.png</code> file that I wanted to include in the mail and that was automatically read as template, therefore this encoding issue appeared.</p>\n"}],"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225640,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":26268235,"answer_count":11,"score":126,"last_activity_date":1670940185,"creation_date":1412811692,"question_id":26268132,"body_markdown":"I&#39;m creating a simple wordcount program in Java that reads through a directory&#39;s text-based files.\r\n\r\nHowever, I keep on getting the error:\r\n\r\n    java.nio.charset.MalformedInputException: Input length = 1\r\n\r\nfrom this line of code:\r\n\r\n    BufferedReader reader = Files.newBufferedReader(file,Charset.forName(&quot;UTF-8&quot;));\r\n\r\nI know I probably get this because I used a `Charset` that didn&#39;t include some of the characters in the text files, some of which included characters of other languages. But I want to include those characters.\r\n\r\nI later learned at the [JavaDocs](http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#newBufferedReader-java.nio.file.Path-) that the `Charset` is optional and only used for a more efficient reading of the files, so I changed the code to:\r\n\r\n    BufferedReader reader = Files.newBufferedReader(file);\r\n\r\nBut some files still throw the `MalformedInputException`. I don&#39;t know why.\r\n\r\n**I was wondering if there is an all-inclusive `Charset` that will allow me to read text files with many different types of characters**?\r\n\r\nThanks.","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>I'm creating a simple wordcount program in Java that reads through a directory's text-based files.</p>\n\n<p>However, I keep on getting the error:</p>\n\n<pre><code>java.nio.charset.MalformedInputException: Input length = 1\n</code></pre>\n\n<p>from this line of code:</p>\n\n<pre><code>BufferedReader reader = Files.newBufferedReader(file,Charset.forName(\"UTF-8\"));\n</code></pre>\n\n<p>I know I probably get this because I used a <code>Charset</code> that didn't include some of the characters in the text files, some of which included characters of other languages. But I want to include those characters.</p>\n\n<p>I later learned at the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#newBufferedReader-java.nio.file.Path-\">JavaDocs</a> that the <code>Charset</code> is optional and only used for a more efficient reading of the files, so I changed the code to:</p>\n\n<pre><code>BufferedReader reader = Files.newBufferedReader(file);\n</code></pre>\n\n<p>But some files still throw the <code>MalformedInputException</code>. I don't know why.</p>\n\n<p><strong>I was wondering if there is an all-inclusive <code>Charset</code> that will allow me to read text files with many different types of characters</strong>?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","http","web-services","soap","wsdl"],"owner":{"account_id":15915692,"reputation":1,"user_id":11484327,"display_name":"Vadym "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670940171,"creation_date":1670940171,"question_id":74786057,"body_markdown":"I have test.wsdl, and generate Java code for this test.wsdl.\r\nAfter generate code, i have many classes and interface:\r\n\r\n```\r\n@XmlSeeAlso({ObjectFactory.class, comTest.cxf.test.hdr.ObjectFactory.class})\r\n@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\r\npublic interface Test{\r\n\r\n@WebMethod(operationName = &quot;GetData&quot;, action = &quot;GET_DATA&quot;)\r\n@WebResult(name = &quot;GET_DATA_RESPONSE&quot;, targetNamespace = &quot;&quot;, partName = &quot;part1&quot;)\r\npublic GETDATARESPONSE getData(\r\n\r\n    @WebParam(partName = &quot;part1&quot;, name = &quot;GET_DATA_REQUEST&quot;, targetNamespace = &quot;&quot;)\r\n    GETDATAREQUEST part1\r\n);\r\n\r\n}\r\n```\r\n\r\nAnd when i call this method getData with params GETDATAREQUEST, service create request with body in my  GETDATAREQUEST params, but without header. And header which i need contains in class comTest.cxf.test.hdr.ObjectFactory.class. I think important annotation @XmlSeeAlso, but don&#39;t know how realise this...and binding ObjectFactory with GETDATAREQUEST\r\n\r\n\r\n\r\n\r\ni implements interface Test in TestImpl and add in this class fields comTest.cxf.test.hdr.ObjectFactory.class, but when i want get ServicesHttpPort which created wsdl, this service return interface type Test//\r\n\r\nI think important annotation @XmlSeeAlso, but don&#39;t know how realise this...and binding ObjectFactory with GETDATAREQUEST\r\n","title":"How add in request header in code generate wsdl","body":"<p>I have test.wsdl, and generate Java code for this test.wsdl.\nAfter generate code, i have many classes and interface:</p>\n<pre><code>@XmlSeeAlso({ObjectFactory.class, comTest.cxf.test.hdr.ObjectFactory.class})\n@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\npublic interface Test{\n\n@WebMethod(operationName = &quot;GetData&quot;, action = &quot;GET_DATA&quot;)\n@WebResult(name = &quot;GET_DATA_RESPONSE&quot;, targetNamespace = &quot;&quot;, partName = &quot;part1&quot;)\npublic GETDATARESPONSE getData(\n\n    @WebParam(partName = &quot;part1&quot;, name = &quot;GET_DATA_REQUEST&quot;, targetNamespace = &quot;&quot;)\n    GETDATAREQUEST part1\n);\n\n}\n</code></pre>\n<p>And when i call this method getData with params GETDATAREQUEST, service create request with body in my  GETDATAREQUEST params, but without header. And header which i need contains in class comTest.cxf.test.hdr.ObjectFactory.class. I think important annotation @XmlSeeAlso, but don't know how realise this...and binding ObjectFactory with GETDATAREQUEST</p>\n<p>i implements interface Test in TestImpl and add in this class fields comTest.cxf.test.hdr.ObjectFactory.class, but when i want get ServicesHttpPort which created wsdl, this service return interface type Test//</p>\n<p>I think important annotation @XmlSeeAlso, but don't know how realise this...and binding ObjectFactory with GETDATAREQUEST</p>\n"},{"tags":["java","c#","android","unity-game-engine"],"comments":[{"owner":{"account_id":10320707,"reputation":1766,"user_id":7613702,"display_name":"pale bone"},"score":0,"creation_date":1535657785,"post_id":52101948,"comment_id":91159530,"body_markdown":"I can use `ByteArrayOutputStream out = new ByteArrayOutputStream();\nbitmap.compress(Bitmap.CompressFormat.PNG, 100, out);` but I&#39;m assuming this will take extra computation on both sides, gotta check if that&#39;s true when quality is 100","body":"I can use <code>ByteArrayOutputStream out = new ByteArrayOutputStream(); bitmap.compress(Bitmap.CompressFormat.PNG, 100, out);</code> but I&#39;m assuming this will take extra computation on both sides, gotta check if that&#39;s true when quality is 100"}],"answers":[{"tags":[],"owner":{"account_id":4210675,"reputation":836,"user_id":3448475,"display_name":"Tubeliar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670940129,"creation_date":1670940129,"answer_id":74786051,"question_id":52101948,"body_markdown":"I was trying to do the exact same thing and my initial attempts also had a black texture. I do the array conversion with AndroidJNIHelper.ConvertFromJNIArray like you do except I used sbyte[] instead of byte[]. To set the actual image data I ended up using\r\n\r\n    imageTexture2D.SetPixelData(bytes, 0);\r\n\r\nIf I&#39;m not mistaken LoadRawTextureData is even rawer than an array of pixel data, it might be how graphics cards store textures with compression. If that is true then raw pixel data isn&#39;t in the right format and it can&#39;t be decoded.","title":"Android bitmap image to Unity C# texture","body":"<p>I was trying to do the exact same thing and my initial attempts also had a black texture. I do the array conversion with AndroidJNIHelper.ConvertFromJNIArray like you do except I used sbyte[] instead of byte[]. To set the actual image data I ended up using</p>\n<pre><code>imageTexture2D.SetPixelData(bytes, 0);\n</code></pre>\n<p>If I'm not mistaken LoadRawTextureData is even rawer than an array of pixel data, it might be how graphics cards store textures with compression. If that is true then raw pixel data isn't in the right format and it can't be decoded.</p>\n"}],"owner":{"account_id":10320707,"reputation":1766,"user_id":7613702,"display_name":"pale bone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1468,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1670940129,"creation_date":1535647405,"question_id":52101948,"body_markdown":"I&#39;m in the draw loop of an android view:\r\n\r\n            Bitmap bitmap = Bitmap.createBitmap(this.getWidth(), \r\n            this.getHeight(), Bitmap.Config.ARGB_4444);\r\n            Canvas newCanvas = new Canvas(bitmap);\r\n            super.draw(newCanvas);\r\n            Log.d(&quot;AndroidUnity&quot;,&quot;Canvas Drawn!&quot;);\r\n            mImageView.setImageBitmap(bitmap);\r\n\r\nAnd the above code shows me the **correct** drawing on the attached Image Viewer.\r\n\r\nWhen I convert the bitmap to a byte array:\r\n\r\n            ByteBuffer byteBuffer = ByteBuffer.allocate(bitmap.getByteCount());\r\n            bitmap.copyPixelsToBuffer(byteBuffer);\r\n            byte[] bytes = byteBuffer.array();\r\n\r\nimporting the bytes into Unity does not work (shows a black image on my rawimage):\r\n            \r\n            \r\n\r\n            imageTexture2D = new Texture2D(width, height, TextureFormat.ARGB4444, false);\r\n            imageTexture2D.LoadRawTextureData(bytes);\r\n            imageTexture2D.Apply();\r\n            RawImage.texture = imageTexture2D;\r\n\r\nAny ideas on how to get the Java bytes[] to display as a texture/image in Unity? I&#39;ve tested that the bytes are sending correctly, i.e. when I push a byte array of {1,2,3,4} from android, I get {1,2,3,4} on the unity side.\r\n\r\nthis isn&#39;t mentioning that Unity throws an error when trying to transfer the bytes as a byte[], so instead I have to follow [this][1] advice, on the C# side:\r\n        \r\n\r\n    void ReceieveAndroidBytes(AndroidJavaObject jo){\r\n    AndroidJavaObject bufferObject = jo.Get&lt;AndroidJavaObject&gt;(&quot;Buffer&quot;);\r\n    byte[] bytes = AndroidJNIHelper.ConvertFromJNIArray&lt;byte[]&gt;(bufferObject.GetRawObject()); }\r\n\r\nand a trivial byte[] container class &quot;Buffer&quot; on the java side\r\n\r\n  [1]: https://forum.unity.com/threads/androidjavaproxy-lang-reflect-array-exception.257348/\r\n","title":"Android bitmap image to Unity C# texture","body":"<p>I'm in the draw loop of an android view:</p>\n\n<pre><code>        Bitmap bitmap = Bitmap.createBitmap(this.getWidth(), \n        this.getHeight(), Bitmap.Config.ARGB_4444);\n        Canvas newCanvas = new Canvas(bitmap);\n        super.draw(newCanvas);\n        Log.d(\"AndroidUnity\",\"Canvas Drawn!\");\n        mImageView.setImageBitmap(bitmap);\n</code></pre>\n\n<p>And the above code shows me the <strong>correct</strong> drawing on the attached Image Viewer.</p>\n\n<p>When I convert the bitmap to a byte array:</p>\n\n<pre><code>        ByteBuffer byteBuffer = ByteBuffer.allocate(bitmap.getByteCount());\n        bitmap.copyPixelsToBuffer(byteBuffer);\n        byte[] bytes = byteBuffer.array();\n</code></pre>\n\n<p>importing the bytes into Unity does not work (shows a black image on my rawimage):</p>\n\n<pre><code>        imageTexture2D = new Texture2D(width, height, TextureFormat.ARGB4444, false);\n        imageTexture2D.LoadRawTextureData(bytes);\n        imageTexture2D.Apply();\n        RawImage.texture = imageTexture2D;\n</code></pre>\n\n<p>Any ideas on how to get the Java bytes[] to display as a texture/image in Unity? I've tested that the bytes are sending correctly, i.e. when I push a byte array of {1,2,3,4} from android, I get {1,2,3,4} on the unity side.</p>\n\n<p>this isn't mentioning that Unity throws an error when trying to transfer the bytes as a byte[], so instead I have to follow <a href=\"https://forum.unity.com/threads/androidjavaproxy-lang-reflect-array-exception.257348/\" rel=\"nofollow noreferrer\">this</a> advice, on the C# side:</p>\n\n<pre><code>void ReceieveAndroidBytes(AndroidJavaObject jo){\nAndroidJavaObject bufferObject = jo.Get&lt;AndroidJavaObject&gt;(\"Buffer\");\nbyte[] bytes = AndroidJNIHelper.ConvertFromJNIArray&lt;byte[]&gt;(bufferObject.GetRawObject()); }\n</code></pre>\n\n<p>and a trivial byte[] container class \"Buffer\" on the java side</p>\n"},{"tags":["java","owasp","maven-dependency-check-plugin"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1670841417,"post_id":74769713,"comment_id":131958531,"body_markdown":"You should read the CVEs that are mentioned at the end of each line. They usually contain the needed remediation.","body":"You should read the CVEs that are mentioned at the end of each line. They usually contain the needed remediation."}],"answers":[{"tags":[],"owner":{"account_id":264733,"reputation":1602,"user_id":1961779,"accept_rate":100,"display_name":"Adrian B."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670841655,"creation_date":1670841213,"answer_id":74769762,"question_id":74769713,"body_markdown":"We don&#39;t have sufficient context for this, so I&#39;m going to assume we&#39;re talking about Maven and it&#39;s [dependency check plugin][1].\r\n\r\nAny dependency found to be problematic. Use [Mvn Repo][2] to identify newer (not vulnerable) libs. I&#39;ve added as an example the scala lib, and you can see a column with known vulnerabilities for it. pick one that is not vulnerable and update your pom.xml file with it. If you notive that Maven does not update the dependency based on whatever version you supply, it could be that you&#39;re getting a transitive dependency from somewhere else that&#39;s overriding you. to discover it, you can use `mvn dependency:tree` in a command line to see from where each version is resolved. And, if there&#39;s no other option, look into using [dependencyManagement][3] in your pom.xml to impose a specific version.\r\n\r\nThere is also the case that there is no vulnerability-free version available, in which case, you should either replace the library, or, if it&#39;s an acceptable risk, look into using suppression files (see example 7 in the plugin link above) for that particular CVE. \r\n\r\n[nvd.nist.gov][4] is a very good site where you can find details about each individual CVE. You can find the CVE number at the end of each finding in your report. Search for it on this website and it should tell you if there is any special remediation to be done or even how to reproduce to find out if you&#39;re vulnerable.\r\n\r\n\r\n  [1]: https://jeremylong.github.io/DependencyCheck/dependency-check-maven/\r\n  [2]: https://mvnrepository.com/artifact/org.scala-lang/scala-library\r\n  [3]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\r\n  [4]: https://nvd.nist.gov/vuln/detail/CVE-2022-41946","title":"What to do when Owasp dependency finds vulnerabilities","body":"<p>We don't have sufficient context for this, so I'm going to assume we're talking about Maven and it's <a href=\"https://jeremylong.github.io/DependencyCheck/dependency-check-maven/\" rel=\"nofollow noreferrer\">dependency check plugin</a>.</p>\n<p>Any dependency found to be problematic. Use <a href=\"https://mvnrepository.com/artifact/org.scala-lang/scala-library\" rel=\"nofollow noreferrer\">Mvn Repo</a> to identify newer (not vulnerable) libs. I've added as an example the scala lib, and you can see a column with known vulnerabilities for it. pick one that is not vulnerable and update your pom.xml file with it. If you notive that Maven does not update the dependency based on whatever version you supply, it could be that you're getting a transitive dependency from somewhere else that's overriding you. to discover it, you can use <code>mvn dependency:tree</code> in a command line to see from where each version is resolved. And, if there's no other option, look into using <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"nofollow noreferrer\">dependencyManagement</a> in your pom.xml to impose a specific version.</p>\n<p>There is also the case that there is no vulnerability-free version available, in which case, you should either replace the library, or, if it's an acceptable risk, look into using suppression files (see example 7 in the plugin link above) for that particular CVE.</p>\n<p><a href=\"https://nvd.nist.gov/vuln/detail/CVE-2022-41946\" rel=\"nofollow noreferrer\">nvd.nist.gov</a> is a very good site where you can find details about each individual CVE. You can find the CVE number at the end of each finding in your report. Search for it on this website and it should tell you if there is any special remediation to be done or even how to reproduce to find out if you're vulnerable.</p>\n"}],"owner":{"account_id":27227436,"reputation":21,"user_id":20755725,"display_name":"Vignesh Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670939888,"creation_date":1670840945,"question_id":74769713,"body_markdown":"I want to ask, that what to do when Owasp dependency-check finds vulnerabilities. \r\n\r\nI&#39;ve recently deployed to a project and I&#39;m a fresher, so I don&#39;t know what to do. \r\n\r\nI&#39;ve got a list of dependency those are vulnerabilities so how to find the stable one so that I can update that.\r\n\r\nHere is the error.\r\n\r\n\r\n```\r\nOne or more dependencies were identified with known vulnerabilities in &lt;Project-name&gt;:\r\n\r\ncommons-beanutils-1.9.4.jar (pkg:maven/commons-beanutils/commons-beanutils@1.9.4, cpe:2.3:a:apache:commons_beanutils:1.9.4:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:1.9.4:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-cli-1.4.jar (pkg:maven/commons-cli/commons-cli@1.4, cpe:2.3:a:apache:commons_net:1.4:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-codec-1.11.jar (pkg:maven/commons-codec/commons-codec@1.11, cpe:2.3:a:apache:commons_net:1.11:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-codec-1.15.jar (pkg:maven/commons-codec/commons-codec@1.15, cpe:2.3:a:apache:commons_net:1.15:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-collections-3.2.2.jar (pkg:maven/commons-collections/commons-collections@3.2.2, cpe:2.3:a:apache:commons_collections:3.2.2:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:3.2.2:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-fileupload-1.4.jar (pkg:maven/commons-fileupload/commons-fileupload@1.4, cpe:2.3:a:apache:commons_fileupload:1.4:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:1.4:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-io-2.6.jar (pkg:maven/commons-io/commons-io@2.6, cpe:2.3:a:apache:commons_net:2.6:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-io-2.7.jar (pkg:maven/commons-io/commons-io@2.7, cpe:2.3:a:apache:commons_io:2.7:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:2.7:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-lang-2.4.jar (pkg:maven/commons-lang/commons-lang@2.4, cpe:2.3:a:apache:commons_net:2.4:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-logging-1.2.jar (pkg:maven/commons-logging/commons-logging@1.2, cpe:2.3:a:apache:commons_net:1.2:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-text-1.7.jar (pkg:maven/org.apache.commons/commons-text@1.7, cpe:2.3:a:apache:commons_net:1.7:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_text:1.7:*:*:*:*:*:*:*) : CVE-2021-37533, CVE-2022-42889\r\njackson-databind-2.11.4.jar (pkg:maven/com.fasterxml.jackson.core/jackson-databind@2.11.4, cpe:2.3:a:fasterxml:jackson-databind:2.11.4:*:*:*:*:*:*:*) : CVE-2022-42003, CVE-2022-42004\r\nlang-tag-1.4.4.jar (pkg:maven/com.nimbusds/lang-tag@1.4.4, cpe:2.3:a:nim-lang:nim-lang:1.4.4:*:*:*:*:*:*:*, cpe:2.3:a:tag_project:tag:1.4.4:*:*:*:*:*:*:*) : CVE-2020-29242, CVE-2020-29243, CVE-2020-29244, CVE-2020-29245\r\nlogstash-logback-encoder-5.3.jar/META-INF/maven/commons-lang/commons-lang/pom.xml (pkg:maven/commons-lang/commons-lang@2.6, cpe:2.3:a:apache:commons_net:2.6:*:*:*:*:*:*:*) : CVE-2021-37533\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-buffer/pom.xml (pkg:maven/io.netty/netty-buffer@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec-dns/pom.xml (pkg:maven/io.netty/netty-codec-dns@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec-http/pom.xml (pkg:maven/io.netty/netty-codec-http@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec-socks/pom.xml (pkg:maven/io.netty/netty-codec-socks@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec/pom.xml (pkg:maven/io.netty/netty-codec@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-common/pom.xml (pkg:maven/io.netty/netty-common@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-handler-proxy/pom.xml (pkg:maven/io.netty/netty-handler-proxy@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-handler/pom.xml (pkg:maven/io.netty/netty-handler@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver-dns-classes-macos/pom.xml (pkg:maven/io.netty/netty-resolver-dns-classes-macos@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver-dns-native-macos/pom.xml (pkg:maven/io.netty/netty-resolver-dns-native-macos@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver-dns/pom.xml (pkg:maven/io.netty/netty-resolver-dns@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver/pom.xml (pkg:maven/io.netty/netty-resolver@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport-classes-epoll/pom.xml (pkg:maven/io.netty/netty-transport-classes-epoll@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport-native-epoll/pom.xml (pkg:maven/io.netty/netty-transport-native-epoll@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport-native-unix-common/pom.xml (pkg:maven/io.netty/netty-transport-native-unix-common@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport/pom.xml (pkg:maven/io.netty/netty-transport@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\npostgresql-42.2.18.jar (pkg:maven/org.postgresql/postgresql@42.2.18, cpe:2.3:a:postgresql:postgresql:42.2.18:*:*:*:*:*:*:*, cpe:2.3:a:postgresql:postgresql_jdbc_driver:42.2.18:*:*:*:*:*:*:*) : CVE-2022-31197, CVE-2022-41946\r\nscala-library-2.13.4.jar (pkg:maven/org.scala-lang/scala-library@2.13.4, cpe:2.3:a:scala-lang:scala:2.13.4:*:*:*:*:*:*:*) : CVE-2022-36944\r\nscala-reflect-2.13.2.jar (pkg:maven/org.scala-lang/scala-reflect@2.13.2, cpe:2.3:a:scala-lang:scala:2.13.2:*:*:*:*:*:*:*) : CVE-2022-36944\r\nsnakeyaml-1.27.jar (pkg:maven/org.yaml/snakeyaml@1.27, cpe:2.3:a:snakeyaml_project:snakeyaml:1.27:*:*:*:*:*:*:*, cpe:2.3:a:yaml_project:yaml:1.27:*:*:*:*:*:*:*) : CVE-2022-25857, CVE-2022-38749, CVE-2022-38750, CVE-2022-38751, CVE-2022-38752, CVE-2022-41854\r\nspring-security-config-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-config@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\r\nspring-security-core-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-core@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\r\nspring-security-crypto-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-crypto@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\r\nspring-security-web-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-web@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\r\ntomcat-embed-core-9.0.54.jar (pkg:maven/org.apache.tomcat.embed/tomcat-embed-core@9.0.54, cpe:2.3:a:apache:tomcat:9.0.54:*:*:*:*:*:*:*, cpe:2.3:a:apache_tomcat:apache_tomcat:9.0.54:*:*:*:*:*:*:*) : CVE-2021-43980, CVE-2022-34305, CVE-2022-42252\r\ntomcat-embed-websocket-9.0.55.jar (pkg:maven/org.apache.tomcat.embed/tomcat-embed-websocket@9.0.55, cpe:2.3:a:apache:tomcat:9.0.55:*:*:*:*:*:*:*, cpe:2.3:a:apache_tomcat:apache_tomcat:9.0.55:*:*:*:*:*:*:*) : CVE-2021-43980, CVE-2022-34305, CVE-2022-42252\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/com.fasterxml.jackson.core/jackson-databind/pom.xml (pkg:maven/com.fasterxml.jackson.core/jackson-databind@2.12.3, cpe:2.3:a:fasterxml:jackson-databind:2.12.3:*:*:*:*:*:*:*) : CVE-2022-42003, CVE-2022-42004\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/commons-io/commons-io/pom.xml (pkg:maven/commons-io/commons-io@2.9.0, cpe:2.3:a:apache:commons_io:2.9.0:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:2.9.0:*:*:*:*:*:*:*) : CVE-2021-37533\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.apache.commons/commons-lang3/pom.xml (pkg:maven/org.apache.commons/commons-lang3@3.8.1, cpe:2.3:a:apache:commons_net:3.8.1:*:*:*:*:*:*:*) : CVE-2021-37533\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.apache.commons/commons-text/pom.xml (pkg:maven/org.apache.commons/commons-text@1.6, cpe:2.3:a:apache:commons_net:1.6:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_text:1.6:*:*:*:*:*:*:*) : CVE-2021-37533, CVE-2022-42889\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty.http2/http2-common/pom.xml (pkg:maven/org.eclipse.jetty.http2/http2-common@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty.http2/http2-server/pom.xml (pkg:maven/org.eclipse.jetty.http2/http2-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty_http_server:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-client/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-client@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-conscrypt-client/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-conscrypt-client@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-conscrypt-server/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-conscrypt-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-server/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-client/pom.xml (pkg:maven/org.eclipse.jetty/jetty-client@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-continuation/pom.xml (pkg:maven/org.eclipse.jetty/jetty-continuation@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-http/pom.xml (pkg:maven/org.eclipse.jetty/jetty-http@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-security/pom.xml (pkg:maven/org.eclipse.jetty/jetty-security@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-server/pom.xml (pkg:maven/org.eclipse.jetty/jetty-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-servlet/pom.xml (pkg:maven/org.eclipse.jetty/jetty-servlet@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-servlets/pom.xml (pkg:maven/org.eclipse.jetty/jetty-servlets@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-util-ajax/pom.xml (pkg:maven/org.eclipse.jetty/jetty-util-ajax@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-util/pom.xml (pkg:maven/org.eclipse.jetty/jetty-util@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-webapp/pom.xml (pkg:maven/org.eclipse.jetty/jetty-webapp@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-xml/pom.xml (pkg:maven/org.eclipse.jetty/jetty-xml@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\n\r\n\r\nSee the dependency-check report for more details.\r\n```\r\n\r\nHelp will be highly appreciated.\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\nI&#39;m expecting any suggestion for the next step","title":"What to do when Owasp dependency finds vulnerabilities","body":"<p>I want to ask, that what to do when Owasp dependency-check finds vulnerabilities.</p>\n<p>I've recently deployed to a project and I'm a fresher, so I don't know what to do.</p>\n<p>I've got a list of dependency those are vulnerabilities so how to find the stable one so that I can update that.</p>\n<p>Here is the error.</p>\n<pre><code>One or more dependencies were identified with known vulnerabilities in &lt;Project-name&gt;:\n\ncommons-beanutils-1.9.4.jar (pkg:maven/commons-beanutils/commons-beanutils@1.9.4, cpe:2.3:a:apache:commons_beanutils:1.9.4:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:1.9.4:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-cli-1.4.jar (pkg:maven/commons-cli/commons-cli@1.4, cpe:2.3:a:apache:commons_net:1.4:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-codec-1.11.jar (pkg:maven/commons-codec/commons-codec@1.11, cpe:2.3:a:apache:commons_net:1.11:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-codec-1.15.jar (pkg:maven/commons-codec/commons-codec@1.15, cpe:2.3:a:apache:commons_net:1.15:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-collections-3.2.2.jar (pkg:maven/commons-collections/commons-collections@3.2.2, cpe:2.3:a:apache:commons_collections:3.2.2:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:3.2.2:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-fileupload-1.4.jar (pkg:maven/commons-fileupload/commons-fileupload@1.4, cpe:2.3:a:apache:commons_fileupload:1.4:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:1.4:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-io-2.6.jar (pkg:maven/commons-io/commons-io@2.6, cpe:2.3:a:apache:commons_net:2.6:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-io-2.7.jar (pkg:maven/commons-io/commons-io@2.7, cpe:2.3:a:apache:commons_io:2.7:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:2.7:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-lang-2.4.jar (pkg:maven/commons-lang/commons-lang@2.4, cpe:2.3:a:apache:commons_net:2.4:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-logging-1.2.jar (pkg:maven/commons-logging/commons-logging@1.2, cpe:2.3:a:apache:commons_net:1.2:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-text-1.7.jar (pkg:maven/org.apache.commons/commons-text@1.7, cpe:2.3:a:apache:commons_net:1.7:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_text:1.7:*:*:*:*:*:*:*) : CVE-2021-37533, CVE-2022-42889\njackson-databind-2.11.4.jar (pkg:maven/com.fasterxml.jackson.core/jackson-databind@2.11.4, cpe:2.3:a:fasterxml:jackson-databind:2.11.4:*:*:*:*:*:*:*) : CVE-2022-42003, CVE-2022-42004\nlang-tag-1.4.4.jar (pkg:maven/com.nimbusds/lang-tag@1.4.4, cpe:2.3:a:nim-lang:nim-lang:1.4.4:*:*:*:*:*:*:*, cpe:2.3:a:tag_project:tag:1.4.4:*:*:*:*:*:*:*) : CVE-2020-29242, CVE-2020-29243, CVE-2020-29244, CVE-2020-29245\nlogstash-logback-encoder-5.3.jar/META-INF/maven/commons-lang/commons-lang/pom.xml (pkg:maven/commons-lang/commons-lang@2.6, cpe:2.3:a:apache:commons_net:2.6:*:*:*:*:*:*:*) : CVE-2021-37533\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-buffer/pom.xml (pkg:maven/io.netty/netty-buffer@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec-dns/pom.xml (pkg:maven/io.netty/netty-codec-dns@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec-http/pom.xml (pkg:maven/io.netty/netty-codec-http@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec-socks/pom.xml (pkg:maven/io.netty/netty-codec-socks@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec/pom.xml (pkg:maven/io.netty/netty-codec@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-common/pom.xml (pkg:maven/io.netty/netty-common@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-handler-proxy/pom.xml (pkg:maven/io.netty/netty-handler-proxy@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-handler/pom.xml (pkg:maven/io.netty/netty-handler@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver-dns-classes-macos/pom.xml (pkg:maven/io.netty/netty-resolver-dns-classes-macos@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver-dns-native-macos/pom.xml (pkg:maven/io.netty/netty-resolver-dns-native-macos@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver-dns/pom.xml (pkg:maven/io.netty/netty-resolver-dns@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver/pom.xml (pkg:maven/io.netty/netty-resolver@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport-classes-epoll/pom.xml (pkg:maven/io.netty/netty-transport-classes-epoll@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport-native-epoll/pom.xml (pkg:maven/io.netty/netty-transport-native-epoll@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport-native-unix-common/pom.xml (pkg:maven/io.netty/netty-transport-native-unix-common@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport/pom.xml (pkg:maven/io.netty/netty-transport@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\npostgresql-42.2.18.jar (pkg:maven/org.postgresql/postgresql@42.2.18, cpe:2.3:a:postgresql:postgresql:42.2.18:*:*:*:*:*:*:*, cpe:2.3:a:postgresql:postgresql_jdbc_driver:42.2.18:*:*:*:*:*:*:*) : CVE-2022-31197, CVE-2022-41946\nscala-library-2.13.4.jar (pkg:maven/org.scala-lang/scala-library@2.13.4, cpe:2.3:a:scala-lang:scala:2.13.4:*:*:*:*:*:*:*) : CVE-2022-36944\nscala-reflect-2.13.2.jar (pkg:maven/org.scala-lang/scala-reflect@2.13.2, cpe:2.3:a:scala-lang:scala:2.13.2:*:*:*:*:*:*:*) : CVE-2022-36944\nsnakeyaml-1.27.jar (pkg:maven/org.yaml/snakeyaml@1.27, cpe:2.3:a:snakeyaml_project:snakeyaml:1.27:*:*:*:*:*:*:*, cpe:2.3:a:yaml_project:yaml:1.27:*:*:*:*:*:*:*) : CVE-2022-25857, CVE-2022-38749, CVE-2022-38750, CVE-2022-38751, CVE-2022-38752, CVE-2022-41854\nspring-security-config-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-config@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\nspring-security-core-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-core@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\nspring-security-crypto-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-crypto@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\nspring-security-web-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-web@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\ntomcat-embed-core-9.0.54.jar (pkg:maven/org.apache.tomcat.embed/tomcat-embed-core@9.0.54, cpe:2.3:a:apache:tomcat:9.0.54:*:*:*:*:*:*:*, cpe:2.3:a:apache_tomcat:apache_tomcat:9.0.54:*:*:*:*:*:*:*) : CVE-2021-43980, CVE-2022-34305, CVE-2022-42252\ntomcat-embed-websocket-9.0.55.jar (pkg:maven/org.apache.tomcat.embed/tomcat-embed-websocket@9.0.55, cpe:2.3:a:apache:tomcat:9.0.55:*:*:*:*:*:*:*, cpe:2.3:a:apache_tomcat:apache_tomcat:9.0.55:*:*:*:*:*:*:*) : CVE-2021-43980, CVE-2022-34305, CVE-2022-42252\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/com.fasterxml.jackson.core/jackson-databind/pom.xml (pkg:maven/com.fasterxml.jackson.core/jackson-databind@2.12.3, cpe:2.3:a:fasterxml:jackson-databind:2.12.3:*:*:*:*:*:*:*) : CVE-2022-42003, CVE-2022-42004\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/commons-io/commons-io/pom.xml (pkg:maven/commons-io/commons-io@2.9.0, cpe:2.3:a:apache:commons_io:2.9.0:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:2.9.0:*:*:*:*:*:*:*) : CVE-2021-37533\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.apache.commons/commons-lang3/pom.xml (pkg:maven/org.apache.commons/commons-lang3@3.8.1, cpe:2.3:a:apache:commons_net:3.8.1:*:*:*:*:*:*:*) : CVE-2021-37533\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.apache.commons/commons-text/pom.xml (pkg:maven/org.apache.commons/commons-text@1.6, cpe:2.3:a:apache:commons_net:1.6:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_text:1.6:*:*:*:*:*:*:*) : CVE-2021-37533, CVE-2022-42889\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty.http2/http2-common/pom.xml (pkg:maven/org.eclipse.jetty.http2/http2-common@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty.http2/http2-server/pom.xml (pkg:maven/org.eclipse.jetty.http2/http2-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty_http_server:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-client/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-client@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-conscrypt-client/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-conscrypt-client@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-conscrypt-server/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-conscrypt-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-server/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-client/pom.xml (pkg:maven/org.eclipse.jetty/jetty-client@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-continuation/pom.xml (pkg:maven/org.eclipse.jetty/jetty-continuation@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-http/pom.xml (pkg:maven/org.eclipse.jetty/jetty-http@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-security/pom.xml (pkg:maven/org.eclipse.jetty/jetty-security@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-server/pom.xml (pkg:maven/org.eclipse.jetty/jetty-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-servlet/pom.xml (pkg:maven/org.eclipse.jetty/jetty-servlet@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-servlets/pom.xml (pkg:maven/org.eclipse.jetty/jetty-servlets@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-util-ajax/pom.xml (pkg:maven/org.eclipse.jetty/jetty-util-ajax@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-util/pom.xml (pkg:maven/org.eclipse.jetty/jetty-util@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-webapp/pom.xml (pkg:maven/org.eclipse.jetty/jetty-webapp@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-xml/pom.xml (pkg:maven/org.eclipse.jetty/jetty-xml@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\n\n\nSee the dependency-check report for more details.\n</code></pre>\n<p>Help will be highly appreciated.</p>\n<p>Thanks</p>\n<p>I'm expecting any suggestion for the next step</p>\n"},{"tags":["java","android","unity-game-engine","bluetooth","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":2599975,"reputation":59,"user_id":2252671,"accept_rate":57,"display_name":"user2252671"},"score":0,"creation_date":1682344181,"post_id":73430196,"comment_id":134195694,"body_markdown":"Hi @JungJaeWoo I am working on something similar, but I get an error when I call activity.requestPermissions. &quot;AndroidJavaException: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/core/app/ActivityCompat;&quot; . I am setting the activity from unity  &quot; AndroidJavaClass unityClass = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\n                AndroidJavaObject activity = unityClass.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\n                _pluginClass.SetStatic&lt;AndroidJavaObject&gt;(&quot;mainActivity&quot;, activity);. **any hint what is the issue?**","body":"Hi @JungJaeWoo I am working on something similar, but I get an error when I call activity.requestPermissions. &quot;AndroidJavaException: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/core/app/ActivityCompat;&quot; . I am setting the activity from unity  &quot; AndroidJavaClass unityClass = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);                 AndroidJavaObject activity = unityClass.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);                 _pluginClass.SetStatic&lt;AndroidJavaObject&gt;(&quot;mainActivity&quot;, activity);. <b>any hint what is the issue?</b>"}],"answers":[{"tags":[],"owner":{"account_id":26117569,"reputation":1,"user_id":19810436,"display_name":"JungJaeWoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661090229,"creation_date":1661090229,"answer_id":73435140,"question_id":73430196,"body_markdown":"I found the solution!\r\n\r\nThe problem was that I tried to use Toast method which should be used in UI thread, but the callback is actually called in binder thread, so the thread was terminated before starting discoverServices. \r\n\r\nAlso, be sure that connectGatt, disconnect, close should be run in the main thread, maybe in some devices, so using new Handler(Looper.getMainLooper()).post is recommended.\r\n\r\n\r\n&gt; ConnectGatt must be called in ui thread on some kind of phonesIn\r\n&gt; Android-BLE-Library BleManagerHandler::enqueue can be called in\r\n&gt; worker thread, BluetoothGattCallback::onConnectionStateChange is also\r\n&gt; called in binder thread . so this two condition could cause this\r\n&gt; issue!\r\n\r\n(https://github.com/NordicSemiconductor/Android-BLE-Library/issues/159)","title":"connecting BLE with Unity doesn&#39;t work. (scan works.)","body":"<p>I found the solution!</p>\n<p>The problem was that I tried to use Toast method which should be used in UI thread, but the callback is actually called in binder thread, so the thread was terminated before starting discoverServices.</p>\n<p>Also, be sure that connectGatt, disconnect, close should be run in the main thread, maybe in some devices, so using new Handler(Looper.getMainLooper()).post is recommended.</p>\n<blockquote>\n<p>ConnectGatt must be called in ui thread on some kind of phonesIn\nAndroid-BLE-Library BleManagerHandler::enqueue can be called in\nworker thread, BluetoothGattCallback::onConnectionStateChange is also\ncalled in binder thread . so this two condition could cause this\nissue!</p>\n</blockquote>\n<p>(<a href=\"https://github.com/NordicSemiconductor/Android-BLE-Library/issues/159\" rel=\"nofollow noreferrer\">https://github.com/NordicSemiconductor/Android-BLE-Library/issues/159</a>)</p>\n"}],"owner":{"account_id":26117569,"reputation":1,"user_id":19810436,"display_name":"JungJaeWoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":788,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670939806,"creation_date":1661030107,"question_id":73430196,"body_markdown":"I have a trouble with connecting BLE devices with Unity. \r\n\r\nActually, scanning was successful. \r\nBut connecting doesn&#39;t work at all.\r\n\r\nTo use BLE in Unity, I made a plugin using Android Studio.\r\n\r\nI don&#39;t know why \r\ndevice.connectGatt(current_activity, false, gattClientCallback); \r\ndoesn&#39;t make my BLE peripheral device(Arduino Nano 33 BLE) connects even though it returns BluetoothGATT correctly. \r\nThe text &quot;set ble_gatt : true&quot; shows when I called \r\nBLE.bleControllerObj.Call(&quot;connect&quot;, address); in Unity. (This calls connect function of plugin/)\r\nHowever, the connection doesn&#39;t happen, i.e. the callback onConnectionStateChange isn&#39;t called at all. (I know because &quot;Connection success!&quot; doesn&#39;t appear.)\r\nThe strange thing is that after device.connectGatt(current_activity, false, gattClientCallback); executed, then the ble peripheral device stops advertising without connecting, so I can&#39;t scan the ble device by other apps before terminating Unity app. I guess connecting request is sent to the ble peripheral device.\r\n\r\n(Here, BLE is the name of Unity script, and bleControllerObj is an AndroidJavaObject instance in Unity.)\r\n\r\nAlso, I checked my device and peripheral ble device can be connected with existing nRF Connect app. \r\n\r\nPlease let me know what I&#39;m missing. Or should I upload my Unity script too?\r\n\r\n\r\nHere is a full code of java plugin I used.\r\n\r\n```\r\npackage com.example.ble;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Activity;\r\nimport android.bluetooth.BluetoothAdapter;\r\nimport android.bluetooth.BluetoothDevice;\r\nimport android.bluetooth.BluetoothGatt;\r\nimport android.bluetooth.BluetoothGattCallback;\r\nimport android.bluetooth.BluetoothGattCharacteristic;\r\nimport android.bluetooth.BluetoothManager;\r\nimport android.bluetooth.BluetoothProfile;\r\nimport android.bluetooth.le.BluetoothLeScanner;\r\nimport android.bluetooth.le.ScanCallback;\r\nimport android.bluetooth.le.ScanResult;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.util.Log;\r\nimport android.widget.Toast;\r\n\r\n\r\npublic class BLEcontroller {\r\n\r\n    public static Activity current_activity;\r\n    public static Context context;\r\n    public static BLEcontroller instance;\r\n\r\n    public BluetoothAdapter ble_adapter;\r\n    public BluetoothLeScanner leScanner;\r\n    public List&lt;BluetoothDevice&gt; scanned_devices = new ArrayList&lt;BluetoothDevice&gt;();\r\n    public boolean connected_ = false;\r\n    public BluetoothGatt ble_gatt;\r\n    public BluetoothManager ble_manager;\r\n\r\n    private void showText(String msg) {\r\n        Toast.makeText(context, msg, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n\r\n    public static BLEcontroller getInstance() {\r\n        if (instance == null) {\r\n            instance = new BLEcontroller();\r\n            current_activity = UnityPlayer.currentActivity;\r\n            context = UnityPlayer.currentActivity.getApplicationContext();\r\n        }\r\n\r\n        instance.scanned_devices= new ArrayList&lt;BluetoothDevice&gt;();\r\n\r\n        return instance;\r\n    }\r\n\r\n    public void setContext(Activity _activity, Context _context){\r\n        current_activity=_activity;\r\n        context=_context;\r\n    }\r\n\r\n    public void init() {\r\n        Log.e(&quot;Unity&quot;, &quot;init start!!!&quot; );\r\n        ble_manager = (BluetoothManager) current_activity.getSystemService(Context.BLUETOOTH_SERVICE);\r\n        ble_adapter = ble_manager.getAdapter();\r\n\r\n        Toast.makeText(context, &quot;init start and scanner : &quot;+(leScanner!=null), Toast.LENGTH_SHORT).show();\r\n        Log.e(&quot;Unity&quot;, &quot;init start and scanner : &quot;+(leScanner!=null) );\r\n        checkBLEAvailable();\r\n\r\n        leScanner = ble_adapter.getBluetoothLeScanner();\r\n\r\n        if (!current_activity.getPackageManager().hasSystemFeature(PackageManager.FEATURE_BLUETOOTH_LE)) {\r\n            Toast.makeText(context, &quot;BlE isn&#39;t supported.&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        if (leScanner == null) {\r\n            Toast.makeText(context, &quot;scanner is null&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    private void checkBLEAvailable() {\r\n\r\n        if (ble_adapter == null || !ble_adapter.isEnabled()) {\r\n            showText(&quot;ble is disabled&quot;);\r\n            requestEnableBle();\r\n        }\r\n\r\n        requestPermissions();\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    public void startScan() {\r\n        showText(&quot;There were &quot; + scanned_devices.size() + &quot; devices&quot;);\r\n        scanned_devices.clear();\r\n        Log.e(&quot;Unity&quot;, &quot;clear devices&quot;);\r\n        if (leScanner == null) {\r\n            showText(&quot;leScanner was null!&quot;);\r\n            Log.e(&quot;Unity&quot;, &quot;leScanner is null!&quot;);\r\n        }\r\n        Log.e(&quot;Unity&quot;, &quot;startScan in java.&quot;);\r\n        leScanner.startScan(mScanCallback);\r\n        showText(&quot;start scan&quot;);\r\n\r\n    }\r\n\r\n\r\n    public int getScanned_devicesNum(){\r\n        return scanned_devices.size();\r\n    }\r\n\r\n    public boolean isConnected(){\r\n        return connected_;\r\n    }\r\n\r\n    public BluetoothDevice getScanned_device(int i){\r\n        return scanned_devices.get(i);\r\n    }\r\n\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    public void stopScan(){\r\n        leScanner.stopScan(mScanCallback);\r\n        showText(&quot;scan stop.&quot;);\r\n    }\r\n\r\n    private ScanCallback mScanCallback = new ScanCallback() {\r\n        @Override\r\n        public void onScanResult(int callbackType, ScanResult result) {\r\n            processResult(result);\r\n        }\r\n\r\n        @Override\r\n        public void onBatchScanResults(List&lt;ScanResult&gt; results) {\r\n            for (ScanResult result : results) {\r\n                processResult(result);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onScanFailed(int errorCode) {\r\n            showText(&quot;scanFailed with &quot;+errorCode);\r\n        }\r\n\r\n        @SuppressLint(&quot;MissingPermission&quot;)\r\n        private void processResult(final ScanResult result) {\r\n            boolean add_result=true;\r\n            if(result.getDevice().getName()==null) {\r\n                Log.e(&quot;Unity&quot;, &quot;No device name&quot;);\r\n                add_result = false;\r\n            }\r\n            for (BluetoothDevice device : scanned_devices){\r\n                if (device.getAddress()==result.getDevice().getAddress()){\r\n                    Log.e(&quot;Unity&quot;, &quot;Already exists : &quot; +device.getName());\r\n                    add_result=false;\r\n                }\r\n            }\r\n            if (add_result){\r\n                scanned_devices.add(result.getDevice());\r\n            }\r\n            tidyUpScanned_devices();\r\n        }\r\n    };\r\n\r\n    public void tidyUpScanned_devices(){\r\n        ArrayList&lt;BluetoothDevice&gt; arrayList=new ArrayList&lt;&gt;();\r\n\r\n        for (int i=0; i&lt;scanned_devices.size(); i++){\r\n            if (getDeviceIndex(arrayList, scanned_devices.get(i))==-1){\r\n                arrayList.add(scanned_devices.get(i));\r\n            }\r\n        }\r\n        scanned_devices.clear();\r\n        scanned_devices=arrayList;\r\n    }\r\n\r\n    private int getDeviceIndex(List&lt;BluetoothDevice&gt; list, BluetoothDevice device){\r\n        for (int i=0; i&lt;list.size(); i++){\r\n            if (device.getAddress().equalsIgnoreCase(list.get(i).getAddress())){\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    public void connect(String address) {\r\n        if (!ble_adapter.isEnabled()) {\r\n            showText(&quot;Turn on BLE&quot;);\r\n            return;\r\n        }\r\n\r\n        for (BluetoothDevice device : scanned_devices) {\r\n            if (device.getAddress().equals(address)) {\r\n                showText((&quot;try connecting device : &quot; + address));\r\n                disconnectGattServer();\r\n                ble_gatt = device.connectGatt(current_activity, false, gattClientCallback);\r\n                showText(&quot;set ble_gatt : &quot; + (ble_gatt != null));\r\n            }\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    public void connect() {\r\n        if (!ble_adapter.isEnabled()) {\r\n            showText(&quot;Turn on BLE&quot;);\r\n            return;\r\n        }\r\n\r\n        for (BluetoothDevice device : scanned_devices) {\r\n            showText((&quot;try connecting device : &quot; + device.getAddress()));\r\n            disconnectGattServer();\r\n            ble_gatt = device.connectGatt(current_activity, false, gattClientCallback);\r\n            showText(&quot;set ble_gatt : &quot; + (ble_gatt != null));\r\n            return;\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    public void disconnectGattServer() {\r\n        /*showText(&quot;Closing Gatt connection&quot;);\r\n        // reset the connection flag\r\n        connected_ = false;\r\n        // disconnect and close the gatt\r\n        if (ble_gatt != null) {\r\n            ble_gatt.disconnect();\r\n            ble_gatt.close();\r\n        }*/\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    // Gatt Client Callback class\r\n    private BluetoothGattCallback gattClientCallback=new BluetoothGattCallback() {\r\n\r\n        @Override\r\n        public void onConnectionStateChange(BluetoothGatt _gatt, int _status, int _new_state) {\r\n            super.onConnectionStateChange(_gatt, _status, _new_state);\r\n            showText(&quot;Connection Success!&quot;);\r\n            if (_status != BluetoothGatt.GATT_SUCCESS) {\r\n                showText(&quot;failed connecting&quot;);\r\n                disconnectGattServer();\r\n                return;\r\n            }\r\n            if (_new_state == BluetoothProfile.STATE_CONNECTED) {\r\n                // set the connection flag\r\n                connected_ = true;\r\n                showText(&quot;Connected to the GATT server&quot;);\r\n                _gatt.discoverServices();\r\n            } else if (_new_state == BluetoothProfile.STATE_DISCONNECTED) {\r\n                disconnectGattServer();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onServicesDiscovered(BluetoothGatt _gatt, int _status) {\r\n            super.onServicesDiscovered(_gatt, _status);\r\n            // check if the discovery failed\r\n            if (_status != BluetoothGatt.GATT_SUCCESS) {\r\n                showText(&quot;Device service discovery failed, status: &quot; + _status);\r\n                return;\r\n            }\r\n            showText(&quot;service discovered : &quot;+_gatt.getServices().get(0).getUuid());\r\n        }\r\n\r\n        @Override\r\n        public void onCharacteristicChanged(BluetoothGatt _gatt, BluetoothGattCharacteristic _characteristic) {\r\n            super.onCharacteristicChanged(_gatt, _characteristic);\r\n\r\n            showText( &quot;characteristic changed: &quot; + _characteristic.getValue().toString());\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onCharacteristicWrite(BluetoothGatt _gatt, BluetoothGattCharacteristic _characteristic, int _status) {\r\n            super.onCharacteristicWrite(_gatt, _characteristic, _status);\r\n            if (_status == BluetoothGatt.GATT_SUCCESS) {\r\n                showText(&quot;Characteristic written successfully&quot;);\r\n            } else {\r\n                showText(&quot;Characteristic write unsuccessful, status: &quot; + _status);\r\n                disconnectGattServer();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n            super.onCharacteristicRead(gatt, characteristic, status);\r\n            if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                showText(&quot;Characteristic read successfully&quot;);\r\n            } else {\r\n                showText(&quot;Characteristic read unsuccessful, status: &quot; + status);\r\n            }\r\n        }\r\n\r\n        // Log the value of the characteristic\r\n        // @param characteristic\r\n        private void readCharacteristic(BluetoothGattCharacteristic _characteristic) {\r\n            byte[] msg = _characteristic.getValue();\r\n            showText( &quot;read: &quot; + msg.toString());\r\n        }\r\n    };\r\n\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    private void requestEnableBle() {\r\n        Intent ble_enable_intent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n        current_activity.startActivityForResult(ble_enable_intent, 1);\r\n\r\n    }\r\n\r\n    private void requestPermissions(){\r\n        current_activity.requestPermissions(\r\n                new String[] {Manifest.permission.ACCESS_FINE_LOCATION,\r\n                Manifest.permission.BLUETOOTH_SCAN,\r\n                Manifest.permission.BLUETOOTH_CONNECT}, 2);\r\n    }\r\n\r\n}\r\n```\r\n","title":"connecting BLE with Unity doesn&#39;t work. (scan works.)","body":"<p>I have a trouble with connecting BLE devices with Unity.</p>\n<p>Actually, scanning was successful.\nBut connecting doesn't work at all.</p>\n<p>To use BLE in Unity, I made a plugin using Android Studio.</p>\n<p>I don't know why\ndevice.connectGatt(current_activity, false, gattClientCallback);\ndoesn't make my BLE peripheral device(Arduino Nano 33 BLE) connects even though it returns BluetoothGATT correctly.\nThe text &quot;set ble_gatt : true&quot; shows when I called\nBLE.bleControllerObj.Call(&quot;connect&quot;, address); in Unity. (This calls connect function of plugin/)\nHowever, the connection doesn't happen, i.e. the callback onConnectionStateChange isn't called at all. (I know because &quot;Connection success!&quot; doesn't appear.)\nThe strange thing is that after device.connectGatt(current_activity, false, gattClientCallback); executed, then the ble peripheral device stops advertising without connecting, so I can't scan the ble device by other apps before terminating Unity app. I guess connecting request is sent to the ble peripheral device.</p>\n<p>(Here, BLE is the name of Unity script, and bleControllerObj is an AndroidJavaObject instance in Unity.)</p>\n<p>Also, I checked my device and peripheral ble device can be connected with existing nRF Connect app.</p>\n<p>Please let me know what I'm missing. Or should I upload my Unity script too?</p>\n<p>Here is a full code of java plugin I used.</p>\n<pre><code>package com.example.ble;\n\nimport android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.bluetooth.BluetoothGatt;\nimport android.bluetooth.BluetoothGattCallback;\nimport android.bluetooth.BluetoothGattCharacteristic;\nimport android.bluetooth.BluetoothManager;\nimport android.bluetooth.BluetoothProfile;\nimport android.bluetooth.le.BluetoothLeScanner;\nimport android.bluetooth.le.ScanCallback;\nimport android.bluetooth.le.ScanResult;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.util.Log;\nimport android.widget.Toast;\n\n\npublic class BLEcontroller {\n\n    public static Activity current_activity;\n    public static Context context;\n    public static BLEcontroller instance;\n\n    public BluetoothAdapter ble_adapter;\n    public BluetoothLeScanner leScanner;\n    public List&lt;BluetoothDevice&gt; scanned_devices = new ArrayList&lt;BluetoothDevice&gt;();\n    public boolean connected_ = false;\n    public BluetoothGatt ble_gatt;\n    public BluetoothManager ble_manager;\n\n    private void showText(String msg) {\n        Toast.makeText(context, msg, Toast.LENGTH_SHORT).show();\n    }\n\n\n    public static BLEcontroller getInstance() {\n        if (instance == null) {\n            instance = new BLEcontroller();\n            current_activity = UnityPlayer.currentActivity;\n            context = UnityPlayer.currentActivity.getApplicationContext();\n        }\n\n        instance.scanned_devices= new ArrayList&lt;BluetoothDevice&gt;();\n\n        return instance;\n    }\n\n    public void setContext(Activity _activity, Context _context){\n        current_activity=_activity;\n        context=_context;\n    }\n\n    public void init() {\n        Log.e(&quot;Unity&quot;, &quot;init start!!!&quot; );\n        ble_manager = (BluetoothManager) current_activity.getSystemService(Context.BLUETOOTH_SERVICE);\n        ble_adapter = ble_manager.getAdapter();\n\n        Toast.makeText(context, &quot;init start and scanner : &quot;+(leScanner!=null), Toast.LENGTH_SHORT).show();\n        Log.e(&quot;Unity&quot;, &quot;init start and scanner : &quot;+(leScanner!=null) );\n        checkBLEAvailable();\n\n        leScanner = ble_adapter.getBluetoothLeScanner();\n\n        if (!current_activity.getPackageManager().hasSystemFeature(PackageManager.FEATURE_BLUETOOTH_LE)) {\n            Toast.makeText(context, &quot;BlE isn't supported.&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        if (leScanner == null) {\n            Toast.makeText(context, &quot;scanner is null&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n\n\n\n    private void checkBLEAvailable() {\n\n        if (ble_adapter == null || !ble_adapter.isEnabled()) {\n            showText(&quot;ble is disabled&quot;);\n            requestEnableBle();\n        }\n\n        requestPermissions();\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    public void startScan() {\n        showText(&quot;There were &quot; + scanned_devices.size() + &quot; devices&quot;);\n        scanned_devices.clear();\n        Log.e(&quot;Unity&quot;, &quot;clear devices&quot;);\n        if (leScanner == null) {\n            showText(&quot;leScanner was null!&quot;);\n            Log.e(&quot;Unity&quot;, &quot;leScanner is null!&quot;);\n        }\n        Log.e(&quot;Unity&quot;, &quot;startScan in java.&quot;);\n        leScanner.startScan(mScanCallback);\n        showText(&quot;start scan&quot;);\n\n    }\n\n\n    public int getScanned_devicesNum(){\n        return scanned_devices.size();\n    }\n\n    public boolean isConnected(){\n        return connected_;\n    }\n\n    public BluetoothDevice getScanned_device(int i){\n        return scanned_devices.get(i);\n    }\n\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    public void stopScan(){\n        leScanner.stopScan(mScanCallback);\n        showText(&quot;scan stop.&quot;);\n    }\n\n    private ScanCallback mScanCallback = new ScanCallback() {\n        @Override\n        public void onScanResult(int callbackType, ScanResult result) {\n            processResult(result);\n        }\n\n        @Override\n        public void onBatchScanResults(List&lt;ScanResult&gt; results) {\n            for (ScanResult result : results) {\n                processResult(result);\n            }\n        }\n\n        @Override\n        public void onScanFailed(int errorCode) {\n            showText(&quot;scanFailed with &quot;+errorCode);\n        }\n\n        @SuppressLint(&quot;MissingPermission&quot;)\n        private void processResult(final ScanResult result) {\n            boolean add_result=true;\n            if(result.getDevice().getName()==null) {\n                Log.e(&quot;Unity&quot;, &quot;No device name&quot;);\n                add_result = false;\n            }\n            for (BluetoothDevice device : scanned_devices){\n                if (device.getAddress()==result.getDevice().getAddress()){\n                    Log.e(&quot;Unity&quot;, &quot;Already exists : &quot; +device.getName());\n                    add_result=false;\n                }\n            }\n            if (add_result){\n                scanned_devices.add(result.getDevice());\n            }\n            tidyUpScanned_devices();\n        }\n    };\n\n    public void tidyUpScanned_devices(){\n        ArrayList&lt;BluetoothDevice&gt; arrayList=new ArrayList&lt;&gt;();\n\n        for (int i=0; i&lt;scanned_devices.size(); i++){\n            if (getDeviceIndex(arrayList, scanned_devices.get(i))==-1){\n                arrayList.add(scanned_devices.get(i));\n            }\n        }\n        scanned_devices.clear();\n        scanned_devices=arrayList;\n    }\n\n    private int getDeviceIndex(List&lt;BluetoothDevice&gt; list, BluetoothDevice device){\n        for (int i=0; i&lt;list.size(); i++){\n            if (device.getAddress().equalsIgnoreCase(list.get(i).getAddress())){\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    public void connect(String address) {\n        if (!ble_adapter.isEnabled()) {\n            showText(&quot;Turn on BLE&quot;);\n            return;\n        }\n\n        for (BluetoothDevice device : scanned_devices) {\n            if (device.getAddress().equals(address)) {\n                showText((&quot;try connecting device : &quot; + address));\n                disconnectGattServer();\n                ble_gatt = device.connectGatt(current_activity, false, gattClientCallback);\n                showText(&quot;set ble_gatt : &quot; + (ble_gatt != null));\n            }\n        }\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    public void connect() {\n        if (!ble_adapter.isEnabled()) {\n            showText(&quot;Turn on BLE&quot;);\n            return;\n        }\n\n        for (BluetoothDevice device : scanned_devices) {\n            showText((&quot;try connecting device : &quot; + device.getAddress()));\n            disconnectGattServer();\n            ble_gatt = device.connectGatt(current_activity, false, gattClientCallback);\n            showText(&quot;set ble_gatt : &quot; + (ble_gatt != null));\n            return;\n        }\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    public void disconnectGattServer() {\n        /*showText(&quot;Closing Gatt connection&quot;);\n        // reset the connection flag\n        connected_ = false;\n        // disconnect and close the gatt\n        if (ble_gatt != null) {\n            ble_gatt.disconnect();\n            ble_gatt.close();\n        }*/\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    // Gatt Client Callback class\n    private BluetoothGattCallback gattClientCallback=new BluetoothGattCallback() {\n\n        @Override\n        public void onConnectionStateChange(BluetoothGatt _gatt, int _status, int _new_state) {\n            super.onConnectionStateChange(_gatt, _status, _new_state);\n            showText(&quot;Connection Success!&quot;);\n            if (_status != BluetoothGatt.GATT_SUCCESS) {\n                showText(&quot;failed connecting&quot;);\n                disconnectGattServer();\n                return;\n            }\n            if (_new_state == BluetoothProfile.STATE_CONNECTED) {\n                // set the connection flag\n                connected_ = true;\n                showText(&quot;Connected to the GATT server&quot;);\n                _gatt.discoverServices();\n            } else if (_new_state == BluetoothProfile.STATE_DISCONNECTED) {\n                disconnectGattServer();\n            }\n        }\n\n        @Override\n        public void onServicesDiscovered(BluetoothGatt _gatt, int _status) {\n            super.onServicesDiscovered(_gatt, _status);\n            // check if the discovery failed\n            if (_status != BluetoothGatt.GATT_SUCCESS) {\n                showText(&quot;Device service discovery failed, status: &quot; + _status);\n                return;\n            }\n            showText(&quot;service discovered : &quot;+_gatt.getServices().get(0).getUuid());\n        }\n\n        @Override\n        public void onCharacteristicChanged(BluetoothGatt _gatt, BluetoothGattCharacteristic _characteristic) {\n            super.onCharacteristicChanged(_gatt, _characteristic);\n\n            showText( &quot;characteristic changed: &quot; + _characteristic.getValue().toString());\n\n        }\n\n        @Override\n        public void onCharacteristicWrite(BluetoothGatt _gatt, BluetoothGattCharacteristic _characteristic, int _status) {\n            super.onCharacteristicWrite(_gatt, _characteristic, _status);\n            if (_status == BluetoothGatt.GATT_SUCCESS) {\n                showText(&quot;Characteristic written successfully&quot;);\n            } else {\n                showText(&quot;Characteristic write unsuccessful, status: &quot; + _status);\n                disconnectGattServer();\n            }\n        }\n\n        @Override\n        public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n            super.onCharacteristicRead(gatt, characteristic, status);\n            if (status == BluetoothGatt.GATT_SUCCESS) {\n                showText(&quot;Characteristic read successfully&quot;);\n            } else {\n                showText(&quot;Characteristic read unsuccessful, status: &quot; + status);\n            }\n        }\n\n        // Log the value of the characteristic\n        // @param characteristic\n        private void readCharacteristic(BluetoothGattCharacteristic _characteristic) {\n            byte[] msg = _characteristic.getValue();\n            showText( &quot;read: &quot; + msg.toString());\n        }\n    };\n\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    private void requestEnableBle() {\n        Intent ble_enable_intent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n        current_activity.startActivityForResult(ble_enable_intent, 1);\n\n    }\n\n    private void requestPermissions(){\n        current_activity.requestPermissions(\n                new String[] {Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.BLUETOOTH_SCAN,\n                Manifest.permission.BLUETOOTH_CONNECT}, 2);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","hql"],"owner":{"account_id":15874014,"reputation":21,"user_id":11453801,"display_name":"Lucas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670939724,"creation_date":1670939724,"question_id":74785953,"body_markdown":"I have a problem with Spring or Hibernate. \r\n\r\nLets say i have a class call Dad with a list of Child.\r\n\r\n```\r\npublic class Dad {\r\n    private Long id;\r\n    \r\n    @OneToMany(mappedBy=&quot;dad&quot;, cascade = CascadeType.ALL)\r\n    @Where(clause = &quot;exclude_date is null&quot;)\r\n    private List&lt;Child&gt; childs\r\n}\r\n\r\npublic class Child{\r\n    private Long id;\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;dad_id&quot;)\r\n    private Dad dad;\r\n\r\n    private Calendar excludeDate;\r\n\r\n}\r\n\r\ncontroller:\r\n\r\n  @PutMapping\r\n  @Transactional\r\n  public ResponseEntity&lt;JSONObject&gt; update(@RequestBody Dad dad){\r\n\r\ntry{\r\n   service.saveOrUpdate(dad);\r\n}catch (Exception e){\r\n   return sucess;\r\n}\r\n\r\ntry {\r\n   D newDto = service.findById(dad.getId());\r\n   return sucess;\r\n} catch (Exception e) {\r\n   return error;\r\n}\r\n  }\r\n```\r\n\r\nIn my controller i have a PUT method that a when i receive a object Dad whith a child with excludeDate set i updated the objects. But because of my @Where condition the return of dad should be without the excluded childs. But is not working. \r\n\r\nWhen i debug the code i find out that Spring or Hibernate identify the list of childs on the save as @123 and when i do the findById i get the same list @123 so probably the list is not being reloaded from the database.\r\n","title":"Spring or Hibernate reutilizes the result of a previous consult","body":"<p>I have a problem with Spring or Hibernate.</p>\n<p>Lets say i have a class call Dad with a list of Child.</p>\n<pre><code>public class Dad {\n    private Long id;\n    \n    @OneToMany(mappedBy=&quot;dad&quot;, cascade = CascadeType.ALL)\n    @Where(clause = &quot;exclude_date is null&quot;)\n    private List&lt;Child&gt; childs\n}\n\npublic class Child{\n    private Long id;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;dad_id&quot;)\n    private Dad dad;\n\n    private Calendar excludeDate;\n\n}\n\ncontroller:\n\n  @PutMapping\n  @Transactional\n  public ResponseEntity&lt;JSONObject&gt; update(@RequestBody Dad dad){\n\ntry{\n   service.saveOrUpdate(dad);\n}catch (Exception e){\n   return sucess;\n}\n\ntry {\n   D newDto = service.findById(dad.getId());\n   return sucess;\n} catch (Exception e) {\n   return error;\n}\n  }\n</code></pre>\n<p>In my controller i have a PUT method that a when i receive a object Dad whith a child with excludeDate set i updated the objects. But because of my @Where condition the return of dad should be without the excluded childs. But is not working.</p>\n<p>When i debug the code i find out that Spring or Hibernate identify the list of childs on the save as @123 and when i do the findById i get the same list @123 so probably the list is not being reloaded from the database.</p>\n"},{"tags":["java","spring-boot","logging","log4j2"],"comments":[{"owner":{"account_id":11516104,"reputation":155,"user_id":8439424,"display_name":"yobb"},"score":0,"creation_date":1670927485,"post_id":74783286,"comment_id":131981071,"body_markdown":"This seems related but did not get an answer https://stackoverflow.com/q/73432624/8439424","body":"This seems related but did not get an answer <a href=\"https://stackoverflow.com/q/73432624/8439424\">stackoverflow.com/q/73432624/8439424</a>"}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670939623,"creation_date":1670939623,"answer_id":74785931,"question_id":74783286,"body_markdown":"The `spring-boot-starter-parent` POM files manages the version of hundreds of library versions (cf. its parent [`spring-boot-dependencies`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-dependencies), where the `&lt;dependencyManagement&gt;` occurs). All Log4j2 artifacts are among them.\r\n\r\nEven if `log4j-layout-template-json:2.18.0` has a dependency on `log4j-core:2.18.0`, Maven will select version `2.17.2` of the latter and cause the version problem you are experiencing.\r\n\r\nIn order for all Log4j2 artifacts to have the same version, you need to override the `log4j2.version` property specified in `spring-boot-dependencies`:\r\n\r\n```lang-xml\r\n&lt;properties&gt;\r\n    &lt;log4j2.version&gt;2.19.0&lt;/log4j2.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nand **remove** explicit versions from your POM file.","title":"IllegalAccessError after updating log4j JSONTemplateLayout package","body":"<p>The <code>spring-boot-starter-parent</code> POM files manages the version of hundreds of library versions (cf. its parent <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-dependencies\" rel=\"nofollow noreferrer\"><code>spring-boot-dependencies</code></a>, where the <code>&lt;dependencyManagement&gt;</code> occurs). All Log4j2 artifacts are among them.</p>\n<p>Even if <code>log4j-layout-template-json:2.18.0</code> has a dependency on <code>log4j-core:2.18.0</code>, Maven will select version <code>2.17.2</code> of the latter and cause the version problem you are experiencing.</p>\n<p>In order for all Log4j2 artifacts to have the same version, you need to override the <code>log4j2.version</code> property specified in <code>spring-boot-dependencies</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;log4j2.version&gt;2.19.0&lt;/log4j2.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>and <strong>remove</strong> explicit versions from your POM file.</p>\n"}],"owner":{"account_id":11516104,"reputation":155,"user_id":8439424,"display_name":"yobb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":949,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74785931,"answer_count":1,"score":2,"last_activity_date":1670939623,"creation_date":1670926887,"question_id":74783286,"body_markdown":"I am running a Spring boot application on java-17-openjdk. I use the log4j-layout-template-json package to output json logs to stdout.\r\n\r\nEverything has been working fine until I updated the package version from 2.17.2 to 2.18.0, now I get these stack traces every time the app attempts to log something:\r\n\r\n```\r\n2022-12-13 10:28:59,028 main ERROR An exception occurred processing Appender Console org.apache.logging.log4j.core.appender.AppenderLoggingException: java.lang.IllegalAccessError: class org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder tried to access method &#39;void org.apache.logging.log4j.core.layout.TextEncoderHelper.encodeText(java.nio.charset.CharsetEncoder, java.nio.CharBuffer, java.nio.ByteBuffer, java.lang.StringBuilder, org.apache.logging.log4j.core.layout.ByteBufferDestination)&#39; (org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder and org.apache.logging.log4j.core.layout.TextEncoderHelper are in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @76fb509a)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:165)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:675)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:633)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:616)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:552)\r\n\tat org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\r\n\tat org.apache.logging.log4j.core.Logger.log(Logger.java:161)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1994)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1852)\r\n\tat org.apache.commons.logging.LogAdapter$Log4jLog.log(LogAdapter.java:270)\r\n\tat org.apache.commons.logging.LogAdapter$Log4jLog.info(LogAdapter.java:230)\r\n\tat org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:55)\r\n\tat org.springframework.boot.SpringApplication.logStartupInfo(SpringApplication.java:618)\r\n\tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:377)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n\tat org.engine.App.main(App.java:40)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: java.lang.IllegalAccessError: class org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder tried to access method &#39;void org.apache.logging.log4j.core.layout.TextEncoderHelper.encodeText(java.nio.charset.CharsetEncoder, java.nio.CharBuffer, java.nio.ByteBuffer, java.lang.StringBuilder, org.apache.logging.log4j.core.layout.ByteBufferDestination)&#39; (org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder and org.apache.logging.log4j.core.layout.TextEncoderHelper are in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @76fb509a)\r\n\tat org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder.encode(JsonTemplateLayout.java:241)\r\n\tat org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder.encode(JsonTemplateLayout.java:216)\r\n\tat org.apache.logging.log4j.layout.template.json.JsonTemplateLayout.encode(JsonTemplateLayout.java:304)\r\n\tat org.apache.logging.log4j.layout.template.json.JsonTemplateLayout.encode(JsonTemplateLayout.java:58)\r\n\tat org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.directEncodeEvent(AbstractOutputStreamAppender.java:215)\r\n\tat org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:208)\r\n\tat org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:199)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\r\n\t... 31 more\r\n\r\n```\r\n\r\nAs one can see, the problem already occurs for logs made by spring itself. Updating log4j-layout-template-json to the latest version (2.19.0) did not fix the problem.\r\n\r\nNote that this only appears when trying to execute the jar file of the app but not when running surefire and failsafe tests with maven and spring-mvc.\r\n\r\nFor more details on my version of java:\r\n```\r\n$ java --version\r\nopenjdk 17.0.5 2022-10-18\r\nOpenJDK Runtime Environment (build 17.0.5+8-Ubuntu-2ubuntu120.04)\r\nOpenJDK 64-Bit Server VM (build 17.0.5+8-Ubuntu-2ubuntu120.04, mixed mode, sharing)\r\n```\r\n\r\nHere is a sample of my pom.xml file:\r\n\r\n```xml\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.3&lt;/version&gt;\r\n    &lt;relativePath/&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-layout-template-json&lt;/artifactId&gt;\r\n      &lt;version&gt;2.18.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\nMy log4j config file is as follows:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:JSONLogLayout.json&quot;&gt;&lt;/JsonTemplateLayout&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n\r\n        &lt;logger name=&quot;org.jooq&quot; level=&quot;warn&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n        &lt;/logger&gt;\r\n\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```","title":"IllegalAccessError after updating log4j JSONTemplateLayout package","body":"<p>I am running a Spring boot application on java-17-openjdk. I use the log4j-layout-template-json package to output json logs to stdout.</p>\n<p>Everything has been working fine until I updated the package version from 2.17.2 to 2.18.0, now I get these stack traces every time the app attempts to log something:</p>\n<pre><code>2022-12-13 10:28:59,028 main ERROR An exception occurred processing Appender Console org.apache.logging.log4j.core.appender.AppenderLoggingException: java.lang.IllegalAccessError: class org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder tried to access method 'void org.apache.logging.log4j.core.layout.TextEncoderHelper.encodeText(java.nio.charset.CharsetEncoder, java.nio.CharBuffer, java.nio.ByteBuffer, java.lang.StringBuilder, org.apache.logging.log4j.core.layout.ByteBufferDestination)' (org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder and org.apache.logging.log4j.core.layout.TextEncoderHelper are in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @76fb509a)\n    at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:165)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\n    at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:675)\n    at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:633)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:616)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:552)\n    at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\n    at org.apache.logging.log4j.core.Logger.log(Logger.java:161)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1994)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1852)\n    at org.apache.commons.logging.LogAdapter$Log4jLog.log(LogAdapter.java:270)\n    at org.apache.commons.logging.LogAdapter$Log4jLog.info(LogAdapter.java:230)\n    at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:55)\n    at org.springframework.boot.SpringApplication.logStartupInfo(SpringApplication.java:618)\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:377)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at org.engine.App.main(App.java:40)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: java.lang.IllegalAccessError: class org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder tried to access method 'void org.apache.logging.log4j.core.layout.TextEncoderHelper.encodeText(java.nio.charset.CharsetEncoder, java.nio.CharBuffer, java.nio.ByteBuffer, java.lang.StringBuilder, org.apache.logging.log4j.core.layout.ByteBufferDestination)' (org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder and org.apache.logging.log4j.core.layout.TextEncoderHelper are in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @76fb509a)\n    at org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder.encode(JsonTemplateLayout.java:241)\n    at org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder.encode(JsonTemplateLayout.java:216)\n    at org.apache.logging.log4j.layout.template.json.JsonTemplateLayout.encode(JsonTemplateLayout.java:304)\n    at org.apache.logging.log4j.layout.template.json.JsonTemplateLayout.encode(JsonTemplateLayout.java:58)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.directEncodeEvent(AbstractOutputStreamAppender.java:215)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:208)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:199)\n    at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\n    ... 31 more\n\n</code></pre>\n<p>As one can see, the problem already occurs for logs made by spring itself. Updating log4j-layout-template-json to the latest version (2.19.0) did not fix the problem.</p>\n<p>Note that this only appears when trying to execute the jar file of the app but not when running surefire and failsafe tests with maven and spring-mvc.</p>\n<p>For more details on my version of java:</p>\n<pre><code>$ java --version\nopenjdk 17.0.5 2022-10-18\nOpenJDK Runtime Environment (build 17.0.5+8-Ubuntu-2ubuntu120.04)\nOpenJDK 64-Bit Server VM (build 17.0.5+8-Ubuntu-2ubuntu120.04, mixed mode, sharing)\n</code></pre>\n<p>Here is a sample of my pom.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;relativePath/&gt;\n  &lt;/parent&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-layout-template-json&lt;/artifactId&gt;\n      &lt;version&gt;2.18.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>My log4j config file is as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:JSONLogLayout.json&quot;&gt;&lt;/JsonTemplateLayout&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n\n        &lt;logger name=&quot;org.jooq&quot; level=&quot;warn&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;Console&quot; /&gt;\n        &lt;/logger&gt;\n\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1670939864,"post_id":74785701,"comment_id":131985468,"body_markdown":"Typescript would allow to treat them the same because it cares about object shape, Java only cares about class names &amp; hierarchy. Your transform code could probably be automated via some mapper: https://www.baeldung.com/java-performance-mapping-frameworks - mapper frameworks are mostly reflection but one of the few ways to treat objects of the same shape with the same code","body":"Typescript would allow to treat them the same because it cares about object shape, Java only cares about class names &amp; hierarchy. Your transform code could probably be automated via some mapper: <a href=\"https://www.baeldung.com/java-performance-mapping-frameworks\" rel=\"nofollow noreferrer\">baeldung.com/java-performance-mapping-frameworks</a> - mapper frameworks are mostly reflection but one of the few ways to treat objects of the same shape with the same code"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670939388,"creation_date":1670939179,"answer_id":74785850,"question_id":74785701,"body_markdown":"As long as the generated classes don&#39;t have anything in common, you can&#39;t. Even though the fields look the same, Java has no way of addressing them in the same way.\r\n\r\nThe easiest solution is to have code that looks like it&#39;s duplicate but operates on different classes, as you&#39;ve already mentioned in the question.\r\n\r\nThe clean solution is to change the code that generates those `FaultType` classes. Either also generate the code that converts to a single `CustomFault` class, or have the `FaultTypes` implement an interface, so you can implement your conversion code using that.","title":"avoid duplication in Java due to auto generated similar classes","body":"<p>As long as the generated classes don't have anything in common, you can't. Even though the fields look the same, Java has no way of addressing them in the same way.</p>\n<p>The easiest solution is to have code that looks like it's duplicate but operates on different classes, as you've already mentioned in the question.</p>\n<p>The clean solution is to change the code that generates those <code>FaultType</code> classes. Either also generate the code that converts to a single <code>CustomFault</code> class, or have the <code>FaultTypes</code> implement an interface, so you can implement your conversion code using that.</p>\n"},{"tags":[],"owner":{"account_id":1465201,"reputation":181,"user_id":1378276,"display_name":"McMonster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670939594,"creation_date":1670939594,"answer_id":74785925,"question_id":74785701,"body_markdown":"You could construct something like that using relfection, but you most certainly **should not** attempt this. \r\n\r\nIf you have control over the generated code then use an interface, as mentioned earlier. Otherwise just accept the reality of writing this boilerplate code.","title":"avoid duplication in Java due to auto generated similar classes","body":"<p>You could construct something like that using relfection, but you most certainly <strong>should not</strong> attempt this.</p>\n<p>If you have control over the generated code then use an interface, as mentioned earlier. Otherwise just accept the reality of writing this boilerplate code.</p>\n"}],"owner":{"account_id":27240405,"reputation":1,"user_id":20766683,"display_name":"obgraf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670939594,"creation_date":1670938441,"question_id":74785701,"body_markdown":"\r\n[Multiple instances ][1]\r\n\r\nEach FaultType comes from a different package. For example \r\n\r\n**com.test.package1.FaultType** \r\n\r\nand \r\n\r\n**com.test.package2.FaultType** \r\n\r\nare exactly identical (but this might change in the future). These classes are auto generated and cannot be modified. I have created a custom internal class \r\n\r\n\r\n```\r\npublic class CustomFault {\r\n\r\n    private String type;\r\n    private int number;\r\n    private String description;\r\n    private String retryAfter;\r\n    private String system;\r\n    private String nativeError;\r\n    private String nativeDescription;\r\n```\r\n\r\nthat will be created by copying values from FaultType to CustomFault. \r\n\r\nMy goal is to avoid code duplication. So I want to create a common method that will return a new instance of CustomFault by using generic code instead of my current situation.\r\n\r\n```\r\nCustomFault transformFault(com.test.package1.FaultType fault) {\r\n //duplicate code here\r\n}\r\n\r\nCustomFault transformFault(com.test.package2.FaultType fault) {\r\n //duplicate code here\r\n}\r\n\r\nCustomFault transformFault(com.test.package3.FaultType fault) {\r\n //duplicate code here\r\n}\r\n```\r\n\r\nHow can I do it in Java (my current version is Java 8). \r\n\r\n\r\n\r\n\r\n\r\nI have tried to use generics, without luck. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tWUjh.png","title":"avoid duplication in Java due to auto generated similar classes","body":"<p><a href=\"https://i.stack.imgur.com/tWUjh.png\" rel=\"nofollow noreferrer\">Multiple instances </a></p>\n<p>Each FaultType comes from a different package. For example</p>\n<p><strong>com.test.package1.FaultType</strong></p>\n<p>and</p>\n<p><strong>com.test.package2.FaultType</strong></p>\n<p>are exactly identical (but this might change in the future). These classes are auto generated and cannot be modified. I have created a custom internal class</p>\n<pre><code>public class CustomFault {\n\n    private String type;\n    private int number;\n    private String description;\n    private String retryAfter;\n    private String system;\n    private String nativeError;\n    private String nativeDescription;\n</code></pre>\n<p>that will be created by copying values from FaultType to CustomFault.</p>\n<p>My goal is to avoid code duplication. So I want to create a common method that will return a new instance of CustomFault by using generic code instead of my current situation.</p>\n<pre><code>CustomFault transformFault(com.test.package1.FaultType fault) {\n //duplicate code here\n}\n\nCustomFault transformFault(com.test.package2.FaultType fault) {\n //duplicate code here\n}\n\nCustomFault transformFault(com.test.package3.FaultType fault) {\n //duplicate code here\n}\n</code></pre>\n<p>How can I do it in Java (my current version is Java 8).</p>\n<p>I have tried to use generics, without luck.</p>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1670939175,"post_id":74785742,"comment_id":131985224,"body_markdown":"It looks like you are configuring Gradle to load artifacts from the `libs` dir which is not the same thing as putting those things on the classpath.  It is difficult to say for sure without more info, but my suspicioun is that you want those sql files on your runtime classpath and if so, putting them in `src/main/resources/` and eliminating your `flatDir` stuff may be the right thing to do.","body":"It looks like you are configuring Gradle to load artifacts from the <code>libs</code> dir which is not the same thing as putting those things on the classpath.  It is difficult to say for sure without more info, but my suspicioun is that you want those sql files on your runtime classpath and if so, putting them in <code>src&#47;main&#47;resources&#47;</code> and eliminating your <code>flatDir</code> stuff may be the right thing to do."}],"answers":[{"tags":[],"owner":{"account_id":26069264,"reputation":34,"user_id":19769250,"display_name":"wbiller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670939517,"creation_date":1670939517,"answer_id":74785910,"question_id":74785742,"body_markdown":"Everything you have in libs directory needs to go to src/main/resources. Then it will be visible on the classpath.","title":"Spring in application.yaml dont see classpath of my lib","body":"<p>Everything you have in libs directory needs to go to src/main/resources. Then it will be visible on the classpath.</p>\n"}],"owner":{"account_id":19985221,"reputation":21,"user_id":20708977,"display_name":"Valentine Ezerins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74785910,"answer_count":1,"score":0,"last_activity_date":1670939517,"creation_date":1670938718,"question_id":74785742,"body_markdown":"i try to use conf files from lib, but applcation.yaml dont see classpath to lib\r\n\r\nthis is my gradle.build\r\n\r\n&gt;! [image of apllication.yaml](https://i.stack.imgur.com/Aj4zB.png)\r\n\r\n````\r\nplugins { \r\n  id &#39;java&#39; \r\n  id &#39;org.springframework.boot&#39; version &#39;2.7.6&#39; \r\n  id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39; \r\n}\r\n\r\ngroup = &#39;common&#39; \r\nversion = &#39;0.0.1-SNAPSHOT&#39; \r\nsourceCompatibility = &#39;8&#39;\r\n\r\nconfigurations { \r\n  compileOnly { \r\n    extendsFrom annotationProcessor \r\n  } \r\n}\r\n\r\nrepositories { \r\n  mavenCentral() \r\n  flatDir { \r\n    dirs &#39;libs&#39; \r\n  } \r\n}\r\n\r\ndependencies { \r\n  implementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39; \r\n  implementation &#39;org.mockito:mockito-core:4.9.0&#39;\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-web&#39; \r\n  implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39; \r\n  implementation group: &#39;ma.glasnost.orika&#39;, name: &#39;orika-core&#39;, version: &#39;1.5.4&#39; \r\n  implementation &#39;common:0.3.2&#39; \r\n  implementation group: &#39;org.springdoc&#39;, name: &#39;springdoc-openapi-ui&#39;, version: &#39;1.6.13&#39; \r\n  implementation group: &#39;com.oracle.database.jdbc&#39;, name: &#39;ojdbc8&#39;, version: &#39;21.7.0.0&#39; \r\n  implementation &#39;org.postgresql:postgresql&#39; \r\n  implementation &#39;org.jetbrains:annotations:23.0.0&#39; \r\n  implementation &#39;org.springframework.boot:spring-boot-starter-cache:2.7.6&#39; \r\n  implementation &#39;org.springframework.boot:spring-boot-starter-data-redis:2.7.6&#39; \r\n  compileOnly &#39;org.projectlombok:lombok&#39; \r\n  annotationProcessor &#39;org.projectlombok:lombok&#39; \r\n  testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39; \r\n}\r\n\r\ntasks.named(&#39;test&#39;) { \r\n  useJUnitPlatform() \r\n}\r\n````\r\n\r\nCan someome explain me what i do wrong?","title":"Spring in application.yaml dont see classpath of my lib","body":"<p>i try to use conf files from lib, but applcation.yaml dont see classpath to lib</p>\n<p>this is my gradle.build</p>\n<blockquote class=\"spoiler\">\n<p> <a href=\"https://i.stack.imgur.com/Aj4zB.png\" rel=\"nofollow noreferrer\">image of apllication.yaml</a></p>\n</blockquote>\n<pre><code>plugins { \n  id 'java' \n  id 'org.springframework.boot' version '2.7.6' \n  id 'io.spring.dependency-management' version '1.1.0' \n}\n\ngroup = 'common' \nversion = '0.0.1-SNAPSHOT' \nsourceCompatibility = '8'\n\nconfigurations { \n  compileOnly { \n    extendsFrom annotationProcessor \n  } \n}\n\nrepositories { \n  mavenCentral() \n  flatDir { \n    dirs 'libs' \n  } \n}\n\ndependencies { \n  implementation 'org.springframework.boot:spring-boot-starter-jdbc' \n  implementation 'org.mockito:mockito-core:4.9.0'\n  implementation 'org.springframework.boot:spring-boot-starter-web' \n  implementation 'org.springframework.boot:spring-boot-starter-data-jpa' \n  implementation group: 'ma.glasnost.orika', name: 'orika-core', version: '1.5.4' \n  implementation 'common:0.3.2' \n  implementation group: 'org.springdoc', name: 'springdoc-openapi-ui', version: '1.6.13' \n  implementation group: 'com.oracle.database.jdbc', name: 'ojdbc8', version: '21.7.0.0' \n  implementation 'org.postgresql:postgresql' \n  implementation 'org.jetbrains:annotations:23.0.0' \n  implementation 'org.springframework.boot:spring-boot-starter-cache:2.7.6' \n  implementation 'org.springframework.boot:spring-boot-starter-data-redis:2.7.6' \n  compileOnly 'org.projectlombok:lombok' \n  annotationProcessor 'org.projectlombok:lombok' \n  testImplementation 'org.springframework.boot:spring-boot-starter-test' \n}\n\ntasks.named('test') { \n  useJUnitPlatform() \n}\n</code></pre>\n<p>Can someome explain me what i do wrong?</p>\n"},{"tags":["java","jboss"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1670957698,"post_id":74785777,"comment_id":131991938,"body_markdown":"I&#39;m posting as a comment because it requires a subscription to see this, but https://access.redhat.com/solutions/6981120.","body":"I&#39;m posting as a comment because it requires a subscription to see this, but <a href=\"https://access.redhat.com/solutions/6981120\" rel=\"nofollow noreferrer\">access.redhat.com/solutions/6981120</a>."},{"owner":{"account_id":24880569,"reputation":1,"user_id":18753833,"display_name":"Re Viki"},"score":0,"creation_date":1670966069,"post_id":74785777,"comment_id":131994226,"body_markdown":"yes i saw it, but cannot view it, plus it says `SOLUTION IN PROGRESS ` which means there is no solution for it yet","body":"yes i saw it, but cannot view it, plus it says <code>SOLUTION IN PROGRESS </code> which means there is no solution for it yet"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1671037743,"post_id":74785777,"comment_id":132012875,"body_markdown":"There is a solution in that document. I apologize I can&#39;t share more other than a patch is required. I assume you&#39;ve got a Red Hat account given the version of JBoss EAP being used.","body":"There is a solution in that document. I apologize I can&#39;t share more other than a patch is required. I assume you&#39;ve got a Red Hat account given the version of JBoss EAP being used."}],"owner":{"account_id":24880569,"reputation":1,"user_id":18753833,"display_name":"Re Viki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670938869,"creation_date":1670938869,"question_id":74785777,"body_markdown":"```\r\nException in thread &quot;Thread-3&quot; java.lang.NoClassDefFoundError: org/jboss/modules/ModuleLoadException\r\n        at org.jboss.ejb.client.EJBClientContext.getDefault(EJBClientContext.java:110)\r\n        at org.wildfly.common.context.ContextManager.getPrivileged(ContextManager.java:286)\r\n        at org.jboss.ejb.client.EJBClientContext.getCurrent(EJBClientContext.java:861)\r\n        at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:165)\r\n        at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:116)\r\n        at com.sun.proxy.$Proxy2.sendResponse(Unknown Source)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.ClassNotFoundException: org.jboss.modules.ModuleLoadException\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n        ... 9 more\r\n```\r\n\r\nHello, after updating the Jboss to newer version, it started to throw above error. obviously it cannot find `jboss-client.jar` but i do not understand why?  any hint will be much appreciated.\r\n\r\nThanks in advance ","title":"EAP 7.4.8 jboss-client.jar throws NoClassDefFoundError","body":"<pre><code>Exception in thread &quot;Thread-3&quot; java.lang.NoClassDefFoundError: org/jboss/modules/ModuleLoadException\n        at org.jboss.ejb.client.EJBClientContext.getDefault(EJBClientContext.java:110)\n        at org.wildfly.common.context.ContextManager.getPrivileged(ContextManager.java:286)\n        at org.jboss.ejb.client.EJBClientContext.getCurrent(EJBClientContext.java:861)\n        at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:165)\n        at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:116)\n        at com.sun.proxy.$Proxy2.sendResponse(Unknown Source)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.ClassNotFoundException: org.jboss.modules.ModuleLoadException\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 9 more\n</code></pre>\n<p>Hello, after updating the Jboss to newer version, it started to throw above error. obviously it cannot find <code>jboss-client.jar</code> but i do not understand why?  any hint will be much appreciated.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","sendgrid"],"answers":[{"tags":[],"owner":{"account_id":1007631,"reputation":1078,"user_id":1020941,"display_name":"Nisd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644515702,"creation_date":1644515702,"answer_id":71070005,"question_id":71068523,"body_markdown":"According to their documentation the only limit is 30MB or less.\r\n\r\nhttps://docs.sendgrid.com/api-reference/mail-send/limitations\r\n\r\nFrom having used SendGrid in the past, I would be surprised if they limit what file types you can send.","title":"SendGrid emailing API , which types of email attachment supported by SendGrid","body":"<p>According to their documentation the only limit is 30MB or less.</p>\n<p><a href=\"https://docs.sendgrid.com/api-reference/mail-send/limitations\" rel=\"nofollow noreferrer\">https://docs.sendgrid.com/api-reference/mail-send/limitations</a></p>\n<p>From having used SendGrid in the past, I would be surprised if they limit what file types you can send.</p>\n"},{"tags":[],"owner":{"account_id":24266573,"reputation":16,"user_id":18215369,"display_name":"Ian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670937939,"creation_date":1670937939,"answer_id":74785603,"question_id":71068523,"body_markdown":"Just a small precision: The total size of your email, including attachments, must be less than 30MB. \r\n\r\nTheir recommendation is not to exceed 10MB","title":"SendGrid emailing API , which types of email attachment supported by SendGrid","body":"<p>Just a small precision: The total size of your email, including attachments, must be less than 30MB.</p>\n<p>Their recommendation is not to exceed 10MB</p>\n"}],"owner":{"account_id":6051517,"reputation":227,"user_id":6817506,"accept_rate":71,"display_name":"ks_on_v"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74785603,"answer_count":2,"score":0,"last_activity_date":1670937939,"creation_date":1644509733,"question_id":71068523,"body_markdown":"I&#39;m using next code for send email attachments:\r\n\r\n    Attachments attachments3 = new Attachments();\r\n    Base64 x = new Base64();\r\n    String imageDataString = x.encodeAsString(fileData);\r\n    attachments3.setContent(imageDataString);\r\n    attachments3.setType(&quot;image/png&quot;);//&quot;application/pdf&quot;\r\n    attachments3.setFilename(&quot;x.png&quot;);\r\n    attachments3.setDisposition(&quot;attachment&quot;);\r\n    attachments3.setContentId(&quot;Banner&quot;);\r\n    mail.addAttachments(attachments3);\r\n\r\nHere there is setter setType. \r\n\r\nDo SendGrid have white list for type of attachment?\r\n\r\nFor example i can&#39;t send .exe or .rar files in another services. I want know prohibitions for SendGrid.","title":"SendGrid emailing API , which types of email attachment supported by SendGrid","body":"<p>I'm using next code for send email attachments:</p>\n<pre><code>Attachments attachments3 = new Attachments();\nBase64 x = new Base64();\nString imageDataString = x.encodeAsString(fileData);\nattachments3.setContent(imageDataString);\nattachments3.setType(&quot;image/png&quot;);//&quot;application/pdf&quot;\nattachments3.setFilename(&quot;x.png&quot;);\nattachments3.setDisposition(&quot;attachment&quot;);\nattachments3.setContentId(&quot;Banner&quot;);\nmail.addAttachments(attachments3);\n</code></pre>\n<p>Here there is setter setType.</p>\n<p>Do SendGrid have white list for type of attachment?</p>\n<p>For example i can't send .exe or .rar files in another services. I want know prohibitions for SendGrid.</p>\n"},{"tags":["java","spring-boot","apache-poi"],"owner":{"account_id":16518030,"reputation":113,"user_id":11934922,"display_name":"Rishabh Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670937873,"creation_date":1670937873,"question_id":74785584,"body_markdown":"We have a process to uplod file which includes two steps-\r\n\r\n1. get file content via multipart request from UI and save into database.\r\n  code from controller is given below-\r\n\r\n        public Response uploadCallbacks(\r\n                @ApiParam(value = &quot;A unique identifier&quot;, required = true) @PathParam(&quot;campaignId&quot;) Integer id,\r\n                @ApiParam(value = &quot;The file input stream data in chunks&quot;, required = true) @FormDataParam(&quot;file&quot;) InputStream inputStream,\r\n                @ApiParam(value = &quot;The content disposition of file&quot;, required = true) @FormDataParam(&quot;file&quot;) FormDataContentDisposition data,\r\n                @Context SecurityContext securityContext) throws IOException\r\n        { callbackUploadService.process(inputStream, data, id, u);\r\n\r\n\r\n\r\n\r\n2. Fetch stream from DB and read the input stream\r\nBut at first step if we are trying to convert this stream to POI WorkBook object\r\n\r\n    Workbook wb = StreamingReader.builder().sstCacheSize(100).open(uploadedInputStream);\r\n\r\n then it is giving below error\r\n\t\r\n    Exception in thread &quot;main&quot; org.apache.poi.openxml4j.exceptions.NotOfficeXmlFileException: No valid entries or contents found, this is not a valid OOXML (Office Open XML) file`\r\n\r\n\r\n**NOTE- THIS PIECE OF CODE IS WORKING FINE ON LOCAL MACHINE AS WELL AS IN SOME OTHER ENV , ISSUE IS WITH SOME ENVIRONMENTS ONLY WHEN EXCEL FILE CONTAINS 17 COLUMNS AND 25 ROWS IF NO OF ROWS DECREASES IT WORK FINE(ON LOCAL MACHINE EXCEL FILE WITH 17 ROWS AND 1000/2000 ROWS WORKING FINE).**\r\n\r\n","title":"Getting NotOfficeXmlFileException while converting input stream (Multipart data) to Workbook POI","body":"<p>We have a process to uplod file which includes two steps-</p>\n<ol>\n<li><p>get file content via multipart request from UI and save into database.\ncode from controller is given below-</p>\n<pre><code> public Response uploadCallbacks(\n         @ApiParam(value = &quot;A unique identifier&quot;, required = true) @PathParam(&quot;campaignId&quot;) Integer id,\n         @ApiParam(value = &quot;The file input stream data in chunks&quot;, required = true) @FormDataParam(&quot;file&quot;) InputStream inputStream,\n         @ApiParam(value = &quot;The content disposition of file&quot;, required = true) @FormDataParam(&quot;file&quot;) FormDataContentDisposition data,\n         @Context SecurityContext securityContext) throws IOException\n { callbackUploadService.process(inputStream, data, id, u);\n</code></pre>\n</li>\n<li><p>Fetch stream from DB and read the input stream\nBut at first step if we are trying to convert this stream to POI WorkBook object</p>\n<p>Workbook wb = StreamingReader.builder().sstCacheSize(100).open(uploadedInputStream);</p>\n</li>\n</ol>\n<p>then it is giving below error</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.poi.openxml4j.exceptions.NotOfficeXmlFileException: No valid entries or contents found, this is not a valid OOXML (Office Open XML) file`\n</code></pre>\n<p><strong>NOTE- THIS PIECE OF CODE IS WORKING FINE ON LOCAL MACHINE AS WELL AS IN SOME OTHER ENV , ISSUE IS WITH SOME ENVIRONMENTS ONLY WHEN EXCEL FILE CONTAINS 17 COLUMNS AND 25 ROWS IF NO OF ROWS DECREASES IT WORK FINE(ON LOCAL MACHINE EXCEL FILE WITH 17 ROWS AND 1000/2000 ROWS WORKING FINE).</strong></p>\n"},{"tags":["java","spring","nginx","apache-kafka","websocket"],"owner":{"account_id":18010089,"reputation":1,"user_id":13089984,"display_name":"Puneet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670937260,"creation_date":1670937260,"question_id":74785462,"body_markdown":"\r\nMy applicaion have 3 instance which are reading data from kafka having same group id each node have disjoint data (different data) and client will connect to a socket to the application using nginx but as nginx will load balance it will send request to a particular node so chances are that it will not have data for that. The id in request is same as the partition key of kafka. So is there a solution to route nginx to the correct application which have the data of id as after socket connection there will be continous flow of data from server(data coming from kafka)  to client.","title":"Custom routing via nginx based on which application node getting different data from kafka","body":"<p>My applicaion have 3 instance which are reading data from kafka having same group id each node have disjoint data (different data) and client will connect to a socket to the application using nginx but as nginx will load balance it will send request to a particular node so chances are that it will not have data for that. The id in request is same as the partition key of kafka. So is there a solution to route nginx to the correct application which have the data of id as after socket connection there will be continous flow of data from server(data coming from kafka)  to client.</p>\n"},{"tags":["java","android","exception"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664981421,"post_id":73960602,"comment_id":130593459,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26525527,"reputation":3,"user_id":20158589,"display_name":"nat34"},"score":0,"creation_date":1664990674,"post_id":73960602,"comment_id":130596687,"body_markdown":"My question, is why does it throw the expectation whenever I do the ```mediaPlayer.prepare()``` method. I pass the URL using setDataSource. and prepare should call onPrepared when it is ready to play audio... but again, the exception happens, for some reason. \nAnd I&#39;m not sure why it happens.... that&#39;s what I&#39;m asking.","body":"My question, is why does it throw the expectation whenever I do the <code>mediaPlayer.prepare()</code> method. I pass the URL using setDataSource. and prepare should call onPrepared when it is ready to play audio... but again, the exception happens, for some reason.  And I&#39;m not sure why it happens.... that&#39;s what I&#39;m asking."}],"answers":[{"tags":[],"owner":{"account_id":1442484,"reputation":476,"user_id":1362165,"display_name":"Mike Macpherson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670937248,"creation_date":1670937248,"answer_id":74785460,"question_id":73960602,"body_markdown":"Try using  https://www.ilemon.mobi/fightnIncastle1.mp3  as the URL.  I suspect it&#39;s something to do with non-https stream.","title":"Android MediaPlayer java.io.IOException: Prepare failed.: status=0x1, cant fix","body":"<p>Try using  <a href=\"https://www.ilemon.mobi/fightnIncastle1.mp3\" rel=\"nofollow noreferrer\">https://www.ilemon.mobi/fightnIncastle1.mp3</a>  as the URL.  I suspect it's something to do with non-https stream.</p>\n"}],"owner":{"account_id":26525527,"reputation":3,"user_id":20158589,"display_name":"nat34"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670937248,"creation_date":1664974180,"question_id":73960602,"body_markdown":"I&#39;ve tried a lot of things... but none seem to work.\r\nMost of them from here:\r\nhttps://stackoverflow.com/questions/55479574/android-mediaplayer-java-io-ioexception-prepare-failed-status-0x1\r\n\r\nSo I tried to play music using MediaPlayer in android, But the prepare always fails with the same exception. Here is my onStartCommand function:\r\n```\r\n@Override\r\n    public int onStartCommand(Intent intent,int flags, int startId)\r\n    {\r\n        Toast.makeText(this, &quot;Service on start&quot;, Toast.LENGTH_LONG).show();\r\n        String lnk = intent.getExtras().getString(&quot;link&quot;);\r\n        mediaPlayerM.reset();\r\n        if(!mediaPlayerM.isPlaying())\r\n        {\r\n            try\r\n            {\r\n                mediaPlayerM.setDataSource(lnk);\r\n                mediaPlayerM.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n                mediaPlayerM.prepare();\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                System.out.print(e.toString());\r\n                Toast.makeText(this, e.toString(), Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n        return START_STICKY;\r\n    }\r\n```\r\n\r\nand the onPrepared function:\r\n```\r\npublic void onPrepared(MediaPlayer mp)\r\n    {\r\n        if(!mediaPlayerM.isPlaying())\r\n        {\r\n            mediaPlayerM.start();\r\n        }\r\n    }\r\n```\r\n\r\nSo basically I try debugging, and everytime variable e (which is the exception) is the same ```java.io.IOException: Prepare failed.: status=0x1.```\r\n\r\nBtw, the URL I pass is: ```http://www.ilemon.mobi/fightnIncastle1.mp3```, which should work fine.\r\n\r\nTL;DR:\r\nMy question, is why does it throw the expectation whenever I USE the mediaPlayer.prepare() method. I pass the URL using setDataSource. and prepare should call onPrepared when it is ready to play audio... but again, the exception happens, for some reason. And I&#39;m not sure why it happens.... that&#39;s what I&#39;m asking.\r\n(I have all the permissions in the manifest)","title":"Android MediaPlayer java.io.IOException: Prepare failed.: status=0x1, cant fix","body":"<p>I've tried a lot of things... but none seem to work.\nMost of them from here:\n<a href=\"https://stackoverflow.com/questions/55479574/android-mediaplayer-java-io-ioexception-prepare-failed-status-0x1\">Android MediaPlayer java.io.IOException: Prepare failed.: status=0x1</a></p>\n<p>So I tried to play music using MediaPlayer in android, But the prepare always fails with the same exception. Here is my onStartCommand function:</p>\n<pre><code>@Override\n    public int onStartCommand(Intent intent,int flags, int startId)\n    {\n        Toast.makeText(this, &quot;Service on start&quot;, Toast.LENGTH_LONG).show();\n        String lnk = intent.getExtras().getString(&quot;link&quot;);\n        mediaPlayerM.reset();\n        if(!mediaPlayerM.isPlaying())\n        {\n            try\n            {\n                mediaPlayerM.setDataSource(lnk);\n                mediaPlayerM.setAudioStreamType(AudioManager.STREAM_MUSIC);\n                mediaPlayerM.prepare();\n            }\n            catch (Exception e)\n            {\n                System.out.print(e.toString());\n                Toast.makeText(this, e.toString(), Toast.LENGTH_LONG).show();\n            }\n        }\n        return START_STICKY;\n    }\n</code></pre>\n<p>and the onPrepared function:</p>\n<pre><code>public void onPrepared(MediaPlayer mp)\n    {\n        if(!mediaPlayerM.isPlaying())\n        {\n            mediaPlayerM.start();\n        }\n    }\n</code></pre>\n<p>So basically I try debugging, and everytime variable e (which is the exception) is the same <code>java.io.IOException: Prepare failed.: status=0x1.</code></p>\n<p>Btw, the URL I pass is: <code>http://www.ilemon.mobi/fightnIncastle1.mp3</code>, which should work fine.</p>\n<p>TL;DR:\nMy question, is why does it throw the expectation whenever I USE the mediaPlayer.prepare() method. I pass the URL using setDataSource. and prepare should call onPrepared when it is ready to play audio... but again, the exception happens, for some reason. And I'm not sure why it happens.... that's what I'm asking.\n(I have all the permissions in the manifest)</p>\n"},{"tags":["java","mongodb","docker","networking"],"answers":[{"tags":[],"owner":{"account_id":8496927,"reputation":34,"user_id":6371250,"display_name":"aparajith vangal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1517547187,"creation_date":1517547187,"answer_id":48575908,"question_id":48575520,"body_markdown":"You can try,\r\n**autoConnectRetry** simply means the driver will automatically attempt to reconnect to the server(s) after unexpected disconnects. In production environments you usually want this set to true.\r\n\r\nThis is from another post, https://stackoverflow.com/questions/6520439/how-to-configure-mongodb-java-driver-mongooptions-for-production-use \r\n\r\n","title":"Every 15 minutes there will be this exception, look at the fillInStackTrace information","body":"<p>You can try,\n<strong>autoConnectRetry</strong> simply means the driver will automatically attempt to reconnect to the server(s) after unexpected disconnects. In production environments you usually want this set to true.</p>\n\n<p>This is from another post, <a href=\"https://stackoverflow.com/questions/6520439/how-to-configure-mongodb-java-driver-mongooptions-for-production-use\">How to configure MongoDB Java driver MongoOptions for production use?</a> </p>\n"},{"tags":[],"owner":{"account_id":18249863,"reputation":21,"user_id":13285094,"display_name":"peisun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670936969,"creation_date":1670936589,"answer_id":74785323,"question_id":48575520,"body_markdown":"for everybody who is experiencing the same random `MongoSocketReadException`, you may need the `socketTimeoutMS` or `maxIdleTimeMS` parameters instead. The parameter `autoConnectRetry` is not exposed any more in the mongodb connection string.\r\n\r\nOur situation: we switched to mongodb atlas serverless solution for our development and testing environments, ever since then we got this `MongoSocketReadException` like every 15 min. or randomly. We are also behind a enterprise firewall. \r\n\r\nAccording to https://www.mongodb.com/docs/v6.0/tutorial/connection-pool-performance-tuning/:\r\n\r\n&gt; a misconfigured firewall closes a socket connection incorrectly and the driver cannot detect that the connection closed improperly.\r\n&gt; you need =&gt; Use socketTimeoutMS to ensure that sockets are always closed. Set socketTimeoutMS to two or three times the length of the slowest operation that the driver runs.\r\n\r\nbecause the `socketTimeoutMS` is by default 0, which will never timeout.\r\n\r\nAnd another parameter `maxIdleTimeMS` may also affect the connection because if the socket is closed and on the client side it&#39;s not detected, the connection will be still waiting in idle time and not cloesd. And by default it&#39;s 0 meaning it waits forever with no upper boundaries. \r\n\r\nSo configure this to a small amount may help the driver to close the the problematic connection with its closed socket, before it tries to connect to the db using the same connection and presumes the connection is still there.\r\n\r\nSo our solution:\r\n`...mongodbUri...?socketTimeoutMS=150000&amp;maxIdleTimeMS=150000`\r\n\r\nwe changed the `socketTimeoutMS` from 0 to 15s and same for the `maxIdleTimeMS`.","title":"Every 15 minutes there will be this exception, look at the fillInStackTrace information","body":"<p>for everybody who is experiencing the same random <code>MongoSocketReadException</code>, you may need the <code>socketTimeoutMS</code> or <code>maxIdleTimeMS</code> parameters instead. The parameter <code>autoConnectRetry</code> is not exposed any more in the mongodb connection string.</p>\n<p>Our situation: we switched to mongodb atlas serverless solution for our development and testing environments, ever since then we got this <code>MongoSocketReadException</code> like every 15 min. or randomly. We are also behind a enterprise firewall.</p>\n<p>According to <a href=\"https://www.mongodb.com/docs/v6.0/tutorial/connection-pool-performance-tuning/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/v6.0/tutorial/connection-pool-performance-tuning/</a>:</p>\n<blockquote>\n<p>a misconfigured firewall closes a socket connection incorrectly and the driver cannot detect that the connection closed improperly.\nyou need =&gt; Use socketTimeoutMS to ensure that sockets are always closed. Set socketTimeoutMS to two or three times the length of the slowest operation that the driver runs.</p>\n</blockquote>\n<p>because the <code>socketTimeoutMS</code> is by default 0, which will never timeout.</p>\n<p>And another parameter <code>maxIdleTimeMS</code> may also affect the connection because if the socket is closed and on the client side it's not detected, the connection will be still waiting in idle time and not cloesd. And by default it's 0 meaning it waits forever with no upper boundaries.</p>\n<p>So configure this to a small amount may help the driver to close the the problematic connection with its closed socket, before it tries to connect to the db using the same connection and presumes the connection is still there.</p>\n<p>So our solution:\n<code>...mongodbUri...?socketTimeoutMS=150000&amp;maxIdleTimeMS=150000</code></p>\n<p>we changed the <code>socketTimeoutMS</code> from 0 to 15s and same for the <code>maxIdleTimeMS</code>.</p>\n"}],"owner":{"account_id":12861519,"reputation":79,"user_id":9303116,"display_name":"william"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3662,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":48575908,"answer_count":2,"score":1,"last_activity_date":1670936969,"creation_date":1517544113,"question_id":48575520,"body_markdown":"**Problem Description:** MongoDB version is 3.4 &lt;br&gt;\r\nIn fact, did not do anything on the normal query, write,  &lt;br&gt;\r\nbecause it is in the testing phase, QPS is small.\r\n\r\n**Question: &lt;br&gt;**\r\n1: How is this anomaly produced.&lt;br&gt;\r\n2: what configuration or adjustment needs to be done? help me\r\n\r\n\r\n    02-01 15:11:47 WARN  - Got socket exception on connection [connectionId{localValue:43}] to 172.16.199.96:22001. All connections to 172.16.199.96:22001 will be closed.\r\n    02-01 15:11:47 INFO  - Closed connection [connectionId{localValue:43}] to 172.16.199.96:22001 because there was a socket exception raised by this connection.\r\n            org.springframework.data.mongodb.UncategorizedMongoDbException: Exception receiving message; nested exception is com.mongodb.MongoSocketReadException: Exception receiving message\r\n                at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:107)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2135)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:1978)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:1784)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:1767)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.find(MongoTemplate.java:641)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:606)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:598)\r\n                at com.xxx.xxx.xxx.xxx(xxxService.java:46)\r\n                at com.xxx.xxx.xxx.xxx(xxxService.java:157)\r\n                at com.xxx.xxx.xxx.xxx(xxxService.java:142)\r\n                at com.xxx.xxx.xxx.xxx(xxxService.java:87)\r\n                at com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\r\n                at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\r\n                at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\r\n                at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\r\n                at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:100)\r\n                at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\r\n                at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\r\n                at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\r\n                at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\r\n                at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n                at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n                at java.lang.Thread.run(Thread.java:748)\r\n            Caused by: com.mongodb.MongoSocketReadException: Exception receiving message\r\n                at com.mongodb.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:483)\r\n                at com.mongodb.connection.InternalStreamConnection.receiveMessage(InternalStreamConnection.java:228)\r\n                at com.mongodb.connection.UsageTrackingInternalConnection.receiveMessage(UsageTrackingInternalConnection.java:96)\r\n                at com.mongodb.connection.DefaultConnectionPool$PooledConnection.receiveMessage(DefaultConnectionPool.java:440)\r\n                at com.mongodb.connection.CommandProtocol.execute(CommandProtocol.java:112)\r\n                at com.mongodb.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:168)\r\n                at com.mongodb.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:289)\r\n                at com.mongodb.connection.DefaultServerConnection.command(DefaultServerConnection.java:176)\r\n                at com.mongodb.operation.CommandOperationHelper.executeWrappedCommandProtocol(CommandOperationHelper.java:216)\r\n                at com.mongodb.operation.CommandOperationHelper.executeWrappedCommandProtocol(CommandOperationHelper.java:207)\r\n                at com.mongodb.operation.CommandOperationHelper.executeWrappedCommandProtocol(CommandOperationHelper.java:113)\r\n                at com.mongodb.operation.FindOperation$1.call(FindOperation.java:516)\r\n                at com.mongodb.operation.FindOperation$1.call(FindOperation.java:510)\r\n                at com.mongodb.operation.OperationHelper.withConnectionSource(OperationHelper.java:431)\r\n                at com.mongodb.operation.OperationHelper.withConnection(OperationHelper.java:404)\r\n                at com.mongodb.operation.FindOperation.execute(FindOperation.java:510)\r\n                at com.mongodb.operation.FindOperation.execute(FindOperation.java:81)\r\n                at com.mongodb.Mongo.execute(Mongo.java:836)\r\n                at com.mongodb.Mongo$2.execute(Mongo.java:823)\r\n                at com.mongodb.DBCursor.initializeCursor(DBCursor.java:870)\r\n                at com.mongodb.DBCursor.hasNext(DBCursor.java:142)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:1964)\r\n                ... 37 common frames omitted\r\n            Caused by: java.net.SocketException: Connection reset\r\n                at java.net.SocketInputStream.read(SocketInputStream.java:210)\r\n                at java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n                at com.mongodb.connection.SocketStream.read(SocketStream.java:85)\r\n                at com.mongodb.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:494)\r\n                at com.mongodb.connection.InternalStreamConnection.receiveMessage(InternalStreamConnection.java:224)\r\n                ... 57 common frames omitted\r\n\r\n\r\n**java version 1.8. &lt;br&gt;\r\nspring boot version 1.5.3. &lt;br&gt;\r\ndeployed with docker.**\r\n\r\n    mongo.hosts=ip:port,ip:port,ip:port\r\n    mongo.database.name=dbname\r\n    mongo.username=username\r\n    mongo.password=pwd\r\n    mongo.connections.per.host=32\r\n    mongo.max.wait.time=2000\r\n    mongo.connect.timeout=2000\r\n\r\n\r\n\r\n\r\n","title":"Every 15 minutes there will be this exception, look at the fillInStackTrace information","body":"<p><strong>Problem Description:</strong> MongoDB version is 3.4 <br>\nIn fact, did not do anything on the normal query, write,  <br>\nbecause it is in the testing phase, QPS is small.</p>\n\n<p><strong>Question: <br></strong>\n1: How is this anomaly produced.<br>\n2: what configuration or adjustment needs to be done? help me</p>\n\n<pre><code>02-01 15:11:47 WARN  - Got socket exception on connection [connectionId{localValue:43}] to 172.16.199.96:22001. All connections to 172.16.199.96:22001 will be closed.\n02-01 15:11:47 INFO  - Closed connection [connectionId{localValue:43}] to 172.16.199.96:22001 because there was a socket exception raised by this connection.\n        org.springframework.data.mongodb.UncategorizedMongoDbException: Exception receiving message; nested exception is com.mongodb.MongoSocketReadException: Exception receiving message\n            at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:107)\n            at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2135)\n            at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:1978)\n            at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:1784)\n            at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:1767)\n            at org.springframework.data.mongodb.core.MongoTemplate.find(MongoTemplate.java:641)\n            at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:606)\n            at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:598)\n            at com.xxx.xxx.xxx.xxx(xxxService.java:46)\n            at com.xxx.xxx.xxx.xxx(xxxService.java:157)\n            at com.xxx.xxx.xxx.xxx(xxxService.java:142)\n            at com.xxx.xxx.xxx.xxx(xxxService.java:87)\n            at com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\n            at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\n            at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\n            at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\n            at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:100)\n            at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\n            at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\n            at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\n            at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n            at java.lang.Thread.run(Thread.java:748)\n        Caused by: com.mongodb.MongoSocketReadException: Exception receiving message\n            at com.mongodb.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:483)\n            at com.mongodb.connection.InternalStreamConnection.receiveMessage(InternalStreamConnection.java:228)\n            at com.mongodb.connection.UsageTrackingInternalConnection.receiveMessage(UsageTrackingInternalConnection.java:96)\n            at com.mongodb.connection.DefaultConnectionPool$PooledConnection.receiveMessage(DefaultConnectionPool.java:440)\n            at com.mongodb.connection.CommandProtocol.execute(CommandProtocol.java:112)\n            at com.mongodb.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:168)\n            at com.mongodb.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:289)\n            at com.mongodb.connection.DefaultServerConnection.command(DefaultServerConnection.java:176)\n            at com.mongodb.operation.CommandOperationHelper.executeWrappedCommandProtocol(CommandOperationHelper.java:216)\n            at com.mongodb.operation.CommandOperationHelper.executeWrappedCommandProtocol(CommandOperationHelper.java:207)\n            at com.mongodb.operation.CommandOperationHelper.executeWrappedCommandProtocol(CommandOperationHelper.java:113)\n            at com.mongodb.operation.FindOperation$1.call(FindOperation.java:516)\n            at com.mongodb.operation.FindOperation$1.call(FindOperation.java:510)\n            at com.mongodb.operation.OperationHelper.withConnectionSource(OperationHelper.java:431)\n            at com.mongodb.operation.OperationHelper.withConnection(OperationHelper.java:404)\n            at com.mongodb.operation.FindOperation.execute(FindOperation.java:510)\n            at com.mongodb.operation.FindOperation.execute(FindOperation.java:81)\n            at com.mongodb.Mongo.execute(Mongo.java:836)\n            at com.mongodb.Mongo$2.execute(Mongo.java:823)\n            at com.mongodb.DBCursor.initializeCursor(DBCursor.java:870)\n            at com.mongodb.DBCursor.hasNext(DBCursor.java:142)\n            at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:1964)\n            ... 37 common frames omitted\n        Caused by: java.net.SocketException: Connection reset\n            at java.net.SocketInputStream.read(SocketInputStream.java:210)\n            at java.net.SocketInputStream.read(SocketInputStream.java:141)\n            at com.mongodb.connection.SocketStream.read(SocketStream.java:85)\n            at com.mongodb.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:494)\n            at com.mongodb.connection.InternalStreamConnection.receiveMessage(InternalStreamConnection.java:224)\n            ... 57 common frames omitted\n</code></pre>\n\n<p><strong>java version 1.8. <br>\nspring boot version 1.5.3. <br>\ndeployed with docker.</strong></p>\n\n<pre><code>mongo.hosts=ip:port,ip:port,ip:port\nmongo.database.name=dbname\nmongo.username=username\nmongo.password=pwd\nmongo.connections.per.host=32\nmongo.max.wait.time=2000\nmongo.connect.timeout=2000\n</code></pre>\n"},{"tags":["java","linked-list","queue"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1670921740,"post_id":74781412,"comment_id":131979027,"body_markdown":"What `Queue` do you mean? `java.util.Queue` is an interface and doesn&#39;t have an implementation for the `size()` method and I couldn&#39;t find (in reasonable time) any implementation of that interface that calculates the size by traversing.","body":"What <code>Queue</code> do you mean? <code>java.util.Queue</code> is an interface and doesn&#39;t have an implementation for the <code>size()</code> method and I couldn&#39;t find (in reasonable time) any implementation of that interface that calculates the size by traversing."},{"owner":{"account_id":27237089,"reputation":1,"user_id":20763838,"display_name":"wb lin"},"score":0,"creation_date":1670925007,"post_id":74781412,"comment_id":131980219,"body_markdown":"ConcurrentLinkedQueue","body":"ConcurrentLinkedQueue"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670917566,"creation_date":1670917566,"answer_id":74781492,"question_id":74781412,"body_markdown":"This is likely the cost of holding/aquiring the value.\r\n\r\nWhen you keep a static variable it costs memory and the time to keep the value up to date - while you still do not know whether you need the value at all.\r\n\r\nIn contrary you can calculate the value, e.g. by traversing the list. This will cost time.\r\n\r\nSo depending on the amount of data you store, the dynamics of insertion/deletion, how you need to access the data and how often you need the size one or the other implementation may be beneficial. That is why the platform offers many different collection types.","title":"Design principles in java","body":"<p>This is likely the cost of holding/aquiring the value.</p>\n<p>When you keep a static variable it costs memory and the time to keep the value up to date - while you still do not know whether you need the value at all.</p>\n<p>In contrary you can calculate the value, e.g. by traversing the list. This will cost time.</p>\n<p>So depending on the amount of data you store, the dynamics of insertion/deletion, how you need to access the data and how often you need the size one or the other implementation may be beneficial. That is why the platform offers many different collection types.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670936899,"creation_date":1670936899,"answer_id":74785391,"question_id":74781412,"body_markdown":"The likely reason is the cost to update a `size` field.\r\n\r\n`ConcurrentLinkedQueue` is written for high-performance concurrent `offer()` and `poll()` operations and is written trying to minimize contention for the same memory location.\r\n\r\nMaintaining a `size` field would require updates to that field on every call to `offer()` and `poll()` and that update must be atomically (maybe using `AtomicLong` which under contention may need to loop several times until the value has been changed).\r\n\r\nFor a queue the size is normally less important than the simple &quot;is empty&quot; / &quot;is not empty&quot; property (and a similar &quot;is full&quot; / &quot;is not full&quot; - but for an effectively unlimited queue like `ConcurrentLinkedQueue` it is impossible to reach a &quot;full&quot; state).","title":"Design principles in java","body":"<p>The likely reason is the cost to update a <code>size</code> field.</p>\n<p><code>ConcurrentLinkedQueue</code> is written for high-performance concurrent <code>offer()</code> and <code>poll()</code> operations and is written trying to minimize contention for the same memory location.</p>\n<p>Maintaining a <code>size</code> field would require updates to that field on every call to <code>offer()</code> and <code>poll()</code> and that update must be atomically (maybe using <code>AtomicLong</code> which under contention may need to loop several times until the value has been changed).</p>\n<p>For a queue the size is normally less important than the simple &quot;is empty&quot; / &quot;is not empty&quot; property (and a similar &quot;is full&quot; / &quot;is not full&quot; - but for an effectively unlimited queue like <code>ConcurrentLinkedQueue</code> it is impossible to reach a &quot;full&quot; state).</p>\n"}],"owner":{"account_id":27237089,"reputation":1,"user_id":20763838,"display_name":"wb lin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670936899,"creation_date":1670917097,"question_id":74781412,"body_markdown":"Why does the underlying source code of a java queue get its size by traversing rather than maintaining static variables? For example, linkedList tracks size through static variables and wants to know why it is designed.\r\n\r\nDo not add entities unless necessary","title":"Design principles in java","body":"<p>Why does the underlying source code of a java queue get its size by traversing rather than maintaining static variables? For example, linkedList tracks size through static variables and wants to know why it is designed.</p>\n<p>Do not add entities unless necessary</p>\n"},{"tags":["java","docker"],"owner":{"account_id":27239907,"reputation":1,"user_id":20766258,"display_name":"zzzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670935936,"creation_date":1670935936,"question_id":74785163,"body_markdown":"I&#39;m connecting to database service running on localhost. Via java program running on docker I would like to connect to that service.\r\nHere is small example:\r\n\r\n```\r\nConnection con = DriverManager.getConnection(&quot;jdbc:db2://host.docker.internal:1000/database&quot;,&quot;user&quot;,&quot;******&quot;);\r\nlogger.info(&quot;connection created&quot;);\r\n```\r\n\r\nIn case, that database service isn&#39;t available, getting connection will never expire. So no timeout exception or unable to connect exception will be thrown. Thread will be remain seated and will not end. \r\nAnd this will happen not just for jdbc connection, but also for e.g. http, jms, ...\r\n\r\n\r\nIs it possible to set timeout in docker for host.docker.internal?","title":"Is it possible to set timeout for any connection to host.docker.internal in java application under docker containter?","body":"<p>I'm connecting to database service running on localhost. Via java program running on docker I would like to connect to that service.\nHere is small example:</p>\n<pre><code>Connection con = DriverManager.getConnection(&quot;jdbc:db2://host.docker.internal:1000/database&quot;,&quot;user&quot;,&quot;******&quot;);\nlogger.info(&quot;connection created&quot;);\n</code></pre>\n<p>In case, that database service isn't available, getting connection will never expire. So no timeout exception or unable to connect exception will be thrown. Thread will be remain seated and will not end.\nAnd this will happen not just for jdbc connection, but also for e.g. http, jms, ...</p>\n<p>Is it possible to set timeout in docker for host.docker.internal?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-annotations"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1670359070,"post_id":74708760,"comment_id":131857533,"body_markdown":"Have you verified that you are using the correct [`@Value`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html) annotation?","body":"Have you verified that you are using the correct <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html\" rel=\"nofollow noreferrer\"><code>@Value</code></a> annotation?"},{"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"score":1,"creation_date":1670359261,"post_id":74708760,"comment_id":131857597,"body_markdown":"@Turing85 \nimport org.springframework.beans.factory.annotation.Value;\n\nAlso added at number 6 in list","body":"@Turing85  import org.springframework.beans.factory.annotation.Value;  Also added at number 6 in list"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1670359528,"post_id":74708760,"comment_id":131857676,"body_markdown":"Can you provide a [MRE], e.g. in form of a git repository?","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, e.g. in form of a git repository?"},{"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"score":0,"creation_date":1670359977,"post_id":74708760,"comment_id":131857815,"body_markdown":"@Turing85 I can, but sad thing is, its working in other sample project where I tried to replicate it but not in a project which I am working on and it cannot be shared. So I am searching for options which I need to look into like project configuration or spell check or resources folder tagging or anything which I am certainly missing here.","body":"@Turing85 I can, but sad thing is, its working in other sample project where I tried to replicate it but not in a project which I am working on and it cannot be shared. So I am searching for options which I need to look into like project configuration or spell check or resources folder tagging or anything which I am certainly missing here."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1670360254,"post_id":74708760,"comment_id":131857898,"body_markdown":"Run the program with `--trace` to check if your application.properties are loaded.","body":"Run the program with <code>--trace</code> to check if your application.properties are loaded."},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1670361951,"post_id":74708760,"comment_id":131858398,"body_markdown":"Spring boot has default rule to scan packages (package containing the @ SpringBootApplication class ..), but if the name of your class&#39;s package doesn&#39;t match then you have to add it to a @ComponentScan annotation.","body":"Spring boot has default rule to scan packages (package containing the @ SpringBootApplication class ..), but if the name of your class&#39;s package doesn&#39;t match then you have to add it to a @ComponentScan annotation."},{"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"score":0,"creation_date":1670362252,"post_id":74708760,"comment_id":131858487,"body_markdown":"Check that file.name is defined in your application.properties file.  Then check that you have `@ComponentScan(basePackages = {&quot;com.whatever.appname.*&quot;})` at the top of your your SpringBootApplication class.","body":"Check that file.name is defined in your application.properties file.  Then check that you have <code>@ComponentScan(basePackages = {&quot;com.whatever.appname.*&quot;})</code> at the top of your your SpringBootApplication class."},{"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"score":0,"creation_date":1670362818,"post_id":74708760,"comment_id":131858642,"body_markdown":"@old_dd\nAfter adding &#39;@ComponentScan&#39; getting below error in editor and suggesting to remove it:\n\nRedundant declaration: &#39;@SpringBootApplication&#39; already applies given &#39;@ComponentScan &#39;","body":"@old_dd After adding &#39;@ComponentScan&#39; getting below error in editor and suggesting to remove it:  Redundant declaration: &#39;@SpringBootApplication&#39; already applies given &#39;@ComponentScan &#39;"},{"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"score":0,"creation_date":1670363107,"post_id":74708760,"comment_id":131858707,"body_markdown":"did you add the basePackages attribute?  SpringBootApplication includes ComponentScan, but the default value, If specific packages are not defined, will cause scanning to occur from the package of the class with this annotation.","body":"did you add the basePackages attribute?  SpringBootApplication includes ComponentScan, but the default value, If specific packages are not defined, will cause scanning to occur from the package of the class with this annotation."},{"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"score":0,"creation_date":1670364654,"post_id":74708760,"comment_id":131859069,"body_markdown":"Note sure about solution, but application.properties file was definitely not being loaded at runtime.\nSo removed &#39;@Value&#39; (which I don&#39;t wanted to do) and tried legacy alternative to load properties file and it worked. Still investigating why &#39;@Value&#39; is not loading properties file. @PeterMmm any ideas?\n\n**Temporary solution:**\n_private Properties props = new Properties();\nprops.load(VaultCredential.class.getResourceAsStream(&quot;/application.properties&quot;));\nprops.getProperty(&quot;file.name&quot;);_","body":"Note sure about solution, but application.properties file was definitely not being loaded at runtime. So removed &#39;@Value&#39; (which I don&#39;t wanted to do) and tried legacy alternative to load properties file and it worked. Still investigating why &#39;@Value&#39; is not loading properties file. @PeterMmm any ideas?  <b>Temporary solution:</b> <i>private Properties props = new Properties(); props.load(VaultCredential.class.getResourceAsStream(&quot;/appli&zwnj;&#8203;cation.properties&quot;))&zwnj;&#8203;; props.getProperty(&quot;file.name&quot;);</i>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670422579,"post_id":74708760,"comment_id":131872977,"body_markdown":"An `@Value` like an `@Autowired` cannot be `null`, if that happens a startup exception would occur and the application wouldn&#39;t even start. The fact that it is `null` is more an indication that you are creating an instance of the class yourself using `new` and thus it won&#39;t be processed by Spring and thus nothing will happen. Also please add the full class and not just a snippet, also show where you are using this/how you are using this and when it is `null`.","body":"An <code>@Value</code> like an <code>@Autowired</code> cannot be <code>null</code>, if that happens a startup exception would occur and the application wouldn&#39;t even start. The fact that it is <code>null</code> is more an indication that you are creating an instance of the class yourself using <code>new</code> and thus it won&#39;t be processed by Spring and thus nothing will happen. Also please add the full class and not just a snippet, also show where you are using this/how you are using this and when it is <code>null</code>."},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1670424498,"post_id":74708760,"comment_id":131873759,"body_markdown":"Do you load the properties file in the Application class or do you expect them to be picked up by default?","body":"Do you load the properties file in the Application class or do you expect them to be picked up by default?"},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1670424621,"post_id":74708760,"comment_id":131873810,"body_markdown":"Also in the build section in the pom.xml (or the equivalent for gradle) you might need to add them there. Since you have already a project thaty they run it might be easy to compare what they have on those 2 places.","body":"Also in the build section in the pom.xml (or the equivalent for gradle) you might need to add them there. Since you have already a project thaty they run it might be easy to compare what they have on those 2 places."},{"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"score":0,"creation_date":1670437641,"post_id":74708760,"comment_id":131878469,"body_markdown":"@Dimitris If we write &#39;@SpringBootApplication&#39;, ideally spring should automatically load everything from &#39;application.properties&#39; file and inject into variables annotated with &#39;@Value&#39;. This is what my understanding is. Correct me if I am wrong.","body":"@Dimitris If we write &#39;@SpringBootApplication&#39;, ideally spring should automatically load everything from &#39;application.properties&#39; file and inject into variables annotated with &#39;@Value&#39;. This is what my understanding is. Correct me if I am wrong."},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1670505759,"post_id":74708760,"comment_id":131893772,"body_markdown":"Indeed this is the default, but maybe you need to set the property source to use the @Value. There are many ways to do that I check baeldung for example: https://github.com/eugenp/tutorials/blob/master/spring-boot-modules/spring-boot-properties-2/src/main/java/com/baeldung/properties/value/ValuesApp.java Maybe you can try something like that.","body":"Indeed this is the default, but maybe you need to set the property source to use the @Value. There are many ways to do that I check baeldung for example: <a href=\"https://github.com/eugenp/tutorials/blob/master/spring-boot-modules/spring-boot-properties-2/src/main/java/com/baeldung/properties/value/ValuesApp.java\" rel=\"nofollow noreferrer\">github.com/eugenp/tutorials/blob/master/spring-boot-modules/&zwnj;&#8203;&hellip;</a> Maybe you can try something like that."},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1670506090,"post_id":74708760,"comment_id":131893902,"body_markdown":"I am using it in my project and I see that we set both propertysource, also in the application class using  return application.sources(Application.class).properties(&quot;&quot;) and in the pom file. So not sure, which one you need to make it work. That is why I said compare with your other project.","body":"I am using it in my project and I see that we set both propertysource, also in the application class using  return application.sources(Application.class).properties(&quot;&quot;) and in the pom file. So not sure, which one you need to make it work. That is why I said compare with your other project."}],"answers":[{"tags":[],"owner":{"account_id":8361884,"reputation":24,"user_id":6279883,"display_name":"Parinda Amin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670422338,"creation_date":1670415095,"answer_id":74716503,"question_id":74708760,"body_markdown":"Can you please try with below code\r\n    \r\n    private String PathForImageGallery;\r\n    \r\n\t@Value(&quot;${file.name}&quot;)\r\n\tpublic void PathForImageGallery(String PathForImageGallery) {\r\n\t\tthis.PathForImageGallery = PathForImageGallery;\r\n\t}","title":"SpringBoot 2.7.5 - @Value annotation not assigning any values from application.properties file","body":"<p>Can you please try with below code</p>\n<pre><code>private String PathForImageGallery;\n\n@Value(&quot;${file.name}&quot;)\npublic void PathForImageGallery(String PathForImageGallery) {\n    this.PathForImageGallery = PathForImageGallery;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670935912,"creation_date":1670935559,"answer_id":74785089,"question_id":74708760,"body_markdown":"Apologies everyone. I was calling a class where was trying to bind `@Value` with properties and calling it in `main()` method of `@SpringBootApplication`.\r\nTotally missed that `main()` method will not load property values until spring application is up and running.\r\n\r\nWorking solution if some one want to load properties before even running a SpringBoot application -\r\n\r\n    private Properties props = new Properties();\r\n    props.load(VaultCredential.class.getResourceAsStream(&quot;/application.properties&quot;));\r\n    props.getProperty(&quot;file.name&quot;);\r\n\r\nPS - Thanks all for your efforts. Admins can close it down if considered as non-logical question.","title":"SpringBoot 2.7.5 - @Value annotation not assigning any values from application.properties file","body":"<p>Apologies everyone. I was calling a class where was trying to bind <code>@Value</code> with properties and calling it in <code>main()</code> method of <code>@SpringBootApplication</code>.\nTotally missed that <code>main()</code> method will not load property values until spring application is up and running.</p>\n<p>Working solution if some one want to load properties before even running a SpringBoot application -</p>\n<pre><code>private Properties props = new Properties();\nprops.load(VaultCredential.class.getResourceAsStream(&quot;/application.properties&quot;));\nprops.getProperty(&quot;file.name&quot;);\n</code></pre>\n<p>PS - Thanks all for your efforts. Admins can close it down if considered as non-logical question.</p>\n"}],"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":988,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74785089,"answer_count":2,"score":0,"last_activity_date":1670935912,"creation_date":1670359003,"question_id":74708760,"body_markdown":"I am using Spring Boot 2.7.5\r\nWhile using **@Value** annotation to inject values form **application.properties** file, getting null assignment to variables under **@Configuration** class.\r\n\r\n**Example:**\r\n\r\n```\r\n@Value(&quot;${file.name}&quot;)\r\nprivate String fileName;\r\n```\r\n\r\nHere I am getting seeing assignment to variable *fileName*\r\nIdeally it should assign value *&#39;${file.name}&#39;* if key isn&#39;t matching. But null assignment means something is breaking in the project (at least I think so, I need experts comments on this).\r\n\r\nSame thing is working in another project but not in this particular.\r\n\r\nLet me know if my question is not elaborative enough and will try to explain in detail\r\n\r\nMy question is, why is it working in other project but not in this one. What configurations could go wrong which I need to check. Have gone through multiple stackoverflow solutions and verified all below:\r\n 1. application.properties file spell check\r\n 2. @Configuration annotation at top of class where @Value is being used\r\n 3. key value pair assignment and spell check of all keys\r\n 4. no issues with library imports\r\n 5. Tried to add **@PropertySource(&quot;classpath:foo.properties&quot;)**\r\n 6. *import org.springframework.beans.factory.annotation.Value;*\r\n 7. *resources* folder is correctly marked as **&#39;Resources Root&#39;**\r\n 8. \r\n\r\n**Temporary Alternative**\r\n\r\n    private Properties props = new Properties();\r\n    props.load(VaultCredential.class.getResourceAsStream(&quot;/application.properties&quot;));\r\n    props.getProperty(&quot;file.name&quot;);","title":"SpringBoot 2.7.5 - @Value annotation not assigning any values from application.properties file","body":"<p>I am using Spring Boot 2.7.5\nWhile using <strong>@Value</strong> annotation to inject values form <strong>application.properties</strong> file, getting null assignment to variables under <strong>@Configuration</strong> class.</p>\n<p><strong>Example:</strong></p>\n<pre><code>@Value(&quot;${file.name}&quot;)\nprivate String fileName;\n</code></pre>\n<p>Here I am getting seeing assignment to variable <em>fileName</em>\nIdeally it should assign value <em>'${file.name}'</em> if key isn't matching. But null assignment means something is breaking in the project (at least I think so, I need experts comments on this).</p>\n<p>Same thing is working in another project but not in this particular.</p>\n<p>Let me know if my question is not elaborative enough and will try to explain in detail</p>\n<p>My question is, why is it working in other project but not in this one. What configurations could go wrong which I need to check. Have gone through multiple stackoverflow solutions and verified all below:</p>\n<ol>\n<li>application.properties file spell check</li>\n<li>@Configuration annotation at top of class where @Value is being used</li>\n<li>key value pair assignment and spell check of all keys</li>\n<li>no issues with library imports</li>\n<li>Tried to add <strong>@PropertySource(&quot;classpath:foo.properties&quot;)</strong></li>\n<li><em>import org.springframework.beans.factory.annotation.Value;</em></li>\n<li><em>resources</em> folder is correctly marked as <strong>'Resources Root'</strong></li>\n<li></li>\n</ol>\n<p><strong>Temporary Alternative</strong></p>\n<pre><code>private Properties props = new Properties();\nprops.load(VaultCredential.class.getResourceAsStream(&quot;/application.properties&quot;));\nprops.getProperty(&quot;file.name&quot;);\n</code></pre>\n"},{"tags":["java","git","intellij-idea","git-config","core.autocrlf"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1670934602,"post_id":74784848,"comment_id":131983572,"body_markdown":"have you checked if the line endings are differents ? Try to run `git diff` with `--ignore-cr-at-eol` argument (and also  `--ignore-all-space` if you want to ignore space/tabs conversion)","body":"have you checked if the line endings are differents ? Try to run <code>git diff</code> with <code>--ignore-cr-at-eol</code> argument (and also  <code>--ignore-all-space</code> if you want to ignore space/tabs conversion)"},{"owner":{"account_id":23608230,"reputation":39,"user_id":17643637,"display_name":"Umesh Goti"},"score":0,"creation_date":1670934778,"post_id":74784848,"comment_id":131983652,"body_markdown":"@jhamon Thanks for your quick reply\njust tried using your way but still it doesn&#39;t make any effect. can you please check if by other i can resolve","body":"@jhamon Thanks for your quick reply just tried using your way but still it doesn&#39;t make any effect. can you please check if by other i can resolve"},{"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"score":0,"creation_date":1670958384,"post_id":74784848,"comment_id":131992149,"body_markdown":"Could it be the file encoding?","body":"Could it be the file encoding?"}],"answers":[{"tags":[],"owner":{"account_id":6985227,"reputation":73,"user_id":5356474,"display_name":"furkanbegen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670935833,"creation_date":1670935833,"answer_id":74785140,"question_id":74784848,"body_markdown":"You should select the correct line ending from bottom right panel of the intellij\r\n\r\nhttps://i.stack.imgur.com/rLtOp.png","title":"windows git shows difference for whole file","body":"<p>You should select the correct line ending from bottom right panel of the intellij</p>\n<p><a href=\"https://i.stack.imgur.com/rLtOp.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/rLtOp.png</a></p>\n"}],"owner":{"account_id":23608230,"reputation":39,"user_id":17643637,"display_name":"Umesh Goti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74785140,"answer_count":1,"score":0,"last_activity_date":1670935833,"creation_date":1670934421,"question_id":74784848,"body_markdown":" as i am using below setup for my work station &lt;br/&gt;\r\nwindows, intellij idea\r\n\r\ntill now everything was working fine with changes in intellij and was able to see difference using `git diff`\r\ncommand. &lt;br/&gt; but suddenly now even if i am making single line change in .java file it shows whole file in `git diff` command\r\n\r\nalso i checked my intellij which shows `CRLF` on right bottom corner.\r\n\r\nand in my c:/users/umeshuser/.gitconfig  which is as below &lt;br/&gt;\r\n\r\n    [user]\r\n    \temail = umesh.g@xyz.com\r\n    \tname = UmeshGoti\r\n    [core]\r\n    \tautocrlf = true\r\n    \tsafecrlf = false\r\n\r\n&lt;br/&gt; and below is config file available in my root project/.git/config&lt;br/&gt;\r\n\r\n    [core]\r\n    \trepositoryformatversion = 0\r\n    \tfilemode = false\r\n    \tbare = false\r\n    \tlogallrefupdates = true\r\n    \tsymlinks = false\r\n    \tignorecase = true\r\n    [remote &quot;origin&quot;]\r\n    \turl = https://{bitbucketURL}/backend-api.git\r\n    \tfetch = +refs/heads/*:refs/remotes/origin/*\r\n    [branch &quot;API_PROD&quot;]\r\n    \tremote = origin\r\n    \tmerge = refs/heads/API_PROD\r\n    [branch &quot;API_DEV&quot;]\r\n    \tremote = origin\r\n    \tmerge = refs/heads/API_DEV\r\n\r\ni have tried by uninstalling git and intellij then also issue is not resolved\r\n\r\ncan someone please help me to solve this issue\r\n\r\nplease note just before 2-3 days i think updated windows OS. so, is there any issue with that also \r\n\r\nalso intellij diff tool shows me below formats CR and CRLF\r\n[![enter image description here][1]][1]\r\n\r\nplease advice me to resolve this issue\r\n\r\nThanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XZyck.png","title":"windows git shows difference for whole file","body":"<p>as i am using below setup for my work station <br/>\nwindows, intellij idea</p>\n<p>till now everything was working fine with changes in intellij and was able to see difference using <code>git diff</code>\ncommand. <br/> but suddenly now even if i am making single line change in .java file it shows whole file in <code>git diff</code> command</p>\n<p>also i checked my intellij which shows <code>CRLF</code> on right bottom corner.</p>\n<p>and in my c:/users/umeshuser/.gitconfig  which is as below <br/></p>\n<pre><code>[user]\n    email = umesh.g@xyz.com\n    name = UmeshGoti\n[core]\n    autocrlf = true\n    safecrlf = false\n</code></pre>\n<p><br/> and below is config file available in my root project/.git/config<br/></p>\n<pre><code>[core]\n    repositoryformatversion = 0\n    filemode = false\n    bare = false\n    logallrefupdates = true\n    symlinks = false\n    ignorecase = true\n[remote &quot;origin&quot;]\n    url = https://{bitbucketURL}/backend-api.git\n    fetch = +refs/heads/*:refs/remotes/origin/*\n[branch &quot;API_PROD&quot;]\n    remote = origin\n    merge = refs/heads/API_PROD\n[branch &quot;API_DEV&quot;]\n    remote = origin\n    merge = refs/heads/API_DEV\n</code></pre>\n<p>i have tried by uninstalling git and intellij then also issue is not resolved</p>\n<p>can someone please help me to solve this issue</p>\n<p>please note just before 2-3 days i think updated windows OS. so, is there any issue with that also</p>\n<p>also intellij diff tool shows me below formats CR and CRLF\n<a href=\"https://i.stack.imgur.com/XZyck.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XZyck.png\" alt=\"enter image description here\" /></a></p>\n<p>please advice me to resolve this issue</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","android","react-native"],"comments":[{"owner":{"account_id":22245021,"reputation":566,"user_id":16478855,"display_name":"Ankit Vora"},"score":0,"creation_date":1670934435,"post_id":74784386,"comment_id":131983506,"body_markdown":"you need to change your JDK from 1.8 to 8 or higher, I refer to using JDK 11.","body":"you need to change your JDK from 1.8 to 8 or higher, I refer to using JDK 11."}],"answers":[{"tags":[],"owner":{"account_id":3319649,"reputation":2683,"user_id":2791142,"display_name":"Kirill Novikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670935615,"creation_date":1670935615,"answer_id":74785103,"question_id":74784386,"body_markdown":"Try to install it with brew\r\n\r\n```\r\nbrew tap homebrew/cask-versions\r\nbrew install --cask zulu11\r\n```\r\n\r\nThen check in terminal\r\n\r\n```\r\njava -version\r\nopenjdk version &quot;11.0.13&quot; 2021-10-19\r\nOpenJDK Runtime Environment Temurin-11.0.13+8 (build 11.0.13+8)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.13+8 (build 11.0.13+8, mixed mode)\r\n```","title":"JDK error while i run react-native-doctor but i already upgrade jdk version","body":"<p>Try to install it with brew</p>\n<pre><code>brew tap homebrew/cask-versions\nbrew install --cask zulu11\n</code></pre>\n<p>Then check in terminal</p>\n<pre><code>java -version\nopenjdk version &quot;11.0.13&quot; 2021-10-19\nOpenJDK Runtime Environment Temurin-11.0.13+8 (build 11.0.13+8)\nOpenJDK 64-Bit Server VM Temurin-11.0.13+8 (build 11.0.13+8, mixed mode)\n</code></pre>\n"}],"owner":{"account_id":23616483,"reputation":13,"user_id":17650509,"display_name":"Sabillah sakti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74785103,"answer_count":1,"score":1,"last_activity_date":1670935615,"creation_date":1670932095,"question_id":74784386,"body_markdown":"So i have error while i run react-native-doctor\r\n\r\n```\r\n JDK\r\n   - Version found: 1.8.0_352\r\n   - Version supported: &gt;= 8\r\n  Android Studio - Required for building and installing your app on Android\r\n  Android SDK - Required for building and installing your app on Android\r\n  ANDROID_HOME\r\n```\r\n\r\ncan anyone solve that problem?","title":"JDK error while i run react-native-doctor but i already upgrade jdk version","body":"<p>So i have error while i run react-native-doctor</p>\n<pre><code> JDK\n   - Version found: 1.8.0_352\n   - Version supported: &gt;= 8\n  Android Studio - Required for building and installing your app on Android\n  Android SDK - Required for building and installing your app on Android\n  ANDROID_HOME\n</code></pre>\n<p>can anyone solve that problem?</p>\n"},{"tags":["java","spring","mongodb"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1670920022,"post_id":74781799,"comment_id":131978517,"body_markdown":"arent you missing an &quot;and&quot; block that wraps all the &quot;or&quot; blocks?","body":"arent you missing an &quot;and&quot; block that wraps all the &quot;or&quot; blocks?"},{"owner":{"account_id":9484565,"reputation":249,"user_id":7051311,"accept_rate":20,"display_name":"confused_geek"},"score":0,"creation_date":1670920258,"post_id":74781799,"comment_id":131978579,"body_markdown":"yeah , i tried that approach also , still no luck , i have updated my post for reference.","body":"yeah , i tried that approach also , still no luck , i have updated my post for reference."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1670920888,"post_id":74781799,"comment_id":131978767,"body_markdown":"Should all the params be `?0` in the second example? Shouldn&#39;t they be `?0`, `?1` and so on?","body":"Should all the params be <code>?0</code> in the second example? Shouldn&#39;t they be <code>?0</code>, <code>?1</code> and so on?"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1670921043,"post_id":74781799,"comment_id":131978816,"body_markdown":"Also, you might consider using `CriteriaBuilder`, because this kind of usecase is exactly what it&#39;s meant for. https://www.baeldung.com/queries-in-spring-data-mongodb","body":"Also, you might consider using <code>CriteriaBuilder</code>, because this kind of usecase is exactly what it&#39;s meant for. <a href=\"https://www.baeldung.com/queries-in-spring-data-mongodb\" rel=\"nofollow noreferrer\">baeldung.com/queries-in-spring-data-mongodb</a>"},{"owner":{"account_id":9484565,"reputation":249,"user_id":7051311,"accept_rate":20,"display_name":"confused_geek"},"score":0,"creation_date":1670921213,"post_id":74781799,"comment_id":131978866,"body_markdown":"@Tarmo yeah correct , it&#39;s ?0 , ?1 like that only","body":"@Tarmo yeah correct , it&#39;s ?0 , ?1 like that only"},{"owner":{"account_id":9484565,"reputation":249,"user_id":7051311,"accept_rate":20,"display_name":"confused_geek"},"score":0,"creation_date":1670921595,"post_id":74781799,"comment_id":131978986,"body_markdown":"@Tarmo, so writing this inside a Query annotation is not the correct approach?","body":"@Tarmo, so writing this inside a Query annotation is not the correct approach?"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1670934605,"post_id":74781799,"comment_id":131983574,"body_markdown":"I am not saying it can&#39;t be done like that. I&#39;m saying that for cases when the criteria is complex and very dynamic and depends highly on the input, CriteriaBuilder is the tool to use. The code will be more readable and better maintainable than a hackish multiline escaped string.","body":"I am not saying it can&#39;t be done like that. I&#39;m saying that for cases when the criteria is complex and very dynamic and depends highly on the input, CriteriaBuilder is the tool to use. The code will be more readable and better maintainable than a hackish multiline escaped string."},{"owner":{"account_id":9484565,"reputation":249,"user_id":7051311,"accept_rate":20,"display_name":"confused_geek"},"score":0,"creation_date":1670935112,"post_id":74781799,"comment_id":131983769,"body_markdown":"@Tarmo I tried using CriteriaBuilder, but now it says cannot find &quot;find()&quot; method , I have edited the post and attached the screenshot. Currently i am extending MongoRepository","body":"@Tarmo I tried using CriteriaBuilder, but now it says cannot find &quot;find()&quot; method , I have edited the post and attached the screenshot. Currently i am extending MongoRepository"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1670938018,"post_id":74781799,"comment_id":131984817,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250372/discussion-between-tarmo-and-confused-geek).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250372/discussion-between-tarmo-and-confused-geek\">continue this discussion in chat</a>."}],"owner":{"account_id":9484565,"reputation":249,"user_id":7051311,"accept_rate":20,"display_name":"confused_geek"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670935147,"creation_date":1670919436,"question_id":74781799,"body_markdown":"I&#39;m trying to write a query for spring mongo&#39;s @Query annotation, where it gets data for all those fields whose value is not null, that&#39;s coming from the front end.\r\n\r\nCurrently, I have tried this, but it just returns all the records.\r\n\r\n    @Query(&quot;{ { $or: [ { $where: &#39;?0 == null&#39; }, { name: &#39;?0&#39; } ] }&quot; +\r\n            &quot; { $or: [ { $where: &#39;?1 == null&#39; }, { age: &#39;?1&#39; } ] }&quot; +\r\n            &quot; { $or: [ { $where: &#39;?2 == null&#39; }, { batch: &#39;?2&#39; } ] }&quot; +\r\n            &quot; { $or: [ { $where: &#39;?3 == null&#39; }, { $or: [{startDate: &#39;?3&#39;}, {endDate: &#39;?3&#39;}] } ] } }&quot;)\r\n\r\n\r\nEdit: I have tried wrapping the $or inside an $and , but it still returns all the records.\r\n\r\n    @Query(&quot;{$and:{\\r\\n&quot;\r\n    \t\t+ &quot;   { $or: [ { $where: &#39;?0 == null&#39; }, { name: &#39;?0&#39; } ] },\\r\\n&quot;\r\n    \t\t+ &quot;   { $or: [ { $where: &#39;?1 == null&#39; }, { age: &#39;?1&#39; } ] },\\r\\n&quot;\r\n    \t\t+ &quot;   { $or: [ { $where: &#39;?2 == null&#39; }, { batch: &#39;?2&#39; } ] },\\r\\n&quot;\r\n    \t\t+ &quot;}}&quot;)\r\n\r\n\r\nEdit:\r\ntried criteria builder , now it says cannot find &quot;find()&quot; method\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vxdNN.png","title":"How to write a dynamic query inside @Query annotation for spring mongo JPA","body":"<p>I'm trying to write a query for spring mongo's @Query annotation, where it gets data for all those fields whose value is not null, that's coming from the front end.</p>\n<p>Currently, I have tried this, but it just returns all the records.</p>\n<pre><code>@Query(&quot;{ { $or: [ { $where: '?0 == null' }, { name: '?0' } ] }&quot; +\n        &quot; { $or: [ { $where: '?1 == null' }, { age: '?1' } ] }&quot; +\n        &quot; { $or: [ { $where: '?2 == null' }, { batch: '?2' } ] }&quot; +\n        &quot; { $or: [ { $where: '?3 == null' }, { $or: [{startDate: '?3'}, {endDate: '?3'}] } ] } }&quot;)\n</code></pre>\n<p>Edit: I have tried wrapping the $or inside an $and , but it still returns all the records.</p>\n<pre><code>@Query(&quot;{$and:{\\r\\n&quot;\n        + &quot;   { $or: [ { $where: '?0 == null' }, { name: '?0' } ] },\\r\\n&quot;\n        + &quot;   { $or: [ { $where: '?1 == null' }, { age: '?1' } ] },\\r\\n&quot;\n        + &quot;   { $or: [ { $where: '?2 == null' }, { batch: '?2' } ] },\\r\\n&quot;\n        + &quot;}}&quot;)\n</code></pre>\n<p>Edit:\ntried criteria builder , now it says cannot find &quot;find()&quot; method\n<a href=\"https://i.stack.imgur.com/vxdNN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vxdNN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","log4j","log4j2"],"owner":{"account_id":20200751,"reputation":1,"user_id":14816513,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670934950,"creation_date":1670934950,"question_id":74784959,"body_markdown":"```\r\nPathCondition[] pathConditions = new PathCondition[]{IfAccumulatedFileCount.createFileCountCondition(5)};\r\n        String basePath = sRolloverPattern.substring(0, sRolloverPattern.lastIndexOf(File.separator));\r\n        DeleteAction deleteAction = DeleteAction.createDeleteAction(basePath, true, 1, true, null, pathConditions, null, config);\r\n\t\t\r\n\t\tDefaultRolloverStrategy strategy = DefaultRolloverStrategy.newBuilder()\r\n                .withConfig(config).withMax(String.valueOf(&quot;3&quot;))\r\n                .withCustomActions(new Action[]{deleteAction}).build();\r\n```\r\nPlease advice as it&#39;s still keeping 3 files for 1st day and next day again 3 files. The file is not getting deleted accordingly mainiting 5 log files.\r\n\r\nPlease advice what changes need to be done?","title":"Log4j2 not deleting the files with DeleteAction","body":"<pre><code>PathCondition[] pathConditions = new PathCondition[]{IfAccumulatedFileCount.createFileCountCondition(5)};\n        String basePath = sRolloverPattern.substring(0, sRolloverPattern.lastIndexOf(File.separator));\n        DeleteAction deleteAction = DeleteAction.createDeleteAction(basePath, true, 1, true, null, pathConditions, null, config);\n        \n        DefaultRolloverStrategy strategy = DefaultRolloverStrategy.newBuilder()\n                .withConfig(config).withMax(String.valueOf(&quot;3&quot;))\n                .withCustomActions(new Action[]{deleteAction}).build();\n</code></pre>\n<p>Please advice as it's still keeping 3 files for 1st day and next day again 3 files. The file is not getting deleted accordingly mainiting 5 log files.</p>\n<p>Please advice what changes need to be done?</p>\n"},{"tags":["java","tomcat","resteasy"],"comments":[{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1465236128,"post_id":26892417,"comment_id":62806371,"body_markdown":"&quot;and the file /WEB-INF/services/javax.servlet.ServletContainerInitializer with the content org.jboss.resteasy.plugins.servlet.ResteasyServletInitializer&quot; -- as far as I can tell, it doesn&#39;t look like this part does anything at all..","body":"&quot;and the file /WEB-INF/services/javax.servlet.ServletContainerInitializer with the content org.jboss.resteasy.plugins.servlet.ResteasyServletInitialize&zwnj;&#8203;r&quot; -- as far as I can tell, it doesn&#39;t look like this part does anything at all.."}],"answers":[{"tags":[],"owner":{"account_id":88584,"reputation":7239,"user_id":244911,"accept_rate":29,"display_name":"LE GALL Beno&#238;t"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1415878698,"creation_date":1415878698,"answer_id":26908046,"question_id":26892417,"body_markdown":"OK, I&#39;ve found \\o/, and for those how meet this problem here is the solution :\r\n\r\nadd the servlet declaration in your web.xml :\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher&lt;/servlet-class&gt;\r\n    \t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n            &lt;param-value&gt;fr.mycompany.myproject.MarkersApplication&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n    \t&lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\r\n    \t&lt;url-pattern&gt;/resteasy/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n\r\nAND override the methods on your SubApplication :\r\n\r\n    @ApplicationPath(&quot;/resteasy&quot;)\r\n    public class MarkersApplication extends Application {\r\n    \r\n    \tprivate static final Set&lt;Object&gt;\tsingletons\t= new HashSet&lt;Object&gt;();\r\n    \r\n    \tpublic MarkersApplication() {\r\n    \t\tsingletons.add(new MarkersRest());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n    \t\tHashSet&lt;Class&lt;?&gt;&gt; set = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n    \t\treturn set;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Set&lt;Object&gt; getSingletons() {\r\n    \t\treturn singletons;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"RestEasy - ResteasyServletInitializer fail","body":"<p>OK, I've found \\o/, and for those how meet this problem here is the solution :</p>\n\n<p>add the servlet declaration in your web.xml :</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n        &lt;param-value&gt;fr.mycompany.myproject.MarkersApplication&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/resteasy/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>AND override the methods on your SubApplication :</p>\n\n<pre><code>@ApplicationPath(\"/resteasy\")\npublic class MarkersApplication extends Application {\n\n    private static final Set&lt;Object&gt;    singletons  = new HashSet&lt;Object&gt;();\n\n    public MarkersApplication() {\n        singletons.add(new MarkersRest());\n    }\n\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        HashSet&lt;Class&lt;?&gt;&gt; set = new HashSet&lt;Class&lt;?&gt;&gt;();\n        return set;\n    }\n\n    @Override\n    public Set&lt;Object&gt; getSingletons() {\n        return singletons;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21427746,"reputation":41,"user_id":15784779,"display_name":"Franz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670934605,"creation_date":1670934605,"answer_id":74784885,"question_id":26892417,"body_markdown":"There is a catch 22 when using the Javascript API Client generator. This is caused by the fact that Wildfly/JBoss only loads a JAXRS application on demand. \r\n\r\nThe JSAPIServlet must be configured to generate the client Javascript code. The client then includes this javascript script in the page. The browser then tries to fetch the client javascript which activates the JSAPI servlet. The JSAPI servlet then scans for any loaded JAXRS applications and finds none (because they are only loaded on demand). The JSAPI Servlet then returns error html code instead of the required javascript. The client code tries to use the Javascript API to make a call to the JAXRS application and cannot because the required client script is invalid.\r\n\r\nSo the client cannot make a call to the JAXRS endpoint becuase it does not have the script and the JSAPIServlet will only generate the script if the JAXRS endpoint is loaded, hence the catch 22. \r\n\r\nAn obvious solution would be to to use a @ApplicationPath annotation parameter to force a load-on-start similar to that on a @WebServlet(load-on-start=1), however this does not appear to be possible!\r\n\r\nThere are three possible solutions that I know of to bypass this problem:\r\n\r\n1) Solution 1\r\n\r\nAfter _deployment_ immediately make a call to a JAXRS endpoint to force the loading of the application. This must be done before the client javascript is loaded. This is a bad idea for so many reasons.\r\n\r\n2) Solution 2\r\n\r\nDo this all manually in the web.xml. Using the following web.xml to force the JAXRS application to load on startup:\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;MyApplication&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.mydomain.api.MyJAXRSApplication&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;MyApplication&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\t\r\nHowever, things get more complicated now because when starting the application manually, it does not itself scan for any @Path annotated endpoints and these have to all be loaded manually in the MyApplication class as follows:\r\n\r\n    @ApplicationPath(&quot;&quot;)\r\n    public class MyJAXRSApplication extends Application {\r\n    \r\n        private static final Set&lt;Object&gt;    singletons  = new HashSet&lt;Object&gt;();\r\n    \r\n        public MyJAXRSApplication() {\r\n            // See: https://stackoverflow.com/questions/26892417/resteasy-resteasyservletinitializer-fail\r\n            singletons.add(new RestServiceA());\t\t// Each annotaed with @Path()\r\n            singletons.add(new RestServiceB());\r\n            singletons.add(new RestServiceC());\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n            HashSet&lt;Class&lt;?&gt;&gt; set = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n            return set;\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;Object&gt; getSingletons() {\r\n            return singletons;\r\n        }\r\n    \r\n    }\r\n\r\n3) Solution 3\r\n\r\nTo use annotations and the endpoint annotation scanner - useful if you want to be able to easily add new @Paths to the app. Here we extend the two servlets to force load-on-start:\r\n\r\nstart the JSAPIServlet using an annotation:\r\n\r\n    @WebServlet(urlPatterns = &quot;/rest-js&quot;, loadOnStartup = 1)\r\n    public class JSAPIServletStartupHack extends JSAPIServlet {\r\n    }\r\n\r\nand to start the JAXRS application on start:\r\n\r\n    @WebServlet(urlPatterns = &quot;&quot;, loadOnStartup = 1)\r\n    public class HttpServletDispatcherHStartupHack extends HttpServletDispatcher {\r\n    }\r\n\r\nI don&#39;t know if this approach has any downsides or side-effects but it appears to work for me.\r\n\r\n\r\n","title":"RestEasy - ResteasyServletInitializer fail","body":"<p>There is a catch 22 when using the Javascript API Client generator. This is caused by the fact that Wildfly/JBoss only loads a JAXRS application on demand.</p>\n<p>The JSAPIServlet must be configured to generate the client Javascript code. The client then includes this javascript script in the page. The browser then tries to fetch the client javascript which activates the JSAPI servlet. The JSAPI servlet then scans for any loaded JAXRS applications and finds none (because they are only loaded on demand). The JSAPI Servlet then returns error html code instead of the required javascript. The client code tries to use the Javascript API to make a call to the JAXRS application and cannot because the required client script is invalid.</p>\n<p>So the client cannot make a call to the JAXRS endpoint becuase it does not have the script and the JSAPIServlet will only generate the script if the JAXRS endpoint is loaded, hence the catch 22.</p>\n<p>An obvious solution would be to to use a @ApplicationPath annotation parameter to force a load-on-start similar to that on a @WebServlet(load-on-start=1), however this does not appear to be possible!</p>\n<p>There are three possible solutions that I know of to bypass this problem:</p>\n<ol>\n<li>Solution 1</li>\n</ol>\n<p>After <em>deployment</em> immediately make a call to a JAXRS endpoint to force the loading of the application. This must be done before the client javascript is loaded. This is a bad idea for so many reasons.</p>\n<ol start=\"2\">\n<li>Solution 2</li>\n</ol>\n<p>Do this all manually in the web.xml. Using the following web.xml to force the JAXRS application to load on startup:</p>\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;MyApplication&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n        &lt;param-value&gt;com.mydomain.api.MyJAXRSApplication&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;MyApplication&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>However, things get more complicated now because when starting the application manually, it does not itself scan for any @Path annotated endpoints and these have to all be loaded manually in the MyApplication class as follows:</p>\n<pre><code>@ApplicationPath(&quot;&quot;)\npublic class MyJAXRSApplication extends Application {\n\n    private static final Set&lt;Object&gt;    singletons  = new HashSet&lt;Object&gt;();\n\n    public MyJAXRSApplication() {\n        // See: https://stackoverflow.com/questions/26892417/resteasy-resteasyservletinitializer-fail\n        singletons.add(new RestServiceA());     // Each annotaed with @Path()\n        singletons.add(new RestServiceB());\n        singletons.add(new RestServiceC());\n    }\n\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        HashSet&lt;Class&lt;?&gt;&gt; set = new HashSet&lt;Class&lt;?&gt;&gt;();\n        return set;\n    }\n\n    @Override\n    public Set&lt;Object&gt; getSingletons() {\n        return singletons;\n    }\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>Solution 3</li>\n</ol>\n<p>To use annotations and the endpoint annotation scanner - useful if you want to be able to easily add new @Paths to the app. Here we extend the two servlets to force load-on-start:</p>\n<p>start the JSAPIServlet using an annotation:</p>\n<pre><code>@WebServlet(urlPatterns = &quot;/rest-js&quot;, loadOnStartup = 1)\npublic class JSAPIServletStartupHack extends JSAPIServlet {\n}\n</code></pre>\n<p>and to start the JAXRS application on start:</p>\n<pre><code>@WebServlet(urlPatterns = &quot;&quot;, loadOnStartup = 1)\npublic class HttpServletDispatcherHStartupHack extends HttpServletDispatcher {\n}\n</code></pre>\n<p>I don't know if this approach has any downsides or side-effects but it appears to work for me.</p>\n"}],"owner":{"account_id":88584,"reputation":7239,"user_id":244911,"accept_rate":29,"display_name":"LE GALL Beno&#238;t"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4067,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26908046,"answer_count":2,"score":4,"last_activity_date":1670934605,"creation_date":1415811691,"question_id":26892417,"body_markdown":"So....\r\n\r\nI&#39;ve been able to config a RestEasy service and **make it work in my Eclipse on Windows 8** but it doesn&#39;t work when I deploy it on a Tomcat 7 installed on a Ubuntu !\r\n\r\nWhen I start my tomcat on Eclipse, I got the message :\r\n\r\n&gt; INFO: Starting Servlet Engine: Apache Tomcat/7.0.29&lt;br /&gt; nov. 12,\r\n&gt; 2014 4:00:06 PM org.apache.catalina.core.ApplicationContext log&lt;br /&gt;\r\n&gt; INFO: Initializing Spring root WebApplicationContext&lt;br /&gt; nov. 12,\r\n&gt; 2014 4:00:07 PM org.apache.catalina.core.ApplicationContext log&lt;br /&gt;\r\n&gt; INFO: Initializing Spring FrameworkServlet &#39;MessageBrokerServlet&#39;&lt;br /&gt;\r\n&gt; **[INFO ] 2014-11-12 16:00:08,001 org.jboss.resteasy.spi.ResteasyDeployment - Deploying  javax.ws.rs.core.Application: class fr.mycompany.myproject.MarkersApplication**\r\n\r\nbut this last line isn&#39;t present in the log of the tomcat server on the ubuntu\r\n=&gt; thus when I calling my Rest service (via javascript /jsapi), I got this message :\r\n\r\n    GRAVE: &quot;Servlet.service()&quot; pour la servlet RESTEasy JSAPI a g&#233;n&#233;r&#233; une exception\r\n    java.lang.NullPointerException\r\n    \tat org.jboss.resteasy.jsapi.JSAPIWriter.generateEtag(JSAPIWriter.java:111)\r\n    \tat org.jboss.resteasy.jsapi.JSAPIWriter.writeJavaScript(JSAPIWriter.java:36)\r\n    \tat org.jboss.resteasy.jsapi.JSAPIServlet.service(JSAPIServlet.java:73)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nand what is null (I suppose) is the `serviceRegistries` of the generateEtag() method, which is populate with my RestService when launch in Eclipse Tomcat.\r\n\r\nI haven&#39;t a clue about why the ResteasyServletInitializer get launch/init, so if anyone got this situation (and the solution ^^), please help me T_T\r\n\r\n\r\nHere is the configuration I use :\r\n\r\nThe application declaration :\r\n\r\n    @ApplicationPath(&quot;/resteasy&quot;)\r\n    public class MarkersApplication extends Application {\r\n    \r\n    }\r\n\r\nThe service :\r\n\r\n    @Path(&quot;/markersRest&quot;)\r\n    public class MarkersRest {\r\n    \r\n    \t@Context\r\n    \tprivate ServletContext\tcontext;\r\n    \r\n    \tprivate DataService getService() {\r\n    \t\treturn WebApplicationContextUtils.getWebApplicationContext(context).getBean(DataService.class);\r\n    \t}\r\n    \r\n    \t@POST\r\n    \t@Produces(MediaType.TEXT_PLAIN)\r\n    \tpublic Response getMarkers(@QueryParam(&quot;keyCache&quot;) String keyCache) {\r\n    \t\tString markers = getService().getCachedMarkers(keyCache);\r\n    \r\n    \t\treturn Response.ok().entity(markers).build();\r\n    \t}\r\n    \r\n    }\r\n\r\nThe web.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    \tversion=&quot;3.0&quot; metadata-complete=&quot;true&quot;&gt;\r\n    \r\n    \t&lt;display-name&gt;MyProject&lt;/display-name&gt;\r\n    \r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;classpath:/spring/spring-config.xml&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t\r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;resteasy.servlet.mapping.prefix&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;/resteasy&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t\r\n    \t&lt;!-- ************************ --&gt;\r\n    \t&lt;!-- ******* LISTENERS ****** --&gt;\r\n    \t&lt;!-- ************************ --&gt;\r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;flex.messaging.HttpFlexSession&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \t\r\n    \t&lt;!-- ************************ --&gt;\r\n    \t&lt;!-- ******* SERVLETS ******* --&gt;\r\n    \t&lt;!-- ************************ --&gt;\r\n    \r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;MessageBrokerServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;classpath:/spring/spring-flex-config.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;MessageBrokerServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/messagebroker/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;RESTEasy JSAPI&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.jboss.resteasy.jsapi.JSAPIServlet&lt;/servlet-class&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;RESTEasy JSAPI&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/rest-js&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\nthe pom.xml :\r\n\t\t\r\n\r\n            ...\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;resteasy-servlet-initializer&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.9.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;resteasy-jsapi&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.9.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            ...\r\n\r\nand the file `/WEB-INF/services/javax.servlet.ServletContainerInitializer`\r\nwith the content `org.jboss.resteasy.plugins.servlet.ResteasyServletInitializer`","title":"RestEasy - ResteasyServletInitializer fail","body":"<p>So....</p>\n\n<p>I've been able to config a RestEasy service and <strong>make it work in my Eclipse on Windows 8</strong> but it doesn't work when I deploy it on a Tomcat 7 installed on a Ubuntu !</p>\n\n<p>When I start my tomcat on Eclipse, I got the message :</p>\n\n<blockquote>\n  <p>INFO: Starting Servlet Engine: Apache Tomcat/7.0.29<br /> nov. 12,\n  2014 4:00:06 PM org.apache.catalina.core.ApplicationContext log<br />\n  INFO: Initializing Spring root WebApplicationContext<br /> nov. 12,\n  2014 4:00:07 PM org.apache.catalina.core.ApplicationContext log<br />\n  INFO: Initializing Spring FrameworkServlet 'MessageBrokerServlet'<br />\n  <strong>[INFO ] 2014-11-12 16:00:08,001 org.jboss.resteasy.spi.ResteasyDeployment - Deploying  javax.ws.rs.core.Application: class fr.mycompany.myproject.MarkersApplication</strong></p>\n</blockquote>\n\n<p>but this last line isn't present in the log of the tomcat server on the ubuntu\n=> thus when I calling my Rest service (via javascript /jsapi), I got this message :</p>\n\n<pre><code>GRAVE: \"Servlet.service()\" pour la servlet RESTEasy JSAPI a gnr une exception\njava.lang.NullPointerException\n    at org.jboss.resteasy.jsapi.JSAPIWriter.generateEtag(JSAPIWriter.java:111)\n    at org.jboss.resteasy.jsapi.JSAPIWriter.writeJavaScript(JSAPIWriter.java:36)\n    at org.jboss.resteasy.jsapi.JSAPIServlet.service(JSAPIServlet.java:73)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>and what is null (I suppose) is the <code>serviceRegistries</code> of the generateEtag() method, which is populate with my RestService when launch in Eclipse Tomcat.</p>\n\n<p>I haven't a clue about why the ResteasyServletInitializer get launch/init, so if anyone got this situation (and the solution ^^), please help me T_T</p>\n\n<p>Here is the configuration I use :</p>\n\n<p>The application declaration :</p>\n\n<pre><code>@ApplicationPath(\"/resteasy\")\npublic class MarkersApplication extends Application {\n\n}\n</code></pre>\n\n<p>The service :</p>\n\n<pre><code>@Path(\"/markersRest\")\npublic class MarkersRest {\n\n    @Context\n    private ServletContext  context;\n\n    private DataService getService() {\n        return WebApplicationContextUtils.getWebApplicationContext(context).getBean(DataService.class);\n    }\n\n    @POST\n    @Produces(MediaType.TEXT_PLAIN)\n    public Response getMarkers(@QueryParam(\"keyCache\") String keyCache) {\n        String markers = getService().getCachedMarkers(keyCache);\n\n        return Response.ok().entity(markers).build();\n    }\n\n}\n</code></pre>\n\n<p>The web.xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n    version=\"3.0\" metadata-complete=\"true\"&gt;\n\n    &lt;display-name&gt;MyProject&lt;/display-name&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;classpath:/spring/spring-config.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;resteasy.servlet.mapping.prefix&lt;/param-name&gt;\n        &lt;param-value&gt;/resteasy&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;!-- ************************ --&gt;\n    &lt;!-- ******* LISTENERS ****** --&gt;\n    &lt;!-- ************************ --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;flex.messaging.HttpFlexSession&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;!-- ************************ --&gt;\n    &lt;!-- ******* SERVLETS ******* --&gt;\n    &lt;!-- ************************ --&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;MessageBrokerServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;classpath:/spring/spring-flex-config.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;MessageBrokerServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/messagebroker/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;RESTEasy JSAPI&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.jboss.resteasy.jsapi.JSAPIServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;RESTEasy JSAPI&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rest-js&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>the pom.xml :</p>\n\n<pre><code>        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-servlet-initializer&lt;/artifactId&gt;\n            &lt;version&gt;3.0.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-jsapi&lt;/artifactId&gt;\n            &lt;version&gt;3.0.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        ...\n</code></pre>\n\n<p>and the file <code>/WEB-INF/services/javax.servlet.ServletContainerInitializer</code>\nwith the content <code>org.jboss.resteasy.plugins.servlet.ResteasyServletInitializer</code></p>\n"},{"tags":["java","azure","deserialization","azureservicebus"],"answers":[{"tags":[],"owner":{"account_id":18432270,"reputation":1955,"user_id":13427068,"display_name":"Faceless_GOD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670934225,"creation_date":1670934225,"answer_id":74784812,"question_id":74775900,"body_markdown":"- Here I was able to convert the Json object to java object using [Gson](https://mvnrepository.com/artifact/com.google.code.gson/gson) class. \r\n\r\n- I am just reading a message from the service bus and converting it to java object. \r\n\r\nmy pom.xml (dependencies)\r\n```\r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;  \r\n&lt;/dependency&gt;  \r\n  \r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;  \r\n &lt;scope&gt;test&lt;/scope&gt;  \r\n&lt;/dependency&gt;  \r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;  \r\n &lt;artifactId&gt;gson&lt;/artifactId&gt;  \r\n &lt;version&gt;2.8.6&lt;/version&gt;  \r\n&lt;/dependency&gt;  \r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;com.azure&lt;/groupId&gt;  \r\n &lt;artifactId&gt;azure-messaging-servicebus&lt;/artifactId&gt;  \r\n &lt;version&gt;7.0.0&lt;/version&gt;  \r\n&lt;/dependency&gt;  \r\n&lt;!-- https://mvnrepository.com/artifact/io.projectreactor/reactor-core --&gt;  \r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;  \r\n &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;  \r\n &lt;version&gt;3.3.11.RELEASE&lt;/version&gt;  \r\n&lt;/dependency&gt;\r\n```\r\n\r\nMy test class :\r\n\r\n```\r\npublic class TestClass {  \r\n    public String name ;  \r\n public int version;  \r\n  TestClass(String n , int v)  \r\n    {  \r\n        this.name = n ;  \r\n this.version = v ;  \r\n  }  \r\n}\r\n```\r\n\r\nThe main class : \r\n\r\n```\r\n@SpringBootApplication  \r\npublic class ServicebustestApplication {  \r\n  \r\n   public static void main(String[] args) throws InterruptedException {  \r\n  \r\n  \r\n      SpringApplication.run(ServicebustestApplication.class, args);  \r\n  String  conn = &quot; Endpoint=sb://v-mganorkarjsonobject.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=HglLVGlgMsYZGQMOtUfp4g2oka1CpCbVR0YEHgly7jA= &quot;;  \r\n  \r\n  CountDownLatch countdownLatch1 = new CountDownLatch(1);  \r\n  ServiceBusProcessorClient processorClient = new ServiceBusClientBuilder()  \r\n            .connectionString(&quot;&lt;Your COnnection String &gt;&quot;)  \r\n            .processor()  \r\n            .queueName(&quot;test&quot;)  \r\n            .processMessage(ServicebustestApplication::processMessage)  \r\n            .processError(context -&gt; processError(context,countdownLatch1))  \r\n            .buildProcessorClient();  \r\n  \r\n  processorClient.start();  \r\n  TimeUnit.SECONDS.sleep(10);  \r\n  processorClient.close();  \r\n  \r\n  \r\n  }  \r\n  \r\n   private static void processMessage(ServiceBusReceivedMessageContext context) {  \r\n   \r\n  ServiceBusReceivedMessage message = context.getMessage();  \r\n  \r\n  System.out.printf(&quot;Processing message. Session: %s, Sequence #: %s. Contents: %s%n&quot;, message.getMessageId(),  \r\n  message.getSequenceNumber(), message.getBody());  \r\n  \r\n  Gson gson = new Gson();  \r\n  \r\n  TestClass testobject = gson.fromJson(String.valueOf(message.getBody()),TestClass.class);  \r\n  \r\n  System.out.println(&quot;name: &quot;+testobject.name +&quot; version: &quot;+ testobject.version+&quot;&quot;);  \r\n  }  \r\n\r\n\r\n\r\n   private static void processError(ServiceBusErrorContext context, CountDownLatch countdownLatch) {  \r\n   \r\n  }  \r\n}\r\n```\r\nHere the callback to process message will process the message and then we can use the GSON to convert the json string to java object. \r\n\r\n```\r\n\r\n  Gson gson = new Gson();  \r\n  \r\n  TestClass testobject = gson.fromJson(String.valueOf(message.getBody()),TestClass.class);\r\n```\r\n\r\noutput of the code :\r\n\r\n\r\n![enter image description here](https://i.stack.imgur.com/uaEb3.png)","title":"How to deserialize/serialize Azure Service Bus using spring.cloud in Java","body":"<ul>\n<li><p>Here I was able to convert the Json object to java object using <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"nofollow noreferrer\">Gson</a> class.</p>\n</li>\n<li><p>I am just reading a message from the service bus and converting it to java object.</p>\n</li>\n</ul>\n<p>my pom.xml (dependencies)</p>\n<pre><code>&lt;dependency&gt;  \n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;  \n&lt;/dependency&gt;  \n  \n&lt;dependency&gt;  \n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;  \n &lt;scope&gt;test&lt;/scope&gt;  \n&lt;/dependency&gt;  \n&lt;dependency&gt;  \n &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;  \n &lt;artifactId&gt;gson&lt;/artifactId&gt;  \n &lt;version&gt;2.8.6&lt;/version&gt;  \n&lt;/dependency&gt;  \n&lt;dependency&gt;  \n &lt;groupId&gt;com.azure&lt;/groupId&gt;  \n &lt;artifactId&gt;azure-messaging-servicebus&lt;/artifactId&gt;  \n &lt;version&gt;7.0.0&lt;/version&gt;  \n&lt;/dependency&gt;  \n&lt;!-- https://mvnrepository.com/artifact/io.projectreactor/reactor-core --&gt;  \n&lt;dependency&gt;  \n &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;  \n &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;  \n &lt;version&gt;3.3.11.RELEASE&lt;/version&gt;  \n&lt;/dependency&gt;\n</code></pre>\n<p>My test class :</p>\n<pre><code>public class TestClass {  \n    public String name ;  \n public int version;  \n  TestClass(String n , int v)  \n    {  \n        this.name = n ;  \n this.version = v ;  \n  }  \n}\n</code></pre>\n<p>The main class :</p>\n<pre><code>@SpringBootApplication  \npublic class ServicebustestApplication {  \n  \n   public static void main(String[] args) throws InterruptedException {  \n  \n  \n      SpringApplication.run(ServicebustestApplication.class, args);  \n  String  conn = &quot; Endpoint=sb://v-mganorkarjsonobject.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=HglLVGlgMsYZGQMOtUfp4g2oka1CpCbVR0YEHgly7jA= &quot;;  \n  \n  CountDownLatch countdownLatch1 = new CountDownLatch(1);  \n  ServiceBusProcessorClient processorClient = new ServiceBusClientBuilder()  \n            .connectionString(&quot;&lt;Your COnnection String &gt;&quot;)  \n            .processor()  \n            .queueName(&quot;test&quot;)  \n            .processMessage(ServicebustestApplication::processMessage)  \n            .processError(context -&gt; processError(context,countdownLatch1))  \n            .buildProcessorClient();  \n  \n  processorClient.start();  \n  TimeUnit.SECONDS.sleep(10);  \n  processorClient.close();  \n  \n  \n  }  \n  \n   private static void processMessage(ServiceBusReceivedMessageContext context) {  \n   \n  ServiceBusReceivedMessage message = context.getMessage();  \n  \n  System.out.printf(&quot;Processing message. Session: %s, Sequence #: %s. Contents: %s%n&quot;, message.getMessageId(),  \n  message.getSequenceNumber(), message.getBody());  \n  \n  Gson gson = new Gson();  \n  \n  TestClass testobject = gson.fromJson(String.valueOf(message.getBody()),TestClass.class);  \n  \n  System.out.println(&quot;name: &quot;+testobject.name +&quot; version: &quot;+ testobject.version+&quot;&quot;);  \n  }  \n\n\n\n   private static void processError(ServiceBusErrorContext context, CountDownLatch countdownLatch) {  \n   \n  }  \n}\n</code></pre>\n<p>Here the callback to process message will process the message and then we can use the GSON to convert the json string to java object.</p>\n<pre><code>\n  Gson gson = new Gson();  \n  \n  TestClass testobject = gson.fromJson(String.valueOf(message.getBody()),TestClass.class);\n</code></pre>\n<p>output of the code :</p>\n<p><img src=\"https://i.stack.imgur.com/uaEb3.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670934225,"creation_date":1670870753,"question_id":74775900,"body_markdown":"I am using spring.cloud to connect to Azure Service Bus in Java. Here is maven dependency I am using:\r\n```\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-azure-starter-integration-servicebus&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nI am able to consume the message from the queue as byte array and it converts the message to string. Here is my main code after receiving a message from queue:\r\n```\r\n@ServiceActivator(inputChannel = INPUT_CHANNEL)\r\npublic void messageReceiver(byte[] payload, @Header(AzureHeaders.CHECKPOINTER) Checkpointer checkpointer) {\r\n        String message = new String(payload);\r\n        LOGGER.info(&quot;New message received: &#39;{}&#39;&quot;, message);\r\n        checkpointer.success()\r\n                .doOnSuccess(s -&gt; LOGGER.info(&quot;Message &#39;{}&#39; successfully checkpointed&quot;, message))\r\n                .doOnError(e -&gt; LOGGER.error(&quot;Error found&quot;, e))\r\n                .block();\r\n    }\r\n```\r\nAnd here is my example data in JSON as short version:\r\n```\r\n{\r\n    &quot;serverId&quot;: 123,\r\n    &quot;message&quot;: &quot;{some message}&quot;\r\n}\r\n```\r\nWhat I would like to do is to create a Java object like this:\r\n```\r\npublic class ExampleMessage {\r\n    private final Integer serverId;\r\n    private final String message;\r\n```\r\nand when a message from queue is consumed, it will convert the message to my Java object. I am used to using DataTypeProvider in order to use custom Java object for AMQP message consumption which will convert and validate the conversion behind the scene. Does spring.cloud.azure has built-in method/functionality for deserialization? or Do I manually deserialize and do validation for a consumed message?","title":"How to deserialize/serialize Azure Service Bus using spring.cloud in Java","body":"<p>I am using spring.cloud to connect to Azure Service Bus in Java. Here is maven dependency I am using:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-azure-starter-integration-servicebus&lt;/artifactId&gt;\n        &lt;version&gt;4.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I am able to consume the message from the queue as byte array and it converts the message to string. Here is my main code after receiving a message from queue:</p>\n<pre><code>@ServiceActivator(inputChannel = INPUT_CHANNEL)\npublic void messageReceiver(byte[] payload, @Header(AzureHeaders.CHECKPOINTER) Checkpointer checkpointer) {\n        String message = new String(payload);\n        LOGGER.info(&quot;New message received: '{}'&quot;, message);\n        checkpointer.success()\n                .doOnSuccess(s -&gt; LOGGER.info(&quot;Message '{}' successfully checkpointed&quot;, message))\n                .doOnError(e -&gt; LOGGER.error(&quot;Error found&quot;, e))\n                .block();\n    }\n</code></pre>\n<p>And here is my example data in JSON as short version:</p>\n<pre><code>{\n    &quot;serverId&quot;: 123,\n    &quot;message&quot;: &quot;{some message}&quot;\n}\n</code></pre>\n<p>What I would like to do is to create a Java object like this:</p>\n<pre><code>public class ExampleMessage {\n    private final Integer serverId;\n    private final String message;\n</code></pre>\n<p>and when a message from queue is consumed, it will convert the message to my Java object. I am used to using DataTypeProvider in order to use custom Java object for AMQP message consumption which will convert and validate the conversion behind the scene. Does spring.cloud.azure has built-in method/functionality for deserialization? or Do I manually deserialize and do validation for a consumed message?</p>\n"},{"tags":["java","string","string-concatenation"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1670737156,"post_id":74758581,"comment_id":131940301,"body_markdown":"`I read that String concatenation using &quot;+&quot;, uses StringBuffer or StringBuilder&#39;s append method.` Do you have a citation on this? I&#39;ve never heard this before, and it would definitely disagree with the things I thought I knew about `String`","body":"<code>I read that String concatenation using &quot;+&quot;, uses StringBuffer or StringBuilder&#39;s append method.</code> Do you have a citation on this? I&#39;ve never heard this before, and it would definitely disagree with the things I thought I knew about <code>String</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1670737611,"post_id":74758581,"comment_id":131940343,"body_markdown":"It was true (as an &quot;implementation detail&quot;) for some older versions of Java, but it is no longer true ... and was never specified as being true.","body":"It was true (as an &quot;implementation detail&quot;) for some older versions of Java, but it is no longer true ... and was never specified as being true."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1670737960,"post_id":74758581,"comment_id":131940371,"body_markdown":"Concatenation with a single statement may be converted to StringBuilder, but iteratively concatenating in a loop like you&#39;re doing has to produce new strings.","body":"Concatenation with a single statement may be converted to StringBuilder, but iteratively concatenating in a loop like you&#39;re doing has to produce new strings."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1670737963,"post_id":74758581,"comment_id":131940372,"body_markdown":"Depending on the Java version you&#39;re using, you may be interested in [How is String concatenation implemented in Java 9?](https://stackoverflow.com/q/46512888/555045)","body":"Depending on the Java version you&#39;re using, you may be interested in <a href=\"https://stackoverflow.com/q/46512888/555045\">How is String concatenation implemented in Java 9?</a>"},{"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"score":0,"creation_date":1670738288,"post_id":74758581,"comment_id":131940404,"body_markdown":"@StephenC Didn&#39;t get you there? It was true for some older version but never specified as being true, can you elaborate ?","body":"@StephenC Didn&#39;t get you there? It was true for some older version but never specified as being true, can you elaborate ?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670738764,"post_id":74758581,"comment_id":131940441,"body_markdown":"@RonakJain: What are you asking for details about?  It was how the compiler happened to work, but it was never documented and never guaranteed, and now it&#39;s changed so the compiler doesn&#39;t work that way anymore.","body":"@RonakJain: What are you asking for details about?  It was how the compiler happened to work, but it was never documented and never guaranteed, and now it&#39;s changed so the compiler doesn&#39;t work that way anymore."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1670739117,"post_id":74758581,"comment_id":131940470,"body_markdown":"@RonakJain - How can I give you a citation that something wasn&#39;t specified?  Look in the specifications where it *would have been* specified, and see what they say.   There was (and possibly still is) text in the JLS that mentions that `+` *can be* optimized in various ways, but it doesn&#39;t say that it *shall be*.  In other words ... it is not normative.","body":"@RonakJain - How can I give you a citation that something wasn&#39;t specified?  Look in the specifications where it <i>would have been</i> specified, and see what they say.   There was (and possibly still is) text in the JLS that mentions that <code>+</code> <i>can be</i> optimized in various ways, but it doesn&#39;t say that it <i>shall be</i>.  In other words ... it is not normative."},{"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"score":0,"creation_date":1670741001,"post_id":74758581,"comment_id":131940677,"body_markdown":"@StephenC I was just asking about details of what it meant because I didn&#39;t understood the statement. Wanted to understand it more.","body":"@StephenC I was just asking about details of what it meant because I didn&#39;t understood the statement. Wanted to understand it more."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1670741112,"post_id":74758581,"comment_id":131940691,"body_markdown":"@RonakJain - Read my answer.","body":"@RonakJain - Read my answer."}],"answers":[{"tags":[],"owner":{"account_id":27165115,"reputation":12,"user_id":20702745,"display_name":"Nurul Islam"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1670738526,"creation_date":1670738526,"answer_id":74758702,"question_id":74758581,"body_markdown":"&quot;Concatenate&quot; joins two specific items together, whereas &quot;append &quot; adds what you specify to whatever may already be there","title":"What is the difference between concatenation using StringBuilder append() method and String &quot;+&quot; operator?","body":"<p>&quot;Concatenate&quot; joins two specific items together, whereas &quot;append &quot; adds what you specify to whatever may already be there</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670741526,"creation_date":1670739399,"answer_id":74758760,"question_id":74758581,"body_markdown":"It used to be the case that *some* Java bytecode compilers would compile the String concatenation operator (`+`) to operations on a temporary `StringBuilder`.  \r\n\r\nHowever:\r\n\r\n  - This was an *implementation detail*.  Though the JLS (in some versions&lt;sup&gt;1&lt;/sup&gt;) said that it *may be* optimized in that way, it was never stated that it *shall be*.\r\n  - This is not how more recent OpenJDK Java compilers deal with this.  Concatenation expressions are now compiled by the bytecode compiler to `invokedynamic` calls ... which are then optimized by the JIT compiler.\r\n\r\n------------------\r\n\r\nHowever, your example involves concatenation in a loop.  I don&#39;t think that JIT compiler in *current* versions of Java can optimize across multiple loop iterations.  \r\n\r\nBut, that may change too.  Indeed, [JEP 280][1] hints that the &quot;indifying&quot; of string concatenations by the bytecode compiler will enable further JIT compiler optimization.  That *could* include optimization of loops like the 2nd version of your example.  And if it does change, &quot;hand optimization&quot; to use `StringBuilder` calls in your source code *could* actually interfere with the JIT compiler&#39;s ability to optimize.\r\n\r\nMy advice: avoid premature / unnecessary optimization.  Unless your application-level profiling *tells* you that a particular concatenation sequence is a significant bottleneck, leave it alone.\r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - For example, the Java 18 JLS says: *&quot;An implementation may choose to perform conversion and concatenation in one step to avoid creating and then discarding an intermediate String object. To increase the performance of repeated string concatenation, a Java compiler may use the StringBuffer class or a similar technique to reduce the number of intermediate String objects that are created by evaluation of an expression.&quot;* [JLS 15.18.1](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.18.1).&lt;/sup&gt; \r\n\r\n\r\n  [1]: https://openjdk.org/jeps/280","title":"What is the difference between concatenation using StringBuilder append() method and String &quot;+&quot; operator?","body":"<p>It used to be the case that <em>some</em> Java bytecode compilers would compile the String concatenation operator (<code>+</code>) to operations on a temporary <code>StringBuilder</code>.</p>\n<p>However:</p>\n<ul>\n<li>This was an <em>implementation detail</em>.  Though the JLS (in some versions<sup>1</sup>) said that it <em>may be</em> optimized in that way, it was never stated that it <em>shall be</em>.</li>\n<li>This is not how more recent OpenJDK Java compilers deal with this.  Concatenation expressions are now compiled by the bytecode compiler to <code>invokedynamic</code> calls ... which are then optimized by the JIT compiler.</li>\n</ul>\n<hr />\n<p>However, your example involves concatenation in a loop.  I don't think that JIT compiler in <em>current</em> versions of Java can optimize across multiple loop iterations.</p>\n<p>But, that may change too.  Indeed, <a href=\"https://openjdk.org/jeps/280\" rel=\"nofollow noreferrer\">JEP 280</a> hints that the &quot;indifying&quot; of string concatenations by the bytecode compiler will enable further JIT compiler optimization.  That <em>could</em> include optimization of loops like the 2nd version of your example.  And if it does change, &quot;hand optimization&quot; to use <code>StringBuilder</code> calls in your source code <em>could</em> actually interfere with the JIT compiler's ability to optimize.</p>\n<p>My advice: avoid premature / unnecessary optimization.  Unless your application-level profiling <em>tells</em> you that a particular concatenation sequence is a significant bottleneck, leave it alone.</p>\n<hr />\n<p><sup>1 - For example, the Java 18 JLS says: <em>&quot;An implementation may choose to perform conversion and concatenation in one step to avoid creating and then discarding an intermediate String object. To increase the performance of repeated string concatenation, a Java compiler may use the StringBuffer class or a similar technique to reduce the number of intermediate String objects that are created by evaluation of an expression.&quot;</em> <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.18.1\" rel=\"nofollow noreferrer\">JLS 15.18.1</a>.</sup></p>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670742228,"creation_date":1670742228,"answer_id":74758962,"question_id":74758581,"body_markdown":"I&#39;d always use `StringBuilder` to concatenate strings in a loop. Doing so has several advantages:\r\n 1. you are using `StringBuilder` what is made to do, so it is easier to read (but less concise);\r\n 2. you can pass `StringBuilder` around using method arguments (if you&#39;d use the immutable `String` you can only use it as return value);\r\n 3. `StringBuilder` has additional options to alter the string if that would be necessary;\r\n 4. it will allocate some buffer space in advance, so that subsequent alterations / concatenations don&#39;t take that much memory;\r\n 5. it can be assumed to be relatively performant whichever direction the current JVM takes when it comes to string concatenation.\r\n\r\n---\r\n\r\nOf course, I&#39;d use `new StringBuilder()` instead of the `new StringBuilder(&quot;&quot;)` which makes no sense - `StringBuilder` instances will already start with an empty string (and 16 characters of buffer space).\r\n\r\nIf you know the size of the string in advance then it does make sense to create a buffer large enough to hold it, so it doesn&#39;t need to request a larger area to hold the characters. Memory management is relatively expensive.\r\n\r\nWith regard to that, note that `StringBuilder` implements `CharSequence` so you can actually use it instead of a `String` for some methods if you want to avoid copies.","title":"What is the difference between concatenation using StringBuilder append() method and String &quot;+&quot; operator?","body":"<p>I'd always use <code>StringBuilder</code> to concatenate strings in a loop. Doing so has several advantages:</p>\n<ol>\n<li>you are using <code>StringBuilder</code> what is made to do, so it is easier to read (but less concise);</li>\n<li>you can pass <code>StringBuilder</code> around using method arguments (if you'd use the immutable <code>String</code> you can only use it as return value);</li>\n<li><code>StringBuilder</code> has additional options to alter the string if that would be necessary;</li>\n<li>it will allocate some buffer space in advance, so that subsequent alterations / concatenations don't take that much memory;</li>\n<li>it can be assumed to be relatively performant whichever direction the current JVM takes when it comes to string concatenation.</li>\n</ol>\n<hr />\n<p>Of course, I'd use <code>new StringBuilder()</code> instead of the <code>new StringBuilder(&quot;&quot;)</code> which makes no sense - <code>StringBuilder</code> instances will already start with an empty string (and 16 characters of buffer space).</p>\n<p>If you know the size of the string in advance then it does make sense to create a buffer large enough to hold it, so it doesn't need to request a larger area to hold the characters. Memory management is relatively expensive.</p>\n<p>With regard to that, note that <code>StringBuilder</code> implements <code>CharSequence</code> so you can actually use it instead of a <code>String</code> for some methods if you want to avoid copies.</p>\n"}],"owner":{"account_id":20150219,"reputation":315,"user_id":14777704,"display_name":"MVKXXX"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670756415,"answer_count":3,"score":1,"last_activity_date":1670934076,"creation_date":1670736427,"question_id":74758581,"body_markdown":"Given the following two code snippets:\r\n```java\r\nStringBuilder sb = new StringBuilder(&quot;&quot;);\r\nfor (int i = 0; i &lt; 5; i++) {\r\n    sb.append(&quot;hello &quot;);\r\n}\r\nSystem.out.println(sb.toString());\r\n```\r\nand \r\n```java\r\nString ss = &quot;&quot;;\r\nfor (int i = 0; i &lt; 5; i++) {\r\n    ss += &quot;hello &quot;;\r\n}\r\nSystem.out.println(ss);\r\n```\r\nI read that string concatenation using `+`, uses `StringBuffer` or `StringBuilder`&#39;s `append` method. As far as I know, `StringBuilder` is mutable, so any modification should not create a new instance. `String` is immutable, so I expect concatenation in a loop should create a new instance every time (5 times over here). But if `+` is using `StringBuffer` or `StringBuilder`&#39;s `append` method, is it really creating a new instance of `ss` each time in the loop? Also which among the the code snippets will be more efficient?","title":"What is the difference between concatenation using StringBuilder append() method and String &quot;+&quot; operator?","body":"<p>Given the following two code snippets:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder sb = new StringBuilder(&quot;&quot;);\nfor (int i = 0; i &lt; 5; i++) {\n    sb.append(&quot;hello &quot;);\n}\nSystem.out.println(sb.toString());\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>String ss = &quot;&quot;;\nfor (int i = 0; i &lt; 5; i++) {\n    ss += &quot;hello &quot;;\n}\nSystem.out.println(ss);\n</code></pre>\n<p>I read that string concatenation using <code>+</code>, uses <code>StringBuffer</code> or <code>StringBuilder</code>'s <code>append</code> method. As far as I know, <code>StringBuilder</code> is mutable, so any modification should not create a new instance. <code>String</code> is immutable, so I expect concatenation in a loop should create a new instance every time (5 times over here). But if <code>+</code> is using <code>StringBuffer</code> or <code>StringBuilder</code>'s <code>append</code> method, is it really creating a new instance of <code>ss</code> each time in the loop? Also which among the the code snippets will be more efficient?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1849135,"reputation":3076,"user_id":1676075,"accept_rate":50,"display_name":"user1676075"},"score":0,"creation_date":1375276663,"post_id":17971466,"comment_id":26269725,"body_markdown":"You would need to search starting at every index; use the find(int startingIndex) method and search starting at every character position. Of course, then you&#39;re likely to find too many matches... Assuming you want to start at every number, you might try combining an iteration over Matcher.find(String.indexOf(digits, index)) for all matching indices.","body":"You would need to search starting at every index; use the find(int startingIndex) method and search starting at every character position. Of course, then you&#39;re likely to find too many matches... Assuming you want to start at every number, you might try combining an iteration over Matcher.find(String.indexOf(digits, index)) for all matching indices."},{"owner":{"account_id":1849135,"reputation":3076,"user_id":1676075,"accept_rate":50,"display_name":"user1676075"},"score":0,"creation_date":1375276839,"post_id":17971466,"comment_id":26269859,"body_markdown":"I suppose if it&#39;s single digits, you could back up from the match starting position and find from there for the next match.","body":"I suppose if it&#39;s single digits, you could back up from the match starting position and find from there for the next match."},{"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"score":1,"creation_date":1375276940,"post_id":17971466,"comment_id":26269924,"body_markdown":"For input `&quot;12abc13abc14abc15&quot;`, do you want `[12abc13, 2abc13, 13abc14, 3abc14, 14abc15, 4abc15]` or `[12abc13, 13abc14, 14abc15]`?","body":"For input <code>&quot;12abc13abc14abc15&quot;</code>, do you want <code>[12abc13, 2abc13, 13abc14, 3abc14, 14abc15, 4abc15]</code> or <code>[12abc13, 13abc14, 14abc15]</code>?"},{"owner":{"account_id":342021,"reputation":2141,"user_id":917572,"accept_rate":83,"display_name":"Evgeny"},"score":0,"creation_date":1375277770,"post_id":17971466,"comment_id":26270460,"body_markdown":"@johnchen902: the later. The solution handles this.","body":"@johnchen902: the later. The solution handles this."}],"answers":[{"tags":[],"owner":{"account_id":1496066,"reputation":14731,"user_id":1401975,"display_name":"HamZa"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1375278262,"creation_date":1375277086,"answer_id":17971681,"question_id":17971466,"body_markdown":"Not sure if this is possible in Java, but in PCRE you could do the following:&lt;br&gt;\r\n`(?=(\\d+\\D+\\d+)).`\r\n\r\n**Explanation**&lt;br&gt;\r\nThe technique is to use a matching group in a lookahead, and then &quot;eat&quot; one character to move forward.\r\n\r\n - `(?=` : start of positive lookahead\r\n   - `(` : start matching group 1\r\n     - `\\d+` : match a digit one or more times\r\n     - `\\D+` : match a non-digit character one or more times\r\n     - `\\d+` : match a digit one or more times\r\n   - `)` : end of group 1\r\n - `)` : end of lookahead\r\n - `.` : match anything, this is to &quot;move forward&quot;.\r\n\r\n[**Online demo**](http://regex101.com/r/lM2tN5)\r\n\r\n---\r\nThanks to [Casimir et Hippolyte](https://stackoverflow.com/users/2255089) it really seems to work in Java. You just need to add backslashes and display the first capturing group: `(?=(\\\\d+\\\\D+\\\\d+)).`.\r\nTested on [www.regexplanet.com](http://www.regexplanet.com/advanced/java/index.html):\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/kPa03.png","title":"Java regex - overlapping matches","body":"<p>Not sure if this is possible in Java, but in PCRE you could do the following:<br>\n<code>(?=(\\d+\\D+\\d+)).</code></p>\n\n<p><strong>Explanation</strong><br>\nThe technique is to use a matching group in a lookahead, and then \"eat\" one character to move forward.</p>\n\n<ul>\n<li><code>(?=</code> : start of positive lookahead\n\n<ul>\n<li><code>(</code> : start matching group 1\n\n<ul>\n<li><code>\\d+</code> : match a digit one or more times</li>\n<li><code>\\D+</code> : match a non-digit character one or more times</li>\n<li><code>\\d+</code> : match a digit one or more times</li>\n</ul></li>\n<li><code>)</code> : end of group 1</li>\n</ul></li>\n<li><code>)</code> : end of lookahead</li>\n<li><code>.</code> : match anything, this is to \"move forward\".</li>\n</ul>\n\n<p><a href=\"http://regex101.com/r/lM2tN5\" rel=\"noreferrer\"><strong>Online demo</strong></a></p>\n\n<hr>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/2255089\">Casimir et Hippolyte</a> it really seems to work in Java. You just need to add backslashes and display the first capturing group: <code>(?=(\\\\d+\\\\D+\\\\d+)).</code>.\nTested on <a href=\"http://www.regexplanet.com/advanced/java/index.html\" rel=\"noreferrer\">www.regexplanet.com</a>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/kPa03.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1375277170,"creation_date":1375277170,"answer_id":17971711,"question_id":17971466,"body_markdown":"Make the matcher attempt to start its next scan from the latter `\\d+`.\r\n\r\n    Matcher m = Pattern.compile(&quot;\\\\d+\\\\D+(\\\\d+)&quot;).matcher(&quot;2abc3abc4abc5&quot;);\r\n    if (m.find()) {\r\n        do {\r\n            allMatches.add(m.group());\r\n        } while (m.find(m.start(1)));\r\n    }","title":"Java regex - overlapping matches","body":"<p>Make the matcher attempt to start its next scan from the latter <code>\\d+</code>.</p>\n\n<pre><code>Matcher m = Pattern.compile(\"\\\\d+\\\\D+(\\\\d+)\").matcher(\"2abc3abc4abc5\");\nif (m.find()) {\n    do {\n        allMatches.add(m.group());\n    } while (m.find(m.start(1)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10624046,"reputation":333,"user_id":7824218,"display_name":"Fluch"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1670933836,"creation_date":1506900341,"answer_id":46517828,"question_id":17971466,"body_markdown":"The above solution of HamZa works perfectly in Java. If you want to find a specific pattern in a text all you have to do is:\r\n\r\n```java\r\nString regex = &quot;\\\\d+\\\\D+\\\\d+&quot;;\r\n\r\nString updatedRegex = &quot;(?=(&quot; + regex + &quot;)).&quot;;\r\n```\r\n\r\nWhere the `regex` is the pattern you are looking for and to be overlapping you need to surround it with `(?=(&quot; at the start and &quot;)).` at the end. ","title":"Java regex - overlapping matches","body":"<p>The above solution of HamZa works perfectly in Java. If you want to find a specific pattern in a text all you have to do is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;\\\\d+\\\\D+\\\\d+&quot;;\n\nString updatedRegex = &quot;(?=(&quot; + regex + &quot;)).&quot;;\n</code></pre>\n<p>Where the <code>regex</code> is the pattern you are looking for and to be overlapping you need to surround it with <code>(?=(&quot; at the start and &quot;)).</code> at the end.</p>\n"}],"owner":{"account_id":342021,"reputation":2141,"user_id":917572,"accept_rate":83,"display_name":"Evgeny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7541,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":17971711,"answer_count":3,"score":27,"last_activity_date":1670933836,"creation_date":1375276518,"question_id":17971466,"body_markdown":"In the following code:\r\n\r\n    public static void main(String[] args) {\r\n\t\tList&lt;String&gt; allMatches = new ArrayList&lt;String&gt;();\r\n\t\tMatcher m = Pattern.compile(&quot;\\\\d+\\\\D+\\\\d+&quot;).matcher(&quot;2abc3abc4abc5&quot;);\r\n\t\twhile (m.find()) {\r\n\t\t\tallMatches.add(m.group());\r\n\t\t}\r\n\t\t\r\n\t\tString[] res = allMatches.toArray(new String[0]);\r\n\t\tSystem.out.println(Arrays.toString(res));\r\n\t}\r\n\r\nThe result is: \r\n\r\n    [2abc3, 4abc5]\r\n\r\n&lt;b&gt;I&#39;d like it to be &lt;/b&gt;\r\n\r\n    [2abc3, 3abc4, 4abc5]\r\n\r\n&lt;b&gt;How can it be achieved? &lt;/b&gt;\r\n\r\n","title":"Java regex - overlapping matches","body":"<p>In the following code:</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; allMatches = new ArrayList&lt;String&gt;();\n    Matcher m = Pattern.compile(\"\\\\d+\\\\D+\\\\d+\").matcher(\"2abc3abc4abc5\");\n    while (m.find()) {\n        allMatches.add(m.group());\n    }\n\n    String[] res = allMatches.toArray(new String[0]);\n    System.out.println(Arrays.toString(res));\n}\n</code></pre>\n\n<p>The result is: </p>\n\n<pre><code>[2abc3, 4abc5]\n</code></pre>\n\n<p><b>I'd like it to be </b></p>\n\n<pre><code>[2abc3, 3abc4, 4abc5]\n</code></pre>\n\n<p><b>How can it be achieved? </b></p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25875526,"reputation":1,"user_id":19605580,"display_name":"Mithun S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670407407,"creation_date":1670407407,"answer_id":74714832,"question_id":74709435,"body_markdown":"\r\n\r\nCheck if the following is present in the pom file.Also check for JPA dependencies in pom. \r\n````\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n````\r\n","title":"SpringBoot Failed to configure a DataSource","body":"<p>Check if the following is present in the pom file.Also check for JPA dependencies in pom.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10922830,"reputation":1,"user_id":8028481,"display_name":"xGenji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670933624,"creation_date":1670363605,"question_id":74709435,"body_markdown":"I&#39;m currently learning microservices. After creating my first microservice, I tried to connect my microservice to a PostgreSQL database but I have the following error:\r\n```none\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n```\r\n\r\nWith this exception:\r\n\r\n&gt; Exception encountered during context initialization - cancelling\r\n&gt; refresh attempt:\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39;\r\n&gt; defined in class path resource\r\n&gt; [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]:\r\n&gt; Unsatisfied dependency expressed through method\r\n&gt; &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;dataSource&#39; defined in class path resource\r\n&gt; [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]:\r\n&gt; Bean instantiation via factory method failed; nested exception is\r\n&gt; org.springframework.beans.BeanInstantiationException: Failed to\r\n&gt; instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method\r\n&gt; &#39;dataSource&#39; threw exception; nested exception is\r\n&gt; org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException:\r\n&gt; Failed to determine a suitable driver class \\\r\n&gt; 2022-12-06 22:33:04.408  INFO 2012 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n\r\nHere&#39;s my application.yml\r\n\r\n```yaml\r\nserver:\r\n  port: 8080\r\n\r\nspring:\r\n  application:\r\n    name: player\r\n    datasource:\r\n      password: &quot;MySecretPassword!&quot;\r\n      url: jdbc:postgresql://localhost:5432/genjiservices\r\n      username: saucegenji\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: update\r\n        properties:\r\n          hibernate:\r\n            dialect: org.hibernate.dialect.PostgreSQLDialect\r\n            format_sql: true\r\n        show-sql: true\r\n```\r\n\r\nI couldn&#39;t post my pom because it says it was a spam.\r\n\r\nI tried to find solutions first, but couldn&#39;t find one that works for me. I think my application is ignoring my application.yml could that be the case? My application.yml is in the resources folder like it should be, so I don&#39;t really understand.\r\n\r\n","title":"SpringBoot Failed to configure a DataSource","body":"<p>I'm currently learning microservices. After creating my first microservice, I tried to connect my microservice to a PostgreSQL database but I have the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n</code></pre>\n<p>With this exception:</p>\n<blockquote>\n<p>Exception encountered during context initialization - cancelling\nrefresh attempt:\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'dataSourceScriptDatabaseInitializer'\ndefined in class path resource\n[org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]:\nUnsatisfied dependency expressed through method\n'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'dataSource' defined in class path resource\n[org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]:\nBean instantiation via factory method failed; nested exception is\norg.springframework.beans.BeanInstantiationException: Failed to\ninstantiate [com.zaxxer.hikari.HikariDataSource]: Factory method\n'dataSource' threw exception; nested exception is\norg.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException:\nFailed to determine a suitable driver class <br />\n2022-12-06 22:33:04.408  INFO 2012 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]</p>\n</blockquote>\n<p>Here's my application.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: 8080\n\nspring:\n  application:\n    name: player\n    datasource:\n      password: &quot;MySecretPassword!&quot;\n      url: jdbc:postgresql://localhost:5432/genjiservices\n      username: saucegenji\n      jpa:\n        hibernate:\n          ddl-auto: update\n        properties:\n          hibernate:\n            dialect: org.hibernate.dialect.PostgreSQLDialect\n            format_sql: true\n        show-sql: true\n</code></pre>\n<p>I couldn't post my pom because it says it was a spam.</p>\n<p>I tried to find solutions first, but couldn't find one that works for me. I think my application is ignoring my application.yml could that be the case? My application.yml is in the resources folder like it should be, so I don't really understand.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":15760,"reputation":1012,"user_id":33651,"display_name":"rud"},"score":0,"creation_date":1554314837,"post_id":49323867,"comment_id":97709577,"body_markdown":"Insufficient context to be actionable, sorry.","body":"Insufficient context to be actionable, sorry."},{"owner":{"account_id":3755084,"reputation":405,"user_id":3121607,"display_name":"Alesis Joan"},"score":0,"creation_date":1591887436,"post_id":49323867,"comment_id":110231673,"body_markdown":"I&#39;m having the same issue and there is no more context than that.","body":"I&#39;m having the same issue and there is no more context than that."}],"answers":[{"tags":[],"owner":{"account_id":1314282,"reputation":56,"user_id":1261559,"display_name":"GbGbGbGbEB"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521216714,"creation_date":1521216714,"answer_id":49325184,"question_id":49323867,"body_markdown":"It means the *run()* method inside your Spring boot application threw an exception. \r\nMy guess is that some spring bean failed to initialize due to differences in how your environments are set up.\r\nThere&#39;s no way tell though based on gradle stacktrace. Post the code/error from the actual springboot app.","title":"Gradle bootrun error, process command finished with non-zero exit value 1","body":"<p>It means the <em>run()</em> method inside your Spring boot application threw an exception. \nMy guess is that some spring bean failed to initialize due to differences in how your environments are set up.\nThere's no way tell though based on gradle stacktrace. Post the code/error from the actual springboot app.</p>\n"},{"tags":[],"owner":{"account_id":246063,"reputation":17561,"user_id":2267723,"accept_rate":59,"display_name":"Maher Abuthraa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1622159473,"creation_date":1622159473,"answer_id":67731246,"question_id":49323867,"body_markdown":"I think the internal tomcat is busy with another instance server. If you are running multiple projects or instances via Intellij Idea .. just stop them.","title":"Gradle bootrun error, process command finished with non-zero exit value 1","body":"<p>I think the internal tomcat is busy with another instance server. If you are running multiple projects or instances via Intellij Idea .. just stop them.</p>\n"},{"tags":[],"owner":{"account_id":6229038,"reputation":189,"user_id":4846434,"accept_rate":50,"display_name":"simonadamprog"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670933623,"creation_date":1670933623,"answer_id":74784697,"question_id":49323867,"body_markdown":"It looks like that your application is exiting with 1 and the application is not logging the reason for some reason. (Probably the issue was happened before your logger was initialized.)\r\n\r\nTo find out the root cause of the error put your Spring Boot Application&#39;s main function&#39;s content in a try-catch and in the catch:\r\n\r\n    catch (Throwable t) {\r\n        System.out.println(t.getMessage());\r\n        t.printStackTrace();\r\n    }","title":"Gradle bootrun error, process command finished with non-zero exit value 1","body":"<p>It looks like that your application is exiting with 1 and the application is not logging the reason for some reason. (Probably the issue was happened before your logger was initialized.)</p>\n<p>To find out the root cause of the error put your Spring Boot Application's main function's content in a try-catch and in the catch:</p>\n<pre><code>catch (Throwable t) {\n    System.out.println(t.getMessage());\n    t.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":11910380,"reputation":105,"user_id":8715788,"display_name":"Cuzto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8745,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1670933623,"creation_date":1521212649,"question_id":49323867,"body_markdown":"i&#39;ve been trying to solve this problem for a while, tried other solutions used for the same error code but it isn&#39;t working. It&#39;s a team project and the same code works for one person but gradle bootrun gives this error to 3 other people when trying it on our own computers.\r\n\r\nStacktrace:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:bootRun&#39;.\r\n    &gt; Process &#39;command &#39;C:\\Program Files\\Java\\jdk1.8.0_162\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:bootRun&#39;.\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:103)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:73)\r\n            at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\r\n            at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\r\n            at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n            at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\r\n            at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\r\n            at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\r\n            at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:88)\r\n            at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\r\n            at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n            at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n            at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:623)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:578)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\r\n            at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n            at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    Caused by: org.gradle.process.internal.ExecException: Process &#39;command &#39;C:\\Program Files\\Java\\jdk1.8.0_162\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n            at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n            at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:36)\r\n            at org.gradle.api.tasks.JavaExec.exec(JavaExec.java:74)\r\n            at org.springframework.boot.gradle.tasks.run.BootRun.exec(BootRun.java:51)\r\n            at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n            at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:46)\r\n            at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\r\n            at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\r\n            at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:788)\r\n            at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:755)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:124)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:113)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:95)\r\n            ... 30 more\r\n    \r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 10s\r\n    3 actionable tasks: 1 executed, 2 up-to-date","title":"Gradle bootrun error, process command finished with non-zero exit value 1","body":"<p>i've been trying to solve this problem for a while, tried other solutions used for the same error code but it isn't working. It's a team project and the same code works for one person but gradle bootrun gives this error to 3 other people when trying it on our own computers.</p>\n\n<p>Stacktrace:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':bootRun'.\n&gt; Process 'command 'C:\\Program Files\\Java\\jdk1.8.0_162\\bin\\java.exe'' finished with non-zero exit value 1\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':bootRun'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:103)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:73)\n        at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n        at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:88)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:623)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:578)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.process.internal.ExecException: Process 'command 'C:\\Program Files\\Java\\jdk1.8.0_162\\bin\\java.exe'' finished with non-zero exit value 1\n        at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n        at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:36)\n        at org.gradle.api.tasks.JavaExec.exec(JavaExec.java:74)\n        at org.springframework.boot.gradle.tasks.run.BootRun.exec(BootRun.java:51)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:46)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:788)\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:755)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:124)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:113)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:95)\n        ... 30 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 10s\n3 actionable tasks: 1 executed, 2 up-to-date\n</code></pre>\n"},{"tags":["java","spring-boot","rest","jpa","graphql"],"answers":[{"tags":[],"owner":{"account_id":10605946,"reputation":116,"user_id":7811351,"display_name":"Hoxtygen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665087446,"creation_date":1665087446,"answer_id":73979592,"question_id":73971901,"body_markdown":"This is possible. I once wrote a query like this. I needed to search the database using some search terms.\r\n```\r\nquery ($title: String!, $company: String!, $city: String!, $investor: String!) {\r\n    jobs(\r\n      where: {\r\n        and: [\r\n          { title: { ilike: $title } },\r\n          { company: { name: { ilike: $company } } },\r\n          { city: { ilike: $city } },\r\n          {company: {company_investors:{investor:{name: {ilike: $investor}}}}}\r\n          \r\n        ]\r\n      }\r\n    ) {\r\n      id\r\n      title\r\n      city\r\n      company {\r\n        name\r\n        id\r\n        company_investors {\r\n          investor {\r\n            name\r\n            id\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Can we write GraphQL query for getting data based on predicate(condition)","body":"<p>This is possible. I once wrote a query like this. I needed to search the database using some search terms.</p>\n<pre><code>query ($title: String!, $company: String!, $city: String!, $investor: String!) {\n    jobs(\n      where: {\n        and: [\n          { title: { ilike: $title } },\n          { company: { name: { ilike: $company } } },\n          { city: { ilike: $city } },\n          {company: {company_investors:{investor:{name: {ilike: $investor}}}}}\n          \n        ]\n      }\n    ) {\n      id\n      title\n      city\n      company {\n        name\n        id\n        company_investors {\n          investor {\n            name\n            id\n          }\n        }\n      }\n    }\n  }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":740427,"reputation":3463,"user_id":714707,"display_name":"Surya R Praveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670933396,"creation_date":1670933396,"answer_id":74784657,"question_id":73971901,"body_markdown":"    \r\n\r\n    # glob: I want all the titles that contain the word &#39;History&#39;.\r\n    # The wildcard * stands for any non-empty string.\r\n\r\n      example_glob: allMarkdownRemark(\r\n        filter: { frontmatter: { title: { glob: &quot;*History*&quot; } } }\r\n      ) {\r\n        edges {\r\n          node {\r\n            frontmatter {\r\n              title\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n**Complete list of possible operators**\r\n\r\n - `eq:` short for **equal**, must match the given data exactly\r\n   \r\n - `ne:` short for **not equal**, must be different from the given data\r\n   \r\n - `regex:` short for **regular expression**, must match the given pattern\r\n   \r\n - `glob:` short for **global**, allows to use wildcard * which acts as a\r\n   placeholder for any non-empty string\r\n   \r\n - `in:` short for **in array**, must be an element of the array\r\n   \r\n - `nin:` short for **not in array**, must NOT be an element of the array\r\n   \r\n - `gt:` short for **greater than**, must be greater than given value\r\n   \r\n - `gte:` short for **greater than or equal**, must be greater than or equal\r\n   to given value\r\n   \r\n - `lt:` short for **less than**, must be less than given value\r\n   \r\n - `lte:` short for **less than or equal**, must be less than or equal to\r\n   given value\r\n   \r\n - `elemMatch:` short for **element match**, this indicates that the field you\r\n   are filtering will return an array of elements, on which you can\r\n   apply a filter using the previous operators\r\n\r\n","title":"Can we write GraphQL query for getting data based on predicate(condition)","body":"<pre><code># glob: I want all the titles that contain the word 'History'.\n# The wildcard * stands for any non-empty string.\n\n  example_glob: allMarkdownRemark(\n    filter: { frontmatter: { title: { glob: &quot;*History*&quot; } } }\n  ) {\n    edges {\n      node {\n        frontmatter {\n          title\n        }\n      }\n    }\n  }\n</code></pre>\n<p><strong>Complete list of possible operators</strong></p>\n<ul>\n<li><p><code>eq:</code> short for <strong>equal</strong>, must match the given data exactly</p>\n</li>\n<li><p><code>ne:</code> short for <strong>not equal</strong>, must be different from the given data</p>\n</li>\n<li><p><code>regex:</code> short for <strong>regular expression</strong>, must match the given pattern</p>\n</li>\n<li><p><code>glob:</code> short for <strong>global</strong>, allows to use wildcard * which acts as a\nplaceholder for any non-empty string</p>\n</li>\n<li><p><code>in:</code> short for <strong>in array</strong>, must be an element of the array</p>\n</li>\n<li><p><code>nin:</code> short for <strong>not in array</strong>, must NOT be an element of the array</p>\n</li>\n<li><p><code>gt:</code> short for <strong>greater than</strong>, must be greater than given value</p>\n</li>\n<li><p><code>gte:</code> short for <strong>greater than or equal</strong>, must be greater than or equal\nto given value</p>\n</li>\n<li><p><code>lt:</code> short for <strong>less than</strong>, must be less than given value</p>\n</li>\n<li><p><code>lte:</code> short for <strong>less than or equal</strong>, must be less than or equal to\ngiven value</p>\n</li>\n<li><p><code>elemMatch:</code> short for <strong>element match</strong>, this indicates that the field you\nare filtering will return an array of elements, on which you can\napply a filter using the previous operators</p>\n</li>\n</ul>\n"}],"owner":{"account_id":12500309,"reputation":5,"user_id":9098984,"display_name":"Jyoti Kolape"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73979592,"answer_count":2,"score":0,"last_activity_date":1670933396,"creation_date":1665050203,"question_id":73971901,"body_markdown":"I need to write graphql query with some predicate like \r\n\r\n    Select * from User Where loginId like &quot;abc%&quot;\r\n\r\n\r\nIn GraphQL :\r\n\r\n    {\r\n      getWithPredicate(clazz : String, predicates : Predicates){\r\n            loginId\r\n            enabled\r\n            accountLocked\r\n            accountExpired\r\n            accountExpireBy\r\n            createdBy\r\n      }\r\n    \r\n    }\r\n\r\nPlease suggest, if any default implementation is available in graphql.\r\n\r\nThanks in advance.","title":"Can we write GraphQL query for getting data based on predicate(condition)","body":"<p>I need to write graphql query with some predicate like</p>\n<pre><code>Select * from User Where loginId like &quot;abc%&quot;\n</code></pre>\n<p>In GraphQL :</p>\n<pre><code>{\n  getWithPredicate(clazz : String, predicates : Predicates){\n        loginId\n        enabled\n        accountLocked\n        accountExpired\n        accountExpireBy\n        createdBy\n  }\n\n}\n</code></pre>\n<p>Please suggest, if any default implementation is available in graphql.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","libgdx"],"answers":[{"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670933302,"creation_date":1670933302,"answer_id":74784641,"question_id":74777371,"body_markdown":"You are using timer to determine when the bullet is shot i.e the shot begins, but also in there is the continuing increment for the flight of the bullet. So whenever your timer triggers from delta, the bullet resets position to postopGhost.\r\n\r\ni.e. the bullet doesn&#39;t have any method to proceed during flight. Try this maybe. Also you need to refer to dt (in some fashion as you like) against the 40 increment because you don&#39;t know how much time has elapsed since the last render.\r\n\r\n```\r\n  public void timer(float dt) {\r\n        int ticker = 0;\r\n        ticker += dt;\r\n        if(ticker &gt; 5) {\r\n            ticker = 0;\r\n            shoot();\r\n        } else {\r\n            processBulletFlight(dt);\r\n        }\r\n    }\r\n\r\n    public void shoot(){\r\n        setBulletpos(postopGhost);\r\n    }\r\n\r\n    public processBulletFlight(dt) {\r\n        bulletpos.x = (bulletpos.x + (40*dt));    \r\n    }\r\n```\r\n","title":"How would I be able to create an enemy that shoots at the player after a certain amount of time in libgdx?","body":"<p>You are using timer to determine when the bullet is shot i.e the shot begins, but also in there is the continuing increment for the flight of the bullet. So whenever your timer triggers from delta, the bullet resets position to postopGhost.</p>\n<p>i.e. the bullet doesn't have any method to proceed during flight. Try this maybe. Also you need to refer to dt (in some fashion as you like) against the 40 increment because you don't know how much time has elapsed since the last render.</p>\n<pre><code>  public void timer(float dt) {\n        int ticker = 0;\n        ticker += dt;\n        if(ticker &gt; 5) {\n            ticker = 0;\n            shoot();\n        } else {\n            processBulletFlight(dt);\n        }\n    }\n\n    public void shoot(){\n        setBulletpos(postopGhost);\n    }\n\n    public processBulletFlight(dt) {\n        bulletpos.x = (bulletpos.x + (40*dt));    \n    }\n</code></pre>\n"}],"owner":{"account_id":26452802,"reputation":33,"user_id":20095770,"display_name":"banabrain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74784641,"answer_count":1,"score":0,"last_activity_date":1670933302,"creation_date":1670879555,"question_id":74777371,"body_markdown":"I am currently working on trying to make enemies shoot a projectile in a straight line at the player. The projectiles are not showing on the playstate.\r\n\r\n\r\n\r\n```\r\npublic class Ghost {\r\n    private Texture topGhost, bottomGhost;\r\n    private  Vector2 postopGhost;\r\n    private Vector2 posBotGhost;\r\n    private Random rand;\r\n    private static final int fluct = 130;\r\n    private int GhostGap;\r\n    public int lowopening;\r\n    public static int width;\r\n    private Texture bullet;\r\n    private Vector2 bulletpos;\r\n    private Vector2 botbulletpos;\r\n\r\n\r\n    public Ghost(float x) {\r\n        GhostGap = 120; // the gap between the top and bottom ghost\r\n        lowopening = 90; //\r\n        bullet = new Texture(&quot;Bird.png&quot;);\r\n        topGhost = new Texture(&quot;Bird.png&quot;);\r\n        // middletude = new Texture(&quot;sipkemiddle.png&quot;); //spelling mistake\r\n        bottomGhost = new Texture(&quot;Bird.png&quot;);\r\n        rand = new Random();\r\n        width = topGhost.getWidth();\r\n        posBotGhost = new Vector2(x + 120, rand.nextInt(fluct));\r\n        postopGhost = new Vector2(x + 113, posBotGhost.y + bottomGhost.getHeight() + GhostGap - 50); \r\n        bulletpos = new Vector2(postopGhost);\r\n        botbulletpos = new Vector2(posBotGhost);\r\n    }\r\n\r\n    public void repostition(float x) {\r\n        postopGhost.set(x + 75, rand.nextInt(fluct) + 200);\r\n        posBotGhost.set(x + 75, postopGhost.y + GhostGap - bottomGhost.getHeight() - 247);\r\n    }\r\n    public void timer(float dt) {\r\n        int ticker = 0;\r\n        ticker += dt;\r\n        if(ticker &gt; 5) {\r\n            ticker = 0;\r\n            shoot();\r\n        }\r\n    }\r\n    public void shoot(){\r\n        setBulletpos(postopGhost);        \r\n        bulletpos.x = (bulletpos.x + 40);\r\n        bulletpos. y = bulletpos.y;\r\n    }\r\n\r\n```\r\n\r\nSo far I had no luck with spawning bullets visually that move across the X-axis of my game. Any suggestions?\r\n\r\n","title":"How would I be able to create an enemy that shoots at the player after a certain amount of time in libgdx?","body":"<p>I am currently working on trying to make enemies shoot a projectile in a straight line at the player. The projectiles are not showing on the playstate.</p>\n<pre><code>public class Ghost {\n    private Texture topGhost, bottomGhost;\n    private  Vector2 postopGhost;\n    private Vector2 posBotGhost;\n    private Random rand;\n    private static final int fluct = 130;\n    private int GhostGap;\n    public int lowopening;\n    public static int width;\n    private Texture bullet;\n    private Vector2 bulletpos;\n    private Vector2 botbulletpos;\n\n\n    public Ghost(float x) {\n        GhostGap = 120; // the gap between the top and bottom ghost\n        lowopening = 90; //\n        bullet = new Texture(&quot;Bird.png&quot;);\n        topGhost = new Texture(&quot;Bird.png&quot;);\n        // middletude = new Texture(&quot;sipkemiddle.png&quot;); //spelling mistake\n        bottomGhost = new Texture(&quot;Bird.png&quot;);\n        rand = new Random();\n        width = topGhost.getWidth();\n        posBotGhost = new Vector2(x + 120, rand.nextInt(fluct));\n        postopGhost = new Vector2(x + 113, posBotGhost.y + bottomGhost.getHeight() + GhostGap - 50); \n        bulletpos = new Vector2(postopGhost);\n        botbulletpos = new Vector2(posBotGhost);\n    }\n\n    public void repostition(float x) {\n        postopGhost.set(x + 75, rand.nextInt(fluct) + 200);\n        posBotGhost.set(x + 75, postopGhost.y + GhostGap - bottomGhost.getHeight() - 247);\n    }\n    public void timer(float dt) {\n        int ticker = 0;\n        ticker += dt;\n        if(ticker &gt; 5) {\n            ticker = 0;\n            shoot();\n        }\n    }\n    public void shoot(){\n        setBulletpos(postopGhost);        \n        bulletpos.x = (bulletpos.x + 40);\n        bulletpos. y = bulletpos.y;\n    }\n\n</code></pre>\n<p>So far I had no luck with spawning bullets visually that move across the X-axis of my game. Any suggestions?</p>\n"},{"tags":["java","spring-boot","docker","vaadin","web-deployment"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1670931044,"post_id":74783863,"comment_id":131982277,"body_markdown":"Have you checked the dev-console in your browser? Are there 404 errors etc? Any complains on the server-side?","body":"Have you checked the dev-console in your browser? Are there 404 errors etc? Any complains on the server-side?"},{"owner":{"account_id":26810839,"reputation":57,"user_id":20401498,"display_name":"Kiemoon"},"score":0,"creation_date":1670933333,"post_id":74783863,"comment_id":131983106,"body_markdown":"now I see that there are whole bunch. I must say that I&#39;m a hobbyst and delpoying something in docker is already something advanced for me.","body":"now I see that there are whole bunch. I must say that I&#39;m a hobbyst and delpoying something in docker is already something advanced for me."},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1670934036,"post_id":74783863,"comment_id":131983340,"body_markdown":"Why are the port numbers changing? Have you tried multiple times and used random ports and finally fixed it on 8080? Also do you want to use docker for development (e.g. keep your system free of dev-deps) or do you want to build a produkction docker image to run somewhere else (I ask because there are logs about running a non-production-build)","body":"Why are the port numbers changing? Have you tried multiple times and used random ports and finally fixed it on 8080? Also do you want to use docker for development (e.g. keep your system free of dev-deps) or do you want to build a produkction docker image to run somewhere else (I ask because there are logs about running a non-production-build)"},{"owner":{"account_id":26810839,"reputation":57,"user_id":20401498,"display_name":"Kiemoon"},"score":0,"creation_date":1670938054,"post_id":74783863,"comment_id":131984824,"body_markdown":"About ports. No I wasn&#39;t changing them, ut maybe it&#39;s beacuse my app connects to database. I wanted to deploy my app to render.com, where building docker image is on their side, and requires only Dockerfile from me. So I did. But  result was that I was getting logs that initializing of th image was done, and after that general status of deployment was changer to failed(no log abou it). So I downloaded docker to try solve this. At this point I&#39;m quite frustrated already, so if you know some easiest way, or have any advice I will appreciate it a lot.","body":"About ports. No I wasn&#39;t changing them, ut maybe it&#39;s beacuse my app connects to database. I wanted to deploy my app to render.com, where building docker image is on their side, and requires only Dockerfile from me. So I did. But  result was that I was getting logs that initializing of th image was done, and after that general status of deployment was changer to failed(no log abou it). So I downloaded docker to try solve this. At this point I&#39;m quite frustrated already, so if you know some easiest way, or have any advice I will appreciate it a lot."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":3,"creation_date":1670941319,"post_id":74783863,"comment_id":131986008,"body_markdown":"It looks like you didn&#39;t build the application in production mode: https://vaadin.com/docs/latest/production/production-build","body":"It looks like you didn&#39;t build the application in production mode: <a href=\"https://vaadin.com/docs/latest/production/production-build\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/production/production-build</a>"},{"owner":{"account_id":26810839,"reputation":57,"user_id":20401498,"display_name":"Kiemoon"},"score":0,"creation_date":1670941778,"post_id":74783863,"comment_id":131986196,"body_markdown":"I&#39;m using gradle, and was executing command ./gradlew clean build. There&#39;s vaadin.productionMode=true in application.properties, and productionMode = true in build.gradle. Is that an analogue for mvn clean package -Pproduction?","body":"I&#39;m using gradle, and was executing command ./gradlew clean build. There&#39;s vaadin.productionMode=true in application.properties, and productionMode = true in build.gradle. Is that an analogue for mvn clean package -Pproduction?"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":1,"creation_date":1670947100,"post_id":74783863,"comment_id":131988190,"body_markdown":"Does this answer your question? [failed to initialize Tomcat while running Spring boot app with vaadin in docker](https://stackoverflow.com/questions/74760800/failed-to-initialize-tomcat-while-running-spring-boot-app-with-vaadin-in-docker)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74760800/failed-to-initialize-tomcat-while-running-spring-boot-app-with-vaadin-in-docker\">failed to initialize Tomcat while running Spring boot app with vaadin in docker</a>"}],"owner":{"account_id":26810839,"reputation":57,"user_id":20401498,"display_name":"Kiemoon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670933138,"creation_date":1670929668,"question_id":74783863,"body_markdown":"My Vaadin spring-Boot project runs alrighty when run in IDE, but when I&#39;m running it in docker, after navigating to adequate port, Vaadin message appears:\r\n```\r\nYou are offline\r\nProject Base for Vaadin requires an internet connection to work. You do not seem to have access to the server right now. Check your internet connection and try reloading the page to use the application.\r\n```\r\n vaadin v.23\r\n\r\nIs this docker or vaadin related problem?\r\n\r\nEdit:\r\nDev-console in my browser:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/317VH.png\r\n  [2]: https://i.stack.imgur.com/NW85i.png","title":"Vaadin Spring-Boot project not having connection to internet in Docker","body":"<p>My Vaadin spring-Boot project runs alrighty when run in IDE, but when I'm running it in docker, after navigating to adequate port, Vaadin message appears:</p>\n<pre><code>You are offline\nProject Base for Vaadin requires an internet connection to work. You do not seem to have access to the server right now. Check your internet connection and try reloading the page to use the application.\n</code></pre>\n<p>vaadin v.23</p>\n<p>Is this docker or vaadin related problem?</p>\n<p>Edit:\nDev-console in my browser:</p>\n<p><a href=\"https://i.stack.imgur.com/317VH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/317VH.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/NW85i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NW85i.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","reflection","static"],"comments":[{"owner":{"account_id":27237658,"reputation":9,"user_id":20764319,"display_name":"sventuba"},"score":0,"creation_date":1670989591,"post_id":74783476,"comment_id":131998345,"body_markdown":"I am trying to do reflection on an unknown class. If I do it on an instance of the class it works fine, but if I try to do it on the class (in my case the class only has static fields and no methods so Java complain when I make an instance of it), it fails. I noted that &quot;toString&quot; seem to retain the class information and I assume they use reflection to find that info, but when I try to do reflection, it doesn&#39;t work. Maybe the Class&lt;?&gt;-thing will work... Nope. That did the opposite of what I want, but it works exactly as you said :D","body":"I am trying to do reflection on an unknown class. If I do it on an instance of the class it works fine, but if I try to do it on the class (in my case the class only has static fields and no methods so Java complain when I make an instance of it), it fails. I noted that &quot;toString&quot; seem to retain the class information and I assume they use reflection to find that info, but when I try to do reflection, it doesn&#39;t work. Maybe the Class&lt;?&gt;-thing will work... Nope. That did the opposite of what I want, but it works exactly as you said :D"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670932898,"creation_date":1670930697,"answer_id":74784087,"question_id":74783476,"body_markdown":"If you are sure that `obj` stores an instance of `Class`, you should cast it, rather than calling `getClass`, to get a `Class`.\r\n\r\n    Field[] fields = ((Class&lt;?&gt;)obj).getDeclaredFields();\r\n\r\nI&#39;m not sure where `obj` comes from, but maybe it should have been declared to be a `Class&lt;?&gt;` in the first place.\r\n\r\nCalling `getClass` on `obj` would get the `Class` instance representing the class `Class`, aka `Class.class`, obviously not what you want. \r\n\r\nPerhaps this is another bug in your code, and that `obj` isn&#39;t actually meant to be an instance of `Class`, and instead meant to be an instance of `MyThing`? If that is the case, then calling `obj.getClass()` actually makes sense, and you should fix *that* bug instead.\r\n\r\nAs for why `toString` outputs the same results for both, it is because this isn&#39;t a fair comparison. You are comparing these two:\r\n\r\n    obj.toString()\r\n    MyThing.class.toString()\r\n\r\n`obj` stores `MyThing.class`, so by dynamic dispatch at runtime, of course they are the same.\r\n\r\nA fairer comparison would be:\r\n\r\n    obj.getClass().toString()\r\n    MyThing.class.toString()\r\n\r\nNow you can see that the first outputs `class java.lang.Class`.\r\n\r\nEdit:\r\n\r\nYou seem to think that you need to assign `obj = MyThing.class` (as opposed to an instance of `MyThing`),  in order to get the static fields of `MyThing`. This is incorrect. `getFields` will return both instance and static fields. You do not need to make `obj` be anything special to get its static fields.\r\n\r\nYou can check if a field is static by doing:\r\n\r\n    Modifier.isStatic(field.getModifiers())\r\n\r\nJust check if the above is true to filter the (non)-static fields out if you do not want them.","title":"Can&#39;t see declared fields when doing reflection on a class rather than an object","body":"<p>If you are sure that <code>obj</code> stores an instance of <code>Class</code>, you should cast it, rather than calling <code>getClass</code>, to get a <code>Class</code>.</p>\n<pre><code>Field[] fields = ((Class&lt;?&gt;)obj).getDeclaredFields();\n</code></pre>\n<p>I'm not sure where <code>obj</code> comes from, but maybe it should have been declared to be a <code>Class&lt;?&gt;</code> in the first place.</p>\n<p>Calling <code>getClass</code> on <code>obj</code> would get the <code>Class</code> instance representing the class <code>Class</code>, aka <code>Class.class</code>, obviously not what you want.</p>\n<p>Perhaps this is another bug in your code, and that <code>obj</code> isn't actually meant to be an instance of <code>Class</code>, and instead meant to be an instance of <code>MyThing</code>? If that is the case, then calling <code>obj.getClass()</code> actually makes sense, and you should fix <em>that</em> bug instead.</p>\n<p>As for why <code>toString</code> outputs the same results for both, it is because this isn't a fair comparison. You are comparing these two:</p>\n<pre><code>obj.toString()\nMyThing.class.toString()\n</code></pre>\n<p><code>obj</code> stores <code>MyThing.class</code>, so by dynamic dispatch at runtime, of course they are the same.</p>\n<p>A fairer comparison would be:</p>\n<pre><code>obj.getClass().toString()\nMyThing.class.toString()\n</code></pre>\n<p>Now you can see that the first outputs <code>class java.lang.Class</code>.</p>\n<p>Edit:</p>\n<p>You seem to think that you need to assign <code>obj = MyThing.class</code> (as opposed to an instance of <code>MyThing</code>),  in order to get the static fields of <code>MyThing</code>. This is incorrect. <code>getFields</code> will return both instance and static fields. You do not need to make <code>obj</code> be anything special to get its static fields.</p>\n<p>You can check if a field is static by doing:</p>\n<pre><code>Modifier.isStatic(field.getModifiers())\n</code></pre>\n<p>Just check if the above is true to filter the (non)-static fields out if you do not want them.</p>\n"}],"owner":{"account_id":27237658,"reputation":9,"user_id":20764319,"display_name":"sventuba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1670932898,"creation_date":1670927865,"question_id":74783476,"body_markdown":"So, I&#39;m playing around with reflection in Java and noticed something that I find strange. I created a class that accepts an Object and then lists fields and methods that have the annotation &quot;publish&quot; (that I also made). When I feed it an instance of a class it works fine, but when I give it a class with static fields and methods (i.e. MyThing.class), I can&#39;t see anything. My original code had a bug, which meant that I actually used the hard coded class rather than the class I used in the constructor, like this:\r\n```\r\nObject obj = MyThing.class;\r\nField[] fields = obj.getClass().getDeclaredFields(); // correct version\r\nField[] fields = MyThing.class.getDeclaredFields(); // not as intended\r\n```\r\nIn the latter case, I can see the fields, but in the first (correct version) I can&#39;t. Even more curious, if I do &quot;toString&quot; in both cases, I get the same result, but if I do &quot;getName&quot; they are different:\r\n```\r\nObject obj = MyThing.class;\r\nSystem.out.println(&quot;toString=&quot;+obj.toString()); // --&gt; class MyThing\r\nSystem.out.println(&quot;getName=&quot;+obj.getClass().getName()); // --&gt; java.lang.Class\r\n```\r\nI realize there is a difference between the two, but it is slightly annoying that &quot;toString&quot; somehow sees the original class, but when I try to get to the original class it seems to be gone. If I know which class Object really is, I could do a cast and make it work, but it kind of defeats the purpose of the thing...\r\nI&#39;ve tried to create a more complete example below and my question (finally) is: Is there a way I can get to the actual class of Object using something like &quot;getClass&quot;? \r\n\r\n\r\nI have the following simple class declared:\r\n\r\n```\r\npublic class MyThing {\r\n\r\n\t@Publish\r\n\tpublic double value1 = 1.0;\r\n\t@Publish\r\n\tpublic static double value2 = 2.0;\r\n\tpublic static int value3 = 3;\r\n\t\r\n\tpublic static void method1() {\r\n\t\tSystem.out.println(&quot;One&quot;);\r\n\t}\r\n\r\n\t@Publish\r\n\tpublic static double method2(double value) {\r\n\t\treturn value*value;\r\n\t}\r\n\r\n\t@Publish\r\n\tpublic int method3(double value) {\r\n\t\treturn (int) Math.floor(value);\r\n\t} \r\n}\r\n\r\n```\r\n\r\nWhere &quot;@Publish&quot; is a simple annotation to make things easier to find:\r\n\r\n```\r\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n\r\nimport java.lang.annotation.Retention;\r\n\r\n@Retention(RUNTIME)\r\npublic @interface Publish {\r\n\r\n}\r\n```\r\nIf I then run the following:\r\n\r\n```\r\n\tObject c1 = new MyThing();\r\n\tSystem.out.println(&quot;Object---------&quot;+c1.toString());\r\n\tField[] fields = c1.getClass().getDeclaredFields();\r\n\tSystem.out.print(&quot;Fields:&quot;);\r\n\tfor (Field f:fields) {\r\n\t\tif (f.isAnnotationPresent(Publish.class)) { \r\n\t\t\tSystem.out.print(&quot; &quot;+f.getName());\r\n\t\t}\r\n\t}\r\n\tMethod[] methods= c1.getClass().getDeclaredMethods();\r\n\tSystem.out.print(&quot;\\nMethods:&quot;);\r\n\tfor (Method m:methods) {\r\n\t\tif (m.isAnnotationPresent(Publish.class)) { \r\n\t\t\tSystem.out.print(&quot; &quot;+m.getName());\r\n\t\t}\r\n\t}\r\n\r\n\tObject c2 = MyThing.class;\r\n\tSystem.out.println(&quot;\\n\\nClass---------&quot;+c2.toString());\r\n\tField[] fields2 = c2.getClass().getDeclaredFields();\r\n\tSystem.out.print(&quot;Fields:&quot;);\r\n\tfor (Field f:fields2) {\r\n\t\tif (f.isAnnotationPresent(Publish.class)) { \r\n\t\t\tSystem.out.print(&quot; &quot;+f.getName());\r\n\t\t}\r\n\t}\r\n\tMethod[] methods2= c2.getClass().getDeclaredMethods();\r\n\tSystem.out.print(&quot;\\nMethods:&quot;);\r\n\tfor (Method m:methods2) {\r\n\t\tif (m.isAnnotationPresent(Publish.class)) { \r\n\t\t\tSystem.out.print(&quot; &quot;+m.getName());\r\n\t\t}\r\n\t}\r\n\r\n\tSystem.out.println(&quot;\\n\\nDirect Class---------&quot;+MyThing.class.toString());\r\n\tField[] fields3 = MyThing.class.getDeclaredFields();\r\n\tSystem.out.print(&quot;Fields:&quot;);\r\n\tfor (Field f:fields3) {\r\n\t\tif (f.isAnnotationPresent(Publish.class)) { \r\n\t\t\tSystem.out.print(&quot; &quot;+f.getName());\r\n\t\t}\r\n\t}\r\n\tMethod[] methods3= MyThing.class.getDeclaredMethods();\r\n\tSystem.out.print(&quot;\\nMethods:&quot;);\r\n\tfor (Method m:methods3) {\r\n\t\tif (m.isAnnotationPresent(Publish.class)) { \r\n\t\t\tSystem.out.print(&quot; &quot;+m.getName());\r\n\t\t}\r\n    }\r\n\r\n}\r\n\r\n```\r\nI get the following:\r\n\r\n```\r\nObject---------MyThing@6ff3c5b5\r\nFields: value1 value2\r\nMethods: method2 method3\r\n\r\nClass---------class MyThing\r\nFields:\r\nMethods:\r\n\r\nDirect Class---------class MyThing\r\nFields: value1 value2\r\nMethods: method2 method3\r\n\r\n```\r\nIn the second case, where I try to create an Object of MyThing.class, I can see the class name if I do &quot;toString&quot;, but I don&#39;t get any of the fields or methods. If I use MyThing.class directly (as in the third case), I see the methods and fields - but I actually wasn&#39;t expecting to see the non-static methods and fields...\r\n\r\n\r\n\r\n","title":"Can&#39;t see declared fields when doing reflection on a class rather than an object","body":"<p>So, I'm playing around with reflection in Java and noticed something that I find strange. I created a class that accepts an Object and then lists fields and methods that have the annotation &quot;publish&quot; (that I also made). When I feed it an instance of a class it works fine, but when I give it a class with static fields and methods (i.e. MyThing.class), I can't see anything. My original code had a bug, which meant that I actually used the hard coded class rather than the class I used in the constructor, like this:</p>\n<pre><code>Object obj = MyThing.class;\nField[] fields = obj.getClass().getDeclaredFields(); // correct version\nField[] fields = MyThing.class.getDeclaredFields(); // not as intended\n</code></pre>\n<p>In the latter case, I can see the fields, but in the first (correct version) I can't. Even more curious, if I do &quot;toString&quot; in both cases, I get the same result, but if I do &quot;getName&quot; they are different:</p>\n<pre><code>Object obj = MyThing.class;\nSystem.out.println(&quot;toString=&quot;+obj.toString()); // --&gt; class MyThing\nSystem.out.println(&quot;getName=&quot;+obj.getClass().getName()); // --&gt; java.lang.Class\n</code></pre>\n<p>I realize there is a difference between the two, but it is slightly annoying that &quot;toString&quot; somehow sees the original class, but when I try to get to the original class it seems to be gone. If I know which class Object really is, I could do a cast and make it work, but it kind of defeats the purpose of the thing...\nI've tried to create a more complete example below and my question (finally) is: Is there a way I can get to the actual class of Object using something like &quot;getClass&quot;?</p>\n<p>I have the following simple class declared:</p>\n<pre><code>public class MyThing {\n\n    @Publish\n    public double value1 = 1.0;\n    @Publish\n    public static double value2 = 2.0;\n    public static int value3 = 3;\n    \n    public static void method1() {\n        System.out.println(&quot;One&quot;);\n    }\n\n    @Publish\n    public static double method2(double value) {\n        return value*value;\n    }\n\n    @Publish\n    public int method3(double value) {\n        return (int) Math.floor(value);\n    } \n}\n\n</code></pre>\n<p>Where &quot;@Publish&quot; is a simple annotation to make things easier to find:</p>\n<pre><code>import static java.lang.annotation.RetentionPolicy.RUNTIME;\n\nimport java.lang.annotation.Retention;\n\n@Retention(RUNTIME)\npublic @interface Publish {\n\n}\n</code></pre>\n<p>If I then run the following:</p>\n<pre><code>    Object c1 = new MyThing();\n    System.out.println(&quot;Object---------&quot;+c1.toString());\n    Field[] fields = c1.getClass().getDeclaredFields();\n    System.out.print(&quot;Fields:&quot;);\n    for (Field f:fields) {\n        if (f.isAnnotationPresent(Publish.class)) { \n            System.out.print(&quot; &quot;+f.getName());\n        }\n    }\n    Method[] methods= c1.getClass().getDeclaredMethods();\n    System.out.print(&quot;\\nMethods:&quot;);\n    for (Method m:methods) {\n        if (m.isAnnotationPresent(Publish.class)) { \n            System.out.print(&quot; &quot;+m.getName());\n        }\n    }\n\n    Object c2 = MyThing.class;\n    System.out.println(&quot;\\n\\nClass---------&quot;+c2.toString());\n    Field[] fields2 = c2.getClass().getDeclaredFields();\n    System.out.print(&quot;Fields:&quot;);\n    for (Field f:fields2) {\n        if (f.isAnnotationPresent(Publish.class)) { \n            System.out.print(&quot; &quot;+f.getName());\n        }\n    }\n    Method[] methods2= c2.getClass().getDeclaredMethods();\n    System.out.print(&quot;\\nMethods:&quot;);\n    for (Method m:methods2) {\n        if (m.isAnnotationPresent(Publish.class)) { \n            System.out.print(&quot; &quot;+m.getName());\n        }\n    }\n\n    System.out.println(&quot;\\n\\nDirect Class---------&quot;+MyThing.class.toString());\n    Field[] fields3 = MyThing.class.getDeclaredFields();\n    System.out.print(&quot;Fields:&quot;);\n    for (Field f:fields3) {\n        if (f.isAnnotationPresent(Publish.class)) { \n            System.out.print(&quot; &quot;+f.getName());\n        }\n    }\n    Method[] methods3= MyThing.class.getDeclaredMethods();\n    System.out.print(&quot;\\nMethods:&quot;);\n    for (Method m:methods3) {\n        if (m.isAnnotationPresent(Publish.class)) { \n            System.out.print(&quot; &quot;+m.getName());\n        }\n    }\n\n}\n\n</code></pre>\n<p>I get the following:</p>\n<pre><code>Object---------MyThing@6ff3c5b5\nFields: value1 value2\nMethods: method2 method3\n\nClass---------class MyThing\nFields:\nMethods:\n\nDirect Class---------class MyThing\nFields: value1 value2\nMethods: method2 method3\n\n</code></pre>\n<p>In the second case, where I try to create an Object of MyThing.class, I can see the class name if I do &quot;toString&quot;, but I don't get any of the fields or methods. If I use MyThing.class directly (as in the third case), I see the methods and fields - but I actually wasn't expecting to see the non-static methods and fields...</p>\n"},{"tags":["java","maven","gradle","apache-kafka","apache-ranger"],"owner":{"account_id":7987542,"reputation":143,"user_id":6026489,"display_name":"Gonzalo Etse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670934907,"answer_count":0,"score":0,"last_activity_date":1670932546,"creation_date":1670932546,"question_id":74784490,"body_markdown":"I&#39;m building Ranger 2.4, as I need for Kafka 3.2.1.\r\n\r\nThe issue I&#39;m getting is that Kafka is asked to be built with gradlew, which I do as follows:\r\n\r\n`./gradlew clean build releaseTarGz`\r\n\r\nI understand the release file can be found in `./core/build/distributions/`, but when I build Ranger it doesn&#39;t seem to find it:\r\n\r\n`Failure to find org.apache.kafka:kafka-clients:jar:3.2.1-MYPROJECT-SNAPSHOT in https://repository.apache.org/content/repositories/snapshots`\r\n\r\nAnd effectively, I can&#39;t find it on `.m2/org/apache/kafka`. How would I register the release? ","title":"Build with gradlew and make it available in ./m2","body":"<p>I'm building Ranger 2.4, as I need for Kafka 3.2.1.</p>\n<p>The issue I'm getting is that Kafka is asked to be built with gradlew, which I do as follows:</p>\n<p><code>./gradlew clean build releaseTarGz</code></p>\n<p>I understand the release file can be found in <code>./core/build/distributions/</code>, but when I build Ranger it doesn't seem to find it:</p>\n<p><code>Failure to find org.apache.kafka:kafka-clients:jar:3.2.1-MYPROJECT-SNAPSHOT in https://repository.apache.org/content/repositories/snapshots</code></p>\n<p>And effectively, I can't find it on <code>.m2/org/apache/kafka</code>. How would I register the release?</p>\n"},{"tags":["java","playframework","akka-stream","playframework-2.5","type-mismatch"],"answers":[{"tags":[],"owner":{"account_id":9631926,"reputation":191,"user_id":7149487,"display_name":"Jan Nylund"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669293559,"creation_date":1488107610,"answer_id":42467750,"question_id":38697318,"body_markdown":"I just hit the same issue with Play 2.5.12. The problem seems to be that `ActorFlow` is not yet properly implemented for Java in Play 2.5.x. (which is exactly why you had `play.api.libs.streams.ActorFlow` from the Scala side).\r\n\r\nThe proper Java code seem to be in for Play 2.6.x. https://github.com/playframework/playframework/blob/2.6.25/core/play-streams/src/main/java/play/libs/streams/ActorFlow.java\r\n\r\nFor now, I guess the easy solution is to stick with (the deprecated) `LegacyWebsocket` or migrate to 2.6.x onwards.\r\n","title":"Play 2.5 ActorFlow: cannot convert from Flow&lt;String,String,capture#1-of ?&gt; to Flow&lt;String,String,?&gt;","body":"<p>I just hit the same issue with Play 2.5.12. The problem seems to be that <code>ActorFlow</code> is not yet properly implemented for Java in Play 2.5.x. (which is exactly why you had <code>play.api.libs.streams.ActorFlow</code> from the Scala side).</p>\n<p>The proper Java code seem to be in for Play 2.6.x. <a href=\"https://github.com/playframework/playframework/blob/2.6.25/core/play-streams/src/main/java/play/libs/streams/ActorFlow.java\" rel=\"nofollow noreferrer\">https://github.com/playframework/playframework/blob/2.6.25/core/play-streams/src/main/java/play/libs/streams/ActorFlow.java</a></p>\n<p>For now, I guess the easy solution is to stick with (the deprecated) <code>LegacyWebsocket</code> or migrate to 2.6.x onwards.</p>\n"},{"tags":[],"owner":{"account_id":1278589,"reputation":28407,"user_id":1233251,"accept_rate":90,"display_name":"E_net4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670932451,"creation_date":1669311396,"answer_id":74564512,"question_id":38697318,"body_markdown":"In the event that you are still using Play 2.5, the `ActorFlow` implementation from version 2.6.25 ([`ActorFlow.java`](https://github.com/playframework/playframework/blob/2.6.25/core/play-streams/src/main/java/play/libs/streams/ActorFlow.java)) can be copied into your own project and used as is without significant changes (only change the `package` declaration depending on where you place it).\r\n\r\nAssuming the class is now available in `utils.ActorFlow`,\r\nthe example below allows you to interact with a WebSocket connection using actors, as described in the [WebSockets documentation for Play 2.6](https://www.playframework.com/documentation/2.6.x/JavaWebSockets#Handling-WebSockets-with-actors).\r\n\r\n```\r\nimport play.mvc.*;\r\nimport akka.actor.*;\r\nimport akka.stream.*;\r\nimport akka.stream.javadsl.*;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport javax.inject.Inject;\r\n\r\n// Replace in Play 2.6\r\nimport utils.ActorFlow;\r\n//import play.libs.streams.ActorFlow;\r\n\r\npublic class MyWebSocketController extends Controller {\r\n\r\n    private final ActorSystem actorSystem;\r\n    private final Materializer materializer;\r\n\r\n    @Inject\r\n    public MyWebSocketController(ActorSystem actorSystem, Materializer materializer) {\r\n        this.actorSystem = actorSystem;\r\n        this.materializer = materializer;\r\n    }\r\n\r\n    public WebSocket ws() {\r\n        return WebSocket.Json.accept(requestHeader -&gt; {\r\n\r\n            // Note: check Origin header here for extra security\r\n\r\n            return ActorFlow.actorRef(\r\n                MyWebSocketActor::props,\r\n                actorSystem,\r\n                materializer\r\n            );\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nYou may still need to extend the actor from `UntypedActor` instead of `AbstractActor` and implement `onReceive` instead of `createReceive`. Although `AbstractActor` exists in Akka 2.4, it has an experimental API which was subjected to changes in later versions.\r\n\r\n```java\r\nimport akka.actor.*;\r\n\r\n// Note: extends AbstractActor in Play 2.6\r\npublic class MyWebSocketActor extends UntypedActor {\r\n\r\n    public static Props props(ActorRef out) {\r\n        return Props.create(MyWebSocketActor.class, out);\r\n    }\r\n\r\n    private final ActorRef out;\r\n\r\n    public MyWebSocketActor(ActorRef out) {\r\n        this.out = out;\r\n    }\r\n\r\n    @Override\r\n    public void onReceive(Object message) throws Exception {\r\n        out.tell(&quot;{\\&quot;message\\&quot;: \\&quot;I received your message!\\&quot;}&quot;, self());\r\n    }\r\n\r\n\r\n    @Override\r\n    public void postStop() throws Exception {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nSee also:\r\n\r\n- https://stackoverflow.com/q/36167501","title":"Play 2.5 ActorFlow: cannot convert from Flow&lt;String,String,capture#1-of ?&gt; to Flow&lt;String,String,?&gt;","body":"<p>In the event that you are still using Play 2.5, the <code>ActorFlow</code> implementation from version 2.6.25 (<a href=\"https://github.com/playframework/playframework/blob/2.6.25/core/play-streams/src/main/java/play/libs/streams/ActorFlow.java\" rel=\"nofollow noreferrer\"><code>ActorFlow.java</code></a>) can be copied into your own project and used as is without significant changes (only change the <code>package</code> declaration depending on where you place it).</p>\n<p>Assuming the class is now available in <code>utils.ActorFlow</code>,\nthe example below allows you to interact with a WebSocket connection using actors, as described in the <a href=\"https://www.playframework.com/documentation/2.6.x/JavaWebSockets#Handling-WebSockets-with-actors\" rel=\"nofollow noreferrer\">WebSockets documentation for Play 2.6</a>.</p>\n<pre><code>import play.mvc.*;\nimport akka.actor.*;\nimport akka.stream.*;\nimport akka.stream.javadsl.*;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport javax.inject.Inject;\n\n// Replace in Play 2.6\nimport utils.ActorFlow;\n//import play.libs.streams.ActorFlow;\n\npublic class MyWebSocketController extends Controller {\n\n    private final ActorSystem actorSystem;\n    private final Materializer materializer;\n\n    @Inject\n    public MyWebSocketController(ActorSystem actorSystem, Materializer materializer) {\n        this.actorSystem = actorSystem;\n        this.materializer = materializer;\n    }\n\n    public WebSocket ws() {\n        return WebSocket.Json.accept(requestHeader -&gt; {\n\n            // Note: check Origin header here for extra security\n\n            return ActorFlow.actorRef(\n                MyWebSocketActor::props,\n                actorSystem,\n                materializer\n            );\n        });\n    }\n}\n</code></pre>\n<p>You may still need to extend the actor from <code>UntypedActor</code> instead of <code>AbstractActor</code> and implement <code>onReceive</code> instead of <code>createReceive</code>. Although <code>AbstractActor</code> exists in Akka 2.4, it has an experimental API which was subjected to changes in later versions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import akka.actor.*;\n\n// Note: extends AbstractActor in Play 2.6\npublic class MyWebSocketActor extends UntypedActor {\n\n    public static Props props(ActorRef out) {\n        return Props.create(MyWebSocketActor.class, out);\n    }\n\n    private final ActorRef out;\n\n    public MyWebSocketActor(ActorRef out) {\n        this.out = out;\n    }\n\n    @Override\n    public void onReceive(Object message) throws Exception {\n        out.tell(&quot;{\\&quot;message\\&quot;: \\&quot;I received your message!\\&quot;}&quot;, self());\n    }\n\n\n    @Override\n    public void postStop() throws Exception {\n        // ...\n    }\n}\n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/36167501\">Play2.5 Java WebSockets</a></li>\n</ul>\n"}],"owner":{"account_id":5762317,"reputation":193,"user_id":4548319,"accept_rate":30,"display_name":"sleb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670932451,"creation_date":1470049764,"question_id":38697318,"body_markdown":"While migrating to Play 2.5 I&#39;m trying to implement new WebSocket functionality as described [here][1](Handling WebSockets with actors). In Play 2.5.4 there&#39;s no play.libs.streams.ActorFlow (as shown in the example), but only play.api.libs.streams.ActorFlow. But when I write this code:\r\n\r\n    public class MyController extends Controller {\r\n        private final ActorSystem actorSystem;\r\n        private final Materializer materializer;\r\n    \r\n        @Inject\r\n        public MyController(ActorSystem actorSystem, Materializer materializer) {\r\n            this.actorSystem = actorSystem;\r\n            this.materializer = materializer;\r\n        }\r\n    \r\n        public WebSocket socket() {\r\n            return WebSocket.Text.accept(request -&gt;\r\n                    return ActorFlow.&lt;String, String&gt;actorRef(MyWebSocketActor::props, 256, OverflowStrategy.dropHead(),\r\n                        actorSystem, materializer\r\n                    )\r\n            );\r\n        }\r\n    }\r\n\r\nThe compiler gives me an error:\r\n\r\n&gt;Type mismatch: cannot convert from Flow`&lt;String,String,capture#1-of ?&gt; to Flow&lt;String,String,?&gt;`\r\n\r\nCan someone please explain me how to implement this approach in 2.5? Why I get this mistake?\r\n\r\n\r\n  [1]: https://www.playframework.com/documentation/2.6.x/JavaWebSockets","title":"Play 2.5 ActorFlow: cannot convert from Flow&lt;String,String,capture#1-of ?&gt; to Flow&lt;String,String,?&gt;","body":"<p>While migrating to Play 2.5 I'm trying to implement new WebSocket functionality as described <a href=\"https://www.playframework.com/documentation/2.6.x/JavaWebSockets\" rel=\"nofollow\">here</a>(Handling WebSockets with actors). In Play 2.5.4 there's no play.libs.streams.ActorFlow (as shown in the example), but only play.api.libs.streams.ActorFlow. But when I write this code:</p>\n\n<pre><code>public class MyController extends Controller {\n    private final ActorSystem actorSystem;\n    private final Materializer materializer;\n\n    @Inject\n    public MyController(ActorSystem actorSystem, Materializer materializer) {\n        this.actorSystem = actorSystem;\n        this.materializer = materializer;\n    }\n\n    public WebSocket socket() {\n        return WebSocket.Text.accept(request -&gt;\n                return ActorFlow.&lt;String, String&gt;actorRef(MyWebSocketActor::props, 256, OverflowStrategy.dropHead(),\n                    actorSystem, materializer\n                )\n        );\n    }\n}\n</code></pre>\n\n<p>The compiler gives me an error:</p>\n\n<blockquote>\n  <p>Type mismatch: cannot convert from Flow<code>&lt;String,String,capture#1-of ?&gt; to Flow&lt;String,String,?&gt;</code></p>\n</blockquote>\n\n<p>Can someone please explain me how to implement this approach in 2.5? Why I get this mistake?</p>\n"},{"tags":["java","deserialization","spring-repositories","mongorepository","reactive-mongo-java"],"owner":{"account_id":12676300,"reputation":1,"user_id":9211889,"display_name":"Jince Mon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670932101,"creation_date":1670862303,"question_id":74774208,"body_markdown":"Is there any way we can intercept existing function call(like reactiveMongoRepository.find()) to avoid the serialization issue when there is unknown property or filed exist?\r\n\r\nIn mongodb collection I have a feild called Status contains 3 values (CREATED, PROCESSING, DONE). in my persistance class I have only two values in ENUM such as CREATED and DONE, but when I fetch the data I get below error.\r\n\r\n\r\n```\r\norg.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [com.demo.tiller.enums.Status] for value &#39;PROCESSING&#39;; nested exception is java.lang.IllegalArgumentException: No enum constant com.demo.tiller.enums.Status.PROCESSING\r\n```\r\n\r\n\r\nI dont want to add new ENUM value everytime in my code. Instead I want to ignore unknown properties.\r\nSomething like `objectmapper.setserializationinclusion(jsoninclude.include.non_null)`. ","title":"How to change default deserialization behavior of reactiveMongoRepository.find() methods?","body":"<p>Is there any way we can intercept existing function call(like reactiveMongoRepository.find()) to avoid the serialization issue when there is unknown property or filed exist?</p>\n<p>In mongodb collection I have a feild called Status contains 3 values (CREATED, PROCESSING, DONE). in my persistance class I have only two values in ENUM such as CREATED and DONE, but when I fetch the data I get below error.</p>\n<pre><code>org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [com.demo.tiller.enums.Status] for value 'PROCESSING'; nested exception is java.lang.IllegalArgumentException: No enum constant com.demo.tiller.enums.Status.PROCESSING\n</code></pre>\n<p>I dont want to add new ENUM value everytime in my code. Instead I want to ignore unknown properties.\nSomething like <code>objectmapper.setserializationinclusion(jsoninclude.include.non_null)</code>.</p>\n"},{"tags":["java","dll","jvm","access-violation","sumo"],"comments":[{"owner":{"account_id":7549706,"reputation":3565,"user_id":5731587,"display_name":"Michael"},"score":0,"creation_date":1671699356,"post_id":74784329,"comment_id":132155767,"body_markdown":"You could upload the logs and possibly also the scenario itself to some public space and add  a link here. Or you just send your report with attachments to the sumo mailing list, see https://www.eclipse.org/sumo/contact/","body":"You could upload the logs and possibly also the scenario itself to some public space and add  a link here. Or you just send your report with attachments to the sumo mailing list, see <a href=\"https://www.eclipse.org/sumo/contact/\" rel=\"nofollow noreferrer\">eclipse.org/sumo/contact</a>"}],"owner":{"account_id":27239193,"reputation":1,"user_id":20765643,"display_name":"SchwiftySeagull"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670932079,"creation_date":1670931841,"question_id":74784329,"body_markdown":"The JVM running my simulation client (for SUMO, using TraCI as libtraci) keeps crashing.\r\nThis is the command line message:\r\n\r\n\r\n\r\n    A fatal error has been detected by the Java Runtime Environment:\r\n\r\n    EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffd7e94b97c, pid=33996, tid=26012\r\n\r\n    JRE version: OpenJDK Runtime Environment Temurin-17.0.5+8 (17.0.5+8) (build 17.0.5+8)\r\n    Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.5+8 (17.0.5+8, mixed mode, sharing, tiered, compressed class ptrs, g1 gc, windows-amd64)\r\n    Problematic frame:\r\n    V  \\[jvm.dll+0x80b97c\\]\r\n\r\n    No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n\r\n    An error report file with more information is saved as:\r\n    C:\\\\Projekte\\\\Bachelorarbeit\\\\Simulationstudie\\\\Simulacrum\\\\hs_err_pid33996.log\r\n    Compiled method (c1)  921857 2548       3       org.eclipse.sumo.libtraci.TraCINextStopData::getLane (9 bytes)\r\n    total in heap  \\[0x0000016a8841b810,0x0000016a8841bb58\\] = 840\r\n    relocation     \\[0x0000016a8841b968,0x0000016a8841b9a0\\] = 56\r\n    main code      \\[0x0000016a8841b9a0,0x0000016a8841baa0\\] = 256\r\n    stub code      \\[0x0000016a8841baa0,0x0000016a8841bae8\\] = 72\r\n    oops           \\[0x0000016a8841bae8,0x0000016a8841baf0\\] = 8\r\n    metadata       \\[0x0000016a8841baf0,0x0000016a8841baf8\\] = 8\r\n    scopes data    \\[0x0000016a8841baf8,0x0000016a8841bb10\\] = 24\r\n    scopes pcs     \\[0x0000016a8841bb10,0x0000016a8841bb50\\] = 64\r\n    dependencies   \\[0x0000016a8841bb50,0x0000016a8841bb58\\] = 8\r\n\r\n    Process finished with exit code 1\r\n\r\n\r\n\r\nThe same exception access violation keeps occuring at different times during runs of my simulation. The problematic frame has so far always stated &#39;jvm.dll&#39; and the compiled method is also consistently libtraci.TraCINextStopData::getLane.\r\n\r\nI have so far tried a different JVM version and a different libtraci version with the same results and am now a little dumbstruck on what to try next.\r\n\r\n\r\n[EDIT: I&#39;m happy to provide the relevant log file &#39;hs_err_pid33996.log&#39;, but am a bit unsure of how to best include it here. Should I post the content of the entire (very long) file?]","title":"JVM crashes with EXCEPTION_ACCESS_VIOLATION (0xc0000005), points to jvm.dll","body":"<p>The JVM running my simulation client (for SUMO, using TraCI as libtraci) keeps crashing.\nThis is the command line message:</p>\n<pre><code>A fatal error has been detected by the Java Runtime Environment:\n\nEXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffd7e94b97c, pid=33996, tid=26012\n\nJRE version: OpenJDK Runtime Environment Temurin-17.0.5+8 (17.0.5+8) (build 17.0.5+8)\nJava VM: OpenJDK 64-Bit Server VM Temurin-17.0.5+8 (17.0.5+8, mixed mode, sharing, tiered, compressed class ptrs, g1 gc, windows-amd64)\nProblematic frame:\nV  \\[jvm.dll+0x80b97c\\]\n\nNo core dump will be written. Minidumps are not enabled by default on client versions of Windows\n\nAn error report file with more information is saved as:\nC:\\\\Projekte\\\\Bachelorarbeit\\\\Simulationstudie\\\\Simulacrum\\\\hs_err_pid33996.log\nCompiled method (c1)  921857 2548       3       org.eclipse.sumo.libtraci.TraCINextStopData::getLane (9 bytes)\ntotal in heap  \\[0x0000016a8841b810,0x0000016a8841bb58\\] = 840\nrelocation     \\[0x0000016a8841b968,0x0000016a8841b9a0\\] = 56\nmain code      \\[0x0000016a8841b9a0,0x0000016a8841baa0\\] = 256\nstub code      \\[0x0000016a8841baa0,0x0000016a8841bae8\\] = 72\noops           \\[0x0000016a8841bae8,0x0000016a8841baf0\\] = 8\nmetadata       \\[0x0000016a8841baf0,0x0000016a8841baf8\\] = 8\nscopes data    \\[0x0000016a8841baf8,0x0000016a8841bb10\\] = 24\nscopes pcs     \\[0x0000016a8841bb10,0x0000016a8841bb50\\] = 64\ndependencies   \\[0x0000016a8841bb50,0x0000016a8841bb58\\] = 8\n\nProcess finished with exit code 1\n</code></pre>\n<p>The same exception access violation keeps occuring at different times during runs of my simulation. The problematic frame has so far always stated 'jvm.dll' and the compiled method is also consistently libtraci.TraCINextStopData::getLane.</p>\n<p>I have so far tried a different JVM version and a different libtraci version with the same results and am now a little dumbstruck on what to try next.</p>\n<p>[EDIT: I'm happy to provide the relevant log file 'hs_err_pid33996.log', but am a bit unsure of how to best include it here. Should I post the content of the entire (very long) file?]</p>\n"},{"tags":["java","hibernate"],"owner":{"account_id":26046561,"reputation":23,"user_id":19750546,"display_name":"Jonas Bikus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670931964,"creation_date":1670931964,"question_id":74784363,"body_markdown":"I am getting transactionId as longs, it is possible somehow to convert this id to entity without using repository.findById() ?\r\n\r\n&#39;&#39;&#39;\r\n\r\n    class Report {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;, unique = true, nullable = false, updatable = false)\r\n\tprivate Long id;\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;transaction_id&quot;)\r\n\tprivate Transaction tr;\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic void setTr(Long transactionId) {\r\n\t// magically id converts id to entity tr\r\n\t}\r\n&#39;&#39;&#39;","title":"Java hibernate foreign key long id convert to entity","body":"<p>I am getting transactionId as longs, it is possible somehow to convert this id to entity without using repository.findById() ?</p>\n<p>'''</p>\n<pre><code>class Report {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;, unique = true, nullable = false, updatable = false)\nprivate Long id;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;transaction_id&quot;)\nprivate Transaction tr;\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic void setTr(Long transactionId) {\n// magically id converts id to entity tr\n}\n</code></pre>\n<p>'''</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1670927673,"post_id":74783258,"comment_id":131981130,"body_markdown":"[mcve] please (mind the __M__, nothing unrelated, no visual fluff, hard-code data is any, though runnable as-is, including the complete stacktrace)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please (mind the <b>M</b>, nothing unrelated, no visual fluff, hard-code data is any, though runnable as-is, including the complete stacktrace)"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670931554,"creation_date":1670931554,"answer_id":74784272,"question_id":74783258,"body_markdown":"Place your JLabels into an array or ArrayList and access them by index.\r\n\r\n    ArrayList&lt;JLabel&gt; labels = new ArrayList&lt;&gt;();\r\n    labels.add(num1);\r\n    labels.add(num2);\r\n    ...\r\n\r\n    int i=0;\r\n    for (JLabel label: labels) {\r\n        label.setText(data[i] + &quot;&quot;);\r\n        if(data[i] == 0) {\r\n           label.setText(&quot;&quot;);\r\n        }\r\n        i++;\r\n    }\r\n\r\nIn case you just want to append something to the label, you can use\r\n\r\n    label.setText(label.getText()+&quot;-appendix&quot;);","title":"How to access value of JLabel dynamically in Java swing?","body":"<p>Place your JLabels into an array or ArrayList and access them by index.</p>\n<pre><code>ArrayList&lt;JLabel&gt; labels = new ArrayList&lt;&gt;();\nlabels.add(num1);\nlabels.add(num2);\n...\n\nint i=0;\nfor (JLabel label: labels) {\n    label.setText(data[i] + &quot;&quot;);\n    if(data[i] == 0) {\n       label.setText(&quot;&quot;);\n    }\n    i++;\n}\n</code></pre>\n<p>In case you just want to append something to the label, you can use</p>\n<pre><code>label.setText(label.getText()+&quot;-appendix&quot;);\n</code></pre>\n"}],"owner":{"account_id":25935763,"reputation":32,"user_id":19656082,"display_name":"Hashim Abbas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74784272,"answer_count":1,"score":0,"last_activity_date":1670931554,"creation_date":1670926734,"question_id":74783258,"body_markdown":"I got almost around 11 Jlabels with the names of num1, num2.... num{11}. \r\nThese Jlabel variable name has Prefix of name. But I want to get value from these text field something like that: \r\n```\r\n(prefix + i).setText(&quot;something&quot;)\r\n```\r\nBut that gives me an error.. Is there any way to setText of these labels dynamically?\r\n\r\nI did it though.. But the code is not DRY anymore :&#39; (\r\n```\r\nif(i == 0) {\r\n            num0.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num0.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 1) {\r\n            num1.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num1.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 2) {\r\n            num2.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num2.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 3) {\r\n            num3.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num3.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 4) {\r\n            num4.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num4.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 5) {\r\n            num5.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num5.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 6) {\r\n            num6.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num6.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 7) {\r\n            num7.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num7.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 8) {\r\n            num8.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num8.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 9) {\r\n            num9.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num9.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 10) {\r\n            num10.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num10.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 11) {\r\n            num11.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num11.setText(&quot;&quot;);\r\n            }\r\n        }\r\n```\r\n","title":"How to access value of JLabel dynamically in Java swing?","body":"<p>I got almost around 11 Jlabels with the names of num1, num2.... num{11}.\nThese Jlabel variable name has Prefix of name. But I want to get value from these text field something like that:</p>\n<pre><code>(prefix + i).setText(&quot;something&quot;)\n</code></pre>\n<p>But that gives me an error.. Is there any way to setText of these labels dynamically?</p>\n<p>I did it though.. But the code is not DRY anymore :' (</p>\n<pre><code>if(i == 0) {\n            num0.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num0.setText(&quot;&quot;);\n            }\n        } \n        if(i == 1) {\n            num1.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num1.setText(&quot;&quot;);\n            }\n        } \n        if(i == 2) {\n            num2.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num2.setText(&quot;&quot;);\n            }\n        } \n        if(i == 3) {\n            num3.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num3.setText(&quot;&quot;);\n            }\n        } \n        if(i == 4) {\n            num4.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num4.setText(&quot;&quot;);\n            }\n        } \n        if(i == 5) {\n            num5.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num5.setText(&quot;&quot;);\n            }\n        } \n        if(i == 6) {\n            num6.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num6.setText(&quot;&quot;);\n            }\n        } \n        if(i == 7) {\n            num7.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num7.setText(&quot;&quot;);\n            }\n        } \n        if(i == 8) {\n            num8.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num8.setText(&quot;&quot;);\n            }\n        } \n        if(i == 9) {\n            num9.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num9.setText(&quot;&quot;);\n            }\n        } \n        if(i == 10) {\n            num10.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num10.setText(&quot;&quot;);\n            }\n        } \n        if(i == 11) {\n            num11.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num11.setText(&quot;&quot;);\n            }\n        }\n</code></pre>\n"},{"tags":["java","websocket","playframework"],"answers":[{"tags":[],"owner":{"account_id":2269721,"reputation":1091,"user_id":1997466,"accept_rate":67,"display_name":"Valerii Rusakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1544559325,"creation_date":1544559325,"answer_id":53731691,"question_id":53486314,"body_markdown":"I&#39;ve managed to implement websocket with help of [Akka actors][1]. At first step define actor that will handle messages\r\n\r\n    public class WebSocketActor extends AbstractActor {\r\n    \r\n        private final ActorRef out;\r\n    \r\n        @Inject\r\n        public WebSocketActor(ActorRef out) {\r\n            this.out = out;\r\n        }\r\n    \r\n        @Override\r\n        public Receive createReceive() {\r\n            return receiveBuilder()\r\n                    .match(String.class, message -&gt;\r\n                            out.tell(&quot;Sending message at &quot; + LocalDateTime.now().toString(), self())\r\n                    )\r\n                    .build();\r\n        }\r\n    \r\n        public static Props props(final ActorRef out) {\r\n            return Props.create(WebSocketActor.class, out);\r\n        }\r\n    }\r\n\r\nThis actor will be created per client. `ActorRef out` will send message to connected client. In this example response is send to client on each string message passed to `WebSocketActor`.\r\n\r\nNow define API endpoint to open access to websocket for clients. Define ActorFlow that will create new instance of actor on new connection\r\n\r\n    public WebSocket ws() {\r\n        return WebSocket.Text.accept(request -&gt; ActorFlow.actorRef((out) -&gt; WebSocketActor.props(out), actorSystem, materializer));\r\n    }\r\n\r\nAccording to [source code][2] ActorFlow creates actors with `flowActor` name. So to send message to websockets somewhere in the code we can find actors by their [path][3]. This will broadcast message to all connected clients\r\n\r\n    actorSystem.actorSelection(&quot;/user/*/flowActor&quot;).tell(&quot;Hello&quot;, ActorRef.noSender());\r\n\r\nUnfortunately I didn&#39;t find easy way to change ActorFlow default name but maybe this answer may help you [play-scala-akka-websockets-change-actor-path][4].\r\n\r\nAlso you can check [play-java-websocket-example][5] project from playframework examples.\r\n\r\n\r\n  [1]: https://www.playframework.com/documentation/2.6.x/JavaWebSockets#Handling-WebSockets-with-actors\r\n  [2]: https://github.com/playframework/playframework/blob/master/framework/src/play-streams/src/main/scala/play/api/libs/streams/ActorFlow.scala#L40\r\n  [3]: https://doc.akka.io/docs/akka/2.5/general/addressing.html#what-is-an-actor-path-\r\n  [4]: https://stackoverflow.com/questions/37281559/play-scala-akka-websockets-change-actor-path/37441095\r\n  [5]: https://github.com/playframework/play-java-websocket-example","title":"How do I create WebSockets with Play framework 2.6?","body":"<p>I've managed to implement websocket with help of <a href=\"https://www.playframework.com/documentation/2.6.x/JavaWebSockets#Handling-WebSockets-with-actors\" rel=\"nofollow noreferrer\">Akka actors</a>. At first step define actor that will handle messages</p>\n\n<pre><code>public class WebSocketActor extends AbstractActor {\n\n    private final ActorRef out;\n\n    @Inject\n    public WebSocketActor(ActorRef out) {\n        this.out = out;\n    }\n\n    @Override\n    public Receive createReceive() {\n        return receiveBuilder()\n                .match(String.class, message -&gt;\n                        out.tell(\"Sending message at \" + LocalDateTime.now().toString(), self())\n                )\n                .build();\n    }\n\n    public static Props props(final ActorRef out) {\n        return Props.create(WebSocketActor.class, out);\n    }\n}\n</code></pre>\n\n<p>This actor will be created per client. <code>ActorRef out</code> will send message to connected client. In this example response is send to client on each string message passed to <code>WebSocketActor</code>.</p>\n\n<p>Now define API endpoint to open access to websocket for clients. Define ActorFlow that will create new instance of actor on new connection</p>\n\n<pre><code>public WebSocket ws() {\n    return WebSocket.Text.accept(request -&gt; ActorFlow.actorRef((out) -&gt; WebSocketActor.props(out), actorSystem, materializer));\n}\n</code></pre>\n\n<p>According to <a href=\"https://github.com/playframework/playframework/blob/master/framework/src/play-streams/src/main/scala/play/api/libs/streams/ActorFlow.scala#L40\" rel=\"nofollow noreferrer\">source code</a> ActorFlow creates actors with <code>flowActor</code> name. So to send message to websockets somewhere in the code we can find actors by their <a href=\"https://doc.akka.io/docs/akka/2.5/general/addressing.html#what-is-an-actor-path-\" rel=\"nofollow noreferrer\">path</a>. This will broadcast message to all connected clients</p>\n\n<pre><code>actorSystem.actorSelection(\"/user/*/flowActor\").tell(\"Hello\", ActorRef.noSender());\n</code></pre>\n\n<p>Unfortunately I didn't find easy way to change ActorFlow default name but maybe this answer may help you <a href=\"https://stackoverflow.com/questions/37281559/play-scala-akka-websockets-change-actor-path/37441095\">play-scala-akka-websockets-change-actor-path</a>.</p>\n\n<p>Also you can check <a href=\"https://github.com/playframework/play-java-websocket-example\" rel=\"nofollow noreferrer\">play-java-websocket-example</a> project from playframework examples.</p>\n"}],"owner":{"account_id":7532627,"reputation":80,"user_id":5720167,"display_name":"gsprs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53731691,"answer_count":1,"score":1,"last_activity_date":1670931382,"creation_date":1543253767,"question_id":53486314,"body_markdown":"I am trying to do the following with Play Framework 2.6:\r\n\r\n 1. The browser targets the server and a WebSocket is created\r\n 2. Later on (after some other request is performed), the servers sends a message to the browser via the WebSocket previously created\r\n\r\n\r\nPoint 1 can be easily done with a route:\r\n\r\n    public WebSocket socket() {\r\n        return WebSocket.Text.accept(request -&gt; {\r\n            // Log events to the console\r\n            Sink&lt;String, ?&gt; in = Sink.foreach(System.out::println);\r\n\r\n            // Send a single &#39;Hello!&#39; message and then leave the socket open\r\n            Source&lt;String, ?&gt; out = Source.single(&quot;Hello!&quot;).concat(Source.maybe());\r\n\r\n            return Flow.fromSinkAndSource(in, out);\r\n        });\r\n    }\r\n\r\nand the WebSocket can be saved server side.\r\n\r\n2) But then how can I send data via the WebSocket? (triggered server side)\r\n\r\nThis was easy to do with 2.5 but the documentation is not very helpful for Play 2.6.\r\n","title":"How do I create WebSockets with Play framework 2.6?","body":"<p>I am trying to do the following with Play Framework 2.6:</p>\n<ol>\n<li>The browser targets the server and a WebSocket is created</li>\n<li>Later on (after some other request is performed), the servers sends a message to the browser via the WebSocket previously created</li>\n</ol>\n<p>Point 1 can be easily done with a route:</p>\n<pre><code>public WebSocket socket() {\n    return WebSocket.Text.accept(request -&gt; {\n        // Log events to the console\n        Sink&lt;String, ?&gt; in = Sink.foreach(System.out::println);\n\n        // Send a single 'Hello!' message and then leave the socket open\n        Source&lt;String, ?&gt; out = Source.single(&quot;Hello!&quot;).concat(Source.maybe());\n\n        return Flow.fromSinkAndSource(in, out);\n    });\n}\n</code></pre>\n<p>and the WebSocket can be saved server side.</p>\n<ol start=\"2\">\n<li>But then how can I send data via the WebSocket? (triggered server side)</li>\n</ol>\n<p>This was easy to do with 2.5 but the documentation is not very helpful for Play 2.6.</p>\n"},{"tags":["java","class","lambda","jvm","java-bytecode-asm"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1521816737,"creation_date":1521816737,"answer_id":49452494,"question_id":49449915,"body_markdown":"The crucial part is the `MethodHandles.Lookup` instance which defines the context the lambda will live in. Since youve created it via `MethodHandles.lookup()` in your main method, it encapsulates a context where the classes defined by your new class loader are not visible. You can change the context via [`in(Class)`](https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/MethodHandles.Lookup.html#in-java.lang.Class-) but this will change the access modes and cause the `LambdaMetaFactory` to reject the lookup object. In Java&#160;8, there is no standard way to create a lookup object having private access to another class.\r\n\r\nJust for demonstration purposes, we can use Reflection with access override to produce an appropriate lookup object, to show that it will work then:\r\n\r\n    Class&lt;?&gt; generated = generateClassWithStaticMethod();\r\n    MethodHandles.Lookup lookup = MethodHandles.lookup().in(generated);\r\n    Field modes = MethodHandles.Lookup.class.getDeclaredField(&quot;allowedModes&quot;);\r\n    modes.setAccessible(true);\r\n    modes.set(lookup, -1);\r\n    MethodHandle mh = lookup.findStatic(generated, &quot;apply&quot;, MethodType.methodType(Object.class, String.class));\r\n    Fnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, &quot;apply&quot;, MethodType.methodType(Fnct.class),\r\n            mh.type(), mh, mh.type()).getTarget().invokeExact();\r\n    Object result = f.apply(&quot;test&quot;);\r\n    System.out.println(&quot;result: &quot;+result);\r\n\r\nBut, as we all know, Reflection with access override is discouraged, it will generate a warning in Java&#160;9, and may break in future versions, as well as other JREs perhaps not even having this field.\r\n\r\nOn the other hand, Java&#160;9 introduced a new way to get a lookup object, if the current module dependencies do not forbid it:\r\n\r\n    Class&lt;?&gt; generated = generateClassWithStaticMethod();\r\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n    lookup = MethodHandles.privateLookupIn(generated, lookup);// Java 9\r\n    MethodHandle mh = lookup.findStatic(generated, &quot;apply&quot;, MethodType.methodType(Object.class, String.class));\r\n    Fnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, &quot;apply&quot;, MethodType.methodType(Fnct.class),\r\n            mh.type(), mh, mh.type()).getTarget().invokeExact();\r\n    Object result = f.apply(&quot;test&quot;);\r\n    System.out.println(&quot;result: &quot;+result);\r\n\r\nAnother option introduced by Java&#160;9, is to generate a class into your own package instead of a new class loader. Then, its accessible to your own class lookup context:\r\n\r\n    public static void main(String[] args) throws Throwable {\r\n        byte[] code = generateClassWithStaticMethod();\r\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n        Class&lt;?&gt; generated = lookup.defineClass(code);// Java 9\r\n        System.out.println(&quot;generated &quot;+generated);\r\n        MethodHandle mh = lookup.findStatic(generated, &quot;apply&quot;, MethodType.methodType(Object.class, String.class));\r\n        Fnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, &quot;apply&quot;, MethodType.methodType(Fnct.class),\r\n                mh.type(), mh, mh.type()).getTarget().invokeExact();\r\n        Object result = f.apply(&quot;test&quot;);\r\n        System.out.println(&quot;result: &quot;+result);\r\n    }\r\n\r\n    public static byte[] generateClassWithStaticMethod() {\r\n        ClassWriter classWriter = new ClassWriter(ClassWriter.COMPUTE_MAXS);\r\n        classWriter.visit(V1_8, ACC_PUBLIC + ACC_SUPER, &quot;MyTestClass&quot;, null, &quot;java/lang/Object&quot;, null);\r\n        MethodVisitor mv = classWriter.visitMethod(ACC_PUBLIC + ACC_STATIC, &quot;apply&quot;, &quot;(Ljava/lang/String;)Ljava/lang/Object;&quot;,null, null);\r\n        mv.visitInsn(ICONST_3);\r\n        mv.visitMethodInsn(INVOKESTATIC, &quot;java/lang/Integer&quot;, &quot;valueOf&quot;, &quot;(I)Ljava/lang/Integer;&quot;, false);\r\n        mv.visitInsn(ARETURN);\r\n        mv.visitMaxs(0, 0);\r\n        mv.visitEnd();\r\n        byte[] byteArray = classWriter.toByteArray();\r\n        return byteArray;\r\n    }\r\n\r\nIf you continue to use a custom class loader, you could utilize the fact that you are doing code generation anyway. So you could generate a method calling `MethodHandles.lookup()` in your generated class and returning it. Then, invoke it via Reflection and you have hands on a lookup object representing the context of the generated class. On the other hand, you could also insert the instruction to generate the lambda instance right into the generated class itself:\r\n\r\n    public static void main(String[] args) throws Throwable {\r\n        String staticMethodName = &quot;apply&quot;;\r\n        MethodType staticMethodType = MethodType.methodType(Object.class, String.class);\r\n        Class&lt;?&gt; generated = generateClassWithStaticMethod(&quot;TestClass&quot;, Object.class,\r\n            staticMethodName, staticMethodType, Fnct.class, &quot;apply&quot;, staticMethodType);\r\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n        System.out.println(&quot;generated &quot;+generated);\r\n        MethodHandle mh = lookup.findStatic(generated, &quot;apply&quot;, MethodType.methodType(Fnct.class));\r\n        Fnct f =  (Fnct)mh.invokeExact();\r\n        Object result = f.apply(&quot;test&quot;);\r\n        System.out.println(&quot;result: &quot;+result);\r\n    }\r\n\r\n    public static Class&lt;?&gt; generateClassWithStaticMethod(String clName, Class&lt;?&gt; superClass,\r\n        String methodName, MethodType methodType, Class&lt;?&gt; funcInterface, String funcName, MethodType funcType) {\r\n\r\n        Class&lt;?&gt; boxedInt = Integer.class;\r\n        ClassWriter classWriter = new ClassWriter(0);\r\n        classWriter.visit(V1_8, ACC_PUBLIC|ACC_SUPER, clName, null, getInternalName(superClass), null);\r\n        MethodVisitor mv = classWriter.visitMethod(\r\n             ACC_PUBLIC|ACC_STATIC, methodName, methodType.toMethodDescriptorString(), null, null);\r\n        mv.visitInsn(ICONST_3);\r\n        mv.visitMethodInsn(INVOKESTATIC, getInternalName(boxedInt), &quot;valueOf&quot;,\r\n            MethodType.methodType(boxedInt, int.class).toMethodDescriptorString(), false);\r\n        mv.visitInsn(ARETURN);\r\n        mv.visitMaxs(1, 1);\r\n        mv.visitEnd();\r\n        String noArgReturnsFunc = MethodType.methodType(funcInterface).toMethodDescriptorString();\r\n        mv = classWriter.visitMethod(ACC_PUBLIC|ACC_STATIC, methodName, noArgReturnsFunc, null, null);\r\n        Type funcTypeASM = Type.getMethodType(funcType.toMethodDescriptorString());\r\n        mv.visitInvokeDynamicInsn(funcName, noArgReturnsFunc, new Handle(H_INVOKESTATIC,\r\n            getInternalName(LambdaMetafactory.class), &quot;metafactory&quot;, MethodType.methodType(CallSite.class,\r\n                MethodHandles.Lookup.class, String.class, MethodType.class, MethodType.class,\r\n                MethodHandle.class, MethodType.class).toMethodDescriptorString()), funcTypeASM,\r\n                new Handle(H_INVOKESTATIC, clName, methodName, methodType.toMethodDescriptorString()),\r\n                funcTypeASM\r\n            );\r\n        mv.visitInsn(ARETURN);\r\n        mv.visitMaxs(1, 0);\r\n        mv.visitEnd();\r\n        return new MyClassLoader().defineClass(classWriter.toByteArray());\r\n    }\r\nThis generates a second static method with the same name but no arguments, returning an instance of the functional interface, generated exactly like a method reference to the first static method, using a single `invokedynamic` instruction. Of course, thats merely to demonstrate the logic, as it would be easy to generate a class implementing the interface performing the action within its function method directly, instead of requiring the meta factory to generate a delegating class.\r\n","title":"Creating Lambda function instance","body":"<p>The crucial part is the <code>MethodHandles.Lookup</code> instance which defines the context the lambda will live in. Since youve created it via <code>MethodHandles.lookup()</code> in your main method, it encapsulates a context where the classes defined by your new class loader are not visible. You can change the context via <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/MethodHandles.Lookup.html#in-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>in(Class)</code></a> but this will change the access modes and cause the <code>LambdaMetaFactory</code> to reject the lookup object. In Java8, there is no standard way to create a lookup object having private access to another class.</p>\n\n<p>Just for demonstration purposes, we can use Reflection with access override to produce an appropriate lookup object, to show that it will work then:</p>\n\n<pre><code>Class&lt;?&gt; generated = generateClassWithStaticMethod();\nMethodHandles.Lookup lookup = MethodHandles.lookup().in(generated);\nField modes = MethodHandles.Lookup.class.getDeclaredField(\"allowedModes\");\nmodes.setAccessible(true);\nmodes.set(lookup, -1);\nMethodHandle mh = lookup.findStatic(generated, \"apply\", MethodType.methodType(Object.class, String.class));\nFnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, \"apply\", MethodType.methodType(Fnct.class),\n        mh.type(), mh, mh.type()).getTarget().invokeExact();\nObject result = f.apply(\"test\");\nSystem.out.println(\"result: \"+result);\n</code></pre>\n\n<p>But, as we all know, Reflection with access override is discouraged, it will generate a warning in Java9, and may break in future versions, as well as other JREs perhaps not even having this field.</p>\n\n<p>On the other hand, Java9 introduced a new way to get a lookup object, if the current module dependencies do not forbid it:</p>\n\n<pre><code>Class&lt;?&gt; generated = generateClassWithStaticMethod();\nMethodHandles.Lookup lookup = MethodHandles.lookup();\nlookup = MethodHandles.privateLookupIn(generated, lookup);// Java 9\nMethodHandle mh = lookup.findStatic(generated, \"apply\", MethodType.methodType(Object.class, String.class));\nFnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, \"apply\", MethodType.methodType(Fnct.class),\n        mh.type(), mh, mh.type()).getTarget().invokeExact();\nObject result = f.apply(\"test\");\nSystem.out.println(\"result: \"+result);\n</code></pre>\n\n<p>Another option introduced by Java9, is to generate a class into your own package instead of a new class loader. Then, its accessible to your own class lookup context:</p>\n\n<pre><code>public static void main(String[] args) throws Throwable {\n    byte[] code = generateClassWithStaticMethod();\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\n    Class&lt;?&gt; generated = lookup.defineClass(code);// Java 9\n    System.out.println(\"generated \"+generated);\n    MethodHandle mh = lookup.findStatic(generated, \"apply\", MethodType.methodType(Object.class, String.class));\n    Fnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, \"apply\", MethodType.methodType(Fnct.class),\n            mh.type(), mh, mh.type()).getTarget().invokeExact();\n    Object result = f.apply(\"test\");\n    System.out.println(\"result: \"+result);\n}\n\npublic static byte[] generateClassWithStaticMethod() {\n    ClassWriter classWriter = new ClassWriter(ClassWriter.COMPUTE_MAXS);\n    classWriter.visit(V1_8, ACC_PUBLIC + ACC_SUPER, \"MyTestClass\", null, \"java/lang/Object\", null);\n    MethodVisitor mv = classWriter.visitMethod(ACC_PUBLIC + ACC_STATIC, \"apply\", \"(Ljava/lang/String;)Ljava/lang/Object;\",null, null);\n    mv.visitInsn(ICONST_3);\n    mv.visitMethodInsn(INVOKESTATIC, \"java/lang/Integer\", \"valueOf\", \"(I)Ljava/lang/Integer;\", false);\n    mv.visitInsn(ARETURN);\n    mv.visitMaxs(0, 0);\n    mv.visitEnd();\n    byte[] byteArray = classWriter.toByteArray();\n    return byteArray;\n}\n</code></pre>\n\n<p>If you continue to use a custom class loader, you could utilize the fact that you are doing code generation anyway. So you could generate a method calling <code>MethodHandles.lookup()</code> in your generated class and returning it. Then, invoke it via Reflection and you have hands on a lookup object representing the context of the generated class. On the other hand, you could also insert the instruction to generate the lambda instance right into the generated class itself:</p>\n\n<pre><code>public static void main(String[] args) throws Throwable {\n    String staticMethodName = \"apply\";\n    MethodType staticMethodType = MethodType.methodType(Object.class, String.class);\n    Class&lt;?&gt; generated = generateClassWithStaticMethod(\"TestClass\", Object.class,\n        staticMethodName, staticMethodType, Fnct.class, \"apply\", staticMethodType);\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\n    System.out.println(\"generated \"+generated);\n    MethodHandle mh = lookup.findStatic(generated, \"apply\", MethodType.methodType(Fnct.class));\n    Fnct f =  (Fnct)mh.invokeExact();\n    Object result = f.apply(\"test\");\n    System.out.println(\"result: \"+result);\n}\n\npublic static Class&lt;?&gt; generateClassWithStaticMethod(String clName, Class&lt;?&gt; superClass,\n    String methodName, MethodType methodType, Class&lt;?&gt; funcInterface, String funcName, MethodType funcType) {\n\n    Class&lt;?&gt; boxedInt = Integer.class;\n    ClassWriter classWriter = new ClassWriter(0);\n    classWriter.visit(V1_8, ACC_PUBLIC|ACC_SUPER, clName, null, getInternalName(superClass), null);\n    MethodVisitor mv = classWriter.visitMethod(\n         ACC_PUBLIC|ACC_STATIC, methodName, methodType.toMethodDescriptorString(), null, null);\n    mv.visitInsn(ICONST_3);\n    mv.visitMethodInsn(INVOKESTATIC, getInternalName(boxedInt), \"valueOf\",\n        MethodType.methodType(boxedInt, int.class).toMethodDescriptorString(), false);\n    mv.visitInsn(ARETURN);\n    mv.visitMaxs(1, 1);\n    mv.visitEnd();\n    String noArgReturnsFunc = MethodType.methodType(funcInterface).toMethodDescriptorString();\n    mv = classWriter.visitMethod(ACC_PUBLIC|ACC_STATIC, methodName, noArgReturnsFunc, null, null);\n    Type funcTypeASM = Type.getMethodType(funcType.toMethodDescriptorString());\n    mv.visitInvokeDynamicInsn(funcName, noArgReturnsFunc, new Handle(H_INVOKESTATIC,\n        getInternalName(LambdaMetafactory.class), \"metafactory\", MethodType.methodType(CallSite.class,\n            MethodHandles.Lookup.class, String.class, MethodType.class, MethodType.class,\n            MethodHandle.class, MethodType.class).toMethodDescriptorString()), funcTypeASM,\n            new Handle(H_INVOKESTATIC, clName, methodName, methodType.toMethodDescriptorString()),\n            funcTypeASM\n        );\n    mv.visitInsn(ARETURN);\n    mv.visitMaxs(1, 0);\n    mv.visitEnd();\n    return new MyClassLoader().defineClass(classWriter.toByteArray());\n}\n</code></pre>\n\n<p>This generates a second static method with the same name but no arguments, returning an instance of the functional interface, generated exactly like a method reference to the first static method, using a single <code>invokedynamic</code> instruction. Of course, thats merely to demonstrate the logic, as it would be easy to generate a class implementing the interface performing the action within its function method directly, instead of requiring the meta factory to generate a delegating class.</p>\n"}],"owner":{"account_id":3313246,"reputation":26479,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49452494,"answer_count":1,"score":2,"last_activity_date":1670931287,"creation_date":1521808855,"question_id":49449915,"body_markdown":"I&#39;m trying to understand lambda expressions and got the following issue. I understand that lambda-expression is compiled to `invokedynamic` instruction by `javac` and basic mechanics of `indy`.\r\n\r\nI have the class loader:\r\n\r\n    public class MyClassLoader extends ClassLoader{\r\n        public Class&lt;?&gt; defineClass(byte[] classData){\r\n            Class&lt;?&gt; cls = defineClass(null, classData, 0, classData.length);\r\n            resolveClass(cls); \r\n            return cls; //should be ok, resolved before returning\r\n        }\r\n    }\r\n\r\nNow I want to create a hand-crafted `Class` dynamically with ASM and use it in `LambdaMetafactory` to create an instance of my functional interface. Here it is:\r\n\r\n    @FunctionalInterface\r\n    public interface Fnct {\r\n        Object apply(String str);\r\n    }\r\n\r\nHere is my full application:\r\n\r\n    public static void main(String[] args) throws Throwable {\r\n        System.out.println(\r\n              generateClassWithStaticMethod().getMethod(&quot;apply&quot;, String.class)\r\n                     .invoke(null, &quot;test&quot;)   \r\n        ); //prints 3 as expected\r\n\r\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n        MethodHandle mh = lookup.findStatic(generateClassWithStaticMethod(), &quot;apply&quot;, MethodType.methodType(Object.class, String.class));\r\n        Fnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, &quot;apply&quot;, MethodType.methodType(Fnct.class),\r\n                mh.type(), mh, mh.type()).getTarget().invokeExact();\r\n\r\n        f.apply(&quot;test&quot;); //throws java.lang.NoClassDefFoundError: MyTestClass\r\n    }\r\n\r\n    public static Class&lt;?&gt; generateClassWithStaticMethod(){\r\n        ClassWriter classWriter = new ClassWriter(ClassWriter.COMPUTE_MAXS);\r\n\r\n        classWriter.visit(V1_8, ACC_PUBLIC + ACC_SUPER, &quot;MyTestClass&quot;, null, getInternalName(Object.class), null);\r\n\r\n        MethodVisitor mv = classWriter.visitMethod(ACC_PUBLIC + ACC_STATIC, &quot;apply&quot;, &quot;(Ljava/lang/String;)Ljava/lang/Object;&quot;,null, null);\r\n        mv.visitInsn(ICONST_3);\r\n        mv.visitMethodInsn(INVOKESTATIC, getInternalName(Integer.class), &quot;valueOf&quot;, &quot;(I)Ljava/lang/Integer;&quot;, false);\r\n        mv.visitInsn(ARETURN);\r\n        mv.visitMaxs(0, 0);\r\n        mv.visitEnd();\r\n\r\n        return new MyClassLoader().defineClass(classWriter. toByteArray());\r\n    }\r\n\r\nSo reflective method call succeeds, but creating and invoking instance with `LambdaMetafactory` fails with `NoClassDefFoundError`. I tried to create a class in Java with a static Method, and it worked:\r\n\r\n    public class Fffnct {\r\n        public static Object apply(String str){\r\n            return 3;\r\n        }\r\n    }\r\n\r\nThe only difference in class-files I found is that `javac` generates:\r\n\r\n    LineNumberTable:\r\n        line 5: 0\r\n\r\nI tried to add it by myself as `mv.visitLineNumber(5, new Label());` but unfortunately, it didn&#39;t work.\r\n\r\nWhat&#39;s wrong with my dynamically generated class?","title":"Creating Lambda function instance","body":"<p>I'm trying to understand lambda expressions and got the following issue. I understand that lambda-expression is compiled to <code>invokedynamic</code> instruction by <code>javac</code> and basic mechanics of <code>indy</code>.</p>\n\n<p>I have the class loader:</p>\n\n<pre><code>public class MyClassLoader extends ClassLoader{\n    public Class&lt;?&gt; defineClass(byte[] classData){\n        Class&lt;?&gt; cls = defineClass(null, classData, 0, classData.length);\n        resolveClass(cls); \n        return cls; //should be ok, resolved before returning\n    }\n}\n</code></pre>\n\n<p>Now I want to create a hand-crafted <code>Class</code> dynamically with ASM and use it in <code>LambdaMetafactory</code> to create an instance of my functional interface. Here it is:</p>\n\n<pre><code>@FunctionalInterface\npublic interface Fnct {\n    Object apply(String str);\n}\n</code></pre>\n\n<p>Here is my full application:</p>\n\n<pre><code>public static void main(String[] args) throws Throwable {\n    System.out.println(\n          generateClassWithStaticMethod().getMethod(\"apply\", String.class)\n                 .invoke(null, \"test\")   \n    ); //prints 3 as expected\n\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\n    MethodHandle mh = lookup.findStatic(generateClassWithStaticMethod(), \"apply\", MethodType.methodType(Object.class, String.class));\n    Fnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, \"apply\", MethodType.methodType(Fnct.class),\n            mh.type(), mh, mh.type()).getTarget().invokeExact();\n\n    f.apply(\"test\"); //throws java.lang.NoClassDefFoundError: MyTestClass\n}\n\npublic static Class&lt;?&gt; generateClassWithStaticMethod(){\n    ClassWriter classWriter = new ClassWriter(ClassWriter.COMPUTE_MAXS);\n\n    classWriter.visit(V1_8, ACC_PUBLIC + ACC_SUPER, \"MyTestClass\", null, getInternalName(Object.class), null);\n\n    MethodVisitor mv = classWriter.visitMethod(ACC_PUBLIC + ACC_STATIC, \"apply\", \"(Ljava/lang/String;)Ljava/lang/Object;\",null, null);\n    mv.visitInsn(ICONST_3);\n    mv.visitMethodInsn(INVOKESTATIC, getInternalName(Integer.class), \"valueOf\", \"(I)Ljava/lang/Integer;\", false);\n    mv.visitInsn(ARETURN);\n    mv.visitMaxs(0, 0);\n    mv.visitEnd();\n\n    return new MyClassLoader().defineClass(classWriter. toByteArray());\n}\n</code></pre>\n\n<p>So reflective method call succeeds, but creating and invoking instance with <code>LambdaMetafactory</code> fails with <code>NoClassDefFoundError</code>. I tried to create a class in Java with a static Method, and it worked:</p>\n\n<pre><code>public class Fffnct {\n    public static Object apply(String str){\n        return 3;\n    }\n}\n</code></pre>\n\n<p>The only difference in class-files I found is that <code>javac</code> generates:</p>\n\n<pre><code>LineNumberTable:\n    line 5: 0\n</code></pre>\n\n<p>I tried to add it by myself as <code>mv.visitLineNumber(5, new Label());</code> but unfortunately, it didn't work.</p>\n\n<p>What's wrong with my dynamically generated class?</p>\n"},{"tags":["java","reflection","methodhandle"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1670769604,"post_id":74761392,"comment_id":131945034,"body_markdown":"Is that the whole exception message? It looks like some other type should go before the comma in `MethodHandle(,UserOnlineEvent)`, also the return type is missing.","body":"Is that the whole exception message? It looks like some other type should go before the comma in <code>MethodHandle(,UserOnlineEvent)</code>, also the return type is missing."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1670781584,"post_id":74761392,"comment_id":131947760,"body_markdown":"Are you trying to invoke a static method? If not, then the MethodHandle will have 2 arguments.","body":"Are you trying to invoke a static method? If not, then the MethodHandle will have 2 arguments."},{"owner":{"account_id":22338412,"reputation":1,"user_id":16558565,"display_name":"SNWCreations"},"score":0,"creation_date":1670846055,"post_id":74761392,"comment_id":131960007,"body_markdown":"@JornVernee Oh, I&#39;m sorry, the return type is void and I&#39;ve edited it. I don&#39;t know the meaning of the comma, the whole exception message is right here.","body":"@JornVernee Oh, I&#39;m sorry, the return type is void and I&#39;ve edited it. I don&#39;t know the meaning of the comma, the whole exception message is right here."},{"owner":{"account_id":22338412,"reputation":1,"user_id":16558565,"display_name":"SNWCreations"},"score":0,"creation_date":1670846141,"post_id":74761392,"comment_id":131960039,"body_markdown":"@JohannesKuhn Of course not, I will try it later.","body":"@JohannesKuhn Of course not, I will try it later."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1671040042,"post_id":74761392,"comment_id":132013590,"body_markdown":"Note that `actualEventType.cast()` is obsolete here. You already did the `actualEventType.isInstance()` check and `handle.invoke()` will perform a type cast anyway.","body":"Note that <code>actualEventType.cast()</code> is obsolete here. You already did the <code>actualEventType.isInstance()</code> check and <code>handle.invoke()</code> will perform a type cast anyway."},{"owner":{"account_id":22338412,"reputation":1,"user_id":16558565,"display_name":"SNWCreations"},"score":0,"creation_date":1671079510,"post_id":74761392,"comment_id":132021751,"body_markdown":"@Holger I know, current code in my system has already edited.","body":"@Holger I know, current code in my system has already edited."}],"answers":[{"tags":[],"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670769500,"creation_date":1670769500,"answer_id":74761724,"question_id":74761392,"body_markdown":"According to your message , I find the code in JDK. at `MethodHandle#asTypeUncached`\r\n\r\n```java\r\n/*non-public*/ \r\nMethodHandle asTypeUncached(MethodType newType) {\r\n        if (!type.isConvertibleTo(newType))\r\n            throw new WrongMethodTypeException(&quot;cannot convert &quot;+this+&quot; to &quot;+newType);\r\n        return asTypeCache = MethodHandleImpl.makePairwiseConvert(this, newType, true);\r\n    }\r\n```\r\n\r\nit&#39;s clear, I guess parameter type is wrong. if debug , you will find it.","title":"Why a WrongMethodTypeException from MethodHandle? Is my object type incorrect?","body":"<p>According to your message , I find the code in JDK. at <code>MethodHandle#asTypeUncached</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>/*non-public*/ \nMethodHandle asTypeUncached(MethodType newType) {\n        if (!type.isConvertibleTo(newType))\n            throw new WrongMethodTypeException(&quot;cannot convert &quot;+this+&quot; to &quot;+newType);\n        return asTypeCache = MethodHandleImpl.makePairwiseConvert(this, newType, true);\n    }\n</code></pre>\n<p>it's clear, I guess parameter type is wrong. if debug , you will find it.</p>\n"}],"owner":{"account_id":22338412,"reputation":1,"user_id":16558565,"display_name":"SNWCreations"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670931269,"creation_date":1670766689,"question_id":74761392,"body_markdown":"I have encountered a problem while I am trying to switch my event system from reflection to MethodHandle.\r\n\r\nI am using an event bus (version 3.0.0) by KyoriPowered on Github (https://github.com/KyoriPowered/event).\r\n\r\nMy code is following:\r\n```java\r\npublic class EventExecutorFactory implements EventExecutor.Factory&lt;Event, Listener&gt; {\r\n    @Override\r\n    public @NonNull EventExecutor&lt;Event, Listener&gt; create(@NonNull Object object, @NonNull Method method) throws Exception { // object is Listener\r\n        method.setAccessible(true);\r\n        Class&lt;? extends Event&gt; actualEventType = method.getParameterTypes()[0].asSubclass(Event.class);\r\n        MethodHandle handle = MethodHandles.lookup().unreflect(method);\r\n        return new EventExecutor&lt;Event,Listener&gt;() {\r\n\r\n            @Override\r\n            public void invoke(@NonNull Listener listener, @NonNull Event event) throws Throwable {\r\n                if (!actualEventType.isInstance(event)) return; // many different event types defined in my system, so I should check it first.\r\n                handle.invoke(actualEventType.cast(event)); // WrongMethodTypeException thrown here\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI expected this to work fine, but the result is:\r\n\r\n&gt; java.lang.invoke.WrongMethodTypeException: cannot convert MethodHandle(,UserOnlineEvent)void to (Event)void\r\n\r\nUserOnlineEvent is the event type that used in test.\r\n\r\nThe problem is that I cannot get the real type of the event.\r\n\r\n---\r\n\r\nEdit: This problem has been solved. I should use two arguments.\r\njust add the listener as the first argument to handle.invoke, and it works.","title":"Why a WrongMethodTypeException from MethodHandle? Is my object type incorrect?","body":"<p>I have encountered a problem while I am trying to switch my event system from reflection to MethodHandle.</p>\n<p>I am using an event bus (version 3.0.0) by KyoriPowered on Github (<a href=\"https://github.com/KyoriPowered/event\" rel=\"nofollow noreferrer\">https://github.com/KyoriPowered/event</a>).</p>\n<p>My code is following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EventExecutorFactory implements EventExecutor.Factory&lt;Event, Listener&gt; {\n    @Override\n    public @NonNull EventExecutor&lt;Event, Listener&gt; create(@NonNull Object object, @NonNull Method method) throws Exception { // object is Listener\n        method.setAccessible(true);\n        Class&lt;? extends Event&gt; actualEventType = method.getParameterTypes()[0].asSubclass(Event.class);\n        MethodHandle handle = MethodHandles.lookup().unreflect(method);\n        return new EventExecutor&lt;Event,Listener&gt;() {\n\n            @Override\n            public void invoke(@NonNull Listener listener, @NonNull Event event) throws Throwable {\n                if (!actualEventType.isInstance(event)) return; // many different event types defined in my system, so I should check it first.\n                handle.invoke(actualEventType.cast(event)); // WrongMethodTypeException thrown here\n            }\n        }\n    }\n}\n</code></pre>\n<p>I expected this to work fine, but the result is:</p>\n<blockquote>\n<p>java.lang.invoke.WrongMethodTypeException: cannot convert MethodHandle(,UserOnlineEvent)void to (Event)void</p>\n</blockquote>\n<p>UserOnlineEvent is the event type that used in test.</p>\n<p>The problem is that I cannot get the real type of the event.</p>\n<hr />\n<p>Edit: This problem has been solved. I should use two arguments.\njust add the listener as the first argument to handle.invoke, and it works.</p>\n"},{"tags":["java","email","user-interface"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1621322798,"post_id":67581680,"comment_id":119453257,"body_markdown":"why wouldn&#39;t there be?","body":"why wouldn&#39;t there be?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1621323077,"post_id":67581680,"comment_id":119453398,"body_markdown":"You are definitely blocking the Event Dispatch Thread (EDT), which is responsible for GUI updates. Since this thread is busy with sleeping (`Thread.sleep()`) you will not see GUI updates. See [Concurency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html). The tool to use in these scenarios is e.g. a [`SwingWorker`](https://docs.oracle.com/javase/8/docs/api/javax/swing/SwingWorker.html), which can do some background task and still update the GUI.","body":"You are definitely blocking the Event Dispatch Thread (EDT), which is responsible for GUI updates. Since this thread is busy with sleeping (<code>Thread.sleep()</code>) you will not see GUI updates. See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurency in Swing</a>. The tool to use in these scenarios is e.g. a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\"><code>SwingWorker</code></a>, which can do some background task and still update the GUI."},{"owner":{"account_id":21541785,"reputation":1,"user_id":15879410,"display_name":"foo.098"},"score":0,"creation_date":1621323153,"post_id":67581680,"comment_id":119453432,"body_markdown":"@Stultuske im not exactly sure, this is the first time I used javamail API. whenever I tried to send an email by clicking the button, there was always this pause like its loading or lagging then after that, the email was sent successfully","body":"@Stultuske im not exactly sure, this is the first time I used javamail API. whenever I tried to send an email by clicking the button, there was always this pause like its loading or lagging then after that, the email was sent successfully"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1621323284,"post_id":67581680,"comment_id":119453494,"body_markdown":"Or if you want to have some actions performed in a timed fashion, use a [`javax.swing.Timer`](https://docs.oracle.com/javase/8/docs/api/javax/swing/Timer.html) to perform actions with a predefined delay. [Example](https://stackoverflow.com/questions/13691339/adding-a-timer-and-displaying-label-text/13691413#13691413). You can find a working example with the `SwingWorker` [here](https://docs.oracle.com/javase/tutorial/uiswing/examples/components/ProgressBarDemoProject/src/components/ProgressBarDemo.java).","body":"Or if you want to have some actions performed in a timed fashion, use a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/Timer.html\" rel=\"nofollow noreferrer\"><code>javax.swing.Timer</code></a> to perform actions with a predefined delay. <a href=\"https://stackoverflow.com/questions/13691339/adding-a-timer-and-displaying-label-text/13691413#13691413\">Example</a>. You can find a working example with the <code>SwingWorker</code> <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/examples/components/ProgressBarDemoProject/src/components/ProgressBarDemo.java\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1621323710,"post_id":67581680,"comment_id":119453710,"body_markdown":"Btw, your code shows quite some lack of experience with Java, e.g. the use of a static method that also accesses buttons (which would have to be static as well), the naming (methods should start with a lower case character, so `sendMail` instead of `SendMail` \nwhile classes should start with an upper case char, so `LoadingScreen` instead of `loadingScreen`), etc. - If you really are as inexperienced as this would indicate I&#39;d suggest revisiting those basics before diving into GUI development to save yourself a few headaches.","body":"Btw, your code shows quite some lack of experience with Java, e.g. the use of a static method that also accesses buttons (which would have to be static as well), the naming (methods should start with a lower case character, so <code>sendMail</code> instead of <code>SendMail</code>  while classes should start with an upper case char, so <code>LoadingScreen</code> instead of <code>loadingScreen</code>), etc. - If you really are as inexperienced as this would indicate I&#39;d suggest revisiting those basics before diving into GUI development to save yourself a few headaches."}],"owner":{"account_id":21541785,"reputation":1,"user_id":15879410,"display_name":"foo.098"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670931201,"creation_date":1621322647,"question_id":67581680,"body_markdown":"So, I have this frame wherein when the user click the &#39;Notify&#39; button, it will send an email to the user and I want to show a loading screen while the message was sending. \r\n\r\nBut the problem is, my system kind of lagged when sending a message and the **loading screen frame that I made only shows up in the end after the email was sent** even though my plan was to show the loading screen frame ***while*** sending an email, I put the code on the first line so that it will be the first one the the program will read but it still keeps showing on the last.\r\n\r\nI found some questions here about this problem but they&#39;re not using java as me so I don&#39;t know how I can fix mine.\r\n\r\nThese codes are not created in one class/frame. I created 2 JFrames Form and 1 Java Class. I have 1 frame for notifying the users, 1 frame for my supposedly loading screen, and 1 java class with a  code for sending an email with the code for loading screen.\r\n\r\n**Sending Email with Loading Screen Code Included...**\r\n\r\n    public class Emailing {\r\n        public static void SendMail(String recepient) throws Exception {\r\n\r\n        loadingScreen loadingFrame = new loadingScreen();\r\n        loadingFrame.setVisible(true);\r\n        try {\r\n            for (int i=0;i&lt;=100;i++) {\r\n                Thread.sleep(100);\r\n                loadingFrame.percent.setText(i + &quot;%&quot;);\r\n                \r\n                if (i == 20){\r\n                    loadingFrame.msg.setText(&quot;Preparing your message...&quot;);\r\n                }if (i == 50){\r\n                    loadingFrame.msg.setText(&quot;Please wait a moment...&quot;);\r\n                }if (i == 70){\r\n                    loadingFrame.msg.setText(&quot;Almost there...&quot;);\r\n                }if (i == 100){\r\n                    loadingFrame.msg.setText(&quot;Message sent succesfully!&quot;);\r\n                    closeBTN.setVisible(true);\r\n                }\r\n                loadingFrame.loadingBar.setValue(i);\r\n            }\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n            Properties properties = new Properties();\r\n            \r\n            properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            properties.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n            properties.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n            \r\n            String myEmail = &quot;xxxxxxxxxx@gmail.com&quot;; //hide my email information sorry\r\n            String myPassword = &quot;xxxxxxxxxx&quot;;\r\n            \r\n            Session session = Session.getInstance(properties, new Authenticator(){\r\n                @Override\r\n                protected PasswordAuthentication getPasswordAuthentication() {\r\n                    return new PasswordAuthentication(myEmail, myPassword);\r\n                        \r\n                }\r\n            });\r\n            Message message = prepareMessage (session, myEmail, recepient);\r\n            Transport.send(message);\r\n\r\n**Then my Main frame where the user will click the notify button and will then supposedly show the loading screen frame while sending a message...**\r\n\r\n    private void sendNotice () throws Exception{\r\n            Emailing.SendMail(userEmailAccount.getText());\r\n    }\r\n    \r\n    //when the button was clicked\r\n    private void notifyUserButtonActionPerformed((java.awt.event.MouseEvent evt) {\r\n            sendNotice();\r\n    }  \r\n\r\n\r\nIs there a way where I can show a loading screen while sending a message?\r\n\r\n\r\n","title":"JAVA: Trying to show a loading screen frame while sending an email","body":"<p>So, I have this frame wherein when the user click the 'Notify' button, it will send an email to the user and I want to show a loading screen while the message was sending.</p>\n<p>But the problem is, my system kind of lagged when sending a message and the <strong>loading screen frame that I made only shows up in the end after the email was sent</strong> even though my plan was to show the loading screen frame <em><strong>while</strong></em> sending an email, I put the code on the first line so that it will be the first one the the program will read but it still keeps showing on the last.</p>\n<p>I found some questions here about this problem but they're not using java as me so I don't know how I can fix mine.</p>\n<p>These codes are not created in one class/frame. I created 2 JFrames Form and 1 Java Class. I have 1 frame for notifying the users, 1 frame for my supposedly loading screen, and 1 java class with a  code for sending an email with the code for loading screen.</p>\n<p><strong>Sending Email with Loading Screen Code Included...</strong></p>\n<pre><code>public class Emailing {\n    public static void SendMail(String recepient) throws Exception {\n\n    loadingScreen loadingFrame = new loadingScreen();\n    loadingFrame.setVisible(true);\n    try {\n        for (int i=0;i&lt;=100;i++) {\n            Thread.sleep(100);\n            loadingFrame.percent.setText(i + &quot;%&quot;);\n            \n            if (i == 20){\n                loadingFrame.msg.setText(&quot;Preparing your message...&quot;);\n            }if (i == 50){\n                loadingFrame.msg.setText(&quot;Please wait a moment...&quot;);\n            }if (i == 70){\n                loadingFrame.msg.setText(&quot;Almost there...&quot;);\n            }if (i == 100){\n                loadingFrame.msg.setText(&quot;Message sent succesfully!&quot;);\n                closeBTN.setVisible(true);\n            }\n            loadingFrame.loadingBar.setValue(i);\n        }\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n        Properties properties = new Properties();\n        \n        properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        properties.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n        properties.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n        \n        String myEmail = &quot;xxxxxxxxxx@gmail.com&quot;; //hide my email information sorry\n        String myPassword = &quot;xxxxxxxxxx&quot;;\n        \n        Session session = Session.getInstance(properties, new Authenticator(){\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(myEmail, myPassword);\n                    \n            }\n        });\n        Message message = prepareMessage (session, myEmail, recepient);\n        Transport.send(message);\n</code></pre>\n<p><strong>Then my Main frame where the user will click the notify button and will then supposedly show the loading screen frame while sending a message...</strong></p>\n<pre><code>private void sendNotice () throws Exception{\n        Emailing.SendMail(userEmailAccount.getText());\n}\n\n//when the button was clicked\nprivate void notifyUserButtonActionPerformed((java.awt.event.MouseEvent evt) {\n        sendNotice();\n}  \n</code></pre>\n<p>Is there a way where I can show a loading screen while sending a message?</p>\n"},{"tags":["java","json","jackson","deserialization","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670926399,"creation_date":1670926399,"answer_id":74783175,"question_id":74782738,"body_markdown":"Could you try with a wrapper class: \r\n\r\n    public class Builder{\r\n        public int id;\r\n        public String name;\r\n    }\r\n    \r\n    public class Root{\r\n        public ArrayList&lt;Builder&gt; builders;\r\n    }\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Root root = mapper.readValue(strJson, Root.class);\r\n","title":"Json Jackson won&#39;t unwrap root element","body":"<p>Could you try with a wrapper class:</p>\n<pre><code>public class Builder{\n    public int id;\n    public String name;\n}\n\npublic class Root{\n    public ArrayList&lt;Builder&gt; builders;\n}\n\nObjectMapper mapper = new ObjectMapper();\nRoot root = mapper.readValue(strJson, Root.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670931171,"creation_date":1670927699,"answer_id":74783446,"question_id":74782738,"body_markdown":"Annotation `@JsonRootName` would work as expect if there would be a single object, not a JSON-array. In this case, we need a different approach.\r\n\r\nYou can prepare an `ObjectReader` by specifying `TypeReference` of type `List&lt;Builder&gt;` using method [`ObjectMapper.readerFor( TypeReference )`][readerFor].\r\n\r\nAnd in order to unwrap this JSON-array, we can make use of the method [`ObjectReader.withRootName()`][withRootName].\r\n\r\nHere&#39;s how it might look like:\r\n\r\n```\r\nString json = &quot;&quot;&quot;\r\n    {\r\n        &quot;builders&quot;: [\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;name&quot;: &quot;Haley LLC&quot;\r\n            },\r\n            ... // other elements\r\n        ]\r\n    }\r\n    &quot;&quot;&quot;;\r\n        \r\nObjectMapper mapper = new ObjectMapper();\r\n    \r\nObjectReader objectReader = mapper\r\n    .readerFor(new TypeReference&lt;List&lt;Builder&gt;&gt;() {})\r\n    .withRootName(&quot;builders&quot;);\r\n        \r\nList&lt;Builder&gt; builders = objectReader.readValue(json);\r\n        \r\nbuilders.forEach(System.out::println);\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nBuilder{id=&#39;1&#39;, builder=&#39;Haley LLC&#39;}\r\nBuilder{id=&#39;2&#39;, builder=&#39;Stoltenberg, Mayert and Weimann&#39;}\r\nBuilder{id=&#39;3&#39;, builder=&#39;Ziemann Group&#39;}\r\nBuilder{id=&#39;4&#39;, builder=&#39;Monahan - Torp&#39;}\r\nBuilder{id=&#39;5&#39;, builder=&#39;Fritsch, Harber and Lemke&#39;}\r\n```\r\n\r\n&lt;h3&gt;Note&lt;/h3&gt;\r\n\r\n`@JsonRootName` on top of the `Builder` class is not needed in this case. You can remove it, if you have no another cases with a single `Builder` object being wrapped in the JSON.\r\n\r\nAlso, applying deserialization feature `UNWRAP_ROOT_VALUE` is not required for this solution to work.\r\n\r\n\r\n\r\n\r\n   [readerFor]: https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html#readerFor-com.fasterxml.jackson.core.type.TypeReference-\r\n\r\n   [withRootName]: https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectReader.html#withRootName(java.lang.String)","title":"Json Jackson won&#39;t unwrap root element","body":"<p>Annotation <code>@JsonRootName</code> would work as expect if there would be a single object, not a JSON-array. In this case, we need a different approach.</p>\n<p>You can prepare an <code>ObjectReader</code> by specifying <code>TypeReference</code> of type <code>List&lt;Builder&gt;</code> using method <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html#readerFor-com.fasterxml.jackson.core.type.TypeReference-\" rel=\"nofollow noreferrer\"><code>ObjectMapper.readerFor( TypeReference )</code></a>.</p>\n<p>And in order to unwrap this JSON-array, we can make use of the method <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectReader.html#withRootName(java.lang.String)\" rel=\"nofollow noreferrer\"><code>ObjectReader.withRootName()</code></a>.</p>\n<p>Here's how it might look like:</p>\n<pre><code>String json = &quot;&quot;&quot;\n    {\n        &quot;builders&quot;: [\n            {\n                &quot;id&quot;: 1,\n                &quot;name&quot;: &quot;Haley LLC&quot;\n            },\n            ... // other elements\n        ]\n    }\n    &quot;&quot;&quot;;\n        \nObjectMapper mapper = new ObjectMapper();\n    \nObjectReader objectReader = mapper\n    .readerFor(new TypeReference&lt;List&lt;Builder&gt;&gt;() {})\n    .withRootName(&quot;builders&quot;);\n        \nList&lt;Builder&gt; builders = objectReader.readValue(json);\n        \nbuilders.forEach(System.out::println);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Builder{id='1', builder='Haley LLC'}\nBuilder{id='2', builder='Stoltenberg, Mayert and Weimann'}\nBuilder{id='3', builder='Ziemann Group'}\nBuilder{id='4', builder='Monahan - Torp'}\nBuilder{id='5', builder='Fritsch, Harber and Lemke'}\n</code></pre>\n<h3>Note</h3>\n<p><code>@JsonRootName</code> on top of the <code>Builder</code> class is not needed in this case. You can remove it, if you have no another cases with a single <code>Builder</code> object being wrapped in the JSON.</p>\n<p>Also, applying deserialization feature <code>UNWRAP_ROOT_VALUE</code> is not required for this solution to work.</p>\n"},{"tags":[],"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670928212,"creation_date":1670928212,"answer_id":74783540,"question_id":74782738,"body_markdown":"You could just Deserialize to `Map&lt;String, List&lt;Builder&gt;&gt;` and then `get` by key &quot;builders&quot;.\r\n\r\nEven semantically it&#39;s not a bad representation because it is, after all, a JS Dictionary object with a list of Builders in it under the key &quot;builders&quot;.","title":"Json Jackson won&#39;t unwrap root element","body":"<p>You could just Deserialize to <code>Map&lt;String, List&lt;Builder&gt;&gt;</code> and then <code>get</code> by key &quot;builders&quot;.</p>\n<p>Even semantically it's not a bad representation because it is, after all, a JS Dictionary object with a list of Builders in it under the key &quot;builders&quot;.</p>\n"}],"owner":{"account_id":20660269,"reputation":118,"user_id":15168387,"display_name":"HereToLearn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74783446,"answer_count":3,"score":2,"last_activity_date":1670931171,"creation_date":1670924470,"question_id":74782738,"body_markdown":"I&#39;ve been trying to deserialize an array of JSON objects for a while now, and all the answers on the internet are either deprecated or just don&#39;t work for me.\r\n\r\nThe code below always returns a `MismatchedInputException` with the following message:\r\n\r\n```\r\n...MismatchedInputException: Root name (&#39;builders&#39;)\r\ndoes not match expected (&#39;Builder[]&#39;) for type `[LModel.Attributes.Builder;`\r\n```\r\n\r\nBelow is my code for my DTO:\r\n```lang-java\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonRootName;\r\n\r\n@JsonRootName(&quot;builders&quot;)\r\npublic class Builder {\r\n    private  String id;\r\n    private  String builder;\r\n\r\n    @JsonProperty(&quot;id&quot;)\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    public void setBuilder(String builder) {\r\n        this.builder = builder;\r\n    }\r\n\r\n    public String getBuilder() {\r\n        return builder;\r\n    }\r\n\r\n    public String getId(){\r\n        return id;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd here we have our deserializer:\r\n\r\n```lang-java\r\nvar json = response.body();\r\n\r\n\r\nmapper.enable(DeserializationFeature.UNWRAP_ROOT_VALUE);\r\nvar builders = mapper.readValue(json, Builder[].class);\r\n```\r\n\r\nAnd this is my JSON:\r\n```\r\n{\r\n    &quot;builders&quot;: [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Haley LLC&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;name&quot;: &quot;Stoltenberg, Mayert and Weimann&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 3,\r\n            &quot;name&quot;: &quot;Ziemann Group&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 4,\r\n            &quot;name&quot;: &quot;Monahan - Torp&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 5,\r\n            &quot;name&quot;: &quot;Fritsch, Harber and Lemke&quot;\r\n        }\r\n    ]\r\n}\r\n```","title":"Json Jackson won&#39;t unwrap root element","body":"<p>I've been trying to deserialize an array of JSON objects for a while now, and all the answers on the internet are either deprecated or just don't work for me.</p>\n<p>The code below always returns a <code>MismatchedInputException</code> with the following message:</p>\n<pre><code>...MismatchedInputException: Root name ('builders')\ndoes not match expected ('Builder[]') for type `[LModel.Attributes.Builder;`\n</code></pre>\n<p>Below is my code for my DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonRootName;\n\n@JsonRootName(&quot;builders&quot;)\npublic class Builder {\n    private  String id;\n    private  String builder;\n\n    @JsonProperty(&quot;id&quot;)\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    @JsonProperty(&quot;name&quot;)\n    public void setBuilder(String builder) {\n        this.builder = builder;\n    }\n\n    public String getBuilder() {\n        return builder;\n    }\n\n    public String getId(){\n        return id;\n    }\n}\n\n</code></pre>\n<p>And here we have our deserializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var json = response.body();\n\n\nmapper.enable(DeserializationFeature.UNWRAP_ROOT_VALUE);\nvar builders = mapper.readValue(json, Builder[].class);\n</code></pre>\n<p>And this is my JSON:</p>\n<pre><code>{\n    &quot;builders&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;Haley LLC&quot;\n        },\n        {\n            &quot;id&quot;: 2,\n            &quot;name&quot;: &quot;Stoltenberg, Mayert and Weimann&quot;\n        },\n        {\n            &quot;id&quot;: 3,\n            &quot;name&quot;: &quot;Ziemann Group&quot;\n        },\n        {\n            &quot;id&quot;: 4,\n            &quot;name&quot;: &quot;Monahan - Torp&quot;\n        },\n        {\n            &quot;id&quot;: 5,\n            &quot;name&quot;: &quot;Fritsch, Harber and Lemke&quot;\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","arraylist","collections","iterator","time-complexity"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670433254,"post_id":74720471,"comment_id":131877096,"body_markdown":"This is more about bugs in your code that uses other approaches to remove than anything else -- but we can&#39;t really explain those unless you show us that code, so we can identify the exact bugs.","body":"This is more about bugs in your code that uses other approaches to remove than anything else -- but we can&#39;t really explain those unless you show us that code, so we can identify the exact bugs."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670433517,"post_id":74720471,"comment_id":131877181,"body_markdown":"Really &quot;left&quot; and &quot;right&quot; have no meaning in an array. It shifts towards index 0. I suspect most people (English speakers at least) would picture index 0 being the left-most, in which case it&#39;s shifting *left*. Time complexity is O(n^2). N iterations over the collection, and each remove takes N operations to shift everything. In a LinkedList, it would be O(n), because remove just involves setting a couple of pointers and is constant time","body":"Really &quot;left&quot; and &quot;right&quot; have no meaning in an array. It shifts towards index 0. I suspect most people (English speakers at least) would picture index 0 being the left-most, in which case it&#39;s shifting <i>left</i>. Time complexity is O(n^2). N iterations over the collection, and each remove takes N operations to shift everything. In a LinkedList, it would be O(n), because remove just involves setting a couple of pointers and is constant time"}],"answers":[{"tags":[],"owner":{"account_id":20511325,"reputation":11,"user_id":15053024,"display_name":"Ergashev Abduvohid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670931057,"creation_date":1670931057,"answer_id":74784155,"question_id":74720471,"body_markdown":"The `ArrayList` class has a class called `Itr`. The `Itr` implements `remove()` method of `Iterator` interface like this:\r\n\r\n    public void remove() {\r\n            if (lastRet &lt; 0)\r\n                throw new IllegalStateException();\r\n            checkForComodification();\r\n\r\n            try {\r\n                ArrayList.this.remove(lastRet);\r\n                cursor = lastRet;\r\n                lastRet = -1;\r\n                expectedModCount = modCount;\r\n            } catch (IndexOutOfBoundsException ex) {\r\n                throw new ConcurrentModificationException();\r\n            }\r\n        }\r\n\r\nin there:\r\n\r\n - `lastRet` - last returned index of elements&#39; array from `next()`\r\n - `cursor` - current element&#39;s index","title":"Java Iterator Interface remove() method. how it will work and produce expected result","body":"<p>The <code>ArrayList</code> class has a class called <code>Itr</code>. The <code>Itr</code> implements <code>remove()</code> method of <code>Iterator</code> interface like this:</p>\n<pre><code>public void remove() {\n        if (lastRet &lt; 0)\n            throw new IllegalStateException();\n        checkForComodification();\n\n        try {\n            ArrayList.this.remove(lastRet);\n            cursor = lastRet;\n            lastRet = -1;\n            expectedModCount = modCount;\n        } catch (IndexOutOfBoundsException ex) {\n            throw new ConcurrentModificationException();\n        }\n    }\n</code></pre>\n<p>in there:</p>\n<ul>\n<li><code>lastRet</code> - last returned index of elements' array from <code>next()</code></li>\n<li><code>cursor</code> - current element's index</li>\n</ul>\n"}],"owner":{"account_id":21445682,"reputation":11,"user_id":15799287,"display_name":"VIJAYAN K S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670931057,"creation_date":1670433094,"question_id":74720471,"body_markdown":"I wondered how this Iterator remove() work\r\n\r\n```\r\nArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\nlist.add(1); list.add(2); list.add(3); list.add(4);\r\n\r\nIterator&lt;Integer&gt; it = list.iterator();\r\n\r\nwhile(it.hasNext()){\r\n    int x = it.next();\r\n    if(x%2==0) it.remove();\r\n    else System.out.println(x+&quot; &quot;);\r\n}\r\n o/p : 1 3\r\n```\r\n\r\nHow this method work? If remove() any element.it remove from array and shift to right? I try other option remove(index) or remove(object) method present in collection it lead to exception any Java experts pls explain and mention the Time Complexity of this method remove() present in Iterator interface","title":"Java Iterator Interface remove() method. how it will work and produce expected result","body":"<p>I wondered how this Iterator remove() work</p>\n<pre><code>ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\nlist.add(1); list.add(2); list.add(3); list.add(4);\n\nIterator&lt;Integer&gt; it = list.iterator();\n\nwhile(it.hasNext()){\n    int x = it.next();\n    if(x%2==0) it.remove();\n    else System.out.println(x+&quot; &quot;);\n}\n o/p : 1 3\n</code></pre>\n<p>How this method work? If remove() any element.it remove from array and shift to right? I try other option remove(index) or remove(object) method present in collection it lead to exception any Java experts pls explain and mention the Time Complexity of this method remove() present in Iterator interface</p>\n"},{"tags":["java","json","jackson","jackson-databind","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670889930,"creation_date":1670888821,"answer_id":74778538,"question_id":74778432,"body_markdown":"The `Input` object in your JSON is wrapped by another object. So instead of trying to parse the whole Tree as `Input`, you need to obtain the Value mapped to the property `input` and then parse it.\r\n\r\n***Note** that setters should be in place in your `Input` class.*\r\n\r\n```\r\nString jsonString = &quot;&quot;&quot;\r\n    {\r\n      &quot;operation&quot;: &quot;myoperation&quot;,\r\n      &quot;input&quot;: {\r\n        &quot;environment&quot;: &quot;myEnv&quot;,\r\n        &quot;stage&quot;: &quot;beta&quot;\r\n      }\r\n    }\r\n    &quot;&quot;&quot;;\r\n\r\nObjectMapper mapper = new ObjectMapper();        \r\nJsonNode node = mapper.readTree(jsonString).get(&quot;input&quot;);\r\n    \r\nInput myInput = mapper.treeToValue(node, Input.class);\r\nSystem.out.println(myInput.getEnvironment());\r\nSystem.out.println(myInput.getStage());\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nmyEnv\r\nbeta\r\n```\r\n\r\nAnother option would be to declare another class, wrapping `Input`, let&#39;s say `InputWrapper`. The would allow to deserialize the JSON you directly into the `InputWrapper` instance and then access nested `Input` via getter method.\r\n\r\nHere&#39;s how such wrapper class might look like (Lombok&#39;s annotations used for brevity):\r\n\r\n    @Setter\r\n    @Getter\r\n    public static class InputWrapper {\r\n        private String operation;\r\n        private Input input;\r\n    }\r\n    \r\n    @Setter\r\n    @Getter\r\n    public static class Input {\r\n        private String environment;\r\n        private String stage;\r\n    }\r\n\r\nParsing logic:\r\n\r\n```\r\nString jsonString = &quot;&quot;&quot;\r\n    {\r\n      &quot;operation&quot;: &quot;myoperation&quot;,\r\n      &quot;input&quot;: {\r\n        &quot;environment&quot;: &quot;myEnv&quot;,\r\n        &quot;stage&quot;: &quot;beta&quot;\r\n      }\r\n    }\r\n    &quot;&quot;&quot;;\r\n\r\nObjectMapper mapper = new ObjectMapper();        \r\n\r\nInputWrapper inputWrapper = mapper.readValue(jsonString, InputWrapper.class);\r\nInput myInput = inputWrapper.getInput();\r\n        \r\nSystem.out.println(myInput.getEnvironment());\r\nSystem.out.println(myInput.getStage());\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nmyEnv\r\nbeta\r\n```","title":"Nested Json Object Returns Null When Converting to POJO","body":"<p>The <code>Input</code> object in your JSON is wrapped by another object. So instead of trying to parse the whole Tree as <code>Input</code>, you need to obtain the Value mapped to the property <code>input</code> and then parse it.</p>\n<p><em><strong>Note</strong> that setters should be in place in your <code>Input</code> class.</em></p>\n<pre><code>String jsonString = &quot;&quot;&quot;\n    {\n      &quot;operation&quot;: &quot;myoperation&quot;,\n      &quot;input&quot;: {\n        &quot;environment&quot;: &quot;myEnv&quot;,\n        &quot;stage&quot;: &quot;beta&quot;\n      }\n    }\n    &quot;&quot;&quot;;\n\nObjectMapper mapper = new ObjectMapper();        \nJsonNode node = mapper.readTree(jsonString).get(&quot;input&quot;);\n    \nInput myInput = mapper.treeToValue(node, Input.class);\nSystem.out.println(myInput.getEnvironment());\nSystem.out.println(myInput.getStage());\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>myEnv\nbeta\n</code></pre>\n<p>Another option would be to declare another class, wrapping <code>Input</code>, let's say <code>InputWrapper</code>. The would allow to deserialize the JSON you directly into the <code>InputWrapper</code> instance and then access nested <code>Input</code> via getter method.</p>\n<p>Here's how such wrapper class might look like (Lombok's annotations used for brevity):</p>\n<pre><code>@Setter\n@Getter\npublic static class InputWrapper {\n    private String operation;\n    private Input input;\n}\n\n@Setter\n@Getter\npublic static class Input {\n    private String environment;\n    private String stage;\n}\n</code></pre>\n<p>Parsing logic:</p>\n<pre><code>String jsonString = &quot;&quot;&quot;\n    {\n      &quot;operation&quot;: &quot;myoperation&quot;,\n      &quot;input&quot;: {\n        &quot;environment&quot;: &quot;myEnv&quot;,\n        &quot;stage&quot;: &quot;beta&quot;\n      }\n    }\n    &quot;&quot;&quot;;\n\nObjectMapper mapper = new ObjectMapper();        \n\nInputWrapper inputWrapper = mapper.readValue(jsonString, InputWrapper.class);\nInput myInput = inputWrapper.getInput();\n        \nSystem.out.println(myInput.getEnvironment());\nSystem.out.println(myInput.getStage());\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>myEnv\nbeta\n</code></pre>\n"}],"owner":{"account_id":3101854,"reputation":4107,"user_id":2625772,"accept_rate":54,"display_name":"AnOldSoul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74778538,"answer_count":1,"score":0,"last_activity_date":1670930602,"creation_date":1670887839,"question_id":74778432,"body_markdown":"I have the below JSON that I&#39;m trying to read into a JSON node and then map to a Java POJO object.\r\n\r\n    {\r\n      &quot;operation&quot;: &quot;myoperation&quot;,\r\n      &quot;input&quot;: {\r\n        &quot;environment&quot;: &quot;myEnv&quot;,\r\n        &quot;stage&quot;: &quot;beta&quot;\r\n      }\r\n    }\r\n\r\nBelow is the POJO class\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Input {\r\n        private String environment;\r\n        private String stage;\r\n    \r\n        public String getEnvironment() {\r\n            return apolloEnvironment;\r\n        }\r\n    \r\n        public String getStage() {\r\n            return stage;\r\n        }\r\n    }\r\n\r\nWhen I read the above tree using the mapping below, I get `null` for the environment and stage properties.\r\n\r\n    Input myInput = OBJECT_MAPPER.treeToValue(inputJson, Input.class);\r\n    System.out.println(myInput.getEnvironment()); //returns null\r\n    System.out.println(myInput.getStage()); //returns null\r\n\r\nI would like to read the environment and stage property values, how can I do this with the above logic?","title":"Nested Json Object Returns Null When Converting to POJO","body":"<p>I have the below JSON that I'm trying to read into a JSON node and then map to a Java POJO object.</p>\n<pre><code>{\n  &quot;operation&quot;: &quot;myoperation&quot;,\n  &quot;input&quot;: {\n    &quot;environment&quot;: &quot;myEnv&quot;,\n    &quot;stage&quot;: &quot;beta&quot;\n  }\n}\n</code></pre>\n<p>Below is the POJO class</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Input {\n    private String environment;\n    private String stage;\n\n    public String getEnvironment() {\n        return apolloEnvironment;\n    }\n\n    public String getStage() {\n        return stage;\n    }\n}\n</code></pre>\n<p>When I read the above tree using the mapping below, I get <code>null</code> for the environment and stage properties.</p>\n<pre><code>Input myInput = OBJECT_MAPPER.treeToValue(inputJson, Input.class);\nSystem.out.println(myInput.getEnvironment()); //returns null\nSystem.out.println(myInput.getStage()); //returns null\n</code></pre>\n<p>I would like to read the environment and stage property values, how can I do this with the above logic?</p>\n"},{"tags":["java","hibernate","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1670936898,"post_id":74783957,"comment_id":131984420,"body_markdown":"What version of Quarkus are you using?","body":"What version of Quarkus are you using?"},{"owner":{"account_id":12690486,"reputation":109,"user_id":12107089,"display_name":"Vitalyk Chernysh"},"score":0,"creation_date":1670937509,"post_id":74783957,"comment_id":131984652,"body_markdown":"@geoand 2.14.2 Final","body":"@geoand 2.14.2 Final"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1670937908,"post_id":74783957,"comment_id":131984778,"body_markdown":"Can you try with `2.15.0.Final` please? If you have the same problem, please open a Github issue?","body":"Can you try with <code>2.15.0.Final</code> please? If you have the same problem, please open a Github issue?"},{"owner":{"account_id":12690486,"reputation":109,"user_id":12107089,"display_name":"Vitalyk Chernysh"},"score":0,"creation_date":1670938968,"post_id":74783957,"comment_id":131985130,"body_markdown":"@geoand https://github.com/vitos-exe/getting-started/issues/1","body":"@geoand <a href=\"https://github.com/vitos-exe/getting-started/issues/1\" rel=\"nofollow noreferrer\">github.com/vitos-exe/getting-started/issues/1</a>"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1671005656,"post_id":74783957,"comment_id":132001261,"body_markdown":"I meant opening a github issue on the Quarkus repo.","body":"I meant opening a github issue on the Quarkus repo."}],"owner":{"account_id":12690486,"reputation":109,"user_id":12107089,"display_name":"Vitalyk Chernysh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670930057,"creation_date":1670930057,"question_id":74783957,"body_markdown":"I&#39;ve created simple entity with two fields that extends *PanacheEntity* and then also an interface that extends *PanacheEntityResource*. Quarkus autogenerates all the endpoints for this entity. **GET**, **DELETE** work correctly but when trying to make **POST** request the application throws following: *org.hibernate.PersistentObjectException: detached entity passed to persist: org.acme.Student*. Since the entire project is as simple as possible I can&#39;t figure out what&#39;s wrong with it.\r\n\r\nStudent.java\r\n```\r\npackage org.acme;\r\n\r\nimport javax.persistence.Entity;\r\n\r\nimport io.quarkus.hibernate.orm.panache.PanacheEntity;\r\n\r\n@Entity\r\npublic class Student extends PanacheEntity{\r\n    public Long id;\r\n    public String name;\r\n}\r\n```\r\nStudentResource.java\r\n```\r\npackage org.acme;\r\n\r\nimport io.quarkus.hibernate.orm.rest.data.panache.PanacheEntityResource;\r\n\r\npublic interface StudentResource extends PanacheEntityResource&lt;Student, Long&gt;{\r\n}\r\n```\r\n\r\nPOST request body\r\n```\r\n{\r\n  &quot;name&quot;: &quot;Vitaliy&quot;,\r\n  &quot;id&quot;: 5\r\n}\r\n```","title":"Quarkus autogenerated JAX-RS resource throws PersistentObjectException","body":"<p>I've created simple entity with two fields that extends <em>PanacheEntity</em> and then also an interface that extends <em>PanacheEntityResource</em>. Quarkus autogenerates all the endpoints for this entity. <strong>GET</strong>, <strong>DELETE</strong> work correctly but when trying to make <strong>POST</strong> request the application throws following: <em>org.hibernate.PersistentObjectException: detached entity passed to persist: org.acme.Student</em>. Since the entire project is as simple as possible I can't figure out what's wrong with it.</p>\n<p>Student.java</p>\n<pre><code>package org.acme;\n\nimport javax.persistence.Entity;\n\nimport io.quarkus.hibernate.orm.panache.PanacheEntity;\n\n@Entity\npublic class Student extends PanacheEntity{\n    public Long id;\n    public String name;\n}\n</code></pre>\n<p>StudentResource.java</p>\n<pre><code>package org.acme;\n\nimport io.quarkus.hibernate.orm.rest.data.panache.PanacheEntityResource;\n\npublic interface StudentResource extends PanacheEntityResource&lt;Student, Long&gt;{\n}\n</code></pre>\n<p>POST request body</p>\n<pre><code>{\n  &quot;name&quot;: &quot;Vitaliy&quot;,\n  &quot;id&quot;: 5\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-sleuth","open-telemetry","distributed-tracing"],"answers":[{"tags":[],"owner":{"account_id":27221972,"reputation":1,"user_id":20751063,"display_name":"Isaac_Lopez_117"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670789286,"creation_date":1670789286,"answer_id":74764118,"question_id":74518577,"body_markdown":"you can try using sleuth this helps you to set the context of the variables you are using, for this you must include the name of the service:\r\n(%{spring.zipkin.service.name})\r\nI hope this helps\r\n\r\nhttps://cloud.spring.io/spring-cloud-sleuth/reference/html/#log-integration","title":"Can we add parameters to the default traces generated by spring-cloud-sleuth?","body":"<p>you can try using sleuth this helps you to set the context of the variables you are using, for this you must include the name of the service:\n(%{spring.zipkin.service.name})\nI hope this helps</p>\n<p><a href=\"https://cloud.spring.io/spring-cloud-sleuth/reference/html/#log-integration\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-sleuth/reference/html/#log-integration</a></p>\n"}],"owner":{"account_id":246941,"reputation":1572,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670930008,"creation_date":1669032030,"question_id":74518577,"body_markdown":"I have integrated spring-cloud-sleuth with my Spring-boot application. I have also used open-telemetry as the log  exporter. When I call a REST API in my application, I can see a span being generated. However, this span does not have information about parameters to the method/API. Is there a way that it can be added?\r\nI did not find anything related in the documentation","title":"Can we add parameters to the default traces generated by spring-cloud-sleuth?","body":"<p>I have integrated spring-cloud-sleuth with my Spring-boot application. I have also used open-telemetry as the log  exporter. When I call a REST API in my application, I can see a span being generated. However, this span does not have information about parameters to the method/API. Is there a way that it can be added?\nI did not find anything related in the documentation</p>\n"},{"tags":["java","html","css","jsp","servlets"],"owner":{"account_id":26480785,"reputation":1,"user_id":20120064,"display_name":"James Pat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670929829,"answer_count":0,"score":0,"last_activity_date":1670929904,"creation_date":1670927547,"question_id":74783425,"body_markdown":"I have this problem where I am trying to get items from an ArrayList from a servlet and display it to a JSP file but when I try to get the variables from the item in the ArrayList, they don&#39;t show up.\r\n\r\nHere is my JSP file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n\tpageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@ page import=&quot;java.util.*&quot;%&gt;\r\n&lt;%@ page import=&quot;com.product.Product&quot;%&gt;\r\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;utf-8&quot; /&gt;\r\n&lt;meta name=&quot;viewport&quot;\r\n\tcontent=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot; /&gt;\r\n&lt;script src=&quot;https://kit.fontawesome.com/256fd9e75f.js&quot;\r\n\tcrossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n&lt;link rel=&quot;stylesheet&quot;\r\n\thref=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css&quot;\r\n\tintegrity=&quot;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&quot;\r\n\tcrossorigin=&quot;anonymous&quot; /&gt;\r\n&lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot; /&gt;\r\n&lt;title&gt;Home&lt;/title&gt;\r\n&lt;link rel=&quot;icon&quot; href=&quot;src/ShopLogo.png&quot; type=&quot;image/x-icon&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;nav class=&quot;navbar fixed-top navbar-expand-md navbar-light&quot;\r\n\t\tstyle=&quot;background-color: #f15c55&quot;&gt; &lt;span\r\n\t\tclass=&quot;navbar-brand mb-0 h1&quot;&gt;Store&lt;/span&gt;\r\n\t&lt;button type=&quot;button&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#navbarNav&quot;\r\n\t\tclass=&quot;navbar-toggler&quot; aria-controls=&quot;navbarNav&quot; aria-expanded=&quot;false&quot;\r\n\t\taria-label=&quot;Toggle Nav&quot;&gt;\r\n\t\t&lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\r\n\t&lt;/button&gt;\r\n\t&lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarNav&quot;&gt;\r\n\t\t&lt;ul class=&quot;navbar-nav&quot;&gt;\r\n\t\t\t&lt;li class=&quot;nav-item active&quot;&gt;&lt;a href=&quot;ProductLoaderServlet&quot;\r\n\t\t\t\tclass=&quot;nav-link&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;li class=&quot;nav-item active&quot;&gt;&lt;a href=&quot;product.html&quot;\r\n\t\t\t\tclass=&quot;nav-link&quot;&gt;Top Products&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;li class=&quot;nav-item active&quot;&gt;&lt;a href=&quot;cart.html&quot; class=&quot;nav-link&quot;&gt;&lt;i\r\n\t\t\t\t\tclass=&quot;fa-regular fa-cart-shopping&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\r\n\t\t&lt;/ul&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;/nav&gt;\r\n\t&lt;div class=&quot;image-overlay&quot;&gt;\r\n\t\t&lt;img src=&quot;scr/main/resources/Shop.jpg&quot; alt=&quot;&quot; /&gt;\r\n\t\t&lt;h1 class=&quot;centered&quot;&gt;Shop&lt;/h1&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;%\r\n\tArrayList&lt;Product&gt; products = (ArrayList) request.getAttribute(&quot;products&quot;);\r\n\tfor (Product product : products) {\r\n\t%&gt;\r\n\t&lt;div class=&quot;cards&quot;&gt;\r\n\t\t&lt;div class=&quot;card&quot; style=&quot;width: 18rem&quot;&gt;\r\n\t\t\t&lt;img class=&quot;card-img-top&quot; src=&quot;&lt;%product.getImgUrl();%&gt;&quot; alt=&quot;Image&quot; /&gt;\r\n\t\t\t&lt;div class=&quot;card-body&quot;&gt;\r\n\t\t\t\t&lt;h5 class=&quot;card-title&quot;&gt;\r\n\t\t\t\t\t&lt;%\r\n\t\t\t\t\tproduct.getName();\r\n\t\t\t\t\t%&gt;\r\n\t\t\t\t&lt;/h5&gt;\r\n\t\t\t\t&lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot;&gt;Details&lt;/a&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;%\r\n\t}\r\n\t%&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\nand this is what I see [My View][1]\r\n\r\nI assume that I am able to get the items because I can see 5 cards \r\n\r\nBut I want to know why my variables such as (name, or the image) aren&#39;t showing up\r\n\r\nMany Thanks for your help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OdGuI.jpg","title":"Items retrived form servlet are empty","body":"<p>I have this problem where I am trying to get items from an ArrayList from a servlet and display it to a JSP file but when I try to get the variables from the item in the ArrayList, they don't show up.</p>\n<p>Here is my JSP file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ page import=&quot;java.util.*&quot;%&gt;\n&lt;%@ page import=&quot;com.product.Product&quot;%&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;utf-8&quot; /&gt;\n&lt;meta name=&quot;viewport&quot;\n    content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot; /&gt;\n&lt;script src=&quot;https://kit.fontawesome.com/256fd9e75f.js&quot;\n    crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;link rel=&quot;stylesheet&quot;\n    href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css&quot;\n    integrity=&quot;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&quot;\n    crossorigin=&quot;anonymous&quot; /&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot; /&gt;\n&lt;title&gt;Home&lt;/title&gt;\n&lt;link rel=&quot;icon&quot; href=&quot;src/ShopLogo.png&quot; type=&quot;image/x-icon&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;nav class=&quot;navbar fixed-top navbar-expand-md navbar-light&quot;\n        style=&quot;background-color: #f15c55&quot;&gt; &lt;span\n        class=&quot;navbar-brand mb-0 h1&quot;&gt;Store&lt;/span&gt;\n    &lt;button type=&quot;button&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#navbarNav&quot;\n        class=&quot;navbar-toggler&quot; aria-controls=&quot;navbarNav&quot; aria-expanded=&quot;false&quot;\n        aria-label=&quot;Toggle Nav&quot;&gt;\n        &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\n    &lt;/button&gt;\n    &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarNav&quot;&gt;\n        &lt;ul class=&quot;navbar-nav&quot;&gt;\n            &lt;li class=&quot;nav-item active&quot;&gt;&lt;a href=&quot;ProductLoaderServlet&quot;\n                class=&quot;nav-link&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;nav-item active&quot;&gt;&lt;a href=&quot;product.html&quot;\n                class=&quot;nav-link&quot;&gt;Top Products&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;nav-item active&quot;&gt;&lt;a href=&quot;cart.html&quot; class=&quot;nav-link&quot;&gt;&lt;i\n                    class=&quot;fa-regular fa-cart-shopping&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n    &lt;/nav&gt;\n    &lt;div class=&quot;image-overlay&quot;&gt;\n        &lt;img src=&quot;scr/main/resources/Shop.jpg&quot; alt=&quot;&quot; /&gt;\n        &lt;h1 class=&quot;centered&quot;&gt;Shop&lt;/h1&gt;\n    &lt;/div&gt;\n    &lt;%\n    ArrayList&lt;Product&gt; products = (ArrayList) request.getAttribute(&quot;products&quot;);\n    for (Product product : products) {\n    %&gt;\n    &lt;div class=&quot;cards&quot;&gt;\n        &lt;div class=&quot;card&quot; style=&quot;width: 18rem&quot;&gt;\n            &lt;img class=&quot;card-img-top&quot; src=&quot;&lt;%product.getImgUrl();%&gt;&quot; alt=&quot;Image&quot; /&gt;\n            &lt;div class=&quot;card-body&quot;&gt;\n                &lt;h5 class=&quot;card-title&quot;&gt;\n                    &lt;%\n                    product.getName();\n                    %&gt;\n                &lt;/h5&gt;\n                &lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot;&gt;Details&lt;/a&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;%\n    }\n    %&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>and this is what I see <a href=\"https://i.stack.imgur.com/OdGuI.jpg\" rel=\"nofollow noreferrer\">My View</a></p>\n<p>I assume that I am able to get the items because I can see 5 cards</p>\n<p>But I want to know why my variables such as (name, or the image) aren't showing up</p>\n<p>Many Thanks for your help</p>\n"},{"tags":["java","mongodb","spring-boot","mongodb-atlas"],"comments":[{"owner":{"account_id":12086498,"reputation":58,"user_id":11673880,"display_name":"Ankit Dabhi"},"score":0,"creation_date":1669273599,"post_id":74553936,"comment_id":131608103,"body_markdown":"This may help your https://stackoverflow.com/questions/57367739/caused-by-com-mongodb-mongosocketreadexception-exception-receiving-message","body":"This may help your <a href=\"https://stackoverflow.com/questions/57367739/caused-by-com-mongodb-mongosocketreadexception-exception-receiving-message\" title=\"caused by com mongodb mongosocketreadexception exception receiving message\">stackoverflow.com/questions/57367739/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17601943,"reputation":91,"user_id":12771724,"display_name":"Enes Birisik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669277990,"creation_date":1669277990,"answer_id":74557613,"question_id":74553936,"body_markdown":"I would recommend you to - -&gt; set socketKeepAlive to true (which is by default true in the latest versions of the native driver) -&gt; set maxConnectionIdleTime &lt; net.ipv4.tcp_keepalive_time in this way your JVM would reap the connection and not the other way around.","title":"I cannot connect to mongo db atlas using spring boot","body":"<p>I would recommend you to - -&gt; set socketKeepAlive to true (which is by default true in the latest versions of the native driver) -&gt; set maxConnectionIdleTime &lt; net.ipv4.tcp_keepalive_time in this way your JVM would reap the connection and not the other way around.</p>\n"},{"tags":[],"owner":{"account_id":5451198,"reputation":29,"user_id":4335913,"display_name":"Layani NB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670929872,"creation_date":1670929872,"answer_id":74783908,"question_id":74553936,"body_markdown":"I had the same issue when I was connecting to the Atlas cluster through my local machine. I had to whitelist my IP address through the Atlas dashboard again. \r\n\r\n[Whitelist your current IP address in your mongo DB cluster][1]\r\n\r\nCheck &quot;Whitelist your current IP address in your mongo DB cluster&quot; in this article for more information. https://baraksaidoff.medium.com/fixing-mongoserverselectionerror-while-connecting-mongodb-with-node-js-213aaf0bf596 \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7S4W6.png","title":"I cannot connect to mongo db atlas using spring boot","body":"<p>I had the same issue when I was connecting to the Atlas cluster through my local machine. I had to whitelist my IP address through the Atlas dashboard again.</p>\n<p><a href=\"https://i.stack.imgur.com/7S4W6.png\" rel=\"nofollow noreferrer\">Whitelist your current IP address in your mongo DB cluster</a></p>\n<p>Check &quot;Whitelist your current IP address in your mongo DB cluster&quot; in this article for more information. <a href=\"https://baraksaidoff.medium.com/fixing-mongoserverselectionerror-while-connecting-mongodb-with-node-js-213aaf0bf596\" rel=\"nofollow noreferrer\">https://baraksaidoff.medium.com/fixing-mongoserverselectionerror-while-connecting-mongodb-with-node-js-213aaf0bf596</a></p>\n"}],"owner":{"account_id":20602362,"reputation":11,"user_id":15123399,"display_name":"oussama dariaoui"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1670929872,"creation_date":1669245284,"question_id":74553936,"body_markdown":"I have a spring microservice application linked with mongodb atlas database, yesterday my project works fine but today I&#39;m getting this error \r\n\r\n```java\r\n2022-11-24 00:29:33.267  INFO 5588 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-bl3jxj4-shard-00-02.wt2swod.mongodb.net:27017\r\n\r\ncom.mongodb.MongoSocketReadException: Exception receiving message\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:707) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:579) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:415) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:342) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:96) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:44) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:152) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\nCaused by: java.net.SocketException: Socket is closed\r\n\tat java.base/java.net.Socket.setSoTimeout(Socket.java:1154) ~[na:na]\r\n\tat java.base/sun.security.ssl.BaseSSLSocketImpl.setSoTimeout(BaseSSLSocketImpl.java:637) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.setSoTimeout(SSLSocketImpl.java:75) ~[na:na]\r\n\tat com.mongodb.internal.connection.SocketStream.read(SocketStream.java:133) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:718) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:576) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\t... 10 common frames omitted\r\n\r\n```\r\n\r\n\r\nhere is my application.properties file \r\n\r\n```java\r\nspring.data.mongodb.uri=mongodb+srv://denver:*****@product-service.wt2swod.mongodb.net/?retryWrites=true&amp;w=majority\r\nspring.data.mongodb.database=product-service\r\n\r\neureka.client.fetch-registry=true\r\neureka.client.service-url.defaultZone=http://localhost:8761/eureka\r\n\r\nspring.application.name=product-service\r\nserver.port=0\r\n```\r\n\r\n\r\n \r\n\r\n\r\nI tried to add those properties but never worked \r\n\r\n```\r\n@SpringBootApplication(exclude = {\r\n  MongoAutoConfiguration.class, \r\n  MongoDataAutoConfiguration.class\r\n})\r\n```\r\n\r\n","title":"I cannot connect to mongo db atlas using spring boot","body":"<p>I have a spring microservice application linked with mongodb atlas database, yesterday my project works fine but today I'm getting this error</p>\n<pre class=\"lang-java prettyprint-override\"><code>2022-11-24 00:29:33.267  INFO 5588 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-bl3jxj4-shard-00-02.wt2swod.mongodb.net:27017\n\ncom.mongodb.MongoSocketReadException: Exception receiving message\n    at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:707) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:579) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:415) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:342) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:96) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:44) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:152) ~[mongodb-driver-core-4.4.2.jar:na]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: java.net.SocketException: Socket is closed\n    at java.base/java.net.Socket.setSoTimeout(Socket.java:1154) ~[na:na]\n    at java.base/sun.security.ssl.BaseSSLSocketImpl.setSoTimeout(BaseSSLSocketImpl.java:637) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.setSoTimeout(SSLSocketImpl.java:75) ~[na:na]\n    at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:133) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:718) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:576) ~[mongodb-driver-core-4.4.2.jar:na]\n    ... 10 common frames omitted\n\n</code></pre>\n<p>here is my application.properties file</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring.data.mongodb.uri=mongodb+srv://denver:*****@product-service.wt2swod.mongodb.net/?retryWrites=true&amp;w=majority\nspring.data.mongodb.database=product-service\n\neureka.client.fetch-registry=true\neureka.client.service-url.defaultZone=http://localhost:8761/eureka\n\nspring.application.name=product-service\nserver.port=0\n</code></pre>\n<p>I tried to add those properties but never worked</p>\n<pre><code>@SpringBootApplication(exclude = {\n  MongoAutoConfiguration.class, \n  MongoDataAutoConfiguration.class\n})\n</code></pre>\n"},{"tags":["java","spring","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":7929708,"reputation":306,"user_id":5988021,"accept_rate":25,"display_name":"NeoChiri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1555067260,"creation_date":1555067260,"answer_id":55650276,"question_id":55646096,"body_markdown":"I finally fixed it by changing my `doAnswer().when()` code to this:\r\n\r\n     doAnswer((Answer&lt;Void&gt;) invocation -&gt; {\r\n\t\t\tObject[] arguments = invocation.getArguments();\r\n\t\t\tif(arguments != null &amp;&amp; arguments.length &gt; 1 &amp;&amp; arguments[0] != null &amp;&amp; arguments[1] != null){\r\n\t\t\t\tHolder&lt;String&gt; eCodCreated = (Holder&lt;String&gt;) arguments[1];\r\n\t\t\t\tHolder&lt;Integer&gt; eReturn = (Holder&lt;Integer&gt;) arguments[3];\r\n\t\t\t\tHolder&lt;String&gt; eSocCreated = (Holder&lt;String&gt;) arguments[4];\r\n\t\t\t\teReturn.value = 0;\r\n\t\t\t\teCodCreated.value = &quot;1239000&quot;;\r\n\t\t\t\teSocCreated.value = &quot;&quot;;\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t).when(altaProxy).zwebserAltaDeudores(Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any());\r\n\r\nI had to add another line of code after setting the &#180;Holder&#180; value I wanted so that it could set properly. ","title":"I cannot set value in a Holder&lt;Integer&gt; with Mockito","body":"<p>I finally fixed it by changing my <code>doAnswer().when()</code> code to this:</p>\n\n<pre><code> doAnswer((Answer&lt;Void&gt;) invocation -&gt; {\n        Object[] arguments = invocation.getArguments();\n        if(arguments != null &amp;&amp; arguments.length &gt; 1 &amp;&amp; arguments[0] != null &amp;&amp; arguments[1] != null){\n            Holder&lt;String&gt; eCodCreated = (Holder&lt;String&gt;) arguments[1];\n            Holder&lt;Integer&gt; eReturn = (Holder&lt;Integer&gt;) arguments[3];\n            Holder&lt;String&gt; eSocCreated = (Holder&lt;String&gt;) arguments[4];\n            eReturn.value = 0;\n            eCodCreated.value = \"1239000\";\n            eSocCreated.value = \"\";\n            }\n            return null;\n        }\n    ).when(altaProxy).zwebserAltaDeudores(Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any());\n</code></pre>\n\n<p>I had to add another line of code after setting the Holder value I wanted so that it could set properly. </p>\n"}],"owner":{"account_id":7929708,"reputation":306,"user_id":5988021,"accept_rate":25,"display_name":"NeoChiri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55650276,"answer_count":1,"score":0,"last_activity_date":1670929594,"creation_date":1555052212,"question_id":55646096,"body_markdown":"I am making unit tests for a service in my application. Inside this service there is a call to an external webservice (`SOAP`). The call to this webservice set values to different `Holder&lt;String&gt;` and `Holder&lt;Integer&gt;` I have send as parameter to this WS call.\r\n\r\nThis is my Service method:\r\n\r\n**CustomerServiceImpl**\r\n\r\n    @Override\r\n    public Customer createCustomer(Customer dto) {\r\n        \r\n        UserEkos userEkos = SecurityEkosUtils.getUserEkos();\r\n       \r\n        if (dto.getOrigen() != null &amp;&amp; dto.getOrigen().equalsIgnoreCase(DEL)) {\r\n            \r\n            Optional&lt;CustomerModel&gt; result = customerRepository.findById(dto.getId());\r\n            if (!result.isPresent()) {\r\n                log.error(&quot;[createCustomer] The central does exist in SAP &quot; + dto.getId());\r\n                throw new BusinessServiceException(Constants.FUNCTIONAL_ERROR, &quot; The central does exist in SAP &quot; + dto.getId());\r\n            }\r\n        } else if(dto.getOrigen() != null &amp;&amp; !dto.getOrigen().equalsIgnoreCase(DEL)) {\r\n            log.error(&quot;[createCustomer] Do not introduce an ID&quot;);\r\n            throw new BusinessServiceException(Constants.FUNCTIONAL_ERROR, &quot;Do not introduce an ID&quot;);\r\n        }\r\n\r\n        Zwcta293 zwcta293 = altaDeudoresMapper.dtoToZwcta293(dto);\r\n\r\n        Holder&lt;String&gt; eCodCreated = new Holder&lt;&gt;();\r\n        Holder&lt;String&gt; eMessage = new Holder&lt;&gt;();\r\n        Holder&lt;Integer&gt; eReturn = new Holder&lt;&gt;();\r\n        Holder&lt;String&gt; eSocCreated = new Holder&lt;&gt;();\r\n        Holder&lt;String&gt; eResidenceType = new Holder&lt;&gt;();\r\n\r\n        altaProxy.zwebserAltaDeudores(zwcta293, eCodCreated, eMessage, eReturn, eSocCreated, eResidenceType);\r\n\r\n        if (eReturn.value == 0) {\r\n            CustomerModel customerModel = CustomerMapper.dtoToDomain(dto);\r\n\r\n            customerModel.setId(eCodCreated.value);\r\n\r\n            if (dto.getSocieties() != null &amp;&amp; !dto.getSocieties().isEmpty()) {\r\n                CustomerSocietyModel customerSociety = new CustomerSocietyModel();\r\n                customerSociety.setCustomer(customerModel.getId());\r\n                customerSociety.setSociety(userEkos.getSociety());\r\n                customerModel.addCustomerSociety(customerSociety);\r\n            }\r\n\r\n            customerRepository.save(customerModel);\r\n        } else {\r\n            log.error(&quot;[createCustomer] Error SAP &quot; + eMessage.value);\r\n            throw new BusinessServiceException(Constants.FUNCTIONAL_ERROR, &quot;Error SAP &quot; + eMessage.value);\r\n        }\r\n\r\n        Customer customer = new Customer();\r\n        customer.setId(eCodCreated.value);\r\n        return customer;\r\n    }\r\n\r\nThis is my test method:\r\n\r\n**CustomerServiceTest**\r\n\r\n    @Test\r\n\tvoid createCustomerOKTest() throws Exception{\r\n\r\n\t\tHolder&lt;String&gt; eCodCreated = new Holder&lt;&gt;();\r\n        Holder&lt;String&gt; eMessage = new Holder&lt;&gt;();\r\n        Holder&lt;Integer&gt; eReturn = new Holder&lt;&gt;();\r\n        Holder&lt;String&gt; eSocCreated = new Holder&lt;&gt;();\r\n        Holder&lt;String&gt; eResidenceType = new Holder&lt;&gt;();\r\n\r\n\r\n\t\tCustomer customer = (Customer) UtilsTest.getFileJsonToFile(CUSTOMER_JSON, Customer.class);\r\n\t\tcustomer.setId(&quot;1239000&quot;);\r\n\t\tZwcta293 sapCustomer = (Zwcta293) UtilsTest.getFileJsonToFile(CUSTOMER_SAP_JSON, Zwcta293.class);\r\n\t\tCustomerModel customerModel = (CustomerModel) UtilsTest.getFileJsonToFile(CUSTOMER_MODEL, CustomerModel.class);\r\n\r\n\t\twhen(altaDeudoresMapper.dtoToZwcta293(any(Customer.class))).thenReturn(sapCustomer);\r\n\r\n\t\tdoAnswer(invoication -&gt; {\r\n\t\t\t\t\tHolder&lt;String&gt; eCodCreated1 = (Holder&lt;String&gt;) invoication.getArgument(1);\r\n\t\t\t\t\tHolder&lt;String&gt; eMessage1 = (Holder&lt;String&gt;) invoication.getArgument(2);\r\n\t\t\t\t\tHolder&lt;Integer&gt; eReturn1 = (Holder&lt;Integer&gt;) invoication.getArgument(3);\r\n\t\t\t\t\tHolder&lt;String&gt; eSocCreated1 = (Holder&lt;String&gt;) invoication.getArgument(4);\r\n\t\t\t\t\tHolder&lt;String&gt; eResidenceType1 = (Holder&lt;String&gt;) invoication.getArgument(5);\r\n\r\n\t\t\t\t\teReturn1.value = 1239000;\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}).when(altaProxy).zwebserAltaDeudores(sapCustomer, eCodCreated, eMessage, eReturn, eSocCreated, eResidenceType);\r\n\t\twhen(customerRepository.save(Mockito.any(CustomerModel.class))).thenReturn(customerModel);\r\n\r\n\t\tCustomer customerFinal = customerService.createCustomer(customer);\r\n\r\n\t\tassertSame(Integer.toString(1239000), customerFinal.getId());\r\n\t}\r\n\r\n\r\nWhen it reaches the line in the service `if(eRetorno.value == 0)` I get a `NullPointerException`\r\n\r\n    java.lang.NullPointerException\r\n\tat com.vocento.ekos.customer.service.CustomerServiceImpl.createCustomer(CustomerServiceImpl.java:83)\r\n\tat com.vocento.ekos.customer.service.CustomerServiceTest.createCustomerOKTest(CustomerServiceTest.java:131)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:532)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:171)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:167)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:114)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:59)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:108)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n\r\nI know why it returns `NullPointerException` but my problem is that I do not really know how to make it work. My service uses the Holder values inside the method to proceed further or not but I do not know any way to get this Holder value in my test or any way to mock them.\r\n\r\nI tried to set a value to the Holders I am passing as a parameter in the Unit Test but it did not work either. Also, I tried to mock the Holder to send them as parameters rather than passing a real object.","title":"I cannot set value in a Holder&lt;Integer&gt; with Mockito","body":"<p>I am making unit tests for a service in my application. Inside this service there is a call to an external webservice (<code>SOAP</code>). The call to this webservice set values to different <code>Holder&lt;String&gt;</code> and <code>Holder&lt;Integer&gt;</code> I have send as parameter to this WS call.</p>\n\n<p>This is my Service method:</p>\n\n<p><strong>CustomerServiceImpl</strong></p>\n\n<pre><code>@Override\npublic Customer createCustomer(Customer dto) {\n\n    UserEkos userEkos = SecurityEkosUtils.getUserEkos();\n\n    if (dto.getOrigen() != null &amp;&amp; dto.getOrigen().equalsIgnoreCase(DEL)) {\n\n        Optional&lt;CustomerModel&gt; result = customerRepository.findById(dto.getId());\n        if (!result.isPresent()) {\n            log.error(\"[createCustomer] The central does exist in SAP \" + dto.getId());\n            throw new BusinessServiceException(Constants.FUNCTIONAL_ERROR, \" The central does exist in SAP \" + dto.getId());\n        }\n    } else if(dto.getOrigen() != null &amp;&amp; !dto.getOrigen().equalsIgnoreCase(DEL)) {\n        log.error(\"[createCustomer] Do not introduce an ID\");\n        throw new BusinessServiceException(Constants.FUNCTIONAL_ERROR, \"Do not introduce an ID\");\n    }\n\n    Zwcta293 zwcta293 = altaDeudoresMapper.dtoToZwcta293(dto);\n\n    Holder&lt;String&gt; eCodCreated = new Holder&lt;&gt;();\n    Holder&lt;String&gt; eMessage = new Holder&lt;&gt;();\n    Holder&lt;Integer&gt; eReturn = new Holder&lt;&gt;();\n    Holder&lt;String&gt; eSocCreated = new Holder&lt;&gt;();\n    Holder&lt;String&gt; eResidenceType = new Holder&lt;&gt;();\n\n    altaProxy.zwebserAltaDeudores(zwcta293, eCodCreated, eMessage, eReturn, eSocCreated, eResidenceType);\n\n    if (eReturn.value == 0) {\n        CustomerModel customerModel = CustomerMapper.dtoToDomain(dto);\n\n        customerModel.setId(eCodCreated.value);\n\n        if (dto.getSocieties() != null &amp;&amp; !dto.getSocieties().isEmpty()) {\n            CustomerSocietyModel customerSociety = new CustomerSocietyModel();\n            customerSociety.setCustomer(customerModel.getId());\n            customerSociety.setSociety(userEkos.getSociety());\n            customerModel.addCustomerSociety(customerSociety);\n        }\n\n        customerRepository.save(customerModel);\n    } else {\n        log.error(\"[createCustomer] Error SAP \" + eMessage.value);\n        throw new BusinessServiceException(Constants.FUNCTIONAL_ERROR, \"Error SAP \" + eMessage.value);\n    }\n\n    Customer customer = new Customer();\n    customer.setId(eCodCreated.value);\n    return customer;\n}\n</code></pre>\n\n<p>This is my test method:</p>\n\n<p><strong>CustomerServiceTest</strong></p>\n\n<pre><code>@Test\nvoid createCustomerOKTest() throws Exception{\n\n    Holder&lt;String&gt; eCodCreated = new Holder&lt;&gt;();\n    Holder&lt;String&gt; eMessage = new Holder&lt;&gt;();\n    Holder&lt;Integer&gt; eReturn = new Holder&lt;&gt;();\n    Holder&lt;String&gt; eSocCreated = new Holder&lt;&gt;();\n    Holder&lt;String&gt; eResidenceType = new Holder&lt;&gt;();\n\n\n    Customer customer = (Customer) UtilsTest.getFileJsonToFile(CUSTOMER_JSON, Customer.class);\n    customer.setId(\"1239000\");\n    Zwcta293 sapCustomer = (Zwcta293) UtilsTest.getFileJsonToFile(CUSTOMER_SAP_JSON, Zwcta293.class);\n    CustomerModel customerModel = (CustomerModel) UtilsTest.getFileJsonToFile(CUSTOMER_MODEL, CustomerModel.class);\n\n    when(altaDeudoresMapper.dtoToZwcta293(any(Customer.class))).thenReturn(sapCustomer);\n\n    doAnswer(invoication -&gt; {\n                Holder&lt;String&gt; eCodCreated1 = (Holder&lt;String&gt;) invoication.getArgument(1);\n                Holder&lt;String&gt; eMessage1 = (Holder&lt;String&gt;) invoication.getArgument(2);\n                Holder&lt;Integer&gt; eReturn1 = (Holder&lt;Integer&gt;) invoication.getArgument(3);\n                Holder&lt;String&gt; eSocCreated1 = (Holder&lt;String&gt;) invoication.getArgument(4);\n                Holder&lt;String&gt; eResidenceType1 = (Holder&lt;String&gt;) invoication.getArgument(5);\n\n                eReturn1.value = 1239000;\n                return null;\n            }).when(altaProxy).zwebserAltaDeudores(sapCustomer, eCodCreated, eMessage, eReturn, eSocCreated, eResidenceType);\n    when(customerRepository.save(Mockito.any(CustomerModel.class))).thenReturn(customerModel);\n\n    Customer customerFinal = customerService.createCustomer(customer);\n\n    assertSame(Integer.toString(1239000), customerFinal.getId());\n}\n</code></pre>\n\n<p>When it reaches the line in the service <code>if(eRetorno.value == 0)</code> I get a <code>NullPointerException</code></p>\n\n<pre><code>java.lang.NullPointerException\nat com.vocento.ekos.customer.service.CustomerServiceImpl.createCustomer(CustomerServiceImpl.java:83)\nat com.vocento.ekos.customer.service.CustomerServiceTest.createCustomerOKTest(CustomerServiceTest.java:131)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:532)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:171)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:167)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:114)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:59)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:108)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\nat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\nat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n\n<p>I know why it returns <code>NullPointerException</code> but my problem is that I do not really know how to make it work. My service uses the Holder values inside the method to proceed further or not but I do not know any way to get this Holder value in my test or any way to mock them.</p>\n\n<p>I tried to set a value to the Holders I am passing as a parameter in the Unit Test but it did not work either. Also, I tried to mock the Holder to send them as parameters rather than passing a real object.</p>\n"},{"tags":["java","scala","versioning","decoding"],"owner":{"account_id":13311255,"reputation":179,"user_id":9609406,"display_name":"baron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670929491,"creation_date":1670907256,"question_id":74780129,"body_markdown":"I&#39;ve seen people use  &lt;/presence=&quot;optional&quot; sinceVersion=&quot;1&quot;/&gt; with the newly added fields in a SBE message.xml. \r\nIs there an example to show how exactly it&#39;s used?\r\nI&#39;m using uk.co.real_logic.sbe.SbeTool to generate the java decoder from the message.xml.\r\nBut once it&#39;s generated.\r\n 1. do you need to somehow make changes manually to the decoder to allow it be backward compatible. (I am only adding new fields at the end of the previous version).\r\n 2. when you decode the MsgObj.decode(sbeMsg), how do you make it backward compatible to work with both old version of message (lacking the new fields) and the new version of messages?","title":"How does sbe handle versioning?","body":"<p>I've seen people use  &lt;/presence=&quot;optional&quot; sinceVersion=&quot;1&quot;/&gt; with the newly added fields in a SBE message.xml.\nIs there an example to show how exactly it's used?\nI'm using uk.co.real_logic.sbe.SbeTool to generate the java decoder from the message.xml.\nBut once it's generated.</p>\n<ol>\n<li>do you need to somehow make changes manually to the decoder to allow it be backward compatible. (I am only adding new fields at the end of the previous version).</li>\n<li>when you decode the MsgObj.decode(sbeMsg), how do you make it backward compatible to work with both old version of message (lacking the new fields) and the new version of messages?</li>\n</ol>\n"},{"tags":["java","authentication","security","testing","jboss-arquillian"],"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670928877,"creation_date":1670928877,"question_id":74783700,"body_markdown":"Recently I changed authorization in my REST API from jwt to file-realm, and here comes problem. My IT test just stopped working. I was looking for solution but cant find anything. If anyone can help me fix it i will be grateful. Im using @DeclareRoles({&quot;admin&quot;, &quot;user&quot;}) in me &quot;extends&quot; application class and @RolesAllowed on all my endpoint. How shoudl i implement it to intergration tests with junit and arquillian?\r\n\r\n\r\n\r\n","title":"Junit integration tests with file realm authentication","body":"<p>Recently I changed authorization in my REST API from jwt to file-realm, and here comes problem. My IT test just stopped working. I was looking for solution but cant find anything. If anyone can help me fix it i will be grateful. Im using @DeclareRoles({&quot;admin&quot;, &quot;user&quot;}) in me &quot;extends&quot; application class and @RolesAllowed on all my endpoint. How shoudl i implement it to intergration tests with junit and arquillian?</p>\n"},{"tags":["java","hibernate","jpa","mapping","one-to-many"],"owner":{"account_id":7900713,"reputation":7937,"user_id":5967828,"accept_rate":65,"display_name":"xetra11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670928487,"creation_date":1670928487,"question_id":74783606,"body_markdown":"&#39;m trying to map a MutableList\\&lt;ArenaCombatHistory\\&gt; property in my Gladiator class using Hibernate, but I&#39;m getting the following exception:\r\n\r\n```\r\norg.hibernate.MappingException: Could not determine type for: java.util.List, at table: gladiator, for columns: [org.hibernate.mapping.Column(history)]\r\n```\r\n\r\nHere is my Gladiator class:\r\n\r\n```\r\n@Entity\r\n@Access(AccessType.PROPERTY)\r\nopen class Gladiator(\r\n    id: String = UUID.randomUUID().toString(),\r\n    name: String = &quot;Unnamed Gladiator&quot;,\r\n    status: String = &quot;free&quot;,\r\n    age: String = &quot;Infant&quot;,\r\n    nonPlayer: Boolean = true,\r\n    attributes: Attributes = Attributes(),\r\n    equipment: Equipment = Equipment(),\r\n    @OneToMany(cascade = [CascadeType.ALL], targetEntity = ArenaCombatHistory::class)\r\n    var history: MutableList&lt;ArenaCombatHistory&gt; = mutableListOf()\r\n) : Character(id, name, status, age, nonPlayer, attributes, equipment)\r\n```\r\n\r\nAnd here it&#39;s super classes:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;gamecharacter&quot;)\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\nopen class Character(\r\n    id: String = UUID.randomUUID().toString(),\r\n    var name: String = &quot;&quot;,\r\n    var status: String = &quot;&quot;,\r\n    var age: String = &quot;Infant&quot;,\r\n    var nonPlayer: Boolean = false,\r\n    @Embedded\r\n    var attributes: Attributes = Attributes(),\r\n    @OneToOne(cascade = [CascadeType.ALL])\r\n    var equipment: Equipment = Equipment()\r\n) : Actor(id)\r\n```\r\n\r\n```\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\nopen class Actor(\r\n    @Id\r\n    open val id: String = UUID.randomUUID().toString()\r\n)\r\n```\r\n\r\nI made my Gladiator class `open` and added `targetEntity = ArenaCombatHistory::class` the have an explicit class. However it did not help.","title":"Hibernate MappingException: Could not determine type for: java.util.List","body":"<p>'m trying to map a MutableList&lt;ArenaCombatHistory&gt; property in my Gladiator class using Hibernate, but I'm getting the following exception:</p>\n<pre><code>org.hibernate.MappingException: Could not determine type for: java.util.List, at table: gladiator, for columns: [org.hibernate.mapping.Column(history)]\n</code></pre>\n<p>Here is my Gladiator class:</p>\n<pre><code>@Entity\n@Access(AccessType.PROPERTY)\nopen class Gladiator(\n    id: String = UUID.randomUUID().toString(),\n    name: String = &quot;Unnamed Gladiator&quot;,\n    status: String = &quot;free&quot;,\n    age: String = &quot;Infant&quot;,\n    nonPlayer: Boolean = true,\n    attributes: Attributes = Attributes(),\n    equipment: Equipment = Equipment(),\n    @OneToMany(cascade = [CascadeType.ALL], targetEntity = ArenaCombatHistory::class)\n    var history: MutableList&lt;ArenaCombatHistory&gt; = mutableListOf()\n) : Character(id, name, status, age, nonPlayer, attributes, equipment)\n</code></pre>\n<p>And here it's super classes:</p>\n<pre><code>@Entity\n@Table(name = &quot;gamecharacter&quot;)\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\nopen class Character(\n    id: String = UUID.randomUUID().toString(),\n    var name: String = &quot;&quot;,\n    var status: String = &quot;&quot;,\n    var age: String = &quot;Infant&quot;,\n    var nonPlayer: Boolean = false,\n    @Embedded\n    var attributes: Attributes = Attributes(),\n    @OneToOne(cascade = [CascadeType.ALL])\n    var equipment: Equipment = Equipment()\n) : Actor(id)\n</code></pre>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\nopen class Actor(\n    @Id\n    open val id: String = UUID.randomUUID().toString()\n)\n</code></pre>\n<p>I made my Gladiator class <code>open</code> and added <code>targetEntity = ArenaCombatHistory::class</code> the have an explicit class. However it did not help.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670876476,"post_id":74776741,"comment_id":131970364,"body_markdown":"spring-boot 3?? -&gt; `javax.persistence` -&gt; `jakarta.persistence`","body":"spring-boot 3?? -&gt; <code>javax.persistence</code> -&gt; <code>jakarta.persistence</code>"},{"owner":{"account_id":22014851,"reputation":102,"user_id":16284523,"display_name":"Yaz Can Aslan"},"score":0,"creation_date":1670876583,"post_id":74776741,"comment_id":131970389,"body_markdown":"@xerx593 Can you clarify? The spring boot version is 3.0.0.","body":"@xerx593 Can you clarify? The spring boot version is 3.0.0."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1670876796,"post_id":74776741,"comment_id":131970456,"body_markdown":"please refactor *all* (text) occurences of `javax.persistence` (in your source files)with `jakarta.persistence`","body":"please refactor <i>all</i> (text) occurences of <code>javax.persistence</code> (in your source files)with <code>jakarta.persistence</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1670876879,"post_id":74776741,"comment_id":131970475,"body_markdown":"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes -&gt; https://github.com/spring-projects/spring-framework/wiki/What&#39;s-New-in-Spring-Framework-6.x -&gt; &quot;-Migration from javax to jakarta namespace for Servlet, JPA, etc.&quot;","body":"<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a> -&gt; <a href=\"https://github.com/spring-projects/spring-framework/wiki/What&#39;s-New-in-Spring-Framework-6.x\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/wiki/&hellip;</a> -&gt; &quot;-Migration from javax to jakarta namespace for Servlet, JPA, etc.&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670876932,"post_id":74776741,"comment_id":131970489,"body_markdown":"javax.validation -&gt; jakarta.validation (this looks already correct in your code;)","body":"javax.validation -&gt; jakarta.validation (this looks already correct in your code;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670876954,"post_id":74776741,"comment_id":131970493,"body_markdown":"javax.servlet -&gt; jakarta.servlet (!!!)","body":"javax.servlet -&gt; jakarta.servlet (!!!)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670877306,"post_id":74776741,"comment_id":131970609,"body_markdown":"... but (e.g.) *not* javax.naming .... and not (all of) `javax.xml` but (e.g./according to your classpath) `javax.xml.bind` -&gt; `jakarta.xml.bind`","body":"... but (e.g.) <i>not</i> javax.naming .... and not (all of) <code>javax.xml</code> but (e.g./according to your classpath) <code>javax.xml.bind</code> -&gt; <code>jakarta.xml.bind</code>"},{"owner":{"account_id":22014851,"reputation":102,"user_id":16284523,"display_name":"Yaz Can Aslan"},"score":1,"creation_date":1670877423,"post_id":74776741,"comment_id":131970654,"body_markdown":"@xerx593 I made the changes you recommended and the original issue is now fixed, thank you! Now I have other errors like &quot;org.hibernate.tool.schema.spi.CommandAcceptanceException&quot;, but they seem easier to solve.","body":"@xerx593 I made the changes you recommended and the original issue is now fixed, thank you! Now I have other errors like &quot;org.hibernate.tool.schema.spi.CommandAcceptanceException&quot;, but they seem easier to solve."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670877897,"post_id":74776741,"comment_id":131970813,"body_markdown":"today&#39;s dup: https://stackoverflow.com/q/74774096/592355 :)","body":"today&#39;s dup: <a href=\"https://stackoverflow.com/q/74774096/592355\">stackoverflow.com/q/74774096/592355</a> :)"}],"answers":[{"tags":[],"owner":{"account_id":22014851,"reputation":102,"user_id":16284523,"display_name":"Yaz Can Aslan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670928427,"creation_date":1670928427,"answer_id":74783595,"question_id":74776741,"body_markdown":"As @xerx593 recommended, changing all imports from `javax.persistance` to `jakarta.persistance` solved the issue.\r\n\r\n**Previous model class:**\r\n\r\n    package com.domain.example.model;\r\n    \r\n    import java.util.UUID;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import jakarta.validation.constraints.NotBlank;\r\n    import jakarta.validation.constraints.NotNull;\r\n    import lombok.Data;\r\n    // import lombok.RequiredArgsConstructor;\r\n    \r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;course&quot;)\r\n    // @RequiredArgsConstructor\r\n    public class Course {\r\n        // ... implementation ...\r\n    }\r\n\r\n**New model class:**\r\n\r\n    package com.domain.example.model;\r\n    \r\n    import java.util.UUID;\r\n    \r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import jakarta.validation.constraints.NotBlank;\r\n    import jakarta.validation.constraints.NotNull;\r\n    import lombok.Data;\r\n    // import lombok.RequiredArgsConstructor;\r\n    \r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;course&quot;)\r\n    // @RequiredArgsConstructor\r\n    public class Course {\r\n        // ... implementation ...\r\n    }","title":"Spring JPA, How can I resolve &quot;java.lang.IllegalArgumentException: Not a managed type&quot; error?","body":"<p>As @xerx593 recommended, changing all imports from <code>javax.persistance</code> to <code>jakarta.persistance</code> solved the issue.</p>\n<p><strong>Previous model class:</strong></p>\n<pre><code>package com.domain.example.model;\n\nimport java.util.UUID;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\nimport lombok.Data;\n// import lombok.RequiredArgsConstructor;\n\n@Entity\n@Data\n@Table(name = &quot;course&quot;)\n// @RequiredArgsConstructor\npublic class Course {\n    // ... implementation ...\n}\n</code></pre>\n<p><strong>New model class:</strong></p>\n<pre><code>package com.domain.example.model;\n\nimport java.util.UUID;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\nimport lombok.Data;\n// import lombok.RequiredArgsConstructor;\n\n@Entity\n@Data\n@Table(name = &quot;course&quot;)\n// @RequiredArgsConstructor\npublic class Course {\n    // ... implementation ...\n}\n</code></pre>\n"}],"owner":{"account_id":22014851,"reputation":102,"user_id":16284523,"display_name":"Yaz Can Aslan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74783595,"answer_count":1,"score":2,"last_activity_date":1670928427,"creation_date":1670875616,"question_id":74776741,"body_markdown":"I am trying to use JPA for a Java Spring Boot project. The related classes are given below. When I run the main method, I get the `java.lang.IllegalArgumentException: Not a managed type: class com.domain.example.model.Course` error multiple times, and the application crashes. I tried different configurations but none seem to work, as all of them result in the same issue. How can I resolve the `not a managed type` issue?\r\n\r\n**Main class:**\r\n\r\n    package com.domain.example;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    \r\n    // @Configuration\r\n    // @EnableAutoConfiguration// (exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\r\n    // @ComponentScan\r\n    @SpringBootApplication\r\n    // @EnableJpaRepositories\r\n    @EntityScan(basePackages = {&quot;com.domain.example.model&quot;})\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application .class, args);\r\n    \t}\r\n    }\r\n\r\n**Model class:**\r\n\r\n    package com.domain.example.model;\r\n    \r\n    import java.util.UUID;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import jakarta.validation.constraints.NotBlank;\r\n    import jakarta.validation.constraints.NotNull;\r\n    import lombok.Data;\r\n    // import lombok.RequiredArgsConstructor;\r\n    \r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;course&quot;)\r\n    // @RequiredArgsConstructor\r\n    public class Course {\r\n        @Id\r\n        @GeneratedValue(generator = &quot;UUID&quot;)\r\n        @Column(name = &quot;course_id&quot;)\r\n        private final UUID courseId;\r\n\r\n        @NotNull\r\n        @Column(name = &quot;code&quot;)\r\n        private final Long code;\r\n    \r\n        @NotBlank\r\n        @Column(name = &quot;name&quot;)\r\n        private final String name;\r\n    \r\n        public Course(\r\n            @JsonProperty(&quot;courseId&quot;) UUID courseId,\r\n            @JsonProperty(&quot;code&quot;) Long code,\r\n            @JsonProperty(&quot;name&quot;) String name\r\n        ) {\r\n            this.courseId = (courseId == null) ? UUID.randomUUID() : courseId;\r\n            this.code = code;\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n**The repository:**\r\n\r\n    package com.domain.example.repository;\r\n    \r\n    import java.util.List;\r\n    import java.util.UUID;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.domain.example.model.Course;\r\n    \r\n    @Repository\r\n    public interface ICourseRepository extends JpaRepository&lt;Course, UUID&gt; {\r\n        List&lt;Course&gt; findAllByCode(Long code); // temporary\r\n    }\r\n\r\n**The service:**\r\n\r\n    package com.domain.example.service;\r\n    \r\n    import java.util.List;\r\n    import org.springframework.stereotype.Service;\r\n    import com.domain.example.model.Course;\r\n    import com.domain.example.repository.ICourseRepository;\r\n    import lombok.RequiredArgsConstructor;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class CourseService implements ICourseService {\r\n    \r\n        private final ICourseRepository courseRepository;\r\n    \r\n        @Override\r\n        public boolean saveCourse(Course course) {\r\n            courseRepository.save(course);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Course&gt; getAllCourses() {\r\n            return courseRepository.findAll();\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Course&gt; getAllCoursesByCode(Long code) {\r\n            return courseRepository.findAllByCode(code);\r\n        }\r\n        \r\n    }\r\n\r\n**The error:**\r\n\r\n    java.lang.IllegalArgumentException: Not a managed type: class com.domain.example.model.Course","title":"Spring JPA, How can I resolve &quot;java.lang.IllegalArgumentException: Not a managed type&quot; error?","body":"<p>I am trying to use JPA for a Java Spring Boot project. The related classes are given below. When I run the main method, I get the <code>java.lang.IllegalArgumentException: Not a managed type: class com.domain.example.model.Course</code> error multiple times, and the application crashes. I tried different configurations but none seem to work, as all of them result in the same issue. How can I resolve the <code>not a managed type</code> issue?</p>\n<p><strong>Main class:</strong></p>\n<pre><code>package com.domain.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n// @Configuration\n// @EnableAutoConfiguration// (exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\n// @ComponentScan\n@SpringBootApplication\n// @EnableJpaRepositories\n@EntityScan(basePackages = {&quot;com.domain.example.model&quot;})\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application .class, args);\n    }\n}\n</code></pre>\n<p><strong>Model class:</strong></p>\n<pre><code>package com.domain.example.model;\n\nimport java.util.UUID;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\nimport lombok.Data;\n// import lombok.RequiredArgsConstructor;\n\n@Entity\n@Data\n@Table(name = &quot;course&quot;)\n// @RequiredArgsConstructor\npublic class Course {\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @Column(name = &quot;course_id&quot;)\n    private final UUID courseId;\n\n    @NotNull\n    @Column(name = &quot;code&quot;)\n    private final Long code;\n\n    @NotBlank\n    @Column(name = &quot;name&quot;)\n    private final String name;\n\n    public Course(\n        @JsonProperty(&quot;courseId&quot;) UUID courseId,\n        @JsonProperty(&quot;code&quot;) Long code,\n        @JsonProperty(&quot;name&quot;) String name\n    ) {\n        this.courseId = (courseId == null) ? UUID.randomUUID() : courseId;\n        this.code = code;\n        this.name = name;\n    }\n}\n</code></pre>\n<p><strong>The repository:</strong></p>\n<pre><code>package com.domain.example.repository;\n\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.domain.example.model.Course;\n\n@Repository\npublic interface ICourseRepository extends JpaRepository&lt;Course, UUID&gt; {\n    List&lt;Course&gt; findAllByCode(Long code); // temporary\n}\n</code></pre>\n<p><strong>The service:</strong></p>\n<pre><code>package com.domain.example.service;\n\nimport java.util.List;\nimport org.springframework.stereotype.Service;\nimport com.domain.example.model.Course;\nimport com.domain.example.repository.ICourseRepository;\nimport lombok.RequiredArgsConstructor;\n\n@Service\n@RequiredArgsConstructor\npublic class CourseService implements ICourseService {\n\n    private final ICourseRepository courseRepository;\n\n    @Override\n    public boolean saveCourse(Course course) {\n        courseRepository.save(course);\n        return true;\n    }\n\n    @Override\n    public List&lt;Course&gt; getAllCourses() {\n        return courseRepository.findAll();\n    }\n\n    @Override\n    public List&lt;Course&gt; getAllCoursesByCode(Long code) {\n        return courseRepository.findAllByCode(code);\n    }\n    \n}\n</code></pre>\n<p><strong>The error:</strong></p>\n<pre><code>java.lang.IllegalArgumentException: Not a managed type: class com.domain.example.model.Course\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1670932197,"post_id":74783448,"comment_id":131982685,"body_markdown":"Some project structure would help, is it a multi module maven/gradle project? Your single module can have appliction.properties or yml of its own which can define its database","body":"Some project structure would help, is it a multi module maven/gradle project? Your single module can have appliction.properties or yml of its own which can define its database"},{"owner":{"account_id":25910091,"reputation":31,"user_id":19634506,"display_name":"horsemanwithnoname"},"score":0,"creation_date":1670932458,"post_id":74783448,"comment_id":131982778,"body_markdown":"It&#39;s a multi module gradle project. Both the microservice and the imported modules have their own application.yml where the properties are defined. I believe some issues might also arise by the first yml file being overwritten by the second one, but I am not entirely sure.","body":"It&#39;s a multi module gradle project. Both the microservice and the imported modules have their own application.yml where the properties are defined. I believe some issues might also arise by the first yml file being overwritten by the second one, but I am not entirely sure."},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1670933813,"post_id":74783448,"comment_id":131983254,"body_markdown":"No in case of absence of yml in module, the parent yml comes in effect but higher priority is given to closest property defined","body":"No in case of absence of yml in module, the parent yml comes in effect but higher priority is given to closest property defined"}],"owner":{"account_id":25910091,"reputation":31,"user_id":19634506,"display_name":"horsemanwithnoname"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670927709,"creation_date":1670927709,"question_id":74783448,"body_markdown":"The situation is as follows.\r\nI have a microservice that imports a module. I want that module to be reusable by other microservices and to have it&#39;s own data source. \r\n\r\nI managed to do this by manually configuring the data source in the module (in a @Config glass), but if I want to import the module, I also have to manually configure my data source in each micro service and specify that it&#39;s the primary one.\r\n\r\nIs there any way to only configure the module&#39;s data base and to let spring do it&#39;s automatic config inside the microservices? Thanks, any help is appreaciated.","title":"Can I have multiple data sources in spring without specifying the primary one?","body":"<p>The situation is as follows.\nI have a microservice that imports a module. I want that module to be reusable by other microservices and to have it's own data source.</p>\n<p>I managed to do this by manually configuring the data source in the module (in a @Config glass), but if I want to import the module, I also have to manually configure my data source in each micro service and specify that it's the primary one.</p>\n<p>Is there any way to only configure the module's data base and to let spring do it's automatic config inside the microservices? Thanks, any help is appreaciated.</p>\n"},{"tags":["java","maven","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670927435,"creation_date":1670927051,"answer_id":74783317,"question_id":74783228,"body_markdown":"Most likely your company uses its own repository manager that serves as a cache: \r\n\r\n    com.trampoline.buddyto:tenant:jar:0.0.1-SNAPSHOT\r\n\r\nJenkins will try to download this dependency from the repository, but it can&#39;t find it.  \r\nSometimes these repositories will time limit the availability of snapshot versions in the repository (or disallow it in preprod / prod environment in case there is a different one for these environments).  \r\nAnd do note that snapshots don&#39;t belong in preprod / prod releases since you seem to be in charge of the deployments.  \r\n\r\nOf course &quot;it works on my pc&quot; applies here very much for developers, as maven will store this dependency in the local repository when it gets compiled locally. Possibly this dependency was never deployed to the repository.   \r\n","title":"error while building maven application. com.trampoline","body":"<p>Most likely your company uses its own repository manager that serves as a cache:</p>\n<pre><code>com.trampoline.buddyto:tenant:jar:0.0.1-SNAPSHOT\n</code></pre>\n<p>Jenkins will try to download this dependency from the repository, but it can't find it.<br />\nSometimes these repositories will time limit the availability of snapshot versions in the repository (or disallow it in preprod / prod environment in case there is a different one for these environments).<br />\nAnd do note that snapshots don't belong in preprod / prod releases since you seem to be in charge of the deployments.</p>\n<p>Of course &quot;it works on my pc&quot; applies here very much for developers, as maven will store this dependency in the local repository when it gets compiled locally. Possibly this dependency was never deployed to the repository.</p>\n"}],"owner":{"account_id":27093819,"reputation":85,"user_id":20641267,"display_name":"DarkDead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74783317,"answer_count":1,"score":0,"last_activity_date":1670927435,"creation_date":1670926595,"question_id":74783228,"body_markdown":"Here&#39;s my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.trampoline.buddyto&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;sample-service&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;sample-service&lt;/name&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;description&gt;sample-service&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;springfox-version&gt;2.7.0&lt;/springfox-version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-text --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.trampoline.buddyto&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tenant&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.trampoline.buddyto&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;domain&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.eclipse.jkube&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;kubernetes-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.10.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;dev&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;qa&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;spring.profiles.active&gt;qa&lt;/spring.profiles.active&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;qa2&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;spring.profiles.active&gt;qa2&lt;/spring.profiles.active&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;qa4&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;spring.profiles.active&gt;qa4&lt;/spring.profiles.active&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;prod&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;spring.profiles.active&gt;prod&lt;/spring.profiles.active&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nHere&#39;s the error I am getting: https://pastebin.com/raw/Qe4mqUCV\r\n\r\nI don&#39;t know what to do regarding this since I am not a java developer. I do know some basics though. I am tasked with building it and deploying it on Kubernetes using the maven-kubernetes-plugin and that&#39;s exactly what I did but it didn&#39;t work\r\nWould appreciate if someone could help me regarding this error.","title":"error while building maven application. com.trampoline","body":"<p>Here's my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.trampoline.buddyto&lt;/groupId&gt;\n    &lt;artifactId&gt;sample-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;sample-service&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;description&gt;sample-service&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;springfox-version&gt;2.7.0&lt;/springfox-version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-text --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.trampoline.buddyto&lt;/groupId&gt;\n            &lt;artifactId&gt;tenant&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.trampoline.buddyto&lt;/groupId&gt;\n            &lt;artifactId&gt;domain&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n            &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n            &lt;version&gt;2.11.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.jkube&lt;/groupId&gt;\n                &lt;artifactId&gt;kubernetes-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.10.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dev&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;qa&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;qa&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;qa2&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;qa2&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;qa4&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;qa4&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;prod&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here's the error I am getting: <a href=\"https://pastebin.com/raw/Qe4mqUCV\" rel=\"nofollow noreferrer\">https://pastebin.com/raw/Qe4mqUCV</a></p>\n<p>I don't know what to do regarding this since I am not a java developer. I do know some basics though. I am tasked with building it and deploying it on Kubernetes using the maven-kubernetes-plugin and that's exactly what I did but it didn't work\nWould appreciate if someone could help me regarding this error.</p>\n"},{"tags":["java","mapping","mapstruct"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":4,"creation_date":1670862027,"post_id":74774041,"comment_id":131965875,"body_markdown":"`Destination` has no setters, and its fields are final. How do you expect MapStruct to update instances?","body":"<code>Destination</code> has no setters, and its fields are final. How do you expect MapStruct to update instances?"},{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":0,"creation_date":1670864713,"post_id":74774041,"comment_id":131966843,"body_markdown":"@RobSpoor How does it create instances then?","body":"@RobSpoor How does it create instances then?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1670866414,"post_id":74774041,"comment_id":131967360,"body_markdown":"@ka3ak with the constructor","body":"@ka3ak with the constructor"}],"answers":[{"tags":[],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670927181,"creation_date":1670927181,"answer_id":74783338,"question_id":74774041,"body_markdown":"As it turned out, the problem was caused by executing the test from Intellij IDEA which probably didn&#39;t recompile/generate the code related to mapping. Executing `mvn clean compile` from the project root directory solved the issue.\r\n\r\nHowever the observations are still the same:\r\nTarget object creation works without setters in target object, update works only with setters in target object.","title":"MapStruct doesn&#39;t update existing target object","body":"<p>As it turned out, the problem was caused by executing the test from Intellij IDEA which probably didn't recompile/generate the code related to mapping. Executing <code>mvn clean compile</code> from the project root directory solved the issue.</p>\n<p>However the observations are still the same:\nTarget object creation works without setters in target object, update works only with setters in target object.</p>\n"}],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":722,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670927181,"creation_date":1670861515,"question_id":74774041,"body_markdown":"According to section &#39;3.6. Updating existing bean instances&#39; in https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances\r\nMapStruct can update an existing instance of target\r\n\r\nHowever I didn&#39;t manage to implement it. Below is my code:\r\n\r\n\r\n    public class Source {\r\n        private final String id;\r\n        private final String other;\r\n        Source(String id, String other) {\r\n            this.id = id;\r\n            this.other = other;\r\n        }\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getOther() {\r\n            return other;\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Destination {\r\n        private final String id;\r\n        private final String other;\r\n    \r\n        Destination(String id, String other) {\r\n            this.id = id;\r\n            this.other = other;\r\n        }\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getOther() {\r\n            return other;\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.MappingTarget;\r\n    import org.mapstruct.factory.Mappers;\r\n    \r\n    @Mapper\r\n    public interface Mapper {\r\n     \r\n        Mapper INSTANCE = Mappers.getMapper(Mapper.class );\r\n     \r\n        Destination createDestinationFromSource(Source source);\r\n        updateDestinationFromSource(Source source, @MappingTarget Destination destination);\r\n    \r\n    }\r\n    \r\n    @Test\r\n    void testMapStruct() {\r\n    \t\t// Create\r\n    \t\tvar source = new Source(&quot;sourceId&quot;, &quot;sourceOther&quot;);\r\n    \t\tvar destination1 = Mapper.INSTANCE.createDestinationFromSource(source);\r\n    \t\tAssertions.assertEquals(source.getId(), destination1.getId());\r\n    \r\n    \t\t// Update\r\n    \t\tvar destination2=new Destination(&quot;destinationId&quot;, &quot;destinationOther&quot;);\r\n    \t\tMapper.INSTANCE.updateDestinationFromSource(source, destination2);\r\n    \t\tAssertions.assertEquals(source.getId(), destination2.getId()); // Fails\r\n    }\r\n\r\nAs can be seen from the code above the creation of target object is successful, but update doesn&#39;t work.\r\n\r\nEven after I had removed the final-modifiers from the fields of `Destination` and `Source` and added setters to them the update didn&#39;t succeed.\r\n\r\nNot sure what I&#39;m missing.\r\n\r\nUsing:\r\n\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.5.2.Final&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.5.2.Final&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n\r\nand \r\n\r\n    openjdk 17 2021-09-14\r\n    OpenJDK Runtime Environment (build 17+35-2724)\r\n    OpenJDK 64-Bit Server VM (build 17+35-2724, mixed mode, sharing)","title":"MapStruct doesn&#39;t update existing target object","body":"<p>According to section '3.6. Updating existing bean instances' in <a href=\"https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances\" rel=\"nofollow noreferrer\">https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances</a>\nMapStruct can update an existing instance of target</p>\n<p>However I didn't manage to implement it. Below is my code:</p>\n<pre><code>public class Source {\n    private final String id;\n    private final String other;\n    Source(String id, String other) {\n        this.id = id;\n        this.other = other;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public String getOther() {\n        return other;\n    }\n}\n\n\npublic class Destination {\n    private final String id;\n    private final String other;\n\n    Destination(String id, String other) {\n        this.id = id;\n        this.other = other;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public String getOther() {\n        return other;\n    }\n\n}\n\n\nimport org.mapstruct.Mapper;\nimport org.mapstruct.MappingTarget;\nimport org.mapstruct.factory.Mappers;\n\n@Mapper\npublic interface Mapper {\n \n    Mapper INSTANCE = Mappers.getMapper(Mapper.class );\n \n    Destination createDestinationFromSource(Source source);\n    updateDestinationFromSource(Source source, @MappingTarget Destination destination);\n\n}\n\n@Test\nvoid testMapStruct() {\n        // Create\n        var source = new Source(&quot;sourceId&quot;, &quot;sourceOther&quot;);\n        var destination1 = Mapper.INSTANCE.createDestinationFromSource(source);\n        Assertions.assertEquals(source.getId(), destination1.getId());\n\n        // Update\n        var destination2=new Destination(&quot;destinationId&quot;, &quot;destinationOther&quot;);\n        Mapper.INSTANCE.updateDestinationFromSource(source, destination2);\n        Assertions.assertEquals(source.getId(), destination2.getId()); // Fails\n}\n</code></pre>\n<p>As can be seen from the code above the creation of target object is successful, but update doesn't work.</p>\n<p>Even after I had removed the final-modifiers from the fields of <code>Destination</code> and <code>Source</code> and added setters to them the update didn't succeed.</p>\n<p>Not sure what I'm missing.</p>\n<p>Using:</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n                &lt;version&gt;1.5.2.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;1.5.2.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>and</p>\n<pre><code>openjdk 17 2021-09-14\nOpenJDK Runtime Environment (build 17+35-2724)\nOpenJDK 64-Bit Server VM (build 17+35-2724, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","aws-lambda","json-deserialization","serverless"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1556612264,"post_id":55911827,"comment_id":98487556,"body_markdown":"If you log `input.getX()` and `input.getY()` do you get the expected values?","body":"If you log <code>input.getX()</code> and <code>input.getY()</code> do you get the expected values?"},{"owner":{"account_id":8527023,"reputation":72,"user_id":6392155,"display_name":"Kevin"},"score":0,"creation_date":1556612375,"post_id":55911827,"comment_id":98487621,"body_markdown":"Hello :) no, I also get 0.0","body":"Hello :) no, I also get 0.0"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1556612642,"post_id":55911827,"comment_id":98487767,"body_markdown":"I don&#39;t  see anything obviously wrong in there. How is the API Gateway configured? In particular the input handling. Is there a mapping template? I don&#39;t have Postman handy, so what format does it send requests with? (multipart form, plain text....)","body":"I don&#39;t  see anything obviously wrong in there. How is the API Gateway configured? In particular the input handling. Is there a mapping template? I don&#39;t have Postman handy, so what format does it send requests with? (multipart form, plain text....)"}],"owner":{"account_id":8527023,"reputation":72,"user_id":6392155,"display_name":"Kevin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670927001,"creation_date":1556578782,"question_id":55911827,"body_markdown":"I&#39;m using the serverless framework for writing a AWS lambda function in Java.\r\nMy handler class looks like this:\r\n\r\n    public class ConstructionHandler implements RequestHandler&lt;Location, \r\n    ApiGatewayResponse&gt; {\r\n\t\r\n\t    private static final Logger LOG = LogManager.getLogger(ConstructionHandler.class);\r\n\t\r\n\t    @Override\r\n\t    public ApiGatewayResponse handleRequest(Location input, Context context) {\r\n\t\t    ObjectMapper objectMapper = new ObjectMapper();\r\n\t\t    try {\r\n\t\t\t    String locationJson = objectMapper.writeValueAsString(input);\r\n\t\t\t    LOG.info(&quot;received: &quot; + locationJson);\r\n\t\t    } catch(Exception e) {\r\n\t\t\t    LOG.error(&quot;Exception occurred here: &quot; + e.getMessage());\r\n\t\t\t    e.printStackTrace();\r\n\t\t    }\r\n            // do something useful\r\n            // return response\r\n        }\r\n\r\n    }\r\n\r\nMy location object is a simple POJO described as the follwing:\r\n\r\n    public class Location {\r\n\r\n\t    private double x;\r\n\t\r\n\t    private double y;\r\n\t\r\n\t    public Location(double x, double y) {\r\n\t\t    this.x = x;\r\n\t\t    this.y = y;\r\n\t    }\r\n\t\r\n\t    public Location() {\r\n\t\t\r\n\t    }\r\n\r\n\t    public double getX() {\r\n\t\t    return x;\r\n\t    }\r\n\r\n\t    public void setX(double x) {\r\n\t\t    this.x = x;\r\n\t    }\r\n\r\n\t    public double getY() {\r\n\t\t    return y;\r\n\t    }\r\n\r\n\t    public void setY(double y) {\r\n\t\t    this.y = y;\r\n\t    }\r\n\t\r\n    }\r\n\r\n\r\nThe Lambda is configured in my serverless.yml like this:\r\n\r\n    functions:\r\n      construct:\r\n        handler: com.serverless.ConstructionHandler\r\n        events:\r\n          - http:\r\n             path: /construct\r\n             method: post\r\n\r\n\r\nI used the Postman chrome plugin for fireing a POST-Request to the lambda, after deploying to AWS with the following request body:\r\n\r\n{\r\n\t&quot;x&quot;: 3.0,\r\n\t&quot;y&quot;: 4.0\r\n}\r\n\r\nUnfortunately, if I go to Cloudwatch the logging says that the following object was deserialized:\r\n\r\n{&quot;x&quot;:0.0,&quot;y&quot;:0.0}\r\n\r\nDoes anybody know why the original values got lost?\r\nThanks in advance for any help!","title":"AWS lambda input data doesn&#39;t get deserialized","body":"<p>I'm using the serverless framework for writing a AWS lambda function in Java.\nMy handler class looks like this:</p>\n\n<pre><code>public class ConstructionHandler implements RequestHandler&lt;Location, \nApiGatewayResponse&gt; {\n\n    private static final Logger LOG = LogManager.getLogger(ConstructionHandler.class);\n\n    @Override\n    public ApiGatewayResponse handleRequest(Location input, Context context) {\n        ObjectMapper objectMapper = new ObjectMapper();\n        try {\n            String locationJson = objectMapper.writeValueAsString(input);\n            LOG.info(\"received: \" + locationJson);\n        } catch(Exception e) {\n            LOG.error(\"Exception occurred here: \" + e.getMessage());\n            e.printStackTrace();\n        }\n        // do something useful\n        // return response\n    }\n\n}\n</code></pre>\n\n<p>My location object is a simple POJO described as the follwing:</p>\n\n<pre><code>public class Location {\n\n    private double x;\n\n    private double y;\n\n    public Location(double x, double y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public Location() {\n\n    }\n\n    public double getX() {\n        return x;\n    }\n\n    public void setX(double x) {\n        this.x = x;\n    }\n\n    public double getY() {\n        return y;\n    }\n\n    public void setY(double y) {\n        this.y = y;\n    }\n\n}\n</code></pre>\n\n<p>The Lambda is configured in my serverless.yml like this:</p>\n\n<pre><code>functions:\n  construct:\n    handler: com.serverless.ConstructionHandler\n    events:\n      - http:\n         path: /construct\n         method: post\n</code></pre>\n\n<p>I used the Postman chrome plugin for fireing a POST-Request to the lambda, after deploying to AWS with the following request body:</p>\n\n<p>{\n    \"x\": 3.0,\n    \"y\": 4.0\n}</p>\n\n<p>Unfortunately, if I go to Cloudwatch the logging says that the following object was deserialized:</p>\n\n<p>{\"x\":0.0,\"y\":0.0}</p>\n\n<p>Does anybody know why the original values got lost?\nThanks in advance for any help!</p>\n"},{"tags":["java","reflection","aop"],"comments":[{"owner":{"account_id":114848,"reputation":134179,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":0,"creation_date":1292335270,"post_id":4439868,"comment_id":4847384,"body_markdown":"You might be able to do this by using a bytecode (dis)assembler to alter the visibility of the bytecode. Ugh, that&#39;s so nasty!","body":"You might be able to do this by using a bytecode (dis)assembler to alter the visibility of the bytecode. Ugh, that&#39;s so nasty!"},{"owner":{"account_id":1435959,"reputation":4869,"user_id":1357328,"accept_rate":55,"display_name":"mickeymoon"},"score":0,"creation_date":1349866503,"post_id":4439868,"comment_id":17336322,"body_markdown":"I think you should be able to do by using _AOP_&#39;s method interceptor and instead of delegating the call to normal `proceed()`, using reflection call the method creating the method instance for it and setting on it the `setAccessible()` as `true`","body":"I think you should be able to do by using <i>AOP</i>&#39;s method interceptor and instead of delegating the call to normal <code>proceed()</code>, using reflection call the method creating the method instance for it and setting on it the <code>setAccessible()</code> as <code>true</code>"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1292335134,"creation_date":1292335134,"answer_id":4439925,"question_id":4439868,"body_markdown":"&gt;Is it at all possible to &quot;override&quot; a private method of a super class in Java?\r\n\r\n**No**   \r\n\r\nI don&#39;t think using Reflection there would be a tweak , it will break `OOP` there","title":"Java Reflect/AOP override supertype private Method","body":"<blockquote>\n  <p>Is it at all possible to \"override\" a private method of a super class in Java?</p>\n</blockquote>\n\n<p><strong>No</strong>   </p>\n\n<p>I don't think using Reflection there would be a tweak , it will break <code>OOP</code> there</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1292336057,"creation_date":1292336057,"answer_id":4440051,"question_id":4439868,"body_markdown":"You do not have a legal way to do this. But I can suggest you the following solutions.\r\n\r\n 1. Do you really wish to override this method? Try to think about other solution.\r\n 2. Java checks access permissions during compilation only. Are you surprised? I was surprised very much to find out this fact. So you can create skeleton of the third party class (even with empty implementations.). The interesting method should be `protected` instead of `private`. Now write your subclass and compile it against your stub. Then package only your subclass and try to run it with the &quot;real&quot; class. It should work. I have not tried this trick with inheritance but I have tried it when I had to access private method or field and it worked fine for me. \r\n 3. Try to use dynamic proxy that wraps your class and changes its implementation. I do not know what are you doing exactly, so I am not sure you can really use this method. But I hope you can. If not go back to #1 or #2.","title":"Java Reflect/AOP override supertype private Method","body":"<p>You do not have a legal way to do this. But I can suggest you the following solutions.</p>\n\n<ol>\n<li>Do you really wish to override this method? Try to think about other solution.</li>\n<li>Java checks access permissions during compilation only. Are you surprised? I was surprised very much to find out this fact. So you can create skeleton of the third party class (even with empty implementations.). The interesting method should be <code>protected</code> instead of <code>private</code>. Now write your subclass and compile it against your stub. Then package only your subclass and try to run it with the \"real\" class. It should work. I have not tried this trick with inheritance but I have tried it when I had to access private method or field and it worked fine for me. </li>\n<li>Try to use dynamic proxy that wraps your class and changes its implementation. I do not know what are you doing exactly, so I am not sure you can really use this method. But I hope you can. If not go back to #1 or #2.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1388870,"reputation":261,"user_id":1320202,"display_name":"Ferhat Sobay"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1670926934,"creation_date":1350483197,"answer_id":12936340,"question_id":4439868,"body_markdown":"**YES**. You can do it with [AspectJ][1]. It is not a true override but result will be so.\r\n\r\nHere your super class;\r\n\r\n    public class MySuperClass {\r\n    \r\n        private void content(String text) {\r\n           System.out.print(&quot;I&#39;m super &quot; + text);\r\n        }\r\n        \r\n        public void echo() {\r\n           content(&quot;!&quot;);\r\n        }        \r\n    }\r\n\r\nCreate an interface which contains similar method;\r\n    \r\n    public interface Content {\r\n        void safeContent(String text);\r\n    }\r\n    \r\n\r\nCreate an aspect that forces super class to implement that interface and add an around adviser to call it.\r\n    \r\n    public privileged aspect SuperClassAspect {\r\n    \r\n        void around(MySuperClass obj)\r\n                : execution(* content(String)) &amp;&amp; target(obj) {\r\n    \r\n            Object[] args = thisJoinPoint.getArgs();\r\n            ((Content) obj).safeContent((String) args[0]);\r\n        }\r\n    \r\n        // compiler requires\r\n        public void MySuperClass.safeContent(String text) {}\r\n    \r\n    \r\n        declare parents :MySuperClass implements Content;\r\n    }\r\n    \r\nCreate your child class that extends super and implements that interface.    \r\n\r\n    public class Overrider extends MySuperClass implements Content {\r\n    \r\n        public void safeContent(String text) {\r\n        \tSystem.out.print(&quot;Not that super &quot; + text);\r\n        }\r\n    }\r\n\r\n\r\nNow if you construct a Overrider object and invoke echo method, you will have an output of Overriders safeContent&#39;s method.\r\n\r\n\r\n  [1]: https://www.eclipse.org/aspectj/","title":"Java Reflect/AOP override supertype private Method","body":"<p><strong>YES</strong>. You can do it with <a href=\"https://www.eclipse.org/aspectj/\" rel=\"nofollow noreferrer\">AspectJ</a>. It is not a true override but result will be so.</p>\n<p>Here your super class;</p>\n<pre><code>public class MySuperClass {\n\n    private void content(String text) {\n       System.out.print(&quot;I'm super &quot; + text);\n    }\n    \n    public void echo() {\n       content(&quot;!&quot;);\n    }        \n}\n</code></pre>\n<p>Create an interface which contains similar method;</p>\n<pre><code>public interface Content {\n    void safeContent(String text);\n}\n</code></pre>\n<p>Create an aspect that forces super class to implement that interface and add an around adviser to call it.</p>\n<pre><code>public privileged aspect SuperClassAspect {\n\n    void around(MySuperClass obj)\n            : execution(* content(String)) &amp;&amp; target(obj) {\n\n        Object[] args = thisJoinPoint.getArgs();\n        ((Content) obj).safeContent((String) args[0]);\n    }\n\n    // compiler requires\n    public void MySuperClass.safeContent(String text) {}\n\n\n    declare parents :MySuperClass implements Content;\n}\n</code></pre>\n<p>Create your child class that extends super and implements that interface.</p>\n<pre><code>public class Overrider extends MySuperClass implements Content {\n\n    public void safeContent(String text) {\n        System.out.print(&quot;Not that super &quot; + text);\n    }\n}\n</code></pre>\n<p>Now if you construct a Overrider object and invoke echo method, you will have an output of Overriders safeContent's method.</p>\n"},{"tags":[],"owner":{"account_id":4284138,"reputation":4484,"user_id":3502543,"accept_rate":79,"display_name":"Maksym"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1416226567,"creation_date":1416226567,"answer_id":26972540,"question_id":4439868,"body_markdown":"yes it&#39;s possible ,but you should not do it, because it contradicts one of the [SOLID][1] principles. More exactly it contradicts [Liskov substitution principle][2].\r\n\r\n&gt; Note:\r\n&gt; Let q(x) be a property provable about objects x of type T. Then q(y)\r\n&gt; should be provable for objects y of type S, where S is a subtype of T.\r\n\r\nSo in other words , private method is property of object, so your object of inherited type must have the same property. The same with throws for methods.\r\n\r\nJava restricts it because of it.\r\n\r\n[1]: http://en.wikipedia.org/wiki/SOLID_(object-oriented_design)\r\n  [2]: http://en.wikipedia.org/wiki/Liskov_substitution_principle","title":"Java Reflect/AOP override supertype private Method","body":"<p>yes it's possible ,but you should not do it, because it contradicts one of the <a href=\"http://en.wikipedia.org/wiki/SOLID_(object-oriented_design)\" rel=\"nofollow\">SOLID</a> principles. More exactly it contradicts <a href=\"http://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow\">Liskov substitution principle</a>.</p>\n\n<blockquote>\n  <p>Note:\n  Let q(x) be a property provable about objects x of type T. Then q(y)\n  should be provable for objects y of type S, where S is a subtype of T.</p>\n</blockquote>\n\n<p>So in other words , private method is property of object, so your object of inherited type must have the same property. The same with throws for methods.</p>\n\n<p>Java restricts it because of it.</p>\n"}],"owner":{"account_id":106062,"reputation":31478,"user_id":282706,"accept_rate":80,"display_name":"Finbarr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2250,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4439925,"answer_count":4,"score":4,"last_activity_date":1670926934,"creation_date":1292334823,"question_id":4439868,"body_markdown":"Is it at all possible to &quot;override&quot; a private method of a super class in Java?\r\n\r\nThe class whose method I wish to override is a third party class so I cannot modify the source. It would be ideal if there were some way to reflectively set a method on a class.\r\n\r\nAlternatively, if it is possible to intercept a private method of a third party class then this would be suitable.","title":"Java Reflect/AOP override supertype private Method","body":"<p>Is it at all possible to \"override\" a private method of a super class in Java?</p>\n\n<p>The class whose method I wish to override is a third party class so I cannot modify the source. It would be ideal if there were some way to reflectively set a method on a class.</p>\n\n<p>Alternatively, if it is possible to intercept a private method of a third party class then this would be suitable.</p>\n"},{"tags":["java","apache-kafka","apache-camel","paho","spring-camel"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670926506,"creation_date":1670926506,"answer_id":74783208,"question_id":74739610,"body_markdown":"You can override the *MQTT* topic using the `CamelPahoOverrideTopic` message header with a value being the *Kafka* topic accessed through the `kafka.TOPIC` message header:\r\n\r\n    from(&quot;kafka:foo?brokers=localhost:9092&quot;)\r\n        .setHeader(PahoConstants.CAMEL_PAHO_OVERRIDE_TOPIC, simple(&quot;${headers[kafka.TOPIC]&quot;))\r\n        .to(&quot;paho:#?brokerUrl=tcp://localhost:1883&quot;);\r\n\r\n","title":"Camel consumer route with input from another consumer route","body":"<p>You can override the <em>MQTT</em> topic using the <code>CamelPahoOverrideTopic</code> message header with a value being the <em>Kafka</em> topic accessed through the <code>kafka.TOPIC</code> message header:</p>\n<pre><code>from(&quot;kafka:foo?brokers=localhost:9092&quot;)\n    .setHeader(PahoConstants.CAMEL_PAHO_OVERRIDE_TOPIC, simple(&quot;${headers[kafka.TOPIC]&quot;))\n    .to(&quot;paho:#?brokerUrl=tcp://localhost:1883&quot;);\n</code></pre>\n"}],"owner":{"account_id":1569791,"reputation":287,"user_id":7562509,"accept_rate":25,"display_name":"slashron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670926526,"creation_date":1670567458,"question_id":74739610,"body_markdown":"I have a kafka consumer route from where I get some data.\r\n\r\n    from(&quot;Kafka:foo?brokers=localhost:9092&quot;)\r\n\r\nOnce I receive data from the consumer, use that data in the topic name for a paho mqtt consumer.\r\n\r\n    from(&quot;paho:#?brokerUrl=tcp://localhost:1883&quot;)\r\n\r\nI&#39;m not able to figure out how to set the dynamic header CamelMqttTopic, from first consumer, as both seems independent flows. I&#39;m using camel with Spring framework. Excuse me if my basic camel understanding is flawed. ","title":"Camel consumer route with input from another consumer route","body":"<p>I have a kafka consumer route from where I get some data.</p>\n<pre><code>from(&quot;Kafka:foo?brokers=localhost:9092&quot;)\n</code></pre>\n<p>Once I receive data from the consumer, use that data in the topic name for a paho mqtt consumer.</p>\n<pre><code>from(&quot;paho:#?brokerUrl=tcp://localhost:1883&quot;)\n</code></pre>\n<p>I'm not able to figure out how to set the dynamic header CamelMqttTopic, from first consumer, as both seems independent flows. I'm using camel with Spring framework. Excuse me if my basic camel understanding is flawed.</p>\n"},{"tags":["java","mongodb","spring-boot","log4j"],"comments":[{"owner":{"account_id":2919557,"reputation":7343,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"score":0,"creation_date":1641247651,"post_id":70569534,"comment_id":124752425,"body_markdown":"This is an extension of the other question that was asked.  Also:  where is the mongo driver core and sync dependency (4.2.3) in the pom?","body":"This is an extension of the other question that was asked.  Also:  where is the mongo driver core and sync dependency (4.2.3) in the pom?"},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1641277140,"post_id":70569534,"comment_id":124757208,"body_markdown":"@BuzzMoschetti Due to some compatible versions issues mongo driver core and sync dependency (4.2.3) are removed .But After adding mongo driver core and sync dependency also getting same exception .Could you please suggest to resolve the issue","body":"@BuzzMoschetti Due to some compatible versions issues mongo driver core and sync dependency (4.2.3) are removed .But After adding mongo driver core and sync dependency also getting same exception .Could you please suggest to resolve the issue"},{"owner":{"account_id":2638471,"reputation":25863,"user_id":2282634,"display_name":"Joe"},"score":0,"creation_date":1641288159,"post_id":70569534,"comment_id":124760180,"body_markdown":"A common cause for `Prematurely reached end of stream` is the connection was not using SSL/TLS, but the server was configure to require it, so it immediately closes the connection.","body":"A common cause for <code>Prematurely reached end of stream</code> is the connection was not using SSL/TLS, but the server was configure to require it, so it immediately closes the connection."},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1641288837,"post_id":70569534,"comment_id":124760449,"body_markdown":"@Joe I have set the TLS as  SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);  MongoClientSettings mcs = mops.  .applyToSslSettings(builder -&gt; {\n                        builder.enabled(true);\n                        builder.context(sslContext);\n\n                    })\nCan you please check the above syntax and suggest how to fix the issue","body":"@Joe I have set the TLS as  SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);  MongoClientSettings mcs = mops.  .applyToSslSettings(builder -&gt; {                         builder.enabled(true);                         builder.context(sslContext);                      }) Can you please check the above syntax and suggest how to fix the issue"},{"owner":{"account_id":11590874,"reputation":59,"user_id":8491283,"accept_rate":0,"display_name":"Jimil Shah"},"score":1,"creation_date":1655876414,"post_id":70569534,"comment_id":128432503,"body_markdown":"Hi @Rose, were you able to solve this issue? How did you configure mongodb connection over SSL/TLS with a certificate?","body":"Hi @Rose, were you able to solve this issue? How did you configure mongodb connection over SSL/TLS with a certificate?"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1606,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670926379,"creation_date":1641231707,"question_id":70569534,"body_markdown":"I am trying to upgrade to log4j with Spring Boot version 2.6.2. After upgrading I am not able to connect to MongoDB database getting below exception. And my Spring application properties looks like below. If any one would like to help for the solution, it would be greatly appreciated.\r\n\r\nUsing the configuration:\r\n\r\n```\r\nspring.data.mongodb.authentication-database=${MONGO_AUTH_DB}\r\nspring.data.mongodb.host=${MONGO_HOST}\r\nspring.data.mongodb.port=${MONGO_PORT}\r\nspring.data.mongodb.username=${MONGO_USER}\r\nspring.data.mongodb.password=${MONGO_PWD}\r\n```\r\n\r\nThe exception is thrown:\r\n\r\n```\r\ncom.mongodb.MongoSocketReadException: Exception receiving message\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:707) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:579) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:415) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:342) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:96) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:44) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:152) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_231]\r\nCaused by: java.net.SocketException: Connection reset\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:210) ~[na:1.8.0_231]\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141) ~[na:1.8.0_231]\r\n\tat com.mongodb.internal.connection.SocketStream.read(SocketStream.java:109) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.SocketStream.read(SocketStream.java:131) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:718) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:576) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\t... 10 common frames omitted\r\n```","title":"com.mongodb.MongoSocketReadException: Exception receiving message","body":"<p>I am trying to upgrade to log4j with Spring Boot version 2.6.2. After upgrading I am not able to connect to MongoDB database getting below exception. And my Spring application properties looks like below. If any one would like to help for the solution, it would be greatly appreciated.</p>\n<p>Using the configuration:</p>\n<pre><code>spring.data.mongodb.authentication-database=${MONGO_AUTH_DB}\nspring.data.mongodb.host=${MONGO_HOST}\nspring.data.mongodb.port=${MONGO_PORT}\nspring.data.mongodb.username=${MONGO_USER}\nspring.data.mongodb.password=${MONGO_PWD}\n</code></pre>\n<p>The exception is thrown:</p>\n<pre><code>com.mongodb.MongoSocketReadException: Exception receiving message\n    at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:707) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:579) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:415) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:342) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:96) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:44) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:152) ~[mongodb-driver-core-4.4.0.jar:na]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_231]\nCaused by: java.net.SocketException: Connection reset\n    at java.net.SocketInputStream.read(SocketInputStream.java:210) ~[na:1.8.0_231]\n    at java.net.SocketInputStream.read(SocketInputStream.java:141) ~[na:1.8.0_231]\n    at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:109) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:131) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:718) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:576) ~[mongodb-driver-core-4.4.0.jar:na]\n    ... 10 common frames omitted\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":298566,"reputation":537,"user_id":604656,"accept_rate":47,"display_name":"ashish.g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670926250,"creation_date":1670926250,"answer_id":74783143,"question_id":74782975,"body_markdown":"As a workaround, I tried creating a static non-bean copy of the Configuration Bean inside the class, copied the field value and used that static instance instead. \r\n\r\nThis worked but I am not sure if this can be considered a solution or just a hack! The downside I can see is someone can forget to edit the `init()` method at times there is a need to add a property.\r\n\r\n```\r\n@ConfigurationProperties(prefix = &quot;myprefix&quot;)\r\n@Configuration(&quot;configname&quot;)\r\n@Getter\r\n@Setter\r\npublic class ConfigDetails {\r\n\r\n    private String c1;\r\n\r\n    private String c2;\r\n\r\n    private String c3;\r\n\r\n    private static ConfigDetails staticConfigDetails;\r\n\r\n    @PostConstruct\r\n    public void init(){\r\n        staticConfigDetails = new ConfigDetails();\r\n        staticConfigDetails.setC1(this.c1);\r\n        ...\r\n        //set other properties\r\n        ....\r\n        \r\n    }\r\n\r\n    public static ConfigDetails getInstance(){\r\n        return staticConfigDetails;\r\n    }\r\n}","title":"How to send Spring Bean serialized as the body of a REST call using Web Client in a Java Spring boot application?","body":"<p>As a workaround, I tried creating a static non-bean copy of the Configuration Bean inside the class, copied the field value and used that static instance instead.</p>\n<p>This worked but I am not sure if this can be considered a solution or just a hack! The downside I can see is someone can forget to edit the <code>init()</code> method at times there is a need to add a property.</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;myprefix&quot;)\n@Configuration(&quot;configname&quot;)\n@Getter\n@Setter\npublic class ConfigDetails {\n\n    private String c1;\n\n    private String c2;\n\n    private String c3;\n\n    private static ConfigDetails staticConfigDetails;\n\n    @PostConstruct\n    public void init(){\n        staticConfigDetails = new ConfigDetails();\n        staticConfigDetails.setC1(this.c1);\n        ...\n        //set other properties\n        ....\n        \n    }\n\n    public static ConfigDetails getInstance(){\n        return staticConfigDetails;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":298566,"reputation":537,"user_id":604656,"accept_rate":47,"display_name":"ashish.g"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74783143,"answer_count":1,"score":0,"last_activity_date":1670926250,"creation_date":1670925558,"question_id":74782975,"body_markdown":"I need to make a REST call at regular intervals with same parameters every time, drawn from application properties. To avoid creating the request object every time, I want to use a Configuration Bean as request body which will be serialized to JSON.\r\n\r\nThe configuration bean looks like this:\r\n\r\n```\r\n@ConfigurationProperties(prefix = &quot;myprefix&quot;)\r\n@Configuration(&quot;configname&quot;)\r\n@Getter\r\n@Setter\r\npublic class ConfigDetails {\r\n\r\n    private String c1;\r\n\r\n    private String c2;\r\n\r\n    private String c3;\r\n}\r\n```\r\n\r\nAnd I inject this bean into the class calling the REST API with `@Autowired` annotation. On making the REST call, during serialization I get the following error: \r\n\r\n     No serializer found for class org.springframework.context.expression.StandardBeanExpressionResolver and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.ril.scm.node.data.PromiseEngineLoginDetails$$EnhancerBySpringCGLIB$$cad0a6e6[&quot;$$beanFactory&quot;]-&gt;org.springframework.beans.factory.support.DefaultListableBeanFactory[&quot;beanExpressionResolver&quot;])\r\n\r\nI am using a WebClient to make the call like below:\r\n\r\n```\r\nwebClient.post().body(Mono.just(configDetails), ConfigDetails.class)....\r\n\r\n```\r\n\r\n\r\n","title":"How to send Spring Bean serialized as the body of a REST call using Web Client in a Java Spring boot application?","body":"<p>I need to make a REST call at regular intervals with same parameters every time, drawn from application properties. To avoid creating the request object every time, I want to use a Configuration Bean as request body which will be serialized to JSON.</p>\n<p>The configuration bean looks like this:</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;myprefix&quot;)\n@Configuration(&quot;configname&quot;)\n@Getter\n@Setter\npublic class ConfigDetails {\n\n    private String c1;\n\n    private String c2;\n\n    private String c3;\n}\n</code></pre>\n<p>And I inject this bean into the class calling the REST API with <code>@Autowired</code> annotation. On making the REST call, during serialization I get the following error:</p>\n<pre><code> No serializer found for class org.springframework.context.expression.StandardBeanExpressionResolver and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.ril.scm.node.data.PromiseEngineLoginDetails$$EnhancerBySpringCGLIB$$cad0a6e6[&quot;$$beanFactory&quot;]-&gt;org.springframework.beans.factory.support.DefaultListableBeanFactory[&quot;beanExpressionResolver&quot;])\n</code></pre>\n<p>I am using a WebClient to make the call like below:</p>\n<pre><code>webClient.post().body(Mono.just(configDetails), ConfigDetails.class)....\n\n</code></pre>\n"},{"tags":["java","html","date","filtering","multipleselection"],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670926178,"creation_date":1670926178,"answer_id":74783121,"question_id":74782857,"body_markdown":"java.time\r\n--\r\n\r\nThe ***java.util*** date-time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html).\r\n\r\nSolution using java.time, the modern date-time API\r\n--\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.temporal.WeekFields;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            String weekDay = &quot;01-02&quot;;\r\n            String[] parts = weekDay.split(&quot;-&quot;);\r\n            int week = Integer.parseInt(parts[0]);\r\n            int day = Integer.parseInt(parts[1]);\r\n    \r\n            WeekFields weekFields = WeekFields.of(Locale.US);\r\n\r\n            LocalDate date = LocalDate.now()\r\n                    .withYear(2023) // Replace 2023 with Year.now().getValue() for the current year\r\n                    .with(weekFields.weekOfYear(), week)\r\n                    .with(weekFields.dayOfWeek(), day);\r\n            System.out.println(date);\r\n        }\r\n    }\r\n**Output**:\r\n\r\n    2023-01-02\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**. ","title":"How to convert the multiple number of weeks( 1st jan = 1, 25th dec = 52) number into start date &amp; end date to filter jsp report java 7?","body":"<h2>java.time</h2>\n<p>The <em><strong>java.util</strong></em> date-time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a>.</p>\n<h2>Solution using java.time, the modern date-time API</h2>\n<pre><code>import java.time.LocalDate;\nimport java.time.temporal.WeekFields;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String args[]) {\n        String weekDay = &quot;01-02&quot;;\n        String[] parts = weekDay.split(&quot;-&quot;);\n        int week = Integer.parseInt(parts[0]);\n        int day = Integer.parseInt(parts[1]);\n\n        WeekFields weekFields = WeekFields.of(Locale.US);\n\n        LocalDate date = LocalDate.now()\n                .withYear(2023) // Replace 2023 with Year.now().getValue() for the current year\n                .with(weekFields.weekOfYear(), week)\n                .with(weekFields.dayOfWeek(), day);\n        System.out.println(date);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2023-01-02\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":21148207,"reputation":13,"user_id":15549079,"display_name":"khairun aqilah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670926178,"creation_date":1670924990,"question_id":74782857,"body_markdown":"in need of guidance on how to change the values of the first dates of each option as shown in [the UI of the multiple select of weekly first dates](https://i.stack.imgur.com/3bidh.png). Each date contains the value of the week&#39;s number [value contains in each option](https://i.stack.imgur.com/IG5EJ.png). The intended use is to allow users to select multiple first dates and then choose a year, after that they click the search button. I tried experimenting with Dates.getTotalDaysInMonth and Dates.getWeekStartDate but it got errors which i will elaborate below:\r\n\r\ninside the report.jsp:\r\n\r\n```\r\nout.println(&quot;&lt;div class=&#39;grid_3&#39; id=&#39;hidden_div&#39; style=&#39;display:none;&#39;&gt;&quot;);\r\n\tout.println(&quot;&lt;p&gt;&quot;);\r\n\t\r\n\tout.println(&quot;&lt;select name=&#39;weekStart&#39; id= &#39;weekStart&#39; style=&#39;width:150px;&#39; multiple=&#39;multiple&#39; &gt;&quot;);\r\n\t\r\n\tString weekDates[]={&quot;01-02&quot;,&quot;01-09&quot;,&quot;01-16&quot;,&quot;01-23&quot;,&quot;01-30&quot;,&quot;02-06&quot;,&quot;02-13&quot;,&quot;02-20&quot;,&quot;02-27&quot;,\r\n\t\t\t&quot;03-06&quot;,&quot;03-13&quot;,&quot;03-20&quot;,&quot;03-27&quot;,&quot;04-03&quot;,&quot;04-10&quot;,&quot;04-17&quot;,&quot;04-24&quot;,&quot;05-01&quot;,&quot;05-08&quot;,\r\n\t\t\t&quot;05-15&quot;,&quot;05-22&quot;,&quot;05-29&quot;,&quot;06-05&quot;,&quot;06-12&quot;,&quot;06-19&quot;,&quot;06-26&quot;,&quot;07-03&quot;,&quot;07-10&quot;,&quot;07-17&quot;,&quot;07-24&quot;,\r\n\t\t\t&quot;07-31&quot;,&quot;08-07&quot;,&quot;08-14&quot;,&quot;08-21&quot;,&quot;08-28&quot;,&quot;09-04&quot;,&quot;09-11&quot;,&quot;09-18&quot;,&quot;09-25&quot;,&quot;10-02&quot;,&quot;10-09&quot;,&quot;10-16&quot;,\r\n\t\t\t&quot;10-23&quot;,&quot;10-30&quot;,&quot;11-06&quot;,&quot;11-13&quot;,&quot;11-20&quot;,&quot;11-27&quot;,&quot;12-04&quot;,&quot;12-11&quot;,&quot;12-18&quot;,&quot;12-25&quot;};\r\n\tint numWeeksPerMth[] = {5, 4, 4, 4, 5,4, 4, 5, 4, 5, 4, 4};\r\n// \tint numOfWeek[]= {&quot;Jan1&quot;, &quot;Jan2&quot;, &quot;Jan3&quot;, &quot;Jan4&quot;, &quot;Jan5&quot;, &quot;Feb6&quot;, &quot;Feb7&quot;, &quot;Feb8&quot;, &quot;Feb9&quot;, &quot;Mar10&quot;, &quot;Mar11&quot;, &quot;Mar12&quot;, &quot;Mar13&quot;, &quot;Apr14&quot;, &quot;Apr15&quot;, &quot;Apr16&quot;, &quot;Apr17&quot;,\r\n// \t                 &quot;May18&quot;, &quot;May19&quot;, &quot;May20&quot;, &quot;May21&quot;, &quot;May22&quot;, &quot;Jun23&quot;, &quot;Jun24&quot;, &quot;Jun25&quot;, &quot;Jun26&quot;, &quot;Jul27&quot;, &quot;Jul28&quot;, &quot;Jul29&quot;, &quot;Jul30&quot;,\r\n// \t                 &quot;Aug31&quot;, &quot;Aug32&quot;, &quot;Aug33&quot;, &quot;Aug34&quot;, &quot;Aug35&quot;, &quot;Sep36&quot;, &quot;Sep37&quot;, &quot;Sep38&quot;, &quot;Sep39&quot;, &quot;Oct40&quot;, &quot;Oct41&quot;, &quot;Oct42&quot;, &quot;Oct43&quot;, &quot;Oct44&quot;,\r\n// \t                 &quot;Nov45&quot;, &quot;Nov46&quot;, &quot;Nov47&quot;, &quot;Nov48&quot;, &quot;Dec49&quot;, &quot;Dec50&quot;, &quot;Dec51&quot;, &quot;Dec52&quot;};\r\n\tString weekNum[]= {&quot;Jan1&quot;, &quot;Jan2&quot;, &quot;Jan3&quot;, &quot;Jan4&quot;, &quot;Jan5&quot;, &quot;Feb6&quot;, &quot;Feb7&quot;, &quot;Feb8&quot;, &quot;Feb9&quot;, &quot;Mar10&quot;, &quot;Mar11&quot;, &quot;Mar12&quot;, &quot;Mar13&quot;, &quot;Apr14&quot;, &quot;Apr15&quot;, &quot;Apr16&quot;, &quot;Apr17&quot;,\r\n\t                 &quot;May18&quot;, &quot;May19&quot;, &quot;May20&quot;, &quot;May21&quot;, &quot;May22&quot;, &quot;Jun23&quot;, &quot;Jun24&quot;, &quot;Jun25&quot;, &quot;Jun26&quot;, &quot;Jul27&quot;, &quot;Jul28&quot;, &quot;Jul29&quot;, &quot;Jul30&quot;,\r\n\t                 &quot;Aug31&quot;, &quot;Aug32&quot;, &quot;Aug33&quot;, &quot;Aug34&quot;, &quot;Aug35&quot;, &quot;Sep36&quot;, &quot;Sep37&quot;, &quot;Sep38&quot;, &quot;Sep39&quot;, &quot;Oct40&quot;, &quot;Oct41&quot;, &quot;Oct42&quot;, &quot;Oct43&quot;, &quot;Oct44&quot;,\r\n\t                 &quot;Nov45&quot;, &quot;Nov46&quot;, &quot;Nov47&quot;, &quot;Nov48&quot;, &quot;Dec49&quot;, &quot;Dec50&quot;, &quot;Dec51&quot;, &quot;Dec52&quot;};\r\n\tfor (int k = 1; k &lt; weekNum.length; k++){\r\n\t\tout.println(&quot;&lt;option value =&quot; +k+&quot;&gt;&quot;+weekDates[k]+&quot;&lt;/option&gt;&quot;);\r\n\t\t\r\n\t}\r\n\tout.println(&quot;&lt;/select&gt;&quot;);\r\n\tout.println(&quot;&lt;/p&gt;&quot;);\r\n \tout.println(&quot;&lt;p&gt;&quot;);\r\n\tout.println(&quot;&lt;label&gt;Year&lt;/label&gt;&quot;);\r\n// \t\t\t\t\t\t\t\tout.println(&quot;&lt;td&gt;&quot;);\r\n\t\t\t\t\t\t\t\t out.println(&quot;&lt;select name=&#39;year&#39; id=&#39;year&#39; class=&#39;mediumSelect&#39;&gt;&quot;);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tString currentYear = Dates.getTimeStamp(&quot;yyyy&quot;);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tfor(int years=2020;years&lt;(Integer.parseInt(currentYear)+5);years++) {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif(Integer.parseInt(currentYear) == years){\r\n\t\t\t\t\t\t\t\t\t\tout.println(&quot;&lt;option value=&#39;&quot;+years+&quot;&#39; selected&gt;&quot;+ years +&quot;&lt;/option&gt;&quot;);\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tout.println(&quot;&lt;option value=&#39;&quot;+years+&quot;&#39;&gt;&quot;+ years +&quot;&lt;/option&gt;&quot;);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\tout.println(&quot;&lt;/select&gt;&quot;);\r\n// \tout.println(&quot;&lt;/td&gt;&quot;);\r\n\tout.println(&quot;&lt;/p&gt;&quot;);\r\n\tout.println(&quot;&lt;/div&gt;&quot;);\r\n\r\n```\r\n\r\n```\r\n//this is in the action page(report_act.jsp)\r\nif(!monthStart.equals(&quot;&quot;)){\r\n\t\tfor(int t=1;t&lt;(totalMonth);t++){\r\n\t\t\r\n\t\tstartDate=&quot;&quot;+monthStart+&quot;-01&quot;;\r\n\t\tint totalDays = Dates.getTotalDaysInMonth(monthEnd+&quot;-&quot;+t+&quot;-01&quot;);\r\n\t\tendDate=&quot;&quot;+monthEnd+&quot;-&quot;+totalDays;\r\n\t\t}\r\n\t\tresponse.sendRedirect(&quot;&quot;+namePage+&quot;.jsp?millId=&quot;+millId+&quot;&amp;stationStatus=&quot;+stationStatus+&quot;&amp;inspectorId=&quot;+inspectorId+&quot;&amp;roundIdList=&quot;+roundIdList+&quot;&amp;reportType=&quot;+reportType+&quot;&amp;jobPosition=&quot;+jobPosition+&quot;&amp;scheduleId=&quot;+scheduleId+&quot;&amp;filterType=&quot;+filterType+&quot;&amp;monthStart=&quot;+monthStart+&quot;&amp;monthEnd=&quot;+monthEnd+&quot;&amp;startDate=&quot;+startDate+&quot;&amp;endDate=&quot;+endDate+&quot;&amp;roundId=&quot;+roundId+&quot;&amp;stationId=&quot;+stationId+&quot;&amp;sequenceId=&quot;+sequenceId+&quot;&amp;pageNo=&quot;+pageNo+&quot;&quot;);\r\n\t}\r\n\t\r\n\telse{\r\n\t\tfor(int t=1;t&lt;=(totalWeek);t++){\r\n\t\t\t\r\n\t\t\tstartDate= year+&quot;-&quot;+weekStart;\r\n\t\t\t//String weekDate = Dates.getDayOfWeek(weekStart+&quot;-&quot;+t);\r\n\t\t\t//endDate= year+&quot;-&quot;+weekStart+&quot;-&quot;+weekDate;\r\n\t\t\tLogFunction.loginfo(Dates.getDayOfWeek(weekStart+&quot;-&quot;+t));\r\n\t\t\t}\r\n\t\t\r\n\t\t\tresponse.sendRedirect(&quot;&quot;+namePage+&quot;.jsp?millId=&quot;+millId+&quot;&amp;stationStatus=&quot;+stationStatus+&quot;&amp;inspectorId=&quot;+inspectorId+&quot;&amp;roundIdList=&quot;+roundIdList+&quot;&amp;reportType=&quot;+reportType+&quot;&amp;jobPosition=&quot;+jobPosition+&quot;&amp;scheduleId=&quot;+scheduleId+&quot;&amp;filterType=&quot;+filterType+&quot;&amp;weekStart=&quot;+weekStart+&quot;&amp;startDate=&quot;+startDate+&quot;&amp;endDate=&quot;+endDate+&quot;&amp;roundId=&quot;+roundId+&quot;&amp;stationId=&quot;+stationId+&quot;&amp;sequenceId=&quot;+sequenceId+&quot;&amp;pageNo=&quot;+pageNo+&quot;&quot;);\r\n\t\t}\r\n// the method i used in Dates.java\r\n public static String getDayOfWeek(String dateString) {\r\n    // for GMT+8:00\r\n      //gets date plus or minus x months\r\n      java.util.Date date=new java.util.Date();\r\n      SimpleDateFormat df=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n      try{\r\n        date=df.parse(dateString);\r\n      }catch(Exception e){}\r\n\r\n      Calendar calendar = Calendar.getInstance();\r\n      calendar.setTime(date);\r\n      String datestr = Integer.toString(calendar.get(Calendar.DAY_OF_WEEK));\r\n     // calendar.add(Calendar.MONTH,x);\r\n     // df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n     // String datestr = df.format(calendar.getTime());\r\n\r\n    return datestr;\r\n  }\r\n```","title":"How to convert the multiple number of weeks( 1st jan = 1, 25th dec = 52) number into start date &amp; end date to filter jsp report java 7?","body":"<p>in need of guidance on how to change the values of the first dates of each option as shown in <a href=\"https://i.stack.imgur.com/3bidh.png\" rel=\"nofollow noreferrer\">the UI of the multiple select of weekly first dates</a>. Each date contains the value of the week's number <a href=\"https://i.stack.imgur.com/IG5EJ.png\" rel=\"nofollow noreferrer\">value contains in each option</a>. The intended use is to allow users to select multiple first dates and then choose a year, after that they click the search button. I tried experimenting with Dates.getTotalDaysInMonth and Dates.getWeekStartDate but it got errors which i will elaborate below:</p>\n<p>inside the report.jsp:</p>\n<pre><code>out.println(&quot;&lt;div class='grid_3' id='hidden_div' style='display:none;'&gt;&quot;);\n    out.println(&quot;&lt;p&gt;&quot;);\n    \n    out.println(&quot;&lt;select name='weekStart' id= 'weekStart' style='width:150px;' multiple='multiple' &gt;&quot;);\n    \n    String weekDates[]={&quot;01-02&quot;,&quot;01-09&quot;,&quot;01-16&quot;,&quot;01-23&quot;,&quot;01-30&quot;,&quot;02-06&quot;,&quot;02-13&quot;,&quot;02-20&quot;,&quot;02-27&quot;,\n            &quot;03-06&quot;,&quot;03-13&quot;,&quot;03-20&quot;,&quot;03-27&quot;,&quot;04-03&quot;,&quot;04-10&quot;,&quot;04-17&quot;,&quot;04-24&quot;,&quot;05-01&quot;,&quot;05-08&quot;,\n            &quot;05-15&quot;,&quot;05-22&quot;,&quot;05-29&quot;,&quot;06-05&quot;,&quot;06-12&quot;,&quot;06-19&quot;,&quot;06-26&quot;,&quot;07-03&quot;,&quot;07-10&quot;,&quot;07-17&quot;,&quot;07-24&quot;,\n            &quot;07-31&quot;,&quot;08-07&quot;,&quot;08-14&quot;,&quot;08-21&quot;,&quot;08-28&quot;,&quot;09-04&quot;,&quot;09-11&quot;,&quot;09-18&quot;,&quot;09-25&quot;,&quot;10-02&quot;,&quot;10-09&quot;,&quot;10-16&quot;,\n            &quot;10-23&quot;,&quot;10-30&quot;,&quot;11-06&quot;,&quot;11-13&quot;,&quot;11-20&quot;,&quot;11-27&quot;,&quot;12-04&quot;,&quot;12-11&quot;,&quot;12-18&quot;,&quot;12-25&quot;};\n    int numWeeksPerMth[] = {5, 4, 4, 4, 5,4, 4, 5, 4, 5, 4, 4};\n//  int numOfWeek[]= {&quot;Jan1&quot;, &quot;Jan2&quot;, &quot;Jan3&quot;, &quot;Jan4&quot;, &quot;Jan5&quot;, &quot;Feb6&quot;, &quot;Feb7&quot;, &quot;Feb8&quot;, &quot;Feb9&quot;, &quot;Mar10&quot;, &quot;Mar11&quot;, &quot;Mar12&quot;, &quot;Mar13&quot;, &quot;Apr14&quot;, &quot;Apr15&quot;, &quot;Apr16&quot;, &quot;Apr17&quot;,\n//                   &quot;May18&quot;, &quot;May19&quot;, &quot;May20&quot;, &quot;May21&quot;, &quot;May22&quot;, &quot;Jun23&quot;, &quot;Jun24&quot;, &quot;Jun25&quot;, &quot;Jun26&quot;, &quot;Jul27&quot;, &quot;Jul28&quot;, &quot;Jul29&quot;, &quot;Jul30&quot;,\n//                   &quot;Aug31&quot;, &quot;Aug32&quot;, &quot;Aug33&quot;, &quot;Aug34&quot;, &quot;Aug35&quot;, &quot;Sep36&quot;, &quot;Sep37&quot;, &quot;Sep38&quot;, &quot;Sep39&quot;, &quot;Oct40&quot;, &quot;Oct41&quot;, &quot;Oct42&quot;, &quot;Oct43&quot;, &quot;Oct44&quot;,\n//                   &quot;Nov45&quot;, &quot;Nov46&quot;, &quot;Nov47&quot;, &quot;Nov48&quot;, &quot;Dec49&quot;, &quot;Dec50&quot;, &quot;Dec51&quot;, &quot;Dec52&quot;};\n    String weekNum[]= {&quot;Jan1&quot;, &quot;Jan2&quot;, &quot;Jan3&quot;, &quot;Jan4&quot;, &quot;Jan5&quot;, &quot;Feb6&quot;, &quot;Feb7&quot;, &quot;Feb8&quot;, &quot;Feb9&quot;, &quot;Mar10&quot;, &quot;Mar11&quot;, &quot;Mar12&quot;, &quot;Mar13&quot;, &quot;Apr14&quot;, &quot;Apr15&quot;, &quot;Apr16&quot;, &quot;Apr17&quot;,\n                     &quot;May18&quot;, &quot;May19&quot;, &quot;May20&quot;, &quot;May21&quot;, &quot;May22&quot;, &quot;Jun23&quot;, &quot;Jun24&quot;, &quot;Jun25&quot;, &quot;Jun26&quot;, &quot;Jul27&quot;, &quot;Jul28&quot;, &quot;Jul29&quot;, &quot;Jul30&quot;,\n                     &quot;Aug31&quot;, &quot;Aug32&quot;, &quot;Aug33&quot;, &quot;Aug34&quot;, &quot;Aug35&quot;, &quot;Sep36&quot;, &quot;Sep37&quot;, &quot;Sep38&quot;, &quot;Sep39&quot;, &quot;Oct40&quot;, &quot;Oct41&quot;, &quot;Oct42&quot;, &quot;Oct43&quot;, &quot;Oct44&quot;,\n                     &quot;Nov45&quot;, &quot;Nov46&quot;, &quot;Nov47&quot;, &quot;Nov48&quot;, &quot;Dec49&quot;, &quot;Dec50&quot;, &quot;Dec51&quot;, &quot;Dec52&quot;};\n    for (int k = 1; k &lt; weekNum.length; k++){\n        out.println(&quot;&lt;option value =&quot; +k+&quot;&gt;&quot;+weekDates[k]+&quot;&lt;/option&gt;&quot;);\n        \n    }\n    out.println(&quot;&lt;/select&gt;&quot;);\n    out.println(&quot;&lt;/p&gt;&quot;);\n    out.println(&quot;&lt;p&gt;&quot;);\n    out.println(&quot;&lt;label&gt;Year&lt;/label&gt;&quot;);\n//                              out.println(&quot;&lt;td&gt;&quot;);\n                                 out.println(&quot;&lt;select name='year' id='year' class='mediumSelect'&gt;&quot;);\n                                \n                                String currentYear = Dates.getTimeStamp(&quot;yyyy&quot;);\n                            \n                                for(int years=2020;years&lt;(Integer.parseInt(currentYear)+5);years++) {\n                                    \n                                    if(Integer.parseInt(currentYear) == years){\n                                        out.println(&quot;&lt;option value='&quot;+years+&quot;' selected&gt;&quot;+ years +&quot;&lt;/option&gt;&quot;);\n                                    }else{\n                                        out.println(&quot;&lt;option value='&quot;+years+&quot;'&gt;&quot;+ years +&quot;&lt;/option&gt;&quot;);\n                                    }\n                                    }\n                                \n    out.println(&quot;&lt;/select&gt;&quot;);\n//  out.println(&quot;&lt;/td&gt;&quot;);\n    out.println(&quot;&lt;/p&gt;&quot;);\n    out.println(&quot;&lt;/div&gt;&quot;);\n\n</code></pre>\n<pre><code>//this is in the action page(report_act.jsp)\nif(!monthStart.equals(&quot;&quot;)){\n        for(int t=1;t&lt;(totalMonth);t++){\n        \n        startDate=&quot;&quot;+monthStart+&quot;-01&quot;;\n        int totalDays = Dates.getTotalDaysInMonth(monthEnd+&quot;-&quot;+t+&quot;-01&quot;);\n        endDate=&quot;&quot;+monthEnd+&quot;-&quot;+totalDays;\n        }\n        response.sendRedirect(&quot;&quot;+namePage+&quot;.jsp?millId=&quot;+millId+&quot;&amp;stationStatus=&quot;+stationStatus+&quot;&amp;inspectorId=&quot;+inspectorId+&quot;&amp;roundIdList=&quot;+roundIdList+&quot;&amp;reportType=&quot;+reportType+&quot;&amp;jobPosition=&quot;+jobPosition+&quot;&amp;scheduleId=&quot;+scheduleId+&quot;&amp;filterType=&quot;+filterType+&quot;&amp;monthStart=&quot;+monthStart+&quot;&amp;monthEnd=&quot;+monthEnd+&quot;&amp;startDate=&quot;+startDate+&quot;&amp;endDate=&quot;+endDate+&quot;&amp;roundId=&quot;+roundId+&quot;&amp;stationId=&quot;+stationId+&quot;&amp;sequenceId=&quot;+sequenceId+&quot;&amp;pageNo=&quot;+pageNo+&quot;&quot;);\n    }\n    \n    else{\n        for(int t=1;t&lt;=(totalWeek);t++){\n            \n            startDate= year+&quot;-&quot;+weekStart;\n            //String weekDate = Dates.getDayOfWeek(weekStart+&quot;-&quot;+t);\n            //endDate= year+&quot;-&quot;+weekStart+&quot;-&quot;+weekDate;\n            LogFunction.loginfo(Dates.getDayOfWeek(weekStart+&quot;-&quot;+t));\n            }\n        \n            response.sendRedirect(&quot;&quot;+namePage+&quot;.jsp?millId=&quot;+millId+&quot;&amp;stationStatus=&quot;+stationStatus+&quot;&amp;inspectorId=&quot;+inspectorId+&quot;&amp;roundIdList=&quot;+roundIdList+&quot;&amp;reportType=&quot;+reportType+&quot;&amp;jobPosition=&quot;+jobPosition+&quot;&amp;scheduleId=&quot;+scheduleId+&quot;&amp;filterType=&quot;+filterType+&quot;&amp;weekStart=&quot;+weekStart+&quot;&amp;startDate=&quot;+startDate+&quot;&amp;endDate=&quot;+endDate+&quot;&amp;roundId=&quot;+roundId+&quot;&amp;stationId=&quot;+stationId+&quot;&amp;sequenceId=&quot;+sequenceId+&quot;&amp;pageNo=&quot;+pageNo+&quot;&quot;);\n        }\n// the method i used in Dates.java\n public static String getDayOfWeek(String dateString) {\n    // for GMT+8:00\n      //gets date plus or minus x months\n      java.util.Date date=new java.util.Date();\n      SimpleDateFormat df=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n      try{\n        date=df.parse(dateString);\n      }catch(Exception e){}\n\n      Calendar calendar = Calendar.getInstance();\n      calendar.setTime(date);\n      String datestr = Integer.toString(calendar.get(Calendar.DAY_OF_WEEK));\n     // calendar.add(Calendar.MONTH,x);\n     // df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n     // String datestr = df.format(calendar.getTime());\n\n    return datestr;\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","jdbc","spring-jdbc"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1670860291,"post_id":74772500,"comment_id":131965216,"body_markdown":"What is the error message?  The compiler will help you fix this faster than SO will.","body":"What is the error message?  The compiler will help you fix this faster than SO will."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670861524,"creation_date":1670861524,"answer_id":74774044,"question_id":74772500,"body_markdown":"Here&#39;s how I think it should be coded.  No compiler errors, according to IntelliJ:\r\n\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    \r\n    import javax.sql.DataSource;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class ContatoDao {\r\n    \r\n        private static final String SELECT_ALL = &quot;select * from CONTATO&quot;;\r\n    \r\n        private final JdbcTemplate jdbcTemplate;\r\n    \r\n        public ContatoDao(DataSource ds) {\r\n            this.jdbcTemplate = new JdbcTemplate(ds);\r\n        }\r\n    \r\n        public List&lt;Contato&gt; findAll() {\r\n            return this.jdbcTemplate.query(SELECT_ALL, rs -&gt; {\r\n                List&lt;Contato&gt; result = new ArrayList&lt;&gt;();\r\n                while (rs.next()) {\r\n                    Contato e = new Contato();\r\n                    e.setId(rs.getLong(1));\r\n                    e.setNome(rs.getString(2));\r\n                    e.setEmail(rs.getString(3));\r\n                    e.setTelefone(rs.getNString(4));\r\n                    result.add(e);\r\n                }\r\n                return result;\r\n            });\r\n        }\r\n    }\r\n\r\nI would change that SELECT statement so it spells out the column names instead of the star notation.  I&#39;d use the column names in the result extraction instead of column numbers.  \r\n","title":"As ResultSetExtractor to implement SpringBoot","body":"<p>Here's how I think it should be coded.  No compiler errors, according to IntelliJ:</p>\n<pre><code>import org.springframework.jdbc.core.JdbcTemplate;\n\nimport javax.sql.DataSource;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ContatoDao {\n\n    private static final String SELECT_ALL = &quot;select * from CONTATO&quot;;\n\n    private final JdbcTemplate jdbcTemplate;\n\n    public ContatoDao(DataSource ds) {\n        this.jdbcTemplate = new JdbcTemplate(ds);\n    }\n\n    public List&lt;Contato&gt; findAll() {\n        return this.jdbcTemplate.query(SELECT_ALL, rs -&gt; {\n            List&lt;Contato&gt; result = new ArrayList&lt;&gt;();\n            while (rs.next()) {\n                Contato e = new Contato();\n                e.setId(rs.getLong(1));\n                e.setNome(rs.getString(2));\n                e.setEmail(rs.getString(3));\n                e.setTelefone(rs.getNString(4));\n                result.add(e);\n            }\n            return result;\n        });\n    }\n}\n</code></pre>\n<p>I would change that SELECT statement so it spells out the column names instead of the star notation.  I'd use the column names in the result extraction instead of column numbers.</p>\n"}],"owner":{"account_id":26460747,"reputation":63,"user_id":20114912,"display_name":"Paulo Cesar Pereira da costa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1670926050,"creation_date":1670854795,"question_id":74772500,"body_markdown":"I&#39;m trying to create a ResultSetExtractor class but, I&#39;m not succeeding in it. The class is not compiling and I don&#39;t know why.\r\n\r\n```\r\nimport org.springframework.dao.DataAccessException;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.jdbc.core.ResultSetExtractor;\r\n\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ContatoDao {\r\n    private JdbcTemplate template;\r\n\r\n    public List&lt;Contato&gt; setTemplate(JdbcTemplate template) {\r\n        this.template = template;\r\n\r\n        List&lt;Contato&gt; getAllContatoes;\r\n        {\r\n            return template.query(&quot;select * from CONTATO&quot;, new ResultSetExtractor&lt;List&lt;Contato&gt;&gt;() {\r\n\r\n                @Override\r\n                public List&lt;Contato&gt; extractData(ResultSet rs) throws SQLException,\r\n                        DataAccessException {\r\n                    List&lt;Contato&gt; list = new ArrayList&lt;Contato&gt;();\r\n                    while (rs.next()) {\r\n                        Contato e = new Contato();\r\n                        e.setId(rs.getLong(1));\r\n                        e.setNome(rs.getString(2));\r\n                        e.setEmail(rs.getString(2));\r\n                        e.setTelefone(rs.getNString(2));\r\n                    }\r\n                    return list;\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHow do I make the right syntax for the ResultSetExtractor\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"As ResultSetExtractor to implement SpringBoot","body":"<p>I'm trying to create a ResultSetExtractor class but, I'm not succeeding in it. The class is not compiling and I don't know why.</p>\n<pre><code>import org.springframework.dao.DataAccessException;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.core.ResultSetExtractor;\n\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ContatoDao {\n    private JdbcTemplate template;\n\n    public List&lt;Contato&gt; setTemplate(JdbcTemplate template) {\n        this.template = template;\n\n        List&lt;Contato&gt; getAllContatoes;\n        {\n            return template.query(&quot;select * from CONTATO&quot;, new ResultSetExtractor&lt;List&lt;Contato&gt;&gt;() {\n\n                @Override\n                public List&lt;Contato&gt; extractData(ResultSet rs) throws SQLException,\n                        DataAccessException {\n                    List&lt;Contato&gt; list = new ArrayList&lt;Contato&gt;();\n                    while (rs.next()) {\n                        Contato e = new Contato();\n                        e.setId(rs.getLong(1));\n                        e.setNome(rs.getString(2));\n                        e.setEmail(rs.getString(2));\n                        e.setTelefone(rs.getNString(2));\n                    }\n                    return list;\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>How do I make the right syntax for the ResultSetExtractor</p>\n"},{"tags":["java","spring","spring-boot","stomp","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670925911,"creation_date":1670925911,"answer_id":74783052,"question_id":74772566,"body_markdown":"You should alter your application design so that clients would be only able to send messages to their respective *STOMP* destinations. You can name your *STOMP* destinations in a client-specific prefixed way such as:\r\n\r\n    /endpoint1/request\r\n    /endpoint2/request\r\n\r\nYou should then be able to define different `@MessageMapping`-annotated message handlers after the above naming pattern:\r\n\r\n    @Controller\r\n    public class WebSocketController {\r\n    \r\n        @MessageMapping(&quot;/endpoint1/request&quot;)\r\n        @SendToUser(&quot;/endpoint1/queue/response&quot;)\r\n        public MyResponse handleClient1Message(MyRequest request) {\r\n          // process STOMP message from client 1\r\n        }\r\n    \r\n        @MessageMapping(&quot;/endpoint2/request&quot;)\r\n        @SendToUser(&quot;/endpoint2/queue/response&quot;)\r\n        public MyResponse handleClient2Message(MyRequest request) {\r\n          // process STOMP message from client 2\r\n        }\r\n    }","title":"Is it possible to have different controllers for each stomp endpoint in Spring Boot?","body":"<p>You should alter your application design so that clients would be only able to send messages to their respective <em>STOMP</em> destinations. You can name your <em>STOMP</em> destinations in a client-specific prefixed way such as:</p>\n<pre><code>/endpoint1/request\n/endpoint2/request\n</code></pre>\n<p>You should then be able to define different <code>@MessageMapping</code>-annotated message handlers after the above naming pattern:</p>\n<pre><code>@Controller\npublic class WebSocketController {\n\n    @MessageMapping(&quot;/endpoint1/request&quot;)\n    @SendToUser(&quot;/endpoint1/queue/response&quot;)\n    public MyResponse handleClient1Message(MyRequest request) {\n      // process STOMP message from client 1\n    }\n\n    @MessageMapping(&quot;/endpoint2/request&quot;)\n    @SendToUser(&quot;/endpoint2/queue/response&quot;)\n    public MyResponse handleClient2Message(MyRequest request) {\n      // process STOMP message from client 2\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11011098,"reputation":23,"user_id":8088441,"display_name":"Martin Biller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74783052,"answer_count":1,"score":2,"last_activity_date":1670925934,"creation_date":1670855123,"question_id":74772566,"body_markdown":"Is it possible to assign different Controller or at least a different MessageMapping for each of the stomp endpoints?\r\nMy goal is to have client1 connecting to /endpoint1 and client2 connecting to /endpoint2 without client1 being able to access any topics/queues of /endpoint2 and vice-versa (they are completely different applications).\r\nSo they would be completely encapsulated implementations based on the endpoint to which they connect.\r\n\r\nBonus points for being able to use different Jackson ObjectMapper for each endpoint as well.\r\n\r\n\r\nSo far I have created a websocket configuration with 2 endpoints (/endpoint1 and /endpoint2):\r\n``` java\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\r\n   @Override\r\n   public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n      registry.addEndpoint(&quot;/endpoint1&quot;, &quot;/endpoint2&quot;)\r\n              .setAllowedOriginPatterns(&quot;*&quot;)\r\n              .withSockJS();\r\n   }\r\n\r\n   // etc...\r\n\r\n}\r\n```\r\n\r\nI also have a Controller which can process requests and send them to appropriate user response queue, but it&#39;s accessible from both endpoints:\r\n``` java\r\n@Controller\r\npublic class WebSocketController {\r\n   @MessageMapping(&quot;/request&quot;)\r\n   @SendToUser(&quot;/queue/response&quot;)\r\n   public MyResponse handleMessage(MyRequest request) {\r\n      // implementation\r\n   }\r\n}\r\n```\r\n**Current behaviour:**\r\nIt doesn&#39;t matter which endpoint is my client connecting to in my current implementation, both can access the same topics, which is unwanted behavior.\r\n\r\n","title":"Is it possible to have different controllers for each stomp endpoint in Spring Boot?","body":"<p>Is it possible to assign different Controller or at least a different MessageMapping for each of the stomp endpoints?\nMy goal is to have client1 connecting to /endpoint1 and client2 connecting to /endpoint2 without client1 being able to access any topics/queues of /endpoint2 and vice-versa (they are completely different applications).\nSo they would be completely encapsulated implementations based on the endpoint to which they connect.</p>\n<p>Bonus points for being able to use different Jackson ObjectMapper for each endpoint as well.</p>\n<p>So far I have created a websocket configuration with 2 endpoints (/endpoint1 and /endpoint2):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\n   @Override\n   public void registerStompEndpoints(StompEndpointRegistry registry) {\n      registry.addEndpoint(&quot;/endpoint1&quot;, &quot;/endpoint2&quot;)\n              .setAllowedOriginPatterns(&quot;*&quot;)\n              .withSockJS();\n   }\n\n   // etc...\n\n}\n</code></pre>\n<p>I also have a Controller which can process requests and send them to appropriate user response queue, but it's accessible from both endpoints:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class WebSocketController {\n   @MessageMapping(&quot;/request&quot;)\n   @SendToUser(&quot;/queue/response&quot;)\n   public MyResponse handleMessage(MyRequest request) {\n      // implementation\n   }\n}\n</code></pre>\n<p><strong>Current behaviour:</strong>\nIt doesn't matter which endpoint is my client connecting to in my current implementation, both can access the same topics, which is unwanted behavior.</p>\n"},{"tags":["java","intellij-idea","jetbrains-ide"],"comments":[{"owner":{"account_id":1428135,"reputation":5246,"user_id":1351167,"accept_rate":75,"display_name":"jAC"},"score":0,"creation_date":1670914288,"post_id":74780947,"comment_id":131977148,"body_markdown":"You might need to set the module correctly for IntelliJ to find the main class","body":"You might need to set the module correctly for IntelliJ to find the main class"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1670914561,"post_id":74780947,"comment_id":131977190,"body_markdown":"Try changing the **MYCLASS** selection to **Main** in that open dialog","body":"Try changing the <b>MYCLASS</b> selection to <b>Main</b> in that open dialog"},{"owner":{"account_id":27236609,"reputation":3,"user_id":20763434,"display_name":"SoumyaSaphalya"},"score":0,"creation_date":1670915222,"post_id":74780947,"comment_id":131977322,"body_markdown":"getting the same error","body":"getting the same error"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1670916237,"post_id":74780947,"comment_id":131977549,"body_markdown":"You have a class named `String` in your project. That class shadows the class `java.lang.String` and that means that you must either write your main method as `public static void main(java.lang.String...args)` or rename your class `String` to something else.","body":"You have a class named <code>String</code> in your project. That class shadows the class <code>java.lang.String</code> and that means that you must either write your main method as <code>public static void main(java.lang.String...args)</code> or rename your class <code>String</code> to something else."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670919487,"creation_date":1670919487,"answer_id":74781807,"question_id":74780947,"body_markdown":"You have a class named `String` in your project. That class shadows the class `java.lang.String`.\r\n\r\nThat means that you must either write your main method as \r\n\r\n    public static void main(java.lang.String...args) {\r\n    }\r\n\r\n\r\nor rename your class `String` to something else.","title":"I messed up in Run/Debug Configuration and now unable to run a single line of code with IntelliJ","body":"<p>You have a class named <code>String</code> in your project. That class shadows the class <code>java.lang.String</code>.</p>\n<p>That means that you must either write your main method as</p>\n<pre><code>public static void main(java.lang.String...args) {\n}\n</code></pre>\n<p>or rename your class <code>String</code> to something else.</p>\n"}],"owner":{"account_id":27236609,"reputation":3,"user_id":20763434,"display_name":"SoumyaSaphalya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74781807,"answer_count":1,"score":-1,"last_activity_date":1670925920,"creation_date":1670914188,"question_id":74780947,"body_markdown":"Here is the screen. Please tell me how to solve this.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd here it is saying main method is not found but I already written that in the class.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI tried to edit the configuration and messed it up. How do I fix this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dVISm.png\r\n  [2]: https://i.stack.imgur.com/beW3r.png","title":"I messed up in Run/Debug Configuration and now unable to run a single line of code with IntelliJ","body":"<p>Here is the screen. Please tell me how to solve this.</p>\n<p><a href=\"https://i.stack.imgur.com/dVISm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dVISm.png\" alt=\"enter image description here\" /></a></p>\n<p>And here it is saying main method is not found but I already written that in the class.</p>\n<p><a href=\"https://i.stack.imgur.com/beW3r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/beW3r.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to edit the configuration and messed it up. How do I fix this?</p>\n"},{"tags":["java","azure-blob-storage","azure-java-sdk"],"comments":[{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1670569044,"post_id":74739744,"comment_id":131908793,"body_markdown":"`Is there a way to only read/ list out the foo1.json from each of these folders?` - no. you will need to list all blobs using `listBlobs` and then do the filtering on the client side.","body":"<code>Is there a way to only read&#47; list out the foo1.json from each of these folders?</code> - no. you will need to list all blobs using <code>listBlobs</code> and then do the filtering on the client side."}],"answers":[{"tags":[],"owner":{"account_id":25323437,"reputation":5152,"user_id":19144428,"display_name":"Venkatesan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670925220,"creation_date":1670925220,"answer_id":74782906,"question_id":74739744,"body_markdown":"**I tried in my environment and got below results:**\r\n\r\n**Code:**(Listing blobs)\r\n\r\n    import  com.azure.storage.blob.*;\r\n    import  com.azure.storage.blob.BlobServiceClient;\r\n    import  com.azure.storage.blob.models.BlobItem;\r\n    public  class  App\r\n    {\r\n    public  static  void  main( String[] args )\r\n    {\r\n    String  connectStr = &quot;DefaultEndpointsProtocol=https;AccountName=venkat123;AccountKey=kRKhMDbJayadjfM9hYsFjv9f/vR8jVOue0snqt2M9z10umhXwwwbqmDF/jw70ceY2YzWQ+4dSp+Q+AStXztgFw==;EndpointSuffix=core.windows.net&quot;;\r\n    BlobServiceClient  blobServiceClient = new  BlobServiceClientBuilder().connectionString(connectStr).buildClient();\r\n    String  containerName = &quot;test&quot;;\r\n    BlobContainerClient  containerClient = blobServiceClient.getBlobContainerClient(containerName);\r\n    System.out.println(&quot;\\nListing blobs...&quot;);\r\n    for (BlobItem  blobItem  :  containerClient.listBlobs()) {\r\n    System.out.println(&quot;\\t&quot; + blobItem.getName());\r\n    }\r\n    }\r\n    }\r\n\r\nAccording to Gaurav Mantri comment it is correct you need to list blobs firstly, and then you can use filter like file in your client side.\r\n\r\n**Console:**\r\n![enter image description here](https://i.stack.imgur.com/ITJJ3.png)\r\n\r\n\r\n\r\nYou can use below method and make sure your azure [**storage log**](https://learn.microsoft.com/en-us/azure/storage/common/manage-storage-analytics-logs?tabs=azure-portal) is enabled.:\r\n```java\r\nListBlobsOptions options = new ListBlobsOptions()\r\n     .setPrefix(&quot;prefixToMatch&quot;)\r\n     .setDetails(new BlobListDetails()\r\n         .setRetrieveDeletedBlobs(true)\r\n         .setRetrieveSnapshots(true));\r\n String continuationToken = &quot;continuationToken&quot;;\r\n Duration duration = Duration.ofMinutes(2);\r\n client.listBlobs(options, continuationToken, duration).forEach(blob -&gt;\r\n     System.out.printf(&quot;Name: %s, Directory? %b, Deleted? %b, Snapshot ID: %s%n&quot;,\r\n         blob.getName(),\r\n         blob.isPrefix(),\r\n         blob.isDeleted(),\r\n         blob.getSnapshot()));\r\n```\r\nAnother method for listing blobs you can also refer this [SO-Thread](https://stackoverflow.com/questions/64791712/azure-java-sdk-blobitem-isprefix-is-null-when-calling-listblobsbyhierarchy) by Josef ust&#225;ek.\r\n\r\n**Reference:**\r\n[Listing blobs with a special character in the blob name (github.com)](https://github.com/Azure/azure-sdk-for-java/issues/17616).\r\n\r\n","title":"How to list only the files(As BlobItems / Client) residing in a BlobContainer : Azure Storage in Java","body":"<p><strong>I tried in my environment and got below results:</strong></p>\n<p><strong>Code:</strong>(Listing blobs)</p>\n<pre><code>import  com.azure.storage.blob.*;\nimport  com.azure.storage.blob.BlobServiceClient;\nimport  com.azure.storage.blob.models.BlobItem;\npublic  class  App\n{\npublic  static  void  main( String[] args )\n{\nString  connectStr = &quot;DefaultEndpointsProtocol=https;AccountName=venkat123;AccountKey=kRKhMDbJayadjfM9hYsFjv9f/vR8jVOue0snqt2M9z10umhXwwwbqmDF/jw70ceY2YzWQ+4dSp+Q+AStXztgFw==;EndpointSuffix=core.windows.net&quot;;\nBlobServiceClient  blobServiceClient = new  BlobServiceClientBuilder().connectionString(connectStr).buildClient();\nString  containerName = &quot;test&quot;;\nBlobContainerClient  containerClient = blobServiceClient.getBlobContainerClient(containerName);\nSystem.out.println(&quot;\\nListing blobs...&quot;);\nfor (BlobItem  blobItem  :  containerClient.listBlobs()) {\nSystem.out.println(&quot;\\t&quot; + blobItem.getName());\n}\n}\n}\n</code></pre>\n<p>According to Gaurav Mantri comment it is correct you need to list blobs firstly, and then you can use filter like file in your client side.</p>\n<p><strong>Console:</strong>\n<img src=\"https://i.stack.imgur.com/ITJJ3.png\" alt=\"enter image description here\" /></p>\n<p>You can use below method and make sure your azure <a href=\"https://learn.microsoft.com/en-us/azure/storage/common/manage-storage-analytics-logs?tabs=azure-portal\" rel=\"nofollow noreferrer\"><strong>storage log</strong></a> is enabled.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ListBlobsOptions options = new ListBlobsOptions()\n     .setPrefix(&quot;prefixToMatch&quot;)\n     .setDetails(new BlobListDetails()\n         .setRetrieveDeletedBlobs(true)\n         .setRetrieveSnapshots(true));\n String continuationToken = &quot;continuationToken&quot;;\n Duration duration = Duration.ofMinutes(2);\n client.listBlobs(options, continuationToken, duration).forEach(blob -&gt;\n     System.out.printf(&quot;Name: %s, Directory? %b, Deleted? %b, Snapshot ID: %s%n&quot;,\n         blob.getName(),\n         blob.isPrefix(),\n         blob.isDeleted(),\n         blob.getSnapshot()));\n</code></pre>\n<p>Another method for listing blobs you can also refer this <a href=\"https://stackoverflow.com/questions/64791712/azure-java-sdk-blobitem-isprefix-is-null-when-calling-listblobsbyhierarchy\">SO-Thread</a> by Josef ustek.</p>\n<p><strong>Reference:</strong>\n<a href=\"https://github.com/Azure/azure-sdk-for-java/issues/17616\" rel=\"nofollow noreferrer\">Listing blobs with a special character in the blob name (github.com)</a>.</p>\n"}],"owner":{"account_id":8082182,"reputation":185,"user_id":6090970,"accept_rate":0,"display_name":"user6090970"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74782906,"answer_count":1,"score":0,"last_activity_date":1670925220,"creation_date":1670568580,"question_id":74739744,"body_markdown":"I have a following folder structure in the azure blob storage: \r\n\r\n     -MainFolder    \r\n         -subFolder1\r\n           -foo1.json\r\n           -foo2.json\r\n         -subFolder2\r\n            -foo1.json\r\n            -foo3.json\r\n         -subFolder3\r\n            -foo1.json\r\n            -foo4.json\r\n\r\nIs there a way to only read/ list out the foo1.json from each of these folders?\r\nHere is the code sample of what I am using: \r\n\r\n      BlobContainerClient containerClient = getBlobClient();\r\n        ListBlobsOptions options = \r\n                new ListBlobsOptions()\r\n                .setPrefix(blobStoragePath)\r\n                .setDetails(new BlobListDetails().setRetrieveMetadata(true)\r\n                        .setRetrieveDeletedBlobs(true));\r\n\r\n\t\tPagedIterable&lt;BlobItem&gt; listVersion = containerClient.listBlobsByHierarchy(&quot;/&quot;, options,\r\n               Duration.ofSeconds(30l));\r\n\r\n\r\nThe code loops through listVersion to get the BlobClient(for foo1.json) for each prefix. Unfortunately, in this case the BlobItem in listVersion doesn&#39;t contain properties which would&#39;ve contained the lastModified dateTime. \r\n\r\nI am planning to compare the lastModifiedDateTime for these blobs(foo1.json) with the lastModified date of previously saved version of this blob in the hashMap and update the hashMap with the latest changes if the lastModifiedDateTime doesn&#39;t match each time a new request is made. \r\n\r\nTrying to make as minimal call to the blobService as possible. \r\n\r\nIf I use this method: \r\n\r\n    PagedIterable&lt;BlobItem&gt; listVersionBlobClients =\tcontainerClient.listBlobs(options, null);\r\n\r\nWill list out all the blobItems(all of the files foo1, foo2....) which will delay the process (as I&#39;ll have to check if the file is foo1 or not for each call)\r\n\r\nAny help/suggestion is much appreciated. \r\n\r\n","title":"How to list only the files(As BlobItems / Client) residing in a BlobContainer : Azure Storage in Java","body":"<p>I have a following folder structure in the azure blob storage:</p>\n<pre><code> -MainFolder    \n     -subFolder1\n       -foo1.json\n       -foo2.json\n     -subFolder2\n        -foo1.json\n        -foo3.json\n     -subFolder3\n        -foo1.json\n        -foo4.json\n</code></pre>\n<p>Is there a way to only read/ list out the foo1.json from each of these folders?\nHere is the code sample of what I am using:</p>\n<pre><code>  BlobContainerClient containerClient = getBlobClient();\n    ListBlobsOptions options = \n            new ListBlobsOptions()\n            .setPrefix(blobStoragePath)\n            .setDetails(new BlobListDetails().setRetrieveMetadata(true)\n                    .setRetrieveDeletedBlobs(true));\n\n    PagedIterable&lt;BlobItem&gt; listVersion = containerClient.listBlobsByHierarchy(&quot;/&quot;, options,\n           Duration.ofSeconds(30l));\n</code></pre>\n<p>The code loops through listVersion to get the BlobClient(for foo1.json) for each prefix. Unfortunately, in this case the BlobItem in listVersion doesn't contain properties which would've contained the lastModified dateTime.</p>\n<p>I am planning to compare the lastModifiedDateTime for these blobs(foo1.json) with the lastModified date of previously saved version of this blob in the hashMap and update the hashMap with the latest changes if the lastModifiedDateTime doesn't match each time a new request is made.</p>\n<p>Trying to make as minimal call to the blobService as possible.</p>\n<p>If I use this method:</p>\n<pre><code>PagedIterable&lt;BlobItem&gt; listVersionBlobClients =    containerClient.listBlobs(options, null);\n</code></pre>\n<p>Will list out all the blobItems(all of the files foo1, foo2....) which will delay the process (as I'll have to check if the file is foo1 or not for each call)</p>\n<p>Any help/suggestion is much appreciated.</p>\n"},{"tags":["java","lambda","max-heap"],"answers":[{"tags":[],"owner":{"account_id":13750549,"reputation":729,"user_id":9922752,"display_name":"DelfikPro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1602201944,"creation_date":1602201944,"answer_id":64272231,"question_id":64272125,"body_markdown":"`9-5=4` is the **priority** of `9`, and `pq.peek()` returns the **value**, **not the priority**\r\n\r\n`new PriorityQueue&lt;&gt;(comparator);` uses `(x, y) -&gt; y - x` to compare and determine which value should be next to be peeked. \r\n\r\nSo `9-5=4` is greater than `5-9=-4`\r\n\r\nSo the value `9` will be the first one.","title":"PriorityQueue&lt;Integer&gt; with lambda expression","body":"<p><code>9-5=4</code> is the <strong>priority</strong> of <code>9</code>, and <code>pq.peek()</code> returns the <strong>value</strong>, <strong>not the priority</strong></p>\n<p><code>new PriorityQueue&lt;&gt;(comparator);</code> uses <code>(x, y) -&gt; y - x</code> to compare and determine which value should be next to be peeked.</p>\n<p>So <code>9-5=4</code> is greater than <code>5-9=-4</code></p>\n<p>So the value <code>9</code> will be the first one.</p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602497220,"creation_date":1602203474,"answer_id":64272388,"question_id":64272125,"body_markdown":"&gt;I&#39;m trying to understand how lambda functions work with heaps in Java.\r\n\r\n[Lambda Expression](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) has nothing to do with [Heap Data Structure](https://en.wikipedia.org/wiki/Heap_(data_structure)), *per se*.\r\n\r\n- Lambda Expression - is a language feature, acting like an *anonymous function*, which you can use/pass as a value;\r\n\r\n- Heap - is a Data Structure, originally defined in Mathematics, and nowadays heavily used in the Computer Science domains.\r\n\r\n---\r\n&gt; Can someone tell me what (x, y) -&gt; y - x) does?\r\n\r\nThat is your *comparator*, to wit, a *lambda expression* which implements a `Comparator&lt;T&gt;`, and which you pass as an argument into your priority queue constructor.\r\n\r\n`PriorityQueue&lt;T&gt;` then makes use of *that* comparator, and utilizes [`int compare(T o1, T o2)`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html#compare(T,T)) method, each time you fetch (poll/peek) an element from it.\r\n\r\n`PriorityQueue&lt;T&gt;` [relies on a contract, that](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html#compare(T,T)):\r\n&gt; int compare(T o1, T o2) Compares its two arguments for order. Returns a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.\r\n\r\nSo, in your code:\r\n\r\n```java\r\nPriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((x, y) -&gt; y - x);\r\npq.add(9);\r\npq.add(5);\r\nSystem.out.println(pq.peek());\r\n```\r\n\r\nTwo numbers are *enqueued* in the Heap/PQ, and when you `.peek()`, `9` and `5` are passed into `x` and `y` respectively. As `9-5&gt;0` true is returned.\r\n\r\n---\r\n&gt; Output is 9 since its a max heap but should I not get 4 as an output since (9-5=4)?\r\n\r\n`9-5=4` is only relevant for the comparator, to decide whether the comparison of two elements end up in 0, positive, or negative number, as already explained above.","title":"PriorityQueue&lt;Integer&gt; with lambda expression","body":"<blockquote>\n<p>I'm trying to understand how lambda functions work with heaps in Java.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">Lambda Expression</a> has nothing to do with <a href=\"https://en.wikipedia.org/wiki/Heap_(data_structure)\" rel=\"nofollow noreferrer\">Heap Data Structure</a>, <em>per se</em>.</p>\n<ul>\n<li><p>Lambda Expression - is a language feature, acting like an <em>anonymous function</em>, which you can use/pass as a value;</p>\n</li>\n<li><p>Heap - is a Data Structure, originally defined in Mathematics, and nowadays heavily used in the Computer Science domains.</p>\n</li>\n</ul>\n<hr />\n<blockquote>\n<p>Can someone tell me what (x, y) -&gt; y - x) does?</p>\n</blockquote>\n<p>That is your <em>comparator</em>, to wit, a <em>lambda expression</em> which implements a <code>Comparator&lt;T&gt;</code>, and which you pass as an argument into your priority queue constructor.</p>\n<p><code>PriorityQueue&lt;T&gt;</code> then makes use of <em>that</em> comparator, and utilizes <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html#compare(T,T)\" rel=\"nofollow noreferrer\"><code>int compare(T o1, T o2)</code></a> method, each time you fetch (poll/peek) an element from it.</p>\n<p><code>PriorityQueue&lt;T&gt;</code> <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html#compare(T,T)\" rel=\"nofollow noreferrer\">relies on a contract, that</a>:</p>\n<blockquote>\n<p>int compare(T o1, T o2) Compares its two arguments for order. Returns a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.</p>\n</blockquote>\n<p>So, in your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((x, y) -&gt; y - x);\npq.add(9);\npq.add(5);\nSystem.out.println(pq.peek());\n</code></pre>\n<p>Two numbers are <em>enqueued</em> in the Heap/PQ, and when you <code>.peek()</code>, <code>9</code> and <code>5</code> are passed into <code>x</code> and <code>y</code> respectively. As <code>9-5&gt;0</code> true is returned.</p>\n<hr />\n<blockquote>\n<p>Output is 9 since its a max heap but should I not get 4 as an output since (9-5=4)?</p>\n</blockquote>\n<p><code>9-5=4</code> is only relevant for the comparator, to decide whether the comparison of two elements end up in 0, positive, or negative number, as already explained above.</p>\n"}],"owner":{"account_id":19692430,"reputation":21,"user_id":14417067,"display_name":"Link Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2521,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1670925103,"creation_date":1602201054,"question_id":64272125,"body_markdown":"Im trying to understand how lambda functions work with heaps in Java. the function below is to create a max heap\r\n\r\n    PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((x, y) -&gt; y - x);\r\n\r\nCan someone tell me what `(x, y) -&gt; y - x)` does?\r\nIm told that &quot;The lambda function will take two Integers as input parameters, subtract them from each other, and return the arithmetic result.&quot; \r\n\r\nso if I do\r\n\r\n\r\n\r\n    PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((x, y) -&gt; y - x);\r\n    pq.add(9);\r\n    \r\n    pq.add(5);\r\n    \r\n    System.out.println(pq.peek());\r\n\r\nOutput is 9 since its a max heap but should I not get 4 as an output since (9-5=4)? \r\n \r\n","title":"PriorityQueue&lt;Integer&gt; with lambda expression","body":"<p>Im trying to understand how lambda functions work with heaps in Java. the function below is to create a max heap</p>\n<pre><code>PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((x, y) -&gt; y - x);\n</code></pre>\n<p>Can someone tell me what <code>(x, y) -&gt; y - x)</code> does?\nIm told that &quot;The lambda function will take two Integers as input parameters, subtract them from each other, and return the arithmetic result.&quot;</p>\n<p>so if I do</p>\n<pre><code>PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((x, y) -&gt; y - x);\npq.add(9);\n\npq.add(5);\n\nSystem.out.println(pq.peek());\n</code></pre>\n<p>Output is 9 since its a max heap but should I not get 4 as an output since (9-5=4)?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":5289064,"reputation":2836,"user_id":4375377,"accept_rate":87,"display_name":"Mr Tsjolder from codidact"},"score":0,"creation_date":1428749717,"post_id":6202223,"comment_id":47302463,"body_markdown":"possible duplicate of [Automatically opening completion window in Eclipse](http://stackoverflow.com/questions/4765054/automatically-opening-completion-window-in-eclipse)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4765054/automatically-opening-completion-window-in-eclipse\">Automatically opening completion window in Eclipse</a>"}],"answers":[{"tags":[],"owner":{"account_id":287824,"reputation":38852,"user_id":587884,"accept_rate":86,"display_name":"Heisenbug"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306936239,"creation_date":1306936239,"answer_id":6202256,"question_id":6202223,"body_markdown":"Yes. If the suggestion doesn&#39;t compare automatically, then press crtl + space button.","title":"Auto code completion on Eclipse","body":"<p>Yes. If the suggestion doesn't compare automatically, then press crtl + space button.</p>\n"},{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1306937607,"creation_date":1306936245,"answer_id":6202257,"question_id":6202223,"body_markdown":"Use the `Ctrl+Space` shortcut for getting all possible autocomplete options available in a particular context in the editor.\r\n\r\nAuto Complete will also allow you to insert custom code templates into the editor, with placeholders for various inputs. For instance, attempting to auto complete the word &quot;test&quot; in a Java editor, in the context of a class body, will allow you to create a unit test that uses JUnit; you&#39;ll have to code the body of the method though. Some code templates like the former, come out of the box.\r\n\r\n**Configuration options of interest**\r\n\r\n - Auto-activation delay. If the list of auto complete options is taking too long to appear, the delay can be reduced from Windows -&gt; Preferences -&gt; Java -&gt; Editor -&gt; Content Assist -&gt; Auto Activation delay (specify the reduced delay here).\r\n - Auto activation trigger for Java. Accessible in the same pane, this happens to be the `.` character by default. When you have just keyed in `typeA.` and you expect to see relevant members that can be accessed, the auto completion list will automatically popup with the appropriate  members, on this trigger.\r\n - Proposal types. If you do not want to see proposals of a particular variety, you can disable them from Windows -&gt; Preferences -&gt; Java -&gt; Editor -&gt; Content Assist -&gt; Advanced. I typically switch off proposals of most kinds except Java and Template proposals. Hitting Ctrl+Space multiple times will cycle you through proposals of various kinds.\r\n - Template Proposals. These are different from your run of the mill proposals. You could add your code templates in here; it can be accessed from Windows -&gt; Preferences -&gt; Java -&gt; Editor -&gt; Templates. Configuration of existing templates is allowed and so is addition of new ones. Reserve usage however for the tedious typing tasks that do not have a template yet.","title":"Auto code completion on Eclipse","body":"<p>Use the <code>Ctrl+Space</code> shortcut for getting all possible autocomplete options available in a particular context in the editor.</p>\n\n<p>Auto Complete will also allow you to insert custom code templates into the editor, with placeholders for various inputs. For instance, attempting to auto complete the word \"test\" in a Java editor, in the context of a class body, will allow you to create a unit test that uses JUnit; you'll have to code the body of the method though. Some code templates like the former, come out of the box.</p>\n\n<p><strong>Configuration options of interest</strong></p>\n\n<ul>\n<li>Auto-activation delay. If the list of auto complete options is taking too long to appear, the delay can be reduced from Windows -> Preferences -> Java -> Editor -> Content Assist -> Auto Activation delay (specify the reduced delay here).</li>\n<li>Auto activation trigger for Java. Accessible in the same pane, this happens to be the <code>.</code> character by default. When you have just keyed in <code>typeA.</code> and you expect to see relevant members that can be accessed, the auto completion list will automatically popup with the appropriate  members, on this trigger.</li>\n<li>Proposal types. If you do not want to see proposals of a particular variety, you can disable them from Windows -> Preferences -> Java -> Editor -> Content Assist -> Advanced. I typically switch off proposals of most kinds except Java and Template proposals. Hitting Ctrl+Space multiple times will cycle you through proposals of various kinds.</li>\n<li>Template Proposals. These are different from your run of the mill proposals. You could add your code templates in here; it can be accessed from Windows -> Preferences -> Java -> Editor -> Templates. Configuration of existing templates is allowed and so is addition of new ones. Reserve usage however for the tedious typing tasks that do not have a template yet.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":309202,"reputation":1116,"user_id":2739211,"display_name":"joe776"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495011391,"creation_date":1306936250,"answer_id":6202258,"question_id":6202223,"body_markdown":"Pressing &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Space&lt;/kbd&gt; opens up the auto-completion dialog in Eclipse. In the Java Perspective it opens automatically after you typed a `.` (normally with a short delay).","title":"Auto code completion on Eclipse","body":"<p>Pressing <kbd>Ctrl</kbd>+<kbd>Space</kbd> opens up the auto-completion dialog in Eclipse. In the Java Perspective it opens automatically after you typed a <code>.</code> (normally with a short delay).</p>\n"},{"tags":[],"owner":{"account_id":117541,"reputation":7467,"user_id":307767,"accept_rate":92,"display_name":"oliholz"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1306936343,"creation_date":1306936343,"answer_id":6202274,"question_id":6202223,"body_markdown":"&lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;Space&lt;/kbd&gt;","title":"Auto code completion on Eclipse","body":"<p><kbd>CTRL</kbd>+<kbd>Space</kbd></p>\n"},{"tags":[],"owner":{"account_id":394686,"reputation":8118,"user_id":2750684,"accept_rate":91,"display_name":"Otra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306936761,"creation_date":1306936359,"answer_id":6202278,"question_id":6202223,"body_markdown":"See if your settings are correct also:\r\n\r\nWindow -&gt; Preferences -&gt; Java -&gt; Editor -&gt; content assist. See if the &quot;completion inserts&quot; is checked off along with anything else there you want to help auto complete.","title":"Auto code completion on Eclipse","body":"<p>See if your settings are correct also:</p>\n\n<p>Window -> Preferences -> Java -> Editor -> content assist. See if the \"completion inserts\" is checked off along with anything else there you want to help auto complete.</p>\n"},{"tags":[],"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"down_vote_count":0,"up_vote_count":261,"is_accepted":true,"score":261,"last_activity_date":1499347275,"creation_date":1306939547,"answer_id":6203060,"question_id":6202223,"body_markdown":"You can also set auto completion to open automatically while typing.\r\n\r\nGo to `Preferences` &gt; `Java` &gt; `Editor` &gt; `Content Assist` and write `.abcdefghijklmnopqrstuvwxyz` in the `Auto activation triggers for Java` field.\r\n\r\nSee this [question](https://stackoverflow.com/questions/4765054/automatically-opening-completion-window-in-eclipse) for more details.","title":"Auto code completion on Eclipse","body":"<p>You can also set auto completion to open automatically while typing.</p>\n\n<p>Go to <code>Preferences</code> > <code>Java</code> > <code>Editor</code> > <code>Content Assist</code> and write <code>.abcdefghijklmnopqrstuvwxyz</code> in the <code>Auto activation triggers for Java</code> field.</p>\n\n<p>See this <a href=\"https://stackoverflow.com/questions/4765054/automatically-opening-completion-window-in-eclipse\">question</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":5241389,"reputation":11,"user_id":4188298,"display_name":"user4188298"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1414471522,"creation_date":1414468130,"answer_id":26600587,"question_id":6202223,"body_markdown":"Steps:\r\n\r\n - In Eclipse, open the code auto completion box from first letter  \r\n - Go to &gt;&gt; Window &gt;&gt; preference &gt;&gt; [ Java c++ php ... ] &gt;&gt; Editor &gt;&gt; Auto activation triggers for...\r\n - Add the character SPACE by just putting your cursor inside and box and push the space key..\r\n\r\nAll the commands and variables which begin with that letter are now going to appear\r\n\r\n \r\n\r\n\r\n\r\n\r\n","title":"Auto code completion on Eclipse","body":"<p>Steps:</p>\n\n<ul>\n<li>In Eclipse, open the code auto completion box from first letter  </li>\n<li>Go to >> Window >> preference >> [ Java c++ php ... ] >> Editor >> Auto activation triggers for...</li>\n<li>Add the character SPACE by just putting your cursor inside and box and push the space key..</li>\n</ul>\n\n<p>All the commands and variables which begin with that letter are now going to appear</p>\n"},{"tags":[],"owner":{"account_id":7480024,"reputation":11,"user_id":5685030,"display_name":"Harish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633341026,"creation_date":1450242931,"answer_id":34304395,"question_id":6202223,"body_markdown":"Its simple, these are the steps:\r\n\r\n1. first go to the following settings\r\n   `Window -&gt; Preferences -&gt; Java -&gt; Editor -&gt; content assist -&gt; advanced`\r\n2. there will be two boxes having checkboxes\r\n3. check everything in there and click apply\r\n4. now of course when you&#39;ll be coding there will be auto code completion feature automatically","title":"Auto code completion on Eclipse","body":"<p>Its simple, these are the steps:</p>\n<ol>\n<li>first go to the following settings\n<code>Window -&gt; Preferences -&gt; Java -&gt; Editor -&gt; content assist -&gt; advanced</code></li>\n<li>there will be two boxes having checkboxes</li>\n<li>check everything in there and click apply</li>\n<li>now of course when you'll be coding there will be auto code completion feature automatically</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1059051,"reputation":6072,"user_id":1061067,"accept_rate":28,"display_name":"Dio Phung"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1494996617,"creation_date":1494996617,"answer_id":44015859,"question_id":6202223,"body_markdown":"Since you asked about other Java IDE, I suggest IntelliJ by JetBrains.\r\nJust look at it: not only does it support auto completion as you type, but also it support import package once you select the auto completion.\r\n\r\n\r\n![IntelliJ][1] \r\n\r\n\r\nBefore someone said &quot;Eclipse is free&quot;, note that IntelliJ has free community edition as well: [www.jetbrains.com/idea/download/][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xjK7t.jpg\r\n  [2]: http://www.jetbrains.com/idea/download/","title":"Auto code completion on Eclipse","body":"<p>Since you asked about other Java IDE, I suggest IntelliJ by JetBrains.\nJust look at it: not only does it support auto completion as you type, but also it support import package once you select the auto completion.</p>\n\n<p><img src=\"https://i.stack.imgur.com/xjK7t.jpg\" alt=\"IntelliJ\"> </p>\n\n<p>Before someone said \"Eclipse is free\", note that IntelliJ has free community edition as well: <a href=\"http://www.jetbrains.com/idea/download/\" rel=\"nofollow noreferrer\">www.jetbrains.com/idea/download/</a></p>\n"},{"tags":[],"owner":{"account_id":6131586,"reputation":1281,"user_id":4781571,"accept_rate":76,"display_name":"harsha kumar Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495014211,"creation_date":1494999672,"answer_id":44016477,"question_id":6202223,"body_markdown":"Now in eclipse Neon this feature is present. No need of any special settings or configuation .On &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Space&lt;/kbd&gt; the code suggestion is available ","title":"Auto code completion on Eclipse","body":"<p>Now in eclipse Neon this feature is present. No need of any special settings or configuation .On <kbd>Ctrl</kbd>+<kbd>Space</kbd> the code suggestion is available </p>\n"},{"tags":[],"owner":{"account_id":7802984,"reputation":93,"user_id":5901713,"display_name":"Arvina Kori"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501138479,"creation_date":1501137767,"answer_id":45343155,"question_id":6202223,"body_markdown":"&gt; Window -&gt; Preferences -&gt; Java -&gt; Editor -&gt; content assist &gt; enter\r\n&gt; \r\n&gt; \r\n&gt;  &quot;.abcdefghijklmnopqrstuvwxyz&quot;\r\n\r\n in the Auto activation triggers.\r\n\r\nIt will allow you to complete your code.","title":"Auto code completion on Eclipse","body":"<blockquote>\n  <p>Window -> Preferences -> Java -> Editor -> content assist > enter</p>\n  \n  <p>\".abcdefghijklmnopqrstuvwxyz\"</p>\n</blockquote>\n\n<p>in the Auto activation triggers.</p>\n\n<p>It will allow you to complete your code.</p>\n"},{"tags":[],"owner":{"account_id":15936202,"reputation":63,"user_id":11499337,"display_name":"Suhas Ramesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565801424,"creation_date":1565801424,"answer_id":57498949,"question_id":6202223,"body_markdown":"I had a similar issue when I switched from IntellijIDEA to Eclipse. It can be done in the following steps.\r\nGo to Window &gt; Preferences &gt; Java &gt; Editor &gt; Content Assist and type ._abcdefghijklmnopqrstuvwxyzS in the Auto activation triggers for Java field","title":"Auto code completion on Eclipse","body":"<p>I had a similar issue when I switched from IntellijIDEA to Eclipse. It can be done in the following steps.\nGo to Window > Preferences > Java > Editor > Content Assist and type ._abcdefghijklmnopqrstuvwxyzS in the Auto activation triggers for Java field</p>\n"},{"tags":[],"owner":{"account_id":17094528,"reputation":71,"user_id":12369833,"display_name":"Md.Mainul Hasan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1573794720,"creation_date":1573782457,"answer_id":58869184,"question_id":6202223,"body_markdown":"Go to Windows--&gt; Preference---&gt;Java---&gt;content assist---&gt;Enable auto activation---(insert ._@abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ in auto activation triggers for java)\r\n\r\n\r\n![Eclipse Preferences][1]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eFakP.png","title":"Auto code completion on Eclipse","body":"<p>Go to Windows--> Preference--->Java--->content assist--->Enable auto activation---(insert ._@abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ in auto activation triggers for java)</p>\n\n<p><img src=\"https://i.stack.imgur.com/eFakP.png\" alt=\"Eclipse Preferences\"></p>\n"},{"tags":[],"owner":{"account_id":25571242,"reputation":1,"user_id":19351569,"display_name":"Pratiksha Lohar"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1670924931,"creation_date":1670924931,"answer_id":74782846,"question_id":6202223,"body_markdown":"Go to `Window` &gt; `Preferences` &gt; `Java` &gt; `Editor` &gt; `Content Assist` and write `.abcdefghijklmnopqrstuvwxyz` in the `Auto activation triggers for Java` field.\r\n","title":"Auto code completion on Eclipse","body":"<p>Go to <code>Window</code> &gt; <code>Preferences</code> &gt; <code>Java</code> &gt; <code>Editor</code> &gt; <code>Content Assist</code> and write <code>.abcdefghijklmnopqrstuvwxyz</code> in the <code>Auto activation triggers for Java</code> field.</p>\n"}],"owner":{"account_id":294604,"reputation":5166,"user_id":598591,"accept_rate":95,"display_name":"Marcelo Assis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235862,"favorite_count":0,"down_vote_count":0,"up_vote_count":124,"accepted_answer_id":6203060,"answer_count":14,"score":124,"last_activity_date":1670924931,"creation_date":1306936087,"question_id":6202223,"body_markdown":"I want Eclipse to automatically suggest to me all possible options, while I&#39;m writing some variable/class name or keyword, like in Flash Develop or Visual Studio.\r\n\r\nIs it possible?\r\n\r\nIf not, with which Java IDE can I get this?\r\n\r\nI&#39;m specifically asking about a way to _automatically_ get the same thing I get using &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;Space&lt;/kbd&gt;, while I&#39;m typing.","title":"Auto code completion on Eclipse","body":"<p>I want Eclipse to automatically suggest to me all possible options, while I'm writing some variable/class name or keyword, like in Flash Develop or Visual Studio.</p>\n\n<p>Is it possible?</p>\n\n<p>If not, with which Java IDE can I get this?</p>\n\n<p>I'm specifically asking about a way to <em>automatically</em> get the same thing I get using <kbd>CTRL</kbd> + <kbd>Space</kbd>, while I'm typing.</p>\n"},{"tags":["java","xml","checkmarx"],"answers":[{"tags":[],"owner":{"account_id":72216,"reputation":358,"user_id":14795243,"display_name":"NathanL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670879581,"creation_date":1670879581,"answer_id":74777379,"question_id":74769812,"body_markdown":"I will assume that you intended to say that you&#39;re getting results for **Deserialization of Untrusted Data**.\r\n\r\nThe reason you&#39;re getting that message is that `XStream` will happily attempt to create an instance of just about any object specified in the XML by default.  The technique is to allow only the types you intend to be deserialized.  One would presume you&#39;ve ensured those types are safe.\r\n\r\nI ran this code derived from your example and verified that the two lines I added were detected as sanitization.\r\n\r\n```\r\nString message = request.getParameter(&quot;param_name&quot;);\r\nXStream parser = new XStream(new StaxDriver());\r\nparser.addPermission(NoTypePermission.NONE);\r\nparser.allowTypes(new Class[] {MyMessage.class, String.class});\r\nMyMessage messageObj = (MyMessage) parser.fromXML(message);\r\n\r\n```\r\n\r\nI added the `String.class` type since I&#39;d presume some of your properties on `MyMessage` are `String`.  `String` itself, like most primitives, is generally safe for deserialization.  While the string itself is safe, you&#39;ll want to make sure how you use it is safe.  (e.g. if you are deserializing a string and passing it to the OS as part of a shell exec, that could be a different vulnerability.)\r\n","title":"Checkmarx scan issue - deserilization of unsanitized xml data from the input","body":"<p>I will assume that you intended to say that you're getting results for <strong>Deserialization of Untrusted Data</strong>.</p>\n<p>The reason you're getting that message is that <code>XStream</code> will happily attempt to create an instance of just about any object specified in the XML by default.  The technique is to allow only the types you intend to be deserialized.  One would presume you've ensured those types are safe.</p>\n<p>I ran this code derived from your example and verified that the two lines I added were detected as sanitization.</p>\n<pre><code>String message = request.getParameter(&quot;param_name&quot;);\nXStream parser = new XStream(new StaxDriver());\nparser.addPermission(NoTypePermission.NONE);\nparser.allowTypes(new Class[] {MyMessage.class, String.class});\nMyMessage messageObj = (MyMessage) parser.fromXML(message);\n\n</code></pre>\n<p>I added the <code>String.class</code> type since I'd presume some of your properties on <code>MyMessage</code> are <code>String</code>.  <code>String</code> itself, like most primitives, is generally safe for deserialization.  While the string itself is safe, you'll want to make sure how you use it is safe.  (e.g. if you are deserializing a string and passing it to the OS as part of a shell exec, that could be a different vulnerability.)</p>\n"}],"owner":{"account_id":14129109,"reputation":335,"user_id":10207534,"display_name":"Anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74777379,"answer_count":1,"score":1,"last_activity_date":1670924752,"creation_date":1670841431,"question_id":74769812,"body_markdown":"I am currently facing issue during **checkmarx scan**. It is highlighting that we are **deserializing** of **Untrusted data** in the last line mentioned below. How to rectify this issue ?\r\n\r\nScan Issue : **Deserialization of Untrusted Data**\r\n\r\nNote: We do not have any xsd\r\n\r\n```\r\nString message = request.getParameter(&quot;param_name&quot;); // Input xml string\r\nXStream parser = new XStream(new StaxDriver());\r\nMyMessage messageObj = (MyMessage) parser.fromXML(message); // This line is flagged by CHECKMARX SCAN \r\n```\r\n\r\n","title":"Checkmarx scan issue - deserilization of unsanitized xml data from the input","body":"<p>I am currently facing issue during <strong>checkmarx scan</strong>. It is highlighting that we are <strong>deserializing</strong> of <strong>Untrusted data</strong> in the last line mentioned below. How to rectify this issue ?</p>\n<p>Scan Issue : <strong>Deserialization of Untrusted Data</strong></p>\n<p>Note: We do not have any xsd</p>\n<pre><code>String message = request.getParameter(&quot;param_name&quot;); // Input xml string\nXStream parser = new XStream(new StaxDriver());\nMyMessage messageObj = (MyMessage) parser.fromXML(message); // This line is flagged by CHECKMARX SCAN \n</code></pre>\n"},{"tags":["java","java-stream","maps"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":4,"creation_date":1670858752,"post_id":74773083,"comment_id":131964591,"body_markdown":"Just use `HashMap::new` instead of `() -&gt; map`.","body":"Just use <code>HashMap::new</code> instead of <code>() -&gt; map</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670859736,"post_id":74773083,"comment_id":131964995,"body_markdown":"There is, by the way, no reason for performing a `null`-check in the merge function. The assumption that the first argument is a new value and the second an old value, is wrong anyway. The merge function will only be invoked if there are at least two elements for the same key; the collector will not invoke the function with `null`. So you can simply use `BigDecimal::add` as merge function. Unless, your `getValue` method can return `null`, but in that case youd have to check *both* arguments for `null`.","body":"There is, by the way, no reason for performing a <code>null</code>-check in the merge function. The assumption that the first argument is a new value and the second an old value, is wrong anyway. The merge function will only be invoked if there are at least two elements for the same key; the collector will not invoke the function with <code>null</code>. So you can simply use <code>BigDecimal::add</code> as merge function. Unless, your <code>getValue</code> method can return <code>null</code>, but in that case youd have to check <i>both</i> arguments for <code>null</code>."}],"answers":[{"tags":[],"owner":{"account_id":903826,"reputation":646,"user_id":939217,"display_name":"Mostafa Nazari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670858753,"creation_date":1670858753,"answer_id":74773409,"question_id":74773083,"body_markdown":"simple! replace `() -&gt; map` with either `() -&gt; new HashMap&lt;&gt;()` or `HashMap::new`","title":"Java Stream: How to Sum Value If Element Already Exists","body":"<p>simple! replace <code>() -&gt; map</code> with either <code>() -&gt; new HashMap&lt;&gt;()</code> or <code>HashMap::new</code></p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670924644,"creation_date":1670861692,"answer_id":74774079,"question_id":74773083,"body_markdown":"In case if you have **no** specific requirements regarding the `Map` implementation, there&#39;s no need to use a version of Collector `toMap()` which expects a *mapFactory*.\r\n\r\nInstead, use *three-args* version, which expects only functions mapping keys/values and resolving duplicates, namely: *keyMapper*, *valueMapper* and a *mergeFunction* [`toMap(keyMapper, valueMapper, mergeFunction)`][toMap].\r\n\r\nAlso, you have messed with the order of arguments in the *mergeFunction*. The previously associated Value comes first, i.e. `oldValue` then `newValue` (*not the opposite, although in this case it has no impact on the result since mergeFunction only performs addition of* `BigDecimal` *values*). And as *@Holger* has pointed out in the comments, there&#39;s no need to perform null-check unless *valueMapper* function can produce `null`.\r\n\r\n```\r\n(oldValue, newValue) -&gt; oldValue.add(newValue)\r\n```\r\n\r\nWhich can be translated into a Method reference:\r\n\r\n```\r\nBigDecimal::add\r\n```\r\n\r\nThat&#39;s how `collect()` operation might look like in this case:\r\n\r\n```\r\n.collect(Collectors.toMap(\r\n    position -&gt; new PositionKey(\r\n        position.getAssetId(),\r\n        position.geCurrencyId()\r\n    ),\r\n    Position::geValue,\r\n    BigDecimal::add\r\n))\r\n```\r\n\r\nAnd you would be provided with the default general purpose implementation of the `Map` interface by default, which is for now `HashMap` (*if there would be another general purpose implementation which come as a recommended replacement of* `HashMap` *you&#39;ll get it for free without changing the code*). Hence, providing `HashMap::new` as a *mapFactory* is frankly pointless.\r\n\r\nA use case for the *four-args* version of `toMap()` expecting a *mapFactory* would be a situation when you need a special purpose `Map` implementation, like `EnumMap`, `TreeMap`, `LinkedHashMap`, etc.\r\n\r\n\r\n\r\n   [toMap]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)","title":"Java Stream: How to Sum Value If Element Already Exists","body":"<p>In case if you have <strong>no</strong> specific requirements regarding the <code>Map</code> implementation, there's no need to use a version of Collector <code>toMap()</code> which expects a <em>mapFactory</em>.</p>\n<p>Instead, use <em>three-args</em> version, which expects only functions mapping keys/values and resolving duplicates, namely: <em>keyMapper</em>, <em>valueMapper</em> and a <em>mergeFunction</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>toMap(keyMapper, valueMapper, mergeFunction)</code></a>.</p>\n<p>Also, you have messed with the order of arguments in the <em>mergeFunction</em>. The previously associated Value comes first, i.e. <code>oldValue</code> then <code>newValue</code> (<em>not the opposite, although in this case it has no impact on the result since mergeFunction only performs addition of</em> <code>BigDecimal</code> <em>values</em>). And as <em>@Holger</em> has pointed out in the comments, there's no need to perform null-check unless <em>valueMapper</em> function can produce <code>null</code>.</p>\n<pre><code>(oldValue, newValue) -&gt; oldValue.add(newValue)\n</code></pre>\n<p>Which can be translated into a Method reference:</p>\n<pre><code>BigDecimal::add\n</code></pre>\n<p>That's how <code>collect()</code> operation might look like in this case:</p>\n<pre><code>.collect(Collectors.toMap(\n    position -&gt; new PositionKey(\n        position.getAssetId(),\n        position.geCurrencyId()\n    ),\n    Position::geValue,\n    BigDecimal::add\n))\n</code></pre>\n<p>And you would be provided with the default general purpose implementation of the <code>Map</code> interface by default, which is for now <code>HashMap</code> (<em>if there would be another general purpose implementation which come as a recommended replacement of</em> <code>HashMap</code> <em>you'll get it for free without changing the code</em>). Hence, providing <code>HashMap::new</code> as a <em>mapFactory</em> is frankly pointless.</p>\n<p>A use case for the <em>four-args</em> version of <code>toMap()</code> expecting a <em>mapFactory</em> would be a situation when you need a special purpose <code>Map</code> implementation, like <code>EnumMap</code>, <code>TreeMap</code>, <code>LinkedHashMap</code>, etc.</p>\n"}],"owner":{"account_id":104174,"reputation":9524,"user_id":278659,"accept_rate":83,"display_name":"j3d"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74774079,"answer_count":2,"score":0,"last_activity_date":1670924644,"creation_date":1670857329,"question_id":74773083,"body_markdown":"Given the following key...\r\n\r\n```\r\nprivate class PositionKey {\r\n    String assetId;\r\n    String currencyId;\r\n}\r\n```\r\n\r\n... I need to create a `Map&lt;PositionKey, BigDecimal&gt;`, where if a given key does not exist, then a new entry shall be added, otherwise, if a given key already exists, then its values shall be increased. Here below is my attempt:\r\n\r\n```\r\npublic Map&lt;PositionKey, BigDecimal&gt; getMap(final Long portfolioId) {\r\n\r\n    final Map&lt;PositionKey, BigDecimal&gt; map = new HashMap&lt;&gt;();\r\n\r\n    // getPositions() returns all the positions associated with the given portfolio\r\n    return getPositions(portfolioId).stream()\r\n        .collect(\r\n            toMap(\r\n                position -&gt;\r\n                    new PositionKey(\r\n                        position.getAssetId(),\r\n                        position.geCurrencyId()),\r\n                position -&gt; position.geValue(),\r\n                (newValue, oldValue) -&gt; oldValue != null ? oldValue.add(newValue) : newValue,\r\n                () -&gt; map));\r\n}\r\n```\r\n\r\nWhat I dislike in my implementation above, is the fact that I create the `Map` before streaming the positions. Is there a better way to implement this? Thank you very much.","title":"Java Stream: How to Sum Value If Element Already Exists","body":"<p>Given the following key...</p>\n<pre><code>private class PositionKey {\n    String assetId;\n    String currencyId;\n}\n</code></pre>\n<p>... I need to create a <code>Map&lt;PositionKey, BigDecimal&gt;</code>, where if a given key does not exist, then a new entry shall be added, otherwise, if a given key already exists, then its values shall be increased. Here below is my attempt:</p>\n<pre><code>public Map&lt;PositionKey, BigDecimal&gt; getMap(final Long portfolioId) {\n\n    final Map&lt;PositionKey, BigDecimal&gt; map = new HashMap&lt;&gt;();\n\n    // getPositions() returns all the positions associated with the given portfolio\n    return getPositions(portfolioId).stream()\n        .collect(\n            toMap(\n                position -&gt;\n                    new PositionKey(\n                        position.getAssetId(),\n                        position.geCurrencyId()),\n                position -&gt; position.geValue(),\n                (newValue, oldValue) -&gt; oldValue != null ? oldValue.add(newValue) : newValue,\n                () -&gt; map));\n}\n</code></pre>\n<p>What I dislike in my implementation above, is the fact that I create the <code>Map</code> before streaming the positions. Is there a better way to implement this? Thank you very much.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1670923202,"post_id":74782431,"comment_id":131979553,"body_markdown":"just give fix height of the TextInputLayout","body":"just give fix height of the TextInputLayout"}],"owner":{"account_id":18242315,"reputation":317,"user_id":13279141,"display_name":"Kee Rushar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670924529,"creation_date":1670922912,"question_id":74782431,"body_markdown":"I want to align the start drawable icon to the top left corner as per the description. I have used gravity= &quot;top|left&quot; but it doesn&#39;t work. Please help\r\n\r\n        \r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/descriptionLayout&quot;\r\n                style=&quot;@style/CustomTextInputLayout&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:paddingStart=&quot;-12dp&quot;\r\n                android:gravity=&quot;top|start&quot;\r\n                app:errorIconDrawable=&quot;@null&quot;\r\n                app:hintEnabled=&quot;false&quot;\r\n                app:startIconDrawable=&quot;@drawable/ic_message&quot;\r\n                app:startIconTint=&quot;@color/primary&quot;\r\n                tools:ignore=&quot;RtlSymmetry&quot;&gt;\r\n    \r\n                &lt;com.google.android.material.textfield.TextInputEditText\r\n                    android:id=&quot;@+id/descriptionEt&quot;\r\n                    style=&quot;@style/CustomTextInputEditText&quot;\r\n                    android:gravity=&quot;top|start&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:background=&quot;@color/white&quot;\r\n                    android:hint=&quot;@string/description&quot;\r\n                    android:inputType=&quot;textMultiLine&quot;\r\n                    android:scrollbars=&quot;vertical&quot;\r\n                    android:overScrollMode=&quot;always&quot;\r\n                    android:lines=&quot;10&quot;\r\n                    android:paddingVertical=&quot;0dp&quot;\r\n                    tools:ignore=&quot;LabelFor&quot; /&gt;\r\n    \r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q1d04.png","title":"Align start drawable icon with edit text hint in android studio to the top","body":"<p>I want to align the start drawable icon to the top left corner as per the description. I have used gravity= &quot;top|left&quot; but it doesn't work. Please help</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/descriptionLayout&quot;\n            style=&quot;@style/CustomTextInputLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:paddingStart=&quot;-12dp&quot;\n            android:gravity=&quot;top|start&quot;\n            app:errorIconDrawable=&quot;@null&quot;\n            app:hintEnabled=&quot;false&quot;\n            app:startIconDrawable=&quot;@drawable/ic_message&quot;\n            app:startIconTint=&quot;@color/primary&quot;\n            tools:ignore=&quot;RtlSymmetry&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:id=&quot;@+id/descriptionEt&quot;\n                style=&quot;@style/CustomTextInputEditText&quot;\n                android:gravity=&quot;top|start&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:background=&quot;@color/white&quot;\n                android:hint=&quot;@string/description&quot;\n                android:inputType=&quot;textMultiLine&quot;\n                android:scrollbars=&quot;vertical&quot;\n                android:overScrollMode=&quot;always&quot;\n                android:lines=&quot;10&quot;\n                android:paddingVertical=&quot;0dp&quot;\n                tools:ignore=&quot;LabelFor&quot; /&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/q1d04.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q1d04.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","xml","xsd","xml-parsing","saxparser"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670923203,"post_id":74774260,"comment_id":131979554,"body_markdown":"Have you tried to specify it like this? schemaLocation=&quot;global.xsd&quot;","body":"Have you tried to specify it like this? schemaLocation=&quot;global.xsd&quot;"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1670924237,"post_id":74774260,"comment_id":131979943,"body_markdown":"@SimonMartinelli Thanks for your response. Yes, I tried that even that did not work for me `&lt;xsd:import namespace=&quot;urn:global:xsd:1&quot; schemaLocation=&quot;global.xsd&quot;/&gt;` so I found that we need to provide `schemaFactory.setResourceResolver()` with our own resolver and tried that as well which is also not working for me. I even tried to provide a path for all my XSD files using `maven-jaxb2-plugin` even that did not work for me.","body":"@SimonMartinelli Thanks for your response. Yes, I tried that even that did not work for me <code>&lt;xsd:import namespace=&quot;urn:global:xsd:1&quot; schemaLocation=&quot;global.xsd&quot;&#47;&gt;</code> so I found that we need to provide <code>schemaFactory.setResourceResolver()</code> with our own resolver and tried that as well which is also not working for me. I even tried to provide a path for all my XSD files using <code>maven-jaxb2-plugin</code> even that did not work for me."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1671022666,"post_id":74774260,"comment_id":132006791,"body_markdown":"Are you not getting beyond the first error in any of the schemas or not beyond any error in the sample instance document? If you want to output all errors in the schemas I think you need to set up an error handler as well on the schema factory.","body":"Are you not getting beyond the first error in any of the schemas or not beyond any error in the sample instance document? If you want to output all errors in the schemas I think you need to set up an error handler as well on the schema factory."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1671106772,"post_id":74774260,"comment_id":132029088,"body_markdown":"For what it&#39;s worth: I have set up a sample project based on the original sample you linked to, first using the built-in JRE 8 Validator https://github.com/martin-honnen/ValidationHandlerTest1, then using Apache Xerces 2.12 https://github.com/martin-honnen/ValidationHandlerTest1/tree/UseApacheXerces and finally using Saxon EE 11.4 https://github.com/martin-honnen/ValidationHandlerTest1/tree/UseSaxon, all three find the two errors in the sample instance document and **don&#39;t abandon** after the first error.","body":"For what it&#39;s worth: I have set up a sample project based on the original sample you linked to, first using the built-in JRE 8 Validator <a href=\"https://github.com/martin-honnen/ValidationHandlerTest1\" rel=\"nofollow noreferrer\">github.com/martin-honnen/ValidationHandlerTest1</a>, then using Apache Xerces 2.12 <a href=\"https://github.com/martin-honnen/ValidationHandlerTest1/tree/UseApacheXerces\" rel=\"nofollow noreferrer\">github.com/martin-honnen/ValidationHandlerTest1/tree/&hellip;</a> and finally using Saxon EE 11.4 <a href=\"https://github.com/martin-honnen/ValidationHandlerTest1/tree/UseSaxon\" rel=\"nofollow noreferrer\">github.com/martin-honnen/ValidationHandlerTest1/tree/UseSaxo&zwnj;&#8203;n</a>, all three find the two errors in the sample instance document and <b>don&#39;t abandon</b> after the first error."},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1671115815,"post_id":74774260,"comment_id":132032632,"body_markdown":"@MartinHonnen Thanks a lot for the response and for taking the time to create 3 projects. But I have a small doubt. Maybe due lack of my understanding I am unable to make any differences between the 3 created projects. All 3 projects seem to have the same ErrorHandler and TestMain classes and all have the same code and come from the same library. Is there any difference? Also, I am thinking to use the `Moxy` as it has been used in one of the dependent projects.","body":"@MartinHonnen Thanks a lot for the response and for taking the time to create 3 projects. But I have a small doubt. Maybe due lack of my understanding I am unable to make any differences between the 3 created projects. All 3 projects seem to have the same ErrorHandler and TestMain classes and all have the same code and come from the same library. Is there any difference? Also, I am thinking to use the <code>Moxy</code> as it has been used in one of the dependent projects."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1671118824,"post_id":74774260,"comment_id":132033906,"body_markdown":"The difference is in the dependencies, as I said, the first one uses whatever the JRE provides, the second explicitly uses Apache Xerces and the last one Saxon EE, so the difference is in the POM e.g. https://github.com/martin-honnen/ValidationHandlerTest1/blob/UseSaxon/pom.xml. The main idea behind the JAXP APIs is that you can have/use different implementations.","body":"The difference is in the dependencies, as I said, the first one uses whatever the JRE provides, the second explicitly uses Apache Xerces and the last one Saxon EE, so the difference is in the POM e.g. <a href=\"https://github.com/martin-honnen/ValidationHandlerTest1/blob/UseSaxon/pom.xml\" rel=\"nofollow noreferrer\">github.com/martin-honnen/ValidationHandlerTest1/blob/UseSaxo&zwnj;&#8203;n/&hellip;</a>. The main idea behind the JAXP APIs is that you can have/use different implementations."}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670924438,"creation_date":1670862574,"question_id":74774260,"body_markdown":"Is there a way I can validate my XML against my XSD COMPLETELY, meaning that I want the file to continue validating even after it has found an error so I can get the complete error messages rather than just 1 or the first error message?\r\n\r\nCurrently, the execution stops when it finds the first error, prints it, and does not continue any further. I want to know if it&#39;s possible to achieve this. I tried the method mentioned [here][1] and did the same but still it&#39;s not working as expected and execution stops.\r\n\r\nFollowing is the code I have:\r\n`XsdErrorHandler.class`:\r\n```\r\nimport org.xml.sax.ErrorHandler;\r\nimport org.xml.sax.SAXParseException;\r\n\r\npublic class XsdErrorHandler implements ErrorHandler {\r\n   @lombok.Getter\r\n    private java.util.List&lt;SAXParseException&gt; exceptions;\r\n\r\n    public XsdErrorHandler() {\r\n        this.exceptions = new java.util.ArrayList&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    public void warning(final SAXParseException exception) throws org.xml.sax.SAXException {\r\n       handleError(exception);\r\n    }\r\n\r\n    @Override\r\n    public void error(final SAXParseException exception) throws org.xml.sax.SAXException {\r\n        handleError(exception);\r\n    }\r\n\r\n    @Override\r\n    public void fatalError(final SAXParseException exception) throws org.xml.sax.SAXException  {\r\n        handleError(exception);\r\n    }\r\n\r\n    public void handleError(SAXParseException e) throws org.xml.sax.SAXException  {\r\n        // Do nothing. This will allow the validation to continue even if there are errors.\r\n        this.exceptions.add(e);\r\n    }\r\n}\r\n```\r\n\r\nFollowing is my schema validator:\r\n`Main.class`\r\n```\r\nimport javax.xml.XMLConstants;\r\nimport javax.xml.transform.Source;\r\nimport javax.xml.transform.stream.StreamSource;\r\nimport javax.xml.validation.Schema;\r\nimport javax.xml.validation.SchemaFactory;\r\nimport javax.xml.validation.Validator;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.List;\r\n\r\npublic class TestMain {\r\n    public static void main(String[] args) throws SAXException, IOException {\r\n        final String xsdPath = &quot;/xsd/myXSD.xsd&quot;;\r\n        final String xmlPath = &quot;/myXml.xml&quot;;\r\n        listParsingExceptions(xsdPath, xmlPath);\r\n    }\r\n\r\n    private static Validator initValidator(final String xsdPath) throws SAXException {\r\n        final SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n        final Source schemaFile = new StreamSource(TestMain.class.getResourceAsStream(xsdPath));\r\n        final Schema schema = factory.newSchema(schemaFile);\r\n        return schema.newValidator();\r\n    }\r\n\r\n    public static List&lt;SAXParseException&gt; listParsingExceptions(final String xsdPath, final String xmlPath) throws IOException, SAXException {\r\n        final InputStream inputStream = TestMain.class.getResourceAsStream(xmlPath);\r\n        final XsdErrorHandler xsdErrorHandler = new XsdErrorHandler();\r\n        final Validator validator = initValidator(xsdPath);\r\n        validator.setErrorHandler(xsdErrorHandler);\r\n\r\n        try {\r\n            validator.validate(new StreamSource(inputStream));\r\n        } catch (SAXParseException e)\r\n        {\r\n            // ...\r\n        }\r\n\r\n        System.out.println(&quot;ERRORS : &quot;);\r\n        xsdErrorHandler.getExceptions().forEach(e -&gt; System.out.println(e.getMessage()));\r\n        return xsdErrorHandler.getExceptions();\r\n    }\r\n}\r\n```\r\n\r\nIssues: \r\n1. I am a bit confused about what else I need to do to make this continue working. Can someone please provide some suggestions?\r\n\r\n2. Also, my XSD contains many imports and references to other XSD. When I give a relative path, then it won&#39;t work, but when I give an absolute path, then it works. Is there a way I can make it work with a relative path?\r\n\r\nFollowing fails:\r\n```\r\n&lt;xsd:import namespace=&quot;urn:global:xsd:1&quot; schemaLocation=&quot;./global.xsd&quot;/&gt;\r\n```\r\n\r\nFollowing works:\r\n```\r\n\r\n&lt;xsd:import namespace=&quot;urn:global:xsd:1&quot; schemaLocation=&quot;/Users/username/project/validation/src/main/resources/xsd/global.xsd&quot;/&gt;\r\n```\r\n\r\nI tried to provide the path for XSD file using `maven-jaxb2-plugin` something like this but this also did not work for me\r\n```\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.14.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;schemaDirectory&gt;${basedir}/src/main/resources/xsd&lt;/schemaDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nI tried to write my own `ClasspathResourceResolver` by referencing [here][2] and added to my `schemaFactory` using `schemaFactory.setResourceResolver(new ClasspathResourceResolver());` but that also did not work for me.\r\n\r\n\r\nAll my files are present in the XSD folder and I would like to reference using the relative path something like this `./xsdName.xsd`\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-validate-xml-xsd#listing-all-validation-errors\r\n  [2]: https://blog.frankel.ch/xml-validation-with-importedincluded-schemas/","title":"Java XML validation against XSD fails at first error does not validate complete XML even with custom error handler","body":"<p>Is there a way I can validate my XML against my XSD COMPLETELY, meaning that I want the file to continue validating even after it has found an error so I can get the complete error messages rather than just 1 or the first error message?</p>\n<p>Currently, the execution stops when it finds the first error, prints it, and does not continue any further. I want to know if it's possible to achieve this. I tried the method mentioned <a href=\"https://www.baeldung.com/java-validate-xml-xsd#listing-all-validation-errors\" rel=\"nofollow noreferrer\">here</a> and did the same but still it's not working as expected and execution stops.</p>\n<p>Following is the code I have:\n<code>XsdErrorHandler.class</code>:</p>\n<pre><code>import org.xml.sax.ErrorHandler;\nimport org.xml.sax.SAXParseException;\n\npublic class XsdErrorHandler implements ErrorHandler {\n   @lombok.Getter\n    private java.util.List&lt;SAXParseException&gt; exceptions;\n\n    public XsdErrorHandler() {\n        this.exceptions = new java.util.ArrayList&lt;&gt;();\n    }\n\n    @Override\n    public void warning(final SAXParseException exception) throws org.xml.sax.SAXException {\n       handleError(exception);\n    }\n\n    @Override\n    public void error(final SAXParseException exception) throws org.xml.sax.SAXException {\n        handleError(exception);\n    }\n\n    @Override\n    public void fatalError(final SAXParseException exception) throws org.xml.sax.SAXException  {\n        handleError(exception);\n    }\n\n    public void handleError(SAXParseException e) throws org.xml.sax.SAXException  {\n        // Do nothing. This will allow the validation to continue even if there are errors.\n        this.exceptions.add(e);\n    }\n}\n</code></pre>\n<p>Following is my schema validator:\n<code>Main.class</code></p>\n<pre><code>import javax.xml.XMLConstants;\nimport javax.xml.transform.Source;\nimport javax.xml.transform.stream.StreamSource;\nimport javax.xml.validation.Schema;\nimport javax.xml.validation.SchemaFactory;\nimport javax.xml.validation.Validator;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.List;\n\npublic class TestMain {\n    public static void main(String[] args) throws SAXException, IOException {\n        final String xsdPath = &quot;/xsd/myXSD.xsd&quot;;\n        final String xmlPath = &quot;/myXml.xml&quot;;\n        listParsingExceptions(xsdPath, xmlPath);\n    }\n\n    private static Validator initValidator(final String xsdPath) throws SAXException {\n        final SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n        final Source schemaFile = new StreamSource(TestMain.class.getResourceAsStream(xsdPath));\n        final Schema schema = factory.newSchema(schemaFile);\n        return schema.newValidator();\n    }\n\n    public static List&lt;SAXParseException&gt; listParsingExceptions(final String xsdPath, final String xmlPath) throws IOException, SAXException {\n        final InputStream inputStream = TestMain.class.getResourceAsStream(xmlPath);\n        final XsdErrorHandler xsdErrorHandler = new XsdErrorHandler();\n        final Validator validator = initValidator(xsdPath);\n        validator.setErrorHandler(xsdErrorHandler);\n\n        try {\n            validator.validate(new StreamSource(inputStream));\n        } catch (SAXParseException e)\n        {\n            // ...\n        }\n\n        System.out.println(&quot;ERRORS : &quot;);\n        xsdErrorHandler.getExceptions().forEach(e -&gt; System.out.println(e.getMessage()));\n        return xsdErrorHandler.getExceptions();\n    }\n}\n</code></pre>\n<p>Issues:</p>\n<ol>\n<li><p>I am a bit confused about what else I need to do to make this continue working. Can someone please provide some suggestions?</p>\n</li>\n<li><p>Also, my XSD contains many imports and references to other XSD. When I give a relative path, then it won't work, but when I give an absolute path, then it works. Is there a way I can make it work with a relative path?</p>\n</li>\n</ol>\n<p>Following fails:</p>\n<pre><code>&lt;xsd:import namespace=&quot;urn:global:xsd:1&quot; schemaLocation=&quot;./global.xsd&quot;/&gt;\n</code></pre>\n<p>Following works:</p>\n<pre><code>\n&lt;xsd:import namespace=&quot;urn:global:xsd:1&quot; schemaLocation=&quot;/Users/username/project/validation/src/main/resources/xsd/global.xsd&quot;/&gt;\n</code></pre>\n<p>I tried to provide the path for XSD file using <code>maven-jaxb2-plugin</code> something like this but this also did not work for me</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.14.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;schemaDirectory&gt;${basedir}/src/main/resources/xsd&lt;/schemaDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>I tried to write my own <code>ClasspathResourceResolver</code> by referencing <a href=\"https://blog.frankel.ch/xml-validation-with-importedincluded-schemas/\" rel=\"nofollow noreferrer\">here</a> and added to my <code>schemaFactory</code> using <code>schemaFactory.setResourceResolver(new ClasspathResourceResolver());</code> but that also did not work for me.</p>\n<p>All my files are present in the XSD folder and I would like to reference using the relative path something like this <code>./xsdName.xsd</code></p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":3208526,"reputation":85,"user_id":2709030,"display_name":"mohsenrezaeithe"},"score":0,"creation_date":1670891591,"post_id":74002145,"comment_id":131974007,"body_markdown":"You may be exceeding `max.poll.interval.ms` in the call to `poll(final Duration timeout)`. Also notable from [the documentation](https://kafka.apache.org/30/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#poll(java.time.Duration)): `Note that this method may block beyond the timeout in order to execute custom ConsumerRebalanceListener callbacks.`","body":"You may be exceeding <code>max.poll.interval.ms</code> in the call to <code>poll(final Duration timeout)</code>. Also notable from <a href=\"https://kafka.apache.org/30/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#poll(java.time.Duration)\" rel=\"nofollow noreferrer\">the documentation</a>: <code>Note that this method may block beyond the timeout in order to execute custom ConsumerRebalanceListener callbacks.</code>"}],"answers":[{"tags":[],"owner":{"account_id":9492638,"reputation":759,"user_id":7056847,"display_name":"Saxon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665774498,"creation_date":1665334796,"answer_id":74006755,"question_id":74002145,"body_markdown":"Are you setting the parameter session.timeout.ms?\r\nThe default value is 45 seconds, so increasing above 70-80 seconds should fix the problem. Pay attention because it must be between the group.min.session.timeout.ms and group.max.session.timeout.ms set for the brokers.\r\n\r\nDecoupling session.timeout.ms and max.poll.interval.ms is the result of KIP-62:\r\n\r\nhttps://cwiki.apache.org/confluence/display/KAFKA/KIP-62%3A+Allow+consumer+to+send+heartbeats+from+a+background+thread\r\n\r\n\r\n","title":"Kafka consumer poll timeout when processing is low","body":"<p>Are you setting the parameter session.timeout.ms?\nThe default value is 45 seconds, so increasing above 70-80 seconds should fix the problem. Pay attention because it must be between the group.min.session.timeout.ms and group.max.session.timeout.ms set for the brokers.</p>\n<p>Decoupling session.timeout.ms and max.poll.interval.ms is the result of KIP-62:</p>\n<p><a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-62%3A+Allow+consumer+to+send+heartbeats+from+a+background+thread\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/KAFKA/KIP-62%3A+Allow+consumer+to+send+heartbeats+from+a+background+thread</a></p>\n"}],"owner":{"account_id":12240612,"reputation":159,"user_id":8933813,"accept_rate":50,"display_name":"Coder95"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6914,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670924073,"creation_date":1665289970,"question_id":74002145,"body_markdown":"Kafka broker version: 2.6.2\r\nKafka Java apache client: 3.0.0\r\n\r\nLast week, there were multiple instances where all consumers of a particular consumer group kept dying with the error:\r\n\r\n    consumer poll timeout has expired. This means the time between subsequent calls to poll() was longer than the configured max.poll.interval.ms, which typically implies that the poll loop is spending too much time processing messages. You can address this either by increasing max.poll.interval.ms or by reducing the maximum size of batches returned in poll() with max.poll.records.\r\n\r\nI have 200 partitions and 100 consumers, with an aggregated ingestion rate of 800 events/sec. The handle time for each event is roughly 60ms. `max.poll.interval.ms` is set to the default five minutes and so is `max.poll.records=500`. I&#39;ve recorded the metric `time_between_poll_max` and it appears to be only 70-80s. So I know for a fact that the consumer processing time was less than `max.poll.interval.ms`. So what else would trigger this error? Also, I noticed that `poll_idle_ratio_avg` was 0 during the period the consumers were alive which doesn&#39;t make a lot of sense to me. \r\n\r\nThe general pattern is that one consumer gets the timeout error and the group goes into a rebalancing state, which takes forever. During this time, all the other consumers get kicked out of the group due to the poll timeout erro.\r\n\r\nI see thousands of the following message in the logs:\r\n\r\n    [Consumer clientId==Consumer-2, groupId=EventsConsumer] Request joining group due to: group is already rebalancing\r\n\r\nSo I suspect the actual reason for the entire group dying is this extremely long rebalancing phase. I&#39;m not sure what is causing it though. ","title":"Kafka consumer poll timeout when processing is low","body":"<p>Kafka broker version: 2.6.2\nKafka Java apache client: 3.0.0</p>\n<p>Last week, there were multiple instances where all consumers of a particular consumer group kept dying with the error:</p>\n<pre><code>consumer poll timeout has expired. This means the time between subsequent calls to poll() was longer than the configured max.poll.interval.ms, which typically implies that the poll loop is spending too much time processing messages. You can address this either by increasing max.poll.interval.ms or by reducing the maximum size of batches returned in poll() with max.poll.records.\n</code></pre>\n<p>I have 200 partitions and 100 consumers, with an aggregated ingestion rate of 800 events/sec. The handle time for each event is roughly 60ms. <code>max.poll.interval.ms</code> is set to the default five minutes and so is <code>max.poll.records=500</code>. I've recorded the metric <code>time_between_poll_max</code> and it appears to be only 70-80s. So I know for a fact that the consumer processing time was less than <code>max.poll.interval.ms</code>. So what else would trigger this error? Also, I noticed that <code>poll_idle_ratio_avg</code> was 0 during the period the consumers were alive which doesn't make a lot of sense to me.</p>\n<p>The general pattern is that one consumer gets the timeout error and the group goes into a rebalancing state, which takes forever. During this time, all the other consumers get kicked out of the group due to the poll timeout erro.</p>\n<p>I see thousands of the following message in the logs:</p>\n<pre><code>[Consumer clientId==Consumer-2, groupId=EventsConsumer] Request joining group due to: group is already rebalancing\n</code></pre>\n<p>So I suspect the actual reason for the entire group dying is this extremely long rebalancing phase. I'm not sure what is causing it though.</p>\n"},{"tags":["java","sql-server","sql-server-2019"],"answers":[{"tags":[],"owner":{"account_id":25358374,"reputation":1,"user_id":19174113,"display_name":"Reorange"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670906742,"creation_date":1670906742,"answer_id":74780074,"question_id":74779969,"body_markdown":"Well, I finally figured it out. I thought to delete this post but others might get into the same issue so I decided not to. So here&#39;s how you make it works.\r\n\r\nsimply remove the &quot;N?&quot; from the query like so:\r\n\r\n    where j.Word = ?\r\n\r\nalso, make this adjustment to your setString statement:\r\n\r\n    stm.setString(1, &quot;N&quot; + searchStr);\r\n\r\nand voila, that should be it. Thanks for reading my question.","title":"How do I pass the Unicode select from Java to my database","body":"<p>Well, I finally figured it out. I thought to delete this post but others might get into the same issue so I decided not to. So here's how you make it works.</p>\n<p>simply remove the &quot;N?&quot; from the query like so:</p>\n<pre><code>where j.Word = ?\n</code></pre>\n<p>also, make this adjustment to your setString statement:</p>\n<pre><code>stm.setString(1, &quot;N&quot; + searchStr);\n</code></pre>\n<p>and voila, that should be it. Thanks for reading my question.</p>\n"}],"owner":{"account_id":25358374,"reputation":1,"user_id":19174113,"display_name":"Reorange"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670923798,"creation_date":1670905658,"question_id":74779969,"body_markdown":"I am working on a dictionary Java web app with multiple languages. The database I&#39;m using is SQL Server 2019. This time, the operation is to return the Japanese word from the database when the user searches for it either by Japanese characters (hiragana, katakana, kanji if you are familiar with them) or roman letters (letters like a, b, c we are accustomed to in English). When I execute this query in SQL Server it works just fine:\r\n\r\n`Select j.Word, j.Romaaji, p.PoS, d.[Definition], d.Example from Japanese j\r\njoin (DefinitionsJP d join PartOfSpeech p on d.PoSID = p.PoSID )\r\non j.WordID = d.WordID where j.Word = N&#39;ano&#39; or j.Romaaji = &#39;ano&#39;`\r\n\r\nThe result:\r\n\r\n![the table returns the record I need](https://i.stack.imgur.com/VjSwK.png)\r\n\r\nHowever, when I apply this query to Java, it doesn&#39;t seem to work (i.e. doesn&#39;t return anything to list)\r\n\r\n```\r\npublic ArrayList&lt;Word&gt; getWordJP(String searchStr) {\r\n        ArrayList&lt;Word&gt; list = new ArrayList&lt;Word&gt;();\r\n        try {\r\n            String strSelect = &quot;Select j.Word, j.Romaaji, p.PoS, d.[Definition], d.Example from Japanese j \\n&quot;\r\n                    + &quot;join (DefinitionsJP d join PartOfSpeech p on d.PoSID = p.PoSID ) \\n&quot;\r\n                    + &quot;on j.WordID = d.WordID where j.Word = N? or j.Romaaji = ?&quot;;\r\n            stm = cnn.prepareStatement(strSelect);\r\n            stm.setString(1, searchStr);\r\n            stm.setString(2, searchStr);\r\n            rs = stm.executeQuery();\r\n            while (rs.next()) {\r\n                Word w = new Word();\r\n                w.word = rs.getString(&quot;Word&quot;);\r\n                w.romaaji = rs.getString(&quot;Romaaji&quot;);\r\n                w.PartOfSpeech = rs.getString(&quot;PoS&quot;);\r\n                w.Definition = rs.getString(&quot;Definition&quot;);\r\n                w.Example = rs.getString(&quot;Example&quot;);\r\n                list.add(w);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;getWordJP fail:&quot; + e.getMessage());\r\n        }\r\n        return list;\r\n    }\r\n```\r\n\r\nI believe the `j.Word = N?` is the part that is causing me the problem because when I tried to remove it, the query works fine again. As to why the &#39;N&#39; is there, well, in SQL Server, when you try to select a Unicode record, such as a Japanese or Mandarin character, you need to add an N before the select string like N&#39;&#39; in order for it to work. Any ideas how to fix this issue?","title":"How do I pass the Unicode select from Java to my database","body":"<p>I am working on a dictionary Java web app with multiple languages. The database I'm using is SQL Server 2019. This time, the operation is to return the Japanese word from the database when the user searches for it either by Japanese characters (hiragana, katakana, kanji if you are familiar with them) or roman letters (letters like a, b, c we are accustomed to in English). When I execute this query in SQL Server it works just fine:</p>\n<p><code>Select j.Word, j.Romaaji, p.PoS, d.[Definition], d.Example from Japanese j join (DefinitionsJP d join PartOfSpeech p on d.PoSID = p.PoSID ) on j.WordID = d.WordID where j.Word = N'ano' or j.Romaaji = 'ano'</code></p>\n<p>The result:</p>\n<p><img src=\"https://i.stack.imgur.com/VjSwK.png\" alt=\"the table returns the record I need\" /></p>\n<p>However, when I apply this query to Java, it doesn't seem to work (i.e. doesn't return anything to list)</p>\n<pre><code>public ArrayList&lt;Word&gt; getWordJP(String searchStr) {\n        ArrayList&lt;Word&gt; list = new ArrayList&lt;Word&gt;();\n        try {\n            String strSelect = &quot;Select j.Word, j.Romaaji, p.PoS, d.[Definition], d.Example from Japanese j \\n&quot;\n                    + &quot;join (DefinitionsJP d join PartOfSpeech p on d.PoSID = p.PoSID ) \\n&quot;\n                    + &quot;on j.WordID = d.WordID where j.Word = N? or j.Romaaji = ?&quot;;\n            stm = cnn.prepareStatement(strSelect);\n            stm.setString(1, searchStr);\n            stm.setString(2, searchStr);\n            rs = stm.executeQuery();\n            while (rs.next()) {\n                Word w = new Word();\n                w.word = rs.getString(&quot;Word&quot;);\n                w.romaaji = rs.getString(&quot;Romaaji&quot;);\n                w.PartOfSpeech = rs.getString(&quot;PoS&quot;);\n                w.Definition = rs.getString(&quot;Definition&quot;);\n                w.Example = rs.getString(&quot;Example&quot;);\n                list.add(w);\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;getWordJP fail:&quot; + e.getMessage());\n        }\n        return list;\n    }\n</code></pre>\n<p>I believe the <code>j.Word = N?</code> is the part that is causing me the problem because when I tried to remove it, the query works fine again. As to why the 'N' is there, well, in SQL Server, when you try to select a Unicode record, such as a Japanese or Mandarin character, you need to add an N before the select string like N'' in order for it to work. Any ideas how to fix this issue?</p>\n"},{"tags":["java","android","data-binding","android-databinding"],"answers":[{"tags":[],"owner":{"account_id":5552715,"reputation":3790,"user_id":4405246,"accept_rate":25,"display_name":"pratham kesarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524731032,"creation_date":1524731032,"answer_id":50038210,"question_id":49999808,"body_markdown":"It is possible to pass data to your view model however you also have to pass view along with data. so in your case. what you need to do is as follow.\r\n\r\n    &lt;View\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;wrap_content&quot;\r\n      android:onClick=&quot;@{() -&gt; viewModel.onClick(view.someData)}&quot; /&gt;\r\n\r\nAnd in your View Model.\r\n\r\n    public void onClick(View v,String someData) {\r\n    }","title":"BindingAdapter with lambda as argument","body":"<p>It is possible to pass data to your view model however you also have to pass view along with data. so in your case. what you need to do is as follow.</p>\n\n<pre><code>&lt;View\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"wrap_content\"\n  android:onClick=\"@{() -&gt; viewModel.onClick(view.someData)}\" /&gt;\n</code></pre>\n\n<p>And in your View Model.</p>\n\n<pre><code>public void onClick(View v,String someData) {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12649988,"reputation":529,"user_id":9194489,"display_name":"Mateo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524803621,"creation_date":1524803621,"answer_id":50055311,"question_id":49999808,"body_markdown":"You can use a lambda with your own method if it returns a `boolean`, and use the attribute `app:onTouchListener`. No custom `BindingAdapter` needed. \r\n\r\n    &lt;View\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:onTouchListener=&quot;(view, event) -&gt; viewModel.onTouch(event)&quot; /&gt;\r\n\r\n`android:onTouch` also works but you get an `Unknown attribute` lint warning ","title":"BindingAdapter with lambda as argument","body":"<p>You can use a lambda with your own method if it returns a <code>boolean</code>, and use the attribute <code>app:onTouchListener</code>. No custom <code>BindingAdapter</code> needed. </p>\n\n<pre><code>&lt;View\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:onTouchListener=\"(view, event) -&gt; viewModel.onTouch(event)\" /&gt;\n</code></pre>\n\n<p><code>android:onTouch</code> also works but you get an <code>Unknown attribute</code> lint warning </p>\n"},{"tags":[],"owner":{"account_id":13526549,"reputation":2106,"user_id":9758208,"display_name":"Oya Canli"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1590617818,"creation_date":1590609497,"answer_id":62051828,"question_id":49999808,"body_markdown":"As you want it to work like the built-in onClick, let&#39;s take a look at the [official binding adapter][1] for onClick attribute:\r\n\r\n    @BindingAdapter({&quot;android:onClick&quot;, &quot;android:clickable&quot;})\r\n    public static void setOnClick(View view, View.OnClickListener clickListener, boolean clickable) {\r\n        view.setOnClickListener(clickListener);\r\n        view.setClickable(clickable);\r\n    }\r\n   \r\nAs you can see, the binding adapter doesn&#39;t take a lambda as argument, it takes a listener. But you can pass a lambda to it in xml (since it is a single method interface)\r\n\r\nSo here is the binding adapter you need: (I chose another attribute name, since onTouch is already used by framework)\r\n\r\n    @BindingAdapter(&quot;onImageTouch&quot;)\r\n    public static void onImageTouch(View view, View.OnTouchListener onTouchListener) {\r\n        view.setOnTouchListener(onTouchListener);\r\n    }\r\n\r\nThis is how you use it in xml:\r\n\r\n    app:onImageTouch=&quot;@{(view, event) -&gt; viewModel.onImageTouch(event)}&quot;\r\n\r\nAnd here is the corresponding method in viewmodel:\r\n\r\n    public boolean onImageTouch(MotionEvent event){\r\n        Timber.e(&quot;OnImageTouch is called&quot;);\r\n        return true;\r\n    }\r\n\r\n (It does nothing, but notice that it should return a boolean because onTouch callback returns a boolean.)\r\n\r\nYou don&#39;t need to implement OnTouchListener in your viewmodel or activity. This works very similar to the example with onClick that you gave in the beginning.\r\n\r\nLet me note that there is already a built-in binding adapter for onTouch attribute, but I guess it was just an example and you in fact want to learn how to make custom ones. But be careful not to choose attribute names that already exist in the framework, to avoid any clashes.\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/data-binding/+/refs/heads/studio-master-dev/extensions/baseAdapters/src/main/java/androidx/databinding/adapters/ViewBindingAdapter.java#142","title":"BindingAdapter with lambda as argument","body":"<p>As you want it to work like the built-in onClick, let's take a look at the <a href=\"https://android.googlesource.com/platform/frameworks/data-binding/+/refs/heads/studio-master-dev/extensions/baseAdapters/src/main/java/androidx/databinding/adapters/ViewBindingAdapter.java#142\" rel=\"noreferrer\">official binding adapter</a> for onClick attribute:</p>\n\n<pre><code>@BindingAdapter({\"android:onClick\", \"android:clickable\"})\npublic static void setOnClick(View view, View.OnClickListener clickListener, boolean clickable) {\n    view.setOnClickListener(clickListener);\n    view.setClickable(clickable);\n}\n</code></pre>\n\n<p>As you can see, the binding adapter doesn't take a lambda as argument, it takes a listener. But you can pass a lambda to it in xml (since it is a single method interface)</p>\n\n<p>So here is the binding adapter you need: (I chose another attribute name, since onTouch is already used by framework)</p>\n\n<pre><code>@BindingAdapter(\"onImageTouch\")\npublic static void onImageTouch(View view, View.OnTouchListener onTouchListener) {\n    view.setOnTouchListener(onTouchListener);\n}\n</code></pre>\n\n<p>This is how you use it in xml:</p>\n\n<pre><code>app:onImageTouch=\"@{(view, event) -&gt; viewModel.onImageTouch(event)}\"\n</code></pre>\n\n<p>And here is the corresponding method in viewmodel:</p>\n\n<pre><code>public boolean onImageTouch(MotionEvent event){\n    Timber.e(\"OnImageTouch is called\");\n    return true;\n}\n</code></pre>\n\n<p>(It does nothing, but notice that it should return a boolean because onTouch callback returns a boolean.)</p>\n\n<p>You don't need to implement OnTouchListener in your viewmodel or activity. This works very similar to the example with onClick that you gave in the beginning.</p>\n\n<p>Let me note that there is already a built-in binding adapter for onTouch attribute, but I guess it was just an example and you in fact want to learn how to make custom ones. But be careful not to choose attribute names that already exist in the framework, to avoid any clashes.</p>\n"}],"owner":{"account_id":424773,"reputation":21418,"user_id":804967,"accept_rate":64,"display_name":"fweigl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2623,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":62051828,"answer_count":3,"score":6,"last_activity_date":1670923747,"creation_date":1524566974,"question_id":49999808,"body_markdown":"With Android databinding, I can do the following: \r\n\r\n    &lt;View\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:onClick=&quot;@{() -&gt; viewModel.onClick()}&quot; /&gt;\r\n\r\nMy `ViewModel` does not have to implement `OnClickListener`, but just have a method: \r\n\r\n    public void onClick() {\r\n       \r\n    }\r\n\r\nWhat it passes to the `onClick` attribute in the Xml looks like a lambda to me. \r\n\r\nHow can I do this with my own `BindingAdapters`?\r\n\r\n**What I want:** \r\nLet&#39;s assume I want to bind touch events and I want to pass the `MotionEvent`, I would imagine this to look in the Xml like this: \r\n\r\n    &lt;View\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          app:onTouch=&quot;(view, event) -&gt; viewModel.onTouch(event)&quot; /&gt;\r\n\r\nand the `BindingAdapter` something like: \r\n\r\n    @BindingAdapter(&quot;onTouch&quot;)\r\n    public static void onTouch(View view, ??? lambda) {\r\n      view.setOnTouchListener(new View.OnTouchListener() {\r\n        @Override\r\n        public boolean onTouch(final View v, final MotionEvent event) {\r\n          return lambda(event);\r\n        }\r\n      });\r\n    }\r\n\r\nI do **not** want my ViewModel to implement `OnTouchListener` and bind it like: \r\n\r\n    @BindingAdapter()\r\n    public  static  void onTouch(View view, View.OnTouchListener onTouchListener) {\r\n        view.setOnTouchListener(onTouchListener);\r\n    }\r\n\r\nand I do **not** want bind the touch event directly to my `ViewModel` like: \r\n\r\n    @BindingAdapter()\r\n    public static void onTouch(final View view, final MyViewModel myViewModel) {\r\n      view.setOnTouchListener(new View.OnTouchListener() {\r\n        @Override\r\n        public boolean onTouch(final View v, final MotionEvent event) {\r\n          return myViewModel.onTouch(view, myViewModel);\r\n        }\r\n      });\r\n    }\r\n\r\nIs this possible with Databinding?","title":"BindingAdapter with lambda as argument","body":"<p>With Android databinding, I can do the following: </p>\n\n<pre><code>&lt;View\n      android:layout_width=\"match_parent\"\n      android:layout_height=\"wrap_content\"\n      android:onClick=\"@{() -&gt; viewModel.onClick()}\" /&gt;\n</code></pre>\n\n<p>My <code>ViewModel</code> does not have to implement <code>OnClickListener</code>, but just have a method: </p>\n\n<pre><code>public void onClick() {\n\n}\n</code></pre>\n\n<p>What it passes to the <code>onClick</code> attribute in the Xml looks like a lambda to me. </p>\n\n<p>How can I do this with my own <code>BindingAdapters</code>?</p>\n\n<p><strong>What I want:</strong> \nLet's assume I want to bind touch events and I want to pass the <code>MotionEvent</code>, I would imagine this to look in the Xml like this: </p>\n\n<pre><code>&lt;View\n      android:layout_width=\"match_parent\"\n      android:layout_height=\"wrap_content\"\n      app:onTouch=\"(view, event) -&gt; viewModel.onTouch(event)\" /&gt;\n</code></pre>\n\n<p>and the <code>BindingAdapter</code> something like: </p>\n\n<pre><code>@BindingAdapter(\"onTouch\")\npublic static void onTouch(View view, ??? lambda) {\n  view.setOnTouchListener(new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(final View v, final MotionEvent event) {\n      return lambda(event);\n    }\n  });\n}\n</code></pre>\n\n<p>I do <strong>not</strong> want my ViewModel to implement <code>OnTouchListener</code> and bind it like: </p>\n\n<pre><code>@BindingAdapter()\npublic  static  void onTouch(View view, View.OnTouchListener onTouchListener) {\n    view.setOnTouchListener(onTouchListener);\n}\n</code></pre>\n\n<p>and I do <strong>not</strong> want bind the touch event directly to my <code>ViewModel</code> like: </p>\n\n<pre><code>@BindingAdapter()\npublic static void onTouch(final View view, final MyViewModel myViewModel) {\n  view.setOnTouchListener(new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(final View v, final MotionEvent event) {\n      return myViewModel.onTouch(view, myViewModel);\n    }\n  });\n}\n</code></pre>\n\n<p>Is this possible with Databinding?</p>\n"},{"tags":["java","selenium","testing"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1639136447,"post_id":70303945,"comment_id":124277360,"body_markdown":"Does it time out when you use a `FluentWait` instead of a `WebDriverWait`? You can initialize it `withTimeOut(Duration)` while `pollingEvery(Duration)` and put, let&#39;s say, 30 seconds for timeout?","body":"Does it time out when you use a <code>FluentWait</code> instead of a <code>WebDriverWait</code>? You can initialize it <code>withTimeOut(Duration)</code> while <code>pollingEvery(Duration)</code> and put, let&#39;s say, 30 seconds for timeout?"},{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1639137179,"post_id":70303945,"comment_id":124277593,"body_markdown":"Can you post the url if it is public?","body":"Can you post the url if it is public?"},{"owner":{"account_id":3421848,"reputation":323,"user_id":2869150,"accept_rate":22,"display_name":"user2869150"},"score":0,"creation_date":1639140789,"post_id":70303945,"comment_id":124278734,"body_markdown":"Sure, it&#39;s https://demoqa.com/checkbox","body":"Sure, it&#39;s <a href=\"https://demoqa.com/checkbox\" rel=\"nofollow noreferrer\">demoqa.com/checkbox</a>"}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639142739,"creation_date":1639142739,"answer_id":70305219,"question_id":70303945,"body_markdown":"You have to click the parrent label instead of the checkbox.\r\n\r\nCode:\r\n\r\n    package selenium;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    public class DemoQACheckBoxTest extends WebDriverSetup {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tWebDriver driver = startChromeDriver(); // wrapped driver init\r\n    \t\tdriver.get(&quot;https://demoqa.com/checkbox&quot;);\r\n    \t\tWebElement checkBox = driver.findElement(By.id(&quot;tree-node-home&quot;));\r\n    \t\tWebElement checkBoxLabel = driver.findElement(By.xpath(&quot;//label[contains(@for,&#39;tree-node-home&#39;)]&quot;));\r\n    \t\tSystem.out.println(&quot;checkbox text: &quot; + checkBox.getText());\r\n    \t\tSystem.out.println(&quot;label text: &quot; + checkBoxLabel.getText());\r\n    \t\tSystem.out.println(&quot;checkbox is displayed: &quot; + checkBox.isDisplayed());\r\n    \t\tSystem.out.println(&quot;checkbox is enabled: &quot; + checkBox.isEnabled());\r\n    \t\tSystem.out.println(&quot;checkbox is selected: &quot; + checkBox.isSelected());\r\n    \t\tcheckBoxLabel.click();\r\n    \t\tSystem.out.println(&quot;checkbox is selected: &quot; + checkBox.isSelected());\r\n    \t\tdriver.quit();\r\n    \t}\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    Starting ChromeDriver 96.0.4664.45 (76e4c1bb2ab4671b8beba3444e61c0f17584b2fc-refs/branch-heads/4664@{#947}) on port 16990\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    Pro 10, 2021 2:23:39 ODP. org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    checkbox text: \r\n    label text: Home\r\n    checkbox is displayed: false\r\n    checkbox is enabled: true\r\n    checkbox is selected: false\r\n    checkbox is selected: true","title":"Selenium testing - checkbox &quot;element not interactable&quot;","body":"<p>You have to click the parrent label instead of the checkbox.</p>\n<p>Code:</p>\n<pre><code>package selenium;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\npublic class DemoQACheckBoxTest extends WebDriverSetup {\n\n    public static void main(String[] args) {\n\n        WebDriver driver = startChromeDriver(); // wrapped driver init\n        driver.get(&quot;https://demoqa.com/checkbox&quot;);\n        WebElement checkBox = driver.findElement(By.id(&quot;tree-node-home&quot;));\n        WebElement checkBoxLabel = driver.findElement(By.xpath(&quot;//label[contains(@for,'tree-node-home')]&quot;));\n        System.out.println(&quot;checkbox text: &quot; + checkBox.getText());\n        System.out.println(&quot;label text: &quot; + checkBoxLabel.getText());\n        System.out.println(&quot;checkbox is displayed: &quot; + checkBox.isDisplayed());\n        System.out.println(&quot;checkbox is enabled: &quot; + checkBox.isEnabled());\n        System.out.println(&quot;checkbox is selected: &quot; + checkBox.isSelected());\n        checkBoxLabel.click();\n        System.out.println(&quot;checkbox is selected: &quot; + checkBox.isSelected());\n        driver.quit();\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Starting ChromeDriver 96.0.4664.45 (76e4c1bb2ab4671b8beba3444e61c0f17584b2fc-refs/branch-heads/4664@{#947}) on port 16990\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nPro 10, 2021 2:23:39 ODP. org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\ncheckbox text: \nlabel text: Home\ncheckbox is displayed: false\ncheckbox is enabled: true\ncheckbox is selected: false\ncheckbox is selected: true\n</code></pre>\n"}],"owner":{"account_id":3421848,"reputation":323,"user_id":2869150,"accept_rate":22,"display_name":"user2869150"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1431,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70305219,"answer_count":1,"score":1,"last_activity_date":1670923543,"creation_date":1639136234,"question_id":70303945,"body_markdown":"Trying to select element for testing. We have it&#39;s ID, so:\r\n\r\n\r\n```\r\n   @FindBy(how = How.ID, using = &quot;tree-node-home&quot;)\r\n    WebElement CheckBoxMenuItem;\r\n```\r\n\r\nThrows error: ```&quot;element not interactable&quot;.```\r\n\r\nSame with XPath or selecting by css ```[type=&#39;checkbox&#39;]```\r\n\r\nTried to defer loading:\r\n\r\n```\r\nWebDriverWait wait = new WebDriverWait(driver, 20);\r\nwait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;tree-node-home&quot;)));\r\n```\r\n\r\nBut this time I got\r\n```&quot;java: &lt;identifier&gt; expected&quot;```\r\nwith the cursor blinking before ```(ExpectedConditions&quot;.```\r\n\r\nWhat the F.?","title":"Selenium testing - checkbox &quot;element not interactable&quot;","body":"<p>Trying to select element for testing. We have it's ID, so:</p>\n<pre><code>   @FindBy(how = How.ID, using = &quot;tree-node-home&quot;)\n    WebElement CheckBoxMenuItem;\n</code></pre>\n<p>Throws error: <code>&quot;element not interactable&quot;.</code></p>\n<p>Same with XPath or selecting by css <code>[type='checkbox']</code></p>\n<p>Tried to defer loading:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 20);\nwait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;tree-node-home&quot;)));\n</code></pre>\n<p>But this time I got\n<code>&quot;java: &lt;identifier&gt; expected&quot;</code>\nwith the cursor blinking before <code>(ExpectedConditions&quot;.</code></p>\n<p>What the F.?</p>\n"},{"tags":["java","multithreading","spring-boot","concurrency","httprequest"],"answers":[{"tags":[],"owner":{"account_id":7866948,"reputation":995,"user_id":5945498,"display_name":"Ashutosh A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670923516,"creation_date":1670922281,"answer_id":74782316,"question_id":74777257,"body_markdown":"    @Test\r\n    public void test() {\r\n        List&lt;Integer&gt; productIds = Arrays.asList(2, 5, 7);\r\n\r\n        List&lt;CompletableFuture&lt;MyCustomProductResponse&gt;&gt; productFutures =\r\n                productIds.stream()\r\n                        .map(productId -&gt; createProduct(productId))\r\n                        .collect(Collectors.toList());\r\n\r\n        List&lt;MyCustomProductResponse&gt; productResponses =\r\n                productFutures.stream()\r\n                        .map(CompletableFuture::join)\r\n                        .collect(Collectors.toList());\r\n\r\n        // how to print which productIds requests failed here\r\n        productResponses.forEach(pr -&gt; {\r\n            if (!pr.apiResponse.isSuccessAPI) {\r\n                System.out.println(pr.productId);\r\n            }\r\n        });\r\n    }\r\n\r\n    private CompletableFuture&lt;MyCustomProductResponse&gt; createProduct(int productId) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n            try {\r\n                Thread.sleep(1000);\r\n                // This is what you get from API\r\n                ProductResponseFromAPI apiResponse = new ProductResponseFromAPI(new Random().nextBoolean(), new Random().nextInt());\r\n                //You wrap that in your own object\r\n                return new MyCustomProductResponse(productId, apiResponse);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Value\r\n    static class ProductResponseFromAPI {\r\n        private boolean isSuccessAPI;\r\n        private int productTransactionId;\r\n    }\r\n\r\n    @Value\r\n    static class MyCustomProductResponse {\r\n        private int productId;\r\n        private ProductResponseFromAPI apiResponse;\r\n    }","title":"Java Run Multiple APIs same time, collect Request List which failed","body":"<pre><code>@Test\npublic void test() {\n    List&lt;Integer&gt; productIds = Arrays.asList(2, 5, 7);\n\n    List&lt;CompletableFuture&lt;MyCustomProductResponse&gt;&gt; productFutures =\n            productIds.stream()\n                    .map(productId -&gt; createProduct(productId))\n                    .collect(Collectors.toList());\n\n    List&lt;MyCustomProductResponse&gt; productResponses =\n            productFutures.stream()\n                    .map(CompletableFuture::join)\n                    .collect(Collectors.toList());\n\n    // how to print which productIds requests failed here\n    productResponses.forEach(pr -&gt; {\n        if (!pr.apiResponse.isSuccessAPI) {\n            System.out.println(pr.productId);\n        }\n    });\n}\n\nprivate CompletableFuture&lt;MyCustomProductResponse&gt; createProduct(int productId) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n        try {\n            Thread.sleep(1000);\n            // This is what you get from API\n            ProductResponseFromAPI apiResponse = new ProductResponseFromAPI(new Random().nextBoolean(), new Random().nextInt());\n            //You wrap that in your own object\n            return new MyCustomProductResponse(productId, apiResponse);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    });\n}\n\n@Value\nstatic class ProductResponseFromAPI {\n    private boolean isSuccessAPI;\n    private int productTransactionId;\n}\n\n@Value\nstatic class MyCustomProductResponse {\n    private int productId;\n    private ProductResponseFromAPI apiResponse;\n}\n</code></pre>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74782316,"answer_count":1,"score":0,"last_activity_date":1670923516,"creation_date":1670878821,"question_id":74777257,"body_markdown":"I am running same API multiple times for a List in parallel to save time.\r\nI have input List of ProductIds and API returns an Output ProductResponse with successFlag and TransactionId.\r\n\r\n1 I am trying to run them all, the other API calls should continue even if one fails.\r\n\r\n2 And then collect all ProductId Number Requests which fail. How would I collect the original request list that failed? Trying to modify code below.\r\n        \r\n\r\n    public runAllAPIs() {\r\n\r\n        List&lt;Integer&gt; productIds = Arrays.asList(2,5,7);\r\n\r\n        List&lt;CompletableFuture&lt;ProductResponse&gt;&gt; productFutures =\r\n                        productIds.stream()\r\n                                .map(productIdItems -&gt; createProduct(productId)\r\n                                .collect(Collectors.toList());\r\n\r\n        List&lt;ProductResponse&gt; productResponses =\r\n                        productFutures.stream()\r\n                                .map(CompletableFuture::join)\r\n                                .collect(Collectors.toList());\r\n\r\n        // how to print which productIds requests failed here\r\n    }\r\n\r\n    private CompletableFuture&lt;ProductResponse&gt; createProduct(int productId){\r\n        return CompletableFuture.supplyAsync(() -&gt; productAPI.createProduct(productId);\r\n    }\r\n\r\n    @Data\r\n    public class ProductResponse {\r\n      private boolean isSuccessAPI;\r\n      private int transactionId;\r\n    }\r\n\r\n\r\nNote: the Response Object does not contain ProductId in request.","title":"Java Run Multiple APIs same time, collect Request List which failed","body":"<p>I am running same API multiple times for a List in parallel to save time.\nI have input List of ProductIds and API returns an Output ProductResponse with successFlag and TransactionId.</p>\n<p>1 I am trying to run them all, the other API calls should continue even if one fails.</p>\n<p>2 And then collect all ProductId Number Requests which fail. How would I collect the original request list that failed? Trying to modify code below.</p>\n<pre><code>public runAllAPIs() {\n\n    List&lt;Integer&gt; productIds = Arrays.asList(2,5,7);\n\n    List&lt;CompletableFuture&lt;ProductResponse&gt;&gt; productFutures =\n                    productIds.stream()\n                            .map(productIdItems -&gt; createProduct(productId)\n                            .collect(Collectors.toList());\n\n    List&lt;ProductResponse&gt; productResponses =\n                    productFutures.stream()\n                            .map(CompletableFuture::join)\n                            .collect(Collectors.toList());\n\n    // how to print which productIds requests failed here\n}\n\nprivate CompletableFuture&lt;ProductResponse&gt; createProduct(int productId){\n    return CompletableFuture.supplyAsync(() -&gt; productAPI.createProduct(productId);\n}\n\n@Data\npublic class ProductResponse {\n  private boolean isSuccessAPI;\n  private int transactionId;\n}\n</code></pre>\n<p>Note: the Response Object does not contain ProductId in request.</p>\n"},{"tags":["java","android","android-layout","responsive-design","sdp"],"comments":[{"owner":{"account_id":23555089,"reputation":565,"user_id":17597213,"display_name":"Jordan"},"score":0,"creation_date":1670967443,"post_id":74782521,"comment_id":131994586,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":25124793,"reputation":103,"user_id":18972705,"display_name":"MST intern 2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670923397,"creation_date":1670923397,"question_id":74782521,"body_markdown":"Instead of using the SDP library I want to create my own styling for size units but because I am beginner I am looking for step by step guidance.\r\n\r\nI am looking for step by step guidance.","title":"How i can create my own SDP- scalable size unit library for android?","body":"<p>Instead of using the SDP library I want to create my own styling for size units but because I am beginner I am looking for step by step guidance.</p>\n<p>I am looking for step by step guidance.</p>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-data","persistence"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1670923151,"post_id":74782228,"comment_id":131979526,"body_markdown":"`items.hashCode()` iterates over the elements in the list and calls `.hashCode()` on each element.  https://stackoverflow.com/questions/41111868/why-java-implement-different-hashcode-method-of-set-and-arraylist","body":"<code>items.hashCode()</code> iterates over the elements in the list and calls <code>.hashCode()</code> on each element.  <a href=\"https://stackoverflow.com/questions/41111868/why-java-implement-different-hashcode-method-of-set-and-arraylist\" title=\"why java implement different hashcode method of set and arraylist\">stackoverflow.com/questions/41111868/&hellip;</a>"},{"owner":{"account_id":11916309,"reputation":670,"user_id":8720110,"display_name":"Raynigon"},"score":0,"creation_date":1671666396,"post_id":74782228,"comment_id":132150469,"body_markdown":"A cause for this behaviour could be the change of the circular dependency detection, see https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#fetch-circularity-determination","body":"A cause for this behaviour could be the change of the circular dependency detection, see <a href=\"https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#fetch-circularity-determination\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-orm/blob/6.0/&hellip;</a>"},{"owner":{"account_id":11916309,"reputation":670,"user_id":8720110,"display_name":"Raynigon"},"score":1,"creation_date":1676645907,"post_id":74782228,"comment_id":133184769,"body_markdown":"Looks like a Bug in Hibernate, see https://discourse.hibernate.org/t/force-initializing-collection-loading/7172","body":"Looks like a Bug in Hibernate, see <a href=\"https://discourse.hibernate.org/t/force-initializing-collection-loading/7172\" rel=\"nofollow noreferrer\">discourse.hibernate.org/t/force-initializing-collection-load&zwnj;&#8203;ing/&hellip;</a>"}],"owner":{"account_id":15800454,"reputation":120,"user_id":11401122,"display_name":"Bonniu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3581,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1670923378,"creation_date":1670921900,"question_id":74782228,"body_markdown":"After upgraded Spring to v.6 and Spring boot to v.3 (and automatically Hibernate to 6.1.5), tests started to fail because of `org.hibernate.AssertionFailure: force initializing collection loading`\r\n\r\nI have an entity class AClass with a field\r\n\r\n```\r\n@OneToMany(mappedBy = &quot;aClass&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\r\nprivate Set&lt;BClass&gt; items;\r\n```\r\n\r\nWhen repository of AClass is triggering several methods, hashCode method is invoked and when it tries to execute `items.hashCode()`, I&#39;m getting the exception:\r\n\r\n```\r\n2022-12-13T09:42:46.314+01:00 ERROR 15336 --- [    Test worker] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: force initializing collection loading\r\n\r\norg.hibernate.AssertionFailure: force initializing collection loading\r\n\tat app//org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:807)\r\n\tat app//org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:995)\r\n\tat app//org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:981)\r\n\tat app//org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:170)\r\n\tat app//org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:32)\r\n\tat app//org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:443)\r\n\tat app//org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166)\r\n\tat app//org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91)\r\n\tat app//org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\r\n\tat app//org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:121)\r\n\tat app//org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:789)\r\n\tat app//org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:75)\r\n\tat app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat app//org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1710)\r\n\tat app//org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:613)\r\n\tat app//org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)\r\n\tat app//org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:611)\r\n\tat app//org.hibernate.collection.spi.AbstractPersistentCollection.read(AbstractPersistentCollection.java:136)\r\n\tat app//org.hibernate.collection.spi.PersistentSet.hashCode(PersistentSet.java:407)\r\n\tat app//xyz.example.AClass.hashCode(AClass.java:52)\r\n...\r\n```\r\n\r\nWhen I used default Lombok hashCode method, or IntelliJ default like\r\n\r\n```\r\n@Override\r\npublic int hashCode() {\r\n    int result = super.hashCode();\r\n    result = 31 * result + (x != null ? x.hashCode() : 0);\r\n    result = 31 * result + (y != null ? y.hashCode() : 0);\r\n    result = 31 * result + (z != null ? z.hashCode() : 0);\r\n    result = 31 * result + (items != null ? items.hashCode() : 0);\r\n    return result;\r\n}\r\n```\r\nI&#39;m getting exception, but when I removed this line:\r\n```\r\n    result = 31 * result + (items != null ? items.hashCode() : 0);\r\n```\r\ntests are passing. However, I wouldn&#39;t like to remove `items` from hashCode method.","title":"org.hibernate.AssertionFailure: force initializing collection loading","body":"<p>After upgraded Spring to v.6 and Spring boot to v.3 (and automatically Hibernate to 6.1.5), tests started to fail because of <code>org.hibernate.AssertionFailure: force initializing collection loading</code></p>\n<p>I have an entity class AClass with a field</p>\n<pre><code>@OneToMany(mappedBy = &quot;aClass&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate Set&lt;BClass&gt; items;\n</code></pre>\n<p>When repository of AClass is triggering several methods, hashCode method is invoked and when it tries to execute <code>items.hashCode()</code>, I'm getting the exception:</p>\n<pre><code>2022-12-13T09:42:46.314+01:00 ERROR 15336 --- [    Test worker] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: force initializing collection loading\n\norg.hibernate.AssertionFailure: force initializing collection loading\n    at app//org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:807)\n    at app//org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:995)\n    at app//org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:981)\n    at app//org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:170)\n    at app//org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:32)\n    at app//org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:443)\n    at app//org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166)\n    at app//org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91)\n    at app//org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n    at app//org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:121)\n    at app//org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:789)\n    at app//org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:75)\n    at app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at app//org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1710)\n    at app//org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:613)\n    at app//org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)\n    at app//org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:611)\n    at app//org.hibernate.collection.spi.AbstractPersistentCollection.read(AbstractPersistentCollection.java:136)\n    at app//org.hibernate.collection.spi.PersistentSet.hashCode(PersistentSet.java:407)\n    at app//xyz.example.AClass.hashCode(AClass.java:52)\n...\n</code></pre>\n<p>When I used default Lombok hashCode method, or IntelliJ default like</p>\n<pre><code>@Override\npublic int hashCode() {\n    int result = super.hashCode();\n    result = 31 * result + (x != null ? x.hashCode() : 0);\n    result = 31 * result + (y != null ? y.hashCode() : 0);\n    result = 31 * result + (z != null ? z.hashCode() : 0);\n    result = 31 * result + (items != null ? items.hashCode() : 0);\n    return result;\n}\n</code></pre>\n<p>I'm getting exception, but when I removed this line:</p>\n<pre><code>    result = 31 * result + (items != null ? items.hashCode() : 0);\n</code></pre>\n<p>tests are passing. However, I wouldn't like to remove <code>items</code> from hashCode method.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1670222712,"post_id":74659392,"comment_id":131817194,"body_markdown":"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html","body":"<a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\" rel=\"nofollow noreferrer\">selenium.dev/selenium/docs/api/java/org/openqa/selenium/supp&zwnj;&#8203;ort/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19929707,"reputation":1124,"user_id":14603518,"display_name":"pr96"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1670343404,"creation_date":1670343404,"answer_id":74705772,"question_id":74659392,"body_markdown":"`Waits` in Selenium are one of the essential pieces of code that executes a test case. It runs on specific commands called scripts that make a page load.\r\n\r\n# Selenium wait commands have two sections #\r\n\r\n - Implicit wait \r\n - Explicit wait\r\n\r\n## Implicit wait in Selenium ##\r\n\r\nAn implicit wait is a condition-less wait command in Selenium. Since it is condition-less, it is applied to all the web elements on the web page.\r\n\r\nThis can be applied implicit wait through three functions:\r\n\r\n- implicitlyWait()\r\n- pageLoadTimeout()\r\n- setScriptTimeout()\r\n\r\nBelow will be focused on `implicitlyWaits()`. \r\n\r\n&gt; *As the name suggests `pageLoadTimeout()` command waits for the page to load completely for a specified number of seconds. The `setScriptTimeout()` command waits for the asynchronous parts of the web page to finish loading for a specified number of seconds.*\r\n\r\n### implicitlyWait() command ###\r\n\r\nIn `implicitlyWait()`, the WebDriver will poll the DOM for certain specified time units while trying to find any element. If the element is found earlier, the test executes at that point otherwise the WebDriver waits for the specified duration.\r\n\r\nEx:\r\n\r\n```java\r\nimport java.util.concurrent.TimeUnit;\r\n```\r\n\r\n```java\r\nWebDriver driver = new FirefoxDriver();\r\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\ndriver.get(&quot;https://somedomain/url_that_delays_loading&quot;);\r\nWebElement myDynamicElement = driver.findElement(By.id(&quot;myDynamicElement&quot;))\r\n```\r\n\r\n## Explicit wait in Selenium ##\r\nAn explicit wait is a conditional wait strategy in Selenium in other words you wait until the condition you specified becomes true or the time duration has elapsed.\r\n\r\nExplicit wait provides the following conditions for usage:\r\n\r\n - alertIsPresent()\r\n - elementSelectionStateToBe()\r\n - elementToBeClickable()\r\n - elementToBeSelected()\r\n - frameToBeAvaliableAndSwitchToIt()\r\n - invisibilityOfTheElementLocated()\r\n - invisibilityOfElementWithText()\r\n - presenceOfAllElementsLocatedBy()\r\n - presenceOfElementLocated()\r\n - textToBePresentInElement()\r\n - textToBePresentInElementLocated()\r\n - textToBePresentInElementValue()\r\n - titleIs()\r\n - titleContains()\r\n - visibilityOf()\r\n - visibilityOfAllElements()\r\n - visibilityOfAllElementsLocatedBy()\r\n - visibilityOfElementLocated()\r\n\r\nTwo types of explicit wait commands:\r\n\r\n- WebDriverWait\r\n- FluentWait \r\n\r\n### WebDriverWait ###\r\n\r\nWebDriverWait specifies the condition and time for which the WebDriver needs to wait. Practically, WebDriverWait and explicit wait go synonymously as their definitions and usage match perfectly.\r\n\r\nEx:\r\n```java\r\nWebElement firstResult = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a/h3&quot;)));\r\n```\r\n\r\n### Fluent wait in Selenium ###\r\n\r\nThe fluent wait is similar to explicit wait in Selenium with one additional argument of frequency (also known as polling time). The frequency number tells the WebDriver to keep checking for the element at regular intervals and wait till the maximum of &quot;Duration.ofSeconds&quot;. \r\n\r\nEx:\r\n\r\n```java\r\nWait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver)\r\n  .withTimeout(Duration.ofSeconds(30))\r\n  .pollingEvery(Duration.ofSeconds(5))\r\n  .ignoring(NoSuchElementException.class);\r\n```\r\n\r\nIn the above example, the maximum allowed time for waiting is specified as 30 seconds (Duration.ofSeconds(30)) and the polling time is 5 seconds (pollingEvery(Duration.ofSeconds(5))). With this arrangement, the WebDriver will keep checking for the element every 5 seconds to a maximum elapse of 30 seconds.\r\n\r\n## As for the above question you can use both Implicit,Explicit wait commands.  ##","title":"Wait until div is displayed","body":"<p><code>Waits</code> in Selenium are one of the essential pieces of code that executes a test case. It runs on specific commands called scripts that make a page load.</p>\n<h1>Selenium wait commands have two sections</h1>\n<ul>\n<li>Implicit wait</li>\n<li>Explicit wait</li>\n</ul>\n<h2>Implicit wait in Selenium</h2>\n<p>An implicit wait is a condition-less wait command in Selenium. Since it is condition-less, it is applied to all the web elements on the web page.</p>\n<p>This can be applied implicit wait through three functions:</p>\n<ul>\n<li>implicitlyWait()</li>\n<li>pageLoadTimeout()</li>\n<li>setScriptTimeout()</li>\n</ul>\n<p>Below will be focused on <code>implicitlyWaits()</code>.</p>\n<blockquote>\n<p><em>As the name suggests <code>pageLoadTimeout()</code> command waits for the page to load completely for a specified number of seconds. The <code>setScriptTimeout()</code> command waits for the asynchronous parts of the web page to finish loading for a specified number of seconds.</em></p>\n</blockquote>\n<h3>implicitlyWait() command</h3>\n<p>In <code>implicitlyWait()</code>, the WebDriver will poll the DOM for certain specified time units while trying to find any element. If the element is found earlier, the test executes at that point otherwise the WebDriver waits for the specified duration.</p>\n<p>Ex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.TimeUnit;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>WebDriver driver = new FirefoxDriver();\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\ndriver.get(&quot;https://somedomain/url_that_delays_loading&quot;);\nWebElement myDynamicElement = driver.findElement(By.id(&quot;myDynamicElement&quot;))\n</code></pre>\n<h2>Explicit wait in Selenium</h2>\n<p>An explicit wait is a conditional wait strategy in Selenium in other words you wait until the condition you specified becomes true or the time duration has elapsed.</p>\n<p>Explicit wait provides the following conditions for usage:</p>\n<ul>\n<li>alertIsPresent()</li>\n<li>elementSelectionStateToBe()</li>\n<li>elementToBeClickable()</li>\n<li>elementToBeSelected()</li>\n<li>frameToBeAvaliableAndSwitchToIt()</li>\n<li>invisibilityOfTheElementLocated()</li>\n<li>invisibilityOfElementWithText()</li>\n<li>presenceOfAllElementsLocatedBy()</li>\n<li>presenceOfElementLocated()</li>\n<li>textToBePresentInElement()</li>\n<li>textToBePresentInElementLocated()</li>\n<li>textToBePresentInElementValue()</li>\n<li>titleIs()</li>\n<li>titleContains()</li>\n<li>visibilityOf()</li>\n<li>visibilityOfAllElements()</li>\n<li>visibilityOfAllElementsLocatedBy()</li>\n<li>visibilityOfElementLocated()</li>\n</ul>\n<p>Two types of explicit wait commands:</p>\n<ul>\n<li>WebDriverWait</li>\n<li>FluentWait</li>\n</ul>\n<h3>WebDriverWait</h3>\n<p>WebDriverWait specifies the condition and time for which the WebDriver needs to wait. Practically, WebDriverWait and explicit wait go synonymously as their definitions and usage match perfectly.</p>\n<p>Ex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebElement firstResult = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a/h3&quot;)));\n</code></pre>\n<h3>Fluent wait in Selenium</h3>\n<p>The fluent wait is similar to explicit wait in Selenium with one additional argument of frequency (also known as polling time). The frequency number tells the WebDriver to keep checking for the element at regular intervals and wait till the maximum of &quot;Duration.ofSeconds&quot;.</p>\n<p>Ex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Wait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver)\n  .withTimeout(Duration.ofSeconds(30))\n  .pollingEvery(Duration.ofSeconds(5))\n  .ignoring(NoSuchElementException.class);\n</code></pre>\n<p>In the above example, the maximum allowed time for waiting is specified as 30 seconds (Duration.ofSeconds(30)) and the polling time is 5 seconds (pollingEvery(Duration.ofSeconds(5))). With this arrangement, the WebDriver will keep checking for the element every 5 seconds to a maximum elapse of 30 seconds.</p>\n<h2>As for the above question you can use both Implicit,Explicit wait commands.</h2>\n"},{"tags":[],"owner":{"account_id":25243281,"reputation":527,"user_id":19076879,"display_name":"merovingian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670923252,"creation_date":1670923252,"answer_id":74782489,"question_id":74659392,"body_markdown":"You can use `ExpectedConditions`\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10); // waits for up to 10 seconds\r\n    WebElement loginNotification = wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;toast-container&quot;)));\r\n\r\nThis will wait for up to 10 seconds for the element with the ID toast-container to be visible. If the element is not visible within 10 seconds, a TimeoutException will be thrown.\r\n\r\nYou can also use `wait.until()`\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10); // waits for up to 10 seconds\r\n    \r\n    WebElement loginNotification = wait.until(new ExpectedCondition&lt;WebElement&gt;() {\r\n      @Override\r\n      public WebElement apply(WebDriver d) {\r\n        return d.findElement(By.id(&quot;toast-container&quot;));\r\n      }\r\n    });\r\n\r\n","title":"Wait until div is displayed","body":"<p>You can use <code>ExpectedConditions</code></p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10); // waits for up to 10 seconds\nWebElement loginNotification = wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;toast-container&quot;)));\n</code></pre>\n<p>This will wait for up to 10 seconds for the element with the ID toast-container to be visible. If the element is not visible within 10 seconds, a TimeoutException will be thrown.</p>\n<p>You can also use <code>wait.until()</code></p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10); // waits for up to 10 seconds\n\nWebElement loginNotification = wait.until(new ExpectedCondition&lt;WebElement&gt;() {\n  @Override\n  public WebElement apply(WebDriver d) {\n    return d.findElement(By.id(&quot;toast-container&quot;));\n  }\n});\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1670923252,"creation_date":1670002003,"question_id":74659392,"body_markdown":"I have Angular SPA application which is displaying login notification message. I use selenium web driver with Java:\r\n\r\n       Thread.sleep(1500);\r\n        \r\n       WebElement element = failedLoginWebElement.findElement(By.xpath(&quot;//*[@id=&#39;toast-container&#39;]/div/div&quot;));\r\n\r\nFrom time to time the code is failing because message is delayed. How I can implement a listener which will wait for example 10 seconds the message to appear?\r\n\r\n","title":"Wait until div is displayed","body":"<p>I have Angular SPA application which is displaying login notification message. I use selenium web driver with Java:</p>\n<pre><code>   Thread.sleep(1500);\n    \n   WebElement element = failedLoginWebElement.findElement(By.xpath(&quot;//*[@id='toast-container']/div/div&quot;));\n</code></pre>\n<p>From time to time the code is failing because message is delayed. How I can implement a listener which will wait for example 10 seconds the message to appear?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1670869731,"post_id":74775279,"comment_id":131968477,"body_markdown":"Re, &quot;the code is not &quot;ending&quot; it&#39;s activley waiting.&quot; Can you explain the problem in more detail? When I run your code, the program does exactly what I would expect,\\* and then it ends. [\\*I expect it to print 1000 lines of &quot;A&quot;, 1000 lines of &quot;B&quot;, 1 line of &quot;C&quot;, and 50 lines of &quot;D&quot; in no particular order.]","body":"Re, &quot;the code is not &quot;ending&quot; it&#39;s activley waiting.&quot; Can you explain the problem in more detail? When I run your code, the program does exactly what I would expect,* and then it ends. [*I expect it to print 1000 lines of &quot;A&quot;, 1000 lines of &quot;B&quot;, 1 line of &quot;C&quot;, and 50 lines of &quot;D&quot; in no particular order.]"}],"answers":[{"tags":[],"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670904827,"creation_date":1670870461,"answer_id":74775846,"question_id":74775279,"body_markdown":"Break out of the while loop, once you have started printerThread3.\r\n\r\n\tpublic class PrinterThread extends Thread {\r\n\r\n\t\tprivate String letter;\r\n\t\tprivate int internal;\r\n\t\tprivate int amount;\r\n\r\n\r\n\t\tpublic PrinterThread(String letter, int internal, int amount){\r\n\t\t\tthis.letter = letter;\r\n\t\t\tthis.internal = internal;\r\n\t\t\tthis.amount = amount;\r\n\t\t}\r\n\r\n\t\tpublic void run(){\r\n\t\t\tfor (int i = 1; i &lt;= amount; i++) {\r\n\t\t\t\tSystem.out.println(letter);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(internal);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t\tpublic class Main {\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\r\n\t\t\tPrinterThread printerThread = new PrinterThread(&quot;A&quot;, 1, 1000);\r\n\t\t\tPrinterThread printerThread1 = new PrinterThread(&quot;B&quot;, 1, 1000);\r\n\t\t\tPrinterThread printerThread2 = new PrinterThread(&quot;C&quot;, 1, 1);\r\n\t\t\tPrinterThread printerThread3 = new PrinterThread(&quot;D&quot;, 5, 50);\r\n\r\n\t\t\tprinterThread.start();\r\n\t\t\tprinterThread1.start();\r\n\t\t\tprinterThread2.start();\r\n\r\n\t\t\twhile(!printerThread3.isAlive()){\r\n\t\t\t\tif (!printerThread.isAlive() || !printerThread1.isAlive() || !printerThread2.isAlive()) {\r\n\t\t\t\t\tprinterThread3.start();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//If you want main to wait for all the others to complete, then add this...\r\n\t\t\tprinterThread.join();\r\n\t\t\tprinterThread1.join();\r\n\t\t\tprinterThread2.join();\r\n\t\t\tprinterThread3.join();\r\n\t\t}\r\n\t}","title":"Multithreading actively waiting","body":"<p>Break out of the while loop, once you have started printerThread3.</p>\n<pre><code>public class PrinterThread extends Thread {\n\n    private String letter;\n    private int internal;\n    private int amount;\n\n\n    public PrinterThread(String letter, int internal, int amount){\n        this.letter = letter;\n        this.internal = internal;\n        this.amount = amount;\n    }\n\n    public void run(){\n        for (int i = 1; i &lt;= amount; i++) {\n            System.out.println(letter);\n            try {\n                Thread.sleep(internal);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n}\n\n    public class Main {\n    public static void main(String[] args) {\n\n\n        PrinterThread printerThread = new PrinterThread(&quot;A&quot;, 1, 1000);\n        PrinterThread printerThread1 = new PrinterThread(&quot;B&quot;, 1, 1000);\n        PrinterThread printerThread2 = new PrinterThread(&quot;C&quot;, 1, 1);\n        PrinterThread printerThread3 = new PrinterThread(&quot;D&quot;, 5, 50);\n\n        printerThread.start();\n        printerThread1.start();\n        printerThread2.start();\n\n        while(!printerThread3.isAlive()){\n            if (!printerThread.isAlive() || !printerThread1.isAlive() || !printerThread2.isAlive()) {\n                printerThread3.start();\n                break;\n            }\n        }\n        \n        //If you want main to wait for all the others to complete, then add this...\n        printerThread.join();\n        printerThread1.join();\n        printerThread2.join();\n        printerThread3.join();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25873634,"reputation":51,"user_id":19604090,"display_name":"wieszak09"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670923144,"creation_date":1670867420,"question_id":74775279,"body_markdown":"I&#39;m working on a problem where I have to use 4 different threads to write out a LETTER event INTERNAL ms AMOUNT times. The first 3 threads start right away the forth one is awaiting for one of them to finish &amp; then starting.\r\n\r\nI have got the code to a point where is doing what it should although the code is not &quot;ending&quot; it&#39;s actively waiting. \r\n\r\nCould you advise what could be the issue here?\r\n\r\n```\r\npublic class PrinterThread extends Thread {\r\n\r\n    private String letter;\r\n    private int internal;\r\n    private int amount;\r\n\r\n\r\n    public PrinterThread(String letter, int internal, int amount){\r\n        this.letter = letter;\r\n        this.internal = internal;\r\n        this.amount = amount;\r\n    }\r\n\r\n    public void run(){\r\n        for (int i = 1; i &lt;= amount; i++) {\r\n            System.out.println(letter);\r\n            try {\r\n                Thread.sleep(internal);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n\r\n\r\n        PrinterThread printerThread = new PrinterThread(&quot;A&quot;, 1, 1000);\r\n        PrinterThread printerThread1 = new PrinterThread(&quot;B&quot;, 1, 1000);\r\n        PrinterThread printerThread2 = new PrinterThread(&quot;C&quot;, 1, 1);\r\n        PrinterThread printerThread3 = new PrinterThread(&quot;D&quot;, 5, 50);\r\n\r\n        printerThread.start();\r\n        printerThread1.start();\r\n        printerThread2.start();\r\n\r\n        while(!printerThread3.isAlive()){\r\n            if (!printerThread.isAlive() || !printerThread1.isAlive() || !printerThread2.isAlive()) {\r\n                printerThread3.start();\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Multithreading actively waiting","body":"<p>I'm working on a problem where I have to use 4 different threads to write out a LETTER event INTERNAL ms AMOUNT times. The first 3 threads start right away the forth one is awaiting for one of them to finish &amp; then starting.</p>\n<p>I have got the code to a point where is doing what it should although the code is not &quot;ending&quot; it's actively waiting.</p>\n<p>Could you advise what could be the issue here?</p>\n<pre><code>public class PrinterThread extends Thread {\n\n    private String letter;\n    private int internal;\n    private int amount;\n\n\n    public PrinterThread(String letter, int internal, int amount){\n        this.letter = letter;\n        this.internal = internal;\n        this.amount = amount;\n    }\n\n    public void run(){\n        for (int i = 1; i &lt;= amount; i++) {\n            System.out.println(letter);\n            try {\n                Thread.sleep(internal);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n}\n\n    public class Main {\n    public static void main(String[] args) {\n\n\n        PrinterThread printerThread = new PrinterThread(&quot;A&quot;, 1, 1000);\n        PrinterThread printerThread1 = new PrinterThread(&quot;B&quot;, 1, 1000);\n        PrinterThread printerThread2 = new PrinterThread(&quot;C&quot;, 1, 1);\n        PrinterThread printerThread3 = new PrinterThread(&quot;D&quot;, 5, 50);\n\n        printerThread.start();\n        printerThread1.start();\n        printerThread2.start();\n\n        while(!printerThread3.isAlive()){\n            if (!printerThread.isAlive() || !printerThread1.isAlive() || !printerThread2.isAlive()) {\n                printerThread3.start();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","loops","big-o","nested-loops"],"comments":[{"owner":{"account_id":1689190,"reputation":1539,"user_id":1551896,"accept_rate":100,"display_name":"Dan"},"score":0,"creation_date":1359061541,"post_id":14510701,"comment_id":20228303,"body_markdown":"1) Yes 2) Only if the loops don&#39;T depend on each other.","body":"1) Yes 2) Only if the loops don&#39;T depend on each other."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1359061581,"post_id":14510701,"comment_id":20228324,"body_markdown":"You can multiply them if they are independent.","body":"You can multiply them if they are independent."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1359061524,"creation_date":1359061524,"answer_id":14510746,"question_id":14510701,"body_markdown":" 1. Yes, this is correct: the outer loop is `logN`, the other two are `N` each, for the total of `O(N^2*LogN)`\r\n 2. In the simple cases, yes. In more complex cases, when loop indexes start at numbers indicated by other indexes, the calculations are more complex.","title":"Big O for 3 nested loops","body":"<ol>\n<li>Yes, this is correct: the outer loop is <code>logN</code>, the other two are <code>N</code> each, for the total of <code>O(N^2*LogN)</code></li>\n<li>In the simple cases, yes. In more complex cases, when loop indexes start at numbers indicated by other indexes, the calculations are more complex.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":235018,"reputation":364834,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1359061537,"creation_date":1359061537,"answer_id":14510751,"question_id":14510701,"body_markdown":"When loop counters do not depend on one another, it&#39;s always possible to work from the inside outward.\r\n\r\nThe innermost loop always takes time O(n), because it loops n times regardless of the values of j and i.\r\n\r\nWhen the second loop runs, it runs for O(n) iterations, on each iteration doing O(n) work to run the innermost loop.  This takes time O(n&lt;sup&gt;2&lt;/sup&gt;).\r\n\r\nFinally, when the outer loop runs, it does O(n&lt;sup&gt;2&lt;/sup&gt;) work per iteration.  It also runs for O(log n) iterations, since it runs equal to the number of times you have to divide n by two before you reach 1.  Consequently, the total work is O(n&lt;sup&gt;2&lt;/sup&gt; log n).\r\n\r\nIn general, you cannot just multiply loops together, since their bounds might depend on one another.  In this case, though, since there is no dependency, the runtimes can just be multiplied.  Hopefully the above reasoning sheds some light on why this is - it&#39;s because if you work from the inside out thinking about how much work each loop does and how many times it does it, the runtimes end up getting multiplied together.\r\n\r\nHope this helps!","title":"Big O for 3 nested loops","body":"<p>When loop counters do not depend on one another, it's always possible to work from the inside outward.</p>\n\n<p>The innermost loop always takes time O(n), because it loops n times regardless of the values of j and i.</p>\n\n<p>When the second loop runs, it runs for O(n) iterations, on each iteration doing O(n) work to run the innermost loop.  This takes time O(n<sup>2</sup>).</p>\n\n<p>Finally, when the outer loop runs, it does O(n<sup>2</sup>) work per iteration.  It also runs for O(log n) iterations, since it runs equal to the number of times you have to divide n by two before you reach 1.  Consequently, the total work is O(n<sup>2</sup> log n).</p>\n\n<p>In general, you cannot just multiply loops together, since their bounds might depend on one another.  In this case, though, since there is no dependency, the runtimes can just be multiplied.  Hopefully the above reasoning sheds some light on why this is - it's because if you work from the inside out thinking about how much work each loop does and how many times it does it, the runtimes end up getting multiplied together.</p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":190844,"reputation":1695,"user_id":431033,"accept_rate":80,"display_name":"Lack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359064207,"creation_date":1359062915,"answer_id":14511136,"question_id":14510701,"body_markdown":"To answer this slightly (note: slightly) more formally, say `T(n)` is the time (or number of operations) required to complete the algorithm. Then, for the outer loop, `T(n) = log n*T2(n)`, where `T2(n)` is the number of operations *inside* the loop (ignoring any constants). Similarly, T2(n) = n*T3(n) = n*n.\r\n\r\nThen, use the following theorem:\r\n&gt; If f&lt;sub&gt;1&lt;/sub&gt;(n) = O(g&lt;sub&gt;1&lt;/sub&gt;(n)) and f&lt;sub&gt;2&lt;/sub&gt;(n) = O(g&lt;sub&gt;2&lt;/sub&gt;(n)), then f&lt;sub&gt;1&lt;/sub&gt;(n)&#215;f&lt;sub&gt;2&lt;/sub&gt;(n) = O(g&lt;sub&gt;1&lt;/sub&gt;(n)&#215;g&lt;sub&gt;2&lt;/sub&gt;(n))   \r\n[(source and proof)][1]\r\n\r\nThis leaves us with T(n) = O(n&lt;sup&gt;2&lt;/sup&gt;logn).\r\n\r\n&quot;Combining nested loops&quot; is just an application of this theorem. The trouble can be in figuring out exactly how many operations each loop uses, which in this case is simple.\r\n  [1]: http://www.brpreiss.com/books/opus4/html/page60.html","title":"Big O for 3 nested loops","body":"<p>To answer this slightly (note: slightly) more formally, say <code>T(n)</code> is the time (or number of operations) required to complete the algorithm. Then, for the outer loop, <code>T(n) = log n*T2(n)</code>, where <code>T2(n)</code> is the number of operations <em>inside</em> the loop (ignoring any constants). Similarly, T2(n) = n*T3(n) = n*n.</p>\n\n<p>Then, use the following theorem:</p>\n\n<blockquote>\n  <p>If f<sub>1</sub>(n) = O(g<sub>1</sub>(n)) and f<sub>2</sub>(n) = O(g<sub>2</sub>(n)), then f<sub>1</sub>(n)f<sub>2</sub>(n) = O(g<sub>1</sub>(n)g<sub>2</sub>(n))<br>\n  <a href=\"http://www.brpreiss.com/books/opus4/html/page60.html\" rel=\"nofollow\">(source and proof)</a></p>\n</blockquote>\n\n<p>This leaves us with T(n) = O(n<sup>2</sup>logn).</p>\n\n<p>\"Combining nested loops\" is just an application of this theorem. The trouble can be in figuring out exactly how many operations each loop uses, which in this case is simple.</p>\n"},{"tags":[],"owner":{"account_id":4072211,"reputation":2941,"user_id":3344832,"accept_rate":50,"display_name":"Mohamed Ennahdi El Idrissi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397566261,"creation_date":1397566261,"answer_id":23084265,"question_id":14510701,"body_markdown":"You can proceed formally using Sigma Notation, to faithfully imitate your loops:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/kGECA.png","title":"Big O for 3 nested loops","body":"<p>You can proceed formally using Sigma Notation, to faithfully imitate your loops:</p>\n\n<p><img src=\"https://i.stack.imgur.com/kGECA.png\" alt=\"enter image description here\"></p>\n"}],"owner":{"account_id":1955479,"reputation":1368,"user_id":1758558,"accept_rate":75,"display_name":"Kailua Bum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14425,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":14510751,"answer_count":4,"score":13,"last_activity_date":1670923106,"creation_date":1359061352,"question_id":14510701,"body_markdown":"A Big O notation question...What is the Big O for the following code:\r\n\r\n         for (int i = n; i &gt; 0; i = i / 2){\r\n            for (int j = 0; j &lt; n; j++){\r\n               for (int k = 0; k &lt; n; k++){\r\n                  count++;\r\n               }\r\n            }\r\n         }\r\n\r\nMy Thoughts:\r\nSo breaking it down, I think the outside loop is `O(log2(n))`, then each of the inner loops is `O(n)` which would result in `O(n^2 * log2(n))`  Question #1 is that correct?  \r\n\r\nQuestion #2:\r\nwhen combining nested loops is it always just as simple as multiply the Big O of each loop? ","title":"Big O for 3 nested loops","body":"<p>A Big O notation question...What is the Big O for the following code:</p>\n<pre><code>     for (int i = n; i &gt; 0; i = i / 2){\n        for (int j = 0; j &lt; n; j++){\n           for (int k = 0; k &lt; n; k++){\n              count++;\n           }\n        }\n     }\n</code></pre>\n<p>My Thoughts:\nSo breaking it down, I think the outside loop is <code>O(log2(n))</code>, then each of the inner loops is <code>O(n)</code> which would result in <code>O(n^2 * log2(n))</code>  Question #1 is that correct?</p>\n<p>Question #2:\nwhen combining nested loops is it always just as simple as multiply the Big O of each loop?</p>\n"},{"tags":["java","certificate","x509certificate","public-key"],"answers":[{"tags":[],"owner":{"account_id":433372,"reputation":406,"user_id":818667,"display_name":"Pierre Carrier"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1341758438,"creation_date":1341758438,"answer_id":11383970,"question_id":11383898,"body_markdown":"Yes, with BouncyCastle, creating an X509 cert from 2 public keys (the key for the cert and the one for the CA) is done [here][1].\r\n\r\nI turn the resulting certificate into PEM [here][2].\r\n\r\n\r\n  [1]: https://github.com/pcarrier/identify/blob/master/src/main/java/identify/X509CertificateFactoryImpl.java\r\n  [2]: https://github.com/pcarrier/identify/blob/master/src/main/java/identify/X509Certificate.java","title":"How to create a X509 certificate using Java?","body":"<p>Yes, with BouncyCastle, creating an X509 cert from 2 public keys (the key for the cert and the one for the CA) is done <a href=\"https://github.com/pcarrier/identify/blob/master/src/main/java/identify/X509CertificateFactoryImpl.java\" rel=\"noreferrer\">here</a>.</p>\n\n<p>I turn the resulting certificate into PEM <a href=\"https://github.com/pcarrier/identify/blob/master/src/main/java/identify/X509Certificate.java\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1530336,"reputation":550,"user_id":1427671,"display_name":"iwan.z"},"down_vote_count":3,"up_vote_count":30,"is_accepted":false,"score":27,"last_activity_date":1670918366,"creation_date":1412757034,"answer_id":26252394,"question_id":11383898,"body_markdown":"For JDK versions &lt;17, you can also generate a certificate using only JDK classes. The disadvantage is that you have to use two classes from the sun.security.x509 package.\r\nThe code would be:\r\n\r\n    KeyStore keyStore = ... // your keystore\r\n\r\n    // generate the certificate\r\n    // first parameter  = Algorithm\r\n    // second parameter = signrature algorithm\r\n    // third parameter  = the provider to use to generate the keys (may be null or\r\n    //                    use the constructor without provider)\r\n    CertAndKeyGen certGen = new CertAndKeyGen(&quot;RSA&quot;, &quot;SHA256WithRSA&quot;, null);\r\n    // generate it with 2048 bits\r\n    certGen.generate(2048);\r\n\r\n    // prepare the validity of the certificate\r\n    long validSecs = (long) 365 * 24 * 60 * 60; // valid for one year\r\n    // add the certificate information, currently only valid for one year.\r\n    X509Certificate cert = certGen.getSelfCertificate(\r\n       // enter your details according to your application\r\n       new X500Name(&quot;CN=My Application,O=My Organisation,L=My City,C=DE&quot;), validSecs);\r\n\r\n    // set the certificate and the key in the keystore\r\n    keyStore.setKeyEntry(certAlias, certGen.getPrivateKey(), null, \r\n                            new X509Certificate[] { cert });\r\n\r\nRetrieve the private key from the key store to encrypt or decrypt data.\r\nBased on the code is from http://www.pixelstech.net/article/1408524957-Generate-cetrificate-in-Java----3\r\n\r\n\r\n","title":"How to create a X509 certificate using Java?","body":"<p>For JDK versions &lt;17, you can also generate a certificate using only JDK classes. The disadvantage is that you have to use two classes from the sun.security.x509 package.\nThe code would be:</p>\n<pre><code>KeyStore keyStore = ... // your keystore\n\n// generate the certificate\n// first parameter  = Algorithm\n// second parameter = signrature algorithm\n// third parameter  = the provider to use to generate the keys (may be null or\n//                    use the constructor without provider)\nCertAndKeyGen certGen = new CertAndKeyGen(&quot;RSA&quot;, &quot;SHA256WithRSA&quot;, null);\n// generate it with 2048 bits\ncertGen.generate(2048);\n\n// prepare the validity of the certificate\nlong validSecs = (long) 365 * 24 * 60 * 60; // valid for one year\n// add the certificate information, currently only valid for one year.\nX509Certificate cert = certGen.getSelfCertificate(\n   // enter your details according to your application\n   new X500Name(&quot;CN=My Application,O=My Organisation,L=My City,C=DE&quot;), validSecs);\n\n// set the certificate and the key in the keystore\nkeyStore.setKeyEntry(certAlias, certGen.getPrivateKey(), null, \n                        new X509Certificate[] { cert });\n</code></pre>\n<p>Retrieve the private key from the key store to encrypt or decrypt data.\nBased on the code is from <a href=\"http://www.pixelstech.net/article/1408524957-Generate-cetrificate-in-Java----3\" rel=\"nofollow noreferrer\">http://www.pixelstech.net/article/1408524957-Generate-cetrificate-in-Java----3</a></p>\n"},{"tags":[],"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670923039,"creation_date":1670923039,"answer_id":74782456,"question_id":11383898,"body_markdown":"For JDK &gt;= 17, this is how to do it with BouncyCastle. The code example is in Kotlin, but it works exactly the same way in Java:\r\n\r\n    val keyPair = KeyPairGenerator.getInstance(&quot;RSA&quot;).genKeyPair()\r\n    val subPubKeyInfo = SubjectPublicKeyInfo.getInstance(keyPair.public.encoded)\r\n    val now = Instant.now()\r\n    val validFrom = Date.from(now)\r\n    val validTo = Date.from(now.plusSeconds(60L * 60 * 24 * 365))\r\n    val certBuilder = X509v3CertificateBuilder(\r\n        X500Name(&quot;CN=My Application,O=My Organisation,L=My City,C=DE&quot;),\r\n        BigInteger.ONE,\r\n        validFrom,\r\n        validTo,\r\n        X500Name(&quot;CN=My Application,O=My Organisation,L=My City,C=DE&quot;),\r\n        subPubKeyInfo\r\n    )\r\n    val signer = JcaContentSignerBuilder(&quot;SHA256WithRSA&quot;)\r\n        .setProvider(BouncyCastleProvider())\r\n        .build(keyPair.private)\r\n    val certificate = certBuilder.build(signer)\r\n\r\nThis is the gradledependency you need to pull:\r\n\r\n    implementation(&quot;org.bouncycastle:bcpkix-jdk18on:1.72&quot;)\r\n\r\n","title":"How to create a X509 certificate using Java?","body":"<p>For JDK &gt;= 17, this is how to do it with BouncyCastle. The code example is in Kotlin, but it works exactly the same way in Java:</p>\n<pre><code>val keyPair = KeyPairGenerator.getInstance(&quot;RSA&quot;).genKeyPair()\nval subPubKeyInfo = SubjectPublicKeyInfo.getInstance(keyPair.public.encoded)\nval now = Instant.now()\nval validFrom = Date.from(now)\nval validTo = Date.from(now.plusSeconds(60L * 60 * 24 * 365))\nval certBuilder = X509v3CertificateBuilder(\n    X500Name(&quot;CN=My Application,O=My Organisation,L=My City,C=DE&quot;),\n    BigInteger.ONE,\n    validFrom,\n    validTo,\n    X500Name(&quot;CN=My Application,O=My Organisation,L=My City,C=DE&quot;),\n    subPubKeyInfo\n)\nval signer = JcaContentSignerBuilder(&quot;SHA256WithRSA&quot;)\n    .setProvider(BouncyCastleProvider())\n    .build(keyPair.private)\nval certificate = certBuilder.build(signer)\n</code></pre>\n<p>This is the gradledependency you need to pull:</p>\n<pre><code>implementation(&quot;org.bouncycastle:bcpkix-jdk18on:1.72&quot;)\n</code></pre>\n"}],"owner":{"account_id":1533286,"reputation":237,"user_id":1429930,"accept_rate":60,"display_name":"leyla moazami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57030,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":3,"score":20,"last_activity_date":1670923039,"creation_date":1341757850,"question_id":11383898,"body_markdown":"I want to create a X509 certificate using Java language and then extract public key from it.\r\n\r\nI have searched the internet and found many code examples, but all of them have errors (unknown variable or unknown type) or have many warnings that say something like : &quot;the method ... from type ... is deprecated &quot; etc.\r\n\r\nFor example, why the following code doesn&#39;t work:\r\n\r\n    PublicKey pk;\r\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    String PKstr = pk.toString();\r\n    InputStream PKstream = new ByteArrayInputStream(PKstr.getBytes());\r\n    X509Certificate pkcert = (X509Certificate)cf.generateCertificate(PKstream);\r\n\r\n&lt;br&gt;\r\nCan anyone show me how to create a certificate using pure Java or Bouncy Castle and then get a public key from that?\r\n\r\nThanks all.","title":"How to create a X509 certificate using Java?","body":"<p>I want to create a X509 certificate using Java language and then extract public key from it.</p>\n\n<p>I have searched the internet and found many code examples, but all of them have errors (unknown variable or unknown type) or have many warnings that say something like : \"the method ... from type ... is deprecated \" etc.</p>\n\n<p>For example, why the following code doesn't work:</p>\n\n<pre><code>PublicKey pk;\nCertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\nString PKstr = pk.toString();\nInputStream PKstream = new ByteArrayInputStream(PKstr.getBytes());\nX509Certificate pkcert = (X509Certificate)cf.generateCertificate(PKstream);\n</code></pre>\n\n<p><br>\nCan anyone show me how to create a certificate using pure Java or Bouncy Castle and then get a public key from that?</p>\n\n<p>Thanks all.</p>\n"},{"tags":["java","time-complexity"],"comments":[{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1670842866,"post_id":74770100,"comment_id":131958994,"body_markdown":"Why would it be O(1)?","body":"Why would it be O(1)?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1670844638,"post_id":74770100,"comment_id":131959581,"body_markdown":"It&#39;s O(n) where n is &quot;the size of the input&quot; being effectively the difference between high and low.","body":"It&#39;s O(n) where n is &quot;the size of the input&quot; being effectively the difference between high and low."}],"answers":[{"tags":[],"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670922893,"creation_date":1670849814,"answer_id":74771450,"question_id":74770100,"body_markdown":"In your case, your input size `n` = `high - low` which is exactly the number of iterations your `algorithm` is executing. Hence the time complexity is `O(n)`","title":"Java basic time complexity question i can&#39;t fully understand","body":"<p>In your case, your input size <code>n</code> = <code>high - low</code> which is exactly the number of iterations your <code>algorithm</code> is executing. Hence the time complexity is <code>O(n)</code></p>\n"}],"owner":{"account_id":23413265,"reputation":25,"user_id":17474577,"display_name":"Dima Tkachuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670922893,"creation_date":1670842770,"question_id":74770100,"body_markdown":"I am confused about the following method time complexity and could use some help, I am not sure if this counts as O(1) or O(n) when the following for loop receives both the starting point and end point as integer parameters, thanks in advance\r\n\r\n```\r\nprivate static int f (int[]a, int low, int high)\r\n{\r\n\r\nint res = 0;\r\nfor (int i=low; i&lt;=high; i++)\r\nres += a[i];\r\nreturn res;\r\n\r\n}\r\n```","title":"Java basic time complexity question i can&#39;t fully understand","body":"<p>I am confused about the following method time complexity and could use some help, I am not sure if this counts as O(1) or O(n) when the following for loop receives both the starting point and end point as integer parameters, thanks in advance</p>\n<pre><code>private static int f (int[]a, int low, int high)\n{\n\nint res = 0;\nfor (int i=low; i&lt;=high; i++)\nres += a[i];\nreturn res;\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19011405,"reputation":27,"user_id":13877246,"display_name":"Bob Lee"},"score":0,"creation_date":1670928373,"post_id":74781974,"comment_id":131981352,"body_markdown":"@user16320675, yes. I run the exact command: mvn package shade:shade","body":"@user16320675, yes. I run the exact command: mvn package shade:shade"}],"owner":{"account_id":19011405,"reputation":27,"user_id":13877246,"display_name":"Bob Lee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670922564,"creation_date":1670920524,"question_id":74781974,"body_markdown":"I was trying to build a project following the instruction here https://github.com/MovingImage24/JmeterSockJsSampler, but I got the errors:\r\n\r\n```none\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] COMPILATION ERROR :\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] /C:/D/app/JmeterSockJsSampler/JmeterSockJsSampler/src/main/java/orgMiJmeterSockjsSampler/Nullable.java:[24,24] cannot find symbol\r\n  symbol:   class Nonnull\r\n  location: package javax.annotation\r\n[ERROR] /C:/D/app/JmeterSockJsSampler/JmeterSockJsSampler/src/main/java/orgMiJmeterSockjsSampler/Nullable.java:[25,29] package javax.annotation.meta does not exist\r\n[ERROR] /C:/D/app/JmeterSockJsSampler/JmeterSockJsSampler/src/main/java/orgMiJmeterSockjsSampler/Nullable.java:[26,29] package javax.annotation.meta does not exist\r\n[ERROR] /C:/D/app/JmeterSockJsSampler/JmeterSockJsSampler/src/main/java/orgMiJmeterSockjsSampler/Nullable.java:[49,2] cannot find symbol\r\n  symbol: class Nonnull\r\n[ERROR] /C:/D/app/JmeterSockJsSampler/JmeterSockJsSampler/src/main/java/orgMiJmeterSockjsSampler/Nullable.java:[50,2] cannot find symbol\r\n  symbol: class TypeQualifierNickname\r\n......\r\n```\r\n\r\nopenjdk version &quot;1.8.0_352-352&quot;\r\n\r\nOpenJDK Runtime Environment (build 1.8.0_352-352-b08)\r\n\r\nOpenJDK 64-Bit Server VM (build 25.352-b08, mixed mode)","title":"Got error when building a project with maven -&quot; cannot find symbol symbol: class Nonnull location: package javax.annotation&quot;","body":"<p>I was trying to build a project following the instruction here <a href=\"https://github.com/MovingImage24/JmeterSockJsSampler\" rel=\"nofollow noreferrer\">https://github.com/MovingImage24/JmeterSockJsSampler</a>, but I got the errors:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] /C:/D/app/JmeterSockJsSampler/JmeterSockJsSampler/src/main/java/orgMiJmeterSockjsSampler/Nullable.java:[24,24] cannot find symbol\n  symbol:   class Nonnull\n  location: package javax.annotation\n[ERROR] /C:/D/app/JmeterSockJsSampler/JmeterSockJsSampler/src/main/java/orgMiJmeterSockjsSampler/Nullable.java:[25,29] package javax.annotation.meta does not exist\n[ERROR] /C:/D/app/JmeterSockJsSampler/JmeterSockJsSampler/src/main/java/orgMiJmeterSockjsSampler/Nullable.java:[26,29] package javax.annotation.meta does not exist\n[ERROR] /C:/D/app/JmeterSockJsSampler/JmeterSockJsSampler/src/main/java/orgMiJmeterSockjsSampler/Nullable.java:[49,2] cannot find symbol\n  symbol: class Nonnull\n[ERROR] /C:/D/app/JmeterSockJsSampler/JmeterSockJsSampler/src/main/java/orgMiJmeterSockjsSampler/Nullable.java:[50,2] cannot find symbol\n  symbol: class TypeQualifierNickname\n......\n</code></pre>\n<p>openjdk version &quot;1.8.0_352-352&quot;</p>\n<p>OpenJDK Runtime Environment (build 1.8.0_352-352-b08)</p>\n<p>OpenJDK 64-Bit Server VM (build 25.352-b08, mixed mode)</p>\n"},{"tags":["java","spring","spring-boot","docker"],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670922527,"creation_date":1670922527,"question_id":74782359,"body_markdown":"For a springboot project, I have a bean in a class:\r\n\r\n    @Container\r\n    static LocalStackContainer localStack = new LocalStackContainer(DockerImageName.parse(&quot;localstack/localstack:0.13.0&quot;))\r\n    .withEnv(&quot;AWS_ACCESS_KEY_ID&quot;, &quot;accesskey&quot;)\r\n    .withEnv(&quot;AWS_SECRET_ACCESS_KEY&quot;, &quot;secretkey&quot;)\r\n    .withServices(LocalStackContainer.Service.SQS);\r\n\r\n\r\nThis code initiates normally for my regular computer, but causes a `ExceptionInInitializerError` in my docker container (centos, openjdk11). However, my stacktrace only prints this:\r\n\r\n    java.lang.ExceptionInInitializerError\r\n    \tat com.{redacted}.testclass.&lt;clinit&gt;(testclass.java:88)\r\n\r\nHow do I get maven to print out the full stacktrace so I can debug?","title":"Spring Boot Print Full Stacktrace for ExceptionInInitializerError","body":"<p>For a springboot project, I have a bean in a class:</p>\n<pre><code>@Container\nstatic LocalStackContainer localStack = new LocalStackContainer(DockerImageName.parse(&quot;localstack/localstack:0.13.0&quot;))\n.withEnv(&quot;AWS_ACCESS_KEY_ID&quot;, &quot;accesskey&quot;)\n.withEnv(&quot;AWS_SECRET_ACCESS_KEY&quot;, &quot;secretkey&quot;)\n.withServices(LocalStackContainer.Service.SQS);\n</code></pre>\n<p>This code initiates normally for my regular computer, but causes a <code>ExceptionInInitializerError</code> in my docker container (centos, openjdk11). However, my stacktrace only prints this:</p>\n<pre><code>java.lang.ExceptionInInitializerError\n    at com.{redacted}.testclass.&lt;clinit&gt;(testclass.java:88)\n</code></pre>\n<p>How do I get maven to print out the full stacktrace so I can debug?</p>\n"},{"tags":["java","android","kotlin","android-navigation","android-navigation-graph"],"owner":{"account_id":14643764,"reputation":128,"user_id":10575711,"display_name":"No_Name"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670922511,"creation_date":1670922511,"question_id":74782357,"body_markdown":"I have two separate navGraph.\r\n\r\nThe functionalitiy is the following:\r\n\r\nBy default the user arrives at **navGraph A** and then he/she can move to **navGraph B** by pressing a button.\r\n\r\nBut with a push notification the user&#39;s screen opens up with **navGraph B** and if the user presses the back button the **navGraph A** should appears keeping the consistency.\r\n\r\nIt causes a circular include in my opinion.\r\n\r\n**navGraph A** includes **navGraph B**\r\n\r\n**navGraph B** includes **navGraph A**","title":"Android NavGraph Circular Include","body":"<p>I have two separate navGraph.</p>\n<p>The functionalitiy is the following:</p>\n<p>By default the user arrives at <strong>navGraph A</strong> and then he/she can move to <strong>navGraph B</strong> by pressing a button.</p>\n<p>But with a push notification the user's screen opens up with <strong>navGraph B</strong> and if the user presses the back button the <strong>navGraph A</strong> should appears keeping the consistency.</p>\n<p>It causes a circular include in my opinion.</p>\n<p><strong>navGraph A</strong> includes <strong>navGraph B</strong></p>\n<p><strong>navGraph B</strong> includes <strong>navGraph A</strong></p>\n"},{"tags":["java","jacoco"],"comments":[{"owner":{"account_id":4623229,"reputation":2072,"user_id":3747720,"accept_rate":89,"display_name":"js_248"},"score":0,"creation_date":1556045132,"post_id":55816262,"comment_id":98301683,"body_markdown":"You should also explain how you have configured Jacoco to your editor.","body":"You should also explain how you have configured Jacoco to your editor."}],"answers":[{"tags":[],"owner":{"account_id":88629,"reputation":9961,"user_id":244993,"display_name":"Godin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556200754,"creation_date":1556200138,"answer_id":55850864,"question_id":55816262,"body_markdown":"&gt; In test files i have about 100 lines with lots of asserts, so the problem is only with the plugin.\r\n\r\nThe problem is clearly not &quot;only with the plugin&quot; and `pom.xml` is not enough to demonstrate your problem, because after addition of\r\n\r\n`src/main/java/Example.java`\r\n\r\n```java\r\nclass Example {\r\n}\r\n```\r\n\r\nand `src/main/java/ExampleTest.java`\r\n\r\n```java\r\npublic class ExampleTest {\r\n  @org.junit.Test\r\n  public void test() {\r\n    new Example();\r\n  }\r\n}\r\n```\r\n\r\nand `checkstyle.xml`\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;!DOCTYPE module PUBLIC\r\n          &quot;-//Checkstyle//DTD Checkstyle Configuration 1.3//EN&quot;\r\n          &quot;https://checkstyle.org/dtds/configuration_1_3.dtd&quot;&gt;\r\n&lt;module name=&quot;Checker&quot;&gt;\r\n&lt;/module&gt;\r\n```\r\n\r\nwith exactly the same `pom.xml`\r\nexecution of `mvn clean install`\r\nworks perfectly fine:\r\n\r\n```text\r\n...\r\n[INFO] --- jacoco-maven-plugin:0.8.3:check (default-check) @ Sudoku ---\r\n[INFO] Loading execution data file /private/tmp/j/target/jacoco.exec\r\n[INFO] Analyzed bundle &#39;Sudoku&#39; with 1 classes\r\n[INFO] All coverage checks have been met.\r\n...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  3.071 s\r\n[INFO] Finished at: 2019-04-25T15:45:10+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nSo please read https://stackoverflow.com/help/mcve and provide **complete verifiable** example with all parts needed to reproduce your problem.","title":"Jacoco coverage ratio on 0.0","body":"<blockquote>\n  <p>In test files i have about 100 lines with lots of asserts, so the problem is only with the plugin.</p>\n</blockquote>\n\n<p>The problem is clearly not \"only with the plugin\" and <code>pom.xml</code> is not enough to demonstrate your problem, because after addition of</p>\n\n<p><code>src/main/java/Example.java</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class Example {\n}\n</code></pre>\n\n<p>and <code>src/main/java/ExampleTest.java</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class ExampleTest {\n  @org.junit.Test\n  public void test() {\n    new Example();\n  }\n}\n</code></pre>\n\n<p>and <code>checkstyle.xml</code></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE module PUBLIC\n          \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n          \"https://checkstyle.org/dtds/configuration_1_3.dtd\"&gt;\n&lt;module name=\"Checker\"&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>with exactly the same <code>pom.xml</code>\nexecution of <code>mvn clean install</code>\nworks perfectly fine:</p>\n\n<pre><code>...\n[INFO] --- jacoco-maven-plugin:0.8.3:check (default-check) @ Sudoku ---\n[INFO] Loading execution data file /private/tmp/j/target/jacoco.exec\n[INFO] Analyzed bundle 'Sudoku' with 1 classes\n[INFO] All coverage checks have been met.\n...\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.071 s\n[INFO] Finished at: 2019-04-25T15:45:10+02:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>So please read <a href=\"https://stackoverflow.com/help/mcve\">https://stackoverflow.com/help/mcve</a> and provide <strong>complete verifiable</strong> example with all parts needed to reproduce your problem.</p>\n"},{"tags":[],"owner":{"account_id":4621574,"reputation":1,"user_id":3746519,"display_name":"Carlos Guizar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625762686,"creation_date":1625762686,"answer_id":68305669,"question_id":55816262,"body_markdown":"I was getting 0.0 coverage, because all my Test classes lack the Public scope, (they were private by default)","title":"Jacoco coverage ratio on 0.0","body":"<p>I was getting 0.0 coverage, because all my Test classes lack the Public scope, (they were private by default)</p>\n"},{"tags":[],"owner":{"account_id":15800454,"reputation":120,"user_id":11401122,"display_name":"Bonniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670922365,"creation_date":1670922365,"answer_id":74782332,"question_id":55816262,"body_markdown":"It was a long time ago, however the problem was that test classes didn&#39;t ended with suffix Test. Pretty obvious, but not at that time when I was second year IT student :)","title":"Jacoco coverage ratio on 0.0","body":"<p>It was a long time ago, however the problem was that test classes didn't ended with suffix Test. Pretty obvious, but not at that time when I was second year IT student :)</p>\n"}],"owner":{"account_id":15800454,"reputation":120,"user_id":11401122,"display_name":"Bonniu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25241,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74782332,"answer_count":3,"score":2,"last_activity_date":1670922365,"creation_date":1556039459,"question_id":55816262,"body_markdown":"I have a problem with jacoco plugin in maven. Although i have some test lines in test files my coverage ratio is on 0.0. I dont know what can i do to make this work.\r\n\r\nI&#39;ve tried making changes in pom.xml from my friends pom, but this also doesn&#39;t work\r\n\r\nhere is the output from making maven.install:\r\n```\r\n--- jacoco-maven-plugin:0.8.3:check (default-check) @ Sudoku ---\r\nLoading execution data file D:\\xd\\inf\\4 semestr\\Programowanie Komponentowe\\prokom_2019_lch_sr_12_01\\target\\jacoco.exec\r\nAnalyzed bundle &#39;Sudoku&#39; with 8 classes\r\nRule violated for bundle Sudoku: complexity covered ratio is 0.000000, but expected minimum is 0.600000\r\n```\r\n\r\nhere is my pom.xml:\r\n```\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.progkomp.Sudoku&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Sudoku&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;sudoku&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\t\r\n\r\n    &lt;reporting&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;reportSets&gt;\r\n                    &lt;reportSet&gt;\r\n                        &lt;reports&gt;\r\n                            &lt;report&gt;checkstyle&lt;/report&gt;\r\n                        &lt;/reports&gt;\r\n                    &lt;/reportSet&gt;\r\n                &lt;/reportSets&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;reportSets&gt;\r\n                    &lt;reportSet&gt;\r\n                        &lt;reports&gt;\r\n                            &lt;report&gt;report&lt;/report&gt;\r\n                        &lt;/reports&gt;\r\n                    &lt;/reportSet&gt;\r\n                &lt;/reportSets&gt;\r\n                &lt;version&gt;0.8.3&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                    &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n                    &lt;failsOnError&gt;true&lt;/failsOnError&gt;\r\n                    &lt;linkXRef&gt;false&lt;/linkXRef&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;checkstyle&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-report&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-check&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;rule&gt;\r\n                                    &lt;element&gt;BUNDLE&lt;/element&gt;\r\n                                    &lt;limits&gt;\r\n                                        &lt;limit&gt;\r\n                                            &lt;counter&gt;COMPLEXITY&lt;/counter&gt;\r\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                            &lt;minimum&gt;0.600000&lt;/minimum&gt;\r\n                                        &lt;/limit&gt;\r\n                                    &lt;/limits&gt;\r\n                                &lt;/rule&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n\r\nIn test files i have about 100 lines with lots of asserts, so the problem is only with the plugin.","title":"Jacoco coverage ratio on 0.0","body":"<p>I have a problem with jacoco plugin in maven. Although i have some test lines in test files my coverage ratio is on 0.0. I dont know what can i do to make this work.</p>\n\n<p>I've tried making changes in pom.xml from my friends pom, but this also doesn't work</p>\n\n<p>here is the output from making maven.install:</p>\n\n<pre><code>--- jacoco-maven-plugin:0.8.3:check (default-check) @ Sudoku ---\nLoading execution data file D:\\xd\\inf\\4 semestr\\Programowanie Komponentowe\\prokom_2019_lch_sr_12_01\\target\\jacoco.exec\nAnalyzed bundle 'Sudoku' with 8 classes\nRule violated for bundle Sudoku: complexity covered ratio is 0.000000, but expected minimum is 0.600000\n</code></pre>\n\n<p>here is my pom.xml:</p>\n\n<pre><code>\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.progkomp.Sudoku&lt;/groupId&gt;\n    &lt;artifactId&gt;Sudoku&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;sudoku&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;reportSets&gt;\n                    &lt;reportSet&gt;\n                        &lt;reports&gt;\n                            &lt;report&gt;checkstyle&lt;/report&gt;\n                        &lt;/reports&gt;\n                    &lt;/reportSet&gt;\n                &lt;/reportSets&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;reportSets&gt;\n                    &lt;reportSet&gt;\n                        &lt;reports&gt;\n                            &lt;report&gt;report&lt;/report&gt;\n                        &lt;/reports&gt;\n                    &lt;/reportSet&gt;\n                &lt;/reportSets&gt;\n                &lt;version&gt;0.8.3&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n                    &lt;failsOnError&gt;true&lt;/failsOnError&gt;\n                    &lt;linkXRef&gt;false&lt;/linkXRef&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;checkstyle&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-report&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-check&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;rule&gt;\n                                    &lt;element&gt;BUNDLE&lt;/element&gt;\n                                    &lt;limits&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;COMPLEXITY&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;0.600000&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                    &lt;/limits&gt;\n                                &lt;/rule&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n\n\n</code></pre>\n\n<p>In test files i have about 100 lines with lots of asserts, so the problem is only with the plugin.</p>\n"},{"tags":["java","kotlin","generics","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670922346,"creation_date":1670850717,"answer_id":74771627,"question_id":74770495,"body_markdown":"The direct equivalent to your Java-like code is the following:\r\n\r\n    fun indexOfEndOfSentenceAndStartOfNextSentence(text: String): Int =\r\n        (0 until text.length - 2).indexOfFirst {\r\n            text[it] in &quot;.!?&quot; &amp;&amp; text[it + 1].isWhitespace() &amp;&amp; text[it + 2].isUpperCase()\r\n        }\r\n\r\nBut using a regex may be better:\r\n\r\n    private val pattern = &quot;&quot;&quot;[!?.]\\s\\p{Lu}&quot;&quot;&quot;.toRegex()\r\n    fun indexOfEndOfSentenceAndStartOfNextSentence(text: String): Int =\r\n        pattern.find(text)?.let { it.range.first } ?: -1\r\n\r\n","title":"How to use multiple predicates in functional methods in Kotlin?","body":"<p>The direct equivalent to your Java-like code is the following:</p>\n<pre><code>fun indexOfEndOfSentenceAndStartOfNextSentence(text: String): Int =\n    (0 until text.length - 2).indexOfFirst {\n        text[it] in &quot;.!?&quot; &amp;&amp; text[it + 1].isWhitespace() &amp;&amp; text[it + 2].isUpperCase()\n    }\n</code></pre>\n<p>But using a regex may be better:</p>\n<pre><code>private val pattern = &quot;&quot;&quot;[!?.]\\s\\p{Lu}&quot;&quot;&quot;.toRegex()\nfun indexOfEndOfSentenceAndStartOfNextSentence(text: String): Int =\n    pattern.find(text)?.let { it.range.first } ?: -1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27230104,"reputation":21,"user_id":20757962,"display_name":"noisegain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670866541,"creation_date":1670866541,"answer_id":74775096,"question_id":74770495,"body_markdown":"I think it is good to use *windowed* function. Something like:\r\n\r\n```kotlin\r\ntext.windowed(3).indexOfFirst { it[0] in punctuationChars &amp;&amp; it[1].isWhitespace() &amp;&amp; it[2].isUpperCase() }\r\n```","title":"How to use multiple predicates in functional methods in Kotlin?","body":"<p>I think it is good to use <em>windowed</em> function. Something like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>text.windowed(3).indexOfFirst { it[0] in punctuationChars &amp;&amp; it[1].isWhitespace() &amp;&amp; it[2].isUpperCase() }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670866861,"creation_date":1670866861,"answer_id":74775170,"question_id":74770495,"body_markdown":"Your code isn&#39;t working because you&#39;re doing this:\r\n\r\n````\r\nit in punctuationChars &amp;&amp; (it + 1).isWhitespace()\r\n````\r\n\r\nWhat&#39;s `it` here? This function is being used with `text.indexOfFirst` which iterates over each `Char` in a `String`. So `it` is a `Char`, which you&#39;re using correctly with `it in punctuationChars` - &quot;is this character in this set of characters?&quot;\r\n\r\nBut in the next condition, you&#39;re treating `it` like an **index**. You&#39;re trying to see if the next character in the string is whitespace - but you don&#39;t have the current character&#39;s index, you have *the character itself*. `(it + 1).isWhitespace()` effectively checks the next character [*in the code table*][1] (every character has a code number).\r\n\r\n----\r\n\r\nSo to do it the way you&#39;re approaching it here, you need access to the *index*. You *could* do something like this:\r\n\r\n````\r\ntext.withIndex().indexOf { indexed -&gt; \r\n    // using nullable stuff here protects you from invalid index exceptions\r\n    text.elementAtOrNull(indexed.index + 1)?.isWhitespace() == true\r\n}\r\n````\r\n\r\nwhich wraps each element in an `Indexed` you can access (the element itself is the `value` property). Personally I&#39;m not a fan, you&#39;re working on individual list elements but then using the index property to go poking around *the rest* of the list - I feel like if you&#39;re going to do that, just work with the indices directly, and access each element using that:\r\n\r\n````\r\ntext.indices.firstOrNull { index -&gt;\r\n    // every element accessed through an index\r\n    text[index] in punctuationChars &amp;&amp;\r\n    text[index + 1].isWhitespace()\r\n    ...\r\n}\r\n````\r\n\r\nAgain, accessing later indices like that is dangerous (what if it&#39;s the last character in the string?) so you should use `elementAtOrNull` - I&#39;m just writing it like that for brevity.\r\n\r\n----\r\n\r\nIf you *do* want to work with the chars themselves, in a safe way, you can use `windowed` which allows you to work on a sliding view of *n* elements from the list:\r\n\r\n````\r\n// partial windows allows for smaller windows with elements missing as you run into \r\n// the end of the list - you don&#39;t want that, you want it to end as soon as you can&#39;t\r\n// fill a window (false is the default but I&#39;m just putting it here for clarity!)\r\ntext.windowed(size=3, partialWindows=false).indexOfFirst { window -&gt;\r\n    window[0] in punctuationChars &amp;&amp;\r\n    window[1].isWhitespace()\r\n    ..\r\n}\r\n````\r\n\r\n\r\n  [1]: https://www.ascii-code.com/","title":"How to use multiple predicates in functional methods in Kotlin?","body":"<p>Your code isn't working because you're doing this:</p>\n<pre><code>it in punctuationChars &amp;&amp; (it + 1).isWhitespace()\n</code></pre>\n<p>What's <code>it</code> here? This function is being used with <code>text.indexOfFirst</code> which iterates over each <code>Char</code> in a <code>String</code>. So <code>it</code> is a <code>Char</code>, which you're using correctly with <code>it in punctuationChars</code> - &quot;is this character in this set of characters?&quot;</p>\n<p>But in the next condition, you're treating <code>it</code> like an <strong>index</strong>. You're trying to see if the next character in the string is whitespace - but you don't have the current character's index, you have <em>the character itself</em>. <code>(it + 1).isWhitespace()</code> effectively checks the next character <a href=\"https://www.ascii-code.com/\" rel=\"nofollow noreferrer\"><em>in the code table</em></a> (every character has a code number).</p>\n<hr />\n<p>So to do it the way you're approaching it here, you need access to the <em>index</em>. You <em>could</em> do something like this:</p>\n<pre><code>text.withIndex().indexOf { indexed -&gt; \n    // using nullable stuff here protects you from invalid index exceptions\n    text.elementAtOrNull(indexed.index + 1)?.isWhitespace() == true\n}\n</code></pre>\n<p>which wraps each element in an <code>Indexed</code> you can access (the element itself is the <code>value</code> property). Personally I'm not a fan, you're working on individual list elements but then using the index property to go poking around <em>the rest</em> of the list - I feel like if you're going to do that, just work with the indices directly, and access each element using that:</p>\n<pre><code>text.indices.firstOrNull { index -&gt;\n    // every element accessed through an index\n    text[index] in punctuationChars &amp;&amp;\n    text[index + 1].isWhitespace()\n    ...\n}\n</code></pre>\n<p>Again, accessing later indices like that is dangerous (what if it's the last character in the string?) so you should use <code>elementAtOrNull</code> - I'm just writing it like that for brevity.</p>\n<hr />\n<p>If you <em>do</em> want to work with the chars themselves, in a safe way, you can use <code>windowed</code> which allows you to work on a sliding view of <em>n</em> elements from the list:</p>\n<pre><code>// partial windows allows for smaller windows with elements missing as you run into \n// the end of the list - you don't want that, you want it to end as soon as you can't\n// fill a window (false is the default but I'm just putting it here for clarity!)\ntext.windowed(size=3, partialWindows=false).indexOfFirst { window -&gt;\n    window[0] in punctuationChars &amp;&amp;\n    window[1].isWhitespace()\n    ..\n}\n</code></pre>\n"}],"owner":{"account_id":17217428,"reputation":53,"user_id":13959870,"display_name":"fckNewbee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74775170,"answer_count":3,"score":0,"last_activity_date":1670922346,"creation_date":1670844794,"question_id":74770495,"body_markdown":"I have the following expression written in a standard java-style with &quot;if&quot;. \r\n\r\n    val punctuationChars = setOf(&#39;!&#39;, &#39;?&#39;, &#39;.&#39;)\r\n    if (text[index] in punctuationChars &amp;&amp;\r\n             text[index + 1].isWhitespace() &amp;&amp;\r\n             text[index + 2].isUpperCase()\r\n            ){return index}\r\n\r\nI want to rewrite it kotlin-style. I got something like this:\r\n\r\n  \r\n     text.indexOfFirst { it in punctuationChars &amp;&amp; (((it + 1).isWhitespace()) &amp;&amp; (it + 2).isUpperCase()) }\r\n\r\nAnd it absolutely does not work. But. If i use just like that:\r\n\r\n    text.indexOfFirst { it in punctuationChars }\r\n\r\nIt&#39;s working. So, how can i use multiple predicates in functions like this?","title":"How to use multiple predicates in functional methods in Kotlin?","body":"<p>I have the following expression written in a standard java-style with &quot;if&quot;.</p>\n<pre><code>val punctuationChars = setOf('!', '?', '.')\nif (text[index] in punctuationChars &amp;&amp;\n         text[index + 1].isWhitespace() &amp;&amp;\n         text[index + 2].isUpperCase()\n        ){return index}\n</code></pre>\n<p>I want to rewrite it kotlin-style. I got something like this:</p>\n<pre><code> text.indexOfFirst { it in punctuationChars &amp;&amp; (((it + 1).isWhitespace()) &amp;&amp; (it + 2).isUpperCase()) }\n</code></pre>\n<p>And it absolutely does not work. But. If i use just like that:</p>\n<pre><code>text.indexOfFirst { it in punctuationChars }\n</code></pre>\n<p>It's working. So, how can i use multiple predicates in functions like this?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670859056,"creation_date":1670859056,"answer_id":74773477,"question_id":74773023,"body_markdown":"You can de-serialize it into a `Map&lt;String, Object&gt;` and you will always get a map but its internal content would be different each time. you can do something like this:\r\n\r\n    Map&lt;String, Object&gt; data = objectReader.forType(Map.class).readValue(jsonString);\r\nBTW, I wrote my own JsonUtils class which is a thin wrapper over JSON-Jackson library that simplifies a bit serializing and deserializing JSON strings. reading a simple map would look like:\r\n        \r\n\r\n    Map&lt;String, Object&gt; map = JsonUtils.readObjectFromJsonString(&quot;{\\&quot;a\\&quot;: \\&quot;b\\&quot;}&quot;, Map.class);\r\n\r\nBut with my class you don&#39;t need to instantiate and configure `ObjectMapper` instance. Here is [JsonUtils Javadoc][1]. If you want to use it this class is part of Open source MgntUtils library written and maintained by me. You can get MgntUtils library as [Maven artifact][2] or on [Github][3] (including source code and Javadoc)\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"Deserialize json object which properties can be changed each time","body":"<p>You can de-serialize it into a <code>Map&lt;String, Object&gt;</code> and you will always get a map but its internal content would be different each time. you can do something like this:</p>\n<pre><code>Map&lt;String, Object&gt; data = objectReader.forType(Map.class).readValue(jsonString);\n</code></pre>\n<p>BTW, I wrote my own JsonUtils class which is a thin wrapper over JSON-Jackson library that simplifies a bit serializing and deserializing JSON strings. reading a simple map would look like:</p>\n<pre><code>Map&lt;String, Object&gt; map = JsonUtils.readObjectFromJsonString(&quot;{\\&quot;a\\&quot;: \\&quot;b\\&quot;}&quot;, Map.class);\n</code></pre>\n<p>But with my class you don't need to instantiate and configure <code>ObjectMapper</code> instance. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">JsonUtils Javadoc</a>. If you want to use it this class is part of Open source MgntUtils library written and maintained by me. You can get MgntUtils library as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifact</a> or on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and Javadoc)</p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670922146,"creation_date":1670859687,"answer_id":74773616,"question_id":74773023,"body_markdown":"Assume (spring-boot-starter+):\r\n```lang.java\r\npackage com.example.demo;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Dto {\r\n\r\n  final Map&lt;String, Object&gt; arguments = new HashMap&lt;&gt;();\r\n\r\n  public Map&lt;String, Object&gt; getArguments() {\r\n    return arguments;\r\n  }\r\n}\r\n```\r\n\r\n..then we can (already) test:\r\n```lang-java\r\npackage com.example.demo;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass DemoJacksonApplicationTests {\r\n\r\n  @Autowired\r\n  ObjectMapper objectMapper;\r\n\r\n  @Test\r\n  void test1() throws JsonProcessingException {\r\n    Dto dto = objectMapper.readValue(\r\n        &quot;&quot;&quot;\r\n        {\r\n          &quot;arguments&quot;: {\r\n            &quot;key&quot; : &quot;value&quot;\r\n          }\r\n        }\r\n        &quot;&quot;&quot;, Dto.class);\r\n    assertEquals(&quot;value&quot;, dto.getArguments().get(&quot;key&quot;));\r\n  }\r\n\r\n  @Test\r\n  void test2() throws JsonProcessingException {\r\n    Dto dto = objectMapper.readValue(\r\n        &quot;&quot;&quot;\r\n        {\r\n          &quot;arguments&quot;: {\r\n            &quot;someKeyName&quot; : &quot;someValue&quot;\r\n          }\r\n        }\r\n        &quot;&quot;&quot;, Dto.class);\r\n    assertEquals(&quot;someValue&quot;, dto.getArguments().get(&quot;someKeyName&quot;));\r\n  }\r\n\r\n  @Test\r\n  void test3() throws JsonProcessingException {\r\n    Dto dto = objectMapper.readValue(\r\n        &quot;&quot;&quot;\r\n        {\r\n          &quot;arguments&quot;: {\r\n            &quot;someKeyName&quot;: &quot;someKeyValue&quot;,\r\n            &quot;someKeyName2&quot;: &quot;someKeyValue2&quot;\r\n          }\r\n        }\r\n        &quot;&quot;&quot;, Dto.class);\r\n    assertEquals(&quot;someKeyValue&quot;, dto.getArguments().get(&quot;someKeyName&quot;));\r\n    assertEquals(&quot;someKeyValue2&quot;, dto.getArguments().get(&quot;someKeyName2&quot;));\r\n  }\r\n}\r\n```","title":"Deserialize json object which properties can be changed each time","body":"<p>Assume (spring-boot-starter+):</p>\n<pre><code>package com.example.demo;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Dto {\n\n  final Map&lt;String, Object&gt; arguments = new HashMap&lt;&gt;();\n\n  public Map&lt;String, Object&gt; getArguments() {\n    return arguments;\n  }\n}\n</code></pre>\n<p>..then we can (already) test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass DemoJacksonApplicationTests {\n\n  @Autowired\n  ObjectMapper objectMapper;\n\n  @Test\n  void test1() throws JsonProcessingException {\n    Dto dto = objectMapper.readValue(\n        &quot;&quot;&quot;\n        {\n          &quot;arguments&quot;: {\n            &quot;key&quot; : &quot;value&quot;\n          }\n        }\n        &quot;&quot;&quot;, Dto.class);\n    assertEquals(&quot;value&quot;, dto.getArguments().get(&quot;key&quot;));\n  }\n\n  @Test\n  void test2() throws JsonProcessingException {\n    Dto dto = objectMapper.readValue(\n        &quot;&quot;&quot;\n        {\n          &quot;arguments&quot;: {\n            &quot;someKeyName&quot; : &quot;someValue&quot;\n          }\n        }\n        &quot;&quot;&quot;, Dto.class);\n    assertEquals(&quot;someValue&quot;, dto.getArguments().get(&quot;someKeyName&quot;));\n  }\n\n  @Test\n  void test3() throws JsonProcessingException {\n    Dto dto = objectMapper.readValue(\n        &quot;&quot;&quot;\n        {\n          &quot;arguments&quot;: {\n            &quot;someKeyName&quot;: &quot;someKeyValue&quot;,\n            &quot;someKeyName2&quot;: &quot;someKeyValue2&quot;\n          }\n        }\n        &quot;&quot;&quot;, Dto.class);\n    assertEquals(&quot;someKeyValue&quot;, dto.getArguments().get(&quot;someKeyName&quot;));\n    assertEquals(&quot;someKeyValue2&quot;, dto.getArguments().get(&quot;someKeyName2&quot;));\n  }\n}\n</code></pre>\n"}],"owner":{"display_name":"user20598130"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74773616,"answer_count":2,"score":0,"last_activity_date":1670922146,"creation_date":1670857088,"question_id":74773023,"body_markdown":"I have the following json content:\r\n\r\n```\r\n{\r\n      &quot;arguments&quot;: {\r\n        &quot;key&quot; : &quot;value&quot;\r\n      }\r\n}\r\n```\r\n\r\nBut, it can dynamically change depending on the specified configuration of the json file.\r\n\r\nFor example once can be like above, but sometimes it can be empty ``` arguments: {}``` or something it may be configured something like this:\r\n\r\n```\r\n      &quot;arguments&quot;: {\r\n        &quot;someKeyName&quot; : &quot;someValue&quot;\r\n      }\r\n```\r\nor even:\r\n\r\n\r\n```\r\n      &quot;arguments&quot;: {\r\n        &quot;someKeyName&quot;: &quot;someKeyValue&quot;,\r\n        &quot;someKeyName2&quot;: &quot;someKeyValue2&quot;\r\n      }\r\n```\r\n\r\nMy question is, how can I handle the deserialization with Jackson&#39;s object mapper or some other alternative, without knowing what would the properties be of the arguments object each time I have to handle the deserialization ?","title":"Deserialize json object which properties can be changed each time","body":"<p>I have the following json content:</p>\n<pre><code>{\n      &quot;arguments&quot;: {\n        &quot;key&quot; : &quot;value&quot;\n      }\n}\n</code></pre>\n<p>But, it can dynamically change depending on the specified configuration of the json file.</p>\n<p>For example once can be like above, but sometimes it can be empty <code> arguments: {}</code> or something it may be configured something like this:</p>\n<pre><code>      &quot;arguments&quot;: {\n        &quot;someKeyName&quot; : &quot;someValue&quot;\n      }\n</code></pre>\n<p>or even:</p>\n<pre><code>      &quot;arguments&quot;: {\n        &quot;someKeyName&quot;: &quot;someKeyValue&quot;,\n        &quot;someKeyName2&quot;: &quot;someKeyValue2&quot;\n      }\n</code></pre>\n<p>My question is, how can I handle the deserialization with Jackson's object mapper or some other alternative, without knowing what would the properties be of the arguments object each time I have to handle the deserialization ?</p>\n"},{"tags":["java","spring-boot","maven","intellij-idea"],"owner":{"account_id":17183453,"reputation":49,"user_id":12438527,"display_name":"Ayon Moitra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670924716,"answer_count":0,"score":0,"last_activity_date":1670921685,"creation_date":1670921685,"question_id":74782178,"body_markdown":"In my IntelliJ, I have a maven project imported. In some of the classes when I am importing a class from different package, getting an error stating &quot;cannot resolve symbol &#39;Utils&#39;&quot;\r\n\r\n    import com.acc.app.Utils;\r\n\r\nWhere I have cross checked Utils class is in the right package under app and path is also correct and mvn clean install build is also successful but why the class Utils import is failing?","title":"Cannot resolve symbol - IntelliJ","body":"<p>In my IntelliJ, I have a maven project imported. In some of the classes when I am importing a class from different package, getting an error stating &quot;cannot resolve symbol 'Utils'&quot;</p>\n<pre><code>import com.acc.app.Utils;\n</code></pre>\n<p>Where I have cross checked Utils class is in the right package under app and path is also correct and mvn clean install build is also successful but why the class Utils import is failing?</p>\n"},{"tags":["java","apache-spark","clickhouse"],"comments":[{"owner":{"account_id":16130481,"reputation":12029,"user_id":11644308,"display_name":"Denny Crane"},"score":0,"creation_date":1648139463,"post_id":71605655,"comment_id":126554433,"body_markdown":"Why do you need this &lt;max_partitions_per_insert_block&gt;10000 ?","body":"Why do you need this &lt;max_partitions_per_insert_block&gt;10000 ?"},{"owner":{"account_id":16326637,"reputation":11,"user_id":11791046,"display_name":"minyan-xiao"},"score":0,"creation_date":1648172525,"post_id":71605655,"comment_id":126563483,"body_markdown":"Please ignore it, I just have a try with this tag with referring to [link](https://clickhouse.com/docs/en/operations/settings/query-complexity/) , and it does not work, but my another project with java.sql.Connection in spark rdd&#39;s foreachPartition method can finish insertion into ClickHouse. @DennyCrane","body":"Please ignore it, I just have a try with this tag with referring to <a href=\"https://clickhouse.com/docs/en/operations/settings/query-complexity/\" rel=\"nofollow noreferrer\">link</a> , and it does not work, but my another project with java.sql.Connection in spark rdd&#39;s foreachPartition method can finish insertion into ClickHouse. @DennyCrane"}],"answers":[{"tags":[],"owner":{"account_id":25832313,"reputation":1,"user_id":19569265,"display_name":""},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658117273,"creation_date":1658117273,"answer_id":73017216,"question_id":71605655,"body_markdown":"Increase the executor memory and batchsize","title":"SparkJava Dataset insert into ClickHouse Table could not pass the too many parts exception","body":"<p>Increase the executor memory and batchsize</p>\n"},{"tags":[],"owner":{"account_id":1242377,"reputation":1782,"user_id":1204665,"accept_rate":75,"display_name":"Slach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670921348,"creation_date":1670921348,"answer_id":74782126,"question_id":71605655,"body_markdown":"Maybe transactions support could help?\r\nLook detail on \r\nhttps://github.com/ClickHouse/clickhouse-jdbc/pull/1008#issuecomment-1303964814","title":"SparkJava Dataset insert into ClickHouse Table could not pass the too many parts exception","body":"<p>Maybe transactions support could help?\nLook detail on\n<a href=\"https://github.com/ClickHouse/clickhouse-jdbc/pull/1008#issuecomment-1303964814\" rel=\"nofollow noreferrer\">https://github.com/ClickHouse/clickhouse-jdbc/pull/1008#issuecomment-1303964814</a></p>\n"}],"owner":{"account_id":16326637,"reputation":11,"user_id":11791046,"display_name":"minyan-xiao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670921348,"creation_date":1648137619,"question_id":71605655,"body_markdown":"I get dataset from Kafka source with spark/java, but too many parts occur when I insert the dataset into clickhouseTable, I touch an XML file in /etc/clickhouse-server/config.d/merge_tree.xml, and paste the content copied from other solutions on the internet, here are the follows:\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;yandex&gt;\r\n  &lt;merge_tree&gt;\r\n    &lt;old_parts_lifetime&gt;30&lt;/old_parts_lifetime&gt;\r\n    &lt;parts_to_delay_insert&gt;150&lt;/parts_to_delay_insert&gt;\r\n    &lt;parts_to_throw_insert&gt;900&lt;/parts_to_throw_insert&gt;\r\n    &lt;max_delay_to_insert&gt;5&lt;/max_delay_to_insert&gt;\r\n  &lt;/merge_tree&gt;\r\n&lt;/yandex&gt;\r\n```\r\nand I also add the tags in user.xml:\r\n```\r\n&lt;profiles&gt;\r\n  ...\r\n  &lt;default&gt;\r\n     &lt;max_partitions_per_insert_block&gt;10000&lt;/max_partitions_per_insert_block&gt;\r\n  &lt;/defualt&gt;\r\n  ...\r\n&lt;/profiles&gt;\r\n```\r\nand my spark codes are:\r\n```\r\n dataset.repartition(1).write().mode(SAVEMODE.APPEND)\r\n        .option(&quot;batchsize&quot;,&quot;&quot;10000&quot;)\r\n        .option(&quot;isolationLevel&quot;,&quot;NONE&quot;)\r\n        .option(&quot;numPartitions&quot;,&quot;1&quot;)\r\n        .option(&quot;driver&quot;,driver)\r\n        .jdbc(url,tableName,properties).\r\n```\r\nHowever, too many exceptions still occur in the spark JDBC stage, I am really confused and wish for your help. Does anyone have any idea?","title":"SparkJava Dataset insert into ClickHouse Table could not pass the too many parts exception","body":"<p>I get dataset from Kafka source with spark/java, but too many parts occur when I insert the dataset into clickhouseTable, I touch an XML file in /etc/clickhouse-server/config.d/merge_tree.xml, and paste the content copied from other solutions on the internet, here are the follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;yandex&gt;\n  &lt;merge_tree&gt;\n    &lt;old_parts_lifetime&gt;30&lt;/old_parts_lifetime&gt;\n    &lt;parts_to_delay_insert&gt;150&lt;/parts_to_delay_insert&gt;\n    &lt;parts_to_throw_insert&gt;900&lt;/parts_to_throw_insert&gt;\n    &lt;max_delay_to_insert&gt;5&lt;/max_delay_to_insert&gt;\n  &lt;/merge_tree&gt;\n&lt;/yandex&gt;\n</code></pre>\n<p>and I also add the tags in user.xml:</p>\n<pre><code>&lt;profiles&gt;\n  ...\n  &lt;default&gt;\n     &lt;max_partitions_per_insert_block&gt;10000&lt;/max_partitions_per_insert_block&gt;\n  &lt;/defualt&gt;\n  ...\n&lt;/profiles&gt;\n</code></pre>\n<p>and my spark codes are:</p>\n<pre><code> dataset.repartition(1).write().mode(SAVEMODE.APPEND)\n        .option(&quot;batchsize&quot;,&quot;&quot;10000&quot;)\n        .option(&quot;isolationLevel&quot;,&quot;NONE&quot;)\n        .option(&quot;numPartitions&quot;,&quot;1&quot;)\n        .option(&quot;driver&quot;,driver)\n        .jdbc(url,tableName,properties).\n</code></pre>\n<p>However, too many exceptions still occur in the spark JDBC stage, I am really confused and wish for your help. Does anyone have any idea?</p>\n"},{"tags":["java","visual-studio-code","intellij-idea"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1667292400,"post_id":74273190,"comment_id":131128502,"body_markdown":"Please see https://stackoverflow.com/a/16784855/12844632","body":"Please see <a href=\"https://stackoverflow.com/a/16784855/12844632\">stackoverflow.com/a/16784855/12844632</a>"},{"owner":{"account_id":21605463,"reputation":67,"user_id":15932971,"display_name":"SHIV1198"},"score":0,"creation_date":1667318823,"post_id":74273190,"comment_id":131137264,"body_markdown":"@JialeDu I am trying to run only ReversingString file/class but the IDE is building/compiling all the classes in that folder. So I have to correct all the errors in other files (if any) before I can run a pacticular file which I dont want. I want to run only one class not bothering about others.","body":"@JialeDu I am trying to run only ReversingString file/class but the IDE is building/compiling all the classes in that folder. So I have to correct all the errors in other files (if any) before I can run a pacticular file which I dont want. I want to run only one class not bothering about others."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1668762280,"post_id":74273190,"comment_id":131489810,"body_markdown":"This can be fixed with [microsoft/java-debug#459](https://github.com/microsoft/java-debug/pull/459).","body":"This can be fixed with <a href=\"https://github.com/microsoft/java-debug/pull/459\" rel=\"nofollow noreferrer\">microsoft/java-debug#459</a>."}],"answers":[{"tags":[],"owner":{"account_id":14736478,"reputation":1,"user_id":10642373,"display_name":"Oth Mane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667309755,"creation_date":1667295852,"answer_id":74274013,"question_id":74273190,"body_markdown":"To run single java independently in Intellij IDEA you&#39;ve choices:\r\n\r\n - Right-click somewhere in the editing area and select Run &#39;ReversingString.main()&#39;.\r\n - Open the file in editor and use **Ctrl+Shift+F10**\r\n\r\nread the answers [here][1] for more details. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26467569/intellij-idea-run-debug-just-one-file","title":"How to run single java files independently in Intellij IDEA or vscode?","body":"<p>To run single java independently in Intellij IDEA you've choices:</p>\n<ul>\n<li>Right-click somewhere in the editing area and select Run 'ReversingString.main()'.</li>\n<li>Open the file in editor and use <strong>Ctrl+Shift+F10</strong></li>\n</ul>\n<p>read the answers <a href=\"https://stackoverflow.com/questions/26467569/intellij-idea-run-debug-just-one-file\">here</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670920995,"creation_date":1667354937,"answer_id":74283660,"question_id":74273190,"body_markdown":"**UPDATE:**\r\n\r\nThis problem has been fixed in the latest version of vscode.\r\n\r\n---\r\n\r\nIn VS Code, you only need to click **`proceed`** in the pop-up window to compile and run the current file normally.\r\n\r\nBelow is my file structure, I open **myproject** folder in VS Code.\r\n\r\n```\r\nmyproject\r\n DemoOne.java\r\n DemoTwo.java\r\n```\r\n\r\nI have two errors in **DemoTwo.java**. When I run **DemoOne.java**, a pop-up window will appear. Click **`proceed`** to compile and run demoone normally.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n#### Another way:\r\n\r\nInstall the [**Code Runner**][2] extension, then right-click on the **DemoOne.java** editing interface and select `Run Code`( *Ctrl + Alt + N* ). This will run the code using **Code Runner**, it will not compile all the files in the folder. Output results directly on the **OUTPUT** panel.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mDi27.png\r\n  [2]: https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\r\n  [3]: https://i.stack.imgur.com/P5tei.png","title":"How to run single java files independently in Intellij IDEA or vscode?","body":"<p><strong>UPDATE:</strong></p>\n<p>This problem has been fixed in the latest version of vscode.</p>\n<hr />\n<p>In VS Code, you only need to click <strong><code>proceed</code></strong> in the pop-up window to compile and run the current file normally.</p>\n<p>Below is my file structure, I open <strong>myproject</strong> folder in VS Code.</p>\n<pre><code>myproject\n DemoOne.java\n DemoTwo.java\n</code></pre>\n<p>I have two errors in <strong>DemoTwo.java</strong>. When I run <strong>DemoOne.java</strong>, a pop-up window will appear. Click <strong><code>proceed</code></strong> to compile and run demoone normally.</p>\n<p><a href=\"https://i.stack.imgur.com/mDi27.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mDi27.png\" alt=\"enter image description here\" /></a></p>\n<h4>Another way:</h4>\n<p>Install the <a href=\"https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\" rel=\"nofollow noreferrer\"><strong>Code Runner</strong></a> extension, then right-click on the <strong>DemoOne.java</strong> editing interface and select <code>Run Code</code>( <em>Ctrl + Alt + N</em> ). This will run the code using <strong>Code Runner</strong>, it will not compile all the files in the folder. Output results directly on the <strong>OUTPUT</strong> panel.</p>\n<p><a href=\"https://i.stack.imgur.com/P5tei.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P5tei.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21605463,"reputation":67,"user_id":15932971,"display_name":"SHIV1198"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1023,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1670920995,"creation_date":1667290783,"question_id":74273190,"body_markdown":"I need to run single java files independently in Intellij IDEA or vscode. Currently, when I run a single program both IDEs checks for other files. \r\n\r\nFor example, in the given image, I need to run ReversingString program only, but it doesn&#39;t run it and asks me to correct error in other java files.\r\n\r\nHow can I run a single file while ignoring other files. I checked answers to other similar questions here like editing run configuration but nothing is working.\r\n\r\nI want all files in this folder to be independent/separate from each other.\r\n\r\n[![Error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3w6XF.png\r\n\r\n\r\n\r\n\r\n***Update: I found the solution :***\r\n\r\n**All you need to do is to basically stop building the project.**\r\n\r\n**For that click beside the run icon - &quot;Edit/Run configurations&quot;  Click on modify option and check the option &quot;Do not build before run&quot; and now you can run a single file.**","title":"How to run single java files independently in Intellij IDEA or vscode?","body":"<p>I need to run single java files independently in Intellij IDEA or vscode. Currently, when I run a single program both IDEs checks for other files.</p>\n<p>For example, in the given image, I need to run ReversingString program only, but it doesn't run it and asks me to correct error in other java files.</p>\n<p>How can I run a single file while ignoring other files. I checked answers to other similar questions here like editing run configuration but nothing is working.</p>\n<p>I want all files in this folder to be independent/separate from each other.</p>\n<p><a href=\"https://i.stack.imgur.com/3w6XF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3w6XF.png\" alt=\"Error\" /></a></p>\n<p><em><strong>Update: I found the solution :</strong></em></p>\n<p><strong>All you need to do is to basically stop building the project.</strong></p>\n<p><strong>For that click beside the run icon - &quot;Edit/Run configurations&quot;  Click on modify option and check the option &quot;Do not build before run&quot; and now you can run a single file.</strong></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9180,"page":812,"page_size":100}
