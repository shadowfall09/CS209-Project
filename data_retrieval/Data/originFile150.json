{"items":[{"tags":["java","set","java-11"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":13,"creation_date":1696238991,"post_id":77214475,"comment_id":136123059,"body_markdown":"I&#39;m afraid you&#39;re asking the wrong question, as there is most likely no (or very little) difference between vendors in this case. The real question that you should be following up is *which implementation of `java.util.Set` are you using*? The &quot;classic&quot; `java.util.HashSet` for example clearly supports `add`, but some `Set` implementation returned as a view onto some other data structure might not. What does `yourSet.getClass()` return?","body":"I&#39;m afraid you&#39;re asking the wrong question, as there is most likely no (or very little) difference between vendors in this case. The real question that you should be following up is <i>which implementation of <code>java.util.Set</code> are you using</i>? The &quot;classic&quot; <code>java.util.HashSet</code> for example clearly supports <code>add</code>, but some <code>Set</code> implementation returned as a view onto some other data structure might not. What does <code>yourSet.getClass()</code> return?"},{"owner":{"account_id":3739112,"reputation":409,"user_id":3109289,"accept_rate":52,"display_name":"cidy.long"},"score":0,"creation_date":1696239685,"post_id":77214475,"comment_id":136123186,"body_markdown":"Yeah, I am using HashSet to create the Set Instance.","body":"Yeah, I am using HashSet to create the Set Instance."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1696249471,"post_id":77214475,"comment_id":136124882,"body_markdown":"**Show us your code.**  There is no possibility that calling `add` on a HashSet is producing that exception.  However, if your code does `HashSet.of(element)`, that is actually calling `Set.of(element)` which produces an unmodifiable Set.","body":"<b>Show us your code.</b>  There is no possibility that calling <code>add</code> on a HashSet is producing that exception.  However, if your code does <code>HashSet.of(element)</code>, that is actually calling <code>Set.of(element)</code> which produces an unmodifiable Set."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696411579,"post_id":77214475,"comment_id":136148175,"body_markdown":"@VGR `static` interface methods are not inherited. Therefore, it’s not possible to accidentally invoke `Set.of(…)` via `HashSet.of(…)`.","body":"@VGR <code>static</code> interface methods are not inherited. Therefore, it’s not possible to accidentally invoke <code>Set.of(…)</code> via <code>HashSet.of(…)</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696419393,"post_id":77214475,"comment_id":136149839,"body_markdown":"@Holger Actually, they are.  Try it for yourself.","body":"@Holger Actually, they are.  Try it for yourself."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696419721,"post_id":77214475,"comment_id":136149901,"body_markdown":"@VGR I did. Not that it was necessary, as [the specification](https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4.8:~:text=A%20class%20does%20not%20inherit%20private%20or%20static%20methods%20from%20its%20superinterface%20types.) clearly says: *A class does not inherit private or static methods from its superinterface types*","body":"@VGR I did. Not that it was necessary, as <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4.8:~:text=A%20class%20does%20not%20inherit%20private%20or%20static%20methods%20from%20its%20superinterface%20types.\" rel=\"nofollow noreferrer\">the specification</a> clearly says: <i>A class does not inherit private or static methods from its superinterface types</i>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1696420483,"post_id":77214475,"comment_id":136150065,"body_markdown":"@Holger Ah, okay, I didn’t read your statement carefully.  I glossed over the word ‘interface’ and was thinking of static methods in general.  You’re completely correct, static *interface* methods are indeed not inherited.  So my HashSet.of guess cannot be true.","body":"@Holger Ah, okay, I didn’t read your statement carefully.  I glossed over the word ‘interface’ and was thinking of static methods in general.  You’re completely correct, static <i>interface</i> methods are indeed not inherited.  So my HashSet.of guess cannot be true."}],"answers":[{"comments":[{"owner":{"account_id":3739112,"reputation":409,"user_id":3109289,"accept_rate":52,"display_name":"cidy.long"},"score":0,"creation_date":1696321390,"post_id":77214509,"comment_id":136134581,"body_markdown":"Thank you! I did more research and find out, If I create every instance by using\n    new HashSet&lt;&gt;();","body":"Thank you! I did more research and find out, If I create every instance by using     new HashSet&lt;&gt;();"}],"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1696264925,"creation_date":1696238983,"answer_id":77214509,"question_id":77214475,"body_markdown":"It does not depend on the vendor but on the particular class implementing the `Set` interface: some sets are unmodifiable, so you cannot add anything to them.  The Javadoc specifies any usage limitation for each implementing class.  For example a `Set` returned by [`Collections.unmodifiableSet()`][1] is, obviously, unmodifiable.\r\n\r\nPerhaps during the upgrade of Java you have also upgraded some dependency and the new version of that dependency returns an unmodifiable `Set`.  Check the Javadoc of the method that returns that `Set`.\r\n\r\nYou&#39;ll probably have to modify your code and copy the content of that `Set` in a new modifiable instance, for example:\r\n\r\n```java \r\nSet&lt;YourClassGoesHere&gt; newSet = new HashSet&lt;&gt;(oldSet);\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableSet-java.util.Set-","title":"java 17, which vendor supported Set to add an element?","body":"<p>It does not depend on the vendor but on the particular class implementing the <code>Set</code> interface: some sets are unmodifiable, so you cannot add anything to them.  The Javadoc specifies any usage limitation for each implementing class.  For example a <code>Set</code> returned by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableSet-java.util.Set-\" rel=\"nofollow noreferrer\"><code>Collections.unmodifiableSet()</code></a> is, obviously, unmodifiable.</p>\n<p>Perhaps during the upgrade of Java you have also upgraded some dependency and the new version of that dependency returns an unmodifiable <code>Set</code>.  Check the Javadoc of the method that returns that <code>Set</code>.</p>\n<p>You'll probably have to modify your code and copy the content of that <code>Set</code> in a new modifiable instance, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;YourClassGoesHere&gt; newSet = new HashSet&lt;&gt;(oldSet);\n</code></pre>\n"}],"owner":{"account_id":3739112,"reputation":409,"user_id":3109289,"accept_rate":52,"display_name":"cidy.long"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1696252893,"accepted_answer_id":77214509,"answer_count":1,"score":-5,"last_activity_date":1696264925,"creation_date":1696238688,"question_id":77214475,"body_markdown":"I&#39;m trying to migrate my Oracle JDK 11 application to JDK 17.0.7, when I tried to access add() in java.utils.Set, It throws \r\n\r\n    java.lang.UnsupportedOperationException\r\n\r\nI checked with Stackoverflow and found, java.util.Set&#39;s implementation is not fully support add() function yet, it was marked as optional.\r\n\r\nMy question is, Which java vendor&#39;s Java 17 it already supported or implemented java Set add() methods?\r\n\r\nI have quite a lot Java objects need this function in my application.\r\n\r\nIf anyone have idea, Please advise.","title":"java 17, which vendor supported Set to add an element?","body":"<p>I'm trying to migrate my Oracle JDK 11 application to JDK 17.0.7, when I tried to access add() in java.utils.Set, It throws</p>\n<pre><code>java.lang.UnsupportedOperationException\n</code></pre>\n<p>I checked with Stackoverflow and found, java.util.Set's implementation is not fully support add() function yet, it was marked as optional.</p>\n<p>My question is, Which java vendor's Java 17 it already supported or implemented java Set add() methods?</p>\n<p>I have quite a lot Java objects need this function in my application.</p>\n<p>If anyone have idea, Please advise.</p>\n"},{"tags":["java","android","kotlin","webview","transactiontoolargeexception"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1696245928,"post_id":77215123,"comment_id":136124243,"body_markdown":"You may have better luck getting help if you included a [mcve] with the *complete* stack trace and the code involved with it. Also, are you saying that if you comment out that one line and leave everything else alone that the exception does not occur?","body":"You may have better luck getting help if you included a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with the <i>complete</i> stack trace and the code involved with it. Also, are you saying that if you comment out that one line and leave everything else alone that the exception does not occur?"},{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1696248534,"post_id":77215123,"comment_id":136124734,"body_markdown":"Can you share your `code snippet`. It would help a lot identifying issue","body":"Can you share your <code>code snippet</code>. It would help a lot identifying issue"}],"answers":[{"comments":[{"owner":{"account_id":29580196,"reputation":1,"user_id":22670170,"display_name":"Sheharyar Lodhi"},"score":1,"creation_date":1696247723,"post_id":77215237,"comment_id":136124582,"body_markdown":"Hi thanks for the response but opening in external browser is not the requirement i want to open in a webview","body":"Hi thanks for the response but opening in external browser is not the requirement i want to open in a webview"},{"owner":{"account_id":29580196,"reputation":1,"user_id":22670170,"display_name":"Sheharyar Lodhi"},"score":1,"creation_date":1696247838,"post_id":77215237,"comment_id":136124609,"body_markdown":"actually there is not any redundant things in my url so that is why i ca not reduce or remove any element from htmp string","body":"actually there is not any redundant things in my url so that is why i ca not reduce or remove any element from htmp string"}],"tags":[],"owner":{"account_id":14037507,"reputation":68,"user_id":10139837,"display_name":"coderAsk"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696246156,"creation_date":1696246156,"answer_id":77215237,"question_id":77215123,"body_markdown":"It seems the HTML content that you are trying to load , is too large hence you are getting exception java.lang.RuntimeException: android.os.TransactionTooLargeException: data parcel size 1110288 bytes.\r\n\r\nThere are few possible ways that I can think of./\r\n\r\n1. First of all see, if you can reduce HTML content size, it is better to remove redundant elements from it.\r\n\r\n2. Instead of opening it in the app web view, can you check if you can open it in an external browser from the app itself? You can use Andriod intent functionality for this - https://developer.android.com/reference/android/content/Intent\r\n\r\nSomething this will work \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\r\n    startActivity(browserIntent);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n\r\n","title":"App is crashing while loading a url in WebView","body":"<p>It seems the HTML content that you are trying to load , is too large hence you are getting exception java.lang.RuntimeException: android.os.TransactionTooLargeException: data parcel size 1110288 bytes.</p>\n<p>There are few possible ways that I can think of./</p>\n<ol>\n<li><p>First of all see, if you can reduce HTML content size, it is better to remove redundant elements from it.</p>\n</li>\n<li><p>Instead of opening it in the app web view, can you check if you can open it in an external browser from the app itself? You can use Andriod intent functionality for this - <a href=\"https://developer.android.com/reference/android/content/Intent\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/content/Intent</a></p>\n</li>\n</ol>\n<p>Something this will work</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\nstartActivity(browserIntent);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":29580196,"reputation":1,"user_id":22670170,"display_name":"Sheharyar Lodhi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696264858,"creation_date":1696245086,"question_id":77215123,"body_markdown":"Hi i am trying to load a url in WebView that contains HTML. I am trying to load with \r\n```\r\nwebView.loadDataWithBaseURL(&quot;&quot;, url, &quot;text/html; charset=utf-8&quot;, &quot;UTF-8&quot;, &quot;&quot;);\r\n```\r\n\r\nBut once this method is called, my app crashes with this exception. \r\n\r\n```\r\n:E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1110288). java.lang.RuntimeException: android.os.TransactionTooLargeException: data parcel size 1110288 bytes\r\n```\r\n\r\n\r\ni have tried even using content providers, compressing the url and decompressing, but nothing has changed","title":"App is crashing while loading a url in WebView","body":"<p>Hi i am trying to load a url in WebView that contains HTML. I am trying to load with</p>\n<pre><code>webView.loadDataWithBaseURL(&quot;&quot;, url, &quot;text/html; charset=utf-8&quot;, &quot;UTF-8&quot;, &quot;&quot;);\n</code></pre>\n<p>But once this method is called, my app crashes with this exception.</p>\n<pre><code>:E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1110288). java.lang.RuntimeException: android.os.TransactionTooLargeException: data parcel size 1110288 bytes\n</code></pre>\n<p>i have tried even using content providers, compressing the url and decompressing, but nothing has changed</p>\n"},{"tags":["java","android","android-studio","ime","serial-number"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696269392,"post_id":77216566,"comment_id":136128656,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":6576425,"reputation":3053,"user_id":5082285,"display_name":"Markus Kauppinen"},"score":0,"creation_date":1696321741,"post_id":77216566,"comment_id":136134639,"body_markdown":"Related [https://stackoverflow.com/questions/58180656/how-do-i-get-information-about-a-phones-imei-in-android-10](https://stackoverflow.com/questions/58180656/how-do-i-get-information-about-a-phones-imei-in-android-10)","body":"Related <a href=\"https://stackoverflow.com/questions/58180656/how-do-i-get-information-about-a-phones-imei-in-android-10\">https://stackoverflow.com/questions/58180656/how-do-i-get-in&zwnj;&#8203;formation-about-a-ph&zwnj;&#8203;ones-imei-in-android&zwnj;&#8203;-10</a>"},{"owner":{"account_id":6576425,"reputation":3053,"user_id":5082285,"display_name":"Markus Kauppinen"},"score":0,"creation_date":1696321772,"post_id":77216566,"comment_id":136134644,"body_markdown":"Does this answer your question? [I am getting IMEI null in Android Q?](https://stackoverflow.com/questions/55173823/i-am-getting-imei-null-in-android-q)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55173823/i-am-getting-imei-null-in-android-q\">I am getting IMEI null in Android Q?</a>"}],"answers":[{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696263346,"creation_date":1696261897,"answer_id":77216883,"question_id":77216566,"body_markdown":"Android has become increasingly restrictive in providing access to certain device identifiers like IMEI and serial number for privacy and security reasons. \r\n\r\nDevice Fingerprinting is something we can do. We can create a device fingerprint by collecting various device attributes such as device model, OS version, Build ID (a unique identifier for the software build running on the device. It includes information about the Android version and build date.), and available sensors. This can provide a reasonably unique identifier for each device within your organization.\r\n\r\nHere is the code\r\n\r\nactivity_main.xml\r\n\r\n```\r\n&lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android = &quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app = &quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools = &quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width = &quot;match_parent&quot;\r\n    android:gravity = &quot;center&quot;\r\n    android:layout_height = &quot;match_parent&quot;\r\n    tools:context = &quot;.MainActivity&quot;&gt;\r\n    &lt;TextView\r\n        android:id = &quot;@+id/text&quot;\r\n        android:textSize = &quot;30sp&quot;\r\n        android:layout_width = &quot;match_parent&quot;\r\n        android:layout_height = &quot;match_parent&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\nMainActivity.java\r\n\r\n```\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\nimport android.Manifest;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    TextView textView;\r\n    @RequiresApi(api = Build.VERSION_CODES.P)\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        textView = findViewById(R.id.text);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.READ_PHONE_STATE}, 101);\r\n        }\r\n\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        switch (requestCode) {\r\n            case 101:\r\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\r\n                    return;\r\n                }\r\n                textView.setText(Build.FINGERPRINT);\r\n            } else {\r\n                //not granted\r\n            }\r\n            break;\r\n            default:\r\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        }\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        textView.setText(Build.FINGERPRINT);\r\n    }\r\n}\r\n```\r\n\r\nAdd these permissions to the manifest\r\n\r\n```\r\n &lt;uses-permission android:name = &quot;android.permission.INTERNET&quot;/&gt;\r\n &lt;uses-permission android:name = &quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n```\r\nYou can find the code here as well: [My GitHub][1]\r\n\r\n\r\nI hope it helps!\r\n\r\n\r\n  [1]: https://github.com/sarmadalij/DeviceFingerPrint/tree/master/app","title":"Is it possible to get IMEI number for above android 11? I want to use it within organization. App won&#39;t be uploaded on play store","body":"<p>Android has become increasingly restrictive in providing access to certain device identifiers like IMEI and serial number for privacy and security reasons.</p>\n<p>Device Fingerprinting is something we can do. We can create a device fingerprint by collecting various device attributes such as device model, OS version, Build ID (a unique identifier for the software build running on the device. It includes information about the Android version and build date.), and available sensors. This can provide a reasonably unique identifier for each device within your organization.</p>\n<p>Here is the code</p>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android = &quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app = &quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools = &quot;http://schemas.android.com/tools&quot;\n    android:layout_width = &quot;match_parent&quot;\n    android:gravity = &quot;center&quot;\n    android:layout_height = &quot;match_parent&quot;\n    tools:context = &quot;.MainActivity&quot;&gt;\n    &lt;TextView\n        android:id = &quot;@+id/text&quot;\n        android:textSize = &quot;30sp&quot;\n        android:layout_width = &quot;match_parent&quot;\n        android:layout_height = &quot;match_parent&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>import android.content.pm.PackageManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.widget.TextView;\nimport android.Manifest;\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    TextView textView;\n    @RequiresApi(api = Build.VERSION_CODES.P)\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        textView = findViewById(R.id.text);\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE)\n                != PackageManager.PERMISSION_GRANTED) {\n\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.READ_PHONE_STATE}, 101);\n        }\n\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        switch (requestCode) {\n            case 101:\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\n                    return;\n                }\n                textView.setText(Build.FINGERPRINT);\n            } else {\n                //not granted\n            }\n            break;\n            default:\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    @Override\n    protected void onResume() {\n        super.onResume();\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE)\n                != PackageManager.PERMISSION_GRANTED) {\n            return;\n        }\n        textView.setText(Build.FINGERPRINT);\n    }\n}\n</code></pre>\n<p>Add these permissions to the manifest</p>\n<pre><code> &lt;uses-permission android:name = &quot;android.permission.INTERNET&quot;/&gt;\n &lt;uses-permission android:name = &quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n</code></pre>\n<p>You can find the code here as well: <a href=\"https://github.com/sarmadalij/DeviceFingerPrint/tree/master/app\" rel=\"nofollow noreferrer\">My GitHub</a></p>\n<p>I hope it helps!</p>\n"}],"owner":{"account_id":14442585,"reputation":1,"user_id":10432739,"display_name":"Shaikh Danish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696263346,"creation_date":1696258987,"question_id":77216566,"body_markdown":"hope you are doing well,\r\nbasically I want save the value unique id for device which is non-resettable \r\nIs it possible to get IMEI, Serial number for above android 11? I want to use it within organization. App won&#39;t be uploaded on play store.\r\nIs there any workaround for it?\r\n\r\nand also you can suggest me the solution for how to find uniqueness in each devices.\r\n\r\nthank you!\r\n\r\nI am trying multiple solution for this but tired to get any solution for fetch the MAC Address,IME and Serail Number.\r\n","title":"Is it possible to get IMEI number for above android 11? I want to use it within organization. App won&#39;t be uploaded on play store","body":"<p>hope you are doing well,\nbasically I want save the value unique id for device which is non-resettable\nIs it possible to get IMEI, Serial number for above android 11? I want to use it within organization. App won't be uploaded on play store.\nIs there any workaround for it?</p>\n<p>and also you can suggest me the solution for how to find uniqueness in each devices.</p>\n<p>thank you!</p>\n<p>I am trying multiple solution for this but tired to get any solution for fetch the MAC Address,IME and Serail Number.</p>\n"},{"tags":["java","selenium-webdriver","ram"],"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696263124,"creation_date":1696262562,"question_id":77216951,"body_markdown":"I have a java application that create 4 selenium drivers.\r\n\r\nWebDrivers are created in the following way\r\n\r\n    FirefoxOptions options = new FirefoxOptions();\r\n    options.addArguments(&quot;-headless&quot;);\r\n    options.addPreference(&quot;gfx.webrender.all&quot;, false);\r\n    options.addPreference(&quot;gfx.webrender.enabled&quot;, false);\r\n    options.addPreference(&quot;pdfjs.disabled&quot;, true);\r\n    options.addPreference(&quot;layers.acceleration.disabled&quot;, true);\r\n    options.addPreference(&quot;extensions.enabled&quot;, false);\r\n    options.addPreference(&quot;dom.webnotifications.enabled&quot;, false);\r\n    options.addPreference(&quot;media.autoplay.enabled&quot;, false);\r\n    options.addPreference(&quot;dom.ipc.processCount&quot;, 1);\r\n    options.addPreference(&quot;media.peerconnection.enabled&quot;, false);\r\n    options.addPreference(&quot;geo.enabled&quot;, false);\r\n    WebDriver f = new FirefoxDriver(options);\r\n\r\nI run a periodically task (runnable) created with\r\n\r\n`ScheduledExecutorService scheduler1 = Executors.newScheduledThreadPool(1);` \r\n\r\nwhere I add and remove tabs on promise (when a window is closed an `driver.close` is performed and when added the logic add new on the driver where there are fewer tabs) \r\n\r\nI run also another periodically task (runnable) to process all tabs driver with a multithreading strategy with a static class variable. I I have to do a foreach `driver.getWindowHandles()` and get html page content to do my logic.\r\n\r\n`ExecutorService executorService = Executors.newFixedThreadPool(4);` \r\n\r\nWith that approach I can allocate 1 thread per each WebDriver to have more execution time performance and reuse always the same `ExecutorService`.\r\n\r\nSo in resume, all drivers instance are initialising once and never changed (closed or re-initialised) because the application should run 24/7 . \r\n\r\nWhen application starts and the first two hours the RAM is normally and stable (8GB~10GB) but, slowly and hour after hour, the RAM is increasing and goes close to the limite VPS RAM resource (24GB).\r\n\r\n - What could be generating this increase in RAM?\r\n   \r\n - What I can do to maintain the RAM stable?\r\n   \r\n - It&#39;s a good idea manage some Garbage Collector or JVM heap management\r\n   ?\r\n\r\nRegards,","title":"Java Selenium WebDriver Ram Accumulation","body":"<p>I have a java application that create 4 selenium drivers.</p>\n<p>WebDrivers are created in the following way</p>\n<pre><code>FirefoxOptions options = new FirefoxOptions();\noptions.addArguments(&quot;-headless&quot;);\noptions.addPreference(&quot;gfx.webrender.all&quot;, false);\noptions.addPreference(&quot;gfx.webrender.enabled&quot;, false);\noptions.addPreference(&quot;pdfjs.disabled&quot;, true);\noptions.addPreference(&quot;layers.acceleration.disabled&quot;, true);\noptions.addPreference(&quot;extensions.enabled&quot;, false);\noptions.addPreference(&quot;dom.webnotifications.enabled&quot;, false);\noptions.addPreference(&quot;media.autoplay.enabled&quot;, false);\noptions.addPreference(&quot;dom.ipc.processCount&quot;, 1);\noptions.addPreference(&quot;media.peerconnection.enabled&quot;, false);\noptions.addPreference(&quot;geo.enabled&quot;, false);\nWebDriver f = new FirefoxDriver(options);\n</code></pre>\n<p>I run a periodically task (runnable) created with</p>\n<p><code>ScheduledExecutorService scheduler1 = Executors.newScheduledThreadPool(1);</code></p>\n<p>where I add and remove tabs on promise (when a window is closed an <code>driver.close</code> is performed and when added the logic add new on the driver where there are fewer tabs)</p>\n<p>I run also another periodically task (runnable) to process all tabs driver with a multithreading strategy with a static class variable. I I have to do a foreach <code>driver.getWindowHandles()</code> and get html page content to do my logic.</p>\n<p><code>ExecutorService executorService = Executors.newFixedThreadPool(4);</code></p>\n<p>With that approach I can allocate 1 thread per each WebDriver to have more execution time performance and reuse always the same <code>ExecutorService</code>.</p>\n<p>So in resume, all drivers instance are initialising once and never changed (closed or re-initialised) because the application should run 24/7 .</p>\n<p>When application starts and the first two hours the RAM is normally and stable (8GB~10GB) but, slowly and hour after hour, the RAM is increasing and goes close to the limite VPS RAM resource (24GB).</p>\n<ul>\n<li><p>What could be generating this increase in RAM?</p>\n</li>\n<li><p>What I can do to maintain the RAM stable?</p>\n</li>\n<li><p>It's a good idea manage some Garbage Collector or JVM heap management\n?</p>\n</li>\n</ul>\n<p>Regards,</p>\n"},{"tags":["java","image","url","webview","imageview"],"owner":{"account_id":29502678,"reputation":1,"user_id":22609340,"display_name":"Jes&#250;s Luvian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696263009,"creation_date":1696263009,"question_id":77216992,"body_markdown":"Good morning everyone, I have this issue with Android Gradle Java that I haven&#39;t been able to solve. I have this URL &quot;file://192.168.10.2/Pictures/logo.png&quot; which points to a shared folder on a computer in a local network. I can access it normally from a PC browser, but the problem arises when I try to open it from an Android application using a WebView or a web browser. I have also tried using Picasso, but I haven&#39;t received a successful response. Can someone please help me?\r\n\r\n\r\nThis is my actual code:\r\n\r\nUsing Picasso\r\n`Picasso.get().load(&quot;file://ip/Pictures/logo.png&quot;).into(imgImagen);`\r\n\r\nUsing Web View\r\n`detalleTagWebView.loadUrl(&quot;file://192.168.10.2/Pictures/logo.png&quot;);`","title":"Trouble Opening Android App WebView or Loading in Image View to Shared Image","body":"<p>Good morning everyone, I have this issue with Android Gradle Java that I haven't been able to solve. I have this URL &quot;file://192.168.10.2/Pictures/logo.png&quot; which points to a shared folder on a computer in a local network. I can access it normally from a PC browser, but the problem arises when I try to open it from an Android application using a WebView or a web browser. I have also tried using Picasso, but I haven't received a successful response. Can someone please help me?</p>\n<p>This is my actual code:</p>\n<p>Using Picasso\n<code>Picasso.get().load(&quot;file://ip/Pictures/logo.png&quot;).into(imgImagen);</code></p>\n<p>Using Web View\n<code>detalleTagWebView.loadUrl(&quot;file://192.168.10.2/Pictures/logo.png&quot;);</code></p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":18212166,"reputation":11,"user_id":13254476,"display_name":"user13254476"},"score":0,"creation_date":1589603843,"post_id":61788329,"comment_id":109365627,"body_markdown":"public static void merge(File file) throws IOException {\n\t    XSSFWorkbook book = new XSSFWorkbook();\n\t   String directoryName = &quot;C: users\\\\documents&quot;;\n\t    File directory = new File(directoryName);\n\t    File[] fList = directory.listFiles();\n\t    for (File file1 : fList){\n\t        if (file1.isFile()){\n String ParticularFile = file1.getName();\nFile(directoryName+&quot;\\\\&quot;+ParticularFile));\n\t\t           FileInputStream fin = new FileInputStream(new File(directoryName+&quot;\\\\&quot;+ParticularFile));\nXSSFWorkbook b = new XSSFWorkbook(fin);","body":"public static void merge(File file) throws IOException { \t    XSSFWorkbook book = new XSSFWorkbook(); \t   String directoryName = &quot;C: users\\\\documents&quot;; \t    File directory = new File(directoryName); \t    File[] fList = directory.listFiles(); \t    for (File file1 : fList){ \t        if (file1.isFile()){  String ParticularFile = file1.getName(); File(directoryName+&quot;\\\\&quot;+ParticularFile)); \t\t           FileInputStream fin = new FileInputStream(new File(directoryName+&quot;\\\\&quot;+ParticularFile)); XSSFWorkbook b = new XSSFWorkbook(fin);"}],"answers":[{"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1589800888,"post_id":61805493,"comment_id":109427461,"body_markdown":"Comments are not for extended discussion; this conversation has been [moved to chat](https://chat.stackoverflow.com/rooms/214102/discussion-on-answer-by-aman-kumayu-skipping-the-first-row-in-subsequent-workshe).","body":"Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/214102/discussion-on-answer-by-aman-kumayu-skipping-the-first-row-in-subsequent-workshe\">moved to chat</a>."}],"tags":[],"owner":{"account_id":11864131,"reputation":381,"user_id":8682062,"display_name":"Aman Kumayu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589660544,"creation_date":1589483271,"answer_id":61805493,"question_id":61788329,"body_markdown":"    for(int i = 1; i &lt; sheet.getPhysicalNumberOfRows() - 1 ; i++){\r\n       Row row = sheet.getRow(i);\r\n       if(row != null){\r\n         // process your row\r\n       }\r\n    }\r\n\r\nThis way you can skip your heading and can read up to the rows which are not empty!\r\n\r\n**EDIT** - If you have a list of workbooks to read, you can manage a check to read headers only for the first workbook, not for remaining workbooks.\r\n\r\n\r\n    Boolean doNotReadHeaders = false;\r\n    for (int f = 0; f &lt; filesToReadCount; f++) {\r\n        doNotReadHeaders = (f == 0) ? false : true;\r\n        XSSFWorkbook workbook = new XSSFWorkbook(inputStream); // retrieve input stream acc. to your file lists\r\n        XSSFSheet sheet = workbook.getSheetAt(0);\r\n        for (int i = 1; i &lt; (doNotReadHeaders ? sheet.getPhysicalNumberOfRows() - 1 : sheet.getPhysicalNumberOfRows()); i++) { //Skipping headers only for the first workbook\r\n            Row row = sheet.getRow(i);\r\n            if (row != null) {\r\n                // process your row\r\n            }\r\n        }\r\n    }\r\n\r\n**EDIT** -\r\n\r\n    public static void merge(File file) throws IOException {\r\n            XSSFWorkbook book = new XSSFWorkbook();\r\n            String directoryName = &quot;C: users\\\\documents&quot;;\r\n            File directory = new File(directoryName);\r\n            File[] fList = directory.listFiles();\r\n            Boolean doNotReadHeaders = false;\r\n            Integer fileCount = 0;\r\n            for (File file1: fList) {\r\n                if (file1.isFile()) {\r\n                \tdoNotReadHeaders = (fileCount == 0) ? false : true;\r\n                    String ParticularFile = file1.getName();\r\n                    FileInputStream fin = new FileInputStream(new File(directoryName + &quot;\\\\&quot; + ParticularFile));\r\n                    XSSFWorkbook workbook = new XSSFWorkbook(fin);\r\n                    XSSFSheet sheet = workbook.getSheetAt(0);\r\n                    for (int i = 1; i &lt; (doNotReadHeaders ? sheet.getPhysicalNumberOfRows() - 1 : sheet.getPhysicalNumberOfRows()); i++) { //Skipping headers only for the first workbook\r\n                        Row row = sheet.getRow(i);\r\n                        if (row != null) {\r\n                            // process your row\r\n                        }\r\n                    }\r\n                    fileCount++;\r\n                }\r\n            }\r\n       }\r\n\r\nI just integrated your code with mine.\r\n\r\n**EDIT -** Final Code\r\n\r\n    private static void copySheets(XSSFSheet newSheet, XSSFSheet sheet, boolean doNotReadHeaders, boolean copyStyle) {\r\n    \r\n    \t    int newRownumber = newSheet.getLastRowNum() + 1;\r\n    \t    int maxColumnNum = 0;\r\n    \t    Map&lt; Integer, XSSFCellStyle &gt; styleMap = (copyStyle) ? new HashMap&lt; Integer, XSSFCellStyle &gt;() : null;\r\n    \r\n    \t    int FIRST_ROW_TO_GET = doNotReadHeaders ? 1 : 0;\r\n    \t    for (int ii = FIRST_ROW_TO_GET; ii &lt; sheet.getLastRowNum(); ii++) {\r\n    \t    \tXSSFRow row = sheet.getRow(ii);\r\n    \t        if (row != null) {\r\n    \t            // The whole row is blank\r\n    \t            //continue;\r\n    \t        } else {\r\n    \t            for (int i = (doNotReadHeaders ? sheet.getFirstRowNum() + 1 : sheet.getFirstRowNum()); i &lt; (doNotReadHeaders ? sheet.getPhysicalNumberOfRows() -1 : sheet.getPhysicalNumberOfRows()); i++) {\r\n    \t                XSSFRow srcRow = sheet.getRow(i);\r\n    \t                XSSFRow destRow = newSheet.createRow(i + newRownumber);\r\n    \t                if (srcRow != null) {\r\n    \t                    //copyRow(newWorkbook, sheet, newSheet, srcRow, destRow, styleMap);  \r\n    \t                    //copyRow(sheet, newSheet, srcRow, destRow, styleMap);\r\n    \t                    if (srcRow.getLastCellNum() &gt; maxColumnNum) {\r\n    \t                        maxColumnNum = srcRow.getLastCellNum();\r\n    \t                    }\r\n    \t                }\r\n    \t            }\r\n    \t        }\r\n    \t    }\r\n    \t    for (int i = 0; i &lt;= maxColumnNum; i++) {\r\n    \t        newSheet.setColumnWidth(i, sheet.getColumnWidth(i));\r\n    \t    }\r\n    \t}\r\n    \r\n    \tpublic static void merge(File file) throws IOException {\r\n            XSSFWorkbook book = new XSSFWorkbook();\r\n            String directoryName = &quot;C: users\\\\documents&quot;;\r\n            File directory = new File(directoryName);\r\n            File[] fList = directory.listFiles();\r\n            Boolean doNotReadHeaders = false;\r\n            Integer fileCount = 0;\r\n            for (File file1: fList) {\r\n                if (file1.isFile()) {\r\n                    doNotReadHeaders = (fileCount == 0) ? false : true;\r\n                    String ParticularFile = file1.getName();\r\n                    FileInputStream fin = new FileInputStream(new File(directoryName + &quot;\\\\&quot; + ParticularFile));\r\n                    XSSFWorkbook workbook = new XSSFWorkbook(fin);\r\n                    XSSFSheet sheet = workbook.getSheetAt(0);\r\n                \tfor (int j = 0; j &lt; workbook.getNumberOfSheets(); j++) {\r\n                        XSSFSheet innerSheet = workbook.getSheet(workbook.getSheetName(j));\r\n                        if (innerSheet == null)\r\n                        \tinnerSheet = workbook.createSheet(workbook.getSheetName(j));\r\n                        String worksheetName = &quot;Sample sheet &quot;;\r\n                        for (int worksheetIndex = 0; worksheetIndex &lt; workbook.getNumberOfSheets(); worksheetIndex++) {\r\n                        \tworkbook.setSheetName(worksheetIndex, worksheetName + worksheetIndex);\r\n                            System.out.println(&quot;test &quot; + worksheetIndex + &quot; &quot; + worksheetName);\r\n    \r\n                        }\r\n                        copySheets(sheet, workbook.getSheetAt(j),doNotReadHeaders,false);\r\n                    }\r\n                    fileCount++;\r\n                }\r\n                try {\r\n                    writeFile(workbook, file1);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n       }\r\n\r\nNow run this and let me know.","title":"Skipping the first row in subsequent worksheets using Java POI that are being copied into a Master file","body":"<pre><code>for(int i = 1; i &lt; sheet.getPhysicalNumberOfRows() - 1 ; i++){\n   Row row = sheet.getRow(i);\n   if(row != null){\n     // process your row\n   }\n}\n</code></pre>\n\n<p>This way you can skip your heading and can read up to the rows which are not empty!</p>\n\n<p><strong>EDIT</strong> - If you have a list of workbooks to read, you can manage a check to read headers only for the first workbook, not for remaining workbooks.</p>\n\n<pre><code>Boolean doNotReadHeaders = false;\nfor (int f = 0; f &lt; filesToReadCount; f++) {\n    doNotReadHeaders = (f == 0) ? false : true;\n    XSSFWorkbook workbook = new XSSFWorkbook(inputStream); // retrieve input stream acc. to your file lists\n    XSSFSheet sheet = workbook.getSheetAt(0);\n    for (int i = 1; i &lt; (doNotReadHeaders ? sheet.getPhysicalNumberOfRows() - 1 : sheet.getPhysicalNumberOfRows()); i++) { //Skipping headers only for the first workbook\n        Row row = sheet.getRow(i);\n        if (row != null) {\n            // process your row\n        }\n    }\n}\n</code></pre>\n\n<p><strong>EDIT</strong> -</p>\n\n<pre><code>public static void merge(File file) throws IOException {\n        XSSFWorkbook book = new XSSFWorkbook();\n        String directoryName = \"C: users\\\\documents\";\n        File directory = new File(directoryName);\n        File[] fList = directory.listFiles();\n        Boolean doNotReadHeaders = false;\n        Integer fileCount = 0;\n        for (File file1: fList) {\n            if (file1.isFile()) {\n                doNotReadHeaders = (fileCount == 0) ? false : true;\n                String ParticularFile = file1.getName();\n                FileInputStream fin = new FileInputStream(new File(directoryName + \"\\\\\" + ParticularFile));\n                XSSFWorkbook workbook = new XSSFWorkbook(fin);\n                XSSFSheet sheet = workbook.getSheetAt(0);\n                for (int i = 1; i &lt; (doNotReadHeaders ? sheet.getPhysicalNumberOfRows() - 1 : sheet.getPhysicalNumberOfRows()); i++) { //Skipping headers only for the first workbook\n                    Row row = sheet.getRow(i);\n                    if (row != null) {\n                        // process your row\n                    }\n                }\n                fileCount++;\n            }\n        }\n   }\n</code></pre>\n\n<p>I just integrated your code with mine.</p>\n\n<p><strong>EDIT -</strong> Final Code</p>\n\n<pre><code>private static void copySheets(XSSFSheet newSheet, XSSFSheet sheet, boolean doNotReadHeaders, boolean copyStyle) {\n\n        int newRownumber = newSheet.getLastRowNum() + 1;\n        int maxColumnNum = 0;\n        Map&lt; Integer, XSSFCellStyle &gt; styleMap = (copyStyle) ? new HashMap&lt; Integer, XSSFCellStyle &gt;() : null;\n\n        int FIRST_ROW_TO_GET = doNotReadHeaders ? 1 : 0;\n        for (int ii = FIRST_ROW_TO_GET; ii &lt; sheet.getLastRowNum(); ii++) {\n            XSSFRow row = sheet.getRow(ii);\n            if (row != null) {\n                // The whole row is blank\n                //continue;\n            } else {\n                for (int i = (doNotReadHeaders ? sheet.getFirstRowNum() + 1 : sheet.getFirstRowNum()); i &lt; (doNotReadHeaders ? sheet.getPhysicalNumberOfRows() -1 : sheet.getPhysicalNumberOfRows()); i++) {\n                    XSSFRow srcRow = sheet.getRow(i);\n                    XSSFRow destRow = newSheet.createRow(i + newRownumber);\n                    if (srcRow != null) {\n                        //copyRow(newWorkbook, sheet, newSheet, srcRow, destRow, styleMap);  \n                        //copyRow(sheet, newSheet, srcRow, destRow, styleMap);\n                        if (srcRow.getLastCellNum() &gt; maxColumnNum) {\n                            maxColumnNum = srcRow.getLastCellNum();\n                        }\n                    }\n                }\n            }\n        }\n        for (int i = 0; i &lt;= maxColumnNum; i++) {\n            newSheet.setColumnWidth(i, sheet.getColumnWidth(i));\n        }\n    }\n\n    public static void merge(File file) throws IOException {\n        XSSFWorkbook book = new XSSFWorkbook();\n        String directoryName = \"C: users\\\\documents\";\n        File directory = new File(directoryName);\n        File[] fList = directory.listFiles();\n        Boolean doNotReadHeaders = false;\n        Integer fileCount = 0;\n        for (File file1: fList) {\n            if (file1.isFile()) {\n                doNotReadHeaders = (fileCount == 0) ? false : true;\n                String ParticularFile = file1.getName();\n                FileInputStream fin = new FileInputStream(new File(directoryName + \"\\\\\" + ParticularFile));\n                XSSFWorkbook workbook = new XSSFWorkbook(fin);\n                XSSFSheet sheet = workbook.getSheetAt(0);\n                for (int j = 0; j &lt; workbook.getNumberOfSheets(); j++) {\n                    XSSFSheet innerSheet = workbook.getSheet(workbook.getSheetName(j));\n                    if (innerSheet == null)\n                        innerSheet = workbook.createSheet(workbook.getSheetName(j));\n                    String worksheetName = \"Sample sheet \";\n                    for (int worksheetIndex = 0; worksheetIndex &lt; workbook.getNumberOfSheets(); worksheetIndex++) {\n                        workbook.setSheetName(worksheetIndex, worksheetName + worksheetIndex);\n                        System.out.println(\"test \" + worksheetIndex + \" \" + worksheetName);\n\n                    }\n                    copySheets(sheet, workbook.getSheetAt(j),doNotReadHeaders,false);\n                }\n                fileCount++;\n            }\n            try {\n                writeFile(workbook, file1);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n   }\n</code></pre>\n\n<p>Now run this and let me know.</p>\n"}],"owner":{"account_id":18212166,"reputation":11,"user_id":13254476,"display_name":"user13254476"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696262800,"creation_date":1589423681,"question_id":61788329,"body_markdown":"I have a merge process in which several workbooks containing multiple worksheets are combined into a Master File.  The sheets are group together by name. \r\n\r\nOnce the first workbook contents (sheets) are copied, the subsequent (2nd,3rd, 4th, etc) workbook contents (sheets) **should** skip the first row in each sheet and copy to the master file. \r\n\r\n- How would I iterate through the subsequent workbook sheets without copying the first row (the headings)?\r\n\r\n- Simply put, I want to keep the heading (first row) from the first iteration, then every workbook sheet afterwards that is copied. should skip the first row (heading)\r\n\r\nI&#39;ve included the sample code below.\r\n\r\n```\r\nprivate static void copySheets( XSSFSheet newSheet, XSSFSheet sheet, boolean copyStyle) {     \r\n   \r\n\t    int newRownumber = newSheet.getLastRowNum() + 1;\r\n\t    int maxColumnNum = 0;     \r\n\t    Map&lt;Integer, XSSFCellStyle&gt; styleMap = (copyStyle) ? new HashMap&lt;Integer, XSSFCellStyle&gt;() : null;    \r\n\t    \r\n\t    for (int i = sheet.getFirstRowNum(); i &lt;= sheet.getLastRowNum(); i++) {     \r\n\t      XSSFRow srcRow = sheet.getRow(i);     \r\n\t      XSSFRow destRow = newSheet.createRow(i + newRownumber); \r\n\t      \r\n     \t  if (srcRow != null) {     \r\n\t          //copyRow(newWorkbook, sheet, newSheet, srcRow, destRow, styleMap);  \r\n\t    \t  copyRow(sheet, newSheet, srcRow, destRow, styleMap); \r\n\r\n  \t          if (srcRow.getLastCellNum() &gt; maxColumnNum) {     \r\n\t              maxColumnNum = srcRow.getLastCellNum();     \r\n\t          }     \r\n \t       }     \r\n\t    }   \r\n\t    \t    \r\n\t    for (int i = 0; i &lt;= maxColumnNum; i++) {     \r\n\t      newSheet.setColumnWidth(i, sheet.getColumnWidth(i));     \r\n\t    }     \r\n}     \r\n\r\npublic static void merge(File file) throws IOException {\r\n       XSSFWorkbook book = new XSSFWorkbook();\r\n\t   String directoryName = &quot;C: users\\\\documents&quot;;\r\n\t    File directory = new File(directoryName);\r\n\t    File[] fList = directory.listFiles();\r\n\t    for (File file1 : fList){\r\n\t        if (file1.isFile()){\r\n String ParticularFile = file1.getName();\r\nFile(directoryName+&quot;\\\\&quot;+ParticularFile));\r\n\t\t           FileInputStream fin = new FileInputStream(new File(directoryName+&quot;\\\\&quot;+ParticularFile));\r\nXSSFWorkbook b = new XSSFWorkbook(fin);\r\n\r\n\r\n\r\n\r\nINTEGRATED CODE\r\n\r\n    public static void merge(File file) throws IOException {\r\n    \t    XSSFWorkbook book = new XSSFWorkbook();\r\n    \t    System.out.println(file.getName());\r\n    \t   String directoryName = &quot;C:\\\\ Users\\\\Documents&quot;;\r\n    \t   File directory = new File(directoryName);\r\n    \t   File[] fList = directory.listFiles();\r\n    \t    \r\n    \t    Boolean doNotReadHeaders = false;\r\n            Integer fileCount = 0;\r\n    \t    for (File file1 : fList){\r\n    \t        if (file1.isFile()){\r\n    \t        \tdoNotReadHeaders = (fileCount == 0) ? false : true;\r\n                    String ParticularFile = file1.getName();\r\n    \r\n                 XSSFSheet sheet = b.getSheetAt(0);\r\n                    for (int i = 1; i &lt; (doNotReadHeaders ? sheet2.getPhysicalNumberOfRows() - 1 : sheet.getPhysicalNumberOfRows()); i++) { //Skipping headers only for the first workbook\r\n                        Row row = sheet.getRow(ii);\r\n                        if (row != null) { \r\n                   \r\n    \r\n                     for (int i = 0; i &lt; b.getNumberOfSheets(); i++) {\r\n    \t    \t  XSSFSheet sheet = book.getSheet(b.getSheetName(i)); \r\n    \t    \t  if (sheet == null) \r\n    \t    \t\t  sheet = book.createSheet(b.getSheetName(i));\r\n    \t       \r\n    \t        for(int worksheetIndex = 0; worksheetIndex&lt;b.getNumberOfSheets(); worksheetIndex++)\r\n    \t       {\t\r\n    \t\r\n       \t           b.setSheetName(worksheetIndex, worksheetName);\r\n    \t    \tSystem.out.println(&quot;test &quot;+ worksheetIndex+ &quot; &quot; + worksheetName);\r\n    \t  \r\n    \t     }\r\n    \t     \r\n    \t       copySheets(sheet, b.getSheetAt(i));\r\n    \t    \t\r\n    \t        }\r\n    \t    }\r\n    \t    try {\r\n    \t  \r\n    \t\twriteFile(book, file);\r\n    \t    }catch(Exception e) {\r\n    \t        e.printStackTrace();\r\n    \t    }\r\n    \t   } \r\n    \t  } ","title":"Skipping the first row in subsequent worksheets using Java POI that are being copied into a Master file","body":"<p>I have a merge process in which several workbooks containing multiple worksheets are combined into a Master File.  The sheets are group together by name.</p>\n<p>Once the first workbook contents (sheets) are copied, the subsequent (2nd,3rd, 4th, etc) workbook contents (sheets) <strong>should</strong> skip the first row in each sheet and copy to the master file.</p>\n<ul>\n<li><p>How would I iterate through the subsequent workbook sheets without copying the first row (the headings)?</p>\n</li>\n<li><p>Simply put, I want to keep the heading (first row) from the first iteration, then every workbook sheet afterwards that is copied. should skip the first row (heading)</p>\n</li>\n</ul>\n<p>I've included the sample code below.</p>\n<pre><code>private static void copySheets( XSSFSheet newSheet, XSSFSheet sheet, boolean copyStyle) {     \n   \n        int newRownumber = newSheet.getLastRowNum() + 1;\n        int maxColumnNum = 0;     \n        Map&lt;Integer, XSSFCellStyle&gt; styleMap = (copyStyle) ? new HashMap&lt;Integer, XSSFCellStyle&gt;() : null;    \n        \n        for (int i = sheet.getFirstRowNum(); i &lt;= sheet.getLastRowNum(); i++) {     \n          XSSFRow srcRow = sheet.getRow(i);     \n          XSSFRow destRow = newSheet.createRow(i + newRownumber); \n          \n          if (srcRow != null) {     \n              //copyRow(newWorkbook, sheet, newSheet, srcRow, destRow, styleMap);  \n              copyRow(sheet, newSheet, srcRow, destRow, styleMap); \n\n              if (srcRow.getLastCellNum() &gt; maxColumnNum) {     \n                  maxColumnNum = srcRow.getLastCellNum();     \n              }     \n           }     \n        }   \n                \n        for (int i = 0; i &lt;= maxColumnNum; i++) {     \n          newSheet.setColumnWidth(i, sheet.getColumnWidth(i));     \n        }     \n}     \n\npublic static void merge(File file) throws IOException {\n       XSSFWorkbook book = new XSSFWorkbook();\n       String directoryName = &quot;C: users\\\\documents&quot;;\n        File directory = new File(directoryName);\n        File[] fList = directory.listFiles();\n        for (File file1 : fList){\n            if (file1.isFile()){\n String ParticularFile = file1.getName();\nFile(directoryName+&quot;\\\\&quot;+ParticularFile));\n                   FileInputStream fin = new FileInputStream(new File(directoryName+&quot;\\\\&quot;+ParticularFile));\nXSSFWorkbook b = new XSSFWorkbook(fin);\n\n\n\n\nINTEGRATED CODE\n\n    public static void merge(File file) throws IOException {\n            XSSFWorkbook book = new XSSFWorkbook();\n            System.out.println(file.getName());\n           String directoryName = &quot;C:\\\\ Users\\\\Documents&quot;;\n           File directory = new File(directoryName);\n           File[] fList = directory.listFiles();\n            \n            Boolean doNotReadHeaders = false;\n            Integer fileCount = 0;\n            for (File file1 : fList){\n                if (file1.isFile()){\n                    doNotReadHeaders = (fileCount == 0) ? false : true;\n                    String ParticularFile = file1.getName();\n    \n                 XSSFSheet sheet = b.getSheetAt(0);\n                    for (int i = 1; i &lt; (doNotReadHeaders ? sheet2.getPhysicalNumberOfRows() - 1 : sheet.getPhysicalNumberOfRows()); i++) { //Skipping headers only for the first workbook\n                        Row row = sheet.getRow(ii);\n                        if (row != null) { \n                   \n    \n                     for (int i = 0; i &lt; b.getNumberOfSheets(); i++) {\n                  XSSFSheet sheet = book.getSheet(b.getSheetName(i)); \n                  if (sheet == null) \n                      sheet = book.createSheet(b.getSheetName(i));\n               \n                for(int worksheetIndex = 0; worksheetIndex&lt;b.getNumberOfSheets(); worksheetIndex++)\n               {    \n        \n                   b.setSheetName(worksheetIndex, worksheetName);\n                System.out.println(&quot;test &quot;+ worksheetIndex+ &quot; &quot; + worksheetName);\n          \n             }\n             \n               copySheets(sheet, b.getSheetAt(i));\n                \n                }\n            }\n            try {\n          \n            writeFile(book, file);\n            }catch(Exception e) {\n                e.printStackTrace();\n            }\n           } \n          } \n</code></pre>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1492005146,"post_id":43371521,"comment_id":73804881,"body_markdown":"`forEach` runs your command on each element, but you are not capturing the result.","body":"<code>forEach</code> runs your command on each element, but you are not capturing the result."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1492005225,"post_id":43371521,"comment_id":73804950,"body_markdown":"Also, if you&#39;re not trying to use a regular expression, it would be easier to use [`replace`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)), not [`replaceAll`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String))","body":"Also, if you&#39;re not trying to use a regular expression, it would be easier to use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>replace</code></a>, not <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\"><code>replaceAll</code></a>"},{"owner":{"account_id":4595287,"reputation":922,"user_id":3727540,"accept_rate":83,"display_name":"user3727540"},"score":0,"creation_date":1492005297,"post_id":43371521,"comment_id":73805001,"body_markdown":"Thanks. So can you show me the right way to do it with Java8?","body":"Thanks. So can you show me the right way to do it with Java8?"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":2,"creation_date":1492005458,"post_id":43371521,"comment_id":73805132,"body_markdown":"Note that in your Java 8 version, there also seems to be a typo in the prefix of the regex: `&quot;\\\\{$\\\\{&quot;` instead of `&quot;\\\\$\\\\{&quot;`.","body":"Note that in your Java 8 version, there also seems to be a typo in the prefix of the regex: <code>&quot;\\\\{$\\\\{&quot;</code> instead of <code>&quot;\\\\$\\\\{&quot;</code>."},{"owner":{"account_id":4595287,"reputation":922,"user_id":3727540,"accept_rate":83,"display_name":"user3727540"},"score":0,"creation_date":1492005534,"post_id":43371521,"comment_id":73805200,"body_markdown":"You are right. I&#39;ve just edited.","body":"You are right. I&#39;ve just edited."},{"owner":{"account_id":4595287,"reputation":922,"user_id":3727540,"accept_rate":83,"display_name":"user3727540"},"score":0,"creation_date":1492005828,"post_id":43371521,"comment_id":73805478,"body_markdown":"@khelwood how do you capture the result inside the forEach in java8?","body":"@khelwood how do you capture the result inside the forEach in java8?"},{"owner":{"account_id":2899315,"reputation":303,"user_id":2486417,"accept_rate":40,"display_name":"Vijayakumar"},"score":0,"creation_date":1492005895,"post_id":43371521,"comment_id":73805541,"body_markdown":"replaceAll will not alter the actual value. In java 8 you can pass only the final or effective final value for processing. You cannot alter the out side variable in foreach.","body":"replaceAll will not alter the actual value. In java 8 you can pass only the final or effective final value for processing. You cannot alter the out side variable in foreach."},{"owner":{"account_id":4595287,"reputation":922,"user_id":3727540,"accept_rate":83,"display_name":"user3727540"},"score":0,"creation_date":1492006061,"post_id":43371521,"comment_id":73805681,"body_markdown":"@Vijay thanks for clarifying this. Can you show me how to achieve the result I want with java8?","body":"@Vijay thanks for clarifying this. Can you show me how to achieve the result I want with java8?"},{"owner":{"account_id":3571848,"reputation":643,"user_id":2981971,"display_name":"Zhou"},"score":0,"creation_date":1604163304,"post_id":43371521,"comment_id":114265682,"body_markdown":"JavaScript has this from the beginning, unfortunately, Java doesn&#39;t. Actually Java&#39;s `String.repalceAll` only needs a small upgrade then we can have it :(","body":"JavaScript has this from the beginning, unfortunately, Java doesn&#39;t. Actually Java&#39;s <code>String.repalceAll</code> only needs a small upgrade then we can have it :("}],"answers":[{"comments":[{"owner":{"account_id":4595287,"reputation":922,"user_id":3727540,"accept_rate":83,"display_name":"user3727540"},"score":0,"creation_date":1492006477,"post_id":43372019,"comment_id":73806025,"body_markdown":"Thanks, can you please explain what (Function&lt;String, String&gt;) stand for?","body":"Thanks, can you please explain what (Function&lt;String, String&gt;) stand for?"},{"owner":{"account_id":4595287,"reputation":922,"user_id":3727540,"accept_rate":83,"display_name":"user3727540"},"score":0,"creation_date":1492006508,"post_id":43372019,"comment_id":73806049,"body_markdown":"Moreover, can you also explain the reduce part? Thanks :)","body":"Moreover, can you also explain the reduce part? Thanks :)"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1492006681,"post_id":43372019,"comment_id":73806200,"body_markdown":"This is needlessly complex, you can do just `.reduce(templateText, (acc, e) -&gt; acc.replaceAll(&quot;\\\\$\\\\{&quot; + e + &quot;\\\\}&quot;, variables.get(e)));` (just make sure not to use a parallel stream)","body":"This is needlessly complex, you can do just <code>.reduce(templateText, (acc, e) -&gt; acc.replaceAll(&quot;\\\\$\\\\{&quot; + e + &quot;\\\\}&quot;, variables.get(e)));</code> (just make sure not to use a parallel stream)"},{"owner":{"account_id":9363170,"reputation":1307,"user_id":6948900,"display_name":"Mikhail Antonov"},"score":0,"creation_date":1492006905,"post_id":43372019,"comment_id":73806382,"body_markdown":"@JornVernee it is indeed! Fixed.","body":"@JornVernee it is indeed! Fixed."},{"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"score":1,"creation_date":1492007216,"post_id":43372019,"comment_id":73806643,"body_markdown":"but that way you can not easily parallelize your stream, whereas that would have worked with your previous version ;-) however, that wasn&#39;t even a requirement, so it&#39;s probably ok that way :-)","body":"but that way you can not easily parallelize your stream, whereas that would have worked with your previous version ;-) however, that wasn&#39;t even a requirement, so it&#39;s probably ok that way :-)"},{"owner":{"account_id":9363170,"reputation":1307,"user_id":6948900,"display_name":"Mikhail Antonov"},"score":0,"creation_date":1492007494,"post_id":43372019,"comment_id":73806886,"body_markdown":"What kind of a monstrous string would you need to handle it in parallel :)","body":"What kind of a monstrous string would you need to handle it in parallel :)"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":4,"creation_date":1492013695,"post_id":43372019,"comment_id":73811711,"body_markdown":"The solution with [`reduce()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-T-java.util.function.BinaryOperator-) violates the requirements of that method: _The `identity` value must be an identity for the accumulator function. This means that for all `t`, `accumulator.apply(identity, t)` is equal to `t`. The accumulator function must be an [associative](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Associativity) function._","body":"The solution with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-T-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>reduce()</code></a> violates the requirements of that method: <i>The <code>identity</code> value must be an identity for the accumulator function. This means that for all <code>t</code>, <code>accumulator.apply(identity, t)</code> is equal to <code>t</code>. The accumulator function must be an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Associativity\" rel=\"nofollow noreferrer\">associative</a> function.</i>"}],"tags":[],"owner":{"account_id":9363170,"reputation":1307,"user_id":6948900,"display_name":"Mikhail Antonov"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492006850,"creation_date":1492006271,"answer_id":43372019,"question_id":43371521,"body_markdown":"    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class Repl {\r\n    \r\n        public static void main(String[] args) {\r\n            Map&lt;String, String&gt; variables = new HashMap&lt;&gt;();\r\n            String templateText = &quot;Hi, ${name} ${secondname}! My name is ${name} too :)&quot;;\r\n            variables.put(&quot;name&quot;, &quot;Joe&quot;);\r\n            variables.put(&quot;secondname&quot;, &quot;White&quot;);\r\n    \r\n            templateText = variables.keySet().stream().reduce(templateText, (acc, e) -&gt; acc.replaceAll(&quot;\\\\$\\\\{&quot; + e + &quot;\\\\}&quot;, variables.get(e)));\r\n            System.out.println(templateText);\r\n        }\r\n    \r\n    }\r\n\r\noutput:\r\n\r\n&gt;Hi, Joe White! My name is Joe too :)\r\n\r\n\r\n**However**, it&#39;s not the best idea to reinvent the wheel and the preferred way to achieve what you want would be to use [apache commons lang](https://commons.apache.org/proper/commons-lang/) as stated [here](https://stackoverflow.com/a/3655963/6948900).\r\n\r\n     Map&lt;String, String&gt; valuesMap = new HashMap&lt;String, String&gt;();\r\n     valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\n     valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\n     String templateString = &quot;The ${animal} jumped over the ${target}.&quot;;\r\n     StrSubstitutor sub = new StrSubstitutor(valuesMap);\r\n     String resolvedString = sub.replace(templateString);\r\n\r\n","title":"ReplaceAll with java8 lambda functions","body":"<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class Repl {\n\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; variables = new HashMap&lt;&gt;();\n        String templateText = \"Hi, ${name} ${secondname}! My name is ${name} too :)\";\n        variables.put(\"name\", \"Joe\");\n        variables.put(\"secondname\", \"White\");\n\n        templateText = variables.keySet().stream().reduce(templateText, (acc, e) -&gt; acc.replaceAll(\"\\\\$\\\\{\" + e + \"\\\\}\", variables.get(e)));\n        System.out.println(templateText);\n    }\n\n}\n</code></pre>\n\n<p>output:</p>\n\n<blockquote>\n  <p>Hi, Joe White! My name is Joe too :)</p>\n</blockquote>\n\n<p><strong>However</strong>, it's not the best idea to reinvent the wheel and the preferred way to achieve what you want would be to use <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">apache commons lang</a> as stated <a href=\"https://stackoverflow.com/a/3655963/6948900\">here</a>.</p>\n\n<pre><code> Map&lt;String, String&gt; valuesMap = new HashMap&lt;String, String&gt;();\n valuesMap.put(\"animal\", \"quick brown fox\");\n valuesMap.put(\"target\", \"lazy dog\");\n String templateString = \"The ${animal} jumped over the ${target}.\";\n StrSubstitutor sub = new StrSubstitutor(valuesMap);\n String resolvedString = sub.replace(templateString);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":3,"creation_date":1492017176,"post_id":43372206,"comment_id":73813762,"body_markdown":"this is actually much nicer IMO then both *broken* versions of the up-voted answers. plus one","body":"this is actually much nicer IMO then both <i>broken</i> versions of the up-voted answers. plus one"},{"owner":{"account_id":1851442,"reputation":632,"user_id":1677920,"display_name":"drrob"},"score":2,"creation_date":1528368183,"post_id":43372206,"comment_id":88485851,"body_markdown":"You almost certainly want to wrap the replacer return value in Matcher.quoteReplacement(). The replacement string interprets slashes and dollar signs as a way of refering to other groups. If each variable being substituted is independent, and should be treated literally, then this behaviour is undesirable. Subtle bugs will ensue.","body":"You almost certainly want to wrap the replacer return value in Matcher.quoteReplacement(). The replacement string interprets slashes and dollar signs as a way of refering to other groups. If each variable being substituted is independent, and should be treated literally, then this behaviour is undesirable. Subtle bugs will ensue."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1528373853,"post_id":43372206,"comment_id":88489402,"body_markdown":"Thanks @drrob, I have included notes about it in the answer.","body":"Thanks @drrob, I have included notes about it in the answer."}],"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"comment_count":3,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1696262688,"creation_date":1492006745,"answer_id":43372206,"question_id":43371521,"body_markdown":"Java 9 and above\r\n---\r\nJava 9 introduced [`Matcher.replaceAll(Function)`][5] which basically implements the same thing as the functional version for Java 8 below. See [Jesse Glick&#39;s answer][6] for more details.\r\n\r\nJava 8\r\n---\r\nThe proper way to implement this did not change in Java 8, it is based on [`appendReplacement()`][1]/[`appendTail()`][2]:\r\n\r\n    Pattern variablePattern = Pattern.compile(&quot;\\\\$\\\\{(.+?)\\\\}&quot;);\r\n    Matcher matcher = variablePattern.matcher(templateText);\r\n    StringBuffer result = new StringBuffer();\r\n    while (matcher.find()) {\r\n        matcher.appendReplacement(result, variables.get(matcher.group(1)));\r\n    }\r\n    matcher.appendTail(result);\r\n    System.out.println(result);\r\n\r\nNote that, as mentioned by [drrob][3] in the comments, the replacement String of `appendReplacement()` may contain group references using the `$` sign, and escaping using `\\`. If this is not desired, or if your replacement String can potentially contain those characters, you should escape them using [`Matcher.quoteReplacement()`][4].\r\n\r\nBeing more functional in Java 8\r\n---\r\n\r\nIf you want a more Java-8-style version, you can extract the search-and-replace boiler plate code into a generalized method that takes a replacement `Function`:\r\n\r\n    private static StringBuffer replaceAll(String templateText, Pattern pattern,\r\n                                           Function&lt;Matcher, String&gt; replacer) {\r\n        Matcher matcher = pattern.matcher(templateText);\r\n        StringBuffer result = new StringBuffer();\r\n        while (matcher.find()) {\r\n            matcher.appendReplacement(result, replacer.apply(matcher));\r\n        }\r\n        matcher.appendTail(result);\r\n        return result;\r\n    }\r\n\r\n\r\nand use it as\r\n\r\n    Pattern variablePattern = Pattern.compile(&quot;\\\\$\\\\{(.+?)\\\\}&quot;);\r\n    StringBuffer result = replaceAll(templateText, variablePattern,\r\n                                     m -&gt; variables.get(m.group(1)));\r\n\r\nNote that having a `Pattern` as parameter (instead of a `String`) allows it to be stored as a constant instead of recompiling it every time.\r\n\r\nSame remark applies as above concerning `$` and `\\` – you may want to enforce the `quoteReplacement()` inside the `replaceAll()` method if you don&#39;t want your `replacer` function to handle it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#appendReplacement-java.lang.StringBuffer-java.lang.String-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#appendTail-java.lang.StringBuffer-\r\n  [3]: https://stackoverflow.com/users/1677920/drrob\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#quoteReplacement-java.lang.String-\r\n  [5]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\r\n  [6]: https://stackoverflow.com/a/49699339/525036","title":"ReplaceAll with java8 lambda functions","body":"<h2>Java 9 and above</h2>\n<p>Java 9 introduced <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Matcher.replaceAll(Function)</code></a> which basically implements the same thing as the functional version for Java 8 below. See <a href=\"https://stackoverflow.com/a/49699339/525036\">Jesse Glick's answer</a> for more details.</p>\n<h2>Java 8</h2>\n<p>The proper way to implement this did not change in Java 8, it is based on <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#appendReplacement-java.lang.StringBuffer-java.lang.String-\" rel=\"nofollow noreferrer\"><code>appendReplacement()</code></a>/<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#appendTail-java.lang.StringBuffer-\" rel=\"nofollow noreferrer\"><code>appendTail()</code></a>:</p>\n<pre><code>Pattern variablePattern = Pattern.compile(&quot;\\\\$\\\\{(.+?)\\\\}&quot;);\nMatcher matcher = variablePattern.matcher(templateText);\nStringBuffer result = new StringBuffer();\nwhile (matcher.find()) {\n    matcher.appendReplacement(result, variables.get(matcher.group(1)));\n}\nmatcher.appendTail(result);\nSystem.out.println(result);\n</code></pre>\n<p>Note that, as mentioned by <a href=\"https://stackoverflow.com/users/1677920/drrob\">drrob</a> in the comments, the replacement String of <code>appendReplacement()</code> may contain group references using the <code>$</code> sign, and escaping using <code>\\</code>. If this is not desired, or if your replacement String can potentially contain those characters, you should escape them using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#quoteReplacement-java.lang.String-\" rel=\"nofollow noreferrer\"><code>Matcher.quoteReplacement()</code></a>.</p>\n<h2>Being more functional in Java 8</h2>\n<p>If you want a more Java-8-style version, you can extract the search-and-replace boiler plate code into a generalized method that takes a replacement <code>Function</code>:</p>\n<pre><code>private static StringBuffer replaceAll(String templateText, Pattern pattern,\n                                       Function&lt;Matcher, String&gt; replacer) {\n    Matcher matcher = pattern.matcher(templateText);\n    StringBuffer result = new StringBuffer();\n    while (matcher.find()) {\n        matcher.appendReplacement(result, replacer.apply(matcher));\n    }\n    matcher.appendTail(result);\n    return result;\n}\n</code></pre>\n<p>and use it as</p>\n<pre><code>Pattern variablePattern = Pattern.compile(&quot;\\\\$\\\\{(.+?)\\\\}&quot;);\nStringBuffer result = replaceAll(templateText, variablePattern,\n                                 m -&gt; variables.get(m.group(1)));\n</code></pre>\n<p>Note that having a <code>Pattern</code> as parameter (instead of a <code>String</code>) allows it to be stored as a constant instead of recompiling it every time.</p>\n<p>Same remark applies as above concerning <code>$</code> and <code>\\</code> – you may want to enforce the <code>quoteReplacement()</code> inside the <code>replaceAll()</code> method if you don't want your <code>replacer</code> function to handle it.</p>\n"},{"comments":[{"owner":{"account_id":2899315,"reputation":303,"user_id":2486417,"accept_rate":40,"display_name":"Vijayakumar"},"score":0,"creation_date":1492007942,"post_id":43372561,"comment_id":73807287,"body_markdown":"This code will not work for parallel streams. Use this code only with single stream.","body":"This code will not work for parallel streams. Use this code only with single stream."}],"tags":[],"owner":{"account_id":2899315,"reputation":303,"user_id":2486417,"accept_rate":40,"display_name":"Vijayakumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492007565,"creation_date":1492007565,"answer_id":43372561,"question_id":43371521,"body_markdown":"Your code should be changed like below,\r\n\r\n    String templateText = &quot;Hi ${name}&quot;;\r\n\tMap&lt;String,String&gt; variables = new HashMap&lt;&gt;();\r\n\tvariables.put(&quot;name&quot;, &quot;Joe&quot;);\r\n\ttemplateText = variables.keySet().stream().reduce(templateText, (originalText, key) -&gt; originalText.replaceAll(&quot;\\\\$\\\\{&quot; + key + &quot;\\\\}&quot;, variables.get(key)));","title":"ReplaceAll with java8 lambda functions","body":"<p>Your code should be changed like below,</p>\n\n<pre><code>String templateText = \"Hi ${name}\";\nMap&lt;String,String&gt; variables = new HashMap&lt;&gt;();\nvariables.put(\"name\", \"Joe\");\ntemplateText = variables.keySet().stream().reduce(templateText, (originalText, key) -&gt; originalText.replaceAll(\"\\\\$\\\\{\" + key + \"\\\\}\", variables.get(key)));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":3,"creation_date":1492016483,"post_id":43374164,"comment_id":73813387,"body_markdown":"@holi-java you have broken associativity here, this does not work correctly in parallel; even if you have provided the `combiner`.","body":"@holi-java you have broken associativity here, this does not work correctly in parallel; even if you have provided the <code>combiner</code>."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1492069945,"post_id":43374164,"comment_id":73834352,"body_markdown":"The definitions of `identity` and `accumulator` given here are completely wrong. [From the javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-): _The `identity` value must be an identity for the combiner function. This means that for all `u`, `combiner(identity, u)` is equal to `u`. Additionally, […] for all `u` and `t`, the following must hold: `combiner.apply(u, accumulator.apply(identity, t)) == accumulator.apply(u, t)`_","body":"The definitions of <code>identity</code> and <code>accumulator</code> given here are completely wrong. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\">From the javadoc</a>: <i>The <code>identity</code> value must be an identity for the combiner function. This means that for all <code>u</code>, <code>combiner(identity, u)</code> is equal to <code>u</code>. Additionally, […] for all <code>u</code> and <code>t</code>, the following must hold: <code>combiner.apply(u, accumulator.apply(identity, t)) == accumulator.apply(u, t)</code></i>"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1492082649,"post_id":43374164,"comment_id":73842672,"body_markdown":"@DidierL well the identity looks ok to me. `u == combiner(identity, u)` is in fact true for `(identity, result) -&gt; result`; but the associativity is indeed wrong.","body":"@DidierL well the identity looks ok to me. <code>u == combiner(identity, u)</code> is in fact true for <code>(identity, result) -&gt; result</code>; but the associativity is indeed wrong."},{"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1492082811,"post_id":43374164,"comment_id":73842795,"body_markdown":"@Eugene yes,you are right, the `combiner` can&#39;t run in **parallel** stream, I only want to tell the OP `combiner` never be called in **sequentially** stream.","body":"@Eugene yes,you are right, the <code>combiner</code> can&#39;t run in <b>parallel</b> stream, I only want to tell the OP <code>combiner</code> never be called in <b>sequentially</b> stream."}],"tags":[],"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1492083989,"creation_date":1492011994,"answer_id":43374164,"question_id":43371521,"body_markdown":"you also can using [Stream.reduce(identity,accumulator,combiner)](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-).\r\n\r\n### identity\r\n\r\n`identity` is the initial value for reducing function which is `accumulator`.\r\n\r\n### accumulator\r\n\r\n`accumulator` reducing `identity` to `result`, which is the `identity` for the next reducing if the stream is **sequentially**.\r\n\r\n### combiner\r\nthis function never be called in **sequentially** stream. it calculate the next `identity` from `identity` &amp; `result` in **parallel** stream.\r\n\r\n    BinaryOperator&lt;String&gt; combinerNeverBeCalledInSequentiallyStream=(identity,t) -&gt; {\r\n       throw new IllegalStateException(&quot;Can&#39;t be used in parallel stream&quot;);\r\n    };\r\n\r\n    String result = variables.entrySet().stream()\r\n                .reduce(templateText\r\n                       , (it, var) -&gt; it.replaceAll(format(&quot;\\\\$\\\\{%s\\\\}&quot;, var.getKey())\r\n                                                   , var.getValue())\r\n                       , combinerNeverBeCalledInSequentiallyStream);","title":"ReplaceAll with java8 lambda functions","body":"<p>you also can using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"noreferrer\">Stream.reduce(identity,accumulator,combiner)</a>.</p>\n\n<h3>identity</h3>\n\n<p><code>identity</code> is the initial value for reducing function which is <code>accumulator</code>.</p>\n\n<h3>accumulator</h3>\n\n<p><code>accumulator</code> reducing <code>identity</code> to <code>result</code>, which is the <code>identity</code> for the next reducing if the stream is <strong>sequentially</strong>.</p>\n\n<h3>combiner</h3>\n\n<p>this function never be called in <strong>sequentially</strong> stream. it calculate the next <code>identity</code> from <code>identity</code> &amp; <code>result</code> in <strong>parallel</strong> stream.</p>\n\n<pre><code>BinaryOperator&lt;String&gt; combinerNeverBeCalledInSequentiallyStream=(identity,t) -&gt; {\n   throw new IllegalStateException(\"Can't be used in parallel stream\");\n};\n\nString result = variables.entrySet().stream()\n            .reduce(templateText\n                   , (it, var) -&gt; it.replaceAll(format(\"\\\\$\\\\{%s\\\\}\", var.getKey())\n                                               , var.getValue())\n                   , combinerNeverBeCalledInSequentiallyStream);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1492108062,"post_id":43395226,"comment_id":73859235,"body_markdown":"the primary problem using `replaceAll` recursive is: **maybe replacing a replaced variable**. I&#39;m not good at english, so I take an example: replacing `&quot;${a}:${b}&quot;` with `{&quot;a&quot;:&quot;${b}&quot;,&quot;b&quot;:&quot;c&quot;} ` will output: `&quot;c:c&quot;` not `&quot;${b}:c&quot;`.","body":"the primary problem using <code>replaceAll</code> recursive is: <b>maybe replacing a replaced variable</b>. I&#39;m not good at english, so I take an example: replacing <code>&quot;${a}:${b}&quot;</code> with <code>{&quot;a&quot;:&quot;${b}&quot;,&quot;b&quot;:&quot;c&quot;} </code> will output: <code>&quot;c:c&quot;</code> not <code>&quot;${b}:c&quot;</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1492513449,"post_id":43395226,"comment_id":73995582,"body_markdown":"@holi-java: that’s indeed the primary problem of this pattern, even if this might not apply to the OP’s special case, as `${…}` is a pattern that you might know not to appear within the replacements. But since software may change, it is correct to mention this potential problem, just like I mentioned the potential performance problem, which might not be in the current situation with small strings and small maps, but is waiting in the dark…","body":"@holi-java: that’s indeed the primary problem of this pattern, even if this might not apply to the OP’s special case, as <code>${…}</code> is a pattern that you might know not to appear within the replacements. But since software may change, it is correct to mention this potential problem, just like I mentioned the potential performance problem, which might not be in the current situation with small strings and small maps, but is waiting in the dark…"},{"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1492567085,"post_id":43395226,"comment_id":74025592,"body_markdown":"I agree with your statement.","body":"I agree with your statement."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492094362,"creation_date":1492094362,"answer_id":43395226,"question_id":43371521,"body_markdown":"Performing `replaceAll` repeatedly, i.e. for every replaceable variable, can become quiet expensive, especially as the number of variables might grow. This doesn’t become more efficient when using the Stream API. The regex package contains the necessary building blocks to do this more efficiently:\r\n\r\n    public static String replaceAll(String template, Map&lt;String,String&gt; variables) {\r\n        String pattern = variables.keySet().stream()\r\n            .map(Pattern::quote)\r\n            .collect(Collectors.joining(&quot;|&quot;, &quot;\\\\$\\\\{(&quot;, &quot;)\\\\}&quot;));\r\n        Matcher m = Pattern.compile(pattern).matcher(template);\r\n        if(!m.find()) {\r\n            return template;\r\n        }\r\n        StringBuffer sb = new StringBuffer();\r\n        do {\r\n            m.appendReplacement(sb, Matcher.quoteReplacement(variables.get(m.group(1))));\r\n        } while(m.find());\r\n        m.appendTail(sb);\r\n        return sb.toString();\r\n    }\r\nIf you are performing the operation with the same `Map` very often, you may consider keeping the result of `Pattern.compile(pattern)`, as it is immutable and safely shareable.\r\n\r\nOn the other hand, if you are using this operation with different maps frequently, it might be an option to use a generic pattern instead, combined with handling the possibility that the particular variable is not in the map. The adds the option to report occurrences of the `${…}` pattern with an unknown variable:\r\n\r\n    private static Pattern VARIABLE = Pattern.compile(&quot;\\\\$\\\\{([^}]*)\\\\}&quot;);\r\n    public static String replaceAll(String template, Map&lt;String,String&gt; variables) {\r\n        Matcher m = VARIABLE.matcher(template);\r\n        if(!m.find())\r\n            return template;\r\n        StringBuffer sb = new StringBuffer();\r\n        do {\r\n            m.appendReplacement(sb,\r\n                Matcher.quoteReplacement(variables.getOrDefault(m.group(1), m.group(0))));\r\n        } while(m.find());\r\n        m.appendTail(sb);\r\n        return sb.toString();\r\n    }\r\n`m.group(0)` is the actual match, so using this as a fall-back for the replacement string establishes the original behavior of not replacing `${…}` occurrences when the key is not in the map. As said, alternative behaviors, like reporting the absent key or using a different fall-back text, are possible.\r\n","title":"ReplaceAll with java8 lambda functions","body":"<p>Performing <code>replaceAll</code> repeatedly, i.e. for every replaceable variable, can become quiet expensive, especially as the number of variables might grow. This doesn’t become more efficient when using the Stream API. The regex package contains the necessary building blocks to do this more efficiently:</p>\n\n<pre><code>public static String replaceAll(String template, Map&lt;String,String&gt; variables) {\n    String pattern = variables.keySet().stream()\n        .map(Pattern::quote)\n        .collect(Collectors.joining(\"|\", \"\\\\$\\\\{(\", \")\\\\}\"));\n    Matcher m = Pattern.compile(pattern).matcher(template);\n    if(!m.find()) {\n        return template;\n    }\n    StringBuffer sb = new StringBuffer();\n    do {\n        m.appendReplacement(sb, Matcher.quoteReplacement(variables.get(m.group(1))));\n    } while(m.find());\n    m.appendTail(sb);\n    return sb.toString();\n}\n</code></pre>\n\n<p>If you are performing the operation with the same <code>Map</code> very often, you may consider keeping the result of <code>Pattern.compile(pattern)</code>, as it is immutable and safely shareable.</p>\n\n<p>On the other hand, if you are using this operation with different maps frequently, it might be an option to use a generic pattern instead, combined with handling the possibility that the particular variable is not in the map. The adds the option to report occurrences of the <code>${…}</code> pattern with an unknown variable:</p>\n\n<pre><code>private static Pattern VARIABLE = Pattern.compile(\"\\\\$\\\\{([^}]*)\\\\}\");\npublic static String replaceAll(String template, Map&lt;String,String&gt; variables) {\n    Matcher m = VARIABLE.matcher(template);\n    if(!m.find())\n        return template;\n    StringBuffer sb = new StringBuffer();\n    do {\n        m.appendReplacement(sb,\n            Matcher.quoteReplacement(variables.getOrDefault(m.group(1), m.group(0))));\n    } while(m.find());\n    m.appendTail(sb);\n    return sb.toString();\n}\n</code></pre>\n\n<p><code>m.group(0)</code> is the actual match, so using this as a fall-back for the replacement string establishes the original behavior of not replacing <code>${…}</code> occurrences when the key is not in the map. As said, alternative behaviors, like reporting the absent key or using a different fall-back text, are possible.</p>\n"},{"tags":[],"owner":{"account_id":7433,"reputation":24739,"user_id":12916,"accept_rate":23,"display_name":"Jesse Glick"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523040663,"creation_date":1523040663,"answer_id":49699339,"question_id":43371521,"body_markdown":"To update @didier-l’s answer, in Java 9 this is a one-liner!\r\n\r\n    Pattern.compile(&quot;[$][{](.+?)[}]&quot;).matcher(templateText).replaceAll(m -&gt; variables.get(m.group(1)))","title":"ReplaceAll with java8 lambda functions","body":"<p>To update @didier-l’s answer, in Java 9 this is a one-liner!</p>\n\n<pre><code>Pattern.compile(\"[$][{](.+?)[}]\").matcher(templateText).replaceAll(m -&gt; variables.get(m.group(1)))\n</code></pre>\n"}],"owner":{"account_id":4595287,"reputation":922,"user_id":3727540,"accept_rate":83,"display_name":"user3727540"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15455,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":43374164,"answer_count":6,"score":13,"last_activity_date":1696262688,"creation_date":1492005078,"question_id":43371521,"body_markdown":"Given the following variables\r\n\r\n    templateText = &quot;Hi ${name}&quot;;\r\n    variables.put(&quot;name&quot;, &quot;Joe&quot;);\r\n\r\nI would like to replace the placeholder ${name} with the value &quot;Joe&quot; using the following code (that does not work)\r\n\r\n     variables.keySet().forEach(k -&gt; templateText.replaceAll(&quot;\\\\${\\\\{&quot;+ k +&quot;\\\\}&quot;  variables.get(k)));\r\n\t\r\n\r\nHowever, if I do the &quot;old-style&quot; way, everything works perfectly:\r\n\r\n\r\n    for (Entry&lt;String, String&gt; entry : variables.entrySet()){\r\n     \tString  regex = &quot;\\\\$\\\\{&quot; + entry.getKey() + &quot;\\\\}&quot;; \t\t\t\r\n        templateText =  templateText.replaceAll(regex, entry.getValue()); \t\t\t\r\n       }\r\n\r\n\r\nSurely I am missing something here :) \r\n\r\n","title":"ReplaceAll with java8 lambda functions","body":"<p>Given the following variables</p>\n\n<pre><code>templateText = \"Hi ${name}\";\nvariables.put(\"name\", \"Joe\");\n</code></pre>\n\n<p>I would like to replace the placeholder ${name} with the value \"Joe\" using the following code (that does not work)</p>\n\n<pre><code> variables.keySet().forEach(k -&gt; templateText.replaceAll(\"\\\\${\\\\{\"+ k +\"\\\\}\"  variables.get(k)));\n</code></pre>\n\n<p>However, if I do the \"old-style\" way, everything works perfectly:</p>\n\n<pre><code>for (Entry&lt;String, String&gt; entry : variables.entrySet()){\n    String  regex = \"\\\\$\\\\{\" + entry.getKey() + \"\\\\}\";          \n    templateText =  templateText.replaceAll(regex, entry.getValue());           \n   }\n</code></pre>\n\n<p>Surely I am missing something here :) </p>\n"},{"tags":["java","android","networking","udp"],"answers":[{"tags":[],"owner":{"account_id":32240,"reputation":6717,"user_id":89233,"accept_rate":88,"display_name":"Jon Watte"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683170881,"creation_date":1683170881,"answer_id":76169410,"question_id":76169344,"body_markdown":"Aaaand the answer is: `new DatagramSocket()` will immediately bind to some random port on construction. Despite `bind()` being an available method on the socket. I need to provide the interface address and port number to the constructor of `DatagramSocket` to bind it properly, or just the port number to bind to all interfaces.\r\n\r\nSo, the fixed code is:\r\n\r\n        discoverSocket = new DatagramSocket(DISCOVER_LOCAL_PORT);\r\n        discoverSocket.setBroadcast(true);\r\n        discoverSocket.setReuseAddress(true);\r\n        discoverSocket.setSoTimeout(100);\r\n\r\nAnd it seems you can still set the reuse-address option and broadcast option even after creation? Maybe it sets itself up for a port in the constructor, but doesn&#39;t *actually* bind until you send the first datagram, or attempt to read the first datagram?\r\n\r\nI also found that the emulator doesn&#39;t bridge to my local Wifi network, so I have to debug this on a real device anyway.\r\n\r\nBut at least now it works.\r\n","title":"Android Java UDP Socket: Already Bound (but not!)","body":"<p>Aaaand the answer is: <code>new DatagramSocket()</code> will immediately bind to some random port on construction. Despite <code>bind()</code> being an available method on the socket. I need to provide the interface address and port number to the constructor of <code>DatagramSocket</code> to bind it properly, or just the port number to bind to all interfaces.</p>\n<p>So, the fixed code is:</p>\n<pre><code>    discoverSocket = new DatagramSocket(DISCOVER_LOCAL_PORT);\n    discoverSocket.setBroadcast(true);\n    discoverSocket.setReuseAddress(true);\n    discoverSocket.setSoTimeout(100);\n</code></pre>\n<p>And it seems you can still set the reuse-address option and broadcast option even after creation? Maybe it sets itself up for a port in the constructor, but doesn't <em>actually</em> bind until you send the first datagram, or attempt to read the first datagram?</p>\n<p>I also found that the emulator doesn't bridge to my local Wifi network, so I have to debug this on a real device anyway.</p>\n<p>But at least now it works.</p>\n"}],"owner":{"account_id":32240,"reputation":6717,"user_id":89233,"accept_rate":88,"display_name":"Jon Watte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696261857,"creation_date":1683169921,"question_id":76169344,"body_markdown":"I am writing a Java program for Android phones, using UDP sockets including UDP broadcasting.\r\nI&#39;m using the current Android Studio (Flamingo) and SDK (33), and the default Pixel 3 Emulated device running Android 13, all of this installed and running on a MacBook Pro M2.\r\n\r\nIn the startup of my activity, I run this code:\r\n\r\n            discoverSocket = new DatagramSocket();\r\n            discoverSocket.setBroadcast(true);\r\n            discoverSocket.setReuseAddress(true);\r\n            discoverSocket.setSoTimeout(100);\r\n            discoverSocket.bind(new InetSocketAddress(&quot;0.0.0.0&quot;, DISCOVER_LOCAL_PORT));\r\n\r\nDISCOVER_LOCAL_PORT is 7001.\r\n\r\nWhen it runs this code, it throws the exception &quot;java.net.SocketException: Already Bound&quot;\r\nBut nothing else is running on this device/emulator -- in fact, I just cold booted it.\r\n\r\nI have no choice in the matter -- I have to talk to another device that uses a poorly designed protocol where the port of the device it responds to (e g, this device) must be this number. However, trying a few other port numbers, I get the same error.\r\n\r\nI have previously written a C++ program running on a Windows laptop that works fine, so I&#39;m moderately confident that the problem is in the Java code / runtime / Android / Emulator setup, rather than the underlying protocol or network.\r\n\r\nSo, why am I getting an &quot;already bound&quot; exception? Nothing else has bound here. This is the first launch after boot, so it can&#39;t be a previous iteration of my program, either.\r\n\r\nFWIW, the claims I make in the manifest are:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n\r\nCan emulated devices not bind to specified UDP ports, or is there some other gotcha I&#39;m missing?\r\nI also tried this on my Pixel 7 Pro over WiFi debugging, and got the same error.","title":"Android Java UDP Socket: Already Bound (but not!)","body":"<p>I am writing a Java program for Android phones, using UDP sockets including UDP broadcasting.\nI'm using the current Android Studio (Flamingo) and SDK (33), and the default Pixel 3 Emulated device running Android 13, all of this installed and running on a MacBook Pro M2.</p>\n<p>In the startup of my activity, I run this code:</p>\n<pre><code>        discoverSocket = new DatagramSocket();\n        discoverSocket.setBroadcast(true);\n        discoverSocket.setReuseAddress(true);\n        discoverSocket.setSoTimeout(100);\n        discoverSocket.bind(new InetSocketAddress(&quot;0.0.0.0&quot;, DISCOVER_LOCAL_PORT));\n</code></pre>\n<p>DISCOVER_LOCAL_PORT is 7001.</p>\n<p>When it runs this code, it throws the exception &quot;java.net.SocketException: Already Bound&quot;\nBut nothing else is running on this device/emulator -- in fact, I just cold booted it.</p>\n<p>I have no choice in the matter -- I have to talk to another device that uses a poorly designed protocol where the port of the device it responds to (e g, this device) must be this number. However, trying a few other port numbers, I get the same error.</p>\n<p>I have previously written a C++ program running on a Windows laptop that works fine, so I'm moderately confident that the problem is in the Java code / runtime / Android / Emulator setup, rather than the underlying protocol or network.</p>\n<p>So, why am I getting an &quot;already bound&quot; exception? Nothing else has bound here. This is the first launch after boot, so it can't be a previous iteration of my program, either.</p>\n<p>FWIW, the claims I make in the manifest are:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;&gt;&lt;/uses-permission&gt;\n</code></pre>\n<p>Can emulated devices not bind to specified UDP ports, or is there some other gotcha I'm missing?\nI also tried this on my Pixel 7 Pro over WiFi debugging, and got the same error.</p>\n"},{"tags":["java","crystal-reports"],"owner":{"account_id":15458900,"reputation":11,"user_id":11152068,"display_name":"Viraj Kulathunga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696261709,"creation_date":1696227283,"question_id":77213522,"body_markdown":"I am getting below error when retriving report via crystal report. But this issue occuring time to time. I get below error on first trial, but it succeeds on second trial.\r\n\r\n```\r\njava.lang.RuntimeException: No Area with specified name was found\r\n\tat com.inet.report.Engine.getArea(Unknown Source)\r\n\tat aero.champ.reporting.utils.ImageDimensionUtil.setImageDim(ImageDimensionUtil.java:23)\r\n\tat aero.champ.reporting.utils.ImageDimensionUti\r\n```","title":"Crystal report error - No Area with specified name was found","body":"<p>I am getting below error when retriving report via crystal report. But this issue occuring time to time. I get below error on first trial, but it succeeds on second trial.</p>\n<pre><code>java.lang.RuntimeException: No Area with specified name was found\n    at com.inet.report.Engine.getArea(Unknown Source)\n    at aero.champ.reporting.utils.ImageDimensionUtil.setImageDim(ImageDimensionUtil.java:23)\n    at aero.champ.reporting.utils.ImageDimensionUti\n</code></pre>\n"},{"tags":["java","jms"],"answers":[{"comments":[{"owner":{"account_id":1728581,"reputation":2763,"user_id":1582712,"accept_rate":51,"display_name":"E.S."},"score":0,"creation_date":1582572488,"post_id":60348968,"comment_id":106816323,"body_markdown":"Thanks for this hint - I found my answer through https://activemq.apache.org/how-should-i-implement-request-response-with-jms though but it confirmed I was using the AsyncCallback wrong","body":"Thanks for this hint - I found my answer through <a href=\"https://activemq.apache.org/how-should-i-implement-request-response-with-jms\" rel=\"nofollow noreferrer\">activemq.apache.org/&hellip;</a> though but it confirmed I was using the AsyncCallback wrong"}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1582390731,"creation_date":1582344817,"answer_id":60348968,"question_id":60348330,"body_markdown":"Your expectation is based on a fundamental misunderstanding of JMS.\r\n\r\nOne of the basic tenets of brokered messaging is that producers and consumers are logically disconnected from each other. In other words...A producer sends a message to a broker and it doesn&#39;t necessarily care if it is consumed successfully or not, and it certainly won&#39;t know *who* consumes it or have any guarantee when it will be consumed. Likewise, a consumer doesn&#39;t necessarily know when or why the message was sent or who sent it. This provides great flexibility between producers and consumers. JMS adheres to this tenet of disconnected producers and consumers. \r\n\r\nThere is no *direct* way for a consumer to inform a producer about a problem with the consumption of the message it sent. That said, you *can* employ what&#39;s called a &quot;request/response pattern&quot; so that the consumer can provide some kind of feedback to the producer. You can find an explanation of this pattern along with example code [here][1].\r\n\r\nAlso, the `AsyncCallback` class you&#39;re using is not part of JMS. I believe it&#39;s [`org.apache.activemq.AsyncCallback`][2] provided exclusively by ActiveMQ itself and it only provides callbacks for success or failure for the actual *send* operation (i.e. not for the consumption of the message).\r\n\r\nLastly, you should know that throwing a `RuntimeException` from the `onMessage` method of a `javax.jms.MessageListener` is considered a &quot;programming error&quot; by the JMS specification and should be avoided. Section 8.7 of the JMS 2 specification states:\r\n\r\n&gt; It is possible for a listener to throw a `RuntimeException`; however, this is considered a client programming error. Well behaved listeners should catch such exceptions and attempt to divert messages causing them to some form of application-specific &#39;unprocessable message&#39; destination.\r\nThe result of a listener throwing a `RuntimeException` depends on the session&#39;s acknowledgment mode.\r\n&gt; \r\n&gt;  - `AUTO_ACKNOWLEDGE` or `DUPS_OK_ACKNOWLEDGE` - the message will be immediately redelivered. The number of times a JMS provider will redeliver the same message before giving up is provider-dependent. The JMSRedelivered message header field will be set, and the JMSXDeliveryCount message property incremented, for a message redelivered under these circumstances.\r\n&gt;\r\n&gt;  - `CLIENT_ACKNOWLEDGE` - the next message for the listener is delivered. If a client wishes to have the previous unacknowledged message redelivered, it must manually recover the session.\r\n&gt;\r\n&gt;  - Transacted Session - the next message for the listener is delivered. The client can either commit or roll back the session (in other words, a `RuntimeException` does not automatically rollback the session).\r\n\r\n\r\n  [1]: https://www.enterpriseintegrationpatterns.com/patterns/messaging/RequestReplyJmsExample.html\r\n  [2]: https://activemq.apache.org/maven/apidocs/org/apache/activemq/AsyncCallback.html","title":"Java JMS - Message Listener and onException","body":"<p>Your expectation is based on a fundamental misunderstanding of JMS.</p>\n\n<p>One of the basic tenets of brokered messaging is that producers and consumers are logically disconnected from each other. In other words...A producer sends a message to a broker and it doesn't necessarily care if it is consumed successfully or not, and it certainly won't know <em>who</em> consumes it or have any guarantee when it will be consumed. Likewise, a consumer doesn't necessarily know when or why the message was sent or who sent it. This provides great flexibility between producers and consumers. JMS adheres to this tenet of disconnected producers and consumers. </p>\n\n<p>There is no <em>direct</em> way for a consumer to inform a producer about a problem with the consumption of the message it sent. That said, you <em>can</em> employ what's called a \"request/response pattern\" so that the consumer can provide some kind of feedback to the producer. You can find an explanation of this pattern along with example code <a href=\"https://www.enterpriseintegrationpatterns.com/patterns/messaging/RequestReplyJmsExample.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Also, the <code>AsyncCallback</code> class you're using is not part of JMS. I believe it's <a href=\"https://activemq.apache.org/maven/apidocs/org/apache/activemq/AsyncCallback.html\" rel=\"nofollow noreferrer\"><code>org.apache.activemq.AsyncCallback</code></a> provided exclusively by ActiveMQ itself and it only provides callbacks for success or failure for the actual <em>send</em> operation (i.e. not for the consumption of the message).</p>\n\n<p>Lastly, you should know that throwing a <code>RuntimeException</code> from the <code>onMessage</code> method of a <code>javax.jms.MessageListener</code> is considered a \"programming error\" by the JMS specification and should be avoided. Section 8.7 of the JMS 2 specification states:</p>\n\n<blockquote>\n  <p>It is possible for a listener to throw a <code>RuntimeException</code>; however, this is considered a client programming error. Well behaved listeners should catch such exceptions and attempt to divert messages causing them to some form of application-specific 'unprocessable message' destination.\n  The result of a listener throwing a <code>RuntimeException</code> depends on the session's acknowledgment mode.</p>\n  \n  <ul>\n  <li><p><code>AUTO_ACKNOWLEDGE</code> or <code>DUPS_OK_ACKNOWLEDGE</code> - the message will be immediately redelivered. The number of times a JMS provider will redeliver the same message before giving up is provider-dependent. The JMSRedelivered message header field will be set, and the JMSXDeliveryCount message property incremented, for a message redelivered under these circumstances.</p></li>\n  <li><p><code>CLIENT_ACKNOWLEDGE</code> - the next message for the listener is delivered. If a client wishes to have the previous unacknowledged message redelivered, it must manually recover the session.</p></li>\n  <li><p>Transacted Session - the next message for the listener is delivered. The client can either commit or roll back the session (in other words, a <code>RuntimeException</code> does not automatically rollback the session).</p></li>\n  </ul>\n</blockquote>\n"}],"owner":{"account_id":1728581,"reputation":2763,"user_id":1582712,"accept_rate":51,"display_name":"E.S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1783,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60348968,"answer_count":1,"score":0,"last_activity_date":1696261417,"creation_date":1582336465,"question_id":60348330,"body_markdown":"I have an application with a main thread and a JMS thread which talk to each other through ActiveMQ 5.15.11. I am able to send messages just fine, however I would like a way to send back status or errors. I noticed that the `MessageListener` allows for `onSuccess()` and `onException(ex)` as two events to listen for, however I am finding that only `onSuccess()` is getting called. \r\n\r\nHere are snippets of my code.\r\n\r\n**JMS Thread:**\r\n\r\n```java\r\nConnectionFactory factory = super.getConnectionFactory();\r\nConnection connection = factory.createConnection();\r\nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\nQueue queue = session.createQueue(super.getQueue());\r\nMessageConsumer consumer = session.createConsumer(queue);\r\nconsumer.setMessageListener(m -&gt; {\r\n   try {\r\n      super.processRmbnConfigMsg(m);\r\n   } catch (JMSException | IOException e) {\r\n      LOG.error(e.getMessage(), e);\r\n   \r\n      // I can only use RuntimeException. \r\n      // Also this exception is what I am expecting to get passed to the onException(..)\r\n      // call in the main thread.\r\n      throw new RuntimeException(e);\r\n   }\r\n});\r\nconnection.start();\r\n```\r\n\r\n**Main thread (sending messages to JMS):**\r\n```java\r\nsendMessage(xml, new AsyncCallback() {\r\n    @Override\r\n    public void onException(JMSException e) {\r\n        // I am expecting this to be that RuntimeException from the JMS thread.\r\n        LOG.error(&quot;Error&quot;, e);\r\n        doSomethingWithException(e);\r\n    }\r\n\r\n    @Override\r\n    public void onSuccess() {\r\n        LOG.info(&quot;Success&quot;);\r\n    }\r\n});\r\n```\r\nWhat I am expecting is that the exceptions thrown in the `new RuntimeException(e)` will get picked up on the `onException(JMSException e)` event listener, in some way, even if the `RuntimeException` is wrapped.\r\n\r\nInstead, I am always getting `onSuccess()` events. I suppose the `onException(..)` event happens during communication issues, but I would like a way to send back to the caller exceptions. \r\n\r\n**How do I accomplish that goal of collecting errors in the JMS thread and sending it back to my calling thread?**","title":"Java JMS - Message Listener and onException","body":"<p>I have an application with a main thread and a JMS thread which talk to each other through ActiveMQ 5.15.11. I am able to send messages just fine, however I would like a way to send back status or errors. I noticed that the <code>MessageListener</code> allows for <code>onSuccess()</code> and <code>onException(ex)</code> as two events to listen for, however I am finding that only <code>onSuccess()</code> is getting called. </p>\n\n<p>Here are snippets of my code.</p>\n\n<p><strong>JMS Thread:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ConnectionFactory factory = super.getConnectionFactory();\nConnection connection = factory.createConnection();\nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\nQueue queue = session.createQueue(super.getQueue());\nMessageConsumer consumer = session.createConsumer(queue);\nconsumer.setMessageListener(m -&gt; {\n   try {\n      super.processRmbnConfigMsg(m);\n   } catch (JMSException | IOException e) {\n      LOG.error(e.getMessage(), e);\n\n      // I can only use RuntimeException. \n      // Also this exception is what I am expecting to get passed to the onException(..)\n      // call in the main thread.\n      throw new RuntimeException(e);\n   }\n});\nconnection.start();\n</code></pre>\n\n<p><strong>Main thread (sending messages to JMS):</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>sendMessage(xml, new AsyncCallback() {\n    @Override\n    public void onException(JMSException e) {\n        // I am expecting this to be that RuntimeException from the JMS thread.\n        LOG.error(\"Error\", e);\n        doSomethingWithException(e);\n    }\n\n    @Override\n    public void onSuccess() {\n        LOG.info(\"Success\");\n    }\n});\n</code></pre>\n\n<p>What I am expecting is that the exceptions thrown in the <code>new RuntimeException(e)</code> will get picked up on the <code>onException(JMSException e)</code> event listener, in some way, even if the <code>RuntimeException</code> is wrapped.</p>\n\n<p>Instead, I am always getting <code>onSuccess()</code> events. I suppose the <code>onException(..)</code> event happens during communication issues, but I would like a way to send back to the caller exceptions. </p>\n\n<p><strong>How do I accomplish that goal of collecting errors in the JMS thread and sending it back to my calling thread?</strong></p>\n"},{"tags":["java","jquery","json","ajax","struts2"],"answers":[{"tags":[],"owner":{"account_id":4346013,"reputation":1904,"user_id":3547935,"display_name":"hari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403765986,"creation_date":1403765986,"answer_id":24424276,"question_id":24423234,"body_markdown":"sending my json objects it has not been written directly as data: EmployeejsonObjects. As it expects the JSON object passed to it written as key value pair. So we made employee the key. And since we have json objects stored in a variable, we need to expand the json objects list using stringify(), otherwise it would be sent as a java script object.\r\n\r\n\r\n\t$.getJSON(&#39;ajax/getPhoto.action&#39;, {employee: JSON.stringify(employee) } , function(data){\r\n        \tconsole.log(data);\r\n     \t}); \r\n\r\n\r\n     ","title":"How to bind JSON to a bean in Struts 2","body":"<p>sending my json objects it has not been written directly as data: EmployeejsonObjects. As it expects the JSON object passed to it written as key value pair. So we made employee the key. And since we have json objects stored in a variable, we need to expand the json objects list using stringify(), otherwise it would be sent as a java script object.</p>\n\n<pre><code>$.getJSON('ajax/getPhoto.action', {employee: JSON.stringify(employee) } , function(data){\n        console.log(data);\n    }); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617423530,"creation_date":1403770295,"answer_id":24425512,"question_id":24423234,"body_markdown":"Your `Employee` bean can&#39;t be `null` if it&#39;s instantiated and initialized the action bean. In this way the action bean should provide the getter for the `Employee` and a setter for `id` property. \r\n\r\nMake sure the [`params` interceptor][1] in included in the action config and your action class is not `ModelDriven`. \r\n\r\njQuery converts a JavaScript object like\r\n\r\n&gt; Data that is sent to the server is appended to the URL as a query string. If the value of the data parameter is a **plain object**, it is converted to a string and url-encoded before it is appended to the URL.\r\n\r\n\r\n----------\r\n\r\n\r\nThen you should check which parameters are passed to the action. You can do this if your action class implements `ParameterAware` or get parameters from the `ActionContext` like\r\n\r\n    Map parameters = ActionContext.getContext().getParameters();\r\n\r\n\r\n----------\r\n\r\n\r\nHere&#39; you can populate parameters yourself instead of `params` interceptor as you have access to them or to configure the interceptor *correctly*, so it&#39;s able to do a job. Use `devMode` turned on when you debug the issue because it prints which parameter it&#39;s not able to set. \r\n\r\n  [1]:  https://struts.apache.org/core-developers/parameters-interceptor.html","title":"How to bind JSON to a bean in Struts 2","body":"<p>Your <code>Employee</code> bean can't be <code>null</code> if it's instantiated and initialized the action bean. In this way the action bean should provide the getter for the <code>Employee</code> and a setter for <code>id</code> property.</p>\n<p>Make sure the <a href=\"https://struts.apache.org/core-developers/parameters-interceptor.html\" rel=\"nofollow noreferrer\"><code>params</code> interceptor</a> in included in the action config and your action class is not <code>ModelDriven</code>.</p>\n<p>jQuery converts a JavaScript object like</p>\n<blockquote>\n<p>Data that is sent to the server is appended to the URL as a query string. If the value of the data parameter is a <strong>plain object</strong>, it is converted to a string and url-encoded before it is appended to the URL.</p>\n</blockquote>\n<hr />\n<p>Then you should check which parameters are passed to the action. You can do this if your action class implements <code>ParameterAware</code> or get parameters from the <code>ActionContext</code> like</p>\n<pre><code>Map parameters = ActionContext.getContext().getParameters();\n</code></pre>\n<hr />\n<p>Here' you can populate parameters yourself instead of <code>params</code> interceptor as you have access to them or to configure the interceptor <em>correctly</em>, so it's able to do a job. Use <code>devMode</code> turned on when you debug the issue because it prints which parameter it's not able to set.</p>\n"}],"owner":{"account_id":4025631,"reputation":440,"user_id":3648678,"accept_rate":56,"display_name":"gyosida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":988,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696261152,"creation_date":1403761714,"question_id":24423234,"body_markdown":"Well, I want to make an Ajax call to an Struts 2 action, so I want to send a JSON with the specific `id` of an `Employee` bean from the client to the server. \r\n\r\nThe question is how it should be structured in order to set the `id` to the bean in the action.\r\n\r\nI think that it should be something like:\r\n\r\n&lt;!-- language-all: lang-js --&gt;\r\n\r\n    var employee = {Employee:{id:&quot;someId&quot;}}\r\n\r\nis it ok? \r\n\r\nthis is the jQuery function that i&#39;m using for\r\n\r\n     $(&#39;#select&#39;).change(function(){\r\n\t\t var id = $(this).val();\r\n\t\t var employee = {employee:{id:&quot;someid&quot;}};\r\n\t\t \r\n\t\t $.getJSON(&#39;ajax/getPhoto.action&#39;, employee , function(data){\r\n\t\t\tconsole.log(data);\r\n\t\t });\t\t \r\n\t\t\r\n\t });\r\n\r\nactually, after a debug I could see that the `Employee` bean is null in the `Action` at the moment of the call to the service.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to bind JSON to a bean in Struts 2","body":"<p>Well, I want to make an Ajax call to an Struts 2 action, so I want to send a JSON with the specific <code>id</code> of an <code>Employee</code> bean from the client to the server.</p>\n<p>The question is how it should be structured in order to set the <code>id</code> to the bean in the action.</p>\n<p>I think that it should be something like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var employee = {Employee:{id:&quot;someId&quot;}}\n</code></pre>\n<p>is it ok?</p>\n<p>this is the jQuery function that i'm using for</p>\n<pre class=\"lang-js prettyprint-override\"><code> $('#select').change(function(){\n     var id = $(this).val();\n     var employee = {employee:{id:&quot;someid&quot;}};\n     \n     $.getJSON('ajax/getPhoto.action', employee , function(data){\n        console.log(data);\n     });         \n    \n });\n</code></pre>\n<p>actually, after a debug I could see that the <code>Employee</code> bean is null in the <code>Action</code> at the moment of the call to the service.</p>\n"},{"tags":["java","google-app-engine","utf-8","internationalization","resourcebundle"],"comments":[{"owner":{"account_id":268386,"reputation":6188,"user_id":557117,"accept_rate":92,"display_name":"Will"},"score":1,"creation_date":1391463926,"post_id":4659929,"comment_id":32524825,"body_markdown":"Java 1.6 Fixed this as you can pass in a Reader.  See the @Chinaxing answer way down below","body":"Java 1.6 Fixed this as you can pass in a Reader.  See the @Chinaxing answer way down below"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1410416271,"post_id":4659929,"comment_id":40319265,"body_markdown":"@Will: question is primarily about reading them via `java.util.ResourceBundle`, not `java.util.Properties`.","body":"@Will: question is primarily about reading them via <code>java.util.ResourceBundle</code>, not <code>java.util.Properties</code>."},{"owner":{"account_id":5366746,"reputation":1,"user_id":4276470,"display_name":"Majdy the programmer Bboy"},"score":1,"creation_date":1427775530,"post_id":4659929,"comment_id":46904940,"body_markdown":"Check this answered question,,, hope it helps you\r\n\r\n[http://stackoverflow.com/questions/863838/problem-with-java-properties-utf8-encoding-in-eclipse][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/863838/problem-with-java-properties-utf8-encoding-in-eclipse","body":"Check this answered question,,, hope it helps you    [<a href=\"http://stackoverflow.com/questions/863838/problem-with-java-properties-utf8-encoding-in-eclipse][1]\" title=\"problem with java properties utf8 encoding in eclipse%5d%5b1%5d\">stackoverflow.com/questions/863838/&hellip;</a>        [1]: <a href=\"http://stackoverflow.com/questions/863838/problem-with-java-properties-utf8-encoding-in-eclipse\" title=\"problem with java properties utf8 encoding in eclipse\">stackoverflow.com/questions/863838/&hellip;</a>"},{"owner":{"account_id":126748,"reputation":5288,"user_id":323447,"accept_rate":92,"display_name":"Paolo Fulgoni"},"score":8,"creation_date":1431096109,"post_id":4659929,"comment_id":48362689,"body_markdown":"JDK9 should support UTF-8 natively, see [JEP 226](http://openjdk.java.net/jeps/226)","body":"JDK9 should support UTF-8 natively, see <a href=\"http://openjdk.java.net/jeps/226\" rel=\"nofollow noreferrer\">JEP 226</a>"}],"answers":[{"comments":[{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":1,"creation_date":1470255467,"post_id":4660058,"comment_id":64879647,"body_markdown":"Java != Eclipse... the latter is an IDE. Further data != Java. Java supports stream processing using a vast array of character sets, which for internationalization (question is about ResourceBundles after all) ... resolves to using UTF-8 as the most straight-forward answer. Writing property files in a character set not supported by the target language unnecessarily complicates the problem.","body":"Java != Eclipse... the latter is an IDE. Further data != Java. Java supports stream processing using a vast array of character sets, which for internationalization (question is about ResourceBundles after all) ... resolves to using UTF-8 as the most straight-forward answer. Writing property files in a character set not supported by the target language unnecessarily complicates the problem."},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1470311042,"post_id":4660058,"comment_id":64903999,"body_markdown":"@Darell Teague: The &quot;hint&quot; that a propertie file loaded for an ResouceBundle have to been is ISO 8859-1 is a java statement: http://docs.oracle.com/javase/8/docs/api/java/util/Properties.html#load-java.io.InputStream-   ... The second part of my answer is just a &quot;hint&quot; how to deal with hat problem.","body":"@Darell Teague: The &quot;hint&quot; that a propertie file loaded for an ResouceBundle have to been is ISO 8859-1 is a java statement: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Properties.html#load-java.io.InputStream-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a>   ... The second part of my answer is just a &quot;hint&quot; how to deal with hat problem."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1643382271,"post_id":4660058,"comment_id":125332218,"body_markdown":"Since java9 properties are in UTF-8","body":"Since java9 properties are in UTF-8"},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1643460599,"post_id":4660058,"comment_id":125348174,"body_markdown":"@pdem thanks for the hint to this old answer - added a section to clarify that my hint was only for Java &lt;= 8","body":"@pdem thanks for the hint to this old answer - added a section to clarify that my hint was only for Java &lt;= 8"}],"tags":[],"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1643460685,"creation_date":1294763939,"answer_id":4660058,"question_id":4659929,"body_markdown":"Attention: In **Java &lt;= 8** java property files should be encoded in ISO 8859-1!\r\n\r\n&gt; ISO 8859-1 character encoding.\r\n&gt; Characters that cannot be directly\r\n&gt; represented in this encoding can be\r\n&gt; written using Unicode escapes  ; only\r\n&gt; a single &#39;u&#39; character is allowed in\r\n&gt; an escape sequence.\r\n\r\n@see Properties Java Doc\r\n\r\nIf you still really want to do this: have a look at:\r\nhttps://stackoverflow.com/questions/863838/problem-with-java-properties-utf8-encoding-in-eclipse -- there are some code samples\r\n\r\n---\r\n**Since Java 9:** property files are encoded in UTF-8, so there should be no problem/doubt\r\n&gt; In Java SE 9, properties files are loaded in UTF-8 encoding. In previous releases, ISO-8859-1 encoding was used for loading property resource bundles.\r\n\r\n(https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-9DCDB41C-A989-4220-8140-DBFB844A0FCA)","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>Attention: In <strong>Java &lt;= 8</strong> java property files should be encoded in ISO 8859-1!</p>\n<blockquote>\n<p>ISO 8859-1 character encoding.\nCharacters that cannot be directly\nrepresented in this encoding can be\nwritten using Unicode escapes  ; only\na single 'u' character is allowed in\nan escape sequence.</p>\n</blockquote>\n<p>@see Properties Java Doc</p>\n<p>If you still really want to do this: have a look at:\n<a href=\"https://stackoverflow.com/questions/863838/problem-with-java-properties-utf8-encoding-in-eclipse\">Java properties UTF-8 encoding in Eclipse</a> -- there are some code samples</p>\n<hr />\n<p><strong>Since Java 9:</strong> property files are encoded in UTF-8, so there should be no problem/doubt</p>\n<blockquote>\n<p>In Java SE 9, properties files are loaded in UTF-8 encoding. In previous releases, ISO-8859-1 encoding was used for loading property resource bundles.</p>\n</blockquote>\n<p>(<a href=\"https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-9DCDB41C-A989-4220-8140-DBFB844A0FCA\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-9DCDB41C-A989-4220-8140-DBFB844A0FCA</a>)</p>\n"},{"comments":[{"owner":{"account_id":191029,"reputation":163,"user_id":431345,"display_name":"Fl&#225;vio Etrusco"},"score":0,"creation_date":1386679045,"post_id":4660195,"comment_id":30632506,"body_markdown":"Thanks. BTW it seems to be a good idea to override getFormats to return FORMAT_PROPERTIES.","body":"Thanks. BTW it seems to be a good idea to override getFormats to return FORMAT_PROPERTIES."},{"owner":{"account_id":2234285,"reputation":1389,"user_id":1971114,"accept_rate":86,"display_name":"Mark Roper"},"score":0,"creation_date":1389878002,"post_id":4660195,"comment_id":31855805,"body_markdown":"Could you elaborate on this suggestion to override getFormats()?","body":"Could you elaborate on this suggestion to override getFormats()?"},{"owner":{"account_id":190025,"reputation":1392,"user_id":429725,"accept_rate":80,"display_name":"Michał Rowicki"},"score":0,"creation_date":1412759854,"post_id":4660195,"comment_id":41182999,"body_markdown":"I prepare newer implementation for Java 8. Let see here:\nhttps://gist.github.com/Hasacz89/d93955ec91afc73a06e3","body":"I prepare newer implementation for Java 8. Let see here: <a href=\"https://gist.github.com/Hasacz89/d93955ec91afc73a06e3\" rel=\"nofollow noreferrer\">gist.github.com/Hasacz89/d93955ec91afc73a06e3</a>"},{"owner":{"account_id":51636,"reputation":4812,"user_id":154325,"accept_rate":83,"display_name":"Niks"},"score":14,"creation_date":1434956450,"post_id":4660195,"comment_id":49978730,"body_markdown":"Do not hesitate to use `StandardCharsets.UTF_8` if your&#39;re using Java 7+","body":"Do not hesitate to use <code>StandardCharsets.UTF_8</code> if your&#39;re using Java 7+"},{"owner":{"account_id":169541,"reputation":5448,"user_id":395685,"accept_rate":100,"display_name":"Nyerguds"},"score":0,"creation_date":1460630898,"post_id":4660195,"comment_id":60837411,"body_markdown":"That Control override is a very nice and simple solution, but wouldn&#39;t it be more logical to make the encoding a constructor arg, rather than hardcoding it on utf8?","body":"That Control override is a very nice and simple solution, but wouldn&#39;t it be more logical to make the encoding a constructor arg, rather than hardcoding it on utf8?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1460631001,"post_id":4660195,"comment_id":60837482,"body_markdown":"@Nyerguds: if you see reasons to ever programmatically change it (I can&#39;t for life imagine one though), feel free to do so. All code snippets I post are just kickoff examples after all.","body":"@Nyerguds: if you see reasons to ever programmatically change it (I can&#39;t for life imagine one though), feel free to do so. All code snippets I post are just kickoff examples after all."},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1467125307,"post_id":4660195,"comment_id":63595397,"body_markdown":"This might help future readers. I had to override `getFallbackLocale()` to return `null`, otherwise the passed locale to `ResourceBundle.getBundle()` is ignored and the default locale is always used.","body":"This might help future readers. I had to override <code>getFallbackLocale()</code> to return <code>null</code>, otherwise the passed locale to <code>ResourceBundle.getBundle()</code> is ignored and the default locale is always used."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1470254984,"post_id":4660195,"comment_id":64879406,"body_markdown":"At the risk of being pedantic - there are hundreds if not thousands of accepted languages for which computer systems should accept. Considering the discussion was about resource bundles (which inherently accept an ISO639 language code as part of the API to fetch the right bundle in context)... the first part of the answer recommending non UTF-8 character sets (that do not support internationalization) would seem to be misguided whereas the latter part with example is probably the only relevant part of a correct answer.","body":"At the risk of being pedantic - there are hundreds if not thousands of accepted languages for which computer systems should accept. Considering the discussion was about resource bundles (which inherently accept an ISO639 language code as part of the API to fetch the right bundle in context)... the first part of the answer recommending non UTF-8 character sets (that do not support internationalization) would seem to be misguided whereas the latter part with example is probably the only relevant part of a correct answer."},{"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":0,"creation_date":1509029149,"post_id":4660195,"comment_id":80862088,"body_markdown":"Anybody thinking about employing this may want to look at a more recent version of the base class. There&#39;s a privilege check in there to get at the resource stream that isn&#39;t in this version. (Otherwise it&#39;s still relevant because the actual difference is that one line that creates the resource bundle.)","body":"Anybody thinking about employing this may want to look at a more recent version of the base class. There&#39;s a privilege check in there to get at the resource stream that isn&#39;t in this version. (Otherwise it&#39;s still relevant because the actual difference is that one line that creates the resource bundle.)"},{"owner":{"account_id":2235635,"reputation":722,"user_id":1972095,"accept_rate":22,"display_name":"Shashank"},"score":0,"creation_date":1516008729,"post_id":4660195,"comment_id":83502928,"body_markdown":"This worked for me. I included this UTF8Control class in my package and use ResourceBundle mybundle = ResourceBundle.getBundle(&quot;myfile&quot;, new UTF8Control()); and it worked. Thanks.","body":"This worked for me. I included this UTF8Control class in my package and use ResourceBundle mybundle = ResourceBundle.getBundle(&quot;myfile&quot;, new UTF8Control()); and it worked. Thanks."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1552300914,"post_id":4660195,"comment_id":96943017,"body_markdown":"I think the `newBundle` method should start with `if(!format.equals(&quot;java.properties&quot;)) return super.newBundle(…);`, to leave other bundle formats (like locating and loading a subclass of `ResourceBundle`) intact.","body":"I think the <code>newBundle</code> method should start with <code>if(!format.equals(&quot;java.properties&quot;)) return super.newBundle(…);</code>, to leave other bundle formats (like locating and loading a subclass of <code>ResourceBundle</code>) intact."},{"owner":{"account_id":352555,"reputation":774,"user_id":689706,"display_name":"Dave"},"score":0,"creation_date":1621946096,"post_id":4660195,"comment_id":119642233,"body_markdown":"I used to rely on a UTF8 ResourceBundle.Control but Java9 broke that. If you are using Modules (and you probably should be) read the docs for ResourceBundleProvider before wasting time extending Control.","body":"I used to rely on a UTF8 ResourceBundle.Control but Java9 broke that. If you are using Modules (and you probably should be) read the docs for ResourceBundleProvider before wasting time extending Control."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":12,"down_vote_count":0,"up_vote_count":424,"is_accepted":false,"score":424,"last_activity_date":1696261107,"creation_date":1294764819,"answer_id":4660195,"question_id":4659929,"body_markdown":"# Java 9 and newer\r\n\r\n[From Java 9 onwards](https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm) property files are encoded as UTF-8 by default, and using characters outside of ISO-8859-1 should work out of the box.\r\n\r\nIn case you&#39;re using an IDE to edit them, then you need to take into account that it&#39;s currently (Oct 2023) only possible in IntelliJ to reinstruct the IDE to read them using UTF-8.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nEclipse still stubbornly attempts to read them using ISO-8859-1, resulting in Mojibake being displayed in its properties file editor. You&#39;d need to fall back using a generic text editor for `*.properties` files or to edit the files outside the IDE.\r\n\r\n\r\n# Java 8 and older\r\n\r\nThe [`ResourceBundle#getBundle()`][2] uses under the covers [`PropertyResourceBundle`][3] when a `.properties` file is specified. This in turn uses by default [`Properties#load(InputStream)`][4] to load those properties files. As per [the javadoc][4], they are by default read as ISO-8859-1. \r\n\r\n&gt; `public void load(InputStream inStream) throws IOException`\r\n\r\n&gt; Reads a property list (key and element pairs) from the input byte stream. The input stream is in a simple line-oriented format as specified in load(Reader) **and is assumed to use the ISO 8859-1 character encoding**; that is each byte is one Latin1 character. Characters not in Latin1, and certain special characters, are represented in keys and elements using Unicode escapes as defined in section 3.3 of The Java™ Language Specification.\r\n\r\nSo, you&#39;d need to save them as ISO-8859-1. If you have any characters beyond ISO-8859-1 range and you can&#39;t use `\\uXXXX` off top of head and you&#39;re thus forced to save the file as UTF-8, then you&#39;d need to use the [*native2ascii*][5] tool to convert an UTF-8 saved properties file to an ISO-8859-1 saved properties file wherein all uncovered characters are converted into `\\uXXXX` format. The below example converts a UTF-8 encoded properties file `text_utf8.properties` to a valid ISO-8859-1 encoded properties file `text.properties`.\r\n\r\n&lt;pre&gt;native2ascii -encoding UTF-8 text_utf8.properties text.properties&lt;/pre&gt;\r\n\r\nWhen using an IDE such as Eclipse or IntelliJ, this is already automatically done when you create a `.properties` file in a Java based project and use IDE&#39;s own properties file editor. It will transparently convert the characters beyond ISO-8859-1 range to `\\uXXXX` format. See also below screenshots from Eclipse (note the &quot;Properties&quot; and &quot;Source&quot; tabs on bottom, click for large):\r\n\r\n[![&quot;Properties&quot; tab][6]][7] [![&quot;Source&quot; tab][8]][9]\r\n\r\nAlternatively, you could also create a custom [`ResourceBundle.Control`][10] implementation wherein you explicitly read the properties files as UTF-8 using [`InputStreamReader`][11], so that you can just save them as UTF-8 without the need to hassle with `native2ascii`. Here&#39;s a kickoff example:\r\n\r\n    public class UTF8Control extends Control {\r\n        public ResourceBundle newBundle\r\n            (String baseName, Locale locale, String format, ClassLoader loader, boolean reload)\r\n                throws IllegalAccessException, InstantiationException, IOException\r\n        {\r\n            // The below is a copy of the default implementation.\r\n            String bundleName = toBundleName(baseName, locale);\r\n            String resourceName = toResourceName(bundleName, &quot;properties&quot;);\r\n            ResourceBundle bundle = null;\r\n            InputStream stream = null;\r\n            if (reload) {\r\n                URL url = loader.getResource(resourceName);\r\n                if (url != null) {\r\n                    URLConnection connection = url.openConnection();\r\n                    if (connection != null) {\r\n                        connection.setUseCaches(false);\r\n                        stream = connection.getInputStream();\r\n                    }\r\n                }\r\n            } else {\r\n                stream = loader.getResourceAsStream(resourceName);\r\n            }\r\n            if (stream != null) {\r\n                try {\r\n                    // Only this line is changed to make it to read properties files as UTF-8.\r\n                    bundle = new PropertyResourceBundle(new InputStreamReader(stream, &quot;UTF-8&quot;));\r\n                } finally {\r\n                    stream.close();\r\n                }\r\n            }\r\n            return bundle;\r\n        }\r\n    }\r\n\r\nThis can be used as follows:\r\n\r\n    ResourceBundle bundle = ResourceBundle.getBundle(&quot;com.example.i18n.text&quot;, new UTF8Control());\r\n\r\n### See also:\r\n\r\n- [Unicode - How to get the characters right?][12]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2bnjS.png\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/PropertyResourceBundle.html\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#load(java.io.InputStream)\r\n  [5]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/native2ascii.html\r\n  [6]: http://i.stack.imgur.com/iQWWGm.png\r\n  [7]: http://i.stack.imgur.com/iQWWG.png\r\n  [8]: http://i.stack.imgur.com/kjOCbm.png\r\n  [9]: http://i.stack.imgur.com/kjOCb.png\r\n  [10]: http://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.Control.html\r\n  [11]: http://docs.oracle.com/javase/7/docs/api/java/io/InputStreamReader.html#InputStreamReader(java.io.InputStream,%20java.lang.String)\r\n  [12]: http://balusc.blogspot.com/2009/05/unicode-how-to-get-characters-right.html","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<h1>Java 9 and newer</h1>\n<p><a href=\"https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm\" rel=\"noreferrer\">From Java 9 onwards</a> property files are encoded as UTF-8 by default, and using characters outside of ISO-8859-1 should work out of the box.</p>\n<p>In case you're using an IDE to edit them, then you need to take into account that it's currently (Oct 2023) only possible in IntelliJ to reinstruct the IDE to read them using UTF-8.</p>\n<p><a href=\"https://i.stack.imgur.com/2bnjS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2bnjS.png\" alt=\"enter image description here\" /></a></p>\n<p>Eclipse still stubbornly attempts to read them using ISO-8859-1, resulting in Mojibake being displayed in its properties file editor. You'd need to fall back using a generic text editor for <code>*.properties</code> files or to edit the files outside the IDE.</p>\n<h1>Java 8 and older</h1>\n<p>The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.html\" rel=\"noreferrer\"><code>ResourceBundle#getBundle()</code></a> uses under the covers <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/PropertyResourceBundle.html\" rel=\"noreferrer\"><code>PropertyResourceBundle</code></a> when a <code>.properties</code> file is specified. This in turn uses by default <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#load(java.io.InputStream)\" rel=\"noreferrer\"><code>Properties#load(InputStream)</code></a> to load those properties files. As per <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#load(java.io.InputStream)\" rel=\"noreferrer\">the javadoc</a>, they are by default read as ISO-8859-1.</p>\n<blockquote>\n<p><code>public void load(InputStream inStream) throws IOException</code></p>\n</blockquote>\n<blockquote>\n<p>Reads a property list (key and element pairs) from the input byte stream. The input stream is in a simple line-oriented format as specified in load(Reader) <strong>and is assumed to use the ISO 8859-1 character encoding</strong>; that is each byte is one Latin1 character. Characters not in Latin1, and certain special characters, are represented in keys and elements using Unicode escapes as defined in section 3.3 of The Java™ Language Specification.</p>\n</blockquote>\n<p>So, you'd need to save them as ISO-8859-1. If you have any characters beyond ISO-8859-1 range and you can't use <code>\\uXXXX</code> off top of head and you're thus forced to save the file as UTF-8, then you'd need to use the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/native2ascii.html\" rel=\"noreferrer\"><em>native2ascii</em></a> tool to convert an UTF-8 saved properties file to an ISO-8859-1 saved properties file wherein all uncovered characters are converted into <code>\\uXXXX</code> format. The below example converts a UTF-8 encoded properties file <code>text_utf8.properties</code> to a valid ISO-8859-1 encoded properties file <code>text.properties</code>.</p>\n<pre>native2ascii -encoding UTF-8 text_utf8.properties text.properties</pre>\n<p>When using an IDE such as Eclipse or IntelliJ, this is already automatically done when you create a <code>.properties</code> file in a Java based project and use IDE's own properties file editor. It will transparently convert the characters beyond ISO-8859-1 range to <code>\\uXXXX</code> format. See also below screenshots from Eclipse (note the &quot;Properties&quot; and &quot;Source&quot; tabs on bottom, click for large):</p>\n<p><a href=\"https://i.stack.imgur.com/iQWWG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iQWWGm.png\" alt=\"&quot;Properties&quot; tab\" /></a> <a href=\"https://i.stack.imgur.com/kjOCb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kjOCbm.png\" alt=\"&quot;Source&quot; tab\" /></a></p>\n<p>Alternatively, you could also create a custom <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.Control.html\" rel=\"noreferrer\"><code>ResourceBundle.Control</code></a> implementation wherein you explicitly read the properties files as UTF-8 using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStreamReader.html#InputStreamReader(java.io.InputStream,%20java.lang.String)\" rel=\"noreferrer\"><code>InputStreamReader</code></a>, so that you can just save them as UTF-8 without the need to hassle with <code>native2ascii</code>. Here's a kickoff example:</p>\n<pre><code>public class UTF8Control extends Control {\n    public ResourceBundle newBundle\n        (String baseName, Locale locale, String format, ClassLoader loader, boolean reload)\n            throws IllegalAccessException, InstantiationException, IOException\n    {\n        // The below is a copy of the default implementation.\n        String bundleName = toBundleName(baseName, locale);\n        String resourceName = toResourceName(bundleName, &quot;properties&quot;);\n        ResourceBundle bundle = null;\n        InputStream stream = null;\n        if (reload) {\n            URL url = loader.getResource(resourceName);\n            if (url != null) {\n                URLConnection connection = url.openConnection();\n                if (connection != null) {\n                    connection.setUseCaches(false);\n                    stream = connection.getInputStream();\n                }\n            }\n        } else {\n            stream = loader.getResourceAsStream(resourceName);\n        }\n        if (stream != null) {\n            try {\n                // Only this line is changed to make it to read properties files as UTF-8.\n                bundle = new PropertyResourceBundle(new InputStreamReader(stream, &quot;UTF-8&quot;));\n            } finally {\n                stream.close();\n            }\n        }\n        return bundle;\n    }\n}\n</code></pre>\n<p>This can be used as follows:</p>\n<pre><code>ResourceBundle bundle = ResourceBundle.getBundle(&quot;com.example.i18n.text&quot;, new UTF8Control());\n</code></pre>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"http://balusc.blogspot.com/2009/05/unicode-how-to-get-characters-right.html\" rel=\"noreferrer\">Unicode - How to get the characters right?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":230303,"reputation":14381,"user_id":493823,"display_name":"fmucar"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1294765159,"creation_date":1294765159,"answer_id":4660258,"question_id":4659929,"body_markdown":"http://sourceforge.net/projects/eclipse-rbe/\r\n\r\nas already stated property files should be encoded in ISO 8859-1\r\n\r\nYou can use the above plugin for eclipse IDE to make the Unicode conversion for you.","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p><a href=\"http://sourceforge.net/projects/eclipse-rbe/\" rel=\"noreferrer\">http://sourceforge.net/projects/eclipse-rbe/</a></p>\n\n<p>as already stated property files should be encoded in ISO 8859-1</p>\n\n<p>You can use the above plugin for eclipse IDE to make the Unicode conversion for you.</p>\n"},{"comments":[{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":0,"creation_date":1422297534,"post_id":4660327,"comment_id":44684273,"body_markdown":"Where do we get `native2ascii` from? I just did `find / -name native2ascii*` and got no results, so I assume it&#39;s not just part of the JDK...","body":"Where do we get <code>native2ascii</code> from? I just did <code>find &#47; -name native2ascii*</code> and got no results, so I assume it&#39;s not just part of the JDK..."},{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":0,"creation_date":1422297975,"post_id":4660327,"comment_id":44684510,"body_markdown":"Hm. It&#39;s not part of the IBM JDK, but it seems to be included in the Oracle JDK, in `jdk1.*.0_*/bin`.","body":"Hm. It&#39;s not part of the IBM JDK, but it seems to be included in the Oracle JDK, in <code>jdk1.*.0_*&#47;bin</code>."},{"owner":{"account_id":176400,"reputation":8689,"user_id":407071,"accept_rate":100,"display_name":"Eric Finn"},"score":0,"creation_date":1444412513,"post_id":4660327,"comment_id":53909216,"body_markdown":"It does appear to be part of the IBM JDK, at least in JDK 6.","body":"It does appear to be part of the IBM JDK, at least in JDK 6."}],"tags":[],"owner":{"account_id":232687,"reputation":789,"user_id":497700,"display_name":"andykellr"},"comment_count":3,"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1294765578,"creation_date":1294765578,"answer_id":4660327,"question_id":4659929,"body_markdown":"We create a resources.utf8 file that contains the resources in UTF-8 and have a rule to run the following:\r\n\r\n    native2ascii -encoding utf8 resources.utf8 resources.properties","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>We create a resources.utf8 file that contains the resources in UTF-8 and have a rule to run the following:</p>\n\n<pre><code>native2ascii -encoding utf8 resources.utf8 resources.properties\n</code></pre>\n"},{"comments":[{"owner":{"account_id":948450,"reputation":3058,"user_id":975169,"display_name":"Enginer"},"score":1,"creation_date":1410507867,"post_id":6028900,"comment_id":40361236,"body_markdown":"I like this solution and I post it like Gist https://gist.github.com/enginer/3168dd4a374994718f0e","body":"I like this solution and I post it like Gist <a href=\"https://gist.github.com/enginer/3168dd4a374994718f0e\" rel=\"nofollow noreferrer\">gist.github.com/enginer/3168dd4a374994718f0e</a>"},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1517901996,"post_id":6028900,"comment_id":84271395,"body_markdown":"This works very well.  Just added a Chinese Translation properties file in UTF8 and it loads up without any issues.","body":"This works very well.  Just added a Chinese Translation properties file in UTF8 and it loads up without any issues."}],"tags":[],"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1305624758,"creation_date":1305624758,"answer_id":6028900,"question_id":4659929,"body_markdown":"    package com.varaneckas.utils;  \r\n      \r\n    import java.io.UnsupportedEncodingException;  \r\n    import java.util.Enumeration;  \r\n    import java.util.PropertyResourceBundle;  \r\n    import java.util.ResourceBundle;  \r\n      \r\n    /** \r\n     * UTF-8 friendly ResourceBundle support \r\n     *  \r\n     * Utility that allows having multi-byte characters inside java .property files. \r\n     * It removes the need for Sun&#39;s native2ascii application, you can simply have \r\n     * UTF-8 encoded editable .property files. \r\n     *  \r\n     * Use:  \r\n     * ResourceBundle bundle = Utf8ResourceBundle.getBundle(&quot;bundle_name&quot;); \r\n     *  \r\n     * @author Tomas Varaneckas &lt;tomas.varaneckas@gmail.com&gt; \r\n     */  \r\n    public abstract class Utf8ResourceBundle {  \r\n          \r\n        /** \r\n         * Gets the unicode friendly resource bundle \r\n         *  \r\n         * @param baseName \r\n         * @see ResourceBundle#getBundle(String) \r\n         * @return Unicode friendly resource bundle \r\n         */  \r\n        public static final ResourceBundle getBundle(final String baseName) {  \r\n            return createUtf8PropertyResourceBundle(  \r\n                    ResourceBundle.getBundle(baseName));  \r\n        }  \r\n      \r\n        /** \r\n         * Creates unicode friendly {@link PropertyResourceBundle} if possible. \r\n         *  \r\n         * @param bundle  \r\n         * @return Unicode friendly property resource bundle \r\n         */  \r\n        private static ResourceBundle createUtf8PropertyResourceBundle(  \r\n                final ResourceBundle bundle) {  \r\n            if (!(bundle instanceof PropertyResourceBundle)) {  \r\n                return bundle;  \r\n            }  \r\n            return new Utf8PropertyResourceBundle((PropertyResourceBundle) bundle);  \r\n        }  \r\n      \r\n        /** \r\n         * Resource Bundle that does the hard work \r\n         */  \r\n        private static class Utf8PropertyResourceBundle extends ResourceBundle {  \r\n      \r\n            /** \r\n             * Bundle with unicode data \r\n             */  \r\n            private final PropertyResourceBundle bundle;  \r\n      \r\n            /** \r\n             * Initializing constructor \r\n             *  \r\n             * @param bundle \r\n             */  \r\n            private Utf8PropertyResourceBundle(final PropertyResourceBundle bundle) {  \r\n                this.bundle = bundle;  \r\n            }  \r\n      \r\n            @Override  \r\n            @SuppressWarnings(&quot;unchecked&quot;)  \r\n            public Enumeration getKeys() {  \r\n                return bundle.getKeys();  \r\n            }  \r\n      \r\n            @Override  \r\n            protected Object handleGetObject(final String key) {  \r\n                final String value = bundle.getString(key);  \r\n                if (value == null)  \r\n                    return null;  \r\n                try {  \r\n                    return new String(value.getBytes(&quot;ISO-8859-1&quot;), &quot;UTF-8&quot;);  \r\n                } catch (final UnsupportedEncodingException e) {  \r\n                    throw new RuntimeException(&quot;Encoding not supported&quot;, e);  \r\n                }  \r\n            }  \r\n        }  \r\n    }  ","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<pre><code>package com.varaneckas.utils;  \n\nimport java.io.UnsupportedEncodingException;  \nimport java.util.Enumeration;  \nimport java.util.PropertyResourceBundle;  \nimport java.util.ResourceBundle;  \n\n/** \n * UTF-8 friendly ResourceBundle support \n *  \n * Utility that allows having multi-byte characters inside java .property files. \n * It removes the need for Sun's native2ascii application, you can simply have \n * UTF-8 encoded editable .property files. \n *  \n * Use:  \n * ResourceBundle bundle = Utf8ResourceBundle.getBundle(\"bundle_name\"); \n *  \n * @author Tomas Varaneckas &lt;tomas.varaneckas@gmail.com&gt; \n */  \npublic abstract class Utf8ResourceBundle {  \n\n    /** \n     * Gets the unicode friendly resource bundle \n     *  \n     * @param baseName \n     * @see ResourceBundle#getBundle(String) \n     * @return Unicode friendly resource bundle \n     */  \n    public static final ResourceBundle getBundle(final String baseName) {  \n        return createUtf8PropertyResourceBundle(  \n                ResourceBundle.getBundle(baseName));  \n    }  \n\n    /** \n     * Creates unicode friendly {@link PropertyResourceBundle} if possible. \n     *  \n     * @param bundle  \n     * @return Unicode friendly property resource bundle \n     */  \n    private static ResourceBundle createUtf8PropertyResourceBundle(  \n            final ResourceBundle bundle) {  \n        if (!(bundle instanceof PropertyResourceBundle)) {  \n            return bundle;  \n        }  \n        return new Utf8PropertyResourceBundle((PropertyResourceBundle) bundle);  \n    }  \n\n    /** \n     * Resource Bundle that does the hard work \n     */  \n    private static class Utf8PropertyResourceBundle extends ResourceBundle {  \n\n        /** \n         * Bundle with unicode data \n         */  \n        private final PropertyResourceBundle bundle;  \n\n        /** \n         * Initializing constructor \n         *  \n         * @param bundle \n         */  \n        private Utf8PropertyResourceBundle(final PropertyResourceBundle bundle) {  \n            this.bundle = bundle;  \n        }  \n\n        @Override  \n        @SuppressWarnings(\"unchecked\")  \n        public Enumeration getKeys() {  \n            return bundle.getKeys();  \n        }  \n\n        @Override  \n        protected Object handleGetObject(final String key) {  \n            final String value = bundle.getString(key);  \n            if (value == null)  \n                return null;  \n            try {  \n                return new String(value.getBytes(\"ISO-8859-1\"), \"UTF-8\");  \n            } catch (final UnsupportedEncodingException e) {  \n                throw new RuntimeException(\"Encoding not supported\", e);  \n            }  \n        }  \n    }  \n}  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":43,"creation_date":1417788880,"post_id":6995374,"comment_id":43095108,"body_markdown":"To all naive upvoters/commenters here: this is not a solution, but a workaround. The true underlying problem still stands and needs solving.","body":"To all naive upvoters/commenters here: this is not a solution, but a workaround. The true underlying problem still stands and needs solving."},{"owner":{"account_id":169058,"reputation":1408,"user_id":394921,"accept_rate":75,"display_name":"JohnRDOrazio"},"score":2,"creation_date":1440198850,"post_id":6995374,"comment_id":52190271,"body_markdown":"This fixed my situation. The solution would be for Java to start handling UTF-8 natively in resource bundles and in properties files. Until that happens I&#39;ll use a workaround.","body":"This fixed my situation. The solution would be for Java to start handling UTF-8 natively in resource bundles and in properties files. Until that happens I&#39;ll use a workaround."},{"owner":{"account_id":377277,"reputation":4365,"user_id":729282,"display_name":"Paaske"},"score":2,"creation_date":1447753917,"post_id":6995374,"comment_id":55275067,"body_markdown":"@BalusC; what is the disadvantage of this approach? (other than creating an extra String?)","body":"@BalusC; what is the disadvantage of this approach? (other than creating an extra String?)"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":11,"creation_date":1447758383,"post_id":6995374,"comment_id":55278199,"body_markdown":"@Paaske: it&#39;s a workaround, not a solution. You&#39;d need to reapply the workaround over all place on all string variables throughout the code base. This is pure nonsense. Just fix it in a single place, at the right place so that the string variables immediately contain the right value. There should be absolutely no need to modify the client.","body":"@Paaske: it&#39;s a workaround, not a solution. You&#39;d need to reapply the workaround over all place on all string variables throughout the code base. This is pure nonsense. Just fix it in a single place, at the right place so that the string variables immediately contain the right value. There should be absolutely no need to modify the client."},{"owner":{"account_id":377277,"reputation":4365,"user_id":729282,"display_name":"Paaske"},"score":5,"creation_date":1447831706,"post_id":6995374,"comment_id":55314867,"body_markdown":"Yes, if you have to modify the entire application, of course this is bad. But if you&#39;re already using the ResourceBundle as a singleton you only have to fix it once. I was under the impression that the singleton approach was most common way of using the ResourceBundle.","body":"Yes, if you have to modify the entire application, of course this is bad. But if you&#39;re already using the ResourceBundle as a singleton you only have to fix it once. I was under the impression that the singleton approach was most common way of using the ResourceBundle."},{"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"score":0,"creation_date":1527172405,"post_id":6995374,"comment_id":88036331,"body_markdown":"Love this approach. I&#39;ve been struggling with Java&#39;s lack of UTF-8 in resource bundles for years, and am amazed at this simple work-around.","body":"Love this approach. I&#39;ve been struggling with Java&#39;s lack of UTF-8 in resource bundles for years, and am amazed at this simple work-around."}],"tags":[],"owner":{"account_id":44313,"reputation":2180,"user_id":129994,"accept_rate":65,"display_name":"Rod"},"comment_count":6,"down_vote_count":11,"up_vote_count":154,"is_accepted":false,"score":143,"last_activity_date":1368797345,"creation_date":1312888931,"answer_id":6995374,"question_id":4659929,"body_markdown":"Given that you have an instance of ResourceBundle and you can get String by:\r\n\r\n    String val = bundle.getString(key); \r\n\r\nI solved my Japanese display problem by:\r\n\r\n    return new String(val.getBytes(&quot;ISO-8859-1&quot;), &quot;UTF-8&quot;);\r\n","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>Given that you have an instance of ResourceBundle and you can get String by:</p>\n\n<pre><code>String val = bundle.getString(key); \n</code></pre>\n\n<p>I solved my Japanese display problem by:</p>\n\n<pre><code>return new String(val.getBytes(\"ISO-8859-1\"), \"UTF-8\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":76113,"reputation":2618,"user_id":218125,"accept_rate":92,"display_name":"Cypher"},"score":4,"creation_date":1432320721,"post_id":9818962,"comment_id":48895573,"body_markdown":"In IntelliJ IDEA 14, this is located in Settings -&gt; Editor -&gt; File Encodings. I also had to delete any existing properties files, and re-create them for this option to take effect.","body":"In IntelliJ IDEA 14, this is located in Settings -&gt; Editor -&gt; File Encodings. I also had to delete any existing properties files, and re-create them for this option to take effect."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1470255300,"post_id":9818962,"comment_id":64879573,"body_markdown":"IDE&#39;s are not particularly relevant to the answer but just tools that really don&#39;t address the underlying problem of not storing content in the UTF-8 character-set .... which would solve the problem straight away without conversion or hackery like writing properties in unicode symbols inside a file defined with a different character set.","body":"IDE&#39;s are not particularly relevant to the answer but just tools that really don&#39;t address the underlying problem of not storing content in the UTF-8 character-set .... which would solve the problem straight away without conversion or hackery like writing properties in unicode symbols inside a file defined with a different character set."}],"tags":[],"owner":{"account_id":138917,"reputation":917,"user_id":344172,"display_name":"Kinjeiro"},"comment_count":2,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1480426802,"creation_date":1332406367,"answer_id":9818962,"question_id":4659929,"body_markdown":"`ResourceBundle.Control` with UTF-8 and new String methods don&#39;t work, if the properties file uses cp1251 charset, for example. \r\n\r\nSo I recomended using a common method: **write in unicode** symbols. For this:\r\n\r\n**IDEA** -- has a special *&quot;[Transparent native-to-ASCII conversion][1]&quot;* option (Settings &gt; File Encoding).\r\n\r\n**Eclipse** -- has a plugin *&quot;[Properties Editor][2]&quot;*. It can work as separate application.\r\n\r\n  [1]: http://www.jetbrains.com/idea/webhelp/encoding.html\r\n  [2]: http://propedit.sourceforge.jp/index_en.html","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p><code>ResourceBundle.Control</code> with UTF-8 and new String methods don't work, if the properties file uses cp1251 charset, for example. </p>\n\n<p>So I recomended using a common method: <strong>write in unicode</strong> symbols. For this:</p>\n\n<p><strong>IDEA</strong> -- has a special <em>\"<a href=\"http://www.jetbrains.com/idea/webhelp/encoding.html\" rel=\"noreferrer\">Transparent native-to-ASCII conversion</a>\"</em> option (Settings > File Encoding).</p>\n\n<p><strong>Eclipse</strong> -- has a plugin <em>\"<a href=\"http://propedit.sourceforge.jp/index_en.html\" rel=\"noreferrer\">Properties Editor</a>\"</em>. It can work as separate application.</p>\n"},{"comments":[{"owner":{"account_id":169541,"reputation":5448,"user_id":395685,"accept_rate":100,"display_name":"Nyerguds"},"score":5,"creation_date":1460631166,"post_id":17852323,"comment_id":60837606,"body_markdown":"The actual question here is about `ResourceBundle`, though.","body":"The actual question here is about <code>ResourceBundle</code>, though."},{"owner":{"account_id":4098576,"reputation":443,"user_id":3993555,"display_name":"Ilgıt Yıldırım"},"score":2,"creation_date":1463475540,"post_id":17852323,"comment_id":62068959,"body_markdown":"True, this should be accepted answer if you are using `Properties` and you would like to retrieve `UTF-8` String then this works like a charm. However for a `ResourceBundle` such as language resources then the accepted answer is elegant. Nevertheless up voted the answer.","body":"True, this should be accepted answer if you are using <code>Properties</code> and you would like to retrieve <code>UTF-8</code> String then this works like a charm. However for a <code>ResourceBundle</code> such as language resources then the accepted answer is elegant. Nevertheless up voted the answer."},{"owner":{"account_id":2087222,"reputation":8111,"user_id":1857897,"accept_rate":80,"display_name":"dedek"},"score":0,"creation_date":1554390197,"post_id":17852323,"comment_id":97743032,"body_markdown":"`ResourceBundle rb = new PropertyResourceBundle(new InputStreamReader(stream, &quot;UTF-8&quot;))`","body":"<code>ResourceBundle rb = new PropertyResourceBundle(new InputStreamReader(stream, &quot;UTF-8&quot;))</code>"},{"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"score":0,"creation_date":1595859123,"post_id":17852323,"comment_id":111612245,"body_markdown":"But how to get stream for specified language? `a.properties` is filename, while bundle name is `a`.","body":"But how to get stream for specified language? <code>a.properties</code> is filename, while bundle name is <code>a</code>."}],"tags":[],"owner":{"account_id":1542062,"reputation":8274,"user_id":1436450,"accept_rate":63,"display_name":"Chinaxing"},"comment_count":4,"down_vote_count":3,"up_vote_count":60,"is_accepted":false,"score":57,"last_activity_date":1554390328,"creation_date":1374739332,"answer_id":17852323,"question_id":4659929,"body_markdown":"look at this : http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#load(java.io.Reader)\r\n\r\nthe properties accept an **Reader** object as arguments, which you can create from an InputStream.\r\n\r\nat the create time, you can specify the encoding of the Reader:\r\n\r\n    InputStreamReader isr = new InputStreamReader(stream, &quot;UTF-8&quot;);\r\n\r\nthen apply this Reader to the load method :\r\n\r\n    prop.load(isr);\r\n\r\nBTW: get the stream from **.properties** file :\r\n\r\n     InputStream stream = this.class.getClassLoader().getResourceAsStream(&quot;a.properties&quot;);\r\n\r\nBTW: get **resource bundle** from `InputStreamReader`:\r\n\r\n    ResourceBundle rb = new PropertyResourceBundle(isr);\r\n\r\n\r\nhope this can help you !","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>look at this : <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#load(java.io.Reader)\" rel=\"noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#load(java.io.Reader)</a></p>\n\n<p>the properties accept an <strong>Reader</strong> object as arguments, which you can create from an InputStream.</p>\n\n<p>at the create time, you can specify the encoding of the Reader:</p>\n\n<pre><code>InputStreamReader isr = new InputStreamReader(stream, \"UTF-8\");\n</code></pre>\n\n<p>then apply this Reader to the load method :</p>\n\n<pre><code>prop.load(isr);\n</code></pre>\n\n<p>BTW: get the stream from <strong>.properties</strong> file :</p>\n\n<pre><code> InputStream stream = this.class.getClassLoader().getResourceAsStream(\"a.properties\");\n</code></pre>\n\n<p>BTW: get <strong>resource bundle</strong> from <code>InputStreamReader</code>:</p>\n\n<pre><code>ResourceBundle rb = new PropertyResourceBundle(isr);\n</code></pre>\n\n<p>hope this can help you !</p>\n"},{"comments":[{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1470255610,"post_id":22537607,"comment_id":64879721,"body_markdown":"This answer is useful. The core problem here with various answers seems to be a misunderstanding about data and character sets. Java can read any data (correctly) by simply specifying the character set it was stored in as shown above. UTF-8 is commonly used to support most if not every language on the planet and therefore is very much applicable to ResourceBundle based properties.","body":"This answer is useful. The core problem here with various answers seems to be a misunderstanding about data and character sets. Java can read any data (correctly) by simply specifying the character set it was stored in as shown above. UTF-8 is commonly used to support most if not every language on the planet and therefore is very much applicable to ResourceBundle based properties."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1488820086,"post_id":22537607,"comment_id":72390901,"body_markdown":"@DarrellTeague: Well, &quot;UTF-8 is commonly used to support...&quot; - there should rather be &quot;**Unicode** is commonly used to support...&quot; :) as UTF-8 is just a character encoding of the Unicode (https://en.wikipedia.org/wiki/UTF-8).","body":"@DarrellTeague: Well, &quot;UTF-8 is commonly used to support...&quot; - there should rather be &quot;<b>Unicode</b> is commonly used to support...&quot; :) as UTF-8 is just a character encoding of the Unicode (<a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/UTF-8</a>)."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1488937369,"post_id":22537607,"comment_id":72448798,"body_markdown":"Actually UTF-8 was meant to be specifically called out as &quot;the character set&quot; (versus just referencing &#39;any UniCode character set&#39;) as UTF-8 in this context (data) has predominate usage on the Internet by some measures as high as 67%. Ref: http://stackoverflow.com/questions/8509339/what-is-the-most-common-encoding-of-each-language","body":"Actually UTF-8 was meant to be specifically called out as &quot;the character set&quot; (versus just referencing &#39;any UniCode character set&#39;) as UTF-8 in this context (data) has predominate usage on the Internet by some measures as high as 67%. Ref: <a href=\"http://stackoverflow.com/questions/8509339/what-is-the-most-common-encoding-of-each-language\" title=\"what is the most common encoding of each language\">stackoverflow.com/questions/8509339/&hellip;</a>"}],"tags":[],"owner":{"account_id":170199,"reputation":7167,"user_id":396747,"accept_rate":100,"display_name":"Gary"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1395329155,"creation_date":1395329155,"answer_id":22537607,"question_id":4659929,"body_markdown":"Here&#39;s a Java 7 solution that uses Guava&#39;s excellent support library and the try-with-resources construct. It reads and writes properties files using UTF-8 for the simplest overall experience.\r\n\r\nTo read a properties file as UTF-8:\r\n\r\n    File file =  new File(&quot;/path/to/example.properties&quot;);\r\n\r\n    // Create an empty set of properties\r\n    Properties properties = new Properties();\r\n\r\n    if (file.exists()) {\r\n\r\n      // Use a UTF-8 reader from Guava\r\n      try (Reader reader = Files.newReader(file, Charsets.UTF_8)) {\r\n        properties.load(reader);\r\n      } catch (IOException e) {\r\n        // Do something\r\n      }\r\n    }\r\n\r\nTo write a properties file as UTF-8:\r\n\r\n    File file =  new File(&quot;/path/to/example.properties&quot;);\r\n\r\n    // Use a UTF-8 writer from Guava\r\n    try (Writer writer = Files.newWriter(file, Charsets.UTF_8)) {\r\n      properties.store(writer, &quot;Your title here&quot;);\r\n      writer.flush();\r\n    } catch (IOException e) {\r\n      // Do something\r\n    }\r\n","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>Here's a Java 7 solution that uses Guava's excellent support library and the try-with-resources construct. It reads and writes properties files using UTF-8 for the simplest overall experience.</p>\n\n<p>To read a properties file as UTF-8:</p>\n\n<pre><code>File file =  new File(\"/path/to/example.properties\");\n\n// Create an empty set of properties\nProperties properties = new Properties();\n\nif (file.exists()) {\n\n  // Use a UTF-8 reader from Guava\n  try (Reader reader = Files.newReader(file, Charsets.UTF_8)) {\n    properties.load(reader);\n  } catch (IOException e) {\n    // Do something\n  }\n}\n</code></pre>\n\n<p>To write a properties file as UTF-8:</p>\n\n<pre><code>File file =  new File(\"/path/to/example.properties\");\n\n// Use a UTF-8 writer from Guava\ntry (Writer writer = Files.newWriter(file, Charsets.UTF_8)) {\n  properties.store(writer, \"Your title here\");\n  writer.flush();\n} catch (IOException e) {\n  // Do something\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":0,"creation_date":1422291300,"post_id":27240945,"comment_id":44680973,"body_markdown":"+1 for mentioning `iconv`. I&#39;ve never heard of it before but I typed it into the console and lo and behold, it&#39;s a thing that exists (in CentOS 6, anyways.)","body":"+1 for mentioning <code>iconv</code>. I&#39;ve never heard of it before but I typed it into the console and lo and behold, it&#39;s a thing that exists (in CentOS 6, anyways.)"},{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":0,"creation_date":1422297374,"post_id":27240945,"comment_id":44684191,"body_markdown":"Now that I&#39;ve actually tried using it though, it didn&#39;t work: it threw up on the first character that couldn&#39;t be converted to ISO-8559-1.","body":"Now that I&#39;ve actually tried using it though, it didn&#39;t work: it threw up on the first character that couldn&#39;t be converted to ISO-8559-1."}],"tags":[],"owner":{"account_id":310601,"reputation":3703,"user_id":623678,"display_name":"Zack Bartel"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1417487712,"creation_date":1417487712,"answer_id":27240945,"question_id":4659929,"body_markdown":"For what it&#39;s worth my issue was that the files themselves were in the wrong encoding. Using iconv worked for me\r\n\r\n    iconv -f ISO-8859-15 -t UTF-8  messages_nl.properties &gt; messages_nl.properties.new","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>For what it's worth my issue was that the files themselves were in the wrong encoding. Using iconv worked for me</p>\n\n<pre><code>iconv -f ISO-8859-15 -t UTF-8  messages_nl.properties &gt; messages_nl.properties.new\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5963407,"reputation":63,"user_id":4687840,"accept_rate":17,"display_name":"Masoud"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443635283,"creation_date":1443635283,"answer_id":32872605,"question_id":4659929,"body_markdown":"As one suggested, i went through implementation of resource bundle.. but that did not help.. as the bundle was always called under en_US locale... i tried to set my default locale to a different language and still my implementation of resource bundle control was being called with en_US... i tried to put log messages and do a step through debug and see if a different local call was being made after i change locale at run time through xhtml and JSF calls... that did not happend... then i tried to do a system set default to a utf8 for reading files by my server (tomcat server).. but that caused pronlem as all my class libraries were not compiled under utf8 and tomcat started to read then in utf8 format and server was not running properly...  then i ended up with implementing a method in my java controller to be called from xhtml files.. in that method i did the following:\r\n\r\n            public String message(String key, boolean toUTF8) throws Throwable{\r\n                String result = &quot;&quot;;\r\n                try{\r\n                    FacesContext context = FacesContext.getCurrentInstance();\r\n                    String message = context.getApplication().getResourceBundle(context, &quot;messages&quot;).getString(key);\r\n\r\n                    result = message==null ? &quot;&quot; : toUTF8 ? new String(message.getBytes(&quot;iso8859-1&quot;), &quot;utf-8&quot;) : message;\r\n                }catch(Throwable t){}\r\n                return result;\r\n            }\r\n\r\nI was particularly nervous as this could slow down performance of my application... however, after implementing this, it looks like as if my application is faster now.. i think it is because, i am now directly accessing the properties instead of letting JSF parse its way into accessing properties... i specifically pass Boolean argument in this call because i know some of the properties would not be translated and do not need to be in utf8 format...\r\n\r\nNow I have saved my properties file in UTF8 format and it is working fine as each user in my application has a referent locale preference.\r\n","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>As one suggested, i went through implementation of resource bundle.. but that did not help.. as the bundle was always called under en_US locale... i tried to set my default locale to a different language and still my implementation of resource bundle control was being called with en_US... i tried to put log messages and do a step through debug and see if a different local call was being made after i change locale at run time through xhtml and JSF calls... that did not happend... then i tried to do a system set default to a utf8 for reading files by my server (tomcat server).. but that caused pronlem as all my class libraries were not compiled under utf8 and tomcat started to read then in utf8 format and server was not running properly...  then i ended up with implementing a method in my java controller to be called from xhtml files.. in that method i did the following:</p>\n\n<pre><code>        public String message(String key, boolean toUTF8) throws Throwable{\n            String result = \"\";\n            try{\n                FacesContext context = FacesContext.getCurrentInstance();\n                String message = context.getApplication().getResourceBundle(context, \"messages\").getString(key);\n\n                result = message==null ? \"\" : toUTF8 ? new String(message.getBytes(\"iso8859-1\"), \"utf-8\") : message;\n            }catch(Throwable t){}\n            return result;\n        }\n</code></pre>\n\n<p>I was particularly nervous as this could slow down performance of my application... however, after implementing this, it looks like as if my application is faster now.. i think it is because, i am now directly accessing the properties instead of letting JSF parse its way into accessing properties... i specifically pass Boolean argument in this call because i know some of the properties would not be translated and do not need to be in utf8 format...</p>\n\n<p>Now I have saved my properties file in UTF8 format and it is working fine as each user in my application has a referent locale preference.</p>\n"},{"tags":[],"owner":{"account_id":2147155,"reputation":4499,"user_id":2316433,"accept_rate":93,"display_name":"carlossierra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462405424,"creation_date":1462404927,"answer_id":37039868,"question_id":4659929,"body_markdown":"I tried to use the approach provided by Rod, but taking into consideration BalusC concern about not repeating the same work-around in all the application and came with this class:\r\n\r\n\timport java.io.UnsupportedEncodingException;\r\n\timport java.util.Locale;\r\n\timport java.util.ResourceBundle;\r\n\t\r\n\tpublic class MyResourceBundle {\r\n\t\r\n\t\t// feature variables\r\n\t    private ResourceBundle bundle;\r\n\t    private String fileEncoding;\r\n\t    \r\n\t    public MyResourceBundle(Locale locale, String fileEncoding){\r\n\t        this.bundle = ResourceBundle.getBundle(&quot;com.app.Bundle&quot;, locale);\r\n\t        this.fileEncoding = fileEncoding;\r\n\t    }\r\n\t\r\n\t    public MyResourceBundle(Locale locale){\r\n\t        this(locale, &quot;UTF-8&quot;);\r\n\t    }\r\n\r\n\t    public String getString(String key){\r\n\t    \tString value = bundle.getString(key); \r\n\t    \ttry {\r\n\t\t\t\treturn new String(value.getBytes(&quot;ISO-8859-1&quot;), fileEncoding);\r\n\t\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t    }\r\n\t}\r\n\r\nThe way to use this would be very similar than the regular ResourceBundle usage:\r\n\r\n\tprivate\tMyResourceBundle labels = new MyResourceBundle(&quot;es&quot;, &quot;UTF-8&quot;);\r\n    String label = labels.getString(key)\r\n\r\nOr you can use the alternate constructor which uses UTF-8 by default:\r\n\r\n\tprivate\tMyResourceBundle labels = new MyResourceBundle(&quot;es&quot;);","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>I tried to use the approach provided by Rod, but taking into consideration BalusC concern about not repeating the same work-around in all the application and came with this class:</p>\n\n<pre><code>import java.io.UnsupportedEncodingException;\nimport java.util.Locale;\nimport java.util.ResourceBundle;\n\npublic class MyResourceBundle {\n\n    // feature variables\n    private ResourceBundle bundle;\n    private String fileEncoding;\n\n    public MyResourceBundle(Locale locale, String fileEncoding){\n        this.bundle = ResourceBundle.getBundle(\"com.app.Bundle\", locale);\n        this.fileEncoding = fileEncoding;\n    }\n\n    public MyResourceBundle(Locale locale){\n        this(locale, \"UTF-8\");\n    }\n\n    public String getString(String key){\n        String value = bundle.getString(key); \n        try {\n            return new String(value.getBytes(\"ISO-8859-1\"), fileEncoding);\n        } catch (UnsupportedEncodingException e) {\n            return value;\n        }\n    }\n}\n</code></pre>\n\n<p>The way to use this would be very similar than the regular ResourceBundle usage:</p>\n\n<pre><code>private MyResourceBundle labels = new MyResourceBundle(\"es\", \"UTF-8\");\nString label = labels.getString(key)\n</code></pre>\n\n<p>Or you can use the alternate constructor which uses UTF-8 by default:</p>\n\n<pre><code>private MyResourceBundle labels = new MyResourceBundle(\"es\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9356519,"reputation":61,"user_id":6944375,"display_name":"Вассесуарий Пупочкин"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501492415,"creation_date":1501492415,"answer_id":45411786,"question_id":4659929,"body_markdown":"    Properties prop = new Properties();\r\n    String fileName = &quot;./src/test/resources/predefined.properties&quot;;\r\n    FileInputStream inputStream = new FileInputStream(fileName);\r\n    InputStreamReader reader = new InputStreamReader(inputStream,&quot;UTF-8&quot;);","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<pre><code>Properties prop = new Properties();\nString fileName = \"./src/test/resources/predefined.properties\";\nFileInputStream inputStream = new FileInputStream(fileName);\nInputStreamReader reader = new InputStreamReader(inputStream,\"UTF-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":594316,"reputation":3088,"user_id":1737590,"accept_rate":60,"display_name":"stenix"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1510565326,"creation_date":1508915096,"answer_id":46926020,"question_id":4659929,"body_markdown":"This problem has finally been fixed in Java 9:\r\n[https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9][1]\r\n\r\nDefault encoding for properties files is now UTF-8.\r\n\r\n&gt; Most existing properties files should not be affected: UTF-8 and\r\n&gt; ISO-8859-1 have the same encoding for ASCII characters, and\r\n&gt; human-readable non-ASCII ISO-8859-1 encoding is not valid UTF-8. If an\r\n&gt; invalid UTF-8 byte sequence is detected, the Java runtime\r\n&gt; automatically rereads the file in ISO-8859-1.\r\n\r\n  [1]: https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-5ED91AA9-B2E3-4E05-8E99-6A009D2B36AF","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>This problem has finally been fixed in Java 9:\n<a href=\"https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-5ED91AA9-B2E3-4E05-8E99-6A009D2B36AF\" rel=\"noreferrer\">https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9</a></p>\n\n<p>Default encoding for properties files is now UTF-8.</p>\n\n<blockquote>\n  <p>Most existing properties files should not be affected: UTF-8 and\n  ISO-8859-1 have the same encoding for ASCII characters, and\n  human-readable non-ASCII ISO-8859-1 encoding is not valid UTF-8. If an\n  invalid UTF-8 byte sequence is detected, the Java runtime\n  automatically rereads the file in ISO-8859-1.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10134957,"reputation":79,"user_id":7486867,"display_name":"Юра Чорнота"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1523551622,"creation_date":1523540321,"answer_id":49798091,"question_id":4659929,"body_markdown":"Open the Settings / Preferences dialog (&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;S&lt;/kbd&gt;), then click Editor and File Encodings.\r\n\r\n![Screenshot of window shown][1]\r\n\r\n\r\nThen, on the bottom, you will fing default encodings for properties files. Choose your encoding type.\r\n\r\nAlternatively you can use unicode symbols instead of text in your resource bundle (for example `&quot;ів&quot;` equals `\\u0456\\u0432`)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NLXei.png","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>Open the Settings / Preferences dialog (<kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>S</kbd>), then click Editor and File Encodings.</p>\n\n<p><img src=\"https://i.stack.imgur.com/NLXei.png\" alt=\"Screenshot of window shown\"></p>\n\n<p>Then, on the bottom, you will fing default encodings for properties files. Choose your encoding type.</p>\n\n<p>Alternatively you can use unicode symbols instead of text in your resource bundle (for example <code>\"ів\"</code> equals <code>\\u0456\\u0432</code>)</p>\n"},{"tags":[],"owner":{"account_id":1247468,"reputation":2031,"user_id":1208622,"accept_rate":59,"display_name":"Fran Garc&#237;a"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591808250,"creation_date":1591808250,"answer_id":62309021,"question_id":4659929,"body_markdown":"From Java 9, the default to load properties file has been changed to UTF-8. https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>From Java 9, the default to load properties file has been changed to UTF-8. <a href=\"https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm</a></p>\n"},{"tags":[],"owner":{"account_id":1605316,"reputation":8784,"user_id":1485527,"accept_rate":100,"display_name":"jschnasse"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613472690,"creation_date":1613464703,"answer_id":66221046,"question_id":4659929,"body_markdown":"Speaking for current (2021-2) Java versions there is still the old ISO-8859-1 function [utils.Properties#load](https://github.com/openjdk/jdk/blob/aa9c136d67a32cebcdf031f50d8d5cccdd354bed/src/java.base/share/classes/java/util/Properties.java#L514). \r\n\r\n- **If you use [Properties.load](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)) you must use ISO-8859-1.** \r\n- **If you use [ResourceBundle](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/PropertyResourceBundle.html) than UTF-8 should be fine.**\r\n\r\nAllow me to quote from the official doc.\r\n\r\n**PropertyResourceBundle**\r\n\r\n&gt;PropertyResourceBundle can be constructed either from an InputStream or a Reader, which represents a property file. Constructing a PropertyResourceBundle instance from an InputStream requires that the input stream be encoded in UTF-8. By default, if a MalformedInputException or an UnmappableCharacterException occurs on reading the input stream, then the PropertyResourceBundle instance resets to the state before the exception, re-reads the input stream in ISO-8859-1, and continues reading. **If the system property java.util.PropertyResourceBundle.encoding is set to either &quot;ISO-8859-1&quot; or &quot;UTF-8&quot;, the input stream is solely read in that encoding, and throws the exception if it encounters an invalid sequence**. If &quot;ISO-8859-1&quot; is specified, characters that cannot be represented in ISO-8859-1 encoding must be represented by Unicode Escapes as defined in section 3.3 of The Java™ Language Specification whereas the other constructor which takes a Reader does not have that limitation. Other encoding values are ignored for this system property. The system property is read and evaluated when initializing this class. Changing or removing the property has no effect after the initialization.\r\n\r\nhttps://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/PropertyResourceBundle.html\r\n\r\n**Properties#load**\r\n&gt; Reads a property list (key and element pairs) from the input byte stream. The input stream is in a simple line-oriented format as specified in load(Reader) and is assumed to use the ISO 8859-1 character encoding; that is each byte is one Latin1 character. Characters not in Latin1, and certain special characters, are represented in keys and elements using Unicode escapes as defined in section 3.3 of The Java™ Language Specification.\r\n\r\nhttps://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>Speaking for current (2021-2) Java versions there is still the old ISO-8859-1 function <a href=\"https://github.com/openjdk/jdk/blob/aa9c136d67a32cebcdf031f50d8d5cccdd354bed/src/java.base/share/classes/java/util/Properties.java#L514\" rel=\"nofollow noreferrer\">utils.Properties#load</a>.</p>\n<ul>\n<li><strong>If you use <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)\" rel=\"nofollow noreferrer\">Properties.load</a> you must use ISO-8859-1.</strong></li>\n<li><strong>If you use <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/PropertyResourceBundle.html\" rel=\"nofollow noreferrer\">ResourceBundle</a> than UTF-8 should be fine.</strong></li>\n</ul>\n<p>Allow me to quote from the official doc.</p>\n<p><strong>PropertyResourceBundle</strong></p>\n<blockquote>\n<p>PropertyResourceBundle can be constructed either from an InputStream or a Reader, which represents a property file. Constructing a PropertyResourceBundle instance from an InputStream requires that the input stream be encoded in UTF-8. By default, if a MalformedInputException or an UnmappableCharacterException occurs on reading the input stream, then the PropertyResourceBundle instance resets to the state before the exception, re-reads the input stream in ISO-8859-1, and continues reading. <strong>If the system property java.util.PropertyResourceBundle.encoding is set to either &quot;ISO-8859-1&quot; or &quot;UTF-8&quot;, the input stream is solely read in that encoding, and throws the exception if it encounters an invalid sequence</strong>. If &quot;ISO-8859-1&quot; is specified, characters that cannot be represented in ISO-8859-1 encoding must be represented by Unicode Escapes as defined in section 3.3 of The Java™ Language Specification whereas the other constructor which takes a Reader does not have that limitation. Other encoding values are ignored for this system property. The system property is read and evaluated when initializing this class. Changing or removing the property has no effect after the initialization.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/PropertyResourceBundle.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/PropertyResourceBundle.html</a></p>\n<p><strong>Properties#load</strong></p>\n<blockquote>\n<p>Reads a property list (key and element pairs) from the input byte stream. The input stream is in a simple line-oriented format as specified in load(Reader) and is assumed to use the ISO 8859-1 character encoding; that is each byte is one Latin1 character. Characters not in Latin1, and certain special characters, are represented in keys and elements using Unicode escapes as defined in section 3.3 of The Java™ Language Specification.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)</a></p>\n"}],"owner":{"account_id":693573,"reputation":2981,"user_id":571538,"display_name":"nacho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280565,"favorite_count":0,"down_vote_count":0,"up_vote_count":298,"answer_count":17,"score":298,"last_activity_date":1696261107,"creation_date":1294763278,"question_id":4659929,"body_markdown":"I need to use UTF-8 in my resource properties using Java&#39;s `ResourceBundle`. When I enter the text directly into the properties file, it displays as mojibake.\r\n\r\nMy app runs on Google App Engine.\r\n\r\nCan anyone give me an example? I can&#39;t get this work.","title":"How to use UTF-8 in resource properties with ResourceBundle","body":"<p>I need to use UTF-8 in my resource properties using Java's <code>ResourceBundle</code>. When I enter the text directly into the properties file, it displays as mojibake.</p>\n\n<p>My app runs on Google App Engine.</p>\n\n<p>Can anyone give me an example? I can't get this work.</p>\n"},{"tags":["java","javascript","ajax","jsp","struts2"],"answers":[{"comments":[{"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"score":0,"creation_date":1389083279,"post_id":20966968,"comment_id":31497442,"body_markdown":"I checked my code in that I don&#39;t put the &#39;,&#39;  at the end, still it gives the error. Is it sure that id.circleId: circleId works? Is struts able to pick getters even in AJAX?","body":"I checked my code in that I don&#39;t put the &#39;,&#39;  at the end, still it gives the error. Is it sure that id.circleId: circleId works? Is struts able to pick getters even in AJAX?"},{"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"score":0,"creation_date":1389083904,"post_id":20966968,"comment_id":31497708,"body_markdown":"And as the error says &#39;missing :(colon) at id.cricleId: circleId&#39; after id. So it expects a colon after id. So does id.anthying: xyz actually work?","body":"And as the error says &#39;missing :(colon) at id.cricleId: circleId&#39; after id. So it expects a colon after id. So does id.anthying: xyz actually work?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1389084146,"post_id":20966968,"comment_id":31497799,"body_markdown":"`id.circleId` should be in quotes, without it such name is invalid.","body":"<code>id.circleId</code> should be in quotes, without it such name is invalid."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617335798,"creation_date":1389083062,"answer_id":20966968,"question_id":20965826,"body_markdown":"\r\n\r\n&gt; Why is it giving an error in Firebug?\r\n\r\nBecause you have a trailing comma at the statement below\r\n\r\n    minDurationOc: $(&quot;[name=&#39;minDurationOc&#39;]&quot;).val(),","title":"Access POJO properties using ModelDriven in Struts 2?","body":"<blockquote>\n<p>Why is it giving an error in Firebug?</p>\n</blockquote>\n<p>Because you have a trailing comma at the statement below</p>\n<pre><code>minDurationOc: $(&quot;[name='minDurationOc']&quot;).val(),\n</code></pre>\n"}],"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696260999,"creation_date":1389078324,"question_id":20965826,"body_markdown":"I am using `ModelDriven` in Struts 2 such that my model object has inside itself another object with properties. I am doing an AJAX call and want my model object to be filled by the `User`.\r\n\r\n**JSP:**\r\n\r\n    &lt;s:select list=&quot;#session.circleIdNameMap&quot;\r\n      headerKey=&quot;-1&quot; headerValue=&quot;Select Circle&quot;\r\n      name=&quot;id.circleId&quot; id=&quot;selectCircleDropDown&quot;\r\n      onchange=&quot;findTspNameIdMap(this.value)&quot;&gt;\r\n    &lt;/s:select&gt;\r\n\r\n**JS:**\r\n   \r\n\r\n     $.ajax({\t\r\n\t\ttype: &#39;POST&#39;,\r\n\t\turl: &#39;/gma/findTspNameIdMap.action&#39;,\r\n\t\tdata: \r\n\t\t{ \r\n\t\t\tid.circleId: circleId,\r\n\t\t    minNumberOc: $(&quot;[name=&#39;minNumberOc&#39;]&quot;).val(),\r\n\t\t    minDurationOc: $(&quot;[name=&#39;minDurationOc&#39;]&quot;).val(),\r\n\t\t},\r\n\r\nHowever, here in firebug I get an error \r\n\r\n    SyntaxError: missing : after property id\r\n    id.circleId: circleId,\t\r\n but other direct propeties like `minNumberOc` work ok but not `id.anything`. I am posting my model object and the Action class.\r\n\r\n**GmaThresholdParameter:**\r\n\r\n    public class GmaThresholdParameter implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@EmbeddedId\r\n    \tprivate GmaThresholdParameterPK id;\r\n       //getter/setters of id\r\n\r\n**GmaThresholdParameterPK:**\r\n\r\n    public class GmaThresholdParameterPK implements Serializable {\r\n \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Column(name=&quot;CIRCLE_ID&quot;)\r\n    \tprivate int circleId;\r\n    \r\n    \t@Column(name=&quot;TSP_ID&quot;)\r\n    \tprivate int tspId;\r\n    \r\n    \tprivate String flag;\r\n       //getter/setters\r\n\r\n**Action class:**\r\n\r\n    public class ConfigureTspThresholdAction extends ActionSupport implements SessionAware, ModelDriven&lt;GmaThresholdParameter&gt;{\r\n    \r\n    \tprivate Map&lt;String,String&gt; circleIdNameMap;\r\n    // MODEL object\r\n    \tGmaThresholdParameter gmaThresholdParameters = new GmaThresholdParameter();\r\n       .....\r\n       ...\r\n       public GmaThresholdParameter getGmaThresholdParameters() {\r\n\t\treturn gmaThresholdParameters;\r\n\t}\r\n\r\n\r\n\tpublic void setGmaThresholdParameters(\r\n\t\t\tGmaThresholdParameter gmaThresholdParameters) {\r\n\t\tthis.gmaThresholdParameters = gmaThresholdParameters;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic GmaThresholdParameter getModel() {\r\n\t\treturn gmaThresholdParameters;\r\n\t} \r\n\r\nHow to set properties corresponding to `id`? Why is it giving an error in Firebug?\r\n","title":"Access POJO properties using ModelDriven in Struts 2?","body":"<p>I am using <code>ModelDriven</code> in Struts 2 such that my model object has inside itself another object with properties. I am doing an AJAX call and want my model object to be filled by the <code>User</code>.</p>\n<p><strong>JSP:</strong></p>\n<pre><code>&lt;s:select list=&quot;#session.circleIdNameMap&quot;\n  headerKey=&quot;-1&quot; headerValue=&quot;Select Circle&quot;\n  name=&quot;id.circleId&quot; id=&quot;selectCircleDropDown&quot;\n  onchange=&quot;findTspNameIdMap(this.value)&quot;&gt;\n&lt;/s:select&gt;\n</code></pre>\n<p><strong>JS:</strong></p>\n<pre><code> $.ajax({   \n    type: 'POST',\n    url: '/gma/findTspNameIdMap.action',\n    data: \n    { \n        id.circleId: circleId,\n        minNumberOc: $(&quot;[name='minNumberOc']&quot;).val(),\n        minDurationOc: $(&quot;[name='minDurationOc']&quot;).val(),\n    },\n</code></pre>\n<p>However, here in firebug I get an error</p>\n<pre><code>SyntaxError: missing : after property id\nid.circleId: circleId,  \n</code></pre>\n<p>but other direct propeties like <code>minNumberOc</code> work ok but not <code>id.anything</code>. I am posting my model object and the Action class.</p>\n<p><strong>GmaThresholdParameter:</strong></p>\n<pre><code>public class GmaThresholdParameter implements Serializable {\n    private static final long serialVersionUID = 1L;\n    \n    @EmbeddedId\n    private GmaThresholdParameterPK id;\n   //getter/setters of id\n</code></pre>\n<p><strong>GmaThresholdParameterPK:</strong></p>\n<pre><code>public class GmaThresholdParameterPK implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Column(name=&quot;CIRCLE_ID&quot;)\n    private int circleId;\n\n    @Column(name=&quot;TSP_ID&quot;)\n    private int tspId;\n\n    private String flag;\n   //getter/setters\n</code></pre>\n<p><strong>Action class:</strong></p>\n<pre><code>public class ConfigureTspThresholdAction extends ActionSupport implements SessionAware, ModelDriven&lt;GmaThresholdParameter&gt;{\n\n    private Map&lt;String,String&gt; circleIdNameMap;\n// MODEL object\n    GmaThresholdParameter gmaThresholdParameters = new GmaThresholdParameter();\n   .....\n   ...\n   public GmaThresholdParameter getGmaThresholdParameters() {\n    return gmaThresholdParameters;\n}\n\n\npublic void setGmaThresholdParameters(\n        GmaThresholdParameter gmaThresholdParameters) {\n    this.gmaThresholdParameters = gmaThresholdParameters;\n}\n\n@Override\npublic GmaThresholdParameter getModel() {\n    return gmaThresholdParameters;\n} \n</code></pre>\n<p>How to set properties corresponding to <code>id</code>? Why is it giving an error in Firebug?</p>\n"},{"tags":["java","spring","activemq"],"answers":[{"tags":[],"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581980310,"creation_date":1581980310,"answer_id":60271522,"question_id":60271305,"body_markdown":"ActiveMQ 5.x creates Queues on demand by default so you may have changed the default configuration to disallow this in which case the error should be expected to happen if you are hitting a non-existent queue and you should check for and handle that.  If you need to be sure then the broker provides a [JMX][1] interface to query for information on broker statistics etc.  There are also other ways of [monitoring][2] such as using Rest style calls over the Jolokia management interface.\r\n\r\n\r\n  [1]: https://activemq.apache.org/jmx\r\n  [2]: https://","title":"How can I check if a queue exists on ActivemQ &quot;Classic&quot;?","body":"<p>ActiveMQ 5.x creates Queues on demand by default so you may have changed the default configuration to disallow this in which case the error should be expected to happen if you are hitting a non-existent queue and you should check for and handle that.  If you need to be sure then the broker provides a <a href=\"https://activemq.apache.org/jmx\" rel=\"nofollow noreferrer\">JMX</a> interface to query for information on broker statistics etc.  There are also other ways of monitoring such as using Rest style calls over the Jolokia management interface.</p>\n"},{"comments":[{"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"score":0,"creation_date":1582062478,"post_id":60287432,"comment_id":106645782,"body_markdown":"There are several reasons to not rely on this mechanism first and foremost being that it fails if any disables advisory support on the broker.  Also you need to check many times before assuming that the queue doesn&#39;t exist here as the population of the source is not immediate.","body":"There are several reasons to not rely on this mechanism first and foremost being that it fails if any disables advisory support on the broker.  Also you need to check many times before assuming that the queue doesn&#39;t exist here as the population of the source is not immediate."}],"tags":[],"owner":{"account_id":17785257,"reputation":27,"user_id":12915503,"display_name":"Karenloh"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696260772,"creation_date":1582051037,"answer_id":60287432,"question_id":60271305,"body_markdown":"I solved it with this:\r\n```java\r\npublic boolean existDataQueue(String dataQueue) throws JMSException {\r\n  \tboolean response = false;\r\n    ActiveMQConnectionFactory activeMQConnectionFactory =\r\n        new ActiveMQConnectionFactory();\r\n    activeMQConnectionFactory.setBrokerURL(brokerUrl);\r\n    ActiveMQConnection connection = (ActiveMQConnection)activeMQConnectionFactory.createConnection();\r\n\r\n    connection.start();\r\n\r\n    DestinationSource ds = connection.getDestinationSource();\r\n\r\n    Set&lt;ActiveMQQueue&gt; queues = ds.getQueues();\r\n\r\n    for (ActiveMQQueue activeMQQueue : queues) {\r\n        try {\r\n        \tif(activeMQQueue.getQueueName().equalsIgnoreCase(dataQueue)) {\r\n        \t\tresponse = true;\r\n        \t}\r\n        } catch (JMSException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    connection.close();\r\n    return response;\r\n}\r\n```","title":"How can I check if a queue exists on ActivemQ &quot;Classic&quot;?","body":"<p>I solved it with this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean existDataQueue(String dataQueue) throws JMSException {\n    boolean response = false;\n    ActiveMQConnectionFactory activeMQConnectionFactory =\n        new ActiveMQConnectionFactory();\n    activeMQConnectionFactory.setBrokerURL(brokerUrl);\n    ActiveMQConnection connection = (ActiveMQConnection)activeMQConnectionFactory.createConnection();\n\n    connection.start();\n\n    DestinationSource ds = connection.getDestinationSource();\n\n    Set&lt;ActiveMQQueue&gt; queues = ds.getQueues();\n\n    for (ActiveMQQueue activeMQQueue : queues) {\n        try {\n            if(activeMQQueue.getQueueName().equalsIgnoreCase(dataQueue)) {\n                response = true;\n            }\n        } catch (JMSException e) {\n            e.printStackTrace();\n        }\n    }\n    connection.close();\n    return response;\n}\n</code></pre>\n"}],"owner":{"account_id":17785257,"reputation":27,"user_id":12915503,"display_name":"Karenloh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1779,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696260818,"creation_date":1581978890,"question_id":60271305,"body_markdown":"I have this method that throws me an exception when the data queue doesn&#39;t exists, but is not. Do you have other way to solve this?\r\n\r\n```java\r\npublic void checkDataQueue(String dataQueue) throws JMSException {\r\n    Connection connection = null;\r\n    Session session = null;\r\n    connection = jmsTemplate.getConnectionFactory().createConnection();\r\n    session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\r\n    Queue queue = session.createQueue(dataQueue);\r\n    QueueBrowser browser = session.createBrowser(queue);\r\n}\r\n```","title":"How can I check if a queue exists on ActivemQ &quot;Classic&quot;?","body":"<p>I have this method that throws me an exception when the data queue doesn't exists, but is not. Do you have other way to solve this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void checkDataQueue(String dataQueue) throws JMSException {\n    Connection connection = null;\n    Session session = null;\n    connection = jmsTemplate.getConnectionFactory().createConnection();\n    session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n\n    Queue queue = session.createQueue(dataQueue);\n    QueueBrowser browser = session.createBrowser(queue);\n}\n</code></pre>\n"},{"tags":["java","canvas","playwright","autotest"],"comments":[{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":1,"creation_date":1695787450,"post_id":77184584,"comment_id":136069478,"body_markdown":"&quot;It can&#39;t trigger a event that happened on a button or a table line&quot; -- what does this mean? Canvases don&#39;t have buttons or table lines, just pixels. I assume the default click will occur right in the middle of the canvas. If you want to add an offset, please provide a relevant sample canvas and explain what the logic is for where the buttons/&quot;table lines&quot; might appear, assuming they&#39;re on the canvas, where you need to click, and attempted Puppeteer code as a [mcve] so we have something to work from. Thanks.","body":"&quot;It can&#39;t trigger a event that happened on a button or a table line&quot; -- what does this mean? Canvases don&#39;t have buttons or table lines, just pixels. I assume the default click will occur right in the middle of the canvas. If you want to add an offset, please provide a relevant sample canvas and explain what the logic is for where the buttons/&quot;table lines&quot; might appear, assuming they&#39;re on the canvas, where you need to click, and attempted Puppeteer code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we have something to work from. Thanks."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695804456,"post_id":77184584,"comment_id":136071817,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":25425001,"reputation":1,"user_id":19230302,"display_name":"polar bear"},"score":0,"creation_date":1696663979,"post_id":77216768,"comment_id":136184899,"body_markdown":"Thank you very much. I think it can work. I have tried, but meet a error. There are four canvas in this page. I guess the selector is confusing. How can I change the parameter to locate the only one canvas which I want?","body":"Thank you very much. I think it can work. I have tried, but meet a error. There are four canvas in this page. I guess the selector is confusing. How can I change the parameter to locate the only one canvas which I want?"},{"owner":{"account_id":25425001,"reputation":1,"user_id":19230302,"display_name":"polar bear"},"score":0,"creation_date":1696663996,"post_id":77216768,"comment_id":136184900,"body_markdown":"`com.microsoft.playwright.PlaywrightException: Error {\n  message=&#39;Error: strict mode violation: &quot;canvas&quot; resolved to 4 elements:\n    1) &lt;canvas width=&quot;2560&quot; tabindex=&quot;1&quot; height=&quot;1225&quot; data-id=…&gt;&lt;/canvas&gt; aka playwright.$(&quot;canvas&quot;)\n    2) &lt;canvas width=&quot;2560&quot; height=&quot;1225&quot; class=&quot;webswing-canva…&gt;&lt;/canvas&gt; aka playwright.$(&quot;:nth-match(canvas, 2)&quot;)\n    3) &lt;canvas width=&quot;2566&quot; height=&quot;1205&quot; tabindex=&quot;-1&quot; data-id…&gt;&lt;/canvas&gt; aka playwright.$(&quot;#wrapper-1750286943 canvas&quot;)\n    4) &lt;canvas width=&quot;2566&quot; tabindex=&quot;0&quot; height=&quot;1205&quot; data-id=…&gt;&lt;/canvas&gt; aka playwright.$(&quot;:nth-match(canvas, 4)&quot;)`","body":"<code>com.microsoft.playwright.PlaywrightException: Error {   message=&#39;Error: strict mode violation: &quot;canvas&quot; resolved to 4 elements:     1) &lt;canvas width=&quot;2560&quot; tabindex=&quot;1&quot; height=&quot;1225&quot; data-id=…&gt;&lt;&#47;canvas&gt; aka playwright.$(&quot;canvas&quot;)     2) &lt;canvas width=&quot;2560&quot; height=&quot;1225&quot; class=&quot;webswing-canva…&gt;&lt;&#47;canvas&gt; aka playwright.$(&quot;:nth-match(canvas, 2)&quot;)     3) &lt;canvas width=&quot;2566&quot; height=&quot;1205&quot; tabindex=&quot;-1&quot; data-id…&gt;&lt;&#47;canvas&gt; aka playwright.$(&quot;#wrapper-1750286943 canvas&quot;)     4) &lt;canvas width=&quot;2566&quot; tabindex=&quot;0&quot; height=&quot;1205&quot; data-id=…&gt;&lt;&#47;canvas&gt; aka playwright.$(&quot;:nth-match(canvas, 4)&quot;)</code>"},{"owner":{"account_id":442966,"reputation":1244,"user_id":833910,"accept_rate":40,"display_name":"moefinley"},"score":0,"creation_date":1697445853,"post_id":77216768,"comment_id":136276231,"body_markdown":"You can make your selector more specific (I&#39;d need to see the HTML you were targeting to help you with that) or you can simply use `page.locator.nth(4)` to get a single element from the multiple your selector returned.","body":"You can make your selector more specific (I&#39;d need to see the HTML you were targeting to help you with that) or you can simply use <code>page.locator.nth(4)</code> to get a single element from the multiple your selector returned."}],"tags":[],"owner":{"account_id":442966,"reputation":1244,"user_id":833910,"accept_rate":40,"display_name":"moefinley"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696260797,"creation_date":1696260797,"answer_id":77216768,"question_id":77184584,"body_markdown":"You can provide X Y coordinates with the options object of the click action.\r\n```typescript\r\nawait page.locator(&#39;canvas&#39;).click({\r\n  button: &#39;right&#39;,\r\n  modifiers: [&#39;Shift&#39;],\r\n  position: { x: 23, y: 32 },\r\n});\r\n```\r\nhttps://playwright.dev/docs/api/class-locator#locator-click","title":"How to use Playwright to simulate the click event on a canvas element?","body":"<p>You can provide X Y coordinates with the options object of the click action.</p>\n<pre class=\"lang-js prettyprint-override\"><code>await page.locator('canvas').click({\n  button: 'right',\n  modifiers: ['Shift'],\n  position: { x: 23, y: 32 },\n});\n</code></pre>\n<p><a href=\"https://playwright.dev/docs/api/class-locator#locator-click\" rel=\"nofollow noreferrer\">https://playwright.dev/docs/api/class-locator#locator-click</a></p>\n"}],"owner":{"account_id":25425001,"reputation":1,"user_id":19230302,"display_name":"polar bear"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696260797,"creation_date":1695786661,"question_id":77184584,"body_markdown":"When click everywhere on the canvas, the Playwright Inspector generates the same code: \r\n```\r\npage.click(&quot;:nth-match(canvas, 4)&quot;);\r\n```\r\n\r\nIt can&#39;t trigger a event that happened on a button or a table line. Anybody could give me a solution to work out a automated test script on canvas?\r\n","title":"How to use Playwright to simulate the click event on a canvas element?","body":"<p>When click everywhere on the canvas, the Playwright Inspector generates the same code:</p>\n<pre><code>page.click(&quot;:nth-match(canvas, 4)&quot;);\n</code></pre>\n<p>It can't trigger a event that happened on a button or a table line. Anybody could give me a solution to work out a automated test script on canvas?</p>\n"},{"tags":["java","ajax","jsp","struts2","jquery-validation-engine"],"answers":[{"comments":[{"owner":{"account_id":3195448,"reputation":31,"user_id":2698709,"accept_rate":75,"display_name":"vikramjit_S"},"score":0,"creation_date":1378444884,"post_id":18636659,"comment_id":27462376,"body_markdown":"hi, thats just the thing i dont understand, the struts action class (called on form submit) is working perfectly (once i remove the ajax validators of course otherwise the form wont submit), only the ajaxFormValidationURL and the ajax call from jquery.validationEngine-en.js arent working","body":"hi, thats just the thing i dont understand, the struts action class (called on form submit) is working perfectly (once i remove the ajax validators of course otherwise the form wont submit), only the ajaxFormValidationURL and the ajax call from jquery.validationEngine-en.js arent working"},{"owner":{"account_id":3195448,"reputation":31,"user_id":2698709,"accept_rate":75,"display_name":"vikramjit_S"},"score":0,"creation_date":1378456218,"post_id":18636659,"comment_id":27467019,"body_markdown":"thanks, this works perfectly! but the last name text field uses an ajax validation as well from the `ajax[ajaxStrutsCall]` this calls the rule from the jquery.validationEngine-en.js file which holds the url, and i cant use struts tags there :/ (see my question for edit)","body":"thanks, this works perfectly! but the last name text field uses an ajax validation as well from the <code>ajax[ajaxStrutsCall]</code> this calls the rule from the jquery.validationEngine-en.js file which holds the url, and i cant use struts tags there :/ (see my question for edit)"},{"owner":{"account_id":3195448,"reputation":31,"user_id":2698709,"accept_rate":75,"display_name":"vikramjit_S"},"score":0,"creation_date":1378456348,"post_id":18636659,"comment_id":27467083,"body_markdown":"also i dont understand why this happens, i dont need to use the url tag for the `action` attribute mapped in the form but i do for the rest. when i specify the class in struts.xml, shouldnt i be able to call it from anywhere i want to?","body":"also i dont understand why this happens, i dont need to use the url tag for the <code>action</code> attribute mapped in the form but i do for the rest. when i specify the class in struts.xml, shouldnt i be able to call it from anywhere i want to?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1378457628,"post_id":18636659,"comment_id":27467700,"body_markdown":"because js is not compilable code, the last question is not clear, what do you mean &quot;from anywhere&quot;?","body":"because js is not compilable code, the last question is not clear, what do you mean &quot;from anywhere&quot;?"},{"owner":{"account_id":3195448,"reputation":31,"user_id":2698709,"accept_rate":75,"display_name":"vikramjit_S"},"score":0,"creation_date":1378458988,"post_id":18636659,"comment_id":27468405,"body_markdown":"my last two questions are unrelated, 1) how do i set the url in `jquery.validationEngine-en.js`? 2) the struts action `submitForm` in `strutsaction` package can be called by the form in page1, whether page1 is in the `pages/` folder or the `WebContent` folder, why is it not the same for the ajax urls?","body":"my last two questions are unrelated, 1) how do i set the url in <code>jquery.validationEngine-en.js</code>? 2) the struts action <code>submitForm</code> in <code>strutsaction</code> package can be called by the form in page1, whether page1 is in the <code>pages&#47;</code> folder or the <code>WebContent</code> folder, why is it not the same for the ajax urls?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1378462703,"post_id":18636659,"comment_id":27470390,"body_markdown":"1) It will get from parameter of `validationEngine` function. 2) Because first it calls ajax url to validate the form, then used the form url to submit it.","body":"1) It will get from parameter of <code>validationEngine</code> function. 2) Because first it calls ajax url to validate the form, then used the form url to submit it."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1378464001,"post_id":18636659,"comment_id":27471078,"body_markdown":"`validateEngine` is a javascript function, which accept parameters, the second parameter is array with properties one of them is `ajaxFormValidationURL` that has a value of url generated by the struts tag prior the function is called.","body":"<code>validateEngine</code> is a javascript function, which accept parameters, the second parameter is array with properties one of them is <code>ajaxFormValidationURL</code> that has a value of url generated by the struts tag prior the function is called."},{"owner":{"account_id":3195448,"reputation":31,"user_id":2698709,"accept_rate":75,"display_name":"vikramjit_S"},"score":0,"creation_date":1378465074,"post_id":18636659,"comment_id":27471606,"body_markdown":"sure that i got, ajaxFormValidationURL is now working with `&lt;s:url&gt;`. but the other ajax call in the last name input tag `&lt;input id = &quot;txtlname&quot; name = &quot;txtlname&quot; type = &quot;text&quot; placeholder = &quot;enter emp lname&quot; class = &quot;validate[required, ajax[ajaxStrutsCall]]&quot; /&gt;` also uses ajax validation which is called from the `jquery.validationEngine-en.js` file, where i cant use tags.","body":"sure that i got, ajaxFormValidationURL is now working with <code>&lt;s:url&gt;</code>. but the other ajax call in the last name input tag <code>&lt;input id = &quot;txtlname&quot; name = &quot;txtlname&quot; type = &quot;text&quot; placeholder = &quot;enter emp lname&quot; class = &quot;validate[required, ajax[ajaxStrutsCall]]&quot; &#47;&gt;</code> also uses ajax validation which is called from the <code>jquery.validationEngine-en.js</code> file, where i cant use tags."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1378466386,"post_id":18636659,"comment_id":27472309,"body_markdown":"the validation is made via one ajax call per validation, with all input fields.","body":"the validation is made via one ajax call per validation, with all input fields."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378462898,"creation_date":1378384943,"answer_id":18636659,"question_id":18635934,"body_markdown":"To submit to the action, needs to put the action URL. Using Struts tags requires taglib definition\r\n\r\n    &lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&gt;\r\n\r\nchange the form tag to \r\n\r\n    &lt;form id=&quot;subform&quot; action=&quot;&lt;s:url action=&#39;submitForm&#39;/&gt;&quot; method=&quot;POST&quot;&gt;\r\n\r\nthe same you should write to get the url for the validation URL\r\n\r\n    ajaxFormValidationURL : &#39;&lt;s:url namespace=&quot;/ajaxVal&quot; action=&quot;FormVal&quot;/&gt;&#39;,\r\n\r\nremember always use URL tag to render URLs.","title":"jQuery validation engine in Struts 2 not working","body":"<p>To submit to the action, needs to put the action URL. Using Struts tags requires taglib definition</p>\n\n<pre><code>&lt;%@ taglib prefix=\"s\" uri=\"/struts-tags\" %&gt;\n</code></pre>\n\n<p>change the form tag to </p>\n\n<pre><code>&lt;form id=\"subform\" action=\"&lt;s:url action='submitForm'/&gt;\" method=\"POST\"&gt;\n</code></pre>\n\n<p>the same you should write to get the url for the validation URL</p>\n\n<pre><code>ajaxFormValidationURL : '&lt;s:url namespace=\"/ajaxVal\" action=\"FormVal\"/&gt;',\n</code></pre>\n\n<p>remember always use URL tag to render URLs.</p>\n"},{"comments":[{"owner":{"account_id":3195448,"reputation":31,"user_id":2698709,"accept_rate":75,"display_name":"vikramjit_S"},"score":0,"creation_date":1378444947,"post_id":18637739,"comment_id":27462387,"body_markdown":"i tried &lt;s:url namespace =&#39;/ajaxVal&#39; action = &#39;FormVal&#39; /&gt; but it gave me this error in firebug: SyntaxError: invalid regular expression flag a\najaxFormValidationURL : /AjaxTest/ajaxVal/FormVal.action","body":"i tried &lt;s:url namespace =&#39;/ajaxVal&#39; action = &#39;FormVal&#39; /&gt; but it gave me this error in firebug: SyntaxError: invalid regular expression flag a ajaxFormValidationURL : /AjaxTest/ajaxVal/FormVal.action"},{"owner":{"account_id":3195448,"reputation":31,"user_id":2698709,"accept_rate":75,"display_name":"vikramjit_S"},"score":0,"creation_date":1378445167,"post_id":18637739,"comment_id":27462446,"body_markdown":"the &quot;valaction&quot; package is improperly named, im sorry about that and ive edited it, its actually the struts action class thats called on submit, and thats actually working fine. Also even if i do use `&lt;s:url&gt;` i wont be able to do so in `jquery.validationEngine-en.js`.","body":"the &quot;valaction&quot; package is improperly named, im sorry about that and ive edited it, its actually the struts action class thats called on submit, and thats actually working fine. Also even if i do use <code>&lt;s:url&gt;</code> i wont be able to do so in <code>jquery.validationEngine-en.js</code>."},{"owner":{"account_id":3195448,"reputation":31,"user_id":2698709,"accept_rate":75,"display_name":"vikramjit_S"},"score":0,"creation_date":1378445621,"post_id":18637739,"comment_id":27462585,"body_markdown":"also, ive never used a namespace with my struts package (after editing, `valaction` is `strutsaction`) is there any particular advantage to it? it seems to work fine without it too","body":"also, ive never used a namespace with my struts package (after editing, <code>valaction</code> is <code>strutsaction</code>) is there any particular advantage to it? it seems to work fine without it too"},{"owner":{"account_id":3195448,"reputation":31,"user_id":2698709,"accept_rate":75,"display_name":"vikramjit_S"},"score":0,"creation_date":1378456027,"post_id":18637739,"comment_id":27466929,"body_markdown":"sorry, my bad, `&lt;s:url namespace =&#39;/ajaxVal&#39; action = &#39;FormVal&#39; /&gt;` is working for the form validation, i forgot to add quotes, dumb mistake. but the other problem, for jquery.validationEngine-en.js still holds","body":"sorry, my bad, <code>&lt;s:url namespace =&#39;&#47;ajaxVal&#39; action = &#39;FormVal&#39; &#47;&gt;</code> is working for the form validation, i forgot to add quotes, dumb mistake. but the other problem, for jquery.validationEngine-en.js still holds"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1378466733,"post_id":18637739,"comment_id":27472504,"body_markdown":"@doggkilla Of course, because JS files aren&#39;t normally processed by JSP. You need to build a bridge between your JSP and your JS, either by providing a mechanism to retrieve a value from the HTML DOM (e.g., hide a value in a hidden DOM object, use a `data-` attribute, etc.) or   access a JS value created in your JSP page, etc.","body":"@doggkilla Of course, because JS files aren&#39;t normally processed by JSP. You need to build a bridge between your JSP and your JS, either by providing a mechanism to retrieve a value from the HTML DOM (e.g., hide a value in a hidden DOM object, use a <code>data-</code> attribute, etc.) or   access a JS value created in your JSP page, etc."},{"owner":{"account_id":3195448,"reputation":31,"user_id":2698709,"accept_rate":75,"display_name":"vikramjit_S"},"score":0,"creation_date":1378875481,"post_id":18637739,"comment_id":27606894,"body_markdown":"but keeping my jsp pages in the WebContent folder will sort out these issues too right? there wont be a case where there will be a problem?","body":"but keeping my jsp pages in the WebContent folder will sort out these issues too right? there wont be a case where there will be a problem?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1378893583,"post_id":18637739,"comment_id":27615233,"body_markdown":"@doggkilla Do you mean just keep everything at the root level? That would fix one type of problem, but create an organizational one.","body":"@doggkilla Do you mean just keep everything at the root level? That would fix one type of problem, but create an organizational one."},{"owner":{"account_id":3195448,"reputation":31,"user_id":2698709,"accept_rate":75,"display_name":"vikramjit_S"},"score":0,"creation_date":1378898599,"post_id":18637739,"comment_id":27618065,"body_markdown":"actually i have to give a demo by fri, and i need the ajax part, so for now, ill keep my jsp pages in the `WebContent` folder. would that create any problem that i havent anticipated, apart from there being a clutter of pages in the folder?","body":"actually i have to give a demo by fri, and i need the ajax part, so for now, ill keep my jsp pages in the <code>WebContent</code> folder. would that create any problem that i havent anticipated, apart from there being a clutter of pages in the folder?"}],"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378387871,"creation_date":1378387871,"answer_id":18637739,"question_id":18635934,"body_markdown":"You&#39;re using a relative URL for the validation action:\r\n\r\n    ajaxFormValidationURL : &#39;ajaxVal/FormVal&#39;\r\n\r\nYou should either use the `&lt;s:url&gt;` tag or make the paths absolute. That it worked until you moved it provides the biggest clue; relative URLs are inherently fragile when you start moving things around.\r\n\r\nIMO hand-coding URLs is a bit brittle, and this is one of the reasons.\r\n\r\nUnrelated, but I&#39;d probably set the `&quot;valaction&quot;` package namespace to `&quot;/&quot;`.","title":"jQuery validation engine in Struts 2 not working","body":"<p>You're using a relative URL for the validation action:</p>\n\n<pre><code>ajaxFormValidationURL : 'ajaxVal/FormVal'\n</code></pre>\n\n<p>You should either use the <code>&lt;s:url&gt;</code> tag or make the paths absolute. That it worked until you moved it provides the biggest clue; relative URLs are inherently fragile when you start moving things around.</p>\n\n<p>IMO hand-coding URLs is a bit brittle, and this is one of the reasons.</p>\n\n<p>Unrelated, but I'd probably set the <code>\"valaction\"</code> package namespace to <code>\"/\"</code>.</p>\n"}],"owner":{"account_id":3195448,"reputation":31,"user_id":2698709,"accept_rate":75,"display_name":"vikramjit_S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696260776,"creation_date":1378382922,"question_id":18635934,"body_markdown":"My Eclipse Dynamic Web Project structure is as follows:\r\n\r\n**WebContent:**  \r\n\r\n* CSS  \r\n    * (Various css files used)  \r\n* JavaScript  \r\n    * (JS files)  \r\n* Pages  \r\n    * Page1.jsp  \r\n    * Page2.jsp  \r\n* META-INF  \r\n* WEB-INF  \r\n    * lib  \r\n    * web.xml  \r\n\r\nI&#39;m using the jQuery validation engine for front end and Ajax validation in `page1.jsp`, the Ajax part calls an action class which then validates the data.\r\n  \r\n**`page1.jsp`:**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;script&gt;\r\n\t\t$(document).ready (function ()\r\n\t\t{\r\n\t\t\t$(&quot;#subform&quot;).validationEngine(&#39;attach&#39;, {\r\n\t\t\t\tautoHidePrompt : true , \r\n\t\t\t\tautoHideDelay : 5000,\r\n\t\t\t\tajaxFormValidation : true,\r\n\t\t\t\tajaxFormValidationURL : &#39;ajaxVal/FormVal&#39;,\r\n\t\t\t\tajaxFormValidationMethod : &#39;post&#39;,\r\n\t\t\t\tonBeforeAjaxFormValidation : function (form, options) {\r\n\t\t\t\t\tconsole.log (&quot;before ajax validation in function&quot;);\r\n\t\t\t\t\tform.validationEngine (&#39;hideAll&#39;);\r\n\t\t\t\t\t$(&#39;#txtlname&#39;).validationEngine (&#39;showPrompt&#39;, &#39;Validating your name please wait&#39;, &#39;load&#39;, true);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t},\r\n\t\t\t\tonAjaxFormComplete : function (status, form, json, option) {\r\n\t\t\t\t\tconsole.log (&quot;ajax validation done&quot;);\r\n\t\t\t\t\tconsole.log (&quot;status: &quot; + status);\r\n\t\t\t\t\tconsole.log (&quot;data returned &quot; + json);\r\n\t\t\t\t\tconsole.log (&quot;checking status now&quot;);\r\n\t\t\t\t\tif (status) {\r\n\t\t\t\t\t\tconsole.log (&quot;status good, detaching now&quot;);\r\n\t\t\t\t\t\tform.validationEngine (&#39;hideAll&#39;);\r\n\t\t\t\t\t\tform.validationEngine (&#39;detach&#39;);\r\n\t\t\t\t\t\tform.submit ();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\t\r\n\t\t});\r\n\t&lt;/script&gt;\r\n\t\r\n\t\r\n\t&lt;title&gt;Form Validation test&lt;/title&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n\t\r\n\t&lt;div&gt;\t\t\t\t\t\t\t\r\n\t\t&lt;form id = &quot;subform&quot; action = &quot;submitForm&quot; method = &quot;post&quot;&gt;\t\t\t&lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n\t\t\tFirst Name: &lt;input id = &quot;txtfname&quot; name = &quot;txtfname&quot; type = &quot;text&quot; class = &quot;validate[required]&quot; \r\n\t\t\t\tplaceholder = &quot;enter emp name&quot; /&gt;\r\n\t\t\tLast name: &lt;input id = &quot;txtlname&quot; name = &quot;txtlname&quot; type = &quot;text&quot; placeholder = &quot;enter emp lname&quot; \r\n\t\t\t\t\tclass = &quot;validate[required, ajax[ajaxStrutsCall]]&quot; /&gt;\r\n\t\t\tAge: &lt;input id = &quot;txtage&quot; name = &quot;txtage&quot; type = &quot;text&quot; placeholder = &quot;enter age&quot;  /&gt;\t\t\t\r\n\t\t\t&lt;input id =&quot;cmdsubmit&quot; type = &quot;submit&quot; name = &quot;cmdsubmit&quot; value = &quot;click here&quot; /&gt;\r\n\t\t&lt;/form&gt;\r\n\t&lt;/div&gt;\r\n\t\t\r\n    &lt;/body&gt;\r\n\r\nthe Ajax call in the class attribute of the `&quot;last name&quot;` input tag is in  `jquery.validationEngine-en.js` it is:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    &quot;ajaxStrutsCall&quot;: {\r\n                    &quot;url&quot;: &quot;ajaxVal/LnameVal&quot;,\r\n                    &quot;alertTextOk&quot;: &quot;Your last name seems ok&quot;,\r\n                    &quot;alertText&quot;: &quot;Bad Last name&quot;,\r\n                    &quot;alertTextLoad&quot;: &quot;Validating, please wait&quot;\r\n                },\r\n\r\n**my `struts.xml`:**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;struts&gt;\r\n\t&lt;constant name = &quot;struts.devMode&quot; value = &quot;true&quot; /&gt;\r\n\t\r\n\t&lt;package name = &quot;strutsaction&quot; extends = &quot;struts-default&quot;&gt;\r\n\t\t&lt;action name = &quot;submitForm&quot; class = &quot;validation.action.JqueryAction&quot; method = &quot;execute&quot;&gt;\r\n\t\t\t&lt;result name = &quot;success&quot;&gt;/Pages/page2.jsp&lt;/result&gt;\r\n\t\t&lt;/action&gt;\t\t\r\n\t&lt;/package&gt;\r\n\t\r\n\t\r\n\t&lt;package name = &quot;ajaxAction&quot; namespace = &quot;/ajaxVal&quot; extends = &quot;json-default&quot;&gt;\r\n\r\n\t\t&lt;action name = &quot;LnameVal&quot; class = &quot;validation.struts.AjaxStrutsAction&quot; method = &quot;execute&quot;&gt;\r\n\t\t\t&lt;result name = &quot;success&quot; type = &quot;json&quot; /&gt;\r\n\t\t&lt;/action&gt;\r\n\t\t\r\n\t\t&lt;action name = &quot;FormVal&quot; class = &quot;ajax.form.validator.FormValidation&quot; method = &quot;execute&quot;&gt;\r\n\t\t\t&lt;result name = &quot;success&quot; type = &quot;json&quot; /&gt;\r\n\t\t&lt;/action&gt;\r\n\t\t\r\n\t&lt;/package&gt;\r\n\r\n&lt;/struts&gt;\r\n\r\nNow, the thing is that all the code was working perfectly when `page1.jsp` and `page2.jsp` were one folder up, i.e. in the `WebContent`, as soon as I added them to the `Pages/` folder, the Ajax validation calls do not happen, even though the action to the next page does.  \r\n\r\nI figured that this this is because the URL is not matching, when i tried accessing the struts class in my tomcat server as the following URL worked:\r\n\r\n    http://localhost:8080/AjaxTest/ajaxVal/LnameVal\r\n\r\nHowever, this did not:\r\n\r\n    http://localhost:8080/AjaxTest/Pages/ajaxVal/LnameVal \r\n\r\nI even changed the namespace in my `ajaxAction` package in `struts.xml` to `/Pages/ajaxVal`, but no dice.","title":"jQuery validation engine in Struts 2 not working","body":"<p>My Eclipse Dynamic Web Project structure is as follows:</p>\n<p><strong>WebContent:</strong></p>\n<ul>\n<li>CSS\n<ul>\n<li>(Various css files used)</li>\n</ul>\n</li>\n<li>JavaScript\n<ul>\n<li>(JS files)</li>\n</ul>\n</li>\n<li>Pages\n<ul>\n<li>Page1.jsp</li>\n<li>Page2.jsp</li>\n</ul>\n</li>\n<li>META-INF</li>\n<li>WEB-INF\n<ul>\n<li>lib</li>\n<li>web.xml</li>\n</ul>\n</li>\n</ul>\n<p>I'm using the jQuery validation engine for front end and Ajax validation in <code>page1.jsp</code>, the Ajax part calls an action class which then validates the data.</p>\n<p><strong><code>page1.jsp</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;script&gt;\n    $(document).ready (function ()\n    {\n        $(&quot;#subform&quot;).validationEngine('attach', {\n            autoHidePrompt : true , \n            autoHideDelay : 5000,\n            ajaxFormValidation : true,\n            ajaxFormValidationURL : 'ajaxVal/FormVal',\n            ajaxFormValidationMethod : 'post',\n            onBeforeAjaxFormValidation : function (form, options) {\n                console.log (&quot;before ajax validation in function&quot;);\n                form.validationEngine ('hideAll');\n                $('#txtlname').validationEngine ('showPrompt', 'Validating your name please wait', 'load', true);\n                return true;\n            },\n            onAjaxFormComplete : function (status, form, json, option) {\n                console.log (&quot;ajax validation done&quot;);\n                console.log (&quot;status: &quot; + status);\n                console.log (&quot;data returned &quot; + json);\n                console.log (&quot;checking status now&quot;);\n                if (status) {\n                    console.log (&quot;status good, detaching now&quot;);\n                    form.validationEngine ('hideAll');\n                    form.validationEngine ('detach');\n                    form.submit ();\n                }\n            }\n        }); \n    });\n&lt;/script&gt;\n\n\n&lt;title&gt;Form Validation test&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;div&gt;                           \n    &lt;form id = &quot;subform&quot; action = &quot;submitForm&quot; method = &quot;post&quot;&gt;         &lt;br&gt;&lt;br&gt;&lt;br&gt;\n        First Name: &lt;input id = &quot;txtfname&quot; name = &quot;txtfname&quot; type = &quot;text&quot; class = &quot;validate[required]&quot; \n            placeholder = &quot;enter emp name&quot; /&gt;\n        Last name: &lt;input id = &quot;txtlname&quot; name = &quot;txtlname&quot; type = &quot;text&quot; placeholder = &quot;enter emp lname&quot; \n                class = &quot;validate[required, ajax[ajaxStrutsCall]]&quot; /&gt;\n        Age: &lt;input id = &quot;txtage&quot; name = &quot;txtage&quot; type = &quot;text&quot; placeholder = &quot;enter age&quot;  /&gt;           \n        &lt;input id =&quot;cmdsubmit&quot; type = &quot;submit&quot; name = &quot;cmdsubmit&quot; value = &quot;click here&quot; /&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n    \n&lt;/body&gt;\n</code></pre>\n<p>the Ajax call in the class attribute of the <code>&quot;last name&quot;</code> input tag is in  <code>jquery.validationEngine-en.js</code> it is:</p>\n<pre class=\"lang-js prettyprint-override\"><code>&quot;ajaxStrutsCall&quot;: {\n                &quot;url&quot;: &quot;ajaxVal/LnameVal&quot;,\n                &quot;alertTextOk&quot;: &quot;Your last name seems ok&quot;,\n                &quot;alertText&quot;: &quot;Bad Last name&quot;,\n                &quot;alertTextLoad&quot;: &quot;Validating, please wait&quot;\n            },\n</code></pre>\n<p><strong>my <code>struts.xml</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;struts&gt;\n&lt;constant name = &quot;struts.devMode&quot; value = &quot;true&quot; /&gt;\n\n&lt;package name = &quot;strutsaction&quot; extends = &quot;struts-default&quot;&gt;\n    &lt;action name = &quot;submitForm&quot; class = &quot;validation.action.JqueryAction&quot; method = &quot;execute&quot;&gt;\n        &lt;result name = &quot;success&quot;&gt;/Pages/page2.jsp&lt;/result&gt;\n    &lt;/action&gt;       \n&lt;/package&gt;\n\n\n&lt;package name = &quot;ajaxAction&quot; namespace = &quot;/ajaxVal&quot; extends = &quot;json-default&quot;&gt;\n\n    &lt;action name = &quot;LnameVal&quot; class = &quot;validation.struts.AjaxStrutsAction&quot; method = &quot;execute&quot;&gt;\n        &lt;result name = &quot;success&quot; type = &quot;json&quot; /&gt;\n    &lt;/action&gt;\n    \n    &lt;action name = &quot;FormVal&quot; class = &quot;ajax.form.validator.FormValidation&quot; method = &quot;execute&quot;&gt;\n        &lt;result name = &quot;success&quot; type = &quot;json&quot; /&gt;\n    &lt;/action&gt;\n    \n&lt;/package&gt;\n</code></pre>\n\n<p>Now, the thing is that all the code was working perfectly when <code>page1.jsp</code> and <code>page2.jsp</code> were one folder up, i.e. in the <code>WebContent</code>, as soon as I added them to the <code>Pages/</code> folder, the Ajax validation calls do not happen, even though the action to the next page does.</p>\n<p>I figured that this this is because the URL is not matching, when i tried accessing the struts class in my tomcat server as the following URL worked:</p>\n<pre><code>http://localhost:8080/AjaxTest/ajaxVal/LnameVal\n</code></pre>\n<p>However, this did not:</p>\n<pre><code>http://localhost:8080/AjaxTest/Pages/ajaxVal/LnameVal \n</code></pre>\n<p>I even changed the namespace in my <code>ajaxAction</code> package in <code>struts.xml</code> to <code>/Pages/ajaxVal</code>, but no dice.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":67063,"reputation":1733,"user_id":196433,"display_name":"Jonathan "},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1268868083,"creation_date":1268868083,"answer_id":2466627,"question_id":2466610,"body_markdown":"I would read through these:\r\nhttp://java.sun.com/j2se/1.5.0/docs/relnotes/features.html\r\nhttp://java.sun.com/developer/technicalArticles/J2SE/Desktop/javase6/beta2.html","title":"Best online resources for learning Java 6 from Java 4 background?","body":"<p>I would read through these:\n<a href=\"http://java.sun.com/j2se/1.5.0/docs/relnotes/features.html\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/relnotes/features.html</a>\n<a href=\"http://java.sun.com/developer/technicalArticles/J2SE/Desktop/javase6/beta2.html\" rel=\"nofollow noreferrer\">http://java.sun.com/developer/technicalArticles/J2SE/Desktop/javase6/beta2.html</a></p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1268868200,"creation_date":1268868200,"answer_id":2466634,"question_id":2466610,"body_markdown":"The main changes to the language it self were introduced in the Java 5 release. \r\n\r\n\r\nThese include:\r\n\r\n- generics\r\n- enchanced for loops\r\n- var args\r\n- autoboxing\r\n\r\nand a number of others \r\n\r\nHere&#39;s an interesting article with examples:\r\n\r\n\r\nhttp://java.sun.com/developer/technicalArticles/releases/j2se15/\r\n\r\nJava 6 changes were most on performance and new APIs you should start with the changes in 5 first ","title":"Best online resources for learning Java 6 from Java 4 background?","body":"<p>The main changes to the language it self were introduced in the Java 5 release. </p>\n\n<p>These include:</p>\n\n<ul>\n<li>generics</li>\n<li>enchanced for loops</li>\n<li>var args</li>\n<li>autoboxing</li>\n</ul>\n\n<p>and a number of others </p>\n\n<p>Here's an interesting article with examples:</p>\n\n<p><a href=\"http://java.sun.com/developer/technicalArticles/releases/j2se15/\" rel=\"nofollow noreferrer\">http://java.sun.com/developer/technicalArticles/releases/j2se15/</a></p>\n\n<p>Java 6 changes were most on performance and new APIs you should start with the changes in 5 first </p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1268869799,"creation_date":1268869799,"answer_id":2466725,"question_id":2466610,"body_markdown":"Have a look at the **New Features of JDK 1.5** from the [Java 5 &amp; Java 6 Tutorials][1] (at coreservlets.com) for a quick overview:\r\n\r\n&gt; All the material in this section is\r\n&gt; covered in more detail in earlier\r\n&gt; sections. But, if you are a real\r\n&gt; old-timer and only know Java 1.4 or\r\n&gt; earlier (Gasp! How 20th century!),\r\n&gt; this section might be useful for you.\r\n&gt; \r\n&gt;  * [This tutorial section in PDF][2].\r\n&gt;  * Topics covered: \r\n&gt;   * The for/each loop \r\n&gt;   * Scanner and command-line input\r\n&gt;   * Generics\r\n&gt;   * Autoboxing\r\n&gt;   * Varargs  \r\n&gt;   * printf\r\n&gt;   * Reading command-line input\r\n\r\nAlso check the [Java Language Features][3] in the **New Features and Enhancements of J2SE 5.0**.\r\n\r\n\r\n  [1]: http://courses.coreservlets.com/Course-Materials/java5.html\r\n  [2]: http://courses.coreservlets.com/Course-Materials/pdf/java5/23-Java5-Features.pdf\r\n  [3]:  http://java.sun.com/j2se/1.5.0/docs/relnotes/features.html#lang","title":"Best online resources for learning Java 6 from Java 4 background?","body":"<p>Have a look at the <strong>New Features of JDK 1.5</strong> from the <a href=\"http://courses.coreservlets.com/Course-Materials/java5.html\" rel=\"nofollow noreferrer\">Java 5 &amp; Java 6 Tutorials</a> (at coreservlets.com) for a quick overview:</p>\n\n<blockquote>\n  <p>All the material in this section is\n  covered in more detail in earlier\n  sections. But, if you are a real\n  old-timer and only know Java 1.4 or\n  earlier (Gasp! How 20th century!),\n  this section might be useful for you.</p>\n  \n  <ul>\n  <li><a href=\"http://courses.coreservlets.com/Course-Materials/pdf/java5/23-Java5-Features.pdf\" rel=\"nofollow noreferrer\">This tutorial section in PDF</a>.</li>\n  <li>Topics covered: \n  \n  <ul>\n  <li>The for/each loop </li>\n  <li>Scanner and command-line input</li>\n  <li>Generics</li>\n  <li>Autoboxing</li>\n  <li>Varargs  </li>\n  <li>printf</li>\n  <li>Reading command-line input</li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>Also check the <a href=\"http://java.sun.com/j2se/1.5.0/docs/relnotes/features.html#lang\" rel=\"nofollow noreferrer\">Java Language Features</a> in the <strong>New Features and Enhancements of J2SE 5.0</strong>.</p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1268873033,"creation_date":1268873033,"answer_id":2466925,"question_id":2466610,"body_markdown":"Except for generics, most everything there is to learn can be done incrementally.  Nothing in Java *requires* you do something the new way.  Start with enhanced-for, autoboxing, varargs and formatted printing.  \r\n\r\nWith generics, read up on an overview, say [Angelika&#39;s FAQ][1], and then begin applying generics bit by bit - be prepared to invest some time for the more complex generics programming.\r\n\r\n\r\n  [1]: http://www.angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html","title":"Best online resources for learning Java 6 from Java 4 background?","body":"<p>Except for generics, most everything there is to learn can be done incrementally.  Nothing in Java <em>requires</em> you do something the new way.  Start with enhanced-for, autoboxing, varargs and formatted printing.  </p>\n\n<p>With generics, read up on an overview, say <a href=\"http://www.angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html\" rel=\"nofollow noreferrer\">Angelika's FAQ</a>, and then begin applying generics bit by bit - be prepared to invest some time for the more complex generics programming.</p>\n"},{"tags":[],"owner":{"account_id":97602,"reputation":787,"user_id":264669,"accept_rate":78,"display_name":"Vinny"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1268874083,"creation_date":1268874083,"answer_id":2466983,"question_id":2466610,"body_markdown":"Just as a clarification, you mean that you currently use JDK 1.4.x right? I think Sun&#39;s marketing machine when from Java 1.0 Java 1.1 Java 2 ( 1.2 , 1.3, 1.4) to Java 5 (1.6) and finally Java 6 (1.6). I never heard of &quot;Java 4&quot; in the Sun literature. I agree that :\r\nhttp://java.sun.com/j2se/1.5.0/docs/relnotes/features.html give a nice summary from the horse&#39;s mouth","title":"Best online resources for learning Java 6 from Java 4 background?","body":"<p>Just as a clarification, you mean that you currently use JDK 1.4.x right? I think Sun's marketing machine when from Java 1.0 Java 1.1 Java 2 ( 1.2 , 1.3, 1.4) to Java 5 (1.6) and finally Java 6 (1.6). I never heard of \"Java 4\" in the Sun literature. I agree that :\n<a href=\"http://java.sun.com/j2se/1.5.0/docs/relnotes/features.html\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/relnotes/features.html</a> give a nice summary from the horse's mouth</p>\n"}],"owner":{"account_id":112221,"reputation":24579,"user_id":296108,"accept_rate":92,"display_name":"Chris Knight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1696261067,"accepted_answer_id":2466925,"answer_count":5,"score":-1,"last_activity_date":1696260657,"creation_date":1268867833,"question_id":2466610,"body_markdown":"Our company is finally coming out of the dark ages and embracing Java 6.  We have been using Java 4 for many years and I&#39;m interested in learning the new features offered by Java 5 and 6.  So, can anyone recommend any online resources to help me learn what&#39;s new since Java 4?","title":"Best online resources for learning Java 6 from Java 4 background?","body":"<p>Our company is finally coming out of the dark ages and embracing Java 6.  We have been using Java 4 for many years and I'm interested in learning the new features offered by Java 5 and 6.  So, can anyone recommend any online resources to help me learn what's new since Java 4?</p>\n"},{"tags":["java","javascript","jquery","ajax","struts2"],"comments":[{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1395674669,"post_id":22613278,"comment_id":34433179,"body_markdown":"Your code has some pieces missing ( Service =, and so on).  What is map ? Which value do the double variables have ? What is printed on page ?","body":"Your code has some pieces missing ( Service =, and so on).  What is map ? Which value do the double variables have ? What is printed on page ?"},{"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"score":0,"creation_date":1395675012,"post_id":22613278,"comment_id":34433427,"body_markdown":"private Service Service; // service connected to database with hibernate\nprivate Map&lt;String, String&gt; map= new HashMap&lt;String, String&gt;();","body":"private Service Service; // service connected to database with hibernate private Map&lt;String, String&gt; map= new HashMap&lt;String, String&gt;();"}],"answers":[{"comments":[{"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"score":0,"creation_date":1396865924,"post_id":22617693,"comment_id":34964862,"body_markdown":"i still have a null values !","body":"i still have a null values !"},{"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"score":0,"creation_date":1396865948,"post_id":22617693,"comment_id":34964870,"body_markdown":"I want to update some values (string,Integer and double) ,for this reason I pass those parameters into map&lt;String,object&gt; from action to jsp page.\nI show it in my jsp,I edit it, but when I want to save the result, all double values take a NAN !!","body":"I want to update some values (string,Integer and double) ,for this reason I pass those parameters into map&lt;String,object&gt; from action to jsp page. I show it in my jsp,I edit it, but when I want to save the result, all double values take a NAN !!"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1396866262,"post_id":22617693,"comment_id":34965042,"body_markdown":"I don&#39;t understand what you are saying, could you update your question?","body":"I don&#39;t understand what you are saying, could you update your question?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1396945924,"post_id":22617693,"comment_id":35005244,"body_markdown":"I don&#39;t know how actions are mapped to the JSP, so post the `struts.xml`. Also format the code with indentation.","body":"I don&#39;t know how actions are mapped to the JSP, so post the <code>struts.xml</code>. Also format the code with indentation."},{"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"score":0,"creation_date":1396947760,"post_id":22617693,"comment_id":35006317,"body_markdown":"I post the struts.xml","body":"I post the struts.xml"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1396951749,"post_id":22617693,"comment_id":35009000,"body_markdown":"I think that a service returns `null`, post the JSON.","body":"I think that a service returns <code>null</code>, post the JSON."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1395685747,"creation_date":1395685747,"answer_id":22617693,"question_id":22613278,"body_markdown":"Make the `map` to map objects instead of strings. For example \r\n\r\n    Map&lt;String, Object&gt; map= new HashMap&lt;&gt;();\r\n\r\nNow you have to put objects inside it, if the value is `null` it will keep the value that you can get after JSON result is returned by the `success` handler. See also \r\n[how to exclude properties with `null` values from the JSON result][1]. \r\n\r\n\r\n  [1]: http://struts.apache.org/release/2.3.x/docs/json-plugin.html#JSONPlugin-Excludingpropertieswithnullvalues","title":"How to use a map which contains String and double values in Struts 2","body":"<p>Make the <code>map</code> to map objects instead of strings. For example </p>\n\n<pre><code>Map&lt;String, Object&gt; map= new HashMap&lt;&gt;();\n</code></pre>\n\n<p>Now you have to put objects inside it, if the value is <code>null</code> it will keep the value that you can get after JSON result is returned by the <code>success</code> handler. See also \n<a href=\"http://struts.apache.org/release/2.3.x/docs/json-plugin.html#JSONPlugin-Excludingpropertieswithnullvalues\" rel=\"nofollow\">how to exclude properties with <code>null</code> values from the JSON result</a>. </p>\n"}],"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1350,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22617693,"answer_count":1,"score":1,"last_activity_date":1696260573,"creation_date":1395673924,"question_id":22613278,"body_markdown":"I want to know How can i pass `HashMap` which contain String and double values from Action to javascript code ?\r\n\r\nWhen i edit some fields with double values, i have a null on those fields, how can i resolve that ?\r\n\r\n**Action :**\r\n   \r\n\r\n     public String query() {\r\n\t\tService = new ServiceImpl();\r\n\t\tv = new Vehicule();\r\n\t\tv= Service.getByImmat(im);\r\n\t\tmap.put(&quot;kilo&quot;, v.getKilo()); //double value\r\n\t\t/*SimpleDateFormat formatter5=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\t\tString formats1 = formatter5.format(ss1);*/\r\n\t\tmap.put(&quot;datepicker&quot;, formats1);\r\n\t\tmap.put(&quot;etat&quot;, v.getEtat());//string value\r\n\t\tmap.put(&quot;capacite_bagages&quot;, v.getCapacite_bagage()); //double value\r\n\t\treturn &quot;success&quot;;\r\n    }\r\n\r\nAjax :\r\n\r\n    $.ajax({\r\n\t    type: &#39;POST&#39;, \r\n\t    url  : &quot;&lt;s:url action=&#39;query&#39;/&gt;&quot;,\r\n\t    dataType : &#39;json&#39;,\r\n\t    data: { imm : selectedValue},\r\n\t    success: function(result) {\r\n            $.each(result, function(key,value){ \r\n                $(&quot;#&quot;+key).val(value); \r\n            });\r\n        });\r\n    \r\n\r\n\t\r\n\r\n\r\n**EDIT :**\r\n\r\n\t\r\n  \t    \t  \t\r\nI want to update some values `(string,Date and double)` ,for this reason I pass those parameters into `map&lt;String,object&gt;` from action to jsp page.\r\n\r\n \r\n\r\n    public String query() {\r\n    \t\tService = new ServiceImpl();\r\n    \t\tv = new Vehicule();\r\n    \t\tv= Service.getByImmat(im);\r\n    \t\tmap.put(&quot;kilo&quot;, v.getKilo()); //double value\r\n    \t\tSimpleDateFormat formatter5=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    \t\tString formats1 = formatter5.format(v.getDate());\r\n    \t\tmap.put(&quot;datepicker&quot;, formats1);\r\n    \t\tmap.put(&quot;etat&quot;, v.getEtat());//string value\r\n    \t\tmap.put(&quot;capacite_bagages&quot;, v.getCapacite_bagage()); //double value\r\n    \t\treturn &quot;success&quot;;\r\n        }\r\n\r\n I show it in my jsp,I edit it in my jsp page,but when I want to save the result,  double value take a NAN !! : \r\n\r\n    public String modifiervehicule () {\r\n    \t\t\r\n    \t\tService = new ServiceImpl();\r\n    \t\tv= new Vehicule();\r\n    \t\tv = vehiculeService.getVehiculeByImmat(immatricul);\r\n    \t\tv.setKilo((Double)getKilo());\r\n    \t\tv.setDate((Date)getDate());\r\n    \t\tv.setEtat(getEtat());\r\n    \t\tv.setCapacite_bagage((Double)getCapacite_bagages());\r\n    \t\t\r\n    \t\tv = Service.update(v);\r\n    \t\treturn &quot;success&quot;;\r\n    \t\t\r\n    \t}\r\n\r\n kilo field (double) has a null value after editing, but if I edit it with Integer value it will not have a null value, \r\n\r\nI think because `public double getkilo()` should return a double not object that i pass in the map !!)\r\n\r\n\t\t\t\t\t\t\t\t\r\n**EDIT 2 :**\r\n\r\n**jsp :**\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n    $(document).ready(function() \r\n    \t{\r\n    \r\n    \t  $(&#39;#imm&#39;).change(function()\r\n    \t\t{\r\n    \r\n    \t\t  \r\n    \t\t  var selectedValue = $(&#39;#imm&#39;).val();\r\n    \t        if ($.trim(selectedValue).length &gt; 0) \r\n    \t\t     {\r\n    \t\t\t\t$.ajax(\r\n    \t\t\t\t{\r\n    \t\t\t\t\ttype: &#39;POST&#39;, \r\n    \t\t\t\t    url  : &quot;&lt;s:url action=&#39;query&#39;/&gt;&quot;,\r\n    \t\t\t\t    dataType : &#39;json&#39;,\r\n    \t\t\t\t    data: { imm : selectedValue},\r\n    \t\t\t\t    success: function(result){\t\t\t\t\t\t\t\t\t\t\t   \t\t\t\t\t\t\t\t\t\t   \r\n    \t\t\t\t\t\t$.each(result, function(key,value)\r\n    \t\t\t\t\t\t{\t\t\t\t\t \r\n    \t\t\t\t\t\r\n    \r\n    \t\t\t\t\t\t\t    $(&quot;#&quot;+key).val(value);\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} );\t\t\t\t\t\t\t\t\r\n    \t});\r\n    &lt;/script&gt;\r\n    \t\t\t\r\n    &lt;s:form  cssStyle=&quot;border:0;&quot; validate=&quot;true&quot; action=&quot;modifiervehicule&quot; namespace=&quot;/&quot; &gt;\r\n    &lt;s:select  id=&quot;imm&quot; label=&quot;immatriculation&quot; list=&quot;immatriculs&quot; name=&quot;immatricul&quot;&gt;&lt;/s:select&gt;\r\n    &lt;s:textfield id=&quot;kilo&quot;  name=&quot;kil&quot; label=&quot;kilometrage&quot; size=&quot;15&quot; &gt;&lt;/s:textfield&gt;\r\n    &lt;s:textfield  id=&quot;etat&quot; name=&quot;etat&quot; label=&quot;etat&quot; size=&quot;15&quot; &gt;&lt;/s:textfield&gt;\r\n     &lt;s:textfield  id=&quot;datepicker&quot; name=&quot;date&quot; label=&quot;date&quot;  size=&quot;15&quot; &gt;&lt;/s:textfield&gt; \r\n    &lt;s:textfield id=&quot;capacite_bagages&quot; name=&quot;capacite_bagages&quot; label=&quot;capacit&#233; de bagages&quot; size=&quot;15&quot;&gt;&lt;/s:textfield&gt;\r\n    \r\n    &lt;s:submit  style=&quot;height:30px; width:125px&quot; name=&quot;Valider&quot; value=&quot;Valider&quot;&gt;&lt;/s:submit&gt;\r\n    &lt;/s:form&gt;\r\n             \t\t\t\r\n**`Struts.xml`**\r\n\r\n\r\n\t\t\r\n\r\n    &lt;action name=&quot;query&quot; class=&quot;action.Gestion&quot; method=&quot;query&quot;&gt;\r\n\t    &lt;result name=&quot;success&quot; type=&quot;json&quot; &gt;\r\n\t\t    &lt;param name=&quot;root&quot;&gt;map&lt;/param&gt;\r\n\t\t    \r\n\t    &lt;/result&gt;\r\n\r\n    &lt;/action&gt;\r\n\r\n\t\t\r\n\r\n","title":"How to use a map which contains String and double values in Struts 2","body":"<p>I want to know How can i pass <code>HashMap</code> which contain String and double values from Action to javascript code ?</p>\n\n<p>When i edit some fields with double values, i have a null on those fields, how can i resolve that ?</p>\n\n<p><strong>Action :</strong></p>\n\n<pre><code> public String query() {\n    Service = new ServiceImpl();\n    v = new Vehicule();\n    v= Service.getByImmat(im);\n    map.put(\"kilo\", v.getKilo()); //double value\n    /*SimpleDateFormat formatter5=new SimpleDateFormat(\"yyyy-MM-dd\");\n    String formats1 = formatter5.format(ss1);*/\n    map.put(\"datepicker\", formats1);\n    map.put(\"etat\", v.getEtat());//string value\n    map.put(\"capacite_bagages\", v.getCapacite_bagage()); //double value\n    return \"success\";\n}\n</code></pre>\n\n<p>Ajax :</p>\n\n<pre><code>$.ajax({\n    type: 'POST', \n    url  : \"&lt;s:url action='query'/&gt;\",\n    dataType : 'json',\n    data: { imm : selectedValue},\n    success: function(result) {\n        $.each(result, function(key,value){ \n            $(\"#\"+key).val(value); \n        });\n    });\n</code></pre>\n\n<p><strong>EDIT :</strong></p>\n\n<p>I want to update some values <code>(string,Date and double)</code> ,for this reason I pass those parameters into <code>map&lt;String,object&gt;</code> from action to jsp page.</p>\n\n<pre><code>public String query() {\n        Service = new ServiceImpl();\n        v = new Vehicule();\n        v= Service.getByImmat(im);\n        map.put(\"kilo\", v.getKilo()); //double value\n        SimpleDateFormat formatter5=new SimpleDateFormat(\"yyyy-MM-dd\");\n        String formats1 = formatter5.format(v.getDate());\n        map.put(\"datepicker\", formats1);\n        map.put(\"etat\", v.getEtat());//string value\n        map.put(\"capacite_bagages\", v.getCapacite_bagage()); //double value\n        return \"success\";\n    }\n</code></pre>\n\n<p>I show it in my jsp,I edit it in my jsp page,but when I want to save the result,  double value take a NAN !! : </p>\n\n<pre><code>public String modifiervehicule () {\n\n        Service = new ServiceImpl();\n        v= new Vehicule();\n        v = vehiculeService.getVehiculeByImmat(immatricul);\n        v.setKilo((Double)getKilo());\n        v.setDate((Date)getDate());\n        v.setEtat(getEtat());\n        v.setCapacite_bagage((Double)getCapacite_bagages());\n\n        v = Service.update(v);\n        return \"success\";\n\n    }\n</code></pre>\n\n<p>kilo field (double) has a null value after editing, but if I edit it with Integer value it will not have a null value, </p>\n\n<p>I think because <code>public double getkilo()</code> should return a double not object that i pass in the map !!)</p>\n\n<p><strong>EDIT 2 :</strong></p>\n\n<p><strong>jsp :</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() \n    {\n\n      $('#imm').change(function()\n        {\n\n\n          var selectedValue = $('#imm').val();\n            if ($.trim(selectedValue).length &gt; 0) \n             {\n                $.ajax(\n                {\n                    type: 'POST', \n                    url  : \"&lt;s:url action='query'/&gt;\",\n                    dataType : 'json',\n                    data: { imm : selectedValue},\n                    success: function(result){                                                                                     \n                        $.each(result, function(key,value)\n                        {                    \n\n\n                                $(\"#\"+key).val(value);\n\n                                                            } );                                \n    });\n&lt;/script&gt;\n\n&lt;s:form  cssStyle=\"border:0;\" validate=\"true\" action=\"modifiervehicule\" namespace=\"/\" &gt;\n&lt;s:select  id=\"imm\" label=\"immatriculation\" list=\"immatriculs\" name=\"immatricul\"&gt;&lt;/s:select&gt;\n&lt;s:textfield id=\"kilo\"  name=\"kil\" label=\"kilometrage\" size=\"15\" &gt;&lt;/s:textfield&gt;\n&lt;s:textfield  id=\"etat\" name=\"etat\" label=\"etat\" size=\"15\" &gt;&lt;/s:textfield&gt;\n &lt;s:textfield  id=\"datepicker\" name=\"date\" label=\"date\"  size=\"15\" &gt;&lt;/s:textfield&gt; \n&lt;s:textfield id=\"capacite_bagages\" name=\"capacite_bagages\" label=\"capacité de bagages\" size=\"15\"&gt;&lt;/s:textfield&gt;\n\n&lt;s:submit  style=\"height:30px; width:125px\" name=\"Valider\" value=\"Valider\"&gt;&lt;/s:submit&gt;\n&lt;/s:form&gt;\n</code></pre>\n\n<p><strong><code>Struts.xml</code></strong></p>\n\n<pre><code>&lt;action name=\"query\" class=\"action.Gestion\" method=\"query\"&gt;\n    &lt;result name=\"success\" type=\"json\" &gt;\n        &lt;param name=\"root\"&gt;map&lt;/param&gt;\n\n    &lt;/result&gt;\n\n&lt;/action&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jsp"],"comments":[{"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"score":0,"creation_date":1643456285,"post_id":70904082,"comment_id":125347242,"body_markdown":"Are your jsp files inside static folder only or /static/jsp","body":"Are your jsp files inside static folder only or /static/jsp"},{"owner":{"account_id":17459642,"reputation":27,"user_id":12657637,"display_name":"masoome"},"score":0,"creation_date":1643459447,"post_id":70904082,"comment_id":125347911,"body_markdown":"they&#39;re inside static folder only","body":"they&#39;re inside static folder only"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1643477174,"post_id":70904082,"comment_id":125352387,"body_markdown":"Can you share your project structure from your IDE as a picture and state which version of the IDE you are using","body":"Can you share your project structure from your IDE as a picture and state which version of the IDE you are using"},{"owner":{"account_id":17459642,"reputation":27,"user_id":12657637,"display_name":"masoome"},"score":0,"creation_date":1643519862,"post_id":70904082,"comment_id":125359646,"body_markdown":"I added a picture of my project Structure. I am using IntelliJ 2021.3","body":"I added a picture of my project Structure. I am using IntelliJ 2021.3"}],"answers":[{"tags":[],"owner":{"display_name":"user14560339"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645044076,"creation_date":1645044076,"answer_id":71149000,"question_id":70904082,"body_markdown":"The main *template engines* for SpringBoot are Thymeleaf, Groovy, FreeMarker, Jade. In the reference guide: \r\n\r\n&gt; JSP should be avoided if possible, there are several known limitations\r\n&gt; when using them with embedded servlet containers.\r\n\r\n&gt; An executable jar will not work because of a hard coded file pattern\r\n&gt; in Tomcat.\r\n\r\nIf the JSPs are legacy or proprietary codes that you can&#39;t convert, you have to do a few things in order to develop/maintain, compile and kinda run a SpringBootApplication running them in Intellij:\r\n\r\n1) maven: your pom must be a &#39;**war**&#39; package.\r\nThat will makes intellij look for and compile the JSPs right.\r\n\r\n2) web facet: put your .jsp files in a folder where they are expected to be in a webapp: **src/main/webapp/WEB-INF/jsp/** \r\nThe jsp will never be &#39;compiled&#39;/&#39;interpretable&#39; in static.\r\n\r\n3) spring facet: set the prefix to /WEB-INF/jsp/ in your **application.properties**\r\n\r\n4) tomcat: have those dependencies:\r\n\r\n&gt;     &lt;dependency&gt;\r\n&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n&gt;        &lt;scope&gt;provided&lt;/scope&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n&gt;        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n&gt;        &lt;scope&gt;provided&lt;/scope&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n&gt;        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n&gt;     &lt;/dependency&gt;\r\n\r\n5) build runnable war: make an Intellij &quot;maven configuration&quot; that run :\r\n\r\n&gt; clean install -f pom.xml\r\n\r\n6) run that war: make an Intellij &quot;jar configuration&quot; with those settings:\r\n\r\n - path to jar : &lt;the path to the **war** file in the *target* folder&gt;\r\n - before launch : run the &quot;maven configuration&quot; you created\r\n\r\n\r\n","title":"SpringBoot Web MVC Application cannot resolve JSP views","body":"<p>The main <em>template engines</em> for SpringBoot are Thymeleaf, Groovy, FreeMarker, Jade. In the reference guide:</p>\n<blockquote>\n<p>JSP should be avoided if possible, there are several known limitations\nwhen using them with embedded servlet containers.</p>\n</blockquote>\n<blockquote>\n<p>An executable jar will not work because of a hard coded file pattern\nin Tomcat.</p>\n</blockquote>\n<p>If the JSPs are legacy or proprietary codes that you can't convert, you have to do a few things in order to develop/maintain, compile and kinda run a SpringBootApplication running them in Intellij:</p>\n<ol>\n<li><p>maven: your pom must be a '<strong>war</strong>' package.\nThat will makes intellij look for and compile the JSPs right.</p>\n</li>\n<li><p>web facet: put your .jsp files in a folder where they are expected to be in a webapp: <strong>src/main/webapp/WEB-INF/jsp/</strong>\nThe jsp will never be 'compiled'/'interpretable' in static.</p>\n</li>\n<li><p>spring facet: set the prefix to /WEB-INF/jsp/ in your <strong>application.properties</strong></p>\n</li>\n<li><p>tomcat: have those dependencies:</p>\n</li>\n</ol>\n<blockquote>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n   &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n   &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<ol start=\"5\">\n<li>build runnable war: make an Intellij &quot;maven configuration&quot; that run :</li>\n</ol>\n<blockquote>\n<p>clean install -f pom.xml</p>\n</blockquote>\n<ol start=\"6\">\n<li>run that war: make an Intellij &quot;jar configuration&quot; with those settings:</li>\n</ol>\n<ul>\n<li>path to jar : &lt;the path to the <strong>war</strong> file in the <em>target</em> folder&gt;</li>\n<li>before launch : run the &quot;maven configuration&quot; you created</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16166077,"reputation":617,"user_id":12219726,"display_name":"HenriDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652516475,"creation_date":1652516475,"answer_id":72238478,"question_id":70904082,"body_markdown":"i had a similar problem and for me specifying the web resource directory containing the JSP files resolved the issue.\r\n\r\n1. open project structure and under modules -&gt; web -&gt; web resource directory specify the directory in which your view are contained (in this case `webapp`) \r\n2. open `application.properties`\r\n3. specify the folder within your webresource directory which contains your views as prefix (in this case `/views/`)\r\n4. specify your view suffix `.jsp`\r\n\r\nthis should enable intelij to resolve the views returned by the controller.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q4EXS.png\r\n  [2]: https://i.stack.imgur.com/K8ihc.png","title":"SpringBoot Web MVC Application cannot resolve JSP views","body":"<p>i had a similar problem and for me specifying the web resource directory containing the JSP files resolved the issue.</p>\n<ol>\n<li>open project structure and under modules -&gt; web -&gt; web resource directory specify the directory in which your view are contained (in this case <code>webapp</code>)</li>\n<li>open <code>application.properties</code></li>\n<li>specify the folder within your webresource directory which contains your views as prefix (in this case <code>/views/</code>)</li>\n<li>specify your view suffix <code>.jsp</code></li>\n</ol>\n<p>this should enable intelij to resolve the views returned by the controller.</p>\n<p><a href=\"https://i.stack.imgur.com/q4EXS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q4EXS.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/K8ihc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K8ihc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20609712,"reputation":1,"user_id":15129184,"display_name":"dhananjay dhawale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696260283,"creation_date":1696257949,"answer_id":77216435,"question_id":70904082,"body_markdown":"I have ultimate version of intellij, it was throwing me error saying **cannot resolve jsp**. Showing me warning. I created the module, specified the path. And it was working. Click on the + icon of web resource directory, and mention the path of your jsp file. It will work.","title":"SpringBoot Web MVC Application cannot resolve JSP views","body":"<p>I have ultimate version of intellij, it was throwing me error saying <strong>cannot resolve jsp</strong>. Showing me warning. I created the module, specified the path. And it was working. Click on the + icon of web resource directory, and mention the path of your jsp file. It will work.</p>\n"}],"owner":{"account_id":17459642,"reputation":27,"user_id":12657637,"display_name":"masoome"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71149000,"answer_count":3,"score":0,"last_activity_date":1696260283,"creation_date":1643449508,"question_id":70904082,"body_markdown":"I am trying to implement a web application using Springboot. but when I request methods I get 404 Error. Springboot cannot find Jsp files.\r\n\r\nthis is my Controller Code:\r\n\r\n```\r\n@PostMapping(value = &quot;/loginSuccess&quot;)\r\npublic ModelAndView loginSuccess() {\r\n    System.out.println(&quot;in login success&quot;);\r\n    return new ModelAndView(&quot;index&quot;);\r\n}\r\n\r\n@GetMapping(value = &quot;/loginError&quot;)\r\npublic ModelAndView showLoginError() {\r\n    System.out.println(&quot;in login error&quot;);\r\n    return new ModelAndView(&quot;error&quot;);\r\n}\r\n```\r\n\r\nand this is my SecurityConfig:\r\n\r\n```\r\n@ComponentScan\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Autowired\r\n    private EmployeeRepository employeeRepository;\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return  new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(){\r\n        return new EmployeeDetailService(employeeRepository, passwordEncoder());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .formLogin()\r\n                .successForwardUrl(&quot;/loginSuccess&quot;)\r\n                .failureUrl(&quot;/loginError&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .and()\r\n                .httpBasic();\r\n    }\r\n}\r\n```\r\nI also specified prefix and suffix in application.properties:\r\n\r\n```\r\nspring.mvc.view.prefix=/static/\r\nspring.mvc.view.suffix=.jsp\r\n```\r\nI also have these dependencies in my pom file:\r\n```\r\n &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n```\r\nand this is my Project Structure:\r\n\r\n[![enter image description here][1]][1]\r\ncan anyone tell me what is the problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pF8G2.png","title":"SpringBoot Web MVC Application cannot resolve JSP views","body":"<p>I am trying to implement a web application using Springboot. but when I request methods I get 404 Error. Springboot cannot find Jsp files.</p>\n<p>this is my Controller Code:</p>\n<pre><code>@PostMapping(value = &quot;/loginSuccess&quot;)\npublic ModelAndView loginSuccess() {\n    System.out.println(&quot;in login success&quot;);\n    return new ModelAndView(&quot;index&quot;);\n}\n\n@GetMapping(value = &quot;/loginError&quot;)\npublic ModelAndView showLoginError() {\n    System.out.println(&quot;in login error&quot;);\n    return new ModelAndView(&quot;error&quot;);\n}\n</code></pre>\n<p>and this is my SecurityConfig:</p>\n<pre><code>@ComponentScan\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private EmployeeRepository employeeRepository;\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return  new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService(){\n        return new EmployeeDetailService(employeeRepository, passwordEncoder());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .formLogin()\n                .successForwardUrl(&quot;/loginSuccess&quot;)\n                .failureUrl(&quot;/loginError&quot;)\n                .permitAll()\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/&quot;).permitAll()\n                .and()\n                .httpBasic();\n    }\n}\n</code></pre>\n<p>I also specified prefix and suffix in application.properties:</p>\n<pre><code>spring.mvc.view.prefix=/static/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<p>I also have these dependencies in my pom file:</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>and this is my Project Structure:</p>\n<p><a href=\"https://i.stack.imgur.com/pF8G2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pF8G2.png\" alt=\"enter image description here\" /></a>\ncan anyone tell me what is the problem?</p>\n"},{"tags":["java","spring","jms","activemq","jms-serializer"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1581219785,"post_id":60130803,"comment_id":106355670,"body_markdown":"I recommend you avoid using `javax.jms.ObjectMessage`. They depend on Java serialization to marshal and unmarshal their object payload which is generally considered unsafe because a malicious payload can exploit the host system. [Lots of CVEs](https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=objectmessage) have been created for this which is why most JMS providers force users to explicitly whitelist packages that can be exchanged using `ObjectMessage` messages. For example, here&#39;s the related documentation for [ActiveMQ 5.x](https://activemq.apache.org/objectmessage).","body":"I recommend you avoid using <code>javax.jms.ObjectMessage</code>. They depend on Java serialization to marshal and unmarshal their object payload which is generally considered unsafe because a malicious payload can exploit the host system. <a href=\"https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=objectmessage\" rel=\"nofollow noreferrer\">Lots of CVEs</a> have been created for this which is why most JMS providers force users to explicitly whitelist packages that can be exchanged using <code>ObjectMessage</code> messages. For example, here&#39;s the related documentation for <a href=\"https://activemq.apache.org/objectmessage\" rel=\"nofollow noreferrer\">ActiveMQ 5.x</a>."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1581219817,"post_id":60130803,"comment_id":106355675,"body_markdown":"If possible, instead of using `javax.jms.ObjectMessage` define a data representation for the payload (JSON, protobuf, XML) and use a `javax.jms.TextMessage` or `javax.jms.BytesMessage` to carry it. There are a number of other issues with use JMS ObjectMessage not related to security that you should [read about](http://jmesnil.net/weblog/2012/07/27/on-jms-objectmessage-and-its-pitfalls/) as well.","body":"If possible, instead of using <code>javax.jms.ObjectMessage</code> define a data representation for the payload (JSON, protobuf, XML) and use a <code>javax.jms.TextMessage</code> or <code>javax.jms.BytesMessage</code> to carry it. There are a number of other issues with use JMS ObjectMessage not related to security that you should <a href=\"http://jmesnil.net/weblog/2012/07/27/on-jms-objectmessage-and-its-pitfalls/\" rel=\"nofollow noreferrer\">read about</a> as well."}],"owner":{"account_id":15531603,"reputation":13,"user_id":11611059,"display_name":"Gdd gffg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696260174,"creation_date":1581192947,"question_id":60130803,"body_markdown":"I am writing an application in Spring (I do not use Spring Boot). The application uses the JMS broker ActiveMQ.\r\n\r\nListener:\r\n```java\r\n@Component\r\npublic class ReceiveMessage {\r\n\r\n    private HistoryService historyService;\r\n\r\n    @Autowired\r\n    public void setHistoryService(HistoryService historyService) {\r\n\r\n        this.historyService = historyService;\r\n    }\r\n\r\n    @JmsListener(destination = &quot;my_topic&quot;)\r\n    public void receiveMessage(ObjectMessage objectMessage) throws JMSException {\r\n\r\n        Object object = ((ObjectMessage) objectMessage).getObject();\r\n        System.out.println(object);\r\n        if(objectMessage.getObject() instanceof History) {\r\n            History history = (History) objectMessage.getObject();\r\n            try {\r\n                historyService.add(history);\r\n            } catch (Exception e) {\r\n                System.out.println(e.toString());\r\n            }\r\n        }\r\n```\r\nMessage Producer:\r\n```java\r\n@Component\r\npublic class MessageProducer {\r\n\r\n    @Autowired\r\n    JmsTemplate jmsTemplate;\r\n\r\n    public void sendMessage(History history) {\r\n        jmsTemplate.send(&quot;my_topic&quot;, new MessageCreator() {\r\n            public Message createMessage(Session session) throws JMSException {\r\n                ObjectMessage objectMessage = session.createObjectMessage(history);\r\n                return objectMessage;\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nJMS Config:\r\n```java\r\n@Configuration\r\n@EnableJms\r\n@ComponentScan(basePackages = &quot;com.mycomp&quot;)\r\npublic class JMSConfig {\r\n\r\n    String BROKER_URL = &quot;tcp://localhost:61616&quot;;\r\n    String BROKER_USERNAME = &quot;admin&quot;;\r\n    String BROKER_PASSWORD = &quot;admin&quot;;\r\n\r\n    @Bean\r\n    public ActiveMQConnectionFactory connectionFactory(){\r\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\r\n        connectionFactory.setBrokerURL(BROKER_URL);\r\n        connectionFactory.setPassword(BROKER_USERNAME);\r\n        connectionFactory.setUserName(BROKER_PASSWORD);\r\n        return connectionFactory;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public JmsTemplate jmsTemplate(){\r\n        JmsTemplate template = new JmsTemplate();\r\n        template.setConnectionFactory(connectionFactory());\r\n        template.setPubSubDomain(true); // для работы с topic\r\n        //утсановка места назначения для отправки и приема по умалчанию\r\n        // Destination defaultDestination = new ActiveMQTopic(&quot;my_topic&quot;);\r\n        // template.setDefaultDestination(defaultDestination);\r\n\r\n        return template;\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\r\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory());\r\n        factory.setConcurrency(&quot;1-1&quot;);\r\n\r\n        factory.setPubSubDomain(true); // для работы с topic\r\n        return factory;\r\n    }\r\n}\r\n```\r\nHistory class:\r\n```java\r\n@Entity (name = &quot;History&quot;)\r\n@Table(name = &quot;HISTORY&quot;, schema = &quot;PUBLIC&quot;)\r\npublic class History implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;ID&quot;)\r\n    private long id;\r\n\r\n    @Column(name = &quot;CHANGETYPE&quot;)\r\n    private String changeType;\r\n\r\n    @Column(name = &quot;CHANGEENTITY&quot;)\r\n    private String changeEntity;\r\n\r\n    @Column(name = &quot;VALUE&quot;)\r\n    private String value;\r\n\r\n    public History(){\r\n    }\r\n    //..\r\n    //setters getters\r\n```\r\nActiveMQ:\r\n\r\n[![enter image description here][1]][1]\r\n \r\nProblems: \r\n\r\n1) instead of 1 listener, 2 listeners are implemented. \r\n\r\n2) I cannot cast an object when receiving a message to the type History.\r\n\r\nI tried to see what is sent and received in debug mode\r\n\r\nSending in the MessageProducer:\r\n\r\n[![enter image description here][2]][2]\r\n \r\nThat&#39;s what the listener gets:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBut it seems that some data is here:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iFDAz.png\r\n  [2]: https://i.stack.imgur.com/OG02i.png\r\n  [3]: https://i.stack.imgur.com/cX06G.jpg\r\n  [4]: https://i.stack.imgur.com/l1US5.png","title":"2 identical JMS listeners are implemented instead of the 1st. ActiveMQ And cannot transmit and receive the object","body":"<p>I am writing an application in Spring (I do not use Spring Boot). The application uses the JMS broker ActiveMQ.</p>\n<p>Listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ReceiveMessage {\n\n    private HistoryService historyService;\n\n    @Autowired\n    public void setHistoryService(HistoryService historyService) {\n\n        this.historyService = historyService;\n    }\n\n    @JmsListener(destination = &quot;my_topic&quot;)\n    public void receiveMessage(ObjectMessage objectMessage) throws JMSException {\n\n        Object object = ((ObjectMessage) objectMessage).getObject();\n        System.out.println(object);\n        if(objectMessage.getObject() instanceof History) {\n            History history = (History) objectMessage.getObject();\n            try {\n                historyService.add(history);\n            } catch (Exception e) {\n                System.out.println(e.toString());\n            }\n        }\n</code></pre>\n<p>Message Producer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MessageProducer {\n\n    @Autowired\n    JmsTemplate jmsTemplate;\n\n    public void sendMessage(History history) {\n        jmsTemplate.send(&quot;my_topic&quot;, new MessageCreator() {\n            public Message createMessage(Session session) throws JMSException {\n                ObjectMessage objectMessage = session.createObjectMessage(history);\n                return objectMessage;\n            }\n        });\n    }\n}\n</code></pre>\n<p>JMS Config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableJms\n@ComponentScan(basePackages = &quot;com.mycomp&quot;)\npublic class JMSConfig {\n\n    String BROKER_URL = &quot;tcp://localhost:61616&quot;;\n    String BROKER_USERNAME = &quot;admin&quot;;\n    String BROKER_PASSWORD = &quot;admin&quot;;\n\n    @Bean\n    public ActiveMQConnectionFactory connectionFactory(){\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\n        connectionFactory.setBrokerURL(BROKER_URL);\n        connectionFactory.setPassword(BROKER_USERNAME);\n        connectionFactory.setUserName(BROKER_PASSWORD);\n        return connectionFactory;\n    }\n\n\n    @Bean\n    public JmsTemplate jmsTemplate(){\n        JmsTemplate template = new JmsTemplate();\n        template.setConnectionFactory(connectionFactory());\n        template.setPubSubDomain(true); // для работы с topic\n        //утсановка места назначения для отправки и приема по умалчанию\n        // Destination defaultDestination = new ActiveMQTopic(&quot;my_topic&quot;);\n        // template.setDefaultDestination(defaultDestination);\n\n        return template;\n    }\n\n\n\n    @Bean\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        factory.setConnectionFactory(connectionFactory());\n        factory.setConcurrency(&quot;1-1&quot;);\n\n        factory.setPubSubDomain(true); // для работы с topic\n        return factory;\n    }\n}\n</code></pre>\n<p>History class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity (name = &quot;History&quot;)\n@Table(name = &quot;HISTORY&quot;, schema = &quot;PUBLIC&quot;)\npublic class History implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;)\n    private long id;\n\n    @Column(name = &quot;CHANGETYPE&quot;)\n    private String changeType;\n\n    @Column(name = &quot;CHANGEENTITY&quot;)\n    private String changeEntity;\n\n    @Column(name = &quot;VALUE&quot;)\n    private String value;\n\n    public History(){\n    }\n    //..\n    //setters getters\n</code></pre>\n<p>ActiveMQ:</p>\n<p><a href=\"https://i.stack.imgur.com/iFDAz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iFDAz.png\" alt=\"enter image description here\" /></a></p>\n<p>Problems:</p>\n<ol>\n<li><p>instead of 1 listener, 2 listeners are implemented.</p>\n</li>\n<li><p>I cannot cast an object when receiving a message to the type History.</p>\n</li>\n</ol>\n<p>I tried to see what is sent and received in debug mode</p>\n<p>Sending in the MessageProducer:</p>\n<p><a href=\"https://i.stack.imgur.com/OG02i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OG02i.png\" alt=\"enter image description here\" /></a></p>\n<p>That's what the listener gets:</p>\n<p><a href=\"https://i.stack.imgur.com/cX06G.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cX06G.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But it seems that some data is here:</p>\n<p><a href=\"https://i.stack.imgur.com/l1US5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l1US5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ajax","image","jsp","struts"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1380880992,"post_id":19178394,"comment_id":28373551,"body_markdown":"What is a src location?","body":"What is a src location?"},{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":0,"creation_date":1380882022,"post_id":19178394,"comment_id":28374040,"body_markdown":"thanks for quick reply src location is D:/resources/images/ i.e. outside server directory.","body":"thanks for quick reply src location is D:/resources/images/ i.e. outside server directory."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1380882246,"post_id":19178394,"comment_id":28374157,"body_markdown":"Post the code with comment where you are getting this.","body":"Post the code with comment where you are getting this."},{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":0,"creation_date":1380882723,"post_id":19178394,"comment_id":28374429,"body_markdown":"sorry I am getting this error while posting: Users with less than 10 reputation can&#39;t answer their own question for 8 hours after asking. You can answer in 7 hours. Until then please use comments, or edit your question instead.","body":"sorry I am getting this error while posting: Users with less than 10 reputation can&#39;t answer their own question for 8 hours after asking. You can answer in 7 hours. Until then please use comments, or edit your question instead."},{"owner":{"account_id":472669,"reputation":9843,"user_id":881272,"accept_rate":67,"display_name":"Angelo Fuchs"},"score":1,"creation_date":1380884730,"post_id":19178394,"comment_id":28375445,"body_markdown":"You should not answer your question EXCEPT when you have an ANSWER to your QUESTION. If you want to add details use the EDIT feature.","body":"You should not answer your question EXCEPT when you have an ANSWER to your QUESTION. If you want to add details use the EDIT feature."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1380885419,"creation_date":1380885108,"answer_id":19179784,"question_id":19178394,"body_markdown":"You can&#39;t render images in such way. Web server treated your image path as relative and add qualifying url location on the server. You should create an action to serve images, for example \r\n\r\n    &lt;action path=&quot;/image&quot; ... scope=&quot;request&quot; validate=&quot;false&quot;/&gt;\r\n\r\nThen render HTML like\r\n\r\n    cell.innerHTML=&quot;&lt;img src=&#39;&quot; + &#39;/image?path=&#39; + imagePath + &quot;&#39; alt=&#39;&quot; + imagePath + &quot;&#39; height=&#39;42&#39; width=&#39;42&#39;&gt;&quot;;\r\n\r\nNow, create the action that write the binary image data to the response output stream. Take a parameter `path` in the action that let you find a file for binary output. After the flushing output return `null` so struts should not forward the action further. You could also add headers to turn off a `Cache-Control` to make sure the images are retrieved from the server.   ","title":"How to display an image which is outside of the server directory in Struts","body":"<p>You can't render images in such way. Web server treated your image path as relative and add qualifying url location on the server. You should create an action to serve images, for example </p>\n\n<pre><code>&lt;action path=\"/image\" ... scope=\"request\" validate=\"false\"/&gt;\n</code></pre>\n\n<p>Then render HTML like</p>\n\n<pre><code>cell.innerHTML=\"&lt;img src='\" + '/image?path=' + imagePath + \"' alt='\" + imagePath + \"' height='42' width='42'&gt;\";\n</code></pre>\n\n<p>Now, create the action that write the binary image data to the response output stream. Take a parameter <code>path</code> in the action that let you find a file for binary output. After the flushing output return <code>null</code> so struts should not forward the action further. You could also add headers to turn off a <code>Cache-Control</code> to make sure the images are retrieved from the server.   </p>\n"},{"tags":[],"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396557050,"creation_date":1381732355,"answer_id":19354621,"question_id":19178394,"body_markdown":"Hi Below is the answer to my question, I have created `ImageServlet` for displaying image, steps to perform: \r\n\r\n**1. you need to add mapping in web.xml file:**\r\n\r\n\t\t&lt;servlet-name&gt;ImageServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/ImageServlet/*&lt;/url-pattern&gt;\r\n\r\n**2. create** `ImageServlet`:\r\n\r\n\r\n\r\n\r\n    public class ImageServlet extends HttpServlet {\r\n    \t\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException\r\n        {\r\n        \t\r\n        \t//Setting image path\r\n        \tImageLocationService locationService = new ImageLocationService();\r\n        \t\r\n        \ttry {\r\n        \t\tString imageCategory = request.getParameter(&quot;imageCategory&quot;);\r\n        \t\tif (imageCategory != null) {\r\n            \t\tthis.imagePath = locationService.getImageLocation(imageCategory);\r\n        \t\t}else{\r\n        \t\t\tthis.imagePath = ConfigConstants.imageLocation;\r\n        \t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n        \t\r\n            // Get requested image by path info.\r\n            String requestedImage = request.getPathInfo();\r\n    \r\n            // Check if file name is actually supplied to the request URI.\r\n            if (requestedImage == null) {\r\n                // Do your thing if the image is not supplied to the request URI.\r\n                // Throw an exception, or send 404, or show default/warning image, or just ignore it.\r\n                response.sendError(HttpServletResponse.SC_NOT_FOUND); // 404.\r\n                return;\r\n            }\r\n    \r\n            // Decode the file name (might contain spaces and on) and prepare file object.\r\n            File image = new File(imagePath, URLDecoder.decode(requestedImage, &quot;UTF-8&quot;));\r\n    \r\n            // Check if file actually exists in filesystem.\r\n            if (!image.exists()) {\r\n                // Do your thing if the file appears to be non-existing.\r\n                // Throw an exception, or send 404, or show default/warning image, or just ignore it.\r\n                response.sendError(HttpServletResponse.SC_NOT_FOUND); // 404.\r\n                return;\r\n            }\r\n    \r\n            // Get content type by filename.\r\n            String contentType = getServletContext().getMimeType(image.getName());\r\n    \r\n            // Check if file is actually an image (avoid download of other files by hackers!).\r\n            // For all content types, see: http://www.w3schools.com/media/media_mimeref.asp\r\n            if (contentType == null || !contentType.startsWith(&quot;image&quot;)) {\r\n                // Do your thing if the file appears not being a real image.\r\n                // Throw an exception, or send 404, or show default/warning image, or just ignore it.\r\n                response.sendError(HttpServletResponse.SC_NOT_FOUND); // 404.\r\n                return;\r\n            }\r\n    \r\n            // Init servlet response.\r\n            response.reset();\r\n            response.setBufferSize(DEFAULT_BUFFER_SIZE);\r\n            response.setContentType(contentType);\r\n            response.setHeader(&quot;Content-Length&quot;, String.valueOf(image.length()));\r\n            response.setHeader(&quot;Content-Disposition&quot;, &quot;inline; filename=\\&quot;&quot; + image.getName() + &quot;\\&quot;&quot;);\r\n    \r\n            // Prepare streams.\r\n            BufferedInputStream input = null;\r\n            BufferedOutputStream output = null;\r\n    \r\n            try {\r\n                // Open streams.\r\n                input = new BufferedInputStream(new FileInputStream(image), DEFAULT_BUFFER_SIZE);\r\n                output = new BufferedOutputStream(response.getOutputStream(), DEFAULT_BUFFER_SIZE);\r\n    \r\n                // Write file contents to response.\r\n                byte[] buffer = new byte[DEFAULT_BUFFER_SIZE];\r\n                int length;\r\n                while ((length = input.read(buffer)) &gt; 0) {\r\n                    output.write(buffer, 0, length);\r\n                }\r\n            } finally {\r\n                // Gently close streams.\r\n                close(output);\r\n                close(input);\r\n            }\r\n        }\r\n    \r\n    \tprivate static void close(Closeable resource) {\r\n            if (resource != null) {\r\n                try {\r\n                    resource.close();\r\n                } catch (IOException e) {\r\n                    // Do your thing with the exception. Print it, log it or mail it.\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**3. At jsp side you need to add the mapping in step 1 in your** `img` **tag i.e. input type=&#39;image&#39;:**\r\n\r\n    &lt;input  type=&quot;image&quot; alt=&#39;No image found&#39; src=&#39;../ImageServlet/append image name that you want to display&#39; /&gt;\r\n\r\n\r\nYou can even create `Action` class and use `execute` method for doing the same.","title":"How to display an image which is outside of the server directory in Struts","body":"<p>Hi Below is the answer to my question, I have created <code>ImageServlet</code> for displaying image, steps to perform: </p>\n\n<p><strong>1. you need to add mapping in web.xml file:</strong></p>\n\n<pre><code>    &lt;servlet-name&gt;ImageServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/ImageServlet/*&lt;/url-pattern&gt;\n</code></pre>\n\n<p><strong>2. create</strong> <code>ImageServlet</code>:</p>\n\n<pre><code>public class ImageServlet extends HttpServlet {\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException\n    {\n\n        //Setting image path\n        ImageLocationService locationService = new ImageLocationService();\n\n        try {\n            String imageCategory = request.getParameter(\"imageCategory\");\n            if (imageCategory != null) {\n                this.imagePath = locationService.getImageLocation(imageCategory);\n            }else{\n                this.imagePath = ConfigConstants.imageLocation;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        // Get requested image by path info.\n        String requestedImage = request.getPathInfo();\n\n        // Check if file name is actually supplied to the request URI.\n        if (requestedImage == null) {\n            // Do your thing if the image is not supplied to the request URI.\n            // Throw an exception, or send 404, or show default/warning image, or just ignore it.\n            response.sendError(HttpServletResponse.SC_NOT_FOUND); // 404.\n            return;\n        }\n\n        // Decode the file name (might contain spaces and on) and prepare file object.\n        File image = new File(imagePath, URLDecoder.decode(requestedImage, \"UTF-8\"));\n\n        // Check if file actually exists in filesystem.\n        if (!image.exists()) {\n            // Do your thing if the file appears to be non-existing.\n            // Throw an exception, or send 404, or show default/warning image, or just ignore it.\n            response.sendError(HttpServletResponse.SC_NOT_FOUND); // 404.\n            return;\n        }\n\n        // Get content type by filename.\n        String contentType = getServletContext().getMimeType(image.getName());\n\n        // Check if file is actually an image (avoid download of other files by hackers!).\n        // For all content types, see: http://www.w3schools.com/media/media_mimeref.asp\n        if (contentType == null || !contentType.startsWith(\"image\")) {\n            // Do your thing if the file appears not being a real image.\n            // Throw an exception, or send 404, or show default/warning image, or just ignore it.\n            response.sendError(HttpServletResponse.SC_NOT_FOUND); // 404.\n            return;\n        }\n\n        // Init servlet response.\n        response.reset();\n        response.setBufferSize(DEFAULT_BUFFER_SIZE);\n        response.setContentType(contentType);\n        response.setHeader(\"Content-Length\", String.valueOf(image.length()));\n        response.setHeader(\"Content-Disposition\", \"inline; filename=\\\"\" + image.getName() + \"\\\"\");\n\n        // Prepare streams.\n        BufferedInputStream input = null;\n        BufferedOutputStream output = null;\n\n        try {\n            // Open streams.\n            input = new BufferedInputStream(new FileInputStream(image), DEFAULT_BUFFER_SIZE);\n            output = new BufferedOutputStream(response.getOutputStream(), DEFAULT_BUFFER_SIZE);\n\n            // Write file contents to response.\n            byte[] buffer = new byte[DEFAULT_BUFFER_SIZE];\n            int length;\n            while ((length = input.read(buffer)) &gt; 0) {\n                output.write(buffer, 0, length);\n            }\n        } finally {\n            // Gently close streams.\n            close(output);\n            close(input);\n        }\n    }\n\n    private static void close(Closeable resource) {\n        if (resource != null) {\n            try {\n                resource.close();\n            } catch (IOException e) {\n                // Do your thing with the exception. Print it, log it or mail it.\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>3. At jsp side you need to add the mapping in step 1 in your</strong> <code>img</code> <strong>tag i.e. input type='image':</strong></p>\n\n<pre><code>&lt;input  type=\"image\" alt='No image found' src='../ImageServlet/append image name that you want to display' /&gt;\n</code></pre>\n\n<p>You can even create <code>Action</code> class and use <code>execute</code> method for doing the same.</p>\n"}],"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4493,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19179784,"answer_count":2,"score":1,"last_activity_date":1696260166,"creation_date":1380880616,"question_id":19178394,"body_markdown":"This question is continuation to my previous question https://stackoverflow.com/questions/19089175/accessing-external-files-into-our-web-application, actually I am uploading file using Struts tag `&lt;html:file property=&quot;file&quot; /&gt;`\r\n\r\nBut now I wanted to show the uploaded images from that location but I am getting `src` location as `http://localhost:9443/D:/resources/images/img1.jpg` which is not a valid path for that image.\r\n\r\n**How to access that image which is outside my server directory.**\r\n\r\n\r\n\r\n\r\nThis is how I am sending Ajax response with **Absolute path** of images\r\n\r\n\r\n    public ActionForward getAjaxUploadedFiles(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception\r\n    \t{\r\n    \t\t\r\n    \t\tString imagePath = &quot;D:/resources/images/&quot;;\r\n    \t\tArrayList&lt;String&gt; path = new ArrayList&lt;String&gt;();\r\n    \t\t\r\n    \t\tFile imageFile = new File(imagePath);\r\n    \t\tFile imageFiles[] = imageFile.listFiles();\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; imageFiles.length; i++) {\r\n    \t\t\tpath.add(imageFiles[i].getAbsolutePath());\r\n    \t\t}\r\n    \t\t\r\n    \t\tPrintWriter out = response.getWriter();\r\n    \t\tresponse.setContentType(&quot;text/xml&quot;);\r\n    \t\tresponse.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n    \t\tresponse.setStatus(HttpServletResponse.SC_OK);\r\n    \t\t\r\n    \t\tStringBuffer strXMl = new StringBuffer();\r\n    \t\tstrXMl.append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;);\r\n    \t\tstrXMl.append(&quot;&lt;start&gt;&quot;); \r\n    \t\t\r\n    \t\t\r\n    \t\tfor (String imagePth : path) {\r\n    \t\t\tstrXMl.append(&quot;&lt;imagePath&gt;&quot;);\r\n    \t\t\tstrXMl.append(imagePth);\r\n    \t\t\tstrXMl.append(&quot;&lt;/imagePath&gt;&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tstrXMl.append(&quot;&lt;/start&gt;&quot;);\r\n    \t\t\r\n    \t\tif(strXMl != null){ \r\n    \t\t\tString Xml = strXMl.toString();\r\n    \t\t\tout.write(Xml);\r\n    \t\t\tSystem.err.println(&quot;XMl Reponse is: &quot; + Xml);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tresponse.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n    \t\t}\r\n    \t\tout.flush();\r\n    \t\t\r\n    \t\treturn mapping.findForward(null);\r\n    \t}\r\n\r\n\r\n\r\nThis is how I am rendering images at JSP\r\n\r\n   \r\n\r\n     $(response).find(&quot;imagePath&quot;).each(function() {\r\n        \t\trow = tblReportList.insertRow(0);\r\n        \t\trow.className=&quot;TableBordergray&quot;;\r\n        \t\trow.style.width=&quot;100%&quot;;\r\n        \t\t\r\n        \t\tvar imagePath = $(this).text();\r\n        \t\t\t\t\r\n        \t\tcell = row.insertCell(0);\r\n        \t\tcell.innerHTML=&quot;&lt;img src=&#39;&quot; + imagePath + &quot;&#39; alt=&#39;&quot; + imagePath + &quot;&#39; height=&#39;42&#39; width=&#39;42&#39;&gt;&quot;;\r\n        \t});\r\n    \r\n\r\n\r\nbut at `&lt;img&gt;` tag I am getting image path as `http://localhost:9443/D:/resources/images/img1.jpg`","title":"How to display an image which is outside of the server directory in Struts","body":"<p>This question is continuation to my previous question <a href=\"https://stackoverflow.com/questions/19089175/accessing-external-files-into-our-web-application\">Accessing External Files Into Our Web Application</a>, actually I am uploading file using Struts tag <code>&lt;html:file property=&quot;file&quot; /&gt;</code></p>\n<p>But now I wanted to show the uploaded images from that location but I am getting <code>src</code> location as <code>http://localhost:9443/D:/resources/images/img1.jpg</code> which is not a valid path for that image.</p>\n<p><strong>How to access that image which is outside my server directory.</strong></p>\n<p>This is how I am sending Ajax response with <strong>Absolute path</strong> of images</p>\n<pre><code>public ActionForward getAjaxUploadedFiles(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception\n    {\n        \n        String imagePath = &quot;D:/resources/images/&quot;;\n        ArrayList&lt;String&gt; path = new ArrayList&lt;String&gt;();\n        \n        File imageFile = new File(imagePath);\n        File imageFiles[] = imageFile.listFiles();\n        \n        for (int i = 0; i &lt; imageFiles.length; i++) {\n            path.add(imageFiles[i].getAbsolutePath());\n        }\n        \n        PrintWriter out = response.getWriter();\n        response.setContentType(&quot;text/xml&quot;);\n        response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\n        response.setStatus(HttpServletResponse.SC_OK);\n        \n        StringBuffer strXMl = new StringBuffer();\n        strXMl.append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;);\n        strXMl.append(&quot;&lt;start&gt;&quot;); \n        \n        \n        for (String imagePth : path) {\n            strXMl.append(&quot;&lt;imagePath&gt;&quot;);\n            strXMl.append(imagePth);\n            strXMl.append(&quot;&lt;/imagePath&gt;&quot;);\n        }\n        \n        strXMl.append(&quot;&lt;/start&gt;&quot;);\n        \n        if(strXMl != null){ \n            String Xml = strXMl.toString();\n            out.write(Xml);\n            System.err.println(&quot;XMl Reponse is: &quot; + Xml);\n        }\n        else {\n            response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n        }\n        out.flush();\n        \n        return mapping.findForward(null);\n    }\n</code></pre>\n<p>This is how I am rendering images at JSP</p>\n<pre><code> $(response).find(&quot;imagePath&quot;).each(function() {\n            row = tblReportList.insertRow(0);\n            row.className=&quot;TableBordergray&quot;;\n            row.style.width=&quot;100%&quot;;\n            \n            var imagePath = $(this).text();\n                    \n            cell = row.insertCell(0);\n            cell.innerHTML=&quot;&lt;img src='&quot; + imagePath + &quot;' alt='&quot; + imagePath + &quot;' height='42' width='42'&gt;&quot;;\n        });\n</code></pre>\n<p>but at <code>&lt;img&gt;</code> tag I am getting image path as <code>http://localhost:9443/D:/resources/images/img1.jpg</code></p>\n"},{"tags":["java","postgresql","migration","liquibase"],"comments":[{"owner":{"account_id":131902,"reputation":6273,"user_id":332248,"accept_rate":62,"display_name":"Jens"},"score":1,"creation_date":1454492973,"post_id":35172172,"comment_id":58064455,"body_markdown":"The documentation on postgresql says for the `default clause` (on `create table` statement): *The `DEFAULT` clause assigns a default data value for the column whose column definition it appears within. The value is any variable-free expression (subqueries and cross-references to other columns in the current table are not allowed)...* And I don&#39;t think that liquibase has some functionality to add this in any way...","body":"The documentation on postgresql says for the <code>default clause</code> (on <code>create table</code> statement): <i>The <code>DEFAULT</code> clause assigns a default data value for the column whose column definition it appears within. The value is any variable-free expression (subqueries and cross-references to other columns in the current table are not allowed)...</i> And I don&#39;t think that liquibase has some functionality to add this in any way..."}],"answers":[{"comments":[{"owner":{"account_id":1173645,"reputation":3069,"user_id":1150189,"accept_rate":69,"display_name":"Noam"},"score":0,"creation_date":1454592507,"post_id":35182292,"comment_id":58120253,"body_markdown":"Thanks @SteveDonie, but what should be the WHERE clause in the procedure or the SQL?","body":"Thanks @SteveDonie, but what should be the WHERE clause in the procedure or the SQL?"},{"owner":{"account_id":6542,"reputation":8830,"user_id":11051,"accept_rate":67,"display_name":"SteveDonie"},"score":1,"creation_date":1454599821,"post_id":35182292,"comment_id":58125679,"body_markdown":"I don&#39;t know what your where clause should be - you didn&#39;t specify the condition in your question.","body":"I don&#39;t know what your where clause should be - you didn&#39;t specify the condition in your question."},{"owner":{"account_id":1173645,"reputation":3069,"user_id":1150189,"accept_rate":69,"display_name":"Noam"},"score":0,"creation_date":1454602106,"post_id":35182292,"comment_id":58127358,"body_markdown":"What I want to accomplish here is mainly to create a new column with the default value - the default value (for existing entries in the table) should be the same value from another column. \nFor example, if I already have an entry in the table like this:\nID = 333\nDATE = ... \nNAME = name\nCREATOR = Steve\n\nI want the new created column to have the value &#39;Steve&#39; as a default value - for new created entries - I will handle the value in the business logic","body":"What I want to accomplish here is mainly to create a new column with the default value - the default value (for existing entries in the table) should be the same value from another column.  For example, if I already have an entry in the table like this: ID = 333 DATE = ...  NAME = name CREATOR = Steve  I want the new created column to have the value &#39;Steve&#39; as a default value - for new created entries - I will handle the value in the business logic"},{"owner":{"account_id":1173645,"reputation":3069,"user_id":1150189,"accept_rate":69,"display_name":"Noam"},"score":1,"creation_date":1455548596,"post_id":35182292,"comment_id":58525978,"body_markdown":"Eventually I&#39;ve managed it in the following manner (all in one changeset):\n1) Create a new nullable column\n2) Use the &lt;sql&gt; tag to update the new column\n3) Add non-nullable constraint on the new column","body":"Eventually I&#39;ve managed it in the following manner (all in one changeset): 1) Create a new nullable column 2) Use the &lt;sql&gt; tag to update the new column 3) Add non-nullable constraint on the new column"},{"owner":{"account_id":7608249,"reputation":333,"user_id":5770135,"display_name":"Raf"},"score":0,"creation_date":1571250578,"post_id":35182292,"comment_id":103181507,"body_markdown":"Notice that `&lt;addColumn&gt;` combined with adding not-null constraint is bad practice. It will fail if table contains data. See topic: [Adding a non-nullable column to existing table fails](https://stackoverflow.com/a/8906534/5770135).","body":"Notice that <code>&lt;addColumn&gt;</code> combined with adding not-null constraint is bad practice. It will fail if table contains data. See topic: <a href=\"https://stackoverflow.com/a/8906534/5770135\">Adding a non-nullable column to existing table fails</a>."}],"tags":[],"owner":{"account_id":6542,"reputation":8830,"user_id":11051,"accept_rate":67,"display_name":"SteveDonie"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1454516525,"creation_date":1454516525,"answer_id":35182292,"question_id":35172172,"body_markdown":"You could use the `defaultValueComputed` attribute, which takes the name of a procedure or function. You would have to also create a changeset that creates the procedure. \r\n\r\nThat might look *something* like this:\r\n\r\n    &lt;changeSet author=&quot;steve&quot; id=&quot;createProcedureForDefaultValue&quot;&gt;\r\n        &lt;createProcedure procedureName=&quot;myCoolProc&quot;&gt;\r\n        CREATE OR REPLACE PROCEDURE myCoolProc IS\r\n        BEGIN\r\n           -- actual logic here\r\n        END;\r\n        &lt;/createProcedure&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n    &lt;changeSet author=&quot;steve&quot; id=&quot;addDefaultValueColumn&quot;&gt;\r\n        &lt;addColumn tableName=&quot;ORDERS&quot;&gt;\r\n            &lt;column name=&quot;LAST_MODIFIED_BY&quot; type=&quot;VARCHAR&quot; defaultValueComputed=&quot;myCoolProc&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n        &lt;/addColumn&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nAlternatively, you could do this using the `&lt;sql&gt;` tag.\r\n","title":"How to add new column with default value from existing column in Liquibase","body":"<p>You could use the <code>defaultValueComputed</code> attribute, which takes the name of a procedure or function. You would have to also create a changeset that creates the procedure. </p>\n\n<p>That might look <em>something</em> like this:</p>\n\n<pre><code>&lt;changeSet author=\"steve\" id=\"createProcedureForDefaultValue\"&gt;\n    &lt;createProcedure procedureName=\"myCoolProc\"&gt;\n    CREATE OR REPLACE PROCEDURE myCoolProc IS\n    BEGIN\n       -- actual logic here\n    END;\n    &lt;/createProcedure&gt;\n&lt;/changeSet&gt;\n\n&lt;changeSet author=\"steve\" id=\"addDefaultValueColumn\"&gt;\n    &lt;addColumn tableName=\"ORDERS\"&gt;\n        &lt;column name=\"LAST_MODIFIED_BY\" type=\"VARCHAR\" defaultValueComputed=\"myCoolProc\"&gt;\n            &lt;constraints nullable=\"false\"/&gt;\n        &lt;/column&gt;\n    &lt;/addColumn&gt;\n&lt;/changeSet&gt;\n</code></pre>\n\n<p>Alternatively, you could do this using the <code>&lt;sql&gt;</code> tag.</p>\n"},{"tags":[],"owner":{"account_id":1173645,"reputation":3069,"user_id":1150189,"accept_rate":69,"display_name":"Noam"},"comment_count":0,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1692468577,"creation_date":1456046277,"answer_id":35534339,"question_id":35172172,"body_markdown":"Since no one answered here I&#39;m posting the way I handled it:\r\n\r\n    &lt;changeSet id=&quot;Add MODIFY_USER_ID to ORDERS&quot; author=&quot;Noam&quot;&gt;\r\n        &lt;addColumn tableName=&quot;ORDERS&quot;&gt;\r\n            &lt;column name=&quot;MODIFY_USER_ID&quot; type=&quot;BIGINT&quot;&gt;\r\n                &lt;constraints foreignKeyName=&quot;ORDERS_MODIFY_FK&quot; referencedTableName=&quot;USERS&quot; referencedColumnNames=&quot;ID&quot; /&gt;\r\n            &lt;/column&gt;\r\n        &lt;/addColumn&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n    &lt;changeSet id=&quot;update the new MODIFY_USER_ID column to get the CREATOR&quot; author=&quot;Noam&quot;&gt;\r\n        &lt;sql&gt;update ORDERS set MODIFY_USER_ID = CREATOR&lt;/sql&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n    &lt;changeSet id=&quot;Add not nullable constraint on MODIFY_USER_ID column&quot; author=&quot;Noam&quot;&gt;\r\n        &lt;addNotNullConstraint tableName=&quot;ORDERS&quot; columnName=&quot;MODIFY_USER_ID&quot; columnDataType=&quot;BIGINT&quot; /&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nI&#39;ve done this in three different change-sets as the documentation recommends\r\n","title":"How to add new column with default value from existing column in Liquibase","body":"<p>Since no one answered here I'm posting the way I handled it:</p>\n<pre><code>&lt;changeSet id=&quot;Add MODIFY_USER_ID to ORDERS&quot; author=&quot;Noam&quot;&gt;\n    &lt;addColumn tableName=&quot;ORDERS&quot;&gt;\n        &lt;column name=&quot;MODIFY_USER_ID&quot; type=&quot;BIGINT&quot;&gt;\n            &lt;constraints foreignKeyName=&quot;ORDERS_MODIFY_FK&quot; referencedTableName=&quot;USERS&quot; referencedColumnNames=&quot;ID&quot; /&gt;\n        &lt;/column&gt;\n    &lt;/addColumn&gt;\n&lt;/changeSet&gt;\n\n&lt;changeSet id=&quot;update the new MODIFY_USER_ID column to get the CREATOR&quot; author=&quot;Noam&quot;&gt;\n    &lt;sql&gt;update ORDERS set MODIFY_USER_ID = CREATOR&lt;/sql&gt;\n&lt;/changeSet&gt;\n\n&lt;changeSet id=&quot;Add not nullable constraint on MODIFY_USER_ID column&quot; author=&quot;Noam&quot;&gt;\n    &lt;addNotNullConstraint tableName=&quot;ORDERS&quot; columnName=&quot;MODIFY_USER_ID&quot; columnDataType=&quot;BIGINT&quot; /&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p>I've done this in three different change-sets as the documentation recommends</p>\n"},{"tags":[],"owner":{"account_id":24364347,"reputation":11,"user_id":18298281,"display_name":"user18298281"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696260136,"creation_date":1645699793,"answer_id":71250770,"question_id":35172172,"body_markdown":"you can try this:\r\n\r\n    &lt;column name=&quot;columnName&quot; type=&quot;VARCHAR(255 BYTE)&quot; defaultValue=&quot;def_value&quot; value=&quot;def_value&quot;&gt;\r\n\r\n","title":"How to add new column with default value from existing column in Liquibase","body":"<p>you can try this:</p>\n<pre><code>&lt;column name=&quot;columnName&quot; type=&quot;VARCHAR(255 BYTE)&quot; defaultValue=&quot;def_value&quot; value=&quot;def_value&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":1173645,"reputation":3069,"user_id":1150189,"accept_rate":69,"display_name":"Noam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30606,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":35534339,"answer_count":3,"score":21,"last_activity_date":1696260136,"creation_date":1454489072,"question_id":35172172,"body_markdown":"I&#39;m using Postgres DB and for migration I&#39;m using Liquibase.\r\nI have an ORDERS table with the following columns:\r\n\r\n    ID | DATE | NAME | CREATOR | ...\r\nI need to add a new column which will hold the user who has last modified the order - this column should be not-nullable and should have default value which is the CREATOR.\r\nFor new orders I can solve the default value part of the business logic, **but** thing is I already have an existing orders and I need to set the default value when I create the new column.\r\nNow, I know I can set a hard-coded [default value in Liquibase][1] - but is there a way I could add the default value based on some other column of that table (for each entity).\r\n \r\n\r\n\r\n  [1]: http://www.liquibase.org/documentation/changes/add_default_value.html","title":"How to add new column with default value from existing column in Liquibase","body":"<p>I'm using Postgres DB and for migration I'm using Liquibase.\nI have an ORDERS table with the following columns:</p>\n\n<pre><code>ID | DATE | NAME | CREATOR | ...\n</code></pre>\n\n<p>I need to add a new column which will hold the user who has last modified the order - this column should be not-nullable and should have default value which is the CREATOR.\nFor new orders I can solve the default value part of the business logic, <strong>but</strong> thing is I already have an existing orders and I need to set the default value when I create the new column.\nNow, I know I can set a hard-coded <a href=\"http://www.liquibase.org/documentation/changes/add_default_value.html\" rel=\"noreferrer\">default value in Liquibase</a> - but is there a way I could add the default value based on some other column of that table (for each entity).</p>\n"},{"tags":["java","activemq","activemq-artemis","jbossfuse"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696259600,"creation_date":1581863968,"answer_id":60249616,"question_id":60247260,"body_markdown":"The &quot;Summary&quot; from the [linked example][1] says:\r\n\r\n&gt; This quickstart demonstrates how to use the camel-jms component to connect to an **AMQ 7** broker and use JMS messaging between two Camel routes. [emphasis added]\r\n\r\nAMQ 7 is based on [ActiveMQ Artemis][2], not ActiveMQ &quot;Classic&quot; (which you are using). ActiveMQ &quot;Classic&quot; doesn&#39;t support the &quot;core&quot; protocol which the Artemis JMS client implementation speaks.\r\n\r\nTherefore, you should either change the Camel configuration to use the ActiveMQ &quot;Classic&quot; OpenWire JMS client implementation or replace your ActiveMQ 5.15.11 instance with ActiveMQ Artemis.\r\n\r\n\r\n  [1]: https://github.com/jboss-fuse/karaf-quickstarts/tree/release-work-7.4.0.fuse-740/camel/camel-jms\r\n  [2]: http://activemq.apache.org/components/artemis/","title":"JBoss FUSE 7.4 with External ActiveMQ giving AMQ219013: Timed out waiting to receive cluster topology. Group:null","body":"<p>The &quot;Summary&quot; from the <a href=\"https://github.com/jboss-fuse/karaf-quickstarts/tree/release-work-7.4.0.fuse-740/camel/camel-jms\" rel=\"nofollow noreferrer\">linked example</a> says:</p>\n<blockquote>\n<p>This quickstart demonstrates how to use the camel-jms component to connect to an <strong>AMQ 7</strong> broker and use JMS messaging between two Camel routes. [emphasis added]</p>\n</blockquote>\n<p>AMQ 7 is based on <a href=\"http://activemq.apache.org/components/artemis/\" rel=\"nofollow noreferrer\">ActiveMQ Artemis</a>, not ActiveMQ &quot;Classic&quot; (which you are using). ActiveMQ &quot;Classic&quot; doesn't support the &quot;core&quot; protocol which the Artemis JMS client implementation speaks.</p>\n<p>Therefore, you should either change the Camel configuration to use the ActiveMQ &quot;Classic&quot; OpenWire JMS client implementation or replace your ActiveMQ 5.15.11 instance with ActiveMQ Artemis.</p>\n"},{"tags":[],"owner":{"account_id":469437,"reputation":2024,"user_id":876011,"display_name":"Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1582957324,"creation_date":1582957324,"answer_id":60462542,"question_id":60247260,"body_markdown":"As instructions mentioned in that example its not compatible with JBossFUSE 7.4.\r\nIn your case you have to install following features \r\n\r\n        &lt;feature&gt;camel-jms&lt;/feature&gt;\r\n        &lt;feature&gt;camel-activemq&lt;/feature&gt;\r\n        &lt;feature&gt;pax-jms-activemq&lt;/feature&gt;\r\n\r\nThen you have to define your ActiveMQ endpoint inside your project blueprint.xml. Make sure to details correctly in here.\r\n\r\n      &lt;bean id=&quot;activemq&quot; class=&quot;org.apache.activemq.camel.component.ActiveMQComponent&quot;&gt;\r\n\r\n       &lt;property name=&quot;brokerURL&quot; value=&quot;tcp://localhost:61616&quot;/&gt;\r\n\r\n      &lt;/bean&gt;\r\n\r\nThen you can read or right in to Queues. Following line show how you can read queue &quot;inbound.queue&quot;\r\n\r\n    &lt;from uri=&quot;activemq:queue:inbound.queue&quot;/&gt;\r\n\r\nYou can refer to following blog for more detail description about how to configure ActiveMQ in Fuse 7.4.\r\n\r\nhttps://nirmalbalasooriya.blogspot.com/2020/02/external-active-mq-hibernate-with-jboss.html","title":"JBoss FUSE 7.4 with External ActiveMQ giving AMQ219013: Timed out waiting to receive cluster topology. Group:null","body":"<p>As instructions mentioned in that example its not compatible with JBossFUSE 7.4.\nIn your case you have to install following features </p>\n\n<pre><code>    &lt;feature&gt;camel-jms&lt;/feature&gt;\n    &lt;feature&gt;camel-activemq&lt;/feature&gt;\n    &lt;feature&gt;pax-jms-activemq&lt;/feature&gt;\n</code></pre>\n\n<p>Then you have to define your ActiveMQ endpoint inside your project blueprint.xml. Make sure to details correctly in here.</p>\n\n<pre><code>  &lt;bean id=\"activemq\" class=\"org.apache.activemq.camel.component.ActiveMQComponent\"&gt;\n\n   &lt;property name=\"brokerURL\" value=\"tcp://localhost:61616\"/&gt;\n\n  &lt;/bean&gt;\n</code></pre>\n\n<p>Then you can read or right in to Queues. Following line show how you can read queue \"inbound.queue\"</p>\n\n<pre><code>&lt;from uri=\"activemq:queue:inbound.queue\"/&gt;\n</code></pre>\n\n<p>You can refer to following blog for more detail description about how to configure ActiveMQ in Fuse 7.4.</p>\n\n<p><a href=\"https://nirmalbalasooriya.blogspot.com/2020/02/external-active-mq-hibernate-with-jboss.html\" rel=\"nofollow noreferrer\">https://nirmalbalasooriya.blogspot.com/2020/02/external-active-mq-hibernate-with-jboss.html</a></p>\n"}],"owner":{"account_id":446393,"reputation":375,"user_id":6318555,"accept_rate":64,"display_name":"casper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4324,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60462542,"answer_count":2,"score":3,"last_activity_date":1696259600,"creation_date":1581846597,"question_id":60247260,"body_markdown":"I&#39;m trying to connect to ActiveMQ message broker on JBoss FUSE 7.4 (**fuse-karaf-7.4.0.fuse-740028-redhat-00001**). I found the [following example][1].\r\n\r\nI have downloaded and installed relevant features as instructed in the project. Also I have downloaded and installed ActiveMQ &quot;Classic&quot; 5.15.11 and created the `incomingOrders` Queue.\r\n\r\nI have added the `org.ops4j.connectionfactory-amq7.cfg` configuration file in to `FUSE_HOME/etc` folder with my local user name and password as follows:\r\n\r\n```\r\nurl      = tcp://LAPTOP-E0A1RCAN:61616?maximumConnections=1000&amp;wireFormat.maxFrameSize=10485760\r\nname     = activemq\r\ntype     = artemis\r\nuser     = admin\r\npassword = admin\r\n```\r\nAfter that when I install the application I&#39;m getting following error.\r\n\r\n    java.lang.IllegalArgumentException: AMQ219032: Invalid type: 1\r\n    \tat org.apache.activemq.artemis.core.protocol.core.impl.PacketDecoder.decode(PacketDecoder.java:475) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:67) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:42) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:376) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl$DelegatingBufferHandler.bufferReceived(ClientSessionFactoryImpl.java:1191) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.remoting.impl.netty.ActiveMQChannelHandler.channelRead(ActiveMQChannelHandler.java:73) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) [239:io.netty.codec:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297) [239:io.netty.codec:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1408) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:677) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:612) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:529) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:491) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:905) [241:io.netty.common:4.1.34.Final-redhat-00001]\r\n    \tat org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    2020-02-16 17:41:34,755 | ERROR | lient-netty-threads) | o.a.a.a.c.client                 | 248 - org.apache.activemq.artemis-jms-client-osgi - 2.7.0.redhat-00056 | AMQ214031: Failed to decode buffer, disconnect immediately.\r\n    java.lang.IllegalStateException: java.lang.IllegalArgumentException: AMQ219032: Invalid type: 1\r\n    \tat org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:389) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl$DelegatingBufferHandler.bufferReceived(ClientSessionFactoryImpl.java:1191) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.remoting.impl.netty.ActiveMQChannelHandler.channelRead(ActiveMQChannelHandler.java:73) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) [239:io.netty.codec:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297) [239:io.netty.codec:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1408) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:677) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:612) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:529) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:491) [244:io.netty.transport:4.1.34.Final-redhat-00001]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:905) [241:io.netty.common:4.1.34.Final-redhat-00001]\r\n    \tat org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    Caused by: java.lang.IllegalArgumentException: AMQ219032: Invalid type: 1\r\n    \tat org.apache.activemq.artemis.core.protocol.core.impl.PacketDecoder.decode(PacketDecoder.java:475) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:67) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:42) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \tat org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:376) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\r\n    \t... 21 more\r\n\r\nIn ActiveMQ log, I could see following warning .\r\n\r\n    2020-02-16 17:44:29,802 | WARN  | Transport Connection to: tcp://127.0.0.1:51000 failed: java.io.IOException: Frame size of 1 GB larger than max allowed 100 MB | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ Transport: tcp:///127.0.0.1:51000@61616\r\n\r\nDid any one have similar issues connecting to ActiveMQ with FUSE 7.4 or 7.1+?\r\n\r\n\r\n  [1]: https://github.com/jboss-fuse/karaf-quickstarts/tree/release-work-7.4.0.fuse-740/camel/camel-jms","title":"JBoss FUSE 7.4 with External ActiveMQ giving AMQ219013: Timed out waiting to receive cluster topology. Group:null","body":"<p>I'm trying to connect to ActiveMQ message broker on JBoss FUSE 7.4 (<strong>fuse-karaf-7.4.0.fuse-740028-redhat-00001</strong>). I found the <a href=\"https://github.com/jboss-fuse/karaf-quickstarts/tree/release-work-7.4.0.fuse-740/camel/camel-jms\" rel=\"nofollow noreferrer\">following example</a>.</p>\n<p>I have downloaded and installed relevant features as instructed in the project. Also I have downloaded and installed ActiveMQ &quot;Classic&quot; 5.15.11 and created the <code>incomingOrders</code> Queue.</p>\n<p>I have added the <code>org.ops4j.connectionfactory-amq7.cfg</code> configuration file in to <code>FUSE_HOME/etc</code> folder with my local user name and password as follows:</p>\n<pre><code>url      = tcp://LAPTOP-E0A1RCAN:61616?maximumConnections=1000&amp;wireFormat.maxFrameSize=10485760\nname     = activemq\ntype     = artemis\nuser     = admin\npassword = admin\n</code></pre>\n<p>After that when I install the application I'm getting following error.</p>\n<pre><code>java.lang.IllegalArgumentException: AMQ219032: Invalid type: 1\n    at org.apache.activemq.artemis.core.protocol.core.impl.PacketDecoder.decode(PacketDecoder.java:475) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:67) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:42) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:376) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl$DelegatingBufferHandler.bufferReceived(ClientSessionFactoryImpl.java:1191) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.remoting.impl.netty.ActiveMQChannelHandler.channelRead(ActiveMQChannelHandler.java:73) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) [239:io.netty.codec:4.1.34.Final-redhat-00001]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297) [239:io.netty.codec:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1408) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:677) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:612) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:529) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:491) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:905) [241:io.netty.common:4.1.34.Final-redhat-00001]\n    at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n2020-02-16 17:41:34,755 | ERROR | lient-netty-threads) | o.a.a.a.c.client                 | 248 - org.apache.activemq.artemis-jms-client-osgi - 2.7.0.redhat-00056 | AMQ214031: Failed to decode buffer, disconnect immediately.\njava.lang.IllegalStateException: java.lang.IllegalArgumentException: AMQ219032: Invalid type: 1\n    at org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:389) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl$DelegatingBufferHandler.bufferReceived(ClientSessionFactoryImpl.java:1191) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.remoting.impl.netty.ActiveMQChannelHandler.channelRead(ActiveMQChannelHandler.java:73) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) [239:io.netty.codec:4.1.34.Final-redhat-00001]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297) [239:io.netty.codec:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1408) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:677) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:612) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:529) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:491) [244:io.netty.transport:4.1.34.Final-redhat-00001]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:905) [241:io.netty.common:4.1.34.Final-redhat-00001]\n    at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118) [248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\nCaused by: java.lang.IllegalArgumentException: AMQ219032: Invalid type: 1\n    at org.apache.activemq.artemis.core.protocol.core.impl.PacketDecoder.decode(PacketDecoder.java:475) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:67) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.protocol.ClientPacketDecoder.decode(ClientPacketDecoder.java:42) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    at org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:376) ~[248:org.apache.activemq.artemis-jms-client-osgi:2.7.0.redhat-00056]\n    ... 21 more\n</code></pre>\n<p>In ActiveMQ log, I could see following warning .</p>\n<pre><code>2020-02-16 17:44:29,802 | WARN  | Transport Connection to: tcp://127.0.0.1:51000 failed: java.io.IOException: Frame size of 1 GB larger than max allowed 100 MB | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ Transport: tcp:///127.0.0.1:51000@61616\n</code></pre>\n<p>Did any one have similar issues connecting to ActiveMQ with FUSE 7.4 or 7.1+?</p>\n"},{"tags":["java","ajax","jsp","struts2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1633871579,"post_id":69510511,"comment_id":122870793,"body_markdown":"Actions are mapped via the URL. If you want to execute another action then you should change the URL. You can do it different ways. Which one is used by you is unknown. One of the solution is to change configuration to reflect a web workflow for actions to return results. The result configuration might be defferent for those actions that should not appiar in the URL. The answer for you problem is [here](https://stackoverflow.com/a/42371170/573032)","body":"Actions are mapped via the URL. If you want to execute another action then you should change the URL. You can do it different ways. Which one is used by you is unknown. One of the solution is to change configuration to reflect a web workflow for actions to return results. The result configuration might be defferent for those actions that should not appiar in the URL. The answer for you problem is <a href=\"https://stackoverflow.com/a/42371170/573032\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":1513574,"reputation":168,"user_id":5899384,"display_name":"Rodrigo R. Coelho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634315565,"creation_date":1634314729,"answer_id":69587751,"question_id":69510511,"body_markdown":"Create a SuccessAction with redirectAction class. \r\n\r\n    &lt;action name=&quot;plantillasAction_*&quot; method=&quot;{1}&quot; class=&quot;com.xxx.action.ActionPlantillas&quot;&gt; \r\n    &lt;result name=&quot;success&quot;&gt;/jsp/plantillas/ResultTemplates.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n    &lt;action name=&quot;SuccessAction&quot; class=&quot;SuccessPage&quot;&gt;\r\n    &lt;result name=&quot;success&quot;&gt;/jsp/plantillas/success.jsp&lt;/result&gt;\r\n    &lt;action name=&quot;manual_order&quot; class=&quot;materialTypeMasterAction&quot; method=&quot;enquiry_process&quot;&gt;\r\n    &lt;result type=&quot;redirectAction&quot;&gt;SuccessAction&lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\nLike this:\r\n[Prevent action resubmission](https://stackoverflow.com/a/24574053/5899384)\r\n\r\nPlease notice that if you do not change the URL, it will always resubmit the form. So if you implement this solution above, the url will change on success (redirectSuccess).\r\n\r\nYou don&#39;t have to really create a new success page, you can redirect to the original url/action in which the form is loaded (clean).\r\n\r\nI hope this helps. \r\n","title":"How to stop my action from executing when I refresh my page?","body":"<p>Create a SuccessAction with redirectAction class.</p>\n<pre><code>&lt;action name=&quot;plantillasAction_*&quot; method=&quot;{1}&quot; class=&quot;com.xxx.action.ActionPlantillas&quot;&gt; \n&lt;result name=&quot;success&quot;&gt;/jsp/plantillas/ResultTemplates.jsp&lt;/result&gt;\n&lt;/action&gt;\n&lt;action name=&quot;SuccessAction&quot; class=&quot;SuccessPage&quot;&gt;\n&lt;result name=&quot;success&quot;&gt;/jsp/plantillas/success.jsp&lt;/result&gt;\n&lt;action name=&quot;manual_order&quot; class=&quot;materialTypeMasterAction&quot; method=&quot;enquiry_process&quot;&gt;\n&lt;result type=&quot;redirectAction&quot;&gt;SuccessAction&lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n<p>Like this:\n<a href=\"https://stackoverflow.com/a/24574053/5899384\">Prevent action resubmission</a></p>\n<p>Please notice that if you do not change the URL, it will always resubmit the form. So if you implement this solution above, the url will change on success (redirectSuccess).</p>\n<p>You don't have to really create a new success page, you can redirect to the original url/action in which the form is loaded (clean).</p>\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634581637,"creation_date":1634580839,"answer_id":69620705,"question_id":69510511,"body_markdown":"If you use Struts application the concept of an action is more wide than you use it in the JSP forms. Everything that is coming to Struts with a request is an action. So, refreshing a page means calling the action which is mapped by the URL.\r\n\r\nIf you follow a pattern of action first, then JSP is forwarded by the servlet dispatcher when Struts executes a [`dispatcher` result][1]. It is a default result type used by a result configuration. The action after it executes usually returns some result with the name. Actually it is a result code, that allows the action invocation to stop processing an action and execute a result immediately.\r\n\r\nAs I said, after result is executed the JSP is forwarded to the browser and URL is not the location of that JSP, but the action which returned that JSP as a result. If request is forwarded then URL doesn&#39;t change. If you want to change URL you should use a new request with updated URL. \r\n\r\nIn your scenario you render a JSP with the `\r\nviewUpdateTemplate()` action. And you want to show the same JSP after you execute `processUpdateNavigator()` action. Because the same result `updateCoordinates` is returned. \r\n\r\nYou should be aware that different actions are executed by deferent requests, different request methods, by different threads, and use new action instances per request. It means that everything that was rendered via OGNL or JSTL in by the first action might not be available to the second action if they don&#39;t share the same `prepare()` method by implementing the same [`Prepareable` interface][2]. So, JSP might not be rendered completely. \r\n\r\nOn the other hand you don&#39;t want to stay on the URL of the action that was executing a POST request. In this case you should return a redirect response. It&#39;s done by Struts [`redirect`][3] or [`reditectAction` result][4] type. Both of them changes the location in browser URL, and following a new GET request. \r\n\r\nIn you case you should configure this result type to the action and specify which action it is redirected. It should be the first action, because it returns the above JSP. The second action won&#39;t return JSP, instead it return  `reditectAction` result to the first action. \r\n\r\nNote, any attribute that you used in the JSP via the second action should be scoped to session or shared via `prepare()` because redireced response loses its attributes.\r\n\r\n**The code:**\r\n\r\n**In `struts.xml:`**\r\n\r\n```xml\r\n&lt;action name=&quot;plantillasAction_*&quot; method=&quot;{1}&quot; class=&quot;com.xxx.action.ActionPlantillas&quot;&gt;           \r\n        &lt;result name=&quot;success&quot;&gt;/jsp/plantillas/ResultTemplates.jsp&lt;/result&gt;\r\n        &lt;result name=&quot;templateUpload&quot;&gt;/jsp/plantillas/CreateCoordinates.jsp&lt;/result&gt;\r\n        &lt;result name=&quot;saveCoordinates&quot;&gt;/jsp/plantillas/SaveCoordinates.jsp&lt;/result&gt;\r\n        &lt;result name=&quot;updateCoordinates&quot;&gt;/jsp/plantillas/UpdateCoordinatesTemplate.jsp&lt;/result&gt; \r\n       &lt;result name=&quot;viewUpdateTemplate&quot; type=&quot;redirectAction&quot;&gt;plantillasAction_viewUpdateTemplate&lt;/result&gt;\r\n        &lt;interceptor-ref name=&quot;defaultSecurityStack&quot;&gt;\r\n            &lt;param name=&quot;tokenSession.excludeMethods&quot;&gt;init,templateFileUpload,processNavigator, \r\n                addCoordinateTemplate,deleteCoordinateToSave,saveTemplate,\r\n                deleteTemplate,viewUpdateTemplate,addCoordinatesTemplateUpdate,\r\n                searchTemplates,processUpdateNavigator&lt;/param&gt;\r\n        &lt;/interceptor-ref&gt;\r\n        &lt;allowed-methods&gt;\r\n            templateFileUpload,\r\n            processNavigator,\r\n            addCoordinateTemplate,\r\n            deleteCoordinateToSave,\r\n            saveTemplate,\r\n            deleteTemplate,\r\n            viewUpdateTemplate,\r\n            addCoordinatesTemplateUpdate,\r\n            processUpdateNavigator,\r\n            init, \r\n            searchTemplates\r\n            \r\n            \r\n        &lt;/allowed-methods&gt;\r\n&lt;/action&gt;\r\n```\r\n\r\n**In `Action` class:**\r\n\r\n```java\r\n    public String viewUpdateTemplate() {\r\n\r\n           //OPERATIONS\r\n            return &quot;updateCoordinates&quot;;\r\n       \r\n    }\r\n\r\n    public String processUpdateNavigator() {\r\n        //OPERATIONS\r\n       return &quot;viewUpdateTemplate&quot;;\r\n    }  \r\n```\r\n\r\n  [1]: https://struts.apache.org/core-developers/dispatcher-result.html\r\n  [2]: https://struts.apache.org/getting-started/preperable-interface.html\r\n  [3]: https://struts.apache.org/core-developers/redirect-result.html\r\n  [4]: https://struts.apache.org/core-developers/redirect-action-result.html","title":"How to stop my action from executing when I refresh my page?","body":"<p>If you use Struts application the concept of an action is more wide than you use it in the JSP forms. Everything that is coming to Struts with a request is an action. So, refreshing a page means calling the action which is mapped by the URL.</p>\n<p>If you follow a pattern of action first, then JSP is forwarded by the servlet dispatcher when Struts executes a <a href=\"https://struts.apache.org/core-developers/dispatcher-result.html\" rel=\"nofollow noreferrer\"><code>dispatcher</code> result</a>. It is a default result type used by a result configuration. The action after it executes usually returns some result with the name. Actually it is a result code, that allows the action invocation to stop processing an action and execute a result immediately.</p>\n<p>As I said, after result is executed the JSP is forwarded to the browser and URL is not the location of that JSP, but the action which returned that JSP as a result. If request is forwarded then URL doesn't change. If you want to change URL you should use a new request with updated URL.</p>\n<p>In your scenario you render a JSP with the <code> viewUpdateTemplate()</code> action. And you want to show the same JSP after you execute <code>processUpdateNavigator()</code> action. Because the same result <code>updateCoordinates</code> is returned.</p>\n<p>You should be aware that different actions are executed by deferent requests, different request methods, by different threads, and use new action instances per request. It means that everything that was rendered via OGNL or JSTL in by the first action might not be available to the second action if they don't share the same <code>prepare()</code> method by implementing the same <a href=\"https://struts.apache.org/getting-started/preperable-interface.html\" rel=\"nofollow noreferrer\"><code>Prepareable</code> interface</a>. So, JSP might not be rendered completely.</p>\n<p>On the other hand you don't want to stay on the URL of the action that was executing a POST request. In this case you should return a redirect response. It's done by Struts <a href=\"https://struts.apache.org/core-developers/redirect-result.html\" rel=\"nofollow noreferrer\"><code>redirect</code></a> or <a href=\"https://struts.apache.org/core-developers/redirect-action-result.html\" rel=\"nofollow noreferrer\"><code>reditectAction</code> result</a> type. Both of them changes the location in browser URL, and following a new GET request.</p>\n<p>In you case you should configure this result type to the action and specify which action it is redirected. It should be the first action, because it returns the above JSP. The second action won't return JSP, instead it return  <code>reditectAction</code> result to the first action.</p>\n<p>Note, any attribute that you used in the JSP via the second action should be scoped to session or shared via <code>prepare()</code> because redireced response loses its attributes.</p>\n<p><strong>The code:</strong></p>\n<p><strong>In <code>struts.xml:</code></strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;plantillasAction_*&quot; method=&quot;{1}&quot; class=&quot;com.xxx.action.ActionPlantillas&quot;&gt;           \n        &lt;result name=&quot;success&quot;&gt;/jsp/plantillas/ResultTemplates.jsp&lt;/result&gt;\n        &lt;result name=&quot;templateUpload&quot;&gt;/jsp/plantillas/CreateCoordinates.jsp&lt;/result&gt;\n        &lt;result name=&quot;saveCoordinates&quot;&gt;/jsp/plantillas/SaveCoordinates.jsp&lt;/result&gt;\n        &lt;result name=&quot;updateCoordinates&quot;&gt;/jsp/plantillas/UpdateCoordinatesTemplate.jsp&lt;/result&gt; \n       &lt;result name=&quot;viewUpdateTemplate&quot; type=&quot;redirectAction&quot;&gt;plantillasAction_viewUpdateTemplate&lt;/result&gt;\n        &lt;interceptor-ref name=&quot;defaultSecurityStack&quot;&gt;\n            &lt;param name=&quot;tokenSession.excludeMethods&quot;&gt;init,templateFileUpload,processNavigator, \n                addCoordinateTemplate,deleteCoordinateToSave,saveTemplate,\n                deleteTemplate,viewUpdateTemplate,addCoordinatesTemplateUpdate,\n                searchTemplates,processUpdateNavigator&lt;/param&gt;\n        &lt;/interceptor-ref&gt;\n        &lt;allowed-methods&gt;\n            templateFileUpload,\n            processNavigator,\n            addCoordinateTemplate,\n            deleteCoordinateToSave,\n            saveTemplate,\n            deleteTemplate,\n            viewUpdateTemplate,\n            addCoordinatesTemplateUpdate,\n            processUpdateNavigator,\n            init, \n            searchTemplates\n            \n            \n        &lt;/allowed-methods&gt;\n&lt;/action&gt;\n</code></pre>\n<p><strong>In <code>Action</code> class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public String viewUpdateTemplate() {\n\n           //OPERATIONS\n            return &quot;updateCoordinates&quot;;\n       \n    }\n\n    public String processUpdateNavigator() {\n        //OPERATIONS\n       return &quot;viewUpdateTemplate&quot;;\n    }  \n</code></pre>\n"}],"owner":{"account_id":19471191,"reputation":184,"user_id":15262402,"display_name":"Sebastian Ruiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1040,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1696259520,"creation_date":1633812926,"question_id":69510511,"body_markdown":"I have the following problem, I am working on a project with JSP and Struts technology, I am really new because it is an old technology but it is what I had to work with.\r\n\r\nI have the problem that calls are being made to the action when I refresh my page, I understand this is because in my URL is the last action that I send to call, so it is making a call back to that action, I have more than one form within my JSP which have different actions, I do not know if this is correct or have to change them to ajax or is there any way to solve it?\r\n\r\nI have already added a POST method for the actions but it still has not worked. \r\n\r\n**My actions in configuration file:**\r\n\r\n    &lt;action name=&quot;plantillasAction_*&quot; method=&quot;{1}&quot; class=&quot;com.xxx.action.ActionPlantillas&quot;&gt;           \r\n            &lt;result name=&quot;success&quot;&gt;/jsp/plantillas/ResultTemplates.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;templateUpload&quot;&gt;/jsp/plantillas/CreateCoordinates.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;saveCoordinates&quot;&gt;/jsp/plantillas/SaveCoordinates.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;updateCoordinates&quot;&gt;/jsp/plantillas/UpdateCoordinatesTemplate.jsp&lt;/result&gt; \r\n            &lt;interceptor-ref name=&quot;defaultSecurityStack&quot;&gt;\r\n                &lt;param name=&quot;tokenSession.excludeMethods&quot;&gt;init,templateFileUpload,processNavigator, \r\n                    addCoordinateTemplate,deleteCoordinateToSave,saveTemplate,\r\n                    deleteTemplate,viewUpdateTemplate,addCoordinatesTemplateUpdate,\r\n                    searchTemplates,processUpdateNavigator&lt;/param&gt;\r\n            &lt;/interceptor-ref&gt;\r\n            &lt;allowed-methods&gt;\r\n                templateFileUpload,\r\n                processNavigator,\r\n                addCoordinateTemplate,\r\n                deleteCoordinateToSave,\r\n                saveTemplate,\r\n                deleteTemplate,\r\n                viewUpdateTemplate,\r\n                addCoordinatesTemplateUpdate,\r\n                processUpdateNavigator,\r\n                init, \r\n                searchTemplates\r\n                \r\n                \r\n            &lt;/allowed-methods&gt;\r\n        &lt;/action&gt;\r\n\r\n**My `CreateCoordinates.jsp`:**\r\n\r\n\r\n    &lt;%@ page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@ taglib uri=&quot;/WEB-INF/struts-tags.tld&quot; prefix=&quot;s&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\r\n    &lt;%@ taglib prefix=&quot;sjg&quot; uri=&quot;/struts-jquery-grid-tags&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n       &lt;head&gt;\r\n          &lt;meta name=&quot;decorator&quot; content=&quot;contentLayout&quot;/&gt;\r\n       &lt;/head&gt;\r\n       &lt;body&gt;\r\n          &lt;script src=&quot;${pageContext.request.contextPath}/html/js/jquery/alerts/jquery.alerts.js&quot;  type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n          &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/html/js/jquery/alerts/jquery.alerts.css&quot;&gt;\r\n          &lt;script src=&quot;${pageContext.request.contextPath}/html/js/coordinatesTemplate.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n          &lt;script src=&quot;${pageContext.request.contextPath}/html/js/templates.js&quot;  type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n          &lt;script language=&quot;javascript&quot;&gt;\r\n             function update(value){\r\n             var url=&quot;myAction?someVariable=value&quot;;\r\n             window.open(url,&quot;_blank&quot;,&quot;directories=no, status=no,width=1400, height=870,top=0,left=0&quot;);\r\n             }\r\n                        \r\n             \r\n             \r\n             \r\n          &lt;/script&gt;\r\n          &lt;div id=&quot;content&quot;&gt;\r\n             &lt;div class=&quot;wrap&quot;&gt;\r\n                &lt;h1 style=&quot;margin-left:15px&quot;&gt;\r\n                   &lt;s:text name=&quot;label.module.template.header.update&quot;/&gt;\r\n                &lt;/h1&gt;\r\n                &lt;s:form action=&quot;plantillasAction_processUpdateNavigator&quot; method=&quot;post&quot; &gt;\r\n                   &lt;s:token /&gt;\r\n                   &lt;hr style=&quot;border:15px;&quot;&gt;\r\n                   &lt;hr style=&quot;border:2px;&quot;&gt;\r\n                   &lt;div id=&quot;navigator&quot; align=&quot;center&quot;&gt;\r\n                      &lt;table align=&quot;center&quot;&gt;\r\n                         &lt;tr&gt;\r\n                            &lt;s:if test=&quot;currentPosition==imagePDFs.size() &quot;&gt;\r\n                               &lt;script type=&quot;text/javascript&quot;&gt; disableFirstButtons()&lt;/script&gt;\r\n                            &lt;/s:if&gt;\r\n                            &lt;s:if test=&quot;currentPosition== 1 &amp;&amp; imagePDFs.size()  != 1&quot;&gt;\r\n                               &lt;script type=&quot;text/javascript&quot;&gt; enableFirstButtons()&lt;/script&gt;\r\n                            &lt;/s:if&gt;\r\n                            &lt;s:if test=&quot;currentPosition==1 &amp;&amp; imagePDFs.size()==1 &quot;&gt;\r\n                               &lt;script type=&quot;text/javascript&quot;&gt; enableAllButtons()&lt;/script&gt;\r\n                            &lt;/s:if&gt;\r\n                            &lt;td&gt;\r\n                               &lt;button id=&quot;firstPage&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;3&quot; &gt;&lt;&lt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td&gt;\r\n                               &lt;button id=&quot;backPage&quot; name=&quot;buttonAction&quot; class=&quot;previous&quot; type=&quot;submit&quot; value=&quot;2&quot; &gt;&lt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td align=&quot;center&quot;&gt;\r\n                               &lt;li&gt;${currentPosition}/${imagePDFs.size()}&lt;/li&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td align=&quot;right&quot;&gt;\r\n                               &lt;button id=&quot;nextPage&quot; name=&quot;buttonAction&quot; class=&quot;next&quot; type=&quot;submit&quot; value=&quot;1&quot;&gt;&gt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td align=&quot;right&quot;&gt;\r\n                               &lt;button id=&quot;endPage&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;4&quot;&gt;&gt;&gt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                         &lt;/tr&gt;\r\n                      &lt;/table&gt;\r\n                   &lt;/div&gt;\r\n                   &lt;div class=&quot;wrapper&quot;&gt;\r\n                      &lt;div id=&quot;content&quot;&gt;\r\n                         &lt;div id=&quot;pdf-container&quot; &gt;\r\n                            &lt;div id=&quot;signers-list&quot;&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;img id=&quot;pdf-page&quot; src=&quot;data:image/png;base64,${image}&quot; /&gt;\r\n                         &lt;/div&gt;\r\n                         &lt;!-- .\\pdf-container --&gt;\r\n                      &lt;/div&gt;\r\n                      &lt;!-- .\\content --&gt;\r\n                   &lt;/div&gt;\r\n                   &lt;!-- .\\wrapper --&gt;\r\n                   &lt;div id=&quot;navigator&quot; align=&quot;center&quot;&gt;\r\n                      &lt;table align=&quot;center&quot;&gt;\r\n                         &lt;tr&gt;\r\n                            &lt;td align=&quot;center&quot;&gt;\r\n                               &lt;button id=&quot;firstPage2&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;3&quot;&gt;&lt;&lt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td align=&quot;center&quot;&gt;\r\n                               &lt;button id=&quot;backPage2&quot; name=&quot;buttonAction&quot; class=&quot;previous&quot; type=&quot;submit&quot; value=&quot;2&quot;&gt;&lt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td align=&quot;center&quot;&gt;\r\n                               &lt;li&gt;${currentPosition}/${imagePDFs.size()}&lt;/li&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td align=&quot;rigth&quot;&gt;\r\n                               &lt;button id=&quot;nextPage2&quot; name=&quot;buttonAction&quot; class=&quot;next&quot; type=&quot;submit&quot; value=&quot;1&quot;&gt;&gt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td align=&quot;rigth&quot;&gt;\r\n                               &lt;button id=&quot;endPage2&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;4&quot;&gt;&gt;&gt;&lt;/button&gt;\r\n                            &lt;/td&gt;\r\n                         &lt;/tr&gt;\r\n                      &lt;/table&gt;\r\n                   &lt;/div&gt;\r\n                &lt;/s:form&gt;\r\n                &lt;s:form action=&quot;routeAction_updateRoute&quot; method=&quot;post&quot; validate=&quot;false&quot; namespace=&quot;/plantilla&quot; theme=&quot;simple&quot; onsubmit=&quot;return false;&quot;&gt;\r\n                   &lt;s:token /&gt;\r\n                   &lt;table width=&quot;100%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\r\n                      &lt;tr height=&quot;10px&quot;&gt;\r\n                      &lt;/tr&gt;\r\n                      &lt;tr height=&quot;40px&quot; valign=&quot;middle&quot; class=&quot;tablecells&quot;&gt;\r\n                         &lt;td width=&quot;25%&quot; class=&quot;negritas&quot;&gt;\r\n                            &lt;s:text name =&quot;label.module.template.info.plantilla&quot; /&gt;\r\n                         &lt;/td&gt;\r\n                      &lt;/tr&gt;\r\n                      &lt;tr height=&quot;40px&quot; valign=&quot;middle&quot; class=&quot;tablecells&quot;&gt;\r\n                         &lt;td width=&quot;14%&quot;&gt;\r\n                            &lt;s:text name=&quot;label.module.template.add.nombre.plantilla&quot;/&gt;\r\n                         &lt;/td&gt;\r\n                         &lt;td&gt;\r\n                            &lt;s:textfield id=&quot;idTemplateName&quot; maxlength=&quot;80&quot; size=&quot;40&quot; \r\n                               value=&quot;%{currentTemplateView}&quot; cssClass=&quot;inputbox&quot;/&gt;\r\n                         &lt;/td&gt;\r\n                      &lt;/tr&gt;\r\n                      &lt;tr height=&quot;5px&quot;&gt;\r\n                      &lt;/tr&gt;\r\n                   &lt;/table&gt;\r\n                   &lt;/table&gt;\r\n                   &lt;!-- TABLA CON BOTONES PARA BUSCAR INTEGRANTES A LA NUEVA RUTA (GRID)--&gt;\r\n                   &lt;table width=&quot;100%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\r\n                      &lt;tr height=&quot;40px&quot; valign=&quot;middle&quot; align=&quot;center&quot; class=&quot;tablecells&quot;&gt;\r\n                         &lt;td colspan=&quot;2&quot; class=&quot;leftElement&quot;&gt;\r\n                            &lt;button id=&quot;agregarFirma&quot; class=&quot;action green&quot; style=&quot;float:none&quot; name=&quot;buttonActionCoordiante&quot; type=&quot;submit&quot; value=&quot;2&quot;&gt;\r\n                            &lt;span id=&quot;fisnish&quot; class=&quot;label&quot; onClick=&#39;createDragDropElement()&#39;&gt;Agregar&lt;/span&gt;\r\n                            &lt;/button&gt;\r\n                            &lt;button class=&quot;action green&quot; style=&quot;float:none&quot; id=&quot;btnCancelar&quot; onClick=&quot;regresar(&#39;${pageContext.request.contextPath}&#39;)&quot;&gt;\r\n                               &lt;span id=&quot;iniciar&quot; class=&quot;label&quot;&gt;\r\n                                  &lt;s:text name=&quot;boton.cancelar&quot;/&gt;\r\n                               &lt;/span&gt;\r\n                            &lt;/button&gt;\r\n                         &lt;/td&gt;\r\n                      &lt;/tr&gt;\r\n                      &lt;tr height=&quot;15px&quot;&gt;\r\n                      &lt;/tr&gt;\r\n                   &lt;/table&gt;\r\n                &lt;/s:form&gt;\r\n                \r\n          &lt;/div&gt;\r\n          &lt;script src=&quot;${pageContext.request.contextPath}/html/plugins/fontawesome/js/fontawesome-all.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n          &lt;script src=&#39;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js&#39;&gt;&lt;/script&gt;\r\n          &lt;script src=&#39;https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js&#39;&gt;&lt;/script&gt;\r\n          &lt;script src=&#39;https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.0.943/pdf.min.js&#39;&gt;&lt;/script&gt;\r\n          &lt;script src=&#39;https://cdnjs.cloudflare.com/ajax/libs/interact.js/1.10.11/interact.min.js&#39;&gt;&lt;/script&gt;\r\n          &lt;script src=&#39;https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.0.943/pdf.worker.min.js&#39;&gt;&lt;/script&gt;\r\n          &lt;script src=&#39;https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js&#39;&gt;&lt;/script&gt;\r\n          &lt;script src=&#39;https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/utils/Draggable.min.js&#39;&gt;&lt;/script&gt;\r\n          &lt;script src=&quot;${pageContext.request.contextPath}/html/js/mainPdfUpdate.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n       &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nWhen I enter my JSP this is the URL:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/3O1yT.png\r\n\r\nWhen I press any button of my first form it changes the URL to \r\n\r\n[![enter image description here][2]][2]\r\n\r\n[2]: https://i.stack.imgur.com/zXT9W.png\r\n  \r\n\r\nIf I refresh my page there, the action name is `plantillasAction_processUpdateNavigator` ,what I want in this case is to execute the action `plantillasAction_viewUpdateTemplate`.\r\n\r\n**My `ActionPlantillas.java`:**\r\n\r\n    public class ActionPlantillas extends ActionSupport implements ServletRequestAware {\r\n    \r\n        private static Logger logger = LogManager.getLogger(ActionPlantillas.class);\r\n    \r\n        private HttpServletRequest request;\r\n        \r\n        public String viewUpdateTemplate() {\r\n\r\n               //OPERATIONS\r\n                return &quot;updateCoordinates&quot;;\r\n           \r\n        }\r\n\r\n        public String processUpdateNavigator() {\r\n            //OPERATIONS\r\n           return &quot;updateCoordinates&quot;;\r\n        }  \r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n  ","title":"How to stop my action from executing when I refresh my page?","body":"<p>I have the following problem, I am working on a project with JSP and Struts technology, I am really new because it is an old technology but it is what I had to work with.</p>\n<p>I have the problem that calls are being made to the action when I refresh my page, I understand this is because in my URL is the last action that I send to call, so it is making a call back to that action, I have more than one form within my JSP which have different actions, I do not know if this is correct or have to change them to ajax or is there any way to solve it?</p>\n<p>I have already added a POST method for the actions but it still has not worked.</p>\n<p><strong>My actions in configuration file:</strong></p>\n<pre><code>&lt;action name=&quot;plantillasAction_*&quot; method=&quot;{1}&quot; class=&quot;com.xxx.action.ActionPlantillas&quot;&gt;           \n        &lt;result name=&quot;success&quot;&gt;/jsp/plantillas/ResultTemplates.jsp&lt;/result&gt;\n        &lt;result name=&quot;templateUpload&quot;&gt;/jsp/plantillas/CreateCoordinates.jsp&lt;/result&gt;\n        &lt;result name=&quot;saveCoordinates&quot;&gt;/jsp/plantillas/SaveCoordinates.jsp&lt;/result&gt;\n        &lt;result name=&quot;updateCoordinates&quot;&gt;/jsp/plantillas/UpdateCoordinatesTemplate.jsp&lt;/result&gt; \n        &lt;interceptor-ref name=&quot;defaultSecurityStack&quot;&gt;\n            &lt;param name=&quot;tokenSession.excludeMethods&quot;&gt;init,templateFileUpload,processNavigator, \n                addCoordinateTemplate,deleteCoordinateToSave,saveTemplate,\n                deleteTemplate,viewUpdateTemplate,addCoordinatesTemplateUpdate,\n                searchTemplates,processUpdateNavigator&lt;/param&gt;\n        &lt;/interceptor-ref&gt;\n        &lt;allowed-methods&gt;\n            templateFileUpload,\n            processNavigator,\n            addCoordinateTemplate,\n            deleteCoordinateToSave,\n            saveTemplate,\n            deleteTemplate,\n            viewUpdateTemplate,\n            addCoordinatesTemplateUpdate,\n            processUpdateNavigator,\n            init, \n            searchTemplates\n            \n            \n        &lt;/allowed-methods&gt;\n    &lt;/action&gt;\n</code></pre>\n<p><strong>My <code>CreateCoordinates.jsp</code>:</strong></p>\n<pre><code>&lt;%@ page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ taglib uri=&quot;/WEB-INF/struts-tags.tld&quot; prefix=&quot;s&quot; %&gt;\n&lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\n&lt;%@ taglib prefix=&quot;sjg&quot; uri=&quot;/struts-jquery-grid-tags&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n   &lt;head&gt;\n      &lt;meta name=&quot;decorator&quot; content=&quot;contentLayout&quot;/&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n      &lt;script src=&quot;${pageContext.request.contextPath}/html/js/jquery/alerts/jquery.alerts.js&quot;  type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n      &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/html/js/jquery/alerts/jquery.alerts.css&quot;&gt;\n      &lt;script src=&quot;${pageContext.request.contextPath}/html/js/coordinatesTemplate.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n      &lt;script src=&quot;${pageContext.request.contextPath}/html/js/templates.js&quot;  type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n      &lt;script language=&quot;javascript&quot;&gt;\n         function update(value){\n         var url=&quot;myAction?someVariable=value&quot;;\n         window.open(url,&quot;_blank&quot;,&quot;directories=no, status=no,width=1400, height=870,top=0,left=0&quot;);\n         }\n                    \n         \n         \n         \n      &lt;/script&gt;\n      &lt;div id=&quot;content&quot;&gt;\n         &lt;div class=&quot;wrap&quot;&gt;\n            &lt;h1 style=&quot;margin-left:15px&quot;&gt;\n               &lt;s:text name=&quot;label.module.template.header.update&quot;/&gt;\n            &lt;/h1&gt;\n            &lt;s:form action=&quot;plantillasAction_processUpdateNavigator&quot; method=&quot;post&quot; &gt;\n               &lt;s:token /&gt;\n               &lt;hr style=&quot;border:15px;&quot;&gt;\n               &lt;hr style=&quot;border:2px;&quot;&gt;\n               &lt;div id=&quot;navigator&quot; align=&quot;center&quot;&gt;\n                  &lt;table align=&quot;center&quot;&gt;\n                     &lt;tr&gt;\n                        &lt;s:if test=&quot;currentPosition==imagePDFs.size() &quot;&gt;\n                           &lt;script type=&quot;text/javascript&quot;&gt; disableFirstButtons()&lt;/script&gt;\n                        &lt;/s:if&gt;\n                        &lt;s:if test=&quot;currentPosition== 1 &amp;&amp; imagePDFs.size()  != 1&quot;&gt;\n                           &lt;script type=&quot;text/javascript&quot;&gt; enableFirstButtons()&lt;/script&gt;\n                        &lt;/s:if&gt;\n                        &lt;s:if test=&quot;currentPosition==1 &amp;&amp; imagePDFs.size()==1 &quot;&gt;\n                           &lt;script type=&quot;text/javascript&quot;&gt; enableAllButtons()&lt;/script&gt;\n                        &lt;/s:if&gt;\n                        &lt;td&gt;\n                           &lt;button id=&quot;firstPage&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;3&quot; &gt;&lt;&lt;&lt;/button&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                           &lt;button id=&quot;backPage&quot; name=&quot;buttonAction&quot; class=&quot;previous&quot; type=&quot;submit&quot; value=&quot;2&quot; &gt;&lt;&lt;/button&gt;\n                        &lt;/td&gt;\n                        &lt;td align=&quot;center&quot;&gt;\n                           &lt;li&gt;${currentPosition}/${imagePDFs.size()}&lt;/li&gt;\n                        &lt;/td&gt;\n                        &lt;td align=&quot;right&quot;&gt;\n                           &lt;button id=&quot;nextPage&quot; name=&quot;buttonAction&quot; class=&quot;next&quot; type=&quot;submit&quot; value=&quot;1&quot;&gt;&gt;&lt;/button&gt;\n                        &lt;/td&gt;\n                        &lt;td align=&quot;right&quot;&gt;\n                           &lt;button id=&quot;endPage&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;4&quot;&gt;&gt;&gt;&lt;/button&gt;\n                        &lt;/td&gt;\n                     &lt;/tr&gt;\n                  &lt;/table&gt;\n               &lt;/div&gt;\n               &lt;div class=&quot;wrapper&quot;&gt;\n                  &lt;div id=&quot;content&quot;&gt;\n                     &lt;div id=&quot;pdf-container&quot; &gt;\n                        &lt;div id=&quot;signers-list&quot;&gt;\n                        &lt;/div&gt;\n                        &lt;img id=&quot;pdf-page&quot; src=&quot;data:image/png;base64,${image}&quot; /&gt;\n                     &lt;/div&gt;\n                     &lt;!-- .\\pdf-container --&gt;\n                  &lt;/div&gt;\n                  &lt;!-- .\\content --&gt;\n               &lt;/div&gt;\n               &lt;!-- .\\wrapper --&gt;\n               &lt;div id=&quot;navigator&quot; align=&quot;center&quot;&gt;\n                  &lt;table align=&quot;center&quot;&gt;\n                     &lt;tr&gt;\n                        &lt;td align=&quot;center&quot;&gt;\n                           &lt;button id=&quot;firstPage2&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;3&quot;&gt;&lt;&lt;&lt;/button&gt;\n                        &lt;/td&gt;\n                        &lt;td align=&quot;center&quot;&gt;\n                           &lt;button id=&quot;backPage2&quot; name=&quot;buttonAction&quot; class=&quot;previous&quot; type=&quot;submit&quot; value=&quot;2&quot;&gt;&lt;&lt;/button&gt;\n                        &lt;/td&gt;\n                        &lt;td align=&quot;center&quot;&gt;\n                           &lt;li&gt;${currentPosition}/${imagePDFs.size()}&lt;/li&gt;\n                        &lt;/td&gt;\n                        &lt;td align=&quot;rigth&quot;&gt;\n                           &lt;button id=&quot;nextPage2&quot; name=&quot;buttonAction&quot; class=&quot;next&quot; type=&quot;submit&quot; value=&quot;1&quot;&gt;&gt;&lt;/button&gt;\n                        &lt;/td&gt;\n                        &lt;td align=&quot;rigth&quot;&gt;\n                           &lt;button id=&quot;endPage2&quot; name=&quot;buttonAction&quot; type=&quot;submit&quot; value=&quot;4&quot;&gt;&gt;&gt;&lt;/button&gt;\n                        &lt;/td&gt;\n                     &lt;/tr&gt;\n                  &lt;/table&gt;\n               &lt;/div&gt;\n            &lt;/s:form&gt;\n            &lt;s:form action=&quot;routeAction_updateRoute&quot; method=&quot;post&quot; validate=&quot;false&quot; namespace=&quot;/plantilla&quot; theme=&quot;simple&quot; onsubmit=&quot;return false;&quot;&gt;\n               &lt;s:token /&gt;\n               &lt;table width=&quot;100%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\n                  &lt;tr height=&quot;10px&quot;&gt;\n                  &lt;/tr&gt;\n                  &lt;tr height=&quot;40px&quot; valign=&quot;middle&quot; class=&quot;tablecells&quot;&gt;\n                     &lt;td width=&quot;25%&quot; class=&quot;negritas&quot;&gt;\n                        &lt;s:text name =&quot;label.module.template.info.plantilla&quot; /&gt;\n                     &lt;/td&gt;\n                  &lt;/tr&gt;\n                  &lt;tr height=&quot;40px&quot; valign=&quot;middle&quot; class=&quot;tablecells&quot;&gt;\n                     &lt;td width=&quot;14%&quot;&gt;\n                        &lt;s:text name=&quot;label.module.template.add.nombre.plantilla&quot;/&gt;\n                     &lt;/td&gt;\n                     &lt;td&gt;\n                        &lt;s:textfield id=&quot;idTemplateName&quot; maxlength=&quot;80&quot; size=&quot;40&quot; \n                           value=&quot;%{currentTemplateView}&quot; cssClass=&quot;inputbox&quot;/&gt;\n                     &lt;/td&gt;\n                  &lt;/tr&gt;\n                  &lt;tr height=&quot;5px&quot;&gt;\n                  &lt;/tr&gt;\n               &lt;/table&gt;\n               &lt;/table&gt;\n               &lt;!-- TABLA CON BOTONES PARA BUSCAR INTEGRANTES A LA NUEVA RUTA (GRID)--&gt;\n               &lt;table width=&quot;100%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\n                  &lt;tr height=&quot;40px&quot; valign=&quot;middle&quot; align=&quot;center&quot; class=&quot;tablecells&quot;&gt;\n                     &lt;td colspan=&quot;2&quot; class=&quot;leftElement&quot;&gt;\n                        &lt;button id=&quot;agregarFirma&quot; class=&quot;action green&quot; style=&quot;float:none&quot; name=&quot;buttonActionCoordiante&quot; type=&quot;submit&quot; value=&quot;2&quot;&gt;\n                        &lt;span id=&quot;fisnish&quot; class=&quot;label&quot; onClick='createDragDropElement()'&gt;Agregar&lt;/span&gt;\n                        &lt;/button&gt;\n                        &lt;button class=&quot;action green&quot; style=&quot;float:none&quot; id=&quot;btnCancelar&quot; onClick=&quot;regresar('${pageContext.request.contextPath}')&quot;&gt;\n                           &lt;span id=&quot;iniciar&quot; class=&quot;label&quot;&gt;\n                              &lt;s:text name=&quot;boton.cancelar&quot;/&gt;\n                           &lt;/span&gt;\n                        &lt;/button&gt;\n                     &lt;/td&gt;\n                  &lt;/tr&gt;\n                  &lt;tr height=&quot;15px&quot;&gt;\n                  &lt;/tr&gt;\n               &lt;/table&gt;\n            &lt;/s:form&gt;\n            \n      &lt;/div&gt;\n      &lt;script src=&quot;${pageContext.request.contextPath}/html/plugins/fontawesome/js/fontawesome-all.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n      &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'&gt;&lt;/script&gt;\n      &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js'&gt;&lt;/script&gt;\n      &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.0.943/pdf.min.js'&gt;&lt;/script&gt;\n      &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/interact.js/1.10.11/interact.min.js'&gt;&lt;/script&gt;\n      &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.0.943/pdf.worker.min.js'&gt;&lt;/script&gt;\n      &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js'&gt;&lt;/script&gt;\n      &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/utils/Draggable.min.js'&gt;&lt;/script&gt;\n      &lt;script src=&quot;${pageContext.request.contextPath}/html/js/mainPdfUpdate.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>When I enter my JSP this is the URL:</p>\n<p><a href=\"https://i.stack.imgur.com/3O1yT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3O1yT.png\" alt=\"enter image description here\" /></a></p>\n<p>When I press any button of my first form it changes the URL to</p>\n<p><a href=\"https://i.stack.imgur.com/zXT9W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zXT9W.png\" alt=\"enter image description here\" /></a></p>\n<p>If I refresh my page there, the action name is <code>plantillasAction_processUpdateNavigator</code> ,what I want in this case is to execute the action <code>plantillasAction_viewUpdateTemplate</code>.</p>\n<p><strong>My <code>ActionPlantillas.java</code>:</strong></p>\n<pre><code>public class ActionPlantillas extends ActionSupport implements ServletRequestAware {\n\n    private static Logger logger = LogManager.getLogger(ActionPlantillas.class);\n\n    private HttpServletRequest request;\n    \n    public String viewUpdateTemplate() {\n\n           //OPERATIONS\n            return &quot;updateCoordinates&quot;;\n       \n    }\n\n    public String processUpdateNavigator() {\n        //OPERATIONS\n       return &quot;updateCoordinates&quot;;\n    }  \n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","swagger","springfox"],"comments":[{"owner":{"account_id":14755297,"reputation":205,"user_id":10656102,"display_name":"Duman Zhanbolatov"},"score":0,"creation_date":1633961191,"post_id":62845550,"comment_id":122892380,"body_markdown":"Did you solve it?","body":"Did you solve it?"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1634087541,"post_id":62845550,"comment_id":122930196,"body_markdown":"@DumanZhanbolatov this might help you  https://www.youtube.com/watch?v=utRxyPfFlDw&amp;feature=youtu.be and https://github.com/springdoc/springdoc-openapi-demos","body":"@DumanZhanbolatov this might help you  <a href=\"https://www.youtube.com/watch?v=utRxyPfFlDw&amp;feature=youtu.be\" rel=\"nofollow noreferrer\">youtube.com/watch?v=utRxyPfFlDw&amp;feature=youtu.be</a> and <a href=\"https://github.com/springdoc/springdoc-openapi-demos\" rel=\"nofollow noreferrer\">github.com/springdoc/springdoc-openapi-demos</a>"},{"owner":{"account_id":5619902,"reputation":2178,"user_id":4450098,"accept_rate":35,"display_name":"Sagar Nayak"},"score":0,"creation_date":1655476268,"post_id":62845550,"comment_id":128348346,"body_markdown":"any update? did anyone find any solution to this?","body":"any update? did anyone find any solution to this?"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1656508549,"post_id":62845550,"comment_id":128596598,"body_markdown":"Can be helpful from the spring.io conference https://www.youtube.com/watch?v=utRxyPfFlDw&amp;t=1895s","body":"Can be helpful from the spring.io conference <a href=\"https://www.youtube.com/watch?v=utRxyPfFlDw&amp;t=1895s\" rel=\"nofollow noreferrer\">youtube.com/watch?v=utRxyPfFlDw&amp;t=1895s</a>"}],"answers":[{"comments":[{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594451526,"post_id":62846075,"comment_id":111136102,"body_markdown":"For the order swagger end point I have http://localhost:8081/swagger-ui/index.html, but I have a filter of .route(r -&gt; r.path(&quot;/order/**&quot;)\n                        .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;order-service&quot;).\n                                setFallbackUri(&quot;forward:/orderFallBack&quot;)))\n                        .uri(&quot;lb://ORDER-SERVICE&quot;)\n                        .id(&quot;order-service&quot;))","body":"For the order swagger end point I have <a href=\"http://localhost:8081/swagger-ui/index.html\" rel=\"nofollow noreferrer\">localhost:8081/swagger-ui/index.html</a>, but I have a filter of .route(r -&gt; r.path(&quot;/order/**&quot;)                         .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;order-service&quot;).                                 setFallbackUri(&quot;forward:/orderFallBack&quot;)))                         .uri(&quot;lb://ORDER-SERVICE&quot;)                         .id(&quot;order-service&quot;))"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594451659,"post_id":62846075,"comment_id":111136130,"body_markdown":"I have no Idea how to expose swagger UI from Api Gateway, can you please help me with some code","body":"I have no Idea how to expose swagger UI from Api Gateway, can you please help me with some code"},{"owner":{"account_id":17181536,"reputation":206,"user_id":12436880,"display_name":"Mubaraka Bharucha"},"score":0,"creation_date":1594453453,"post_id":62846075,"comment_id":111136442,"body_markdown":"Okay, so for that I have a follow-up question. How do you expose your APIs from gateway?","body":"Okay, so for that I have a follow-up question. How do you expose your APIs from gateway?"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594453548,"post_id":62846075,"comment_id":111136467,"body_markdown":"Yes I can access the API From Gateway API. this one does .route(r -&gt; r.path(&quot;/order/**&quot;)\n                        .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;order-service&quot;).\n                                setFallbackUri(&quot;forward:/orderFallBack&quot;)))\n                        .uri(&quot;lb://ORDER-SERVICE&quot;)\n                        .id(&quot;order-service&quot;))","body":"Yes I can access the API From Gateway API. this one does .route(r -&gt; r.path(&quot;/order/**&quot;)                         .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;order-service&quot;).                                 setFallbackUri(&quot;forward:/orderFallBack&quot;)))                         .uri(&quot;lb://ORDER-SERVICE&quot;)                         .id(&quot;order-service&quot;))"},{"owner":{"account_id":17181536,"reputation":206,"user_id":12436880,"display_name":"Mubaraka Bharucha"},"score":0,"creation_date":1594453741,"post_id":62846075,"comment_id":111136505,"body_markdown":"Okay, so unless you have enabled any security on gateway level, you should be able to access swagger using the same url - localhost:8081/order-service/swagger-ui/index.html (Given that gateway is running on port 8081)","body":"Okay, so unless you have enabled any security on gateway level, you should be able to access swagger using the same url - localhost:8081/order-service/swagger-ui/index.html (Given that gateway is running on port 8081)"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594454062,"post_id":62846075,"comment_id":111136568,"body_markdown":"I am getting 404 NOT_FOUND error. 8081 is order service. API gateway port is 8084 when I try http://localhost:8084/order-service/swagger-ui/index.html I get 404.I don&#39;t have any security enable.","body":"I am getting 404 NOT_FOUND error. 8081 is order service. API gateway port is 8084 when I try <a href=\"http://localhost:8084/order-service/swagger-ui/index.html\" rel=\"nofollow noreferrer\">localhost:8084/order-service/swagger-ui/index.html</a> I get 404.I don&#39;t have any security enable."},{"owner":{"account_id":17181536,"reputation":206,"user_id":12436880,"display_name":"Mubaraka Bharucha"},"score":0,"creation_date":1594454445,"post_id":62846075,"comment_id":111136647,"body_markdown":"You don&#39;t need to do any specific configuration for swagger on gateway, you should be able to access it just as you access any other API. One thing you can do is check out your gateway configuration, it might help if you could post it here. Another thing you can do is make sure you are calling the correct URL for swagger  - try localhost:8084/order-service/swagger-ui.html","body":"You don&#39;t need to do any specific configuration for swagger on gateway, you should be able to access it just as you access any other API. One thing you can do is check out your gateway configuration, it might help if you could post it here. Another thing you can do is make sure you are calling the correct URL for swagger  - try localhost:8084/order-service/swagger-ui.html"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594454837,"post_id":62846075,"comment_id":111136744,"body_markdown":"No same issue 404. I am able to access the swagger on individual port but not through the API gateway","body":"No same issue 404. I am able to access the swagger on individual port but not through the API gateway"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594617537,"post_id":62846075,"comment_id":111176491,"body_markdown":"Endpoint gatway is not exposing http://localhost:8084/order/v2/api-docs. Can you help me","body":"Endpoint gatway is not exposing <a href=\"http://localhost:8084/order/v2/api-docs\" rel=\"nofollow noreferrer\">localhost:8084/order/v2/api-docs</a>. Can you help me"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":1,"creation_date":1594623482,"post_id":62846075,"comment_id":111178380,"body_markdown":"Can you help me which one should I used springdoc-openapi or springfox  ?","body":"Can you help me which one should I used springdoc-openapi or springfox  ?"},{"owner":{"account_id":17181536,"reputation":206,"user_id":12436880,"display_name":"Mubaraka Bharucha"},"score":0,"creation_date":1594708706,"post_id":62846075,"comment_id":111211742,"body_markdown":"I did implement this using spring-fox but I would recommend using open-api as it is the newer version and projects are migrating from spring-fox to open-api","body":"I did implement this using spring-fox but I would recommend using open-api as it is the newer version and projects are migrating from spring-fox to open-api"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594709548,"post_id":62846075,"comment_id":111212075,"body_markdown":"Please check my answer for Open API configuration","body":"Please check my answer for Open API configuration"}],"tags":[],"owner":{"account_id":17181536,"reputation":206,"user_id":12436880,"display_name":"Mubaraka Bharucha"},"comment_count":12,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1594450150,"creation_date":1594450150,"answer_id":62846075,"question_id":62845550,"body_markdown":"There is one common practice to make individual swagger endpoints available from gateway itself. I have seen this being done in many production level projects. \r\n\r\nFor example, for Order service the documentation would be at :\r\n\r\nhttp://gateway-url/order-service/swagger-ui.html\r\n\r\nSimilar approach could be followed for other micro-services.","title":"Swagger Api Documentation in Spring API Gateway","body":"<p>There is one common practice to make individual swagger endpoints available from gateway itself. I have seen this being done in many production level projects.</p>\n<p>For example, for Order service the documentation would be at :</p>\n<p>http://gateway-url/order-service/swagger-ui.html</p>\n<p>Similar approach could be followed for other micro-services.</p>\n"},{"comments":[{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594454146,"post_id":62846442,"comment_id":111136586,"body_markdown":"I am not using zuul I am using Swing Gateway","body":"I am not using zuul I am using Swing Gateway"},{"owner":{"account_id":8428949,"reputation":11,"user_id":6325331,"display_name":"Artur Yolchyan"},"score":0,"creation_date":1594454888,"post_id":62846442,"comment_id":111136755,"body_markdown":"Does your swagger works on an individual project? For example, if you land {host}:{port}/order-service/swagger-ui.html, could you make requests?","body":"Does your swagger works on an individual project? For example, if you land {host}:{port}/order-service/swagger-ui.html, could you make requests?"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594455064,"post_id":62846442,"comment_id":111136797,"body_markdown":"Yes the swagger is working in the individual project. But not from the API Gateway","body":"Yes the swagger is working in the individual project. But not from the API Gateway"},{"owner":{"account_id":8428949,"reputation":11,"user_id":6325331,"display_name":"Artur Yolchyan"},"score":0,"creation_date":1594456552,"post_id":62846442,"comment_id":111137202,"body_markdown":"So, the problem is with proxying the requests.\nWhat is Swing Gateway? I couldn&#39;t find any maven dependency for it to test locally. Is it some custom-developed library or something which we can find in maven central repository","body":"So, the problem is with proxying the requests. What is Swing Gateway? I couldn&#39;t find any maven dependency for it to test locally. Is it some custom-developed library or something which we can find in maven central repository"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594458012,"post_id":62846442,"comment_id":111137564,"body_markdown":"Sorry my typo mistake it us Spring Gate way https://spring.io/projects/spring-cloud-gateway","body":"Sorry my typo mistake it us Spring Gate way <a href=\"https://spring.io/projects/spring-cloud-gateway\" rel=\"nofollow noreferrer\">spring.io/projects/spring-cloud-gateway</a>"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594577802,"post_id":62846442,"comment_id":111168026,"body_markdown":"Any luck ? I am not able to get the doc v2/api-docs from the gateway API","body":"Any luck ? I am not able to get the doc v2/api-docs from the gateway API"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594617500,"post_id":62846442,"comment_id":111176482,"body_markdown":"I followed your instruction I am able to get the swagger ul in the API gateway, but the not able to get the swagger doc as you can see in the example. My end point is not exposing http://localhost:8084/order/v2/api-docs","body":"I followed your instruction I am able to get the swagger ul in the API gateway, but the not able to get the swagger doc as you can see in the example. My end point is not exposing <a href=\"http://localhost:8084/order/v2/api-docs\" rel=\"nofollow noreferrer\">localhost:8084/order/v2/api-docs</a>"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594620533,"post_id":62846442,"comment_id":111177394,"body_markdown":"Is it because I am using implementation &quot;io.springfox:springfox-boot-starter:3.0.0-SNAPSHOT&quot; this ?","body":"Is it because I am using implementation &quot;io.springfox:springfox-boot-starter:3.0.0-SNAPSHOT&quot; this ?"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594623516,"post_id":62846442,"comment_id":111178391,"body_markdown":"Can you help me which one should I used springdoc-openapi or springfox?","body":"Can you help me which one should I used springdoc-openapi or springfox?"}],"tags":[],"owner":{"account_id":8428949,"reputation":11,"user_id":6325331,"display_name":"Artur Yolchyan"},"comment_count":9,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1599217547,"creation_date":1594452952,"answer_id":62846442,"question_id":62845550,"body_markdown":"Make sure to have the below dependencies in your services: product, payment, order and api-gateway:\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${swagger.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${swagger.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nAdd `@EnableSwagger2` annotation in all of your services.\r\n\r\nAdd zuul proxy dependencies in your API gateway project. This should route the traffic from api-gateway swagger to your other services.\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-zuul&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nAdd `@EnableZuulProxy` annotation in api-gateway.\r\n\r\nThen, put this config in api-gateway and things should work.\r\n\r\n    @Primary\r\n    @Configuration\r\n    public class Swagger2Config implements SwaggerResourcesProvider {\r\n\r\n    @Autowired\r\n    private RouteLocator routeLocator;\r\n\r\n    @Override\r\n    public List&lt;SwaggerResource&gt; get() {\r\n        List&lt;SwaggerResource&gt; resources = new ArrayList&lt;&gt;();\r\n\r\n        routeLocator.getRoutes().forEach(route -&gt; {\r\n            resources.add(swaggerResource(route.getId(), route.getFullPath().replace(&quot;**&quot;, &quot;v2/api-docs&quot;), &quot;1.0&quot;));\r\n        });\r\n\r\n        return resources;\r\n    }\r\n\r\n    private SwaggerResource swaggerResource(final String name, final String location, final String version) {\r\n        SwaggerResource swaggerResource = new SwaggerResource();\r\n        swaggerResource.setName(name);\r\n        swaggerResource.setLocation(location);\r\n        swaggerResource.setSwaggerVersion(version);\r\n        return swaggerResource;\r\n    }\r\n\r\n}\r\n\r\nWhen you will land in your api-gateway swagger page, in the top right you will see a select option for product, payment and order services. Select any of them and try to use the APIs.\r\n\r\n\r\n","title":"Swagger Api Documentation in Spring API Gateway","body":"<p>Make sure to have the below dependencies in your services: product, payment, order and api-gateway:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;${swagger.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;${swagger.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Add <code>@EnableSwagger2</code> annotation in all of your services.</p>\n<p>Add zuul proxy dependencies in your API gateway project. This should route the traffic from api-gateway swagger to your other services.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-zuul&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Add <code>@EnableZuulProxy</code> annotation in api-gateway.</p>\n<p>Then, put this config in api-gateway and things should work.</p>\n<pre><code>@Primary\n@Configuration\npublic class Swagger2Config implements SwaggerResourcesProvider {\n\n@Autowired\nprivate RouteLocator routeLocator;\n\n@Override\npublic List&lt;SwaggerResource&gt; get() {\n    List&lt;SwaggerResource&gt; resources = new ArrayList&lt;&gt;();\n\n    routeLocator.getRoutes().forEach(route -&gt; {\n        resources.add(swaggerResource(route.getId(), route.getFullPath().replace(&quot;**&quot;, &quot;v2/api-docs&quot;), &quot;1.0&quot;));\n    });\n\n    return resources;\n}\n\nprivate SwaggerResource swaggerResource(final String name, final String location, final String version) {\n    SwaggerResource swaggerResource = new SwaggerResource();\n    swaggerResource.setName(name);\n    swaggerResource.setLocation(location);\n    swaggerResource.setSwaggerVersion(version);\n    return swaggerResource;\n}\n</code></pre>\n<p>}</p>\n<p>When you will land in your api-gateway swagger page, in the top right you will see a select option for product, payment and order services. Select any of them and try to use the APIs.</p>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14204,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1696259270,"creation_date":1594445194,"question_id":62845550,"body_markdown":"[![w][1]][1]\r\n\r\n\r\nI have the above architecture in the project. Product, Order, Payment Microservice is a Rest API which currently has swagger integration, but now the flow is changed I can&#39;t expose the Microservice Rest API now all the REST API calls is been made from API Gateway.\r\n\r\nIs there any way to document the API through API gateway in swagger or what is the best practice for this case.\r\n\r\n\r\nThis is the routing configuration in API Gateway Spring boot\r\n\r\n    @Bean\r\n        public RouteLocator gatewayRoutes(RouteLocatorBuilder builder) {\r\n            return builder.routes()\r\n                    .route(r -&gt; r.path(&quot;/order/**&quot;)\r\n                            .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;order-service&quot;).\r\n                                    setFallbackUri(&quot;forward:/orderFallBack&quot;)))\r\n                            .uri(&quot;lb://ORDER-SERVICE&quot;)\r\n                            .id(&quot;order-service&quot;))\r\n    \r\n                    .route(r -&gt; r.path(&quot;/payment/**&quot;)\r\n                            .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;payment-service&quot;)\r\n                                    .setFallbackUri(&quot;forward:/paymentFallBack&quot;)))\r\n                            .uri(&quot;lb://PAYMENT-SERVICE&quot;)\r\n                            .id(&quot;payment-service&quot;))\r\n    \r\n                    .route(r -&gt; r.path(&quot;/product/**&quot;)\r\n                            .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;product-service&quot;)\r\n                                    .setFallbackUri(&quot;forward:/productFallBack&quot;)))\r\n                            .uri(&quot;lb://PRODUCT-SERVICE&quot;)\r\n                            .id(&quot;product-service&quot;))\r\n                    .build();\r\n        }\r\n\r\nSwagger configuration in Order Microservice Project\r\n\r\n    @Configuration\r\n    public class SwaggerConfiguration {\r\n        @Bean\r\n        public Docket orderApi() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.withClassAnnotation(RestController.class))\r\n                    .paths(PathSelectors.any())\r\n                    .build()\r\n                    .apiInfo(getApiInfo());\r\n        }\r\n    \r\n        //create api metadata that goes at the top of the generated page\r\n        private ApiInfo getApiInfo() {\r\n            return new ApiInfoBuilder()\r\n                    .title(&quot;Fete Bird Order Microservice&quot;)\r\n                    .version(&quot;1.0&quot;)\r\n                    .description(&quot;API for managing Fete Bird Order Microservice.&quot;)\r\n                    .license(&quot;Fete Bird License Version 1.0&quot;)\r\n                    .build();\r\n        }\r\n    }\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oesiH.png\r\n  [2]: https://i.stack.imgur.com/PczZX.png","title":"Swagger Api Documentation in Spring API Gateway","body":"<p><a href=\"https://i.stack.imgur.com/oesiH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oesiH.png\" alt=\"w\" /></a></p>\n<p>I have the above architecture in the project. Product, Order, Payment Microservice is a Rest API which currently has swagger integration, but now the flow is changed I can't expose the Microservice Rest API now all the REST API calls is been made from API Gateway.</p>\n<p>Is there any way to document the API through API gateway in swagger or what is the best practice for this case.</p>\n<p>This is the routing configuration in API Gateway Spring boot</p>\n<pre><code>@Bean\n    public RouteLocator gatewayRoutes(RouteLocatorBuilder builder) {\n        return builder.routes()\n                .route(r -&gt; r.path(&quot;/order/**&quot;)\n                        .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;order-service&quot;).\n                                setFallbackUri(&quot;forward:/orderFallBack&quot;)))\n                        .uri(&quot;lb://ORDER-SERVICE&quot;)\n                        .id(&quot;order-service&quot;))\n\n                .route(r -&gt; r.path(&quot;/payment/**&quot;)\n                        .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;payment-service&quot;)\n                                .setFallbackUri(&quot;forward:/paymentFallBack&quot;)))\n                        .uri(&quot;lb://PAYMENT-SERVICE&quot;)\n                        .id(&quot;payment-service&quot;))\n\n                .route(r -&gt; r.path(&quot;/product/**&quot;)\n                        .filters(f -&gt; f.hystrix(option -&gt; option.setName(&quot;product-service&quot;)\n                                .setFallbackUri(&quot;forward:/productFallBack&quot;)))\n                        .uri(&quot;lb://PRODUCT-SERVICE&quot;)\n                        .id(&quot;product-service&quot;))\n                .build();\n    }\n</code></pre>\n<p>Swagger configuration in Order Microservice Project</p>\n<pre><code>@Configuration\npublic class SwaggerConfiguration {\n    @Bean\n    public Docket orderApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.withClassAnnotation(RestController.class))\n                .paths(PathSelectors.any())\n                .build()\n                .apiInfo(getApiInfo());\n    }\n\n    //create api metadata that goes at the top of the generated page\n    private ApiInfo getApiInfo() {\n        return new ApiInfoBuilder()\n                .title(&quot;Fete Bird Order Microservice&quot;)\n                .version(&quot;1.0&quot;)\n                .description(&quot;API for managing Fete Bird Order Microservice.&quot;)\n                .license(&quot;Fete Bird License Version 1.0&quot;)\n                .build();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PczZX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PczZX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","model-view-controller","portlet","liferay-6","forward"],"answers":[{"comments":[{"owner":{"account_id":1324263,"reputation":2914,"user_id":1269446,"accept_rate":44,"display_name":"Laxman Rana"},"score":0,"creation_date":1374828755,"post_id":17876123,"comment_id":26104074,"body_markdown":"i think &quot;setRenderParameter&quot; method is not present under &quot;ResourceResponse&quot; interface. Yes it is present in &quot;ActionResponse&quot; which you used in your case","body":"i think &quot;setRenderParameter&quot; method is not present under &quot;ResourceResponse&quot; interface. Yes it is present in &quot;ActionResponse&quot; which you used in your case"},{"owner":{"account_id":1314915,"reputation":7683,"user_id":1262024,"accept_rate":88,"display_name":"Smajl"},"score":0,"creation_date":1374829793,"post_id":17876123,"comment_id":26104635,"body_markdown":"I edited my answer, perhaps it will help to figure out what to do.. I think that calling render request and getting to render phase after processing this method would make it work...","body":"I edited my answer, perhaps it will help to figure out what to do.. I think that calling render request and getting to render phase after processing this method would make it work..."},{"owner":{"account_id":2216302,"reputation":116,"user_id":1956790,"accept_rate":0,"display_name":"stack user1"},"score":0,"creation_date":1374875433,"post_id":17876123,"comment_id":26130176,"body_markdown":"Thanks for your help Smajil &amp; Lucky Boy. I made it work by adding `dispatcher.include(request, response);` before `dispatcher.forward(request, response);`. Although I don&#39;t get the same look &amp; feel as that of portlet but I can for now at least show some User friendly Error message.","body":"Thanks for your help Smajil &amp; Lucky Boy. I made it work by adding <code>dispatcher.include(request, response);</code> before <code>dispatcher.forward(request, response);</code>. Although I don&#39;t get the same look &amp; feel as that of portlet but I can for now at least show some User friendly Error message."},{"owner":{"account_id":1314915,"reputation":7683,"user_id":1262024,"accept_rate":88,"display_name":"Smajl"},"score":0,"creation_date":1375082887,"post_id":17876123,"comment_id":26176771,"body_markdown":"You should post your answer and mark it as answered :-) Glad you make it work anyway!","body":"You should post your answer and mark it as answered :-) Glad you make it work anyway!"},{"owner":{"account_id":2054882,"reputation":2149,"user_id":1832932,"accept_rate":60,"display_name":"naoru"},"score":0,"creation_date":1380742302,"post_id":17876123,"comment_id":28317143,"body_markdown":"i tried to recreate your steps for the same problem i have but i get org.apache.jasper.JasperException: javax.servlet.jsp.JspException: null\n any idea?","body":"i tried to recreate your steps for the same problem i have but i get org.apache.jasper.JasperException: javax.servlet.jsp.JspException: null  any idea?"}],"tags":[],"owner":{"account_id":1314915,"reputation":7683,"user_id":1262024,"accept_rate":88,"display_name":"Smajl"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374829686,"creation_date":1374825953,"answer_id":17876123,"question_id":17870593,"body_markdown":"Im not sure but my guess would be that you didnt set any render parameter when redirecting to your error page. \r\n\r\nTry this and see if it helps in any way (you can place it instead of the line with dispatcher): \r\n\r\n    response.setRenderParameter(&quot;jspPage&quot;, &quot;/WEB-INF/views/html/jsp/error.jsp&quot;);\r\n\r\nI am using this kind of redirects with **actionResponse** but it should work with **resourceResponse** as well...\r\n\r\nEDIT: resource response does not contain setRenderParameter method, but zou can try to use the following approach:\r\n\r\ncreate renderURL using `response.createRenderURL()`. If a request is triggered using this URL, it will result in render request/response (or action request which can access that method).\r\n\r\nThe problem is, that you are trying to redirect to another page during resource phase of the portlet (render phase in not called during this phase).","title":"How to make the ResourceResponse to forward the request to error page in liferay portlet","body":"<p>Im not sure but my guess would be that you didnt set any render parameter when redirecting to your error page. </p>\n\n<p>Try this and see if it helps in any way (you can place it instead of the line with dispatcher): </p>\n\n<pre><code>response.setRenderParameter(\"jspPage\", \"/WEB-INF/views/html/jsp/error.jsp\");\n</code></pre>\n\n<p>I am using this kind of redirects with <strong>actionResponse</strong> but it should work with <strong>resourceResponse</strong> as well...</p>\n\n<p>EDIT: resource response does not contain setRenderParameter method, but zou can try to use the following approach:</p>\n\n<p>create renderURL using <code>response.createRenderURL()</code>. If a request is triggered using this URL, it will result in render request/response (or action request which can access that method).</p>\n\n<p>The problem is, that you are trying to redirect to another page during resource phase of the portlet (render phase in not called during this phase).</p>\n"},{"tags":[],"owner":{"account_id":471515,"reputation":3093,"user_id":879368,"accept_rate":84,"display_name":"yannicuLar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375186500,"creation_date":1375186500,"answer_id":17946770,"question_id":17870593,"body_markdown":"I&#39;m not 100% sure this would work in the resourcePhase, but you could try \r\n\r\n   \r\n\r\n    com.liferay.portal.kernel.servlet.SessionErrors.add(request, &quot;your Error message here&quot;);","title":"How to make the ResourceResponse to forward the request to error page in liferay portlet","body":"<p>I'm not 100% sure this would work in the resourcePhase, but you could try </p>\n\n<pre><code>com.liferay.portal.kernel.servlet.SessionErrors.add(request, \"your Error message here\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":72205,"reputation":2651,"user_id":208576,"accept_rate":100,"display_name":"AdrianRM"},"score":0,"creation_date":1415352298,"post_id":21154234,"comment_id":42169815,"body_markdown":"But this is probably going to do a redirect, not a forward.","body":"But this is probably going to do a redirect, not a forward."}],"tags":[],"owner":{"account_id":3864218,"reputation":1,"user_id":3201127,"display_name":"sarM"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389852313,"creation_date":1389851253,"answer_id":21154234,"question_id":17870593,"body_markdown":"I had a similar issue. This works - \r\n\r\n    PortletURL renderUrl = resourceResponse.createRenderURL();\t\r\n    renderUrl.setParameter(&quot;renderException&quot;, ex.toString());\t\r\n    resourceResponse.addProperty(&quot;Location&quot;, renderUrl.toString());","title":"How to make the ResourceResponse to forward the request to error page in liferay portlet","body":"<p>I had a similar issue. This works - </p>\n\n<pre><code>PortletURL renderUrl = resourceResponse.createRenderURL();  \nrenderUrl.setParameter(\"renderException\", ex.toString());   \nresourceResponse.addProperty(\"Location\", renderUrl.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2180357,"reputation":1020,"user_id":2455299,"display_name":"csierra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395922766,"creation_date":1395922766,"answer_id":22687442,"question_id":17870593,"body_markdown":"Maybe it is not forwarding because the response has already been committed because you have written something in it. That could explain why include works and forward doesn&#39;t. \r\n\r\nYou can check whether the response has already been committed using resourceResponse.isCommitted() in your catch block.\r\n\r\n","title":"How to make the ResourceResponse to forward the request to error page in liferay portlet","body":"<p>Maybe it is not forwarding because the response has already been committed because you have written something in it. That could explain why include works and forward doesn't. </p>\n\n<p>You can check whether the response has already been committed using resourceResponse.isCommitted() in your catch block.</p>\n"}],"owner":{"account_id":2216302,"reputation":116,"user_id":1956790,"accept_rate":0,"display_name":"stack user1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8139,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1696259270,"creation_date":1374795756,"question_id":17870593,"body_markdown":"I am trying to forward my request to error page when error occurs during generating excel sheet. Here is sample code below. I am not sure why it is not getting forwarded to error page when the exception is thrown, it is displaying blank page but not going to my error page for sure.`\r\n\r\n&gt;             @ResourceMapping(&quot;xyz&quot;)\r\n\t\tpublic void generateExcelExport(ResourceRequest request, ResourceResponse response)  {\r\n\t\t\ttry {\r\n\t\t\t\t//Do all the excel related logic\r\n\t\t\t\tresponse.setContentType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\r\n\t\t\t\tresponse.setProperty(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + XYZ + &quot;\\&quot;&quot;);\r\n\t\t\t\tworkbook.write(response.getPortletOutputStream());\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t    response.setProperty(&quot;Content-Disposition&quot;, &quot;inline&quot; );\r\n\t\t\t\tresponse.setContentType(&quot;text/html&quot;);\r\n\t\t\t\tPortletRequestDispatcher dispatcher = request.getPortletSession().getPortletContext().getRequestDispatcher(&quot;/WEB-INF/views/html/jsp/error.jsp&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdispatcher.forward(request, response);\t\t\t\t\r\n\t\t\t\t} catch (Exception e1) {\t\t\t\t\r\n\t\t\t\t\tlog.error(&quot;Unable to forward the request from the portlet&quot;, e1);\r\n\t\t\t\t} \r\n\t\t\t} }\r\n\t\r\n\t    ","title":"How to make the ResourceResponse to forward the request to error page in liferay portlet","body":"<p>I am trying to forward my request to error page when error occurs during generating excel sheet. Here is sample code below. I am not sure why it is not getting forwarded to error page when the exception is thrown, it is displaying blank page but not going to my error page for sure.`</p>\n\n<blockquote>\n<pre><code>        @ResourceMapping(\"xyz\")\n    public void generateExcelExport(ResourceRequest request, ResourceResponse response)  {\n        try {\n            //Do all the excel related logic\n            response.setContentType(\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\");\n            response.setProperty(\"Content-Disposition\", \"attachment; filename=\\\"\" + XYZ + \"\\\"\");\n            workbook.write(response.getPortletOutputStream());\n        } catch (Exception e) {\n            response.setProperty(\"Content-Disposition\", \"inline\" );\n            response.setContentType(\"text/html\");\n            PortletRequestDispatcher dispatcher = request.getPortletSession().getPortletContext().getRequestDispatcher(\"/WEB-INF/views/html/jsp/error.jsp\");\n            try {\n                dispatcher.forward(request, response);              \n            } catch (Exception e1) {                \n                log.error(\"Unable to forward the request from the portlet\", e1);\n            } \n        } }\n</code></pre>\n</blockquote>\n"},{"tags":["java","spring","jpa","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696186844,"post_id":77211156,"comment_id":136118239,"body_markdown":"we need the full log, not just a little snippet, we need to know what i sleading up to the error and full stack trace","body":"we need the full log, not just a little snippet, we need to know what i sleading up to the error and full stack trace"},{"owner":{"account_id":20423522,"reputation":3,"user_id":14984034,"display_name":"Usz47eK"},"score":0,"creation_date":1696188878,"post_id":77211156,"comment_id":136118505,"body_markdown":"@Toerktumlare edited","body":"@Toerktumlare edited"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696195036,"post_id":77211156,"comment_id":136119093,"body_markdown":"ClassNotFoundException means you have problems with your dependencies, post your pom.xml","body":"ClassNotFoundException means you have problems with your dependencies, post your pom.xml"},{"owner":{"account_id":20423522,"reputation":3,"user_id":14984034,"display_name":"Usz47eK"},"score":0,"creation_date":1696259172,"post_id":77211156,"comment_id":136126828,"body_markdown":"@Toerktumlare in EDIT 1 I add pom.xml","body":"@Toerktumlare in EDIT 1 I add pom.xml"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696264209,"post_id":77211156,"comment_id":136127812,"body_markdown":"Why do you have `spring-security-config` added? And also with a really old version? Remove that fully, there is no reason for having that dependency. Dont you know what the purpose of the spring parent is?","body":"Why do you have <code>spring-security-config</code> added? And also with a really old version? Remove that fully, there is no reason for having that dependency. Dont you know what the purpose of the spring parent is?"},{"owner":{"account_id":20423522,"reputation":3,"user_id":14984034,"display_name":"Usz47eK"},"score":0,"creation_date":1696270102,"post_id":77211156,"comment_id":136128770,"body_markdown":"Im begginer and i try to learn it but im not programmer. I remove spring security config but  still the same errors","body":"Im begginer and i try to learn it but im not programmer. I remove spring security config but  still the same errors"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696270834,"post_id":77211156,"comment_id":136128923,"body_markdown":"there are several dependencies that i have no idea why you have added, this feels like you have just blindly copy pasted something `spring-cloud-dependencies` should be removed and `javax.servlet-api` should be removed. Saying you are a &quot;beginner&quot; doesn&#39;t matter. Before asking on stack overflow you should do proper research and have good knowledge of for instance all the items in your pom.xml etc. Stack overflow is not a forum, if you are a beginner means you just have to do more research. https://softwareengineering.meta.stackexchange.com/a/5149","body":"there are several dependencies that i have no idea why you have added, this feels like you have just blindly copy pasted something <code>spring-cloud-dependencies</code> should be removed and <code>javax.servlet-api</code> should be removed. Saying you are a &quot;beginner&quot; doesn&#39;t matter. Before asking on stack overflow you should do proper research and have good knowledge of for instance all the items in your pom.xml etc. Stack overflow is not a forum, if you are a beginner means you just have to do more research. <a href=\"https://softwareengineering.meta.stackexchange.com/a/5149\">softwareengineering.meta.stackexchange.com/a/5149</a>"}],"owner":{"account_id":20423522,"reputation":3,"user_id":14984034,"display_name":"Usz47eK"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696259149,"creation_date":1696174962,"question_id":77211156,"body_markdown":"I want to implement in my application Spring Security to approve the display of pages.\r\nI created the User, Role and UserHasRole tables in my database. In the application, I created @Entity downloads connecting the application to the database. With various tutorials I created something preliminary but unfortunately it doesn&#39;t work for my case.\r\nI find this from the error in the InteliJ console ERROR IS INCLUDED BELLOW WHOLE CODE. I want to mention that the passwords in the database will be encrypted by Bcrypt\r\nBelow I am uploading the codes I created and @Entity\r\n\r\nInitially, I will send a database design:[Tables User, Role and User_Has_role][1]\r\n\r\nNow I will show the created Entity:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name=&quot;user_has_role&quot;)\r\npublic class UserHasRole {\r\n\r\n\r\n    @Id\r\n    @Column(name = &quot;id_roli&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id_uhr;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;role_id&quot;)\r\n    private Role role;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n + Getters Setters, added_id, modified_id and dates\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name=&quot;user&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @Column(name = &quot;id_user&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id_user;\r\n\r\n    @Column(name = &quot;user_login&quot;)\r\n    private String user_login;\r\n\r\n    @Column(name = &quot;user_password&quot;)\r\n    private String user_password;\r\n\r\n    @Column(name = &quot;enabled&quot;)\r\n    private boolean enabled;\r\n\r\n    @Column(name = &quot;user_name&quot;)\r\n    private String user_name;\r\n\r\n    @Column(name = &quot;user_surname&quot;)\r\n    private String user_surname;\r\n\r\n```\r\nThe Role table was created identically to the User table. For each @Entity, I created Reepositories augmented with JpaRepository  in **UserRepository** posiadam \r\n```\r\nOptional&lt;User&gt; findByUserLogin(String user_login);\r\n```\r\nAt the very end, I upload 2 files **SecurityService** and **SecurityConfig**\r\n```\r\n@Service\r\npublic class SecurityService implements UserDetailsService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private UserHasRoleRepository userHasRoleRepository;\r\n\r\n    @Autowired\r\n    private RoleRepository roleRepository;\r\n\r\n    @Autowired\r\n    private BCryptPasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String user_login) throws UsernameNotFoundException {\r\n        User user = userRepository.findByUserLogin(user_login)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n\r\n        List&lt;SimpleGrantedAuthority&gt; authorities = userHasRoleRepository.findAllByUser(user)\r\n                .stream()\r\n                .map(userHasRole -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + userHasRole.getRole().getRole_name()))\r\n                .collect(Collectors.toList());\r\n\r\n        return new org.springframework.security.core.userdetails.User(\r\n                user.getUser_login(),\r\n                user.getUser_password(),\r\n                authorities\r\n        );\r\n    }\r\n\r\n}\r\n\r\n```\r\n**SecurityConfig**\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception{\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/devices&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin().loginPage(&quot;/login&quot;).permitAll()\r\n                .and()\r\n                .logout().permitAll()\r\n                .and()\r\n                .exceptionHandling().accessDeniedPage(&quot;/404&quot;);\r\n\r\n\r\n    }\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n}\r\n```\r\n\r\nErrors from InteliJ console:\r\n\r\n```\r\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration.authenticationEventPublisher\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:427) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat figra.patryk.validationapp.ValidationAppApplication.main(ValidationAppApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.1.0.jar:3.1.0]\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3fee733d]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740) ~[na:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:747) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:680) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:651) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:246) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:239) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:229) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:182) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:157) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/config/annotation/web/configurers/AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3502) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2601) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.9.jar:6.0.9]\r\n\t... 36 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 40 common frames omitted\r\n\r\n2023-10-01T17:10:22.149+02:00  WARN 20080 --- [  restartedMain] o.s.boot.SpringApplication               : Unable to close ApplicationContext\r\n\r\njava.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3fee733d]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740) ~[na:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:747) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:680) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:651) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:651) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1302) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:866) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:854) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:841) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:781) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:324) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat figra.patryk.validationapp.ValidationAppApplication.main(ValidationAppApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.1.0.jar:3.1.0]\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/config/annotation/web/configurers/AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3502) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2601) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.9.jar:6.0.9]\r\n\t... 24 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 28 common frames omitted\r\n\r\n\r\n```\r\n\r\n\r\n**EDIT 1**\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;figra.patryk&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ValidationApp&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ValidationApp&lt;/name&gt;\r\n    &lt;description&gt;ValidationApp&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;20&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\r\n        &lt;jakarta-servlet.version&gt;5.0.0&lt;/jakarta-servlet.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.20&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2ohoO.png","title":"How to implement authentications using Spring Security with JPA RoleBased","body":"<p>I want to implement in my application Spring Security to approve the display of pages.\nI created the User, Role and UserHasRole tables in my database. In the application, I created @Entity downloads connecting the application to the database. With various tutorials I created something preliminary but unfortunately it doesn't work for my case.\nI find this from the error in the InteliJ console ERROR IS INCLUDED BELLOW WHOLE CODE. I want to mention that the passwords in the database will be encrypted by Bcrypt\nBelow I am uploading the codes I created and @Entity</p>\n<p>Initially, I will send a database design:<a href=\"https://i.stack.imgur.com/2ohoO.png\" rel=\"nofollow noreferrer\">Tables User, Role and User_Has_role</a></p>\n<p>Now I will show the created Entity:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name=&quot;user_has_role&quot;)\npublic class UserHasRole {\n\n\n    @Id\n    @Column(name = &quot;id_roli&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id_uhr;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;role_id&quot;)\n    private Role role;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n + Getters Setters, added_id, modified_id and dates\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name=&quot;user&quot;)\npublic class User {\n\n    @Id\n    @Column(name = &quot;id_user&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id_user;\n\n    @Column(name = &quot;user_login&quot;)\n    private String user_login;\n\n    @Column(name = &quot;user_password&quot;)\n    private String user_password;\n\n    @Column(name = &quot;enabled&quot;)\n    private boolean enabled;\n\n    @Column(name = &quot;user_name&quot;)\n    private String user_name;\n\n    @Column(name = &quot;user_surname&quot;)\n    private String user_surname;\n\n</code></pre>\n<p>The Role table was created identically to the User table. For each @Entity, I created Reepositories augmented with JpaRepository  in <strong>UserRepository</strong> posiadam</p>\n<pre><code>Optional&lt;User&gt; findByUserLogin(String user_login);\n</code></pre>\n<p>At the very end, I upload 2 files <strong>SecurityService</strong> and <strong>SecurityConfig</strong></p>\n<pre><code>@Service\npublic class SecurityService implements UserDetailsService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private UserHasRoleRepository userHasRoleRepository;\n\n    @Autowired\n    private RoleRepository roleRepository;\n\n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String user_login) throws UsernameNotFoundException {\n        User user = userRepository.findByUserLogin(user_login)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n\n        List&lt;SimpleGrantedAuthority&gt; authorities = userHasRoleRepository.findAllByUser(user)\n                .stream()\n                .map(userHasRole -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + userHasRole.getRole().getRole_name()))\n                .collect(Collectors.toList());\n\n        return new org.springframework.security.core.userdetails.User(\n                user.getUser_login(),\n                user.getUser_password(),\n                authorities\n        );\n    }\n\n}\n\n</code></pre>\n<p><strong>SecurityConfig</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n    @Override\n    protected void configure(HttpSecurity http) throws Exception{\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/devices&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .formLogin().loginPage(&quot;/login&quot;).permitAll()\n                .and()\n                .logout().permitAll()\n                .and()\n                .exceptionHandling().accessDeniedPage(&quot;/404&quot;);\n\n\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n}\n</code></pre>\n<p>Errors from InteliJ console:</p>\n<pre><code>java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration.authenticationEventPublisher\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:427) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at figra.patryk.validationapp.ValidationAppApplication.main(ValidationAppApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.1.0.jar:3.1.0]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3fee733d]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.9.jar:6.0.9]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:747) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:680) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:651) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:246) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:239) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:229) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:182) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:157) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    ... 20 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/config/annotation/web/configurers/AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3502) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2601) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.9.jar:6.0.9]\n    ... 36 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 40 common frames omitted\n\n2023-10-01T17:10:22.149+02:00  WARN 20080 --- [  restartedMain] o.s.boot.SpringApplication               : Unable to close ApplicationContext\n\njava.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3fee733d]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.9.jar:6.0.9]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:747) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:680) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:651) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:651) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1302) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:866) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:854) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:841) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:781) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:324) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at figra.patryk.validationapp.ValidationAppApplication.main(ValidationAppApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.1.0.jar:3.1.0]\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/config/annotation/web/configurers/AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3502) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2601) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.9.jar:6.0.9]\n    ... 24 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 28 common frames omitted\n\n\n</code></pre>\n<p><strong>EDIT 1</strong></p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;figra.patryk&lt;/groupId&gt;\n    &lt;artifactId&gt;ValidationApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ValidationApp&lt;/name&gt;\n    &lt;description&gt;ValidationApp&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\n        &lt;jakarta-servlet.version&gt;5.0.0&lt;/jakarta-servlet.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.20&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","swing","jtable","jcombobox"],"comments":[{"owner":{"account_id":9540742,"reputation":89,"user_id":7089085,"display_name":"Nakuaga"},"score":0,"creation_date":1605864764,"post_id":3256086,"comment_id":114788869,"body_markdown":"Does this answer your question? [How to add JComboBox to a specific cell in the JTable](https://stackoverflow.com/questions/3426175/how-to-add-jcombobox-to-a-specific-cell-in-the-jtable)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3426175/how-to-add-jcombobox-to-a-specific-cell-in-the-jtable\">How to add JComboBox to a specific cell in the JTable</a>"}],"answers":[{"tags":[],"owner":{"account_id":8620,"reputation":22142,"user_id":15619,"accept_rate":91,"display_name":"Riduidel"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1456334827,"creation_date":1279201748,"answer_id":3256139,"question_id":3256086,"body_markdown":"For the &lt;code&gt;JComboBox&lt;/code&gt; to be disaplyed, you have to use a &lt;code&gt;TableCellRenderer&lt;/code&gt;. Take a look at [*Using a Combo Box as an Editor*][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#combobox","title":"JComboBox in a JTable cell","body":"<p>For the <code>JComboBox</code> to be disaplyed, you have to use a <code>TableCellRenderer</code>. Take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#combobox\" rel=\"nofollow noreferrer\"><em>Using a Combo Box as an Editor</em></a>.</p>\n"},{"comments":[{"owner":{"account_id":113349,"reputation":117,"user_id":298562,"accept_rate":60,"display_name":"anna-k"},"score":0,"creation_date":1279203963,"post_id":3256156,"comment_id":3366032,"body_markdown":"Thank you\nI have been analysing all these examples you posted and others,on the internet.. but they dont fit.\nI just need to create a JComboBox on a Specific place in the JTable, such as data[1][5] .\nThe box is already created,I just need to link it on that place.\nIn these examples I see they get a full column and create a JComboBox out of it, and I see nowhere how would they refer to a  specific place in the table, such as row-2, column-5...etc...\nThanks","body":"Thank you I have been analysing all these examples you posted and others,on the internet.. but they dont fit. I just need to create a JComboBox on a Specific place in the JTable, such as data[1][5] . The box is already created,I just need to link it on that place. In these examples I see they get a full column and create a JComboBox out of it, and I see nowhere how would they refer to a  specific place in the table, such as row-2, column-5...etc... Thanks"}],"tags":[],"owner":{"account_id":165428,"reputation":910,"user_id":388875,"display_name":"Javaguru"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279206497,"creation_date":1279201851,"answer_id":3256156,"question_id":3256086,"body_markdown":"Hehe, it&#39;s not to be used like you proposed.\r\n\r\nYou have to create a custom TableCellRenderer or TableCellEditor.\r\nThen you can specify for which class it will be used:\r\n\r\n    JTable.setDefaultRenderer(Class&lt;?&gt; columnClass, TableCellRenderer renderer)\r\n    JTable.setDefaultEditor(Class&lt;?&gt; columnClass, TableCellEditor editor)\r\n\r\nA detailed description can be found here: http://download.oracle.com/docs/cd/E17409_01/javase/tutorial/uiswing/components/table.html#combobox\r\n\r\nFor a custom renderer in a specific row &amp; column, you can simply use:\r\n\r\n\r\n    final int specialRow = 1;\r\n    final int specialColumn = 5;\r\n    \r\n    JTable table = new JTable(myModel) {\r\n       private TableCellEditor mySpecialCellEditor = new SpecialCellEditor( ... );\r\n    \r\n       public TableCellEditor getCellEditor(int row, int column) {\r\n          int modelColumn = convertColumnIndexToModel(column);\r\n          int modelRow = convertRowIndexToModel(row);\r\n          if (modelColumn == specialColumn &amp;&amp; row == specialRow ) {\r\n             return mySpecialCellEditor;\r\n          } else {\r\n             return super.getCellEditor(row, column);\r\n          }\r\n       }\r\n    };\r\n\r\n","title":"JComboBox in a JTable cell","body":"<p>Hehe, it's not to be used like you proposed.</p>\n\n<p>You have to create a custom TableCellRenderer or TableCellEditor.\nThen you can specify for which class it will be used:</p>\n\n<pre><code>JTable.setDefaultRenderer(Class&lt;?&gt; columnClass, TableCellRenderer renderer)\nJTable.setDefaultEditor(Class&lt;?&gt; columnClass, TableCellEditor editor)\n</code></pre>\n\n<p>A detailed description can be found here: <a href=\"http://download.oracle.com/docs/cd/E17409_01/javase/tutorial/uiswing/components/table.html#combobox\" rel=\"nofollow noreferrer\">http://download.oracle.com/docs/cd/E17409_01/javase/tutorial/uiswing/components/table.html#combobox</a></p>\n\n<p>For a custom renderer in a specific row &amp; column, you can simply use:</p>\n\n<pre><code>final int specialRow = 1;\nfinal int specialColumn = 5;\n\nJTable table = new JTable(myModel) {\n   private TableCellEditor mySpecialCellEditor = new SpecialCellEditor( ... );\n\n   public TableCellEditor getCellEditor(int row, int column) {\n      int modelColumn = convertColumnIndexToModel(column);\n      int modelRow = convertRowIndexToModel(row);\n      if (modelColumn == specialColumn &amp;&amp; row == specialRow ) {\n         return mySpecialCellEditor;\n      } else {\n         return super.getCellEditor(row, column);\n      }\n   }\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1279207646,"post_id":3256602,"comment_id":3366725,"body_markdown":"Very succinct. As an alternative, consider `List&lt;DefaultCellEditor&gt; editors = new ArrayList&lt;DefaultCellEditor&gt;(3)`.","body":"Very succinct. As an alternative, consider <code>List&lt;DefaultCellEditor&gt; editors = new ArrayList&lt;DefaultCellEditor&gt;(3)</code>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1279217325,"post_id":3256602,"comment_id":3368504,"body_markdown":"Yes, I wrote the example code before generics existed. I guess I should update it to be more current :)","body":"Yes, I wrote the example code before generics existed. I guess I should update it to be more current :)"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1279251360,"post_id":3256602,"comment_id":3372555,"body_markdown":"On reflection, `List&lt;TableCellEditor&gt; editors = new ArrayList&lt;TableCellEditor&gt;(3)` may be better. It&#39;s more general, obviates the cast in `getCellEditor()` and allows the implementation to be changed. Sorry for the bum steer; still learning.","body":"On reflection, <code>List&lt;TableCellEditor&gt; editors = new ArrayList&lt;TableCellEditor&gt;(3)</code> may be better. It&#39;s more general, obviates the cast in <code>getCellEditor()</code> and allows the implementation to be changed. Sorry for the bum steer; still learning."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1279256899,"creation_date":1279204540,"answer_id":3256602,"question_id":3256086,"body_markdown":"One way is to override the getCellEditor() method to return an appropriate editor. Here is an example to get you started:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import javax.swing.*;\r\n    import javax.swing.table.*;\r\n    \r\n    public class TableComboBoxByRow extends JFrame\r\n    {\r\n    \tList&lt;TableCellEditor&gt; editors = new ArrayList&lt;TableCellEditor&gt;(3);\r\n    \r\n    \tpublic TableComboBoxByRow()\r\n    \t{\r\n    \t\t// Create the editors to be used for each row\r\n    \r\n    \t\tString[] items1 = { &quot;Red&quot;, &quot;Blue&quot;, &quot;Green&quot; };\r\n    \t\tJComboBox comboBox1 = new JComboBox( items1 );\r\n    \t\tDefaultCellEditor dce1 = new DefaultCellEditor( comboBox1 );\r\n    \t\teditors.add( dce1 );\r\n    \r\n    \t\tString[] items2 = { &quot;Circle&quot;, &quot;Square&quot;, &quot;Triangle&quot; };\r\n    \t\tJComboBox comboBox2 = new JComboBox( items2 );\r\n    \t\tDefaultCellEditor dce2 = new DefaultCellEditor( comboBox2 );\r\n    \t\teditors.add( dce2 );\r\n    \r\n    \t\tString[] items3 = { &quot;Apple&quot;, &quot;Orange&quot;, &quot;Banana&quot; };\r\n    \t\tJComboBox comboBox3 = new JComboBox( items3 );\r\n    \t\tDefaultCellEditor dce3 = new DefaultCellEditor( comboBox3 );\r\n    \t\teditors.add( dce3 );\r\n    \r\n    \t\t//  Create the table with default data\r\n    \r\n    \t\tObject[][] data =\r\n    \t\t{\r\n    \t\t\t{&quot;Color&quot;, &quot;Red&quot;},\r\n    \t\t\t{&quot;Shape&quot;, &quot;Square&quot;},\r\n    \t\t\t{&quot;Fruit&quot;, &quot;Banana&quot;},\r\n    \t\t\t{&quot;Plain&quot;, &quot;Text&quot;}\r\n    \t\t};\r\n    \t\tString[] columnNames = {&quot;Type&quot;,&quot;Value&quot;};\r\n    \t\tDefaultTableModel model = new DefaultTableModel(data, columnNames);\r\n    \t\tJTable table = new JTable(model)\r\n    \t\t{\r\n    \t\t\t//  Determine editor to be used by row\r\n    \t\t\tpublic TableCellEditor getCellEditor(int row, int column)\r\n    \t\t\t{\r\n    \t\t\t\tint modelColumn = convertColumnIndexToModel( column );\r\n    \r\n    \t\t\t\tif (modelColumn == 1 &amp;&amp; row &lt; 3)\r\n    \t\t\t\t\treturn editors.get(row);\r\n    \t\t\t\telse\r\n    \t\t\t\t\treturn super.getCellEditor(row, column);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tSystem.out.println(table.getCellEditor());\r\n    \r\n    \t\tJScrollPane scrollPane = new JScrollPane( table );\r\n    \t\tgetContentPane().add( scrollPane );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tTableComboBoxByRow frame = new TableComboBoxByRow();\r\n    \t\tframe.setDefaultCloseOperation( EXIT_ON_CLOSE );\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    }\r\n\r\nEdit: code updated to use trashgod&#39;s suggestion.","title":"JComboBox in a JTable cell","body":"<p>One way is to override the getCellEditor() method to return an appropriate editor. Here is an example to get you started:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.util.List;\nimport java.util.ArrayList;\nimport javax.swing.*;\nimport javax.swing.table.*;\n\npublic class TableComboBoxByRow extends JFrame\n{\n    List&lt;TableCellEditor&gt; editors = new ArrayList&lt;TableCellEditor&gt;(3);\n\n    public TableComboBoxByRow()\n    {\n        // Create the editors to be used for each row\n\n        String[] items1 = { \"Red\", \"Blue\", \"Green\" };\n        JComboBox comboBox1 = new JComboBox( items1 );\n        DefaultCellEditor dce1 = new DefaultCellEditor( comboBox1 );\n        editors.add( dce1 );\n\n        String[] items2 = { \"Circle\", \"Square\", \"Triangle\" };\n        JComboBox comboBox2 = new JComboBox( items2 );\n        DefaultCellEditor dce2 = new DefaultCellEditor( comboBox2 );\n        editors.add( dce2 );\n\n        String[] items3 = { \"Apple\", \"Orange\", \"Banana\" };\n        JComboBox comboBox3 = new JComboBox( items3 );\n        DefaultCellEditor dce3 = new DefaultCellEditor( comboBox3 );\n        editors.add( dce3 );\n\n        //  Create the table with default data\n\n        Object[][] data =\n        {\n            {\"Color\", \"Red\"},\n            {\"Shape\", \"Square\"},\n            {\"Fruit\", \"Banana\"},\n            {\"Plain\", \"Text\"}\n        };\n        String[] columnNames = {\"Type\",\"Value\"};\n        DefaultTableModel model = new DefaultTableModel(data, columnNames);\n        JTable table = new JTable(model)\n        {\n            //  Determine editor to be used by row\n            public TableCellEditor getCellEditor(int row, int column)\n            {\n                int modelColumn = convertColumnIndexToModel( column );\n\n                if (modelColumn == 1 &amp;&amp; row &lt; 3)\n                    return editors.get(row);\n                else\n                    return super.getCellEditor(row, column);\n            }\n        };\n        System.out.println(table.getCellEditor());\n\n        JScrollPane scrollPane = new JScrollPane( table );\n        getContentPane().add( scrollPane );\n    }\n\n    public static void main(String[] args)\n    {\n        TableComboBoxByRow frame = new TableComboBoxByRow();\n        frame.setDefaultCloseOperation( EXIT_ON_CLOSE );\n        frame.pack();\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>Edit: code updated to use trashgod's suggestion.</p>\n"},{"comments":[{"owner":{"account_id":6095638,"reputation":1213,"user_id":4756519,"accept_rate":25,"display_name":"Jesse James"},"score":0,"creation_date":1584976628,"post_id":16738848,"comment_id":107600157,"body_markdown":"This changes all cells in `tmpColum` into JComboBoxes. What if you only want to change a specific cell using its row and column?","body":"This changes all cells in <code>tmpColum</code> into JComboBoxes. What if you only want to change a specific cell using its row and column?"}],"tags":[],"owner":{"account_id":1774855,"reputation":665,"user_id":1618817,"display_name":"Adrian"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1369410297,"creation_date":1369410297,"answer_id":16738848,"question_id":3256086,"body_markdown":"Try something like this:\r\n\r\n     public void example(){  \r\n\r\n          TableColumn tmpColum =table.getColumnModel().getColumn(1);\r\n          String[] DATA = { &quot;Data 1&quot;, &quot;Data 2&quot;, &quot;Data 3&quot;, &quot;Data 4&quot; };\r\n          JComboBox comboBox = new JComboBox(DATA);\r\n\r\n          DefaultCellEditor defaultCellEditor=new DefaultCellEditor(comboBox);\r\n          tmpColum.setCellEditor(defaultCellEditor);\r\n          tmpColum.setCellRenderer(new CheckBoxCellRenderer(comboBox));\r\n          table.repaint();\r\n       }\r\n\r\n\r\n    /**\r\n       Custom class for adding elements in the JComboBox.\r\n    */\r\n    class CheckBoxCellRenderer implements TableCellRenderer {\r\n            JComboBox combo;\r\n            public CheckBoxCellRenderer(JComboBox comboBox) {\r\n                this.combo = new JComboBox();\r\n                for (int i=0; i&lt;comboBox.getItemCount(); i++){\r\n                    combo.addItem(comboBox.getItemAt(i));\r\n                }\r\n            }\r\n            public Component getTableCellRendererComponent(JTable jtable, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n                combo.setSelectedItem(value);\r\n                return combo;\r\n            }\r\n        }\r\n","title":"JComboBox in a JTable cell","body":"<p>Try something like this:</p>\n\n<pre><code> public void example(){  \n\n      TableColumn tmpColum =table.getColumnModel().getColumn(1);\n      String[] DATA = { \"Data 1\", \"Data 2\", \"Data 3\", \"Data 4\" };\n      JComboBox comboBox = new JComboBox(DATA);\n\n      DefaultCellEditor defaultCellEditor=new DefaultCellEditor(comboBox);\n      tmpColum.setCellEditor(defaultCellEditor);\n      tmpColum.setCellRenderer(new CheckBoxCellRenderer(comboBox));\n      table.repaint();\n   }\n\n\n/**\n   Custom class for adding elements in the JComboBox.\n*/\nclass CheckBoxCellRenderer implements TableCellRenderer {\n        JComboBox combo;\n        public CheckBoxCellRenderer(JComboBox comboBox) {\n            this.combo = new JComboBox();\n            for (int i=0; i&lt;comboBox.getItemCount(); i++){\n                combo.addItem(comboBox.getItemAt(i));\n            }\n        }\n        public Component getTableCellRendererComponent(JTable jtable, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            combo.setSelectedItem(value);\n            return combo;\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":3,"creation_date":1696226904,"post_id":77212476,"comment_id":136121291,"body_markdown":"This is &quot;Thanks&quot;, right? Then please delete this. Or do you feel that with this you contribute any additional insight to answering the question at the top of this page? In that case please [edit] towards [answer].","body":"This is &quot;Thanks&quot;, right? Then please delete this. Or do you feel that with this you contribute any additional insight to answering the question at the top of this page? In that case please <a href=\"https://stackoverflow.com/posts/77212476/edit\">edit</a> towards <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>."}],"tags":[],"owner":{"account_id":29577003,"reputation":1,"user_id":22667717,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696259126,"creation_date":1696197749,"answer_id":77212476,"question_id":3256086,"body_markdown":"I was working on something similar where I need comboboxes on columns in certain rows.\r\n\r\n        Integer boolInt[]  = {0,1};\r\n        JComboBox comboBox = new JComboBox(boolInt);\r\n        DefaultCellEditor defaultCellEditor=new DefaultCellEditor(comboBox);\r\n        \r\n            for (int j = 1; j &lt; 5; j++) {//columns\r\n                TableColumn tmpColum =table.getColumnModel().getColumn(j);\r\n                JComboBox&lt;Integer&gt;(boolInt);\r\n                tmpColum.setCellEditor(defaultCellEditor);\r\n                tmpColum.setCellRenderer(new CheckBoxCellRenderer(comboBox));\r\n                table.repaint();\r\n            }\r\n       \r\n","title":"JComboBox in a JTable cell","body":"<p>I was working on something similar where I need comboboxes on columns in certain rows.</p>\n<pre><code>    Integer boolInt[]  = {0,1};\n    JComboBox comboBox = new JComboBox(boolInt);\n    DefaultCellEditor defaultCellEditor=new DefaultCellEditor(comboBox);\n    \n        for (int j = 1; j &lt; 5; j++) {//columns\n            TableColumn tmpColum =table.getColumnModel().getColumn(j);\n            JComboBox&lt;Integer&gt;(boolInt);\n            tmpColum.setCellEditor(defaultCellEditor);\n            tmpColum.setCellRenderer(new CheckBoxCellRenderer(comboBox));\n            table.repaint();\n        }\n   \n</code></pre>\n"}],"owner":{"account_id":113349,"reputation":117,"user_id":298562,"accept_rate":60,"display_name":"anna-k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13787,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1696259126,"creation_date":1279201405,"question_id":3256086,"body_markdown":"I have a JTable created using a model, which is based on a matrix of objects. \r\nFor each row, I want to put in a specific column (the 5th) some information using a JComboBox. I have tried the following:\r\n\r\n\r\n    for(int i=0; i &lt; n ; i++) {  \r\n        .....  \r\n        data[i][5] = new JComboBox(aux); // aux is a Vector of elements I wanna insert  \r\n    }  \r\n    table.setModel(new MyTableModel()); // MyTableModel() already takes into consideration the data[][] object  \r\n\r\nThe problem is that `data[i][5] = new JComboBox(aux);` does not create a JComboBox object in that specific cell of the JTable, but pastes a code into the row. What can I do to solve this problem?\r\n\r\n","title":"JComboBox in a JTable cell","body":"<p>I have a JTable created using a model, which is based on a matrix of objects.\nFor each row, I want to put in a specific column (the 5th) some information using a JComboBox. I have tried the following:</p>\n<pre><code>for(int i=0; i &lt; n ; i++) {  \n    .....  \n    data[i][5] = new JComboBox(aux); // aux is a Vector of elements I wanna insert  \n}  \ntable.setModel(new MyTableModel()); // MyTableModel() already takes into consideration the data[][] object  \n</code></pre>\n<p>The problem is that <code>data[i][5] = new JComboBox(aux);</code> does not create a JComboBox object in that specific cell of the JTable, but pastes a code into the row. What can I do to solve this problem?</p>\n"},{"tags":["java","jms","spring-jms"],"answers":[{"comments":[{"owner":{"account_id":13669941,"reputation":154,"user_id":9862830,"display_name":"Sathya Narayan C"},"score":0,"creation_date":1580980668,"post_id":60086655,"comment_id":106278705,"body_markdown":"Shall i override like this using jms.listener property `spring.jms.listener.acknowledge-mode=client` ? ,  Will this work ?","body":"Shall i override like this using jms.listener property <code>spring.jms.listener.acknowledge-mode=client</code> ? ,  Will this work ?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1580989196,"post_id":60086655,"comment_id":106283563,"body_markdown":"Yes, that should work. I updated my answer to address this point.","body":"Yes, that should work. I updated my answer to address this point."},{"owner":{"account_id":16118032,"reputation":93,"user_id":11634626,"display_name":"BSL"},"score":0,"creation_date":1663356867,"post_id":60086655,"comment_id":130228865,"body_markdown":"Hi @JustinBertram, thank you for your Answer! is there a way to override this behavior, so we acknowledge manually (call message.acknowladge() method) the broker after we finish all our business logic? In my case I want the message to be removed from the queue not only after I successfully consume it from the queue, but after I finish all the processing in the spring application.  \nThank you.","body":"Hi @JustinBertram, thank you for your Answer! is there a way to override this behavior, so we acknowledge manually (call message.acknowladge() method) the broker after we finish all our business logic? In my case I want the message to be removed from the queue not only after I successfully consume it from the queue, but after I finish all the processing in the spring application.   Thank you."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1663357850,"post_id":60086655,"comment_id":130229150,"body_markdown":"@BSL, you should use &quot;CLIENT_ACKNOWLEDGE&quot; as described in the answer. As the Spring documentation states this will give you, &quot;Automatic message acknowledgment after successful listener execution...&quot; If you perform all your processing in the listener then the message will be acknowledged once it completes successfully. There will be no need to call `message.acknowledge()`.","body":"@BSL, you should use &quot;CLIENT_ACKNOWLEDGE&quot; as described in the answer. As the Spring documentation states this will give you, &quot;Automatic message acknowledgment after successful listener execution...&quot; If you perform all your processing in the listener then the message will be acknowledged once it completes successfully. There will be no need to call <code>message.acknowledge()</code>."},{"owner":{"account_id":16118032,"reputation":93,"user_id":11634626,"display_name":"BSL"},"score":0,"creation_date":1663418488,"post_id":60086655,"comment_id":130237729,"body_markdown":"Thank you @JustinBertram! In my case, I musing Apache Camel JmsComponent that invokes spring JMS template. I don&#39;t have control over the Listener so is there a way to override the default Listener used by the JmsTemplate (org.springframework.jms.config.AbstractJmsListenerContainerFactory). Thank you!","body":"Thank you @JustinBertram! In my case, I musing Apache Camel JmsComponent that invokes spring JMS template. I don&#39;t have control over the Listener so is there a way to override the default Listener used by the JmsTemplate (org.springframework.jms.config.AbstractJmsListenerContainer&zwnj;&#8203;Factory). Thank you!"}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":5,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1580989179,"creation_date":1580954129,"answer_id":60086655,"question_id":60069782,"body_markdown":"You should use the `setSessionAcknowledgeMode` method on your \r\n`org.springframework.jms.config.DefaultJmsListenerContainerFactory` instance to set [`CLIENT_ACKNOWLEDGE`][1] mode, e.g.:\r\n\r\n```java\r\n@Bean\r\npublic JmsListenerContainerFactory myFactory(ConnectionFactory connectionFactory, DefaultJmsListenerContainerFactoryConfigurer configurer) {\r\n\r\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n    factory.setErrorHandler(t -&gt; {\r\n        logger.info(&quot;An error has occurred in the transaction&quot;);\r\n        logger.error(t.getCause().getMessage());\r\n    });\r\n\r\n    factory.setSessionAcknowledgeMode(javax.jms.Session.CLIENT_ACKNOWLEDGE);\r\n\r\n    configurer.configure(factory, connectionFactory);\r\n    factory.setConcurrency(&quot;4&quot;);\r\n\r\n    // You could still override some of Boot&#39;s default if necessary.\r\n    return factory;\r\n}\r\n```\r\nThis is discussed in the [Spring JMS JavaDoc][2]:\r\n\r\n&gt; The listener container offers the following message acknowledgment options:\r\n&gt;\r\n&gt; - &quot;sessionAcknowledgeMode&quot; set to &quot;AUTO_ACKNOWLEDGE&quot; (default): This mode is container-dependent: For [`DefaultMessageListenerContainer`][3], it means automatic message acknowledgment *before* listener execution, with no redelivery in case of an exception and no redelivery in case of other listener execution interruptions either. For [`SimpleMessageListenerContainer`][4], it means automatic message acknowledgment *after* listener execution, with no redelivery in case of a user exception thrown but potential redelivery in case of the JVM dying during listener execution. In order to consistently arrange for redelivery with any container variant, consider &quot;CLIENT_ACKNOWLEDGE&quot; mode or - preferably - setting &quot;sessionTransacted&quot; to &quot;true&quot; instead.\r\n&gt;\r\n&gt; - &quot;sessionAcknowledgeMode&quot; set to &quot;DUPS_OK_ACKNOWLEDGE&quot;: *Lazy* message acknowledgment during ([`DefaultMessageListenerContainer`][3]) or shortly after ([`SimpleMessageListenerContainer`][4]) listener execution; no redelivery in case of a user exception thrown but potential redelivery in case of the JVM dying during listener execution. In order to consistently arrange for redelivery with any container variant, consider &quot;CLIENT_ACKNOWLEDGE&quot; mode or - preferably - setting &quot;sessionTransacted&quot; to &quot;true&quot; instead.\r\n&gt;\r\n&gt; - &quot;sessionAcknowledgeMode&quot; set to &quot;CLIENT_ACKNOWLEDGE&quot;: Automatic message acknowledgment *after* successful listener execution; best-effort redelivery in case of a user exception thrown as well as in case of other listener execution interruptions (such as the JVM dying).\r\n&gt;\r\n&gt; - &quot;sessionTransacted&quot; set to &quot;true&quot;: Transactional acknowledgment after successful listener execution; *guaranteed redelivery* in case of a user exception thrown as well as in case of other listener execution interruptions (such as the JVM dying).\r\n\r\nYou could also use this in your Spring Boot `application.properties`:\r\n\r\n```\r\nspring.jms.listener.acknowledge-mode=CLIENT\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/Session.html?#CLIENT_ACKNOWLEDGE\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/AbstractMessageListenerContainer.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/SimpleMessageListenerContainer.html","title":"How to manually acknowledge message from using Spring JmsListener","body":"<p>You should use the <code>setSessionAcknowledgeMode</code> method on your \n<code>org.springframework.jms.config.DefaultJmsListenerContainerFactory</code> instance to set <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Session.html?#CLIENT_ACKNOWLEDGE\" rel=\"noreferrer\"><code>CLIENT_ACKNOWLEDGE</code></a> mode, e.g.:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic JmsListenerContainerFactory myFactory(ConnectionFactory connectionFactory, DefaultJmsListenerContainerFactoryConfigurer configurer) {\n\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n    factory.setErrorHandler(t -&gt; {\n        logger.info(\"An error has occurred in the transaction\");\n        logger.error(t.getCause().getMessage());\n    });\n\n    factory.setSessionAcknowledgeMode(javax.jms.Session.CLIENT_ACKNOWLEDGE);\n\n    configurer.configure(factory, connectionFactory);\n    factory.setConcurrency(\"4\");\n\n    // You could still override some of Boot's default if necessary.\n    return factory;\n}\n</code></pre>\n\n<p>This is discussed in the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/AbstractMessageListenerContainer.html\" rel=\"noreferrer\">Spring JMS JavaDoc</a>:</p>\n\n<blockquote>\n  <p>The listener container offers the following message acknowledgment options:</p>\n  \n  <ul>\n  <li><p>\"sessionAcknowledgeMode\" set to \"AUTO_ACKNOWLEDGE\" (default): This mode is container-dependent: For <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html\" rel=\"noreferrer\"><code>DefaultMessageListenerContainer</code></a>, it means automatic message acknowledgment <em>before</em> listener execution, with no redelivery in case of an exception and no redelivery in case of other listener execution interruptions either. For <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/SimpleMessageListenerContainer.html\" rel=\"noreferrer\"><code>SimpleMessageListenerContainer</code></a>, it means automatic message acknowledgment <em>after</em> listener execution, with no redelivery in case of a user exception thrown but potential redelivery in case of the JVM dying during listener execution. In order to consistently arrange for redelivery with any container variant, consider \"CLIENT_ACKNOWLEDGE\" mode or - preferably - setting \"sessionTransacted\" to \"true\" instead.</p></li>\n  <li><p>\"sessionAcknowledgeMode\" set to \"DUPS_OK_ACKNOWLEDGE\": <em>Lazy</em> message acknowledgment during (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html\" rel=\"noreferrer\"><code>DefaultMessageListenerContainer</code></a>) or shortly after (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/SimpleMessageListenerContainer.html\" rel=\"noreferrer\"><code>SimpleMessageListenerContainer</code></a>) listener execution; no redelivery in case of a user exception thrown but potential redelivery in case of the JVM dying during listener execution. In order to consistently arrange for redelivery with any container variant, consider \"CLIENT_ACKNOWLEDGE\" mode or - preferably - setting \"sessionTransacted\" to \"true\" instead.</p></li>\n  <li><p>\"sessionAcknowledgeMode\" set to \"CLIENT_ACKNOWLEDGE\": Automatic message acknowledgment <em>after</em> successful listener execution; best-effort redelivery in case of a user exception thrown as well as in case of other listener execution interruptions (such as the JVM dying).</p></li>\n  <li><p>\"sessionTransacted\" set to \"true\": Transactional acknowledgment after successful listener execution; <em>guaranteed redelivery</em> in case of a user exception thrown as well as in case of other listener execution interruptions (such as the JVM dying).</p></li>\n  </ul>\n</blockquote>\n\n<p>You could also use this in your Spring Boot <code>application.properties</code>:</p>\n\n<pre><code>spring.jms.listener.acknowledge-mode=CLIENT\n</code></pre>\n"}],"owner":{"account_id":13669941,"reputation":154,"user_id":9862830,"display_name":"Sathya Narayan C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12589,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60086655,"answer_count":1,"score":4,"last_activity_date":1696259052,"creation_date":1580882363,"question_id":60069782,"body_markdown":"I am using JMS with Spring&#39;s JmsListener. I am able to consume messages from a JMS queue, but it is using `AUTO_ACKNOWLEDGE`. How can I set `CLIENT_ACKNOWLEDGE` so that I can consume the other message only after that acknowledgment.\r\n\r\n```java\r\n@Bean\r\npublic JmsListenerContainerFactory myFactory(ConnectionFactory connectionFactory, DefaultJmsListenerContainerFactoryConfigurer configurer) {\r\n\r\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n    factory.setErrorHandler(t -&gt; {\r\n        logger.info(&quot;An error has occurred in the transaction&quot;);\r\n        logger.error(t.getCause().getMessage());\r\n    });\r\n\r\n    configurer.configure(factory, connectionFactory);\r\n    factory.setConcurrency(&quot;4&quot;);\r\n\r\n    // You could still override some of Boot&#39;s default if necessary.\r\n    return factory;\r\n}\r\n\r\n@Bean\r\npublic MessageConverter jacksonJmsMessageConverter() {\r\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n    converter.setTargetType(MessageType.TEXT);\r\n    converter.setTypeIdPropertyName(&quot;_type&quot;);\r\n    return converter;\r\n}\r\n\r\n@JmsListener(destination = &quot;QUEUE_1&quot;, containerFactory = &quot;myFactory&quot;, concurrency = &quot;2&quot;)\r\npublic void receiveImgGenerationMessage(String transaction) {\r\n    logger.info(&quot;message received in queue &quot; + transaction);\r\n    //I will call other api to process the message and do some operation \r\n    //after the message is processed \r\n    //I have to Acknowledge the message is processed\r\n    //so that i can consume the other message for process.\r\n}\r\n\r\n// jmsTemplate bean\r\npublic void sendmessage() {\r\n    for (int i =0 ; i &lt; 10 ; &lt; i++) { \r\n        jmsTemplate.convertAndSend(&quot;QUEUE_1&quot;, i);\r\n    }\r\n}\r\n```","title":"How to manually acknowledge message from using Spring JmsListener","body":"<p>I am using JMS with Spring's JmsListener. I am able to consume messages from a JMS queue, but it is using <code>AUTO_ACKNOWLEDGE</code>. How can I set <code>CLIENT_ACKNOWLEDGE</code> so that I can consume the other message only after that acknowledgment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic JmsListenerContainerFactory myFactory(ConnectionFactory connectionFactory, DefaultJmsListenerContainerFactoryConfigurer configurer) {\n\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n    factory.setErrorHandler(t -&gt; {\n        logger.info(&quot;An error has occurred in the transaction&quot;);\n        logger.error(t.getCause().getMessage());\n    });\n\n    configurer.configure(factory, connectionFactory);\n    factory.setConcurrency(&quot;4&quot;);\n\n    // You could still override some of Boot's default if necessary.\n    return factory;\n}\n\n@Bean\npublic MessageConverter jacksonJmsMessageConverter() {\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n    converter.setTargetType(MessageType.TEXT);\n    converter.setTypeIdPropertyName(&quot;_type&quot;);\n    return converter;\n}\n\n@JmsListener(destination = &quot;QUEUE_1&quot;, containerFactory = &quot;myFactory&quot;, concurrency = &quot;2&quot;)\npublic void receiveImgGenerationMessage(String transaction) {\n    logger.info(&quot;message received in queue &quot; + transaction);\n    //I will call other api to process the message and do some operation \n    //after the message is processed \n    //I have to Acknowledge the message is processed\n    //so that i can consume the other message for process.\n}\n\n// jmsTemplate bean\npublic void sendmessage() {\n    for (int i =0 ; i &lt; 10 ; &lt; i++) { \n        jmsTemplate.convertAndSend(&quot;QUEUE_1&quot;, i);\n    }\n}\n</code></pre>\n"},{"tags":["java","jquery","json","struts2","jquery-select2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1380347220,"post_id":18997699,"comment_id":28176745,"body_markdown":"What results are returned from the ajax call?","body":"What results are returned from the ajax call?"},{"owner":{"account_id":3346109,"reputation":71,"user_id":2811229,"display_name":"user2811229"},"score":0,"creation_date":1380695832,"post_id":18997699,"comment_id":28292740,"body_markdown":"At the end I just added &quot;getId&quot; and &quot;getText&quot; methods to the &quot;Orphanet&quot; object. I didn&#39;t want to parse the full json answer again. Anyway I still dont know why &quot;id: function(item)&quot; and &quot;formatResult: function(item)&quot; didn&#39;t work.","body":"At the end I just added &quot;getId&quot; and &quot;getText&quot; methods to the &quot;Orphanet&quot; object. I didn&#39;t want to parse the full json answer again. Anyway I still dont know why &quot;id: function(item)&quot; and &quot;formatResult: function(item)&quot; didn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":274077,"reputation":13556,"user_id":566092,"accept_rate":72,"display_name":"coding_idiot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380144399,"creation_date":1380144399,"answer_id":19015493,"question_id":18997699,"body_markdown":"I tried a bit searching but didn&#39;t found `id: function(item) {`\r\n\r\nAnyways, here&#39;s a quick-fix\r\n\r\n1. Consider the response as a normal string\r\n2. replace `idDiagOrphanet` with `id` and `nomDiagOrphanet` with `text` and then return this string instead of `return { results: data.orphanets };`\r\n\r\nHere&#39;s another way : \r\nhttps://stackoverflow.com/questions/7540071/modifying-a-json-object-by-creating-a-new-field-using-existing-elements\r\n\r\n    var ornts= data.orphanets;\r\n    var new_obj ;\r\n    for(var i=0; i&lt;data.orphanets.length; i++){\r\n        var person = persons[i];\r\n        new_obj.push({\r\n            id: ornts.idDiagOrphanet,\r\n            text: ornts.nomDiagOrphanet,\r\n        });\r\n    }\r\n    \r\n    return new_obj;\r\n\r\n","title":"How to populate a &lt;select&gt; tag with options using jQuery Select2 plugin in Struts 2","body":"<p>I tried a bit searching but didn't found <code>id: function(item) {</code></p>\n\n<p>Anyways, here's a quick-fix</p>\n\n<ol>\n<li>Consider the response as a normal string</li>\n<li>replace <code>idDiagOrphanet</code> with <code>id</code> and <code>nomDiagOrphanet</code> with <code>text</code> and then return this string instead of <code>return { results: data.orphanets };</code></li>\n</ol>\n\n<p>Here's another way : \n<a href=\"https://stackoverflow.com/questions/7540071/modifying-a-json-object-by-creating-a-new-field-using-existing-elements\">Modifying a JSON object by creating a New Field using existing Elements</a></p>\n\n<pre><code>var ornts= data.orphanets;\nvar new_obj ;\nfor(var i=0; i&lt;data.orphanets.length; i++){\n    var person = persons[i];\n    new_obj.push({\n        id: ornts.idDiagOrphanet,\n        text: ornts.nomDiagOrphanet,\n    });\n}\n\nreturn new_obj;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380393720,"creation_date":1380393720,"answer_id":19070417,"question_id":18997699,"body_markdown":"Try \r\n\r\n     $(&quot;#selCodOrphanet&quot;).select2({\r\n        placeholder: &quot;Buscar diag. Orphanet...&quot;,\r\n        minimumInputLength: 4,\r\n        ajax: {\r\n            url: &#39;&lt;s:url namespace=&quot;/json&quot; action=&quot;getOrphanets&quot;/&gt;&#39;,\r\n            dataType: &#39;json&#39;,\r\n            quietMillis: 100,\r\n            data: function (term, page) {\r\n              return {\r\n                term: term\r\n              };\r\n            },                  \r\n            results: function (data, page) {\r\n              return { results: data.orphanets };\r\n            },\r\n            id: function(item) {\r\n              return item.idDiagOrphanet; \r\n            },\r\n            formatResult: function(item) { \r\n                return &quot;&lt;div class=&#39;select2-user-result&#39;&gt;&quot; + item.nomDiagOrphanet + &quot;&lt;/div&gt;&quot;; \r\n            }\r\n            escapeMarkup: function (m) { return m; }  \r\n        }\r\n    });\r\n\r\nAdded the qualified URL mapping to `getOrphanets` action with namespace `/json`. Corresponding configuration should be made. Don&#39;t escape markup since you are displaying HTML in results. ","title":"How to populate a &lt;select&gt; tag with options using jQuery Select2 plugin in Struts 2","body":"<p>Try </p>\n\n<pre><code> $(\"#selCodOrphanet\").select2({\n    placeholder: \"Buscar diag. Orphanet...\",\n    minimumInputLength: 4,\n    ajax: {\n        url: '&lt;s:url namespace=\"/json\" action=\"getOrphanets\"/&gt;',\n        dataType: 'json',\n        quietMillis: 100,\n        data: function (term, page) {\n          return {\n            term: term\n          };\n        },                  \n        results: function (data, page) {\n          return { results: data.orphanets };\n        },\n        id: function(item) {\n          return item.idDiagOrphanet; \n        },\n        formatResult: function(item) { \n            return \"&lt;div class='select2-user-result'&gt;\" + item.nomDiagOrphanet + \"&lt;/div&gt;\"; \n        }\n        escapeMarkup: function (m) { return m; }  \n    }\n});\n</code></pre>\n\n<p>Added the qualified URL mapping to <code>getOrphanets</code> action with namespace <code>/json</code>. Corresponding configuration should be made. Don't escape markup since you are displaying HTML in results. </p>\n"}],"owner":{"account_id":3346109,"reputation":71,"user_id":2811229,"display_name":"user2811229"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696258848,"creation_date":1380090387,"question_id":18997699,"body_markdown":"I&#39;m trying to populate a `&lt;select&gt;`tag with [Struts2 JSON][1] and [Select2][2]. Server is returning a JSON like this:\r\n\r\n    {&quot;orphanets&quot;:[{&quot;idDiagOrphanet&quot;:11509,&quot;nomDiagOrphanet&quot;:&quot;FACOMATOSIS CESIOFLAMMEA&quot;},{&quot;idDiagOrphanet&quot;:21782,&quot;nomDiagOrphanet&quot;:&quot;AUTOINFLAMMATION&quot;}]}\r\n\r\n\r\n  [1]: https://struts.apache.org/plugins/json\r\n  [2]: http://ivaynberg.github.io/select2/\r\n\r\nHow can I format/parse the result to make it work? I know it expects `id` and `text` fields, but cant get it working:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n     $(&quot;#selCodOrphanet&quot;).select2({\r\n\t\tquietMillis: 300,\r\n\t \tplaceholder: &quot;Buscar diag. Orphanet...&quot;,\r\n        minimumInputLength: 4,\r\n\t    ajax: {\r\n\t        url: &#39;../json/getOrphanets&#39;,\r\n\t        dataType: &#39;json&#39;,\r\n\t        data: function (term, page) {\r\n\t          return {\r\n\t            term: term\r\n\t          };\r\n\t        },\t\t\t\t\t\r\n\t        results: function (data, page) {\r\n\t          return { results: data.orphanets };\r\n\t        },\r\n\t\t\tid: function(item) {\r\n\t\t\t  return item.idDiagOrphanet; \r\n\t\t\t},\r\n\t\t\tformatResult: function(item) { \r\n\t\t\t\treturn &quot;&lt;div class=&#39;select2-user-result&#39;&gt;&quot; + item.nomDiagOrphanet + &quot;&lt;/div&gt;&quot;; \r\n\t\t\t}\r\n\t    }\r\n\t});","title":"How to populate a &lt;select&gt; tag with options using jQuery Select2 plugin in Struts 2","body":"<p>I'm trying to populate a <code>&lt;select&gt;</code>tag with <a href=\"https://struts.apache.org/plugins/json\" rel=\"nofollow noreferrer\">Struts2 JSON</a> and <a href=\"http://ivaynberg.github.io/select2/\" rel=\"nofollow noreferrer\">Select2</a>. Server is returning a JSON like this:</p>\n<pre><code>{&quot;orphanets&quot;:[{&quot;idDiagOrphanet&quot;:11509,&quot;nomDiagOrphanet&quot;:&quot;FACOMATOSIS CESIOFLAMMEA&quot;},{&quot;idDiagOrphanet&quot;:21782,&quot;nomDiagOrphanet&quot;:&quot;AUTOINFLAMMATION&quot;}]}\n</code></pre>\n<p>How can I format/parse the result to make it work? I know it expects <code>id</code> and <code>text</code> fields, but cant get it working:</p>\n<pre class=\"lang-js prettyprint-override\"><code> $(&quot;#selCodOrphanet&quot;).select2({\n    quietMillis: 300,\n    placeholder: &quot;Buscar diag. Orphanet...&quot;,\n    minimumInputLength: 4,\n    ajax: {\n        url: '../json/getOrphanets',\n        dataType: 'json',\n        data: function (term, page) {\n          return {\n            term: term\n          };\n        },                  \n        results: function (data, page) {\n          return { results: data.orphanets };\n        },\n        id: function(item) {\n          return item.idDiagOrphanet; \n        },\n        formatResult: function(item) { \n            return &quot;&lt;div class='select2-user-result'&gt;&quot; + item.nomDiagOrphanet + &quot;&lt;/div&gt;&quot;; \n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","postman","http-status-code-500"],"comments":[{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":1,"creation_date":1696128410,"post_id":77208826,"comment_id":136113315,"body_markdown":"A 500 error indicates that you&#39;re reaching the line starting with `return ResponseEntity.internalServerError() ...`.  You would get more clarity if you were to also log the exception itself, rather than just the `processinstanceid`.","body":"A 500 error indicates that you&#39;re reaching the line starting with <code>return ResponseEntity.internalServerError() ...</code>.  You would get more clarity if you were to also log the exception itself, rather than just the <code>processinstanceid</code>."},{"owner":{"account_id":29571422,"reputation":1,"user_id":22663500,"display_name":"Dev101"},"score":0,"creation_date":1696159092,"post_id":77208826,"comment_id":136115309,"body_markdown":"Hi in the body of section of Postman , emailto , emailfrom , MessageID , subject , and processinstanceID needs to fetched in order for proper testing , Im not able to find what particular value of processinstanceID should be fed into body of API parameters as even while putting a dummy value i get the same error in console log     :-    2023-09-29 17:14:53,673 68384308 [https-jsse-nio-8006-exec-8] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultInstanceID","body":"Hi in the body of section of Postman , emailto , emailfrom , MessageID , subject , and processinstanceID needs to fetched in order for proper testing , Im not able to find what particular value of processinstanceID should be fed into body of API parameters as even while putting a dummy value i get the same error in console log     :-    2023-09-29 17:14:53,673 68384308 [https-jsse-nio-8006-exec-8] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultInstanceID"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1696171368,"post_id":77208826,"comment_id":136116512,"body_markdown":"Do you have access to the server logs?  If so, try adding `log.error(e);` just above `return ResponseEntity.internalServerError()                  .body(ApplicationConstants.ERROR_SAVING_DRAFT);`.  Then you&#39;ll see if the exception itself provided you with any additional clues.","body":"Do you have access to the server logs?  If so, try adding <code>log.error(e);</code> just above <code>return ResponseEntity.internalServerError()                  .body(ApplicationConstants.ERROR_SAVING_DRAFT);</code>.  Then you&#39;ll see if the exception itself provided you with any additional clues."},{"owner":{"account_id":29571422,"reputation":1,"user_id":22663500,"display_name":"Dev101"},"score":0,"creation_date":1696197281,"post_id":77208826,"comment_id":136119314,"body_markdown":"Hi , should remove the previously written log.error line and replace it with log.error(e);   the code will now look like this : -                                                                           } catch (Exception e) {\n                 log.error(e);\n                  return ResponseEntity.internalServerError()\n                  .body(ApplicationConstants.ERROR_SAVING_DRAFT);","body":"Hi , should remove the previously written log.error line and replace it with log.error(e);   the code will now look like this : -                                                                           } catch (Exception e) {                  log.error(e);                   return ResponseEntity.internalServerError()                   .body(ApplicationConstants.ERROR_SAVING_DRAFT);"},{"owner":{"account_id":29571422,"reputation":1,"user_id":22663500,"display_name":"Dev101"},"score":0,"creation_date":1696197380,"post_id":77208826,"comment_id":136119327,"body_markdown":"Multiple markers at this line\n\t- Line breakpoint:EmailController [line: 46] - saveAsDraft(EmailConfiguration, HttpServletRequest)\n\t- The method error(String) in the type Logger is not applicable for the arguments (Exception)    , this is the error im getting in the code when im replacing log.error(e); which current log.error statement","body":"Multiple markers at this line \t- Line breakpoint:EmailController [line: 46] - saveAsDraft(EmailConfiguration, HttpServletRequest) \t- The method error(String) in the type Logger is not applicable for the arguments (Exception)    , this is the error im getting in the code when im replacing log.error(e); which current log.error statement"},{"owner":{"account_id":29571422,"reputation":1,"user_id":22663500,"display_name":"Dev101"},"score":0,"creation_date":1696197444,"post_id":77208826,"comment_id":136119336,"body_markdown":"the error in console while testing API of the first listed code is coming out to be :- &quot;2023-10-01 19:22:16,174 102324 [https-jsse-nio-8006-exec-5] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultProcessID&quot;","body":"the error in console while testing API of the first listed code is coming out to be :- &quot;2023-10-01 19:22:16,174 102324 [https-jsse-nio-8006-exec-5] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultProcessID&quot;"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1696202914,"post_id":77208826,"comment_id":136119733,"body_markdown":"It looks like, from elsewhere in your code, that your Logger could handle this line instead:  `log.error(&quot;Error saving as draft for processinstanceid : {}, {}&quot;,          \n         emailConfiguration.getProcessinstanceid(), e);`","body":"It looks like, from elsewhere in your code, that your Logger could handle this line instead:  <code>log.error(&quot;Error saving as draft for processinstanceid : {}, {}&quot;,                    emailConfiguration.getProcessinstanceid(), e);</code>"},{"owner":{"account_id":29571422,"reputation":1,"user_id":22663500,"display_name":"Dev101"},"score":0,"creation_date":1696234238,"post_id":77208826,"comment_id":136122247,"body_markdown":"Hi I , replaced the code with the statement you provided in place of my log statement , this is the error im getting in the console although its the same 2023-10-02 13:38:57,351 97987 [https-jsse-nio-8006-exec-5] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultProcessID_1, {}\norg.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.lang.IllegalStateException: Cannot determine target DataSource for lookup key [null]","body":"Hi I , replaced the code with the statement you provided in place of my log statement , this is the error im getting in the console although its the same 2023-10-02 13:38:57,351 97987 [https-jsse-nio-8006-exec-5] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultProcessID_1, {} org.springframework.transaction.CannotCreateTransactionExcep&zwnj;&#8203;tion: Could not open JDBC Connection for transaction; nested exception is java.lang.IllegalStateException: Cannot determine target DataSource for lookup key [null]"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1696260392,"post_id":77208826,"comment_id":136127100,"body_markdown":"Great.  So now you know you need to troubleshoot the connection to your SQL database.","body":"Great.  So now you know you need to troubleshoot the connection to your SQL database."}],"owner":{"account_id":29571422,"reputation":1,"user_id":22663500,"display_name":"Dev101"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696258738,"creation_date":1696118809,"question_id":77208826,"body_markdown":"I&#39;m Testing the API on Postman and the error while testing the API that I&#39;m getting in the console is:\r\n\r\n&gt; 2023-09-29 17:14:53,673 68384308 [https-jsse-nio-8006-exec-8] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultInstanceID\r\n \r\n \r\n I&#39;m not able to find in the correct input for the below listed API for  `processinstanceid`. Below listed is the information about the code and the API .\r\n \r\n The API is :- https://localhost:8006/app/Email/saveAsDraft,\r\n \r\n More Information about the API :-\r\n \r\n 1. it is being used in a Post Method \r\n 2. the name of functionality is SaveAsDraft \r\n 3. the body necessary for the testing the API is in JSON format that i have picked from                \r\n DataBase\r\n 4. the text in the JSON body of API in Postman is :-\r\n\r\n                  &quot;messageId&quot;: &quot;&lt;5432112345@xyz.com&gt;&quot;,\r\n                  &quot;mailFrom&quot;: &quot;kingissingh@xyz.com&quot;,\r\n                  &quot;processinstanceid&quot;: &quot;DefaultProcessID&quot;,\r\n                  &quot;mailTo&quot;: &quot;singhisking@xyz.com&quot;\r\n                  &quot;subject&quot;: &quot;Hi im singh&quot;,\r\n \r\n \r\n More Information about  Testing the API :-\r\n\r\n 1. While testing the API the response in postman is - Error while Saving as Draft \r\n 2. Not able to find the correct input for Body of &quot;processinstanceid&quot;:\r\n 3. Internal Server Error 500.\r\n\r\n![SCREENSHOT WHILE TESTING THE API ](https://i.stack.imgur.com/cQbXP.jpg)\r\n \r\n \r\n \r\n Below listed is the code for the functionality of `SaveAsDraft` from which the API is being used :-\r\n\r\n       @RequestMapping(&quot;/app/Email&quot;)\r\n       @RestController\r\n       public class EmailController {\r\n    \r\n       private Logger log = LoggerFactory.getLogger(EmailController.class);\r\n    \r\n       @Autowired\r\n       EmailService emailServices;\r\n    \r\n       \r\n       @PostMapping(value = &quot;/saveAsDraft&quot;)\r\n       public ResponseEntity&lt;Object&gt; saveAsDraft(@RequestBody EmailConfiguration                                           \r\n       emailConfiguration,HttpServletRequest httpRequest) {\r\n    \r\n                if (!emailServices.validateEmailConfiguration(emailConfiguration)) {\r\n                    return ResponseEntity.badRequest()\r\n                   .body(ApplicationConstants.INVALID_REQUEST);\r\n                                }\r\n    \r\n                 String currentStatus = &quot;&quot;;\r\n                    try {\r\n                     // Send the email using the GraphService\r\n                     currentStatus = emailServices.saveAsDraft(emailConfiguration, httpRequest);\r\n    \r\n                     } catch (Exception e) {\r\n                     log.error(&quot;Error saving as draft for processinstanceid : {}&quot;,          \r\n             emailConfiguration.getProcessinstanceid());\r\n                      return ResponseEntity.internalServerError()\r\n                      .body(ApplicationConstants.ERROR_SAVING_DRAFT);\r\n                        }\r\n              return ResponseEntity.ok(currentStatus);\r\n                         }\r\n\r\n\r\nBelow listed is the configuration format for SaveAsDraft API function \r\n\r\n\r\n\r\n\r\n\r\n\t @Override\r\n\t  public boolean validateEmailConfiguration(EmailConfiguration config) {\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tif(StringUtils.isBlank(config.getProcessinstanceid()) \r\n\t\t\t\t\t\t|| StringUtils.isBlank(config.getSubject())\r\n\t\t\t\t\t\t|| StringUtils.isBlank(config.getMailFrom())\r\n\t\t\t\t\t\t|| StringUtils.isBlank(config.getMailTo())\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}catch(Exception e) {\r\n\t\t\t\tlog.error(&quot;Validation of email configuration failed :{}, {}&quot;,e.getMessage(),e);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\r\n","title":"API not working in postman while testing it","body":"<p>I'm Testing the API on Postman and the error while testing the API that I'm getting in the console is:</p>\n<blockquote>\n<p>2023-09-29 17:14:53,673 68384308 [https-jsse-nio-8006-exec-8] ERROR c.w.e.service.EmailController - Error saving as draft for processinstanceid : DefaultInstanceID</p>\n</blockquote>\n<p>I'm not able to find in the correct input for the below listed API for  <code>processinstanceid</code>. Below listed is the information about the code and the API .</p>\n<p>The API is :- https://localhost:8006/app/Email/saveAsDraft,</p>\n<p>More Information about the API :-</p>\n<ol>\n<li><p>it is being used in a Post Method</p>\n</li>\n<li><p>the name of functionality is SaveAsDraft</p>\n</li>\n<li><p>the body necessary for the testing the API is in JSON format that i have picked from<br />\nDataBase</p>\n</li>\n<li><p>the text in the JSON body of API in Postman is :-</p>\n<pre><code>          &quot;messageId&quot;: &quot;&lt;5432112345@xyz.com&gt;&quot;,\n          &quot;mailFrom&quot;: &quot;kingissingh@xyz.com&quot;,\n          &quot;processinstanceid&quot;: &quot;DefaultProcessID&quot;,\n          &quot;mailTo&quot;: &quot;singhisking@xyz.com&quot;\n          &quot;subject&quot;: &quot;Hi im singh&quot;,\n</code></pre>\n</li>\n</ol>\n<p>More Information about  Testing the API :-</p>\n<ol>\n<li>While testing the API the response in postman is - Error while Saving as Draft</li>\n<li>Not able to find the correct input for Body of &quot;processinstanceid&quot;:</li>\n<li>Internal Server Error 500.</li>\n</ol>\n<p><img src=\"https://i.stack.imgur.com/cQbXP.jpg\" alt=\"SCREENSHOT WHILE TESTING THE API \" /></p>\n<p>Below listed is the code for the functionality of <code>SaveAsDraft</code> from which the API is being used :-</p>\n<pre><code>   @RequestMapping(&quot;/app/Email&quot;)\n   @RestController\n   public class EmailController {\n\n   private Logger log = LoggerFactory.getLogger(EmailController.class);\n\n   @Autowired\n   EmailService emailServices;\n\n   \n   @PostMapping(value = &quot;/saveAsDraft&quot;)\n   public ResponseEntity&lt;Object&gt; saveAsDraft(@RequestBody EmailConfiguration                                           \n   emailConfiguration,HttpServletRequest httpRequest) {\n\n            if (!emailServices.validateEmailConfiguration(emailConfiguration)) {\n                return ResponseEntity.badRequest()\n               .body(ApplicationConstants.INVALID_REQUEST);\n                            }\n\n             String currentStatus = &quot;&quot;;\n                try {\n                 // Send the email using the GraphService\n                 currentStatus = emailServices.saveAsDraft(emailConfiguration, httpRequest);\n\n                 } catch (Exception e) {\n                 log.error(&quot;Error saving as draft for processinstanceid : {}&quot;,          \n         emailConfiguration.getProcessinstanceid());\n                  return ResponseEntity.internalServerError()\n                  .body(ApplicationConstants.ERROR_SAVING_DRAFT);\n                    }\n          return ResponseEntity.ok(currentStatus);\n                     }\n</code></pre>\n<p>Below listed is the configuration format for SaveAsDraft API function</p>\n<pre><code> @Override\n  public boolean validateEmailConfiguration(EmailConfiguration config) {\n        \n        try {\n            if(StringUtils.isBlank(config.getProcessinstanceid()) \n                    || StringUtils.isBlank(config.getSubject())\n                    || StringUtils.isBlank(config.getMailFrom())\n                    || StringUtils.isBlank(config.getMailTo())\n                    ) {\n                return false;\n            }\n        }catch(Exception e) {\n            log.error(&quot;Validation of email configuration failed :{}, {}&quot;,e.getMessage(),e);\n            return false;\n        }\n        \n        return true;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696258700,"creation_date":1696258700,"answer_id":77216533,"question_id":77215137,"body_markdown":"Both the BOM and the TOML do not include the dependencies, they merely provide versioning advice to the project.\r\n\r\nHence, the dependencies are not included in the project if they are not added by name, as you observed.\r\n\r\nSee more at the Gradle docs:\r\n\r\nhttps://docs.gradle.org/current/userguide/platforms.html","title":"gradle catalog does not work correctly with spring boot project","body":"<p>Both the BOM and the TOML do not include the dependencies, they merely provide versioning advice to the project.</p>\n<p>Hence, the dependencies are not included in the project if they are not added by name, as you observed.</p>\n<p>See more at the Gradle docs:</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/platforms.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/platforms.html</a></p>\n"}],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77216533,"answer_count":1,"score":0,"last_activity_date":1696258700,"creation_date":1696245195,"question_id":77215137,"body_markdown":"I have a `libs.version.toml` file as \r\n\r\n    [versions]\r\n    boot-version = &#39;3.1.4&#39;\r\n    cloud-version = &#39;2022.0.4&#39;\r\n    openapi-version = &#39;2.2.0&#39;\r\n    \r\n    [libraries]\r\n    spring-boot-bom = { module = &quot;org.springframework.boot:spring-boot-dependencies&quot;, version.ref = &quot;boot-version&quot; }\r\n    spring-boot-actuator = { module = &#39;org.springframework.boot:spring-boot-starter-actuator&#39; }\r\n    spring-boot-data-jpa = { module = &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39; }\r\n    spring-boot-data-redis = { module = &#39;org.springframework.boot:spring-boot-starter-data-redis&#39; }\r\n    spring-boot-security = { module = &#39;org.springframework.boot:spring-boot-starter-security&#39; }\r\n    spring-boot-oauth2-resource-server = { module = &#39;org.springframework.boot:spring-boot-starter-oauth2-resource-server&#39; }\r\n    spring-boot-test = { module = &#39;org.springframework.boot:spring-boot-starter-test&#39; }\r\n    spring-boot-validation = { module = &#39;org.springframework.boot:spring-boot-starter-validation&#39; }\r\n    spring-boot-web = { module = &#39;org.springframework.boot:spring-boot-starter-web&#39; }\r\n    spring-boot-web-services = { module = &#39;org.springframework.boot:spring-boot-starter-web-services&#39; }\r\n    \r\n    spring-cloud-bom = { module = &#39;org.springframework.cloud:spring-cloud-dependencies&#39;, version.ref = &#39;cloud-version&#39; }\r\n    spring-cloud-bootstrap = { module = &#39;org.springframework.cloud:spring-cloud-starter-bootstrap&#39; }\r\n    spring-cloud-config = { module = &#39;org.springframework.cloud:spring-cloud-starter-config&#39; }\r\n    spring-cloud-eureka-client = { module = &#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&#39; }\r\n    spring-cloud-openfeign = { module = &#39;org.springframework.cloud:spring-cloud-starter-openfeign&#39; }\r\n    \r\n    spring-kafka = { module = &#39;org.springframework.kafka:spring-kafka&#39; }\r\n    \r\n    spring-session-data-redis = { module = &quot;org.springframework.session:spring-session-data-redis&quot;, version = &quot;3.1.2&quot; }\r\n    \r\n    h2 = { module = &#39;com.h2database:h2&#39; }\r\n    poi-ooxml = { module = &#39;org.apache.poi:poi-ooxml&#39;, version = &#39;5.2.4&#39; }\r\n    \r\n    [bundles]\r\n    microservice = [&#39;openapi&#39;, &#39;spring-boot-actuator&#39;, &#39;spring-boot-data-jpa&#39;, &#39;spring-boot-validation&#39;, &#39;spring-boot-web&#39;,\r\n        &#39;spring-cloud-config&#39;, &#39;spring-cloud-eureka-client&#39;, &#39;spring-cloud-bootstrap&#39;, &#39;oracle&#39;]\r\n    \r\n    [plugins]\r\n    spring-boot-plugin = { id = &#39;org.springframework.boot&#39;, version.ref = &#39;boot-version&#39; }\r\n    spring-dependency-management-plugin = { id = &#39;io.spring.dependency-management&#39;, version = &#39;1.1.3&#39; }\r\n\r\nand I publish it to our company nexus with maven-publish plugin,\r\n\r\nThen I have a spring boot microservice, with following build.gradle:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        alias(libs.plugins.spring.boot.plugin)\r\n        alias(libs.plugins.spring.dependency.management.plugin)\r\n    }\r\n    \r\n    group = &#39;my.project.name&#39;\r\n    version = &#39;6.0.0&#39;\r\n    sourceCompatibility = JavaVersion.VERSION_17\r\n    \r\n    dependencies {\r\n        implementation platform(libs.spring.cloud.bom)\r\n        implementation libs.bundles.microservice\r\n    \r\n        compileOnly libs.lombok\r\n        testCompileOnly libs.lombok\r\n        annotationProcessor libs.lombok\r\n        testAnnotationProcessor libs.lombok\r\n    \r\n        testImplementation libs.spring.boot.test\r\n        testRuntimeOnly libs.h2\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n        jvmArgs = [&quot;-Xss8m&quot;]\r\n    }\r\n    \r\n\r\nwhen I create Spring boot fat jar many of dependencies are missing, but when I add them by name they are not missing. Why this happens?\r\n","title":"gradle catalog does not work correctly with spring boot project","body":"<p>I have a <code>libs.version.toml</code> file as</p>\n<pre><code>[versions]\nboot-version = '3.1.4'\ncloud-version = '2022.0.4'\nopenapi-version = '2.2.0'\n\n[libraries]\nspring-boot-bom = { module = &quot;org.springframework.boot:spring-boot-dependencies&quot;, version.ref = &quot;boot-version&quot; }\nspring-boot-actuator = { module = 'org.springframework.boot:spring-boot-starter-actuator' }\nspring-boot-data-jpa = { module = 'org.springframework.boot:spring-boot-starter-data-jpa' }\nspring-boot-data-redis = { module = 'org.springframework.boot:spring-boot-starter-data-redis' }\nspring-boot-security = { module = 'org.springframework.boot:spring-boot-starter-security' }\nspring-boot-oauth2-resource-server = { module = 'org.springframework.boot:spring-boot-starter-oauth2-resource-server' }\nspring-boot-test = { module = 'org.springframework.boot:spring-boot-starter-test' }\nspring-boot-validation = { module = 'org.springframework.boot:spring-boot-starter-validation' }\nspring-boot-web = { module = 'org.springframework.boot:spring-boot-starter-web' }\nspring-boot-web-services = { module = 'org.springframework.boot:spring-boot-starter-web-services' }\n\nspring-cloud-bom = { module = 'org.springframework.cloud:spring-cloud-dependencies', version.ref = 'cloud-version' }\nspring-cloud-bootstrap = { module = 'org.springframework.cloud:spring-cloud-starter-bootstrap' }\nspring-cloud-config = { module = 'org.springframework.cloud:spring-cloud-starter-config' }\nspring-cloud-eureka-client = { module = 'org.springframework.cloud:spring-cloud-starter-netflix-eureka-client' }\nspring-cloud-openfeign = { module = 'org.springframework.cloud:spring-cloud-starter-openfeign' }\n\nspring-kafka = { module = 'org.springframework.kafka:spring-kafka' }\n\nspring-session-data-redis = { module = &quot;org.springframework.session:spring-session-data-redis&quot;, version = &quot;3.1.2&quot; }\n\nh2 = { module = 'com.h2database:h2' }\npoi-ooxml = { module = 'org.apache.poi:poi-ooxml', version = '5.2.4' }\n\n[bundles]\nmicroservice = ['openapi', 'spring-boot-actuator', 'spring-boot-data-jpa', 'spring-boot-validation', 'spring-boot-web',\n    'spring-cloud-config', 'spring-cloud-eureka-client', 'spring-cloud-bootstrap', 'oracle']\n\n[plugins]\nspring-boot-plugin = { id = 'org.springframework.boot', version.ref = 'boot-version' }\nspring-dependency-management-plugin = { id = 'io.spring.dependency-management', version = '1.1.3' }\n</code></pre>\n<p>and I publish it to our company nexus with maven-publish plugin,</p>\n<p>Then I have a spring boot microservice, with following build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    alias(libs.plugins.spring.boot.plugin)\n    alias(libs.plugins.spring.dependency.management.plugin)\n}\n\ngroup = 'my.project.name'\nversion = '6.0.0'\nsourceCompatibility = JavaVersion.VERSION_17\n\ndependencies {\n    implementation platform(libs.spring.cloud.bom)\n    implementation libs.bundles.microservice\n\n    compileOnly libs.lombok\n    testCompileOnly libs.lombok\n    annotationProcessor libs.lombok\n    testAnnotationProcessor libs.lombok\n\n    testImplementation libs.spring.boot.test\n    testRuntimeOnly libs.h2\n}\n\ntest {\n    useJUnitPlatform()\n    jvmArgs = [&quot;-Xss8m&quot;]\n}\n</code></pre>\n<p>when I create Spring boot fat jar many of dependencies are missing, but when I add them by name they are not missing. Why this happens?</p>\n"},{"tags":["java","switch-statement","language-design"],"comments":[{"owner":{"account_id":1540981,"reputation":11432,"user_id":1435657,"accept_rate":91,"display_name":"asteri"},"score":14,"creation_date":1376608923,"post_id":18263489,"comment_id":26785919,"body_markdown":"No conclusive answer to this, since we&#39;re not the people who made the language.  All answers will be pure conjecture.","body":"No conclusive answer to this, since we&#39;re not the people who made the language.  All answers will be pure conjecture."},{"owner":{"account_id":2477436,"reputation":1968,"user_id":2157772,"accept_rate":100,"display_name":"gparyani"},"score":2,"creation_date":1376608950,"post_id":18263489,"comment_id":26785923,"body_markdown":"An attempt to switch on `null` will cause an exception. Perform an `if` check for `null`, then go into the `switch` statement.","body":"An attempt to switch on <code>null</code> will cause an exception. Perform an <code>if</code> check for <code>null</code>, then go into the <code>switch</code> statement."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1376609040,"post_id":18263489,"comment_id":26785952,"body_markdown":"Re: conjecture: It has taken more than ten years for this feature to land. I am sure there is ample discussion to be found about the reasoning behind the implementation that was finally chosen.","body":"Re: conjecture: It has taken more than ten years for this feature to land. I am sure there is ample discussion to be found about the reasoning behind the implementation that was finally chosen."},{"owner":{"account_id":2477436,"reputation":1968,"user_id":2157772,"accept_rate":100,"display_name":"gparyani"},"score":1,"creation_date":1376609125,"post_id":18263489,"comment_id":26785980,"body_markdown":"Speaking of which, this reminds me of an old bug in Eclipse that would execute the default case on `null` being passed into it, whereas the specification says that it should throw an NPE.","body":"Speaking of which, this reminds me of an old bug in Eclipse that would execute the default case on <code>null</code> being passed into it, whereas the specification says that it should throw an NPE."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1376609234,"post_id":18263489,"comment_id":26786009,"body_markdown":"If I am not mistaken cases for switch are based on int and to create them java uses hashcodes of strings.","body":"If I am not mistaken cases for switch are based on int and to create them java uses hashcodes of strings."},{"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"score":1,"creation_date":1376609327,"post_id":18263489,"comment_id":26786031,"body_markdown":"The link in the OP handles `NULL` before the switch statement is ever reached, you might consider doing likewise.","body":"The link in the OP handles <code>NULL</code> before the switch statement is ever reached, you might consider doing likewise."},{"owner":{"account_id":350533,"reputation":10937,"user_id":686478,"accept_rate":59,"display_name":"Prashant Bhate"},"score":0,"creation_date":1376609373,"post_id":18263489,"comment_id":26786042,"body_markdown":"@JeffGohlke May be This Q is actually intended to the people who made the language and we are just curious audience ;)","body":"@JeffGohlke May be This Q is actually intended to the people who made the language and we are just curious audience ;)"},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":0,"creation_date":1376609537,"post_id":18263489,"comment_id":26786098,"body_markdown":"@JeffGohlke: Just because you didn&#39;t make something doesn&#39;t mean you don&#39;t know why it works the way it does.","body":"@JeffGohlke: Just because you didn&#39;t make something doesn&#39;t mean you don&#39;t know why it works the way it does."},{"owner":{"account_id":1540981,"reputation":11432,"user_id":1435657,"accept_rate":91,"display_name":"asteri"},"score":1,"creation_date":1376609625,"post_id":18263489,"comment_id":26786126,"body_markdown":"@Mehrdad I completely agree.  That&#39;s why *how* questions are answerable.  *Why* questions are not.  Maybe it works that way because the creators were discussing it, then the lead developer spilled some coffee on his pants and got irritated, ending the meeting early.  There is no way to answer a *why* question unless you are the person who made the decision.","body":"@Mehrdad I completely agree.  That&#39;s why <i>how</i> questions are answerable.  <i>Why</i> questions are not.  Maybe it works that way because the creators were discussing it, then the lead developer spilled some coffee on his pants and got irritated, ending the meeting early.  There is no way to answer a <i>why</i> question unless you are the person who made the decision."},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":7,"creation_date":1376610708,"post_id":18263489,"comment_id":26786381,"body_markdown":"@JeffGohlke: *&quot;There is no way to answer a why question unless you are the person who made the decision.&quot;*... well, gparyani&#39;s comment proves otherwise","body":"@JeffGohlke: <i>&quot;There is no way to answer a why question unless you are the person who made the decision.&quot;</i>... well, gparyani&#39;s comment proves otherwise"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1376616795,"post_id":18263489,"comment_id":26787629,"body_markdown":"@Mehrdad No it doesn&#39;t. It just moves the question to &#39;why did they form that judgment?&#39; And it doesn&#39;t address the actual question of why there isn&#39;t a case null: at all.","body":"@Mehrdad No it doesn&#39;t. It just moves the question to &#39;why did they form that judgment?&#39; And it doesn&#39;t address the actual question of why there isn&#39;t a case null: at all."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696207654,"post_id":18263489,"comment_id":136120028,"body_markdown":"@Pshemo You are mistaken. It is not based on the hashcode. [If one of the case constants is equal to the value of the expression, then we say that the case matches, and all statements after the matching case label in the switch block, if any, are executed in sequence.](https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11) Nothing there about hashcodes.","body":"@Pshemo You are mistaken. It is not based on the hashcode. <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11\" rel=\"nofollow noreferrer\">If one of the case constants is equal to the value of the expression, then we say that the case matches, and all statements after the matching case label in the switch block, if any, are executed in sequence.</a> Nothing there about hashcodes."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1696278374,"post_id":18263489,"comment_id":136130261,"body_markdown":"@user207421 I can&#39;t find it now (since it was 10 years ago), but I remember reading discussion/?information? about how to improve performance in `switch` supporting Strings in comparison to series of `if (&quot;A&quot;.equals(s)).. else if(&quot;B&quot;.equals(s)).. else ...` (where to find proper if-else branch for instance while searching for `&quot;G&quot;`, an application would need to first check `&quot;A&quot;` ... `&quot;F&quot;`). Since already existing at that time switch/case handling *numerical* arguments could find proper case in O(1) time discussion was about converting Strings to numbers which would allow reusing that mechanism.","body":"@user207421 I can&#39;t find it now (since it was 10 years ago), but I remember reading discussion/?information? about how to improve performance in <code>switch</code> supporting Strings in comparison to series of <code>if (&quot;A&quot;.equals(s)).. else if(&quot;B&quot;.equals(s)).. else ...</code> (where to find proper if-else branch for instance while searching for <code>&quot;G&quot;</code>, an application would need to first check <code>&quot;A&quot;</code> ... <code>&quot;F&quot;</code>). Since already existing at that time switch/case handling <i>numerical</i> arguments could find proper case in O(1) time discussion was about converting Strings to numbers which would allow reusing that mechanism."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1696278545,"post_id":18263489,"comment_id":136130281,"body_markdown":"@user207421 And hashcode was proposed and accepted. Problem was that hashcodes are not unique, so mechanism would need to use mapping between `hash-&gt;listOfMatchingCases` instead of standard `hash-&gt;singleCase`. So to find proper `case` from `listOfMatchingCases` the `String#equals` is needed. I am speculating that since hashing is implementation detail related to optimization (which may change in future/updated versions) it was not mentioned in JLS, while usage of `equals` would always be necessary to pick correct `case`, so it was included in JLS. But again that is only my speculation.","body":"@user207421 And hashcode was proposed and accepted. Problem was that hashcodes are not unique, so mechanism would need to use mapping between <code>hash-&gt;listOfMatchingCases</code> instead of standard <code>hash-&gt;singleCase</code>. So to find proper <code>case</code> from <code>listOfMatchingCases</code> the <code>String#equals</code> is needed. I am speculating that since hashing is implementation detail related to optimization (which may change in future/updated versions) it was not mentioned in JLS, while usage of <code>equals</code> would always be necessary to pick correct <code>case</code>, so it was included in JLS. But again that is only my speculation."}],"answers":[{"comments":[{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":3,"creation_date":1454627161,"post_id":18263594,"comment_id":58142008,"body_markdown":"It would have been a big improvment to allow null handling as part of a `case null:` if it would have been implemented exclusivily for `String`. Currently all `String` checking requires a null-check anyhow if we want to do it correct, although mostly implicitly by putting the string constant first as in `&quot;123test&quot;.equals(value)`. Now we are forced to write our switch statement as in `if (value != null) switch (value) {...`","body":"It would have been a big improvment to allow null handling as part of a <code>case null:</code> if it would have been implemented exclusivily for <code>String</code>. Currently all <code>String</code> checking requires a null-check anyhow if we want to do it correct, although mostly implicitly by putting the string constant first as in <code>&quot;123test&quot;.equals(value)</code>. Now we are forced to write our switch statement as in <code>if (value != null) switch (value) {...</code>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1513392089,"post_id":18263594,"comment_id":82648285,"body_markdown":"Re &quot;mapping null to 0 wouldn&#39;t be a good idea&quot;: that&#39;s an understatement since the value of &quot;&quot;.hashcode() is 0! It would mean that a null string and a zero length string would have to be treated identically in a switch statement, which is clearly not viable.","body":"Re &quot;mapping null to 0 wouldn&#39;t be a good idea&quot;: that&#39;s an understatement since the value of &quot;&quot;.hashcode() is 0! It would mean that a null string and a zero length string would have to be treated identically in a switch statement, which is clearly not viable."},{"owner":{"account_id":1282242,"reputation":1254,"user_id":1236092,"accept_rate":80,"display_name":"krispy"},"score":2,"creation_date":1568775295,"post_id":18263594,"comment_id":102377497,"body_markdown":"For the case of enum, what was stopping them from mapping null to -1?","body":"For the case of enum, what was stopping them from mapping null to -1?"}],"tags":[],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"comment_count":3,"down_vote_count":0,"up_vote_count":163,"is_accepted":true,"score":163,"last_activity_date":1696206665,"creation_date":1376609454,"answer_id":18263594,"question_id":18263489,"body_markdown":"### Oct 2023 Update\r\n\r\nAs [Mark](https://stackoverflow.com/users/466862/mark-rotteveel) [points out in the comments](https://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case/18263594?noredirect=1#comment136110327_18263594), as of Java 21 a `switch` statement does now support `case null` thanks to [JEP 441](https://openjdk.org/jeps/441). A `NullPointerException` will still be thrown by a switch lacking an explicit `case null` if `null` is passed into it.\r\n\r\nOriginal answer follows:\r\n\r\n---\r\n\r\nAs damryfbfnetsi [points out][1] in the comments, [JLS &#167;14.11][2] has the following note:\r\n\r\n&gt; The prohibition against using `null` as a switch label prevents one from writing code that can never be executed. If the `switch` expression is of a reference type, that is, `String` or a boxed primitive type or an enum type, then a run-time error will occur if the expression evaluates to `null` at run time. **In the judgment of the designers of the Java programming language, this is a better outcome than silently skipping the entire `switch` statement or choosing to execute the statements (if any) after the `default` label (if any).**\r\n\r\n(emphasis mine)\r\n\r\nWhile the last sentence skips over the possibility of using `case null:`, it seems reasonable and offers a view into the language designers&#39; intentions.\r\n\r\nIf we rather look at implementation details, [this blog post][3] by Christian Hujer has some insightful speculation about why `null` isn&#39;t allowed in switches (although it centers on the `enum` switch rather than the `String` switch):\r\n\r\n&gt; Under the hood, the `switch` statement will typically compile to a tablesswitch byte code. And the &quot;physical&quot; argument to `switch` as well as its cases are `int`s. The int value to switch on is determined by invoking the method `Enum.ordinal()`. The [...] ordinals start at zero.\r\n&gt;\r\n&gt; That means, mapping `null` to `0` wouldn&#39;t be a good idea. A switch on the first enum value would be indistinguishible from null. Maybe it would&#39;ve been a good idea to start counting the ordinals for enums at 1. However it hasn&#39;t been defined like that, and this definition can not be changed.\r\n\r\nWhile `String` switches [are implemented differently][4], the `enum` switch came first and set the precedent for how switching on a reference type should behave when the reference is `null`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18263489/why-string-switch-statment-does-not-support-null-case#comment26786191_18263489\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.11\r\n  [3]: http://www.riedquat.de/blog/2011-03-04-02\r\n  [4]: https://stackoverflow.com/a/338230/697449","title":"Why doesn&#39;t String switch statement support a null case?","body":"<h3>Oct 2023 Update</h3>\n<p>As <a href=\"https://stackoverflow.com/users/466862/mark-rotteveel\">Mark</a> <a href=\"https://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case/18263594?noredirect=1#comment136110327_18263594\">points out in the comments</a>, as of Java 21 a <code>switch</code> statement does now support <code>case null</code> thanks to <a href=\"https://openjdk.org/jeps/441\" rel=\"nofollow noreferrer\">JEP 441</a>. A <code>NullPointerException</code> will still be thrown by a switch lacking an explicit <code>case null</code> if <code>null</code> is passed into it.</p>\n<p>Original answer follows:</p>\n<hr />\n<p>As damryfbfnetsi <a href=\"https://stackoverflow.com/questions/18263489/why-string-switch-statment-does-not-support-null-case#comment26786191_18263489\">points out</a> in the comments, <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.11\" rel=\"nofollow noreferrer\">JLS §14.11</a> has the following note:</p>\n<blockquote>\n<p>The prohibition against using <code>null</code> as a switch label prevents one from writing code that can never be executed. If the <code>switch</code> expression is of a reference type, that is, <code>String</code> or a boxed primitive type or an enum type, then a run-time error will occur if the expression evaluates to <code>null</code> at run time. <strong>In the judgment of the designers of the Java programming language, this is a better outcome than silently skipping the entire <code>switch</code> statement or choosing to execute the statements (if any) after the <code>default</code> label (if any).</strong></p>\n</blockquote>\n<p>(emphasis mine)</p>\n<p>While the last sentence skips over the possibility of using <code>case null:</code>, it seems reasonable and offers a view into the language designers' intentions.</p>\n<p>If we rather look at implementation details, <a href=\"http://www.riedquat.de/blog/2011-03-04-02\" rel=\"nofollow noreferrer\">this blog post</a> by Christian Hujer has some insightful speculation about why <code>null</code> isn't allowed in switches (although it centers on the <code>enum</code> switch rather than the <code>String</code> switch):</p>\n<blockquote>\n<p>Under the hood, the <code>switch</code> statement will typically compile to a tablesswitch byte code. And the &quot;physical&quot; argument to <code>switch</code> as well as its cases are <code>int</code>s. The int value to switch on is determined by invoking the method <code>Enum.ordinal()</code>. The [...] ordinals start at zero.</p>\n<p>That means, mapping <code>null</code> to <code>0</code> wouldn't be a good idea. A switch on the first enum value would be indistinguishible from null. Maybe it would've been a good idea to start counting the ordinals for enums at 1. However it hasn't been defined like that, and this definition can not be changed.</p>\n</blockquote>\n<p>While <code>String</code> switches <a href=\"https://stackoverflow.com/a/338230/697449\">are implemented differently</a>, the <code>enum</code> switch came first and set the precedent for how switching on a reference type should behave when the reference is <code>null</code>.</p>\n"},{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1376610050,"post_id":18263617,"comment_id":26786230,"body_markdown":"That could have been implemented in another way, though.","body":"That could have been implemented in another way, though."},{"owner":{"account_id":3166473,"reputation":953,"user_id":2676790,"accept_rate":83,"display_name":"amrith"},"score":0,"creation_date":1376618540,"post_id":18263617,"comment_id":26788035,"body_markdown":"OK @Thilo, smarter people than me were involved in this implementation. If you know of other ways in which this could have been implemented, I would love to know what those are [and I&#39;m sure there are others] so do share ...","body":"OK @Thilo, smarter people than me were involved in this implementation. If you know of other ways in which this could have been implemented, I would love to know what those are [and I&#39;m sure there are others] so do share ..."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":3,"creation_date":1376619312,"post_id":18263617,"comment_id":26788194,"body_markdown":"Strings are not boxed primitive types, and the NPE does not occur because someone is trying to &quot;unbox&quot; them.","body":"Strings are not boxed primitive types, and the NPE does not occur because someone is trying to &quot;unbox&quot; them."},{"owner":{"account_id":3166473,"reputation":953,"user_id":2676790,"accept_rate":83,"display_name":"amrith"},"score":0,"creation_date":1376649014,"post_id":18263617,"comment_id":26798826,"body_markdown":"@thilo, the other ways to implement this are, what?","body":"@thilo, the other ways to implement this are, what?"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":3,"creation_date":1376916965,"post_id":18263617,"comment_id":26875312,"body_markdown":"`if (x == null) { // the case: null part } `","body":"<code>if (x == null) { &#47;&#47; the case: null part } </code>"},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1388261269,"post_id":18263617,"comment_id":31218061,"body_markdown":"@Thilo: What if the code for `null` and the code for a particular non-null value should do the same thing?  Is there any clean way to avoid repetition?","body":"@Thilo: What if the code for <code>null</code> and the code for a particular non-null value should do the same thing?  Is there any clean way to avoid repetition?"}],"tags":[],"owner":{"account_id":3166473,"reputation":953,"user_id":2676790,"accept_rate":83,"display_name":"amrith"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376609597,"creation_date":1376609597,"answer_id":18263617,"question_id":18263489,"body_markdown":"The answer is simply that if you use a switch with a reference type (such as a boxed primitive type), the run-time error will occur if the expression is null because unboxing it would throw the NPE.\r\n\r\nso case null (which is illegal) could never be executed anyway ;)","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>The answer is simply that if you use a switch with a reference type (such as a boxed primitive type), the run-time error will occur if the expression is null because unboxing it would throw the NPE.</p>\n\n<p>so case null (which is illegal) could never be executed anyway ;)</p>\n"},{"comments":[{"owner":{"account_id":1540981,"reputation":11432,"user_id":1435657,"accept_rate":91,"display_name":"asteri"},"score":5,"creation_date":1376609793,"post_id":18263642,"comment_id":26786169,"body_markdown":"And yet `null` is a valid value for a `String`, `Character`, `Byte`, `Short`, or `Integer` reference.","body":"And yet <code>null</code> is a valid value for a <code>String</code>, <code>Character</code>, <code>Byte</code>, <code>Short</code>, or <code>Integer</code> reference."},{"owner":{"account_id":38898,"reputation":3740,"user_id":111948,"display_name":"Dejay Clayton"},"score":0,"creation_date":1610494808,"post_id":18263642,"comment_id":116150943,"body_markdown":"@asteri 7 years later, I&#39;d like to point out that `switch` statement doesn&#39;t compare instance ref values; it compares instance values.","body":"@asteri 7 years later, I&#39;d like to point out that <code>switch</code> statement doesn&#39;t compare instance ref values; it compares instance values."}],"tags":[],"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376609742,"creation_date":1376609742,"answer_id":18263642,"question_id":18263489,"body_markdown":"According to Java Docs:\r\n\r\n&gt; A switch works with the byte, short, char, and int primitive data\r\n&gt; types. It also works with enumerated types (discussed in Enum Types),\r\n&gt; the String class, and a few special classes that wrap certain\r\n&gt; primitive types: Character, Byte, Short, and Integer (discussed in\r\n&gt; Numbers and Strings).\r\n\r\nSince `null` has no type, and is not an instance of anything, it will not work with a switch statement.","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>According to Java Docs:</p>\n\n<blockquote>\n  <p>A switch works with the byte, short, char, and int primitive data\n  types. It also works with enumerated types (discussed in Enum Types),\n  the String class, and a few special classes that wrap certain\n  primitive types: Character, Byte, Short, and Integer (discussed in\n  Numbers and Strings).</p>\n</blockquote>\n\n<p>Since <code>null</code> has no type, and is not an instance of anything, it will not work with a switch statement.</p>\n"},{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":5,"creation_date":1376612650,"post_id":18263975,"comment_id":26786786,"body_markdown":"That could have been implemented in another way, though.","body":"That could have been implemented in another way, though."},{"owner":{"account_id":1816341,"reputation":1211,"user_id":1651408,"display_name":"Deer Hunter"},"score":3,"creation_date":1376623532,"post_id":18263975,"comment_id":26789038,"body_markdown":"I&#39;d say this is a design bug.","body":"I&#39;d say this is a design bug."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":6,"creation_date":1377148470,"post_id":18263975,"comment_id":26976972,"body_markdown":"I wonder if this ties in with why some dubious aspects of the string hash function haven&#39;t been changed: in general code shouldn&#39;t rely upon `hashCode` returning the same values on different runs of a program, but since string hashes get baked into executables by the compiler, the string hash method ends up being part of the language spec.","body":"I wonder if this ties in with why some dubious aspects of the string hash function haven&#39;t been changed: in general code shouldn&#39;t rely upon <code>hashCode</code> returning the same values on different runs of a program, but since string hashes get baked into executables by the compiler, the string hash method ends up being part of the language spec."}],"tags":[],"owner":{"account_id":350533,"reputation":10937,"user_id":686478,"accept_rate":59,"display_name":"Prashant Bhate"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1568780785,"creation_date":1376612576,"answer_id":18263975,"question_id":18263489,"body_markdown":"This is an attempt to answer why it throws `NullPointerException`\r\n-----------------------------------------------------------------\r\n\r\nThe output of the javap command below reveals that `case` is chosen based on the hashcode of the `switch` argument string and hence throws NPE when `.hashCode()` is invoked on null string.     \r\n  \r\n\r\n    6: invokevirtual #18                 // Method java/lang/String.hashCode:()I\r\n    9: lookupswitch  { // 3\r\n        -1826660246: 44\r\n         -263893086: 56\r\n          103666243: 68\r\n            default: 95\r\n       }\r\n\r\nThis means, based on answers to https://stackoverflow.com/questions/10102337/javas-hashcode-can-produce-same-hashcode-for-different-strings, though rare, there is still a possibility of two cases being matched (two strings with same hash code) See this example below\r\n\r\n\t\tint monthNumber;\r\n\t\tString month = args[0];\r\n\r\n\t\tswitch (month) {\r\n\t\tcase &quot;Ea&quot;:\r\n\t\t\tmonthNumber = 1;\r\n\t\t\tbreak;\r\n\t\tcase &quot;FB&quot;:\r\n\t\t\tmonthNumber = 2;\r\n\t\t\tbreak;\r\n\t\t// case null:\r\n\t\tdefault:\r\n\t\t\tmonthNumber = 0;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tSystem.out.println(monthNumber);\r\n\r\njavap for which\r\n\r\n      10: lookupswitch  { // 1\r\n                  2236: 28\r\n               default: 59\r\n          }\r\n      28: aload_3       \r\n      29: ldc           #22                 // String Ea\r\n      31: invokevirtual #24                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z\r\n      34: ifne          49\r\n      37: aload_3       \r\n      38: ldc           #28                 // String FB\r\n      40: invokevirtual #24                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z\r\n      43: ifne          54\r\n      46: goto          59 //Default\r\n\r\n\r\nAs you can see only one case gets generated for `&quot;Ea&quot;` and `&quot;FB&quot;` but with two `if` conditions to check for a match with each case string. Very interesting and complicated way of implementing this functionality!\r\n\r\n \r\n ","title":"Why doesn&#39;t String switch statement support a null case?","body":"<h2>This is an attempt to answer why it throws <code>NullPointerException</code></h2>\n\n<p>The output of the javap command below reveals that <code>case</code> is chosen based on the hashcode of the <code>switch</code> argument string and hence throws NPE when <code>.hashCode()</code> is invoked on null string.     </p>\n\n<pre><code>6: invokevirtual #18                 // Method java/lang/String.hashCode:()I\n9: lookupswitch  { // 3\n    -1826660246: 44\n     -263893086: 56\n      103666243: 68\n        default: 95\n   }\n</code></pre>\n\n<p>This means, based on answers to <a href=\"https://stackoverflow.com/questions/10102337/javas-hashcode-can-produce-same-hashcode-for-different-strings\">Can Java&#39;s hashCode produce same value for different strings?</a>, though rare, there is still a possibility of two cases being matched (two strings with same hash code) See this example below</p>\n\n<pre><code>    int monthNumber;\n    String month = args[0];\n\n    switch (month) {\n    case \"Ea\":\n        monthNumber = 1;\n        break;\n    case \"FB\":\n        monthNumber = 2;\n        break;\n    // case null:\n    default:\n        monthNumber = 0;\n        break;\n    }\n    System.out.println(monthNumber);\n</code></pre>\n\n<p>javap for which</p>\n\n<pre><code>  10: lookupswitch  { // 1\n              2236: 28\n           default: 59\n      }\n  28: aload_3       \n  29: ldc           #22                 // String Ea\n  31: invokevirtual #24                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z\n  34: ifne          49\n  37: aload_3       \n  38: ldc           #28                 // String FB\n  40: invokevirtual #24                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z\n  43: ifne          54\n  46: goto          59 //Default\n</code></pre>\n\n<p>As you can see only one case gets generated for <code>\"Ea\"</code> and <code>\"FB\"</code> but with two <code>if</code> conditions to check for a match with each case string. Very interesting and complicated way of implementing this functionality!</p>\n"},{"comments":[{"owner":{"account_id":2477436,"reputation":1968,"user_id":2157772,"accept_rate":100,"display_name":"gparyani"},"score":0,"creation_date":1376687468,"post_id":18264731,"comment_id":26819516,"body_markdown":"Not a good idea if `month` is an empty string: this will treat it the same way as a null string.","body":"Not a good idea if <code>month</code> is an empty string: this will treat it the same way as a null string."},{"owner":{"account_id":1160086,"reputation":6380,"user_id":1139784,"display_name":"Eric Woodruff"},"score":18,"creation_date":1396820497,"post_id":18264731,"comment_id":34948988,"body_markdown":"For many cases treating null as empty string can be perfectly reasonable","body":"For many cases treating null as empty string can be perfectly reasonable"}],"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"comment_count":2,"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1376618837,"creation_date":1376618837,"answer_id":18264731,"question_id":18263489,"body_markdown":"In general `null` is nasty to handle; maybe a better language can live without `null`.\r\n\r\nYour problem might be solved by\r\n\r\n\r\n        switch(month==null?&quot;&quot;:month)\r\n        {\r\n            ...\r\n            //case &quot;&quot;:\r\n            default: \r\n                monthNumber = 0;\r\n\r\n        }\r\n","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>In general <code>null</code> is nasty to handle; maybe a better language can live without <code>null</code>.</p>\n\n<p>Your problem might be solved by</p>\n\n<pre><code>    switch(month==null?\"\":month)\n    {\n        ...\n        //case \"\":\n        default: \n            monthNumber = 0;\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1360570,"reputation":5882,"user_id":1298028,"accept_rate":85,"display_name":"Łukasz Rzeszotarski"},"score":3,"creation_date":1522389570,"post_id":29873100,"comment_id":86146284,"body_markdown":"I believe doing something like this in java is an antipattern.","body":"I believe doing something like this in java is an antipattern."},{"owner":{"account_id":1282242,"reputation":1254,"user_id":1236092,"accept_rate":80,"display_name":"krispy"},"score":3,"creation_date":1523023550,"post_id":29873100,"comment_id":86401781,"body_markdown":"@ŁukaszRzeszotarski That&#39;s pretty much what I meant by &quot;it isn&#39;t pretty&quot;","body":"@ŁukaszRzeszotarski That&#39;s pretty much what I meant by &quot;it isn&#39;t pretty&quot;"}],"tags":[],"owner":{"account_id":1282242,"reputation":1254,"user_id":1236092,"accept_rate":80,"display_name":"krispy"},"comment_count":2,"down_vote_count":3,"up_vote_count":34,"is_accepted":false,"score":31,"last_activity_date":1512680148,"creation_date":1430016300,"answer_id":29873100,"question_id":18263489,"body_markdown":"It isn&#39;t pretty, but `String.valueOf()` allows you to use a null String in a switch. If it finds `null`, it converts it to `&quot;null&quot;`, otherwise it just returns the same String you passed it. If you don&#39;t handle `&quot;null&quot;` explicitly, then it will go to `default`. The only caveat is that there is no way of distinguishing between the String `&quot;null&quot;` and an actual `null` variable. \r\n    \r\n        String month = null;\r\n        switch (String.valueOf(month)) {\r\n            case &quot;january&quot;:\r\n                monthNumber = 1;\r\n                break;\r\n            case &quot;february&quot;:\r\n                monthNumber = 2;\r\n                break;\r\n            case &quot;march&quot;:\r\n                monthNumber = 3;\r\n                break;\r\n            case &quot;null&quot;:\r\n                monthNumber = -1;\r\n                break;\r\n            default: \r\n                monthNumber = 0;\r\n                break;\r\n        }\r\n        return monthNumber;\r\n    ","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>It isn't pretty, but <code>String.valueOf()</code> allows you to use a null String in a switch. If it finds <code>null</code>, it converts it to <code>\"null\"</code>, otherwise it just returns the same String you passed it. If you don't handle <code>\"null\"</code> explicitly, then it will go to <code>default</code>. The only caveat is that there is no way of distinguishing between the String <code>\"null\"</code> and an actual <code>null</code> variable. </p>\n\n<pre><code>    String month = null;\n    switch (String.valueOf(month)) {\n        case \"january\":\n            monthNumber = 1;\n            break;\n        case \"february\":\n            monthNumber = 2;\n            break;\n        case \"march\":\n            monthNumber = 3;\n            break;\n        case \"null\":\n            monthNumber = -1;\n            break;\n        default: \n            monthNumber = 0;\n            break;\n    }\n    return monthNumber;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":181983,"reputation":22075,"user_id":416369,"accept_rate":29,"display_name":"sactiw"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1435684212,"creation_date":1435683635,"answer_id":31144146,"question_id":18263489,"body_markdown":"Long story short ... (and hopefully interesting enough!!!)\r\n\r\n\r\n\r\nEnum were first introduced in [Java1.5](https://en.wikipedia.org/wiki/Java_version_history#J2SE_5.0_.28September_30.2C_2004.29) (**Sep&#39;2004**) and the [bug](http://bugs.java.com/bugdatabase/view_bug.do?bug_id=1223179) requesting to **allow switch on String** was filed long back (**Oct&#39;95**). If you look at the comment posted on that bug at **Jun&#39;2004**, it says `Don&#39;t hold your breath. Nothing resembling this is in our plans.` Looks like they deferred (_ignored_) this bug and eventually launched Java 1.5 in the same year in which they introduced &#39;enum&#39; with ordinal starting at 0 and decided (_missed_) not to support null for enum. Later in [Java1.7](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7_.28July_28.2C_2011.29) (**Jul&#39;2011**) they followed (_forced_) the same philosophy with String (i.e. while generating the bytecode no null check was performed before calling hashcode() method).\r\n\r\nSo I think it boils down to the fact enum came in first and was implemented with its ordinal begin at 0 due to which they couldn&#39;t support null value in switch block and later with String they decided to forced the same philosophy i.e. null value not allowed in switch block.\r\n\r\n**TL;DR** With String they could have take care of NPE (caused by attempt to generate hashcode for null) while implementing java code to byte code conversion but finally decided not to.\r\n\r\nRef:\r\n[TheBUG](http://bugs.java.com/bugdatabase/view_bug.do?bug_id=1223179), \r\n[JavaVersionHistory](https://en.wikipedia.org/wiki/Java_version_history),\r\n[JavaCodeToByteCode](http://blog.jamesdbloom.com/JavaCodeToByteCode_PartOne.html),\r\n[SO](https://stackoverflow.com/questions/338206/why-cant-i-switch-on-a-string/338230#338230)\r\n","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>Long story short ... (and hopefully interesting enough!!!)</p>\n\n<p>Enum were first introduced in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#J2SE_5.0_.28September_30.2C_2004.29\" rel=\"noreferrer\">Java1.5</a> (<strong>Sep'2004</strong>) and the <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=1223179\" rel=\"noreferrer\">bug</a> requesting to <strong>allow switch on String</strong> was filed long back (<strong>Oct'95</strong>). If you look at the comment posted on that bug at <strong>Jun'2004</strong>, it says <code>Don't hold your breath. Nothing resembling this is in our plans.</code> Looks like they deferred (<em>ignored</em>) this bug and eventually launched Java 1.5 in the same year in which they introduced 'enum' with ordinal starting at 0 and decided (<em>missed</em>) not to support null for enum. Later in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7_.28July_28.2C_2011.29\" rel=\"noreferrer\">Java1.7</a> (<strong>Jul'2011</strong>) they followed (<em>forced</em>) the same philosophy with String (i.e. while generating the bytecode no null check was performed before calling hashcode() method).</p>\n\n<p>So I think it boils down to the fact enum came in first and was implemented with its ordinal begin at 0 due to which they couldn't support null value in switch block and later with String they decided to forced the same philosophy i.e. null value not allowed in switch block.</p>\n\n<p><strong>TL;DR</strong> With String they could have take care of NPE (caused by attempt to generate hashcode for null) while implementing java code to byte code conversion but finally decided not to.</p>\n\n<p>Ref:\n<a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=1223179\" rel=\"noreferrer\">TheBUG</a>, \n<a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"noreferrer\">JavaVersionHistory</a>,\n<a href=\"http://blog.jamesdbloom.com/JavaCodeToByteCode_PartOne.html\" rel=\"noreferrer\">JavaCodeToByteCode</a>,\n<a href=\"https://stackoverflow.com/questions/338206/why-cant-i-switch-on-a-string/338230#338230\">SO</a></p>\n"},{"tags":[],"owner":{"account_id":1049185,"reputation":3599,"user_id":1053496,"accept_rate":41,"display_name":"nantitv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501143725,"creation_date":1501143725,"answer_id":45345156,"question_id":18263489,"body_markdown":"I agree with insightful comments (Under the hood ....) in https://stackoverflow.com/a/18263594/1053496 in @Paul Bellora&#39;s answer. \r\n\r\nI found one more reason from my experience.\r\n\r\nIf &#39;case&#39; can be null that means  switch(variable) is null then as long as the developer provides a matching &#39;null&#39; case  then we can argue it&#39;s fine . But what will happen if the developer does not provide  any matching &#39;null&#39; case. Then we have to match it to a &#39;default&#39; case which may not be what developer has intended  to handle in the default case. Therefore matching &#39;null&#39; to a default could cause &#39;surprising behaviour&#39;.\r\nTherefore throwing &#39;NPE&#39; will make the developer to handle every cases explicitly. I found throwing NPE in this case very thoughtful.","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>I agree with insightful comments (Under the hood ....) in <a href=\"https://stackoverflow.com/a/18263594/1053496\">https://stackoverflow.com/a/18263594/1053496</a> in @Paul Bellora's answer. </p>\n\n<p>I found one more reason from my experience.</p>\n\n<p>If 'case' can be null that means  switch(variable) is null then as long as the developer provides a matching 'null' case  then we can argue it's fine . But what will happen if the developer does not provide  any matching 'null' case. Then we have to match it to a 'default' case which may not be what developer has intended  to handle in the default case. Therefore matching 'null' to a default could cause 'surprising behaviour'.\nTherefore throwing 'NPE' will make the developer to handle every cases explicitly. I found throwing NPE in this case very thoughtful.</p>\n"},{"tags":[],"owner":{"account_id":7252755,"reputation":29,"user_id":5671471,"display_name":"bhagat"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1554363088,"creation_date":1554363088,"answer_id":55510187,"question_id":18263489,"body_markdown":"Use Apache StringUtils class\r\n\r\n    String month = null;\r\n    switch (StringUtils.trimToEmpty(month)) {\r\n    \tcase &quot;xyz&quot;:\r\n    \t\tmonthNumber=1;\t\r\n    \tbreak;\r\n    \tdefault:\r\n    \t   monthNumber=0;\r\n        break;\r\n    }","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>Use Apache StringUtils class</p>\n\n<pre><code>String month = null;\nswitch (StringUtils.trimToEmpty(month)) {\n    case \"xyz\":\n        monthNumber=1;  \n    break;\n    default:\n       monthNumber=0;\n    break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3273747,"reputation":20852,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696258659,"creation_date":1696258659,"answer_id":77216526,"question_id":18263489,"body_markdown":"&gt; From the [JLS](https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11):\r\n&gt;\r\n&gt; &gt; In the judgment of the designers of the Java programming language, [throwing a `NullPointerException` if the expression evaluates to `null` at runtime] is a better outcome than silently skipping the entire switch statement or choosing to execute the statements (if any) after the default label (if any). \r\n&gt;\r\n&gt; \\- [gparyani](https://stackoverflow.com/users/2157772/gparyani) &amp;nbsp; [Aug 15, 2013 at 23:37](https://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case#comment26786191_18263489)","title":"Why doesn&#39;t String switch statement support a null case?","body":"<blockquote>\n<p>From the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11\" rel=\"nofollow noreferrer\">JLS</a>:</p>\n<blockquote>\n<p>In the judgment of the designers of the Java programming language, [throwing a <code>NullPointerException</code> if the expression evaluates to <code>null</code> at runtime] is a better outcome than silently skipping the entire switch statement or choosing to execute the statements (if any) after the default label (if any).</p>\n</blockquote>\n<p>- <a href=\"https://stackoverflow.com/users/2157772/gparyani\">gparyani</a>   <a href=\"https://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case#comment26786191_18263489\">Aug 15, 2013 at 23:37</a></p>\n</blockquote>\n"}],"owner":{"account_id":350533,"reputation":10937,"user_id":686478,"accept_rate":59,"display_name":"Prashant Bhate"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76891,"favorite_count":0,"down_vote_count":1,"up_vote_count":152,"accepted_answer_id":18263594,"answer_count":10,"score":151,"last_activity_date":1696258659,"creation_date":1376608805,"question_id":18263489,"body_markdown":"I am just wondering why the Java 7 `switch` statement does not support a `null` case and instead throws `NullPointerException`? See the commented line below (example taken from [the Java Tutorials article on `switch`][1]):\r\n\r\n    {\r\n        String month = null;\r\n        switch (month) {\r\n            case &quot;january&quot;:\r\n                monthNumber = 1;\r\n                break;\r\n            case &quot;february&quot;:\r\n                monthNumber = 2;\r\n                break;\r\n            case &quot;march&quot;:\r\n                monthNumber = 3;\r\n                break;\r\n            //case null:\r\n            default: \r\n                monthNumber = 0;\r\n                break;\r\n        }\r\n\r\n        return monthNumber;\r\n    }\r\n\r\nThis would have avoided an `if` condition for null check  before every `switch` use.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"Why doesn&#39;t String switch statement support a null case?","body":"<p>I am just wondering why the Java 7 <code>switch</code> statement does not support a <code>null</code> case and instead throws <code>NullPointerException</code>? See the commented line below (example taken from <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"noreferrer\">the Java Tutorials article on <code>switch</code></a>):</p>\n\n<pre><code>{\n    String month = null;\n    switch (month) {\n        case \"january\":\n            monthNumber = 1;\n            break;\n        case \"february\":\n            monthNumber = 2;\n            break;\n        case \"march\":\n            monthNumber = 3;\n            break;\n        //case null:\n        default: \n            monthNumber = 0;\n            break;\n    }\n\n    return monthNumber;\n}\n</code></pre>\n\n<p>This would have avoided an <code>if</code> condition for null check  before every <code>switch</code> use.</p>\n"},{"tags":["java","jquery","json","struts2","getjson"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1405792300,"post_id":24843179,"comment_id":38573916,"body_markdown":"It&#39;s very unclear, at least show show are you calling an action.","body":"It&#39;s very unclear, at least show show are you calling an action."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1405793634,"creation_date":1405793634,"answer_id":24843501,"question_id":24843179,"body_markdown":"Other value for the second parameter should be a string\r\n\r\n    var object = {param1 : somevalue, param2 : &#39;&#39;+othervalue};\r\n\r\nand use \r\n\r\n    $.getJSON(&#39;ajax/getSomething.action&#39;, object, function(data){\r\n\r\nthe parameters would be added by `getJSON()`.\r\n\r\nNote that your action should be configured properly to handle parameters, i.e. getters/setters, interceptors, etc.","title":"Passing 2 parameters with JSON to action struts2","body":"<p>Other value for the second parameter should be a string</p>\n\n<pre><code>var object = {param1 : somevalue, param2 : ''+othervalue};\n</code></pre>\n\n<p>and use </p>\n\n<pre><code>$.getJSON('ajax/getSomething.action', object, function(data){\n</code></pre>\n\n<p>the parameters would be added by <code>getJSON()</code>.</p>\n\n<p>Note that your action should be configured properly to handle parameters, i.e. getters/setters, interceptors, etc.</p>\n"}],"owner":{"account_id":4025631,"reputation":440,"user_id":3648678,"accept_rate":56,"display_name":"gyosida"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1467,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24843501,"answer_count":1,"score":1,"last_activity_date":1696258321,"creation_date":1405791643,"question_id":24843179,"body_markdown":"What I&#39;m trying to do is to pass something like this (I&#39;m using the struts2-json plugin)\r\n\r\n    var object = {param1 : somevalue, param2 : othervalue};\r\n\r\nthrough a `$.getJSON()` call. In my Struts2 action I have this two parameters like the following:\r\n\r\n    public class ActionExample extends ActionSupport {\r\n    private Integer param1;\r\n    private String param2;\r\n    .\r\n    .\r\n    }\r\nwith its respectives setters and getters. This two parameters are for a method in which  receives the first param correctly, but the other one always is null and when I sent it from the client side I saw that it has a value. What am I doing wrong? \r\n\r\nThis is how the call looks like\r\n\r\n    $.getJSON(&#39;ajax/getSomething.action&#39;, JSON.stringify(object), function(data){\r\n\t//response manipulation\r\n    .\r\n    .\r\n\t});\r\n\r\n \r\n\r\n\r\n\r\n   ","title":"Passing 2 parameters with JSON to action struts2","body":"<p>What I'm trying to do is to pass something like this (I'm using the struts2-json plugin)</p>\n<pre><code>var object = {param1 : somevalue, param2 : othervalue};\n</code></pre>\n<p>through a <code>$.getJSON()</code> call. In my Struts2 action I have this two parameters like the following:</p>\n<pre><code>public class ActionExample extends ActionSupport {\nprivate Integer param1;\nprivate String param2;\n.\n.\n}\n</code></pre>\n<p>with its respectives setters and getters. This two parameters are for a method in which  receives the first param correctly, but the other one always is null and when I sent it from the client side I saw that it has a value. What am I doing wrong?</p>\n<p>This is how the call looks like</p>\n<pre><code>$.getJSON('ajax/getSomething.action', JSON.stringify(object), function(data){\n//response manipulation\n.\n.\n});\n</code></pre>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1696243743,"post_id":77214950,"comment_id":136123883,"body_markdown":"Do you deploy it on an existing Tomcat or are you using the embedded Spring Boot Tomcat?","body":"Do you deploy it on an existing Tomcat or are you using the embedded Spring Boot Tomcat?"},{"owner":{"account_id":20541586,"reputation":11,"user_id":15076388,"display_name":"Federico Xella"},"score":0,"creation_date":1696250942,"post_id":77214950,"comment_id":136125139,"body_markdown":"@NicoVanBelle On an existing tomcat on which I have no control over configurations.","body":"@NicoVanBelle On an existing tomcat on which I have no control over configurations."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696251352,"post_id":77214950,"comment_id":136125211,"body_markdown":"The problem is your pages, whichm probably, have a src url of `/static/images` which will load them from the root. You will need to prefix it with the context root (or if you are using something like thymeleaf use `th:src` instead. The `server.*` properties don&#39;t have any effect when deploying the application to an external tomcat as those are only for controlling the embedded tomcat instance.","body":"The problem is your pages, whichm probably, have a src url of <code>&#47;static&#47;images</code> which will load them from the root. You will need to prefix it with the context root (or if you are using something like thymeleaf use <code>th:src</code> instead. The <code>server.*</code> properties don&#39;t have any effect when deploying the application to an external tomcat as those are only for controlling the embedded tomcat instance."},{"owner":{"account_id":20541586,"reputation":11,"user_id":15076388,"display_name":"Federico Xella"},"score":0,"creation_date":1696943463,"post_id":77214950,"comment_id":136215039,"body_markdown":"@M.Deinum yeah, the problem is definitly that, but I was wandering if there was a way to define the application context at build time, so it doesn&#39;t have to be defined in the code. At the moment I have solved it doing as you said, but I don&#39;t like it too much.\nThank you for the `server.*` properties clarification, didn&#39;t know that!","body":"@M.Deinum yeah, the problem is definitly that, but I was wandering if there was a way to define the application context at build time, so it doesn&#39;t have to be defined in the code. At the moment I have solved it doing as you said, but I don&#39;t like it too much. Thank you for the <code>server.*</code> properties clarification, didn&#39;t know that!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696944102,"post_id":77214950,"comment_id":136215140,"body_markdown":"Why would it need to be defined. THat is what the `${pageContext.request.contextPath}` is for (see also https://stackoverflow.com/questions/4764405/how-to-use-relative-paths-without-including-the-context-root-name). But as stated you would probably be better of ditching JSP and use Thymeleaf and then use `th:src` which will do it automatically for you.","body":"Why would it need to be defined. THat is what the <code>${pageContext.request.contextPath}</code> is for (see also <a href=\"https://stackoverflow.com/questions/4764405/how-to-use-relative-paths-without-including-the-context-root-name\" title=\"how to use relative paths without including the context root name\">stackoverflow.com/questions/4764405/&hellip;</a>). But as stated you would probably be better of ditching JSP and use Thymeleaf and then use <code>th:src</code> which will do it automatically for you."}],"owner":{"account_id":20541586,"reputation":11,"user_id":15076388,"display_name":"Federico Xella"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696258023,"creation_date":1696243206,"question_id":77214950,"body_markdown":"I&#39;m developing an application using Spring Boot and while in IDEA with an Application configuration all works fine, if I try deploying it on a web server which define a different context from &quot;/&quot;, all my resources aren&#39;t loaded because of URL mismatch.\r\n\r\nFor example, my test tomcat define the context &quot;localhost:8080/myApp&quot; but the application look for resources at &quot;localhost:8080&quot; instead.\r\n\r\nI tried to set the option `server.servlet.context-path=/myApp` in my application.properties but it doesn&#39;t seem to work.\r\n\r\nWhat am I missing?","title":"Spring Boot serves static content with wrong URL","body":"<p>I'm developing an application using Spring Boot and while in IDEA with an Application configuration all works fine, if I try deploying it on a web server which define a different context from &quot;/&quot;, all my resources aren't loaded because of URL mismatch.</p>\n<p>For example, my test tomcat define the context &quot;localhost:8080/myApp&quot; but the application look for resources at &quot;localhost:8080&quot; instead.</p>\n<p>I tried to set the option <code>server.servlet.context-path=/myApp</code> in my application.properties but it doesn't seem to work.</p>\n<p>What am I missing?</p>\n"},{"tags":["java","android","singleton"],"comments":[{"owner":{"account_id":13518105,"reputation":137,"user_id":9752157,"display_name":"itsgenius_thulc"},"score":0,"creation_date":1696243598,"post_id":77214738,"comment_id":136123846,"body_markdown":"Please add complete stack trace, not able to see the error.","body":"Please add complete stack trace, not able to see the error."},{"owner":{"account_id":29579771,"reputation":11,"user_id":22669827,"display_name":"Mohamed Hossam"},"score":0,"creation_date":1696245537,"post_id":77214738,"comment_id":136124169,"body_markdown":"I already added it but I edit the format to display error","body":"I already added it but I edit the format to display error"}],"answers":[{"comments":[{"owner":{"account_id":29579771,"reputation":11,"user_id":22669827,"display_name":"Mohamed Hossam"},"score":0,"creation_date":1696246248,"post_id":77215185,"comment_id":136124311,"body_markdown":"I tried that but I get the same error","body":"I tried that but I get the same error"},{"owner":{"account_id":10045574,"reputation":771,"user_id":10388072,"display_name":"Manuel Mato"},"score":0,"creation_date":1696247953,"post_id":77215185,"comment_id":136124631,"body_markdown":"mmm... the stracktrace said that the activity state is not the appropiate (destroyed, rotation, etc), so you could try to verify the state before the startDialog: !(this.isDestroyed || this.isFinishing)","body":"mmm... the stracktrace said that the activity state is not the appropiate (destroyed, rotation, etc), so you could try to verify the state before the startDialog: !(this.isDestroyed || this.isFinishing)"}],"tags":[],"owner":{"account_id":10045574,"reputation":771,"user_id":10388072,"display_name":"Manuel Mato"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696245707,"creation_date":1696245707,"answer_id":77215185,"question_id":77214738,"body_markdown":"I think the wrong is your activity is null when you call to startDialog():\r\n\r\n    binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n    setContentView(binding.getRoot());\r\n    dialog = LoadingDialog.getInstance(MainActivity.this);\r\n    binding.btn.setOnClickListener(new View.OnClickListener() {\r\n      @Override\r\n      public void onClick(View v) {\r\n        dialog.startDialog();\r\n        }\r\n    });\r\n\r\n\r\nBecause when you call getInstance you create the instance using the activity by param, but the activity in the scope of LoadingDialog is not initialized, so it is null.  Then, when you call the startDialog(), the activity in the Builder is null:\r\n\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(activity);\r\n\r\n\r\nSo, a solution could be:\r\n\r\n     public static synchronized LoadingDialog getInstance(Activity activity) {\r\n            if (loadDialog == null &amp;&amp; this.activity == activity) {\r\n                this.activity = activity;\r\n                loadDialog = new LoadingDialog(activity);\r\n            }\r\n            return loadDialog;\r\n        }\r\n\r\n\r\nI am checking the activity instance too because if you call the singleton class from another activity, then it could cause a memory leak.\r\n\r\nAnyway, IMO It is not necessary a singleton class to show a dialog and the `synchronized` keyword neither\r\n","title":"Singleton with AlertDialog make my android application crashing","body":"<p>I think the wrong is your activity is null when you call to startDialog():</p>\n<pre><code>binding = ActivityMainBinding.inflate(getLayoutInflater());\nsetContentView(binding.getRoot());\ndialog = LoadingDialog.getInstance(MainActivity.this);\nbinding.btn.setOnClickListener(new View.OnClickListener() {\n  @Override\n  public void onClick(View v) {\n    dialog.startDialog();\n    }\n});\n</code></pre>\n<p>Because when you call getInstance you create the instance using the activity by param, but the activity in the scope of LoadingDialog is not initialized, so it is null.  Then, when you call the startDialog(), the activity in the Builder is null:</p>\n<pre><code>AlertDialog.Builder builder = new AlertDialog.Builder(activity);\n</code></pre>\n<p>So, a solution could be:</p>\n<pre><code> public static synchronized LoadingDialog getInstance(Activity activity) {\n        if (loadDialog == null &amp;&amp; this.activity == activity) {\n            this.activity = activity;\n            loadDialog = new LoadingDialog(activity);\n        }\n        return loadDialog;\n    }\n</code></pre>\n<p>I am checking the activity instance too because if you call the singleton class from another activity, then it could cause a memory leak.</p>\n<p>Anyway, IMO It is not necessary a singleton class to show a dialog and the <code>synchronized</code> keyword neither</p>\n"},{"comments":[{"owner":{"account_id":29579771,"reputation":11,"user_id":22669827,"display_name":"Mohamed Hossam"},"score":0,"creation_date":1696264573,"post_id":77216445,"comment_id":136127878,"body_markdown":"thanks, now application didn&#39;t crash but dialog doesn&#39;t appear it appears in only one activity","body":"thanks, now application didn&#39;t crash but dialog doesn&#39;t appear it appears in only one activity"}],"tags":[],"owner":{"account_id":27976889,"reputation":63,"user_id":21365487,"display_name":"Alpha Gaming"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696257998,"creation_date":1696257998,"answer_id":77216445,"question_id":77214738,"body_markdown":"This error occurs when you are showing the dialog for a context/activity that no longer exists.\r\n\r\nBefore calling .show() check that activity/context is not finishing\r\n\r\n    public void startDialog() {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(activity);\r\n        LayoutInflater inflater = activity.getLayoutInflater();\r\n        builder.setView(inflater.inflate(R.layout.loading,null));\r\n        builder.setCancelable(false);\r\n        dialog = builder.create();\r\n        \r\n        if (!activity.isFinishing()){\r\n             dialog.show();\r\n        }\r\n    }\r\n","title":"Singleton with AlertDialog make my android application crashing","body":"<p>This error occurs when you are showing the dialog for a context/activity that no longer exists.</p>\n<p>Before calling .show() check that activity/context is not finishing</p>\n<pre><code>public void startDialog() {\n    AlertDialog.Builder builder = new AlertDialog.Builder(activity);\n    LayoutInflater inflater = activity.getLayoutInflater();\n    builder.setView(inflater.inflate(R.layout.loading,null));\n    builder.setCancelable(false);\n    dialog = builder.create();\n    \n    if (!activity.isFinishing()){\n         dialog.show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29579771,"reputation":11,"user_id":22669827,"display_name":"Mohamed Hossam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696257998,"creation_date":1696240990,"question_id":77214738,"body_markdown":"I am new in android and I am trying to build an android application and I use singleton pattern to show alert dialog but when I run application it crashed.\r\nI tried to remove singleton it worked correctly.\r\nthis is my code\r\n***LoadingDialog.java***\r\n```\r\npublic class LoadingDialog {\r\n    private Activity activity;\r\n    private AlertDialog dialog;\r\n\r\n    private static LoadingDialog loadDialog;\r\n\r\n    public LoadingDialog(Activity activity) {\r\n        this.activity = activity;\r\n    }\r\n\r\n    public static synchronized LoadingDialog getInstance(Activity activity) {\r\n        if (loadDialog == null) {\r\n            loadDialog = new LoadingDialog(activity);\r\n        }\r\n        return loadDialog;\r\n    }\r\n\r\n    public void startDialog() {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(activity);\r\n        LayoutInflater inflater = activity.getLayoutInflater();\r\n        builder.setView(inflater.inflate(R.layout.loading,null));\r\n        builder.setCancelable(false);\r\n        dialog = builder.create();\r\n        dialog.show();\r\n    }\r\n\r\n    public void closeDialog() {\r\n        dialog. Dismiss();\r\n    }\r\n}\r\n```\r\n***MainActivity.java***\r\n```\r\nprivate ActivityMainBinding binding;\r\nprivate LoadingDialog dialog;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        dialog = LoadingDialog.getInstance(MainActivity.this);\r\n        binding.btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                dialog.startDialog();\r\n            }\r\n        });\r\n```\r\nit gives me this error\r\n```\r\nFATAL EXCEPTION: main\r\nProcess: com.mkandeel.gmarek, PID: 20063\r\nandroid.view.WindowManager$BadTokenException: Unable to add window -- token android.os.BinderProxy@4723521 is not valid; is your activity running?\r\nat android.view.ViewRootImpl.setView(ViewRootImpl.java:678)\r\nat android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:342)\r\nat android.view.WindowManagerImpl.addView(WindowManagerImpl.java:93)\r\nat android.app.Dialog.show(Dialog.java:316)\r\nat com.mkandeel.gmarek.LoadingDialog.startDialog(LoadingDialog.java:30)\r\nat com.mkandeel.gmarek.MainActivity$1.onClick(MainActivity.java:52)\r\nat android.view.View.performClick(View.java:5610)\r\nat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\r\nat android.view.View$PerformClick.run(View.java:22265)\r\nat android.os.Handler.handleCallback(Handler.java:751)\r\nat android.os.Handler.dispatchMessage(Handler.java:95)\r\nat android.os.Looper.loop(Looper.java:154)\r\nat android.app.ActivityThread.main(ActivityThread.java:6077)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n```\r\nso what is the problem with my code ?\r\nThanks in advance.\r\n\r\nI tried to use class without singleton by making my constrictor public and it work correctly","title":"Singleton with AlertDialog make my android application crashing","body":"<p>I am new in android and I am trying to build an android application and I use singleton pattern to show alert dialog but when I run application it crashed.\nI tried to remove singleton it worked correctly.\nthis is my code\n<em><strong>LoadingDialog.java</strong></em></p>\n<pre><code>public class LoadingDialog {\n    private Activity activity;\n    private AlertDialog dialog;\n\n    private static LoadingDialog loadDialog;\n\n    public LoadingDialog(Activity activity) {\n        this.activity = activity;\n    }\n\n    public static synchronized LoadingDialog getInstance(Activity activity) {\n        if (loadDialog == null) {\n            loadDialog = new LoadingDialog(activity);\n        }\n        return loadDialog;\n    }\n\n    public void startDialog() {\n        AlertDialog.Builder builder = new AlertDialog.Builder(activity);\n        LayoutInflater inflater = activity.getLayoutInflater();\n        builder.setView(inflater.inflate(R.layout.loading,null));\n        builder.setCancelable(false);\n        dialog = builder.create();\n        dialog.show();\n    }\n\n    public void closeDialog() {\n        dialog. Dismiss();\n    }\n}\n</code></pre>\n<p><em><strong>MainActivity.java</strong></em></p>\n<pre><code>private ActivityMainBinding binding;\nprivate LoadingDialog dialog;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        dialog = LoadingDialog.getInstance(MainActivity.this);\n        binding.btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                dialog.startDialog();\n            }\n        });\n</code></pre>\n<p>it gives me this error</p>\n<pre><code>FATAL EXCEPTION: main\nProcess: com.mkandeel.gmarek, PID: 20063\nandroid.view.WindowManager$BadTokenException: Unable to add window -- token android.os.BinderProxy@4723521 is not valid; is your activity running?\nat android.view.ViewRootImpl.setView(ViewRootImpl.java:678)\nat android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:342)\nat android.view.WindowManagerImpl.addView(WindowManagerImpl.java:93)\nat android.app.Dialog.show(Dialog.java:316)\nat com.mkandeel.gmarek.LoadingDialog.startDialog(LoadingDialog.java:30)\nat com.mkandeel.gmarek.MainActivity$1.onClick(MainActivity.java:52)\nat android.view.View.performClick(View.java:5610)\nat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\nat android.view.View$PerformClick.run(View.java:22265)\nat android.os.Handler.handleCallback(Handler.java:751)\nat android.os.Handler.dispatchMessage(Handler.java:95)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6077)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n<p>so what is the problem with my code ?\nThanks in advance.</p>\n<p>I tried to use class without singleton by making my constrictor public and it work correctly</p>\n"},{"tags":["java","struts2","html-select"],"comments":[{"owner":{"account_id":489939,"reputation":1338,"user_id":1825052,"accept_rate":100,"display_name":"BillyBigPotatoes"},"score":0,"creation_date":1395165019,"post_id":22487053,"comment_id":34209619,"body_markdown":"Please confirm the code reads correctly - HTML looks malformed.","body":"Please confirm the code reads correctly - HTML looks malformed."},{"owner":{"account_id":4191913,"reputation":1,"user_id":3434338,"display_name":"Karan"},"score":0,"creation_date":1395165246,"post_id":22487053,"comment_id":34209745,"body_markdown":"i thought stackoverflow will not allow this to write exact code now, pls see above, i have written correct code, pls tell me the answer","body":"i thought stackoverflow will not allow this to write exact code now, pls see above, i have written correct code, pls tell me the answer"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696257980,"creation_date":1395167665,"answer_id":22488081,"question_id":22487053,"body_markdown":"When you change drop-down to `E(English)` the `change` event happens and you have used `onchange` event handler which submits the form to the server. \r\n\r\nThe server returns the page back to the client but it doesn&#39;t know the value it should set because it&#39;s not set. \r\n\r\nYou should either change the event handler to not submit the form at least with the ordinal request or use Ajax to send the data, or create getters and setters for the named field to hold the value of the key in the list. \r\n\r\nAlso you can&#39;t use empty keys as values of the list, because it doesn&#39;t match the selected key. \r\n\r\nYou can also use a `value` attribute of the `&lt;s:select&gt;` tag to pre-select the value from the list.    ","title":"Unable to fetch data from database","body":"<p>When you change drop-down to <code>E(English)</code> the <code>change</code> event happens and you have used <code>onchange</code> event handler which submits the form to the server.</p>\n<p>The server returns the page back to the client but it doesn't know the value it should set because it's not set.</p>\n<p>You should either change the event handler to not submit the form at least with the ordinal request or use Ajax to send the data, or create getters and setters for the named field to hold the value of the key in the list.</p>\n<p>Also you can't use empty keys as values of the list, because it doesn't match the selected key.</p>\n<p>You can also use a <code>value</code> attribute of the <code>&lt;s:select&gt;</code> tag to pre-select the value from the list.</p>\n"}],"owner":{"account_id":4191913,"reputation":1,"user_id":3434338,"display_name":"Karan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696257980,"creation_date":1395164686,"question_id":22487053,"body_markdown":"See a code below:\r\n\r\n    &lt;label&gt;Subject:&lt;/label&gt;\r\n    &lt;s:select onchange = &quot;form1.submit();&quot; \r\n                 theme = &quot;simple&quot; \r\n                  list = &quot;#{&#39;&#39;:&#39;All&#39;,&#39;E&#39;:&#39;English&#39;,&#39;M&#39;:&#39;Maths&#39;,&#39;S&#39;:&#39;Science&#39;,&#39;H&#39;:&#39;Humanities&#39;}&quot; \r\n                  name = &quot;Subject&quot; \r\n                    id = &quot;Subject&quot;  /&gt;\r\n\r\nBut when I change drop-down to `E(English)` when page loads, drop-down changes to `ALL` and data is also not showing.\r\n\r\n","title":"Unable to fetch data from database","body":"<p>See a code below:</p>\n<pre><code>&lt;label&gt;Subject:&lt;/label&gt;\n&lt;s:select onchange = &quot;form1.submit();&quot; \n             theme = &quot;simple&quot; \n              list = &quot;#{'':'All','E':'English','M':'Maths','S':'Science','H':'Humanities'}&quot; \n              name = &quot;Subject&quot; \n                id = &quot;Subject&quot;  /&gt;\n</code></pre>\n<p>But when I change drop-down to <code>E(English)</code> when page loads, drop-down changes to <code>ALL</code> and data is also not showing.</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"answers":[{"comments":[{"owner":{"account_id":2460326,"reputation":2469,"user_id":5175180,"accept_rate":76,"display_name":"enator"},"score":0,"creation_date":1544427573,"post_id":53671266,"comment_id":94257342,"body_markdown":"Yes, I have 3 brokers running","body":"Yes, I have 3 brokers running"},{"owner":{"account_id":6309546,"reputation":627,"user_id":7716944,"display_name":"Roman Kishchenko"},"score":0,"creation_date":1544437744,"post_id":53671266,"comment_id":94262101,"body_markdown":"@enator Are you able to create a topic using `kafka-topics` with `--replication-factor 2`?","body":"@enator Are you able to create a topic using <code>kafka-topics</code> with <code>--replication-factor 2</code>?"},{"owner":{"account_id":2460326,"reputation":2469,"user_id":5175180,"accept_rate":76,"display_name":"enator"},"score":0,"creation_date":1544437963,"post_id":53671266,"comment_id":94262219,"body_markdown":"yes!\nAnd after creating the topic from shell - I am still not able to produce to that topic from java application","body":"yes! And after creating the topic from shell - I am still not able to produce to that topic from java application"},{"owner":{"account_id":6309546,"reputation":627,"user_id":7716944,"display_name":"Roman Kishchenko"},"score":0,"creation_date":1544438998,"post_id":53671266,"comment_id":94262791,"body_markdown":"Where do you specify `bootstrap.servers` property for the producer?","body":"Where do you specify <code>bootstrap.servers</code> property for the producer?"},{"owner":{"account_id":2460326,"reputation":2469,"user_id":5175180,"accept_rate":76,"display_name":"enator"},"score":0,"creation_date":1544439693,"post_id":53671266,"comment_id":94263181,"body_markdown":"Yes, I hid that from props map above to hide the ips. :p","body":"Yes, I hid that from props map above to hide the ips. :p"},{"owner":{"account_id":6309546,"reputation":627,"user_id":7716944,"display_name":"Roman Kishchenko"},"score":0,"creation_date":1544441702,"post_id":53671266,"comment_id":94264211,"body_markdown":"Your producer cannot retrieve information about the cluster. I believe it happens if all brokers were unavailable for some time. Did you restart the producer after you saw this error? What if you send a message to a non-existing topic using console client, will it work?","body":"Your producer cannot retrieve information about the cluster. I believe it happens if all brokers were unavailable for some time. Did you restart the producer after you saw this error? What if you send a message to a non-existing topic using console client, will it work?"},{"owner":{"account_id":2685573,"reputation":450,"user_id":2320055,"accept_rate":57,"display_name":"ivanorone"},"score":1,"creation_date":1588296780,"post_id":53671266,"comment_id":108851334,"body_markdown":"@enator I am experiencing a similar problem. Did you manage to fix this on your side?","body":"@enator I am experiencing a similar problem. Did you manage to fix this on your side?"}],"tags":[],"owner":{"account_id":6309546,"reputation":627,"user_id":7716944,"display_name":"Roman Kishchenko"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1544191913,"creation_date":1544191913,"answer_id":53671266,"question_id":53668370,"body_markdown":"How many brokers do you have in the cluster? The `default.replication.factor` is `2`, which means that you must have at least 2 brokers running.","title":"Unable to create topic when kafkaProducer tries to send record for the first time INVALID_REPLICATION_FACTOR","body":"<p>How many brokers do you have in the cluster? The <code>default.replication.factor</code> is <code>2</code>, which means that you must have at least 2 brokers running.</p>\n"},{"tags":[],"owner":{"account_id":2685573,"reputation":450,"user_id":2320055,"accept_rate":57,"display_name":"ivanorone"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588298471,"creation_date":1588298471,"answer_id":61535720,"question_id":53668370,"body_markdown":"I experienced the same problem and on searching through the Kafka codebase I realized that in some instances, `Errors.COORDINATOR_NOT_AVAILABLE` is reported as `Errors.INVALID_REPLICATION_FACTOR` \r\n\r\nIn my case, the actual underlying problem was that the topic specified in the consumer config did not exist\r\n\r\nRef: https://github.com/apache/kafka/blob/322b10964ce71eac81da9e574be7dec59c0fc93d/core/src/main/scala/kafka/server/KafkaApis.scala#L1106","title":"Unable to create topic when kafkaProducer tries to send record for the first time INVALID_REPLICATION_FACTOR","body":"<p>I experienced the same problem and on searching through the Kafka codebase I realized that in some instances, <code>Errors.COORDINATOR_NOT_AVAILABLE</code> is reported as <code>Errors.INVALID_REPLICATION_FACTOR</code> </p>\n\n<p>In my case, the actual underlying problem was that the topic specified in the consumer config did not exist</p>\n\n<p>Ref: <a href=\"https://github.com/apache/kafka/blob/322b10964ce71eac81da9e574be7dec59c0fc93d/core/src/main/scala/kafka/server/KafkaApis.scala#L1106\" rel=\"nofollow noreferrer\">https://github.com/apache/kafka/blob/322b10964ce71eac81da9e574be7dec59c0fc93d/core/src/main/scala/kafka/server/KafkaApis.scala#L1106</a></p>\n"},{"tags":[],"owner":{"account_id":28754310,"reputation":1,"user_id":22021645,"display_name":"ViKi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696257961,"creation_date":1696257961,"answer_id":77216436,"question_id":53668370,"body_markdown":"I had the same problem from the application side,\r\nSpringBoot 3.0.7\r\nJava 17.\r\n\r\nWhen I checked the Kafka server logs, this is what I got :\r\n\r\n&gt; Client requested connection close from node 0\r\n&gt; (org.apache.kafka.clients.NetworkClient) [2023-10-02 17:33:53,960]\r\n&gt; INFO [Admin Manager on Broker 0]: Error processing create topic\r\n&gt; request CreatableTopic(name=&#39;myKafkaTopic&#39;, numPartitions=1,\r\n&gt; replicationFactor=1, assignments=[], configs=[])\r\n&gt; (kafka.server.ZkAdminManager)\r\n&gt; org.apache.kafka.common.errors.InvalidReplicationFactorException:\r\n&gt; Replication factor: 1 larger than available brokers: 0.\r\n\r\nI restarted the Kafka server and the Zookeper and this worked for me.\r\n\r\n","title":"Unable to create topic when kafkaProducer tries to send record for the first time INVALID_REPLICATION_FACTOR","body":"<p>I had the same problem from the application side,\nSpringBoot 3.0.7\nJava 17.</p>\n<p>When I checked the Kafka server logs, this is what I got :</p>\n<blockquote>\n<p>Client requested connection close from node 0\n(org.apache.kafka.clients.NetworkClient) [2023-10-02 17:33:53,960]\nINFO [Admin Manager on Broker 0]: Error processing create topic\nrequest CreatableTopic(name='myKafkaTopic', numPartitions=1,\nreplicationFactor=1, assignments=[], configs=[])\n(kafka.server.ZkAdminManager)\norg.apache.kafka.common.errors.InvalidReplicationFactorException:\nReplication factor: 1 larger than available brokers: 0.</p>\n</blockquote>\n<p>I restarted the Kafka server and the Zookeper and this worked for me.</p>\n"}],"owner":{"account_id":2460326,"reputation":2469,"user_id":5175180,"accept_rate":76,"display_name":"enator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9933,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1696257961,"creation_date":1544181113,"question_id":53668370,"body_markdown":"I am getting following error in the logs when trying to publish first message to a new topic.\r\n\r\n&gt; [WARN ] [o.a.kafka.clients.NetworkClient][[Producer\r\n&gt; clientId=producer-1] Error while fetching metadata with correlation id\r\n&gt; 766890 : {myTopic-1=INVALID_REPLICATION_FACTOR,\r\n&gt; myTopic-2=INVALID_REPLICATION_FACTOR}] []\r\n\r\nThe kafka fails hangs at:\r\n\r\n    &quot;Hashed wheel timer #1&quot; #521 prio=5 os_prio=0 tid=0x00007f932cd7d000 nid=0x199fa in Object.wait() [0x00007f9322b79000]\r\n       java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        at org.apache.kafka.clients.Metadata.awaitUpdate(Metadata.java:177)\r\n        - locked &lt;0x000000047838b990&gt; (a org.apache.kafka.clients.Metadata)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.waitOnMetadata(KafkaProducer.java:903)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:794)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:784)\r\n    \r\nThe kafka jar version we are using is: 0.10.0.1\r\n\r\nThe server.properties on broker is:\r\n\r\n    broker.id=3\r\n    host.name=&lt;&gt;\r\n    port=9092\r\n    \r\n    message.max.bytes=20971520\r\n    num.partitions=30\r\n    auto.create.topics.enable=true\r\n    \r\n    # Replication configurations\r\n    default.replication.factor=2\r\n    num.replica.fetchers=2\r\n    replica.fetch.max.bytes=20971520\r\n    \r\n    \r\n    log.dirs=/mnt1/data/kafka/kafka-logs-3\r\n    log.retention.hours=48\r\n    log.flush.interval.ms=10000\r\n    log.flush.interval.messages=20000\r\n    log.flush.scheduler.interval.ms=2000\r\n    log.cleanup.interval.mins=30\r\n    \r\n    zookeeper.connect=&lt;&gt;\r\n    zookeeper.connection.timeout.ms=1000000\r\n    \r\n    # Socket server configuration\r\n    num.io.threads=8\r\n    num.network.threads=8\r\n    socket.request.max.bytes=20971520\r\n    socket.receive.buffer.bytes=20971520\r\n    socket.send.buffer.bytes=20971520\r\n    queued.max.requests=32\r\n    fetch.purgatory.purge.interval.requests=100\r\n    producer.purgatory.purge.interval.requests=100\r\n    \r\n    inter.broker.protocol.version=0.10.2.0\r\n    log.message.format.version=0.10.0\r\n    delete.topic.enable=true\r\n\r\nWhy I am not able to send messages? The topic itself is not being created!\r\nThe producer properties being used are:\r\n\r\n    Properties props = new Properties();\r\n            props.put(&quot;acks&quot;, &quot;0&quot;);\r\n            props.put(&quot;retries&quot;, &quot;0&quot;);\r\n            props.put(&quot;batch.size&quot;, &quot;16384&quot;);\r\n            props.put(&quot;linger.ms&quot;, &quot;100&quot;);\r\n            props.put(&quot;buffer.memory&quot;, &quot;33554432&quot;);\r\n            props.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.IntegerSerializer&quot;);\r\n            props.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n            props.put(&quot;max.request.size&quot;, String.valueOf(ByteUnit.MB.toBytes(10)));\r\n            return props;","title":"Unable to create topic when kafkaProducer tries to send record for the first time INVALID_REPLICATION_FACTOR","body":"<p>I am getting following error in the logs when trying to publish first message to a new topic.</p>\n\n<blockquote>\n  <p>[WARN ] [o.a.kafka.clients.NetworkClient][[Producer\n  clientId=producer-1] Error while fetching metadata with correlation id\n  766890 : {myTopic-1=INVALID_REPLICATION_FACTOR,\n  myTopic-2=INVALID_REPLICATION_FACTOR}] []</p>\n</blockquote>\n\n<p>The kafka fails hangs at:</p>\n\n<pre><code>\"Hashed wheel timer #1\" #521 prio=5 os_prio=0 tid=0x00007f932cd7d000 nid=0x199fa in Object.wait() [0x00007f9322b79000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at org.apache.kafka.clients.Metadata.awaitUpdate(Metadata.java:177)\n    - locked &lt;0x000000047838b990&gt; (a org.apache.kafka.clients.Metadata)\n    at org.apache.kafka.clients.producer.KafkaProducer.waitOnMetadata(KafkaProducer.java:903)\n    at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:794)\n    at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:784)\n</code></pre>\n\n<p>The kafka jar version we are using is: 0.10.0.1</p>\n\n<p>The server.properties on broker is:</p>\n\n<pre><code>broker.id=3\nhost.name=&lt;&gt;\nport=9092\n\nmessage.max.bytes=20971520\nnum.partitions=30\nauto.create.topics.enable=true\n\n# Replication configurations\ndefault.replication.factor=2\nnum.replica.fetchers=2\nreplica.fetch.max.bytes=20971520\n\n\nlog.dirs=/mnt1/data/kafka/kafka-logs-3\nlog.retention.hours=48\nlog.flush.interval.ms=10000\nlog.flush.interval.messages=20000\nlog.flush.scheduler.interval.ms=2000\nlog.cleanup.interval.mins=30\n\nzookeeper.connect=&lt;&gt;\nzookeeper.connection.timeout.ms=1000000\n\n# Socket server configuration\nnum.io.threads=8\nnum.network.threads=8\nsocket.request.max.bytes=20971520\nsocket.receive.buffer.bytes=20971520\nsocket.send.buffer.bytes=20971520\nqueued.max.requests=32\nfetch.purgatory.purge.interval.requests=100\nproducer.purgatory.purge.interval.requests=100\n\ninter.broker.protocol.version=0.10.2.0\nlog.message.format.version=0.10.0\ndelete.topic.enable=true\n</code></pre>\n\n<p>Why I am not able to send messages? The topic itself is not being created!\nThe producer properties being used are:</p>\n\n<pre><code>Properties props = new Properties();\n        props.put(\"acks\", \"0\");\n        props.put(\"retries\", \"0\");\n        props.put(\"batch.size\", \"16384\");\n        props.put(\"linger.ms\", \"100\");\n        props.put(\"buffer.memory\", \"33554432\");\n        props.put(\"key.serializer\", \"org.apache.kafka.common.serialization.IntegerSerializer\");\n        props.put(\"value.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n        props.put(\"max.request.size\", String.valueOf(ByteUnit.MB.toBytes(10)));\n        return props;\n</code></pre>\n"},{"tags":["java","spring-boot","jms"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1579717124,"post_id":59832220,"comment_id":105862970,"body_markdown":"The way this question is worded the answers will be based on opinion, not fact. This question should either be changed or closed.","body":"The way this question is worded the answers will be based on opinion, not fact. This question should either be changed or closed."}],"answers":[{"tags":[],"owner":{"account_id":1485563,"reputation":2200,"user_id":1520767,"display_name":"fabfas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579564738,"creation_date":1579564738,"answer_id":59832455,"question_id":59832220,"body_markdown":"The short answer is it depends. The longn answer is measure it. The use of small application criteria is flawed. You can have both on the same server if your server have all the resources required by your application and message queue broker, and not impacting the performance of end user. \r\n\r\nI would suggest run your performance tests to test your criteria then decide your target environment setup. ","title":"Should I install JMS broker on a separate machine?","body":"<p>The short answer is it depends. The longn answer is measure it. The use of small application criteria is flawed. You can have both on the same server if your server have all the resources required by your application and message queue broker, and not impacting the performance of end user. </p>\n\n<p>I would suggest run your performance tests to test your criteria then decide your target environment setup. </p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1579566422,"post_id":59832551,"comment_id":105801258,"body_markdown":"The flip-side of the &quot;single point of failure&quot; argument is that if you put different functions on different machines, then each machine is now a potential point of failure.  (Just saying.)","body":"The flip-side of the &quot;single point of failure&quot; argument is that if you put different functions on different machines, then each machine is now a potential point of failure.  (Just saying.)"},{"owner":{"account_id":5850921,"reputation":1533,"user_id":4609621,"display_name":"Jasper Huzen"},"score":0,"creation_date":1579566736,"post_id":59832551,"comment_id":105801324,"body_markdown":"yes, that&#39;s true. And on 1 single machine you don&#39;t have problems with network, ports and firewall problems. Security is also simpler.","body":"yes, that&#39;s true. And on 1 single machine you don&#39;t have problems with network, ports and firewall problems. Security is also simpler."}],"tags":[],"owner":{"account_id":5850921,"reputation":1533,"user_id":4609621,"display_name":"Jasper Huzen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1579565625,"creation_date":1579565625,"answer_id":59832551,"question_id":59832220,"body_markdown":"It&#39;s depends...\r\n\r\nThe size of the application is irrelevant. It depends more on your requirements for availability, scalability and data safety.  \r\n\r\nIf you have everything on the same machine you have a single point of risk. If the machine crash you lost everything on that machine. But this setup is the most \r\nsimple one (also for maintenance) and the change that the server will crash is low. Modern machines are able to handle a big load.\r\n\r\nIf you have a really high load and/or a requirement for guaranteed delivery you should use multiple systems with producers that sends messages to an ActiveMQ cluster (also distributed over multiple machines). The consumers, also on more than one machine. Use also load balancers to connect/interface to the machines.\r\n\r\nYou can also have a setup in the middle of both example setups (simple and \r\n complex). \r\n\r\nIf you are able to reproduce all the messages (email messages in your example), and the load is not so high, I will advise you to put it simple all on the same machine. ","title":"Should I install JMS broker on a separate machine?","body":"<p>It's depends...</p>\n\n<p>The size of the application is irrelevant. It depends more on your requirements for availability, scalability and data safety.  </p>\n\n<p>If you have everything on the same machine you have a single point of risk. If the machine crash you lost everything on that machine. But this setup is the most \nsimple one (also for maintenance) and the change that the server will crash is low. Modern machines are able to handle a big load.</p>\n\n<p>If you have a really high load and/or a requirement for guaranteed delivery you should use multiple systems with producers that sends messages to an ActiveMQ cluster (also distributed over multiple machines). The consumers, also on more than one machine. Use also load balancers to connect/interface to the machines.</p>\n\n<p>You can also have a setup in the middle of both example setups (simple and \n complex). </p>\n\n<p>If you are able to reproduce all the messages (email messages in your example), and the load is not so high, I will advise you to put it simple all on the same machine. </p>\n"},{"tags":[],"owner":{"account_id":1411666,"reputation":4134,"user_id":1338132,"display_name":"Axel Podehl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579595968,"creation_date":1579595968,"answer_id":59837077,"question_id":59832220,"body_markdown":"The simplest setup is everything on the same box. If this one box has enough CPU and disk space, why not ? One (performance) advantage is that nothing needs to go over the network. \r\n\r\nIf you are concerned about fault-tolerance, replicate that whole setup on a second machine.","title":"Should I install JMS broker on a separate machine?","body":"<p>The simplest setup is everything on the same box. If this one box has enough CPU and disk space, why not ? One (performance) advantage is that nothing needs to go over the network. </p>\n\n<p>If you are concerned about fault-tolerance, replicate that whole setup on a second machine.</p>\n"}],"owner":{"account_id":8475871,"reputation":403,"user_id":6357152,"display_name":"PLee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59832551,"answer_count":3,"score":0,"last_activity_date":1696257866,"creation_date":1579562796,"question_id":59832220,"body_markdown":"I am using Spring Boot mail and a JMS broker to build an email system. I followed [this example project][1]. Because our application QPS is small one server is enough to handle the requests. In the example project the broker, sender, and receiver are all on the same server. Is this a good practice for small application? Or I should put the broker, sender, and receiver on three separate machines?\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/messaging-jms/","title":"Should I install JMS broker on a separate machine?","body":"<p>I am using Spring Boot mail and a JMS broker to build an email system. I followed <a href=\"https://spring.io/guides/gs/messaging-jms/\" rel=\"nofollow noreferrer\">this example project</a>. Because our application QPS is small one server is enough to handle the requests. In the example project the broker, sender, and receiver are all on the same server. Is this a good practice for small application? Or I should put the broker, sender, and receiver on three separate machines?</p>\n"},{"tags":["java","jax-rs"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1695908814,"post_id":77182515,"comment_id":136088849,"body_markdown":"Not sure I completely understand your issue, but `abortWith()` is a `void` method. You need to also `return` after calling it, otherwise the rest of the code will still be ran.","body":"Not sure I completely understand your issue, but <code>abortWith()</code> is a <code>void</code> method. You need to also <code>return</code> after calling it, otherwise the rest of the code will still be ran."},{"owner":{"account_id":29541162,"reputation":1,"user_id":22639792,"display_name":"Satish"},"score":0,"creation_date":1695996518,"post_id":77182515,"comment_id":136101314,"body_markdown":"@Paul i tried even with return but still i am not getting 401 error. I get 500 which is not expected","body":"@Paul i tried even with return but still i am not getting 401 error. I get 500 which is not expected"}],"owner":{"account_id":29541162,"reputation":1,"user_id":22639792,"display_name":"Satish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696257396,"creation_date":1695751936,"question_id":77182515,"body_markdown":"I have implemented Container Request and created filter method and i am trying to abort in case of authorization failure. I see that the application stops as expected but it is not returning any message to client. I was expecting 401 error but it just stops abruptly.\r\n\r\npublic class SecuredFilter implements ContainerRequestFilter {\r\n\r\n    @Override\r\n    public void filter(ContainerRequestContext requestContext) {\r\n\r\n        String authorizationHeader = requestContext.getHeaderString(HttpHeaders.AUTHORIZATION);\r\n        if (authorizationHeader == null || !authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n             requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\r\n        }\r\n\r\n        String token = authorizationHeader.substring(&quot;Bearer&quot;.length()).trim();\r\n        // [...]\r\n        }\r\n}\r\n\r\nI am expecting to see 401 error not just stopping abruptly.","title":"ContainerRequest Response abortWith aborting and not providing response","body":"<p>I have implemented Container Request and created filter method and i am trying to abort in case of authorization failure. I see that the application stops as expected but it is not returning any message to client. I was expecting 401 error but it just stops abruptly.</p>\n<p>public class SecuredFilter implements ContainerRequestFilter {</p>\n<pre><code>@Override\npublic void filter(ContainerRequestContext requestContext) {\n\n    String authorizationHeader = requestContext.getHeaderString(HttpHeaders.AUTHORIZATION);\n    if (authorizationHeader == null || !authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n         requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\n    }\n\n    String token = authorizationHeader.substring(&quot;Bearer&quot;.length()).trim();\n    // [...]\n    }\n</code></pre>\n<p>}</p>\n<p>I am expecting to see 401 error not just stopping abruptly.</p>\n"},{"tags":["java","elasticsearch","resthighlevelclient","ilm","elasticsearch-client"],"owner":{"account_id":28754134,"reputation":1,"user_id":22021505,"display_name":"user22021505"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696257334,"creation_date":1696257334,"question_id":77216359,"body_markdown":"I&#39;m in the process of migrating from Elasticsearch version 7.17.0 to version 8.8.1. In my existing code, I&#39;m using the High-Level Rest Client (HLRC) to manage Index Lifecycle Policies. However, in Elasticsearch version 8.8.1, it seems that the `IndexLifecycleClient` has been removed, and I&#39;m unable to find an alternate method to perform the same functionality.\r\n\r\nSpecifically, I was using the `PutLifecyclePolicyRequest` to create a new policy. In Elasticsearch 8.8.1, it seems this is now named `PutLifecycleRequest`. Can anyone confirm if this performs the same functionality?\r\n\r\nAdditionally, any guidance or examples on how to implement Index Lifecycle Management using the ElasticsearchClient in version 8.8.1 would be greatly appreciated. Thank you.\r\n\r\nHLRC code:\r\n\r\n```\r\nprivate void createLifecyclePolicy(RestHighLevelClient client) throws IOException {\r\n    try {\r\n      IndexLifecycleClient lsClient = client.indexLifecycle();\r\n      Map&lt;String, Phase&gt; phases = new HashMap&lt;&gt;();\r\n      Map&lt;String, LifecycleAction&gt; hotActions = new HashMap&lt;&gt;();\r\n      hotActions.put(\r\n          RolloverAction.NAME,\r\n          new RolloverAction(new ByteSizeValue(25, ByteSizeUnit.GB), null, null, null));\r\n      phases.put(&quot;hot&quot;, new Phase(&quot;hot&quot;, TimeValue.ZERO, hotActions));\r\n      LifecyclePolicy lifecyclePolicy =\r\n          new LifecyclePolicy(elasticsearchPropertyProvider.getBulkFilterPolicyName(), phases);\r\n      AcknowledgedResponse response =\r\n          lsClient.putLifecyclePolicy(\r\n              new PutLifecyclePolicyRequest(lifecyclePolicy), RequestOptions.DEFAULT);\r\n      logger.info(&quot;Create policy acknowledgement : {}&quot;, response.isAcknowledged());\r\n    } catch (Exception e) {\r\n      logger.error(e, &quot;Error while creating lifecycle policy&quot;);\r\n      throw e;\r\n    }\r\n  }\r\nprivate boolean isLifecyclePolicyExists(RestHighLevelClient client) throws IOException {\r\n      GetLifecyclePolicyResponse lifecyclePolicy =\r\n          client\r\n              .indexLifecycle()\r\n              .getLifecyclePolicy(\r\n                  new GetLifecyclePolicyRequest(\r\n                      elasticsearchPropertyProvider.getBulkFilterPolicyName()),\r\n                  RequestOptions.DEFAULT);\r\n      logger.info(&quot;Policy found : {}&quot;, lifecyclePolicy.getPolicies());\r\n      return true;\r\n    \r\n```\r\n\r\n\r\nTried with methods PutLifecycleRequest, GetLifecycleRequest, IlmPolicy. Unable to implement the same functionality using new methods of ES-8.8.1 and need more examples.","title":"How to implement Index Lifecycle Mgt using ElasticsearchClient?","body":"<p>I'm in the process of migrating from Elasticsearch version 7.17.0 to version 8.8.1. In my existing code, I'm using the High-Level Rest Client (HLRC) to manage Index Lifecycle Policies. However, in Elasticsearch version 8.8.1, it seems that the <code>IndexLifecycleClient</code> has been removed, and I'm unable to find an alternate method to perform the same functionality.</p>\n<p>Specifically, I was using the <code>PutLifecyclePolicyRequest</code> to create a new policy. In Elasticsearch 8.8.1, it seems this is now named <code>PutLifecycleRequest</code>. Can anyone confirm if this performs the same functionality?</p>\n<p>Additionally, any guidance or examples on how to implement Index Lifecycle Management using the ElasticsearchClient in version 8.8.1 would be greatly appreciated. Thank you.</p>\n<p>HLRC code:</p>\n<pre><code>private void createLifecyclePolicy(RestHighLevelClient client) throws IOException {\n    try {\n      IndexLifecycleClient lsClient = client.indexLifecycle();\n      Map&lt;String, Phase&gt; phases = new HashMap&lt;&gt;();\n      Map&lt;String, LifecycleAction&gt; hotActions = new HashMap&lt;&gt;();\n      hotActions.put(\n          RolloverAction.NAME,\n          new RolloverAction(new ByteSizeValue(25, ByteSizeUnit.GB), null, null, null));\n      phases.put(&quot;hot&quot;, new Phase(&quot;hot&quot;, TimeValue.ZERO, hotActions));\n      LifecyclePolicy lifecyclePolicy =\n          new LifecyclePolicy(elasticsearchPropertyProvider.getBulkFilterPolicyName(), phases);\n      AcknowledgedResponse response =\n          lsClient.putLifecyclePolicy(\n              new PutLifecyclePolicyRequest(lifecyclePolicy), RequestOptions.DEFAULT);\n      logger.info(&quot;Create policy acknowledgement : {}&quot;, response.isAcknowledged());\n    } catch (Exception e) {\n      logger.error(e, &quot;Error while creating lifecycle policy&quot;);\n      throw e;\n    }\n  }\nprivate boolean isLifecyclePolicyExists(RestHighLevelClient client) throws IOException {\n      GetLifecyclePolicyResponse lifecyclePolicy =\n          client\n              .indexLifecycle()\n              .getLifecyclePolicy(\n                  new GetLifecyclePolicyRequest(\n                      elasticsearchPropertyProvider.getBulkFilterPolicyName()),\n                  RequestOptions.DEFAULT);\n      logger.info(&quot;Policy found : {}&quot;, lifecyclePolicy.getPolicies());\n      return true;\n    \n</code></pre>\n<p>Tried with methods PutLifecycleRequest, GetLifecycleRequest, IlmPolicy. Unable to implement the same functionality using new methods of ES-8.8.1 and need more examples.</p>\n"},{"tags":["java","loops","input","while-loop"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1444387458,"post_id":33036087,"comment_id":53893448,"body_markdown":"Your leap year logic is wrong.","body":"Your leap year logic is wrong."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1696322075,"post_id":33036087,"comment_id":136134690,"body_markdown":"Although not really what you asked, I see that you posted after the release of JDK 8 which included the introduction of the [date-time API](https://docs.oracle.com/javase/tutorial/datetime/index.html) and therefore you can use [static] method [isLeap](https://docs.oracle.com/javase/8/docs/api/java/time/Year.html#isLeap-long-) (of class `java.time.Year`) rather than do the calculation yourself.","body":"Although not really what you asked, I see that you posted after the release of JDK 8 which included the introduction of the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">date-time API</a> and therefore you can use [static] method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Year.html#isLeap-long-\" rel=\"nofollow noreferrer\">isLeap</a> (of class <code>java.time.Year</code>) rather than do the calculation yourself."}],"answers":[{"comments":[{"owner":{"account_id":7092412,"reputation":49,"user_id":5427205,"accept_rate":100,"display_name":"Imminence"},"score":0,"creation_date":1444388246,"post_id":33036152,"comment_id":53893989,"body_markdown":"Thanks mate, worked a charm. Still getting used to while loops and this explanation sunk in!","body":"Thanks mate, worked a charm. Still getting used to while loops and this explanation sunk in!"}],"tags":[],"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1444387839,"creation_date":1444387232,"answer_id":33036152,"question_id":33036087,"body_markdown":"Use a while loop above input line as:\r\n\r\n     while(true)\r\n\r\nAnd, use `if` condition to `break`.\r\n\r\n    if(year == 0)\r\n        break;\r\n\r\nAlso, condition for `leap year` is wrong in your code. It should be:\r\n\r\n    if((year % 100 == 0 &amp;&amp; year % 400 == 0) || (year % 4 == 0 &amp;&amp; year % 100 != 0))\r\n        //its a leap year\r\n    else\r\n        //its not\r\n\r\nPS: As in comments, I&#39;ll give a complete code:\r\n\r\n    import java.util.*;\r\n\r\n    public class Task10 {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Enter a year to check if it is a leap year&quot;);\r\n        while(true){\r\n        Scanner input = new Scanner(System.in);\r\n            int year = input.nextInt();\r\n            if(year == 0)\r\n                break;\r\n            if((year % 100 == 0 &amp;&amp; year % 400 == 0) || (year % 4 == 0 &amp;&amp; year % 100 != 0))\r\n                System.out.println(year + &quot; is a leap year&quot;);\r\n            else\r\n                System.out.println(year + &quot; is not a leap year&quot;);\r\n        }\r\n    }\r\n\r\n    }","title":"How would I use a while loop to keep requesting user input","body":"<p>Use a while loop above input line as:</p>\n\n<pre><code> while(true)\n</code></pre>\n\n<p>And, use <code>if</code> condition to <code>break</code>.</p>\n\n<pre><code>if(year == 0)\n    break;\n</code></pre>\n\n<p>Also, condition for <code>leap year</code> is wrong in your code. It should be:</p>\n\n<pre><code>if((year % 100 == 0 &amp;&amp; year % 400 == 0) || (year % 4 == 0 &amp;&amp; year % 100 != 0))\n    //its a leap year\nelse\n    //its not\n</code></pre>\n\n<p>PS: As in comments, I'll give a complete code:</p>\n\n<pre><code>import java.util.*;\n\npublic class Task10 {\n\npublic static void main(String[] args) {\n    System.out.println(\"Enter a year to check if it is a leap year\");\n    while(true){\n    Scanner input = new Scanner(System.in);\n        int year = input.nextInt();\n        if(year == 0)\n            break;\n        if((year % 100 == 0 &amp;&amp; year % 400 == 0) || (year % 4 == 0 &amp;&amp; year % 100 != 0))\n            System.out.println(year + \" is a leap year\");\n        else\n            System.out.println(year + \" is not a leap year\");\n    }\n}\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"score":0,"creation_date":1444387725,"post_id":33036200,"comment_id":53893617,"body_markdown":"Why would you make scope of `year` variable local of `main`, when it is never required outside the `while` loop ?!","body":"Why would you make scope of <code>year</code> variable local of <code>main</code>, when it is never required outside the <code>while</code> loop ?!"},{"owner":{"account_id":2530058,"reputation":467,"user_id":2198540,"accept_rate":75,"display_name":"NightsWatch"},"score":0,"creation_date":1444387828,"post_id":33036200,"comment_id":53893678,"body_markdown":"@vish4071 it reduces the number of lines of code needs to be written instead of marking the while as true at first and then checking for condition  if year is 0 to break the loop I felt I can make the beginner understand better this way","body":"@vish4071 it reduces the number of lines of code needs to be written instead of marking the while as true at first and then checking for condition  if year is 0 to break the loop I felt I can make the beginner understand better this way"},{"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"score":0,"creation_date":1444387963,"post_id":33036200,"comment_id":53893792,"body_markdown":"It is bad practice. You should try and declare / define variables to use only when they are required. Make it `rule of the thumb`. A few LoC has no effect on project, but, scope of variables and memory etc makes a lot of difference.","body":"It is bad practice. You should try and declare / define variables to use only when they are required. Make it <code>rule of the thumb</code>. A few LoC has no effect on project, but, scope of variables and memory etc makes a lot of difference."},{"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"score":0,"creation_date":1444388001,"post_id":33036200,"comment_id":53893820,"body_markdown":"But since it is a small program,  it does not matter much :)","body":"But since it is a small program,  it does not matter much :)"}],"tags":[],"owner":{"account_id":2530058,"reputation":467,"user_id":2198540,"accept_rate":75,"display_name":"NightsWatch"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444387381,"creation_date":1444387381,"answer_id":33036200,"question_id":33036087,"body_markdown":"You should place your input taking code inside a while loop aned execute while loop untill year is 0 or lesser.\r\n\r\n    public static void main(String[] args) {\r\n    \t    int year = 1;\r\n    \t    while(year &gt; 0)\r\n    \t    {\r\n    \t    \tSystem.out.println(&quot;Enter a year to check if it is a leap year&quot;);\r\n    \t    \tScanner input = new Scanner(System.in);\r\n    \t    \tyear = input.nextInt();\r\n    \t    \tif ((year % 4 == 0) || ((year % 400 == 0) &amp;&amp; (year % 100 != 0)))\r\n    \t\t        System.out.println(year + &quot; is a leap year&quot;);\r\n    \t\t    else\r\n    \t\t        System.out.println(year + &quot; is not a leap year&quot;);\r\n    \t    }\r\n    \t    \r\n    \r\n    \t}","title":"How would I use a while loop to keep requesting user input","body":"<p>You should place your input taking code inside a while loop aned execute while loop untill year is 0 or lesser.</p>\n\n<pre><code>public static void main(String[] args) {\n        int year = 1;\n        while(year &gt; 0)\n        {\n            System.out.println(\"Enter a year to check if it is a leap year\");\n            Scanner input = new Scanner(System.in);\n            year = input.nextInt();\n            if ((year % 4 == 0) || ((year % 400 == 0) &amp;&amp; (year % 100 != 0)))\n                System.out.println(year + \" is a leap year\");\n            else\n                System.out.println(year + \" is not a leap year\");\n        }\n\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1444387488,"creation_date":1444387488,"answer_id":33036238,"question_id":33036087,"body_markdown":"You need to do something to keep you input loop running until a stopping condition is encountered (which in your case is that when the user inputs `0`)\r\n\r\n    // First get the scanner object with the input stream\r\n\tScanner sc = new Scanner(System.in); \r\n\r\n    // Just using do-while here for no reason, you can use a simple while(true) as well\r\n\tdo{\r\n\t\tint input = sc.nextInt();  // read the next input\r\n\t\tif (int == 0) { // check if we need to exit out\r\n\t\t\t// break only if 0 is entered, this means we don&#39;t want to run the loop anymore\r\n\t\t\tbreak;\r\n\t\t} else {\r\n\t\t\t// otherwise, do something with the input\r\n\t\t}\r\n\t} while(true); // and keep repeating","title":"How would I use a while loop to keep requesting user input","body":"<p>You need to do something to keep you input loop running until a stopping condition is encountered (which in your case is that when the user inputs <code>0</code>)</p>\n\n<pre><code>// First get the scanner object with the input stream\nScanner sc = new Scanner(System.in); \n\n// Just using do-while here for no reason, you can use a simple while(true) as well\ndo{\n    int input = sc.nextInt();  // read the next input\n    if (int == 0) { // check if we need to exit out\n        // break only if 0 is entered, this means we don't want to run the loop anymore\n        break;\n    } else {\n        // otherwise, do something with the input\n    }\n} while(true); // and keep repeating\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1696168455,"post_id":77208226,"comment_id":136116168,"body_markdown":"The single line of code, in your answer, is not [formatted](https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks) and does not compile. I assume that `sc` is an instance of `java.util.Scanner`. If that instance was created like so: `new Scanner(System.in)`, then `sc.hasNext()` will **never** return _false_, so how does that answer the original question?","body":"The single line of code, in your answer, is not <a href=\"https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks\">formatted</a> and does not compile. I assume that <code>sc</code> is an instance of <code>java.util.Scanner</code>. If that instance was created like so: <code>new Scanner(System.in)</code>, then <code>sc.hasNext()</code> will <b>never</b> return <i>false</i>, so how does that answer the original question?"},{"owner":{"account_id":26164597,"reputation":1,"user_id":19850601,"display_name":"Deep Narayan Kumar"},"score":0,"creation_date":1696257314,"post_id":77208226,"comment_id":136126444,"body_markdown":"Update for more redable, instance sc created only once, when you enter invalid input loop will be break","body":"Update for more redable, instance sc created only once, when you enter invalid input loop will be break"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1696321460,"post_id":77208226,"comment_id":136134593,"body_markdown":"Still haven&#39;t learned how to format code using [markdown](https://stackoverflow.com/editing-help#code)? By the way, the code in your answer still doesn&#39;t [compile](https://www.jdoodle.com/iembed/v0/NxQ).","body":"Still haven&#39;t learned how to format code using <a href=\"https://stackoverflow.com/editing-help#code\">markdown</a>? By the way, the code in your answer still doesn&#39;t <a href=\"https://www.jdoodle.com/iembed/v0/NxQ\" rel=\"nofollow noreferrer\">compile</a>."}],"tags":[],"owner":{"account_id":26164597,"reputation":1,"user_id":19850601,"display_name":"Deep Narayan Kumar"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696257198,"creation_date":1696103162,"answer_id":77208226,"question_id":33036087,"body_markdown":"## Simple and best ## \r\n\r\n\r\nScanner sc=new Scanner(System.in);\r\n\r\nwhile(sc.hasNextInt()){\r\n       int year = input.nextInt();\r\n\r\n        if ((year % 4 == 0) || ((year % 400 == 0) &amp;&amp; (year % 100 !=0)))\r\n            System.out.println(year + &quot; is a leap year&quot;);\r\n        else\r\n            System.out.println(year + &quot; is not a leap year&quot;);\r\n}\r\n\r\n\r\n----------\r\n\r\n\r\nUntil you enter a valid input , the loop will contionue","title":"How would I use a while loop to keep requesting user input","body":"<h2>Simple and best</h2>\n<p>Scanner sc=new Scanner(System.in);</p>\n<p>while(sc.hasNextInt()){\nint year = input.nextInt();</p>\n<pre><code>    if ((year % 4 == 0) || ((year % 400 == 0) &amp;&amp; (year % 100 !=0)))\n        System.out.println(year + &quot; is a leap year&quot;);\n    else\n        System.out.println(year + &quot; is not a leap year&quot;);\n</code></pre>\n<p>}</p>\n<hr />\n<p>Until you enter a valid input , the loop will contionue</p>\n"}],"owner":{"account_id":7092412,"reputation":49,"user_id":5427205,"accept_rate":100,"display_name":"Imminence"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78848,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":33036152,"answer_count":4,"score":4,"last_activity_date":1696257198,"creation_date":1444387056,"question_id":33036087,"body_markdown":"I&#39;ve tried a couple of things with the while loop and can&#39;t seem to get it to work. I want to keep requesting user input until the user inputs the number 0, here is the code I have so far:\r\n\r\n    import java.util.*;\r\n\r\n    public class Task10 {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Enter a year to check if it is a leap year&quot;);\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\tint year = input.nextInt();\r\n    \t\t\r\n    \t\tif ((year % 4 == 0) || ((year % 400 == 0) &amp;&amp; (year % 100 != 0)))\r\n    \t\t\tSystem.out.println(year + &quot; is a leap year&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(year + &quot; is not a leap year&quot;);\r\n       \t}\r\n    }\r\n","title":"How would I use a while loop to keep requesting user input","body":"<p>I've tried a couple of things with the while loop and can't seem to get it to work. I want to keep requesting user input until the user inputs the number 0, here is the code I have so far:</p>\n\n<pre><code>import java.util.*;\n\npublic class Task10 {\n\n    public static void main(String[] args) {\n        System.out.println(\"Enter a year to check if it is a leap year\");\n        Scanner input = new Scanner(System.in);\n        int year = input.nextInt();\n\n        if ((year % 4 == 0) || ((year % 400 == 0) &amp;&amp; (year % 100 != 0)))\n            System.out.println(year + \" is a leap year\");\n        else\n            System.out.println(year + \" is not a leap year\");\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-beam"],"answers":[{"comments":[{"owner":{"account_id":5976980,"reputation":122,"user_id":4697471,"display_name":"Tomasz Kubat"},"score":0,"creation_date":1696326624,"post_id":77216333,"comment_id":136135524,"body_markdown":"Thanks for clarification. I did not mentioned that we are operating with streaming pipeline. We consider to use GroupIntoBatches.","body":"Thanks for clarification. I did not mentioned that we are operating with streaming pipeline. We consider to use GroupIntoBatches."},{"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"score":1,"creation_date":1696341879,"post_id":77216333,"comment_id":136138478,"body_markdown":"No worries. I guessed that you were running a streaming pipeline. Everything is designed to also work for batch, since 90% of streaming use cases also involve backfill, bugfixes, reprocessing, experiments, etc.","body":"No worries. I guessed that you were running a streaming pipeline. Everything is designed to also work for batch, since 90% of streaming use cases also involve backfill, bugfixes, reprocessing, experiments, etc."}],"tags":[],"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696257129,"creation_date":1696257129,"answer_id":77216333,"question_id":77215503,"body_markdown":"I would go back to thinking about why you want this, to decide between two options:\r\n\r\n - You _cannot_ use triggers to get an exact number of elements, by design: To achieve efficiency, Beam runners amortize costs by processing bundles of elements together. This is not just for batch, but also for streaming. So triggers say &quot;OK it is time to output&quot; but the runner is always allowed to wait until a &quot;good&quot; time. This is usually at the end of processing a bundle, when all the data will be flushed.\r\n - You _can_ use [`GroupIntoBatches`](https://beam.apache.org/documentation/transforms/java/aggregation/groupintobatches/) to get batches of _less than or equal_ to 10 elements. The last batch may be small and be flushed with less than 10. \r\n\r\nNow, in stream processing you may often go back and reprocess older data to fix bugs or run experiments. You should think about this to help you decide. \r\n\r\n**Important**:\r\n - For `GroupIntoBatches` the size of the batches is part of the input/output specification. You will get batches of 10 elements or less in both streaming and batch scenarios.\r\n - For triggers, it is _only_ a control for balancing cost/latency/completeness of results. In this case, a runner will probably produce _huge_ bundles and trigger only at the end.","title":"Apache Beam trigger a pane after equal number of elements","body":"<p>I would go back to thinking about why you want this, to decide between two options:</p>\n<ul>\n<li>You <em>cannot</em> use triggers to get an exact number of elements, by design: To achieve efficiency, Beam runners amortize costs by processing bundles of elements together. This is not just for batch, but also for streaming. So triggers say &quot;OK it is time to output&quot; but the runner is always allowed to wait until a &quot;good&quot; time. This is usually at the end of processing a bundle, when all the data will be flushed.</li>\n<li>You <em>can</em> use <a href=\"https://beam.apache.org/documentation/transforms/java/aggregation/groupintobatches/\" rel=\"nofollow noreferrer\"><code>GroupIntoBatches</code></a> to get batches of <em>less than or equal</em> to 10 elements. The last batch may be small and be flushed with less than 10.</li>\n</ul>\n<p>Now, in stream processing you may often go back and reprocess older data to fix bugs or run experiments. You should think about this to help you decide.</p>\n<p><strong>Important</strong>:</p>\n<ul>\n<li>For <code>GroupIntoBatches</code> the size of the batches is part of the input/output specification. You will get batches of 10 elements or less in both streaming and batch scenarios.</li>\n<li>For triggers, it is <em>only</em> a control for balancing cost/latency/completeness of results. In this case, a runner will probably produce <em>huge</em> bundles and trigger only at the end.</li>\n</ul>\n"}],"owner":{"account_id":5976980,"reputation":122,"user_id":4697471,"display_name":"Tomasz Kubat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696257129,"creation_date":1696249124,"question_id":77215503,"body_markdown":"we use a Apache Beam to send some data to the API. API accepts only certain amount of elements for single API call.\r\n\r\nTo group elements into micro batches we used mixed trigger which fires when one of the condition occurs: 1) after 30 seconds 2) when at least 10 elements will be gathered.\r\n\r\nNow it seems, that for some cases triggers passes more than 10 elements for a single pane. Any suggestion to force an exact number of record? I suppose, that as the method names suggests &#39;.elementsCountAtLeast(int x)` more then `x` elements can be passed.\r\n\r\n\r\n\r\n    // definition\r\n    public class WindowHelper {\r\n\r\n        public static Window&lt;KV&lt;String,String&gt;&gt; generateWIndow() {\r\n            Window &lt;KV&lt;String,String&gt;&gt; window = Window.&lt;KV&lt;String,String&gt;&gt;into(\r\n                new GlobalWindows()).triggering(\r\n                    Repeatedly.forever(AfterFirst.of(\r\n                        AfterPane.elementCountAtLeast(10),\r\n                        AfterProcessingTime.pastFirstElementInPane().plusDelayOf(Duration.standardSeconds(30))))\r\n        ).discardingFiredPanes();\r\n    \r\n        }\r\n    }\r\n    \r\n    // invocation\r\n    data.apply(WindowHelper.generateWindow())\r\n    \r\n    ...","title":"Apache Beam trigger a pane after equal number of elements","body":"<p>we use a Apache Beam to send some data to the API. API accepts only certain amount of elements for single API call.</p>\n<p>To group elements into micro batches we used mixed trigger which fires when one of the condition occurs: 1) after 30 seconds 2) when at least 10 elements will be gathered.</p>\n<p>Now it seems, that for some cases triggers passes more than 10 elements for a single pane. Any suggestion to force an exact number of record? I suppose, that as the method names suggests '.elementsCountAtLeast(int x)<code>more then</code>x` elements can be passed.</p>\n<pre><code>// definition\npublic class WindowHelper {\n\n    public static Window&lt;KV&lt;String,String&gt;&gt; generateWIndow() {\n        Window &lt;KV&lt;String,String&gt;&gt; window = Window.&lt;KV&lt;String,String&gt;&gt;into(\n            new GlobalWindows()).triggering(\n                Repeatedly.forever(AfterFirst.of(\n                    AfterPane.elementCountAtLeast(10),\n                    AfterProcessingTime.pastFirstElementInPane().plusDelayOf(Duration.standardSeconds(30))))\n    ).discardingFiredPanes();\n\n    }\n}\n\n// invocation\ndata.apply(WindowHelper.generateWindow())\n\n...\n</code></pre>\n"},{"tags":["java","spring","dependency-injection","inversion-of-control"],"answers":[{"comments":[{"owner":{"account_id":8304881,"reputation":1165,"user_id":6242317,"accept_rate":100,"display_name":"Vicky"},"score":0,"creation_date":1531899446,"post_id":51396061,"comment_id":89763443,"body_markdown":"but anyhow object of &#39;A&#39; can not be exists with the object of &#39;B&#39; and if the B&#39;s scope is singleton then also at the first `getBean` call B will going to instantiate.","body":"but anyhow object of &#39;A&#39; can not be exists with the object of &#39;B&#39; and if the B&#39;s scope is singleton then also at the first <code>getBean</code> call B will going to instantiate."},{"owner":{"account_id":10443956,"reputation":91,"user_id":7699656,"display_name":"Arya"},"score":0,"creation_date":1531899970,"post_id":51396061,"comment_id":89763749,"body_markdown":"your definition about Composition is wrong. take a look at https://stackoverflow.com/questions/885937/what-is-the-difference-between-association-aggregation-and-composition","body":"your definition about Composition is wrong. take a look at <a href=\"https://stackoverflow.com/questions/885937/what-is-the-difference-between-association-aggregation-and-composition\" title=\"what is the difference between association aggregation and composition\">stackoverflow.com/questions/885937/&hellip;</a>"},{"owner":{"account_id":8304881,"reputation":1165,"user_id":6242317,"accept_rate":100,"display_name":"Vicky"},"score":0,"creation_date":1531900303,"post_id":51396061,"comment_id":89763930,"body_markdown":"I am not sure why you are saying it wrong, try to take it as (A -&gt; Address and B-&gt; City).","body":"I am not sure why you are saying it wrong, try to take it as (A -&gt; Address and B-&gt; City)."},{"owner":{"account_id":10443956,"reputation":91,"user_id":7699656,"display_name":"Arya"},"score":0,"creation_date":1531907463,"post_id":51396061,"comment_id":89768633,"body_markdown":"City is parent and Address is child, you should say A-&gt; City and B-&gt; Address. if we think A as child and B as parent existence of A is always depend on B.","body":"City is parent and Address is child, you should say A-&gt; City and B-&gt; Address. if we think A as child and B as parent existence of A is always depend on B."}],"tags":[],"owner":{"account_id":10443956,"reputation":91,"user_id":7699656,"display_name":"Arya"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531898950,"creation_date":1531898950,"answer_id":51396061,"question_id":51395592,"body_markdown":"I think it&#39;s depend on B scope. If B is singletone then B manage itslef life cycle, so the relation between A and B is Aggregation.\r\nIf B is not singletone (prototype) then every time A is creating a new instance of B created and injected into A and A manage B life cycle, so the relation between A and B in this scenario ll be Composition","title":"Spring DI : Aggregation or Composition","body":"<p>I think it's depend on B scope. If B is singletone then B manage itslef life cycle, so the relation between A and B is Aggregation.\nIf B is not singletone (prototype) then every time A is creating a new instance of B created and injected into A and A manage B life cycle, so the relation between A and B in this scenario ll be Composition</p>\n"},{"tags":[],"owner":{"account_id":12614574,"reputation":1355,"user_id":9172501,"display_name":"Javad Kargar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531904435,"creation_date":1531904435,"answer_id":51397786,"question_id":51395592,"body_markdown":"I think, in `Spring` `Autowire` means more `Aggregation` when classes service each other.\r\n\r\nFor example in `MVC` design pattern  in Service layer . you may have  two Service  class that service each other.like `Teacher` that teach student and `Student` learn from teacher.for implement sample like this you should have two classes like below:\r\n\r\n    Class Teacher(){\r\n         public void teach(Lesson lesson,Student student){\r\n          //...\r\n         }\r\n    }\r\n        \r\n    Class Student(){\r\n         @Autowire\r\n         private ITeacher iTeacher;\r\n        \r\n         public void learn(Lesson lesson){\r\n           iTeacher.teach(lesson,this);\r\n           //...\r\n         }\r\n    }\r\n\r\nAs you see `Student` depends to `interface` of `Teacher`. and `Spring` choose which implement of `Interface` choose for injection.From this point of view, beans not coupled together and you can remove and replace implementation by another.","title":"Spring DI : Aggregation or Composition","body":"<p>I think, in <code>Spring</code> <code>Autowire</code> means more <code>Aggregation</code> when classes service each other.</p>\n\n<p>For example in <code>MVC</code> design pattern  in Service layer . you may have  two Service  class that service each other.like <code>Teacher</code> that teach student and <code>Student</code> learn from teacher.for implement sample like this you should have two classes like below:</p>\n\n<pre><code>Class Teacher(){\n     public void teach(Lesson lesson,Student student){\n      //...\n     }\n}\n\nClass Student(){\n     @Autowire\n     private ITeacher iTeacher;\n\n     public void learn(Lesson lesson){\n       iTeacher.teach(lesson,this);\n       //...\n     }\n}\n</code></pre>\n\n<p>As you see <code>Student</code> depends to <code>interface</code> of <code>Teacher</code>. and <code>Spring</code> choose which implement of <code>Interface</code> choose for injection.From this point of view, beans not coupled together and you can remove and replace implementation by another.</p>\n"},{"tags":[],"owner":{"account_id":8906596,"reputation":401,"user_id":6648211,"display_name":"GUDDU KUMAR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696257074,"creation_date":1696256754,"answer_id":77216283,"question_id":51395592,"body_markdown":"To understand it first you should understand how spring bean is created and who maintains the lifecycle of spring bean(https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html), Spring bean instance is created by spring IOC container, and it&#39;s created when you start your application so there is loose coupling between your classes(because dependcy bean can exist without the second class exist)\r\n\r\n    Class A{\r\n      @Autowired  */ if B is bean class then it&#39;s created eagrly by spring IOC container, so object b is not created by class A.\r\n      B b;\r\n    }\r\n\r\n\r\nso I can say your interviwer is right in saying that spring is using Aggregation here not composition\r\n\r\nPS - just make sure class A and class B is bean class\r\n","title":"Spring DI : Aggregation or Composition","body":"<p>To understand it first you should understand how spring bean is created and who maintains the lifecycle of spring bean(<a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html</a>), Spring bean instance is created by spring IOC container, and it's created when you start your application so there is loose coupling between your classes(because dependcy bean can exist without the second class exist)</p>\n<pre><code>Class A{\n  @Autowired  */ if B is bean class then it's created eagrly by spring IOC container, so object b is not created by class A.\n  B b;\n}\n</code></pre>\n<p>so I can say your interviwer is right in saying that spring is using Aggregation here not composition</p>\n<p>PS - just make sure class A and class B is bean class</p>\n"}],"owner":{"account_id":8304881,"reputation":1165,"user_id":6242317,"accept_rate":100,"display_name":"Vicky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1883,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1696257074,"creation_date":1531897546,"question_id":51395592,"body_markdown":"**Aggregation:** If two objects have there own life cycle and not tightly coupled with each other(can exists independently).\r\n\r\n    Class A {\r\n        B b;\r\n    } \r\nThe default value for `b` will be `null` and `A&#39;s` object can exists if there is no instance injected in A.\r\n\r\n**Composition:** if two objects are tightly coupled and one can not exists without second.\r\n\r\n    Class A{\r\n       B b;\r\n       A(B b){\r\n          this.b = b;\r\n        }\r\n    }\r\n **Spring DI:** In spring if we are using `@Autowired` annotation over a member then this member is required before instantiation of object.\r\n\r\n    Class A{\r\n      @Autowired  */ now this member is required before creating of object of A.\r\n      B b;\r\n    }\r\n**Query:** So from the above facts we can think `Spring DI` as a composition here .I am asking this question because in a interview I had a discussion over it and as per the interviewer `Spring` is using `Aggregation` here. \r\nCould any one please clarify if I am missing or not getting some thing here.","title":"Spring DI : Aggregation or Composition","body":"<p><strong>Aggregation:</strong> If two objects have there own life cycle and not tightly coupled with each other(can exists independently).</p>\n\n<pre><code>Class A {\n    B b;\n} \n</code></pre>\n\n<p>The default value for <code>b</code> will be <code>null</code> and <code>A's</code> object can exists if there is no instance injected in A.</p>\n\n<p><strong>Composition:</strong> if two objects are tightly coupled and one can not exists without second.</p>\n\n<pre><code>Class A{\n   B b;\n   A(B b){\n      this.b = b;\n    }\n}\n</code></pre>\n\n<p><strong>Spring DI:</strong> In spring if we are using <code>@Autowired</code> annotation over a member then this member is required before instantiation of object.</p>\n\n<pre><code>Class A{\n  @Autowired  */ now this member is required before creating of object of A.\n  B b;\n}\n</code></pre>\n\n<p><strong>Query:</strong> So from the above facts we can think <code>Spring DI</code> as a composition here .I am asking this question because in a interview I had a discussion over it and as per the interviewer <code>Spring</code> is using <code>Aggregation</code> here. \nCould any one please clarify if I am missing or not getting some thing here.</p>\n"},{"tags":["java","tomcat","struts2","netbeans-7"],"comments":[{"owner":{"account_id":3309393,"reputation":8547,"user_id":2783244,"accept_rate":100,"display_name":"StoopidDonut"},"score":1,"creation_date":1388227059,"post_id":20813496,"comment_id":31208055,"body_markdown":"Are you by any chance redirecting the user before some additional logic in your sevlet? `response.sendRedirect(SOMEWHERE);`","body":"Are you by any chance redirecting the user before some additional logic in your sevlet? <code>response.sendRedirect(SOMEWHERE);</code>"},{"owner":{"display_name":"user3117840"},"score":0,"creation_date":1388227419,"post_id":20813496,"comment_id":31208130,"body_markdown":"@PopoFibo I am doing web application in struts2 and I configured redirect attribute because My response will print the user list . Thanking you very much","body":"@PopoFibo I am doing web application in struts2 and I configured redirect attribute because My response will print the user list . Thanking you very much"},{"owner":{"account_id":3309393,"reputation":8547,"user_id":2783244,"accept_rate":100,"display_name":"StoopidDonut"},"score":0,"creation_date":1388228157,"post_id":20813496,"comment_id":31208332,"body_markdown":"Could you update your question with the piece of code which includes your redirect statement?","body":"Could you update your question with the piece of code which includes your redirect statement?"},{"owner":{"display_name":"user3117840"},"score":1,"creation_date":1388230270,"post_id":20813496,"comment_id":31208940,"body_markdown":"@PopoFibo sure update now see the updated code.","body":"@PopoFibo sure update now see the updated code."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1388328907,"post_id":20813496,"comment_id":31231934,"body_markdown":"You should check the Tomcat logs and post full stacktrace with the root cause.","body":"You should check the Tomcat logs and post full stacktrace with the root cause."},{"owner":{"account_id":3521038,"reputation":762,"user_id":2943307,"accept_rate":86,"display_name":"mik3fly-4steri5k"},"score":0,"creation_date":1524403903,"post_id":20813496,"comment_id":86948515,"body_markdown":"i meet this problem when configuring spring boot with security. In my AuthenticationEventHandler, i was using the method &quot;super.&quot; whereas i was sending a response after using it..","body":"i meet this problem when configuring spring boot with security. In my AuthenticationEventHandler, i was using the method &quot;super.&quot; whereas i was sending a response after using it.."},{"owner":{"account_id":7020430,"reputation":341,"user_id":5380038,"display_name":"Dipen Chawla"},"score":0,"creation_date":1527249147,"post_id":20813496,"comment_id":88068697,"body_markdown":"@JsonIdentityInfo(generator=ObjectIdGenerators.PropertyGenerator.class, property=&quot;id&quot;)\n   @JsonIdentityReference(alwaysAsId=true)","body":"@JsonIdentityInfo(generator=ObjectIdGenerators.PropertyGener&zwnj;&#8203;ator.class, property=&quot;id&quot;)    @JsonIdentityReference(alwaysAsId=true)"}],"answers":[{"comments":[{"owner":{"account_id":125163,"reputation":2985,"user_id":320761,"display_name":"Lukasz Frankowski"},"score":1,"creation_date":1515080351,"post_id":24214003,"comment_id":83172239,"body_markdown":"About debugging in &quot;another way&quot;, it&#39;s hard to debug the moment when response is commited because lack of org.apache.coyote.Response class during development, however there&#39;s available org.apache.catalina.connector.OutputBuffer where you can put breakpoint in flush() method.","body":"About debugging in &quot;another way&quot;, it&#39;s hard to debug the moment when response is commited because lack of org.apache.coyote.Response class during development, however there&#39;s available org.apache.catalina.connector.OutputBuffer where you can put breakpoint in flush() method."},{"owner":{"account_id":1002291,"reputation":2383,"user_id":1016891,"accept_rate":100,"display_name":"tom_mai78101"},"score":1,"creation_date":1621448994,"post_id":24214003,"comment_id":119501991,"body_markdown":"Appending @LukaszFrankowski &#39;s comment here. To debug and find the actual root cause, follow these steps: 1) Check the top of the full stack trace and find `ResponseFacade.sendError`. If you see this, proceed to the 2nd step. 2) From the top, jump to the first line that doesn&#39;t end with `.sendError(...)`, as in, skip anything like `HttpServletResponseWrapper.sendError`, `OnCommittedResponseWrapper.sendError` and so forth. 3) Look up that class you stopped at. This is usually where the actual root cause is located, as it tries to invoke the `HttpServletResponse.sendError` method there.","body":"Appending @LukaszFrankowski &#39;s comment here. To debug and find the actual root cause, follow these steps: 1) Check the top of the full stack trace and find <code>ResponseFacade.sendError</code>. If you see this, proceed to the 2nd step. 2) From the top, jump to the first line that doesn&#39;t end with <code>.sendError(...)</code>, as in, skip anything like <code>HttpServletResponseWrapper.sendError</code>, <code>OnCommittedResponseWrapper.sendError</code> and so forth. 3) Look up that class you stopped at. This is usually where the actual root cause is located, as it tries to invoke the <code>HttpServletResponse.sendError</code> method there."}],"tags":[],"owner":{"account_id":34011,"reputation":5855,"user_id":95674,"display_name":"Barett"},"comment_count":2,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1402694752,"creation_date":1402694752,"answer_id":24214003,"question_id":20813496,"body_markdown":"This error is a symptom of some other problem, not the root cause you&#39;re looking for.\r\n\r\nThis error explains why the user can&#39;t be redirected to the error page. (Reason: the server has already flushed part of the response buffer back to the client - it&#39;s too late to switch/redirect to the error page.)\r\n\r\nAs the error message points out, check elsewhere in your Apache Tomcat 7 logs (or debug your app another way) to find what is throwing an exception.\r\n","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>This error is a symptom of some other problem, not the root cause you're looking for.</p>\n\n<p>This error explains why the user can't be redirected to the error page. (Reason: the server has already flushed part of the response buffer back to the client - it's too late to switch/redirect to the error page.)</p>\n\n<p>As the error message points out, check elsewhere in your Apache Tomcat 7 logs (or debug your app another way) to find what is throwing an exception.</p>\n"},{"tags":[],"owner":{"account_id":1648854,"reputation":39,"user_id":1519819,"display_name":"Derry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433133475,"creation_date":1433133475,"answer_id":30565713,"question_id":20813496,"body_markdown":"if u use annotations like:@WebFilter,@WebServlet...,just add metadata-complete=&quot;true&quot; into web.xml\r\ne.g\r\n\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n             xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; \r\n             xmlns:web=&quot;http://java.sun.com/xml/ns/javaee&quot; \r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; \r\n             id=&quot;WebApp_ID&quot; metadata-complete=&quot;true&quot; version=&quot;3.0&quot;&gt;\r\n\r\nHope this is your need!","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>if u use annotations like:@WebFilter,@WebServlet...,just add metadata-complete=\"true\" into web.xml\ne.g</p>\n\n<pre><code>&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n         xmlns=\"http://java.sun.com/xml/ns/javaee\" \n         xmlns:web=\"http://java.sun.com/xml/ns/javaee\" \n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" \n         id=\"WebApp_ID\" metadata-complete=\"true\" version=\"3.0\"&gt;\n</code></pre>\n\n<p>Hope this is your need!</p>\n"},{"tags":[],"owner":{"account_id":9980190,"reputation":1,"user_id":7383398,"display_name":"young"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1483697437,"creation_date":1483697437,"answer_id":41503350,"question_id":20813496,"body_markdown":"I have overcome the exception,you may check your table structure.I execute the sql query produced by hibernate in mysql.\r\nAs excepted，an exception was thrown.\r\n\r\n    [Err] 1054 - Unknown column &#39;this_.ID&#39; in &#39;field list&#39;\r\n\r\nI found that a field ID is missing in the table.Add the ID into the table ,it&#39;s ok.\r\nHope it&#39;s helpful.","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>I have overcome the exception,you may check your table structure.I execute the sql query produced by hibernate in mysql.\nAs excepted，an exception was thrown.</p>\n\n<pre><code>[Err] 1054 - Unknown column 'this_.ID' in 'field list'\n</code></pre>\n\n<p>I found that a field ID is missing in the table.Add the ID into the table ,it's ok.\nHope it's helpful.</p>\n"},{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1496207971,"creation_date":1496207971,"answer_id":44276269,"question_id":20813496,"body_markdown":"I solved this error by adding `@jsonIgnore` to all getters for a List of another object","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>I solved this error by adding <code>@jsonIgnore</code> to all getters for a List of another object</p>\n"},{"tags":[],"owner":{"account_id":3286384,"reputation":3371,"user_id":2765792,"display_name":"Aman Goel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509430435,"creation_date":1509430435,"answer_id":47028958,"question_id":20813496,"body_markdown":"This is a common error and there can be various root cause can be identified. In my case I were opening pdf file from the web service and for this I were performing write operation in file using buffer. \r\n So kindly change below:\r\n\r\n            File outfile = File.createTempFile(&quot;temp&quot;, &quot;.pdf&quot;);\r\n\t\t\t\r\n\t\t\tOutputStream os=new FileOutputStream(outfile);\r\n\t\t\tbyte[] buffer = new byte[1024];\r\n\t\t\t \r\n    \t    int length;\r\n    \t    /*copying the contents from input stream to\r\n    \t     * output stream using read and write methods\r\n    \t     */\r\n    \t    while ((length = is.read(buffer)) &gt; 0){\r\n    \t    \tos.write(buffer, 0, length);\r\n    \t    }\r\n to\r\n\r\n            File outfile = File.createTempFile(&quot;temp&quot;, &quot;.pdf&quot;);\r\n\t\t\tIOUtils.copy(is, new FileOutputStream(outfile));\r\n\t\t\t\r\nand after this I were performing below operation:\r\n\r\n    \tjavax.ws.rs.core.Response.ResponseBuilder responseBuilder = javax.ws.rs.core.Response\r\n\t\t\t\t\t.ok(outfile, MediaType.APPLICATION_OCTET_STREAM);\r\n\t\t\t\t\tresponseBuilder.header(&quot;content-type&quot;,&quot;application/pdf&quot;);\r\n\t\t\t\r\n                 return responseBuilder.build();\r\n\r\nand error get resolved.\r\nCheers! \r\n\r\n ","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>This is a common error and there can be various root cause can be identified. In my case I were opening pdf file from the web service and for this I were performing write operation in file using buffer. \n So kindly change below:</p>\n\n<pre><code>        File outfile = File.createTempFile(\"temp\", \".pdf\");\n\n        OutputStream os=new FileOutputStream(outfile);\n        byte[] buffer = new byte[1024];\n\n        int length;\n        /*copying the contents from input stream to\n         * output stream using read and write methods\n         */\n        while ((length = is.read(buffer)) &gt; 0){\n            os.write(buffer, 0, length);\n        }\n</code></pre>\n\n<p>to</p>\n\n<pre><code>        File outfile = File.createTempFile(\"temp\", \".pdf\");\n        IOUtils.copy(is, new FileOutputStream(outfile));\n</code></pre>\n\n<p>and after this I were performing below operation:</p>\n\n<pre><code>    javax.ws.rs.core.Response.ResponseBuilder responseBuilder = javax.ws.rs.core.Response\n                .ok(outfile, MediaType.APPLICATION_OCTET_STREAM);\n                responseBuilder.header(\"content-type\",\"application/pdf\");\n\n             return responseBuilder.build();\n</code></pre>\n\n<p>and error get resolved.\nCheers! </p>\n"},{"comments":[{"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"score":2,"creation_date":1582610016,"post_id":50528595,"comment_id":106826491,"body_markdown":"Its worked for me! Thanks if we want ignore all other properties except id then only add @JsonIdentityReference(alwaysAsId=true) otherwise remove @JsonIdentityReference(alwaysAsId=true)","body":"Its worked for me! Thanks if we want ignore all other properties except id then only add @JsonIdentityReference(alwaysAsId=true) otherwise remove @JsonIdentityReference(alwaysAsId=true)"}],"tags":[],"owner":{"account_id":7020430,"reputation":341,"user_id":5380038,"display_name":"Dipen Chawla"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527249123,"creation_date":1527249123,"answer_id":50528595,"question_id":20813496,"body_markdown":"You can try this Annotation it will help as it fixed my issue.\r\n\r\nIt will definitely help if it will not be able to help you, then try to modify this as per your requirement.\r\n\r\n    @JsonIdentityInfo(generator=ObjectIdGenerators.PropertyGenerator.class, property=&quot;id&quot;)\r\n       @JsonIdentityReference(alwaysAsId=true)","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>You can try this Annotation it will help as it fixed my issue.</p>\n\n<p>It will definitely help if it will not be able to help you, then try to modify this as per your requirement.</p>\n\n<pre><code>@JsonIdentityInfo(generator=ObjectIdGenerators.PropertyGenerator.class, property=\"id\")\n   @JsonIdentityReference(alwaysAsId=true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13719602,"reputation":317,"user_id":9899890,"display_name":"FlexEast"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1543999097,"creation_date":1543999097,"answer_id":53628156,"question_id":20813496,"body_markdown":"For others in my situation--What was happening was that I had two @Entity objects with a many to many relationship causing infinite json to be generated, causing spring security to throw this error. Try adding @JsonIgnore above your hibernate relationships.","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>For others in my situation--What was happening was that I had two @Entity objects with a many to many relationship causing infinite json to be generated, causing spring security to throw this error. Try adding @JsonIgnore above your hibernate relationships.</p>\n"},{"comments":[{"owner":{"account_id":5814216,"reputation":465,"user_id":4584374,"display_name":"Joginder Malik"},"score":2,"creation_date":1606824812,"post_id":54520283,"comment_id":115073529,"body_markdown":"perfect solution, worked for me, as we added @OneToMany in Hibernate Model entity.","body":"perfect solution, worked for me, as we added @OneToMany in Hibernate Model entity."},{"owner":{"account_id":10538204,"reputation":2189,"user_id":7765316,"display_name":"majurageerthan"},"score":2,"creation_date":1663582559,"post_id":54520283,"comment_id":130265809,"body_markdown":"Import from here `import com.fasterxml.jackson.annotation.JsonIgnore;`","body":"Import from here <code>import com.fasterxml.jackson.annotation.JsonIgnore;</code>"},{"owner":{"account_id":9735515,"reputation":1045,"user_id":7218881,"display_name":"Sankalpa Wijewickrama"},"score":1,"creation_date":1666262666,"post_id":54520283,"comment_id":130897004,"body_markdown":"Worked for me as well. I had ManyToMany, OneToMany and ManyToOne relationships. I had to add JsonIgnore to all of those places and that solved the issue for me!","body":"Worked for me as well. I had ManyToMany, OneToMany and ManyToOne relationships. I had to add JsonIgnore to all of those places and that solved the issue for me!"},{"owner":{"account_id":16792711,"reputation":392,"user_id":12139920,"display_name":"Jake_3H"},"score":0,"creation_date":1674379572,"post_id":54520283,"comment_id":132698599,"body_markdown":"I still don&#39;t understand, why is this needed? I would love to have that list of objects in JSON format as well.","body":"I still don&#39;t understand, why is this needed? I would love to have that list of objects in JSON format as well."},{"owner":{"account_id":11408324,"reputation":59,"user_id":8363186,"display_name":"Anshul Samaiyar"},"score":0,"creation_date":1699943932,"post_id":54520283,"comment_id":136590934,"body_markdown":"after spending almost 1 day with chatgpt at last this site helped, thank you soo much","body":"after spending almost 1 day with chatgpt at last this site helped, thank you soo much"}],"tags":[],"owner":{"account_id":11434557,"reputation":970,"user_id":8382360,"display_name":"Asad"},"comment_count":5,"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1583715873,"creation_date":1549297421,"answer_id":54520283,"question_id":20813496,"body_markdown":"I was creating a @ManyToOne and @OneToMany relationship. I added ``` @JsonIgnore ``` above the @ManyToOne and it solved the error. ","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>I was creating a @ManyToOne and @OneToMany relationship. I added <code>@JsonIgnore</code> above the @ManyToOne and it solved the error. </p>\n"},{"tags":[],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578786352,"creation_date":1578786352,"answer_id":59699712,"question_id":20813496,"body_markdown":"This is what caused it in my case.\r\n\r\nI have 2 filters that both have the capability to send an error through the `HttpServletResponse.sendError()` method. If Filter A discovered something wrong and called sendError on the HttpServletResponse object, then a second call in the same filter or in filter B will cause the `cannot call senderror` exception. This is because sendError does not cause the request itself to be aborted. The code in the filter continues to be executed after the sendError method had been called.","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>This is what caused it in my case.</p>\n\n<p>I have 2 filters that both have the capability to send an error through the <code>HttpServletResponse.sendError()</code> method. If Filter A discovered something wrong and called sendError on the HttpServletResponse object, then a second call in the same filter or in filter B will cause the <code>cannot call senderror</code> exception. This is because sendError does not cause the request itself to be aborted. The code in the filter continues to be executed after the sendError method had been called.</p>\n"},{"comments":[{"owner":{"account_id":18011162,"reputation":383,"user_id":13090794,"display_name":"Kasasira"},"score":0,"creation_date":1615793293,"post_id":64527138,"comment_id":117791056,"body_markdown":"Life saver after spending a whole weekend figuring out the problem. Boom! hence the answer. Thanks a lot.","body":"Life saver after spending a whole weekend figuring out the problem. Boom! hence the answer. Thanks a lot."}],"tags":[],"owner":{"account_id":4525260,"reputation":559,"user_id":3677294,"display_name":"MonirRouissi"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1603704417,"creation_date":1603649659,"answer_id":64527138,"question_id":20813496,"body_markdown":"Note: there are 2 `@JsonIgnore` dependencies you can import. Make sure it&#39;s from Jackson library; that made the difference for me:\r\n\r\n    \r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n```\r\n","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>Note: there are 2 <code>@JsonIgnore</code> dependencies you can import. Make sure it's from Jackson library; that made the difference for me:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15714286,"reputation":633,"user_id":11338849,"display_name":"Nitin Zadage"},"score":0,"creation_date":1605181921,"post_id":64802199,"comment_id":114575399,"body_markdown":"I don&#39;t see anything related to JSON or Any ORM mapping in the question. This error can occur due to multiple reasons. Mostly when you try to send something to the client when response has already been sent and committed from the server.","body":"I don&#39;t see anything related to JSON or Any ORM mapping in the question. This error can occur due to multiple reasons. Mostly when you try to send something to the client when response has already been sent and committed from the server."}],"tags":[],"owner":{"account_id":14589269,"reputation":233,"user_id":10537000,"display_name":"Nguyễn Dương"},"comment_count":1,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1605177034,"creation_date":1605177034,"answer_id":64802199,"question_id":20813496,"body_markdown":"use @JsonIgnore above @ManyToOne","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>use @JsonIgnore above @ManyToOne</p>\n"},{"tags":[],"owner":{"account_id":15778308,"reputation":1608,"user_id":11385485,"display_name":"Nafaz M N M"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631039103,"creation_date":1626260827,"answer_id":68376918,"question_id":20813496,"body_markdown":"There are so many answers to use `@JsonIgnore` annotation. But I will not recommend it. If your parent class has a `many-to-one` relationship with a single entity then it is fine. But if your parent class has multiple many-to-one relationships then definitely it gives a headache to you. \r\n\r\nI will suggest going with a uni-directional approach and implement a separate `dto` class based on your requirement. ","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>There are so many answers to use <code>@JsonIgnore</code> annotation. But I will not recommend it. If your parent class has a <code>many-to-one</code> relationship with a single entity then it is fine. But if your parent class has multiple many-to-one relationships then definitely it gives a headache to you.</p>\n<p>I will suggest going with a uni-directional approach and implement a separate <code>dto</code> class based on your requirement.</p>\n"},{"comments":[{"owner":{"account_id":1539515,"reputation":2677,"user_id":1434495,"accept_rate":45,"display_name":"Flair"},"score":1,"creation_date":1634016621,"post_id":69533258,"comment_id":122906204,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/30053306)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/30053306\">From Review</a>"}],"tags":[],"owner":{"account_id":22716903,"reputation":29,"user_id":16882008,"display_name":"stephen"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1633992625,"creation_date":1633992625,"answer_id":69533258,"question_id":20813496,"body_markdown":"@JsonIgnore on the @ManyToOne mapping will resolve it.","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>@JsonIgnore on the @ManyToOne mapping will resolve it.</p>\n"},{"tags":[],"owner":{"account_id":2212801,"reputation":755,"user_id":1959140,"accept_rate":69,"display_name":"Gaurav Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637161357,"creation_date":1637161357,"answer_id":70006795,"question_id":20813496,"body_markdown":"I was using Jersey and I returned the following response\r\n\r\n    Response.status(HttpStatus.SC_MOVED_TEMPORARILY).header(&quot;Location&quot;, &quot;https://example.com?param1=foo bar&quot;).build()\r\n\r\nAfter URL encoding, the issue was solved\r\n\r\n    Response.status(HttpStatus.SC_MOVED_TEMPORARILY).header(&quot;Location&quot;, &quot;https://example.com?param1=foo%20bar&quot;).build()","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>I was using Jersey and I returned the following response</p>\n<pre><code>Response.status(HttpStatus.SC_MOVED_TEMPORARILY).header(&quot;Location&quot;, &quot;https://example.com?param1=foo bar&quot;).build()\n</code></pre>\n<p>After URL encoding, the issue was solved</p>\n<pre><code>Response.status(HttpStatus.SC_MOVED_TEMPORARILY).header(&quot;Location&quot;, &quot;https://example.com?param1=foo%20bar&quot;).build()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":222943,"reputation":1665,"user_id":481852,"accept_rate":100,"display_name":"gfelisberto"},"score":2,"creation_date":1675805413,"post_id":75341931,"comment_id":133007046,"body_markdown":"This reply hs already been added many times in this thread.","body":"This reply hs already been added many times in this thread."}],"tags":[],"owner":{"account_id":27698360,"reputation":9,"user_id":21143523,"display_name":"Xi Cao"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675466584,"creation_date":1675466584,"answer_id":75341931,"question_id":20813496,"body_markdown":"Adding @JsonIgnore solved the current error. However, it cause error when creating entry of entity with @ManyToOne annotation. \r\n\r\nUsing @JsonBackReference(value = &quot;**&quot;) (where ** is the property of the entity with @OneToMany annotation) can also solve this error while not causing other errors!\r\n\r\n(in my case, Im using User object with @ManyToOne annotation, but Im using the id of User as a column in sql table)","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>Adding @JsonIgnore solved the current error. However, it cause error when creating entry of entity with @ManyToOne annotation.</p>\n<p>Using @JsonBackReference(value = &quot;**&quot;) (where ** is the property of the entity with @OneToMany annotation) can also solve this error while not causing other errors!</p>\n<p>(in my case, Im using User object with @ManyToOne annotation, but Im using the id of User as a column in sql table)</p>\n"},{"tags":[],"owner":{"account_id":29581383,"reputation":11,"user_id":22671094,"display_name":"Marcio Santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696257032,"creation_date":1696256485,"answer_id":77216251,"question_id":20813496,"body_markdown":"I solved it using `@JsonBackReference` in the conflicting mapped entity","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>I solved it using <code>@JsonBackReference</code> in the conflicting mapped entity</p>\n"}],"owner":{"display_name":"user3117840"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123896,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"answer_count":16,"score":46,"last_activity_date":1696257032,"creation_date":1388226622,"question_id":20813496,"body_markdown":"While doing some operations in my application I got \r\n&gt; java.lang.IllegalStateException Cannot call sendError() \r\n\r\nWhen I reload the page again it work some time properly, but after some time again it shows the same exception. How can I overcome this exception? \r\n\r\nBelow is the exception:\r\n\r\n    HTTP Status 500 - Cannot call sendError() after the response has been committed\r\n    type Exception report\r\n    message Cannot call sendError() after the response has been committed\r\n    description The server encountered an internal error that prevented it from fulfilling this request.\r\n    exception \r\n    java.lang.IllegalStateException: Cannot call sendError() after the response has been committed\r\n\torg.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:451)\r\n\torg.apache.struts2.dispatcher.Dispatcher.sendError(Dispatcher.java:725)\r\n\torg.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:485)\r\n\torg.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:395)\r\n    note The full stack trace of the root cause is available in the Apache Tomcat/7.0.40 logs.\r\n\r\n\r\nStruts.xml\r\n\r\n    &lt;struts&gt;\r\n        &lt;package name=&quot;default&quot; extends=&quot;hibernate-default&quot;&gt;\r\n            &lt;action name=&quot;addUser&quot; method=&quot;add&quot; class=&quot;com.demo.action.UserAction&quot;&gt;\r\n                &lt;result name=&quot;input&quot;&gt;/register.jsp&lt;/result&gt;\r\n                &lt;result name=&quot;success&quot; type=&quot;redirect&quot;&gt;list&lt;/result&gt;\r\n            &lt;/action&gt;\r\n            &lt;action name=&quot;list&quot; method=&quot;list&quot; class=&quot;com.demo.action.UserAction&quot;&gt;\r\n                &lt;interceptor-ref name=&quot;basicStackHibernate&quot; /&gt;\r\n                &lt;result name=&quot;success&quot;&gt;/list.jsp&lt;/result&gt;\r\n            &lt;/action&gt;\r\n        &lt;/package&gt;\r\n    &lt;/struts&gt;\r\n","title":"Tomcat exception Cannot call sendError() after the response has been committed?","body":"<p>While doing some operations in my application I got </p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException Cannot call sendError() </p>\n</blockquote>\n\n<p>When I reload the page again it work some time properly, but after some time again it shows the same exception. How can I overcome this exception? </p>\n\n<p>Below is the exception:</p>\n\n<pre><code>HTTP Status 500 - Cannot call sendError() after the response has been committed\ntype Exception report\nmessage Cannot call sendError() after the response has been committed\ndescription The server encountered an internal error that prevented it from fulfilling this request.\nexception \njava.lang.IllegalStateException: Cannot call sendError() after the response has been committed\norg.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:451)\norg.apache.struts2.dispatcher.Dispatcher.sendError(Dispatcher.java:725)\norg.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:485)\norg.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:395)\nnote The full stack trace of the root cause is available in the Apache Tomcat/7.0.40 logs.\n</code></pre>\n\n<p>Struts.xml</p>\n\n<pre><code>&lt;struts&gt;\n    &lt;package name=\"default\" extends=\"hibernate-default\"&gt;\n        &lt;action name=\"addUser\" method=\"add\" class=\"com.demo.action.UserAction\"&gt;\n            &lt;result name=\"input\"&gt;/register.jsp&lt;/result&gt;\n            &lt;result name=\"success\" type=\"redirect\"&gt;list&lt;/result&gt;\n        &lt;/action&gt;\n        &lt;action name=\"list\" method=\"list\" class=\"com.demo.action.UserAction\"&gt;\n            &lt;interceptor-ref name=\"basicStackHibernate\" /&gt;\n            &lt;result name=\"success\"&gt;/list.jsp&lt;/result&gt;\n        &lt;/action&gt;\n    &lt;/package&gt;\n&lt;/struts&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","bean-validation","hibernate-validator","jackson-databind"],"answers":[{"comments":[{"owner":{"account_id":13266298,"reputation":1211,"user_id":9578985,"display_name":"Jerald Baker"},"score":0,"creation_date":1602054305,"post_id":64238759,"comment_id":113594520,"body_markdown":"No, @NotBlank just checks if the trimmed length is &gt; 0, if the string is not null. https://www.baeldung.com/java-bean-validation-not-null-empty-blank . My requirement is, that the JSR Validation should fail, if the field is present in JSON with value null. If the field is absent, then it should pass. the value, if present, must confirm to the regex.","body":"No, @NotBlank just checks if the trimmed length is &gt; 0, if the string is not null. <a href=\"https://www.baeldung.com/java-bean-validation-not-null-empty-blank\" rel=\"nofollow noreferrer\">baeldung.com/java-bean-validation-not-null-empty-blank</a> . My requirement is, that the JSR Validation should fail, if the field is present in JSON with value null. If the field is absent, then it should pass. the value, if present, must confirm to the regex."},{"owner":{"account_id":10729600,"reputation":99,"user_id":7896120,"display_name":"Sergio Garrido Dom&#237;nguez"},"score":0,"creation_date":1602055134,"post_id":64238759,"comment_id":113594878,"body_markdown":"Where are you checking if the Strings is null?","body":"Where are you checking if the Strings is null?"},{"owner":{"account_id":4545425,"reputation":1704,"user_id":3742750,"accept_rate":59,"display_name":"KMC"},"score":0,"creation_date":1696256450,"post_id":64238759,"comment_id":136126270,"body_markdown":"NotBlank already checks null. it&#39;s redundant to use NotNull","body":"NotBlank already checks null. it&#39;s redundant to use NotNull"}],"tags":[],"owner":{"account_id":10729600,"reputation":99,"user_id":7896120,"display_name":"Sergio Garrido Dom&#237;nguez"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1602054022,"creation_date":1602053664,"answer_id":64238759,"question_id":64238648,"body_markdown":"To Strings, I usually use @NotBlank for not empty strings, but im not sure at 100% that it doesnt allow null entries, but, in this case, use @NotNull annotation.\r\n\r\nEdit: I was looking for an example and I got this from an old project:\r\n```java\r\n@NotNull\r\n@NotBlank\r\n@Pattern(regexp = &quot;somePattern&quot;)\r\npublic String getEmail() {\r\n\treturn this.email;\r\n}\r\n\r\n```\r\n\r\nAs you can see, I use NotNull and NotBlank even though I have a pattern there.","title":"JSR Validation @Pattern allowing null values","body":"<p>To Strings, I usually use @NotBlank for not empty strings, but im not sure at 100% that it doesnt allow null entries, but, in this case, use @NotNull annotation.</p>\n<p>Edit: I was looking for an example and I got this from an old project:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NotNull\n@NotBlank\n@Pattern(regexp = &quot;somePattern&quot;)\npublic String getEmail() {\n    return this.email;\n}\n\n</code></pre>\n<p>As you can see, I use NotNull and NotBlank even though I have a pattern there.</p>\n"},{"tags":[],"owner":{"account_id":4545425,"reputation":1704,"user_id":3742750,"accept_rate":59,"display_name":"KMC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696256705,"creation_date":1696256705,"answer_id":77216278,"question_id":64238648,"body_markdown":"I know it&#39;s 3 year old question, but for the sake of those who stumble onto this question like myself, the only option I can think of is, to use @NotNull in conjunction with @Pattern. Use the pattern to handle the empty string.","title":"JSR Validation @Pattern allowing null values","body":"<p>I know it's 3 year old question, but for the sake of those who stumble onto this question like myself, the only option I can think of is, to use @NotNull in conjunction with @Pattern. Use the pattern to handle the empty string.</p>\n"}],"owner":{"account_id":13266298,"reputation":1211,"user_id":9578985,"display_name":"Jerald Baker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1710,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696256705,"creation_date":1602053282,"question_id":64238648,"body_markdown":"When I annotate a field with  @Pattern\r\n\r\n    @Pattern(regexp=&quot;someRegexp&quot;)\r\n    public String name;\r\n\r\nIf the JSON contains this field, with value as **null**, then I expect this regex to fail and thus invalid.\r\n\r\nif the JSON does NOT contain this field, then it is fine for the validation to pass.\r\n\r\nHow to achieve this?","title":"JSR Validation @Pattern allowing null values","body":"<p>When I annotate a field with  @Pattern</p>\n<pre><code>@Pattern(regexp=&quot;someRegexp&quot;)\npublic String name;\n</code></pre>\n<p>If the JSON contains this field, with value as <strong>null</strong>, then I expect this regex to fail and thus invalid.</p>\n<p>if the JSON does NOT contain this field, then it is fine for the validation to pass.</p>\n<p>How to achieve this?</p>\n"},{"tags":["java","jms","messaging","receiver","subscriber"],"answers":[{"comments":[{"owner":{"account_id":1967358,"reputation":378,"user_id":1767234,"accept_rate":71,"display_name":"abo"},"score":0,"creation_date":1574990376,"post_id":59092330,"comment_id":104428613,"body_markdown":"Will there be impact on this based on &quot;consumer.dispatchAsync=true/false&quot; ?","body":"Will there be impact on this based on &quot;consumer.dispatchAsync=true/false&quot; ?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1575000008,"post_id":59092330,"comment_id":104430233,"body_markdown":"No. The value of `consumer.dispatchAsync` will not impact publish/subscribe semantics.","body":"No. The value of <code>consumer.dispatchAsync</code> will not impact publish/subscribe semantics."},{"owner":{"account_id":1967358,"reputation":378,"user_id":1767234,"accept_rate":71,"display_name":"abo"},"score":0,"creation_date":1575009475,"post_id":59092330,"comment_id":104432296,"body_markdown":"I checked some of the example on durable subscriber. But in that case subcriber should check &quot; Message message = messageConsumer.receive(timeout);&quot; in order to receive the message. But I am looking where subscriber automatically get the message when start up.","body":"I checked some of the example on durable subscriber. But in that case subcriber should check &quot; Message message = messageConsumer.receive(timeout);&quot; in order to receive the message. But I am looking where subscriber automatically get the message when start up."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1575040785,"post_id":59092330,"comment_id":104446241,"body_markdown":"To understand JMS better you should read the JavaDoc API documentation or the specification instead. Any [`javax.jms.MessageConsumer`](https://docs.oracle.com/javaee/7/api/javax/jms/MessageConsumer.html) can set a [`javax.jms.MessageListener`](https://docs.oracle.com/javaee/7/api/javax/jms/MessageListener.html) using the [`setListener()`](https://docs.oracle.com/javaee/7/api/javax/jms/MessageConsumer.html#setMessageListener-javax.jms.MessageListener-) method to receive messages automatically and asynchronously. You don&#39;t necessarily have to call `receive()` on the `MessageConsumer`.","body":"To understand JMS better you should read the JavaDoc API documentation or the specification instead. Any <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/MessageConsumer.html\" rel=\"nofollow noreferrer\"><code>javax.jms.MessageConsumer</code></a> can set a <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/MessageListener.html\" rel=\"nofollow noreferrer\"><code>javax.jms.MessageListener</code></a> using the <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/MessageConsumer.html#setMessageListener-javax.jms.MessageListener-\" rel=\"nofollow noreferrer\"><code>setListener()</code></a> method to receive messages automatically and asynchronously. You don&#39;t necessarily have to call <code>receive()</code> on the <code>MessageConsumer</code>."},{"owner":{"account_id":1967358,"reputation":378,"user_id":1767234,"accept_rate":71,"display_name":"abo"},"score":0,"creation_date":1575280955,"post_id":59092330,"comment_id":104500174,"body_markdown":"I have tried with following https://www.devglan.com/spring-boot/spring-boot-jms-activemq-example. When I start the app again Listener does not get the missing message. What alternation I should do?","body":"I have tried with following <a href=\"https://www.devglan.com/spring-boot/spring-boot-jms-activemq-example\" rel=\"nofollow noreferrer\">devglan.com/spring-boot/spring-boot-jms-activemq-example</a>. When I start the app again Listener does not get the missing message. What alternation I should do?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1575297312,"post_id":59092330,"comment_id":104508750,"body_markdown":"From what I can tell that example uses a **non-durable** topic subscription so once it reconnects it won&#39;t receive any of the messages it missed when it was offline. As noted previously, you need to use a **durable** topic subscription or a queue.","body":"From what I can tell that example uses a <b>non-durable</b> topic subscription so once it reconnects it won&#39;t receive any of the messages it missed when it was offline. As noted previously, you need to use a <b>durable</b> topic subscription or a queue."}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1574955867,"creation_date":1574955867,"answer_id":59092330,"question_id":59089777,"body_markdown":"What you&#39;re observing is the expected behavior. Since you&#39;re sending your message to a JMS *topic* you will be subject to publish/subscribe semantics. Publish/subscribe semantics dictate that messages are only placed in valid subscriptions. When your subscriber is offline it has no valid subscription on the broker to receive the messages therefore it will miss the messages sent to it when it is offline. \r\n\r\nYou can use a *durable* subscriber to receive messages when the subscriber is offline or you can use a traditional JMS *queue*.","title":"JMS message lost when receiver is not available","body":"<p>What you're observing is the expected behavior. Since you're sending your message to a JMS <em>topic</em> you will be subject to publish/subscribe semantics. Publish/subscribe semantics dictate that messages are only placed in valid subscriptions. When your subscriber is offline it has no valid subscription on the broker to receive the messages therefore it will miss the messages sent to it when it is offline. </p>\n\n<p>You can use a <em>durable</em> subscriber to receive messages when the subscriber is offline or you can use a traditional JMS <em>queue</em>.</p>\n"}],"owner":{"account_id":1967358,"reputation":378,"user_id":1767234,"accept_rate":71,"display_name":"abo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1572,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59092330,"answer_count":1,"score":1,"last_activity_date":1696256677,"creation_date":1574947027,"question_id":59089777,"body_markdown":"I am using JMS for message passing. And when both sender and receiver available I successfully received the message. But when I down the receiver and start again queued messages are not received to receiver again. Is there any configuration I need to do?\r\nI have increase the time to live as below to avoid expiring the session.\r\n\r\nThis is how my sender code looks like.\r\n```java\r\nSession session = connection.createSession(false,Session.AUTO_ACKNOWLEDGE);\r\nDestination destination = session.createTopic(topic);\r\nMessageProducer producer = session.createProducer(destination);\r\nproducer.setTimeToLive(18000000L);\r\nTextMessage message = session.createTextMessage(customMessage.getContent());\r\nproducer.send(message);\r\n```","title":"JMS message lost when receiver is not available","body":"<p>I am using JMS for message passing. And when both sender and receiver available I successfully received the message. But when I down the receiver and start again queued messages are not received to receiver again. Is there any configuration I need to do?\nI have increase the time to live as below to avoid expiring the session.</p>\n<p>This is how my sender code looks like.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Session session = connection.createSession(false,Session.AUTO_ACKNOWLEDGE);\nDestination destination = session.createTopic(topic);\nMessageProducer producer = session.createProducer(destination);\nproducer.setTimeToLive(18000000L);\nTextMessage message = session.createTextMessage(customMessage.getContent());\nproducer.send(message);\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1696346370,"post_id":77216271,"comment_id":136139445,"body_markdown":"How are you joining exactly? We would need more details on what you are doing and the entities involved - and it is better to keep your question to a specific problem to avoid opinion based questions/answers which, as you said, are situational anyway.","body":"How are you joining exactly? We would need more details on what you are doing and the entities involved - and it is better to keep your question to a specific problem to avoid opinion based questions/answers which, as you said, are situational anyway."},{"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"score":0,"creation_date":1696357233,"post_id":77216271,"comment_id":136141592,"body_markdown":"@Chris yes you are right, actually did not find anything related on the internet. \nSo, no explicit relation means there&#39;s no joins and foreign key defined. Its just there&#39;s a column in a table that has same values with the IDs of another, that&#39;s how we fetch any data by applying join where Customer.id = Order.customer_id\nAnd if I have a listing page that contains data from both tables, how can I achieve that using Specifications? Hope its a bit clear now!","body":"@Chris yes you are right, actually did not find anything related on the internet.  So, no explicit relation means there&#39;s no joins and foreign key defined. Its just there&#39;s a column in a table that has same values with the IDs of another, that&#39;s how we fetch any data by applying join where Customer.id = Order.customer_id And if I have a listing page that contains data from both tables, how can I achieve that using Specifications? Hope its a bit clear now!"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1696366598,"post_id":77216271,"comment_id":136143209,"body_markdown":"I usually create a relation in the entity to make querying easier, and make it lazy so it isn&#39;t required in reads. JPQL is easier though, as you can use &quot;select a from EntityA a join EntityB b on b.id = a.bId where ..&quot;. Specifications and criteria API don&#39;t allow the join ON without relationships, so you&#39;d have to set it up in the where clause entirely, similar to &quot;select a from EntityA a, EntityB b where b.id = a.bId AND ..&quot; using Root&lt;EntityB&gt; entityB = cq.from(EntityB.class);","body":"I usually create a relation in the entity to make querying easier, and make it lazy so it isn&#39;t required in reads. JPQL is easier though, as you can use &quot;select a from EntityA a join EntityB b on b.id = a.bId where ..&quot;. Specifications and criteria API don&#39;t allow the join ON without relationships, so you&#39;d have to set it up in the where clause entirely, similar to &quot;select a from EntityA a, EntityB b where b.id = a.bId AND ..&quot; using Root&lt;EntityB&gt; entityB = cq.from(EntityB.class);"}],"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696256644,"creation_date":1696256644,"question_id":77216271,"body_markdown":"So, I have this JPL query that fetches a list of users based on filters and search key. Instead of this big query, I want to implement custom Specifications for dynamic filtering. \r\n**My first question** is (though it might be unrelated) how to identify the good practice for filtration queries. It is mentioned that it differs from use-case to use-case, but is there any common hunch that we should opt for a specific solution?\r\nMy query has join on two tables, all the blogs or articles I have explored so far contain examples of joins in specifications where entities have explicit relations defined. But in my scenario, there is no explicit relation defined for the foreign key. Upon joining, I am getting the issue that ``` lang.IllegalArgumentException: Unable to locate Attribute  with the given name [&quot;fk_id&quot;] on this ManagedType ```\r\n**Second question** is how do I create custom specifications for the queries where there&#39;s no explicit relation between tables?\r\n\r\n\r\nNot a very good springboot developer so apologies for bad questions/concepts\r\n","title":"Converting JPQL not having explicit joins to Specifications","body":"<p>So, I have this JPL query that fetches a list of users based on filters and search key. Instead of this big query, I want to implement custom Specifications for dynamic filtering.\n<strong>My first question</strong> is (though it might be unrelated) how to identify the good practice for filtration queries. It is mentioned that it differs from use-case to use-case, but is there any common hunch that we should opt for a specific solution?\nMy query has join on two tables, all the blogs or articles I have explored so far contain examples of joins in specifications where entities have explicit relations defined. But in my scenario, there is no explicit relation defined for the foreign key. Upon joining, I am getting the issue that <code>lang.IllegalArgumentException: Unable to locate Attribute  with the given name [&quot;fk_id&quot;] on this ManagedType</code>\n<strong>Second question</strong> is how do I create custom specifications for the queries where there's no explicit relation between tables?</p>\n<p>Not a very good springboot developer so apologies for bad questions/concepts</p>\n"},{"tags":["java","jquery","ajax","jsp","struts2"],"answers":[{"comments":[{"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"score":0,"creation_date":1388549860,"post_id":20857989,"comment_id":31305913,"body_markdown":"I had tried setting status code to 200 for success, but 200 already is set to status if AJAX request was success. Can u explain with some code?","body":"I had tried setting status code to 200 for success, but 200 already is set to status if AJAX request was success. Can u explain with some code?"},{"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"score":0,"creation_date":1388550267,"post_id":20857989,"comment_id":31305963,"body_markdown":"This question also http://stackoverflow.com/questions/20856712/actionerror-not-getting-displayed is with same refrence.","body":"This question also <a href=\"http://stackoverflow.com/questions/20856712/actionerror-not-getting-displayed\" title=\"actionerror not getting displayed\">stackoverflow.com/questions/20856712/&hellip;</a> is with same refrence."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619669968,"creation_date":1388495747,"answer_id":20857989,"question_id":20852921,"body_markdown":"If you use only JSON response then you should set the *status* code of your action result. \r\n\r\nIf you return a `json` type result then you can use\r\n\r\n &lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;result name=&quot;error&quot; type=&quot;json&quot;&gt;\r\n        &lt;param name=&quot;statusCode&quot;&gt;400&lt;/param&gt;\r\n    &lt;/result&gt; \r\n\r\nIt will reach `error()` Ajax function.\r\n\r\nIf you use different response you could set the status code to the response object \r\n\r\n    response.setStatus(400);\r\n\r\nand on `error()` you can use `jqXHR` parameter to check for `jqXHR.status`.    ","title":"Differentiate between success data and error message to use in Struts 2?","body":"<p>If you use only JSON response then you should set the <em>status</em> code of your action result.</p>\n<p>If you return a <code>json</code> type result then you can use</p>\n <pre class=\"lang-xml prettyprint-override\"><code>&lt;result name=&quot;error&quot; type=&quot;json&quot;&gt;\n    &lt;param name=&quot;statusCode&quot;&gt;400&lt;/param&gt;\n&lt;/result&gt; \n</code></pre>\n<p>It will reach <code>error()</code> Ajax function.</p>\n<p>If you use different response you could set the status code to the response object</p>\n<pre><code>response.setStatus(400);\n</code></pre>\n<p>and on <code>error()</code> you can use <code>jqXHR</code> parameter to check for <code>jqXHR.status</code>.</p>\n"}],"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696256578,"creation_date":1388471411,"question_id":20852921,"body_markdown":"I am doing an AJAX call and using Struts 2 JSON plugin. \r\n\r\nWhen the code reaches `success()` of AJAX call, I don&#39;t know how to differentiate whether I should load the *success* data or *load message* or *errors*, which I want to display it to the user if something unusual happened during the AJAX call.\r\n\r\nAs code always reaches `success()` until the AJAX request itself fails.\r\n\r\nHow can I achieve this?\r\n\r\n**EDIT**: I came up with one idea which was to send a String too with response to Ajax and check string value (i.e) if string is set to success load the other JSON parameter returned, if error I load `error.jsp` ","title":"Differentiate between success data and error message to use in Struts 2?","body":"<p>I am doing an AJAX call and using Struts 2 JSON plugin.</p>\n<p>When the code reaches <code>success()</code> of AJAX call, I don't know how to differentiate whether I should load the <em>success</em> data or <em>load message</em> or <em>errors</em>, which I want to display it to the user if something unusual happened during the AJAX call.</p>\n<p>As code always reaches <code>success()</code> until the AJAX request itself fails.</p>\n<p>How can I achieve this?</p>\n<p><strong>EDIT</strong>: I came up with one idea which was to send a String too with response to Ajax and check string value (i.e) if string is set to success load the other JSON parameter returned, if error I load <code>error.jsp</code></p>\n"},{"tags":["java","jquery","jsp","struts2","struts2-jquery"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1372813935,"post_id":17437384,"comment_id":25331786,"body_markdown":"Define &quot;not working good&quot;. What&#39;s in your JS console? What&#39;s in the DEBUG-level devMode=true server logs? What if you just use the form&#39;s action instead of setting href?","body":"Define &quot;not working good&quot;. What&#39;s in your JS console? What&#39;s in the DEBUG-level devMode=true server logs? What if you just use the form&#39;s action instead of setting href?"},{"owner":{"account_id":2846129,"reputation":633,"user_id":2444474,"accept_rate":67,"display_name":"user2444474"},"score":0,"creation_date":1372828442,"post_id":17437384,"comment_id":25334876,"body_markdown":"&lt;sj:submit /&gt; page is refereshing  , but it should ot happen , because its ajax supported.I need to submit the page with out page refresh .","body":"&lt;sj:submit /&gt; page is refereshing  , but it should ot happen , because its ajax supported.I need to submit the page with out page refresh ."}],"answers":[{"tags":[],"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1372842465,"creation_date":1372842465,"answer_id":17443945,"question_id":17437384,"body_markdown":"In order `&lt;sj:submit&gt;` to work properly `targets` attribute must be set to some value and form must have `id` attribute.\r\n\r\n    &lt;s:form action=&quot;product!list&quot; id=&quot;searchForm&quot;&gt;     \r\n      &lt;sj:submit targets=&quot;results&quot;/&gt;\r\n    &lt;/s:form&gt;","title":"Struts2 jQuery plugin - submit button","body":"<p>In order <code>&lt;sj:submit&gt;</code> to work properly <code>targets</code> attribute must be set to some value and form must have <code>id</code> attribute.</p>\n\n<pre><code>&lt;s:form action=\"product!list\" id=\"searchForm\"&gt;     \n  &lt;sj:submit targets=\"results\"/&gt;\n&lt;/s:form&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696256437,"creation_date":1372845762,"answer_id":17445065,"question_id":17437384,"body_markdown":"You should include `&lt;sj:head/&gt;` tag in the body of the `&lt;head&gt;`. This tag links JQuery and `stylesheet` on the page and other initial things, without it Ajax call has not made and as a result page refreshes. See examples of submitting tag [`&lt;sj:submit&gt;`][1]:\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n&gt;     &lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\r\n&gt;     &lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\r\n&gt;     &lt;html&gt;\r\n&gt;       &lt;head&gt;\r\n&gt;         &lt;sj:head/&gt;\r\n&gt;       &lt;/head&gt;\r\n&gt;       &lt;body&gt;\r\n&gt;         &lt;s:form id=&quot;form&quot; action=&quot;AjaxTest&quot;&gt;\r\n&gt;           &lt;input type=&quot;textbox&quot; name=&quot;data&quot;&gt;\r\n&gt;           &lt;sj:submit value=&quot;Submit Form&quot; /&gt;\r\n&gt;         &lt;/s:form&gt;\r\n&gt;       &lt;/body&gt;\r\n&gt;     &lt;/html&gt;\r\n\r\n  [1]: https://github.com/struts-community-plugins/struts2-jquery/wiki/SubmitTag\r\n","title":"Struts2 jQuery plugin - submit button","body":"<p>You should include <code>&lt;sj:head/&gt;</code> tag in the body of the <code>&lt;head&gt;</code>. This tag links JQuery and <code>stylesheet</code> on the page and other initial things, without it Ajax call has not made and as a result page refreshes. See examples of submitting tag <a href=\"https://github.com/struts-community-plugins/struts2-jquery/wiki/SubmitTag\" rel=\"nofollow noreferrer\"><code>&lt;sj:submit&gt;</code></a>:</p>\n\n<blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\n&lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;sj:head/&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;s:form id=&quot;form&quot; action=&quot;AjaxTest&quot;&gt;\n      &lt;input type=&quot;textbox&quot; name=&quot;data&quot;&gt;\n      &lt;sj:submit value=&quot;Submit Form&quot; /&gt;\n    &lt;/s:form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":2846129,"reputation":633,"user_id":2444474,"accept_rate":67,"display_name":"user2444474"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2268,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":17443945,"answer_count":2,"score":0,"last_activity_date":1696256437,"creation_date":1372807461,"question_id":17437384,"body_markdown":"I have Struts 2 jQuery plugin submit button, when click the button its not firing the action class as Struts submit button. I need to keep the same page after click the button.Please look into below code difference.\r\n\r\n**Struts submit button - Working good:**\r\n\r\n&lt;!-- language-all: lang-jsp --&gt;\r\n\r\n    &lt;s:form action=&quot;product!list&quot; id=&quot;searchForm&quot; theme=&quot;simple&quot; method=&quot;Post&quot;&gt;\r\n         &lt;s:submit action=&quot;product&quot; method=&quot;list&quot; value=&quot;Find&quot; /&gt;\r\n    &lt;/s:form&gt;\r\n\r\n**Converting Struts submit to Struts-jQuery submit submit button - Not Working good:**\r\n\r\n    &lt;s:form action=&quot;product!list&quot; id=&quot;searchForm&quot; theme=&quot;simple&quot; method=&quot;Post&quot; &gt;     \r\n         &lt;sj:submit /&gt;\r\n    &lt;/s:form&gt;\r\n\r\nif using only form action `&lt;sj:submit/&gt;` , the page the refreshing and working as Struts tag, but it should not be.","title":"Struts2 jQuery plugin - submit button","body":"<p>I have Struts 2 jQuery plugin submit button, when click the button its not firing the action class as Struts submit button. I need to keep the same page after click the button.Please look into below code difference.</p>\n<p><strong>Struts submit button - Working good:</strong></p>\n\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;s:form action=&quot;product!list&quot; id=&quot;searchForm&quot; theme=&quot;simple&quot; method=&quot;Post&quot;&gt;\n     &lt;s:submit action=&quot;product&quot; method=&quot;list&quot; value=&quot;Find&quot; /&gt;\n&lt;/s:form&gt;\n</code></pre>\n<p><strong>Converting Struts submit to Struts-jQuery submit submit button - Not Working good:</strong></p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;s:form action=&quot;product!list&quot; id=&quot;searchForm&quot; theme=&quot;simple&quot; method=&quot;Post&quot; &gt;     \n     &lt;sj:submit /&gt;\n&lt;/s:form&gt;\n</code></pre>\n<p>if using only form action <code>&lt;sj:submit/&gt;</code> , the page the refreshing and working as Struts tag, but it should not be.</p>\n"},{"tags":["java","spring-boot","jms","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1573486906,"creation_date":1573486906,"answer_id":58804451,"question_id":58795931,"body_markdown":"There is no &quot;batch&quot; mode for JMS. A JMS consumer can only receive one message at a time. Typically the best way boost message throughput to deal with lots of messages is by increasing the number of consumers. This should be fairly simple to do with a Spring `JmsListener` using the [`concurrency`][1] setting.\r\n\r\nYou can, of course, use something like `cron` to schedule a job to deal with these messages or you use something like the [Quartz Job Scheduler][2] instead.\r\n\r\nIt&#39;s really impossible to give you the &quot;best&quot; way to deal with your situation on Stack Overflow. There are simply too many unknown variables.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jms/annotation/JmsListener.html#concurrency--\r\n  [2]: http://www.quartz-scheduler.org/","title":"How do I read from a redelivery queue in a batch way?","body":"<p>There is no \"batch\" mode for JMS. A JMS consumer can only receive one message at a time. Typically the best way boost message throughput to deal with lots of messages is by increasing the number of consumers. This should be fairly simple to do with a Spring <code>JmsListener</code> using the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jms/annotation/JmsListener.html#concurrency--\" rel=\"nofollow noreferrer\"><code>concurrency</code></a> setting.</p>\n\n<p>You can, of course, use something like <code>cron</code> to schedule a job to deal with these messages or you use something like the <a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz Job Scheduler</a> instead.</p>\n\n<p>It's really impossible to give you the \"best\" way to deal with your situation on Stack Overflow. There are simply too many unknown variables.</p>\n"}],"owner":{"account_id":6375303,"reputation":179,"user_id":7072438,"display_name":"Arsalan Siddiqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58804451,"answer_count":1,"score":0,"last_activity_date":1696256285,"creation_date":1573449818,"question_id":58795931,"body_markdown":"I am using ActiveMQ classic as a queue manager. My message consumer (@JmsListener using Spring) writes to MongoDB. If MongoDB is unavailable, then it sends the message to a different queue, lets call it a redelivery queue.\r\n\r\nSo, imagine after mongoDB been down for many hours, its finally up. What is the best way to now read the message from this redelivery queue? \r\n\r\nI am thinking if there is a possibility to do this by creating a batch job that runs once a day? If so, what are the options that can be used to create a job like that or if there are any other better options available.\r\n","title":"How do I read from a redelivery queue in a batch way?","body":"<p>I am using ActiveMQ classic as a queue manager. My message consumer (@JmsListener using Spring) writes to MongoDB. If MongoDB is unavailable, then it sends the message to a different queue, lets call it a redelivery queue.</p>\n\n<p>So, imagine after mongoDB been down for many hours, its finally up. What is the best way to now read the message from this redelivery queue? </p>\n\n<p>I am thinking if there is a possibility to do this by creating a batch job that runs once a day? If so, what are the options that can be used to create a job like that or if there are any other better options available.</p>\n"},{"tags":["java","spring","spring-boot","spring-jms"],"comments":[{"owner":{"account_id":8685059,"reputation":1412,"user_id":6499760,"display_name":"Alexey  Usharovski"},"score":0,"creation_date":1573230144,"post_id":58770139,"comment_id":103826470,"body_markdown":"I don&#39;t think annotation `@Scheduled` and `@JmsListener` are compatible. Why do you need such behaviour?","body":"I don&#39;t think annotation <code>@Scheduled</code> and <code>@JmsListener</code> are compatible. Why do you need such behaviour?"},{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":0,"creation_date":1573553574,"post_id":58770139,"comment_id":103910649,"body_markdown":"You should ask yourself : &quot;Why using a listener if you don&#39;t whant to listen ?&quot; And may be think about an other solutuion, like listening 100% of time, stackibng the massage into your application, AND processing the message at the moment you whant to do it.","body":"You should ask yourself : &quot;Why using a listener if you don&#39;t whant to listen ?&quot; And may be think about an other solutuion, like listening 100% of time, stackibng the massage into your application, AND processing the message at the moment you whant to do it."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573230905,"creation_date":1573230905,"answer_id":58770532,"question_id":58770139,"body_markdown":"You can&#39;t use `@Scheduled` there.\r\n\r\nUse the `JmsListenerEndpointRegistry` bean to start and stop the listener when needed.\r\n\r\n    @JmsListener(id = &quot;foo&quot; ...)\r\n    \r\n\r\n    registry.getListenerContainer(&quot;foo&quot;).start();\r\n    ...\r\n    registry.getListenerContainer(&quot;foo&quot;).stop();\r\n    ","title":"Scheduling JMS listener in SpringBoot","body":"<p>You can't use <code>@Scheduled</code> there.</p>\n\n<p>Use the <code>JmsListenerEndpointRegistry</code> bean to start and stop the listener when needed.</p>\n\n<pre><code>@JmsListener(id = \"foo\" ...)\n\n\nregistry.getListenerContainer(\"foo\").start();\n...\nregistry.getListenerContainer(\"foo\").stop();\n</code></pre>\n"}],"owner":{"account_id":4768458,"reputation":95,"user_id":9397941,"display_name":"apandey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1893,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696256107,"creation_date":1573229434,"question_id":58770139,"body_markdown":"I have a method in a Spring Boot application that listens to a queue in ActiveMQ. I want to schedule the method so that it does not start listening to the queue on application startup and runs every X minutes. \r\n\r\nHere is the method that I wrote to accomplish the task. I have disabled the `JMSListener` auto startup so that it does not start listening on when the application is started. \r\n\r\n```java\r\n@Scheduled(fixedDelay = 1000, initialDelay = 1000)\r\n@JmsListener(destination = &quot;queueName&quot;)\r\npublic void receiveMessage(final Message jsonMessage) throws JMSException {\r\n   System.out.println(&quot;Received message &quot; + jsonMessage);\r\n\r\n}\r\n\r\n@Bean\r\npublic DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\r\n   DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n   factory.setConnectionFactory(connectionFactory());\r\n   factory.setConcurrency(&quot;1-1&quot;);\r\n   factory.setAutoStartup(false);\r\n   return factory;\r\n}\r\n```\r\n\r\nBut when I run the application I get an exception which says that the scheduled method cannot have arguments:\r\n\r\n    Encountered invalid @Scheduled method &#39;receiveMessage&#39;: Only no-arg methods may be annotated with @Scheduled\r\n\r\nIs there a way I can schedule the `JMSListener` so that it starts after a delay on the application startup and is scheduled to run every X minutes and read messages from the queue?","title":"Scheduling JMS listener in SpringBoot","body":"<p>I have a method in a Spring Boot application that listens to a queue in ActiveMQ. I want to schedule the method so that it does not start listening to the queue on application startup and runs every X minutes. </p>\n\n<p>Here is the method that I wrote to accomplish the task. I have disabled the <code>JMSListener</code> auto startup so that it does not start listening on when the application is started. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(fixedDelay = 1000, initialDelay = 1000)\n@JmsListener(destination = \"queueName\")\npublic void receiveMessage(final Message jsonMessage) throws JMSException {\n   System.out.println(\"Received message \" + jsonMessage);\n\n}\n\n@Bean\npublic DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\n   DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n   factory.setConnectionFactory(connectionFactory());\n   factory.setConcurrency(\"1-1\");\n   factory.setAutoStartup(false);\n   return factory;\n}\n</code></pre>\n\n<p>But when I run the application I get an exception which says that the scheduled method cannot have arguments:</p>\n\n<pre><code>Encountered invalid @Scheduled method 'receiveMessage': Only no-arg methods may be annotated with @Scheduled\n</code></pre>\n\n<p>Is there a way I can schedule the <code>JMSListener</code> so that it starts after a delay on the application startup and is scheduled to run every X minutes and read messages from the queue?</p>\n"},{"tags":["javascript","java","jquery","jsp","struts2"],"comments":[{"owner":{"account_id":134302,"reputation":1272,"user_id":336336,"accept_rate":86,"display_name":"NeDark"},"score":0,"creation_date":1402732965,"post_id":24217813,"comment_id":37396240,"body_markdown":"What does `expenseList` contain?","body":"What does <code>expenseList</code> contain?"},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1402733215,"post_id":24217813,"comment_id":37396300,"body_markdown":"expenseList is arrayList. That will store many instances of Expense object","body":"expenseList is arrayList. That will store many instances of Expense object"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615528272,"creation_date":1402733604,"answer_id":24217969,"question_id":24217813,"body_markdown":"You can&#39;t use Struts tags that generate HTML in the javascript variable as string, because the generated code should *escape* quotes. \r\n\r\njavascript string requires *quotes* around the content and every quote inside the content should be escaped, so it doesn&#39;t end a string content. \r\n\r\nYou can also try with single or double quotes to delimit a string value, but without properly escaping it will fail before it&#39;s rendered. \r\n\r\nInstead of generating HTML from the Struts tags in javascript variable use Ajax to load HTML returned as Ajax response.    ","title":"How to to use Struts 2 tags in jQuery as String","body":"<p>You can't use Struts tags that generate HTML in the javascript variable as string, because the generated code should <em>escape</em> quotes.</p>\n<p>javascript string requires <em>quotes</em> around the content and every quote inside the content should be escaped, so it doesn't end a string content.</p>\n<p>You can also try with single or double quotes to delimit a string value, but without properly escaping it will fail before it's rendered.</p>\n<p>Instead of generating HTML from the Struts tags in javascript variable use Ajax to load HTML returned as Ajax response.</p>\n"},{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402907719,"creation_date":1402907719,"answer_id":24239523,"question_id":24217813,"body_markdown":"Since you are using javascript only to append HTML (and not to manipulate it nor the DOM), consider returning a JSP snippet instead.\r\n\r\nYou can find the the [complete example here][1].\r\n\r\nAlso remember to map `keypress` too, or users using keyboard won&#39;t fire the event.\r\n\r\nIt would be something like:\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n        $(document).ready(function() {\r\n            $(&quot;#add&quot;).on(&#39;keypress click&#39;, function(event) {\r\n                $.ajax({\r\n                    url: &quot;&lt;s:url action=&#39;loadNewRowTemplateWithAjaxAction&#39;/&gt;&quot;,\r\n                }).done(function(result) {\r\n                    $(&quot;.row&quot;).append(result);\r\n                });\r\n            });\r\n        });\r\n    &lt;/script&gt;\r\n\r\nThis let you keep a clean JSP and perform operations server-side, like checking if it&#39;s possible to add a new row, or updating a row counter in session, and so on...\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24181930/1654265\r\n","title":"How to to use Struts 2 tags in jQuery as String","body":"<p>Since you are using javascript only to append HTML (and not to manipulate it nor the DOM), consider returning a JSP snippet instead.</p>\n\n<p>You can find the the <a href=\"https://stackoverflow.com/a/24181930/1654265\">complete example here</a>.</p>\n\n<p>Also remember to map <code>keypress</code> too, or users using keyboard won't fire the event.</p>\n\n<p>It would be something like:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function() {\n        $(\"#add\").on('keypress click', function(event) {\n            $.ajax({\n                url: \"&lt;s:url action='loadNewRowTemplateWithAjaxAction'/&gt;\",\n            }).done(function(result) {\n                $(\".row\").append(result);\n            });\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>This let you keep a clean JSP and perform operations server-side, like checking if it's possible to add a new row, or updating a row counter in session, and so on...</p>\n"}],"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696256016,"creation_date":1402732291,"question_id":24217813,"body_markdown":"I&#39;m not able to use Struts 2 tags in jQuery as `String`.\r\n\r\n**This is my `div`:**\r\n\r\n  \r\n\r\n    &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;form-group col-xs-12 col-sm-6 col-lg-3&quot;&gt;\r\n                &lt;label&gt;Expensed Type&lt;/label&gt;\r\n                &lt;s:select name=&quot;expenseList[0].param&quot; \r\n                          list=&quot;&#39;advertisement&#39;,&#39;food&#39;&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;form-group col-xs-12 col-sm-6 col-lg-3&quot;&gt;\r\n                &lt;label&gt;Amount&lt;/label&gt;\r\n                &lt;s:textfield name=&quot;expenseList[0].value&quot; value=&quot;%{expenseList[0].value}&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;form-group col-xs-12 col-sm-6 col-lg-3&quot;&gt;\r\n                &lt;label&gt;Date&lt;/label&gt;\r\n                &lt;s:textfield name=&quot;expenseList[0].dt&quot; value=&quot;%{expenseList[0].dt}&quot;/&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;div class=&quot;col-xs-4 right&quot;&gt;\r\n        &lt;span class=&quot;glyphicon-plus&quot;&gt;&lt;/span&gt;\r\n     &lt;button type=&quot;submit&quot; class=&quot;btn btn-default&quot;&gt;Save&lt;/button&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\nI would like to use above as `String` in JavaScript, so that whenever a user clicks on `add` button It must generate a new row. I am adding above to a jQuery click event\r\n\r\n**As below:**\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n            $(document).ready(function() {\r\n                $(document).on(&#39;click&#39;, &#39;#add&#39;, function(event) {\r\n                    event.preventDefault();\r\n                    $(&quot;.row&quot;).append(&quot;&lt; /div  &lt;div class=\\&quot;row\\&quot;&gt;&quot;\r\n                        + &quot;&lt;div class = \\&quot;form - group col - xs - 12 col - sm - 6 col - lg - 3\\&quot;&gt;&quot;\r\n                        + &quot;&lt;label&gt; Expensed Type &lt;/label&gt;&quot;\r\n                        + &quot;&lt;s:select name=\\&quot;expenseList[1].param\\&quot; list=\\&quot;&#39;advertisement&#39;,&#39;food&#39;\\&quot;/&gt;&quot;\r\n                        + &quot;&lt;/div&gt;&quot;\r\n                        + &quot;&lt;div class = \\&quot;form - group col - xs - 12 col - sm - 6 col - lg - 3\\&quot;&gt;&quot;\r\n                        + &quot;&lt;label&gt; Amount &lt;/label&gt;&quot;\r\n                        + &quot;&lt;s:textfield name=\\&quot;expenseList[1].value\\&quot; value=\\&quot;%{expenseList[1].value}\\&quot;/&gt;&quot;\r\n                        + &quot;&lt;/div&gt;&quot;\r\n                        + &quot;  &lt;div class = \\&quot;form - group col - xs - 12 col - sm - 6 col - lg - 3\\&quot;&gt;&quot;\r\n                        + &quot;&lt;label&gt; Date &lt;/label&gt;&quot;\r\n                        + &quot;&lt;s:textfield name=\\&quot;expenseList[1].dt\\&quot; value=\\&quot;%{expenseList[1].dt}\\&quot;/&gt;\\&quot;/&gt; &quot;\r\n                        + &quot;&lt;/div&gt;&quot;\r\n                        + &quot;&lt;/div&gt;&quot;\r\n                        );\r\n            });\r\n        });\r\n        &lt;/script&gt;\r\n\r\n**It is showing following exception:**\r\n\r\n    org.apache.jasper.JasperException: /pages/expense/AddExpense.jsp (line: 88, column: 43) quote symbol expected\r\n    \torg.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:42)\r\n    \torg.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:443)\r\n    \torg.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:89)\r\n    \torg.apache.jasper.compiler.Parser.parseAttribute(Parser.java:222)\r\n    \torg.apache.jasper.compiler.Parser.parseAttributes(Parser.java:162)\r\n    \torg.apache.jasper.compiler.Parser.parseAttributes(Parser.java:153)\r\n    \torg.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1236)\r\n    \torg.apache.jasper.compiler.Parser.parseElements(Parser.java:1452)\r\n    \torg.apache.jasper.compiler.Parser.parse(Parser.java:138)\r\n    \torg.apache.jasper.compiler.ParserController.doParse(ParserController.java:242)\r\n    \torg.apache.jasper.compiler.ParserController.parse(ParserController.java:102)\r\n    \torg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:198)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:373)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:353)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:340)\r\n\r\n\r\n\r\n    Line 88 is `+ &quot;&lt;s:select name=\\&quot;expenseList[1].param\\&quot; list=\\&quot;&#39;advertisement&#39;,&#39;food&#39;\\&quot;/&gt;&quot;`","title":"How to to use Struts 2 tags in jQuery as String","body":"<p>I'm not able to use Struts 2 tags in jQuery as <code>String</code>.</p>\n<p><strong>This is my <code>div</code>:</strong></p>\n<pre><code>&lt;div class=&quot;row&quot;&gt;\n        &lt;div class=&quot;form-group col-xs-12 col-sm-6 col-lg-3&quot;&gt;\n            &lt;label&gt;Expensed Type&lt;/label&gt;\n            &lt;s:select name=&quot;expenseList[0].param&quot; \n                      list=&quot;'advertisement','food'&quot;/&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;form-group col-xs-12 col-sm-6 col-lg-3&quot;&gt;\n            &lt;label&gt;Amount&lt;/label&gt;\n            &lt;s:textfield name=&quot;expenseList[0].value&quot; value=&quot;%{expenseList[0].value}&quot;/&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;form-group col-xs-12 col-sm-6 col-lg-3&quot;&gt;\n            &lt;label&gt;Date&lt;/label&gt;\n            &lt;s:textfield name=&quot;expenseList[0].dt&quot; value=&quot;%{expenseList[0].dt}&quot;/&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;div class=&quot;col-xs-4 right&quot;&gt;\n    &lt;span class=&quot;glyphicon-plus&quot;&gt;&lt;/span&gt;\n &lt;button type=&quot;submit&quot; class=&quot;btn btn-default&quot;&gt;Save&lt;/button&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>I would like to use above as <code>String</code> in JavaScript, so that whenever a user clicks on <code>add</code> button It must generate a new row. I am adding above to a jQuery click event</p>\n<p><strong>As below:</strong></p>\n<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;\n        $(document).ready(function() {\n            $(document).on('click', '#add', function(event) {\n                event.preventDefault();\n                $(&quot;.row&quot;).append(&quot;&lt; /div  &lt;div class=\\&quot;row\\&quot;&gt;&quot;\n                    + &quot;&lt;div class = \\&quot;form - group col - xs - 12 col - sm - 6 col - lg - 3\\&quot;&gt;&quot;\n                    + &quot;&lt;label&gt; Expensed Type &lt;/label&gt;&quot;\n                    + &quot;&lt;s:select name=\\&quot;expenseList[1].param\\&quot; list=\\&quot;'advertisement','food'\\&quot;/&gt;&quot;\n                    + &quot;&lt;/div&gt;&quot;\n                    + &quot;&lt;div class = \\&quot;form - group col - xs - 12 col - sm - 6 col - lg - 3\\&quot;&gt;&quot;\n                    + &quot;&lt;label&gt; Amount &lt;/label&gt;&quot;\n                    + &quot;&lt;s:textfield name=\\&quot;expenseList[1].value\\&quot; value=\\&quot;%{expenseList[1].value}\\&quot;/&gt;&quot;\n                    + &quot;&lt;/div&gt;&quot;\n                    + &quot;  &lt;div class = \\&quot;form - group col - xs - 12 col - sm - 6 col - lg - 3\\&quot;&gt;&quot;\n                    + &quot;&lt;label&gt; Date &lt;/label&gt;&quot;\n                    + &quot;&lt;s:textfield name=\\&quot;expenseList[1].dt\\&quot; value=\\&quot;%{expenseList[1].dt}\\&quot;/&gt;\\&quot;/&gt; &quot;\n                    + &quot;&lt;/div&gt;&quot;\n                    + &quot;&lt;/div&gt;&quot;\n                    );\n        });\n    });\n    &lt;/script&gt;\n</code></pre>\n<p><strong>It is showing following exception:</strong></p>\n<pre><code>org.apache.jasper.JasperException: /pages/expense/AddExpense.jsp (line: 88, column: 43) quote symbol expected\n    org.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:42)\n    org.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:443)\n    org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:89)\n    org.apache.jasper.compiler.Parser.parseAttribute(Parser.java:222)\n    org.apache.jasper.compiler.Parser.parseAttributes(Parser.java:162)\n    org.apache.jasper.compiler.Parser.parseAttributes(Parser.java:153)\n    org.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1236)\n    org.apache.jasper.compiler.Parser.parseElements(Parser.java:1452)\n    org.apache.jasper.compiler.Parser.parse(Parser.java:138)\n    org.apache.jasper.compiler.ParserController.doParse(ParserController.java:242)\n    org.apache.jasper.compiler.ParserController.parse(ParserController.java:102)\n    org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:198)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:373)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:353)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:340)\n\n\n\nLine 88 is `+ &quot;&lt;s:select name=\\&quot;expenseList[1].param\\&quot; list=\\&quot;'advertisement','food'\\&quot;/&gt;&quot;`\n</code></pre>\n"},{"tags":["java","maven","github","jenkins","build"],"answers":[{"comments":[{"owner":{"account_id":12521411,"reputation":27,"user_id":9112645,"display_name":"woodson"},"score":0,"creation_date":1695978837,"post_id":77200461,"comment_id":136098092,"body_markdown":"Could you please help me? What are the different steps to publish it to my own artifactory and configure Maven to use that?","body":"Could you please help me? What are the different steps to publish it to my own artifactory and configure Maven to use that?"}],"tags":[],"owner":{"account_id":3755777,"reputation":499,"user_id":3122175,"accept_rate":92,"display_name":"D.T"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695976139,"creation_date":1695976139,"answer_id":77200461,"question_id":77200114,"body_markdown":"This error means that maven could not find any artefacts for `fr.dawan:calculatrice:0.0.1-SNAPSHOT`.\r\n\r\nThis seems to be your own library so it could run fine in your local machine. If you are fetching project from other environments, it would fail because that lib is only available in your machine.\r\n\r\nYou could try to publish it to your own artifactory and config maven to use that.","title":"The POM for fr.dawan:calculatrice:jar:0.0.1-SNAPSHOT is missing, no dependency information available","body":"<p>This error means that maven could not find any artefacts for <code>fr.dawan:calculatrice:0.0.1-SNAPSHOT</code>.</p>\n<p>This seems to be your own library so it could run fine in your local machine. If you are fetching project from other environments, it would fail because that lib is only available in your machine.</p>\n<p>You could try to publish it to your own artifactory and config maven to use that.</p>\n"}],"owner":{"account_id":12521411,"reputation":27,"user_id":9112645,"display_name":"woodson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696255854,"creation_date":1695972017,"question_id":77200114,"body_markdown":"I am using Jenkins, Maven, and GitHub. In Jenkins, I fetch the project from the remote repository (GitHub) and execute it (trigger Maven builds).\r\n\r\nWhen I do this, it displays the following error: : [ERROR] Failed to execute goal on project calculatrice-web: \r\n\r\n**Could not resolve dependencies for project fr.dawan:calculatrice-web:war:0.0.1-SNAPSHOT: The following artifacts could not be resolved: fr.dawan:calculatrice:jar:0.0.1-SNAPSHOT (absent): Could not find artifact fr.dawan:calculatrice:jar:0.0.1-SNAPSHOT -&gt; [Help 1]**\r\n\r\nIn my &quot;calculatrice-web&quot; project, I am using the dependency from &quot;calculatrice&quot; Here is my pom.xml file:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;fr.dawan&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;calculatrice-web&lt;/artifactId&gt;\r\n\t\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;calculatrice-web&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t\r\n\t\t &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;fr.dawan&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;calculatrice&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t&lt;finalName&gt;calculator-app&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t    &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t    &lt;configuration&gt;\r\n\t\t\t        &lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;\r\n\t\t\t        &lt;username&gt;admin&lt;/username&gt;\r\n\t\t\t\t\t&lt;password&gt;admin&lt;/password&gt;\r\n\t\t\t        &lt;path&gt;/calculator-app&lt;/path&gt;\r\n\t\t\t    &lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nCould you help me solve the problem? Thank you.\r\n","title":"The POM for fr.dawan:calculatrice:jar:0.0.1-SNAPSHOT is missing, no dependency information available","body":"<p>I am using Jenkins, Maven, and GitHub. In Jenkins, I fetch the project from the remote repository (GitHub) and execute it (trigger Maven builds).</p>\n<p>When I do this, it displays the following error: : [ERROR] Failed to execute goal on project calculatrice-web:</p>\n<p><strong>Could not resolve dependencies for project fr.dawan:calculatrice-web:war:0.0.1-SNAPSHOT: The following artifacts could not be resolved: fr.dawan:calculatrice:jar:0.0.1-SNAPSHOT (absent): Could not find artifact fr.dawan:calculatrice:jar:0.0.1-SNAPSHOT -&gt; [Help 1]</strong></p>\n<p>In my &quot;calculatrice-web&quot; project, I am using the dependency from &quot;calculatrice&quot; Here is my pom.xml file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;fr.dawan&lt;/groupId&gt;\n    &lt;artifactId&gt;calculatrice-web&lt;/artifactId&gt;\n    \n    &lt;packaging&gt;war&lt;/packaging&gt;\n    \n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;calculatrice-web&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        \n         &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;fr.dawan&lt;/groupId&gt;\n            &lt;artifactId&gt;calculatrice&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n    &lt;finalName&gt;calculator-app&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;\n                    &lt;username&gt;admin&lt;/username&gt;\n                    &lt;password&gt;admin&lt;/password&gt;\n                    &lt;path&gt;/calculator-app&lt;/path&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Could you help me solve the problem? Thank you.</p>\n"},{"tags":["java","mockito","junit5","spring-test"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696357327,"post_id":77215735,"comment_id":136141605,"body_markdown":"`mockThread.getName()` returns `null`, not &quot;org.slf4j.Logger&quot;. You call two methods on your mock: `start()` and `getName()`, but you only verify one. I&#39;d expect the code as shown to fail. (But what is this test really testing? Nothing much, it only uses mocks and doesn&#39;t test any real behavior)","body":"<code>mockThread.getName()</code> returns <code>null</code>, not &quot;org.slf4j.Logger&quot;. You call two methods on your mock: <code>start()</code> and <code>getName()</code>, but you only verify one. I&#39;d expect the code as shown to fail. (But what is this test really testing? Nothing much, it only uses mocks and doesn&#39;t test any real behavior)"},{"owner":{"account_id":1038483,"reputation":3505,"user_id":1045050,"accept_rate":30,"display_name":"Manu"},"score":0,"creation_date":1696420625,"post_id":77215735,"comment_id":136150094,"body_markdown":"I just showed an example.   But there are similar cases where old mockito was rot recording the interactions.","body":"I just showed an example.   But there are similar cases where old mockito was rot recording the interactions."}],"answers":[{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696422080,"post_id":77216060,"comment_id":136150363,"body_markdown":"Yeah, probably a bug with Mockito.","body":"Yeah, probably a bug with Mockito."}],"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696255764,"creation_date":1696254718,"answer_id":77216060,"question_id":77215735,"body_markdown":"Firstly, the reason for Mockito 4 skipping the mock interactions has nothing to do with logging. In fact, when you run this line:\r\n\r\n    logger.info(&quot;name ={}&quot;, mockThread.getName() );   //org.slf4j.Logger\r\n\r\nyou are not calling `mockThread.getName()` from your log method. You are in fact calling it directly from your test method, getting the resulting string and passing it to the log method.\r\n\r\nA test using Mockito 4 passes even the following:\r\n\r\n    @Test\r\n    void name() {\r\n        Thread mockThread = Mockito.mock(Thread.class);\r\n        String x = mockThread.getName();\r\n        mockThread.start();\r\n\r\n        Mockito.verify(mockThread).start();\r\n        Mockito.verifyNoMoreInteractions(mockThread);\r\n    }\r\n\r\nThe reason seems to be that Mockito 4, for some strange reason, doesn&#39;t register `Thread.getName()` as an invocation. This seems like a bug or unintuitive behaviour, and I would recommend upgrading to Mockito 5 and adding \r\n\r\n    Mockito.verify(mockThread).getName();\r\n\r\nbefore `verifyNoMoreInteractions` to make your test pass.","title":"Mockito 5.x.x fails Junit tests due to mock interaction inside log method","body":"<p>Firstly, the reason for Mockito 4 skipping the mock interactions has nothing to do with logging. In fact, when you run this line:</p>\n<pre><code>logger.info(&quot;name ={}&quot;, mockThread.getName() );   //org.slf4j.Logger\n</code></pre>\n<p>you are not calling <code>mockThread.getName()</code> from your log method. You are in fact calling it directly from your test method, getting the resulting string and passing it to the log method.</p>\n<p>A test using Mockito 4 passes even the following:</p>\n<pre><code>@Test\nvoid name() {\n    Thread mockThread = Mockito.mock(Thread.class);\n    String x = mockThread.getName();\n    mockThread.start();\n\n    Mockito.verify(mockThread).start();\n    Mockito.verifyNoMoreInteractions(mockThread);\n}\n</code></pre>\n<p>The reason seems to be that Mockito 4, for some strange reason, doesn't register <code>Thread.getName()</code> as an invocation. This seems like a bug or unintuitive behaviour, and I would recommend upgrading to Mockito 5 and adding</p>\n<pre><code>Mockito.verify(mockThread).getName();\n</code></pre>\n<p>before <code>verifyNoMoreInteractions</code> to make your test pass.</p>\n"}],"owner":{"account_id":1038483,"reputation":3505,"user_id":1045050,"accept_rate":30,"display_name":"Manu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696255764,"creation_date":1696251438,"question_id":77215735,"body_markdown":"After upgrading to Mockito 5.x.x, test cases started failing showing interactions on mocks, mentioned inside log message.\r\n\r\nPrior to Mockito 5.x.x, the below code was working fine.  \r\n\r\n```java\r\n  @Test\r\n  void name() {\r\n    Thread mockThread = Mockito.mock(Thread.class);\r\n    logger.info(&quot;name ={}&quot;, mockThread.getName() );   //org.slf4j.Logger\r\n\r\n    mockThread.start();\r\n\r\n    Mockito.verify(mockThread).start();\r\n    Mockito.verifyNoMoreInteractions(mockThread);\r\n  }\r\n```\r\n\r\nIs it possible to skip the mock interactions uncounted within log message, as it was in Mockito 4.x.x ?","title":"Mockito 5.x.x fails Junit tests due to mock interaction inside log method","body":"<p>After upgrading to Mockito 5.x.x, test cases started failing showing interactions on mocks, mentioned inside log message.</p>\n<p>Prior to Mockito 5.x.x, the below code was working fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n  void name() {\n    Thread mockThread = Mockito.mock(Thread.class);\n    logger.info(&quot;name ={}&quot;, mockThread.getName() );   //org.slf4j.Logger\n\n    mockThread.start();\n\n    Mockito.verify(mockThread).start();\n    Mockito.verifyNoMoreInteractions(mockThread);\n  }\n</code></pre>\n<p>Is it possible to skip the mock interactions uncounted within log message, as it was in Mockito 4.x.x ?</p>\n"},{"tags":["java","google-cloud-platform","google-bigquery"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1616575250,"post_id":66767800,"comment_id":118042321,"body_markdown":"You should not view the data when you click on the preview button of your table. But if you perform a query, without any partition value, you should vue your data.","body":"You should not view the data when you click on the preview button of your table. But if you perform a query, without any partition value, you should vue your data."}],"answers":[{"tags":[],"owner":{"account_id":21423470,"reputation":142,"user_id":15781201,"display_name":"Sunandini Ravada"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1620636406,"creation_date":1620636406,"answer_id":67467418,"question_id":66767800,"body_markdown":"As per documentation on data availability,looks like when streaming to a partitioned table, data in the streaming buffer has a NULL value for the _PARTITIONTIME pseudo column. Also i could see we have some fields through which we can check the streamingBuffer.oldestEntryTime etc., \r\n\r\nFor a table where we are doing streaming insert its also mentioned that Data can take up to 90 minutes to become available for copy operations.\r\n\r\nhttps://cloud.google.com/bigquery/streaming-data-into-bigquery#dataavailability\r\n","title":"Google BigQuery - Streaming Data Into BigQuery","body":"<p>As per documentation on data availability,looks like when streaming to a partitioned table, data in the streaming buffer has a NULL value for the _PARTITIONTIME pseudo column. Also i could see we have some fields through which we can check the streamingBuffer.oldestEntryTime etc.,</p>\n<p>For a table where we are doing streaming insert its also mentioned that Data can take up to 90 minutes to become available for copy operations.</p>\n<p><a href=\"https://cloud.google.com/bigquery/streaming-data-into-bigquery#dataavailability\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/streaming-data-into-bigquery#dataavailability</a></p>\n"},{"tags":[],"owner":{"account_id":5976980,"reputation":122,"user_id":4697471,"display_name":"Tomasz Kubat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696255626,"creation_date":1696255626,"answer_id":77216174,"question_id":66767800,"body_markdown":"As @Sunandini Ravanda mentioned, the data loading via STREAMING INSERT goes to the buffer first, and than after a couple of minutes the data is being redistributed to proper partition.\r\n\r\nTo get the data from the buffer try:\r\n\r\n    select *\r\n    from `myprojectname.mydatasetname.mytablename`\r\n    where _PARTITIONTIME is null\r\n\r\n\r\n\r\n","title":"Google BigQuery - Streaming Data Into BigQuery","body":"<p>As @Sunandini Ravanda mentioned, the data loading via STREAMING INSERT goes to the buffer first, and than after a couple of minutes the data is being redistributed to proper partition.</p>\n<p>To get the data from the buffer try:</p>\n<pre><code>select *\nfrom `myprojectname.mydatasetname.mytablename`\nwhere _PARTITIONTIME is null\n</code></pre>\n"}],"owner":{"account_id":10055124,"reputation":609,"user_id":7433571,"accept_rate":45,"display_name":"Alexander Chandra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67467418,"answer_count":2,"score":1,"last_activity_date":1696255626,"creation_date":1616518901,"question_id":66767800,"body_markdown":"I&#39;am using Google BigQuery for my project\r\nRight now i&#39;am trying to insert a new row to BQ based on this https://cloud.google.com/bigquery/streaming-data-into-bigquery#bigquery-stream-data-java\r\n\r\n    private void insertRowsToBQ(MyCustomObject data) {\r\n\t\tString datasetName = &quot;mydatasetname&quot;;\r\n\t\tString tableName = &quot;mytablename&quot;;\r\n\t\tMap&lt;String, Object&gt; rowContent = new HashMap&lt;&gt;();\r\n\t\trowContent.put(&quot;field_1&quot;, data.getdata1());\r\n\t\trowContent.put(&quot;field_2&quot;, data.getdata2());\r\n\t\trowContent.put(&quot;field_3&quot;, data.getdata3());\r\n\t\trowContent.put(&quot;field_4&quot;, data.getdata4());\r\n\r\n\t\ttry {\r\n\t\t\tBigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\r\n\t\t\tTableId tableId = TableId.of(datasetName, tableName);\r\n\t\t\tInsertAllResponse response =\r\n\t\t\t\t\tbigquery.insertAll(\r\n\t\t\t\t\t\t\tInsertAllRequest.newBuilder(tableId)\r\n\t\t\t\t\t\t\t\t\t.addRow(rowContent)\r\n\t\t\t\t\t\t\t\t\t.build());\r\n\r\n\t\t\tif (response.hasErrors()) {\r\n\t\t\t\tfor (Map.Entry&lt;Long, List&lt;BigQueryError&gt;&gt; entry : response.getInsertErrors().entrySet()) {\r\n\t\t\t\t\tLogger.error(&quot;Response error: \\n&quot; + entry.getValue());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tLogger.info(&quot;Rows successfully inserted into table&quot;);\r\n\t\t} catch (BigQueryException e) {\r\n\t\t\tLogger.error(&quot;Insert operation not performed \\n&quot; + e.toString());\r\n\t\t}\r\n\t}\r\n\r\nthe code is working fine, got no error log \r\nBUT when i&#39;am trying to view it on google console\r\nhttps://console.cloud.google.com/bigquery?project=myprojectname\r\n\r\n    select * from `myprojectname.mydatasetname.mytablename` where DATE(_PARTITIONTIME) = &quot;2021-03-24&quot;\r\n\r\nthe data on google BQ console, the data is not displayed.\r\nIt&#39;s turn out that the data is delayed more than 1 hour, until it can be view on the BQ\r\n\r\nis this expected? or there are some issue?\r\n\r\ni&#39;ve been trying recreate the dataset and table, but still no luck\r\n","title":"Google BigQuery - Streaming Data Into BigQuery","body":"<p>I'am using Google BigQuery for my project\nRight now i'am trying to insert a new row to BQ based on this <a href=\"https://cloud.google.com/bigquery/streaming-data-into-bigquery#bigquery-stream-data-java\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/streaming-data-into-bigquery#bigquery-stream-data-java</a></p>\n<pre><code>private void insertRowsToBQ(MyCustomObject data) {\n    String datasetName = &quot;mydatasetname&quot;;\n    String tableName = &quot;mytablename&quot;;\n    Map&lt;String, Object&gt; rowContent = new HashMap&lt;&gt;();\n    rowContent.put(&quot;field_1&quot;, data.getdata1());\n    rowContent.put(&quot;field_2&quot;, data.getdata2());\n    rowContent.put(&quot;field_3&quot;, data.getdata3());\n    rowContent.put(&quot;field_4&quot;, data.getdata4());\n\n    try {\n        BigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\n        TableId tableId = TableId.of(datasetName, tableName);\n        InsertAllResponse response =\n                bigquery.insertAll(\n                        InsertAllRequest.newBuilder(tableId)\n                                .addRow(rowContent)\n                                .build());\n\n        if (response.hasErrors()) {\n            for (Map.Entry&lt;Long, List&lt;BigQueryError&gt;&gt; entry : response.getInsertErrors().entrySet()) {\n                Logger.error(&quot;Response error: \\n&quot; + entry.getValue());\n            }\n        }\n        Logger.info(&quot;Rows successfully inserted into table&quot;);\n    } catch (BigQueryException e) {\n        Logger.error(&quot;Insert operation not performed \\n&quot; + e.toString());\n    }\n}\n</code></pre>\n<p>the code is working fine, got no error log\nBUT when i'am trying to view it on google console\n<a href=\"https://console.cloud.google.com/bigquery?project=myprojectname\" rel=\"nofollow noreferrer\">https://console.cloud.google.com/bigquery?project=myprojectname</a></p>\n<pre><code>select * from `myprojectname.mydatasetname.mytablename` where DATE(_PARTITIONTIME) = &quot;2021-03-24&quot;\n</code></pre>\n<p>the data on google BQ console, the data is not displayed.\nIt's turn out that the data is delayed more than 1 hour, until it can be view on the BQ</p>\n<p>is this expected? or there are some issue?</p>\n<p>i've been trying recreate the dataset and table, but still no luck</p>\n"},{"tags":["java","jquery","jsp","struts2","double-submit-problem"],"comments":[{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":1,"creation_date":1364601531,"post_id":15711443,"comment_id":22317626,"body_markdown":"You can&#39;t double submit","body":"You can&#39;t double submit"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1364643752,"post_id":15711443,"comment_id":22325941,"body_markdown":"WTQ? Why do you need to submit two forms?","body":"WTQ? Why do you need to submit two forms?"},{"owner":{"account_id":1909064,"reputation":99,"user_id":1723358,"accept_rate":78,"display_name":"anshulankush"},"score":0,"creation_date":1364845046,"post_id":15711443,"comment_id":22382642,"body_markdown":"@RomanC: Since I have display pattern where I have to use some details on top of page and other that are inside jquery tab. Also there are various tabs and each selection will result in a different combination. its like selection from top+ selection from one of the tabs will give me a special database entry. Hope it s clear now.","body":"@RomanC: Since I have display pattern where I have to use some details on top of page and other that are inside jquery tab. Also there are various tabs and each selection will result in a different combination. its like selection from top+ selection from one of the tabs will give me a special database entry. Hope it s clear now."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1364847223,"post_id":15711443,"comment_id":22383715,"body_markdown":"I don&#39;t understand what is not working the form submission or action?","body":"I don&#39;t understand what is not working the form submission or action?"},{"owner":{"account_id":1909064,"reputation":99,"user_id":1723358,"accept_rate":78,"display_name":"anshulankush"},"score":0,"creation_date":1364847818,"post_id":15711443,"comment_id":22383994,"body_markdown":"both forms are not getting submitted only the one inside jquery tab is getting submitted. the one on top is not.","body":"both forms are not getting submitted only the one inside jquery tab is getting submitted. the one on top is not."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1364851584,"post_id":15711443,"comment_id":22385704,"body_markdown":"@anshulankush: Why are you not using `.serialize`?","body":"@anshulankush: Why are you not using <code>.serialize</code>?"},{"owner":{"account_id":1909064,"reputation":99,"user_id":1723358,"accept_rate":78,"display_name":"anshulankush"},"score":0,"creation_date":1364851939,"post_id":15711443,"comment_id":22385865,"body_markdown":"@AleksandrM: I have no idea about `.serialize`, i dont know where to start with.","body":"@AleksandrM: I have no idea about <code>.serialize</code>, i dont know where to start with."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1364851983,"post_id":15711443,"comment_id":22385893,"body_markdown":"@anshulankush: How about starting with my answer and link in it.","body":"@anshulankush: How about starting with my answer and link in it."}],"answers":[{"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1399968818,"post_id":15719179,"comment_id":36275321,"body_markdown":"@user3629339: Why it shouldn&#39;t? Go ahead and try.","body":"@user3629339: Why it shouldn&#39;t? Go ahead and try."}],"tags":[],"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457804419,"creation_date":1364650864,"answer_id":15719179,"question_id":15711443,"body_markdown":"You can use jQuery [`.serialize`][1] to do what you want. Give some class to your forms then use it to select your forms and call serialize to get a string in the standard URL-encoded notation. After that you can use some AJAX method to post it to your action.\r\n\r\n\r\n    $(function() {\r\n      $(&quot;#saveNoteButton&quot;).click(function() {\r\n        alert($(&quot;.forms&quot;).serialize());\r\n      });\r\n    });\r\n\r\n\r\n  [1]: http://api.jquery.com/serialize/","title":"Submit two HTML forms in JSP using single submit button with Ajax","body":"<p>You can use jQuery <a href=\"http://api.jquery.com/serialize/\" rel=\"nofollow\"><code>.serialize</code></a> to do what you want. Give some class to your forms then use it to select your forms and call serialize to get a string in the standard URL-encoded notation. After that you can use some AJAX method to post it to your action.</p>\n\n<pre><code>$(function() {\n  $(\"#saveNoteButton\").click(function() {\n    alert($(\".forms\").serialize());\n  });\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1364850068,"post_id":15751755,"comment_id":22385097,"body_markdown":"No, it&#39;s [Struts2 jQuery plugin](http://code.google.com/p/struts2-jquery/), this is official ajax supported plugin for struts2.","body":"No, it&#39;s <a href=\"http://code.google.com/p/struts2-jquery/\" rel=\"nofollow noreferrer\">Struts2 jQuery plugin</a>, this is official ajax supported plugin for struts2."},{"owner":{"account_id":1909064,"reputation":99,"user_id":1723358,"accept_rate":78,"display_name":"anshulankush"},"score":0,"creation_date":1364851300,"post_id":15751755,"comment_id":22385587,"body_markdown":"I tried this but nothing is happening after clicking this submit button(no action is being called) button is acting dead.","body":"I tried this but nothing is happening after clicking this submit button(no action is being called) button is acting dead."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696255473,"creation_date":1364849808,"answer_id":15751755,"question_id":15711443,"body_markdown":"You can use Struts2 jQuery to submit multiple forms\r\n\r\n    &lt;sj:submit formIds=&quot;visitType,patientCondition&quot; targets=&quot;result&quot; value=&quot;Submit&quot; /&gt;  \r\n\r\n**`formIds`:**\r\n\r\n&gt; Comma delimited list of form ids for which to serialize all fields during submission when this element is clicked (if multiple forms have overlapping element names, it is indeterminate which will be used)","title":"Submit two HTML forms in JSP using single submit button with Ajax","body":"<p>You can use Struts2 jQuery to submit multiple forms</p>\n<pre><code>&lt;sj:submit formIds=&quot;visitType,patientCondition&quot; targets=&quot;result&quot; value=&quot;Submit&quot; /&gt;  \n</code></pre>\n<p><strong><code>formIds</code>:</strong></p>\n<blockquote>\n<p>Comma delimited list of form ids for which to serialize all fields during submission when this element is clicked (if multiple forms have overlapping element names, it is indeterminate which will be used)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1909064,"reputation":99,"user_id":1723358,"accept_rate":78,"display_name":"anshulankush"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1364859642,"creation_date":1364859642,"answer_id":15753747,"question_id":15711443,"body_markdown":"Found an easy solution to it.\r\n\r\njavascript:\r\n\r\n\r\n    submitForms = function() {\r\n      $(&#39;#form2 :input&#39;).not(&#39;:submit&#39;).clone().hide().appendTo(&#39;#form1&#39;);\r\n        document.getElementById(&quot;form1&quot;).submit();\r\n    };\r\n\r\nSubmit button :\r\n\r\n    &lt;input type=&quot;button&quot; value=&quot;Save Note&quot; onclick=&quot;submitForms()&quot; /&gt;","title":"Submit two HTML forms in JSP using single submit button with Ajax","body":"<p>Found an easy solution to it.</p>\n\n<p>javascript:</p>\n\n<pre><code>submitForms = function() {\n  $('#form2 :input').not(':submit').clone().hide().appendTo('#form1');\n    document.getElementById(\"form1\").submit();\n};\n</code></pre>\n\n<p>Submit button :</p>\n\n<pre><code>&lt;input type=\"button\" value=\"Save Note\" onclick=\"submitForms()\" /&gt;\n</code></pre>\n"}],"owner":{"account_id":1909064,"reputation":99,"user_id":1723358,"accept_rate":78,"display_name":"anshulankush"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4185,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15753747,"answer_count":3,"score":2,"last_activity_date":1696255473,"creation_date":1364591348,"question_id":15711443,"body_markdown":"My page design is such that I have to use two forms that submit on single click and then saved to database and vice verse.\r\n\r\nI am using this on a JSP page with Struts 2 Framework.\r\nI have tried the Ajax solutions but they are not working for me.\r\n\r\n**Here is my script(UPDATED):**\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    $(&quot;#visitType&quot;).buttonset();\r\n    $(&quot;#patientCondition&quot;).buttonset();\r\n    $(&quot;input[type=submit], a, button&quot;).button().click(function(event) {\r\n      event.preventDefault();\r\n      var inputs=$(&#39;#visitType,#patientCondition &#39;).find(&#39;:input&#39;).not(this);\r\n      var form_data={};\r\n      inputs.each(function(){\r\n        form_data[this.name]=$(this).val();\r\n      });\r\n      $.post(&#39;patientSoapAll&#39;,  form_data, function(response){  \r\n      });\r\n    });\r\n\r\n**My form1:**\r\n&lt;!-- language: lang-jsp --&gt;\r\n\r\n    &lt;s:form action=&quot;PatientSoapAll&quot; method=&quot;post&quot;&gt;\r\n    \r\n            &lt;div id=&quot;visitType&quot;&gt;\r\n            \t&lt;input type=&quot;radio&quot; id=&quot;I&quot; value=&quot;I&quot; &lt;s:if test=&#39;pSB.rOS == &quot;I&quot;&#39;&gt;checked&lt;/s:if&gt; name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;I&quot;&gt;I V&lt;/label&gt; \r\n            \t&lt;input type=&quot;radio&quot; id=&quot;R&quot; value=&quot;R&quot;&lt;s:if test=&#39;pSB.rOS == &quot;R&quot;&#39;&gt;checked&lt;/s:if&gt;name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;R&quot;&gt;Regular\tVisit&lt;/label&gt; \r\n            \t&lt;input type=&quot;radio&quot; id=&quot;P/N&quot; &lt;s:if test=&#39;pSB.rOS == &quot;P/N&quot;&#39;&gt;checked&lt;/s:if&gt;name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;D/N&quot;&gt;Re- Evaluation&lt;/label&gt; \r\n            \t&lt;input type=&quot;radio&quot; id=&quot;D/N&quot;&lt;s:if test=&#39;pSB.rOS == &quot;D/N&quot;&#39;&gt;checked&lt;/s:if&gt; name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;\r\n        \r\n        P/N&quot;&gt;Discharge&lt;/label&gt;\r\n        &lt;/div&gt;\r\n    &lt;/s:form&gt;\r\n\r\n\r\n**My form2:**\r\n&lt;!-- language: lang-jsp --&gt;\r\n\r\n    &lt;s:form action=&quot;PatientSoapAll&quot; method=&quot;post&quot;&gt;\r\n    \r\n        &lt;div id=&quot;patientCondition&quot;&gt;\r\n        \t&lt;input type=&quot;radio&quot; id=&quot;new&quot; value=&quot;n&quot;&lt;s:if test=&#39;pSB.r2 == &quot;n&quot;&#39;&gt;checked&lt;/s:if&gt; name=&quot;pSB.r2&quot; /&gt; &lt;label for=&quot;new&quot;&gt;New&lt;/label&gt;\r\n        \t&lt;input type=&quot;radio&quot; id=&quot;noChange&quot; value=&quot;nC&quot; &lt;s:if test=&#39;pSB.r2 == &quot;nC&quot;&#39;&gt;checked&lt;/s:if&gt; name=&quot;pSB.r2&quot; /&gt;&lt;label for=&quot;noChange&quot;&gt;No Change&lt;/label&gt; \r\n        \t&lt;input type=&quot;radio&quot; id=&quot;progressing&quot; value=&quot;p&quot;&lt;s:if test=&#39;pSB.r2 == &quot;p&quot;&#39;&gt;checked&lt;/s:if&gt; name=&quot;pSB.r2&quot; /&gt;&lt;label for=&quot;progressing&quot;&gt;Progressing&lt;/label&gt; \r\n        \t&lt;input type=&quot;radio&quot;\tid=&quot;notProgressing&quot; value=&quot;nP&quot; &lt;s:if test=&#39;pSB.r2 == &quot;nP&quot;&#39;&gt;checked&lt;/s:if&gt;\tname=&quot;pSB.r2&quot; /&gt;&lt;label for=&quot;notProgressing&quot;&gt;Not Progressing&lt;/label&gt;\r\n        &lt;/div&gt;\r\n    &lt;/s:form&gt;\r\n\r\n**This is my Updated Submitted Button. Removed from `&lt;div&gt;` and placed inside a table.**\r\n&lt;!-- language: lang-html --&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;&lt;/td&gt;\r\n      &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Save Note&quot; /&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nI am using Struts 2 and I want to redirect this submit button to an action `PatientSoapAll`. I am using custom extension of `.do` instead of `.action`(by default). Please tell me how can I redirect this submit button to respective action class in Struts 2.","title":"Submit two HTML forms in JSP using single submit button with Ajax","body":"<p>My page design is such that I have to use two forms that submit on single click and then saved to database and vice verse.</p>\n<p>I am using this on a JSP page with Struts 2 Framework.\nI have tried the Ajax solutions but they are not working for me.</p>\n<p><strong>Here is my script(UPDATED):</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>$(&quot;#visitType&quot;).buttonset();\n$(&quot;#patientCondition&quot;).buttonset();\n$(&quot;input[type=submit], a, button&quot;).button().click(function(event) {\n  event.preventDefault();\n  var inputs=$('#visitType,#patientCondition ').find(':input').not(this);\n  var form_data={};\n  inputs.each(function(){\n    form_data[this.name]=$(this).val();\n  });\n  $.post('patientSoapAll',  form_data, function(response){  \n  });\n});\n</code></pre>\n<p><strong>My form1:</strong></p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;s:form action=&quot;PatientSoapAll&quot; method=&quot;post&quot;&gt;\n\n        &lt;div id=&quot;visitType&quot;&gt;\n            &lt;input type=&quot;radio&quot; id=&quot;I&quot; value=&quot;I&quot; &lt;s:if test='pSB.rOS == &quot;I&quot;'&gt;checked&lt;/s:if&gt; name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;I&quot;&gt;I V&lt;/label&gt; \n            &lt;input type=&quot;radio&quot; id=&quot;R&quot; value=&quot;R&quot;&lt;s:if test='pSB.rOS == &quot;R&quot;'&gt;checked&lt;/s:if&gt;name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;R&quot;&gt;Regular   Visit&lt;/label&gt; \n            &lt;input type=&quot;radio&quot; id=&quot;P/N&quot; &lt;s:if test='pSB.rOS == &quot;P/N&quot;'&gt;checked&lt;/s:if&gt;name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;D/N&quot;&gt;Re- Evaluation&lt;/label&gt; \n            &lt;input type=&quot;radio&quot; id=&quot;D/N&quot;&lt;s:if test='pSB.rOS == &quot;D/N&quot;'&gt;checked&lt;/s:if&gt; name=&quot;pSB.rOS&quot; /&gt;&lt;label for=&quot;\n    \n    P/N&quot;&gt;Discharge&lt;/label&gt;\n    &lt;/div&gt;\n&lt;/s:form&gt;\n</code></pre>\n<p><strong>My form2:</strong></p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;s:form action=&quot;PatientSoapAll&quot; method=&quot;post&quot;&gt;\n\n    &lt;div id=&quot;patientCondition&quot;&gt;\n        &lt;input type=&quot;radio&quot; id=&quot;new&quot; value=&quot;n&quot;&lt;s:if test='pSB.r2 == &quot;n&quot;'&gt;checked&lt;/s:if&gt; name=&quot;pSB.r2&quot; /&gt; &lt;label for=&quot;new&quot;&gt;New&lt;/label&gt;\n        &lt;input type=&quot;radio&quot; id=&quot;noChange&quot; value=&quot;nC&quot; &lt;s:if test='pSB.r2 == &quot;nC&quot;'&gt;checked&lt;/s:if&gt; name=&quot;pSB.r2&quot; /&gt;&lt;label for=&quot;noChange&quot;&gt;No Change&lt;/label&gt; \n        &lt;input type=&quot;radio&quot; id=&quot;progressing&quot; value=&quot;p&quot;&lt;s:if test='pSB.r2 == &quot;p&quot;'&gt;checked&lt;/s:if&gt; name=&quot;pSB.r2&quot; /&gt;&lt;label for=&quot;progressing&quot;&gt;Progressing&lt;/label&gt; \n        &lt;input type=&quot;radio&quot; id=&quot;notProgressing&quot; value=&quot;nP&quot; &lt;s:if test='pSB.r2 == &quot;nP&quot;'&gt;checked&lt;/s:if&gt;   name=&quot;pSB.r2&quot; /&gt;&lt;label for=&quot;notProgressing&quot;&gt;Not Progressing&lt;/label&gt;\n    &lt;/div&gt;\n&lt;/s:form&gt;\n</code></pre>\n<p><strong>This is my Updated Submitted Button. Removed from <code>&lt;div&gt;</code> and placed inside a table.</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;tr&gt;\n  &lt;td&gt;&lt;/td&gt;\n  &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Save Note&quot; /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>I am using Struts 2 and I want to redirect this submit button to an action <code>PatientSoapAll</code>. I am using custom extension of <code>.do</code> instead of <code>.action</code>(by default). Please tell me how can I redirect this submit button to respective action class in Struts 2.</p>\n"},{"tags":["java","tomcat","deployment","web-applications","sequence"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1696253522,"post_id":77215854,"comment_id":136125628,"body_markdown":"What version of Tomcat?  And why do you think that names determine the deployment order?","body":"What version of Tomcat?  And why do you think that names determine the deployment order?"},{"owner":{"account_id":15446251,"reputation":3031,"user_id":11143113,"display_name":"Ashar"},"score":0,"creation_date":1696254575,"post_id":77215854,"comment_id":136125844,"body_markdown":"@Pino if i rename as below then  the deployment order works ---&gt; `1.war ---&gt; Phonix.war\n2.war ---&gt; usapp.war\n3.war ---&gt; VelotownAPI.war` Tomcat version is `9.0.56`","body":"@Pino if i rename as below then  the deployment order works ---&gt; <code>1.war ---&gt; Phonix.war 2.war ---&gt; usapp.war 3.war ---&gt; VelotownAPI.war</code> Tomcat version is <code>9.0.56</code>"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1696268871,"post_id":77215854,"comment_id":136128543,"body_markdown":"Works to solve...what?","body":"Works to solve...what?"}],"answers":[{"comments":[{"owner":{"account_id":15446251,"reputation":3031,"user_id":11143113,"display_name":"Ashar"},"score":0,"creation_date":1696255539,"post_id":77216130,"comment_id":136126056,"body_markdown":"i m considering that the option 1 &amp; 2 in your answers is not present (irrelevant) considering we are setting up the infra / instance on the fly. For option `3. .WAR files will be deployed` is where I m trying to play around with name preferences as considered by tomcat.","body":"i m considering that the option 1 &amp; 2 in your answers is not present (irrelevant) considering we are setting up the infra / instance on the fly. For option <code>3. .WAR files will be deployed</code> is where I m trying to play around with name preferences as considered by tomcat."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1696260186,"post_id":77216130,"comment_id":136127067,"body_markdown":"I understand. And no matter what you find out, it might break at any moment in the future. You&#39;ll have to accept that the order is unspecified apart from the list that I&#39;ve given above, and plan for it. Unless you let the WAR files appear one after the other - e.g. through a mechanism like the last paragraph, or just by filecopy.","body":"I understand. And no matter what you find out, it might break at any moment in the future. You&#39;ll have to accept that the order is unspecified apart from the list that I&#39;ve given above, and plan for it. Unless you let the WAR files appear one after the other - e.g. through a mechanism like the last paragraph, or just by filecopy."}],"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696255316,"creation_date":1696255316,"answer_id":77216130,"question_id":77215854,"body_markdown":"The [only deployment order][1] that&#39;s specified for tomcat is this:\r\n\r\n\r\n1. Any Context Descriptors will be deployed first.\r\n1. Exploded web applications not referenced by any Context Descriptor will then be deployed. If they have an associated .WAR file in the appBase and it is newer than the exploded web application, the exploded directory will be removed and the webapp will be redeployed from the .WAR\r\n1. .WAR files will be deployed\r\n\r\nRelying on anything else is relying on unspecified current behavior. You should instead equip your applications to gracefully handle if another app they depend on is not available. (You should do that anyway, and test for their behavior in that case)\r\n\r\nEven if you find the magic names, or if you assume that a context descriptor is read in a certain order: It might not be the order you expect (e.g. it *might* be by date, and sometimes it *might* correlate with the alphabetical order - until the next update)\r\n\r\nAccept that deployment order is unspecified (also by the underlying specification) and prepare for it.\r\n\r\nAlternatively (though still not recommended) you can script your deployment. E.g. start up an empty tomcat, and remote-control it through the manager-app and its API - there, of course, you can implement any order you like.\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/deployer-howto.html","title":"Need to dictate tomcat deployment order by renaming deployable war files","body":"<p>The <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/deployer-howto.html\" rel=\"nofollow noreferrer\">only deployment order</a> that's specified for tomcat is this:</p>\n<ol>\n<li>Any Context Descriptors will be deployed first.</li>\n<li>Exploded web applications not referenced by any Context Descriptor will then be deployed. If they have an associated .WAR file in the appBase and it is newer than the exploded web application, the exploded directory will be removed and the webapp will be redeployed from the .WAR</li>\n<li>.WAR files will be deployed</li>\n</ol>\n<p>Relying on anything else is relying on unspecified current behavior. You should instead equip your applications to gracefully handle if another app they depend on is not available. (You should do that anyway, and test for their behavior in that case)</p>\n<p>Even if you find the magic names, or if you assume that a context descriptor is read in a certain order: It might not be the order you expect (e.g. it <em>might</em> be by date, and sometimes it <em>might</em> correlate with the alphabetical order - until the next update)</p>\n<p>Accept that deployment order is unspecified (also by the underlying specification) and prepare for it.</p>\n<p>Alternatively (though still not recommended) you can script your deployment. E.g. start up an empty tomcat, and remote-control it through the manager-app and its API - there, of course, you can implement any order you like.</p>\n"}],"owner":{"account_id":15446251,"reputation":3031,"user_id":11143113,"display_name":"Ashar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696255316,"creation_date":1696252615,"question_id":77215854,"body_markdown":"I have the following war files for deployment\r\n\r\n    usapp.war\r\n    Phonix.war\r\n    VelotownAPI.war\r\n\r\nI wish to have the deployment-order as below:\r\n\r\n    Phonix.war -- First\r\n    usapp.war -- Second\r\n    VelotownAPI.war -- Third\r\n\r\nThere are many solutions offered for setting the deployment order. However, The only solution I m looking for is by renaming the deployment files as the filename is considered in the order of deployment. \r\n\r\nThus, I renamed the deployments as below:\r\n\r\n    a_Phonix.war\r\n    b_usapp.war\r\n    c_VelotownAPI.war\r\n\r\nHowever, once the tomcat server starts it does not explode/deploy the above renamed wars in the desired order. \r\n\r\nI also tried the below rename but it too did not help get me the desired order.\r\n\r\n    1_Phonix.war\r\n    2_usapp.war\r\n    3_VelotownAPI.war\r\n\r\n**Note:**\r\n\r\nIf I rename the wars like below then the deployment order works!\r\n\r\nI also tried the below rename but it too did not help get me the desired order.\r\n\r\n    1.war ---&gt; Phonix.war\r\n    2.war ---&gt; usapp.war\r\n    3.war ---&gt; VelotownAPI.war\r\n\r\nCan you please suggest how to rename my war files best so that Tomcat deploys them in the desired order?","title":"Need to dictate tomcat deployment order by renaming deployable war files","body":"<p>I have the following war files for deployment</p>\n<pre><code>usapp.war\nPhonix.war\nVelotownAPI.war\n</code></pre>\n<p>I wish to have the deployment-order as below:</p>\n<pre><code>Phonix.war -- First\nusapp.war -- Second\nVelotownAPI.war -- Third\n</code></pre>\n<p>There are many solutions offered for setting the deployment order. However, The only solution I m looking for is by renaming the deployment files as the filename is considered in the order of deployment.</p>\n<p>Thus, I renamed the deployments as below:</p>\n<pre><code>a_Phonix.war\nb_usapp.war\nc_VelotownAPI.war\n</code></pre>\n<p>However, once the tomcat server starts it does not explode/deploy the above renamed wars in the desired order.</p>\n<p>I also tried the below rename but it too did not help get me the desired order.</p>\n<pre><code>1_Phonix.war\n2_usapp.war\n3_VelotownAPI.war\n</code></pre>\n<p><strong>Note:</strong></p>\n<p>If I rename the wars like below then the deployment order works!</p>\n<p>I also tried the below rename but it too did not help get me the desired order.</p>\n<pre><code>1.war ---&gt; Phonix.war\n2.war ---&gt; usapp.war\n3.war ---&gt; VelotownAPI.war\n</code></pre>\n<p>Can you please suggest how to rename my war files best so that Tomcat deploys them in the desired order?</p>\n"},{"tags":["java","html","arraylist","struts2"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":1,"creation_date":1453290086,"post_id":34896246,"comment_id":57534489,"body_markdown":"Just use a plain div-s.","body":"Just use a plain div-s."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1453298553,"post_id":34896246,"comment_id":57540250,"body_markdown":"Struts div is Ajax based, and recommended to use jQuery plugin","body":"Struts div is Ajax based, and recommended to use jQuery plugin"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1453305105,"post_id":34896246,"comment_id":57545089,"body_markdown":"`&lt;s:div &quot;  id=&quot;questionNumber&lt;s:property value=&#39;sortOrder&#39;/&gt;&quot;&gt;` is non-sensical in multiple ways, the most critical being that you cannot nest JSP tags like that.","body":"<code>&lt;s:div &quot;  id=&quot;questionNumber&lt;s:property value=&#39;sortOrder&#39;&#47;&gt;&quot;&gt;</code> is non-sensical in multiple ways, the most critical being that you cannot nest JSP tags like that."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1453373368,"post_id":34896246,"comment_id":57577020,"body_markdown":"`&lt;s:div&gt;` is not ajax based.","body":"<code>&lt;s:div&gt;</code> is not ajax based."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696255306,"creation_date":1453556614,"answer_id":34964202,"question_id":34896246,"body_markdown":"You are tried to use [`&lt;s:div&gt;`][1] tag like HTML `&lt;div&gt;` but it&#39;s wrong tag usage. The `&lt;s:div&gt;` is an Ajax tag used to load HTML content via Ajax call. But you don&#39;t need it, just use HTML `&lt;div&gt;`. \r\n\r\nAlso note, if you are using Struts tags make sure you don&#39;t nest them in Struts tag&#39;s head or attributes. You can nest tags only in the body of Struts tags. \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;div id=&quot;questionNumber&lt;s:property value=&#39;sortOrder&#39;/&gt;&quot;&gt;\r\n        &lt;span class=&quot;questionCode&quot;&gt;&lt;s:property value=&quot;questioncode&quot;/&gt;. &lt;/span&gt; \r\n\r\n        &lt;span class=&quot;questionText&quot;&gt;&lt;s:property value=&quot;questionname&quot;/&gt; &lt;/span&gt;\r\n\r\n        &lt;div class=&quot;answersBlock&quot;&gt;\r\n            &lt;div&gt;&lt;label class=&quot;answerLabel&quot;&gt;Ans. &lt;s:property value=&quot;answername&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n  [1]: http://struts.apache.org/docs/dojo-div.html","title":"How to use &lt;div&gt; properly in Struts 2","body":"<p>You are tried to use <a href=\"http://struts.apache.org/docs/dojo-div.html\" rel=\"nofollow noreferrer\"><code>&lt;s:div&gt;</code></a> tag like HTML <code>&lt;div&gt;</code> but it's wrong tag usage. The <code>&lt;s:div&gt;</code> is an Ajax tag used to load HTML content via Ajax call. But you don't need it, just use HTML <code>&lt;div&gt;</code>.</p>\n<p>Also note, if you are using Struts tags make sure you don't nest them in Struts tag's head or attributes. You can nest tags only in the body of Struts tags.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;div id=&quot;questionNumber&lt;s:property value='sortOrder'/&gt;&quot;&gt;\n    &lt;span class=&quot;questionCode&quot;&gt;&lt;s:property value=&quot;questioncode&quot;/&gt;. &lt;/span&gt; \n\n    &lt;span class=&quot;questionText&quot;&gt;&lt;s:property value=&quot;questionname&quot;/&gt; &lt;/span&gt;\n\n    &lt;div class=&quot;answersBlock&quot;&gt;\n        &lt;div&gt;&lt;label class=&quot;answerLabel&quot;&gt;Ans. &lt;s:property value=&quot;answername&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":7267384,"reputation":2171,"user_id":5541565,"accept_rate":67,"display_name":"Shakti Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3012,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1696255306,"creation_date":1453282343,"question_id":34896246,"body_markdown":"I have a list in JSP page which is iterated by Struts tag and when I try to create `&lt;div&gt;` for each iteration it is not working fine.\r\n\r\n**Here is my code:**\r\n\r\n    &lt;div style=&quot;height:300px;width:700px;border:solid 2px white;overflow:scroll;overflow-x:hidden;overflow-y:scroll;&quot;&gt;\r\n    \r\n    \t\t&lt;s:if test=&quot;#request.questions !=null &amp;&amp; #request.questions.size()&gt;0&quot;&gt;\r\n              &lt;s:set var=&quot;id&quot;  value=&quot;-1&quot; /&gt;\r\n                   \r\n               &lt;s:iterator value=&quot;#request.questions&quot; status=&quot;index&quot; var=&quot;ques&quot;&gt;\r\n                    \r\n    \t\t\t &lt;s:if test=&quot;%{#id != surveyId}&quot;&gt; \r\n    \t\t\t   name &lt;s:property value=&quot;surveyId&quot;/&gt;\r\n    \t\t\t    &lt;s:set var=&quot;id&quot;  value=&quot;surveyId&quot;/&gt;\r\n    \t\t\t\t&lt;/s:if&gt;\r\n    \t\t\t  \r\n    \t\t\t  &lt;s:div &quot;  id=&quot;questionNumber&lt;s:property value=&#39;sortOrder&#39;/&gt;&quot;&gt;\r\n    \t\t\t\t\t&lt;span class=&quot;questionCode&quot;&gt;&lt;s:property value=&quot;questioncode&quot;/&gt;. &lt;/span&gt; \r\n    \t\t\t\t\t \r\n    \t\t\t\t\t&lt;span class=&quot;questionText&quot;&gt;&lt;s:property value=&quot;questionname&quot;/&gt; &lt;/span&gt;\r\n    \t\t\t\t\r\n    \t\t\t\t\t&lt;s:div class=&quot;answersBlock&quot;&gt;\r\n    \t\t\t\t\t\t&lt;s:div&gt;&lt;label class=&quot;answerLabel&quot;&gt;Ans. &lt;s:property value=&quot;answername&quot;/&gt; &lt;/label&gt;&lt;/s:div&gt;\r\n    \t\t\t\t\t&lt;/s:div&gt;\r\n    \t\t\t\t\r\n    \t\t\t\t&lt;/s:div&gt;\r\n    \t\t\t\t\r\n    \t\t\t\t&lt;/s:iterator&gt;\r\n    \t\t&lt;/s:if&gt;\r\n    \t\t&lt;s:else&gt;\r\n    \t\t\tNo Survey Taken Yet.\r\n    \t\t&lt;/s:else&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n\r\nHere I am getting date like in below format \r\n\r\n    id 281\r\n    q1: question\r\n    ans: -----\r\n    \r\n    id: 282\r\n    q1:question\r\n    ans: ---\r\n    q2: question\r\n    ans:----\r\n    q3:question\r\n    and:----\r\n\r\nnow what I want here is to create two separate `&lt;div&gt;` for `id`s 281, 282, and put content of  each `id` in a different `&lt;div&gt;`.\r\n\r\nI am getting data dynamically, so it could be  more then  2 `id`&#39;s, so on the bases of them create a `&lt;div&gt;` and one `id` can have multiple question answer.\r\n","title":"How to use &lt;div&gt; properly in Struts 2","body":"<p>I have a list in JSP page which is iterated by Struts tag and when I try to create <code>&lt;div&gt;</code> for each iteration it is not working fine.</p>\n<p><strong>Here is my code:</strong></p>\n<pre><code>&lt;div style=&quot;height:300px;width:700px;border:solid 2px white;overflow:scroll;overflow-x:hidden;overflow-y:scroll;&quot;&gt;\n\n        &lt;s:if test=&quot;#request.questions !=null &amp;&amp; #request.questions.size()&gt;0&quot;&gt;\n          &lt;s:set var=&quot;id&quot;  value=&quot;-1&quot; /&gt;\n               \n           &lt;s:iterator value=&quot;#request.questions&quot; status=&quot;index&quot; var=&quot;ques&quot;&gt;\n                \n             &lt;s:if test=&quot;%{#id != surveyId}&quot;&gt; \n               name &lt;s:property value=&quot;surveyId&quot;/&gt;\n                &lt;s:set var=&quot;id&quot;  value=&quot;surveyId&quot;/&gt;\n                &lt;/s:if&gt;\n              \n              &lt;s:div &quot;  id=&quot;questionNumber&lt;s:property value='sortOrder'/&gt;&quot;&gt;\n                    &lt;span class=&quot;questionCode&quot;&gt;&lt;s:property value=&quot;questioncode&quot;/&gt;. &lt;/span&gt; \n                     \n                    &lt;span class=&quot;questionText&quot;&gt;&lt;s:property value=&quot;questionname&quot;/&gt; &lt;/span&gt;\n                \n                    &lt;s:div class=&quot;answersBlock&quot;&gt;\n                        &lt;s:div&gt;&lt;label class=&quot;answerLabel&quot;&gt;Ans. &lt;s:property value=&quot;answername&quot;/&gt; &lt;/label&gt;&lt;/s:div&gt;\n                    &lt;/s:div&gt;\n                \n                &lt;/s:div&gt;\n                \n                &lt;/s:iterator&gt;\n        &lt;/s:if&gt;\n        &lt;s:else&gt;\n            No Survey Taken Yet.\n        &lt;/s:else&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Here I am getting date like in below format</p>\n<pre><code>id 281\nq1: question\nans: -----\n\nid: 282\nq1:question\nans: ---\nq2: question\nans:----\nq3:question\nand:----\n</code></pre>\n<p>now what I want here is to create two separate <code>&lt;div&gt;</code> for <code>id</code>s 281, 282, and put content of  each <code>id</code> in a different <code>&lt;div&gt;</code>.</p>\n<p>I am getting data dynamically, so it could be  more then  2 <code>id</code>'s, so on the bases of them create a <code>&lt;div&gt;</code> and one <code>id</code> can have multiple question answer.</p>\n"},{"tags":["java","android","kotlin","templates"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695070267,"post_id":77130306,"comment_id":135972490,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":29476890,"reputation":11,"user_id":22588459,"display_name":"JAT06"},"score":0,"creation_date":1695148911,"post_id":77130544,"comment_id":135984392,"body_markdown":"but in the Mainactivity the code is completely different","body":"but in the Mainactivity the code is completely different"},{"owner":{"account_id":5826843,"reputation":344,"user_id":4592885,"display_name":"Mohammad Fallah"},"score":0,"creation_date":1695149452,"post_id":77130544,"comment_id":135984472,"body_markdown":"@JAT06 I guess your tutorial is teaching Android with Java language. right?\nif you are not sure you can see the file name so if the file name of MainActivity in the tutorial is .java so you are following an old tutorial otherwise please tell me what is the difference between your MainActivity file and the one in tutorial?","body":"@JAT06 I guess your tutorial is teaching Android with Java language. right? if you are not sure you can see the file name so if the file name of MainActivity in the tutorial is .java so you are following an old tutorial otherwise please tell me what is the difference between your MainActivity file and the one in tutorial?"},{"owner":{"account_id":29476890,"reputation":11,"user_id":22588459,"display_name":"JAT06"},"score":0,"creation_date":1695171704,"post_id":77130544,"comment_id":135987508,"body_markdown":"i am using coursera meta android app development course it uses kotlin my main activity file is under the com.example under java file its completely different code than the one that appeared in the video","body":"i am using coursera meta android app development course it uses kotlin my main activity file is under the com.example under java file its completely different code than the one that appeared in the video"},{"owner":{"account_id":5826843,"reputation":344,"user_id":4592885,"display_name":"Mohammad Fallah"},"score":0,"creation_date":1695211059,"post_id":77130544,"comment_id":135993276,"body_markdown":"@JAT06 Please tell me some of these differences.","body":"@JAT06 Please tell me some of these differences."},{"owner":{"account_id":29476890,"reputation":11,"user_id":22588459,"display_name":"JAT06"},"score":0,"creation_date":1695288312,"post_id":77130544,"comment_id":136005488,"body_markdown":"one of the main differences is there is completely different code written, like there is 40+ lines of code in basic activity but empty i think 14 lines or a bit more i know they may have like written the same meaning of code but in less lines but as i am following the course its a bit confusing","body":"one of the main differences is there is completely different code written, like there is 40+ lines of code in basic activity but empty i think 14 lines or a bit more i know they may have like written the same meaning of code but in less lines but as i am following the course its a bit confusing"},{"owner":{"account_id":5826843,"reputation":344,"user_id":4592885,"display_name":"Mohammad Fallah"},"score":0,"creation_date":1695313792,"post_id":77130544,"comment_id":136010991,"body_markdown":"@JAT06 can you see some lines of code which use `binding`? \nanyway you have two ways: \n1. start watching the tutorial and the teacher definitely teach what is that and how you can write them.\n \n2. find a newer course to learn &#39;Jetpack compose&#39; which is recommended by  Google instead of previous approach.","body":"@JAT06 can you see some lines of code which use <code>binding</code>?  anyway you have two ways:  1. start watching the tutorial and the teacher definitely teach what is that and how you can write them.   2. find a newer course to learn &#39;Jetpack compose&#39; which is recommended by  Google instead of previous approach."}],"tags":[],"owner":{"account_id":5826843,"reputation":344,"user_id":4592885,"display_name":"Mohammad Fallah"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695073257,"creation_date":1695073257,"answer_id":77130544,"question_id":77130306,"body_markdown":"You can use the &quot;Empty Views Activity&quot; in Giraffe instead of the &quot;Basic Activity&quot; template in older versions, both are the same.","title":"Can&#39;t find basic activity template in Android Studio","body":"<p>You can use the &quot;Empty Views Activity&quot; in Giraffe instead of the &quot;Basic Activity&quot; template in older versions, both are the same.</p>\n"},{"tags":[],"owner":{"account_id":7194850,"reputation":1480,"user_id":5493999,"accept_rate":71,"display_name":"Abdul Mateen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696255264,"creation_date":1696255264,"answer_id":77216124,"question_id":77130306,"body_markdown":"This is the option that you are looking for. You need to select `Basic Views Activity` from the templates. The code for this will likely be a bit different than what the tutorial has. You might need to modify a few things in your Java/Kotlin code and in your XML. If you need any further help, we can continue this discussion in chat.\r\n\r\n[![Screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h2uD0.png","title":"Can&#39;t find basic activity template in Android Studio","body":"<p>This is the option that you are looking for. You need to select <code>Basic Views Activity</code> from the templates. The code for this will likely be a bit different than what the tutorial has. You might need to modify a few things in your Java/Kotlin code and in your XML. If you need any further help, we can continue this discussion in chat.</p>\n<p><a href=\"https://i.stack.imgur.com/h2uD0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h2uD0.png\" alt=\"Screenshot\" /></a></p>\n"}],"owner":{"account_id":29476890,"reputation":11,"user_id":22588459,"display_name":"JAT06"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1696255264,"creation_date":1695070177,"question_id":77130306,"body_markdown":"I am a beginner programmer. I was following a tutorial and it used basic activity template, but I can&#39;t find it. Is there a place to download it or a way to make it available in Android Studio?\r\n\r\nI am using Android Studio Giraffe 2022.3.1 patch 1\r\n\r\nI have tried downloading 2021 version and I have found the basic activity but it had too many Gradle issues/system errors that I can&#39;t seem to solve.\r\n","title":"Can&#39;t find basic activity template in Android Studio","body":"<p>I am a beginner programmer. I was following a tutorial and it used basic activity template, but I can't find it. Is there a place to download it or a way to make it available in Android Studio?</p>\n<p>I am using Android Studio Giraffe 2022.3.1 patch 1</p>\n<p>I have tried downloading 2021 version and I have found the basic activity but it had too many Gradle issues/system errors that I can't seem to solve.</p>\n"},{"tags":["java","spring","rest","post"],"answers":[{"tags":[],"owner":{"account_id":19179579,"reputation":197,"user_id":14011616,"display_name":"zaidabuhijleh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615397598,"creation_date":1615397598,"answer_id":66569980,"question_id":66554363,"body_markdown":"All I had to do was add:\r\n\r\n    @XmlRootElement(name=&quot;Template&quot;)\r\n    @JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\r\n    public class Template{\r\n\r\nAnd now it works the way I want it.","title":"How to accept PascalCase instead of camelCase in post request body nodes using Spring Boot Framework","body":"<p>All I had to do was add:</p>\n<pre><code>@XmlRootElement(name=&quot;Template&quot;)\n@JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\npublic class Template{\n</code></pre>\n<p>And now it works the way I want it.</p>\n"},{"tags":[],"owner":{"account_id":5554348,"reputation":3,"user_id":4406302,"display_name":"Horv&#225;th P&#233;ter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696255184,"creation_date":1696254806,"answer_id":77216074,"question_id":66554363,"body_markdown":"This is *Deprecated* now, you have to use `PropertyNamingStrategies` instead of `PropertyNamingStrategy`. \r\n\r\n```java\r\n@XmlRootElement(name=&quot;Template&quot;)\r\n@JsonNaming(PropertyNamingStrategies.UpperCamelCaseStrategy.class)\r\npublic class Template{\r\n```","title":"How to accept PascalCase instead of camelCase in post request body nodes using Spring Boot Framework","body":"<p>This is <em>Deprecated</em> now, you have to use <code>PropertyNamingStrategies</code> instead of <code>PropertyNamingStrategy</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name=&quot;Template&quot;)\n@JsonNaming(PropertyNamingStrategies.UpperCamelCaseStrategy.class)\npublic class Template{\n</code></pre>\n"}],"owner":{"account_id":19179579,"reputation":197,"user_id":14011616,"display_name":"zaidabuhijleh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696255184,"creation_date":1615321843,"question_id":66554363,"body_markdown":"Im am developing a REST API using Spring Framework. I have a post controller set up:\r\n\r\n    \r\n    @PostMapping(path=&quot;/v2/document&quot;, consumes= {&quot;application/xml&quot;,&quot;application/json&quot;}, produces={&quot;application/xml&quot;,&quot;application/json&quot;})\r\n    @ResponseBody\r\n    public ResponseEntity&lt;Object&gt; postDocument(HttpServletRequest request,@RequestBody Template template) throws Exception\r\n\r\nIt takes in a Template object:\r\npublic class Template{\r\n\r\n\t@XmlElement(name = &quot;Callback&quot;)\t\r\n\tprivate String Callback;\r\n\t\r\n\t@XmlElement(name = &quot;OutputFormat&quot;)\t\r\n\tprivate String OutputFormat;\r\n\t\r\n\t@XmlElement(name = &quot;Data&quot;)\t\r\n\tprivate byte[] Data;\r\n\t\r\n\t@XmlElement(name = &quot;ConnectionString&quot;)\t\r\n\tprivate String ConnectionString;\r\n\t\t\r\n\t@XmlElement(name = &quot;Format&quot;)\t\r\n\tprivate String Format;\r\n\t\r\n\t@XmlElementWrapper(name=&quot;Properties&quot;)\r\n\t@XmlElement(name = &quot;Property&quot;)\r\n\tprivate Property[] Properties;\r\n\r\nRight now this is the request body that works:\r\n\r\n        &lt;Template&gt;\r\n        &lt;connectionString&gt;ConString&lt;/connectionString&gt;\r\n        &lt;outputFormat&gt;pdf&lt;/outputFormat&gt;\r\n         &lt;datasources&gt;\r\n            &lt;datasource&gt;\r\n                    &lt;connectionString&gt;ConString&lt;/connectionString&gt;\r\n            &lt;/datasource&gt;\r\n        &lt;/datasources&gt;\r\n    &lt;/Template&gt;\r\n    \r\nWhere the outer tags are the proper PascalCase format &lt;Template&gt;, but the inner tags have to be camelCase. This is how I want the body to look:\r\n    \r\n    &lt;Template&gt;\r\n        &lt;ConnectionString&gt;ConString&lt;/ConnectionString&gt;\r\n        &lt;OutputFormat&gt;pdf&lt;/OutputFormat&gt;\r\n         &lt;Datasources&gt;\r\n            &lt;Datasource&gt;\r\n                    &lt;ConnectionString&gt;ConString&lt;/ConnectionString&gt;\r\n            &lt;/Datasource&gt;\r\n        &lt;/Datasources&gt;\r\n    &lt;/Template&gt;\r\n\r\n","title":"How to accept PascalCase instead of camelCase in post request body nodes using Spring Boot Framework","body":"<p>Im am developing a REST API using Spring Framework. I have a post controller set up:</p>\n<pre><code>@PostMapping(path=&quot;/v2/document&quot;, consumes= {&quot;application/xml&quot;,&quot;application/json&quot;}, produces={&quot;application/xml&quot;,&quot;application/json&quot;})\n@ResponseBody\npublic ResponseEntity&lt;Object&gt; postDocument(HttpServletRequest request,@RequestBody Template template) throws Exception\n</code></pre>\n<p>It takes in a Template object:\npublic class Template{</p>\n<pre><code>@XmlElement(name = &quot;Callback&quot;)  \nprivate String Callback;\n\n@XmlElement(name = &quot;OutputFormat&quot;)  \nprivate String OutputFormat;\n\n@XmlElement(name = &quot;Data&quot;)  \nprivate byte[] Data;\n\n@XmlElement(name = &quot;ConnectionString&quot;)  \nprivate String ConnectionString;\n    \n@XmlElement(name = &quot;Format&quot;)    \nprivate String Format;\n\n@XmlElementWrapper(name=&quot;Properties&quot;)\n@XmlElement(name = &quot;Property&quot;)\nprivate Property[] Properties;\n</code></pre>\n<p>Right now this is the request body that works:</p>\n<pre><code>    &lt;Template&gt;\n    &lt;connectionString&gt;ConString&lt;/connectionString&gt;\n    &lt;outputFormat&gt;pdf&lt;/outputFormat&gt;\n     &lt;datasources&gt;\n        &lt;datasource&gt;\n                &lt;connectionString&gt;ConString&lt;/connectionString&gt;\n        &lt;/datasource&gt;\n    &lt;/datasources&gt;\n&lt;/Template&gt;\n</code></pre>\n<p>Where the outer tags are the proper PascalCase format , but the inner tags have to be camelCase. This is how I want the body to look:</p>\n<pre><code>&lt;Template&gt;\n    &lt;ConnectionString&gt;ConString&lt;/ConnectionString&gt;\n    &lt;OutputFormat&gt;pdf&lt;/OutputFormat&gt;\n     &lt;Datasources&gt;\n        &lt;Datasource&gt;\n                &lt;ConnectionString&gt;ConString&lt;/ConnectionString&gt;\n        &lt;/Datasource&gt;\n    &lt;/Datasources&gt;\n&lt;/Template&gt;\n</code></pre>\n"},{"tags":["java","jco","sapjco3"],"answers":[{"tags":[],"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1576875111,"creation_date":1576875111,"answer_id":59431221,"question_id":59408200,"body_markdown":"The technical RFC connection design does not allow to reuse an RFC connection with a different user. An RFC connection is bound to a user identity which cannot be switched. Therefore a connection pool with multiple physical connections that will use different user ids on demand cannot be implemented.\r\nThis is not a limitation of JCo but of RFC in general.\r\n\r\nHowever this is not so tragic as the most expensive part of RFC connection establishment is not the opening of a new physical connection via TCP/IP but the RFC user authorization process with its RFC context object creations and internal initializations. So having connection pools per destination and user is what really helps for achieving better performance. You do not need to worry and to take care for optimizing the internal JCo connection pooling. This already works fairly good out-of-the-box even with an own pool for each user ID.","title":"reuse jco 3 connection pool for different sso tickets","body":"<p>The technical RFC connection design does not allow to reuse an RFC connection with a different user. An RFC connection is bound to a user identity which cannot be switched. Therefore a connection pool with multiple physical connections that will use different user ids on demand cannot be implemented.\nThis is not a limitation of JCo but of RFC in general.</p>\n\n<p>However this is not so tragic as the most expensive part of RFC connection establishment is not the opening of a new physical connection via TCP/IP but the RFC user authorization process with its RFC context object creations and internal initializations. So having connection pools per destination and user is what really helps for achieving better performance. You do not need to worry and to take care for optimizing the internal JCo connection pooling. This already works fairly good out-of-the-box even with an own pool for each user ID.</p>\n"}],"owner":{"account_id":318349,"reputation":1623,"user_id":635524,"accept_rate":25,"display_name":"archie_by"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59431221,"answer_count":1,"score":1,"last_activity_date":1696255105,"creation_date":1576752646,"question_id":59408200,"body_markdown":"We&#39;ve created a java application that uses JCo3 to access the remote SAP system data.\r\n\r\nWe are using SSO Tickets connect to that system.\r\n\r\nThe question is if there is some way to reuse the same connection pool for all the user SSO Tickets instead of creating a dedicated pool for each token.\r\n\r\nCurrently we have a DestinationDataProvider.getDestinationProperties implementation that takes SSO Ticket as a parameter and returns the corresponding Properties instance, ending up, I believe, with a connection pool per user.\r\n\r\nI&#39;m not sure how efficient this configuration is and would probably like to know if those connections could somehow be reused.","title":"reuse jco 3 connection pool for different sso tickets","body":"<p>We've created a java application that uses JCo3 to access the remote SAP system data.</p>\n\n<p>We are using SSO Tickets connect to that system.</p>\n\n<p>The question is if there is some way to reuse the same connection pool for all the user SSO Tickets instead of creating a dedicated pool for each token.</p>\n\n<p>Currently we have a DestinationDataProvider.getDestinationProperties implementation that takes SSO Ticket as a parameter and returns the corresponding Properties instance, ending up, I believe, with a connection pool per user.</p>\n\n<p>I'm not sure how efficient this configuration is and would probably like to know if those connections could somehow be reused.</p>\n"},{"tags":["java","javascript","jsp","struts2","csrf-protection"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1399458226,"post_id":23515095,"comment_id":36066429,"body_markdown":"What do you mean *jsp pages makes more than one call to server* ?","body":"What do you mean <i>jsp pages makes more than one call to server</i> ?"},{"owner":{"account_id":1652066,"reputation":277,"user_id":1565631,"accept_rate":65,"display_name":"Mok"},"score":0,"creation_date":1399458367,"post_id":23515095,"comment_id":36066523,"body_markdown":"I need to make multiple ajax request using the same token in the client page.","body":"I need to make multiple ajax request using the same token in the client page."},{"owner":{"account_id":1652066,"reputation":277,"user_id":1565631,"accept_rate":65,"display_name":"Mok"},"score":0,"creation_date":1399458429,"post_id":23515095,"comment_id":36066556,"body_markdown":"While jsp is converted to js a struts token is added to js. In this js there are multiple Ajax request. I hope I am making myself clear.","body":"While jsp is converted to js a struts token is added to js. In this js there are multiple Ajax request. I hope I am making myself clear."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":1,"creation_date":1399458529,"post_id":23515095,"comment_id":36066620,"body_markdown":"You need to make each ajax request with a new token.","body":"You need to make each ajax request with a new token."},{"owner":{"account_id":1652066,"reputation":277,"user_id":1565631,"accept_rate":65,"display_name":"Mok"},"score":0,"creation_date":1399458687,"post_id":23515095,"comment_id":36066739,"body_markdown":"Yes you are right, but I will have only one token rt. Is there a way I can get the new token in the same js page ?","body":"Yes you are right, but I will have only one token rt. Is there a way I can get the new token in the same js page ?"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":1,"creation_date":1399458744,"post_id":23515095,"comment_id":36066782,"body_markdown":"See my answer to this question: http://stackoverflow.com/q/18822095/1700321.","body":"See my answer to this question: <a href=\"http://stackoverflow.com/q/18822095/1700321\">stackoverflow.com/q/18822095/1700321</a>."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1399459007,"post_id":23515095,"comment_id":36066945,"body_markdown":"But this is not js :), one solution is coming to my mind and probably I had answered before is to use a parameter token.","body":"But this is not js :), one solution is coming to my mind and probably I had answered before is to use a parameter token."},{"owner":{"account_id":1652066,"reputation":277,"user_id":1565631,"accept_rate":65,"display_name":"Mok"},"score":0,"creation_date":1399461413,"post_id":23515095,"comment_id":36068536,"body_markdown":"@AleksandrM : The solution mentioned in the link, includes how to use token with hyperlink. my request is little different from that. \nThanks :)","body":"@AleksandrM : The solution mentioned in the link, includes how to use token with hyperlink. my request is little different from that.  Thanks :)"},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1399463923,"post_id":23515095,"comment_id":36070324,"body_markdown":"Can you show a sample code ?","body":"Can you show a sample code ?"},{"owner":{"account_id":1652066,"reputation":277,"user_id":1565631,"accept_rate":65,"display_name":"Mok"},"score":0,"creation_date":1399464811,"post_id":23515095,"comment_id":36070969,"body_markdown":"@RomanC : can you please elaborate your solution. Thanks","body":"@RomanC : can you please elaborate your solution. Thanks"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1399469854,"post_id":23515095,"comment_id":36074752,"body_markdown":"JS or not JS what difference it makes? Build url with S2 tags and use it in ajax call.","body":"JS or not JS what difference it makes? Build url with S2 tags and use it in ajax call."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1696255038,"creation_date":1399466491,"answer_id":23518147,"question_id":23515095,"body_markdown":"You can use the code in my answer for [Unable to implement Struts 2 token interceptor with hyperlink][1] to create an action that returns a token. You can use any of the results `stream` or `json` or `dispatcher` to return a token as a Ajax success callback result. You can find an example in [the issue returning JSON value][2]. Now you can use the token to make your Ajax requests. Each time you need to make a new request you should call a token action to get a new token. Use the token as a parameter to your request and put the token interceptor in front of your actions. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18823084/573032\r\n  [2]: https://stackoverflow.com/a/17096564/573032","title":"Struts2 token interceptor: CSRF protection","body":"<p>You can use the code in my answer for <a href=\"https://stackoverflow.com/a/18823084/573032\">Unable to implement Struts 2 token interceptor with hyperlink</a> to create an action that returns a token. You can use any of the results <code>stream</code> or <code>json</code> or <code>dispatcher</code> to return a token as a Ajax success callback result. You can find an example in <a href=\"https://stackoverflow.com/a/17096564/573032\">the issue returning JSON value</a>. Now you can use the token to make your Ajax requests. Each time you need to make a new request you should call a token action to get a new token. Use the token as a parameter to your request and put the token interceptor in front of your actions.</p>\n"}],"owner":{"account_id":1652066,"reputation":277,"user_id":1565631,"accept_rate":65,"display_name":"Mok"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13045,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":23518147,"answer_count":1,"score":8,"last_activity_date":1696255038,"creation_date":1399458049,"question_id":23515095,"body_markdown":"I am trying to protect my web application from CSRF attacks by using struts token interceptor.\r\n\r\nThe problem I am facing right now is our JSP pages makes more than one call to server (While JSP is converted to JS a struts token is added to JS.But in this JS there are multiple Ajax request. I hope I am making myself clear.), because of token interceptor only first request to the server is getting validated. Other requests are getting invalidated because struts token is reset after each validation.\r\n\r\nIs there a way I stop Struts from resetting the token every time it validates? \r\nIS there any other solutions to handle this in struts interceptor.\r\n\r\nI am also looking at `tomcatcsrfprotection` module, I guess I will end up with same problem here also.\r\n\r\n\r\n**`managepage.jsp`:**\r\n\r\n    &lt;s:token /&gt;\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n    var strutsToken = &quot;&lt;s:property value=&quot;#session[&#39;struts.tokens.token&#39;]&quot; /&gt;&quot;;\r\n    var requestParams = {mainAction: &#39;loadGroups&#39;,&#39;struts.token.name&#39;: &#39;token&#39; , token:strutsToken};\r\n    \r\n    Ext.Ajax.request({\r\n                  url: &#39;manageUserAccount.action&#39;,\r\n                  params: Ext.urlEncode(requestParams),\r\n                  disableCaching: true,\r\n                  success: this.actionCallback\r\n                  });\r\n    \r\n    \r\n    \r\n    //loading widgets\r\n    \r\n    var requestParams = {mainAction: &#39;loadusers&#39;,&#39;struts.token.name&#39;: &#39;token&#39; , token:strutsToken};\r\n    \r\n    Ext.Ajax.request({\r\n                  url: &#39;manageUserAccount.action&#39;,\r\n                  params: Ext.urlEncode(requestParams),\r\n                  disableCaching: true,\r\n                  success: this.actionCallback\r\n                  });\r\n    \r\n    &lt;/script&gt;\r\n\r\n--------------------\r\n\r\n**`Struts.xml`:**\r\n\r\n      &lt;action name=&quot;manageUserAccountEdit&quot; class=&quot;ManageUserAccountEditAction&quot;&gt;\r\n         &lt;interceptor-ref name=&quot;csrf-protection&quot; /&gt; \r\n         &lt;result name=&quot;success&quot;&gt;/pages/manageUserAccount.jsp&lt;/result&gt;\r\n     &lt;/action&gt;\r\n\r\nI have just added minimum code so that understanding it will be easier.\r\n\r\n\r\n\r\n","title":"Struts2 token interceptor: CSRF protection","body":"<p>I am trying to protect my web application from CSRF attacks by using struts token interceptor.</p>\n\n<p>The problem I am facing right now is our JSP pages makes more than one call to server (While JSP is converted to JS a struts token is added to JS.But in this JS there are multiple Ajax request. I hope I am making myself clear.), because of token interceptor only first request to the server is getting validated. Other requests are getting invalidated because struts token is reset after each validation.</p>\n\n<p>Is there a way I stop Struts from resetting the token every time it validates? \nIS there any other solutions to handle this in struts interceptor.</p>\n\n<p>I am also looking at <code>tomcatcsrfprotection</code> module, I guess I will end up with same problem here also.</p>\n\n<p><strong><code>managepage.jsp</code>:</strong></p>\n\n<pre><code>&lt;s:token /&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar strutsToken = \"&lt;s:property value=\"#session['struts.tokens.token']\" /&gt;\";\nvar requestParams = {mainAction: 'loadGroups','struts.token.name': 'token' , token:strutsToken};\n\nExt.Ajax.request({\n              url: 'manageUserAccount.action',\n              params: Ext.urlEncode(requestParams),\n              disableCaching: true,\n              success: this.actionCallback\n              });\n\n\n\n//loading widgets\n\nvar requestParams = {mainAction: 'loadusers','struts.token.name': 'token' , token:strutsToken};\n\nExt.Ajax.request({\n              url: 'manageUserAccount.action',\n              params: Ext.urlEncode(requestParams),\n              disableCaching: true,\n              success: this.actionCallback\n              });\n\n&lt;/script&gt;\n</code></pre>\n\n<hr>\n\n<p><strong><code>Struts.xml</code>:</strong></p>\n\n<pre><code>  &lt;action name=\"manageUserAccountEdit\" class=\"ManageUserAccountEditAction\"&gt;\n     &lt;interceptor-ref name=\"csrf-protection\" /&gt; \n     &lt;result name=\"success\"&gt;/pages/manageUserAccount.jsp&lt;/result&gt;\n &lt;/action&gt;\n</code></pre>\n\n<p>I have just added minimum code so that understanding it will be easier.</p>\n"},{"tags":["java","spring","microservices","circuit-breaker","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653304722,"creation_date":1653304120,"answer_id":72347539,"question_id":71612676,"body_markdown":"Seems that the property is defined in the [docs][1] but actually, it does not work. There is a pull request for that -&gt; [CircuitBreakerConfigurationProperties has no ignoreException property][2].\r\n\r\nYou can use the common Spring+java configuration to achieve that in the meantime:\r\n```\r\n@Bean\r\nCircuitBreaker reportingApiCircuitBreaker(CircuitBreakerRegistry registry) {\r\n    CircuitBreakerConfig config = CircuitBreakerConfig.custom()\r\n        .ignoreExceptions(ApiException.class, BadRequestApiException.class)\r\n        .build();\r\n\r\n    return registry.circuitBreaker(&quot;yourCircuitBreakername&quot;, config);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://resilience4j.readme.io/docs/circuitbreaker\r\n  [2]: https://github.com/resilience4j/resilience4j/issues/1586","title":"Resilience4j Not Ignoring Exceptions","body":"<p>Seems that the property is defined in the <a href=\"https://resilience4j.readme.io/docs/circuitbreaker\" rel=\"nofollow noreferrer\">docs</a> but actually, it does not work. There is a pull request for that -&gt; <a href=\"https://github.com/resilience4j/resilience4j/issues/1586\" rel=\"nofollow noreferrer\">CircuitBreakerConfigurationProperties has no ignoreException property</a>.</p>\n<p>You can use the common Spring+java configuration to achieve that in the meantime:</p>\n<pre><code>@Bean\nCircuitBreaker reportingApiCircuitBreaker(CircuitBreakerRegistry registry) {\n    CircuitBreakerConfig config = CircuitBreakerConfig.custom()\n        .ignoreExceptions(ApiException.class, BadRequestApiException.class)\n        .build();\n\n    return registry.circuitBreaker(&quot;yourCircuitBreakername&quot;, config);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10208055,"reputation":917,"user_id":7697901,"display_name":"Alexandr Kovalenko"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685459279,"creation_date":1685459279,"answer_id":76366228,"question_id":71612676,"body_markdown":"Pls try this way \r\n\r\n    resilience4j.circuitbreaker.instances.jobsApiServiceGetAllJobs.ignoreExceptions[0]=ccp.shared.platform.exception.ApiException\r\n    resilience4j.circuitbreaker.instances.jobsApiServiceGetAllJobs.ignoreExceptions[1]=ccp.shared.platform.exception.BadRequestApiException","title":"Resilience4j Not Ignoring Exceptions","body":"<p>Pls try this way</p>\n<pre><code>resilience4j.circuitbreaker.instances.jobsApiServiceGetAllJobs.ignoreExceptions[0]=ccp.shared.platform.exception.ApiException\nresilience4j.circuitbreaker.instances.jobsApiServiceGetAllJobs.ignoreExceptions[1]=ccp.shared.platform.exception.BadRequestApiException\n</code></pre>\n"}],"owner":{"account_id":6357992,"reputation":539,"user_id":4934549,"display_name":"Arshad Yusuf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5580,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696254773,"creation_date":1648187288,"question_id":71612676,"body_markdown":"JobServiceImpl.java:\r\n\r\n    @CircuitBreaker(name = &quot;jobsApiServiceGetAllJobs&quot;, fallbackMethod = &quot;getAllJobsFallback&quot;)\r\n    public ResponseEntity&lt;JobsResponse&gt; getAllJobs() {\r\n        ...\r\n        throw new ApiException();\r\n    }\r\n\r\n    public ResponseEntity&lt;JobsResponse&gt; getAllJobsFallback(Throwable throwable) {\r\n        log.error(&quot;Fallback method called&quot;);\r\n    }\r\n\r\napplication.properties:\r\n\r\n    resilience4j.circuitbreaker.instances.jobsApiServiceGetAllJobs.ignoreExceptions=ccp.shared.platform.exception.ApiException,ccp.shared.platform.exception.BadRequestApiException\r\n\r\n\r\nWhenever `ccp.shared.platform.exception.ApiException` is thrown, the fallback method is called even though I have added it in the `ignoreExceptions` list in the `application.properties` file. I want it to not trigger the fallback method when `ApiException` is thrown. I have tried similar questions on stack overflow and those does not work for me. Am I doing anything wrong?","title":"Resilience4j Not Ignoring Exceptions","body":"<p>JobServiceImpl.java:</p>\n<pre><code>@CircuitBreaker(name = &quot;jobsApiServiceGetAllJobs&quot;, fallbackMethod = &quot;getAllJobsFallback&quot;)\npublic ResponseEntity&lt;JobsResponse&gt; getAllJobs() {\n    ...\n    throw new ApiException();\n}\n\npublic ResponseEntity&lt;JobsResponse&gt; getAllJobsFallback(Throwable throwable) {\n    log.error(&quot;Fallback method called&quot;);\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>resilience4j.circuitbreaker.instances.jobsApiServiceGetAllJobs.ignoreExceptions=ccp.shared.platform.exception.ApiException,ccp.shared.platform.exception.BadRequestApiException\n</code></pre>\n<p>Whenever <code>ccp.shared.platform.exception.ApiException</code> is thrown, the fallback method is called even though I have added it in the <code>ignoreExceptions</code> list in the <code>application.properties</code> file. I want it to not trigger the fallback method when <code>ApiException</code> is thrown. I have tried similar questions on stack overflow and those does not work for me. Am I doing anything wrong?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696234308,"post_id":77214012,"comment_id":136122256,"body_markdown":"The cartesian product is the reason you get the multiple bag exception. 4, no it wouldn&#39;t load the lazy-loaded data, only will load the data that you are using. You might want to rethink your model, do you really need all those relationships? Aren&#39;t some of them easier with just a basic query (like all child products, does that really need to be mapped, or can it simply be queried when needed).","body":"The cartesian product is the reason you get the multiple bag exception. 4, no it wouldn&#39;t load the lazy-loaded data, only will load the data that you are using. You might want to rethink your model, do you really need all those relationships? Aren&#39;t some of them easier with just a basic query (like all child products, does that really need to be mapped, or can it simply be queried when needed)."},{"owner":{"account_id":16258491,"reputation":159,"user_id":11740548,"display_name":"Mattmmmmm"},"score":0,"creation_date":1696235645,"post_id":77214012,"comment_id":136122451,"body_markdown":"@M.Deinum Thank you, but do you mean that when in a method with @Transactional annotation, lazy-loaded fields such as ```products``` and ```childCategories``` still would not be loaded when the entity is fetched until I explicitly access them like using ```c.getProducts```?","body":"@M.Deinum Thank you, but do you mean that when in a method with @Transactional annotation, lazy-loaded fields such as <code>products</code> and <code>childCategories</code> still would not be loaded when the entity is fetched until I explicitly access them like using <code>c.getProducts</code>?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696236467,"post_id":77214012,"comment_id":136122595,"body_markdown":"Yes, that is the whole point of lazy loading.","body":"Yes, that is the whole point of lazy loading."},{"owner":{"account_id":16258491,"reputation":159,"user_id":11740548,"display_name":"Mattmmmmm"},"score":0,"creation_date":1696237093,"post_id":77214012,"comment_id":136122702,"body_markdown":"@M.Deinum Thank you. I always thought that using Transactional on a method would make all the lazy-loaded field of the entities fetched in that method loaded even when not used. Didn&#39;t realize I was wrong until now","body":"@M.Deinum Thank you. I always thought that using Transactional on a method would make all the lazy-loaded field of the entities fetched in that method loaded even when not used. Didn&#39;t realize I was wrong until now"}],"answers":[{"tags":[],"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696254767,"creation_date":1696254767,"answer_id":77216067,"question_id":77214012,"body_markdown":"When using Hibernate you could use approach 3. with this improvement:\r\n\r\n```\r\n...\r\n@Fetch(FetchMode.SUBSELECT)\r\nprivate List&lt;ProductImg&gt; productImages;\r\n```\r\n\r\nAs soon as you access the images from one of your products **all** the images for any product will be fetched within a single select.","title":"How to fetch a 3-level relationships where all foreign fields are lazy-loaded Lists without causing MultipleBagFetchException?","body":"<p>When using Hibernate you could use approach 3. with this improvement:</p>\n<pre><code>...\n@Fetch(FetchMode.SUBSELECT)\nprivate List&lt;ProductImg&gt; productImages;\n</code></pre>\n<p>As soon as you access the images from one of your products <strong>all</strong> the images for any product will be fetched within a single select.</p>\n"}],"owner":{"account_id":16258491,"reputation":159,"user_id":11740548,"display_name":"Mattmmmmm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77216067,"answer_count":1,"score":0,"last_activity_date":1696254767,"creation_date":1696233895,"question_id":77214012,"body_markdown":"I have an entity ```Category```, and it has a foreign key fields ```allChildProducs```(a product have both a ```category_id``` and a ```root_category_id```) that are all products whose top-level category is this ```Category```, and ```Product``` entity has a field ```productImages``` that references all images belonging to this ```Product``` \r\n\r\nHere are their relationships:\r\n\r\n```Category``` --1:N-- ```Product``` --1:N-- ```ProductImage```\r\n\r\n```\r\npublic class Category {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;category_id&quot;)\r\n    private Integer categoryId;\r\n\r\n    @Column(name = &quot;category_name&quot;)\r\n    @NotNull\r\n    private String categoryName;\r\n\r\n    @Column(name = &quot;category_level&quot;)\r\n    @NotNull\r\n    private Integer categoryLevel;\r\n\r\n    @Column(name = &quot;parent_id&quot;)\r\n    @NotNull\r\n    private Long parentId;\r\n\r\n    @Column(name = &quot;category_icon&quot;)\r\n    private String categoryIcon;\r\n\r\n    @Column(name = &quot;category_slogan&quot;)\r\n    private String categorySlogan;\r\n\r\n    @Column(name = &quot;category_pic&quot;)\r\n    private String categoryPic;\r\n\r\n    @Column(name = &quot;category_bg_color&quot;)\r\n    private String categoryBgColor;\r\n\r\n    @ToString.Exclude\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;category_id&quot;, insertable = false, updatable = false)\r\n    private Category parentCategory;\r\n\r\n    @ToString.Exclude\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parentCategory&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;Category&gt; childCategories;\r\n\r\n    @OneToMany(mappedBy = &quot;category&quot;, fetch = FetchType.LAZY)\r\n    @ToString.Exclude\r\n    private List&lt;Product&gt; products;\r\n\r\n    @OneToMany(mappedBy = &quot;rootCategory&quot;, fetch = FetchType.LAZY)\r\n    @ToString.Exclude\r\n    private List&lt;Product&gt; allChildProducts;\r\n}\r\n\r\npublic class Product {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @NotNull\r\n    private int productId;\r\n\r\n    @Column(name = &quot;product_name&quot;)\r\n    @NotNull\r\n    private String productName;\r\n\r\n    @Column(name = &quot;sold_num&quot;)\r\n    @NotNull\r\n    private int soldNum;\r\n\r\n    @Column(name = &quot;product_status&quot;)\r\n    @NotNull\r\n    private int productStatus;\r\n\r\n    @Column(name = &quot;content&quot;)\r\n    @NotNull\r\n    private String content;\r\n\r\n    @Column(name = &quot;create_time&quot;)\r\n    @NotNull\r\n    @CreationTimestamp\r\n    private Date createTime;\r\n\r\n    @Column(name = &quot;update_time&quot;)\r\n    @NotNull\r\n    @UpdateTimestamp\r\n    private Date updateTime;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;category_id&quot;, insertable = false, updatable = false)\r\n    @ToString.Exclude\r\n    private Category category;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;root_category_id&quot;, insertable = false, updatable = false)\r\n    @ToString.Exclude\r\n    private Category rootCategory;\r\n\r\n    @OneToMany(mappedBy = &quot;product&quot;, fetch = FetchType.LAZY)\r\n    @ToString.Exclude\r\n    private List&lt;ProductImg&gt; productImages;\r\n}\r\n\r\npublic class ProductImage {\r\n    @Id\r\n    @Column(length = 64)\r\n    @NotNull\r\n    private String id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;product_id&quot;)\r\n    @NotNull\r\n    @ToString.Exclude\r\n    private Product product;\r\n\r\n    @Column(name = &quot;url&quot;, length = 128)\r\n    @NotNull\r\n    private String url;\r\n\r\n    @Column(name = &quot;sort&quot;)\r\n    @NotNull\r\n    private int sort;\r\n\r\n    @Column(name = &quot;is_main&quot;)\r\n    @NotNull\r\n    private int isMain;\r\n\r\n    @Column(name = &quot;created_time&quot;)\r\n    @CreationTimestamp\r\n    @NotNull\r\n    private Date createdTime;\r\n\r\n    @Column(name = &quot;updated_time&quot;)\r\n    @UpdateTimestamp\r\n    @NotNull\r\n    private Date updatedTime;\r\n}\r\n``` \r\n\r\nNow I am trying to fetch a list of ```Category```, each element must have their ```allChildProducts``` loaded, and each ```Product``` in ```allChildProducts``` must also have their ```productImages``` loaded.\r\n\r\nHere are all the failed attempts I have tried:\r\n\r\n**1: Using multiple Join Fetch**\r\n```\r\npublic interface CategoryRepository extends JpaRepository&lt;Category, Integer&gt; {\r\n    @Query(&quot;SELECT DISTINCT c FROM Category c &quot; +\r\n        &quot;LEFT JOIN FETCH c.allChildProducts acp &quot; +\r\n        &quot;LEFT JOIN FETCH acp.productImages &quot; +\r\n        &quot;WHERE c.categoryLevel = :categoryLevel&quot;)\r\nList&lt;Category&gt; findAllWithAllChildProductsAndImages(@Param(&quot;categoryLevel&quot;) int categoryLevel);\r\n}\r\n```\r\nI got a ```MultipleBagFetchException```\r\n\r\n**2: Using Entity Graph**\r\n```\r\n@NamedEntityGraph(\r\n        name = &quot;category-with-products-and-images&quot;,\r\n        attributeNodes = {\r\n                @NamedAttributeNode(value = &quot;allChildProducts&quot;, subgraph = &quot;products-subgraph&quot;)\r\n        },\r\n        subgraphs = {\r\n                @NamedSubgraph(\r\n                        name = &quot;products-subgraph&quot;,\r\n                        attributeNodes = {\r\n                                @NamedAttributeNode(value = &quot;productImages&quot;)\r\n                        }\r\n                )\r\n        }\r\n)\r\npublic class Category { ... }\r\n\r\n@EntityGraph(value = &quot;category-with-products-and-images&quot;)\r\n@Query(&quot;SELECT DISTINCT c FROM Category c &quot; +\r\n       &quot;WHERE c.categoryLevel = :categoryLevel&quot;\r\n)\r\nList&lt;Category&gt; findAllWithAllChildProducts(@Param(&quot;categoryLevel&quot;) int categoryLevel);\r\n```\r\n\r\nI also got a ```MultipleBagFetchException```\r\n\r\n\r\nHere are all methods I have **NOT** tried that probably contains some serious flaws:\r\n\r\n**1: Using FetchType.EAGER**\r\n\r\nMade ```allChildProducts``` and ```productImages``` eager-loaded would solve the problem, but they would also cause some serious performance issues\r\n\r\n**2: Changing lazy-loaded foreign key collection type from List to Set**\r\n\r\n[This article][1] says it is also a bad idea as that would lead to Cartesian Product\r\n\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-multiplebagfetchexception/\r\n\r\n**3: JOIN FETCH ```allChildProducts``` field of each Category entity, iterate through products and fetch the ProductImages field once by one**\r\n\r\nWould cause too many I/O operations.\r\n\r\n**4: Using @Transactional at the service-layer method that need to fetch the data**\r\n\r\nThis would made all lazy-loaded fields loaded, even the unused ones.\r\n\r\n\r\nAfter all these attempts, I have come to the conclusion that I need to make a choice between having a Cartesian Product and Multiple I/O operations, so I have been thinking about just living with Cartesian Product and going with 2th or 4th unattempted methods. I am not sure if there is another way that would cause neither problems, so please give me some advice.\r\n","title":"How to fetch a 3-level relationships where all foreign fields are lazy-loaded Lists without causing MultipleBagFetchException?","body":"<p>I have an entity <code>Category</code>, and it has a foreign key fields <code>allChildProducs</code>(a product have both a <code>category_id</code> and a <code>root_category_id</code>) that are all products whose top-level category is this <code>Category</code>, and <code>Product</code> entity has a field <code>productImages</code> that references all images belonging to this <code>Product</code></p>\n<p>Here are their relationships:</p>\n<p><code>Category</code> --1:N-- <code>Product</code> --1:N-- <code>ProductImage</code></p>\n<pre><code>public class Category {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;category_id&quot;)\n    private Integer categoryId;\n\n    @Column(name = &quot;category_name&quot;)\n    @NotNull\n    private String categoryName;\n\n    @Column(name = &quot;category_level&quot;)\n    @NotNull\n    private Integer categoryLevel;\n\n    @Column(name = &quot;parent_id&quot;)\n    @NotNull\n    private Long parentId;\n\n    @Column(name = &quot;category_icon&quot;)\n    private String categoryIcon;\n\n    @Column(name = &quot;category_slogan&quot;)\n    private String categorySlogan;\n\n    @Column(name = &quot;category_pic&quot;)\n    private String categoryPic;\n\n    @Column(name = &quot;category_bg_color&quot;)\n    private String categoryBgColor;\n\n    @ToString.Exclude\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;category_id&quot;, insertable = false, updatable = false)\n    private Category parentCategory;\n\n    @ToString.Exclude\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parentCategory&quot;, cascade = CascadeType.ALL)\n    private List&lt;Category&gt; childCategories;\n\n    @OneToMany(mappedBy = &quot;category&quot;, fetch = FetchType.LAZY)\n    @ToString.Exclude\n    private List&lt;Product&gt; products;\n\n    @OneToMany(mappedBy = &quot;rootCategory&quot;, fetch = FetchType.LAZY)\n    @ToString.Exclude\n    private List&lt;Product&gt; allChildProducts;\n}\n\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @NotNull\n    private int productId;\n\n    @Column(name = &quot;product_name&quot;)\n    @NotNull\n    private String productName;\n\n    @Column(name = &quot;sold_num&quot;)\n    @NotNull\n    private int soldNum;\n\n    @Column(name = &quot;product_status&quot;)\n    @NotNull\n    private int productStatus;\n\n    @Column(name = &quot;content&quot;)\n    @NotNull\n    private String content;\n\n    @Column(name = &quot;create_time&quot;)\n    @NotNull\n    @CreationTimestamp\n    private Date createTime;\n\n    @Column(name = &quot;update_time&quot;)\n    @NotNull\n    @UpdateTimestamp\n    private Date updateTime;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;category_id&quot;, insertable = false, updatable = false)\n    @ToString.Exclude\n    private Category category;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;root_category_id&quot;, insertable = false, updatable = false)\n    @ToString.Exclude\n    private Category rootCategory;\n\n    @OneToMany(mappedBy = &quot;product&quot;, fetch = FetchType.LAZY)\n    @ToString.Exclude\n    private List&lt;ProductImg&gt; productImages;\n}\n\npublic class ProductImage {\n    @Id\n    @Column(length = 64)\n    @NotNull\n    private String id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;product_id&quot;)\n    @NotNull\n    @ToString.Exclude\n    private Product product;\n\n    @Column(name = &quot;url&quot;, length = 128)\n    @NotNull\n    private String url;\n\n    @Column(name = &quot;sort&quot;)\n    @NotNull\n    private int sort;\n\n    @Column(name = &quot;is_main&quot;)\n    @NotNull\n    private int isMain;\n\n    @Column(name = &quot;created_time&quot;)\n    @CreationTimestamp\n    @NotNull\n    private Date createdTime;\n\n    @Column(name = &quot;updated_time&quot;)\n    @UpdateTimestamp\n    @NotNull\n    private Date updatedTime;\n}\n</code></pre>\n<p>Now I am trying to fetch a list of <code>Category</code>, each element must have their <code>allChildProducts</code> loaded, and each <code>Product</code> in <code>allChildProducts</code> must also have their <code>productImages</code> loaded.</p>\n<p>Here are all the failed attempts I have tried:</p>\n<p><strong>1: Using multiple Join Fetch</strong></p>\n<pre><code>public interface CategoryRepository extends JpaRepository&lt;Category, Integer&gt; {\n    @Query(&quot;SELECT DISTINCT c FROM Category c &quot; +\n        &quot;LEFT JOIN FETCH c.allChildProducts acp &quot; +\n        &quot;LEFT JOIN FETCH acp.productImages &quot; +\n        &quot;WHERE c.categoryLevel = :categoryLevel&quot;)\nList&lt;Category&gt; findAllWithAllChildProductsAndImages(@Param(&quot;categoryLevel&quot;) int categoryLevel);\n}\n</code></pre>\n<p>I got a <code>MultipleBagFetchException</code></p>\n<p><strong>2: Using Entity Graph</strong></p>\n<pre><code>@NamedEntityGraph(\n        name = &quot;category-with-products-and-images&quot;,\n        attributeNodes = {\n                @NamedAttributeNode(value = &quot;allChildProducts&quot;, subgraph = &quot;products-subgraph&quot;)\n        },\n        subgraphs = {\n                @NamedSubgraph(\n                        name = &quot;products-subgraph&quot;,\n                        attributeNodes = {\n                                @NamedAttributeNode(value = &quot;productImages&quot;)\n                        }\n                )\n        }\n)\npublic class Category { ... }\n\n@EntityGraph(value = &quot;category-with-products-and-images&quot;)\n@Query(&quot;SELECT DISTINCT c FROM Category c &quot; +\n       &quot;WHERE c.categoryLevel = :categoryLevel&quot;\n)\nList&lt;Category&gt; findAllWithAllChildProducts(@Param(&quot;categoryLevel&quot;) int categoryLevel);\n</code></pre>\n<p>I also got a <code>MultipleBagFetchException</code></p>\n<p>Here are all methods I have <strong>NOT</strong> tried that probably contains some serious flaws:</p>\n<p><strong>1: Using FetchType.EAGER</strong></p>\n<p>Made <code>allChildProducts</code> and <code>productImages</code> eager-loaded would solve the problem, but they would also cause some serious performance issues</p>\n<p><strong>2: Changing lazy-loaded foreign key collection type from List to Set</strong></p>\n<p><a href=\"https://vladmihalcea.com/hibernate-multiplebagfetchexception/\" rel=\"nofollow noreferrer\">This article</a> says it is also a bad idea as that would lead to Cartesian Product</p>\n<p><strong>3: JOIN FETCH <code>allChildProducts</code> field of each Category entity, iterate through products and fetch the ProductImages field once by one</strong></p>\n<p>Would cause too many I/O operations.</p>\n<p><strong>4: Using @Transactional at the service-layer method that need to fetch the data</strong></p>\n<p>This would made all lazy-loaded fields loaded, even the unused ones.</p>\n<p>After all these attempts, I have come to the conclusion that I need to make a choice between having a Cartesian Product and Multiple I/O operations, so I have been thinking about just living with Cartesian Product and going with 2th or 4th unattempted methods. I am not sure if there is another way that would cause neither problems, so please give me some advice.</p>\n"},{"tags":["java","cookies","jboss","cookie-httponly"],"owner":{"account_id":28105867,"reputation":11,"user_id":21474467,"display_name":"andreiiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696254445,"creation_date":1696254172,"question_id":77216009,"body_markdown":"I&#39;m using JBoss and Jersey for my java web application, and I need to set the flags httpOnly and secure to true in my cookies. To achieve this, I implemented a filter that adds the secure and httpOnly flags to all responses. However, I&#39;ve encountered an issue where it seems like the cookies are being split. Specifically, for session cookies (e.g., JSESSIONID), subsequent calls are made on different JBoss sessions, resulting in an inability to find profile data because it appears as if I have different sessions for every call.\r\n\r\n\r\n\r\n\r\nIn my web.xml, I already have the following configuration:\r\n\r\n```\r\n&lt;session-config&gt;\r\n\t&lt;session-timeout&gt;30&lt;/session-timeout&gt;\r\n\t&lt;cookie-config&gt;\r\n\t\t\r\n\t\t&lt;http-only&gt;true&lt;/http-only&gt;\r\n\t\t&lt;secure&gt;true&lt;/secure&gt;\r\n\t&lt;/cookie-config&gt;\r\n\t&lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\r\n  &lt;/session-config&gt;\r\n```\r\nHowever, when I check the response in the web console, I don&#39;t see the flags set on the cookie response.\r\n\r\nCan someone please provide guidance on how to set these flags to true, if I need to set to true only one of those and why the filter is not working as expected? \r\n","title":"Problem when httpOnly and secure flag are setted to true on cookies using jsessionId","body":"<p>I'm using JBoss and Jersey for my java web application, and I need to set the flags httpOnly and secure to true in my cookies. To achieve this, I implemented a filter that adds the secure and httpOnly flags to all responses. However, I've encountered an issue where it seems like the cookies are being split. Specifically, for session cookies (e.g., JSESSIONID), subsequent calls are made on different JBoss sessions, resulting in an inability to find profile data because it appears as if I have different sessions for every call.</p>\n<p>In my web.xml, I already have the following configuration:</p>\n<pre><code>&lt;session-config&gt;\n    &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n    &lt;cookie-config&gt;\n        \n        &lt;http-only&gt;true&lt;/http-only&gt;\n        &lt;secure&gt;true&lt;/secure&gt;\n    &lt;/cookie-config&gt;\n    &lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\n  &lt;/session-config&gt;\n</code></pre>\n<p>However, when I check the response in the web console, I don't see the flags set on the cookie response.</p>\n<p>Can someone please provide guidance on how to set these flags to true, if I need to set to true only one of those and why the filter is not working as expected?</p>\n"},{"tags":["java","struts2","struts","struts2-jquery","actionresult"],"comments":[{"owner":{"account_id":209800,"reputation":1661,"user_id":461055,"accept_rate":78,"display_name":"Sumit"},"score":0,"creation_date":1365268013,"post_id":15853558,"comment_id":22561949,"body_markdown":"I think your action method needs to be mapped to jsp/template/view, you would also need to specify an object/model from which your view will be rendered.","body":"I think your action method needs to be mapped to jsp/template/view, you would also need to specify an object/model from which your view will be rendered."},{"owner":{"account_id":2278011,"reputation":1541,"user_id":2003821,"accept_rate":56,"display_name":"Aadam"},"score":0,"creation_date":1365268397,"post_id":15853558,"comment_id":22562075,"body_markdown":"can i do it by just getters and setters, will try n post back","body":"can i do it by just getters and setters, will try n post back"}],"answers":[{"comments":[{"owner":{"account_id":2278011,"reputation":1541,"user_id":2003821,"accept_rate":56,"display_name":"Aadam"},"score":0,"creation_date":1365268941,"post_id":15853765,"comment_id":22562237,"body_markdown":"k. so i changed my action to @Action(value=&quot;test&quot;, results = { @Result(location=&quot;/jquery.jsp&quot;)\n    })\n    public String jquery() throws IOException\n    {\n       System.out.println(&quot;hello&quot;);\n        return SUCCESS;\n    }    now the result jquery.jsp is above code so its adding an extralink instead. See i used to write some text to response in a servlet and call that servlet from the jquery ajax. But how to do same in struts2, can i write some text in action method and get at client side? If so how to do that using struts2-jquery plugin. Thanks for your support","body":"k. so i changed my action to @Action(value=&quot;test&quot;, results = { @Result(location=&quot;/jquery.jsp&quot;)     })     public String jquery() throws IOException     {        System.out.println(&quot;hello&quot;);         return SUCCESS;     }    now the result jquery.jsp is above code so its adding an extralink instead. See i used to write some text to response in a servlet and call that servlet from the jquery ajax. But how to do same in struts2, can i write some text in action method and get at client side? If so how to do that using struts2-jquery plugin. Thanks for your support"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1365269420,"post_id":15853765,"comment_id":22562383,"body_markdown":"You can write to the response output in the action but then you need to return NONE result.","body":"You can write to the response output in the action but then you need to return NONE result."},{"owner":{"account_id":2278011,"reputation":1541,"user_id":2003821,"accept_rate":56,"display_name":"Aadam"},"score":0,"creation_date":1365270092,"post_id":15853765,"comment_id":22562601,"body_markdown":"K thats done, your the boss :) last think is i want to get that text in a popup, the way my jsp is written(copied from google) I cant see any wat to get the response text, the text is being set to a div, I want the same in a popup, thankyou so much.","body":"K thats done, your the boss :) last think is i want to get that text in a popup, the way my jsp is written(copied from google) I cant see any wat to get the response text, the text is being set to a div, I want the same in a popup, thankyou so much."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1365269981,"creation_date":1365268487,"answer_id":15853765,"question_id":15853558,"body_markdown":"Classically to return something from the action you need to put the result annotation on the action or method\r\n\r\n    @Result(location = &quot;/pages/success.jsp&quot;) \r\n\r\nin the result you write the markup that will be inserted in the targets. You may need to supply http headers to turn off cache-control while the page is not reloaded. \r\n\r\nDoing with the response you need your action to implement `ServletResponseAware`.","title":"How to return a line from the action method in Struts2?","body":"<p>Classically to return something from the action you need to put the result annotation on the action or method</p>\n\n<pre><code>@Result(location = \"/pages/success.jsp\") \n</code></pre>\n\n<p>in the result you write the markup that will be inserted in the targets. You may need to supply http headers to turn off cache-control while the page is not reloaded. </p>\n\n<p>Doing with the response you need your action to implement <code>ServletResponseAware</code>.</p>\n"}],"owner":{"account_id":2278011,"reputation":1541,"user_id":2003821,"accept_rate":56,"display_name":"Aadam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15853765,"answer_count":1,"score":1,"last_activity_date":1696254394,"creation_date":1365267434,"question_id":15853558,"body_markdown":"I want to return a line from the action method. My JSP is below\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\r\n    &lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\r\n    &lt;html&gt;\r\n      &lt;head&gt;\r\n        &lt;sj:head/&gt;\r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n        &lt;div id=&quot;div1&quot;&gt;Div 1&lt;/div&gt;\r\n        &lt;s:url id=&quot;ajaxTest&quot; value=&quot;/test.action&quot;/&gt;\r\n    \r\n        &lt;sj:a id=&quot;link1&quot; href=&quot;%{ajaxTest}&quot; targets=&quot;div1&quot;&gt;\r\n          Update Content\r\n        &lt;/sj:a&gt;\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**The action:** \r\n\r\n    @Action(value=&quot;test&quot;)\r\n        public String jquery() throws IOException\r\n        {\r\n           System.out.println(&quot;hello&quot;);\r\n            return SUCCESS;\r\n        }\r\n\r\nCurrently, I am getting the output as success and I think it&#39;s due to the return `SUCCESS`. What I need is to popup some custom text sent from the test action. How can I achieve that?\r\n","title":"How to return a line from the action method in Struts2?","body":"<p>I want to return a line from the action method. My JSP is below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\n&lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;sj:head/&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=&quot;div1&quot;&gt;Div 1&lt;/div&gt;\n    &lt;s:url id=&quot;ajaxTest&quot; value=&quot;/test.action&quot;/&gt;\n\n    &lt;sj:a id=&quot;link1&quot; href=&quot;%{ajaxTest}&quot; targets=&quot;div1&quot;&gt;\n      Update Content\n    &lt;/sj:a&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>The action:</strong></p>\n<pre><code>@Action(value=&quot;test&quot;)\n    public String jquery() throws IOException\n    {\n       System.out.println(&quot;hello&quot;);\n        return SUCCESS;\n    }\n</code></pre>\n<p>Currently, I am getting the output as success and I think it's due to the return <code>SUCCESS</code>. What I need is to popup some custom text sent from the test action. How can I achieve that?</p>\n"},{"tags":["java","sorting","lambda","java-8","comparator"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1403804632,"post_id":24436871,"comment_id":37810592,"body_markdown":"It would be helpful if you include in your question all the compilation error messages you are getting in all your tests.","body":"It would be helpful if you include in your question all the compilation error messages you are getting in all your tests."},{"owner":{"account_id":4667721,"reputation":3131,"user_id":3780370,"accept_rate":75,"display_name":"Tranquility"},"score":1,"creation_date":1403805589,"post_id":24436871,"comment_id":37811027,"body_markdown":"to be honest, I think it would be easiest for someone to see what the issues are by running the source code themselves.","body":"to be honest, I think it would be easiest for someone to see what the issues are by running the source code themselves."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":0,"creation_date":1403807493,"post_id":24436871,"comment_id":37812049,"body_markdown":"What are the types of `t1` and `t2` in the `Objects.compare` example? I&#39;m trying to infer them, but layering my type inference over the compiler&#39;s type inference is intractable. :-)","body":"What are the types of <code>t1</code> and <code>t2</code> in the <code>Objects.compare</code> example? I&#39;m trying to infer them, but layering my type inference over the compiler&#39;s type inference is intractable. :-)"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":1,"creation_date":1403807596,"post_id":24436871,"comment_id":37812109,"body_markdown":"Also what compiler are you using?","body":"Also what compiler are you using?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1403807691,"post_id":24436871,"comment_id":37812177,"body_markdown":"Yeah, the error with `Comparator.sort` happens with Eclipse&#39;s, but not the JDK&#39;s compiler.","body":"Yeah, the error with <code>Comparator.sort</code> happens with Eclipse&#39;s, but not the JDK&#39;s compiler."},{"owner":{"account_id":4667721,"reputation":3131,"user_id":3780370,"accept_rate":75,"display_name":"Tranquility"},"score":0,"creation_date":1403808792,"post_id":24436871,"comment_id":37812793,"body_markdown":"I am using Eclipse Kepler SR2 with patches for Java 8. Also, t1 and t2 are of type Song, sorry, should have posted: Song t1 = new Song(&quot;Only girl in world&quot;, 238, &quot;Rhianna&quot;); Song t2 = new Song(&quot;Other song&quot;, 99, &quot;Rhianna&quot;);","body":"I am using Eclipse Kepler SR2 with patches for Java 8. Also, t1 and t2 are of type Song, sorry, should have posted: Song t1 = new Song(&quot;Only girl in world&quot;, 238, &quot;Rhianna&quot;); Song t2 = new Song(&quot;Other song&quot;, 99, &quot;Rhianna&quot;);"},{"owner":{"account_id":4667721,"reputation":3131,"user_id":3780370,"accept_rate":75,"display_name":"Tranquility"},"score":0,"creation_date":1403809129,"post_id":24436871,"comment_id":37813001,"body_markdown":"Stuart Marks - another question I have for you is does the comparing and thenComparing methods use the compareTo method on the value passed to them, e.g. if a string is passed p1.getTitle() then I assume the compareTo method is used to compare the two title strings? I realised this by creating a field in my Song class of a custom type, e.g. class Name then trying to pass this to the comparator, e.g. comparing((Song p1) -&gt; p1.getName()) and found it gave me a syntax error until I made the Name class implement Comparable. The javadoc is not clear on this.","body":"Stuart Marks - another question I have for you is does the comparing and thenComparing methods use the compareTo method on the value passed to them, e.g. if a string is passed p1.getTitle() then I assume the compareTo method is used to compare the two title strings? I realised this by creating a field in my Song class of a custom type, e.g. class Name then trying to pass this to the comparator, e.g. comparing((Song p1) -&gt; p1.getName()) and found it gave me a syntax error until I made the Name class implement Comparable. The javadoc is not clear on this."},{"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"score":0,"creation_date":1403809898,"post_id":24436871,"comment_id":37813431,"body_markdown":"@user3780370 yes the 2nd generic type in the `comparing` and `thenComparing` must implement `Comparable` unless you call the overloaded methods which take a 2nd function to do the comparison.","body":"@user3780370 yes the 2nd generic type in the <code>comparing</code> and <code>thenComparing</code> must implement <code>Comparable</code> unless you call the overloaded methods which take a 2nd function to do the comparison."},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1403811398,"post_id":24436871,"comment_id":37814274,"body_markdown":"You&#39;ve got two separate issues going here.  One of the answerers pointed out you could use method references, which you sorta brushed off.  Just as lambdas come in both &quot;explicitly typed&quot; and &quot;implicitly typed&quot; flavors, method references come in &quot;exact&quot; (one overload) and &quot;inexact&quot; (multiple overloads) flavors.  Either an exact method ref or an explicit lambda can be used to provide additional typing information if not present.  (Explicit type witnesses and casts can also be used, but are often bigger hammers.)","body":"You&#39;ve got two separate issues going here.  One of the answerers pointed out you could use method references, which you sorta brushed off.  Just as lambdas come in both &quot;explicitly typed&quot; and &quot;implicitly typed&quot; flavors, method references come in &quot;exact&quot; (one overload) and &quot;inexact&quot; (multiple overloads) flavors.  Either an exact method ref or an explicit lambda can be used to provide additional typing information if not present.  (Explicit type witnesses and casts can also be used, but are often bigger hammers.)"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1671403863,"post_id":24436871,"comment_id":132086595,"body_markdown":"Note to future readers: Do not post images of error messages. Post the error message as text. [See here](https://meta.stackoverflow.com/a/285557/11107541) for why.","body":"Note to future readers: Do not post images of error messages. Post the error message as text. <a href=\"https://meta.stackoverflow.com/a/285557/11107541\">See here</a> for why."}],"answers":[{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1403806242,"post_id":24437207,"comment_id":37811348,"body_markdown":"Why does it know it for the `ArrayList` but not for the `Collections` solution (given the first call in the chain has a `Song` parameter)?","body":"Why does it know it for the <code>ArrayList</code> but not for the <code>Collections</code> solution (given the first call in the chain has a <code>Song</code> parameter)?"},{"owner":{"account_id":4667721,"reputation":3131,"user_id":3780370,"accept_rate":75,"display_name":"Tranquility"},"score":4,"creation_date":1403806255,"post_id":24437207,"comment_id":37811360,"body_markdown":"Thank you for your reply, however, if you read my post you would see I said: &quot;Before we start, I know I could use method references, e.g. Song::getTitle to overcome my problems, but my query here is not so much something I want to fix but something I want an answer to, i.e. why is the Java compiler handling it in this way.&quot;","body":"Thank you for your reply, however, if you read my post you would see I said: &quot;Before we start, I know I could use method references, e.g. Song::getTitle to overcome my problems, but my query here is not so much something I want to fix but something I want an answer to, i.e. why is the Java compiler handling it in this way.&quot;"},{"owner":{"account_id":4667721,"reputation":3131,"user_id":3780370,"accept_rate":75,"display_name":"Tranquility"},"score":0,"creation_date":1403806478,"post_id":24437207,"comment_id":37811478,"body_markdown":"I want an answer as to why the compiler is behaving that way when I use lambda expressions. It accepts comparing(s -&gt; s.getArtist()) but then when I chain .thenComparing(s -&gt; s.getDuration()) for example it gives me syntax errors for both calls, if I then add a an explicit type in the comparing call, e.g. comparing((Song s) -&gt; s.getArtist()) then this fixes that problem and for the List.sort and TreeSet it also solves all further compilation errors without having to add additional param types, however, for the Collections.sort &amp; Objects.compare examples the last thenComparing still fails","body":"I want an answer as to why the compiler is behaving that way when I use lambda expressions. It accepts comparing(s -&gt; s.getArtist()) but then when I chain .thenComparing(s -&gt; s.getDuration()) for example it gives me syntax errors for both calls, if I then add a an explicit type in the comparing call, e.g. comparing((Song s) -&gt; s.getArtist()) then this fixes that problem and for the List.sort and TreeSet it also solves all further compilation errors without having to add additional param types, however, for the Collections.sort &amp; Objects.compare examples the last thenComparing still fails"}],"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"comment_count":3,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1403806793,"creation_date":1403805575,"answer_id":24437207,"question_id":24436871,"body_markdown":"The problem is type inferencing.  Without adding a `(Song s)` to the first comparison, `comparator.comparing` doesn&#39;t know the type of the input so it defaults to Object.\r\n\r\nYou can fix this problem 1 of 3 ways:\r\n\r\n1.  Use the new Java 8 method reference syntax\r\n    \r\n         Collections.sort(playlist,\r\n\t\t            Comparator.comparing(Song::getTitle)\r\n\t\t            .thenComparing(Song::getDuration)\r\n\t\t            .thenComparing(Song::getArtist)\r\n\t\t            );\r\n\r\n2. Pull out each comparison step into a local reference\r\n\r\n \r\n          Comparator&lt;Song&gt; byName = (s1, s2) -&gt; s1.getArtist().compareTo(s2.getArtist());\r\n    \r\n          Comparator&lt;Song&gt; byDuration = (s1, s2) -&gt; Integer.compare(s1.getDuration(), s2.getDuration());\r\n\t\t    \r\n\t\t    Collections.sort(playlist,\r\n\t\t            byName\r\n\t\t            .thenComparing(byDuration)\r\n\t\t            );\r\n**EDIT**\r\n3.  Forcing the type returned by the Comparator (note you need both the input type and the comparison key type)\r\n         \r\n        sort(\r\n          Comparator.&lt;Song, String&gt;comparing((s) -&gt; s.getTitle())\r\n\t\t            .thenComparing(p1 -&gt; p1.getDuration())\r\n\t\t            .thenComparing(p1 -&gt; p1.getArtist())\r\n\t\t            );\r\n\r\nI think the &quot;last&quot; `thenComparing` syntax error is misleading you.  It&#39;s actually a type problem with the whole chain, it&#39;s just the compiler only marking the end of the chain as a syntax error because that&#39;s when the final return type doesn&#39;t match I guess.\r\n\r\nI&#39;m not sure why `List` is doing a better inferencing job than `Collection` since it should do the same capture type but apparently not.","title":"Very confused by Java 8 Comparator type inference","body":"<p>The problem is type inferencing.  Without adding a <code>(Song s)</code> to the first comparison, <code>comparator.comparing</code> doesn't know the type of the input so it defaults to Object.</p>\n\n<p>You can fix this problem 1 of 3 ways:</p>\n\n<ol>\n<li><p>Use the new Java 8 method reference syntax</p>\n\n<pre><code> Collections.sort(playlist,\n            Comparator.comparing(Song::getTitle)\n            .thenComparing(Song::getDuration)\n            .thenComparing(Song::getArtist)\n            );\n</code></pre></li>\n<li><p>Pull out each comparison step into a local reference</p>\n\n<pre><code>  Comparator&lt;Song&gt; byName = (s1, s2) -&gt; s1.getArtist().compareTo(s2.getArtist());\n\n  Comparator&lt;Song&gt; byDuration = (s1, s2) -&gt; Integer.compare(s1.getDuration(), s2.getDuration());\n\n    Collections.sort(playlist,\n            byName\n            .thenComparing(byDuration)\n            );\n</code></pre>\n\n<p><strong>EDIT</strong></p></li>\n<li><p>Forcing the type returned by the Comparator (note you need both the input type and the comparison key type)</p>\n\n<pre><code>sort(\n  Comparator.&lt;Song, String&gt;comparing((s) -&gt; s.getTitle())\n            .thenComparing(p1 -&gt; p1.getDuration())\n            .thenComparing(p1 -&gt; p1.getArtist())\n            );\n</code></pre></li>\n</ol>\n\n<p>I think the \"last\" <code>thenComparing</code> syntax error is misleading you.  It's actually a type problem with the whole chain, it's just the compiler only marking the end of the chain as a syntax error because that's when the final return type doesn't match I guess.</p>\n\n<p>I'm not sure why <code>List</code> is doing a better inferencing job than <code>Collection</code> since it should do the same capture type but apparently not.</p>\n"},{"comments":[{"owner":{"account_id":4667721,"reputation":3131,"user_id":3780370,"accept_rate":75,"display_name":"Tranquility"},"score":0,"creation_date":1403809486,"post_id":24437480,"comment_id":37813196,"body_markdown":"hi, yes you are correct in that adding Collections.&lt;Song&gt; does get rid of the error for the last thenComparing call","body":"hi, yes you are correct in that adding Collections.&lt;Song&gt; does get rid of the error for the last thenComparing call"}],"tags":[],"owner":{"account_id":311679,"reputation":89831,"user_id":625403,"accept_rate":82,"display_name":"amalloy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403806623,"creation_date":1403806623,"answer_id":24437480,"question_id":24436871,"body_markdown":"`playlist1.sort(...)` creates a bound of Song for the type variable E, from the declaration of playlist1, which &quot;ripples&quot; to the comparator. \r\n\r\nIn `Collections.sort(...)`, there is no such bound, and the inference from the type of the first comparator is not enough for the compiler to infer the rest. \r\n\r\nI think you would get &quot;correct&quot; behavior from `Collections.&lt;Song&gt;sort(...)`, but don&#39;t have a java 8 install to test it out for you.","title":"Very confused by Java 8 Comparator type inference","body":"<p><code>playlist1.sort(...)</code> creates a bound of Song for the type variable E, from the declaration of playlist1, which \"ripples\" to the comparator. </p>\n\n<p>In <code>Collections.sort(...)</code>, there is no such bound, and the inference from the type of the first comparator is not enough for the compiler to infer the rest. </p>\n\n<p>I think you would get \"correct\" behavior from <code>Collections.&lt;Song&gt;sort(...)</code>, but don't have a java 8 install to test it out for you.</p>\n"},{"comments":[{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":17,"creation_date":1403858306,"post_id":24442897,"comment_id":37829907,"body_markdown":"+1 for actually answering the OP &quot;why can&#39;t the compiler infer this&quot; rather than just giving workarounds/solutions.","body":"+1 for actually answering the OP &quot;why can&#39;t the compiler infer this&quot; rather than just giving workarounds/solutions."},{"owner":{"account_id":4667721,"reputation":3131,"user_id":3780370,"accept_rate":75,"display_name":"Tranquility"},"score":0,"creation_date":1403872874,"post_id":24442897,"comment_id":37838464,"body_markdown":"Thank you for your answer Brian. However, I still find something unanswered, why does List.sort behave differently to Collections.sort, in that the former only requires the first lambda to contain the parameter type, but the latter also requires the last to, e.g. if I have a comparing followed by 5 thenComparing calls I would have to put (Song p1) in the comparing and in the last thenComparing. Also in my original post you will see the bottom example of the TreeSet where I remove all param types and yet the last call to thenComparing is OK but the others are not - so this behaves differently.","body":"Thank you for your answer Brian. However, I still find something unanswered, why does List.sort behave differently to Collections.sort, in that the former only requires the first lambda to contain the parameter type, but the latter also requires the last to, e.g. if I have a comparing followed by 5 thenComparing calls I would have to put (Song p1) in the comparing and in the last thenComparing. Also in my original post you will see the bottom example of the TreeSet where I remove all param types and yet the last call to thenComparing is OK but the others are not - so this behaves differently."},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1403881276,"post_id":24442897,"comment_id":37843941,"body_markdown":"@user3780370 Are you still using the Eclipse compiler?  I haven&#39;t seen this behavior, if I understand your question correctly.  Can you (a) try it with javac from JDK 8 and (b) if it still fails, post the code?","body":"@user3780370 Are you still using the Eclipse compiler?  I haven&#39;t seen this behavior, if I understand your question correctly.  Can you (a) try it with javac from JDK 8 and (b) if it still fails, post the code?"},{"owner":{"account_id":4667721,"reputation":3131,"user_id":3780370,"accept_rate":75,"display_name":"Tranquility"},"score":1,"creation_date":1404057628,"post_id":24442897,"comment_id":37886621,"body_markdown":"@BrianGoetz Thanks for this suggestion. I have just compiled it within the Command Window using javac and it compiles as you said. It appears to be an Eclipse issue. I&#39;ve not yet updated to Eclipse Luna, which is purpose-built for JDK8 so hopefully it may be fixed in that. I actually have a screenshot to show you what was happening in Eclipse but don&#39;t know how to post on here.","body":"@BrianGoetz Thanks for this suggestion. I have just compiled it within the Command Window using javac and it compiles as you said. It appears to be an Eclipse issue. I&#39;ve not yet updated to Eclipse Luna, which is purpose-built for JDK8 so hopefully it may be fixed in that. I actually have a screenshot to show you what was happening in Eclipse but don&#39;t know how to post on here."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1486611614,"post_id":24442897,"comment_id":71423303,"body_markdown":"I think you mean `Comparator.&lt;Song, String&gt;comparing(...)`.","body":"I think you mean <code>Comparator.&lt;Song, String&gt;comparing(...)</code>."}],"tags":[],"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"comment_count":5,"down_vote_count":0,"up_vote_count":140,"is_accepted":true,"score":140,"last_activity_date":1508872818,"creation_date":1403834629,"answer_id":24442897,"question_id":24436871,"body_markdown":"First, all the examples you say cause errors compile fine with the reference implementation (javac from JDK 8.)  They also work fine in IntelliJ, so its quite possible the errors you&#39;re seeing are Eclipse-specific.  \r\n\r\nYour underlying question seems to be: &quot;why does it stop working when I start chaining.&quot;  The reason is, while lambda expressions and generic method invocations are _poly expressions_ (their type is context-sensitive) when they appear as method parameters, when they appear instead as method receiver expressions, they are not.  \r\n\r\nWhen you say\r\n\r\n    Collections.sort(playlist1, comparing(p1 -&gt; p1.getTitle()));\r\n\r\nthere is enough type information to solve for both the type argument of `comparing()` and the argument type `p1`.  The `comparing()` call gets its target type from the signature of `Collections.sort`, so it is known `comparing()` must return a `Comparator&lt;Song&gt;`, and therefore `p1` must be `Song`.  \r\n\r\nBut when you start chaining:\r\n\r\n    Collections.sort(playlist1,\r\n                     comparing(p1 -&gt; p1.getTitle())\r\n                         .thenComparing(p1 -&gt; p1.getDuration())\r\n                         .thenComparing(p1 -&gt; p1.getArtist()));\r\n\r\nnow we&#39;ve got a problem.  We know that the compound expression `comparing(...).thenComparing(...)` has a target type of `Comparator&lt;Song&gt;`, but because the receiver expression for the chain, `comparing(p -&gt; p.getTitle())`, is a generic method call, and we can&#39;t infer its type parameters from its other arguments, we&#39;re kind of out of luck.  Since we don&#39;t know the type of this expression, we don&#39;t know that it has a `thenComparing` method, etc.  \r\n\r\nThere are several ways to fix this, all of which involve injecting more type information so that the initial object in the chain can be properly typed. Here they are, in rough order of decreasing desirability and increasing intrusiveness:\r\n\r\n  - Use an exact method reference (one with no overloads), like `Song::getTitle`.  This then gives enough type information to infer the type variables for the `comparing()` call, and therefore give it a type, and therefore continue down the chain.\r\n  - Use an explicit lambda (as you did in your example).\r\n  - Provide a type witness for the `comparing()` call: `Comparator.&lt;Song, String&gt;comparing(...)`.  \r\n  - Provide an explicit target type with a cast, by casting the receiver expression to `Comparator&lt;Song&gt;`.  \r\n\r\n","title":"Very confused by Java 8 Comparator type inference","body":"<p>First, all the examples you say cause errors compile fine with the reference implementation (javac from JDK 8.)  They also work fine in IntelliJ, so its quite possible the errors you're seeing are Eclipse-specific.  </p>\n\n<p>Your underlying question seems to be: \"why does it stop working when I start chaining.\"  The reason is, while lambda expressions and generic method invocations are <em>poly expressions</em> (their type is context-sensitive) when they appear as method parameters, when they appear instead as method receiver expressions, they are not.  </p>\n\n<p>When you say</p>\n\n<pre><code>Collections.sort(playlist1, comparing(p1 -&gt; p1.getTitle()));\n</code></pre>\n\n<p>there is enough type information to solve for both the type argument of <code>comparing()</code> and the argument type <code>p1</code>.  The <code>comparing()</code> call gets its target type from the signature of <code>Collections.sort</code>, so it is known <code>comparing()</code> must return a <code>Comparator&lt;Song&gt;</code>, and therefore <code>p1</code> must be <code>Song</code>.  </p>\n\n<p>But when you start chaining:</p>\n\n<pre><code>Collections.sort(playlist1,\n                 comparing(p1 -&gt; p1.getTitle())\n                     .thenComparing(p1 -&gt; p1.getDuration())\n                     .thenComparing(p1 -&gt; p1.getArtist()));\n</code></pre>\n\n<p>now we've got a problem.  We know that the compound expression <code>comparing(...).thenComparing(...)</code> has a target type of <code>Comparator&lt;Song&gt;</code>, but because the receiver expression for the chain, <code>comparing(p -&gt; p.getTitle())</code>, is a generic method call, and we can't infer its type parameters from its other arguments, we're kind of out of luck.  Since we don't know the type of this expression, we don't know that it has a <code>thenComparing</code> method, etc.  </p>\n\n<p>There are several ways to fix this, all of which involve injecting more type information so that the initial object in the chain can be properly typed. Here they are, in rough order of decreasing desirability and increasing intrusiveness:</p>\n\n<ul>\n<li>Use an exact method reference (one with no overloads), like <code>Song::getTitle</code>.  This then gives enough type information to infer the type variables for the <code>comparing()</code> call, and therefore give it a type, and therefore continue down the chain.</li>\n<li>Use an explicit lambda (as you did in your example).</li>\n<li>Provide a type witness for the <code>comparing()</code> call: <code>Comparator.&lt;Song, String&gt;comparing(...)</code>.  </li>\n<li>Provide an explicit target type with a cast, by casting the receiver expression to <code>Comparator&lt;Song&gt;</code>.  </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4977846,"reputation":96,"user_id":4003699,"display_name":"Rajni Gangwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501068937,"creation_date":1501068937,"answer_id":45325781,"question_id":24436871,"body_markdown":"Another way to deal with this compile time error:\r\n\r\nCast your first comparing function&#39;s variable explicitly and then good to go. I have sort the list of org.bson.Documents object. Please look at sample code\r\n\r\n    Comparator&lt;Document&gt; comparator = Comparator.comparing((Document hist) -&gt; (String) hist.get(&quot;orderLineStatus&quot;), reverseOrder())\r\n                           .thenComparing(hist -&gt; (Date) hist.get(&quot;promisedShipDate&quot;))\r\n                           .thenComparing(hist -&gt; (Date) hist.get(&quot;lastShipDate&quot;));\r\n    list = list.stream().sorted(comparator).collect(Collectors.toList());","title":"Very confused by Java 8 Comparator type inference","body":"<p>Another way to deal with this compile time error:</p>\n\n<p>Cast your first comparing function's variable explicitly and then good to go. I have sort the list of org.bson.Documents object. Please look at sample code</p>\n\n<pre><code>Comparator&lt;Document&gt; comparator = Comparator.comparing((Document hist) -&gt; (String) hist.get(\"orderLineStatus\"), reverseOrder())\n                       .thenComparing(hist -&gt; (Date) hist.get(\"promisedShipDate\"))\n                       .thenComparing(hist -&gt; (Date) hist.get(\"lastShipDate\"));\nlist = list.stream().sorted(comparator).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":4667721,"reputation":3131,"user_id":3780370,"accept_rate":75,"display_name":"Tranquility"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38700,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":24442897,"answer_count":4,"score":112,"last_activity_date":1696254268,"creation_date":1403804217,"question_id":24436871,"body_markdown":"I&#39;ve been looking at the difference between `Collections.sort` and `list.sort`, specifically regarding using the `Comparator` static methods and whether param types are required in the lambda expressions. Before we start, I know I could use method references, e.g. `Song::getTitle` to overcome my problems, but my query here is not so much something I want to fix but something I want an answer to, i.e. why is the Java compiler handling it in this way. \r\n\r\nThese are my finding. Suppose we have an `ArrayList` of type `Song`, with some songs added, there are 3 standard get methods:\r\n\r\n```java\r\nArrayList&lt;Song&gt; playlist1 = new ArrayList&lt;Song&gt;();\r\n\r\n//add some new Song objects\r\nplaylist.addSong( new Song(&quot;Only Girl (In The World)&quot;, 235, &quot;Rihanna&quot;) );\r\nplaylist.addSong( new Song(&quot;Thinking of Me&quot;, 206, &quot;Olly Murs&quot;) );\r\nplaylist.addSong( new Song(&quot;Raise Your Glass&quot;, 202,&quot;P!nk&quot;) );\r\n```\r\n\r\nHere is a call to both types of sort method that works, no problem:\r\n\r\n```java\r\nCollections.sort(playlist1, \r\n        Comparator.comparing(p1 -&gt; p1.getTitle()));\r\n\r\nplaylist1.sort(\r\n        Comparator.comparing(p1 -&gt; p1.getTitle()));\r\n```\r\n\r\nAs soon as I start to chain `thenComparing`, the following happens:\r\n\r\n```java\r\nCollections.sort(playlist1,\r\n        Comparator.comparing(p1 -&gt; p1.getTitle())\r\n        .thenComparing(p1 -&gt; p1.getDuration())\r\n        .thenComparing(p1 -&gt; p1.getArtist())\r\n      );\r\n  \r\nplaylist1.sort(\r\n    Comparator.comparing(p1 -&gt; p1.getTitle())\r\n      .thenComparing(p1 -&gt; p1.getDuration())\r\n      .thenComparing(p1 -&gt; p1.getArtist())\r\n    );\r\n```\r\n\r\ni.e. syntax errors because it does not know the type of `p1` anymore. So to fix this I add the type `Song` to the first parameter (of comparing):\r\n\r\n```java\r\nCollections.sort(playlist1,\r\n            Comparator.comparing((Song p1) -&gt; p1.getTitle())\r\n            .thenComparing(p1 -&gt; p1.getDuration())\r\n            .thenComparing(p1 -&gt; p1.getArtist())\r\n            );\r\n    \r\nplaylist1.sort(\r\n        Comparator.comparing((Song p1) -&gt; p1.getTitle())\r\n        .thenComparing(p1 -&gt; p1.getDuration())\r\n        .thenComparing(p1 -&gt; p1.getArtist())\r\n        );\r\n```\r\n\r\nNow here comes the CONFUSING part. For p`laylist1.sort`, i.e. the List, this solve all compilation errors, for both the following `thenComparing` calls. However, for `Collections.sort`, it solves it for the first one, but not the last one. I tested added several extra calls to `thenComparing` and it always shows an error for the last one, unless I put `(Song p1)` for the parameter.\r\n\r\nNow I went on to test this further with creating a `TreeSet` and with using `Objects.compare`:\r\n\r\n```java\r\nint x = Objects.compare(t1, t2, \r\n    Comparator.comparing((Song p1) -&gt; p1.getTitle())\r\n    .thenComparing(p1 -&gt; p1.getDuration())\r\n    .thenComparing(p1 -&gt; p1.getArtist())\r\n    );\r\n    \r\n    \r\nSet&lt;Song&gt; set = new TreeSet&lt;Song&gt;(\r\n    Comparator.comparing((Song p1) -&gt; p1.getTitle())\r\n    .thenComparing(p1 -&gt; p1.getDuration())\r\n    .thenComparing(p1 -&gt; p1.getArtist())\r\n    );\r\n```\r\n\r\nThe same thing happens as in, for the `TreeSet`, there are no compilation errors but for `Objects.compare` the last call to `thenComparing` shows an error.\r\n\r\nCan anyone please explain why this is happening and also why there is no need to use `(Song p1)` at all when simply calling the comparing method (without further `thenComparing` calls).\r\n\r\n\r\nOne other query on the same topic is when I do this to the `TreeSet`:\r\n\r\n```java\r\nSet&lt;Song&gt; set = new TreeSet&lt;Song&gt;(\r\n            Comparator.comparing(p1 -&gt; p1.getTitle())\r\n            .thenComparing(p1 -&gt; p1.getDuration())\r\n            .thenComparing(p1 -&gt; p1.getArtist())\r\n            );\r\n```\r\n\r\ni.e. remove the type `Song` from the first lambda parameter for the comparing method call, it shows syntax errors under the call to comparing and the first call to `thenComparing` but not to the final call to `thenComparing` - almost the opposite of what was happening above! Whereas, for all the other 3 examples i.e. with `Objects.compare`, `List.sort` and `Collections.sort` when I remove that first `Song` param type it shows syntax errors for all the calls.\r\n\r\nEdited to include screenshot of errors I was receiving in Eclipse Kepler SR2, which I have now since found are Eclipse specific because when compiled using the JDK8 java compiler on the command-line it compiles OK. \r\n\r\n![Sort errors in Eclipse][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/cPEfH.jpg","title":"Very confused by Java 8 Comparator type inference","body":"<p>I've been looking at the difference between <code>Collections.sort</code> and <code>list.sort</code>, specifically regarding using the <code>Comparator</code> static methods and whether param types are required in the lambda expressions. Before we start, I know I could use method references, e.g. <code>Song::getTitle</code> to overcome my problems, but my query here is not so much something I want to fix but something I want an answer to, i.e. why is the Java compiler handling it in this way.</p>\n<p>These are my finding. Suppose we have an <code>ArrayList</code> of type <code>Song</code>, with some songs added, there are 3 standard get methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Song&gt; playlist1 = new ArrayList&lt;Song&gt;();\n\n//add some new Song objects\nplaylist.addSong( new Song(&quot;Only Girl (In The World)&quot;, 235, &quot;Rihanna&quot;) );\nplaylist.addSong( new Song(&quot;Thinking of Me&quot;, 206, &quot;Olly Murs&quot;) );\nplaylist.addSong( new Song(&quot;Raise Your Glass&quot;, 202,&quot;P!nk&quot;) );\n</code></pre>\n<p>Here is a call to both types of sort method that works, no problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort(playlist1, \n        Comparator.comparing(p1 -&gt; p1.getTitle()));\n\nplaylist1.sort(\n        Comparator.comparing(p1 -&gt; p1.getTitle()));\n</code></pre>\n<p>As soon as I start to chain <code>thenComparing</code>, the following happens:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort(playlist1,\n        Comparator.comparing(p1 -&gt; p1.getTitle())\n        .thenComparing(p1 -&gt; p1.getDuration())\n        .thenComparing(p1 -&gt; p1.getArtist())\n      );\n  \nplaylist1.sort(\n    Comparator.comparing(p1 -&gt; p1.getTitle())\n      .thenComparing(p1 -&gt; p1.getDuration())\n      .thenComparing(p1 -&gt; p1.getArtist())\n    );\n</code></pre>\n<p>i.e. syntax errors because it does not know the type of <code>p1</code> anymore. So to fix this I add the type <code>Song</code> to the first parameter (of comparing):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort(playlist1,\n            Comparator.comparing((Song p1) -&gt; p1.getTitle())\n            .thenComparing(p1 -&gt; p1.getDuration())\n            .thenComparing(p1 -&gt; p1.getArtist())\n            );\n    \nplaylist1.sort(\n        Comparator.comparing((Song p1) -&gt; p1.getTitle())\n        .thenComparing(p1 -&gt; p1.getDuration())\n        .thenComparing(p1 -&gt; p1.getArtist())\n        );\n</code></pre>\n<p>Now here comes the CONFUSING part. For p<code>laylist1.sort</code>, i.e. the List, this solve all compilation errors, for both the following <code>thenComparing</code> calls. However, for <code>Collections.sort</code>, it solves it for the first one, but not the last one. I tested added several extra calls to <code>thenComparing</code> and it always shows an error for the last one, unless I put <code>(Song p1)</code> for the parameter.</p>\n<p>Now I went on to test this further with creating a <code>TreeSet</code> and with using <code>Objects.compare</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x = Objects.compare(t1, t2, \n    Comparator.comparing((Song p1) -&gt; p1.getTitle())\n    .thenComparing(p1 -&gt; p1.getDuration())\n    .thenComparing(p1 -&gt; p1.getArtist())\n    );\n    \n    \nSet&lt;Song&gt; set = new TreeSet&lt;Song&gt;(\n    Comparator.comparing((Song p1) -&gt; p1.getTitle())\n    .thenComparing(p1 -&gt; p1.getDuration())\n    .thenComparing(p1 -&gt; p1.getArtist())\n    );\n</code></pre>\n<p>The same thing happens as in, for the <code>TreeSet</code>, there are no compilation errors but for <code>Objects.compare</code> the last call to <code>thenComparing</code> shows an error.</p>\n<p>Can anyone please explain why this is happening and also why there is no need to use <code>(Song p1)</code> at all when simply calling the comparing method (without further <code>thenComparing</code> calls).</p>\n<p>One other query on the same topic is when I do this to the <code>TreeSet</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Song&gt; set = new TreeSet&lt;Song&gt;(\n            Comparator.comparing(p1 -&gt; p1.getTitle())\n            .thenComparing(p1 -&gt; p1.getDuration())\n            .thenComparing(p1 -&gt; p1.getArtist())\n            );\n</code></pre>\n<p>i.e. remove the type <code>Song</code> from the first lambda parameter for the comparing method call, it shows syntax errors under the call to comparing and the first call to <code>thenComparing</code> but not to the final call to <code>thenComparing</code> - almost the opposite of what was happening above! Whereas, for all the other 3 examples i.e. with <code>Objects.compare</code>, <code>List.sort</code> and <code>Collections.sort</code> when I remove that first <code>Song</code> param type it shows syntax errors for all the calls.</p>\n<p>Edited to include screenshot of errors I was receiving in Eclipse Kepler SR2, which I have now since found are Eclipse specific because when compiled using the JDK8 java compiler on the command-line it compiles OK.</p>\n<p><img src=\"https://i.stack.imgur.com/cPEfH.jpg\" alt=\"Sort errors in Eclipse\" /></p>\n"},{"tags":["java","environment-variables"],"answers":[{"comments":[{"owner":{"account_id":222425,"reputation":1800,"user_id":481008,"display_name":"Patelify"},"score":0,"creation_date":1323988114,"post_id":4335002,"comment_id":10560519,"body_markdown":"I thought I was going crazy with getProperty not working, just was using the wrong method call. Thanks!!","body":"I thought I was going crazy with getProperty not working, just was using the wrong method call. Thanks!!"}],"tags":[],"owner":{"account_id":240499,"reputation":230,"user_id":510778,"display_name":"Sevich"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1696254006,"creation_date":1291293118,"answer_id":4335002,"question_id":4334917,"body_markdown":"__System.getProperty(String propertyName)__ - this method is used for getting properties and not for the environment variables. \r\n\r\nTo get environment variable you can use __System.getenv(String envName)__ method. \r\n\r\nFirst link in google leads to this: [*Get Environment Variables in Java*][1]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20111105105906/http://blog.codebeach.com/2008/02/get-environment-variables-in-java.html","title":"Eclipse environment variables","body":"<p><strong>System.getProperty(String propertyName)</strong> - this method is used for getting properties and not for the environment variables.</p>\n<p>To get environment variable you can use <strong>System.getenv(String envName)</strong> method.</p>\n<p>First link in google leads to this: <a href=\"https://web.archive.org/web/20111105105906/http://blog.codebeach.com/2008/02/get-environment-variables-in-java.html\" rel=\"nofollow noreferrer\"><em>Get Environment Variables in Java</em></a></p>\n"}],"owner":{"account_id":192944,"reputation":1394,"user_id":434374,"accept_rate":94,"display_name":"Victoria Seniuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4490,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4335002,"answer_count":1,"score":4,"last_activity_date":1696254006,"creation_date":1291292569,"question_id":4334917,"body_markdown":"I use Eclipse. I set for my project some environment variables. Can I get it from my java code with `System.getProperty(&quot;SOME_VAR&quot;)` ?\r\n\r\nHow can I get the environment variables from java code in Eclipse?\r\n\r\n\r\n \r\n\r\n","title":"Eclipse environment variables","body":"<p>I use Eclipse. I set for my project some environment variables. Can I get it from my java code with <code>System.getProperty(\"SOME_VAR\")</code> ?</p>\n\n<p>How can I get the environment variables from java code in Eclipse?</p>\n"},{"tags":["java","database","neo4j","linkurious"],"comments":[{"owner":{"account_id":947871,"reputation":64287,"user_id":974731,"display_name":"cybersam"},"score":0,"creation_date":1686357207,"post_id":76420810,"comment_id":134792391,"body_markdown":"You may want to submit a [neo4j issue](https://github.com/neo4j/neo4j/issues) for this.","body":"You may want to submit a <a href=\"https://github.com/neo4j/neo4j/issues\" rel=\"nofollow noreferrer\">neo4j issue</a> for this."},{"owner":{"account_id":10112741,"reputation":606,"user_id":7472416,"accept_rate":0,"display_name":"Arjun G"},"score":0,"creation_date":1686814963,"post_id":76420810,"comment_id":134851825,"body_markdown":"@cybersam Created a new issue: https://github.com/neo4j/neo4j/issues/13217","body":"@cybersam Created a new issue: <a href=\"https://github.com/neo4j/neo4j/issues/13217\" rel=\"nofollow noreferrer\">github.com/neo4j/neo4j/issues/13217</a>"},{"owner":{"account_id":10112741,"reputation":606,"user_id":7472416,"accept_rate":0,"display_name":"Arjun G"},"score":0,"creation_date":1687503145,"post_id":76420810,"comment_id":134948623,"body_markdown":"This issue is resolved now- https://github.com/neo4j/neo4j/issues/13217 Solution is available here.","body":"This issue is resolved now- <a href=\"https://github.com/neo4j/neo4j/issues/13217\" rel=\"nofollow noreferrer\">github.com/neo4j/neo4j/issues/13217</a> Solution is available here."},{"owner":{"account_id":947871,"reputation":64287,"user_id":974731,"display_name":"cybersam"},"score":0,"creation_date":1687534715,"post_id":76420810,"comment_id":134955411,"body_markdown":"You should [create an answer with the solution](https://stackoverflow.com/help/self-answer).","body":"You should <a href=\"https://stackoverflow.com/help/self-answer\">create an answer with the solution</a>."}],"answers":[{"comments":[{"owner":{"account_id":5404814,"reputation":313,"user_id":4303647,"display_name":"JonoMac"},"score":0,"creation_date":1696254023,"post_id":76556630,"comment_id":136125743,"body_markdown":"Even tho I had removed the btree indexes prior to database dump, neo4j-admin database migrate YOUR_DB_NAME_HERE kept stating it had completed successfully but it had never worked whenever I checked database info.\n\nIncluding the btree option finally worked for me: --force-btree-indexes-to-range\n\nThank you!","body":"Even tho I had removed the btree indexes prior to database dump, neo4j-admin database migrate YOUR_DB_NAME_HERE kept stating it had completed successfully but it had never worked whenever I checked database info.  Including the btree option finally worked for me: --force-btree-indexes-to-range  Thank you!"}],"tags":[],"owner":{"account_id":10112741,"reputation":606,"user_id":7472416,"accept_rate":0,"display_name":"Arjun G"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687781976,"creation_date":1687781976,"answer_id":76556630,"question_id":76420810,"body_markdown":"When migrating the database should be very careful to migrate to the requested target store format.\r\n\r\n**This is for v5.8.0 release:**\r\n\r\nTo check the storeformat version run the database info check cmd `$neo4j/bin/neo4j-admin database info YOUR_DB_NAME_HERE`\r\n\r\nFor Example **I&#39;m migrating from v4.4.4 to v5.8.0** It will give below:\r\n\r\n\r\nDatabase name:               YOUR_DB_NAME \r\nDatabase in use:              false \r\nStore format version:         record-standard-0.1 \r\n\r\n&gt; Store format introduced in:   4.3.0\r\n&gt; **Store format superseded in:   5.0.0**\r\n\r\nLast committed transaction id:15234 \r\nStore needs recovery:         false\r\n\r\nStore format superseded - Shows the required target store format.\r\n\r\nTo update the store format run: `$neo4j/bin/neo4j-admin database migrate --force-btree-indexes-to-range YOUR_DB_NAME_HERE`\r\n\r\nAfter this check whether store format is updated or not with database info check cmd It should show below:\r\n\r\nDatabase name:                neo4j\r\nDatabase in use:              false\r\nStore format version:         record-standard-1.1\r\n**Store format introduced in:   5.0.0**\r\nLast committed transaction id:15235\r\nStore needs recovery:         false\r\n\r\nThe same migration is to be done to the system folder database ($neo4j...data/databases/system) as well - Don&#39;t forget to do this.\r\n\r\n**For migration both the databases in data/databases has to be migrated for successful upgradation.**\r\n\r\nHope this solution works for others too! I will be glad if it helped.\r\n","title":"UnableToMigrateException: The selected target store format &#39;AF4.3.0&#39; (introduced in 4.3.0) is no longer supported","body":"<p>When migrating the database should be very careful to migrate to the requested target store format.</p>\n<p><strong>This is for v5.8.0 release:</strong></p>\n<p>To check the storeformat version run the database info check cmd <code>$neo4j/bin/neo4j-admin database info YOUR_DB_NAME_HERE</code></p>\n<p>For Example <strong>I'm migrating from v4.4.4 to v5.8.0</strong> It will give below:</p>\n<p>Database name:               YOUR_DB_NAME\nDatabase in use:              false\nStore format version:         record-standard-0.1</p>\n<blockquote>\n<p>Store format introduced in:   4.3.0\n<strong>Store format superseded in:   5.0.0</strong></p>\n</blockquote>\n<p>Last committed transaction id:15234\nStore needs recovery:         false</p>\n<p>Store format superseded - Shows the required target store format.</p>\n<p>To update the store format run: <code>$neo4j/bin/neo4j-admin database migrate --force-btree-indexes-to-range YOUR_DB_NAME_HERE</code></p>\n<p>After this check whether store format is updated or not with database info check cmd It should show below:</p>\n<p>Database name:                neo4j\nDatabase in use:              false\nStore format version:         record-standard-1.1\n<strong>Store format introduced in:   5.0.0</strong>\nLast committed transaction id:15235\nStore needs recovery:         false</p>\n<p>The same migration is to be done to the system folder database ($neo4j...data/databases/system) as well - Don't forget to do this.</p>\n<p><strong>For migration both the databases in data/databases has to be migrated for successful upgradation.</strong></p>\n<p>Hope this solution works for others too! I will be glad if it helped.</p>\n"}],"owner":{"account_id":10112741,"reputation":606,"user_id":7472416,"accept_rate":0,"display_name":"Arjun G"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76556630,"answer_count":1,"score":0,"last_activity_date":1696253989,"creation_date":1686122577,"question_id":76420810,"body_markdown":"I am trying to upgrade Neo4J from version 4.4.4 to 5.8.0 but getting below Exception:\r\n\r\n&gt; UnableToMigrateException: The selected target store format &#39;AF4.3.0&#39;\r\n&gt; (introduced in 4.3.0) is no longer supported\r\n\r\nHow do I resolve this? Can anyone please help me!","title":"UnableToMigrateException: The selected target store format &#39;AF4.3.0&#39; (introduced in 4.3.0) is no longer supported","body":"<p>I am trying to upgrade Neo4J from version 4.4.4 to 5.8.0 but getting below Exception:</p>\n<blockquote>\n<p>UnableToMigrateException: The selected target store format 'AF4.3.0'\n(introduced in 4.3.0) is no longer supported</p>\n</blockquote>\n<p>How do I resolve this? Can anyone please help me!</p>\n"},{"tags":["java","jquery","ajax","jsp","struts2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1384856135,"post_id":20068500,"comment_id":29894047,"body_markdown":"What is JSON returned by the server?","body":"What is JSON returned by the server?"},{"owner":{"account_id":3599996,"reputation":1,"user_id":3003504,"accept_rate":0,"display_name":"joee"},"score":0,"creation_date":1384857357,"post_id":20068500,"comment_id":29894793,"body_markdown":"@RomanC its not JSON its a string like this -&gt; new:8,i am splitting it into obj[0] and obj[1].","body":"@RomanC its not JSON its a string like this -&gt; new:8,i am splitting it into obj[0] and obj[1]."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1384858484,"post_id":20068500,"comment_id":29895410,"body_markdown":"You should return JSON to access the obj[0] and obj[1].","body":"You should return JSON to access the obj[0] and obj[1]."},{"owner":{"account_id":3599996,"reputation":1,"user_id":3003504,"accept_rate":0,"display_name":"joee"},"score":0,"creation_date":1384861187,"post_id":20068500,"comment_id":29897062,"body_markdown":"json is compulsarily required,but i am able to alert obj[0] and obj[1].","body":"json is compulsarily required,but i am able to alert obj[0] and obj[1]."},{"owner":{"account_id":3599996,"reputation":1,"user_id":3003504,"accept_rate":0,"display_name":"joee"},"score":0,"creation_date":1384861319,"post_id":20068500,"comment_id":29897154,"body_markdown":"@RomanC how i can use JSON.","body":"@RomanC how i can use JSON."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1384861751,"post_id":20068500,"comment_id":29897444,"body_markdown":"You can use it directly in javascript. But I think you didn&#39;t get JSON in the `data` variable. If you did what is `alert(JSON.stringify(data));`?","body":"You can use it directly in javascript. But I think you didn&#39;t get JSON in the <code>data</code> variable. If you did what is <code>alert(JSON.stringify(data));</code>?"},{"owner":{"account_id":3599996,"reputation":1,"user_id":3003504,"accept_rate":0,"display_name":"joee"},"score":0,"creation_date":1384862168,"post_id":20068500,"comment_id":29897680,"body_markdown":"@RomanC if i get JSON in data,next how to parse it to obj[0] and obj[1]","body":"@RomanC if i get JSON in data,next how to parse it to obj[0] and obj[1]"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1384862888,"post_id":20068500,"comment_id":29898085,"body_markdown":"Did I ask you to *parse* it? JSON objects don&#39;t need to parse. I need to know a structure of JSON to get the values.","body":"Did I ask you to <i>parse</i> it? JSON objects don&#39;t need to parse. I need to know a structure of JSON to get the values."}],"answers":[{"comments":[{"owner":{"account_id":3599996,"reputation":1,"user_id":3003504,"accept_rate":0,"display_name":"joee"},"score":0,"creation_date":1384865041,"post_id":20071704,"comment_id":29899390,"body_markdown":"thanx,i want to create different ids for &lt;td&gt; of status column in the jsp i have provided,using for loop id&#39;s like status1,status2,status3...for each iteration of list.how can i generate those values using forloop,and how can i put that id inside td tag..","body":"thanx,i want to create different ids for &lt;td&gt; of status column in the jsp i have provided,using for loop id&#39;s like status1,status2,status3...for each iteration of list.how can i generate those values using forloop,and how can i put that id inside td tag.."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1384865561,"post_id":20071704,"comment_id":29899674,"body_markdown":"you can use `%{&#39;status&#39;+#status.index}` for ids.","body":"you can use <code>%{&#39;status&#39;+#status.index}</code> for ids."},{"owner":{"account_id":3599996,"reputation":1,"user_id":3003504,"accept_rate":0,"display_name":"joee"},"score":0,"creation_date":1384866629,"post_id":20071704,"comment_id":29900309,"body_markdown":"dint got can u little bit elaborate with for loop.&lt;td id=&quot;stat&quot;&gt;&lt;s:property value=&quot;%{#m.status}&quot; /&gt;&lt;/td&gt;\nfor this i want to generate different ids usinf forloop,for each list this td is iterating.","body":"dint got can u little bit elaborate with for loop.&lt;td id=&quot;stat&quot;&gt;&lt;s:property value=&quot;%{#m.status}&quot; /&gt;&lt;/td&gt; for this i want to generate different ids usinf forloop,for each list this td is iterating."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1384868754,"post_id":20071704,"comment_id":29901626,"body_markdown":"`&lt;td id=&quot;&lt;s:property value=&quot;%{&#39;status&#39;+#status.index}&quot; /&gt;&quot;&gt;&lt;/td&gt;` this will get you different ids","body":"<code>&lt;td id=&quot;&lt;s:property value=&quot;%{&#39;status&#39;+#status.index}&quot; &#47;&gt;&quot;&gt;&lt;&#47;td&gt;</code> this will get you different ids"},{"owner":{"account_id":3599996,"reputation":1,"user_id":3003504,"accept_rate":0,"display_name":"joee"},"score":0,"creation_date":1384869358,"post_id":20071704,"comment_id":29902017,"body_markdown":"what is that index,what it will give?","body":"what is that index,what it will give?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1384945404,"post_id":20071704,"comment_id":29937969,"body_markdown":"it&#39;s the value of the index of the current element of the iterator (0,1,...size())","body":"it&#39;s the value of the index of the current element of the iterator (0,1,...size())"}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384864349,"creation_date":1384864349,"answer_id":20071704,"question_id":20068500,"body_markdown":"If your action returns JSON object like `{&quot;status&quot;:&quot;success&quot;,&quot;records&quot;:&quot;123&quot;}` then to set the values you could use\r\n\r\n    success:function(data) {\r\n      alert(JSON.stringify(data));\r\n      $(&quot;#stat&quot;).val(data.status);\r\n      $(&quot;#recs&quot;).val(data.records);\r\n    }\r\n\r\n","title":"How to set the values from the ajax to the table in jsp","body":"<p>If your action returns JSON object like <code>{\"status\":\"success\",\"records\":\"123\"}</code> then to set the values you could use</p>\n\n<pre><code>success:function(data) {\n  alert(JSON.stringify(data));\n  $(\"#stat\").val(data.status);\n  $(\"#recs\").val(data.records);\n}\n</code></pre>\n"}],"owner":{"account_id":3599996,"reputation":1,"user_id":3003504,"accept_rate":0,"display_name":"joee"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2641,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696253910,"creation_date":1384855452,"question_id":20068500,"body_markdown":"I am having one JSP with a table,and in that I have two columns called status and numRecords.\r\nI am getting new status and numrecords values thru ajax.\r\nwhat I want to is replace status and  numrecords of the table with the newly retrieved values on ajax.\r\nI have tried like this,this is my jsp:\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    \r\n    &lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;  \r\n    &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt; \r\n    \t&lt;head&gt;\r\n            &lt;title&gt;File Upload&lt;/title&gt;\r\n            &lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n           &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/style1.css&quot; /&gt;\r\n           &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/button.css&quot; /&gt;\r\n            &lt;link href=&quot;css/common-style.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt; \r\n            &lt;style&gt;\r\n            a{\r\n            color:white;\r\n            text-decoration:none;\r\n            }\r\n            &lt;/style&gt;\r\n             &lt;script type=&quot;text/javascript&quot;&gt;\r\n        \tvar id;\r\n        \t function refreshRecord(value)\r\n            {\r\n                id = value;\r\n                alert(id);\r\n            }\r\n            \r\n            $(document).ready(function(){\r\n                $(&quot;#refresh&quot;).click(function(){\r\n                   var fileId=id;\r\n                   alert(&quot;ajax id is &quot;+fileId);\r\n                   $.ajax({\r\n                   type:&#39;post&#39;,\r\n                    url:&#39;checkStatusAndNumRecs&#39;,\r\n                   data:{fileId:fileId},\r\n                    success:function(data)\r\n                   {\r\n                   \t\tvar obj=data.split(&#39;:&#39;);\r\n                   \t\talert(&quot;status is :&quot;+obj[0]);\r\n                       $(&quot;#stat&quot;).html(obj[0]);\r\n                       $(&quot;#recs&quot;).html(obj[1]);\r\n                   },\r\n                   error:function(data)\r\n                {\r\n                    $(&quot;#div1&quot;).html(&quot;It was a failure !!!&quot;);\r\n                }\r\n                    });\r\n                    });\r\n              \t\t});\r\n            &lt;/script&gt;    \r\n    \t    &lt;/head&gt;\r\n        &lt;body&gt;\r\n        &lt;%@include file=&quot;index1.html&quot; %&gt;\r\n        &lt;div class=&quot;box2&quot;&gt;    \r\n         &lt;div class=&quot;box3&quot;&gt; \r\n        &lt;s:property value=&quot;userId&quot;/&gt;\r\n        &lt;/div&gt;  \r\n    \t\t&lt;center&gt;&lt;h2&gt;FILE STATUS&lt;/h2&gt;&lt;/center&gt;\r\n        &lt;center&gt; \r\n         \r\n            &lt;form action=&quot;Upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n                &lt;label for=&quot;myFile&quot; class=&quot;text&quot;&gt;Upload your file:&lt;/label&gt;\r\n                &lt;input type=&quot;hidden&quot; name=&quot;upload&quot; value=&quot;upload&quot;/&gt;\r\n                &lt;input type=&quot;file&quot; name=&quot;myFile&quot; size=&quot;40&quot;  class=&quot;file&quot;/&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;Upload&quot; class=&quot;button&quot;/&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;Refresh&quot; class=&quot;button&quot;/&gt;\t\r\n            &lt;/form&gt;\r\n            &lt;/center&gt;        \r\n              \r\n              &lt;center&gt;\r\n             &lt;table border=&quot;1&quot; class=&quot;displaytab&quot; id=&quot;rtable&quot;&gt;\r\n             &lt;s:if test=&quot;%{user.roles == &#39;admin&#39;}&quot;&gt;\r\n             &lt;tr&gt;\t&lt;td  colspan=&quot;10&quot; style=&quot;background:#7395B8;color:white;font-size:18px;font-weight:bold;&quot;&gt;&lt;center&gt;Admin&lt;/center&gt;&lt;/td&gt;&lt;/tr&gt;\r\n             &lt;/s:if&gt;\r\n             &lt;tr&gt; \r\n             &lt;th&gt;FileId&lt;/th&gt;&lt;th&gt;File Name&lt;/th&gt;&lt;th&gt;Upload Date&lt;/th&gt;&lt;th&gt;#Records&lt;/th&gt;&lt;th&gt;Status&lt;/th&gt;&lt;th&gt;Estimated Time&lt;/th&gt;&lt;th&gt;Processed Records&lt;/th&gt;&lt;th&gt;Generate Report&lt;/th&gt;&lt;th&gt;&lt;/th&gt;&lt;s:if test=&quot;%{user.roles == &#39;admin&#39;}&quot;&gt;&lt;th&gt;Controls&lt;/th&gt;&lt;/s:if&gt;\r\n             &lt;/tr&gt;\r\n             \r\n             &lt;s:iterator value=&quot;uploadList&quot; var=&quot;m&quot;&gt; \r\n             \t&lt;tr&gt;   \r\n             \t&lt;td&gt;&lt;s:property value=&quot;%{#m.fileId}&quot; /&gt;&lt;/td&gt; \r\n             \t&lt;td&gt;&lt;s:property value=&quot;%{#m.fileName}&quot; /&gt;&lt;/td&gt;\r\n             \t&lt;td&gt;&lt;s:property value=&quot;%{#m.uploadDate}&quot; /&gt;&lt;/td&gt;\r\n             \t&lt;td id=&quot;recs&quot;&gt;&lt;s:property value=&quot;%{#m.numRecords}&quot; /&gt;&lt;/td&gt;\r\n             \t&lt;td id=&quot;stat&quot;&gt;&lt;s:property value=&quot;%{#m.status}&quot; /&gt;&lt;/td&gt;\r\n             \t&lt;td&gt;tbd&lt;/td&gt;\r\n             \t\r\n             \t&lt;td&gt;&lt;s:property value=&quot;%{#m.numRecords}&quot; /&gt;&lt;/td&gt;\r\n             \t&lt;td&gt;&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/generate.png&quot; title=&quot;Generate Report&quot;&gt;&lt;/a&gt;&lt;/td&gt;\r\n             \t&lt;td&gt;&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/refresh.png&quot; title=&quot;Refresh&quot; id=&quot;refresh&quot; onclick=&quot;refreshRecord(&lt;s:property value=&quot;%{#m.fileId}&quot; /&gt;);&quot;&gt;&lt;/a&gt;&lt;/td&gt;\r\n             \t&lt;s:if test=&quot;%{user.roles == &#39;admin&#39;}&quot;&gt;\r\n    \t             &lt;td&gt;&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/details.png&quot;&gt;&lt;/a&gt;\r\n    \t             &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/plus.png&quot; title=&quot;Add Instance&quot;&gt;&lt;/a&gt;\r\n                     &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/minus.png&quot; title=&quot;Remove Instance&quot;&gt;&lt;/a&gt;\r\n                     &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/download.png&quot; title=&quot;Download&quot;&gt;&lt;/a&gt;\r\n                     &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/reconnect.png&quot; title=&quot;Reconnect&quot;&gt;&lt;/a&gt;&lt;/td&gt;\r\n                     \r\n    \t        &lt;/s:if&gt;\r\n             \t&lt;/tr&gt;\r\n        \t &lt;/s:iterator&gt;\r\n             &lt;/table&gt;\r\n             &lt;/center&gt;\r\n             \t \r\n             &lt;br&gt;\r\n             &lt;br&gt;\r\n             &lt;br&gt;\r\n             &lt;br&gt;  \r\n             &lt;center&gt;\r\n             &lt;s:if test=&quot;%{user.roles == &#39;admin&#39;}&quot;&gt;\r\n             \r\n    &lt;!--          &lt;select name=&quot;user names&quot;&gt;\r\n    \t\t\t&lt;s:iterator value=&quot;userNamesList&quot;&gt;\r\n            \t\t&lt;option value=&quot;emailColumn&quot; &gt; &lt;s:property/&gt;\r\n                \t&lt;/option&gt;\r\n            \t&lt;/s:iterator&gt;\r\n        \t&lt;/select&gt; --&gt;\r\n        \t\r\n             &lt;table border=&quot;1&quot; class=&quot;displaytab&quot; id=&quot;usertab&quot;&gt;\r\n    \t     &lt;s:if test=&quot;%{uploadListMap.size() != 0}&quot;&gt;   \r\n    \t     &lt;tr&gt;\t&lt;td  colspan=&quot;10&quot; style=&quot;background:#7395B8;color:white;font-size:18px;font-weight:bold;&quot;&gt;User Job Details&lt;/center&gt;&lt;/td&gt;&lt;/tr&gt;\r\n    \t     &lt;tr&gt; \r\n             &lt;th&gt;FileId&lt;/th&gt;&lt;th&gt;File Name&lt;/th&gt;&lt;th&gt;Upload Date&lt;/th&gt;&lt;th&gt;#Records&lt;/th&gt;&lt;th&gt;Status&lt;/th&gt;&lt;th&gt;Estimated Time&lt;/th&gt;&lt;th&gt;Processed Records&lt;/th&gt;&lt;th&gt;Generate Report&lt;/th&gt;&lt;th&gt;&lt;/th&gt;&lt;s:if test=&quot;%{user.roles == &#39;admin&#39;}&quot;&gt;&lt;th&gt;Controls&lt;/th&gt;&lt;/s:if&gt;\r\n             &lt;/tr&gt;\r\n             &lt;s:iterator  value=&quot;%{uploadListMap}&quot;&gt;\r\n             &lt;tr&gt;\t&lt;td  colspan=&quot;10&quot; style=&quot;background:#7395B8;color:white;font-size:18px;font-weight:bold;&quot;&gt;&lt;center&gt;&lt;s:property value=&quot;key&quot;/&gt;&lt;/center&gt;&lt;/td&gt;\r\n    \t     &lt;s:iterator value=&quot;value&quot; var=&quot;u&quot;&gt;\r\n    \t     &lt;tr&gt;\r\n             \t&lt;td&gt;&lt;s:property value=&quot;%{#u.fileId}&quot; /&gt;&lt;/td&gt; \r\n             \t&lt;td&gt;&lt;s:property value=&quot;%{#u.fileName}&quot; /&gt;&lt;/td&gt;\r\n             \t&lt;td&gt;&lt;s:property value=&quot;%{#u.uploadDate}&quot; /&gt;&lt;/td&gt;\r\n             \t&lt;td&gt;&lt;s:property value=&quot;%{#u.numRecords}&quot; /&gt;&lt;/td&gt;\r\n             \t&lt;td&gt;&lt;s:property value=&quot;%{#u.status}&quot; /&gt;&lt;/td&gt;\r\n             \t&lt;td&gt;tbd&lt;/td&gt;\r\n             \t&lt;td&gt;&lt;s:property value=&quot;%{#m.numRecords}&quot; /&gt;&lt;/td&gt;\r\n             \t&lt;td&gt;&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/generate.png&quot; title=&quot;Generate Report&quot;&gt;&lt;/a&gt;&lt;/td&gt;\r\n             \t&lt;td&gt;&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/refresh.png&quot; title=&quot;Refresh&quot; id=&quot;refresh&quot; onclick=&quot;refreshRecord(&lt;s:property value=&quot;%{#u.fileId}&quot; /&gt;);&quot;&gt;&lt;/a&gt;&lt;/td&gt;\r\n             \t&lt;td&gt;&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/details.png&quot;&gt;&lt;/a&gt;\r\n    \t             &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/plus.png&quot; title=&quot;Add Instance&quot;&gt;&lt;/a&gt;\r\n                     &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/minus.png&quot; title=&quot;Remove Instance&quot;&gt;&lt;/a&gt;\r\n                     &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/download.png&quot; title=&quot;Download&quot;&gt;&lt;/a&gt;\r\n                     &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/reconnect.png&quot; title=&quot;Reconnect&quot;&gt;&lt;/a&gt;&lt;/td&gt;\r\n    \t     &lt;/tr&gt;\r\n    \t     &lt;/s:iterator&gt;\r\n    \t     &lt;/tr&gt;\r\n    \t     &lt;/s:iterator&gt;\r\n    \t     &lt;/s:if&gt;\r\n    \t     &lt;/table&gt;\r\n    \t     &lt;/s:if&gt;\r\n             &lt;/center&gt; \r\n             &lt;/div&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n","title":"How to set the values from the ajax to the table in jsp","body":"<p>I am having one JSP with a table,and in that I have two columns called status and numRecords.\nI am getting new status and numrecords values thru ajax.\nwhat I want to is replace status and  numrecords of the table with the newly retrieved values on ajax.\nI have tried like this,this is my jsp:</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\npageEncoding=&quot;ISO-8859-1&quot;%&gt;\n\n&lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;  \n&quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;html&gt; \n    &lt;head&gt;\n        &lt;title&gt;File Upload&lt;/title&gt;\n        &lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery.min.js&quot;&gt;&lt;/script&gt;\n       &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/style1.css&quot; /&gt;\n       &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/button.css&quot; /&gt;\n        &lt;link href=&quot;css/common-style.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt; \n        &lt;style&gt;\n        a{\n        color:white;\n        text-decoration:none;\n        }\n        &lt;/style&gt;\n         &lt;script type=&quot;text/javascript&quot;&gt;\n        var id;\n         function refreshRecord(value)\n        {\n            id = value;\n            alert(id);\n        }\n        \n        $(document).ready(function(){\n            $(&quot;#refresh&quot;).click(function(){\n               var fileId=id;\n               alert(&quot;ajax id is &quot;+fileId);\n               $.ajax({\n               type:'post',\n                url:'checkStatusAndNumRecs',\n               data:{fileId:fileId},\n                success:function(data)\n               {\n                    var obj=data.split(':');\n                    alert(&quot;status is :&quot;+obj[0]);\n                   $(&quot;#stat&quot;).html(obj[0]);\n                   $(&quot;#recs&quot;).html(obj[1]);\n               },\n               error:function(data)\n            {\n                $(&quot;#div1&quot;).html(&quot;It was a failure !!!&quot;);\n            }\n                });\n                });\n                });\n        &lt;/script&gt;    \n        &lt;/head&gt;\n    &lt;body&gt;\n    &lt;%@include file=&quot;index1.html&quot; %&gt;\n    &lt;div class=&quot;box2&quot;&gt;    \n     &lt;div class=&quot;box3&quot;&gt; \n    &lt;s:property value=&quot;userId&quot;/&gt;\n    &lt;/div&gt;  \n        &lt;center&gt;&lt;h2&gt;FILE STATUS&lt;/h2&gt;&lt;/center&gt;\n    &lt;center&gt; \n     \n        &lt;form action=&quot;Upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\n            &lt;label for=&quot;myFile&quot; class=&quot;text&quot;&gt;Upload your file:&lt;/label&gt;\n            &lt;input type=&quot;hidden&quot; name=&quot;upload&quot; value=&quot;upload&quot;/&gt;\n            &lt;input type=&quot;file&quot; name=&quot;myFile&quot; size=&quot;40&quot;  class=&quot;file&quot;/&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Upload&quot; class=&quot;button&quot;/&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Refresh&quot; class=&quot;button&quot;/&gt;   \n        &lt;/form&gt;\n        &lt;/center&gt;        \n          \n          &lt;center&gt;\n         &lt;table border=&quot;1&quot; class=&quot;displaytab&quot; id=&quot;rtable&quot;&gt;\n         &lt;s:if test=&quot;%{user.roles == 'admin'}&quot;&gt;\n         &lt;tr&gt;   &lt;td  colspan=&quot;10&quot; style=&quot;background:#7395B8;color:white;font-size:18px;font-weight:bold;&quot;&gt;&lt;center&gt;Admin&lt;/center&gt;&lt;/td&gt;&lt;/tr&gt;\n         &lt;/s:if&gt;\n         &lt;tr&gt; \n         &lt;th&gt;FileId&lt;/th&gt;&lt;th&gt;File Name&lt;/th&gt;&lt;th&gt;Upload Date&lt;/th&gt;&lt;th&gt;#Records&lt;/th&gt;&lt;th&gt;Status&lt;/th&gt;&lt;th&gt;Estimated Time&lt;/th&gt;&lt;th&gt;Processed Records&lt;/th&gt;&lt;th&gt;Generate Report&lt;/th&gt;&lt;th&gt;&lt;/th&gt;&lt;s:if test=&quot;%{user.roles == 'admin'}&quot;&gt;&lt;th&gt;Controls&lt;/th&gt;&lt;/s:if&gt;\n         &lt;/tr&gt;\n         \n         &lt;s:iterator value=&quot;uploadList&quot; var=&quot;m&quot;&gt; \n            &lt;tr&gt;   \n            &lt;td&gt;&lt;s:property value=&quot;%{#m.fileId}&quot; /&gt;&lt;/td&gt; \n            &lt;td&gt;&lt;s:property value=&quot;%{#m.fileName}&quot; /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;s:property value=&quot;%{#m.uploadDate}&quot; /&gt;&lt;/td&gt;\n            &lt;td id=&quot;recs&quot;&gt;&lt;s:property value=&quot;%{#m.numRecords}&quot; /&gt;&lt;/td&gt;\n            &lt;td id=&quot;stat&quot;&gt;&lt;s:property value=&quot;%{#m.status}&quot; /&gt;&lt;/td&gt;\n            &lt;td&gt;tbd&lt;/td&gt;\n            \n            &lt;td&gt;&lt;s:property value=&quot;%{#m.numRecords}&quot; /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/generate.png&quot; title=&quot;Generate Report&quot;&gt;&lt;/a&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/refresh.png&quot; title=&quot;Refresh&quot; id=&quot;refresh&quot; onclick=&quot;refreshRecord(&lt;s:property value=&quot;%{#m.fileId}&quot; /&gt;);&quot;&gt;&lt;/a&gt;&lt;/td&gt;\n            &lt;s:if test=&quot;%{user.roles == 'admin'}&quot;&gt;\n                 &lt;td&gt;&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/details.png&quot;&gt;&lt;/a&gt;\n                 &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/plus.png&quot; title=&quot;Add Instance&quot;&gt;&lt;/a&gt;\n                 &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/minus.png&quot; title=&quot;Remove Instance&quot;&gt;&lt;/a&gt;\n                 &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/download.png&quot; title=&quot;Download&quot;&gt;&lt;/a&gt;\n                 &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/reconnect.png&quot; title=&quot;Reconnect&quot;&gt;&lt;/a&gt;&lt;/td&gt;\n                 \n            &lt;/s:if&gt;\n            &lt;/tr&gt;\n         &lt;/s:iterator&gt;\n         &lt;/table&gt;\n         &lt;/center&gt;\n             \n         &lt;br&gt;\n         &lt;br&gt;\n         &lt;br&gt;\n         &lt;br&gt;  \n         &lt;center&gt;\n         &lt;s:if test=&quot;%{user.roles == 'admin'}&quot;&gt;\n         \n&lt;!--          &lt;select name=&quot;user names&quot;&gt;\n            &lt;s:iterator value=&quot;userNamesList&quot;&gt;\n                &lt;option value=&quot;emailColumn&quot; &gt; &lt;s:property/&gt;\n                &lt;/option&gt;\n            &lt;/s:iterator&gt;\n        &lt;/select&gt; --&gt;\n        \n         &lt;table border=&quot;1&quot; class=&quot;displaytab&quot; id=&quot;usertab&quot;&gt;\n         &lt;s:if test=&quot;%{uploadListMap.size() != 0}&quot;&gt;   \n         &lt;tr&gt;   &lt;td  colspan=&quot;10&quot; style=&quot;background:#7395B8;color:white;font-size:18px;font-weight:bold;&quot;&gt;User Job Details&lt;/center&gt;&lt;/td&gt;&lt;/tr&gt;\n         &lt;tr&gt; \n         &lt;th&gt;FileId&lt;/th&gt;&lt;th&gt;File Name&lt;/th&gt;&lt;th&gt;Upload Date&lt;/th&gt;&lt;th&gt;#Records&lt;/th&gt;&lt;th&gt;Status&lt;/th&gt;&lt;th&gt;Estimated Time&lt;/th&gt;&lt;th&gt;Processed Records&lt;/th&gt;&lt;th&gt;Generate Report&lt;/th&gt;&lt;th&gt;&lt;/th&gt;&lt;s:if test=&quot;%{user.roles == 'admin'}&quot;&gt;&lt;th&gt;Controls&lt;/th&gt;&lt;/s:if&gt;\n         &lt;/tr&gt;\n         &lt;s:iterator  value=&quot;%{uploadListMap}&quot;&gt;\n         &lt;tr&gt;   &lt;td  colspan=&quot;10&quot; style=&quot;background:#7395B8;color:white;font-size:18px;font-weight:bold;&quot;&gt;&lt;center&gt;&lt;s:property value=&quot;key&quot;/&gt;&lt;/center&gt;&lt;/td&gt;\n         &lt;s:iterator value=&quot;value&quot; var=&quot;u&quot;&gt;\n         &lt;tr&gt;\n            &lt;td&gt;&lt;s:property value=&quot;%{#u.fileId}&quot; /&gt;&lt;/td&gt; \n            &lt;td&gt;&lt;s:property value=&quot;%{#u.fileName}&quot; /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;s:property value=&quot;%{#u.uploadDate}&quot; /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;s:property value=&quot;%{#u.numRecords}&quot; /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;s:property value=&quot;%{#u.status}&quot; /&gt;&lt;/td&gt;\n            &lt;td&gt;tbd&lt;/td&gt;\n            &lt;td&gt;&lt;s:property value=&quot;%{#m.numRecords}&quot; /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/generate.png&quot; title=&quot;Generate Report&quot;&gt;&lt;/a&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/refresh.png&quot; title=&quot;Refresh&quot; id=&quot;refresh&quot; onclick=&quot;refreshRecord(&lt;s:property value=&quot;%{#u.fileId}&quot; /&gt;);&quot;&gt;&lt;/a&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/details.png&quot;&gt;&lt;/a&gt;\n                 &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/plus.png&quot; title=&quot;Add Instance&quot;&gt;&lt;/a&gt;\n                 &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/minus.png&quot; title=&quot;Remove Instance&quot;&gt;&lt;/a&gt;\n                 &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/download.png&quot; title=&quot;Download&quot;&gt;&lt;/a&gt;\n                 &lt;a href=&quot;&quot;&gt;&lt;img src=&quot;images/reconnect.png&quot; title=&quot;Reconnect&quot;&gt;&lt;/a&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         &lt;/s:iterator&gt;\n         &lt;/tr&gt;\n         &lt;/s:iterator&gt;\n         &lt;/s:if&gt;\n         &lt;/table&gt;\n         &lt;/s:if&gt;\n         &lt;/center&gt; \n         &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","soap","jaxb","java-11"],"comments":[{"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"score":0,"creation_date":1696282513,"post_id":77215968,"comment_id":136130875,"body_markdown":"See [is-there-any-maven-plugin-for-jaxb-3-0-jakarta-ee-9](https://stackoverflow.com/questions/66580186/is-there-any-maven-plugin-for-jaxb-3-0-jakarta-ee-9) and [what-are-the-jaxb-jar-files-to-be-used-with-java-17-project](https://stackoverflow.com/questions/75936491/what-are-the-jaxb-jar-files-to-be-used-with-java-17-project/75949788#75949788)","body":"See <a href=\"https://stackoverflow.com/questions/66580186/is-there-any-maven-plugin-for-jaxb-3-0-jakarta-ee-9\">is-there-any-maven-plugin-for-jaxb-3-0-jakarta-ee-9</a> and <a href=\"https://stackoverflow.com/questions/75936491/what-are-the-jaxb-jar-files-to-be-used-with-java-17-project/75949788#75949788\">what-are-the-jaxb-jar-files-to-be-used-with-java-17-project</a>"},{"owner":{"account_id":9908169,"reputation":41,"user_id":7335989,"display_name":"Dave"},"score":0,"creation_date":1696292660,"post_id":77215968,"comment_id":136131804,"body_markdown":"Thanks @RickO&#39;Sullivan for the links but i believe they aren&#39;t relevant with the issue i am having. Looking for some solution to use with the versions i am trying, generating of classes with plugin is not an issue for now. Somehow even with maven versions in classpath, classloader is not getting it at runtime.","body":"Thanks @RickO&#39;Sullivan for the links but i believe they aren&#39;t relevant with the issue i am having. Looking for some solution to use with the versions i am trying, generating of classes with plugin is not an issue for now. Somehow even with maven versions in classpath, classloader is not getting it at runtime."},{"owner":{"account_id":7796848,"reputation":198,"user_id":5897631,"display_name":"Harsh Raj"},"score":0,"creation_date":1699642067,"post_id":77215968,"comment_id":136562030,"body_markdown":"@Dave Did you manage to resolve this? I am running into a similar issue and have tried everything as you.","body":"@Dave Did you manage to resolve this? I am running into a similar issue and have tried everything as you."}],"owner":{"account_id":9908169,"reputation":41,"user_id":7335989,"display_name":"Dave"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696253773,"creation_date":1696253773,"question_id":77215968,"body_markdown":"I am facing an issue which many have reported with migration on JDK 11 from JDK 8 with JaxB library as JAXB classes have been removed from JDK 11. Looked at lot of useful info and tried multiple options, problem is similar to what others have experienced but all solutions described did not work unfortunately hence posting this separately. \r\n\r\n**app is using below:**\r\nOracle OpenJDK 11.0.20, spring-boo: 2.6.7, maven-jaxb23-plugin: 0.15.3\r\n\r\n - Error:\r\nCaused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n - with linked exception:\r\n[java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory]\r\n\\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:232)\r\n\\tat javax.xml.bind.ContextFinder.find(ContextFinder.java:351)\r\n\\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:691)\r\n\\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:632)\r\n\r\nTried below solution without luck :\r\n1) tried adding javax libs in maven based on various suggestions on stackoverflow:\r\njaxb-runtime : 2.3.1\r\njaxws-api 2.3.1\r\njakarta.xml.bind-api: 2.3.3\r\nAlso tried with and without jaxb-impl: 2.3.3\r\nall different combinations of these versions did not work.\r\n\r\n2) Tried \r\nputtin jaxb-api to module path and jaxb-runtime to classpath per one of the suggestions at [link][1]\r\n\r\n\r\n3) tried creating com.sun.xml.internal.bind.v2.ContextFactory to set system property as below, but did not work.\r\n System.setProperty(&quot;javax.xml.bind.JAXBContextFactory&quot;, &quot;com.sun.xml.bind.v2.ContextFactory&quot;);\r\n\r\n4) followed options with different jaxb versions without luck from this link : [jxb version link][2]\r\n5) also followed some options from this link : [other options][3]\r\n\r\nBased on all research, i can see that ContextFactory class shows up in Intellij serach from javax-runtime lib with correct package name as shown in error but it doesn&#39;t take it. \r\nSo adding different jars in pom is not helping, not sure how to force jvm to use the class or lib.\r\nLet me know if you guys have any suggestions to resolve this.\r\n\r\n\r\n  [1]: https://github.com/jakartaee/jaxb-api/issues/78\r\n  [2]: https://mkyong.com/java/java-lang-classnotfoundexception-com-sun-xml-bind-v2-contextfactory/\r\n  [3]: https://stackoverflow.com/questions/54632086/java-11-implementation-of-jaxb-api-has-not-been-found-on-module-path-or-classpa","title":"JDK 11: Implementation of JAXB-API has not been found on module path or classpath. issue with ContextFactory","body":"<p>I am facing an issue which many have reported with migration on JDK 11 from JDK 8 with JaxB library as JAXB classes have been removed from JDK 11. Looked at lot of useful info and tried multiple options, problem is similar to what others have experienced but all solutions described did not work unfortunately hence posting this separately.</p>\n<p><strong>app is using below:</strong>\nOracle OpenJDK 11.0.20, spring-boo: 2.6.7, maven-jaxb23-plugin: 0.15.3</p>\n<ul>\n<li>Error:\nCaused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.</li>\n<li>with linked exception:\n[java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory]\n\\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:232)\n\\tat javax.xml.bind.ContextFinder.find(ContextFinder.java:351)\n\\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:691)\n\\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:632)</li>\n</ul>\n<p>Tried below solution without luck :</p>\n<ol>\n<li><p>tried adding javax libs in maven based on various suggestions on stackoverflow:\njaxb-runtime : 2.3.1\njaxws-api 2.3.1\njakarta.xml.bind-api: 2.3.3\nAlso tried with and without jaxb-impl: 2.3.3\nall different combinations of these versions did not work.</p>\n</li>\n<li><p>Tried\nputtin jaxb-api to module path and jaxb-runtime to classpath per one of the suggestions at <a href=\"https://github.com/jakartaee/jaxb-api/issues/78\" rel=\"nofollow noreferrer\">link</a></p>\n</li>\n<li><p>tried creating com.sun.xml.internal.bind.v2.ContextFactory to set system property as below, but did not work.\nSystem.setProperty(&quot;javax.xml.bind.JAXBContextFactory&quot;, &quot;com.sun.xml.bind.v2.ContextFactory&quot;);</p>\n</li>\n<li><p>followed options with different jaxb versions without luck from this link : <a href=\"https://mkyong.com/java/java-lang-classnotfoundexception-com-sun-xml-bind-v2-contextfactory/\" rel=\"nofollow noreferrer\">jxb version link</a></p>\n</li>\n<li><p>also followed some options from this link : <a href=\"https://stackoverflow.com/questions/54632086/java-11-implementation-of-jaxb-api-has-not-been-found-on-module-path-or-classpa\">other options</a></p>\n</li>\n</ol>\n<p>Based on all research, i can see that ContextFactory class shows up in Intellij serach from javax-runtime lib with correct package name as shown in error but it doesn't take it.\nSo adding different jars in pom is not helping, not sure how to force jvm to use the class or lib.\nLet me know if you guys have any suggestions to resolve this.</p>\n"},{"tags":["java","jquery","ajax","jsp","struts2"],"answers":[{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379514661,"creation_date":1379514661,"answer_id":18875027,"question_id":18874927,"body_markdown":"Typo: `data:&quot;username=&quot;+username` should be `data:&quot;userName=&quot;+username`\r\n\r\nAnd to avoid this kind of errors, you can name your javascript variable `userName` too ;)","title":"Action class getting null value from jsp page through ajax call","body":"<p>Typo: <code>data:\"username=\"+username</code> should be <code>data:\"userName=\"+username</code></p>\n\n<p>And to avoid this kind of errors, you can name your javascript variable <code>userName</code> too ;)</p>\n"},{"comments":[{"owner":{"account_id":3137655,"reputation":119,"user_id":2653831,"accept_rate":30,"display_name":"user2653831"},"score":0,"creation_date":1379516827,"post_id":18875084,"comment_id":27856721,"body_markdown":"thanks..but i want to know in java class why iam getting the null value for username","body":"thanks..but i want to know in java class why iam getting the null value for username"},{"owner":{"account_id":1353436,"reputation":1715,"user_id":1292309,"accept_rate":58,"display_name":"Jayaram"},"score":0,"creation_date":1379517441,"post_id":18875084,"comment_id":27857121,"body_markdown":"after changing userName, are you still facing null?","body":"after changing userName, are you still facing null?"},{"owner":{"account_id":1353436,"reputation":1715,"user_id":1292309,"accept_rate":58,"display_name":"Jayaram"},"score":0,"creation_date":1379572039,"post_id":18875084,"comment_id":27877183,"body_markdown":"@user2653831: It shouldn&#39;t...Can you try with hardcoded value from ajax, i.e data: { userName: &quot;test&quot;} , please check your bean property name should match with userName in data","body":"@user2653831: It shouldn&#39;t...Can you try with hardcoded value from ajax, i.e data: { userName: &quot;test&quot;} , please check your bean property name should match with userName in data"}],"tags":[],"owner":{"account_id":1353436,"reputation":1715,"user_id":1292309,"accept_rate":58,"display_name":"Jayaram"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696253652,"creation_date":1379514811,"answer_id":18875084,"question_id":18874927,"body_markdown":"Change your `data:&quot;username=&quot;+username,`\r\nto `data: {userName:username}`\r\n\r\nSee [example from the documentation of jQuery][1]\r\n\r\n    $.ajax({\r\n      type: &quot;POST&quot;,\r\n      url: &quot;some.php&quot;,\r\n      data: { name: &quot;John&quot;, location: &quot;Boston&quot; }\r\n    })\r\n\r\n\r\n  [1]: https://api.jquery.com/jQuery.ajax/","title":"Action class getting null value from jsp page through ajax call","body":"<p>Change your <code>data:&quot;username=&quot;+username,</code>\nto <code>data: {userName:username}</code></p>\n<p>See <a href=\"https://api.jquery.com/jQuery.ajax/\" rel=\"nofollow noreferrer\">example from the documentation of jQuery</a></p>\n<pre><code>$.ajax({\n  type: &quot;POST&quot;,\n  url: &quot;some.php&quot;,\n  data: { name: &quot;John&quot;, location: &quot;Boston&quot; }\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379515230,"creation_date":1379515230,"answer_id":18875271,"question_id":18874927,"body_markdown":"               $.ajax({\r\n                        type:&quot;post&quot;,\r\n                        url:&quot;CheckUserAction&quot;,\r\n                        data:{&quot;username&quot;: username },\r\n                        success:function(data){  \r\n                  \r\n                        //checking the code for username is present in database or not\r\n                        }\r\n               });","title":"Action class getting null value from jsp page through ajax call","body":"<pre><code>           $.ajax({\n                    type:\"post\",\n                    url:\"CheckUserAction\",\n                    data:{\"username\": username },\n                    success:function(data){  \n\n                    //checking the code for username is present in database or not\n                    }\n           });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379515839,"creation_date":1379515424,"answer_id":18875355,"question_id":18874927,"body_markdown":"Try\r\n\r\n    $.ajax({\r\n      type:&quot;post&quot;,\r\n      url:&quot;&lt;s:url action=&#39;CheckUserAction&#39;/&gt;&quot;,\r\n      data: { userName: username }\r\n      success:function(data){                            \r\n         //checking the code for username is present in database or not\r\n      }\r\n    });","title":"Action class getting null value from jsp page through ajax call","body":"<p>Try</p>\n\n<pre><code>$.ajax({\n  type:\"post\",\n  url:\"&lt;s:url action='CheckUserAction'/&gt;\",\n  data: { userName: username }\n  success:function(data){                            \n     //checking the code for username is present in database or not\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1086310,"reputation":3296,"user_id":1081945,"accept_rate":57,"display_name":"Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379531690,"creation_date":1379531690,"answer_id":18880477,"question_id":18874927,"body_markdown":"use  `data: {&quot;username&quot;:username},` instead of `data:&quot;username=&quot;+username,`","title":"Action class getting null value from jsp page through ajax call","body":"<p>use  <code>data: {\"username\":username},</code> instead of <code>data:\"username=\"+username,</code></p>\n"}],"owner":{"account_id":3137655,"reputation":119,"user_id":2653831,"accept_rate":30,"display_name":"user2653831"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1696253652,"creation_date":1379514413,"question_id":18874927,"body_markdown":"How can I get the JSP value from action class through Ajax? When I enter the username want to check to database the username is present or not. For that purpose, I am using Ajax.\r\n\r\nHere my JSP code:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;script&gt;    \r\n          $(document).ready(function(){ \r\n          $(&quot;#username&quot;).change(function(){\r\n          $(&quot;#message&quot;).html(&quot;checking...&quot;);    \r\n          $(&quot;#message&quot;).css(&#39;color&#39;, &#39;red&#39;);\r\n \t\t\t\t\t\t\t\t\r\n                        var username=$(&quot;#username&quot;).val();\r\n                        alert(username);\r\n \t\t\t\t\r\n                        $.ajax({\r\n                            type:&quot;post&quot;,\r\n                            url:&quot;CheckUserAction&quot;,\r\n                            data:&quot;username=&quot;+username,\r\n                            success:function(data){                        \r\n \r\n\r\n    //checking the code for username is present in database or not\r\n                               }\r\n            });\r\n        });\r\n        &lt;/script&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n    &lt;%@include file=&quot;index.html&quot; %&gt;\r\n     &lt;div class=&quot;box2&quot;&gt;\r\n        &lt;center&gt;\r\n        &lt;!-- &lt;div class=&quot;header&quot;&gt;&lt;/div&gt; --&gt;\r\n        &lt;center&gt;\r\n            &lt;div class=&quot;outer&quot;&gt;&lt;center&gt;\r\n            &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;\r\n            &lt;div class=&quot;inner&quot;&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;\r\n            &lt;center&gt; \r\n                &lt;s:form action=&quot;RegisterationProcess&quot; id=&quot;loginForm&quot;  name=&quot;loginForm&quot; method=&quot;post&quot; &gt;\r\n                    &lt;table width=&quot;auto&quot; border=&quot;0&quot; align=&quot;center&quot; cellpadding=&quot;2&quot; cellspacing=&quot;0&quot; class=&quot;tab&quot;&gt;\r\n\r\n                    &lt;tr&gt;\r\n                        &lt;td colspan=&quot;2&quot;&gt;&lt;center&gt;&lt;b&gt;Registration Form&lt;/b&gt;&lt;/center&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    \r\n                    &lt;tr&gt;\r\n                        &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt; \r\n                    \r\n                    &lt;input type=&quot;hidden&quot; name=&quot;register&quot; value=&quot;register&quot;/&gt;      \r\n                    &lt;tr&gt;     \r\n                        &lt;td&gt;&lt;s:textfield name=&quot;user.userName&quot;class=&quot;textfield&quot; id=&quot;login&quot; label=&quot;Name&quot;/&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n    \t\r\n                    &lt;tr&gt;  \r\n                        &lt;td&gt;&lt;s:textfield name=&quot;user.userId&quot; id=&quot;username&quot;  class=&quot;textfield&quot; label=&quot;User Name&quot; /&gt; &lt;/td&gt; \r\n                        &lt;div id=&quot;message&quot;&gt;&lt;/div&gt;        \r\n                    &lt;/tr&gt;`enter code here`\r\n       \r\n                    &lt;tr&gt;  \r\n                        &lt;td&gt;&lt;s:password name=&quot;user.password&quot;  class=&quot;textfield&quot; id=&quot;password&quot; label=&quot;Password&quot; /&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n            \t\r\n                    &lt;tr&gt;\r\n                        &lt;td&gt;&lt;s:textfield name=&quot;user.emailId&quot; class=&quot;textfield&quot; id=&quot;emailAddress&quot; label=&quot;Email&quot; /&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    \r\n                    &lt;tr&gt;\r\n                    &lt;td&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input id=&quot;sbmt&quot; type=&quot;submit&quot; value=&quot;Register&quot;&gt;&lt;/td&gt;\r\n                    &lt;!-- &lt;td&gt;&lt;s:submit value=&quot;Register&quot;  id=&quot;sbmt&quot;/&gt;&lt;/td&gt; --&gt;\r\n                    &lt;/tr&gt;\r\n\r\nand this is my `CheckUserAction` class:\r\n\r\n  \r\n\r\n          private String userId;\r\n        private String userName;\r\n       \r\n      public UserImpl getUser()\r\n        {\r\n            return user;\r\n        }\r\n\r\n    public void setUser(UserImpl user) \r\n    {\r\n        this.user = user;\r\n    }\r\n\r\n\r\n\tpublic String getUserName() \r\n\t{\r\n\t\treturn userName;\r\n\t}\r\n\r\n\tpublic void setUserName(String userName) \r\n\t{\r\n\t\tthis.userName = userName;\r\n\t}\r\n\r\n    public String getUserId()\r\n    {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(String userId) \r\n    {\r\n        this.userId = userId;\r\n    }\r\n    \r\n    public String execute()\r\n    {\r\n      System.out.println(&quot;username&quot;+userName);\r\n    }\r\n    }\r\n\r\nI am getting username as `null`.","title":"Action class getting null value from jsp page through ajax call","body":"<p>How can I get the JSP value from action class through Ajax? When I enter the username want to check to database the username is present or not. For that purpose, I am using Ajax.</p>\n<p>Here my JSP code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;script&gt;    \n      $(document).ready(function(){ \n      $(&quot;#username&quot;).change(function(){\n      $(&quot;#message&quot;).html(&quot;checking...&quot;);    \n      $(&quot;#message&quot;).css('color', 'red');\n                            \n                    var username=$(&quot;#username&quot;).val();\n                    alert(username);\n            \n                    $.ajax({\n                        type:&quot;post&quot;,\n                        url:&quot;CheckUserAction&quot;,\n                        data:&quot;username=&quot;+username,\n                        success:function(data){                        \n\n\n//checking the code for username is present in database or not\n                           }\n        });\n    });\n    &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;%@include file=&quot;index.html&quot; %&gt;\n &lt;div class=&quot;box2&quot;&gt;\n    &lt;center&gt;\n    &lt;!-- &lt;div class=&quot;header&quot;&gt;&lt;/div&gt; --&gt;\n    &lt;center&gt;\n        &lt;div class=&quot;outer&quot;&gt;&lt;center&gt;\n        &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;\n        &lt;div class=&quot;inner&quot;&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;\n        &lt;center&gt; \n            &lt;s:form action=&quot;RegisterationProcess&quot; id=&quot;loginForm&quot;  name=&quot;loginForm&quot; method=&quot;post&quot; &gt;\n                &lt;table width=&quot;auto&quot; border=&quot;0&quot; align=&quot;center&quot; cellpadding=&quot;2&quot; cellspacing=&quot;0&quot; class=&quot;tab&quot;&gt;\n\n                &lt;tr&gt;\n                    &lt;td colspan=&quot;2&quot;&gt;&lt;center&gt;&lt;b&gt;Registration Form&lt;/b&gt;&lt;/center&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                \n                &lt;tr&gt;\n                    &lt;td colspan=&quot;2&quot;&gt;&lt;hr&gt;&lt;/td&gt;\n                &lt;/tr&gt; \n                \n                &lt;input type=&quot;hidden&quot; name=&quot;register&quot; value=&quot;register&quot;/&gt;      \n                &lt;tr&gt;     \n                    &lt;td&gt;&lt;s:textfield name=&quot;user.userName&quot;class=&quot;textfield&quot; id=&quot;login&quot; label=&quot;Name&quot;/&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n    \n                &lt;tr&gt;  \n                    &lt;td&gt;&lt;s:textfield name=&quot;user.userId&quot; id=&quot;username&quot;  class=&quot;textfield&quot; label=&quot;User Name&quot; /&gt; &lt;/td&gt; \n                    &lt;div id=&quot;message&quot;&gt;&lt;/div&gt;        \n                &lt;/tr&gt;`enter code here`\n   \n                &lt;tr&gt;  \n                    &lt;td&gt;&lt;s:password name=&quot;user.password&quot;  class=&quot;textfield&quot; id=&quot;password&quot; label=&quot;Password&quot; /&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            \n                &lt;tr&gt;\n                    &lt;td&gt;&lt;s:textfield name=&quot;user.emailId&quot; class=&quot;textfield&quot; id=&quot;emailAddress&quot; label=&quot;Email&quot; /&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                \n                &lt;tr&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;input id=&quot;sbmt&quot; type=&quot;submit&quot; value=&quot;Register&quot;&gt;&lt;/td&gt;\n                &lt;!-- &lt;td&gt;&lt;s:submit value=&quot;Register&quot;  id=&quot;sbmt&quot;/&gt;&lt;/td&gt; --&gt;\n                &lt;/tr&gt;\n</code></pre>\n<p>and this is my <code>CheckUserAction</code> class:</p>\n<pre><code>      private String userId;\n    private String userName;\n   \n  public UserImpl getUser()\n    {\n        return user;\n    }\n\npublic void setUser(UserImpl user) \n{\n    this.user = user;\n}\n\n\npublic String getUserName() \n{\n    return userName;\n}\n\npublic void setUserName(String userName) \n{\n    this.userName = userName;\n}\n\npublic String getUserId()\n{\n    return userId;\n}\n\npublic void setUserId(String userId) \n{\n    this.userId = userId;\n}\n\npublic String execute()\n{\n  System.out.println(&quot;username&quot;+userName);\n}\n}\n</code></pre>\n<p>I am getting username as <code>null</code>.</p>\n"},{"tags":["java","spring","spring-security","spring-session"],"answers":[{"comments":[{"owner":{"account_id":10864052,"reputation":1,"user_id":7988056,"display_name":"Joe D"},"score":0,"creation_date":1598456172,"post_id":63594703,"comment_id":112466720,"body_markdown":"Interesting, I&#39;ll check through the logs, it sounds like it should have a session destroyed message somewhere if that&#39;s the case. I&#39;ll poke around and update, thanks!","body":"Interesting, I&#39;ll check through the logs, it sounds like it should have a session destroyed message somewhere if that&#39;s the case. I&#39;ll poke around and update, thanks!"},{"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"score":0,"creation_date":1598509668,"post_id":63594703,"comment_id":112482876,"body_markdown":"@JoeD Good! Please let me know how this works out for you :)","body":"@JoeD Good! Please let me know how this works out for you :)"},{"owner":{"account_id":10864052,"reputation":1,"user_id":7988056,"display_name":"Joe D"},"score":0,"creation_date":1598544844,"post_id":63594703,"comment_id":112500478,"body_markdown":"Not currently finding any session destroyed messages/events. Still confused as to why there is a difference in formats between the spring session IDs, as I mentioned above.","body":"Not currently finding any session destroyed messages/events. Still confused as to why there is a difference in formats between the spring session IDs, as I mentioned above."}],"tags":[],"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598434414,"creation_date":1598434414,"answer_id":63594703,"question_id":63584230,"body_markdown":"to protect from session fixation Spring Security by default gives you a new session after authentication, see https://www.baeldung.com/spring-security-session#session-fixation\r\n\r\nPlease let me know if this is usefull.\r\n\r\n\r\n-Kaj :)","title":"Spring session returning different session IDs during and after authentication","body":"<p>to protect from session fixation Spring Security by default gives you a new session after authentication, see <a href=\"https://www.baeldung.com/spring-security-session#session-fixation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-session#session-fixation</a></p>\n<p>Please let me know if this is usefull.</p>\n<p>-Kaj :)</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696574313,"post_id":77215943,"comment_id":136173081,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77215943/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29580985,"reputation":11,"user_id":22670779,"display_name":"Gabor Andras"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696253546,"creation_date":1696253546,"answer_id":77215943,"question_id":63584230,"body_markdown":"Check out DefaultCookieSerializer.setUseBase64Encoding(). The value set on the cookie is base64 encoded by default. You can base64 decode the 3AD475F78823D7CDC5C4571D50B0AB35 and you&#39;ll get the value of the session id","title":"Spring session returning different session IDs during and after authentication","body":"<p>Check out DefaultCookieSerializer.setUseBase64Encoding(). The value set on the cookie is base64 encoded by default. You can base64 decode the 3AD475F78823D7CDC5C4571D50B0AB35 and you'll get the value of the session id</p>\n"}],"owner":{"account_id":10864052,"reputation":1,"user_id":7988056,"display_name":"Joe D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1851,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696253546,"creation_date":1598376770,"question_id":63584230,"body_markdown":"I have an application that&#39;s using both Spring Security and Spring Session. I&#39;m converting my application to store its Spring Sessions in MySQL using the XML jdbc configuration, and that appears to be working, as the session records are appearing in the MySQL table. \r\n\r\nFor other reasons, I am using an internally created session object in conjunction with the spring session objects, and attempting to use the spring session ID to link the two sessions. Here is the basic problem I&#39;m running into:\r\n\r\nFirst I authenticate, and a spring session is created. \r\nThis gives me Spring Session ID A, which I store in my internal session table to link to the spring session.\r\nOther filters are hit, and the request makes its way to the REST controller.\r\nIn the REST controller, I try to access the spring session, and I see a valid ID and spring session, but with Spring Session ID B, thus the connection between the spring session and my internal session is broken.\r\n\r\nIs there a reason I would have 2 separate authenticated spring sessions with the same principal information in the sessions?\r\n\r\nSeparate but related question, if I try to access the spring session ID via the RequestContextHolder, it gives an ID in standard all-caps hex code format (e.g. 3AD475F78823D7CDC5C4571D50B0AB35) whereas if I access it via the SecurityContextHolder, the ID is in a different format (e.g. c2215820-bd08-4c78-b26e-0821913333a1), is there a particular reason for this?\r\n\r\nThanks. ","title":"Spring session returning different session IDs during and after authentication","body":"<p>I have an application that's using both Spring Security and Spring Session. I'm converting my application to store its Spring Sessions in MySQL using the XML jdbc configuration, and that appears to be working, as the session records are appearing in the MySQL table.</p>\n<p>For other reasons, I am using an internally created session object in conjunction with the spring session objects, and attempting to use the spring session ID to link the two sessions. Here is the basic problem I'm running into:</p>\n<p>First I authenticate, and a spring session is created.\nThis gives me Spring Session ID A, which I store in my internal session table to link to the spring session.\nOther filters are hit, and the request makes its way to the REST controller.\nIn the REST controller, I try to access the spring session, and I see a valid ID and spring session, but with Spring Session ID B, thus the connection between the spring session and my internal session is broken.</p>\n<p>Is there a reason I would have 2 separate authenticated spring sessions with the same principal information in the sessions?</p>\n<p>Separate but related question, if I try to access the spring session ID via the RequestContextHolder, it gives an ID in standard all-caps hex code format (e.g. 3AD475F78823D7CDC5C4571D50B0AB35) whereas if I access it via the SecurityContextHolder, the ID is in a different format (e.g. c2215820-bd08-4c78-b26e-0821913333a1), is there a particular reason for this?</p>\n<p>Thanks.</p>\n"},{"tags":["java","jna"],"answers":[{"tags":[],"owner":{"account_id":3635166,"reputation":477,"user_id":3030447,"accept_rate":69,"display_name":"adragomir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696253253,"creation_date":1696253253,"answer_id":77215918,"question_id":77215722,"body_markdown":"        int size = new WinNT.SYSTEM_POWER_POLICY().size();\r\n        Memory mem = new Memory(size);\r\n        PowrProf.INSTANCE\r\n                .CallNtPowerInformation(PowrProf.POWER_INFORMATION_LEVEL.SystemPowerPolicyCurrent, null, 0, mem, size);\r\n        WinNT.SYSTEM_POWER_POLICY powerPolicy = new WinNT.SYSTEM_POWER_POLICY(mem);\r\n\r\n        System.out.println(powerPolicy.VideoTimeout);","title":"how to call CallNtPowerInformation from java jna to get screen display timeout","body":"<pre><code>    int size = new WinNT.SYSTEM_POWER_POLICY().size();\n    Memory mem = new Memory(size);\n    PowrProf.INSTANCE\n            .CallNtPowerInformation(PowrProf.POWER_INFORMATION_LEVEL.SystemPowerPolicyCurrent, null, 0, mem, size);\n    WinNT.SYSTEM_POWER_POLICY powerPolicy = new WinNT.SYSTEM_POWER_POLICY(mem);\n\n    System.out.println(powerPolicy.VideoTimeout);\n</code></pre>\n"}],"owner":{"account_id":3635166,"reputation":477,"user_id":3030447,"accept_rate":69,"display_name":"adragomir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77215918,"answer_count":1,"score":-1,"last_activity_date":1696253253,"creation_date":1696251357,"question_id":77215722,"body_markdown":"I am trying to get the information about the time after which windows shutdown the laptop screen after going into idle. \r\n\r\nI tried the following code but I have little experience with jna and the structure results are always 0:\r\n\r\n        WinNT.SYSTEM_POWER_POLICY systemPowerPolicy= new WinNT.SYSTEM_POWER_POLICY();\r\n        Pointer pointer=systemPowerPolicy.getPointer();\r\n        PowrProf.INSTANCE.CallNtPowerInformation(PowrProf.POWER_INFORMATION_LEVEL.SystemPowerPolicyCurrent,\r\n                Pointer.NULL,0, pointer, systemPowerPolicy.size());\r\n        System.out.println(systemPowerPolicy.VideoDimDisplay);\r\n        System.out.println(systemPowerPolicy.VideoTimeout);\r\n\r\nI believe I am not calling the function properly, can you help out in calling this function?\r\n\r\nRegards","title":"how to call CallNtPowerInformation from java jna to get screen display timeout","body":"<p>I am trying to get the information about the time after which windows shutdown the laptop screen after going into idle.</p>\n<p>I tried the following code but I have little experience with jna and the structure results are always 0:</p>\n<pre><code>    WinNT.SYSTEM_POWER_POLICY systemPowerPolicy= new WinNT.SYSTEM_POWER_POLICY();\n    Pointer pointer=systemPowerPolicy.getPointer();\n    PowrProf.INSTANCE.CallNtPowerInformation(PowrProf.POWER_INFORMATION_LEVEL.SystemPowerPolicyCurrent,\n            Pointer.NULL,0, pointer, systemPowerPolicy.size());\n    System.out.println(systemPowerPolicy.VideoDimDisplay);\n    System.out.println(systemPowerPolicy.VideoTimeout);\n</code></pre>\n<p>I believe I am not calling the function properly, can you help out in calling this function?</p>\n<p>Regards</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-boot-actuator"],"owner":{"account_id":13724675,"reputation":1,"user_id":11275992,"display_name":"Mr. Nobody"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696253240,"creation_date":1695915721,"question_id":77196416,"body_markdown":"There is a problem with actuator and hibernate metrics. Metrics are not generated by HibernateMetricsAutoConfiguration. We have multiple hibernate connections and these settings out of application.properties (Configurated programatically usings beans)\r\n\r\nIn application.properties:\r\n\r\n```\r\nspring.jpa.properties.hibernate.generate_statistics=true\r\nmanagement.endpoints.web.exposure.include=*\r\nmanagement.endpoint.health.show-details=always\r\n\r\n```\r\n\r\nIn HibernateSessionHandler class:\r\n\r\n\r\n```\r\n    public HibernateSessionHandler setConfiguration(ConnectionConfig config) {\r\n        this.configuration = new Configuration();\r\n        this.configuration.setProperty(&quot;hibernate.connection.driver_class&quot;, config.getDriverClass());\r\n        this.configuration.setProperty(&quot;hibernate.connection.url&quot;, config.getHost());\r\n        this.configuration.setProperty(&quot;hibernate.connection.username&quot;, config.getLogin());\r\n        this.configuration.setProperty(&quot;hibernate.connection.password&quot;, config.getPassword());\r\n        this.configuration.setProperty(&quot;hibernate.dialect&quot;, config.getDialect());\r\n        this.configuration.setProperty(&quot;hibernate.generate_statistics&quot;, &quot;true&quot;);\r\n        return this;\r\n    }\r\n```\r\n\r\nHibernateSessionHandler - annotated as @Service and being extending by final connection beans.\r\n\r\n\r\nWe adhere to the concept creating and open connection only if in neccessary (our operations is just &quot;select&quot;), may be this is problem... i don&#39;t undarstand how to autoconfigure HibernateMetrics and HibernateQueryMetrics or how to update metrics when i&#39;m creating  HibernateMetrics and HibernateQueryMetrics beans by myself\r\n\r\nPlease, help=)\r\n\r\n\r\nSpring-boot version - 2.7.16\r\nHibernate-core version - 5.6.15.Final\r\nHibernate-micrometer version - 6.3.1.Final\r\n\r\nI expect auto registration of HibernateMetrics and HibernateQueryMetrics when application started, but there is no hibernate metrics.\r\n\r\nI tried to create beans returning HibernateMetrics in extending HibernateSessionHandler classes\r\nIn that case hibernate metrcis are created but not updated.\r\nAnd i tried to set hibernate.generate_statistics=true via setConfiguration(ConnectionConfig config) method (example above)\r\n\r\n\r\n**HOW I FIX IT**  \r\nTo fix this problem, i had to change our app a bit. When we started developing our application, we agreed to create a SessionFacrory and a Session for each database request (We just read multiple databses whithout updating them), but it was the wrong way. \r\nFirstly, this is not best practice. \r\nSecondly, it worked quite slowly. As they say in a couple of stackoverflow queries- creating a SessionFactory - is a very expensive operation.\r\n\r\nHow did i fix it:\r\n1. For all our connections, i had to create beans like this [problem][1] in the implementation of the HibernateConncetion class marked as @Component\r\n2. Deleted everything @Scope (&quot;prototype&quot;) and made all components singleton\r\n3. Added the use of c3p0 and hibernate-c3p0\r\n4. Enabled &quot;info&quot; logging level for hibernate\r\n5. Added to properties:\r\n\r\n        this.configuration.setProperty(&quot;hibernate.generate_statistics&quot;, &quot;true&quot;);\r\n        this.configuration.setProperty(&quot;hibernate.c3p0.min_size&quot;, &quot;5&quot;);\r\n        this.configuration.setProperty(&quot;hibernate.c3p0.max_size&quot;, &quot;20&quot;);\r\n        this.configuration.setProperty(&quot;hibernate.c3p0.max_statements&quot;, &quot;200&quot;);\r\n\r\n\r\nIt seems to be working fine.\r\n\r\nBut the last question is - why does hibernate-c3p0-micrometer-actuator-spring not create metrics automatically (without self-creating MeterBinder beans) when the app is launched?\r\n\r\n\r\n  [1]: https://github.com/micrometer-metrics/micrometer/issues/1006#issuecomment-1058014616","title":"Spring-boot actuator doesn&#39;t publish hibernate metrics","body":"<p>There is a problem with actuator and hibernate metrics. Metrics are not generated by HibernateMetricsAutoConfiguration. We have multiple hibernate connections and these settings out of application.properties (Configurated programatically usings beans)</p>\n<p>In application.properties:</p>\n<pre><code>spring.jpa.properties.hibernate.generate_statistics=true\nmanagement.endpoints.web.exposure.include=*\nmanagement.endpoint.health.show-details=always\n\n</code></pre>\n<p>In HibernateSessionHandler class:</p>\n<pre><code>    public HibernateSessionHandler setConfiguration(ConnectionConfig config) {\n        this.configuration = new Configuration();\n        this.configuration.setProperty(&quot;hibernate.connection.driver_class&quot;, config.getDriverClass());\n        this.configuration.setProperty(&quot;hibernate.connection.url&quot;, config.getHost());\n        this.configuration.setProperty(&quot;hibernate.connection.username&quot;, config.getLogin());\n        this.configuration.setProperty(&quot;hibernate.connection.password&quot;, config.getPassword());\n        this.configuration.setProperty(&quot;hibernate.dialect&quot;, config.getDialect());\n        this.configuration.setProperty(&quot;hibernate.generate_statistics&quot;, &quot;true&quot;);\n        return this;\n    }\n</code></pre>\n<p>HibernateSessionHandler - annotated as @Service and being extending by final connection beans.</p>\n<p>We adhere to the concept creating and open connection only if in neccessary (our operations is just &quot;select&quot;), may be this is problem... i don't undarstand how to autoconfigure HibernateMetrics and HibernateQueryMetrics or how to update metrics when i'm creating  HibernateMetrics and HibernateQueryMetrics beans by myself</p>\n<p>Please, help=)</p>\n<p>Spring-boot version - 2.7.16\nHibernate-core version - 5.6.15.Final\nHibernate-micrometer version - 6.3.1.Final</p>\n<p>I expect auto registration of HibernateMetrics and HibernateQueryMetrics when application started, but there is no hibernate metrics.</p>\n<p>I tried to create beans returning HibernateMetrics in extending HibernateSessionHandler classes\nIn that case hibernate metrcis are created but not updated.\nAnd i tried to set hibernate.generate_statistics=true via setConfiguration(ConnectionConfig config) method (example above)</p>\n<p><strong>HOW I FIX IT</strong><br />\nTo fix this problem, i had to change our app a bit. When we started developing our application, we agreed to create a SessionFacrory and a Session for each database request (We just read multiple databses whithout updating them), but it was the wrong way.\nFirstly, this is not best practice.\nSecondly, it worked quite slowly. As they say in a couple of stackoverflow queries- creating a SessionFactory - is a very expensive operation.</p>\n<p>How did i fix it:</p>\n<ol>\n<li><p>For all our connections, i had to create beans like this <a href=\"https://github.com/micrometer-metrics/micrometer/issues/1006#issuecomment-1058014616\" rel=\"nofollow noreferrer\">problem</a> in the implementation of the HibernateConncetion class marked as @Component</p>\n</li>\n<li><p>Deleted everything @Scope (&quot;prototype&quot;) and made all components singleton</p>\n</li>\n<li><p>Added the use of c3p0 and hibernate-c3p0</p>\n</li>\n<li><p>Enabled &quot;info&quot; logging level for hibernate</p>\n</li>\n<li><p>Added to properties:</p>\n<pre><code> this.configuration.setProperty(&quot;hibernate.generate_statistics&quot;, &quot;true&quot;);\n this.configuration.setProperty(&quot;hibernate.c3p0.min_size&quot;, &quot;5&quot;);\n this.configuration.setProperty(&quot;hibernate.c3p0.max_size&quot;, &quot;20&quot;);\n this.configuration.setProperty(&quot;hibernate.c3p0.max_statements&quot;, &quot;200&quot;);\n</code></pre>\n</li>\n</ol>\n<p>It seems to be working fine.</p>\n<p>But the last question is - why does hibernate-c3p0-micrometer-actuator-spring not create metrics automatically (without self-creating MeterBinder beans) when the app is launched?</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":8998143,"reputation":425,"user_id":6707702,"display_name":"Mohit Sharma"},"score":0,"creation_date":1695729123,"post_id":77174608,"comment_id":136060651,"body_markdown":"Please check hibernate naming strategy that you are using","body":"Please check hibernate naming strategy that you are using"},{"owner":{"account_id":12510863,"reputation":111,"user_id":9106041,"display_name":"Krittam Kothari"},"score":0,"creation_date":1695735872,"post_id":77174608,"comment_id":136062173,"body_markdown":"@MohitSharma I am not specifying any custom strategy. also this was working with spring autoconfiguration without modifying any such property. Can i somehow reuse the same with minimal changes ?","body":"@MohitSharma I am not specifying any custom strategy. also this was working with spring autoconfiguration without modifying any such property. Can i somehow reuse the same with minimal changes ?"}],"answers":[{"comments":[{"owner":{"account_id":12510863,"reputation":111,"user_id":9106041,"display_name":"Krittam Kothari"},"score":0,"creation_date":1695930517,"post_id":77184876,"comment_id":136092997,"body_markdown":"thanks for the solution! do i also need to explicitly configure hikari settings ? or will they be read automatically with `spring.auth-db.*` prefixes ?","body":"thanks for the solution! do i also need to explicitly configure hikari settings ? or will they be read automatically with <code>spring.auth-db.*</code> prefixes ?"},{"owner":{"account_id":8998143,"reputation":425,"user_id":6707702,"display_name":"Mohit Sharma"},"score":0,"creation_date":1695966133,"post_id":77184876,"comment_id":136096184,"body_markdown":"add different hikari pool setting for each DB, it will be easier to maintain or change whenever required.","body":"add different hikari pool setting for each DB, it will be easier to maintain or change whenever required."}],"tags":[],"owner":{"account_id":8998143,"reputation":425,"user_id":6707702,"display_name":"Mohit Sharma"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696253236,"creation_date":1695792852,"answer_id":77184876,"question_id":77174608,"body_markdown":"  You need to explicit define the Naming Strategy at LocalContainerEntityManagerFactoryBean, here you can create an HashMap with these properties \r\n  and set in EntityBean using setJpaPropertyMap()\r\n\r\n     private Map&lt;String, Object&gt; primaryJpaProperties() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(&quot;hibernate.physical_naming_strategy&quot;, SpringPhysicalNamingStrategy.class.getName());\r\n        props.put(&quot;hibernate.implicit_naming_strategy&quot;, SpringImplicitNamingStrategy.class.getName());\r\n        props.put(&quot;hibernate.dialect&quot;,&quot;org.hibernate.dialect.PostgreSQLDialect&quot;);\r\n        return props;\r\n    }\r\n\r\n      @Bean(name = &quot;primaryTransactionManager&quot;)\r\n      @Primary\r\n    public PlatformTransactionManager primaryTransactionManager(\r\n        @Qualifier(&quot;primaryEntityManagerFactory&quot;) EntityManagerFactory primaryEntityManagerFactory) {\r\n        return new JpaTransactionManager(primaryEntityManagerFactory);\r\n    }\r\n\r\n    @Bean(name = &quot;primaryEntityManagerFactory&quot;)\r\n    @Primary\r\n    public LocalContainerEntityManagerFactoryBean firstEntityManagerFactory(\r\n        @Qualifier(&quot;primaryDataSource&quot;) DataSource dataSource) {\r\n\r\n        LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\r\n        emf.setDataSource(dataSource);\r\n        emf.setPackagesToScan(&quot;com.xyz.querty.auth.domain.model&quot;); // Package containing your JPA entities\r\n        emf.setPersistenceUnitName(&quot;primary&quot;);\r\n        emf.setJpaPropertyMap(jpaProperties());\r\n        emf.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n        return emf;\r\n    }","title":"Spring boot with manual database configuration picking up incorrect table names","body":"<p>You need to explicit define the Naming Strategy at LocalContainerEntityManagerFactoryBean, here you can create an HashMap with these properties\nand set in EntityBean using setJpaPropertyMap()</p>\n<pre><code> private Map&lt;String, Object&gt; primaryJpaProperties() {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(&quot;hibernate.physical_naming_strategy&quot;, SpringPhysicalNamingStrategy.class.getName());\n    props.put(&quot;hibernate.implicit_naming_strategy&quot;, SpringImplicitNamingStrategy.class.getName());\n    props.put(&quot;hibernate.dialect&quot;,&quot;org.hibernate.dialect.PostgreSQLDialect&quot;);\n    return props;\n}\n\n  @Bean(name = &quot;primaryTransactionManager&quot;)\n  @Primary\npublic PlatformTransactionManager primaryTransactionManager(\n    @Qualifier(&quot;primaryEntityManagerFactory&quot;) EntityManagerFactory primaryEntityManagerFactory) {\n    return new JpaTransactionManager(primaryEntityManagerFactory);\n}\n\n@Bean(name = &quot;primaryEntityManagerFactory&quot;)\n@Primary\npublic LocalContainerEntityManagerFactoryBean firstEntityManagerFactory(\n    @Qualifier(&quot;primaryDataSource&quot;) DataSource dataSource) {\n\n    LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\n    emf.setDataSource(dataSource);\n    emf.setPackagesToScan(&quot;com.xyz.querty.auth.domain.model&quot;); // Package containing your JPA entities\n    emf.setPersistenceUnitName(&quot;primary&quot;);\n    emf.setJpaPropertyMap(jpaProperties());\n    emf.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n    return emf;\n}\n</code></pre>\n"}],"owner":{"account_id":12510863,"reputation":111,"user_id":9106041,"display_name":"Krittam Kothari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77184876,"answer_count":1,"score":0,"last_activity_date":1696253236,"creation_date":1695662334,"question_id":77174608,"body_markdown":"I&#39;ve a spring boot setup (2.5.5) using a postgresql db using autoconfiguration which is working fine\r\nbelow is the current configuration\r\n\r\n    spring.datasource.url=${DATASOURCE_URL}\r\n    spring.datasource.username=${DATASOURCE_USERNAME}\r\n    spring.datasource.password=${DATASOURCE_PASSWORD}\r\n    spring.datasource.hikari.maximum-pool-size=${DB_POOL_MAX_SIZE:2}\r\n    spring.datasource.hikari.minimum-idle=${DB_POOL_MIN_IDLE:1}\r\n\r\n\r\n\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackages = {&quot;com.xyz.querty&quot;})\r\n    @EntityScan(basePackages = &quot;com.xyz.querty&quot;)\r\n    @EnableJpaRepositories(basePackages = &quot;com.xyz.querty&quot;)\r\n    public class AppConfig {\r\n    }\r\n\r\n\r\n\r\nNow i have to connect to another database also hence i cant do autoconfiguration anymore.\r\n\r\nSo i&#39;ve to create manual configuration for jdbc, jpa, hibernate, hikari etc\r\n\r\n\r\nChanged configuration :\r\n\r\n    spring.auth-db.jdbcUrl=${DATASOURCE_URL}\r\n    spring.auth-db.url=${DATASOURCE_URL}\r\n    spring.auth-db.username=${DATASOURCE_USERNAME}\r\n    spring.auth-db.password=${DATASOURCE_PASSWORD}\r\n    spring.auth-db.driver-class-name=org.postgresql.Driver\r\n    spring.auth-db.hikari.maximum-pool-size=${DB_POOL_MAX_SIZE:2}\r\n    spring.auth-db.hikari.minimum-idle=${DB_POOL_MIN_IDLE:1}\r\n    \r\n    \r\n    spring.mas-db.url=${MAS_DATASOURCE_URL}\r\n    spring.mas-db.username=${MAS_DATASOURCE_USERNAME}\r\n    spring.mas-db.password=${MAS_DATASOURCE_PASSWORD}\r\n    spring.mas-db.driver-class-name=org.postgresql.Driver\r\n    spring.mas-db.hikari.maximum-pool-size=${MAS_DB_POOL_MAX_SIZE:2}\r\n    spring.mas-db.hikari.minimum-idle=${MAS_DB_POOL_MIN_IDLE:1}\r\n\r\n\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n        entityManagerFactoryRef = &quot;primaryEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;primaryTransactionManager&quot;,\r\n        basePackages = { com.xyz.querty.auth.domain.repository&quot; }\r\n    )\r\n    public class PrimaryDBConfig {\r\n    \r\n        @Bean(name=&quot;primaryDataSource&quot;)\r\n        @Primary\r\n        @ConfigurationProperties(prefix=&quot;spring.auth-db&quot;)\r\n        public DataSource primaryDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        @Bean(name = &quot;primaryTransactionManager&quot;)\r\n        @Primary\r\n        public PlatformTransactionManager primaryTransactionManager(\r\n            @Qualifier(&quot;primaryEntityManagerFactory&quot;) EntityManagerFactory primaryEntityManagerFactory) {\r\n            return new JpaTransactionManager(primaryEntityManagerFactory);\r\n        }\r\n    \r\n        @Bean(name = &quot;primaryEntityManagerFactory&quot;)\r\n        @Primary\r\n        public LocalContainerEntityManagerFactoryBean firstEntityManagerFactory(\r\n            @Qualifier(&quot;primaryDataSource&quot;) DataSource dataSource) {\r\n    \r\n            LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\r\n            emf.setDataSource(dataSource);\r\n            emf.setPackagesToScan(&quot;com.xyz.querty.auth.domain.model&quot;); // Package containing your JPA entities\r\n            emf.setPersistenceUnitName(&quot;primary&quot;);\r\n            emf.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n            Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n    \r\n            properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQLDialect&quot;); // Change to your database dialect\r\n            emf.setJpaPropertyMap(properties);\r\n            return emf;\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nand similar config for secondary DB also\r\n\r\n\r\nHowever this is not working when i try to perform some db transaction, The error message that i get is:\r\n\r\n        could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement&quot;,&quot;error.stack_trace&quot;:&quot;org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\r\n    \r\n    org.postgresql.util.PSQLException: ERROR: relation \\&quot;entityname\\&quot; does not exist\\n  Position: 13\r\n\r\nHowever the correct table name should have been `entity_name`. There is something wrong with the configuration.\r\nCan you help me figure it out. Also what is the best way to achieve this with minimum changes? I dont want to end up in a scenario where i&#39;ve to manually keep on adding more and more settings which were a part of spring autoconfiguration originally\r\n","title":"Spring boot with manual database configuration picking up incorrect table names","body":"<p>I've a spring boot setup (2.5.5) using a postgresql db using autoconfiguration which is working fine\nbelow is the current configuration</p>\n<pre><code>spring.datasource.url=${DATASOURCE_URL}\nspring.datasource.username=${DATASOURCE_USERNAME}\nspring.datasource.password=${DATASOURCE_PASSWORD}\nspring.datasource.hikari.maximum-pool-size=${DB_POOL_MAX_SIZE:2}\nspring.datasource.hikari.minimum-idle=${DB_POOL_MIN_IDLE:1}\n\n\n\n\n@Configuration\n@ComponentScan(basePackages = {&quot;com.xyz.querty&quot;})\n@EntityScan(basePackages = &quot;com.xyz.querty&quot;)\n@EnableJpaRepositories(basePackages = &quot;com.xyz.querty&quot;)\npublic class AppConfig {\n}\n</code></pre>\n<p>Now i have to connect to another database also hence i cant do autoconfiguration anymore.</p>\n<p>So i've to create manual configuration for jdbc, jpa, hibernate, hikari etc</p>\n<p>Changed configuration :</p>\n<pre><code>spring.auth-db.jdbcUrl=${DATASOURCE_URL}\nspring.auth-db.url=${DATASOURCE_URL}\nspring.auth-db.username=${DATASOURCE_USERNAME}\nspring.auth-db.password=${DATASOURCE_PASSWORD}\nspring.auth-db.driver-class-name=org.postgresql.Driver\nspring.auth-db.hikari.maximum-pool-size=${DB_POOL_MAX_SIZE:2}\nspring.auth-db.hikari.minimum-idle=${DB_POOL_MIN_IDLE:1}\n\n\nspring.mas-db.url=${MAS_DATASOURCE_URL}\nspring.mas-db.username=${MAS_DATASOURCE_USERNAME}\nspring.mas-db.password=${MAS_DATASOURCE_PASSWORD}\nspring.mas-db.driver-class-name=org.postgresql.Driver\nspring.mas-db.hikari.maximum-pool-size=${MAS_DB_POOL_MAX_SIZE:2}\nspring.mas-db.hikari.minimum-idle=${MAS_DB_POOL_MIN_IDLE:1}\n\n\n\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n    entityManagerFactoryRef = &quot;primaryEntityManagerFactory&quot;,\n    transactionManagerRef = &quot;primaryTransactionManager&quot;,\n    basePackages = { com.xyz.querty.auth.domain.repository&quot; }\n)\npublic class PrimaryDBConfig {\n\n    @Bean(name=&quot;primaryDataSource&quot;)\n    @Primary\n    @ConfigurationProperties(prefix=&quot;spring.auth-db&quot;)\n    public DataSource primaryDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n\n\n\n    @Bean(name = &quot;primaryTransactionManager&quot;)\n    @Primary\n    public PlatformTransactionManager primaryTransactionManager(\n        @Qualifier(&quot;primaryEntityManagerFactory&quot;) EntityManagerFactory primaryEntityManagerFactory) {\n        return new JpaTransactionManager(primaryEntityManagerFactory);\n    }\n\n    @Bean(name = &quot;primaryEntityManagerFactory&quot;)\n    @Primary\n    public LocalContainerEntityManagerFactoryBean firstEntityManagerFactory(\n        @Qualifier(&quot;primaryDataSource&quot;) DataSource dataSource) {\n\n        LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\n        emf.setDataSource(dataSource);\n        emf.setPackagesToScan(&quot;com.xyz.querty.auth.domain.model&quot;); // Package containing your JPA entities\n        emf.setPersistenceUnitName(&quot;primary&quot;);\n        emf.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n\n        properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQLDialect&quot;); // Change to your database dialect\n        emf.setJpaPropertyMap(properties);\n        return emf;\n    }\n\n\n\n}\n</code></pre>\n<p>and similar config for secondary DB also</p>\n<p>However this is not working when i try to perform some db transaction, The error message that i get is:</p>\n<pre><code>    could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement&quot;,&quot;error.stack_trace&quot;:&quot;org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\n\norg.postgresql.util.PSQLException: ERROR: relation \\&quot;entityname\\&quot; does not exist\\n  Position: 13\n</code></pre>\n<p>However the correct table name should have been <code>entity_name</code>. There is something wrong with the configuration.\nCan you help me figure it out. Also what is the best way to achieve this with minimum changes? I dont want to end up in a scenario where i've to manually keep on adding more and more settings which were a part of spring autoconfiguration originally</p>\n"},{"tags":["java","function","primes"],"comments":[{"owner":{"account_id":12232513,"reputation":3738,"user_id":8928024,"accept_rate":83,"display_name":"ZF007"},"score":0,"creation_date":1515243006,"post_id":48127476,"comment_id":83231604,"body_markdown":"Welcome to SO. Please finish the tour and you will understand [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) and modify question accordingly to minimal working example. Without posting your code you risk removal of your question. With your stated trail code and error... people are more willing to help you so both can learn. Enjoy SO ;-)","body":"Welcome to SO. Please finish the tour and you will understand <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a> and modify question accordingly to minimal working example. Without posting your code you risk removal of your question. With your stated trail code and error... people are more willing to help you so both can learn. Enjoy SO ;-)"}],"answers":[{"comments":[{"owner":{"account_id":10083382,"reputation":99,"user_id":7452866,"display_name":"Rabindra Kumar Mahato"},"score":0,"creation_date":1515256889,"post_id":48127523,"comment_id":83235708,"body_markdown":"what is the test cases and the complexity of this each code?","body":"what is the test cases and the complexity of this each code?"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1515257162,"post_id":48127523,"comment_id":83235793,"body_markdown":"@RabindraKumarMahato Have a look at https://softwareengineering.stackexchange.com/questions/197374/what-is-the-time-complexity-of-the-algorithm-to-check-if-a-number-is-prime","body":"@RabindraKumarMahato Have a look at <a href=\"https://softwareengineering.stackexchange.com/questions/197374/what-is-the-time-complexity-of-the-algorithm-to-check-if-a-number-is-prime\" title=\"what is the time complexity of the algorithm to check if a number is prime\">softwareengineering.stackexchange.com/questions/197374/&hellip;</a>"}],"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515243916,"creation_date":1515243012,"answer_id":48127523,"question_id":48127476,"body_markdown":"You cannot decide that a number if prime if it is not divisible by a number. You need to add to the result at the end of the inner loop.\r\n\r\nThere are quite a few problems in your code. Here&#39;s the working one\r\n\r\n    for(int i= beg; i&lt;= end; i++) {\r\n        boolean prime = true;  //start by assuming the current number is prime\r\n        for(int j=2; j&lt;i; j++) { // Loop till j &lt; i\r\n            if(i%j == 0) {\r\n              prime = false; //Set the current number as not prime if it is divisible by any number lesser than it\r\n            }\r\n       }\r\n       if (prime) {\r\n           res += i+ &quot; &quot;;\t//Add to result\r\n       }\r\n    }\r\n\r\n*Note:* As sanit@ answer says, you can terminate the loop much earlier. \r\nRefer to [this][1] to know why looping till square root of the number is enough.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5811151/why-do-we-check-up-to-the-square-root-of-a-prime-number-to-determine-if-it-is-pr","title":"Print all prime numbers between two given numbers in Java only","body":"<p>You cannot decide that a number if prime if it is not divisible by a number. You need to add to the result at the end of the inner loop.</p>\n\n<p>There are quite a few problems in your code. Here's the working one</p>\n\n<pre><code>for(int i= beg; i&lt;= end; i++) {\n    boolean prime = true;  //start by assuming the current number is prime\n    for(int j=2; j&lt;i; j++) { // Loop till j &lt; i\n        if(i%j == 0) {\n          prime = false; //Set the current number as not prime if it is divisible by any number lesser than it\n        }\n   }\n   if (prime) {\n       res += i+ \" \";   //Add to result\n   }\n}\n</code></pre>\n\n<p><em>Note:</em> As sanit@ answer says, you can terminate the loop much earlier. \nRefer to <a href=\"https://stackoverflow.com/questions/5811151/why-do-we-check-up-to-the-square-root-of-a-prime-number-to-determine-if-it-is-pr\">this</a> to know why looping till square root of the number is enough.</p>\n"},{"tags":[],"owner":{"account_id":11069612,"reputation":196,"user_id":9165021,"display_name":"Or251"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515243620,"creation_date":1515243620,"answer_id":48127598,"question_id":48127476,"body_markdown":"The answers above aren&#39;t enough to solve this.\r\nAt any run of the second loop, you wanna check if the i enter every if of any j.\r\nDefine a boolean,for each i, check if for each j if j is dividing him, (while j isn&#39;t i itself). If so, then don&#39;t do anything, and keep running.Otherwise, concatenate i with the res so far, and print it at the end;\r\n\r\n    boolean flag=true;\r\n    for(int i= beg; i&lt;= end; i++)\r\n        {\r\n            for(int j=2; j&lt;= end; j++)\r\n            {\r\n                if(i%j== 0 &amp;&amp; i!=j)\r\n                {\r\n                    flag=true;\r\n                    res= i+ &quot; &quot;;\r\n                }\r\n            }\r\n        if(!flag){\r\n          res+=i +&quot; &quot;;}\r\n        flag=false;\r\n        }\r\n        return res;\r\n    }","title":"Print all prime numbers between two given numbers in Java only","body":"<p>The answers above aren't enough to solve this.\nAt any run of the second loop, you wanna check if the i enter every if of any j.\nDefine a boolean,for each i, check if for each j if j is dividing him, (while j isn't i itself). If so, then don't do anything, and keep running.Otherwise, concatenate i with the res so far, and print it at the end;</p>\n\n<pre><code>boolean flag=true;\nfor(int i= beg; i&lt;= end; i++)\n    {\n        for(int j=2; j&lt;= end; j++)\n        {\n            if(i%j== 0 &amp;&amp; i!=j)\n            {\n                flag=true;\n                res= i+ \" \";\n            }\n        }\n    if(!flag){\n      res+=i +\" \";}\n    flag=false;\n    }\n    return res;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1515243841,"post_id":48127600,"comment_id":83231836,"body_markdown":"Would be better if you can get rid of labels and use `break`","body":"Would be better if you can get rid of labels and use <code>break</code>"},{"owner":{"account_id":10083382,"reputation":99,"user_id":7452866,"display_name":"Rabindra Kumar Mahato"},"score":0,"creation_date":1515257365,"post_id":48127600,"comment_id":83235851,"body_markdown":"how to check the test cases and the complexity of this each code? Actually I am new in programming and I am not familier with these terms will please tell me how to became expert in these things","body":"how to check the test cases and the complexity of this each code? Actually I am new in programming and I am not familier with these terms will please tell me how to became expert in these things"}],"tags":[],"owner":{"account_id":2453924,"reputation":1686,"user_id":2139560,"accept_rate":0,"display_name":"sanit"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515243640,"creation_date":1515243640,"answer_id":48127600,"question_id":48127476,"body_markdown":"    private static String Prime(int beg, int end) {\r\n\t\tString res = &quot; &quot;;\r\n\t\touter: for (int i = beg; i &lt;= end; i++) {\r\n\t\t\tint upto = (int) Math.sqrt(end);\r\n\t\t\tfor (int j = 2; j &lt;= upto; j++) {\r\n\t\t\t\tif (i != j &amp;&amp; i % j == 0) {\r\n\t\t\t\t\tcontinue outer;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(i + &quot; &quot;);\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\r\nI have optimized the code little bit using `Math.sqrt`, you can still do some more optimization, just google how to optimize prime number genearation.","title":"Print all prime numbers between two given numbers in Java only","body":"<pre><code>private static String Prime(int beg, int end) {\n    String res = \" \";\n    outer: for (int i = beg; i &lt;= end; i++) {\n        int upto = (int) Math.sqrt(end);\n        for (int j = 2; j &lt;= upto; j++) {\n            if (i != j &amp;&amp; i % j == 0) {\n                continue outer;\n            }\n        }\n        System.out.println(i + \" \");\n    }\n    return res;\n}\n</code></pre>\n\n<p>I have optimized the code little bit using <code>Math.sqrt</code>, you can still do some more optimization, just google how to optimize prime number genearation.</p>\n"},{"tags":[],"owner":{"account_id":3687419,"reputation":339,"user_id":3070884,"display_name":"sailaja.vellanki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524537530,"creation_date":1524534825,"answer_id":49992327,"question_id":48127476,"body_markdown":"   \r\nHere is a working solution:\r\n\r\n    public static void primeBetween(int beg, int end) {\r\n            List&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\r\n            for (int n = beg; n &lt;= end; n++) {\r\n                boolean prime = true;\r\n                for (int j = 2; j &lt;= n / 2; j++) {\r\n                    if (n % j == 0 &amp;&amp; n != j) {\r\n                        prime = false;\r\n                    }\r\n                }\r\n                if (prime) {\r\n                    result.add(n);\r\n                }\r\n            }\r\n            System.out.println(result);\r\n        }\r\n    \r\n        /* Driver program  */\r\n        public static void main(String[] args) {\r\n            primeBetween(2, 25);\r\n        }\r\n\r\nThis is the output: [2, 3, 5, 7, 11, 13, 17, 19, 23]\r\n","title":"Print all prime numbers between two given numbers in Java only","body":"<p>Here is a working solution:</p>\n\n<pre><code>public static void primeBetween(int beg, int end) {\n        List&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\n        for (int n = beg; n &lt;= end; n++) {\n            boolean prime = true;\n            for (int j = 2; j &lt;= n / 2; j++) {\n                if (n % j == 0 &amp;&amp; n != j) {\n                    prime = false;\n                }\n            }\n            if (prime) {\n                result.add(n);\n            }\n        }\n        System.out.println(result);\n    }\n\n    /* Driver program  */\n    public static void main(String[] args) {\n        primeBetween(2, 25);\n    }\n</code></pre>\n\n<p>This is the output: [2, 3, 5, 7, 11, 13, 17, 19, 23]</p>\n"},{"tags":[],"owner":{"account_id":7643077,"reputation":1276,"user_id":5794571,"display_name":"Aaeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584915035,"creation_date":1584915035,"answer_id":60805553,"question_id":48127476,"body_markdown":"This method would print the prime numbers between two Numbers\r\n\r\npublic static void getPrime(int low, int high) {\r\n\r\n        while (low &lt; high) {\r\n            boolean flag = false;\r\n\r\n            for(int i = 2; i &lt;= low/2; ++i) {\r\n                // condition for nonprime number\r\n                if(low % i == 0) {\r\n                    flag = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (!flag)\r\n                System.out.print(low + &quot; &quot;);\r\n\r\n            ++low;\r\n        }\r\n}","title":"Print all prime numbers between two given numbers in Java only","body":"<p>This method would print the prime numbers between two Numbers</p>\n\n<p>public static void getPrime(int low, int high) {</p>\n\n<pre><code>    while (low &lt; high) {\n        boolean flag = false;\n\n        for(int i = 2; i &lt;= low/2; ++i) {\n            // condition for nonprime number\n            if(low % i == 0) {\n                flag = true;\n                break;\n            }\n        }\n\n        if (!flag)\n            System.out.print(low + \" \");\n\n        ++low;\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":29547367,"reputation":3,"user_id":22644803,"display_name":"Faizy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696252693,"creation_date":1696252693,"answer_id":77215861,"question_id":48127476,"body_markdown":"    import java.util.Scanner;\r\n\r\n    public class main {\r\n\r\n    public static void primefinder(int beg, int end) {\r\n        for (int i = beg; i &lt;= end; i++) {\r\n            boolean prime = true;  // Start by assuming the current number is prime\r\n            for (int j = 2; j &lt; i; j++) { // Loop until j &lt; i\r\n                if (i % j == 0) {\r\n                    prime = false; // Set the current number as not prime if it is divisible by any number lesser than it\r\n                }\r\n            }\r\n            if (prime == true) {\r\n                System.out.println(i + &quot; is prime&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;what is your first number&quot;);\r\n    int inputbeg = scanner.nextInt();\r\n    System.out.println(&quot;what is your last number&quot;);\r\n    int inputend = scanner.nextInt();\r\n    primefinder(inputbeg,inputend);\r\n       }\r\n    }\r\n\r\nI fixed your code, to fit a bit better to the person&#39;s question @thiyagu","title":"Print all prime numbers between two given numbers in Java only","body":"<pre><code>import java.util.Scanner;\n\npublic class main {\n\npublic static void primefinder(int beg, int end) {\n    for (int i = beg; i &lt;= end; i++) {\n        boolean prime = true;  // Start by assuming the current number is prime\n        for (int j = 2; j &lt; i; j++) { // Loop until j &lt; i\n            if (i % j == 0) {\n                prime = false; // Set the current number as not prime if it is divisible by any number lesser than it\n            }\n        }\n        if (prime == true) {\n            System.out.println(i + &quot; is prime&quot;);\n        }\n    }\n}\n\npublic static void main(String[] args) {\nScanner scanner = new Scanner(System.in);\nSystem.out.println(&quot;what is your first number&quot;);\nint inputbeg = scanner.nextInt();\nSystem.out.println(&quot;what is your last number&quot;);\nint inputend = scanner.nextInt();\nprimefinder(inputbeg,inputend);\n   }\n}\n</code></pre>\n<p>I fixed your code, to fit a bit better to the person's question @thiyagu</p>\n"}],"owner":{"account_id":10083382,"reputation":99,"user_id":7452866,"display_name":"Rabindra Kumar Mahato"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5968,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":6,"score":-2,"last_activity_date":1696252693,"creation_date":1515242725,"question_id":48127476,"body_markdown":"everyone, I tried this program but not get the expected answer, Please help me out.\r\n\r\nQuestion is:\r\n\r\nPrint all prime numbers between two given numbers. For example: Function is `Prime(beg,end)`, for `Prime(4,7)` it will return {5,7}, for `Prime(7,16)` it will return {7,11,13}.\r\nMy code : \r\n\r\n    package com.robin.practise;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class PrimebetweenRange \r\n    {\r\n    \t\r\n    \tprivate static String Prime(int beg, int end)\r\n    \t{\r\n    \t\tString res= &quot; &quot;;\r\n    \t\tfor(int i= beg; i&lt;= end; i++)\r\n    \t\t{\r\n    \t\t\tfor(int j=2; j&lt;= end; j++)\r\n    \t\t\t{\r\n    \t\t\t\tif(i%j!= 0)\r\n    \t\t\t\t{\r\n    \t\t\t\t\t//System.out.println(i+  &quot; &quot;);\r\n    \t\t\t\t\tres= i+ &quot; &quot;;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn res;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tScanner scn= new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter any two numbers: &quot;);\r\n    \t\tint n1= scn.nextInt();\r\n    \t\tint n2= scn.nextInt();\r\n    \t\tscn.close();\r\n    \t\tSystem.out.println(Prime(n1, n2));\r\n    \t}\r\n    }\r\n\r\n","title":"Print all prime numbers between two given numbers in Java only","body":"<p>everyone, I tried this program but not get the expected answer, Please help me out.</p>\n\n<p>Question is:</p>\n\n<p>Print all prime numbers between two given numbers. For example: Function is <code>Prime(beg,end)</code>, for <code>Prime(4,7)</code> it will return {5,7}, for <code>Prime(7,16)</code> it will return {7,11,13}.\nMy code : </p>\n\n<pre><code>package com.robin.practise;\n\nimport java.util.Scanner;\n\npublic class PrimebetweenRange \n{\n\n    private static String Prime(int beg, int end)\n    {\n        String res= \" \";\n        for(int i= beg; i&lt;= end; i++)\n        {\n            for(int j=2; j&lt;= end; j++)\n            {\n                if(i%j!= 0)\n                {\n                    //System.out.println(i+  \" \");\n                    res= i+ \" \";\n                }\n            }\n        }\n        return res;\n    }\n\n    public static void main(String[] args) \n    {\n        Scanner scn= new Scanner(System.in);\n        System.out.println(\"Enter any two numbers: \");\n        int n1= scn.nextInt();\n        int n2= scn.nextInt();\n        scn.close();\n        System.out.println(Prime(n1, n2));\n    }\n}\n</code></pre>\n"},{"tags":["java","json","ajax","jsp","struts2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1667673598,"post_id":74329632,"comment_id":131224447,"body_markdown":"You don&#39;t need to access servlet objects like that in the action. If you want to use json plugin the you need to specify the property for serialization. [This](https://stackoverflow.com/a/47964971/573032) answer might help you.","body":"You don&#39;t need to access servlet objects like that in the action. If you want to use json plugin the you need to specify the property for serialization. <a href=\"https://stackoverflow.com/a/47964971/573032\">This</a> answer might help you."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1667723031,"post_id":74329632,"comment_id":131230913,"body_markdown":"You giving this kind of problem only because you don&#39;t know Struts and the same thing is made differently.","body":"You giving this kind of problem only because you don&#39;t know Struts and the same thing is made differently."},{"owner":{"account_id":17709342,"reputation":47,"user_id":12857197,"display_name":"s.surya Prakash"},"score":0,"creation_date":1667723523,"post_id":74329632,"comment_id":131230974,"body_markdown":"@RomanC then provide a solution like how it can be done using struts.\nFYI any other solution like writing using response will be appreciated rather than declaring it as members and accessing it through getters and setters.","body":"@RomanC then provide a solution like how it can be done using struts. FYI any other solution like writing using response will be appreciated rather than declaring it as members and accessing it through getters and setters."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1667728924,"post_id":74329632,"comment_id":131231823,"body_markdown":"The solution is given by the link above. The code you have used have a lot of mistakes that is not Struts like developer. If you don&#39;t follow me to remove these errors then you never do it in the right way. This question will be closed as off-topic because is has not enough details to diagnose a problem.","body":"The solution is given by the link above. The code you have used have a lot of mistakes that is not Struts like developer. If you don&#39;t follow me to remove these errors then you never do it in the right way. This question will be closed as off-topic because is has not enough details to diagnose a problem."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1667834793,"post_id":74329632,"comment_id":131256347,"body_markdown":"You&#39;re currently writing directly *and* using an action result; pick one. When posting questions that have errors please post the actual error (see the [How to Ask](https://stackoverflow.com/help/how-to-ask) page). It might be worth taking a step back and either work within the framework, or learn how (and why/when) not to.","body":"You&#39;re currently writing directly <i>and</i> using an action result; pick one. When posting questions that have errors please post the actual error (see the <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> page). It might be worth taking a step back and either work within the framework, or learn how (and why/when) not to."}],"answers":[{"comments":[{"owner":{"account_id":17709342,"reputation":47,"user_id":12857197,"display_name":"s.surya Prakash"},"score":0,"creation_date":1668058241,"post_id":74380332,"comment_id":131316268,"body_markdown":"Thanks for ur answer, is there a way to write it in response writer like \n```ServletActionContext.getResponse().getWriter().write(obj.toJSONString());```\nson that its more easy to write JSONString as i want.","body":"Thanks for ur answer, is there a way to write it in response writer like  <code>ServletActionContext.getResponse().getWriter().write(obj.toJ&zwnj;&#8203;SONString());</code> son that its more easy to write JSONString as i want."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1668112398,"post_id":74380332,"comment_id":131333835,"body_markdown":"The only way is to return result NONE.","body":"The only way is to return result NONE."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1668698819,"post_id":74380332,"comment_id":131474147,"body_markdown":"If this answer helped you then you should mark it as accepted. The checkbox is on the left of the answer.","body":"If this answer helped you then you should mark it as accepted. The checkbox is on the left of the answer."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668022206,"creation_date":1668021840,"answer_id":74380332,"question_id":74329632,"body_markdown":"`JSONObject` is kind of problem when you return a JSON result. By default it serializes the action. Since you don&#39;t have properties to serialize you should create ones. \r\n\r\nActions in Struts2 are not singletons, so you should not fear to create properties.\r\n\r\n```\r\npublic class PropertyTesting extends ActionSupport \r\n{\r\n\r\n    Map obj;\r\n\r\n    public Map getJSON(){\r\n       return obj;\r\n    }\r\n\r\n    public String execute() \r\n    {\r\n        obj  = new HashMap();\r\n        obj.put(&quot;Name&quot;, &quot;PersonName&quot;);\r\n        obj.put(&quot;ID&quot;, &quot;PersonID&quot;);\r\n   \r\n        return SUCCESS;\r\n    }\r\n}\r\n```","title":"JSON Response from Struts 2 not working with AJAX","body":"<p><code>JSONObject</code> is kind of problem when you return a JSON result. By default it serializes the action. Since you don't have properties to serialize you should create ones.</p>\n<p>Actions in Struts2 are not singletons, so you should not fear to create properties.</p>\n<pre><code>public class PropertyTesting extends ActionSupport \n{\n\n    Map obj;\n\n    public Map getJSON(){\n       return obj;\n    }\n\n    public String execute() \n    {\n        obj  = new HashMap();\n        obj.put(&quot;Name&quot;, &quot;PersonName&quot;);\n        obj.put(&quot;ID&quot;, &quot;PersonID&quot;);\n   \n        return SUCCESS;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17709342,"reputation":47,"user_id":12857197,"display_name":"s.surya Prakash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696252631,"creation_date":1667666879,"question_id":74329632,"body_markdown":"I&#39;m Using Ajax to get success response from Struts 2 but it ended up giving the response to error function and parse error for parsing JSON in Ajax.\r\n\r\nBelow is my code.\r\n\r\n**Action class - PropertyTesting.java**\r\n\r\n```\r\nimport java.io.IOException;\r\nimport org.apache.struts2.ServletActionContext;\r\nimport org.json.simple.JSONObject;\r\nimport com.opensymphony.xwork2.ActionContext;\r\nimport com.opensymphony.xwork2.ActionSupport;\r\n\r\npublic class PropertyTesting extends ActionSupport \r\n{\r\n\tpublic String execute() \r\n\t{\r\n\t\tJSONObject obj  = new JSONObject();\r\n\t\tobj.put(&quot;Name&quot;, &quot;PersonName&quot;);\r\n\t\tobj.put(&quot;ID&quot;, &quot;PersonID&quot;);\r\n\t\ttry {\r\n\t\t\tServletActionContext.getResponse().getWriter().write(obj.toJSONString());\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn SUCCESS;\r\n\t}\r\n}\r\n```\r\n**JSP Page - PropertyTesting.jsp**\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@ taglib uri=&quot;/struts-tags&quot; prefix=&quot;s&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;title&gt;Property Testing&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\nfunction invokeAjax()\r\n{\r\n\t$.ajax(\r\n\t{\r\n\t\ttype:&quot;POST&quot;,\r\n\t\turl:&quot;PropertyTesting&quot;,\r\n\t\tdataType:&quot;json&quot;, \r\n\t\tsuccess: function(responseText)\r\n\t\t{\r\n\t\t\tconsole.log(responseText);  \r\n\t\t},\r\n\t\terror: function(errorResponse)\r\n\t\t{\r\n\t\t\tconsole.log(errorResponse);\r\n\t\t}\r\n\t});\r\n}\r\n\t\r\n&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;button type=&quot;button&quot; onclick=&quot;invokeAjax()&quot; &gt;Submit&lt;/button&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**Struts.xml**\r\n\r\n```xml\r\n&lt;struts&gt;\r\n   &lt;constant name=&quot;struts.devMode&quot; value=&quot;true&quot;/&gt;\r\n   &lt;package name=&quot;WebTesting&quot; extends=&quot;json-default&quot;&gt;\r\n\t   \t&lt;action name=&quot;PropertyTesting&quot; class=&quot;org.testing.PropertyTesting&quot; &gt;\r\n\t   \t\t&lt;result type=&quot;json&quot;&gt;&lt;/result&gt;\r\n\t   \t&lt;/action&gt;\r\n   &lt;/package&gt;\r\n&lt;/struts&gt; \r\n\r\n```\r\n\r\nAnd also if I&#39;m doing the same thing using Servlets it&#39;s giving me the exact results on using Struts only giving this kind of problems.\r\n","title":"JSON Response from Struts 2 not working with AJAX","body":"<p>I'm Using Ajax to get success response from Struts 2 but it ended up giving the response to error function and parse error for parsing JSON in Ajax.</p>\n<p>Below is my code.</p>\n<p><strong>Action class - PropertyTesting.java</strong></p>\n<pre><code>import java.io.IOException;\nimport org.apache.struts2.ServletActionContext;\nimport org.json.simple.JSONObject;\nimport com.opensymphony.xwork2.ActionContext;\nimport com.opensymphony.xwork2.ActionSupport;\n\npublic class PropertyTesting extends ActionSupport \n{\n    public String execute() \n    {\n        JSONObject obj  = new JSONObject();\n        obj.put(&quot;Name&quot;, &quot;PersonName&quot;);\n        obj.put(&quot;ID&quot;, &quot;PersonID&quot;);\n        try {\n            ServletActionContext.getResponse().getWriter().write(obj.toJSONString());\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return SUCCESS;\n    }\n}\n</code></pre>\n<p><strong>JSP Page - PropertyTesting.jsp</strong></p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n    &lt;%@ taglib uri=&quot;/struts-tags&quot; prefix=&quot;s&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Property Testing&lt;/title&gt;\n&lt;/head&gt;\n&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\nfunction invokeAjax()\n{\n    $.ajax(\n    {\n        type:&quot;POST&quot;,\n        url:&quot;PropertyTesting&quot;,\n        dataType:&quot;json&quot;, \n        success: function(responseText)\n        {\n            console.log(responseText);  \n        },\n        error: function(errorResponse)\n        {\n            console.log(errorResponse);\n        }\n    });\n}\n    \n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;button type=&quot;button&quot; onclick=&quot;invokeAjax()&quot; &gt;Submit&lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>Struts.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;struts&gt;\n   &lt;constant name=&quot;struts.devMode&quot; value=&quot;true&quot;/&gt;\n   &lt;package name=&quot;WebTesting&quot; extends=&quot;json-default&quot;&gt;\n        &lt;action name=&quot;PropertyTesting&quot; class=&quot;org.testing.PropertyTesting&quot; &gt;\n            &lt;result type=&quot;json&quot;&gt;&lt;/result&gt;\n        &lt;/action&gt;\n   &lt;/package&gt;\n&lt;/struts&gt; \n\n</code></pre>\n<p>And also if I'm doing the same thing using Servlets it's giving me the exact results on using Struts only giving this kind of problems.</p>\n"},{"tags":["java","performance","report"],"answers":[{"comments":[{"owner":{"account_id":2475,"reputation":16513,"user_id":3446,"accept_rate":67,"display_name":"rcreswick"},"score":0,"creation_date":1221596446,"post_id":76418,"comment_id":8584,"body_markdown":"The bottom of that page outlines a solution, that does indeed work.","body":"The bottom of that page outlines a solution, that does indeed work."},{"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"score":0,"creation_date":1221598972,"post_id":76418,"comment_id":8718,"body_markdown":"Down votes are not hostile actions.  They just reflect the percieved accuracy of your answer.  Your original answer indicated it could not be solved (&quot;Looks like you cant&quot;).  That just was not true.","body":"Down votes are not hostile actions.  They just reflect the percieved accuracy of your answer.  Your original answer indicated it could not be solved (&quot;Looks like you cant&quot;).  That just was not true."}],"tags":[],"owner":{"account_id":71,"reputation":7062,"user_id":86,"accept_rate":95,"display_name":"svrist"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1221645496,"creation_date":1221595963,"answer_id":76418,"question_id":76327,"body_markdown":"*EDIT: Cleanup info and summarize*\r\n\r\nSummary:\r\n\r\n - Its a feature, not a bug\r\n - It can be turned of with -XX:-UsePerfData which might hurt performance\r\n\r\nRelevant info:\r\n\r\n -  [Sun forum][1]\r\n -  [Bugreport][2]\r\n\r\n\r\n  [1]: http://forums.sun.com/thread.jspa?threadID=587299&amp;messageID=4257939\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=5012932","title":"How can I prevent Java from creating hsperfdata files?","body":"<p><em>EDIT: Cleanup info and summarize</em></p>\n<p>Summary:</p>\n<ul>\n<li>Its a feature, not a bug</li>\n<li>It can be turned of with -XX:-UsePerfData which might hurt performance</li>\n</ul>\n<p>Relevant info:</p>\n<ul>\n<li><a href=\"http://forums.sun.com/thread.jspa?threadID=587299&amp;messageID=4257939\" rel=\"nofollow noreferrer\">Sun forum</a></li>\n<li><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=5012932\" rel=\"nofollow noreferrer\">Bugreport</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":20445,"reputation":6733,"user_id":48869,"accept_rate":81,"display_name":"Eldelshell"},"score":7,"creation_date":1326102485,"post_id":76423,"comment_id":10958077,"body_markdown":"Just to point out that using either of -XX:+PerfDisableSharedMem or -XX:-UsePerfData will not allow JConsole, VisualVM and similar tools to connect to the JVM unless you activate JMX.","body":"Just to point out that using either of -XX:+PerfDisableSharedMem or -XX:-UsePerfData will not allow JConsole, VisualVM and similar tools to connect to the JVM unless you activate JMX."},{"owner":{"account_id":5171,"reputation":1248,"user_id":8187,"accept_rate":83,"display_name":"Kyle Renfro"},"score":0,"creation_date":1366202989,"post_id":76423,"comment_id":22919788,"body_markdown":"The &quot;more info&quot; link has been fixed.","body":"The &quot;more info&quot; link has been fixed."}],"tags":[],"owner":{"account_id":5171,"reputation":1248,"user_id":8187,"accept_rate":83,"display_name":"Kyle Renfro"},"comment_count":2,"down_vote_count":3,"up_vote_count":43,"is_accepted":true,"score":40,"last_activity_date":1496707904,"creation_date":1221595980,"answer_id":76423,"question_id":76327,"body_markdown":"Try JVM option **-XX:-UsePerfData**\r\n\r\n[more info][1]\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\r\n\r\n\r\nThe following might be helpful that is from link https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html\r\n\r\n    \r\n    \r\n    -XX:+UsePerfData\r\n\r\n        Enables the perfdata feature. This option is enabled by default\r\n        to allow JVM monitoring and performance testing. Disabling it \r\n        suppresses the creation of the hsperfdata_userid directories. \r\n        To disable the perfdata feature, specify -XX:-UsePerfData.\r\n","title":"How can I prevent Java from creating hsperfdata files?","body":"<p>Try JVM option <strong>-XX:-UsePerfData</strong></p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"noreferrer\">more info</a></p>\n\n<p>The following might be helpful that is from link <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html</a></p>\n\n<pre><code>-XX:+UsePerfData\n\n    Enables the perfdata feature. This option is enabled by default\n    to allow JVM monitoring and performance testing. Disabling it \n    suppresses the creation of the hsperfdata_userid directories. \n    To disable the perfdata feature, specify -XX:-UsePerfData.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221596387,"creation_date":1221596387,"answer_id":76503,"question_id":76327,"body_markdown":"From svrist&#39;s link:\r\n\r\n&gt; The first item in [http://java.sun.com/performance/jvmstat/faq.html][1] mentions an option which you can turn off to disable the whole suite of features: -XX:-UsePerfData.\r\n\r\n\r\n  [1]: http://java.sun.com/performance/jvmstat/faq.html","title":"How can I prevent Java from creating hsperfdata files?","body":"<p>From svrist's link:</p>\n\n<blockquote>\n  <p>The first item in <a href=\"http://java.sun.com/performance/jvmstat/faq.html\" rel=\"nofollow noreferrer\">http://java.sun.com/performance/jvmstat/faq.html</a> mentions an option which you can turn off to disable the whole suite of features: -XX:-UsePerfData.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1254,"reputation":57918,"user_id":1666,"accept_rate":84,"display_name":"SCdF"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221596404,"creation_date":1221596404,"answer_id":76506,"question_id":76327,"body_markdown":"According to the [filed bug report][1] there is a work-around:\n\n&gt; This undocumented option will disable\n&gt; the perfdata feature:  \n&gt; -XX:-UsePerfData\n\nIt&#39;s worth mentioning that it is a feature though, not a bug. The above work-around just disables the feature.\n\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=5012932","title":"How can I prevent Java from creating hsperfdata files?","body":"<p>According to the <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=5012932\" rel=\"nofollow noreferrer\">filed bug report</a> there is a work-around:</p>\n<blockquote>\n<p>This undocumented option will disable\nthe perfdata feature:<br />\n-XX:-UsePerfData</p>\n</blockquote>\n<p>It's worth mentioning that it is a feature though, not a bug. The above work-around just disables the feature.</p>\n"},{"comments":[{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":0,"creation_date":1521744100,"post_id":3060276,"comment_id":85874268,"body_markdown":"&quot; which should cause less performance issues &quot; . Interesting, but do you have any official source ?","body":"&quot; which should cause less performance issues &quot; . Interesting, but do you have any official source ?"}],"tags":[],"owner":{"account_id":626037,"reputation":21,"user_id":369132,"display_name":"Zweiberg"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314432200,"creation_date":1276765776,"answer_id":3060276,"question_id":76327,"body_markdown":"There is also `&quot;-XX:+PerfDisableSharedMem&quot;` option (recommended by Sun) which should cause less performance issues than use of `&quot;-XX:-UsePerfData&quot;` option.","title":"How can I prevent Java from creating hsperfdata files?","body":"<p>There is also <code>\"-XX:+PerfDisableSharedMem\"</code> option (recommended by Sun) which should cause less performance issues than use of <code>\"-XX:-UsePerfData\"</code> option.</p>\n"},{"comments":[{"owner":{"account_id":357752,"reputation":1302,"user_id":698121,"display_name":"Peter"},"score":2,"creation_date":1427799124,"post_id":3933583,"comment_id":46916207,"body_markdown":"Also see this blog post from a softare engineer at Twitter: http://www.evanjones.ca/jvm-mmap-pause.html\nThere he describes a positive effect on garbage collector pause times.","body":"Also see this blog post from a softare engineer at Twitter: <a href=\"http://www.evanjones.ca/jvm-mmap-pause.html\" rel=\"nofollow noreferrer\">evanjones.ca/jvm-mmap-pause.html</a> There he describes a positive effect on garbage collector pause times."}],"tags":[],"owner":{"account_id":103513,"reputation":1324,"user_id":277208,"accept_rate":75,"display_name":"Jon Stafford"},"comment_count":1,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1302016930,"creation_date":1287062668,"answer_id":3933583,"question_id":76327,"body_markdown":"Use the JVM option **`-XX:-UsePerfData`**.\r\n\r\nThis will not have a negative effect on performance, as some other answers say.\r\n\r\nBy default jvmstat instrumentation is turned on in the HotSpot JVM.  The JVM option `-XX:-UsePerfData` turns it off.  If anything, I would speculate, turning off the instrumentation would improve performance (a trivial amount).\r\n\r\nSo the downside of turning off jvmstat instrumentation is that you lose the performance monitoring information.\r\n\r\njvmstat is described here http://java.sun.com/performance/jvmstat/\r\n\r\nHere&#39;s a thread with someone who is worried that by turning **on** jvmstat - with the option `-XX:+UsePerfData` - will hurt performance.\r\nhttp://www.theserverside.com/discussions/thread.tss?thread_id=33833     \r\n(It probably won&#39;t since jvmstat is designed to be &quot;&#39;always on&#39;, yet has negligible performance impact&quot;.)","title":"How can I prevent Java from creating hsperfdata files?","body":"<p>Use the JVM option <strong><code>-XX:-UsePerfData</code></strong>.</p>\n\n<p>This will not have a negative effect on performance, as some other answers say.</p>\n\n<p>By default jvmstat instrumentation is turned on in the HotSpot JVM.  The JVM option <code>-XX:-UsePerfData</code> turns it off.  If anything, I would speculate, turning off the instrumentation would improve performance (a trivial amount).</p>\n\n<p>So the downside of turning off jvmstat instrumentation is that you lose the performance monitoring information.</p>\n\n<p>jvmstat is described here <a href=\"http://java.sun.com/performance/jvmstat/\" rel=\"noreferrer\">http://java.sun.com/performance/jvmstat/</a></p>\n\n<p>Here's a thread with someone who is worried that by turning <strong>on</strong> jvmstat - with the option <code>-XX:+UsePerfData</code> - will hurt performance.\n<a href=\"http://www.theserverside.com/discussions/thread.tss?thread_id=33833\" rel=\"noreferrer\">http://www.theserverside.com/discussions/thread.tss?thread_id=33833</a><br>\n(It probably won't since jvmstat is designed to be \"'always on', yet has negligible performance impact\".)</p>\n"},{"comments":[{"owner":{"account_id":200183,"reputation":6610,"user_id":445901,"accept_rate":80,"display_name":"SimonC"},"score":5,"creation_date":1329882964,"post_id":5435817,"comment_id":11861627,"body_markdown":"I know this is an old question, but for the Google searchers:  this only works in a few versions of the JVM and is no longer supported.  See:  http://bugs.sun.com/view_bug.do?bug_id=6447182, http://bugs.sun.com/view_bug.do?bug_id=6938627, http://bugs.sun.com/view_bug.do?bug_id=7009828.","body":"I know this is an old question, but for the Google searchers:  this only works in a few versions of the JVM and is no longer supported.  See:  <a href=\"http://bugs.sun.com/view_bug.do?bug_id=6447182\" rel=\"nofollow noreferrer\">bugs.sun.com/view_bug.do?bug_id=6447182</a>, <a href=\"http://bugs.sun.com/view_bug.do?bug_id=6938627\" rel=\"nofollow noreferrer\">bugs.sun.com/view_bug.do?bug_id=6938627</a>, <a href=\"http://bugs.sun.com/view_bug.do?bug_id=7009828\" rel=\"nofollow noreferrer\">bugs.sun.com/view_bug.do?bug_id=7009828</a>."}],"tags":[],"owner":{"account_id":206305,"reputation":109,"user_id":455512,"display_name":"Mack"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1450417243,"creation_date":1301073177,"answer_id":5435817,"question_id":76327,"body_markdown":"Rather than switching it off, change the java.io.tmpdir location.\r\nAdd -Djava.io.tmpdir=/mydir/somewhere/else/ to your Java startup command\r\nand then the file will be somewhere that you control.     \r\n\r\n---\r\n\r\nNote a comment by @simonc:  this only works in a few versions of the JVM and is no longer supported. See https://bugs.java.com/bugdatabase/view_bug?bug_id=6447182, https://bugs.java.com/bugdatabase/view_bug?bug_id=6938627, https://bugs.java.com/bugdatabase/view_bug?bug_id=7009828 for more information.","title":"How can I prevent Java from creating hsperfdata files?","body":"<p>Rather than switching it off, change the java.io.tmpdir location.\nAdd -Djava.io.tmpdir=/mydir/somewhere/else/ to your Java startup command\nand then the file will be somewhere that you control.</p>\n<hr />\n<p>Note a comment by @simonc:  this only works in a few versions of the JVM and is no longer supported. See <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6447182\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6447182</a>, <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6938627\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6938627</a>, <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=7009828\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=7009828</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":8677375,"reputation":21,"user_id":6494409,"display_name":"user6494409"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538579568,"creation_date":1538579568,"answer_id":52630279,"question_id":76327,"body_markdown":"As an addendum to Mack&#39;s reply (answered Mar 25 &#39;11 at 17:12), the option java.tmp.dir looks no longer available since Java 8.  See the info at: https://bugs.java.com/view_bug.do?bug_id=8189674\r\n\r\nSo disabling the option using -XX:-UsePerfData seems the only option not to have hsperfdata_* files.","title":"How can I prevent Java from creating hsperfdata files?","body":"<p>As an addendum to Mack's reply (answered Mar 25 '11 at 17:12), the option java.tmp.dir looks no longer available since Java 8.  See the info at: <a href=\"https://bugs.java.com/view_bug.do?bug_id=8189674\" rel=\"nofollow noreferrer\">https://bugs.java.com/view_bug.do?bug_id=8189674</a></p>\n\n<p>So disabling the option using -XX:-UsePerfData seems the only option not to have hsperfdata_* files.</p>\n"}],"owner":{"account_id":7767,"reputation":1380,"user_id":13582,"accept_rate":25,"display_name":"c-had"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80480,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":76423,"answer_count":8,"score":52,"last_activity_date":1696252478,"creation_date":1221595388,"question_id":76327,"body_markdown":"I&#39;m writing a Java application that runs on Linux (using Sun&#39;s JDK). It keeps creating `/tmp/hsperfdata_username` directories, which I would like to prevent. Is there any way to stop java from creating these files?","title":"How can I prevent Java from creating hsperfdata files?","body":"<p>I'm writing a Java application that runs on Linux (using Sun's JDK). It keeps creating <code>/tmp/hsperfdata_username</code> directories, which I would like to prevent. Is there any way to stop java from creating these files?</p>\n"},{"tags":["java","android","barcode","google-mlkit","datamatrix"],"comments":[{"owner":{"account_id":12461006,"reputation":21,"user_id":9093194,"display_name":"Anatoliy Voronin"},"score":0,"creation_date":1694068132,"post_id":76968245,"comment_id":135842953,"body_markdown":"solved it. i was getting this log warning.\n&quot;&quot;&quot;ML Kit has detected that you seem to pass camera frames to the detector as a Bitmap object. This is inefficient. Please use YUV_420_888 format for camera2 API or NV21 format for (legacy) camera API and directly pass down the byte array to ML Kit.&quot;&quot;&quot;\n\nso i just convert ImageProxy to byte array. then just invert colors in this byte array and use InputImage like this\nInputImage inputImage = InputImage.fromByteArray(.....\n\nif someone needs more info: just let me know. i ll explain it better with code.","body":"solved it. i was getting this log warning. &quot;&quot;&quot;ML Kit has detected that you seem to pass camera frames to the detector as a Bitmap object. This is inefficient. Please use YUV_420_888 format for camera2 API or NV21 format for (legacy) camera API and directly pass down the byte array to ML Kit.&quot;&quot;&quot;  so i just convert ImageProxy to byte array. then just invert colors in this byte array and use InputImage like this InputImage inputImage = InputImage.fromByteArray(.....  if someone needs more info: just let me know. i ll explain it better with code."},{"owner":{"account_id":5289520,"reputation":5292,"user_id":4222504,"display_name":"V&#233;ger L&#243;r&#225;nd"},"score":0,"creation_date":1694433963,"post_id":76968245,"comment_id":135886069,"body_markdown":"Hi, I recently encountered the same issue, would you mind sharing the final solution?","body":"Hi, I recently encountered the same issue, would you mind sharing the final solution?"},{"owner":{"account_id":12461006,"reputation":21,"user_id":9093194,"display_name":"Anatoliy Voronin"},"score":1,"creation_date":1696228396,"post_id":76968245,"comment_id":136121448,"body_markdown":"@V&#233;gerL&#243;r&#225;nd posted my solution","body":"@V&#233;gerL&#243;r&#225;nd posted my solution"}],"answers":[{"tags":[],"owner":{"account_id":12461006,"reputation":21,"user_id":9093194,"display_name":"Anatoliy Voronin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696252405,"creation_date":1696228339,"answer_id":77213591,"question_id":76968245,"body_markdown":"I make `InputImage` like this.\r\n\r\n```java\r\n@SuppressLint(&quot;UnsafeOptInUsageError&quot;) Image image = imageProxy.getImage();\r\n        assert image != null;\r\n        byte[] imageByteArray = YUV_420_888toNV21(image);\r\n        int size = min(image.getWidth(), image.getHeight()) / 2;\r\n        byte[] cropped = cropNV21(imageByteArray, image.getWidth(), image.getHeight(), (image.getWidth() - size) / 2, (image.getHeight() - size) / 2, size, size);\r\n        assert cropped != null;\r\n        InputImage inputImage = InputImage.fromByteArray(cropped, size, size, imageProxy.getImageInfo().getRotationDegrees(), InputImage.IMAGE_FORMAT_NV21);\r\n        InputImage invertedImage = InputImage.fromByteArray(inverse(cropped), size, size, imageProxy.getImageInfo().getRotationDegrees(), InputImage.IMAGE_FORMAT_NV21);\r\n        \r\n\r\nprivate byte[] YUV_420_888toNV21(Image image) {\r\n        byte[] nv21;\r\n        ByteBuffer yBuffer = image.getPlanes()[0].getBuffer();\r\n        ByteBuffer uBuffer = image.getPlanes()[1].getBuffer();\r\n        ByteBuffer vBuffer = image.getPlanes()[2].getBuffer();\r\n\r\n        int ySize = yBuffer.remaining();\r\n        int uSize = uBuffer.remaining();\r\n        int vSize = vBuffer.remaining();\r\n\r\n        nv21 = new byte[ySize + uSize + vSize];\r\n\r\n        //U and V are swapped\r\n        yBuffer.get(nv21, 0, ySize);\r\n        vBuffer.get(nv21, ySize, vSize);\r\n        uBuffer.get(nv21, ySize + vSize, uSize);\r\n\r\n        return nv21;\r\n    }\r\n\r\n    private byte[] inverse(byte[] bytes) {\r\n        byte[] inverted = new byte[bytes.length];\r\n        for (int i = 0; i &lt; bytes.length; i++) {\r\n            inverted[i] = (byte) (bytes[i] ^ 0xff);\r\n        }\r\n        return inverted;\r\n    }\r\n\r\n    private byte[] cropNV21(byte[] src, int width, int height, int left, int top, int clip_w, int clip_h) {\r\n        if (left &gt; width || top &gt; height) {\r\n            return null;\r\n        }\r\n        // Take the couple\r\n        int x = left * 2 / 2, y = top * 2 / 2;\r\n        int w = clip_w * 2 / 2, h = clip_h * 2 / 2;\r\n        int y_unit = w * h;\r\n        int src_unit = width * height;\r\n        int uv = y_unit &gt;&gt; 1;\r\n        byte[] nData = new byte[y_unit + uv];\r\n\r\n\r\n        for (int i = y, len_i = y + h; i &lt; len_i; i++) {\r\n            for (int j = x, len_j = x + w; j &lt; len_j; j++) {\r\n                nData[(i - y) * w + j - x] = src[i * width + j];\r\n                nData[y_unit + ((i - y) / 2) * w + j - x] = src[src_unit + i / 2 * width + j];\r\n            }\r\n        }\r\n\r\n        return nData;\r\n    }\r\n```","title":"MLKit Android inverted datamatrix scan takes too long time","body":"<p>I make <code>InputImage</code> like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressLint(&quot;UnsafeOptInUsageError&quot;) Image image = imageProxy.getImage();\n        assert image != null;\n        byte[] imageByteArray = YUV_420_888toNV21(image);\n        int size = min(image.getWidth(), image.getHeight()) / 2;\n        byte[] cropped = cropNV21(imageByteArray, image.getWidth(), image.getHeight(), (image.getWidth() - size) / 2, (image.getHeight() - size) / 2, size, size);\n        assert cropped != null;\n        InputImage inputImage = InputImage.fromByteArray(cropped, size, size, imageProxy.getImageInfo().getRotationDegrees(), InputImage.IMAGE_FORMAT_NV21);\n        InputImage invertedImage = InputImage.fromByteArray(inverse(cropped), size, size, imageProxy.getImageInfo().getRotationDegrees(), InputImage.IMAGE_FORMAT_NV21);\n        \n\nprivate byte[] YUV_420_888toNV21(Image image) {\n        byte[] nv21;\n        ByteBuffer yBuffer = image.getPlanes()[0].getBuffer();\n        ByteBuffer uBuffer = image.getPlanes()[1].getBuffer();\n        ByteBuffer vBuffer = image.getPlanes()[2].getBuffer();\n\n        int ySize = yBuffer.remaining();\n        int uSize = uBuffer.remaining();\n        int vSize = vBuffer.remaining();\n\n        nv21 = new byte[ySize + uSize + vSize];\n\n        //U and V are swapped\n        yBuffer.get(nv21, 0, ySize);\n        vBuffer.get(nv21, ySize, vSize);\n        uBuffer.get(nv21, ySize + vSize, uSize);\n\n        return nv21;\n    }\n\n    private byte[] inverse(byte[] bytes) {\n        byte[] inverted = new byte[bytes.length];\n        for (int i = 0; i &lt; bytes.length; i++) {\n            inverted[i] = (byte) (bytes[i] ^ 0xff);\n        }\n        return inverted;\n    }\n\n    private byte[] cropNV21(byte[] src, int width, int height, int left, int top, int clip_w, int clip_h) {\n        if (left &gt; width || top &gt; height) {\n            return null;\n        }\n        // Take the couple\n        int x = left * 2 / 2, y = top * 2 / 2;\n        int w = clip_w * 2 / 2, h = clip_h * 2 / 2;\n        int y_unit = w * h;\n        int src_unit = width * height;\n        int uv = y_unit &gt;&gt; 1;\n        byte[] nData = new byte[y_unit + uv];\n\n\n        for (int i = y, len_i = y + h; i &lt; len_i; i++) {\n            for (int j = x, len_j = x + w; j &lt; len_j; j++) {\n                nData[(i - y) * w + j - x] = src[i * width + j];\n                nData[y_unit + ((i - y) / 2) * w + j - x] = src[src_unit + i / 2 * width + j];\n            }\n        }\n\n        return nData;\n    }\n</code></pre>\n"}],"owner":{"account_id":12461006,"reputation":21,"user_id":9093194,"display_name":"Anatoliy Voronin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696252405,"creation_date":1692871548,"question_id":76968245,"body_markdown":"First of all - sorry for my english :)\r\n\r\nI&#39;m using MLKit in project to scan barcodes (datamatrix). But i have white datamatrix on black background like this [Datamatrix image](https://i.stack.imgur.com/aNVkf.jpg)\r\n\r\nIn my code I crop image before scanning. After this i invert colors of this cropped image and put this image into scanner.\r\n\r\nThe problem i have is that scanner just can&#39;t define code having good image. It&#39;s going through few analysis and reading it from 6-10th analys.\r\n\r\nFor example. This is [screenshot](https://i.stack.imgur.com/n9qIo.jpg) of datamatrix scanning. There is square image in the center. It is imageView that gets cropped and inverted image that goes to scanner. But it doesn&#39;t give quick result. I need to wait for 3-5 second to get code from there. While its scanning Scanner makes 3-4 analysis in 1 sec.\r\n\r\n\r\nI have iOS App alternative of this MLKit scanning. It does the same steps (crop and invert) but iOS app is scanning this for 1 sec, maybe faster.\r\n\r\nI tried everything to speed scanning up, but nothing helped. Pls help\r\n\r\nI put my classes in [git](https://github.com/sofiqq/mlkit). So i put short code here.\r\n\r\nThis is my ScanFragment.java with initializations\r\n\r\n```\r\n    private CamcorderProfile camProfile;\r\n    private ListenableFuture cameraProviderFuture;\r\n    private ExecutorService cameraExecutor;\r\n    private PreviewView previewView;\r\n    private ImageAnalyser analyser;\r\n    private androidx.camera.core.Camera camera;\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_scan_ui, container, false);\r\n        previewView = view.findViewById(R.id.previewview);\r\n\r\n        requireActivity().getWindow().setFlags(1024, 1024);\r\n        cameraExecutor = Executors.newSingleThreadExecutor();\r\n        cameraProviderFuture = ProcessCameraProvider.getInstance(requireActivity());\r\n        try {\r\n            processCameraProvider = (ProcessCameraProvider) cameraProviderFuture.get();\r\n        } catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        cameraProviderFuture.addListener(() -&gt; {\r\n                if (ActivityCompat.checkSelfPermission(requireContext(), Manifest.permission.CAMERA) != (PackageManager.PERMISSION_GRANTED)) {\r\n                    requestPermissionLauncher.launch(Manifest.permission.CAMERA);\r\n                } else {\r\n                    bindpreview();\r\n                }\r\n        }, ContextCompat.getMainExecutor(requireContext()));\r\n\r\n        return view;\r\n    }\r\n\r\n    private void setTabDatamatrix() {\r\n        camProfile = CamcorderProfile.get(CamcorderProfile.QUALITY_1080P);\r\n        BarcodeScannerOptions barcodeScanOptions = new BarcodeScannerOptions.Builder()\r\n                .setBarcodeFormats(\r\n                        Barcode.FORMAT_DATA_MATRIX\r\n                ).build();\r\n        if (analyser == null)\r\n            analyser = new ImageAnalyser(getParentFragmentManager(), barcodeScanOptions, this, this);\r\n        else\r\n            analyser.setScanOptions(barcodeScanOptions, ScanType.DATAMATRIX);\r\n        scanType = ScanType.DATAMATRIX;\r\n\r\n        hideProgressBar();\r\n        bottomBar.performShow();\r\n        showCursor();\r\n        setTabBackground(ivScanTabDatamatrix);\r\n        tvScanHintMoveCamera.setVisibility(View.VISIBLE);\r\n        tvScanHintMoveCamera.setText(Utils.getString(R.string.scanner_tab_mark_hint, requireContext()));\r\n        tooltip.show(ivScanTabDatamatrix, Utils.getString(R.string.scanner_tab_mark, requireContext()));\r\n\r\n        showHint(coordinatorLayout, ScanHintView.ScanHintType.MARK);\r\n        bindpreview();\r\n    }\r\n\r\n    private void bindpreview() {\r\n        Preview preview = new Preview.Builder().build();\r\n        CameraSelector cameraSelector = new CameraSelector.Builder().requireLensFacing(CameraSelector.LENS_FACING_BACK).build();\r\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n        ImageCapture imageCapture = new ImageCapture.Builder().build();\r\n        ImageAnalysis imageAnalysis = new ImageAnalysis.Builder()\r\n                .setTargetResolution(new Size(camProfile.videoFrameHeight, camProfile.videoFrameWidth))  //480 320\r\n                .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\r\n                .build();\r\n        imageAnalysis.setAnalyzer(cameraExecutor, analyser);\r\n        processCameraProvider.unbindAll();\r\n        camera = processCameraProvider.bindToLifecycle(this, cameraSelector, preview, imageCapture, imageAnalysis);\r\n    }\r\n```\r\n\r\nThis is ImageAnalyser.java class. I analyze scanned images here.\r\n\r\n\r\n```\r\n    @Override\r\n    public void analyze(@NonNull ImageProxy image) {\r\n        scanbarcode(image);\r\n    }\r\n\r\n    private void scanbarcode(ImageProxy image) {\r\n        @SuppressLint(&quot;UnsafeOptInUsageError&quot;) Bitmap bitmap = BitmapUtils.getBitmap(image);\r\n        assert bitmap != null;\r\n        Bitmap cropped = Bitmap.createBitmap(bitmap, bitmap.getWidth() / 4, (bitmap.getHeight() / 2) - bitmap.getWidth() / 4, bitmap.getWidth() / 2, bitmap.getWidth() / 2);\r\n        Bitmap inverted = inverseBitmapColors(cropped);\r\n        InputImage invertedImage = InputImage.fromBitmap(inverted, image.getImageInfo().getRotationDegrees());\r\n        BarcodeScanner scanner = BarcodeScanning.getClient(barcodeScannerOptions);\r\n        scanner.process(invertedImage)\r\n                .addOnSuccessListener(barcodes -&gt; {\r\n                    if (active) {\r\n                        readerBarcodeData(barcodes);\r\n                    }\r\n                })\r\n                .addOnFailureListener(e -&gt; {\r\n                })\r\n                .addOnCompleteListener(task -&gt; image.close());\r\n\r\n    }\r\n\r\n    private Bitmap inverseBitmapColors(Bitmap bitmap) {\r\n        Bitmap invBitmap = bitmap.copy(bitmap.getConfig(), true);\r\n        for (int i = 0; i &lt; invBitmap.getWidth(); i++) {\r\n            for (int j = 0; j &lt; invBitmap.getHeight(); j++) {\r\n                invBitmap.setPixel(i, j, invBitmap.getPixel(i, j) ^ 0x00ffffff);\r\n            }\r\n        }\r\n        return invBitmap;\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nI tried many manipulations with cropping, chaning quality, tried many methods of inverting colors.\r\nI am expecting that it will scan like iOS app in 1 sec or faster. Not 3-5 secs.","title":"MLKit Android inverted datamatrix scan takes too long time","body":"<p>First of all - sorry for my english :)</p>\n<p>I'm using MLKit in project to scan barcodes (datamatrix). But i have white datamatrix on black background like this <a href=\"https://i.stack.imgur.com/aNVkf.jpg\" rel=\"nofollow noreferrer\">Datamatrix image</a></p>\n<p>In my code I crop image before scanning. After this i invert colors of this cropped image and put this image into scanner.</p>\n<p>The problem i have is that scanner just can't define code having good image. It's going through few analysis and reading it from 6-10th analys.</p>\n<p>For example. This is <a href=\"https://i.stack.imgur.com/n9qIo.jpg\" rel=\"nofollow noreferrer\">screenshot</a> of datamatrix scanning. There is square image in the center. It is imageView that gets cropped and inverted image that goes to scanner. But it doesn't give quick result. I need to wait for 3-5 second to get code from there. While its scanning Scanner makes 3-4 analysis in 1 sec.</p>\n<p>I have iOS App alternative of this MLKit scanning. It does the same steps (crop and invert) but iOS app is scanning this for 1 sec, maybe faster.</p>\n<p>I tried everything to speed scanning up, but nothing helped. Pls help</p>\n<p>I put my classes in <a href=\"https://github.com/sofiqq/mlkit\" rel=\"nofollow noreferrer\">git</a>. So i put short code here.</p>\n<p>This is my ScanFragment.java with initializations</p>\n<pre><code>    private CamcorderProfile camProfile;\n    private ListenableFuture cameraProviderFuture;\n    private ExecutorService cameraExecutor;\n    private PreviewView previewView;\n    private ImageAnalyser analyser;\n    private androidx.camera.core.Camera camera;\n\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_scan_ui, container, false);\n        previewView = view.findViewById(R.id.previewview);\n\n        requireActivity().getWindow().setFlags(1024, 1024);\n        cameraExecutor = Executors.newSingleThreadExecutor();\n        cameraProviderFuture = ProcessCameraProvider.getInstance(requireActivity());\n        try {\n            processCameraProvider = (ProcessCameraProvider) cameraProviderFuture.get();\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        cameraProviderFuture.addListener(() -&gt; {\n                if (ActivityCompat.checkSelfPermission(requireContext(), Manifest.permission.CAMERA) != (PackageManager.PERMISSION_GRANTED)) {\n                    requestPermissionLauncher.launch(Manifest.permission.CAMERA);\n                } else {\n                    bindpreview();\n                }\n        }, ContextCompat.getMainExecutor(requireContext()));\n\n        return view;\n    }\n\n    private void setTabDatamatrix() {\n        camProfile = CamcorderProfile.get(CamcorderProfile.QUALITY_1080P);\n        BarcodeScannerOptions barcodeScanOptions = new BarcodeScannerOptions.Builder()\n                .setBarcodeFormats(\n                        Barcode.FORMAT_DATA_MATRIX\n                ).build();\n        if (analyser == null)\n            analyser = new ImageAnalyser(getParentFragmentManager(), barcodeScanOptions, this, this);\n        else\n            analyser.setScanOptions(barcodeScanOptions, ScanType.DATAMATRIX);\n        scanType = ScanType.DATAMATRIX;\n\n        hideProgressBar();\n        bottomBar.performShow();\n        showCursor();\n        setTabBackground(ivScanTabDatamatrix);\n        tvScanHintMoveCamera.setVisibility(View.VISIBLE);\n        tvScanHintMoveCamera.setText(Utils.getString(R.string.scanner_tab_mark_hint, requireContext()));\n        tooltip.show(ivScanTabDatamatrix, Utils.getString(R.string.scanner_tab_mark, requireContext()));\n\n        showHint(coordinatorLayout, ScanHintView.ScanHintType.MARK);\n        bindpreview();\n    }\n\n    private void bindpreview() {\n        Preview preview = new Preview.Builder().build();\n        CameraSelector cameraSelector = new CameraSelector.Builder().requireLensFacing(CameraSelector.LENS_FACING_BACK).build();\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\n        ImageCapture imageCapture = new ImageCapture.Builder().build();\n        ImageAnalysis imageAnalysis = new ImageAnalysis.Builder()\n                .setTargetResolution(new Size(camProfile.videoFrameHeight, camProfile.videoFrameWidth))  //480 320\n                .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\n                .build();\n        imageAnalysis.setAnalyzer(cameraExecutor, analyser);\n        processCameraProvider.unbindAll();\n        camera = processCameraProvider.bindToLifecycle(this, cameraSelector, preview, imageCapture, imageAnalysis);\n    }\n</code></pre>\n<p>This is ImageAnalyser.java class. I analyze scanned images here.</p>\n<pre><code>    @Override\n    public void analyze(@NonNull ImageProxy image) {\n        scanbarcode(image);\n    }\n\n    private void scanbarcode(ImageProxy image) {\n        @SuppressLint(&quot;UnsafeOptInUsageError&quot;) Bitmap bitmap = BitmapUtils.getBitmap(image);\n        assert bitmap != null;\n        Bitmap cropped = Bitmap.createBitmap(bitmap, bitmap.getWidth() / 4, (bitmap.getHeight() / 2) - bitmap.getWidth() / 4, bitmap.getWidth() / 2, bitmap.getWidth() / 2);\n        Bitmap inverted = inverseBitmapColors(cropped);\n        InputImage invertedImage = InputImage.fromBitmap(inverted, image.getImageInfo().getRotationDegrees());\n        BarcodeScanner scanner = BarcodeScanning.getClient(barcodeScannerOptions);\n        scanner.process(invertedImage)\n                .addOnSuccessListener(barcodes -&gt; {\n                    if (active) {\n                        readerBarcodeData(barcodes);\n                    }\n                })\n                .addOnFailureListener(e -&gt; {\n                })\n                .addOnCompleteListener(task -&gt; image.close());\n\n    }\n\n    private Bitmap inverseBitmapColors(Bitmap bitmap) {\n        Bitmap invBitmap = bitmap.copy(bitmap.getConfig(), true);\n        for (int i = 0; i &lt; invBitmap.getWidth(); i++) {\n            for (int j = 0; j &lt; invBitmap.getHeight(); j++) {\n                invBitmap.setPixel(i, j, invBitmap.getPixel(i, j) ^ 0x00ffffff);\n            }\n        }\n        return invBitmap;\n    }\n</code></pre>\n<p>I tried many manipulations with cropping, chaning quality, tried many methods of inverting colors.\nI am expecting that it will scan like iOS app in 1 sec or faster. Not 3-5 secs.</p>\n"},{"tags":["javascript","java","android","ios","react-native"],"comments":[{"owner":{"account_id":12401383,"reputation":3636,"user_id":9038475,"display_name":"Geshode"},"score":0,"creation_date":1689820691,"post_id":76726287,"comment_id":135268629,"body_markdown":"Looks like `repositories` is null. Where is it defined and what does it contain?","body":"Looks like <code>repositories</code> is null. Where is it defined and what does it contain?"},{"owner":{"account_id":29053262,"reputation":1,"user_id":22255557,"display_name":"honk19"},"score":0,"creation_date":1689825918,"post_id":76726287,"comment_id":135268994,"body_markdown":"i upload repositories. Do i miss something? it is defined same file.","body":"i upload repositories. Do i miss something? it is defined same file."}],"answers":[{"tags":[],"owner":{"account_id":26542879,"reputation":11,"user_id":20173353,"display_name":"Sel4 Media"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696252366,"creation_date":1696236351,"answer_id":77214261,"question_id":76726287,"body_markdown":"    task installArchives(type: Upload) {\r\n     configuration = configurations.archives\r\n     repositories{\r\n         mavenDeployer { \r\n         repository url: &quot;file://${projectDir}/../android/maven&quot;\r\n         configureReactNativePom pom\r\n     }}}","title":"React-native android build error : Cannot invoke method mavenDeployer() on null object (line 131)","body":"<pre><code>task installArchives(type: Upload) {\n configuration = configurations.archives\n repositories{\n     mavenDeployer { \n     repository url: &quot;file://${projectDir}/../android/maven&quot;\n     configureReactNativePom pom\n }}}\n</code></pre>\n"}],"owner":{"account_id":29053262,"reputation":1,"user_id":22255557,"display_name":"honk19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696252366,"creation_date":1689819898,"question_id":76726287,"body_markdown":"Add repositories.\r\n```\r\nrepositories {\r\n    mavenLocal()\r\n    maven {\r\n        // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n        url &quot;$rootDir/../node_modules/react-native/android&quot;\r\n    }\r\n    maven {\r\n        // Android JSC is installed from npm\r\n        url &quot;$rootDir/../node_modules/jsc-android/dist&quot;\r\n    }\r\n    google()\r\n    jcenter()\r\n}\r\n```\r\n-------------------------\r\n```\r\n    task installArchives(type: Upload) {\r\n        configuration = configurations.archives\r\n        repositories.mavenDeployer { // line 131\r\n            // Deploy to react-native-event-bridge/maven, ready to publish to npm\r\n            repository url: &quot;file://${projectDir}/../android/maven&quot;\r\n            configureReactNativePom pom\r\n        }\r\n    }\r\n}\r\n```\r\nI don&#39;t know how I can fix it. Please help me. If you guys need more information let me know and I will add more.\r\n\r\nI did try to change some lines in `repositories.mavenDeployer` but it didn&#39;t work. I got same messages when I did something.","title":"React-native android build error : Cannot invoke method mavenDeployer() on null object (line 131)","body":"<p>Add repositories.</p>\n<pre><code>repositories {\n    mavenLocal()\n    maven {\n        // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n        url &quot;$rootDir/../node_modules/react-native/android&quot;\n    }\n    maven {\n        // Android JSC is installed from npm\n        url &quot;$rootDir/../node_modules/jsc-android/dist&quot;\n    }\n    google()\n    jcenter()\n}\n</code></pre>\n<hr />\n<pre><code>    task installArchives(type: Upload) {\n        configuration = configurations.archives\n        repositories.mavenDeployer { // line 131\n            // Deploy to react-native-event-bridge/maven, ready to publish to npm\n            repository url: &quot;file://${projectDir}/../android/maven&quot;\n            configureReactNativePom pom\n        }\n    }\n}\n</code></pre>\n<p>I don't know how I can fix it. Please help me. If you guys need more information let me know and I will add more.</p>\n<p>I did try to change some lines in <code>repositories.mavenDeployer</code> but it didn't work. I got same messages when I did something.</p>\n"},{"tags":["java","mysql"],"answers":[{"tags":[],"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1293798005,"creation_date":1293796717,"answer_id":4569959,"question_id":4569956,"body_markdown":"It depends on what method you use to connect to the database. Some drivers, eg [MySQL Connector/J][1] do have a ping command:\r\n\r\n    /**\r\n    * Detect if the connection is still good by sending a ping command\r\n    * to the server.\r\n    * \r\n    * @throws SQLException\r\n    *             if the ping fails\r\n    */\r\n    public abstract void ping() throws SQLException;\r\n\r\nIf you an interface that does not support this then a simple method that always works is to connect to the database as you ordinarily would and execute the following query:\r\n\r\n    SELECT 1\r\n\r\nYou should get back a result set containing a single row, with a single column, containg the value 1. If this succeeds your MySQL is working.\r\n\r\n[1]: http://www.docjar.com/html/api/com/mysql/jdbc/Connection.java.html","title":"Ping a MySQL server","body":"<p>It depends on what method you use to connect to the database. Some drivers, eg <a href=\"http://www.docjar.com/html/api/com/mysql/jdbc/Connection.java.html\" rel=\"noreferrer\">MySQL Connector/J</a> do have a ping command:</p>\n\n<pre><code>/**\n* Detect if the connection is still good by sending a ping command\n* to the server.\n* \n* @throws SQLException\n*             if the ping fails\n*/\npublic abstract void ping() throws SQLException;\n</code></pre>\n\n<p>If you an interface that does not support this then a simple method that always works is to connect to the database as you ordinarily would and execute the following query:</p>\n\n<pre><code>SELECT 1\n</code></pre>\n\n<p>You should get back a result set containing a single row, with a single column, containg the value 1. If this succeeds your MySQL is working.</p>\n"},{"tags":[],"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1390416600,"creation_date":1293796946,"answer_id":4569981,"question_id":4569956,"body_markdown":"The standard MySQL JDBC connector, ConnectorJ, has a lightweight ping. From [the docs][1]:\r\n\r\n&gt; MySQL Connector/J has the ability to execute a lightweight ping against a server, in order to validate the connection. In the case of load-balanced connections, this is performed against all active pooled internal connections that are retained. This is beneficial to Java applications using connection pools, as the pool can use this feature to validate connections.\r\n\r\nBasically, ensure that your &quot;ping&quot; query starts with **exactly** the text `/* ping */`. Details in [the linked docs above][1]. This lets you take advantage of the pinging mechanism rather than doing a (slightly) heavier weight operation.\r\n\r\nSo basically, doing the query:\r\n\r\n    /* ping */ SELECT 1\r\n\r\n...will trigger the ping mechanism rather than actually doing the &quot;work&quot; of a `SELECT 1`.\r\n\r\n**Mind you**, if you&#39;re talking about checking a MySQL server that you&#39;re not currently connected to, just the act of connecting to it verifies that it&#39;s there and responding. The above is mostly about checking that an *existing* connection is still valid.\r\n\r\n  [1]: http://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-j2ee-concepts-connection-pooling.html#idm47306928802368","title":"Ping a MySQL server","body":"<p>The standard MySQL JDBC connector, ConnectorJ, has a lightweight ping. From <a href=\"http://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-j2ee-concepts-connection-pooling.html#idm47306928802368\">the docs</a>:</p>\n\n<blockquote>\n  <p>MySQL Connector/J has the ability to execute a lightweight ping against a server, in order to validate the connection. In the case of load-balanced connections, this is performed against all active pooled internal connections that are retained. This is beneficial to Java applications using connection pools, as the pool can use this feature to validate connections.</p>\n</blockquote>\n\n<p>Basically, ensure that your \"ping\" query starts with <strong>exactly</strong> the text <code>/* ping */</code>. Details in <a href=\"http://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-j2ee-concepts-connection-pooling.html#idm47306928802368\">the linked docs above</a>. This lets you take advantage of the pinging mechanism rather than doing a (slightly) heavier weight operation.</p>\n\n<p>So basically, doing the query:</p>\n\n<pre><code>/* ping */ SELECT 1\n</code></pre>\n\n<p>...will trigger the ping mechanism rather than actually doing the \"work\" of a <code>SELECT 1</code>.</p>\n\n<p><strong>Mind you</strong>, if you're talking about checking a MySQL server that you're not currently connected to, just the act of connecting to it verifies that it's there and responding. The above is mostly about checking that an <em>existing</em> connection is still valid.</p>\n"},{"tags":[],"owner":{"account_id":15824,"reputation":4589,"user_id":33836,"accept_rate":92,"display_name":"Matt Passell"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1390422237,"creation_date":1390422237,"answer_id":21293214,"question_id":4569956,"body_markdown":"Assuming that you&#39;re running in Java 6 or higher, you can use the standard JDBC method [Connection.isValid(int timeoutInSecs)][1]. Digging into the MySQL Connector/J source, the actual implementation uses com.mysql.jdbc.ConnectionImpl.pingInternal() to send a simple ping packet to the DB and returns true as long as a valid response is returned.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#isValid%28int%29","title":"Ping a MySQL server","body":"<p>Assuming that you're running in Java 6 or higher, you can use the standard JDBC method <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#isValid%28int%29\" rel=\"noreferrer\">Connection.isValid(int timeoutInSecs)</a>. Digging into the MySQL Connector/J source, the actual implementation uses com.mysql.jdbc.ConnectionImpl.pingInternal() to send a simple ping packet to the DB and returns true as long as a valid response is returned.</p>\n"},{"tags":[],"owner":{"account_id":22598901,"reputation":764,"user_id":16780764,"display_name":"Muhammadalive"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696252106,"creation_date":1696252106,"answer_id":77215791,"question_id":4569956,"body_markdown":"If you are in command line you can check with using \r\n\r\n```\r\nSELECT &#39;PONG&#39; AS PING\r\n```","title":"Ping a MySQL server","body":"<p>If you are in command line you can check with using</p>\n<pre><code>SELECT 'PONG' AS PING\n</code></pre>\n"}],"owner":{"account_id":193714,"reputation":4215,"user_id":435615,"accept_rate":81,"display_name":"Rendicahya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49547,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":21293214,"answer_count":4,"score":20,"last_activity_date":1696252106,"creation_date":1293796671,"question_id":4569956,"body_markdown":"Is there a specific method in Java that checks whether a MySQL server is alive?","title":"Ping a MySQL server","body":"<p>Is there a specific method in Java that checks whether a MySQL server is alive?</p>\n"},{"tags":["java","jquery","ajax","jsp","struts2"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1393021515,"post_id":21935256,"comment_id":33247848,"body_markdown":"Please remove the code that isn&#39;t actually relevant to the question.","body":"Please remove the code that isn&#39;t actually relevant to the question."}],"answers":[{"tags":[],"owner":{"account_id":2683345,"reputation":568,"user_id":2318202,"accept_rate":100,"display_name":"Kamil Chaber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393055543,"creation_date":1393055543,"answer_id":21951465,"question_id":21935256,"body_markdown":"There is no `execute` method in your `LoginAction` class, so `AJAX` call does not return any result. Try to add simple `execute` method:\r\n\r\n    public String execute() {\r\n         return SUCCESS;\r\n    }","title":"404 exception in browser when making jQuery Ajax call from JSP page to Struts 2 action","body":"<p>There is no <code>execute</code> method in your <code>LoginAction</code> class, so <code>AJAX</code> call does not return any result. Try to add simple <code>execute</code> method:</p>\n\n<pre><code>public String execute() {\n     return SUCCESS;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643036216,"creation_date":1393066793,"answer_id":21953322,"question_id":21935256,"body_markdown":"404 is not an exception. It&#39;s an error code the Struts set to the response when no action found in the runtime configuration corresponding to the URL requested. \r\n\r\nBecause you didn&#39;t post a `web.xml` consider looking at [Error 404 issues using Struts application][1]. \r\n\r\nAlso check your library folder `WEB-INF/lib` for plugins you didn&#39;t use and remove them. Look at the issue at [Struts2 - HTTP Status 404 - No result defined for action][2]. You should post the stacktrace with exact error message however.\r\n\r\nWhen calling an action from javascript code use `s:url` tag to build the action URL from the action mapping. See [Jquery Error - While calling struts action][3].\r\n\r\nThe code you should change\r\n\r\n    $.ajax({\r\n        type: &quot;POST&quot;,\r\n        url: &#39;&lt;s:url namespace=&quot;/&quot; action=&quot;login&quot;/&gt;&#39;,\r\n        data: jsonData,\r\n        success: function(data){\r\n            console.log(&quot;&quot;+data);\r\n        }\r\n    });\r\n\r\nBy the way if you are using struts2-jquery plugin there&#39;s a possibility to make ajax submit with [`&lt;sj:submit&gt;`][4] tag.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/18419661/573032\r\n  [2]: https://stackoverflow.com/q/17757947/573032\r\n  [3]: https://stackoverflow.com/q/17071499/573032\r\n  [4]: https://github.com/struts-community-plugins/struts2-jquery/wiki/SubmitTag","title":"404 exception in browser when making jQuery Ajax call from JSP page to Struts 2 action","body":"<p>404 is not an exception. It's an error code the Struts set to the response when no action found in the runtime configuration corresponding to the URL requested.</p>\n<p>Because you didn't post a <code>web.xml</code> consider looking at <a href=\"https://stackoverflow.com/q/18419661/573032\">Error 404 issues using Struts application</a>.</p>\n<p>Also check your library folder <code>WEB-INF/lib</code> for plugins you didn't use and remove them. Look at the issue at <a href=\"https://stackoverflow.com/q/17757947/573032\">Struts2 - HTTP Status 404 - No result defined for action</a>. You should post the stacktrace with exact error message however.</p>\n<p>When calling an action from javascript code use <code>s:url</code> tag to build the action URL from the action mapping. See <a href=\"https://stackoverflow.com/q/17071499/573032\">Jquery Error - While calling struts action</a>.</p>\n<p>The code you should change</p>\n<pre><code>$.ajax({\n    type: &quot;POST&quot;,\n    url: '&lt;s:url namespace=&quot;/&quot; action=&quot;login&quot;/&gt;',\n    data: jsonData,\n    success: function(data){\n        console.log(&quot;&quot;+data);\n    }\n});\n</code></pre>\n<p>By the way if you are using struts2-jquery plugin there's a possibility to make ajax submit with <a href=\"https://github.com/struts-community-plugins/struts2-jquery/wiki/SubmitTag\" rel=\"nofollow noreferrer\"><code>&lt;sj:submit&gt;</code></a> tag.</p>\n"}],"owner":{"account_id":4060607,"reputation":1,"user_id":3337270,"display_name":"user3337270"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696251387,"creation_date":1392987786,"question_id":21935256,"body_markdown":"I have created Struts 2 database application. In this one using Query I made Ajax call to the Struts 2 action. The problem is whenever I hit the submit button, it will trigger the Ajax call, but Ajax call is not properly hit the server action class URL. Every time I got 404 exception in browser. How to resolve this problem?\r\n    \r\n**this is my js file :**\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n    \r\n        $(document).ready(function(e){\r\n        \t$(&quot;#loginPage_emailid&quot;).blur(function () {\r\n        \t\tconsole.log(&quot;OnBlur() EmailId&quot;);\r\n        \t\tvar emailId=$(&quot;#loginPage_emailid&quot;).val();\r\n        \t\tconsole.log(&quot;emailId ------- &quot;+emailId);\r\n        \t\tif(emailId != null &amp;&amp; emailId.length != 0 &amp;&amp; typeof emailId != &#39;undefined&#39; &amp;&amp; emailId != &quot;InvalidEmailId&quot;){\r\n        \t\t\tFormValidator.prototype.validateEmailId(emailId);\r\n        \t\t}\r\n        \t\telse{\r\n        \t\t\t$(&quot;#loginPage_emailid&quot;).val(&quot;InvalidEmailId&quot;);\r\n        \t\t\treturn false;\r\n        \t\t}\r\n        \t});\r\n        \t\r\n        \t$(&quot;#loginPage_emailid&quot;).click(function () {\r\n        \t\tvar emailId=$(&quot;#loginPage_emailid&quot;).val();\r\n        \t\tif( emailId == &quot;InvalidEmailId&quot;){\r\n        \t\t\t$(&quot;#loginPage_emailid&quot;).val(&quot;EmailID&quot;);\r\n        \t\t}\r\n        \t});\r\n        \t\r\n        \t$(&quot;#loginPage_password&quot;).blur(function () {\r\n        \t\tvar password=$(&quot;#loginPage_password&quot;).val();\r\n        \t\tif( password != &quot;InvalidPassword&quot;){\r\n        \t\t\t$(&quot;#loginPage_password&quot;).val(&quot;Password&quot;);\r\n        \t\t}\r\n        \t});\r\n        \r\n        \t$(&quot;#loginPage_password&quot;).blur(function () {\r\n        \t\tvar password=$(&quot;#loginPage_password&quot;).val();\r\n        \t\tconsole.log(&quot;password ------- &quot;+password);\r\n        \t\tif(password != null &amp;&amp; password.length != 0 &amp;&amp; typeof password != &#39;undefined&#39; &amp;&amp; password != &quot;InvalidPassword&quot;){\r\n        \t\t\tFormValidator.prototype.validatePassword(password);\r\n        \t\t}\r\n        \t\telse{\r\n        \t\t\t$(&quot;#loginPage_password&quot;).val(&quot;InvalidPassword&quot;);\r\n        \t\t\treturn false;\r\n        \t\t}\r\n        \t});\r\n        \r\n        \t$(&quot;#loginPage_form&quot;).submit(function () {\r\n        \t\tconsole.log(&quot;Submit !!!!&quot;);\r\n        \t\tif(!FormValidator.prototype.isValidEmailId || !FormValidator.prototype.isValidPassword){\r\n        \t\t\tconsole.log(&quot;@#$%^&amp;#$%^&amp;@#%*@#$%&amp;*#^&amp;*#$%&amp;*($%&amp;*(&quot;);\r\n        \t\t\tif(!FormValidator.prototype.isValidEmailId){\r\n        \t\t\t\t$(&quot;#loginPage_emailid&quot;).val(&quot;InvalidEmailId&quot;);\r\n        \t\t\t}\r\n        \t\t\tif(!FormValidator.prototype.isValidPassword){\r\n        \t\t\t\t$(&quot;#loginPage_password&quot;).val(&quot;InvalidPassword&quot;);\r\n        \t\t\t}\r\n        \t\t\treturn false;\r\n        \t\t}\r\n        \t\telse{\r\n        \t\t\tconsole.log(&quot;Success full submit&quot;);\r\n        \t\t\tvar jsonData={};\r\n        \t\t\tjsonData.emailId=FormValidator.prototype.emailId;\r\n        \t\t\tjsonData.password=FormValidator.prototype.password;\r\n        \t        $.ajax({\r\n        \t            type: &quot;POST&quot;,\r\n        \t            url: &quot;login.action&quot;,\r\n        \t            data: jsonData,\r\n        \t            success: function(data){\r\n        \t            \tconsole.log(&quot;&quot;+data);\r\n        \t            }\r\n        \t        });\r\n        \t        return false;\r\n        \t\t}\r\n        \t});\t\r\n        });\r\n        \r\n        function FormValidator(){\r\n        \tvar isValidEmailId=false;\r\n        \tvar isValidPassword=false;\r\n        \tvar emailId=null;\r\n        \tvar password=null;\r\n        }\r\n        \r\n        FormValidator.prototype.validateEmailId=function(emailId){\r\n        \tconsole.log(&quot;Email Id ===== &quot;+emailId);\r\n        \tvar reg = /^\\w+([-+.&#39;]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/;\r\n        \tif (reg.test(emailId)){\r\n        \t\tFormValidator.prototype.isValidEmailId=true;\r\n        \t\tFormValidator.prototype.emailId=emailId;\r\n        \t}\r\n        };\r\n        \r\n        FormValidator.prototype.validatePassword=function(password){\r\n        \tconsole.log(&quot;Password ===== &quot;+password);\r\n        \tFormValidator.prototype.isValidPassword=true;\r\n        \tFormValidator.prototype.password=password;\r\n        };\r\n    \r\n**`loginpage.jsp` :**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n    \r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    \tpageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;!--[if lt IE 7 ]&gt; &lt;html lang=&quot;en&quot; class=&quot;ie6 ielt8&quot;&gt; &lt;![endif]--&gt;\r\n    &lt;!--[if IE 7 ]&gt;    &lt;html lang=&quot;en&quot; class=&quot;ie7 ielt8&quot;&gt; &lt;![endif]--&gt;\r\n    &lt;!--[if IE 8 ]&gt;    &lt;html lang=&quot;en&quot; class=&quot;ie8&quot;&gt; &lt;![endif]--&gt;\r\n    &lt;!--[if (gte IE 9)|!(IE)]&gt;&lt;!--&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;&lt;!--&lt;![endif]--&gt;&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;title&gt;Login Form&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/style.css&quot;&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;http://code.jquery.com/jquery-1.11.0.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;js/formvalidator.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t&lt;div class=&quot;container&quot;&gt;\r\n    \t\t&lt;section id=&quot;content&quot;&gt;\r\n    \t\t&lt;!--  &lt;s:form id=&quot;loginPage_form&quot;&gt;\r\n    \t\t \t&lt;div&gt;\r\n    \t        \t&lt;s:textfield name =&quot;emailid&quot; label=&quot;EmailID&quot; placeholder=&quot;EmailID&quot; required=&quot;&quot; id=&quot;loginPage_emailid&quot; /&gt;\r\n    \t       \t&lt;/div&gt;\r\n    \t       \t&lt;div&gt;\r\n    \t        \t&lt;s:password type=&quot;password&quot; name =&quot;password&quot; label=&quot;Password&quot; placeholder=&quot;Password&quot; required=&quot;&quot; id=&quot;loginPage_password&quot; /&gt;\r\n            \t&lt;/div&gt;\r\n            \t&lt;div&gt;\r\n            \t\t&lt;s:submit value=&quot;Log in&quot; /&gt;\r\n            \t&lt;/div&gt;\r\n        \t&lt;/s:form&gt; --&gt;\r\n    \t\t&lt;form  id=&quot;loginPage_form&quot; &gt;\r\n    \t\t\t&lt;h1&gt;Login Form&lt;/h1&gt;\r\n    \t\t\t&lt;div&gt;\r\n    \t\t\t\t&lt;input type=&quot;text&quot; placeholder=&quot;EmailID&quot; required=&quot;&quot; id=&quot;loginPage_emailid&quot;&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t\t&lt;div&gt;\r\n    \t\t\t\t&lt;input type=&quot;password&quot;  placeholder=&quot;Password&quot; required=&quot;&quot; id=&quot;loginPage_password&quot;&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t\t&lt;div&gt;\r\n    \t\t\t\t&lt;input type=&quot;submit&quot; value=&quot;Log in&quot;&gt; &lt;a href=&quot;#&quot; style=&quot;display: none;&quot;&gt;Lost your password?&lt;/a&gt; &lt;a href=&quot;#&quot; style=&quot;display: none;&quot;&gt;Register&lt;/a&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t&lt;/form&gt;\r\n    \t\t&lt;div id=&quot;loginPage_errormessage&quot; style=&quot;display: none;margin: 0px 0px;position: absolute;left: 47%;top: 79%;color: orangered;&quot;&gt;emailid or password is invalid&lt;/div&gt;\r\n    \t\t&lt;!-- form --&gt;\r\n    \t\t&lt;div class=&quot;button&quot; style=&quot;display: none;&quot;&gt;\r\n    \t\t\t&lt;a href=&quot;#&quot;&gt;Download source file&lt;/a&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t\t&lt;!-- button --&gt; &lt;/section&gt;\r\n    \t\t&lt;!-- content --&gt;\r\n    \t&lt;/div&gt;\r\n    \t&lt;!-- container --&gt;\r\n    &lt;/body&gt;&lt;/html&gt;\r\n    \r\n    \r\n    \r\n**and this is my `struts.xml` file :**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE struts PUBLIC\r\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;\r\n        &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;\r\n    \r\n    &lt;struts&gt;\r\n    \t&lt;constant name=&quot;struts.enable.DynamicMethodInvocation&quot; value=&quot;false&quot; /&gt;\r\n    \t&lt;constant name=&quot;struts.devMode&quot; value=&quot;false&quot; /&gt;\r\n    \t&lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;default&quot;/&gt;\r\n    \r\n    \t&lt;package name=&quot;default&quot; extends=&quot;struts-default&quot; namespace=&quot;/&quot;&gt;\r\n    \t\t\r\n    \t\t&lt;action name=&quot;login&quot; class=&quot;com.jamcracker.view.LoginAction&quot; method=&quot;execute&quot;&gt;\r\n    \t\t\t&lt;result name=&quot;success&quot;&gt;/jsp/dummy.jsp&lt;/result&gt;\r\n    \t\t&lt;/action&gt;\r\n    \t\t\r\n    \t\t&lt;!-- &lt;action name=&quot;index&quot;&gt;\r\n    \t\t\t&lt;result&gt;loginpage.jsp&lt;/result&gt;\r\n    \t\t&lt;/action&gt; --&gt;\r\n    \r\n    \t\t&lt;!-- &lt;action name=&quot;add&quot;\r\n    \t\t\tclass=&quot;com.jamcracker.view.ContactAction&quot; method=&quot;add&quot;&gt;\r\n    \t\t\t&lt;result name=&quot;success&quot; type=&quot;chain&quot;&gt;index&lt;/result&gt;\r\n    \t\t\t&lt;result name=&quot;input&quot; type=&quot;chain&quot;&gt;index&lt;/result&gt;\r\n    \t\t&lt;/action&gt;\r\n    \r\n    \t\t&lt;action name=&quot;delete&quot;\r\n    \t\t\tclass=&quot;com.jamcracker.view.ContactAction&quot; method=&quot;delete&quot;&gt;\r\n    \t\t\t&lt;result name=&quot;success&quot; type=&quot;chain&quot;&gt;index&lt;/result&gt;\r\n    \t\t&lt;/action&gt;\r\n    \r\n    \t\t&lt;action name=&quot;index&quot;\r\n    \t\t\tclass=&quot;com.jamcracker.view.ContactAction&quot;&gt;\r\n    \t\t\t&lt;result name=&quot;success&quot;&gt;index.jsp&lt;/result&gt;\r\n    \t\t&lt;/action&gt; --&gt;\r\n    \t&lt;/package&gt;\r\n    &lt;/struts&gt;\r\n    \r\n**`LoginAction.java` class:**\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    package com.jamcracker.view;\r\n    \r\n    import com.opensymphony.xwork2.ActionSupport;\r\n    \r\n    public class LoginAction extends ActionSupport{\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate String emailId;\r\n    \tprivate String password;\r\n    \t\r\n    \tpublic String getEmailId() {\r\n    \t\treturn emailId;\r\n    \tpublic void setEmailId(String emailId) {\r\n    \t\tthis.emailId = emailId;\r\n    \t}\r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \t\r\n    }\t}\r\n    \r\n    \r\n![][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KdbxU.png","title":"404 exception in browser when making jQuery Ajax call from JSP page to Struts 2 action","body":"<p>I have created Struts 2 database application. In this one using Query I made Ajax call to the Struts 2 action. The problem is whenever I hit the submit button, it will trigger the Ajax call, but Ajax call is not properly hit the server action class URL. Every time I got 404 exception in browser. How to resolve this problem?</p>\n<p><strong>this is my js file :</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>    $(document).ready(function(e){\n        $(&quot;#loginPage_emailid&quot;).blur(function () {\n            console.log(&quot;OnBlur() EmailId&quot;);\n            var emailId=$(&quot;#loginPage_emailid&quot;).val();\n            console.log(&quot;emailId ------- &quot;+emailId);\n            if(emailId != null &amp;&amp; emailId.length != 0 &amp;&amp; typeof emailId != 'undefined' &amp;&amp; emailId != &quot;InvalidEmailId&quot;){\n                FormValidator.prototype.validateEmailId(emailId);\n            }\n            else{\n                $(&quot;#loginPage_emailid&quot;).val(&quot;InvalidEmailId&quot;);\n                return false;\n            }\n        });\n        \n        $(&quot;#loginPage_emailid&quot;).click(function () {\n            var emailId=$(&quot;#loginPage_emailid&quot;).val();\n            if( emailId == &quot;InvalidEmailId&quot;){\n                $(&quot;#loginPage_emailid&quot;).val(&quot;EmailID&quot;);\n            }\n        });\n        \n        $(&quot;#loginPage_password&quot;).blur(function () {\n            var password=$(&quot;#loginPage_password&quot;).val();\n            if( password != &quot;InvalidPassword&quot;){\n                $(&quot;#loginPage_password&quot;).val(&quot;Password&quot;);\n            }\n        });\n    \n        $(&quot;#loginPage_password&quot;).blur(function () {\n            var password=$(&quot;#loginPage_password&quot;).val();\n            console.log(&quot;password ------- &quot;+password);\n            if(password != null &amp;&amp; password.length != 0 &amp;&amp; typeof password != 'undefined' &amp;&amp; password != &quot;InvalidPassword&quot;){\n                FormValidator.prototype.validatePassword(password);\n            }\n            else{\n                $(&quot;#loginPage_password&quot;).val(&quot;InvalidPassword&quot;);\n                return false;\n            }\n        });\n    \n        $(&quot;#loginPage_form&quot;).submit(function () {\n            console.log(&quot;Submit !!!!&quot;);\n            if(!FormValidator.prototype.isValidEmailId || !FormValidator.prototype.isValidPassword){\n                console.log(&quot;@#$%^&amp;#$%^&amp;@#%*@#$%&amp;*#^&amp;*#$%&amp;*($%&amp;*(&quot;);\n                if(!FormValidator.prototype.isValidEmailId){\n                    $(&quot;#loginPage_emailid&quot;).val(&quot;InvalidEmailId&quot;);\n                }\n                if(!FormValidator.prototype.isValidPassword){\n                    $(&quot;#loginPage_password&quot;).val(&quot;InvalidPassword&quot;);\n                }\n                return false;\n            }\n            else{\n                console.log(&quot;Success full submit&quot;);\n                var jsonData={};\n                jsonData.emailId=FormValidator.prototype.emailId;\n                jsonData.password=FormValidator.prototype.password;\n                $.ajax({\n                    type: &quot;POST&quot;,\n                    url: &quot;login.action&quot;,\n                    data: jsonData,\n                    success: function(data){\n                        console.log(&quot;&quot;+data);\n                    }\n                });\n                return false;\n            }\n        }); \n    });\n    \n    function FormValidator(){\n        var isValidEmailId=false;\n        var isValidPassword=false;\n        var emailId=null;\n        var password=null;\n    }\n    \n    FormValidator.prototype.validateEmailId=function(emailId){\n        console.log(&quot;Email Id ===== &quot;+emailId);\n        var reg = /^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/;\n        if (reg.test(emailId)){\n            FormValidator.prototype.isValidEmailId=true;\n            FormValidator.prototype.emailId=emailId;\n        }\n    };\n    \n    FormValidator.prototype.validatePassword=function(password){\n        console.log(&quot;Password ===== &quot;+password);\n        FormValidator.prototype.isValidPassword=true;\n        FormValidator.prototype.password=password;\n    };\n</code></pre>\n<p><strong><code>loginpage.jsp</code> :</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;!--[if lt IE 7 ]&gt; &lt;html lang=&quot;en&quot; class=&quot;ie6 ielt8&quot;&gt; &lt;![endif]--&gt;\n&lt;!--[if IE 7 ]&gt;    &lt;html lang=&quot;en&quot; class=&quot;ie7 ielt8&quot;&gt; &lt;![endif]--&gt;\n&lt;!--[if IE 8 ]&gt;    &lt;html lang=&quot;en&quot; class=&quot;ie8&quot;&gt; &lt;![endif]--&gt;\n&lt;!--[if (gte IE 9)|!(IE)]&gt;&lt;!--&gt;\n&lt;html lang=&quot;en&quot;&gt;&lt;!--&lt;![endif]--&gt;&lt;head&gt;\n&lt;meta charset=&quot;utf-8&quot;&gt;\n&lt;title&gt;Login Form&lt;/title&gt;\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/style.css&quot;&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;http://code.jquery.com/jquery-1.11.0.min.js&quot;&gt;&lt;/script&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;js/formvalidator.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;section id=&quot;content&quot;&gt;\n        &lt;!--  &lt;s:form id=&quot;loginPage_form&quot;&gt;\n            &lt;div&gt;\n                &lt;s:textfield name =&quot;emailid&quot; label=&quot;EmailID&quot; placeholder=&quot;EmailID&quot; required=&quot;&quot; id=&quot;loginPage_emailid&quot; /&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;s:password type=&quot;password&quot; name =&quot;password&quot; label=&quot;Password&quot; placeholder=&quot;Password&quot; required=&quot;&quot; id=&quot;loginPage_password&quot; /&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;s:submit value=&quot;Log in&quot; /&gt;\n            &lt;/div&gt;\n        &lt;/s:form&gt; --&gt;\n        &lt;form  id=&quot;loginPage_form&quot; &gt;\n            &lt;h1&gt;Login Form&lt;/h1&gt;\n            &lt;div&gt;\n                &lt;input type=&quot;text&quot; placeholder=&quot;EmailID&quot; required=&quot;&quot; id=&quot;loginPage_emailid&quot;&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;input type=&quot;password&quot;  placeholder=&quot;Password&quot; required=&quot;&quot; id=&quot;loginPage_password&quot;&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;Log in&quot;&gt; &lt;a href=&quot;#&quot; style=&quot;display: none;&quot;&gt;Lost your password?&lt;/a&gt; &lt;a href=&quot;#&quot; style=&quot;display: none;&quot;&gt;Register&lt;/a&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n        &lt;div id=&quot;loginPage_errormessage&quot; style=&quot;display: none;margin: 0px 0px;position: absolute;left: 47%;top: 79%;color: orangered;&quot;&gt;emailid or password is invalid&lt;/div&gt;\n        &lt;!-- form --&gt;\n        &lt;div class=&quot;button&quot; style=&quot;display: none;&quot;&gt;\n            &lt;a href=&quot;#&quot;&gt;Download source file&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;!-- button --&gt; &lt;/section&gt;\n        &lt;!-- content --&gt;\n    &lt;/div&gt;\n    &lt;!-- container --&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p><strong>and this is my <code>struts.xml</code> file :</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE struts PUBLIC\n    &quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;\n    &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;\n\n&lt;struts&gt;\n    &lt;constant name=&quot;struts.enable.DynamicMethodInvocation&quot; value=&quot;false&quot; /&gt;\n    &lt;constant name=&quot;struts.devMode&quot; value=&quot;false&quot; /&gt;\n    &lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;default&quot;/&gt;\n\n    &lt;package name=&quot;default&quot; extends=&quot;struts-default&quot; namespace=&quot;/&quot;&gt;\n        \n        &lt;action name=&quot;login&quot; class=&quot;com.jamcracker.view.LoginAction&quot; method=&quot;execute&quot;&gt;\n            &lt;result name=&quot;success&quot;&gt;/jsp/dummy.jsp&lt;/result&gt;\n        &lt;/action&gt;\n        \n        &lt;!-- &lt;action name=&quot;index&quot;&gt;\n            &lt;result&gt;loginpage.jsp&lt;/result&gt;\n        &lt;/action&gt; --&gt;\n\n        &lt;!-- &lt;action name=&quot;add&quot;\n            class=&quot;com.jamcracker.view.ContactAction&quot; method=&quot;add&quot;&gt;\n            &lt;result name=&quot;success&quot; type=&quot;chain&quot;&gt;index&lt;/result&gt;\n            &lt;result name=&quot;input&quot; type=&quot;chain&quot;&gt;index&lt;/result&gt;\n        &lt;/action&gt;\n\n        &lt;action name=&quot;delete&quot;\n            class=&quot;com.jamcracker.view.ContactAction&quot; method=&quot;delete&quot;&gt;\n            &lt;result name=&quot;success&quot; type=&quot;chain&quot;&gt;index&lt;/result&gt;\n        &lt;/action&gt;\n\n        &lt;action name=&quot;index&quot;\n            class=&quot;com.jamcracker.view.ContactAction&quot;&gt;\n            &lt;result name=&quot;success&quot;&gt;index.jsp&lt;/result&gt;\n        &lt;/action&gt; --&gt;\n    &lt;/package&gt;\n&lt;/struts&gt;\n</code></pre>\n<p><strong><code>LoginAction.java</code> class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.jamcracker.view;\n\nimport com.opensymphony.xwork2.ActionSupport;\n\npublic class LoginAction extends ActionSupport{\n    \n    private static final long serialVersionUID = 1L;\n    private String emailId;\n    private String password;\n    \n    public String getEmailId() {\n        return emailId;\n    public void setEmailId(String emailId) {\n        this.emailId = emailId;\n    }\n    public String getPassword() {\n        return password;\n    }\n    public void setPassword(String password) {\n        this.password = password;\n    }\n    \n}   }\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/KdbxU.png\" alt=\"\" /></p>\n"},{"tags":["java","png","metadata","javax.imageio"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1695393473,"post_id":77149171,"comment_id":136022741,"body_markdown":"Your write code doesn&#39;t seem to make much sense... Why do you write the image with metadata to an in-memory stream and then later without metadata directly to file? Do you check for metadata changes in the file?","body":"Your write code doesn&#39;t seem to make much sense... Why do you write the image with metadata to an in-memory stream and then later without metadata directly to file? Do you check for metadata changes in the file?"},{"owner":{"account_id":29322854,"reputation":1,"user_id":22466040,"display_name":"Ilya"},"score":0,"creation_date":1695987486,"post_id":77149171,"comment_id":136099543,"body_markdown":"I need to intermediately add meta information to the png and send the same file further, preferably without creating a temporary file","body":"I need to intermediately add meta information to the png and send the same file further, preferably without creating a temporary file"}],"answers":[{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696251383,"creation_date":1696230597,"answer_id":77213754,"question_id":77149171,"body_markdown":"As mentioned in the comments, the main problem with the code is that it writes the same image twice. Once to an in-memory stream, with custom metadata. And once to a file, *without* the custom metadata. This is the reason why the metadata appears to not change, even if you correctly update the metadata.\r\n\r\nInstead, write only once, with metadata, to the file:\r\n\r\n```java\r\n// Create custom metadata\r\nIIOMetadataNode root = new IIOMetadataNode(&quot;javax_imageio_png_1.0&quot;);\r\n\r\nIIOMetadataNode text = new IIOMetadataNode(&quot;tEXt&quot;);\r\nroot.appendChild(text);\r\n\r\nIIOMetadataNode textEntry = new IIOMetadataNode(&quot;tEXtEntry&quot;);\r\ntextEntry.setAttribute(&quot;keyword&quot;, &quot;Title&quot;);\r\ntextEntry.setAttribute(&quot;value&quot;, &quot;your-title-here&quot;);\r\ntext.appendChild(textEntry);\r\n\r\n// Read image data\r\nBufferedImage image = ImageIO.read(inputFile);\r\n\r\n// Merge with default PNG metadata\r\n// (Note: You could also read the metadata from the inputFile and merge with that, \r\n// to preserve existing metadata. I&#39;m assuming you just want to replace everything).\r\nImageWriter writer = ImageIO.getImageWritersByFormatName(&quot;png&quot;).next();\r\nImageWriteParam writeParam = writer.getDefaultWriteParam();\r\nImageTypeSpecifier typeSpecifier = ImageTypeSpecifier.createFromRenderedImage(image);\r\n\r\nIIOMetadata metadata = writer.getDefaultImageMetadata(typeSpecifier, writeParam);\r\nmetadata.mergeTree(&quot;javax_imageio_png_1.0&quot;, root);\r\n\r\n// Write image with metadata to outputFile\r\nFile outputFile = new File(&quot;new.png&quot;);\r\n\r\ntry (ImageOutputStream stream = ImageIO.createImageOutputStream(outputFile)) (\r\n    writer.setOutput(stream);\r\n    writer.write(null, new IIOImage(image, null, metadata), writeParam);\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n","title":"Update PNG metadata","body":"<p>As mentioned in the comments, the main problem with the code is that it writes the same image twice. Once to an in-memory stream, with custom metadata. And once to a file, <em>without</em> the custom metadata. This is the reason why the metadata appears to not change, even if you correctly update the metadata.</p>\n<p>Instead, write only once, with metadata, to the file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create custom metadata\nIIOMetadataNode root = new IIOMetadataNode(&quot;javax_imageio_png_1.0&quot;);\n\nIIOMetadataNode text = new IIOMetadataNode(&quot;tEXt&quot;);\nroot.appendChild(text);\n\nIIOMetadataNode textEntry = new IIOMetadataNode(&quot;tEXtEntry&quot;);\ntextEntry.setAttribute(&quot;keyword&quot;, &quot;Title&quot;);\ntextEntry.setAttribute(&quot;value&quot;, &quot;your-title-here&quot;);\ntext.appendChild(textEntry);\n\n// Read image data\nBufferedImage image = ImageIO.read(inputFile);\n\n// Merge with default PNG metadata\n// (Note: You could also read the metadata from the inputFile and merge with that, \n// to preserve existing metadata. I'm assuming you just want to replace everything).\nImageWriter writer = ImageIO.getImageWritersByFormatName(&quot;png&quot;).next();\nImageWriteParam writeParam = writer.getDefaultWriteParam();\nImageTypeSpecifier typeSpecifier = ImageTypeSpecifier.createFromRenderedImage(image);\n\nIIOMetadata metadata = writer.getDefaultImageMetadata(typeSpecifier, writeParam);\nmetadata.mergeTree(&quot;javax_imageio_png_1.0&quot;, root);\n\n// Write image with metadata to outputFile\nFile outputFile = new File(&quot;new.png&quot;);\n\ntry (ImageOutputStream stream = ImageIO.createImageOutputStream(outputFile)) (\n    writer.setOutput(stream);\n    writer.write(null, new IIOImage(image, null, metadata), writeParam);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":29322854,"reputation":1,"user_id":22466040,"display_name":"Ilya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696251383,"creation_date":1695290336,"question_id":77149171,"body_markdown":"I&#39;m trying to add information to the metadata, I wrote the following code:\r\n\r\n```\r\nImageWriter writer = ImageIO.getImageWritersByFormatName(&quot;png&quot;).next();\r\nImageWriteParam writeParam = writer.getDefaultWriteParam();\r\nImageTypeSpecifier typeSpecifier = ImageTypeSpecifier.createFromBufferedImageType(BufferedImage.TYPE_INT_RGB);\r\n\r\n//adding metadata\r\njavax.imageio.metadata.IIOMetadata metadata = writer.getDefaultImageMetadata(typeSpecifier, writeParam);\r\n\r\nIIOMetadataNode textEntry = new IIOMetadataNode(&quot;tEXtEntry&quot;);\r\ntextEntry.setAttribute(&quot;keyword&quot;, &quot;Title&quot;);\r\ntextEntry.setAttribute(&quot;value&quot;, &quot;1515456165165165656565165&quot;);\r\n\r\nIIOMetadataNode text = new IIOMetadataNode(&quot;tEXt&quot;);\r\ntext.appendChild(textEntry);\r\n\r\nIIOMetadataNode root = new IIOMetadataNode(&quot;javax_imageio_png_1.0&quot;);\r\nroot.appendChild(text);\r\n\r\nmetadata.mergeTree(&quot;javax_imageio_png_1.0&quot;, root);\r\n\r\nBufferedImage image = ImageIO.read(tempFile);\r\n\r\n//writing the data\r\nIIOImage iioImage = new IIOImage(image, null, metadata);\r\nByteArrayOutputStream baos = new ByteArrayOutputStream();\r\nImageOutputStream stream = ImageIO.createImageOutputStream(baos);\r\nwriter.setOutput(stream);\r\nwriter.write(metadata, new IIOImage(image, null, metadata), writeParam);\r\n\r\nFile file1 = new File(&quot;C:/Users/Akiro/Desktop/Новая папка/Раб/тесты/new.png&quot;);\r\n\r\ntry {\r\n    ImageIO.write(image, &quot;png&quot;, file1);\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n\r\nstream.close();\r\n```\r\n\r\nThe above code executes without errors, but no changes appear in the metadata.\r\n\r\nWhat could be the error, or what is the best way to do this (preferably with an example)?","title":"Update PNG metadata","body":"<p>I'm trying to add information to the metadata, I wrote the following code:</p>\n<pre><code>ImageWriter writer = ImageIO.getImageWritersByFormatName(&quot;png&quot;).next();\nImageWriteParam writeParam = writer.getDefaultWriteParam();\nImageTypeSpecifier typeSpecifier = ImageTypeSpecifier.createFromBufferedImageType(BufferedImage.TYPE_INT_RGB);\n\n//adding metadata\njavax.imageio.metadata.IIOMetadata metadata = writer.getDefaultImageMetadata(typeSpecifier, writeParam);\n\nIIOMetadataNode textEntry = new IIOMetadataNode(&quot;tEXtEntry&quot;);\ntextEntry.setAttribute(&quot;keyword&quot;, &quot;Title&quot;);\ntextEntry.setAttribute(&quot;value&quot;, &quot;1515456165165165656565165&quot;);\n\nIIOMetadataNode text = new IIOMetadataNode(&quot;tEXt&quot;);\ntext.appendChild(textEntry);\n\nIIOMetadataNode root = new IIOMetadataNode(&quot;javax_imageio_png_1.0&quot;);\nroot.appendChild(text);\n\nmetadata.mergeTree(&quot;javax_imageio_png_1.0&quot;, root);\n\nBufferedImage image = ImageIO.read(tempFile);\n\n//writing the data\nIIOImage iioImage = new IIOImage(image, null, metadata);\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nImageOutputStream stream = ImageIO.createImageOutputStream(baos);\nwriter.setOutput(stream);\nwriter.write(metadata, new IIOImage(image, null, metadata), writeParam);\n\nFile file1 = new File(&quot;C:/Users/Akiro/Desktop/Новая папка/Раб/тесты/new.png&quot;);\n\ntry {\n    ImageIO.write(image, &quot;png&quot;, file1);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n\nstream.close();\n</code></pre>\n<p>The above code executes without errors, but no changes appear in the metadata.</p>\n<p>What could be the error, or what is the best way to do this (preferably with an example)?</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":28694012,"reputation":4082,"user_id":21972629,"display_name":"jQueeny"},"score":0,"creation_date":1696172645,"post_id":77210202,"comment_id":136116643,"body_markdown":"Are you sure you 100% sure you have a `product` database? From the image you uploaded it doesn&#39;t look like you have a `product` database. Just the `test` database with `product` collection.","body":"Are you sure you 100% sure you have a <code>product</code> database? From the image you uploaded it doesn&#39;t look like you have a <code>product</code> database. Just the <code>test</code> database with <code>product</code> collection."},{"owner":{"account_id":21849828,"reputation":364,"user_id":16142058,"display_name":"The Dark Knight"},"score":0,"creation_date":1696173442,"post_id":77210202,"comment_id":136116733,"body_markdown":"Oh, I&#39;m sorry, I miss. After install mongo database, I use MongoDB Compass to create manually product database","body":"Oh, I&#39;m sorry, I miss. After install mongo database, I use MongoDB Compass to create manually product database"},{"owner":{"account_id":14870107,"reputation":121,"user_id":10737839,"display_name":"Yuriy K"},"score":0,"creation_date":1696197145,"post_id":77210202,"comment_id":136119296,"body_markdown":"Looks like spring/docker problem (not mongo). \nAfter running docker compose mongo, try to reach mongo from cli. Here is link https://www.mongodb.com/docs/mongocli/v1.28/install/  . If you can connect to mongo through cli, it means that docker/network setup is ok.\nSecond thing that comes to mind is removing spring.data.mongodb.uri=mongodb://127.0.0.1:27017/product from application.properties. Use uri OR other props like host+port+database.","body":"Looks like spring/docker problem (not mongo).  After running docker compose mongo, try to reach mongo from cli. Here is link <a href=\"https://www.mongodb.com/docs/mongocli/v1.28/install/\" rel=\"nofollow noreferrer\">mongodb.com/docs/mongocli/v1.28/install</a>  . If you can connect to mongo through cli, it means that docker/network setup is ok. Second thing that comes to mind is removing spring.data.mongodb.uri=mongodb://127.0.0.1:27017/product from application.properties. Use uri OR other props like host+port+database."},{"owner":{"account_id":21849828,"reputation":364,"user_id":16142058,"display_name":"The Dark Knight"},"score":0,"creation_date":1696197614,"post_id":77210202,"comment_id":136119350,"body_markdown":"thanks, I have tried to connect to mongo from cli and it worked correctly, I use mongosh **docker exec -it mongodb mongosh**. second, I have tried like that as i said before I post the question.","body":"thanks, I have tried to connect to mongo from cli and it worked correctly, I use mongosh <b>docker exec -it mongodb mongosh</b>. second, I have tried like that as i said before I post the question."}],"answers":[{"comments":[{"owner":{"account_id":21849828,"reputation":364,"user_id":16142058,"display_name":"The Dark Knight"},"score":0,"creation_date":1696214769,"post_id":77212575,"comment_id":136120466,"body_markdown":"Thanks for your answer, although your answer is not exactly what I expect, but I have also tried with mongo config. And the problem is not still resolve, it always connect to test databases","body":"Thanks for your answer, although your answer is not exactly what I expect, but I have also tried with mongo config. And the problem is not still resolve, it always connect to test databases"}],"tags":[],"owner":{"account_id":19946683,"reputation":11,"user_id":14617186,"display_name":"Rajesh Nair"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696251346,"creation_date":1696200573,"answer_id":77212575,"question_id":77210202,"body_markdown":"I see that you have database and collection name same as &quot;product&quot;. Try different naming for database and collection for standardization.\r\n\r\nFor connecting to product database from your java code, you could write a configuration class annotated with `@ConfigurationProperties(prefix = &quot;spring.data.mongodb&quot;)` with a bean for `MongoClient` like this\r\n\r\n```java\r\n@Bean\r\npublic MongoClient mongoClient() {\r\n    return MongoClients.create(getConnectionString());\r\n}\r\n```\r\n\r\nYou can build the connectionString from your `application.properties` like this:\r\n\r\n```java\r\nvar sb = new StringBuilder();\r\nsb.append(&quot;mongodb://&quot;);\r\nsb.append(getDBUsername(dbUserName));\r\nsb.append(&quot;:&quot;);\r\nsb.append(getDBPasswordByPath(dbPassword));\r\nsb.append(&quot;@&quot;);\r\nsb.append(getHost());\r\nsb.append(&quot;:&quot;);\r\nsb.append(getPort());\r\nsb.append(&quot;/&quot;);\r\nsb.append(getDbName());\r\nsb.append(&quot;?retrywrites=false&quot;);\r\n```","title":"Always connect test database on mongodb with Spring Boot","body":"<p>I see that you have database and collection name same as &quot;product&quot;. Try different naming for database and collection for standardization.</p>\n<p>For connecting to product database from your java code, you could write a configuration class annotated with <code>@ConfigurationProperties(prefix = &quot;spring.data.mongodb&quot;)</code> with a bean for <code>MongoClient</code> like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic MongoClient mongoClient() {\n    return MongoClients.create(getConnectionString());\n}\n</code></pre>\n<p>You can build the connectionString from your <code>application.properties</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var sb = new StringBuilder();\nsb.append(&quot;mongodb://&quot;);\nsb.append(getDBUsername(dbUserName));\nsb.append(&quot;:&quot;);\nsb.append(getDBPasswordByPath(dbPassword));\nsb.append(&quot;@&quot;);\nsb.append(getHost());\nsb.append(&quot;:&quot;);\nsb.append(getPort());\nsb.append(&quot;/&quot;);\nsb.append(getDbName());\nsb.append(&quot;?retrywrites=false&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21849828,"reputation":364,"user_id":16142058,"display_name":"The Dark Knight"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696217867,"creation_date":1696217867,"answer_id":77213123,"question_id":77210202,"body_markdown":"I have tried to read mongo for a couple hours [docs](https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/auth/), I have found the solution.\r\n\r\n\r\nAlmost of authentication mechanisms, we can not set database name\r\n\r\nFor example with default authentication mechanism using connection string or mongo credential, I don&#39;t see the parameter for database name, only include **username**, **authenticationDb**, and **password** \r\n\r\nWith connection string:\r\n```java\r\nMongoClient mongoClient = MongoClients\r\n.create(&quot;mongodb://&lt;username&gt;:&lt;password&gt;@&lt;hostname&gt;:&lt;port&gt;/?authSource=&lt;authenticationDb&gt;&quot;);\r\n```\r\n\r\nWith MongoCredential:\r\n```java\r\nMongoCredential credential = MongoCredential.createCredential(&quot;&lt;username&gt;&quot;, &quot;&lt;authenticationDb&gt;&quot;, &quot;&lt;password&gt;&quot;);\r\nMongoClient mongoClient = MongoClients.create(\r\n    MongoClientSettings.builder()\r\n        .applyToClusterSettings(builder -&gt;\r\n                builder.hosts(Arrays.asList(new ServerAddress(&quot;&lt;hostname&gt;&quot;, &lt;port&gt;))))\r\n        .credential(credential)\r\n        .build());\r\n```\r\n\r\nOther mechanisms are same.\r\n\r\n\r\nThus, I have tried to create config file\r\n```java\r\n\r\n@Configuration\r\npublic class MongoDBConfig {\r\n    @Bean\r\n    public MongoClient mongoClient() {\r\n        return MongoClients.create(&quot;mongodb://root:pass12345@127.0.0.1:27018&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nand add database name in application.properties\r\n```\r\nspring.data.mongodb.database=product\r\n```\r\n\r\nIts amazing, it work perfectly like I want","title":"Always connect test database on mongodb with Spring Boot","body":"<p>I have tried to read mongo for a couple hours <a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/auth/\" rel=\"nofollow noreferrer\">docs</a>, I have found the solution.</p>\n<p>Almost of authentication mechanisms, we can not set database name</p>\n<p>For example with default authentication mechanism using connection string or mongo credential, I don't see the parameter for database name, only include <strong>username</strong>, <strong>authenticationDb</strong>, and <strong>password</strong></p>\n<p>With connection string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MongoClient mongoClient = MongoClients\n.create(&quot;mongodb://&lt;username&gt;:&lt;password&gt;@&lt;hostname&gt;:&lt;port&gt;/?authSource=&lt;authenticationDb&gt;&quot;);\n</code></pre>\n<p>With MongoCredential:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MongoCredential credential = MongoCredential.createCredential(&quot;&lt;username&gt;&quot;, &quot;&lt;authenticationDb&gt;&quot;, &quot;&lt;password&gt;&quot;);\nMongoClient mongoClient = MongoClients.create(\n    MongoClientSettings.builder()\n        .applyToClusterSettings(builder -&gt;\n                builder.hosts(Arrays.asList(new ServerAddress(&quot;&lt;hostname&gt;&quot;, &lt;port&gt;))))\n        .credential(credential)\n        .build());\n</code></pre>\n<p>Other mechanisms are same.</p>\n<p>Thus, I have tried to create config file</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\npublic class MongoDBConfig {\n    @Bean\n    public MongoClient mongoClient() {\n        return MongoClients.create(&quot;mongodb://root:pass12345@127.0.0.1:27018&quot;);\n    }\n}\n\n</code></pre>\n<p>and add database name in application.properties</p>\n<pre><code>spring.data.mongodb.database=product\n</code></pre>\n<p>Its amazing, it work perfectly like I want</p>\n"}],"owner":{"account_id":21849828,"reputation":364,"user_id":16142058,"display_name":"The Dark Knight"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77213123,"answer_count":2,"score":1,"last_activity_date":1696251346,"creation_date":1696158270,"question_id":77210202,"body_markdown":"I have studied on mongodb with spring boot\r\n\r\nI install mongo with docker-compose, I use Mongo Compass to interactive with mongo database, and I create product database\r\n\r\n```bash\r\nversion: &quot;3.8&quot;\r\nservices:\r\n    mongodb:\r\n        image : mongo\r\n        container_name: mongodb\r\n        environment:\r\n        - PUID=1000\r\n        - PGID=1000\r\n        volumes:\r\n        - ./database/product-service/mongodb:/data/db\r\n        ports:\r\n        - 27017:27017\r\n        restart: unless-stopped\r\n```\r\n\r\nSpring Boot code\r\n\r\nController\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/product&quot;)\r\n@RequiredArgsConstructor\r\npublic class ProductController {\r\n    private final ProductService productService;\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void createProduct(@RequestBody ProductRequest productRequest) {\r\n        productService.createProduct(productRequest);\r\n    }\r\n\r\n    @GetMapping\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public List&lt;ProductResponse&gt; getAllProducts() {\r\n        return productService.getAllProducts();\r\n    }\r\n}\r\n\r\n```\r\n\r\nService\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class ProductService {\r\n    private final ProductRepository productRepository;\r\n\r\n    public void createProduct(ProductRequest productRequest) {\r\n        Product product = Product.builder()\r\n                .name(productRequest.getName())\r\n                .description(productRequest.getDescription())\r\n                .price(productRequest.getPrice())\r\n                .build();\r\n        productRepository.save(product);\r\n        log.info(&quot;Product {} is saved&quot;, product.getId());\r\n    }\r\n\r\n    public List&lt;ProductResponse&gt; getAllProducts() {\r\n        List&lt;Product&gt;products = productRepository.findAll();\r\n        log.info(&quot;Get all products&quot;);\r\n        return products.stream().map(product -&gt; map2ProductResponse(product)).toList();\r\n    }\r\n\r\n    private ProductResponse map2ProductResponse(Product product) {\r\n        return ProductResponse.builder()\r\n                .id(product.getId())\r\n                .name(product.getName())\r\n                .description(product.getDescription())\r\n                .price(product.getPrice())\r\n                .build();\r\n    }\r\n}\r\n```\r\nentity\r\n```java\r\n@Document(value = &quot;product&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@Data\r\npublic class Product {\r\n    private String id;\r\n    private String name;\r\n    private String description;\r\n    private BigDecimal price;\r\n}\r\n\r\n```\r\n\r\n\r\nWith spring boot app, I configed on appllication.properties file like that\r\n```\r\nspring.data.mongodb.uri=mongodb://127.0.0.1:27017/product\r\n```\r\nBecause I have found some [posts](https://stackoverflow.com/questions/25750815/how-to-specify-database-name-in-spring-data-mongodb)\r\n\r\nI have tried replace with this, nothing change\r\n```\r\nspring.data.mongodb.port=27017\r\nspring.data.mongodb.database=product\r\nspring.data.mongodb.host=localhost\r\n```\r\n\r\nwhen I check the Mongo Compass, it always connect to **test** database, although I specify **product** database like application.properties\r\n\r\n[enter image description here](https://i.stack.imgur.com/v8V5A.png)\r\n\r\nI have also found the similar [question](https://stackoverflow.com/questions/72537715/spring-boot-and-mongodb-always-connect-to-database-test), I have tried with that solution, it not working for me and the solution is too complicated for me. It raise a error \r\n```\r\nError creating bean with name &#39;mongoConfig&#39;: Injection of autowired dependencies failed\r\n```\r\nAnd I can not fix that problem, because I&#39;m new with mongo\r\n\r\nHow I can change spring boot app connect to another database?","title":"Always connect test database on mongodb with Spring Boot","body":"<p>I have studied on mongodb with spring boot</p>\n<p>I install mongo with docker-compose, I use Mongo Compass to interactive with mongo database, and I create product database</p>\n<pre class=\"lang-bash prettyprint-override\"><code>version: &quot;3.8&quot;\nservices:\n    mongodb:\n        image : mongo\n        container_name: mongodb\n        environment:\n        - PUID=1000\n        - PGID=1000\n        volumes:\n        - ./database/product-service/mongodb:/data/db\n        ports:\n        - 27017:27017\n        restart: unless-stopped\n</code></pre>\n<p>Spring Boot code</p>\n<p>Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/v1/product&quot;)\n@RequiredArgsConstructor\npublic class ProductController {\n    private final ProductService productService;\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public void createProduct(@RequestBody ProductRequest productRequest) {\n        productService.createProduct(productRequest);\n    }\n\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;ProductResponse&gt; getAllProducts() {\n        return productService.getAllProducts();\n    }\n}\n\n</code></pre>\n<p>Service</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\n@Slf4j\npublic class ProductService {\n    private final ProductRepository productRepository;\n\n    public void createProduct(ProductRequest productRequest) {\n        Product product = Product.builder()\n                .name(productRequest.getName())\n                .description(productRequest.getDescription())\n                .price(productRequest.getPrice())\n                .build();\n        productRepository.save(product);\n        log.info(&quot;Product {} is saved&quot;, product.getId());\n    }\n\n    public List&lt;ProductResponse&gt; getAllProducts() {\n        List&lt;Product&gt;products = productRepository.findAll();\n        log.info(&quot;Get all products&quot;);\n        return products.stream().map(product -&gt; map2ProductResponse(product)).toList();\n    }\n\n    private ProductResponse map2ProductResponse(Product product) {\n        return ProductResponse.builder()\n                .id(product.getId())\n                .name(product.getName())\n                .description(product.getDescription())\n                .price(product.getPrice())\n                .build();\n    }\n}\n</code></pre>\n<p>entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(value = &quot;product&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Data\npublic class Product {\n    private String id;\n    private String name;\n    private String description;\n    private BigDecimal price;\n}\n\n</code></pre>\n<p>With spring boot app, I configed on appllication.properties file like that</p>\n<pre><code>spring.data.mongodb.uri=mongodb://127.0.0.1:27017/product\n</code></pre>\n<p>Because I have found some <a href=\"https://stackoverflow.com/questions/25750815/how-to-specify-database-name-in-spring-data-mongodb\">posts</a></p>\n<p>I have tried replace with this, nothing change</p>\n<pre><code>spring.data.mongodb.port=27017\nspring.data.mongodb.database=product\nspring.data.mongodb.host=localhost\n</code></pre>\n<p>when I check the Mongo Compass, it always connect to <strong>test</strong> database, although I specify <strong>product</strong> database like application.properties</p>\n<p><a href=\"https://i.stack.imgur.com/v8V5A.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have also found the similar <a href=\"https://stackoverflow.com/questions/72537715/spring-boot-and-mongodb-always-connect-to-database-test\">question</a>, I have tried with that solution, it not working for me and the solution is too complicated for me. It raise a error</p>\n<pre><code>Error creating bean with name 'mongoConfig': Injection of autowired dependencies failed\n</code></pre>\n<p>And I can not fix that problem, because I'm new with mongo</p>\n<p>How I can change spring boot app connect to another database?</p>\n"},{"tags":["java","javascript","jquery","ajax","jsp"],"comments":[{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1402127484,"post_id":24095040,"comment_id":37163984,"body_markdown":"Are you getting any alert message?","body":"Are you getting any alert message?"},{"owner":{"account_id":4580008,"reputation":87,"user_id":3717313,"accept_rate":71,"display_name":"amol"},"score":0,"creation_date":1402127784,"post_id":24095040,"comment_id":37164030,"body_markdown":"@Braj ..  No i am not getting any alert message , i press on submit button and it does nothing or it redirects to same dropdown page `test2.jsp`","body":"@Braj ..  No i am not getting any alert message , i press on submit button and it does nothing or it redirects to same dropdown page <code>test2.jsp</code>"},{"owner":{"account_id":4580008,"reputation":87,"user_id":3717313,"accept_rate":71,"display_name":"amol"},"score":0,"creation_date":1402127976,"post_id":24095040,"comment_id":37164074,"body_markdown":"@Masud yes i want to do the same thing , since i am beginner , so thats why i used the simplest possible example","body":"@Masud yes i want to do the same thing , since i am beginner , so thats why i used the simplest possible example"}],"answers":[{"comments":[{"owner":{"account_id":4580008,"reputation":87,"user_id":3717313,"accept_rate":71,"display_name":"amol"},"score":0,"creation_date":1402128630,"post_id":24095119,"comment_id":37164214,"body_markdown":"just curious why do we need to prevent form submit","body":"just curious why do we need to prevent form submit"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1402128680,"post_id":24095119,"comment_id":37164224,"body_markdown":"we want to stay on the page.","body":"we want to stay on the page."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402127937,"creation_date":1402127937,"answer_id":24095119,"question_id":24095040,"body_markdown":"The function should return `false` to prevent form submittion\r\n\r\n    &lt;script&gt;\r\n       function check()    {     \r\n\r\n        $.ajax({\r\n         url: &quot;test3.jsp&quot;,\r\n         type: &quot;GET&quot;,\r\n        \r\n         success: function() {\r\n            alert(&quot;succes&quot;);\r\n         },\r\n        \r\n         error: function() {\r\n            alert( &quot;Sorry, there was a problem!&quot; );\r\n         }\r\n        }); \r\n        return false;          \r\n       }           \r\n\r\n    &lt;/script&gt;\r\n\r\n\r\n\r\n","title":"How to use jQuery Ajax in JSP?","body":"<p>The function should return <code>false</code> to prevent form submittion</p>\n\n<pre><code>&lt;script&gt;\n   function check()    {     \n\n    $.ajax({\n     url: \"test3.jsp\",\n     type: \"GET\",\n\n     success: function() {\n        alert(\"succes\");\n     },\n\n     error: function() {\n        alert( \"Sorry, there was a problem!\" );\n     }\n    }); \n    return false;          \n   }           \n\n&lt;/script&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4580008,"reputation":87,"user_id":3717313,"accept_rate":71,"display_name":"amol"},"score":0,"creation_date":1402128466,"post_id":24095130,"comment_id":37164179,"body_markdown":"thanks the `button` input type is working and it is displaying a succes message means it is calling the succes function , but it is still not displaying the `welcome` which means it is not going to the `test.jsp` page","body":"thanks the <code>button</code> input type is working and it is displaying a succes message means it is calling the succes function , but it is still not displaying the <code>welcome</code> which means it is not going to the <code>test.jsp</code> page"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1402128547,"post_id":24095130,"comment_id":37164194,"body_markdown":"I am not clear about you design. Are you adding these two JSPs on single page.","body":"I am not clear about you design. Are you adding these two JSPs on single page."},{"owner":{"account_id":4580008,"reputation":87,"user_id":3717313,"accept_rate":71,"display_name":"amol"},"score":0,"creation_date":1402128764,"post_id":24095130,"comment_id":37164242,"body_markdown":"In `test2.jsp` i have a dropdown , and once i click the button i want a `welcome` message to be displayed on the same page without refreshing the page and message is in `test3.jsp` page","body":"In <code>test2.jsp</code> i have a dropdown , and once i click the button i want a <code>welcome</code> message to be displayed on the same page without refreshing the page and message is in <code>test3.jsp</code> page"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1402128902,"post_id":24095130,"comment_id":37164271,"body_markdown":"Why message is stored in `test3.jsp`. simply show it in the same `test2.jsp` at appropriate position. Are you using `iframe`?","body":"Why message is stored in <code>test3.jsp</code>. simply show it in the same <code>test2.jsp</code> at appropriate position. Are you using <code>iframe</code>?"},{"owner":{"account_id":4580008,"reputation":87,"user_id":3717313,"accept_rate":71,"display_name":"amol"},"score":0,"creation_date":1402129099,"post_id":24095130,"comment_id":37164317,"body_markdown":"no i am not using `iframe` ... i can display the message without it but i want to use ajax jquery for it","body":"no i am not using <code>iframe</code> ... i can display the message without it but i want to use ajax jquery for it"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1402129669,"post_id":24095130,"comment_id":37164444,"body_markdown":"Spend some time on [AJAX Tutorial](http://www.w3schools.com/ajax/default.ASP) and [jQuery Tutorial](http://www.w3schools.com/jQuery/)","body":"Spend some time on <a href=\"http://www.w3schools.com/ajax/default.ASP\" rel=\"nofollow noreferrer\">AJAX Tutorial</a> and <a href=\"http://www.w3schools.com/jQuery/\" rel=\"nofollow noreferrer\">jQuery Tutorial</a>"}],"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1402127998,"creation_date":1402127998,"answer_id":24095130,"question_id":24095040,"body_markdown":"It should be \r\n\r\n    &lt;input type=&quot;button&quot; value=&quot;Submit&quot; onclick=&quot;check()&quot;&gt;\r\n\r\ninstead of \r\n\r\n    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; onclick=&quot;check()&quot;&gt;\r\n\r\nbecause `submit` input type call form&#39;s action that is `test2.jsp`.","title":"How to use jQuery Ajax in JSP?","body":"<p>It should be </p>\n\n<pre><code>&lt;input type=\"button\" value=\"Submit\" onclick=\"check()\"&gt;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>&lt;input type=\"submit\" value=\"Submit\" onclick=\"check()\"&gt;\n</code></pre>\n\n<p>because <code>submit</code> input type call form's action that is <code>test2.jsp</code>.</p>\n"},{"tags":[],"owner":{"account_id":4547815,"reputation":2997,"user_id":3693828,"accept_rate":29,"display_name":"Nirav Prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402128074,"creation_date":1402128074,"answer_id":24095147,"question_id":24095040,"body_markdown":"\r\ncall your javascript function on change event of drop down \r\n\r\n    onchange=&quot;check()&quot;\r\n\r\nand navigate through firebug and check your consol it will show you your whole  ajax request","title":"How to use jQuery Ajax in JSP?","body":"<p>call your javascript function on change event of drop down </p>\n\n<pre><code>onchange=\"check()\"\n</code></pre>\n\n<p>and navigate through firebug and check your consol it will show you your whole  ajax request</p>\n"}],"owner":{"account_id":4580008,"reputation":87,"user_id":3717313,"accept_rate":71,"display_name":"amol"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5726,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24095130,"answer_count":3,"score":1,"last_activity_date":1696251153,"creation_date":1402127312,"question_id":24095040,"body_markdown":"I have written a small code which inclued 2 jsp pages and \r\n\r\n1) `test2.jsp` --&gt; i have made a `dropdown` in this page \r\n\r\n2) `test3.jsp` --&gt; displays a welcome message when the person selects an option from the dropdown , \r\n                 he will migrate to this page without refreshing test2.jsp\r\n\r\nfor this i have used `ajax jquery` \r\n\r\nwhen i click on the submit button nothing happens , please help me with this \r\ni have also put the `org.json.jar` file in the libraries\r\n\r\n\r\n\r\n`test2.jsp code`\r\n\r\n    &lt;script src=&quot;//code.jquery.com/jquery-1.11.0.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;//malsup.github.com/jquery.form.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script&gt;\r\n           function check()\r\n           {     \r\n    $.ajax({\r\n     url: &quot;test3.jsp&quot;,\r\n     type: &quot;GET&quot;,\r\n \r\n    success: function() {\r\n        alert(&quot;succes&quot;);\r\n    },\r\n \r\n    error: function() {\r\n        alert( &quot;Sorry, there was a problem!&quot; );\r\n    }\r\n    });           \r\n           }           \r\n        &lt;/script&gt;\r\n        \r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\r\n        &lt;br&gt;\r\n        &lt;form method=&quot;post&quot; action=&quot;test2.jsp&quot;&gt;\r\n            &lt;select name=&quot;city&quot;&gt;\r\n                &lt;option value=&quot;dropdown&quot;&gt;select city&lt;/option&gt;\r\n                   &lt;option value=&quot;jal&quot;&gt;Jalandhar&lt;/option&gt;\r\n                   &lt;option value=&quot;ggn&quot;&gt;Gurgaon&lt;/option&gt;\r\n                   &lt;option value=&quot;noida&quot;&gt;Noida&lt;/option&gt;\r\n                   &lt;option value=&quot;amrtsr&quot;&gt;Amritsar&lt;/option&gt;\r\n                   &lt;option value=&quot;bombay&quot;&gt;Bombay&lt;/option&gt;\r\n            &lt;/select&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; onclick=&quot;check()&quot;&gt;\r\n        &lt;/form&gt;\r\n\r\n\r\n`test3.jsp code`\r\n\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;title&gt;JSP Page&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;welcome&lt;/h1&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n","title":"How to use jQuery Ajax in JSP?","body":"<p>I have written a small code which inclued 2 jsp pages and</p>\n<ol>\n<li><p><code>test2.jsp</code> --&gt; i have made a <code>dropdown</code> in this page</p>\n</li>\n<li><p><code>test3.jsp</code> --&gt; displays a welcome message when the person selects an option from the dropdown ,\nhe will migrate to this page without refreshing test2.jsp</p>\n</li>\n</ol>\n<p>for this i have used <code>ajax jquery</code></p>\n<p>when i click on the submit button nothing happens , please help me with this\ni have also put the <code>org.json.jar</code> file in the libraries</p>\n<p><code>test2.jsp code</code></p>\n<pre><code>&lt;script src=&quot;//code.jquery.com/jquery-1.11.0.min.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;//malsup.github.com/jquery.form.js&quot;&gt;&lt;/script&gt;\n    &lt;script&gt;\n       function check()\n       {     \n$.ajax({\n url: &quot;test3.jsp&quot;,\n type: &quot;GET&quot;,\n\nsuccess: function() {\n    alert(&quot;succes&quot;);\n},\n\nerror: function() {\n    alert( &quot;Sorry, there was a problem!&quot; );\n}\n});           \n       }           \n    &lt;/script&gt;\n    \n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Hello World!&lt;/h1&gt;\n    &lt;br&gt;\n    &lt;form method=&quot;post&quot; action=&quot;test2.jsp&quot;&gt;\n        &lt;select name=&quot;city&quot;&gt;\n            &lt;option value=&quot;dropdown&quot;&gt;select city&lt;/option&gt;\n               &lt;option value=&quot;jal&quot;&gt;Jalandhar&lt;/option&gt;\n               &lt;option value=&quot;ggn&quot;&gt;Gurgaon&lt;/option&gt;\n               &lt;option value=&quot;noida&quot;&gt;Noida&lt;/option&gt;\n               &lt;option value=&quot;amrtsr&quot;&gt;Amritsar&lt;/option&gt;\n               &lt;option value=&quot;bombay&quot;&gt;Bombay&lt;/option&gt;\n        &lt;/select&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; onclick=&quot;check()&quot;&gt;\n    &lt;/form&gt;\n</code></pre>\n<p><code>test3.jsp code</code></p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n    &lt;title&gt;JSP Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;welcome&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat","websocket"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637578622,"creation_date":1637578622,"answer_id":70064675,"question_id":70064369,"body_markdown":"You can not only set properties using JVM arguments but also programmatically using `System.setProperty` like the following:\r\n\r\n```java\r\nSystem.setProperty(&quot;org.apache.tomcat.websocket.DISABLE_BUILTIN_EXTENSIONS&quot;,String.valueOf(true));\r\n```\r\n\r\nIf you export your project to a JAR-file using embedded tomcat, you can run it in your `main` before executing `SpringApplication.run`:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    System.setProperty(&quot;org.apache.tomcat.websocket.DISABLE_BUILTIN_EXTENSIONS&quot;,String.valueOf(true));\r\n    SpringApplication.run(YourApplicationClass.class,args);\r\n}\r\n```\r\n\r\nIf you package your application to a WAR file, you could try the following:\r\n```java\r\n@SpringBootApplication\r\npublic class YourApplicationClass extends SpringBootServletInitializer {\r\n    @Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\tSystem.setProperty(&quot;org.apache.tomcat.websocket.DISABLE_BUILTIN_EXTENSIONS&quot;,String.valueOf(true));\r\n        return application.sources(YourApplicationClass.class);\r\n    } \r\n} \r\n```","title":"How Can I Disable Tomcat&#39;s permessage-deflate WebSocket Compression in Spring Boot?","body":"<p>You can not only set properties using JVM arguments but also programmatically using <code>System.setProperty</code> like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;org.apache.tomcat.websocket.DISABLE_BUILTIN_EXTENSIONS&quot;,String.valueOf(true));\n</code></pre>\n<p>If you export your project to a JAR-file using embedded tomcat, you can run it in your <code>main</code> before executing <code>SpringApplication.run</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    System.setProperty(&quot;org.apache.tomcat.websocket.DISABLE_BUILTIN_EXTENSIONS&quot;,String.valueOf(true));\n    SpringApplication.run(YourApplicationClass.class,args);\n}\n</code></pre>\n<p>If you package your application to a WAR file, you could try the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class YourApplicationClass extends SpringBootServletInitializer {\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        System.setProperty(&quot;org.apache.tomcat.websocket.DISABLE_BUILTIN_EXTENSIONS&quot;,String.valueOf(true));\n        return application.sources(YourApplicationClass.class);\n    } \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9705067,"reputation":36,"user_id":7198739,"display_name":"Leonard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696251150,"creation_date":1696251150,"answer_id":77215704,"question_id":70064369,"body_markdown":"The `DISABLE_BUILTIN_EXTENSIONS` option was [removed][1] in Tomcat 10.1, so the answer by dan1st no longer works.\r\n\r\nI managed to disable compression by removing the `permessage-deflate` from the request header by using a filter:\r\n\r\n    @Component\r\n    public class WebSocketHeaderFilter implements Filter {\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n                throws IOException, ServletException {\r\n            HttpServletRequest httpRequest = (HttpServletRequest) request;\r\n            HttpServletResponse httpResponse = (HttpServletResponse) response;\r\n\r\n            HttpServletRequest req = new HttpServletRequestWrapper((HttpServletRequest) request) {\r\n                @Override\r\n                public String getHeader(String name) {\r\n                    if (&quot;Sec-WebSocket-Extensions&quot;.equalsIgnoreCase(name)) {\r\n                        return &quot;&quot;;\r\n                    }\r\n                    return super.getHeader(name);\r\n                }\r\n\r\n                @Override\r\n                public Enumeration&lt;String&gt; getHeaders(String name) {\r\n\r\n                    if (&quot;Sec-WebSocket-Extensions&quot;.equalsIgnoreCase(name)) {\r\n                        return Collections.enumeration(Collections.emptyList());\r\n                    }\r\n                    return super.getHeaders(name);\r\n                }\r\n            };\r\n\r\n            chain.doFilter(req, httpResponse);\r\n        \r\n        }\r\n    }\r\n\r\nIn my case it was enough to simply clear the value of the header. But since other WebSocket extensions may be requested by the client, it may be better to just remove the `permessage-deflate` from the header.\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-10.1-doc/changelog.html","title":"How Can I Disable Tomcat&#39;s permessage-deflate WebSocket Compression in Spring Boot?","body":"<p>The <code>DISABLE_BUILTIN_EXTENSIONS</code> option was <a href=\"https://tomcat.apache.org/tomcat-10.1-doc/changelog.html\" rel=\"nofollow noreferrer\">removed</a> in Tomcat 10.1, so the answer by dan1st no longer works.</p>\n<p>I managed to disable compression by removing the <code>permessage-deflate</code> from the request header by using a filter:</p>\n<pre><code>@Component\npublic class WebSocketHeaderFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        HttpServletRequest httpRequest = (HttpServletRequest) request;\n        HttpServletResponse httpResponse = (HttpServletResponse) response;\n\n        HttpServletRequest req = new HttpServletRequestWrapper((HttpServletRequest) request) {\n            @Override\n            public String getHeader(String name) {\n                if (&quot;Sec-WebSocket-Extensions&quot;.equalsIgnoreCase(name)) {\n                    return &quot;&quot;;\n                }\n                return super.getHeader(name);\n            }\n\n            @Override\n            public Enumeration&lt;String&gt; getHeaders(String name) {\n\n                if (&quot;Sec-WebSocket-Extensions&quot;.equalsIgnoreCase(name)) {\n                    return Collections.enumeration(Collections.emptyList());\n                }\n                return super.getHeaders(name);\n            }\n        };\n\n        chain.doFilter(req, httpResponse);\n    \n    }\n}\n</code></pre>\n<p>In my case it was enough to simply clear the value of the header. But since other WebSocket extensions may be requested by the client, it may be better to just remove the <code>permessage-deflate</code> from the header.</p>\n"}],"owner":{"account_id":5383665,"reputation":924,"user_id":4288259,"accept_rate":100,"display_name":"Andrew Lalis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1008,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70064675,"answer_count":2,"score":5,"last_activity_date":1696251150,"creation_date":1637577174,"question_id":70064369,"body_markdown":"I have a Spring Boot server that I would like to be able to communicate with websocket clients that are unable or unwilling to handle *permessage-deflate* compressed messages. I know from both of these similar questions on the topic (linked below) that I can add the VM argument `-Dorg.apache.tomcat.websocket.DISABLE_BUILTIN_EXTENSIONS=true` to disable Tomcat&#39;s default deflate compression.\r\n- https://stackoverflow.com/questions/28894316/tomcat-jsr356-websocket-disable-permessage-deflate-compression\r\n- https://stackoverflow.com/questions/31804635/spring-disable-websocket-compression-sec-websocket-extensions-permessage-def\r\n\r\nHowever, I plan to make a program that will be distributed so others can run it, and having to force people to remember to always include a specific VM argument just to change a setting seems quite abrasive.\r\n\r\nIs there some alternative way to disable Tomcat&#39;s websocket compression which doesn&#39;t require users to specify VM arguments at runtime, perhaps using Spring&#39;s Java configuration or a custom websocket handshake interceptor?","title":"How Can I Disable Tomcat&#39;s permessage-deflate WebSocket Compression in Spring Boot?","body":"<p>I have a Spring Boot server that I would like to be able to communicate with websocket clients that are unable or unwilling to handle <em>permessage-deflate</em> compressed messages. I know from both of these similar questions on the topic (linked below) that I can add the VM argument <code>-Dorg.apache.tomcat.websocket.DISABLE_BUILTIN_EXTENSIONS=true</code> to disable Tomcat's default deflate compression.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/28894316/tomcat-jsr356-websocket-disable-permessage-deflate-compression\">Tomcat JSR356 Websocket - disable permessage-deflate compression</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31804635/spring-disable-websocket-compression-sec-websocket-extensions-permessage-def\">Spring disable websocket compression -&gt; Sec-WebSocket-Extensions: permessage-deflate</a></li>\n</ul>\n<p>However, I plan to make a program that will be distributed so others can run it, and having to force people to remember to always include a specific VM argument just to change a setting seems quite abrasive.</p>\n<p>Is there some alternative way to disable Tomcat's websocket compression which doesn't require users to specify VM arguments at runtime, perhaps using Spring's Java configuration or a custom websocket handshake interceptor?</p>\n"},{"tags":["java","graphstream"],"answers":[{"comments":[{"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"score":0,"creation_date":1651654473,"post_id":72103550,"comment_id":127412312,"body_markdown":"and I&#39;ve tried to use version 1.3 and still no luck. the only difference is the error message,  now it&#39;s - **No UI package detected!**  instead of the message from the post - **No valid display found.**","body":"and I&#39;ve tried to use version 1.3 and still no luck. the only difference is the error message,  now it&#39;s - <b>No UI package detected!</b>  instead of the message from the post - <b>No valid display found.</b>"},{"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"score":0,"creation_date":1651660629,"post_id":72103550,"comment_id":127414464,"body_markdown":"I&#39;m new to java&#39;s gui. do you know any code example for using Graphstream with swing or JavaFX I can use as a reference?","body":"I&#39;m new to java&#39;s gui. do you know any code example for using Graphstream with swing or JavaFX I can use as a reference?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1651668644,"post_id":72103550,"comment_id":127417139,"body_markdown":"I got the same error you originally got until I used version 1.3. What version of Java are you using? What operating System?","body":"I got the same error you originally got until I used version 1.3. What version of Java are you using? What operating System?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1651669109,"post_id":72103550,"comment_id":127417324,"body_markdown":"I have never tried this with `JavaFX`. I will give it a try today.","body":"I have never tried this with <code>JavaFX</code>. I will give it a try today."},{"owner":{"account_id":1507058,"reputation":2933,"user_id":1410212,"accept_rate":88,"display_name":"lilalinux"},"score":1,"creation_date":1675881080,"post_id":72103550,"comment_id":133025301,"body_markdown":"&quot;From the 2.0 version of GraphStream, the default viewer is no part of the gs-core package anymore. Viewers are available separately. Viewers are located in gs-ui-TECH modules, where TECH is the name of the GUI tech used&quot;","body":"&quot;From the 2.0 version of GraphStream, the default viewer is no part of the gs-core package anymore. Viewers are available separately. Viewers are located in gs-ui-TECH modules, where TECH is the name of the GUI tech used&quot;"},{"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"score":1,"creation_date":1686795522,"post_id":72103550,"comment_id":134849512,"body_markdown":"I was able to get 2.0 to work by adding `gs-ui-swing` 2.0 as a dependency.","body":"I was able to get 2.0 to work by adding <code>gs-ui-swing</code> 2.0 as a dependency."}],"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655840899,"creation_date":1651600630,"answer_id":72103550,"question_id":72103352,"body_markdown":"If you are doing this in a `Java` application, you need to use version 1.3. \r\n\r\nAdd the following dependencies. `Version 1.3`\r\n\r\n - `gs-core`\r\n - `gs-algo`\r\n - `gs-ui`\r\n\r\n**Main**\r\n```\r\nimport org.graphstream.graph.*;\r\nimport org.graphstream.graph.implementations.*;\r\n    \r\npublic class Main {\r\n    public static void main(String args[]) {\r\n        Graph graph = new SingleGraph(&quot;Tutorial 1&quot;);\r\n        graph.setStrict(false);\r\n        graph.setAutoCreate( true );\r\n        graph.addNode(&quot;A&quot;);\r\n        graph.addNode(&quot;B&quot;);\r\n        graph.addNode(&quot;C&quot;);\r\n        graph.addEdge(&quot;AB&quot;, &quot;A&quot;, &quot;B&quot;);\r\n        graph.addEdge(&quot;BC&quot;, &quot;B&quot;, &quot;C&quot;);\r\n        graph.addEdge(&quot;CA&quot;, &quot;C&quot;, &quot;A&quot;);\r\n    \r\n        graph.display();\r\n    }\r\n}\r\n```\r\n\r\n**POM**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;sed.home&lt;/groupId&gt;\r\n    &lt;artifactId&gt;JavaTestArea&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.graphstream&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gs-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.graphstream&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gs-algo&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.graphstream&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gs-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**Output**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**If you use version 2.0, it needs to be done in a `JavaFX`, `Swing`, or `Android` application.**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NW4ul.gif","title":"GraphStream - No valid display found","body":"<p>If you are doing this in a <code>Java</code> application, you need to use version 1.3.</p>\n<p>Add the following dependencies. <code>Version 1.3</code></p>\n<ul>\n<li><code>gs-core</code></li>\n<li><code>gs-algo</code></li>\n<li><code>gs-ui</code></li>\n</ul>\n<p><strong>Main</strong></p>\n<pre><code>import org.graphstream.graph.*;\nimport org.graphstream.graph.implementations.*;\n    \npublic class Main {\n    public static void main(String args[]) {\n        Graph graph = new SingleGraph(&quot;Tutorial 1&quot;);\n        graph.setStrict(false);\n        graph.setAutoCreate( true );\n        graph.addNode(&quot;A&quot;);\n        graph.addNode(&quot;B&quot;);\n        graph.addNode(&quot;C&quot;);\n        graph.addEdge(&quot;AB&quot;, &quot;A&quot;, &quot;B&quot;);\n        graph.addEdge(&quot;BC&quot;, &quot;B&quot;, &quot;C&quot;);\n        graph.addEdge(&quot;CA&quot;, &quot;C&quot;, &quot;A&quot;);\n    \n        graph.display();\n    }\n}\n</code></pre>\n<p><strong>POM</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;sed.home&lt;/groupId&gt;\n    &lt;artifactId&gt;JavaTestArea&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graphstream&lt;/groupId&gt;\n            &lt;artifactId&gt;gs-core&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graphstream&lt;/groupId&gt;\n            &lt;artifactId&gt;gs-algo&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graphstream&lt;/groupId&gt;\n            &lt;artifactId&gt;gs-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Output</strong>\n<a href=\"https://i.stack.imgur.com/NW4ul.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NW4ul.gif\" alt=\"enter image description here\" /></a></p>\n<p><strong>If you use version 2.0, it needs to be done in a <code>JavaFX</code>, <code>Swing</code>, or <code>Android</code> application.</strong></p>\n"}],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72103550,"answer_count":1,"score":2,"last_activity_date":1696250717,"creation_date":1651599481,"question_id":72103352,"body_markdown":"I&#39;m following this [official tutorial](https://graphstream-project.org/doc/Tutorials/Getting-Started/1.0/ &quot;GraphStream official site&quot;) of graphStream.\r\nAnd I&#39;m trying to run this example code taken from there:\r\n\r\n```java\r\nimport org.graphstream.graph.*;\r\nimport org.graphstream.graph.implementations.*;\r\n\t\r\npublic class Tutorial1 {\r\n\tpublic static void main(String args[]) {\r\n\t\tGraph graph = new SingleGraph(&quot;Tutorial 1&quot;);\r\n\t\r\n\t\tgraph.addNode(&quot;A&quot;);\r\n\t\tgraph.addNode(&quot;B&quot;);\r\n\t\tgraph.addNode(&quot;C&quot;);\r\n\t\tgraph.addEdge(&quot;AB&quot;, &quot;A&quot;, &quot;B&quot;);\r\n\t\tgraph.addEdge(&quot;BC&quot;, &quot;B&quot;, &quot;C&quot;);\r\n\t\tgraph.addEdge(&quot;CA&quot;, &quot;C&quot;, &quot;A&quot;);\r\n\t\r\n\t\tgraph.display();\r\n\t}\r\n}\r\n```\r\n\r\nAnd I&#39;m getting the following error:\r\n```terminal\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Cannot launch viewer.\r\n\tat org.graphstream.graph.implementations.AbstractGraph.display(AbstractGraph.java:212)\r\n\tat org.graphstream.graph.implementations.AbstractGraph.display(AbstractGraph.java:204)\r\n\tat org.test.Test.main(Test.java:23)\r\nCaused by: org.graphstream.util.MissingDisplayException: No valid display found. Please check your System.setProperty(&quot;org.graphstream.ui&quot;) statement.\r\n\tat org.graphstream.util.Display.getDefault(Display.java:79)\r\n\tat org.graphstream.graph.implementations.AbstractGraph.display(AbstractGraph.java:209)\r\n\t... 2 more\r\n```\r\n\r\nI did exactly what the tutorial showed.  \r\nwhat am I missing? \r\nwhat does **&quot;No valid display found.&quot;** means","title":"GraphStream - No valid display found","body":"<p>I'm following this <a href=\"https://graphstream-project.org/doc/Tutorials/Getting-Started/1.0/\" rel=\"nofollow noreferrer\" title=\"GraphStream official site\">official tutorial</a> of graphStream.\nAnd I'm trying to run this example code taken from there:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.graphstream.graph.*;\nimport org.graphstream.graph.implementations.*;\n    \npublic class Tutorial1 {\n    public static void main(String args[]) {\n        Graph graph = new SingleGraph(&quot;Tutorial 1&quot;);\n    \n        graph.addNode(&quot;A&quot;);\n        graph.addNode(&quot;B&quot;);\n        graph.addNode(&quot;C&quot;);\n        graph.addEdge(&quot;AB&quot;, &quot;A&quot;, &quot;B&quot;);\n        graph.addEdge(&quot;BC&quot;, &quot;B&quot;, &quot;C&quot;);\n        graph.addEdge(&quot;CA&quot;, &quot;C&quot;, &quot;A&quot;);\n    \n        graph.display();\n    }\n}\n</code></pre>\n<p>And I'm getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Cannot launch viewer.\n    at org.graphstream.graph.implementations.AbstractGraph.display(AbstractGraph.java:212)\n    at org.graphstream.graph.implementations.AbstractGraph.display(AbstractGraph.java:204)\n    at org.test.Test.main(Test.java:23)\nCaused by: org.graphstream.util.MissingDisplayException: No valid display found. Please check your System.setProperty(&quot;org.graphstream.ui&quot;) statement.\n    at org.graphstream.util.Display.getDefault(Display.java:79)\n    at org.graphstream.graph.implementations.AbstractGraph.display(AbstractGraph.java:209)\n    ... 2 more\n</code></pre>\n<p>I did exactly what the tutorial showed.<br />\nwhat am I missing?\nwhat does <strong>&quot;No valid display found.&quot;</strong> means</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose"],"answers":[{"comments":[{"owner":{"account_id":1339515,"reputation":23845,"user_id":1281501,"accept_rate":58,"display_name":"lostintranslation"},"score":1,"creation_date":1620426965,"post_id":67424617,"comment_id":119206714,"body_markdown":"This overrides the entire content view.  What if I am using a ComposeView tag in xml as a partial compose in an existing layout file?","body":"This overrides the entire content view.  What if I am using a ComposeView tag in xml as a partial compose in an existing layout file?"},{"owner":{"account_id":1102161,"reputation":20176,"user_id":1094333,"display_name":"nglauber"},"score":1,"creation_date":1620427509,"post_id":67424617,"comment_id":119206816,"body_markdown":"No problem at all... you can use this custom view in your XML layout file as usual... &lt;your.app.package.MyComposeView... /&gt;","body":"No problem at all... you can use this custom view in your XML layout file as usual... &lt;your.app.package.MyComposeView... /&gt;"},{"owner":{"account_id":9794879,"reputation":11137,"user_id":7258332,"accept_rate":33,"display_name":"Santanu Sur"},"score":1,"creation_date":1620452313,"post_id":67424617,"comment_id":119210035,"body_markdown":"@nglauber @lostintranslation Creating an `AbstractComposeView` is redundant here , we can simply wrap up a kotlin object / class and render the content underneath. (Thought the question mostly asked about the syntax from java class.)\n\n}\n\n\nHowever i can only find creating `AbstractComposeView` or `ComposeView` useful from `Fragment` and **NOT** `Activity` \n( or section of an activity where we want to render a compsable UI )","body":"@nglauber @lostintranslation Creating an <code>AbstractComposeView</code> is redundant here , we can simply wrap up a kotlin object / class and render the content underneath. (Thought the question mostly asked about the syntax from java class.)  }   However i can only find creating <code>AbstractComposeView</code> or <code>ComposeView</code> useful from <code>Fragment</code> and <b>NOT</b> <code>Activity</code>  ( or section of an activity where we want to render a compsable UI )"},{"owner":{"account_id":1102161,"reputation":20176,"user_id":1094333,"display_name":"nglauber"},"score":1,"creation_date":1620482596,"post_id":67424617,"comment_id":119216412,"body_markdown":"I see, but using your approach you can&#39;t use your composable in a XML layout file. As you can see in the first comment of this answer, he wants to put the composable in a layout XML file.","body":"I see, but using your approach you can&#39;t use your composable in a XML layout file. As you can see in the first comment of this answer, he wants to put the composable in a layout XML file."},{"owner":{"account_id":9794879,"reputation":11137,"user_id":7258332,"accept_rate":33,"display_name":"Santanu Sur"},"score":0,"creation_date":1620492648,"post_id":67424617,"comment_id":119219169,"body_markdown":"Does the first line of the question ask for a solution involving any XML layout ? Not sure though.","body":"Does the first line of the question ask for a solution involving any XML layout ? Not sure though."}],"tags":[],"owner":{"account_id":1102161,"reputation":20176,"user_id":1094333,"display_name":"nglauber"},"comment_count":5,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1620427918,"creation_date":1620328467,"answer_id":67424617,"question_id":67423907,"body_markdown":"Yes, it&#39;s possible. \r\n\r\nFirst you should create a subclass of `AbstractComposeView`:\r\n\r\n```kotlin\r\nclass MyComposeView\r\n@JvmOverloads constructor(context: Context, attrs: AttributeSet? = null) :\r\n    AbstractComposeView(context, attrs) {\r\n    @Composable\r\n    override fun Content() {\r\n        YourComposableFunction()\r\n    }\r\n}\r\n```\r\nand then set this view as Activity content...\r\n```java\r\npublic class MyJavaActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(new MyComposeView(this));\r\n    }\r\n}\r\n```\r\nYou can also declare your view in any layout file...\r\n```xml\r\n&lt;com.example.MyComposeView\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;/&gt;\r\n```\r\nand call `setContentView(R.layout.your_layout_file)` as usual.","title":"Possible to use/lay out a Compose view in an Activity written in Java?","body":"<p>Yes, it's possible.</p>\n<p>First you should create a subclass of <code>AbstractComposeView</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyComposeView\n@JvmOverloads constructor(context: Context, attrs: AttributeSet? = null) :\n    AbstractComposeView(context, attrs) {\n    @Composable\n    override fun Content() {\n        YourComposableFunction()\n    }\n}\n</code></pre>\n<p>and then set this view as Activity content...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyJavaActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(new MyComposeView(this));\n    }\n}\n</code></pre>\n<p>You can also declare your view in any layout file...</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.example.MyComposeView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;/&gt;\n</code></pre>\n<p>and call <code>setContentView(R.layout.your_layout_file)</code> as usual.</p>\n"},{"tags":[],"owner":{"account_id":9794879,"reputation":11137,"user_id":7258332,"accept_rate":33,"display_name":"Santanu Sur"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1620454122,"creation_date":1620450036,"answer_id":67444245,"question_id":67423907,"body_markdown":"Instead of creating an `AbstractComposeView` , you can simply wrap up a kotlin function and pass on the activity instance and set the content. \r\nFor example:\r\n\r\n```\r\nobject ComposeContent {\r\n    fun setContentFromJavaActivity(activity: AppCompatActivity) {\r\n        activity.setContent {\r\n            // Your composable content goes here\r\n        }\r\n    }\r\n}\r\n```\r\nActivity `onCreate(..)` :-\r\n\r\n```\r\npublic class MyJavaActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        ComposeContent.INSTANCE.setContentFromJavaActivity(this);\r\n    }\r\n}\r\n```\r\n\r\n(Creating instance of `AbstractComposeView` or `ComposeView` comes handy only when we want to render a section of an Activity with a compose UI (or in a `Fragment`))","title":"Possible to use/lay out a Compose view in an Activity written in Java?","body":"<p>Instead of creating an <code>AbstractComposeView</code> , you can simply wrap up a kotlin function and pass on the activity instance and set the content.\nFor example:</p>\n<pre><code>object ComposeContent {\n    fun setContentFromJavaActivity(activity: AppCompatActivity) {\n        activity.setContent {\n            // Your composable content goes here\n        }\n    }\n}\n</code></pre>\n<p>Activity <code>onCreate(..)</code> :-</p>\n<pre><code>public class MyJavaActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        ComposeContent.INSTANCE.setContentFromJavaActivity(this);\n    }\n}\n</code></pre>\n<p>(Creating instance of <code>AbstractComposeView</code> or <code>ComposeView</code> comes handy only when we want to render a section of an Activity with a compose UI (or in a <code>Fragment</code>))</p>\n"},{"tags":[],"owner":{"account_id":8365629,"reputation":23,"user_id":6282436,"display_name":"Cosmin C."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688472468,"creation_date":1688472468,"answer_id":76612457,"question_id":67423907,"body_markdown":"You don&#39;t necessarily need the AbstractComposeView. I was able to do this just with the following:\r\n\r\nAdd ComposeView to your layout.xml just as you would any other View:\r\n\r\n    &lt;androidx.compose.ui.platform.ComposeView\r\n        android:id=&quot;@+id/compose_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\nCreate a new kt file, for example ComposeFunctions.kt that has a function to set the content to the ComposeView:\r\n\r\n    @file:JvmName(&quot;ComposeFunctions&quot;)\r\n\r\n    package (your package goes here)\r\n\r\n    fun setContent(composeView: ComposeView) {\r\n        composeView.setContent { composable kt function goes here }\r\n    }\r\n\r\nNow from your java Activity/Fragment \r\n\r\n    ComposeView composeView = view.findViewById(R.id.compose_view);\r\n    ComposeFunctions.setContent(composeView);\r\n\r\nI have used this successfully on WearOS for androidx.wear.compose.material.TimeText:\r\n\r\n    composeView.setContent { TimeText() }","title":"Possible to use/lay out a Compose view in an Activity written in Java?","body":"<p>You don't necessarily need the AbstractComposeView. I was able to do this just with the following:</p>\n<p>Add ComposeView to your layout.xml just as you would any other View:</p>\n<pre><code>&lt;androidx.compose.ui.platform.ComposeView\n    android:id=&quot;@+id/compose_view&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;/&gt;\n</code></pre>\n<p>Create a new kt file, for example ComposeFunctions.kt that has a function to set the content to the ComposeView:</p>\n<pre><code>@file:JvmName(&quot;ComposeFunctions&quot;)\n\npackage (your package goes here)\n\nfun setContent(composeView: ComposeView) {\n    composeView.setContent { composable kt function goes here }\n}\n</code></pre>\n<p>Now from your java Activity/Fragment</p>\n<pre><code>ComposeView composeView = view.findViewById(R.id.compose_view);\nComposeFunctions.setContent(composeView);\n</code></pre>\n<p>I have used this successfully on WearOS for androidx.wear.compose.material.TimeText:</p>\n<pre><code>composeView.setContent { TimeText() }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29518916,"reputation":1,"user_id":22622230,"display_name":"Burak Can G&#246;rg&#252;l&#252;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696250617,"creation_date":1696196441,"answer_id":77212429,"question_id":67423907,"body_markdown":"To manage it from a single place, we can manage it with the help of a manager in both Kotlin and Java.\r\n\r\nobject ComposeViewManager {\r\n\r\n    fun setComposableContent(\r\n        composeView: ComposeView,\r\n        content: ComposableProvider,\r\n    ) {\r\n        composeView.apply {\r\n            setViewCompositionStrategy(ViewCompositionStrategy.DisposeOnViewTreeLifecycleDestroyed)\r\n            setContent {\r\n                MaterialTheme {\r\n                    content.ProvideComposableContent()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    fun setComposableContentForKotlin(\r\n        composeView: ComposeView,\r\n        content: @Composable ComposableProvider.() -&gt; Unit,\r\n    ) {\r\n        composeView.apply {\r\n            setViewCompositionStrategy(ViewCompositionStrategy.DisposeOnViewTreeLifecycleDestroyed)\r\n            setContent {\r\n                MaterialTheme {\r\n                    ComposableProviderImpl().content()\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nIn my article where I explain in detail how to use Compose View in Java and Kotlin: [*What is ComposeView and How to Use in Kotlin and Java codes?*][1]\r\n\r\nWith clean architecture\r\n\r\n\r\n  [1]: https://medium.com/@burockcan2309/what-is-composeview-and-how-to-use-in-kotlin-and-java-codes-dac48e918777","title":"Possible to use/lay out a Compose view in an Activity written in Java?","body":"<p>To manage it from a single place, we can manage it with the help of a manager in both Kotlin and Java.</p>\n<p>object ComposeViewManager {</p>\n<pre><code>fun setComposableContent(\n    composeView: ComposeView,\n    content: ComposableProvider,\n) {\n    composeView.apply {\n        setViewCompositionStrategy(ViewCompositionStrategy.DisposeOnViewTreeLifecycleDestroyed)\n        setContent {\n            MaterialTheme {\n                content.ProvideComposableContent()\n            }\n        }\n    }\n}\n\nfun setComposableContentForKotlin(\n    composeView: ComposeView,\n    content: @Composable ComposableProvider.() -&gt; Unit,\n) {\n    composeView.apply {\n        setViewCompositionStrategy(ViewCompositionStrategy.DisposeOnViewTreeLifecycleDestroyed)\n        setContent {\n            MaterialTheme {\n                ComposableProviderImpl().content()\n            }\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>In my article where I explain in detail how to use Compose View in Java and Kotlin: <a href=\"https://medium.com/@burockcan2309/what-is-composeview-and-how-to-use-in-kotlin-and-java-codes-dac48e918777\" rel=\"nofollow noreferrer\"><em>What is ComposeView and How to Use in Kotlin and Java codes?</em></a></p>\n<p>With clean architecture</p>\n"}],"owner":{"account_id":1339515,"reputation":23845,"user_id":1281501,"accept_rate":58,"display_name":"lostintranslation"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5480,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":67424617,"answer_count":4,"score":7,"last_activity_date":1696250617,"creation_date":1620325221,"question_id":67423907,"body_markdown":"Google gives the following example of how to use a ComposeView in XML and inflate it in a fragment.\r\n\r\n    class ExampleFragment : Fragment() {\r\n    \r\n        override fun onCreateView(\r\n            inflater: LayoutInflater,\r\n            container: ViewGroup?,\r\n            savedInstanceState: Bundle?\r\n        ): View {\r\n            // Inflate the layout for this fragment\r\n            return inflater.inflate(\r\n                R.layout.fragment_example, container, false\r\n            ).apply {\r\n                findViewById&lt;ComposeView&gt;(R.id.compose_view).setContent {\r\n                    // In Compose world\r\n                    MaterialTheme {\r\n                        Text(&quot;Hello Compose!&quot;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI have an activity written in java, not kotlin.  Is it possible to use setContent from a Java activity?  If so I am struggling with the syntax.","title":"Possible to use/lay out a Compose view in an Activity written in Java?","body":"<p>Google gives the following example of how to use a ComposeView in XML and inflate it in a fragment.</p>\n<pre><code>class ExampleFragment : Fragment() {\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View {\n        // Inflate the layout for this fragment\n        return inflater.inflate(\n            R.layout.fragment_example, container, false\n        ).apply {\n            findViewById&lt;ComposeView&gt;(R.id.compose_view).setContent {\n                // In Compose world\n                MaterialTheme {\n                    Text(&quot;Hello Compose!&quot;)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I have an activity written in java, not kotlin.  Is it possible to use setContent from a Java activity?  If so I am struggling with the syntax.</p>\n"},{"tags":["java","jquery","ajax","jsp","struts2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1395144157,"post_id":22477899,"comment_id":34194075,"body_markdown":"When you call an ajax request to the server it should respond with the data that you can use to modify the DOM of your page.","body":"When you call an ajax request to the server it should respond with the data that you can use to modify the DOM of your page."},{"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"score":0,"creation_date":1395155170,"post_id":22477899,"comment_id":34202113,"body_markdown":"How can i pass parameters from ajax to action and then from action to ajax ?","body":"How can i pass parameters from ajax to action and then from action to ajax ?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1395158427,"post_id":22477899,"comment_id":34204678,"body_markdown":"What parameters do you want to pass?","body":"What parameters do you want to pass?"},{"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"score":0,"creation_date":1395159610,"post_id":22477899,"comment_id":34205559,"body_markdown":"I want to pass a selected value, i edited the post, any help please !!","body":"I want to pass a selected value, i edited the post, any help please !!"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1395160783,"post_id":22477899,"comment_id":34206557,"body_markdown":"How did you map the action in the `struts.xml` or by convention?","body":"How did you map the action in the <code>struts.xml</code> or by convention?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1395170212,"post_id":22477899,"comment_id":34212797,"body_markdown":"Could you post the `struts.xml` to the question?","body":"Could you post the <code>struts.xml</code> to the question?"}],"answers":[{"comments":[{"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"score":0,"creation_date":1395219726,"post_id":22489717,"comment_id":34232713,"body_markdown":"Please how can i pass data(hashmap) from action to json ?","body":"Please how can i pass data(hashmap) from action to json ?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1395220065,"post_id":22489717,"comment_id":34232892,"body_markdown":"Return a `json` result.","body":"Return a <code>json</code> result."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1395221834,"post_id":22489717,"comment_id":34234024,"body_markdown":"Your data is not `json` type, but javascript.","body":"Your data is not <code>json</code> type, but javascript."},{"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"score":0,"creation_date":1395223711,"post_id":22489717,"comment_id":34235287,"body_markdown":"how can i pass this selected value to action and then return some others values to jsp?","body":"how can i pass this selected value to action and then return some others values to jsp?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1395224103,"post_id":22489717,"comment_id":34235537,"body_markdown":"See [How to send JSON data via POST (ajax) and receive json response from Struts 2 action](http://stackoverflow.com/a/20422808/573032) answer.","body":"See <a href=\"http://stackoverflow.com/a/20422808/573032\">How to send JSON data via POST (ajax) and receive json response from Struts 2 action</a> answer."},{"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"score":0,"creation_date":1395251011,"post_id":22489717,"comment_id":34255995,"body_markdown":"thanks for your help, i want to know how can i put hashmap values into textfield and select, can you see the edited post please ?","body":"thanks for your help, i want to know how can i put hashmap values into textfield and select, can you see the edited post please ?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1395257291,"post_id":22489717,"comment_id":34259910,"body_markdown":"Set the `id=&quot;field2&quot;` and use `$(&quot;#field2&quot;).val(result.field2);` the same is for `field3`.","body":"Set the <code>id=&quot;field2&quot;</code> and use <code>$(&quot;#field2&quot;).val(result.field2);</code> the same is for <code>field3</code>."},{"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"score":0,"creation_date":1395306507,"post_id":22489717,"comment_id":34280889,"body_markdown":"thanks for your attention, but field2  is not a simple String in the action, it is an element of hashmap&lt;string,string&gt;, how can i use it into $(&quot;#field2&quot;).val(//code to make here ?) ?","body":"thanks for your attention, but field2  is not a simple String in the action, it is an element of hashmap&lt;string,string&gt;, how can i use it into $(&quot;#field2&quot;).val(//code to make here ?) ?"},{"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"score":0,"creation_date":1395310518,"post_id":22489717,"comment_id":34283721,"body_markdown":"oh ya, but it works just with a simple textfield and not with dropdown list&lt;s:select&gt;, please how can i select an element from my drop downlist from javascript code, can you see the last edited code ?","body":"oh ya, but it works just with a simple textfield and not with dropdown list&lt;s:select&gt;, please how can i select an element from my drop downlist from javascript code, can you see the last edited code ?"},{"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"score":0,"creation_date":1395312094,"post_id":22489717,"comment_id":34284818,"body_markdown":"I want to put some values from json as selected value in &lt;s:select&gt;, if(key === &#39;marque&#39;)$(&#39;#marque option[value=&#39; + value + &#39;]&#39;).attr(&#39;selected&#39;, &#39;selected&#39;); this code is not working ?","body":"I want to put some values from json as selected value in &lt;s:select&gt;, if(key === &#39;marque&#39;)$(&#39;#marque option[value=&#39; + value + &#39;]&#39;).attr(&#39;selected&#39;, &#39;selected&#39;); this code is not working ?"}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1395172675,"creation_date":1395172675,"answer_id":22489717,"question_id":22477899,"body_markdown":"To pass selected value (if it&#39;s selected) use a simple ajax request\r\n\r\n    $.ajax(\r\n    {\r\n        type: &#39;POST&#39;, \r\n        url: &#39;&lt;s:url action=&quot;action1&quot;/&gt;&#39;,\r\n        data: { field1 : selectedValue},\r\n        //async: false ,\r\n        success: function(data){\r\n          alert(data);\r\n        }\r\n     });\r\n\r\nIn the action class create a field named `field1` with getter and setter. Then you have an option to return a result type. If  json result is used then this field will be serialized and added to the json object you get in the data  of your success handler. \r\n","title":"How to edit with Ajax using Struts 2","body":"<p>To pass selected value (if it's selected) use a simple ajax request</p>\n\n<pre><code>$.ajax(\n{\n    type: 'POST', \n    url: '&lt;s:url action=\"action1\"/&gt;',\n    data: { field1 : selectedValue},\n    //async: false ,\n    success: function(data){\n      alert(data);\n    }\n });\n</code></pre>\n\n<p>In the action class create a field named <code>field1</code> with getter and setter. Then you have an option to return a result type. If  json result is used then this field will be serialized and added to the json object you get in the data  of your success handler. </p>\n"}],"owner":{"account_id":4189967,"reputation":151,"user_id":3432819,"accept_rate":92,"display_name":"lilyana"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22489717,"answer_count":1,"score":1,"last_activity_date":1696250222,"creation_date":1395141860,"question_id":22477899,"body_markdown":"I want to edit some element in my database following this logic: \r\nI selected an item from a drop down list (autocomplete),and the other fields are filled directly from the database based on the fields already selected, so that I can edit the data. \r\n\r\nHow to use Ajax in JSP page to do this treatment?\r\n\r\n    $(document).ready(function() {\r\n      $(&#39;#datepicker&#39;).datepicker();\r\n    \r\n      $(&#39;#field1&#39;).change(function()\r\n    \t\t  {\r\n\r\n    //code ajax wich select the row from database and return the values on the same form\r\n\r\n    \t  \r\n    \t  }\r\n      );\r\n    \r\n      \r\n    });\r\n\r\n**JSP code :**\r\n&lt;!-- language: lang-xml --&gt;\r\n    &lt;s:form  cssStyle=&quot;border:0;&quot; validate=&quot;true&quot; action=&quot;add&quot; namespace=&quot;/&quot; &gt;\r\n    &lt;sx:autocompleter id=&quot;field1&quot;  label=&quot;field1&quot; list=&quot;liste1&quot; name=&quot;liste&quot;&gt;&lt;/sx:autocompleter&gt;\r\n    &lt;s:textfield name=&quot;field2&quot; label=&quot;field2&quot; size=&quot;15&quot; &gt;&lt;/s:textfield&gt;\r\n    &lt;s:select style=&quot;height:30px; width:125px&quot; name=&quot;field3&quot; label=&quot;field3&quot;  headerValue=&quot;Select&quot; list=&quot;liste2&quot;&gt;&lt;/s:select&gt;\r\n    &lt;s:submit style=&quot;height:30px; width:125px&quot; name=&quot;Valider&quot; value=&quot;Valider&quot;&gt;&lt;/s:submit&gt;\r\n    &lt;/s:form&gt;\r\n\r\nany help please ?\r\n\r\n\r\n**EDIT :**\r\n\r\nI want to pass a selected value from autocomplete field\r\n\r\n    $(document).ready(function() \r\n    \t{\r\n    \t  $(&#39;#field1&#39;).change(function()\r\n    \t\t{\r\n    \r\n    \t\t  var selectedValue = $(&#39;#field1 option:selected&#39;).val();\r\n    \t        if ($.trim(selectedValue).length &gt; 0) \r\n    \t\t     {\r\n    \t        \r\n    \t\t\t\t$.ajax(\r\n    \t\t\t\t{\r\n    \t\t\t\t\ttype: &#39;POST&#39;, \r\n    \t\t\t\t    url: &#39;action/action1&#39;,\r\n    \t\t\t\t    data: { field1 : selectedValue},\r\n    \t\t\t\t    dataType: &#39;json&#39;,\r\n    \t\t\t\t    async: false ,\r\n    \t\t\t\t    contentType: &#39;application/json; charset=utf-8&#39;,\r\n    \t\t\t\t    success: function(){window.alert(selectedValue);}\r\n    \t\t\r\n    \t\t\t\t });\r\n    \r\n    \t        }\r\n    \r\n    \t\t}\r\n    \t  );\r\n    \r\n    \t  \r\n    \t});\r\n\r\n\r\n\r\n**EDIT 2:**\r\n\r\n\r\n**action :**\r\n\r\n    public String query()\r\n    {\r\n    \tif( !field1.equals(&quot;&quot;) || field1 != null)\r\n    \t{\r\n    \t\tService = new ServiceImpl();\r\n    \t\tv = new Vehicule();\r\n    \t\tv= Service.getVehiculeByImmat(field1);\r\n    \t\tmap.put(field2.toString(), v.getfield2().toString());\r\n    \t\tmap.put(date.toString(), v.getdate().toString());\r\n    \r\n    \t}\r\n    \t\t\t\treturn &quot;success&quot;;\r\n    \r\n    }\r\n\t\r\n**`struts.xml:`** \r\n\r\n    &lt;action name=&quot;query&quot; class=&quot;action.GestionVehicules&quot; method=&quot;query&quot;&gt;\r\n    \t\t  &lt;result name=&quot;success&quot; type=&quot;json&quot;&gt;map&lt;/result&gt;\r\n    \t&lt;/action&gt;\r\n\r\n**ajax :**\r\n\r\n    $(document).ready(function() \r\n    \t{\r\n    \t  $(&#39;#field1&#39;).change(function()\r\n    \t\t{\r\n    \r\n    \t\t  var selectedValue = $(&#39;#field1&#39;).val();\r\n    \t        if ($.trim(selectedValue).length &gt; 0) \r\n    \t\t     {\r\n    \t        \r\n    \t\t\t\t$.ajax(\r\n    \t\t\t\t{\r\n    \t\t\t\t\ttype: &#39;POST&#39;, \r\n    \t\t\t\t    url: &#39;&lt;s:url action=&quot;query&quot;/&gt;&#39;,\r\n    \t\t\t\t    data: { field1: selectedValue},\r\n    \t\t\t\t    dataType: &#39;json&#39;,\r\n    \t\t\t\t    success: function(){alert(data);}\r\n    \t\t\r\n    \t\t\t\t });\r\n    \t\t\t\t\r\n    \t        }\r\n    \t      \r\n    \r\n    \t\t}\r\n    \t  );\r\n    \r\n    \t  \r\n    \t});    \r\n\r\n\r\nis that true ?\r\n\r\n\r\n      \r\n***EDIT 3 :***\r\n\r\n**javascript :**\r\n\r\n    $(document).ready(function() \r\n    \t{\r\n    \t  $(&#39;#field1&#39;).change(function()\r\n    \t\t{\r\n    \r\n    \t\t  \r\n    \t\t  var selectedValue = $(&#39;#field1&#39;).val();\r\n    \t        if ($.trim(selectedValue).length &gt; 0) \r\n    \t\t     {\r\n    \t      alert(selectedValue);\r\n    \t\t\t\t$.ajax(\r\n    \t\t\t\t{\r\n    \t\t\t\t\ttype: &#39;POST&#39;, \r\n    \t\t\t\t    url  : &quot;&lt;s:url action=&#39;query&#39;/&gt;&quot;,\r\n    \t\t\t\t    dataType : &#39;json&#39;,\r\n    \t\t\t\t    data: { field1: selectedValue},\r\n    \t\t\t\t    success: function(result){\r\n    \t\t\t\t\t// alert(result);\r\n    \t\t\t\t\t if (result.length &gt; 0) {\r\n    \t                        //code to put hashmap values into textfield\r\n    \r\n                                    //put map.get(&quot;key1&quot;) into textfield1 ....\r\n    \r\n    \t                        });\r\n    \t                    }\r\n    \t\t\t\t\t \r\n    \t\t\t    },\r\n    \t\t\r\n    \t\t\t\t });\r\n    \r\n    \t        }\r\n    \r\n    \t\t}\r\n    \t  );\r\n    \r\n    \t  \r\n    \t});\r\n\r\n**EDIT 4 :**\r\n\r\n**javascript :**\r\n\r\n  \r\n\r\n      $.each(result, function(key,value)\r\n        \t{\t\t\t\t\t\t\t\t$(&quot;#&quot;+key).val(value); // how can it works with dropdown list ??\r\n        } );\r\n    \t\r\n\r\n\t\t\t\t\t\t\t\t\t\t   \r\n\r\n\t\t\t\t\t\r\n\r\n\r\n\r\n","title":"How to edit with Ajax using Struts 2","body":"<p>I want to edit some element in my database following this logic:\nI selected an item from a drop down list (autocomplete),and the other fields are filled directly from the database based on the fields already selected, so that I can edit the data.</p>\n<p>How to use Ajax in JSP page to do this treatment?</p>\n<pre><code>$(document).ready(function() {\n  $('#datepicker').datepicker();\n\n  $('#field1').change(function()\n          {\n\n//code ajax wich select the row from database and return the values on the same form\n\n      \n      }\n  );\n\n  \n});\n</code></pre>\n<p><strong>JSP code :</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:form  cssStyle=&quot;border:0;&quot; validate=&quot;true&quot; action=&quot;add&quot; namespace=&quot;/&quot; &gt;\n&lt;sx:autocompleter id=&quot;field1&quot;  label=&quot;field1&quot; list=&quot;liste1&quot; name=&quot;liste&quot;&gt;&lt;/sx:autocompleter&gt;\n&lt;s:textfield name=&quot;field2&quot; label=&quot;field2&quot; size=&quot;15&quot; &gt;&lt;/s:textfield&gt;\n&lt;s:select style=&quot;height:30px; width:125px&quot; name=&quot;field3&quot; label=&quot;field3&quot;  headerValue=&quot;Select&quot; list=&quot;liste2&quot;&gt;&lt;/s:select&gt;\n&lt;s:submit style=&quot;height:30px; width:125px&quot; name=&quot;Valider&quot; value=&quot;Valider&quot;&gt;&lt;/s:submit&gt;\n&lt;/s:form&gt;\n</code></pre>\n<p>any help please ?</p>\n<p><strong>EDIT :</strong></p>\n<p>I want to pass a selected value from autocomplete field</p>\n<pre><code>$(document).ready(function() \n    {\n      $('#field1').change(function()\n        {\n\n          var selectedValue = $('#field1 option:selected').val();\n            if ($.trim(selectedValue).length &gt; 0) \n             {\n            \n                $.ajax(\n                {\n                    type: 'POST', \n                    url: 'action/action1',\n                    data: { field1 : selectedValue},\n                    dataType: 'json',\n                    async: false ,\n                    contentType: 'application/json; charset=utf-8',\n                    success: function(){window.alert(selectedValue);}\n        \n                 });\n\n            }\n\n        }\n      );\n\n      \n    });\n</code></pre>\n<p><strong>EDIT 2:</strong></p>\n<p><strong>action :</strong></p>\n<pre><code>public String query()\n{\n    if( !field1.equals(&quot;&quot;) || field1 != null)\n    {\n        Service = new ServiceImpl();\n        v = new Vehicule();\n        v= Service.getVehiculeByImmat(field1);\n        map.put(field2.toString(), v.getfield2().toString());\n        map.put(date.toString(), v.getdate().toString());\n\n    }\n                return &quot;success&quot;;\n\n}\n</code></pre>\n<p><strong><code>struts.xml:</code></strong></p>\n<pre><code>&lt;action name=&quot;query&quot; class=&quot;action.GestionVehicules&quot; method=&quot;query&quot;&gt;\n          &lt;result name=&quot;success&quot; type=&quot;json&quot;&gt;map&lt;/result&gt;\n    &lt;/action&gt;\n</code></pre>\n<p><strong>ajax :</strong></p>\n<pre><code>$(document).ready(function() \n    {\n      $('#field1').change(function()\n        {\n\n          var selectedValue = $('#field1').val();\n            if ($.trim(selectedValue).length &gt; 0) \n             {\n            \n                $.ajax(\n                {\n                    type: 'POST', \n                    url: '&lt;s:url action=&quot;query&quot;/&gt;',\n                    data: { field1: selectedValue},\n                    dataType: 'json',\n                    success: function(){alert(data);}\n        \n                 });\n                \n            }\n          \n\n        }\n      );\n\n      \n    });    \n</code></pre>\n<p>is that true ?</p>\n<p><em><strong>EDIT 3 :</strong></em></p>\n<p><strong>javascript :</strong></p>\n<pre><code>$(document).ready(function() \n    {\n      $('#field1').change(function()\n        {\n\n          \n          var selectedValue = $('#field1').val();\n            if ($.trim(selectedValue).length &gt; 0) \n             {\n          alert(selectedValue);\n                $.ajax(\n                {\n                    type: 'POST', \n                    url  : &quot;&lt;s:url action='query'/&gt;&quot;,\n                    dataType : 'json',\n                    data: { field1: selectedValue},\n                    success: function(result){\n                    // alert(result);\n                     if (result.length &gt; 0) {\n                            //code to put hashmap values into textfield\n\n                                //put map.get(&quot;key1&quot;) into textfield1 ....\n\n                            });\n                        }\n                     \n                },\n        \n                 });\n\n            }\n\n        }\n      );\n\n      \n    });\n</code></pre>\n<p><strong>EDIT 4 :</strong></p>\n<p><strong>javascript :</strong></p>\n<pre><code>  $.each(result, function(key,value)\n        {                               $(&quot;#&quot;+key).val(value); // how can it works with dropdown list ??\n    } );\n    \n\n                                       \n\n                \n</code></pre>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":8547271,"reputation":41,"user_id":6405427,"display_name":"Branimir"},"score":0,"creation_date":1696248686,"post_id":77215292,"comment_id":136124755,"body_markdown":"@Jorn No, I am not running the application inside my database. The jar is compiled locally and then transferred to the server hosting the database (Location: /home/usr/javastuff). Once the jar is uploaded, I run the load method from the database by using Oracle SQL developer.","body":"@Jorn No, I am not running the application inside my database. The jar is compiled locally and then transferred to the server hosting the database (Location: /home/usr/javastuff). Once the jar is uploaded, I run the load method from the database by using Oracle SQL developer."}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696250188,"creation_date":1696250188,"answer_id":77215612,"question_id":77215292,"body_markdown":"This should not be an issue. If it creates 350 schema objects then that is what it requires to load the JAR into the database and you just have to accept that.\r\n\r\n - If you only use them once then use them and then unload them.\r\n - If you cannot track all the objects then create a separate user (and schema) and load the JAR into that user/schema and grant the `EXECUTE` privileges on the functions that you need to call to the main user/schema and then drop that temporary user afterwards.\r\n - If the issue is that you are using dynamic SQL and reading the objects from the schema&#39;s data dictionary and the extra 350 items is causing the performance issues then add filters to exclude the java objects when you query the data dictionary *(Note: this would not be an Oracle problem, it would be a problem with your dynamic SQL code)*.\r\n - If your server does get performance issues from having 350 extra objects in the schema (and it is not related to you querying the data dictionary) then open a ticket with Oracle support (under your support contract) and get them to address the performance issues.\r\n","title":"How to load dependencies / uber jar as a single java database object","body":"<p>This should not be an issue. If it creates 350 schema objects then that is what it requires to load the JAR into the database and you just have to accept that.</p>\n<ul>\n<li>If you only use them once then use them and then unload them.</li>\n<li>If you cannot track all the objects then create a separate user (and schema) and load the JAR into that user/schema and grant the <code>EXECUTE</code> privileges on the functions that you need to call to the main user/schema and then drop that temporary user afterwards.</li>\n<li>If the issue is that you are using dynamic SQL and reading the objects from the schema's data dictionary and the extra 350 items is causing the performance issues then add filters to exclude the java objects when you query the data dictionary <em>(Note: this would not be an Oracle problem, it would be a problem with your dynamic SQL code)</em>.</li>\n<li>If your server does get performance issues from having 350 extra objects in the schema (and it is not related to you querying the data dictionary) then open a ticket with Oracle support (under your support contract) and get them to address the performance issues.</li>\n</ul>\n"}],"owner":{"account_id":8547271,"reputation":41,"user_id":6405427,"display_name":"Branimir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77215612,"answer_count":1,"score":-1,"last_activity_date":1696250188,"creation_date":1696246868,"question_id":77215292,"body_markdown":"Simply put, my issue is the following: I wish to load Java classes as individual compact objects and then publish them, but these classes have dependencies, which causes issues with the DB. Namely, if I tried loading uber/fat jars through this command:\r\n```\r\nCALL dbms_java.loadjava(&#39;-r -v -f /home/usr/javastuff/Application.jar&#39;);\r\n```\r\n\r\nI get +350 Java database (schema) objects, causing issues with the server (sometimes; it&#39;s not relevant) and it becomes chaotic to manage so many objects from a single dependency. If I had even more dependencies, the number of Java database objects would skyrocket. To give an example, imagine this Java class (**ojdbc** is just a placeholder):\r\n\r\n```java\r\nimport java.sql.SQLException;\r\nimport oracle.sql.BLOB;\r\n\r\npublic class Application {\r\n    public static Long BlobLength(BLOB myBlob) throws SQLException {\r\n        // Do Logic\r\n        return myBlob.getLength();\r\n    }\r\n}\r\n```\r\n\r\nI wish for this type of method to be loadable and publishable without incurring thousands of Java database objects from its dependencies. In other words, I want these methods to come from self-contained units, for reuse and organizational purposes. Uploading every dependency jar individually is also acceptable, if that is possible through Java resources or alike. \r\n\r\nI welcome any solution (ie using oracle packages), if it&#39;s a weird work-around. I just want to avoid having thousands of useless Java objects in my DB from dependencies I&#39;ve only used once.","title":"How to load dependencies / uber jar as a single java database object","body":"<p>Simply put, my issue is the following: I wish to load Java classes as individual compact objects and then publish them, but these classes have dependencies, which causes issues with the DB. Namely, if I tried loading uber/fat jars through this command:</p>\n<pre><code>CALL dbms_java.loadjava('-r -v -f /home/usr/javastuff/Application.jar');\n</code></pre>\n<p>I get +350 Java database (schema) objects, causing issues with the server (sometimes; it's not relevant) and it becomes chaotic to manage so many objects from a single dependency. If I had even more dependencies, the number of Java database objects would skyrocket. To give an example, imagine this Java class (<strong>ojdbc</strong> is just a placeholder):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.SQLException;\nimport oracle.sql.BLOB;\n\npublic class Application {\n    public static Long BlobLength(BLOB myBlob) throws SQLException {\n        // Do Logic\n        return myBlob.getLength();\n    }\n}\n</code></pre>\n<p>I wish for this type of method to be loadable and publishable without incurring thousands of Java database objects from its dependencies. In other words, I want these methods to come from self-contained units, for reuse and organizational purposes. Uploading every dependency jar individually is also acceptable, if that is possible through Java resources or alike.</p>\n<p>I welcome any solution (ie using oracle packages), if it's a weird work-around. I just want to avoid having thousands of useless Java objects in my DB from dependencies I've only used once.</p>\n"},{"tags":["java","spring","config"],"comments":[{"owner":{"account_id":10463908,"reputation":1211,"user_id":7785738,"display_name":"Artem Ptushkin"},"score":0,"creation_date":1696249983,"post_id":33314390,"comment_id":136124971,"body_markdown":"2023 - it&#39;s not possible","body":"2023 - it&#39;s not possible"}],"answers":[{"tags":[],"owner":{"account_id":10463908,"reputation":1211,"user_id":7785738,"display_name":"Artem Ptushkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696250145,"creation_date":1696250145,"answer_id":77215608,"question_id":33314390,"body_markdown":"My workaround is to use `ApplicationContextInitializer` and define the order explicitly:\r\n\r\n\r\n```kotlin\r\nopen class OverrideApplicationContextInitializer: ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n    override fun initialize(applicationContext: ConfigurableApplicationContext) {\r\n        if (applicationContext.environment.activeProfiles.contains(&quot;prod&quot;)) {\r\n            try {\r\n                val properties = Properties()\r\n                properties.load(this.javaClass.getResourceAsStream(&quot;/my-prod.properties&quot;))                applicationContext.environment.propertySources.addLast(PropertiesPropertySource(&quot;my-prod&quot;, properties))\r\n            } catch (e: IOException) {\r\n                logger.error(e.message, e)\r\n            }\r\n        }\r\n    }\r\n\r\n    companion object {\r\n        private val logger = LoggerFactory.getLogger(OverrideApplicationContextInitializer::class.java)\r\n    }\r\n}\r\n```","title":"How to override the Spring @PropertySource order?","body":"<p>My workaround is to use <code>ApplicationContextInitializer</code> and define the order explicitly:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>open class OverrideApplicationContextInitializer: ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n    override fun initialize(applicationContext: ConfigurableApplicationContext) {\n        if (applicationContext.environment.activeProfiles.contains(&quot;prod&quot;)) {\n            try {\n                val properties = Properties()\n                properties.load(this.javaClass.getResourceAsStream(&quot;/my-prod.properties&quot;))                applicationContext.environment.propertySources.addLast(PropertiesPropertySource(&quot;my-prod&quot;, properties))\n            } catch (e: IOException) {\n                logger.error(e.message, e)\n            }\n        }\n    }\n\n    companion object {\n        private val logger = LoggerFactory.getLogger(OverrideApplicationContextInitializer::class.java)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2280156,"reputation":970,"user_id":2005443,"accept_rate":14,"display_name":"Jaxox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1696250145,"creation_date":1445658969,"question_id":33314390,"body_markdown":"The problem is that I have the database config file that has the &quot;user&quot; value and I am using the PropertySource and try to get that value but the SystemEnvironmentPropertySource took the priority which has the &quot;user&quot; value as well. \r\n\r\nSo how can I specify for the DBConfiguration class to use the database.config&#39;s user? \r\n\r\nP.S - I can&#39;t change the config name as it is using by many applications.  \r\n\r\n\r\n    @PropertySource(&quot;file:/config/database.config&quot;)\r\n    public class DBConfiguration {\r\n      @Value(&quot;${user}&quot;)\r\n      private String user;\r\n      ..... \r\n    }","title":"How to override the Spring @PropertySource order?","body":"<p>The problem is that I have the database config file that has the \"user\" value and I am using the PropertySource and try to get that value but the SystemEnvironmentPropertySource took the priority which has the \"user\" value as well. </p>\n\n<p>So how can I specify for the DBConfiguration class to use the database.config's user? </p>\n\n<p>P.S - I can't change the config name as it is using by many applications.  </p>\n\n<pre><code>@PropertySource(\"file:/config/database.config\")\npublic class DBConfiguration {\n  @Value(\"${user}\")\n  private String user;\n  ..... \n}\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","apache-beam-io"],"owner":{"account_id":10374943,"reputation":1044,"user_id":7651397,"accept_rate":34,"display_name":"rish0097"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696250087,"creation_date":1696248858,"question_id":77215478,"body_markdown":"I have a PCollection of type &lt;KV&lt;String, MyCustomClass&gt;&gt;. \r\nThe key represents the topic ID of the pubsub topic where the value must be published. How can I achieve this using PubsubIO.writeAvros(MyCustomClass) method? \r\n\r\nI tried checking out the documentation but couldn&#39;t find anything really relevant.\r\n\r\nAlso is there a way to format the output using something like withFormatFunction() like we have for BigQueryIO? I need this so that I can pass only the value and not the entire KV to PubsubIO.\r\n\r\nThanks.","title":"Write KV Pcollection to Pubsub using PubsubIO.writeAvros()","body":"<p>I have a PCollection of type &lt;KV&lt;String, MyCustomClass&gt;&gt;.\nThe key represents the topic ID of the pubsub topic where the value must be published. How can I achieve this using PubsubIO.writeAvros(MyCustomClass) method?</p>\n<p>I tried checking out the documentation but couldn't find anything really relevant.</p>\n<p>Also is there a way to format the output using something like withFormatFunction() like we have for BigQueryIO? I need this so that I can pass only the value and not the entire KV to PubsubIO.</p>\n<p>Thanks.</p>\n"},{"tags":["java","jackson","deserialization","backslash"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1696240352,"post_id":77214154,"comment_id":136123326,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/77214154/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."},{"owner":{"account_id":17167775,"reputation":185,"user_id":12425619,"display_name":"Emil"},"score":0,"creation_date":1696241940,"post_id":77214154,"comment_id":136123589,"body_markdown":"I am not familiar with Jackson, so just a hunch: It could be that the backslash is handled as an indicator for escaping the following character (similar to how you use \\n to start a new line in a String). Have you tried using a double backslash \\\\? This would escape the second backslash and keep it in the object.","body":"I am not familiar with Jackson, so just a hunch: It could be that the backslash is handled as an indicator for escaping the following character (similar to how you use \\n to start a new line in a String). Have you tried using a double backslash \\\\? This would escape the second backslash and keep it in the object."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696249968,"creation_date":1696249968,"answer_id":77215589,"question_id":77214154,"body_markdown":"Backslash itself should be escaped so try to add another backslash into your Json - change `{\\&quot;Num\\&quot;:\\&quot;44566\\677\\&quot;}` to `{\\&quot;Num\\&quot;:\\&quot;44566\\\\677\\&quot;}`\r\n\r\nAlso, if you are interested you can use a simple `JsonUtils` class for serializing and deserializing simple JSON to/from POJO. JsonUtils is a thin wrapper over `ObjectMapper` class. your code would become a one liner:\r\n\r\n\tMap&lt;String, Object&gt; map = JsonUtils.readObjectFromJsonString(json, Map.class);`\r\n`JsonUtils` class comes with Open Source MjgntUtils java library written and maintained by me. Here is [JsonUtils Javadoc][1]. You can get the library as [maven artifact][2] or from [Github][3] - with source code and Javadoc\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"Jackson :loosing backslash from json string during deserialiastion","body":"<p>Backslash itself should be escaped so try to add another backslash into your Json - change <code>{\\&quot;Num\\&quot;:\\&quot;44566\\677\\&quot;}</code> to <code>{\\&quot;Num\\&quot;:\\&quot;44566\\\\677\\&quot;}</code></p>\n<p>Also, if you are interested you can use a simple <code>JsonUtils</code> class for serializing and deserializing simple JSON to/from POJO. JsonUtils is a thin wrapper over <code>ObjectMapper</code> class. your code would become a one liner:</p>\n<pre><code>Map&lt;String, Object&gt; map = JsonUtils.readObjectFromJsonString(json, Map.class);`\n</code></pre>\n<p><code>JsonUtils</code> class comes with Open Source MjgntUtils java library written and maintained by me. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">JsonUtils Javadoc</a>. You can get the library as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">maven artifact</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> - with source code and Javadoc</p>\n"}],"owner":{"account_id":27832085,"reputation":1,"user_id":21250307,"display_name":"Asharani Murugesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696249968,"creation_date":1696235443,"question_id":77214154,"body_markdown":"Unable to retain the backslash in the java object after deserialtion\r\n\r\nI have below json\r\n`{\\&quot;Num\\&quot;:\\&quot;44566\\677\\&quot;}`&quot;\r\n\r\nWhen I deserialise this to object\r\n\r\nI am loosing the backslash\r\n\r\nExpected :6787\\32433\r\nActual:678732433\r\n\r\n\r\n\r\n\r\nThis is what I tried\r\n\r\n    String json = &quot;{\\&quot;num\\&quot;:\\&quot;6787\\32432&quot;}&quot;;\r\n    \r\n    \r\n    Objectmapper obj = new Objectmapper();\r\n    \r\n    \r\n    obj.enable(ALLOW_BACKSLASH_ESCAPING_ANY_CAHATCTER);\r\n    \r\n    \r\n    obj.readvalue(json, new Typereferenxe&lt;Map&lt;String,String&gt;&gt;(){}));\r\n\r\n","title":"Jackson :loosing backslash from json string during deserialiastion","body":"<p>Unable to retain the backslash in the java object after deserialtion</p>\n<p>I have below json\n<code>{\\&quot;Num\\&quot;:\\&quot;44566\\677\\&quot;}</code>&quot;</p>\n<p>When I deserialise this to object</p>\n<p>I am loosing the backslash</p>\n<p>Expected :6787\\32433\nActual:678732433</p>\n<p>This is what I tried</p>\n<pre><code>String json = &quot;{\\&quot;num\\&quot;:\\&quot;6787\\32432&quot;}&quot;;\n\n\nObjectmapper obj = new Objectmapper();\n\n\nobj.enable(ALLOW_BACKSLASH_ESCAPING_ANY_CAHATCTER);\n\n\nobj.readvalue(json, new Typereferenxe&lt;Map&lt;String,String&gt;&gt;(){}));\n</code></pre>\n"},{"tags":["java","wildfly","quartz-scheduler","restart"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1696255583,"post_id":77215514,"comment_id":136126070,"body_markdown":"Instead of polling for health status you should try to understand why it fails.  This could help: https://nurkiewicz.com/2012/04/quartz-scheduler-misfire-instructions.html","body":"Instead of polling for health status you should try to understand why it fails.  This could help: <a href=\"https://nurkiewicz.com/2012/04/quartz-scheduler-misfire-instructions.html\" rel=\"nofollow noreferrer\">nurkiewicz.com/2012/04/&hellip;</a>"},{"owner":{"account_id":5402385,"reputation":61,"user_id":4301873,"display_name":"Terraviper-5"},"score":0,"creation_date":1696320573,"post_id":77215514,"comment_id":136134446,"body_markdown":"@Pino That is, of course, primary goal, but since it happens so rarely we cannot just wait until it happens again to do a thread dump and see what it can tell us. Quartz in my application fires multiple jobs every minute of every day that work ok (until the mentioned sudden stop every now and then), so it must be something tricky. Thank you for the article","body":"@Pino That is, of course, primary goal, but since it happens so rarely we cannot just wait until it happens again to do a thread dump and see what it can tell us. Quartz in my application fires multiple jobs every minute of every day that work ok (until the mentioned sudden stop every now and then), so it must be something tricky. Thank you for the article"}],"owner":{"account_id":5402385,"reputation":61,"user_id":4301873,"display_name":"Terraviper-5"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696249493,"creation_date":1696249199,"question_id":77215514,"body_markdown":"I have been using Quartz Scheduler in my Java Wildfly backend application for 2 years now (and before that in another project). I use it to trigger integrations with other systems on a minute/hourly/daily interval (reading values etc). In the past 2 months the integrations randomly stopped three times. It looks like Quartz randomly died. Logs don&#39;t show anything other than log entries from those integrations just stopping suddenly. While waiting for another occurrence to happen to do a ThreadDump, I really want to avoid data not being read on production environment. Is there any proper way to detect that Quartz has died and restarting it from within Wildfly server?","title":"Proper way to detect and revive Quartz scheduler if it suddenly dies","body":"<p>I have been using Quartz Scheduler in my Java Wildfly backend application for 2 years now (and before that in another project). I use it to trigger integrations with other systems on a minute/hourly/daily interval (reading values etc). In the past 2 months the integrations randomly stopped three times. It looks like Quartz randomly died. Logs don't show anything other than log entries from those integrations just stopping suddenly. While waiting for another occurrence to happen to do a ThreadDump, I really want to avoid data not being read on production environment. Is there any proper way to detect that Quartz has died and restarting it from within Wildfly server?</p>\n"},{"tags":["java","android-fragments"],"owner":{"account_id":29580392,"reputation":1,"user_id":22670305,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696249160,"creation_date":1696249160,"question_id":77215508,"body_markdown":"I want to design the GUI in my app by exchanging my fragments. But when I replace the fragment using the fragment manager, only the new fragment is placed under the old one.\r\n\r\nHere are my codes:\r\nJava from first fragment\r\n\r\n```\r\npackage com.example.digiramm.ui.home;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport com.example.digiramm.R;\r\nimport com.example.digiramm.databinding.FragmentHomeBinding;\r\n\r\npublic class HomeFragment extends Fragment {\r\n\r\n    private FragmentHomeBinding binding;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n\r\n\r\n        binding = FragmentHomeBinding.inflate(inflater,container,false);\r\n        return binding.getRoot();\r\n\r\n    }\r\n\r\n    public void onViewCreated(View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view,savedInstanceState);\r\n\r\n\r\n        binding.button1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Fragment secondfragment = new SecondFragment();\r\n                FragmentManager fragmentManager = getActivity().getSupportFragmentManager();\r\n                FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n                fragmentTransaction.replace(R.id.framelayoutDiagramm, secondfragment,null);\r\n                fragmentTransaction.addToBackStack(&quot;name&quot;);\r\n                fragmentTransaction.commit();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        binding = null;\r\n        super.onDestroyView();\r\n\r\n    }\r\n}\r\n\r\n```\r\nXML from first fragment\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/framelayoutDiagramm&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView6&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:contentDescription=&quot;@string/hintergrundBild&quot;\r\n        android:scaleType=&quot;fitXY&quot;\r\n        android:src=&quot;@drawable/hintergrund&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;540dp&quot;\r\n        android:layout_marginTop=&quot;100dp&quot;\r\n        android:alpha=&quot;0.8&quot;\r\n        android:breakStrategy=&quot;high_quality&quot;\r\n        android:insetTop=&quot;0dp&quot;\r\n        android:insetBottom=&quot;0dp&quot;\r\n        android:minWidth=&quot;300dp&quot;\r\n        android:minHeight=&quot;300dp&quot;\r\n        android:text=&quot;@string/start&quot;\r\n        android:textSize=&quot;34sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:cornerRadius=&quot;75dp&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;120dp&quot;\r\n        android:layout_marginTop=&quot;100dp&quot;\r\n        android:alpha=&quot;0.8&quot;\r\n        android:breakStrategy=&quot;high_quality&quot;\r\n        android:insetTop=&quot;0dp&quot;\r\n        android:insetBottom=&quot;0dp&quot;\r\n        android:minWidth=&quot;300dp&quot;\r\n        android:minHeight=&quot;300dp&quot;\r\n        android:text=&quot;@string/gef&#252;hrterLernweg&quot;\r\n        android:textSize=&quot;34sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:cornerRadius=&quot;75dp&quot;\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\nJava from second fragment\r\n\r\n```\r\npackage com.example.digiramm.ui.home;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.example.digiramm.R;\r\nimport com.example.digiramm.databinding.FragmentHomeBinding;\r\n\r\n\r\npublic class SecondFragment extends Fragment {\r\n\r\n    public SecondFragment() {\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        return inflater.inflate(R.layout.fragment_second, container, false);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onViewCreated(View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n    }\r\n\r\n}\r\n\r\n```\r\nXML from second fragment\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/framelayoutDiagramm2&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:contentDescription=&quot;@string/hintergrundBild&quot;\r\n        android:scaleType=&quot;fitXY&quot;\r\n        android:src=&quot;@drawable/hintergrund&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;540dp&quot;\r\n        android:layout_marginTop=&quot;100dp&quot;\r\n        android:alpha=&quot;0.8&quot;\r\n        android:breakStrategy=&quot;high_quality&quot;\r\n        android:insetTop=&quot;0dp&quot;\r\n        android:insetBottom=&quot;0dp&quot;\r\n        android:minWidth=&quot;300dp&quot;\r\n        android:minHeight=&quot;300dp&quot;\r\n        android:text=&quot;@string/start2&quot;\r\n        android:textSize=&quot;34sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:cornerRadius=&quot;75dp&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button4&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;120dp&quot;\r\n        android:layout_marginTop=&quot;100dp&quot;\r\n        android:alpha=&quot;0.8&quot;\r\n        android:breakStrategy=&quot;high_quality&quot;\r\n        android:minWidth=&quot;300dp&quot;\r\n        android:minHeight=&quot;300dp&quot;\r\n        android:text=&quot;@string/gef&#252;hrterLernweg2&quot;\r\n        android:textSize=&quot;34sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:cornerRadius=&quot;75dp&quot;/&gt;\r\n\r\n\r\n\r\n&lt;/FrameLayout&gt;\r\n\r\n```\r\nCan someone show me the reason why the fragments are placed on top of each other and not replaced?","title":"Java: Fragments are displayed on top of each other (Android)","body":"<p>I want to design the GUI in my app by exchanging my fragments. But when I replace the fragment using the fragment manager, only the new fragment is placed under the old one.</p>\n<p>Here are my codes:\nJava from first fragment</p>\n<pre><code>package com.example.digiramm.ui.home;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport com.example.digiramm.R;\nimport com.example.digiramm.databinding.FragmentHomeBinding;\n\npublic class HomeFragment extends Fragment {\n\n    private FragmentHomeBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n\n        binding = FragmentHomeBinding.inflate(inflater,container,false);\n        return binding.getRoot();\n\n    }\n\n    public void onViewCreated(View view, Bundle savedInstanceState) {\n        super.onViewCreated(view,savedInstanceState);\n\n\n        binding.button1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Fragment secondfragment = new SecondFragment();\n                FragmentManager fragmentManager = getActivity().getSupportFragmentManager();\n                FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n                fragmentTransaction.replace(R.id.framelayoutDiagramm, secondfragment,null);\n                fragmentTransaction.addToBackStack(&quot;name&quot;);\n                fragmentTransaction.commit();\n\n            }\n        });\n    }\n\n    @Override\n    public void onDestroyView() {\n        binding = null;\n        super.onDestroyView();\n\n    }\n}\n\n</code></pre>\n<p>XML from first fragment</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/framelayoutDiagramm&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView6&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:contentDescription=&quot;@string/hintergrundBild&quot;\n        android:scaleType=&quot;fitXY&quot;\n        android:src=&quot;@drawable/hintergrund&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button1&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;540dp&quot;\n        android:layout_marginTop=&quot;100dp&quot;\n        android:alpha=&quot;0.8&quot;\n        android:breakStrategy=&quot;high_quality&quot;\n        android:insetTop=&quot;0dp&quot;\n        android:insetBottom=&quot;0dp&quot;\n        android:minWidth=&quot;300dp&quot;\n        android:minHeight=&quot;300dp&quot;\n        android:text=&quot;@string/start&quot;\n        android:textSize=&quot;34sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:cornerRadius=&quot;75dp&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;120dp&quot;\n        android:layout_marginTop=&quot;100dp&quot;\n        android:alpha=&quot;0.8&quot;\n        android:breakStrategy=&quot;high_quality&quot;\n        android:insetTop=&quot;0dp&quot;\n        android:insetBottom=&quot;0dp&quot;\n        android:minWidth=&quot;300dp&quot;\n        android:minHeight=&quot;300dp&quot;\n        android:text=&quot;@string/geführterLernweg&quot;\n        android:textSize=&quot;34sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:cornerRadius=&quot;75dp&quot;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>Java from second fragment</p>\n<pre><code>package com.example.digiramm.ui.home;\n\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport com.example.digiramm.R;\nimport com.example.digiramm.databinding.FragmentHomeBinding;\n\n\npublic class SecondFragment extends Fragment {\n\n    public SecondFragment() {\n    }\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        return inflater.inflate(R.layout.fragment_second, container, false);\n    }\n\n\n    @Override\n    public void onViewCreated(View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n    }\n\n}\n\n</code></pre>\n<p>XML from second fragment</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/framelayoutDiagramm2&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:contentDescription=&quot;@string/hintergrundBild&quot;\n        android:scaleType=&quot;fitXY&quot;\n        android:src=&quot;@drawable/hintergrund&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;540dp&quot;\n        android:layout_marginTop=&quot;100dp&quot;\n        android:alpha=&quot;0.8&quot;\n        android:breakStrategy=&quot;high_quality&quot;\n        android:insetTop=&quot;0dp&quot;\n        android:insetBottom=&quot;0dp&quot;\n        android:minWidth=&quot;300dp&quot;\n        android:minHeight=&quot;300dp&quot;\n        android:text=&quot;@string/start2&quot;\n        android:textSize=&quot;34sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:cornerRadius=&quot;75dp&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button4&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;120dp&quot;\n        android:layout_marginTop=&quot;100dp&quot;\n        android:alpha=&quot;0.8&quot;\n        android:breakStrategy=&quot;high_quality&quot;\n        android:minWidth=&quot;300dp&quot;\n        android:minHeight=&quot;300dp&quot;\n        android:text=&quot;@string/geführterLernweg2&quot;\n        android:textSize=&quot;34sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:cornerRadius=&quot;75dp&quot;/&gt;\n\n\n\n&lt;/FrameLayout&gt;\n\n</code></pre>\n<p>Can someone show me the reason why the fragments are placed on top of each other and not replaced?</p>\n"},{"tags":["java","excel","pdf","playframework-2.0","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":17504779,"reputation":468,"user_id":12694268,"display_name":"Harshad Panmand"},"score":2,"creation_date":1624522256,"post_id":26056716,"comment_id":120383125,"body_markdown":"Facing this issue:                                    The supplied data appears to be in the Office 2007+ XML. You are calling the part of POI that deals with OLE2 Office Documents. You need to call a different part of POI to process this data (eg XSSF instead of HSSF)","body":"Facing this issue:                                    The supplied data appears to be in the Office 2007+ XML. You are calling the part of POI that deals with OLE2 Office Documents. You need to call a different part of POI to process this data (eg XSSF instead of HSSF)"}],"tags":[],"owner":{"account_id":5038137,"reputation":484,"user_id":4046372,"display_name":"santhosh"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1411725003,"creation_date":1411725003,"answer_id":26056716,"question_id":26056485,"body_markdown":"You would need the following Java libraries and associated JAR files for the program to work.\r\n**POI v3.8\r\niText v5.3.4**\r\n\r\nTry this Example to convert XLS to PDF\r\n\r\nThe complete Java code that accepts Excel spreadsheet data as an input and transforms that to a PDF table data is provided below:\r\n\r\n   \r\n\r\n     import java.io.FileInputStream;\r\n        import java.io.*;\r\n        import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n        import org.apache.poi.hssf.usermodel.HSSFSheet;\r\n        import org.apache.poi.ss.usermodel.*;\r\n        import java.util.Iterator;\r\n       import com.itextpdf.text.*;\r\n        import com.itextpdf.text.pdf.*;\r\n        \r\n        public class excel2pdf {  \r\n                public static void main(String[] args) throws Exception{\r\n                      \r\n                        FileInputStream input_document = new FileInputStream(new File(&quot;C:\\\\excel_to_pdf.xls&quot;));\r\n                        // Read workbook into HSSFWorkbook\r\n                        HSSFWorkbook my_xls_workbook = new HSSFWorkbook(input_document); \r\n                        // Read worksheet into HSSFSheet\r\n                        HSSFSheet my_worksheet = my_xls_workbook.getSheetAt(0); \r\n                        // To iterate over the rows\r\n                        Iterator&lt;Row&gt; rowIterator = my_worksheet.iterator();\r\n                        //We will create output PDF document objects at this point\r\n                        Document iText_xls_2_pdf = new Document();\r\n                        PdfWriter.getInstance(iText_xls_2_pdf, new FileOutputStream(&quot;Excel2PDF_Output.pdf&quot;));\r\n                        iText_xls_2_pdf.open();\r\n                        //we have two columns in the Excel sheet, so we create a PDF table with two columns\r\n                        //Note: There are ways to make this dynamic in nature, if you want to.\r\n                        PdfPTable my_table = new PdfPTable(2);\r\n                        //We will use the object below to dynamically add new data to the table\r\n                        PdfPCell table_cell;\r\n                        //Loop through rows.\r\n                        while(rowIterator.hasNext()) {\r\n                                Row row = rowIterator.next(); \r\n                                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n                                        while(cellIterator.hasNext()) {\r\n                                                Cell cell = cellIterator.next(); //Fetch CELL\r\n                                                switch(cell.getCellType()) { //Identify CELL type\r\n                                                        //you need to add more code here based on\r\n                                                        //your requirement / transformations\r\n                                                case Cell.CELL_TYPE_STRING:\r\n                                                        //Push the data from Excel to PDF Cell\r\n                                                         table_cell=new PdfPCell(new Phrase(cell.getStringCellValue()));\r\n                                                         //feel free to move the code below to suit to your needs\r\n                                                         my_table.addCell(table_cell);\r\n                                                        break;\r\n                                                }\r\n                                                //next line\r\n                                        }\r\n                        \r\n                        }\r\n                        //Finally add the table to PDF document\r\n                        iText_xls_2_pdf.add(my_table);                       \r\n                        iText_xls_2_pdf.close();                \r\n                        //we created our pdf file..\r\n                        input_document.close(); //close xls\r\n                }\r\n        }\r\n\r\ni hope this will help you","title":"Java Apache POI Excel save as PDF","body":"<p>You would need the following Java libraries and associated JAR files for the program to work.\n<strong>POI v3.8\niText v5.3.4</strong></p>\n\n<p>Try this Example to convert XLS to PDF</p>\n\n<p>The complete Java code that accepts Excel spreadsheet data as an input and transforms that to a PDF table data is provided below:</p>\n\n<pre><code> import java.io.FileInputStream;\n    import java.io.*;\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\n    import org.apache.poi.hssf.usermodel.HSSFSheet;\n    import org.apache.poi.ss.usermodel.*;\n    import java.util.Iterator;\n   import com.itextpdf.text.*;\n    import com.itextpdf.text.pdf.*;\n\n    public class excel2pdf {  \n            public static void main(String[] args) throws Exception{\n\n                    FileInputStream input_document = new FileInputStream(new File(\"C:\\\\excel_to_pdf.xls\"));\n                    // Read workbook into HSSFWorkbook\n                    HSSFWorkbook my_xls_workbook = new HSSFWorkbook(input_document); \n                    // Read worksheet into HSSFSheet\n                    HSSFSheet my_worksheet = my_xls_workbook.getSheetAt(0); \n                    // To iterate over the rows\n                    Iterator&lt;Row&gt; rowIterator = my_worksheet.iterator();\n                    //We will create output PDF document objects at this point\n                    Document iText_xls_2_pdf = new Document();\n                    PdfWriter.getInstance(iText_xls_2_pdf, new FileOutputStream(\"Excel2PDF_Output.pdf\"));\n                    iText_xls_2_pdf.open();\n                    //we have two columns in the Excel sheet, so we create a PDF table with two columns\n                    //Note: There are ways to make this dynamic in nature, if you want to.\n                    PdfPTable my_table = new PdfPTable(2);\n                    //We will use the object below to dynamically add new data to the table\n                    PdfPCell table_cell;\n                    //Loop through rows.\n                    while(rowIterator.hasNext()) {\n                            Row row = rowIterator.next(); \n                            Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n                                    while(cellIterator.hasNext()) {\n                                            Cell cell = cellIterator.next(); //Fetch CELL\n                                            switch(cell.getCellType()) { //Identify CELL type\n                                                    //you need to add more code here based on\n                                                    //your requirement / transformations\n                                            case Cell.CELL_TYPE_STRING:\n                                                    //Push the data from Excel to PDF Cell\n                                                     table_cell=new PdfPCell(new Phrase(cell.getStringCellValue()));\n                                                     //feel free to move the code below to suit to your needs\n                                                     my_table.addCell(table_cell);\n                                                    break;\n                                            }\n                                            //next line\n                                    }\n\n                    }\n                    //Finally add the table to PDF document\n                    iText_xls_2_pdf.add(my_table);                       \n                    iText_xls_2_pdf.close();                \n                    //we created our pdf file..\n                    input_document.close(); //close xls\n            }\n    }\n</code></pre>\n\n<p>i hope this will help you</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598983139,"creation_date":1598983139,"answer_id":63693056,"question_id":26056485,"body_markdown":"An alternative is to use a VB script and call it from Java.\r\n\r\nExample:\r\n\r\n### xl2pdf.vbs\r\n\r\n    Option Explicit\r\n    Dim objExcel, strExcelPath, objSheet\r\n    \r\n    strExcelPath = &quot;$XL_FILE&quot;\r\n    \r\n    Set objExcel = CreateObject(&quot;Excel.Application&quot;)\r\n    objExcel.WorkBooks.Open strExcelPath\r\n    Set objSheet = objExcel.ActiveWorkbook.Worksheets(1)\r\n    \r\n    objSheet.ExportAsFixedFormat 0, &quot;$PDF_FILE&quot;,0, 1, 0, , , 0\r\n    \r\n    objExcel.ActiveWorkbook.Close\r\n    objExcel.Application.Quit\r\n\r\n### In Java (actually kotlin, but easy to translate)\r\n\r\n    fun xl2pdf(xlFile: Path, pdfFile: Path, timeout: Long = 1, timeUnit: TimeUnit = TimeUnit.MINUTES) {\r\n      val tempScript = Files.createTempFile(&quot;script&quot;, &quot;.vbs&quot;)\r\n      val script = Files.readAllLines(Paths.get(&quot;xl2pdf.vbs&quot;))\r\n              .map { it.replace(&quot;\\$XL_FILE&quot;, &quot;$xlFile&quot;) }\r\n              .map { it.replace(&quot;\\$PDF_FILE&quot;, &quot;$pdfFile&quot;) }\r\n      Files.write(tempScript, script)\r\n      try {\r\n        val pb = ProcessBuilder(&quot;wscript&quot;, tempScript.toString())\r\n        val process = pb.start()\r\n        val success = process.waitFor(timeout, timeUnit)\r\n        if (!success) LOG.error(&quot;Could not print PDF within $timeout $timeUnit&quot;)\r\n      } catch (e: IOException) {\r\n        LOG.error(&quot;Error while printing Excel file to PDF&quot;, e)\r\n      }\r\n    }","title":"Java Apache POI Excel save as PDF","body":"<p>An alternative is to use a VB script and call it from Java.</p>\n<p>Example:</p>\n<h3>xl2pdf.vbs</h3>\n<pre><code>Option Explicit\nDim objExcel, strExcelPath, objSheet\n\nstrExcelPath = &quot;$XL_FILE&quot;\n\nSet objExcel = CreateObject(&quot;Excel.Application&quot;)\nobjExcel.WorkBooks.Open strExcelPath\nSet objSheet = objExcel.ActiveWorkbook.Worksheets(1)\n\nobjSheet.ExportAsFixedFormat 0, &quot;$PDF_FILE&quot;,0, 1, 0, , , 0\n\nobjExcel.ActiveWorkbook.Close\nobjExcel.Application.Quit\n</code></pre>\n<h3>In Java (actually kotlin, but easy to translate)</h3>\n<pre><code>fun xl2pdf(xlFile: Path, pdfFile: Path, timeout: Long = 1, timeUnit: TimeUnit = TimeUnit.MINUTES) {\n  val tempScript = Files.createTempFile(&quot;script&quot;, &quot;.vbs&quot;)\n  val script = Files.readAllLines(Paths.get(&quot;xl2pdf.vbs&quot;))\n          .map { it.replace(&quot;\\$XL_FILE&quot;, &quot;$xlFile&quot;) }\n          .map { it.replace(&quot;\\$PDF_FILE&quot;, &quot;$pdfFile&quot;) }\n  Files.write(tempScript, script)\n  try {\n    val pb = ProcessBuilder(&quot;wscript&quot;, tempScript.toString())\n    val process = pb.start()\n    val success = process.waitFor(timeout, timeUnit)\n    if (!success) LOG.error(&quot;Could not print PDF within $timeout $timeUnit&quot;)\n  } catch (e: IOException) {\n    LOG.error(&quot;Error while printing Excel file to PDF&quot;, e)\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":328781,"reputation":127,"user_id":651927,"accept_rate":67,"display_name":"nahiko"},"score":0,"creation_date":1680193162,"post_id":64174046,"comment_id":133860416,"body_markdown":"Great job! That helped me a lot with a project I have. \nvbs code can also be embeded in the java code so you do not need the vbs file, I did it, and now I think it is cleaner","body":"Great job! That helped me a lot with a project I have.  vbs code can also be embeded in the java code so you do not need the vbs file, I did it, and now I think it is cleaner"},{"owner":{"account_id":328781,"reputation":127,"user_id":651927,"accept_rate":67,"display_name":"nahiko"},"score":0,"creation_date":1680428068,"post_id":64174046,"comment_id":133893957,"body_markdown":"If your xlsx file was created/modified with Apache POI, and it had formula recalculation &quot;XSSFFormulaEvaluator.evaluateAllFormulaCells(wb)&quot; or &quot;wb.getCreationHelper().createFormulaEvaluator().evaluateAll()&quot; you won&#39;t be able to automate the &quot;ExportAsFixedFormat&quot; because it will ask to save changes, this is due to the lack of version tag in the POI modified xlsx file (https://stackoverflow.com/questions/37724642/how-to-get-rid-of-save-changes-prompt-on-xlsx-files-created-with-apache-poi-x) betatester answer.\nYou can first &quot;SaveAs&quot; your xlsx with another name, and then ExportAsFixedFormat that.","body":"If your xlsx file was created/modified with Apache POI, and it had formula recalculation &quot;XSSFFormulaEvaluator.evaluateAllFormulaCells(wb)&quot; or &quot;wb.getCreationHelper().createFormulaEvaluator().evaluateAll&zwnj;&#8203;()&quot; you won&#39;t be able to automate the &quot;ExportAsFixedFormat&quot; because it will ask to save changes, this is due to the lack of version tag in the POI modified xlsx file (<a href=\"https://stackoverflow.com/questions/37724642/how-to-get-rid-of-save-changes-prompt-on-xlsx-files-created-with-apache-poi-x\" title=\"how to get rid of save changes prompt on xlsx files created with apache poi x\">stackoverflow.com/questions/37724642/&hellip;</a>) betatester answer. You can first &quot;SaveAs&quot; your xlsx with another name, and then ExportAsFixedFormat that."}],"tags":[],"owner":{"account_id":19195746,"reputation":71,"user_id":14024476,"display_name":"Austin"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1601651671,"creation_date":1601651671,"answer_id":64174046,"question_id":26056485,"body_markdown":"# Add on to assylias&#39;s answer #\r\nThe code from assylias above was very helpful to me in solving this problem.  The answer from santhosh could be great if you don&#39;t care about the resulting PDF looking exactly like your excel pdf export would look.  However, if you are, say, filling out an excel template using Apache POI an then trying to export that while preserving its look and not writing a ton of code in iText just to try to get close to that look, then the VBS option is quite nice.\r\n\r\nI&#39;ll share a Java version of the kotlin assylias has above in case that helps anyone.  All credit to assylias for the general form of the solution.\r\n\r\n# In Java: #\r\n\r\n\ttry {\r\n\t\t//create a temporary file and grab the path for it\r\n\t\tPath tempScript = Files.createTempFile(&quot;script&quot;, &quot;.vbs&quot;);\r\n\r\n\t\t//read all the lines of the .vbs script into memory as a list\r\n        //here we pull from the resources of a Gradle build, where the vbs script is stored\r\n\t\tSystem.out.println(&quot;Path for vbs script is: &#39;&quot; + Main.class.getResource(&quot;xl2pdf.vbs&quot;).toString().substring(6) + &quot;&#39;&quot;);\r\n\t\tList&lt;String&gt; script = Files.readAllLines(Paths.get(Main.class.getResource(&quot;xl2pdf.vbs&quot;).toString().substring(6)));\r\n\r\n\t\t// append test.xlsm for file name. savePath was passed to this function\r\n\t\tString templateFile = savePath + &quot;\\\\test.xlsm&quot;;\r\n\t\ttemplateFile = templateFile.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n\t\tString pdfFile = savePath + &quot;\\\\test.pdf&quot;;\r\n\t\tpdfFile = pdfFile.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n\t\tSystem.out.println(&quot;templateFile is: &quot; + templateFile);\r\n\t\tSystem.out.println(&quot;pdfFile is: &quot; + pdfFile);\r\n\r\n\t\t//replace the placeholders in the vbs script with the chosen file paths\r\n\t\tfor (int i = 0; i &lt; script.size(); i++) {\r\n\t\t\tscript.set(i, script.get(i).replaceAll(&quot;XL_FILE&quot;, templateFile));\r\n\t\t\tscript.set(i, script.get(i).replaceAll(&quot;PDF_FILE&quot;, pdfFile));\r\n\t\t\tSystem.out.println(&quot;Line &quot; + i + &quot; is: &quot; + script.get(i));\r\n\t\t}\r\n\r\n\t\t//write the modified code to the temporary script\r\n\t\tFiles.write(tempScript, script);\r\n\r\n\t\t//create a processBuilder for starting an operating system process\r\n\t\tProcessBuilder pb = new ProcessBuilder(&quot;wscript&quot;, tempScript.toString());\r\n\r\n\t\t//start the process on the operating system\r\n\t\tProcess process = pb.start();\r\n\r\n\t\t//tell the process how long to wait for timeout\r\n\t\tBoolean success = process.waitFor(timeout, minutes);\r\n\t\tif(!success) {\r\n\t\t\tSystem.out.println(&quot;Error: Could not print PDF within &quot; + timeout + minutes);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Process to run visual basic script for pdf conversion succeeded.&quot;);\r\n\t\t}\r\n\t\t\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t\tAlert saveAsPdfAlert = new Alert(AlertType.ERROR);\r\n\t\tsaveAsPdfAlert.setTitle(&quot;ERROR: Error converting to pdf.&quot;);\r\n\t\tsaveAsPdfAlert.setHeaderText(&quot;Exception message is:&quot;);\r\n\t\tsaveAsPdfAlert.setContentText(e.getMessage());\r\n\t\tsaveAsPdfAlert.showAndWait();  \r\n\t}\r\n\r\n# VBS: #\r\n\r\n    Option Explicit\r\n    Dim objExcel, strExcelPath, objSheet\r\n    \r\n    strExcelPath = &quot;XL_FILE&quot;\r\n    \r\n    \r\n    Set objExcel = CreateObject(&quot;Excel.Application&quot;)\r\n    objExcel.WorkBooks.Open strExcelPath\r\n    Set objSheet = objExcel.ActiveWorkbook.Worksheets(1)\r\n    \r\n    objSheet.ExportAsFixedFormat 0, &quot;PDF_FILE&quot;,0, 1, 0, , , 0\r\n    \r\n    objExcel.ActiveWorkbook.Close\r\n    objExcel.Application.Quit","title":"Java Apache POI Excel save as PDF","body":"<h1>Add on to assylias's answer</h1>\n<p>The code from assylias above was very helpful to me in solving this problem.  The answer from santhosh could be great if you don't care about the resulting PDF looking exactly like your excel pdf export would look.  However, if you are, say, filling out an excel template using Apache POI an then trying to export that while preserving its look and not writing a ton of code in iText just to try to get close to that look, then the VBS option is quite nice.</p>\n<p>I'll share a Java version of the kotlin assylias has above in case that helps anyone.  All credit to assylias for the general form of the solution.</p>\n<h1>In Java:</h1>\n<pre><code>try {\n    //create a temporary file and grab the path for it\n    Path tempScript = Files.createTempFile(&quot;script&quot;, &quot;.vbs&quot;);\n\n    //read all the lines of the .vbs script into memory as a list\n    //here we pull from the resources of a Gradle build, where the vbs script is stored\n    System.out.println(&quot;Path for vbs script is: '&quot; + Main.class.getResource(&quot;xl2pdf.vbs&quot;).toString().substring(6) + &quot;'&quot;);\n    List&lt;String&gt; script = Files.readAllLines(Paths.get(Main.class.getResource(&quot;xl2pdf.vbs&quot;).toString().substring(6)));\n\n    // append test.xlsm for file name. savePath was passed to this function\n    String templateFile = savePath + &quot;\\\\test.xlsm&quot;;\n    templateFile = templateFile.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\n    String pdfFile = savePath + &quot;\\\\test.pdf&quot;;\n    pdfFile = pdfFile.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\n    System.out.println(&quot;templateFile is: &quot; + templateFile);\n    System.out.println(&quot;pdfFile is: &quot; + pdfFile);\n\n    //replace the placeholders in the vbs script with the chosen file paths\n    for (int i = 0; i &lt; script.size(); i++) {\n        script.set(i, script.get(i).replaceAll(&quot;XL_FILE&quot;, templateFile));\n        script.set(i, script.get(i).replaceAll(&quot;PDF_FILE&quot;, pdfFile));\n        System.out.println(&quot;Line &quot; + i + &quot; is: &quot; + script.get(i));\n    }\n\n    //write the modified code to the temporary script\n    Files.write(tempScript, script);\n\n    //create a processBuilder for starting an operating system process\n    ProcessBuilder pb = new ProcessBuilder(&quot;wscript&quot;, tempScript.toString());\n\n    //start the process on the operating system\n    Process process = pb.start();\n\n    //tell the process how long to wait for timeout\n    Boolean success = process.waitFor(timeout, minutes);\n    if(!success) {\n        System.out.println(&quot;Error: Could not print PDF within &quot; + timeout + minutes);\n    } else {\n        System.out.println(&quot;Process to run visual basic script for pdf conversion succeeded.&quot;);\n    }\n    \n} catch (Exception e) {\n    e.printStackTrace();\n    Alert saveAsPdfAlert = new Alert(AlertType.ERROR);\n    saveAsPdfAlert.setTitle(&quot;ERROR: Error converting to pdf.&quot;);\n    saveAsPdfAlert.setHeaderText(&quot;Exception message is:&quot;);\n    saveAsPdfAlert.setContentText(e.getMessage());\n    saveAsPdfAlert.showAndWait();  \n}\n</code></pre>\n<h1>VBS:</h1>\n<pre><code>Option Explicit\nDim objExcel, strExcelPath, objSheet\n\nstrExcelPath = &quot;XL_FILE&quot;\n\n\nSet objExcel = CreateObject(&quot;Excel.Application&quot;)\nobjExcel.WorkBooks.Open strExcelPath\nSet objSheet = objExcel.ActiveWorkbook.Worksheets(1)\n\nobjSheet.ExportAsFixedFormat 0, &quot;PDF_FILE&quot;,0, 1, 0, , , 0\n\nobjExcel.ActiveWorkbook.Close\nobjExcel.Application.Quit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17504779,"reputation":468,"user_id":12694268,"display_name":"Harshad Panmand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624548971,"creation_date":1624548971,"answer_id":68118753,"question_id":26056485,"body_markdown":"Here is the full fledge working example\r\n\r\nDependencies : \r\n\r\n    compile &#39;com.itextpdf:itextpdf:5.5.13.2&#39;\r\n    compile &#39;org.apache.poi:poi-ooxml:5.0.0&#39;\r\n\r\nJava code:\r\n\r\n\r\n    import java.io.*;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    \r\n    import java.util.Iterator;\r\n    import com.itextpdf.text.*;\r\n    import com.itextpdf.text.pdf.*;\r\n    \r\n    public class Excel2PDF {\r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            Workbook my_xls_workbook = WorkbookFactory.create(new File(&quot;/Users/harshad/Desktop/excel.xlsx&quot;));\r\n    \r\n            Sheet my_worksheet = my_xls_workbook.getSheetAt(0);\r\n    \r\n            short availableColumns = my_worksheet.getRow(0).getLastCellNum();\r\n            System.out.println(&quot;Available columns : &quot; + availableColumns);\r\n    \r\n            Iterator&lt;Row&gt; rowIterator = my_worksheet.iterator();\r\n    \r\n            Document iText_xls_2_pdf = new Document();\r\n            PdfWriter.getInstance(iText_xls_2_pdf, new FileOutputStream(&quot;/Users/harshad/Desktop/excel.pdf&quot;));\r\n            iText_xls_2_pdf.open();\r\n    \r\n            PdfPTable my_table = new PdfPTable(availableColumns);\r\n    \r\n            PdfPCell table_cell = null;\r\n    \r\n            while (rowIterator.hasNext()) {\r\n                Row row = rowIterator.next();\r\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n    \r\n                while (cellIterator.hasNext()) {\r\n                    Cell cell = cellIterator.next();\r\n    \r\n                    switch (cell.getCellType()) {\r\n                        default:\r\n                            try {\r\n                                table_cell = new PdfPCell(new Phrase(cell.getStringCellValue()));\r\n                            } catch (IllegalStateException illegalStateException) {\r\n                                //TODO: Need to handle exceptions for different type too\r\n                                if (illegalStateException.getMessage().equals(&quot;Cannot get a STRING value from a NUMERIC cell&quot;)) {\r\n                                    table_cell = new PdfPCell(new Phrase(String.valueOf(cell.getNumericCellValue())));\r\n                                }\r\n                            }\r\n    \r\n                            my_table.addCell(table_cell);\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            iText_xls_2_pdf.add(my_table);\r\n            iText_xls_2_pdf.close();\r\n            my_xls_workbook.close();\r\n        }\r\n    }\r\n\r\n","title":"Java Apache POI Excel save as PDF","body":"<p>Here is the full fledge working example</p>\n<p>Dependencies :</p>\n<pre><code>compile 'com.itextpdf:itextpdf:5.5.13.2'\ncompile 'org.apache.poi:poi-ooxml:5.0.0'\n</code></pre>\n<p>Java code:</p>\n<pre><code>import java.io.*;\nimport org.apache.poi.ss.usermodel.*;\n\nimport java.util.Iterator;\nimport com.itextpdf.text.*;\nimport com.itextpdf.text.pdf.*;\n\npublic class Excel2PDF {\n    public static void main(String[] args) throws Exception {\n\n        Workbook my_xls_workbook = WorkbookFactory.create(new File(&quot;/Users/harshad/Desktop/excel.xlsx&quot;));\n\n        Sheet my_worksheet = my_xls_workbook.getSheetAt(0);\n\n        short availableColumns = my_worksheet.getRow(0).getLastCellNum();\n        System.out.println(&quot;Available columns : &quot; + availableColumns);\n\n        Iterator&lt;Row&gt; rowIterator = my_worksheet.iterator();\n\n        Document iText_xls_2_pdf = new Document();\n        PdfWriter.getInstance(iText_xls_2_pdf, new FileOutputStream(&quot;/Users/harshad/Desktop/excel.pdf&quot;));\n        iText_xls_2_pdf.open();\n\n        PdfPTable my_table = new PdfPTable(availableColumns);\n\n        PdfPCell table_cell = null;\n\n        while (rowIterator.hasNext()) {\n            Row row = rowIterator.next();\n            Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n\n            while (cellIterator.hasNext()) {\n                Cell cell = cellIterator.next();\n\n                switch (cell.getCellType()) {\n                    default:\n                        try {\n                            table_cell = new PdfPCell(new Phrase(cell.getStringCellValue()));\n                        } catch (IllegalStateException illegalStateException) {\n                            //TODO: Need to handle exceptions for different type too\n                            if (illegalStateException.getMessage().equals(&quot;Cannot get a STRING value from a NUMERIC cell&quot;)) {\n                                table_cell = new PdfPCell(new Phrase(String.valueOf(cell.getNumericCellValue())));\n                            }\n                        }\n\n                        my_table.addCell(table_cell);\n                        break;\n                }\n            }\n        }\n        iText_xls_2_pdf.add(my_table);\n        iText_xls_2_pdf.close();\n        my_xls_workbook.close();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8021623,"reputation":515,"user_id":6050113,"display_name":"Nasibulloh Yandashev"},"score":1,"creation_date":1670173580,"post_id":71922827,"comment_id":131808669,"body_markdown":"This generates a default watermark. In order to remove it, it needs to be purchased. Available free version of the library. But it also generates watermark","body":"This generates a default watermark. In order to remove it, it needs to be purchased. Available free version of the library. But it also generates watermark"}],"tags":[],"owner":{"account_id":19020116,"reputation":41,"user_id":13884358,"display_name":"fedor"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696248392,"creation_date":1650361278,"answer_id":71922827,"question_id":26056485,"body_markdown":"#### Repository\r\n```xml\r\n&lt;repository&gt;\r\n    &lt;id&gt;com.e-iceblue&lt;/id&gt;\r\n    &lt;name&gt;e-iceblue&lt;/name&gt;\r\n    &lt;url&gt;http://repo.e-iceblue.com/nexus/content/groups/public/&lt;/url&gt;\r\n&lt;/repository&gt;\r\n```\r\n\r\n#### Dependency\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;e-iceblue&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spire.xls.free&lt;/artifactId&gt;\r\n    &lt;version&gt;5.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n#### Code\r\n```java\r\nimport com.spire.xls.FileFormat;\r\nimport com.spire.xls.Workbook;\r\n\r\nimport java.io.File;\r\n\r\npublic class EIceblueConverter {\r\n    public static void main(String[] args) {\r\n        for (Sources xls : Sources.values()) {\r\n            if (isFileExists(xls)) convert(xls);\r\n        }\r\n    }\r\n\r\n    private static boolean isFileExists(Sources xls) {\r\n        File file = new File(xls.getPath());\r\n        return file.exists() &amp;&amp; file.isFile();\r\n    }\r\n\r\n    private static void convert(Sources xls) {\r\n        Workbook workbook = new Workbook();\r\n        workbook.loadFromFile(xls.getPath());\r\n        workbook.getConverterSetting().setSheetFitToPage(true);\r\n        workbook.saveToFile(Util.getOutputPath(xls.getPath()), FileFormat.PDF);\r\n    }\r\n}\r\n```\r\n\r\n\r\nBefore converting you should edit view area in file.xls*  \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zbcKI.png\r\n\r\n... and more convertors, including the interesting solution: use libre office as converter .xls* to .pdf. \r\n(do test it in src/main/java/jodconverter/AppStarter.java)\r\n\r\n\r\nhttps://github.com/fedor83/xlsToPdfConverter.git\r\n","title":"Java Apache POI Excel save as PDF","body":"<h4>Repository</h4>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repository&gt;\n    &lt;id&gt;com.e-iceblue&lt;/id&gt;\n    &lt;name&gt;e-iceblue&lt;/name&gt;\n    &lt;url&gt;http://repo.e-iceblue.com/nexus/content/groups/public/&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n<h4>Dependency</h4>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;e-iceblue&lt;/groupId&gt;\n    &lt;artifactId&gt;spire.xls.free&lt;/artifactId&gt;\n    &lt;version&gt;5.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h4>Code</h4>\n<pre class=\"lang-java prettyprint-override\"><code>import com.spire.xls.FileFormat;\nimport com.spire.xls.Workbook;\n\nimport java.io.File;\n\npublic class EIceblueConverter {\n    public static void main(String[] args) {\n        for (Sources xls : Sources.values()) {\n            if (isFileExists(xls)) convert(xls);\n        }\n    }\n\n    private static boolean isFileExists(Sources xls) {\n        File file = new File(xls.getPath());\n        return file.exists() &amp;&amp; file.isFile();\n    }\n\n    private static void convert(Sources xls) {\n        Workbook workbook = new Workbook();\n        workbook.loadFromFile(xls.getPath());\n        workbook.getConverterSetting().setSheetFitToPage(true);\n        workbook.saveToFile(Util.getOutputPath(xls.getPath()), FileFormat.PDF);\n    }\n}\n</code></pre>\n<p>Before converting you should edit view area in file.xls*<br />\n<a href=\"https://i.stack.imgur.com/zbcKI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zbcKI.png\" alt=\"enter image description here\" /></a></p>\n<p>... and more convertors, including the interesting solution: use libre office as converter .xls* to .pdf.\n(do test it in src/main/java/jodconverter/AppStarter.java)</p>\n<p><a href=\"https://github.com/fedor83/xlsToPdfConverter.git\" rel=\"nofollow noreferrer\">https://github.com/fedor83/xlsToPdfConverter.git</a></p>\n"}],"owner":{"account_id":1298782,"reputation":1035,"user_id":1249118,"accept_rate":71,"display_name":"Oscar Yuandinata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88744,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":5,"score":30,"last_activity_date":1696248392,"creation_date":1411724308,"question_id":26056485,"body_markdown":"How can I convert/save `excel` file to `pdf`? I&#39;m using `java play framework` to generate some `excel` files and now the requirement changes to `pdf`. I don&#39;t want to recode everything. \r\n\r\nIs there a way to convert to `pdf`? \r\n\r\nThe `excel` files I&#39;m generating are from a template; I read the excel template file, write changes, and save as new excel file. That way, the template is unchanged. It contains border, image, and other formatting.","title":"Java Apache POI Excel save as PDF","body":"<p>How can I convert/save <code>excel</code> file to <code>pdf</code>? I'm using <code>java play framework</code> to generate some <code>excel</code> files and now the requirement changes to <code>pdf</code>. I don't want to recode everything. </p>\n\n<p>Is there a way to convert to <code>pdf</code>? </p>\n\n<p>The <code>excel</code> files I'm generating are from a template; I read the excel template file, write changes, and save as new excel file. That way, the template is unchanged. It contains border, image, and other formatting.</p>\n"},{"tags":["javascript","java","jquery","ajax","struts2"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1435155487,"post_id":31026053,"comment_id":50082716,"body_markdown":"... You don&#39;t send anything other than &quot;command=loginValidation&quot;, what did you expect?! At least in the Ajax call you don&#39;t; it&#39;s impossible to know what your code is doing since all you do is post some stand-alone JavaScript with no indication of how you&#39;re *actually* doing your form processing. Neither the HTML nor the JS give any indication of how they&#39;re working together, or if they are.","body":"... You don&#39;t send anything other than &quot;command=loginValidation&quot;, what did you expect?! At least in the Ajax call you don&#39;t; it&#39;s impossible to know what your code is doing since all you do is post some stand-alone JavaScript with no indication of how you&#39;re <i>actually</i> doing your form processing. Neither the HTML nor the JS give any indication of how they&#39;re working together, or if they are."},{"owner":{"account_id":5825390,"reputation":2056,"user_id":4591994,"display_name":"Michael Peacock"},"score":0,"creation_date":1435171980,"post_id":31026053,"comment_id":50093749,"body_markdown":"If you change your button to an input type=&quot;submit&quot; (and remove the onClick handler) do the parameters get passed? I bet they do. Take a look at @Dave&#39;s answer above - you&#39;re not actually sending the form data on the Ajax call.","body":"If you change your button to an input type=&quot;submit&quot; (and remove the onClick handler) do the parameters get passed? I bet they do. Take a look at @Dave&#39;s answer above - you&#39;re not actually sending the form data on the Ajax call."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435260119,"creation_date":1435260119,"answer_id":31059025,"question_id":31026053,"body_markdown":"You didn&#39;t send parameters in the ajax call after validation. This could be fixed if you use below code:\r\n\r\n    $.ajax({\r\n        type: &quot;POST&quot;,\r\n        url: &quot;./loginAction&quot;,\r\n        data: {command: &quot;loginValidation&quot;, userName: userName, password: password},\r\n        beforeSend: function () {\r\n        },\r\n        success: function (response) {\r\n        },\r\n        error: function (e) {\r\n            alert(&#39;hi error&#39;);\r\n        }\r\n    });\r\n","title":"How to pass property when using Ajax in Struts 2","body":"<p>You didn't send parameters in the ajax call after validation. This could be fixed if you use below code:</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    url: \"./loginAction\",\n    data: {command: \"loginValidation\", userName: userName, password: password},\n    beforeSend: function () {\n    },\n    success: function (response) {\n    },\n    error: function (e) {\n        alert('hi error');\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":6519850,"reputation":1,"user_id":5044429,"display_name":"rithish krishnan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":974,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696247985,"creation_date":1435147499,"question_id":31026053,"body_markdown":"Using Struts 2 with Ajax when I tried to submit the form the property are not passed to action class hence I am getting `null`.\r\n\r\n**My JSP:**\r\n \r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;head&gt;\r\n        &lt;title&gt;Login&lt;/title&gt;\r\n        &lt;meta charset=&quot;utf-8&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;publicHtml/css/bootstrap.min.css&quot;&gt;\r\n        &lt;script src=&quot;publicHtml/js/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;publicHtml/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script&gt;\r\n            var contextName = &quot;&lt;%=request.getContextPath()%&gt;&quot;;\r\n        &lt;/script&gt;\r\n        &lt;script src=&quot;publicHtml/js/automation.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;form action=&quot;loginAction&quot; id=&quot;myForm&quot; method=&quot;post&quot;&gt;\r\n            &lt;div class=&quot;container-fluid&quot;&gt;\r\n                &lt;div class=&quot;jumbotron&quot;&gt;\r\n                    LOG CREATION\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n\r\n            &lt;div class=&quot;row&quot; style=&quot;height: 50px&quot;&gt;\r\n                &lt;div class=&quot;col-lg-12 col-md-12 col-sm-12 col-xs-12&quot; style=&quot;text-align: center&quot;&gt;\r\n                    &lt;mark style=&quot;color: red;display: none;&quot; id=&quot;errorMessage&quot;&gt;&lt;/mark&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;row&quot;&gt; \r\n                &lt;div class=&quot;col-lg-7 col-md-7 col-sm-5 col-xs-5&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;col-lg-3 col-md-3 col-sm-6 col-xs-6&quot;&gt;\r\n                    &lt;div id=&quot;loginJSP&quot;&gt;\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                            &lt;input type=&quot;text&quot;  class=&quot;form-control&quot; placeholder=&quot;User Name&quot; id=&quot;userName&quot; name=&quot;userName&quot;&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                            &lt;input type=&quot;password&quot;  class=&quot;form-control&quot; placeholder=&quot;Password&quot; id=&quot;password&quot; name=&quot;password&quot;&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;input type=&quot;button&quot; onclick=&quot;validLogin()&quot;  value=&quot;Login&quot;&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;col-lg-2 col-md-2 col-sm-1 col-xs-1&quot;&gt;\r\n\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/form&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n\r\n\r\n**My `Action`:**\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class LoginAction extends ActionSupport {\r\n    String forward = ERROR;\r\n    public LoginAction() {\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @return @throws Exception\r\n     */\r\n    @Override\r\n    public String execute() throws Exception {\r\n        \r\n        System.err.println(&quot;Assigned Property is  &quot;+userName);\r\n        forward = null;\r\n        return forward;\r\n    }\r\n\r\n  \r\n    \r\n    private String userName=null,password=null;\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }}\r\n\r\n\r\n\r\n**My JS is:** \r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function submitForm(actionName, commandName) {\r\n\r\n    var frm = document.forms[0];\r\n    var url = contextName + &quot;/&quot; + actionName + &quot;?command=&quot; + commandName;\r\n    frm.action = url;\r\n    frm.submit();\r\n    }\r\n    function validLogin() {\r\n    alert(&#39;hi&#39;);\r\n    var userName = document.getElementById(&#39;userName&#39;).value;\r\n    var password = document.getElementById(&#39;password&#39;).value;\r\n    document.getElementById(&#39;errorMessage&#39;).innerHTML = &quot;&quot;;\r\n    $(&#39;#errorMessage&#39;).hide();\r\n     alert(&#39;hi&#39;);\r\n    if (userName == &#39;&#39; &amp;&amp; password == &#39;&#39;) {\r\n        $(&#39;#errorMessage&#39;).append(&quot;USERNAME AND PASSWORD CANT BE BLANK&quot;);\r\n        $(&#39;#errorMessage&#39;).show();\r\n    } else {\r\n        $.ajax({\r\n            type: &quot;POST&quot;,\r\n            url: &quot;./loginAction&quot;,\r\n            data: &quot;command=loginValidation&quot;,\r\n            beforeSend: function () {\r\n            },\r\n            success: function (response) {\r\n      },\r\n            error: function (e) {\r\n                alert(&#39;hi error&#39;);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nThe input that I gave are `AAA`.\r\n\r\n**And the expected output should be:** \r\n\r\n    Assigned Property is AAA\r\n\r\n**My output is:** \r\n\r\n    Assigned Property is null","title":"How to pass property when using Ajax in Struts 2","body":"<p>Using Struts 2 with Ajax when I tried to submit the form the property are not passed to action class hence I am getting <code>null</code>.</p>\n<p><strong>My JSP:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;head&gt;\n    &lt;title&gt;Login&lt;/title&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;publicHtml/css/bootstrap.min.css&quot;&gt;\n    &lt;script src=&quot;publicHtml/js/jquery.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;publicHtml/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script&gt;\n        var contextName = &quot;&lt;%=request.getContextPath()%&gt;&quot;;\n    &lt;/script&gt;\n    &lt;script src=&quot;publicHtml/js/automation.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form action=&quot;loginAction&quot; id=&quot;myForm&quot; method=&quot;post&quot;&gt;\n        &lt;div class=&quot;container-fluid&quot;&gt;\n            &lt;div class=&quot;jumbotron&quot;&gt;\n                LOG CREATION\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=&quot;row&quot; style=&quot;height: 50px&quot;&gt;\n            &lt;div class=&quot;col-lg-12 col-md-12 col-sm-12 col-xs-12&quot; style=&quot;text-align: center&quot;&gt;\n                &lt;mark style=&quot;color: red;display: none;&quot; id=&quot;errorMessage&quot;&gt;&lt;/mark&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;row&quot;&gt; \n            &lt;div class=&quot;col-lg-7 col-md-7 col-sm-5 col-xs-5&quot;&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;col-lg-3 col-md-3 col-sm-6 col-xs-6&quot;&gt;\n                &lt;div id=&quot;loginJSP&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;input type=&quot;text&quot;  class=&quot;form-control&quot; placeholder=&quot;User Name&quot; id=&quot;userName&quot; name=&quot;userName&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;input type=&quot;password&quot;  class=&quot;form-control&quot; placeholder=&quot;Password&quot; id=&quot;password&quot; name=&quot;password&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;input type=&quot;button&quot; onclick=&quot;validLogin()&quot;  value=&quot;Login&quot;&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;col-lg-2 col-md-2 col-sm-1 col-xs-1&quot;&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p><strong>My <code>Action</code>:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LoginAction extends ActionSupport {\nString forward = ERROR;\npublic LoginAction() {\n}\n\n/**\n *\n * @return @throws Exception\n */\n@Override\npublic String execute() throws Exception {\n    \n    System.err.println(&quot;Assigned Property is  &quot;+userName);\n    forward = null;\n    return forward;\n}\n\n\n\nprivate String userName=null,password=null;\npublic String getUserName() {\n    return userName;\n}\n\npublic void setUserName(String userName) {\n    this.userName = userName;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}}\n</code></pre>\n<p><strong>My JS is:</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>function submitForm(actionName, commandName) {\n\nvar frm = document.forms[0];\nvar url = contextName + &quot;/&quot; + actionName + &quot;?command=&quot; + commandName;\nfrm.action = url;\nfrm.submit();\n}\nfunction validLogin() {\nalert('hi');\nvar userName = document.getElementById('userName').value;\nvar password = document.getElementById('password').value;\ndocument.getElementById('errorMessage').innerHTML = &quot;&quot;;\n$('#errorMessage').hide();\n alert('hi');\nif (userName == '' &amp;&amp; password == '') {\n    $('#errorMessage').append(&quot;USERNAME AND PASSWORD CANT BE BLANK&quot;);\n    $('#errorMessage').show();\n} else {\n    $.ajax({\n        type: &quot;POST&quot;,\n        url: &quot;./loginAction&quot;,\n        data: &quot;command=loginValidation&quot;,\n        beforeSend: function () {\n        },\n        success: function (response) {\n  },\n        error: function (e) {\n            alert('hi error');\n        }\n    });\n}\n</code></pre>\n<p>The input that I gave are <code>AAA</code>.</p>\n<p><strong>And the expected output should be:</strong></p>\n<pre><code>Assigned Property is AAA\n</code></pre>\n<p><strong>My output is:</strong></p>\n<pre><code>Assigned Property is null\n</code></pre>\n"},{"tags":["java","java-17","hibernate-6.x","spring-boot-3"],"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696247827,"creation_date":1696246783,"question_id":77215288,"body_markdown":"I am trying to migrate a legacy application from spring boot 2.5 to 3.1.5 (latest as of now). \r\n\r\nThis is par@JsonIgnore\r\n\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;TICKER_SERIAL&quot;, referencedColumnName = &quot;TICKER_SERIAL&quot;, insertable = false, updatable = false),\r\n    })\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    private Set&lt;FundTickerDescription&gt; fundTickerDescriptions;\r\n    \r\n    \r\n    @JsonProperty(&quot;INDEX_BENCHMARK&quot;)\r\n    @Fetch(FetchMode.JOIN)\r\n    @JoinColumn(name = &quot;TICKER_SERIAL&quot;, referencedColumnName = &quot;TICKER_SERIAL&quot;)\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    private List&lt;FundBenchmarkV2&gt; fundBenchmarkV2s;\r\n\r\nFor these 2 lists hibernate is throwing following exceptions:\r\n\r\n    Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: DFN_CONTENT_DATA] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: PostInitCallback queue could not be processed...\r\n            - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundBenchmarkV2s#{element}]) - element descriptor\r\n            - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundBenchmarkV2s) - key descriptor\r\n            - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundTickerDescriptions#{element}]) - element descriptor\r\n            - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundTickerDescriptions) - key descriptor\r\n            - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.tickers.TickersAll.stockEligibilities#{element}]) - element descriptor\r\n            - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.tickers.TickersAll.stockEligibilities) - key descriptor\r\n            - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.tickers.TickersAll.tickerDescriptions#{element}]) - element descriptor\r\n            - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.tickers.TickersAll.tickerDescriptions) - key descriptor\r\n    \r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\r\n    \t... 76 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: PostInitCallback queue could not be processed...\r\n            - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundBenchmarkV2s#{element}]) - element descriptor\r\n            - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundBenchmarkV2s) - key descriptor\r\n            - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundTickerDescriptions#{element}]) - element descriptor\r\n            - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundTickerDescriptions) - key descriptor\r\n            - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.tickers.TickersAll.stockEligibilities#{element}]) - element descriptor\r\n            - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.tickers.TickersAll.stockEligibilities) - key descriptor\r\n            - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.tickers.TickersAll.tickerDescriptions#{element}]) - element descriptor\r\n            - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.tickers.TickersAll.tickerDescriptions) - key descriptor\r\n    \r\n    \tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:144)\r\n    \tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:88)\r\n    \tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:42)\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:201)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:321)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:271)\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n    \t... 80 common frames omitted\r\n    \tSuppressed: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.PropertyBasedMapping.getPropertyAccess()&quot; because &quot;targetModelPart&quot; is null\r\n    \t\tat org.hibernate.metamodel.mapping.internal.SimpleForeignKeyDescriptor.&lt;init&gt;(SimpleForeignKeyDescriptor.java:130)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.interpretPluralAttributeMappingKeyDescriptor(MappingModelCreationHelper.java:784)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.lambda$buildPluralAttributeMapping$3(MappingModelCreationHelper.java:692)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:246)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:106)\r\n    \t\t... 90 common frames omitted\r\n    \tSuppressed: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.PropertyBasedMapping.getPropertyAccess()&quot; because &quot;targetModelPart&quot; is null\r\n    \t\tat org.hibernate.metamodel.mapping.internal.SimpleForeignKeyDescriptor.&lt;init&gt;(SimpleForeignKeyDescriptor.java:130)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.interpretPluralAttributeMappingKeyDescriptor(MappingModelCreationHelper.java:784)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.lambda$buildPluralAttributeMapping$3(MappingModelCreationHelper.java:692)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:246)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:106)\r\n    \t\t... 90 common frames omitted\r\n    \tSuppressed: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.PropertyBasedMapping.getPropertyAccess()&quot; because &quot;targetModelPart&quot; is null\r\n    \t\tat org.hibernate.metamodel.mapping.internal.SimpleForeignKeyDescriptor.&lt;init&gt;(SimpleForeignKeyDescriptor.java:130)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.interpretPluralAttributeMappingKeyDescriptor(MappingModelCreationHelper.java:784)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.lambda$buildPluralAttributeMapping$3(MappingModelCreationHelper.java:692)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:246)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:106)\r\n    \t\t... 90 common frames omitted\r\n    \tSuppressed: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.PropertyBasedMapping.getPropertyAccess()&quot; because &quot;targetModelPart&quot; is null\r\n    \t\tat org.hibernate.metamodel.mapping.internal.SimpleForeignKeyDescriptor.&lt;init&gt;(SimpleForeignKeyDescriptor.java:130)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.interpretPluralAttributeMappingKeyDescriptor(MappingModelCreationHelper.java:784)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.lambda$buildPluralAttributeMapping$3(MappingModelCreationHelper.java:692)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:246)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:106)\r\n    \t\t... 90 common frames omitted\r\n\r\nNow I don&#39;t want to bloat the question by adding all the entities. Please comment on any extra code snippets. \r\n\r\nHere is a minified TickerDescription class:\r\n\r\n    @Entity\r\n    @IdClass(TickerDescriptionV2Id.class)\r\n    @Table(name = &quot;TICKER_DESCRIPTIONS&quot;, uniqueConstraints = {\r\n            @UniqueConstraint(columnNames = {&quot;ticker_id&quot;})\r\n    })\r\n    public class TickerDescriptionsV2 {\r\n        \r\n        @JsonProperty(&quot;SHORT_DESCRIPTION&quot;)\r\n        @Column(name = &quot;SHORT_DESCRIPTION&quot;)\r\n        private String shortDescription;\r\n    \r\n        @JsonProperty(&quot;LONG_DESCRIPTION&quot;)\r\n        @Column(name = &quot;LONG_DESCRIPTION&quot;)\r\n        private String longDescription;\r\n    \r\n        @JsonProperty(value = &quot;TICKER_ID&quot;, access = JsonProperty.Access.WRITE_ONLY)\r\n        @Column(name = &quot;TICKER_ID&quot;)\r\n        private String tickerId;\r\n    \r\n        @JsonProperty(value = &quot;SOURCE_ID&quot;, access = JsonProperty.Access.WRITE_ONLY)\r\n        @Column(name = &quot;SOURCE_ID&quot;)\r\n        private String sourceId;\r\n    \r\n        @Id\r\n        @JsonProperty(&quot;LANGUAGE_ID&quot;)\r\n        @Column(name = &quot;LANGUAGE_ID&quot;)\r\n        private String languageId;\r\n    \r\n        @Id\r\n        @JsonProperty(value = &quot;TICKER_SERIAL&quot;, access = JsonProperty.Access.WRITE_ONLY)\r\n        @Column(name = &quot;TICKER_SERIAL&quot;)\r\n        private Long tickerSerial;\r\n        \r\n        @JsonIgnore\r\n        @MapsId(&quot;TICKER_SERIAL&quot;)\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;TICKER_SERIAL&quot;, referencedColumnName = &quot;TICKER_SERIAL&quot;, insertable = false, updatable = false)\r\n        private TickerV3 ticker;\r\n    \r\n    }\r\n\r\nAnd here is the id class\r\n\r\n    @Embeddable\r\n    public class TickerDescriptionV2Id implements Serializable {\r\n    \r\n        @Column(name = &quot;LANGUAGE_ID&quot;)\r\n        @JsonProperty(value = &quot;LANGUAGE_ID&quot;)\r\n        private String languageId;\r\n    \r\n        @Column(name = &quot;TICKER_SERIAL&quot;)\r\n        @JsonIgnore\r\n        private Long tickerSerial;\r\n    }\r\n\r\nI think @Embeddable is not needed here. But it is written by some one else a long time ago.\r\nI checked hibernate site and other questions. Nothing quite like the error message I am seeing. What&#39;s going wrong here?","title":"Hibernate 6.2 throws `&quot;targetModelPart&quot; is null` exception when trying to migrate from 5.x","body":"<p>I am trying to migrate a legacy application from spring boot 2.5 to 3.1.5 (latest as of now).</p>\n<p>This is par@JsonIgnore</p>\n<pre><code>@JoinColumns({\n        @JoinColumn(name = &quot;TICKER_SERIAL&quot;, referencedColumnName = &quot;TICKER_SERIAL&quot;, insertable = false, updatable = false),\n})\n@OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\nprivate Set&lt;FundTickerDescription&gt; fundTickerDescriptions;\n\n\n@JsonProperty(&quot;INDEX_BENCHMARK&quot;)\n@Fetch(FetchMode.JOIN)\n@JoinColumn(name = &quot;TICKER_SERIAL&quot;, referencedColumnName = &quot;TICKER_SERIAL&quot;)\n@OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\nprivate List&lt;FundBenchmarkV2&gt; fundBenchmarkV2s;\n</code></pre>\n<p>For these 2 lists hibernate is throwing following exceptions:</p>\n<pre><code>Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: DFN_CONTENT_DATA] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: PostInitCallback queue could not be processed...\n        - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundBenchmarkV2s#{element}]) - element descriptor\n        - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundBenchmarkV2s) - key descriptor\n        - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundTickerDescriptions#{element}]) - element descriptor\n        - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundTickerDescriptions) - key descriptor\n        - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.tickers.TickersAll.stockEligibilities#{element}]) - element descriptor\n        - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.tickers.TickersAll.stockEligibilities) - key descriptor\n        - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.tickers.TickersAll.tickerDescriptions#{element}]) - element descriptor\n        - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.tickers.TickersAll.tickerDescriptions) - key descriptor\n\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\n    ... 76 common frames omitted\nCaused by: java.lang.IllegalStateException: PostInitCallback queue could not be processed...\n        - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundBenchmarkV2s#{element}]) - element descriptor\n        - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundBenchmarkV2s) - key descriptor\n        - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundTickerDescriptions#{element}]) - element descriptor\n        - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.fundtickers.TickerV3.fundTickerDescriptions) - key descriptor\n        - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.tickers.TickersAll.stockEligibilities#{element}]) - element descriptor\n        - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.tickers.TickersAll.stockEligibilities) - key descriptor\n        - PostInitCallbackEntry - PluralAttributeMapping( NavigableRole[com.mubasher.ccp.library.entities.tickers.TickersAll.tickerDescriptions#{element}]) - element descriptor\n        - PostInitCallbackEntry - PluralAttributeMapping(com.mubasher.ccp.library.entities.tickers.TickersAll.tickerDescriptions) - key descriptor\n\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:144)\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:88)\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:42)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:201)\n    at org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:321)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:271)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n    ... 80 common frames omitted\n    Suppressed: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.PropertyBasedMapping.getPropertyAccess()&quot; because &quot;targetModelPart&quot; is null\n        at org.hibernate.metamodel.mapping.internal.SimpleForeignKeyDescriptor.&lt;init&gt;(SimpleForeignKeyDescriptor.java:130)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.interpretPluralAttributeMappingKeyDescriptor(MappingModelCreationHelper.java:784)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.lambda$buildPluralAttributeMapping$3(MappingModelCreationHelper.java:692)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:246)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:106)\n        ... 90 common frames omitted\n    Suppressed: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.PropertyBasedMapping.getPropertyAccess()&quot; because &quot;targetModelPart&quot; is null\n        at org.hibernate.metamodel.mapping.internal.SimpleForeignKeyDescriptor.&lt;init&gt;(SimpleForeignKeyDescriptor.java:130)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.interpretPluralAttributeMappingKeyDescriptor(MappingModelCreationHelper.java:784)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.lambda$buildPluralAttributeMapping$3(MappingModelCreationHelper.java:692)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:246)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:106)\n        ... 90 common frames omitted\n    Suppressed: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.PropertyBasedMapping.getPropertyAccess()&quot; because &quot;targetModelPart&quot; is null\n        at org.hibernate.metamodel.mapping.internal.SimpleForeignKeyDescriptor.&lt;init&gt;(SimpleForeignKeyDescriptor.java:130)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.interpretPluralAttributeMappingKeyDescriptor(MappingModelCreationHelper.java:784)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.lambda$buildPluralAttributeMapping$3(MappingModelCreationHelper.java:692)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:246)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:106)\n        ... 90 common frames omitted\n    Suppressed: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.PropertyBasedMapping.getPropertyAccess()&quot; because &quot;targetModelPart&quot; is null\n        at org.hibernate.metamodel.mapping.internal.SimpleForeignKeyDescriptor.&lt;init&gt;(SimpleForeignKeyDescriptor.java:130)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.interpretPluralAttributeMappingKeyDescriptor(MappingModelCreationHelper.java:784)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationHelper.lambda$buildPluralAttributeMapping$3(MappingModelCreationHelper.java:692)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:246)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:106)\n        ... 90 common frames omitted\n</code></pre>\n<p>Now I don't want to bloat the question by adding all the entities. Please comment on any extra code snippets.</p>\n<p>Here is a minified TickerDescription class:</p>\n<pre><code>@Entity\n@IdClass(TickerDescriptionV2Id.class)\n@Table(name = &quot;TICKER_DESCRIPTIONS&quot;, uniqueConstraints = {\n        @UniqueConstraint(columnNames = {&quot;ticker_id&quot;})\n})\npublic class TickerDescriptionsV2 {\n    \n    @JsonProperty(&quot;SHORT_DESCRIPTION&quot;)\n    @Column(name = &quot;SHORT_DESCRIPTION&quot;)\n    private String shortDescription;\n\n    @JsonProperty(&quot;LONG_DESCRIPTION&quot;)\n    @Column(name = &quot;LONG_DESCRIPTION&quot;)\n    private String longDescription;\n\n    @JsonProperty(value = &quot;TICKER_ID&quot;, access = JsonProperty.Access.WRITE_ONLY)\n    @Column(name = &quot;TICKER_ID&quot;)\n    private String tickerId;\n\n    @JsonProperty(value = &quot;SOURCE_ID&quot;, access = JsonProperty.Access.WRITE_ONLY)\n    @Column(name = &quot;SOURCE_ID&quot;)\n    private String sourceId;\n\n    @Id\n    @JsonProperty(&quot;LANGUAGE_ID&quot;)\n    @Column(name = &quot;LANGUAGE_ID&quot;)\n    private String languageId;\n\n    @Id\n    @JsonProperty(value = &quot;TICKER_SERIAL&quot;, access = JsonProperty.Access.WRITE_ONLY)\n    @Column(name = &quot;TICKER_SERIAL&quot;)\n    private Long tickerSerial;\n    \n    @JsonIgnore\n    @MapsId(&quot;TICKER_SERIAL&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;TICKER_SERIAL&quot;, referencedColumnName = &quot;TICKER_SERIAL&quot;, insertable = false, updatable = false)\n    private TickerV3 ticker;\n\n}\n</code></pre>\n<p>And here is the id class</p>\n<pre><code>@Embeddable\npublic class TickerDescriptionV2Id implements Serializable {\n\n    @Column(name = &quot;LANGUAGE_ID&quot;)\n    @JsonProperty(value = &quot;LANGUAGE_ID&quot;)\n    private String languageId;\n\n    @Column(name = &quot;TICKER_SERIAL&quot;)\n    @JsonIgnore\n    private Long tickerSerial;\n}\n</code></pre>\n<p>I think @Embeddable is not needed here. But it is written by some one else a long time ago.\nI checked hibernate site and other questions. Nothing quite like the error message I am seeing. What's going wrong here?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9984,"page":150,"page_size":100}
