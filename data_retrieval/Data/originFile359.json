{"items":[{"tags":["java","node.js","angular","express","heroku"],"owner":{"account_id":15902484,"reputation":25,"user_id":11474506,"display_name":"Thomarkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687307361,"creation_date":1687307361,"question_id":76519188,"body_markdown":"Locally my angular frontend + java springboot backend monolithic app works just fine. I am trying to deploy this to Heroku for several days now but its not working. **My endpoints receives 404** while I am sure they work because locally they do. I know my backend is spun because in my heroku logs I can see the Spring logo and everything else. There are no errors. Just 404s for the GET calls to the /endpoints.\r\n\r\nI try to be as complete as I can, please ask for more bits of code when necessary.\r\n\r\nMy project structure is like this\r\n\r\n````\r\n.mvn/wrapper\r\nFrontend\r\nsrc\r\n.gitignore\r\nProcfile\r\nREADME.md\r\napp.json\r\nmvnw\r\nmvnw.cmd\r\npackage-lock.json\r\npackage.json\r\npom.xml\r\nserver.js\r\nsystem.properties\r\n````\r\n\r\nI deploy my app with my `Procfile` like this\r\n\r\n    web: java -jar target/dotaApplicationTool-0.0.1-SNAPSHOT.jar &amp; node server.js\r\n\r\nMy `server.js` looks like this\r\n\r\n    const express = require(&#39;express&#39;);\r\n    const path = require(&#39;path&#39;);\r\n    const cors = require(&#39;cors&#39;);\r\n    \r\n    const app = express();\r\n    \r\n    // Enable CORS\r\n    app.use(cors({\r\n      origin: &#39;https://dota-hero-matchup-cfe3a3ef874f.herokuapp.com&#39;\r\n    }));\r\n    \r\n    const distPath = path.join(__dirname, &#39;Frontend&#39;, &#39;dist&#39;, &#39;frontend&#39;);\r\n    \r\n    // Set cache control headers for static files\r\n    app.use(express.static(distPath, { setHeaders: (res, filePath) =&gt; {\r\n      if (filePath.endsWith(&#39;.js&#39;) || filePath.endsWith(&#39;.css&#39;)) {\r\n        res.setHeader(&#39;Cache-Control&#39;, &#39;no-store&#39;);\r\n      }\r\n    }}));\r\n    \r\n    // Define the middleware function\r\n    const setJsonContentType = (req, res, next) =&gt; {\r\n      res.setHeader(&#39;Content-Type&#39;, &#39;application/json&#39;);\r\n      res.setHeader(&#39;Access-Control-Allow-Origin&#39;, &#39;https://dota-hero-matchup-cfe3a3ef874f.herokuapp.com&#39;);\r\n      next(); // Call next to proceed to the next middleware or route handler\r\n    };\r\n    \r\n    // Apply the middleware to all API calls\r\n    app.use(&#39;/&#39;, setJsonContentType);\r\n    \r\n    const port = process.env.PORT || 8080;\r\n    app.listen(port, () =&gt; {\r\n      console.log(&#39;Server is running on port&#39;, port);\r\n    });\r\n\r\nMy `package.json`\r\n\r\n    {\r\n      &quot;name&quot;: &quot;frontend&quot;,\r\n      &quot;version&quot;: &quot;0.0.0&quot;,\r\n      &quot;scripts&quot;: {\r\n        &quot;ng&quot;: &quot;ng&quot;,\r\n        &quot;start&quot;: &quot;node server.js&quot;,\r\n        &quot;build&quot;: &quot;ng build --configuration=production&quot;,\r\n        &quot;watch&quot;: &quot;ng build --watch --configuration development&quot;,\r\n        &quot;test&quot;: &quot;ng test&quot;,\r\n        &quot;heroku-postbuild&quot;: &quot;npm install --force --prefix Frontend &amp;&amp; npm run build --prefix Frontend&quot;\r\n      },\r\n      &quot;private&quot;: true,\r\n      &quot;dependencies&quot;: {\r\n        &quot;@angular/animations&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@angular/cli&quot;: &quot;~15.2.4&quot;,\r\n        &quot;@angular/common&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@angular/compiler&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@angular/compiler-cli&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@angular/core&quot;: &quot;^15.2.9&quot;,\r\n        &quot;@angular/forms&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@angular/platform-browser&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@angular/platform-browser-dynamic&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@angular/router&quot;: &quot;^15.2.0&quot;,\r\n        &quot;cors&quot;: &quot;^2.8.5&quot;,\r\n        &quot;express&quot;: &quot;^4.18.2&quot;,\r\n        &quot;http-proxy-middleware&quot;: &quot;^2.0.6&quot;,\r\n        &quot;rxjs&quot;: &quot;~7.8.0&quot;,\r\n        &quot;tslib&quot;: &quot;^2.3.0&quot;,\r\n        &quot;typescript&quot;: &quot;~4.9.4&quot;,\r\n        &quot;zone.js&quot;: &quot;~0.12.0&quot;\r\n      },\r\n      &quot;devDependencies&quot;: {\r\n        &quot;@angular-devkit/build-angular&quot;: &quot;^15.2.8&quot;,\r\n        &quot;@angular/cli&quot;: &quot;~15.2.4&quot;,\r\n        &quot;@angular/compiler-cli&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@types/jasmine&quot;: &quot;~4.3.0&quot;,\r\n        &quot;jasmine-core&quot;: &quot;~4.5.0&quot;,\r\n        &quot;karma&quot;: &quot;~6.4.0&quot;,\r\n        &quot;karma-chrome-launcher&quot;: &quot;~3.1.0&quot;,\r\n        &quot;karma-coverage&quot;: &quot;~2.2.0&quot;,\r\n        &quot;karma-jasmine&quot;: &quot;~5.1.0&quot;,\r\n        &quot;karma-jasmine-html-reporter&quot;: &quot;~2.0.0&quot;,\r\n        &quot;prettier&quot;: &quot;2.8.8&quot;,\r\n        &quot;typescript&quot;: &quot;~4.9.4&quot;\r\n      },\r\n      &quot;engines&quot;: {\r\n        &quot;node&quot;: &quot;18.15.0&quot;,\r\n        &quot;npm&quot;: &quot;9.7.1&quot;\r\n      }\r\n    }\r\n\r\nNot sure if my `.gitignore` is interesting but I have seen some solutions regarding this, this contains `/dist/` and `node_modules`\r\n    \r\nMy heroku build uses `heroku/java`and `heroku/nodejs` buildpacks as set in the settings of my app at the heroku dashboard. There are no config vars.\r\n\r\n\r\nMy `heroku application log` shows no errors; important lines are\r\n`Tomcat initialized with port(s): 8080 (http)` and `Tomcat started on port(s): 8080 (http) with context path &#39;&#39;`\r\n\r\n\r\nMy extended heroku logs (from the cli) basicly show the Spring boot setup and the 404 for the GET / requests. No extra errors here. Important lines are `Server is running on port 36455` and e.g. of endpoint ` at=info method=GET path=&quot;/heroNames&quot; host=dota-hero-matchup-cfe3a3ef874f.herokuapp.com request_id=5a07e5b8-a82b-41b3-bbae-cd7122590425 fwd=&quot;44.206.218.176&quot; dyno=web.1 connect=0ms service=1ms status=404 bytes=489 protocol=https`\r\n\r\nIt would be so nice if someone could take a look at this and help me, I am stuck for days and I can&#39;t find an answer.","title":"404 Not Found when requesting after deploying to Heroku, works locally (springboot - angular mono)","body":"<p>Locally my angular frontend + java springboot backend monolithic app works just fine. I am trying to deploy this to Heroku for several days now but its not working. <strong>My endpoints receives 404</strong> while I am sure they work because locally they do. I know my backend is spun because in my heroku logs I can see the Spring logo and everything else. There are no errors. Just 404s for the GET calls to the /endpoints.</p>\n<p>I try to be as complete as I can, please ask for more bits of code when necessary.</p>\n<p>My project structure is like this</p>\n<pre><code>.mvn/wrapper\nFrontend\nsrc\n.gitignore\nProcfile\nREADME.md\napp.json\nmvnw\nmvnw.cmd\npackage-lock.json\npackage.json\npom.xml\nserver.js\nsystem.properties\n</code></pre>\n<p>I deploy my app with my <code>Procfile</code> like this</p>\n<pre><code>web: java -jar target/dotaApplicationTool-0.0.1-SNAPSHOT.jar &amp; node server.js\n</code></pre>\n<p>My <code>server.js</code> looks like this</p>\n<pre><code>const express = require('express');\nconst path = require('path');\nconst cors = require('cors');\n\nconst app = express();\n\n// Enable CORS\napp.use(cors({\n  origin: 'https://dota-hero-matchup-cfe3a3ef874f.herokuapp.com'\n}));\n\nconst distPath = path.join(__dirname, 'Frontend', 'dist', 'frontend');\n\n// Set cache control headers for static files\napp.use(express.static(distPath, { setHeaders: (res, filePath) =&gt; {\n  if (filePath.endsWith('.js') || filePath.endsWith('.css')) {\n    res.setHeader('Cache-Control', 'no-store');\n  }\n}}));\n\n// Define the middleware function\nconst setJsonContentType = (req, res, next) =&gt; {\n  res.setHeader('Content-Type', 'application/json');\n  res.setHeader('Access-Control-Allow-Origin', 'https://dota-hero-matchup-cfe3a3ef874f.herokuapp.com');\n  next(); // Call next to proceed to the next middleware or route handler\n};\n\n// Apply the middleware to all API calls\napp.use('/', setJsonContentType);\n\nconst port = process.env.PORT || 8080;\napp.listen(port, () =&gt; {\n  console.log('Server is running on port', port);\n});\n</code></pre>\n<p>My <code>package.json</code></p>\n<pre><code>{\n  &quot;name&quot;: &quot;frontend&quot;,\n  &quot;version&quot;: &quot;0.0.0&quot;,\n  &quot;scripts&quot;: {\n    &quot;ng&quot;: &quot;ng&quot;,\n    &quot;start&quot;: &quot;node server.js&quot;,\n    &quot;build&quot;: &quot;ng build --configuration=production&quot;,\n    &quot;watch&quot;: &quot;ng build --watch --configuration development&quot;,\n    &quot;test&quot;: &quot;ng test&quot;,\n    &quot;heroku-postbuild&quot;: &quot;npm install --force --prefix Frontend &amp;&amp; npm run build --prefix Frontend&quot;\n  },\n  &quot;private&quot;: true,\n  &quot;dependencies&quot;: {\n    &quot;@angular/animations&quot;: &quot;^15.2.0&quot;,\n    &quot;@angular/cli&quot;: &quot;~15.2.4&quot;,\n    &quot;@angular/common&quot;: &quot;^15.2.0&quot;,\n    &quot;@angular/compiler&quot;: &quot;^15.2.0&quot;,\n    &quot;@angular/compiler-cli&quot;: &quot;^15.2.0&quot;,\n    &quot;@angular/core&quot;: &quot;^15.2.9&quot;,\n    &quot;@angular/forms&quot;: &quot;^15.2.0&quot;,\n    &quot;@angular/platform-browser&quot;: &quot;^15.2.0&quot;,\n    &quot;@angular/platform-browser-dynamic&quot;: &quot;^15.2.0&quot;,\n    &quot;@angular/router&quot;: &quot;^15.2.0&quot;,\n    &quot;cors&quot;: &quot;^2.8.5&quot;,\n    &quot;express&quot;: &quot;^4.18.2&quot;,\n    &quot;http-proxy-middleware&quot;: &quot;^2.0.6&quot;,\n    &quot;rxjs&quot;: &quot;~7.8.0&quot;,\n    &quot;tslib&quot;: &quot;^2.3.0&quot;,\n    &quot;typescript&quot;: &quot;~4.9.4&quot;,\n    &quot;zone.js&quot;: &quot;~0.12.0&quot;\n  },\n  &quot;devDependencies&quot;: {\n    &quot;@angular-devkit/build-angular&quot;: &quot;^15.2.8&quot;,\n    &quot;@angular/cli&quot;: &quot;~15.2.4&quot;,\n    &quot;@angular/compiler-cli&quot;: &quot;^15.2.0&quot;,\n    &quot;@types/jasmine&quot;: &quot;~4.3.0&quot;,\n    &quot;jasmine-core&quot;: &quot;~4.5.0&quot;,\n    &quot;karma&quot;: &quot;~6.4.0&quot;,\n    &quot;karma-chrome-launcher&quot;: &quot;~3.1.0&quot;,\n    &quot;karma-coverage&quot;: &quot;~2.2.0&quot;,\n    &quot;karma-jasmine&quot;: &quot;~5.1.0&quot;,\n    &quot;karma-jasmine-html-reporter&quot;: &quot;~2.0.0&quot;,\n    &quot;prettier&quot;: &quot;2.8.8&quot;,\n    &quot;typescript&quot;: &quot;~4.9.4&quot;\n  },\n  &quot;engines&quot;: {\n    &quot;node&quot;: &quot;18.15.0&quot;,\n    &quot;npm&quot;: &quot;9.7.1&quot;\n  }\n}\n</code></pre>\n<p>Not sure if my <code>.gitignore</code> is interesting but I have seen some solutions regarding this, this contains <code>/dist/</code> and <code>node_modules</code></p>\n<p>My heroku build uses <code>heroku/java</code>and <code>heroku/nodejs</code> buildpacks as set in the settings of my app at the heroku dashboard. There are no config vars.</p>\n<p>My <code>heroku application log</code> shows no errors; important lines are\n<code>Tomcat initialized with port(s): 8080 (http)</code> and <code>Tomcat started on port(s): 8080 (http) with context path ''</code></p>\n<p>My extended heroku logs (from the cli) basicly show the Spring boot setup and the 404 for the GET / requests. No extra errors here. Important lines are <code>Server is running on port 36455</code> and e.g. of endpoint <code> at=info method=GET path=&quot;/heroNames&quot; host=dota-hero-matchup-cfe3a3ef874f.herokuapp.com request_id=5a07e5b8-a82b-41b3-bbae-cd7122590425 fwd=&quot;44.206.218.176&quot; dyno=web.1 connect=0ms service=1ms status=404 bytes=489 protocol=https</code></p>\n<p>It would be so nice if someone could take a look at this and help me, I am stuck for days and I can't find an answer.</p>\n"},{"tags":["java","sockets"],"answers":[{"comments":[{"owner":{"account_id":6388606,"reputation":589,"user_id":4955612,"accept_rate":60,"display_name":"Andrew Kor"},"score":0,"creation_date":1687370587,"post_id":76517989,"comment_id":134928766,"body_markdown":"Thanks, it now accepts multiple clients. So the game ticks every 2 seconds, and only then the server prints out all the inputs it received in the last 2 seconds. However it&#39;s currently printing 1 message per tick, even though on the client side, I am using a for loop and sending 10 messages in a row quickly. Any reason why it&#39;s stalling?","body":"Thanks, it now accepts multiple clients. So the game ticks every 2 seconds, and only then the server prints out all the inputs it received in the last 2 seconds. However it&#39;s currently printing 1 message per tick, even though on the client side, I am using a for loop and sending 10 messages in a row quickly. Any reason why it&#39;s stalling?"},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1687389882,"post_id":76517989,"comment_id":134931684,"body_markdown":"In my example, I took out the server ticking, as your client was sending 1 message per second, so `readUTF()` on the server will block waiting for each message to arrive, thus printing 1 message per second. If you want to add extra ticking back in on the serve side, you can certainly do so.","body":"In my example, I took out the server ticking, as your client was sending 1 message per second, so <code>readUTF()</code> on the server will block waiting for each message to arrive, thus printing 1 message per second. If you want to add extra ticking back in on the serve side, you can certainly do so."},{"owner":{"account_id":6388606,"reputation":589,"user_id":4955612,"accept_rate":60,"display_name":"Andrew Kor"},"score":0,"creation_date":1687536177,"post_id":76517989,"comment_id":134955734,"body_markdown":"Any way I can make `.readUTF()` non-blocking? I just want to consume all the inputs received by `DataInputStream` during that 2-second tick, not wait for the next input in the stream.","body":"Any way I can make <code>.readUTF()</code> non-blocking? I just want to consume all the inputs received by <code>DataInputStream</code> during that 2-second tick, not wait for the next input in the stream."},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1687538475,"post_id":76517989,"comment_id":134956191,"body_markdown":"@AndrewKor https://stackoverflow.com/questions/3895461/","body":"@AndrewKor <a href=\"https://stackoverflow.com/questions/3895461/\">stackoverflow.com/questions/3895461</a>"},{"owner":{"account_id":6388606,"reputation":589,"user_id":4955612,"accept_rate":60,"display_name":"Andrew Kor"},"score":0,"creation_date":1687630510,"post_id":76517989,"comment_id":134964932,"body_markdown":"that guide is very helpful. Thanks","body":"that guide is very helpful. Thanks"}],"tags":[],"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687306477,"creation_date":1687290701,"answer_id":76517989,"question_id":76514655,"body_markdown":"Your server loop is reading only 1 request per client, and is servicing only 1 client at a time.  `serverSocket.accept()` returns a new `Socket` for a newly connected client. You need to move the I/O logic for that `Socket` into a separate thread so that your loop can go back to `accept()` for the next client.\r\n\r\nTry something more like this instead:\r\n\r\n```java\r\nclass ClientThread extends Thread {\r\n    Socket client;\r\n\r\n    ClientThread(Socket client) {\r\n        this.client = client;\r\n    }\r\n\r\n    public void run() {\r\n        try {\r\n            DataInputStream dis = new DataInputStream(client.getInputStream());\r\n            while (true) {\r\n                String undividedInputs = dis.readUTF();\r\n                String[] inputs = undividedInputs.split(&quot;/&quot;);\r\n                DebugLogger.print(&quot;Messages:&quot;);\r\n                for(int i = 0; i &lt; inputs.length; i++){\r\n                    System.out.println(inputs[i]);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            System.err.println(e);\r\n        }\r\n    }\r\n}\r\n\r\npublic void run() {\r\n    try {\r\n        System.out.println(&quot;Binding socket..&quot;);\r\n        ServerSocket serverSocket = new ServerSocket(portNumber);\r\n        System.out.println(&quot;Socket is listening..&quot;);\r\n        while (true) {\r\n            Socket socket = serverSocket.accept();\r\n            new ClientThread(socket).start();\r\n        }\r\n    } catch (IOException e) {\r\n        System.err.println(e);\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```","title":"How do you create a server-side socket that can accept inputs from multiple clients in Java?","body":"<p>Your server loop is reading only 1 request per client, and is servicing only 1 client at a time.  <code>serverSocket.accept()</code> returns a new <code>Socket</code> for a newly connected client. You need to move the I/O logic for that <code>Socket</code> into a separate thread so that your loop can go back to <code>accept()</code> for the next client.</p>\n<p>Try something more like this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ClientThread extends Thread {\n    Socket client;\n\n    ClientThread(Socket client) {\n        this.client = client;\n    }\n\n    public void run() {\n        try {\n            DataInputStream dis = new DataInputStream(client.getInputStream());\n            while (true) {\n                String undividedInputs = dis.readUTF();\n                String[] inputs = undividedInputs.split(&quot;/&quot;);\n                DebugLogger.print(&quot;Messages:&quot;);\n                for(int i = 0; i &lt; inputs.length; i++){\n                    System.out.println(inputs[i]);\n                }\n            }\n        } catch (IOException e) {\n            System.err.println(e);\n        }\n    }\n}\n\npublic void run() {\n    try {\n        System.out.println(&quot;Binding socket..&quot;);\n        ServerSocket serverSocket = new ServerSocket(portNumber);\n        System.out.println(&quot;Socket is listening..&quot;);\n        while (true) {\n            Socket socket = serverSocket.accept();\n            new ClientThread(socket).start();\n        }\n    } catch (IOException e) {\n        System.err.println(e);\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6388606,"reputation":589,"user_id":4955612,"accept_rate":60,"display_name":"Andrew Kor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76517989,"answer_count":1,"score":-1,"last_activity_date":1687306477,"creation_date":1687263793,"question_id":76514655,"body_markdown":"I have a server-side socket running, with the aim for the socket to constantly accept new inputs from multiple different clients and the client can send an infinite number of requests. However, when I run the server and client, the server only seems to print only a single input from the client, even though the client is sending a new input every second.\r\n\r\nWhat do I need to modify in order for the server to:\r\n1. serve multiple clients at once\r\n2. Receive and print out an infinite number of inputs from each client\r\n\r\nCode:\r\n\r\nThe server socket thread:\r\n\r\n    public void run() {\r\n        try {\r\n            System.out.println(&quot;Binding socket..&quot;);\r\n            ServerSocket serverSocket = new ServerSocket(portNumber);\r\n    // THE MAIN READING LOOP:\r\n            while(true){\r\n                Socket socket = serverSocket.accept();\r\n                System.out.println(&quot;Socket is listening..&quot;);\r\n                DataInputStream dis = new DataInputStream(socket.getInputStream());\r\n  \r\n\r\n    //here, the code is meant to read the inputs made in the last 2 seconds as a single block (I&#39;m making a game)\r\n\r\n              \r\n\r\n                if(tickHappened){\r\n                    DebugLogger.print(&quot;Tick happened.&quot;);\r\n                    String undividedInputs = dis.readUTF();\r\n                    String[] inputs = undividedInputs.split(&quot;/&quot;);\r\n                    DebugLogger.print(&quot;Messages:&quot;);\r\n                    for(int i =0; i &lt; inputs.length;i++){\r\n                        System.out.println(inputs[i]);\r\n                    }\r\n                    tickHappened = false;\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            System.err.println(e);\r\n            throw new RuntimeException(e);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nThe client side, which sends inputs every second. The sendMessageToServer method is called:\r\n\r\n    package Graphics;\r\n    \r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    public class ClientToServerCommunications {\r\n        private static Socket s;\r\n    \r\n        static {\r\n            try {\r\n                s = new Socket(&quot;localhost&quot;,6666);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        ;\r\n        private static DataOutputStream dout;\r\n    \r\n        static {\r\n            try {\r\n                dout = new DataOutputStream(s.getOutputStream());\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        ;\r\n    \r\n    \r\n        public static void sendMessageToServer(String message) throws InterruptedException {\r\n            while (true) {\r\n                Thread.sleep(1000);\r\n                try {\r\n                    dout.writeUTF(message);\r\n                } catch (Exception e) {\r\n                    System.out.println(e);\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n","title":"How do you create a server-side socket that can accept inputs from multiple clients in Java?","body":"<p>I have a server-side socket running, with the aim for the socket to constantly accept new inputs from multiple different clients and the client can send an infinite number of requests. However, when I run the server and client, the server only seems to print only a single input from the client, even though the client is sending a new input every second.</p>\n<p>What do I need to modify in order for the server to:</p>\n<ol>\n<li>serve multiple clients at once</li>\n<li>Receive and print out an infinite number of inputs from each client</li>\n</ol>\n<p>Code:</p>\n<p>The server socket thread:</p>\n<pre><code>public void run() {\n    try {\n        System.out.println(&quot;Binding socket..&quot;);\n        ServerSocket serverSocket = new ServerSocket(portNumber);\n// THE MAIN READING LOOP:\n        while(true){\n            Socket socket = serverSocket.accept();\n            System.out.println(&quot;Socket is listening..&quot;);\n            DataInputStream dis = new DataInputStream(socket.getInputStream());\n\n\n//here, the code is meant to read the inputs made in the last 2 seconds as a single block (I'm making a game)\n\n          \n\n            if(tickHappened){\n                DebugLogger.print(&quot;Tick happened.&quot;);\n                String undividedInputs = dis.readUTF();\n                String[] inputs = undividedInputs.split(&quot;/&quot;);\n                DebugLogger.print(&quot;Messages:&quot;);\n                for(int i =0; i &lt; inputs.length;i++){\n                    System.out.println(inputs[i]);\n                }\n                tickHappened = false;\n            }\n        }\n    } catch (IOException e) {\n        System.err.println(e);\n        throw new RuntimeException(e);\n\n    }\n}\n</code></pre>\n<p>The client side, which sends inputs every second. The sendMessageToServer method is called:</p>\n<pre><code>package Graphics;\n\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class ClientToServerCommunications {\n    private static Socket s;\n\n    static {\n        try {\n            s = new Socket(&quot;localhost&quot;,6666);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    ;\n    private static DataOutputStream dout;\n\n    static {\n        try {\n            dout = new DataOutputStream(s.getOutputStream());\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    ;\n\n\n    public static void sendMessageToServer(String message) throws InterruptedException {\n        while (true) {\n            Thread.sleep(1000);\n            try {\n                dout.writeUTF(message);\n            } catch (Exception e) {\n                System.out.println(e);\n            }\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","windows","bash","gradle","windows-subsystem-for-linux"],"comments":[{"owner":{"account_id":3912470,"reputation":667,"user_id":3237372,"accept_rate":58,"display_name":"Martin D"},"score":0,"creation_date":1515878986,"post_id":45451450,"comment_id":83471466,"body_markdown":"Hello @Shorn, I am curious whether you have managed to set up your environment to use Gradle scripts in WSL without having it install into Linux.","body":"Hello @Shorn, I am curious whether you have managed to set up your environment to use Gradle scripts in WSL without having it install into Linux."},{"owner":{"account_id":874712,"reputation":19505,"user_id":924597,"accept_rate":79,"display_name":"Shorn"},"score":1,"creation_date":1515973983,"post_id":45451450,"comment_id":83493453,"body_markdown":"@MartinD No, I gave up after failing to find much info out there for this kind of thing.  Decided to give the WSL a few years to bake - MinGW/Cygwin etc. are fine for my usage.","body":"@MartinD No, I gave up after failing to find much info out there for this kind of thing.  Decided to give the WSL a few years to bake - MinGW/Cygwin etc. are fine for my usage."}],"answers":[{"tags":[],"owner":{"account_id":974734,"reputation":2864,"user_id":4957915,"display_name":"solamour"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537645957,"creation_date":1537645957,"answer_id":52460336,"question_id":45451450,"body_markdown":"Just to make sure I didn&#39;t miss anything obvious, I downloaded Android Studio (which contains JDK, or rather, minimal set of Java tools to build Android projects) for Windows and Linux and installed them to 2 different directories: Windows version in `C:\\Program Files\\Android\\Android Studio` and Linux version in `~/android-studio`.\r\n\r\nInside WSL, I first set `JAVA_HOME` to `C:\\Program Files\\Android\\Android Studio\\jre` and ran `gradlew`. It gave me `invalid directory` error message.\r\n\r\nNext, I set `JAVA_HOME` to `~/android-studio/jre`. Everything worked as expected.\r\n\r\nAnd then I copied Android Studio for Windows to `~/android-studio-windows` and set `JAVA_HOME` to `~/android-studio-windows/jre`. It gave me the same `invalid directory` error message, so I think WSL isn&#39;t able to use Windows tools as they are (well, at least not for the moment).\r\n\r\nSo, if your goal is to use gradle in WSL, I think you need to install OpenJDK for Linux (or something similar) inside WSL.","title":"How can I build my Gradle project using a Windows JDK from Ubuntu on Windows?","body":"<p>Just to make sure I didn't miss anything obvious, I downloaded Android Studio (which contains JDK, or rather, minimal set of Java tools to build Android projects) for Windows and Linux and installed them to 2 different directories: Windows version in <code>C:\\Program Files\\Android\\Android Studio</code> and Linux version in <code>~/android-studio</code>.</p>\n\n<p>Inside WSL, I first set <code>JAVA_HOME</code> to <code>C:\\Program Files\\Android\\Android Studio\\jre</code> and ran <code>gradlew</code>. It gave me <code>invalid directory</code> error message.</p>\n\n<p>Next, I set <code>JAVA_HOME</code> to <code>~/android-studio/jre</code>. Everything worked as expected.</p>\n\n<p>And then I copied Android Studio for Windows to <code>~/android-studio-windows</code> and set <code>JAVA_HOME</code> to <code>~/android-studio-windows/jre</code>. It gave me the same <code>invalid directory</code> error message, so I think WSL isn't able to use Windows tools as they are (well, at least not for the moment).</p>\n\n<p>So, if your goal is to use gradle in WSL, I think you need to install OpenJDK for Linux (or something similar) inside WSL.</p>\n"},{"tags":[],"owner":{"account_id":874712,"reputation":19505,"user_id":924597,"accept_rate":79,"display_name":"Shorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687306268,"creation_date":1537656078,"answer_id":52461476,"question_id":45451450,"body_markdown":"When you launch `./gradlew` from inside WSL, it attempts to run the Java binary from `$JAVA_HOME` Java installation. What kind of installation is it? Does it contain Windows binary or Linux binary?\r\n\r\nIf the question is reduced to: &quot;how to run a windows binary from WSL&quot;.\r\n\r\nThen the answer is: &quot;you can&#39;t - that&#39;s not supported&quot;.\r\n\r\n - https://github.com/Microsoft/WSL/issues/333\r\n - https://github.com/kubernetes/minikube/issues/2140","title":"How can I build my Gradle project using a Windows JDK from Ubuntu on Windows?","body":"<p>When you launch <code>./gradlew</code> from inside WSL, it attempts to run the Java binary from <code>$JAVA_HOME</code> Java installation. What kind of installation is it? Does it contain Windows binary or Linux binary?</p>\n<p>If the question is reduced to: &quot;how to run a windows binary from WSL&quot;.</p>\n<p>Then the answer is: &quot;you can't - that's not supported&quot;.</p>\n<ul>\n<li><a href=\"https://github.com/Microsoft/WSL/issues/333\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/WSL/issues/333</a></li>\n<li><a href=\"https://github.com/kubernetes/minikube/issues/2140\" rel=\"nofollow noreferrer\">https://github.com/kubernetes/minikube/issues/2140</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5291309,"reputation":420,"user_id":4223826,"display_name":"Rdey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554844125,"creation_date":1554844125,"answer_id":55601353,"question_id":45451450,"body_markdown":"If you are using **WSL** and you want to run **gradlew from WSL terminal** then you can do it as follow:\r\n\r\n``` bash\r\ncmd.exe /c gradlew --version\r\ncmd.exe /c gradlew :help\r\ncmd.exe /c gradlew app:dependencies\r\ncmd.exe /c gradlew app:dependencies | grep -i &quot;com.android.support&quot;\r\n```\r\n**I&#39;m using windows version:**\r\n```\r\nrdey@surface-book:/mnt/c/Users/rdey/git/ici$ cmd.exe /c &quot;systeminfo&quot; | grep &quot;^OS Version&quot;\r\nOS Version:                10.0.17763 N/A Build 17763\r\n```","title":"How can I build my Gradle project using a Windows JDK from Ubuntu on Windows?","body":"<p>If you are using <strong>WSL</strong> and you want to run <strong>gradlew from WSL terminal</strong> then you can do it as follow:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>cmd.exe /c gradlew --version\ncmd.exe /c gradlew :help\ncmd.exe /c gradlew app:dependencies\ncmd.exe /c gradlew app:dependencies | grep -i \"com.android.support\"\n</code></pre>\n\n<p><strong>I'm using windows version:</strong></p>\n\n<pre><code>rdey@surface-book:/mnt/c/Users/rdey/git/ici$ cmd.exe /c \"systeminfo\" | grep \"^OS Version\"\nOS Version:                10.0.17763 N/A Build 17763\n</code></pre>\n"}],"owner":{"account_id":874712,"reputation":19505,"user_id":924597,"accept_rate":79,"display_name":"Shorn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4259,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":52461476,"answer_count":3,"score":9,"last_activity_date":1687306268,"creation_date":1501647838,"question_id":45451450,"body_markdown":"My Windows 10 machine recently forcibly upgraded me to the new &quot;Creators Update&quot; version of windows, the &quot;About your PC&quot; widget now reports my OS version as &quot;1703&quot;.\r\n\r\nI thought I would have a crack at using the Windows Subsystem for Linux / Ubuntu on Windows to compile my Gradle projects.\r\n\r\nI have a Windows JDK installed at `c:\\jvm\\jdk1.8.0_102`.\r\n\r\nIn my MinGW terminal window (&quot;git bash&quot;), I can setup a JAVA_HOME and execute the gradle wrapper script from my source directory and it will just work:\r\n\r\n    export JAVA_HOME=/c/jvm/jdk1.8.0_102\r\n    ./gradlew tasks\r\n\r\n\r\nBut I can&#39;t figure out how to do an equivalent thing with WSL.\r\nOpening up the &quot;Bash on Ubuntu on Windows&quot; terminal, changing to my source directory and invoking the following:\r\n\r\n    export JAVA_HOME=/mnt/c/jvm/jdk1.8.0_102\r\n    ./gradlew tasks\r\n\r\n\r\nResults in the following:\r\n\r\n    ERROR: JAVA_HOME is set to an invalid directory: /mnt/c/jvm/jdk1.8.0_102\r\n\r\n    Please set the JAVA_HOME variable in your environment to match the\r\n    location of your Java installation.\r\n\r\nNote that the Windows JDK runs fine from within the bash terminal.  Executing `$JAVA_HOME/bin/java.exe -version` in the Ubuntu terminal will work fine.\r\n\r\n\r\n**The question is**:\r\n\r\nIs there any way to run my gradlew script from a &quot;Bash on Ubuntu on Windows&quot; terminal using the Windows JDK I&#39;ve previously installed.\r\n\r\n\r\n*Please note*:\r\n\r\nI&#39;m specifically asking if it&#39;s possible to get my Gradle script running using the Windows JDK, not an Ubuntu/Linux JDK installed with WSL.\r\nI understand I can likely run my gradle wrapper script by installing a Linux JDK within the Windows Sunbsystem for Linux, but I&#39;m trying to figure out if it&#39;s possible to run my builds using the Windows JDK.","title":"How can I build my Gradle project using a Windows JDK from Ubuntu on Windows?","body":"<p>My Windows 10 machine recently forcibly upgraded me to the new \"Creators Update\" version of windows, the \"About your PC\" widget now reports my OS version as \"1703\".</p>\n\n<p>I thought I would have a crack at using the Windows Subsystem for Linux / Ubuntu on Windows to compile my Gradle projects.</p>\n\n<p>I have a Windows JDK installed at <code>c:\\jvm\\jdk1.8.0_102</code>.</p>\n\n<p>In my MinGW terminal window (\"git bash\"), I can setup a JAVA_HOME and execute the gradle wrapper script from my source directory and it will just work:</p>\n\n<pre><code>export JAVA_HOME=/c/jvm/jdk1.8.0_102\n./gradlew tasks\n</code></pre>\n\n<p>But I can't figure out how to do an equivalent thing with WSL.\nOpening up the \"Bash on Ubuntu on Windows\" terminal, changing to my source directory and invoking the following:</p>\n\n<pre><code>export JAVA_HOME=/mnt/c/jvm/jdk1.8.0_102\n./gradlew tasks\n</code></pre>\n\n<p>Results in the following:</p>\n\n<pre><code>ERROR: JAVA_HOME is set to an invalid directory: /mnt/c/jvm/jdk1.8.0_102\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n</code></pre>\n\n<p>Note that the Windows JDK runs fine from within the bash terminal.  Executing <code>$JAVA_HOME/bin/java.exe -version</code> in the Ubuntu terminal will work fine.</p>\n\n<p><strong>The question is</strong>:</p>\n\n<p>Is there any way to run my gradlew script from a \"Bash on Ubuntu on Windows\" terminal using the Windows JDK I've previously installed.</p>\n\n<p><em>Please note</em>:</p>\n\n<p>I'm specifically asking if it's possible to get my Gradle script running using the Windows JDK, not an Ubuntu/Linux JDK installed with WSL.\nI understand I can likely run my gradle wrapper script by installing a Linux JDK within the Windows Sunbsystem for Linux, but I'm trying to figure out if it's possible to run my builds using the Windows JDK.</p>\n"},{"tags":["java","synchronization","locks"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1687303448,"post_id":76518961,"comment_id":134916978,"body_markdown":"I have formatted your code for readability, but this is something you should really be doing yourself","body":"I have formatted your code for readability, but this is something you should really be doing yourself"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687303691,"post_id":76518961,"comment_id":134916998,"body_markdown":"Try writing `synchronized(balance)`. What does the compiler say? Why?","body":"Try writing <code>synchronized(balance)</code>. What does the compiler say? Why?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687303758,"post_id":76518961,"comment_id":134917001,"body_markdown":"Try setting up a little program with a couple of threads and some `Thread.sleep` calls, so that you can check these things yourself.","body":"Try setting up a little program with a couple of threads and some <code>Thread.sleep</code> calls, so that you can check these things yourself."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1687304084,"post_id":76518961,"comment_id":134917019,"body_markdown":"&quot;so a lock on balance and not on &quot;this&quot;&quot; what are you trying to achieve by doing that?","body":"&quot;so a lock on balance and not on &quot;this&quot;&quot; what are you trying to achieve by doing that?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687304146,"post_id":76518961,"comment_id":134917026,"body_markdown":"`synchronized(this) {` is essentially doing the same thing as `synchronized void withdraw(int amount) {` (in the context of this example), so it&#39;s locking on the instance of the object.  The use of `synchronized` should focus on critical paths, so two threads can&#39;t modify the balance at the same time, for example.  The next question is why would you want to lock on `balance` (assuming you actually could) over `this` in this case?","body":"<code>synchronized(this) {</code> is essentially doing the same thing as <code>synchronized void withdraw(int amount) {</code> (in the context of this example), so it&#39;s locking on the instance of the object.  The use of <code>synchronized</code> should focus on critical paths, so two threads can&#39;t modify the balance at the same time, for example.  The next question is why would you want to lock on <code>balance</code> (assuming you actually could) over <code>this</code> in this case?"},{"owner":{"account_id":17614006,"reputation":157,"user_id":14043571,"display_name":"Ronald"},"score":0,"creation_date":1687304640,"post_id":76518961,"comment_id":134917074,"body_markdown":"@MadProgrammer I still don&#39;t fully understand it. &quot;synchronized (balance) ...&quot; puts a lock on balance, which is not the same as putting a lock on the instance? This means that a synchronized method (i.e., a method with body &quot;synchronized (this) ...&quot;)  can still be executed at the same time &quot;synchronized (balance) ...&quot; is executed?","body":"@MadProgrammer I still don&#39;t fully understand it. &quot;synchronized (balance) ...&quot; puts a lock on balance, which is not the same as putting a lock on the instance? This means that a synchronized method (i.e., a method with body &quot;synchronized (this) ...&quot;)  can still be executed at the same time &quot;synchronized (balance) ...&quot; is executed?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687307789,"post_id":76518961,"comment_id":134917326,"body_markdown":"`synchronized (balance)` (assuming you could) would lock any other parts of your code which used the same thing, so if you did it in withdraw and deposit, only one thread would be able to execute those critical paths at a time - but, `synchronized` works on `Object`s only. `synchronized (this)` is locking on the instance object itself - so it&#39;s a matter of need/desire and the level of granularity you need. Also remember, you could do `synchronized (instanceOfBankAccount) { ...}` and this would also prevent any other threads from been able to execute the (`synchronized(this)`) critical paths","body":"<code>synchronized (balance)</code> (assuming you could) would lock any other parts of your code which used the same thing, so if you did it in withdraw and deposit, only one thread would be able to execute those critical paths at a time - but, <code>synchronized</code> works on <code>Object</code>s only. <code>synchronized (this)</code> is locking on the instance object itself - so it&#39;s a matter of need/desire and the level of granularity you need. Also remember, you could do <code>synchronized (instanceOfBankAccount) { ...}</code> and this would also prevent any other threads from been able to execute the (<code>synchronized(this)</code>) critical paths"}],"answers":[{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687304634,"creation_date":1687304634,"answer_id":76519034,"question_id":76518961,"body_markdown":"&gt; can that method be executed at the same moment withdraw is executed\r\n\r\nIgnoring that you can&#39;t sync on a primitive `int` and answering as if it were some object type, say `Integer`...\r\n\r\nThen, yes, they can execute concurrently, since the two methods are using different locks, and thus neither prevents the other from executing.\r\n\r\nIt is irrelevant that one of the objects sync&#39;d-on happens to contain the other object being sync&#39;d-on.\r\n","title":"synchronized this vs field in Java","body":"<blockquote>\n<p>can that method be executed at the same moment withdraw is executed</p>\n</blockquote>\n<p>Ignoring that you can't sync on a primitive <code>int</code> and answering as if it were some object type, say <code>Integer</code>...</p>\n<p>Then, yes, they can execute concurrently, since the two methods are using different locks, and thus neither prevents the other from executing.</p>\n<p>It is irrelevant that one of the objects sync'd-on happens to contain the other object being sync'd-on.</p>\n"},{"comments":[{"owner":{"account_id":17614006,"reputation":157,"user_id":14043571,"display_name":"Ronald"},"score":0,"creation_date":1687305159,"post_id":76519036,"comment_id":134917116,"body_markdown":"Thank you, but I&#39;m confused. &quot;Nothing stops thread 2 from changing the balance field&quot;, but the first thread puts a lock on balance, so balance can&#39;t be modified, no?","body":"Thank you, but I&#39;m confused. &quot;Nothing stops thread 2 from changing the balance field&quot;, but the first thread puts a lock on balance, so balance can&#39;t be modified, no?"},{"owner":{"account_id":17614006,"reputation":157,"user_id":14043571,"display_name":"Ronald"},"score":0,"creation_date":1687305186,"post_id":76519036,"comment_id":134917119,"body_markdown":"so balance = balance + 1 should be possible as long as the synchronized block in thread 1 is running?","body":"so balance = balance + 1 should be possible as long as the synchronized block in thread 1 is running?"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1687306441,"post_id":76519036,"comment_id":134917221,"body_markdown":"@Ronald no that defeats the synchronization because threads trying to acquire a lock are accessing a different lock than the thread that just changed the balance value. This is totally broken.","body":"@Ronald no that defeats the synchronization because threads trying to acquire a lock are accessing a different lock than the thread that just changed the balance value. This is totally broken."},{"owner":{"account_id":17614006,"reputation":157,"user_id":14043571,"display_name":"Ronald"},"score":0,"creation_date":1687306724,"post_id":76519036,"comment_id":134917238,"body_markdown":"I meant: balance = balance + 1 should NOT be possible as long as the synchronized block in thread 1 is running, right?","body":"I meant: balance = balance + 1 should NOT be possible as long as the synchronized block in thread 1 is running, right?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1687346534,"post_id":76519036,"comment_id":134923155,"body_markdown":"@Ronald no, nothing stops you doing that outside a synchronized block.","body":"@Ronald no, nothing stops you doing that outside a synchronized block."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1687346853,"post_id":76519036,"comment_id":134923223,"body_markdown":"@user16320675 &quot;wouldn&#39;t that be even worse than using a private field&quot; it&#39;s a question of the value in the private field. If it stores a widely-accessible value (such as a cached Integer), that&#39;s worse than using `this`, as I say. If it stores something that is inaccessible outside the object, that&#39;s... different. It means that the field value cannot be externally synchronized on, but that doesn&#39;t stop somebody externally synchronizing on `this` _in the expectation_ that&#39;s the correct thing to do to preserve the internal state. Desirable in some cases, maybe not in others.","body":"@user16320675 &quot;wouldn&#39;t that be even worse than using a private field&quot; it&#39;s a question of the value in the private field. If it stores a widely-accessible value (such as a cached Integer), that&#39;s worse than using <code>this</code>, as I say. If it stores something that is inaccessible outside the object, that&#39;s... different. It means that the field value cannot be externally synchronized on, but that doesn&#39;t stop somebody externally synchronizing on <code>this</code> <i>in the expectation</i> that&#39;s the correct thing to do to preserve the internal state. Desirable in some cases, maybe not in others."}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687304655,"creation_date":1687304655,"answer_id":76519036,"question_id":76518961,"body_markdown":"You can&#39;t synchronize on `balance` because it has primitive type: you can only synchronize on non-null reference types.\r\n\r\nHowever, changing `balance` to `Integer` would not be a desirable thing to do: synchronization locks on the expression&#39;s value. As such, nothing would stop you doing something like this:\r\n\r\n```\r\n// Thread 1.\r\nsynchronized (balance) {\r\n  // Do something long-running here.\r\n}\r\n\r\n// Thread 2.\r\nbalance = balance + 1;\r\nsynchronized (balance) {\r\n  // ...\r\n}\r\n```\r\n\r\nNothing stops thread 2 from changing the balance field; and because `(Object) balance != (Object) (balance + 1)` (`!=` meaning &quot;is not the same object as&quot;), thread 2 would then be synchronizing on a different object to thread 1, so there would be no mutual exclusion, happens-before etc.\r\n\r\nNot to mention, synchronizing on something as pervasive as an `Integer` could lead to weird behavior, if someone else has access to the same `Integer` (e.g. via autoboxing), and decides to synchronize on it themselves.\r\n\r\nJust don&#39;t do this: the right thing to synchronize on is the holder of `balance`, i.e. `this`.","title":"synchronized this vs field in Java","body":"<p>You can't synchronize on <code>balance</code> because it has primitive type: you can only synchronize on non-null reference types.</p>\n<p>However, changing <code>balance</code> to <code>Integer</code> would not be a desirable thing to do: synchronization locks on the expression's value. As such, nothing would stop you doing something like this:</p>\n<pre><code>// Thread 1.\nsynchronized (balance) {\n  // Do something long-running here.\n}\n\n// Thread 2.\nbalance = balance + 1;\nsynchronized (balance) {\n  // ...\n}\n</code></pre>\n<p>Nothing stops thread 2 from changing the balance field; and because <code>(Object) balance != (Object) (balance + 1)</code> (<code>!=</code> meaning &quot;is not the same object as&quot;), thread 2 would then be synchronizing on a different object to thread 1, so there would be no mutual exclusion, happens-before etc.</p>\n<p>Not to mention, synchronizing on something as pervasive as an <code>Integer</code> could lead to weird behavior, if someone else has access to the same <code>Integer</code> (e.g. via autoboxing), and decides to synchronize on it themselves.</p>\n<p>Just don't do this: the right thing to synchronize on is the holder of <code>balance</code>, i.e. <code>this</code>.</p>\n"},{"comments":[{"owner":{"account_id":17614006,"reputation":157,"user_id":14043571,"display_name":"Ronald"},"score":0,"creation_date":1687306181,"post_id":76519110,"comment_id":134917200,"body_markdown":"Thank you! &quot;So, if you are using synchronized(this), then the entire instance will block other threads, on any invocation.&quot; So even invocations of methods that are not synchronized? can you provide sources that confirm this statement?","body":"Thank you! &quot;So, if you are using synchronized(this), then the entire instance will block other threads, on any invocation.&quot; So even invocations of methods that are not synchronized? can you provide sources that confirm this statement?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687306423,"post_id":76519110,"comment_id":134917218,"body_markdown":"@Ronald, correct.  The lock will be on _this_, the instance, thus any thread which is encountering the same instance, will be blocked, until the synchronized code-block is exited.  The following tutorial explains it, under the area titled, &quot;Synchronized Statements&quot;, in bold. \n https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html.","body":"@Ronald, correct.  The lock will be on <i>this</i>, the instance, thus any thread which is encountering the same instance, will be blocked, until the synchronized code-block is exited.  The following tutorial explains it, under the area titled, &quot;Synchronized Statements&quot;, in bold.   <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>."},{"owner":{"account_id":17614006,"reputation":157,"user_id":14043571,"display_name":"Ronald"},"score":0,"creation_date":1687306782,"post_id":76519110,"comment_id":134917247,"body_markdown":"thanks! so the answer of Arfur Narf is actually wrong?","body":"thanks! so the answer of Arfur Narf is actually wrong?"},{"owner":{"account_id":17614006,"reputation":157,"user_id":14043571,"display_name":"Ronald"},"score":0,"creation_date":1687306912,"post_id":76519110,"comment_id":134917258,"body_markdown":"and I don&#39;t see it directly mentioned in the source?","body":"and I don&#39;t see it directly mentioned in the source?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687307291,"post_id":76519110,"comment_id":134917290,"body_markdown":"@Ronald, no, they are still correct.  I believe you&#39;re interpreting it incorrectly.  Imagine you have a one _new BankAccount_ object.  And, you have 2 threads which work simultaneously on that same object.  Providing the _synchronized(this)_ statement, will block the other threads invocations upon the same object, until the accessing thread has completed that code-block.  That user is under the assumption you are referring to two separate instances.  The synchronization is upon the instance, and not the class.  So two separate objects will not be affected by a lock.","body":"@Ronald, no, they are still correct.  I believe you&#39;re interpreting it incorrectly.  Imagine you have a one <i>new BankAccount</i> object.  And, you have 2 threads which work simultaneously on that same object.  Providing the <i>synchronized(this)</i> statement, will block the other threads invocations upon the same object, until the accessing thread has completed that code-block.  That user is under the assumption you are referring to two separate instances.  The synchronization is upon the instance, and not the class.  So two separate objects will not be affected by a lock."},{"owner":{"account_id":17614006,"reputation":157,"user_id":14043571,"display_name":"Ronald"},"score":0,"creation_date":1687307387,"post_id":76519110,"comment_id":134917302,"body_markdown":"I indeed meant one single instance, thanks for the clarification!","body":"I indeed meant one single instance, thanks for the clarification!"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687307557,"post_id":76519110,"comment_id":134917315,"body_markdown":"@Ronald, sure, no problem.  The concept of threading is very basic, the actual design of the processes can be complex.","body":"@Ronald, sure, no problem.  The concept of threading is very basic, the actual design of the processes can be complex."},{"owner":{"account_id":17614006,"reputation":157,"user_id":14043571,"display_name":"Ronald"},"score":0,"creation_date":1687307849,"post_id":76519110,"comment_id":134917330,"body_markdown":"May I ask one final question about this? Let&#39;s say I have a private List&lt;Some-Object&gt; objects; and in some method A I have synchronized (objects) {...}. Another method reads from the objects list. Can that other read from the list at the same time the method A is executed?","body":"May I ask one final question about this? Let&#39;s say I have a private List&lt;Some-Object&gt; objects; and in some method A I have synchronized (objects) {...}. Another method reads from the objects list. Can that other read from the list at the same time the method A is executed?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687308430,"post_id":76519110,"comment_id":134917373,"body_markdown":"@Ronald, yes, if the synchronization is upon _objects_, then that object will only allow for one thread to access it at a time.  On that note, the _Collections_ framework offers an optimized, synchronized _List_, object, via the _[Collections#synchronizedList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#synchronizedList(java.util.List))_ method.","body":"@Ronald, yes, if the synchronization is upon <i>objects</i>, then that object will only allow for one thread to access it at a time.  On that note, the <i>Collections</i> framework offers an optimized, synchronized <i>List</i>, object, via the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#synchronizedList(java.util.List)\" rel=\"nofollow noreferrer\">Collections#synchronizedList</a></i> method."},{"owner":{"account_id":17614006,"reputation":157,"user_id":14043571,"display_name":"Ronald"},"score":0,"creation_date":1687308509,"post_id":76519110,"comment_id":134917381,"body_markdown":"Thanks. But my question was &quot;Can that other read from the list at the same time the method A is executed?&quot;, so the answer to it is &quot;no&quot;? Because you seem to have meant &quot;no&quot;?","body":"Thanks. But my question was &quot;Can that other read from the list at the same time the method A is executed?&quot;, so the answer to it is &quot;no&quot;? Because you seem to have meant &quot;no&quot;?"},{"owner":{"account_id":17614006,"reputation":157,"user_id":14043571,"display_name":"Ronald"},"score":0,"creation_date":1687308618,"post_id":76519110,"comment_id":134917389,"body_markdown":"Please note that the other method contains no &quot; synchronized (objects) {...}&quot; blocks. And what would be the difference if it would contain a  synchronized (objects) {...} even though it just reads objects, it doesn&#39;t change anything. But I want to prevent race conditions (when method A writes, the other method reads, I want to prevent that).","body":"Please note that the other method contains no &quot; synchronized (objects) {...}&quot; blocks. And what would be the difference if it would contain a  synchronized (objects) {...} even though it just reads objects, it doesn&#39;t change anything. But I want to prevent race conditions (when method A writes, the other method reads, I want to prevent that)."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687308624,"post_id":76519110,"comment_id":134917390,"body_markdown":"@Ronald, my mistake, no it cannot.  I meant, _&quot;yes, it will lock the List object&quot;_.","body":"@Ronald, my mistake, no it cannot.  I meant, <i>&quot;yes, it will lock the List object&quot;</i>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687308781,"post_id":76519110,"comment_id":134917410,"body_markdown":"@Ronald, the lock is upon any invocation.  So both read and write access.  Essentially, when the thread encounters the object, it&#39;s notified that there is a lock, so it just waits.  It cannot even obtain the object.","body":"@Ronald, the lock is upon any invocation.  So both read and write access.  Essentially, when the thread encounters the object, it&#39;s notified that there is a lock, so it just waits.  It cannot even obtain the object."},{"owner":{"account_id":17614006,"reputation":157,"user_id":14043571,"display_name":"Ronald"},"score":0,"creation_date":1687308850,"post_id":76519110,"comment_id":134917419,"body_markdown":"@Relias, it&#39;s all clear now, THANK YOU!","body":"@Relias, it&#39;s all clear now, THANK YOU!"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687308921,"post_id":76519110,"comment_id":134917424,"body_markdown":"@Ronald, no problem, glad to help.","body":"@Ronald, no problem, glad to help."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":15,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687305832,"creation_date":1687305832,"answer_id":76519110,"question_id":76518961,"body_markdown":"Great question.\r\n\r\n&gt; _&quot;... Let&#39;s say I have in another method &quot;synchronized (balance) ...&quot; (so a lock on balance and not on &quot;this&quot;), can that method be executed at the same moment withdraw is executed?&quot;_\r\n\r\nThis is the exact reason there are both _synchronized methods_ and _synchronized statements_.  \r\nYou can fine tune the synchronization, as to prevent unnecessary blocking within threads.\r\n\r\nAll synchronization does is allow for only one thread to execute the code-block at a time.\r\n\r\nSo, if you are using _synchronized(this)_, then the entire instance will block other threads, on any invocation.  \r\nWhereas, if you are synchronizing on just a single variable, then only invocations on that object&amp;mdash;or variable&amp;mdash;will block.\r\n\r\n_[Intrinsic Locks and Synchronization (The Java&amp;trade; Tutorials &amp;gt; Essential Java Classes &amp;gt; Concurrency)](https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html)_.  \r\n\r\nHere is a relevant excerpt.\r\n\r\n&gt; _&quot;... Synchronized statements are also useful for improving concurrency with fine-grained synchronization. Suppose, for example, class MsLunch has two instance fields, c1 and c2, that are never used together. All updates of these fields must be synchronized, but there&#39;s no reason to prevent an update of c1 from being interleaved with an update of c2 — and doing so reduces concurrency by creating unnecessary blocking. Instead of using synchronized methods or otherwise using the lock associated with this, we create two objects solely to provide locks. ...&quot;_","title":"synchronized this vs field in Java","body":"<p>Great question.</p>\n<blockquote>\n<p><em>&quot;... Let's say I have in another method &quot;synchronized (balance) ...&quot; (so a lock on balance and not on &quot;this&quot;), can that method be executed at the same moment withdraw is executed?&quot;</em></p>\n</blockquote>\n<p>This is the exact reason there are both <em>synchronized methods</em> and <em>synchronized statements</em>.<br />\nYou can fine tune the synchronization, as to prevent unnecessary blocking within threads.</p>\n<p>All synchronization does is allow for only one thread to execute the code-block at a time.</p>\n<p>So, if you are using <em>synchronized(this)</em>, then the entire instance will block other threads, on any invocation.<br />\nWhereas, if you are synchronizing on just a single variable, then only invocations on that object—or variable—will block.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\">Intrinsic Locks and Synchronization (The Java™ Tutorials &gt; Essential Java Classes &gt; Concurrency)</a></em>.</p>\n<p>Here is a relevant excerpt.</p>\n<blockquote>\n<p><em>&quot;... Synchronized statements are also useful for improving concurrency with fine-grained synchronization. Suppose, for example, class MsLunch has two instance fields, c1 and c2, that are never used together. All updates of these fields must be synchronized, but there's no reason to prevent an update of c1 from being interleaved with an update of c2 — and doing so reduces concurrency by creating unnecessary blocking. Instead of using synchronized methods or otherwise using the lock associated with this, we create two objects solely to provide locks. ...&quot;</em></p>\n</blockquote>\n"}],"owner":{"account_id":17614006,"reputation":157,"user_id":14043571,"display_name":"Ronald"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76519110,"answer_count":3,"score":0,"last_activity_date":1687305832,"creation_date":1687303133,"question_id":76518961,"body_markdown":"```\r\nclass BankAccount {\r\n  private int balance = 0;\r\n\r\n  int getBalance() {\r\n    synchronized(this) {\r\n      return balance;\r\n    }\r\n  }\r\n\r\n  void setBalance(int x) {\r\n    synchronized(this) {\r\n      balance = x;\r\n    }\r\n  }\r\n\r\n  void withdraw(int amount) {\r\n    synchronized(this) {\r\n      int b = getBalance();\r\n      if (amount &gt; b)\r\n        throw...\r\n          setBalance(b– amount);\r\n    }\r\n  }\r\n}\r\n```\r\nIn withdraw there is &quot;synchronized (this) ...&quot;.\r\n\r\nLet&#39;s say I have in another method &quot;synchronized (balance) ...&quot; (so a lock on balance and not on &quot;this&quot;), can that method be executed at the same moment withdraw is executed?","title":"synchronized this vs field in Java","body":"<pre><code>class BankAccount {\n  private int balance = 0;\n\n  int getBalance() {\n    synchronized(this) {\n      return balance;\n    }\n  }\n\n  void setBalance(int x) {\n    synchronized(this) {\n      balance = x;\n    }\n  }\n\n  void withdraw(int amount) {\n    synchronized(this) {\n      int b = getBalance();\n      if (amount &gt; b)\n        throw...\n          setBalance(b– amount);\n    }\n  }\n}\n</code></pre>\n<p>In withdraw there is &quot;synchronized (this) ...&quot;.</p>\n<p>Let's say I have in another method &quot;synchronized (balance) ...&quot; (so a lock on balance and not on &quot;this&quot;), can that method be executed at the same moment withdraw is executed?</p>\n"},{"tags":["java","amazon-web-services","sts-securitytokenservice"],"comments":[{"owner":{"account_id":6992865,"reputation":147,"user_id":7207406,"display_name":"Leon Kacowicz"},"score":0,"creation_date":1687305497,"post_id":76519043,"comment_id":134917148,"body_markdown":"Which versions of the SDK did you try?","body":"Which versions of the SDK did you try?"},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687311921,"post_id":76519043,"comment_id":134917703,"body_markdown":"Hi there please provide more details about your question~","body":"Hi there please provide more details about your question~"},{"owner":{"account_id":28861885,"reputation":1,"user_id":22105493,"display_name":"Xin Chen"},"score":0,"creation_date":1687363794,"post_id":76519043,"comment_id":134927492,"body_markdown":"Hi, I used this dependency: &#39;&lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\n            &lt;version&gt;1.12.471&lt;/version&gt;\n        &lt;/dependency&gt;&#39;","body":"Hi, I used this dependency: &#39;&lt;dependency&gt;             &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;             &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;             &lt;version&gt;1.12.471&lt;/version&gt;         &lt;/dependency&gt;&#39;"}],"owner":{"account_id":28861885,"reputation":1,"user_id":22105493,"display_name":"Xin Chen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687304772,"creation_date":1687304772,"question_id":76519043,"body_markdown":"Follow https://docs.aws.amazon.com/AmazonS3/latest/userguide/AuthUsingTempSessionToken.html,\r\nbut encountered error\r\n\r\n```\r\nCannot resolve method &#39;withCredentials&#39; in &#39;AWSSecurityTokenServiceClientBuilder&#39;\r\n```\r\n\r\n\r\n```\r\nAWSSecurityTokenService stsClient = AWSSecurityTokenServiceClientBuilder.standard()\r\n                                                                                .withCredentials(new ProfileCredentialsProvider())\r\n                                                                                .withRegion(REGION)\r\n                                                                                .build();\r\n```\r\n\r\n\r\nTried change dependencies version but it didn&#39;t work.","title":"AWSSecurityTokenServiceClientBuilder cannot resolve method &quot;withCredentials&quot;","body":"<p>Follow <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/AuthUsingTempSessionToken.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/AuthUsingTempSessionToken.html</a>,\nbut encountered error</p>\n<pre><code>Cannot resolve method 'withCredentials' in 'AWSSecurityTokenServiceClientBuilder'\n</code></pre>\n<pre><code>AWSSecurityTokenService stsClient = AWSSecurityTokenServiceClientBuilder.standard()\n                                                                                .withCredentials(new ProfileCredentialsProvider())\n                                                                                .withRegion(REGION)\n                                                                                .build();\n</code></pre>\n<p>Tried change dependencies version but it didn't work.</p>\n"},{"tags":["java","terminal"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1687178716,"post_id":76506736,"comment_id":134896250,"body_markdown":"`echo` is an actual program, which has those features implemented in its code. When you print of any other program, your console just displays the output as-is, it is unrelated to echo.","body":"<code>echo</code> is an actual program, which has those features implemented in its code. When you print of any other program, your console just displays the output as-is, it is unrelated to echo."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1687178953,"post_id":76506736,"comment_id":134896296,"body_markdown":"*...Then &quot;Hello&quot; would be in your clipboard. That works just fine.* Really? For one thing, since that has escape sequences, you would have to invoke `echo -e`. When I do that, it really doesn&#39;t do anything, nor place anything on the clipboard","body":"<i>...Then &quot;Hello&quot; would be in your clipboard. That works just fine.</i> Really? For one thing, since that has escape sequences, you would have to invoke <code>echo -e</code>. When I do that, it really doesn&#39;t do anything, nor place anything on the clipboard"},{"owner":{"account_id":3527503,"reputation":933,"user_id":2948173,"display_name":"Ethan McCue"},"score":0,"creation_date":1687179811,"post_id":76506736,"comment_id":134896489,"body_markdown":"I mean, I can record a video of me running the echo version if you don&#39;t believe me g00se. It did require enabling a permission in my terminal, but I was prompted and that permission seems to be terminal wide and not just for that one program. I&#39;m using iTerm on MacOS Ventura if that helps.","body":"I mean, I can record a video of me running the echo version if you don&#39;t believe me g00se. It did require enabling a permission in my terminal, but I was prompted and that permission seems to be terminal wide and not just for that one program. I&#39;m using iTerm on MacOS Ventura if that helps."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687184917,"post_id":76506736,"comment_id":134897637,"body_markdown":"Right. I&#39;m not sure if my (xfce4) terminal supports it.","body":"Right. I&#39;m not sure if my (xfce4) terminal supports it."}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687282597,"post_id":76517097,"comment_id":134913922,"body_markdown":"I could have sworn that Java compilers used to allow hex escape sequences (which would use one backslash of course) but I&#39;ve been unable to confirm that by searching. Of course `System.out.println(&quot;\\033]52;c;SGVsbG8=\\007&quot;);` should also work, but your Unicode-escaped version is better","body":"I could have sworn that Java compilers used to allow hex escape sequences (which would use one backslash of course) but I&#39;ve been unable to confirm that by searching. Of course <code>System.out.println(&quot;\\033]52;c;SGVsbG8=\\007&quot;);</code> should also work, but your Unicode-escaped version is better"}],"tags":[],"owner":{"account_id":3527503,"reputation":933,"user_id":2948173,"display_name":"Ethan McCue"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687303767,"creation_date":1687281819,"answer_id":76517097,"question_id":76506736,"body_markdown":"The issue here was that \\x1b was being interpreted in my terminal as an escape sequence. In java to write that same character you need to use a unicode escape.\r\n\r\nI.E. instead of printing literally\r\n\r\n```\r\n\\x1b]52;c;SGVsbG8=\\x07\r\n```\r\n\r\nI needed to use `\\u001b` and `\\u0007` in the place of `\\x1b` and `\\x07`\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;\\u001b]52;c;SGVsbG8=\\u0007&quot;);\r\n    }\r\n}\r\n```\r\n\r\nand that will work.\r\n\r\nEDIT:\r\n\r\nI published the result of this exploration as a library on Maven Central\r\n\r\nhttps://github.com/bowbahdoe/osc52\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;dev.mccue&lt;/groupId&gt;\r\n    &lt;artifactId&gt;osc52&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Why does System.out.println not behave the same as `echo`","body":"<p>The issue here was that \\x1b was being interpreted in my terminal as an escape sequence. In java to write that same character you need to use a unicode escape.</p>\n<p>I.E. instead of printing literally</p>\n<pre><code>\\x1b]52;c;SGVsbG8=\\x07\n</code></pre>\n<p>I needed to use <code>\\u001b</code> and <code>\\u0007</code> in the place of <code>\\x1b</code> and <code>\\x07</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;\\u001b]52;c;SGVsbG8=\\u0007&quot;);\n    }\n}\n</code></pre>\n<p>and that will work.</p>\n<p>EDIT:</p>\n<p>I published the result of this exploration as a library on Maven Central</p>\n<p><a href=\"https://github.com/bowbahdoe/osc52\" rel=\"nofollow noreferrer\">https://github.com/bowbahdoe/osc52</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;dev.mccue&lt;/groupId&gt;\n    &lt;artifactId&gt;osc52&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3527503,"reputation":933,"user_id":2948173,"display_name":"Ethan McCue"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687303767,"creation_date":1687178576,"question_id":76506736,"body_markdown":"I&#39;ve been experimenting with OSC52 escape sequences and I&#39;m a bit baffled that I can&#39;t get them to work in Java.\r\n\r\nIf you ran this in a terminal\r\n\r\n```\r\necho &#39;\\x1b]52;c;SGVsbG8=\\x07&#39;\r\n```\r\n\r\nThen &quot;Hello&quot; would be in your clipboard. That works just fine.\r\n\r\nFor some reason though, doing the same operation in Java does not put it in my clipboard.\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;\\\\x1b]52;c;SGVsbG8=\\\\x07&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAm I doing something obviously wrong? Is there another mechanism that is more &quot;raw&quot; that would work?\r\n\r\nedit:\r\n\r\nGIF of the echo version working.\r\n\r\n[![Echoing OSC52 escapes][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GcR9t.gif","title":"Why does System.out.println not behave the same as `echo`","body":"<p>I've been experimenting with OSC52 escape sequences and I'm a bit baffled that I can't get them to work in Java.</p>\n<p>If you ran this in a terminal</p>\n<pre><code>echo '\\x1b]52;c;SGVsbG8=\\x07'\n</code></pre>\n<p>Then &quot;Hello&quot; would be in your clipboard. That works just fine.</p>\n<p>For some reason though, doing the same operation in Java does not put it in my clipboard.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;\\\\x1b]52;c;SGVsbG8=\\\\x07&quot;);\n    }\n}\n</code></pre>\n<p>Am I doing something obviously wrong? Is there another mechanism that is more &quot;raw&quot; that would work?</p>\n<p>edit:</p>\n<p>GIF of the echo version working.</p>\n<p><a href=\"https://i.stack.imgur.com/GcR9t.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GcR9t.gif\" alt=\"Echoing OSC52 escapes\" /></a></p>\n"},{"tags":["java","file-upload","libgdx"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687319081,"post_id":76517501,"comment_id":134918249,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687303516,"creation_date":1687303516,"answer_id":76518981,"question_id":76517501,"body_markdown":"Please see the test code here\r\n\r\nhttps://github.com/libgdx/libgdx/blob/master/tests/gdx-tests-lwjgl3/src/com/badlogic/gdx/tests/lwjgl3/DragNDropTest.java#L77\r\n\r\nKey bit is this\r\n\r\n```\r\nconfig.setWindowListener(new Lwjgl3WindowAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void filesDropped (String[] files) {\r\n\t\t\t\tfor (String file : files) {\r\n\t\t\t\t\tGdx.app.log(&quot;GLWF Drop&quot;, file);\r\n\t\t\t\t}\r\n\t\t\t\ttest.addFiles(files);\r\n\t\t\t}\r\n\r\n\t\t});\r\n```\r\n","title":"how to upload images for my project in libgdx","body":"<p>Please see the test code here</p>\n<p><a href=\"https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests-lwjgl3/src/com/badlogic/gdx/tests/lwjgl3/DragNDropTest.java#L77\" rel=\"nofollow noreferrer\">https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests-lwjgl3/src/com/badlogic/gdx/tests/lwjgl3/DragNDropTest.java#L77</a></p>\n<p>Key bit is this</p>\n<pre><code>config.setWindowListener(new Lwjgl3WindowAdapter() {\n            @Override\n            public void filesDropped (String[] files) {\n                for (String file : files) {\n                    Gdx.app.log(&quot;GLWF Drop&quot;, file);\n                }\n                test.addFiles(files);\n            }\n\n        });\n</code></pre>\n"}],"owner":{"account_id":28860509,"reputation":1,"user_id":22104414,"display_name":"Elina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687303516,"creation_date":1687285487,"question_id":76517501,"body_markdown":"how can I insert a drag and drop part for uploading images in my project.\r\nI need this part so that users can upload their image for their profile in game.\r\n\r\nI read so many pages in Google but I found nothing.\r\nThere is only the way to import your project on Libgdx.","title":"how to upload images for my project in libgdx","body":"<p>how can I insert a drag and drop part for uploading images in my project.\nI need this part so that users can upload their image for their profile in game.</p>\n<p>I read so many pages in Google but I found nothing.\nThere is only the way to import your project on Libgdx.</p>\n"},{"tags":["java","android","android-studio","sdk","androidx"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1687303784,"post_id":76518971,"comment_id":134917004,"body_markdown":"&quot;If i build it and open the application on android 10,9,8,7 that will force close&quot; -- use Logcat to examine the stack trace associated with your crash: https://commonsware.com/Jetpack/pages/chap-debug-001.html","body":"&quot;If i build it and open the application on android 10,9,8,7 that will force close&quot; -- use Logcat to examine the stack trace associated with your crash: <a href=\"https://commonsware.com/Jetpack/pages/chap-debug-001.html\" rel=\"nofollow noreferrer\">commonsware.com/Jetpack/pages/chap-debug-001.html</a>"},{"owner":{"account_id":25113732,"reputation":155,"user_id":18963042,"display_name":"Vishnu S Dharan"},"score":0,"creation_date":1687316606,"post_id":76518971,"comment_id":134918048,"body_markdown":"You might be using some api which requires a minimum sdk of 30. Check your code for an annotation @RequiresApi or use the Logcat to see the exact crash log.","body":"You might be using some api which requires a minimum sdk of 30. Check your code for an annotation @RequiresApi or use the Logcat to see the exact crash log."}],"owner":{"account_id":27315302,"reputation":1,"user_id":20829874,"display_name":"FHA04"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687303222,"creation_date":1687303222,"question_id":76518971,"body_markdown":"I have application but just can run on android 11,12,13 and can&#39;t run on android 10,9,8,7. If i build it and open the application on android 10,9,8,7 that will force close. I have set minSdk to 24 and targetSdk to 33 but still can&#39;t run on android 10,9,8,7. What&#39;s wrong?\r\nMaybe you can help me to resolve this.\r\n\r\n[minimum target sdk](https://i.stack.imgur.com/HxBEC.png)\r\n","title":"My application cannot run on android 11 down","body":"<p>I have application but just can run on android 11,12,13 and can't run on android 10,9,8,7. If i build it and open the application on android 10,9,8,7 that will force close. I have set minSdk to 24 and targetSdk to 33 but still can't run on android 10,9,8,7. What's wrong?\nMaybe you can help me to resolve this.</p>\n<p><a href=\"https://i.stack.imgur.com/HxBEC.png\" rel=\"nofollow noreferrer\">minimum target sdk</a></p>\n"},{"tags":["java","spring-boot","swagger","swagger-2.0","springfox"],"comments":[{"owner":{"account_id":11885028,"reputation":2467,"user_id":8697659,"display_name":"improbable"},"score":0,"creation_date":1590156091,"post_id":61954244,"comment_id":109581508,"body_markdown":"show your dependencies","body":"show your dependencies"},{"owner":{"account_id":9114379,"reputation":469,"user_id":6781905,"display_name":"Uzair"},"score":0,"creation_date":1590157347,"post_id":61954244,"comment_id":109582197,"body_markdown":"java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping\nThis is causing issue. What version of springboot, spring and springFox are you using?","body":"java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping This is causing issue. What version of springboot, spring and springFox are you using?"},{"owner":{"account_id":3579169,"reputation":407,"user_id":2987773,"display_name":"user2987773"},"score":0,"creation_date":1590161204,"post_id":61954244,"comment_id":109584370,"body_markdown":"@Uzair springboot is 2.2.7.RELEASE and springfox is 2.9.2.","body":"@Uzair springboot is 2.2.7.RELEASE and springfox is 2.9.2."},{"owner":{"account_id":9114379,"reputation":469,"user_id":6781905,"display_name":"Uzair"},"score":0,"creation_date":1590162421,"post_id":61954244,"comment_id":109585050,"body_markdown":"@user298773 there was bug reported, you can have a look at it.  https://github.com/springfox/springfox/issues/2364  May you can change versions if it helps","body":"@user298773 there was bug reported, you can have a look at it.  <a href=\"https://github.com/springfox/springfox/issues/2364\" rel=\"nofollow noreferrer\">github.com/springfox/springfox/issues/2364</a>  May you can change versions if it helps"},{"owner":{"account_id":3579169,"reputation":407,"user_id":2987773,"display_name":"user2987773"},"score":0,"creation_date":1590164682,"post_id":61954244,"comment_id":109586419,"body_markdown":"@Uzair Thanks but is it possible to a single swagger documentation generated across all these micro-services","body":"@Uzair Thanks but is it possible to a single swagger documentation generated across all these micro-services"},{"owner":{"account_id":9114379,"reputation":469,"user_id":6781905,"display_name":"Uzair"},"score":0,"creation_date":1590177032,"post_id":61954244,"comment_id":109592322,"body_markdown":"I don&#39;t know what do you mean all micro services. All micro services would have their own swagger documentation, This what microServices stands for, breaking services in to smaller, manageable services. If you are clubbing things together to make a large application, then you are deviating what MS says. All the controllers if your micro services will support the same swagger documentations as long as they are under single SpringBootApplication. By multi module, if you mean to say that you&#39;re developing an REST API with other dependent modules(Libraries), then you don&#39;t need swagger in libs","body":"I don&#39;t know what do you mean all micro services. All micro services would have their own swagger documentation, This what microServices stands for, breaking services in to smaller, manageable services. If you are clubbing things together to make a large application, then you are deviating what MS says. All the controllers if your micro services will support the same swagger documentations as long as they are under single SpringBootApplication. By multi module, if you mean to say that you&#39;re developing an REST API with other dependent modules(Libraries), then you don&#39;t need swagger in libs"},{"owner":{"account_id":9114379,"reputation":469,"user_id":6781905,"display_name":"Uzair"},"score":0,"creation_date":1590177225,"post_id":61954244,"comment_id":109592413,"body_markdown":"@user2987773\n1/2 as Libraries might provide merely plain java APIs(methods) with no spring feature in it. If it helps, you can  accept the answer and click on up help button of comments","body":"@user2987773 1/2 as Libraries might provide merely plain java APIs(methods) with no spring feature in it. If it helps, you can  accept the answer and click on up help button of comments"}],"answers":[{"comments":[{"owner":{"account_id":6306033,"reputation":467,"user_id":4899086,"display_name":"Mukesh Keshu"},"score":0,"creation_date":1590167817,"post_id":61954617,"comment_id":109588172,"body_markdown":"Did you move the @EnableSwagger2 to the mainClass ?","body":"Did you move the @EnableSwagger2 to the mainClass ?"}],"tags":[],"owner":{"account_id":6306033,"reputation":467,"user_id":4899086,"display_name":"Mukesh Keshu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590148946,"creation_date":1590148946,"answer_id":61954617,"question_id":61954244,"body_markdown":"Use the below swagger dependencies to your pom.xml\r\n\r\nhttps://mvnrepository.com/artifact/io.springfox/springfox-swagger2/2.6.1\r\nhttps://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui/2.6.1\r\n\r\nAdd annotation `@EnableSwagger2` in your main Class (containing `main` method and annotated with `@SpringBootApplication`).\r\n\r\nRun the application. If 8080 is your port, then swagger docs will be available on `localhost:8080/swagger-ui.html` ","title":"Setting up swagger documentation for a multi-module micro-service spring boot application","body":"<p>Use the below swagger dependencies to your pom.xml</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/io.springfox/springfox-swagger2/2.6.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.springfox/springfox-swagger2/2.6.1</a>\n<a href=\"https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui/2.6.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui/2.6.1</a></p>\n\n<p>Add annotation <code>@EnableSwagger2</code> in your main Class (containing <code>main</code> method and annotated with <code>@SpringBootApplication</code>).</p>\n\n<p>Run the application. If 8080 is your port, then swagger docs will be available on <code>localhost:8080/swagger-ui.html</code> </p>\n"},{"tags":[],"owner":{"account_id":9114379,"reputation":469,"user_id":6781905,"display_name":"Uzair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590177890,"creation_date":1590177890,"answer_id":61963032,"question_id":61954244,"body_markdown":"This might be causing an issue\r\n\r\n    java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping \r\n\r\nThere was a bug reported with springfox [bug in springfox][1]\r\n\r\n\r\nYou can have a look at it, might helps you. I don&#39;t know if it has already been resolved with latest release. SO you can try with latest release versions.\r\n\r\nTo answer your multi-module micro service, Not sure what do you mean all micro services. All micro services would have their own swagger documentation, This is what microServices stands for, breaking services in to smaller, manageable services. If you are clubbing things together to make a large application, then you are deviating what MS stands for. All the controllers of your micro services will support the same swagger documentations as long as they are under single SpringBootApplication. &lt;br&gt;&lt;br&gt;\r\n\r\nBy multi modules, if you mean to say that you&#39;re developing a REST API with other dependent modules(Libraries), then you don&#39;t need swagger in libs as Libraries might provide merely plain java APIs(methods) with no spring feature in it.\r\n\r\nTake a look [spring multi module application][2]\r\n\r\n\r\n  [1]: https://github.com/springfox/springfox/issues/2364\r\n  [2]: https://spring.io/guides/gs/multi-module/","title":"Setting up swagger documentation for a multi-module micro-service spring boot application","body":"<p>This might be causing an issue</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping \n</code></pre>\n\n<p>There was a bug reported with springfox <a href=\"https://github.com/springfox/springfox/issues/2364\" rel=\"nofollow noreferrer\">bug in springfox</a></p>\n\n<p>You can have a look at it, might helps you. I don't know if it has already been resolved with latest release. SO you can try with latest release versions.</p>\n\n<p>To answer your multi-module micro service, Not sure what do you mean all micro services. All micro services would have their own swagger documentation, This is what microServices stands for, breaking services in to smaller, manageable services. If you are clubbing things together to make a large application, then you are deviating what MS stands for. All the controllers of your micro services will support the same swagger documentations as long as they are under single SpringBootApplication. <br><br></p>\n\n<p>By multi modules, if you mean to say that you're developing a REST API with other dependent modules(Libraries), then you don't need swagger in libs as Libraries might provide merely plain java APIs(methods) with no spring feature in it.</p>\n\n<p>Take a look <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">spring multi module application</a></p>\n"},{"tags":[],"owner":{"account_id":17380556,"reputation":1,"user_id":12592867,"display_name":"BAILLAHI Lemine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687302577,"creation_date":1687302496,"answer_id":76518917,"question_id":61954244,"body_markdown":"Well, to include all the controllers in the different sub-modules, you can do : \r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SpringFoxConfig {\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2).select()\r\n                .apis(RequestHandlerSelectors.withClassAnnotation(RestController.class))\r\n                .paths(PathSelectors.any())\r\n                .build()\r\n                .apiInfo(apiInfo());\r\n    }\r\n\r\n    private ApiInfo apiInfo() {\r\n        return new ApiInfoBuilder().title(&quot;Your title&quot;)\r\n                .description(&quot;Some description&quot;)\r\n                .version(&quot;1.0&quot;)\r\n                .build();\r\n    }\r\n\r\n}\r\n\r\n","title":"Setting up swagger documentation for a multi-module micro-service spring boot application","body":"<p>Well, to include all the controllers in the different sub-modules, you can do :</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SpringFoxConfig {\n@Bean\npublic Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2).select()\n            .apis(RequestHandlerSelectors.withClassAnnotation(RestController.class))\n            .paths(PathSelectors.any())\n            .build()\n            .apiInfo(apiInfo());\n}\n\nprivate ApiInfo apiInfo() {\n    return new ApiInfoBuilder().title(&quot;Your title&quot;)\n            .description(&quot;Some description&quot;)\n            .version(&quot;1.0&quot;)\n            .build();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3579169,"reputation":407,"user_id":2987773,"display_name":"user2987773"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1687302577,"creation_date":1590147790,"question_id":61954244,"body_markdown":"Before I go to my main question, Is it possible to setup a swagger documentation for the entire project (all micro-services)?\r\n\r\nAt the moment I have a multi-module spring-boot application and I want to configure swagger documentation that handles all sub-modules (micros-services). What I have done so far is, I have created another module to handle the swagger documentation.\r\n\r\nThe swagger module contains two classes; code is shown below.\r\nSwagger Config\r\n```\r\n@Configuration\r\n@EnableSwagger2\r\npublic class SwaggerConfig {\r\n    @Bean\r\n    public Docket api(){\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .apiInfo(apiInfo())\r\n                .select()\r\n                .apis(RequestHandlerSelectors.any())\r\n                .paths(PathSelectors.regex(&quot;/api.*&quot;))\r\n                .build();\r\n    }\r\n\r\n    private ApiInfo  apiInfo(){\r\n        return new ApiInfoBuilder().title(&quot;API&quot;)\r\n                .build();\r\n    }\r\n}\r\n```\r\nSwaggerService\r\n```\r\n@SpringBootApplication\r\npublic class SwaggerService {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SwaggerService.class, args);\r\n    }\r\n}\r\n```\r\n\r\nThis does compile anyways, I get the following messages\r\n```\r\n2020-05-22 12:15:42.719  INFO 29248 --- [           main] service.SwaggerService             : No active profile set, falling back to default profiles: default\r\n2020-05-22 12:15:43.226 ERROR 29248 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:184) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat service.SwaggerService.main(SwaggerService.java:14) ~[classes/:na]\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@368239c8]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:743) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[na:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:742) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:649) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1608) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:526) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:497) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:230) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:223) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:213) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:167) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:142) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\t... 17 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/servlet/HandlerMapping\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2310) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\t... 33 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 37 common frames omitted\r\n\r\n2020-05-22 12:15:43.228  WARN 29248 --- [           main] o.s.boot.SpringApplication               : Unable to close ApplicationContext\r\n\r\njava.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@368239c8]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:743) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[na:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:742) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:649) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1608) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:526) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:497) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:619) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:611) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1242) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:869) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:857) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:844) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:795) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:325) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat service.SwaggerService.main(SwaggerService.java:14) ~[classes/:na]\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/servlet/HandlerMapping\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2310) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\t... 21 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 25 common frames omitted\r\n\r\n```\r\n\r\nI&#39;m pretty sure there is more to be done.","title":"Setting up swagger documentation for a multi-module micro-service spring boot application","body":"<p>Before I go to my main question, Is it possible to setup a swagger documentation for the entire project (all micro-services)?</p>\n\n<p>At the moment I have a multi-module spring-boot application and I want to configure swagger documentation that handles all sub-modules (micros-services). What I have done so far is, I have created another module to handle the swagger documentation.</p>\n\n<p>The swagger module contains two classes; code is shown below.\nSwagger Config</p>\n\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n    @Bean\n    public Docket api(){\n        return new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo(apiInfo())\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.regex(\"/api.*\"))\n                .build();\n    }\n\n    private ApiInfo  apiInfo(){\n        return new ApiInfoBuilder().title(\"API\")\n                .build();\n    }\n}\n</code></pre>\n\n<p>SwaggerService</p>\n\n<pre><code>@SpringBootApplication\npublic class SwaggerService {\n    public static void main(String[] args) {\n        SpringApplication.run(SwaggerService.class, args);\n    }\n}\n</code></pre>\n\n<p>This does compile anyways, I get the following messages</p>\n\n<pre><code>2020-05-22 12:15:42.719  INFO 29248 --- [           main] service.SwaggerService             : No active profile set, falling back to default profiles: default\n2020-05-22 12:15:43.226 ERROR 29248 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:184) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at service.SwaggerService.main(SwaggerService.java:14) ~[classes/:na]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@368239c8]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:743) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:742) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:649) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1608) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:526) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:497) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:230) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:223) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:213) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:167) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:142) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    ... 17 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/servlet/HandlerMapping\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2310) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 33 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 37 common frames omitted\n\n2020-05-22 12:15:43.228  WARN 29248 --- [           main] o.s.boot.SpringApplication               : Unable to close ApplicationContext\n\njava.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@368239c8]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:743) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:742) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:649) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1608) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:526) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:497) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:619) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:611) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1242) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:869) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:857) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:844) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:795) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:325) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at service.SwaggerService.main(SwaggerService.java:14) ~[classes/:na]\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/servlet/HandlerMapping\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2310) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 21 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 25 common frames omitted\n\n</code></pre>\n\n<p>I'm pretty sure there is more to be done.</p>\n"},{"tags":["java","multithreading","producer-consumer"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1686869973,"post_id":76485904,"comment_id":134861580,"body_markdown":"This is just a process scheduler like the one in the Linux (or any OS) kernel.  You have a fixed set of resources and an unbounded set of users of those resources.  Some are short lived and some never terminate.","body":"This is just a process scheduler like the one in the Linux (or any OS) kernel.  You have a fixed set of resources and an unbounded set of users of those resources.  Some are short lived and some never terminate."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686910590,"post_id":76485904,"comment_id":134866656,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687302372,"creation_date":1687300829,"answer_id":76518793,"question_id":76485904,"body_markdown":"&gt; But the issue is on Section 4.3, if instead of a Double, it was something like Queue&lt;String&gt; that needed to be pushed back onto the BlockingQueue, turning my Consumers to also be Producers.\r\n\r\nI can see your consumers (running in a standard `ExecutorService`) be able to access a work-queue.  They can dequeue a `Queue` object, work on the strings for a while and then &quot;pause&quot; the job by putting that `Queue` back on the work-queue and grabbing another job from the front of the work-queue to process.  One question is whether or not there is state that needs to be kept as the `Queue&lt;String&gt;` is being processed.  In this case you will need to have a wrapping `JobStatus` object which would hold the queue and any accumulators or other information so the next worker thread can pickup where the last one left off.  This might be a good idea anyway so you don&#39;t get confused by the queue of queues.\r\n\r\n&gt; workers alternate on processing streams - pausing their work on their current stream for another worker to continue before processing another stream\r\n\r\nI think the trick here is how do the workers figure out whether they should pause their work or not?  Maybe they could process 10000 items from the stream and put it back on the work-queue?  That logic could be built into the `JobStatus` object.  You could look at the `size()` of the work-queue to see whether things are backing up too.  An alternative to this would be to have multiple thread-pools for different sized jobs.  So the fast ones have their own queue for immediate servicing while the big ones chew in the background.\r\n\r\nBut given your specifications I can see pseudo code like the following.  It pauses by putting the job on the end of the work-queue.  Not sure that&#39;s what you would want.\r\n\r\n    // queue that when seen means that the jobs are done\r\n    final static Queue&lt;String&gt; END_MARKER = new LinkedList&lt;&gt;();\r\n    final BlockingQueue&lt;Queue&lt;String&gt;&gt; workQueue = new LinkedBlockingQueue&lt;&gt;();\r\n    ...\r\n    ExecutorService threadPool = Executors.newCachedThreadPool();\r\n    ...\r\n    // now start up our worker threads\r\n    for (int i = 0; i &lt; NUM_THREADS; i++) {\r\n       threadPool.submit(new WorkerThread(workQueue));\r\n    }\r\n    // the threads will shutdown when the END_MARKER is seen\r\n    threadPool.shutdown();\r\n    ...\r\n    // now add the jobs to the work-queue\r\n    for (Queue&lt;String&gt; queue : queuesForProcessing) {\r\n        workQueue.add(queue);\r\n    }\r\n    // at the end of the work you add END_MARKER to the work-queue\r\n    workQueue.add(END_MARKER);\r\n    \r\n    public class WorkerThread {\r\n        private final BlockingQueue&lt;Queue&lt;String&gt;&gt; workQueue; // from constructor\r\n        public void run() {\r\n           while (true) {\r\n               Queue&lt;String&gt; job = workQueue.take();\r\n               if (job == END_MARKER) {\r\n                  // need to tell the others to quit as well\r\n                  workQueue.put(job);\r\n                  break;\r\n               }\r\n               // now work on the queue job\r\n               while (true) {\r\n                  String foo = job.poll();\r\n                  if (foo == null) {\r\n                     // we are done with this job, get another one\r\n                     break;\r\n                  }\r\n                  // do the work on the String\r\n                  ...\r\n                  // now that we are done, see if we should pause this job\r\n                  if (testToSeeIfWeShouldPauseJob()) {\r\n                      // put it back on the queue and then loop to get another job\r\n                      workQueue.put(job);\r\n                      break;\r\n                  }\r\n               }\r\n           }\r\n        }\r\n    }\r\n\r\nHopefully this helps.\r\n","title":"Producer-Consumer Problem but with indefinite tasks?","body":"<blockquote>\n<p>But the issue is on Section 4.3, if instead of a Double, it was something like Queue that needed to be pushed back onto the BlockingQueue, turning my Consumers to also be Producers.</p>\n</blockquote>\n<p>I can see your consumers (running in a standard <code>ExecutorService</code>) be able to access a work-queue.  They can dequeue a <code>Queue</code> object, work on the strings for a while and then &quot;pause&quot; the job by putting that <code>Queue</code> back on the work-queue and grabbing another job from the front of the work-queue to process.  One question is whether or not there is state that needs to be kept as the <code>Queue&lt;String&gt;</code> is being processed.  In this case you will need to have a wrapping <code>JobStatus</code> object which would hold the queue and any accumulators or other information so the next worker thread can pickup where the last one left off.  This might be a good idea anyway so you don't get confused by the queue of queues.</p>\n<blockquote>\n<p>workers alternate on processing streams - pausing their work on their current stream for another worker to continue before processing another stream</p>\n</blockquote>\n<p>I think the trick here is how do the workers figure out whether they should pause their work or not?  Maybe they could process 10000 items from the stream and put it back on the work-queue?  That logic could be built into the <code>JobStatus</code> object.  You could look at the <code>size()</code> of the work-queue to see whether things are backing up too.  An alternative to this would be to have multiple thread-pools for different sized jobs.  So the fast ones have their own queue for immediate servicing while the big ones chew in the background.</p>\n<p>But given your specifications I can see pseudo code like the following.  It pauses by putting the job on the end of the work-queue.  Not sure that's what you would want.</p>\n<pre><code>// queue that when seen means that the jobs are done\nfinal static Queue&lt;String&gt; END_MARKER = new LinkedList&lt;&gt;();\nfinal BlockingQueue&lt;Queue&lt;String&gt;&gt; workQueue = new LinkedBlockingQueue&lt;&gt;();\n...\nExecutorService threadPool = Executors.newCachedThreadPool();\n...\n// now start up our worker threads\nfor (int i = 0; i &lt; NUM_THREADS; i++) {\n   threadPool.submit(new WorkerThread(workQueue));\n}\n// the threads will shutdown when the END_MARKER is seen\nthreadPool.shutdown();\n...\n// now add the jobs to the work-queue\nfor (Queue&lt;String&gt; queue : queuesForProcessing) {\n    workQueue.add(queue);\n}\n// at the end of the work you add END_MARKER to the work-queue\nworkQueue.add(END_MARKER);\n\npublic class WorkerThread {\n    private final BlockingQueue&lt;Queue&lt;String&gt;&gt; workQueue; // from constructor\n    public void run() {\n       while (true) {\n           Queue&lt;String&gt; job = workQueue.take();\n           if (job == END_MARKER) {\n              // need to tell the others to quit as well\n              workQueue.put(job);\n              break;\n           }\n           // now work on the queue job\n           while (true) {\n              String foo = job.poll();\n              if (foo == null) {\n                 // we are done with this job, get another one\n                 break;\n              }\n              // do the work on the String\n              ...\n              // now that we are done, see if we should pause this job\n              if (testToSeeIfWeShouldPauseJob()) {\n                  // put it back on the queue and then loop to get another job\n                  workQueue.put(job);\n                  break;\n              }\n           }\n       }\n    }\n}\n</code></pre>\n<p>Hopefully this helps.</p>\n"}],"owner":{"account_id":25945482,"reputation":25,"user_id":22080814,"display_name":"TypeMonkey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76518793,"answer_count":1,"score":0,"last_activity_date":1687302372,"creation_date":1686868624,"question_id":76485904,"body_markdown":"I&#39;m trying to wrap my head around the Producer-Consumer pattern in the context of tasks that **can be indefinite** but are also ***suspendable*** and can be resumed at later time. So far, alot of the examples around this pattern deals with Consumers pulling a singular, one-off tasks from some sort of queue that&#39;s filled by Producers.\r\n\r\nBut what if said tasks can be indefinite? For example, say the task at hand is to count the presence of certain works in a stream of strings. The stream can be infinitely long (or finite), and given more streams of strings that workers to process them, a mechanism maybe formed where workers alternate on processing streams - pausing their work on their current stream for another worker to continue before processing another stream.\r\n\r\nI&#39;m not sure how to properly design and implement an efficient mechanism around the Producer-Consumer pattern for this problem - or any other pattern/method.\r\n\r\nSo far, I&#39;ve followed this guide: [https://www.baeldung.com/java-producer-consumer-problem](https://www.baeldung.com/java-producer-consumer-problem)\r\n\r\nBut the issue is on Section 4.3, if instead of a Double, it was something like `Queue&lt;String&gt;` that needed to be pushed back onto the `BlockingQueue`, turning my Consumers to also be Producers.","title":"Producer-Consumer Problem but with indefinite tasks?","body":"<p>I'm trying to wrap my head around the Producer-Consumer pattern in the context of tasks that <strong>can be indefinite</strong> but are also <em><strong>suspendable</strong></em> and can be resumed at later time. So far, alot of the examples around this pattern deals with Consumers pulling a singular, one-off tasks from some sort of queue that's filled by Producers.</p>\n<p>But what if said tasks can be indefinite? For example, say the task at hand is to count the presence of certain works in a stream of strings. The stream can be infinitely long (or finite), and given more streams of strings that workers to process them, a mechanism maybe formed where workers alternate on processing streams - pausing their work on their current stream for another worker to continue before processing another stream.</p>\n<p>I'm not sure how to properly design and implement an efficient mechanism around the Producer-Consumer pattern for this problem - or any other pattern/method.</p>\n<p>So far, I've followed this guide: <a href=\"https://www.baeldung.com/java-producer-consumer-problem\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-producer-consumer-problem</a></p>\n<p>But the issue is on Section 4.3, if instead of a Double, it was something like <code>Queue&lt;String&gt;</code> that needed to be pushed back onto the <code>BlockingQueue</code>, turning my Consumers to also be Producers.</p>\n"},{"tags":["java","json","methods","overloading"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686344559,"post_id":76443468,"comment_id":134791265,"body_markdown":"If it&#39;s failing on the _JSON_ mapping, then there is either a syntax error in the _JSON_, or there is a discrepancy with the _SalableProduct_ abstraction.  Can you post a segment of the _JSON_ and the code for the _SalableProduct_ class?","body":"If it&#39;s failing on the <i>JSON</i> mapping, then there is either a syntax error in the <i>JSON</i>, or there is a discrepancy with the <i>SalableProduct</i> abstraction.  Can you post a segment of the <i>JSON</i> and the code for the <i>SalableProduct</i> class?"},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1686345903,"post_id":76443468,"comment_id":134791424,"body_markdown":"I have added what you requested. I am not receiving any errors when I execute my code in eclipse. It will only print my options for the different cases and when I select 1 or 2 it doesn&#39;t show any inventory.","body":"I have added what you requested. I am not receiving any errors when I execute my code in eclipse. It will only print my options for the different cases and when I select 1 or 2 it doesn&#39;t show any inventory."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686347009,"post_id":76443468,"comment_id":134791552,"body_markdown":"Alright, so in _purchaseProducts_ you shouldn&#39;t need _&quot;scnr.nextLine(); // Consume newline character&quot;_, since you have already produced a new-line from the options output.","body":"Alright, so in <i>purchaseProducts</i> you shouldn&#39;t need <i>&quot;scnr.nextLine(); // Consume newline character&quot;</i>, since you have already produced a new-line from the options output."},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1686348589,"post_id":76443468,"comment_id":134791741,"body_markdown":"So I remarked it out and it still isn&#39;t showing my available products to purchase. Now when I enter &quot;2&quot; it won&#39;t even let me put an input. The reason that scnr.nextLine(); is there is for user input on what they want to purchase when option &quot;2&quot; is selected. option &quot;1&quot; should only display what is in the JSON file.","body":"So I remarked it out and it still isn&#39;t showing my available products to purchase. Now when I enter &quot;2&quot; it won&#39;t even let me put an input. The reason that scnr.nextLine(); is there is for user input on what they want to purchase when option &quot;2&quot; is selected. option &quot;1&quot; should only display what is in the JSON file."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686349852,"post_id":76443468,"comment_id":134791858,"body_markdown":"Yes, although you have another _nextLine_ call on the following line, _&quot;String productName = scnr.nextLine();&quot;_.  So, the first _nextLine_ will skip over any input, thus, _productName_ will not contain a value, or, will be an empty _string_, rather.","body":"Yes, although you have another <i>nextLine</i> call on the following line, <i>&quot;String productName = scnr.nextLine();&quot;</i>.  So, the first <i>nextLine</i> will skip over any input, thus, <i>productName</i> will not contain a value, or, will be an empty <i>string</i>, rather."},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1686357655,"post_id":76443468,"comment_id":134792416,"body_markdown":"But I am needing that scnr.nextLine(); so that the user can input the product that the user wants to purchase.\n\nEither way my program still will not show products for sale when &quot;1&quot; is input into the console.","body":"But I am needing that scnr.nextLine(); so that the user can input the product that the user wants to purchase.  Either way my program still will not show products for sale when &quot;1&quot; is input into the console."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686358626,"post_id":76443468,"comment_id":134792457,"body_markdown":"So, for that we&#39;ll need the _InventoryManager_ class code.  Well, specifically, the _displaySalableProducts_ method.","body":"So, for that we&#39;ll need the <i>InventoryManager</i> class code.  Well, specifically, the <i>displaySalableProducts</i> method."},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1686375817,"post_id":76443468,"comment_id":134793352,"body_markdown":"I have added the salableProducts method from InventoryManager class","body":"I have added the salableProducts method from InventoryManager class"},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1686452413,"post_id":76443468,"comment_id":134799723,"body_markdown":"Reilas, were you able to review my code to see what the issue is?","body":"Reilas, were you able to review my code to see what the issue is?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686452597,"post_id":76443468,"comment_id":134799734,"body_markdown":"Unfortunately, not without the code.","body":"Unfortunately, not without the code."},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1686519491,"post_id":76443468,"comment_id":134805787,"body_markdown":"Do you need the whole InventoryManager class or displaySalableProducts method? I put the method at the bottom of the main comment","body":"Do you need the whole InventoryManager class or displaySalableProducts method? I put the method at the bottom of the main comment"}],"answers":[{"tags":[],"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687302175,"creation_date":1687302175,"answer_id":76518887,"question_id":76443468,"body_markdown":"My issue was residing in my Product class, I had previously had &lt;Product extends Salable Product &gt; and was using SalableProduct as my super class but Product needed to be on its own. I also had to add generics to all of my classes. So now my code is this.\r\n\r\n```\r\npackage app;\r\n\r\npublic class Product &lt;T extends SalableProduct&gt; {\r\n\r\n\tpublic Product(String name, String description, double price, int qty) {\t\r\n\t}\r\n}\r\n```\r\n I also added this line to my StoreFront class in the main method.\r\n\r\n```\r\ninventoryManager.initializeInventoryFromFile(&quot;inventory.json&quot;);\r\n```\r\n\r\nhere is my method for initializeInventoryFromFile method in my InventoryManager class.\r\n\r\n```\r\n\tpublic void initializeInventoryFromFile(String filename) {\r\n\t\t ArrayList&lt;T&gt; products = (ArrayList&lt;T&gt;) FileService.loadProductsFromFile(&quot;inventory.json&quot;);\r\n\r\n\t\tfor (T product : products) {\r\n\t\t\taddProduct( product);\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n```","title":"Program not printing out all information","body":"<p>My issue was residing in my Product class, I had previously had  and was using SalableProduct as my super class but Product needed to be on its own. I also had to add generics to all of my classes. So now my code is this.</p>\n<pre><code>package app;\n\npublic class Product &lt;T extends SalableProduct&gt; {\n\n    public Product(String name, String description, double price, int qty) {    \n    }\n}\n</code></pre>\n<p>I also added this line to my StoreFront class in the main method.</p>\n<pre><code>inventoryManager.initializeInventoryFromFile(&quot;inventory.json&quot;);\n</code></pre>\n<p>here is my method for initializeInventoryFromFile method in my InventoryManager class.</p>\n<pre><code>    public void initializeInventoryFromFile(String filename) {\n         ArrayList&lt;T&gt; products = (ArrayList&lt;T&gt;) FileService.loadProductsFromFile(&quot;inventory.json&quot;);\n\n        for (T product : products) {\n            addProduct( product);\n            \n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76518887,"answer_count":1,"score":0,"last_activity_date":1687302175,"creation_date":1686342703,"question_id":76443468,"body_markdown":"I am creating a store front application in Java. I have my main driver program with 5 different classes it is using. I cannot get it to print out my inventory I have listed in my JSON file. What am I doing wrong or what am I missing here? My FileService class is at the bottom from where the driver is calling the method. I think that is where my problem is.\r\n\r\n\r\n```\r\npackage app;\r\n\r\nimport java.io.IOException;\r\nimport java.util.*;\r\n\r\npublic class StoreFront {\r\n\t\r\n\tstatic InventoryManager inventoryManager = new InventoryManager();\r\n\tstatic ShoppingCart shoppingCart = new ShoppingCart();\r\n\tstatic Scanner scnr = new Scanner(System.in);\r\n//\tstatic FileService fileService = new FileService();\r\n\t\r\n\tprivate static void viewProducts() { \r\n\t\tinventoryManager.displaySalableProducts();\r\n\t}\r\n\t\r\n\tprivate static void purchaseProducts() {\r\n        System.out.print(&quot;Enter the name of the product you want to purchase: &quot;);\r\n        scnr.nextLine(); // Consume newline character\r\n        String productName = scnr.nextLine();\r\n\r\n        SalableProduct productToPurchase = inventoryManager.findProductByName(productName);\r\n        if (productToPurchase == null) {\r\n            System.out.println(&quot;Product not found.&quot;);\r\n        } else {\r\n            if (productToPurchase.getQty() &gt; 0) {\r\n                shoppingCart.addItem(productToPurchase);\r\n                productToPurchase.setQty(productToPurchase.getQty() - 1);\r\n                System.out.println(&quot;Product purchased successfully.&quot;);\r\n            } else {\r\n                System.out.println(&quot;Product is out of stock.&quot;);\r\n            }\r\n        }\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static void returnProducts() {\r\n\t\tshoppingCart.returnProduct(null);\r\n\t}\r\n\r\n\r\n\tpublic static void main(String[] args) throws IOException{\r\n\r\n/*\t\t\r\n * old method of manually adding inventory\r\n\t\tinventoryManager.addProduct(new Food(&quot;Goji Berry&quot;, &quot;bright orange-red berry that comes from a shrub native to Asia&quot;, 8.32, 496));\r\n\t\tinventoryManager.addProduct(new Potion(&quot;Elixir&quot;, &quot;Potion that grants eternal life&quot;, 3469.00, 4));\r\n\t\tinventoryManager.addProduct(new Helmet(&quot;Kabuto&quot;, &quot;Ancient Japanese war helemt&quot;, 999.99, 43));\r\n\t\tinventoryManager.addProduct(new Tomahawk(&quot;Polished Tomahawk&quot;, &quot;Benjamin Martins Tomahawk&quot;, 567.00, 1));\r\n\t\tinventoryManager.addProduct(new Shield(&quot;Heater Shield&quot;, &quot;Used in the Middle Ages by knights and soldiers&quot;, 269.00, 57));\r\n\t\tinventoryManager.addProduct(new Sword(&quot;Katana&quot;, &quot;single-edged sword used by Japanese samurai&quot;, 4420.00, 21));\r\n*/\t\t\r\n\t\tinventoryManager.initializeInventoryFromFile(&quot;inventory.json&quot;);\r\n\t\tSystem.out.println(&quot;Welcome to the Game Store \\n&quot;);\r\n\t\tSystem.out.println(&quot;Please select an option from the menu&quot;);\r\n\t\tSystem.out.println(&quot;***************************************&quot;);\r\n        System.out.println(&quot;************MAIN MENU ******************\\n&quot;);\r\n\t\twhile (true) {\r\n\t\t\tSystem.out.println(&quot;Enter one of the following:\\n\\n&quot;+\r\n\t\t\t&quot;&#39;1&#39; : View Products\\n&quot;+\r\n\t\t\t&quot;&#39;2&#39; : Purchase Products\\n&quot;+\r\n\t\t\t&quot;&#39;3&#39; : Return Products\\n&quot;+\r\n\t\t\t&quot;&#39;4&#39; : Exit&quot;);\r\n\t\t\t\r\n\t\t\tint menuChoice = scnr.nextInt();\r\n\t\t\t\r\n\t\t\tswitch(menuChoice) {\r\n\t\t\tcase 1:\r\n                viewProducts();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tpurchaseProducts();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\treturnProducts();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tSystem.out.println(&quot;Thank you for coming by. Please come again.&quot;);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t} //scnr.close();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nFile Service Class method\r\n\r\n\r\n```\r\n   public static ArrayList&lt;SalableProduct&gt; loadProductsFromFile(String filename) {\r\n\r\n    \t\r\n    \t\tArrayList&lt;SalableProduct&gt; products = new ArrayList&lt;SalableProduct&gt;();\r\n    \t\ttry {\r\n    \t\t\tFile file = new File(filename);\r\n    \t\t\tScanner scnr = new Scanner(file);\r\n    \t\t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\t\t\r\n    \t\t\twhile (scnr.hasNext()) {\r\n    \t\t\t\tString json = scnr.nextLine();\r\n    \t\t\t\tSalableProduct product = objectMapper.readValue(json, SalableProduct.class);\r\n    \t\t\t\tproducts.add(product);\r\n    \t\t\t}\r\n    \t\t\tscnr.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} return products;\r\n    \t}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI have tried running my program in debug mode and watch all the steps closely but have not had any luck. It works when I hardcode/manually enter the inventory but hasn&#39;t since I implemented the JSON file and methods to call it.\r\n\r\nHere is the SalableProduct Class\r\n```\r\n    public class SalableProduct {\r\n    \t/**\r\n    \t * placeholder for items to sell in store\r\n    \t */\r\n    \tprivate String name;\r\n    \tprivate String description;\r\n    \tprivate double price;\r\n    \tprivate int qty;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \r\n    \tpublic SalableProduct(String name, String description, double price, int qty) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.description = description;\r\n    \t\tthis.price = price;\r\n    \t\tthis.qty = qty;\r\n    \t}\r\n    \r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \r\n    \tpublic void setPrice(double price) {\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \r\n    \tpublic double getPrice() {\r\n    \t\treturn price;\r\n    \t}\r\n    \r\n    \tpublic int getQty() {\r\n    \t\treturn qty;\r\n    \t}\r\n    \t\r\n    \tpublic void setQty(int qty) {\r\n    \t\tthis.qty = qty;\r\n    \t}\r\n    \r\n    \tpublic SalableProduct() {\r\n    \t\tname = &quot;&quot;;\r\n    \t\tdescription = &quot;&quot;;\r\n    \t\tprice = 0;\r\n    \t\tqty = 0;\r\n    \t}\r\n    }\r\n```    \r\n    Here is my JSON file\r\n```    \r\n    {&quot;name&quot;:&quot;Goji Berry&quot;,&quot;description&quot;:&quot;bright orange-red berry that comes from a shrub native to Asia&quot;,&quot;price&quot;:8.32,&quot;qty&quot;:496}\r\n    {&quot;name&quot;:&quot;Elixir&quot;,&quot;description&quot;:&quot;Potion that grants eternal life&quot;,&quot;price&quot;:3469.00,&quot;qty&quot;:4}\r\n    {&quot;name&quot;:&quot;Kabuto&quot;,&quot;description&quot;:&quot;Ancient Japanese war helmet&quot;,&quot;price&quot;:999.99,&quot;qty&quot;:43}\r\n    {&quot;name&quot;:&quot;Polished Tomahawk&quot;,&quot;description&quot;:&quot;Benjamin Martins Tomahawk&quot;,&quot;price&quot;:567.00,&quot;qty&quot;:1}\r\n    {&quot;name&quot;:&quot;Heater Shield&quot;,&quot;description&quot;:&quot;Used in the Middle Ages by knights and soldiers&quot;,&quot;price&quot;:269.00,&quot;qty&quot;:57}\r\n    {&quot;name&quot;:&quot;Katana&quot;,&quot;description&quot;:&quot;single-edged sword used by Japanese samurai&quot;,&quot;price&quot;:4469.00,&quot;qty&quot;:21}\r\n ``` \r\nHere is the displaySalable products\r\n\r\n```\tpublic void displaySalableProducts() {\r\n\t\tfor (SalableProduct product : products) {\r\n\t\t\tSystem.out.println(product.getName() + &quot; - &quot; + product.getDescription() + &quot; - Price: $&quot; + product.getPrice()\r\n\t\t\t\t\t+ &quot; - Quantity: &quot; + product.getQty());\r\n\t\t}\r\n\t}\r\n```","title":"Program not printing out all information","body":"<p>I am creating a store front application in Java. I have my main driver program with 5 different classes it is using. I cannot get it to print out my inventory I have listed in my JSON file. What am I doing wrong or what am I missing here? My FileService class is at the bottom from where the driver is calling the method. I think that is where my problem is.</p>\n<pre><code>package app;\n\nimport java.io.IOException;\nimport java.util.*;\n\npublic class StoreFront {\n    \n    static InventoryManager inventoryManager = new InventoryManager();\n    static ShoppingCart shoppingCart = new ShoppingCart();\n    static Scanner scnr = new Scanner(System.in);\n//  static FileService fileService = new FileService();\n    \n    private static void viewProducts() { \n        inventoryManager.displaySalableProducts();\n    }\n    \n    private static void purchaseProducts() {\n        System.out.print(&quot;Enter the name of the product you want to purchase: &quot;);\n        scnr.nextLine(); // Consume newline character\n        String productName = scnr.nextLine();\n\n        SalableProduct productToPurchase = inventoryManager.findProductByName(productName);\n        if (productToPurchase == null) {\n            System.out.println(&quot;Product not found.&quot;);\n        } else {\n            if (productToPurchase.getQty() &gt; 0) {\n                shoppingCart.addItem(productToPurchase);\n                productToPurchase.setQty(productToPurchase.getQty() - 1);\n                System.out.println(&quot;Product purchased successfully.&quot;);\n            } else {\n                System.out.println(&quot;Product is out of stock.&quot;);\n            }\n        }\n        \n    }\n    \n    private static void returnProducts() {\n        shoppingCart.returnProduct(null);\n    }\n\n\n    public static void main(String[] args) throws IOException{\n\n/*      \n * old method of manually adding inventory\n        inventoryManager.addProduct(new Food(&quot;Goji Berry&quot;, &quot;bright orange-red berry that comes from a shrub native to Asia&quot;, 8.32, 496));\n        inventoryManager.addProduct(new Potion(&quot;Elixir&quot;, &quot;Potion that grants eternal life&quot;, 3469.00, 4));\n        inventoryManager.addProduct(new Helmet(&quot;Kabuto&quot;, &quot;Ancient Japanese war helemt&quot;, 999.99, 43));\n        inventoryManager.addProduct(new Tomahawk(&quot;Polished Tomahawk&quot;, &quot;Benjamin Martins Tomahawk&quot;, 567.00, 1));\n        inventoryManager.addProduct(new Shield(&quot;Heater Shield&quot;, &quot;Used in the Middle Ages by knights and soldiers&quot;, 269.00, 57));\n        inventoryManager.addProduct(new Sword(&quot;Katana&quot;, &quot;single-edged sword used by Japanese samurai&quot;, 4420.00, 21));\n*/      \n        inventoryManager.initializeInventoryFromFile(&quot;inventory.json&quot;);\n        System.out.println(&quot;Welcome to the Game Store \\n&quot;);\n        System.out.println(&quot;Please select an option from the menu&quot;);\n        System.out.println(&quot;***************************************&quot;);\n        System.out.println(&quot;************MAIN MENU ******************\\n&quot;);\n        while (true) {\n            System.out.println(&quot;Enter one of the following:\\n\\n&quot;+\n            &quot;'1' : View Products\\n&quot;+\n            &quot;'2' : Purchase Products\\n&quot;+\n            &quot;'3' : Return Products\\n&quot;+\n            &quot;'4' : Exit&quot;);\n            \n            int menuChoice = scnr.nextInt();\n            \n            switch(menuChoice) {\n            case 1:\n                viewProducts();\n                break;\n            case 2:\n                purchaseProducts();\n                break;\n            case 3:\n                returnProducts();\n                break;\n            case 4:\n                System.out.println(&quot;Thank you for coming by. Please come again.&quot;);\n                System.exit(0);\n                break;\n                \n            } //scnr.close();\n        }\n    }\n}\n\n</code></pre>\n<p>File Service Class method</p>\n<pre><code>   public static ArrayList&lt;SalableProduct&gt; loadProductsFromFile(String filename) {\n\n        \n            ArrayList&lt;SalableProduct&gt; products = new ArrayList&lt;SalableProduct&gt;();\n            try {\n                File file = new File(filename);\n                Scanner scnr = new Scanner(file);\n                ObjectMapper objectMapper = new ObjectMapper();\n                \n                while (scnr.hasNext()) {\n                    String json = scnr.nextLine();\n                    SalableProduct product = objectMapper.readValue(json, SalableProduct.class);\n                    products.add(product);\n                }\n                scnr.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            } return products;\n        }\n</code></pre>\n<p>I have tried running my program in debug mode and watch all the steps closely but have not had any luck. It works when I hardcode/manually enter the inventory but hasn't since I implemented the JSON file and methods to call it.</p>\n<p>Here is the SalableProduct Class</p>\n<pre><code>    public class SalableProduct {\n        /**\n         * placeholder for items to sell in store\n         */\n        private String name;\n        private String description;\n        private double price;\n        private int qty;\n    \n        public String getName() {\n            return name;\n        }\n    \n    \n        public SalableProduct(String name, String description, double price, int qty) {\n            super();\n            this.name = name;\n            this.description = description;\n            this.price = price;\n            this.qty = qty;\n        }\n    \n        public String getDescription() {\n            return description;\n        }\n    \n        public void setName(String name) {\n            this.name = name;\n        }\n    \n    \n        public void setDescription(String description) {\n            this.description = description;\n        }\n    \n        public void setPrice(double price) {\n            this.price = price;\n        }\n    \n        public double getPrice() {\n            return price;\n        }\n    \n        public int getQty() {\n            return qty;\n        }\n        \n        public void setQty(int qty) {\n            this.qty = qty;\n        }\n    \n        public SalableProduct() {\n            name = &quot;&quot;;\n            description = &quot;&quot;;\n            price = 0;\n            qty = 0;\n        }\n    }\n</code></pre>\n<pre><code>Here is my JSON file\n</code></pre>\n<pre><code>    {&quot;name&quot;:&quot;Goji Berry&quot;,&quot;description&quot;:&quot;bright orange-red berry that comes from a shrub native to Asia&quot;,&quot;price&quot;:8.32,&quot;qty&quot;:496}\n    {&quot;name&quot;:&quot;Elixir&quot;,&quot;description&quot;:&quot;Potion that grants eternal life&quot;,&quot;price&quot;:3469.00,&quot;qty&quot;:4}\n    {&quot;name&quot;:&quot;Kabuto&quot;,&quot;description&quot;:&quot;Ancient Japanese war helmet&quot;,&quot;price&quot;:999.99,&quot;qty&quot;:43}\n    {&quot;name&quot;:&quot;Polished Tomahawk&quot;,&quot;description&quot;:&quot;Benjamin Martins Tomahawk&quot;,&quot;price&quot;:567.00,&quot;qty&quot;:1}\n    {&quot;name&quot;:&quot;Heater Shield&quot;,&quot;description&quot;:&quot;Used in the Middle Ages by knights and soldiers&quot;,&quot;price&quot;:269.00,&quot;qty&quot;:57}\n    {&quot;name&quot;:&quot;Katana&quot;,&quot;description&quot;:&quot;single-edged sword used by Japanese samurai&quot;,&quot;price&quot;:4469.00,&quot;qty&quot;:21}\n</code></pre>\n<p>Here is the displaySalable products</p>\n<pre><code>        for (SalableProduct product : products) {\n            System.out.println(product.getName() + &quot; - &quot; + product.getDescription() + &quot; - Price: $&quot; + product.getPrice()\n                    + &quot; - Quantity: &quot; + product.getQty());\n        }\n    }\n</code></pre>\n"},{"tags":["java","selenium-webdriver","automation","webdriver","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687301284,"creation_date":1687301284,"answer_id":76518827,"question_id":76518536,"body_markdown":"Within the [DEMOQA](https://demoqa.com/links) website to click on the link with text _**Create**_ and print the generated text you need to you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Code block:\r\n\r\n\t  driver.get(&quot;https://demoqa.com/links&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Created&quot;))).click();\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//p[./b]&quot;))).getText());\r\n\r\n- Console output:\r\n\r\n\t  Link has responded with staus 201 and status text Created","title":"How to get the text using Selenium Java that is generated after pressing a button?","body":"<p>Within the <a href=\"https://demoqa.com/links\" rel=\"nofollow noreferrer\">DEMOQA</a> website to click on the link with text <em><strong>Create</strong></em> and print the generated text you need to you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Code block:</p>\n<pre><code>driver.get(&quot;https://demoqa.com/links&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Created&quot;))).click();\nSystem.out.println(new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//p[./b]&quot;))).getText());\n</code></pre>\n</li>\n<li><p>Console output:</p>\n<pre><code>Link has responded with staus 201 and status text Created\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":9196797,"reputation":1,"user_id":16376299,"display_name":"Doulat Ghuman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687301752,"creation_date":1687297052,"question_id":76518536,"body_markdown":"I want to capture the text that is produced after clicking one of the links. But instead what i end up doing is capturing the text of the link.\r\n\r\nSnippet of the code I am using:\r\n```java\r\ndriver.navigate().to(&quot;https://demoqa.com/links&quot;);\r\ndriver.findElement(By.xpath(&quot;/html/body/div[2]/div/div/div[2]/div[2]/div[2]/p[3]/a&quot;)).click();\r\nSystem.out.println(driver.findElement(By.xpath(&quot;//*[@id=\\&#39;linkResponse\\&#39;]&quot;)).getText());\r\n```\r\nI have been trying to use `getText()`. But i don&#39;t know how to get text generated from the link.\r\n\r\nSnapshot of the page:\r\n\r\n![enter image description here](https://i.stack.imgur.com/2LHzN.jpg)","title":"How to get the text using Selenium Java that is generated after pressing a button?","body":"<p>I want to capture the text that is produced after clicking one of the links. But instead what i end up doing is capturing the text of the link.</p>\n<p>Snippet of the code I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.navigate().to(&quot;https://demoqa.com/links&quot;);\ndriver.findElement(By.xpath(&quot;/html/body/div[2]/div/div/div[2]/div[2]/div[2]/p[3]/a&quot;)).click();\nSystem.out.println(driver.findElement(By.xpath(&quot;//*[@id=\\'linkResponse\\']&quot;)).getText());\n</code></pre>\n<p>I have been trying to use <code>getText()</code>. But i don't know how to get text generated from the link.</p>\n<p>Snapshot of the page:</p>\n<p><img src=\"https://i.stack.imgur.com/2LHzN.jpg\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","utf-8","decode","encode"],"comments":[{"owner":{"account_id":3567343,"reputation":27,"user_id":2987283,"display_name":"user273121"},"score":0,"creation_date":1687238179,"post_id":76511585,"comment_id":134904536,"body_markdown":"My input is    &amp;#24180; &amp;#12493;&amp;#12531;","body":"My input is    &amp;#24180; &amp;#12493;&amp;#12531;"},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":4,"creation_date":1687244178,"post_id":76511585,"comment_id":134905316,"body_markdown":"There are many steps involved before you can see the expected results, and each of it can play a role with your problem. Please, show us a small, complete code example, something we can compile and run on our computers. Also, do you run in an IDE, in a Windows CMD window or where? This is also quite important.","body":"There are many steps involved before you can see the expected results, and each of it can play a role with your problem. Please, show us a small, complete code example, something we can compile and run on our computers. Also, do you run in an IDE, in a Windows CMD window or where? This is also quite important."},{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":0,"creation_date":1687274003,"post_id":76511585,"comment_id":134912067,"body_markdown":"Does this answer your question? [How can I unescape HTML character entities in Java?](https://stackoverflow.com/questions/994331/how-can-i-unescape-html-character-entities-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/994331/how-can-i-unescape-html-character-entities-in-java\">How can I unescape HTML character entities in Java?</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687280132,"post_id":76511585,"comment_id":134913430,"body_markdown":"You&#39;ve tried what, so far?","body":"You&#39;ve tried what, so far?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1687301315,"post_id":76511585,"comment_id":134916788,"body_markdown":"@Josefz Your proposed duplicate is for character entities (as explicitly stated in its title), but this question is about unescaping numeric entities.","body":"@Josefz Your proposed duplicate is for character entities (as explicitly stated in its title), but this question is about unescaping numeric entities."}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687300954,"creation_date":1687300954,"answer_id":76518804,"question_id":76511585,"body_markdown":"I don&#39;t know of any JDK method to resolve your issue, but you can do it in one line using Apache&#39;s [StringEscapeUtils.unescapeHtml4​()][1] method, and the code is trivial. Here&#39;s an example using your sample data:\r\n\r\n    import org.apache.commons.text.StringEscapeUtils;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            String input = &quot;&amp;#24180; &amp;#12493;&amp;#12531;&quot;;\r\n            System.out.println(&quot;input=[&quot; + input + &quot;]&quot;);\r\n            String output = StringEscapeUtils.unescapeHtml4(input);\r\n            System.out.println(&quot;output=[&quot; + output + &quot;]&quot;);\r\n        }\r\n    }\r\n\r\n\r\nHere&#39;s the output:\r\n\r\n    input=[&amp;#24180; &amp;#12493;&amp;#12531;]\r\n    output=[年 ネン]\r\n\r\nI ran the code using JDK 20 in Intellij IDEA.\r\n\r\nAn alternative pure Java approach would be to write the code yourself (but why bother?):\r\n- Use a [StringTokenizer][2] to extract each numeric code point from the input.\r\n- Convert each extracted code point to a character using [Character.toString(int codePoint)][3].\r\n\r\nNotes:\r\n- The javadoc for `unescapeHtml4()` does not explicitly state that it supports numeric entities in the format you specify them, but it seems to work fine.\r\n- The `StringEscapeUtils` class can be found in both `org.apache.commons.text` and `org.apache.commons.lang`. Be sure to use the `org.apache.commons.text` implementation.\r\n- You will need to download the [Apache Commons Text library][4] and add it to your project, and import `org.apache.commons.text.StringEscapeUtils;` in your code.\r\n- You will also need to download the [Apache Commons Lang library][5] and add it to your project. Otherwise you will get a `java.lang.ClassNotFoundException: org.apache.commons.lang3.Range` at runtime.\r\n- Any spaces in the input will be preserved by `unescapeHtml4()` in the output.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#unescapeHtml4(java.lang.String)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/StringTokenizer.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Character.html#toString(int)\r\n  [4]: https://commons.apache.org/proper/commons-text/\r\n  [5]: https://commons.apache.org/proper/commons-lang/","title":"Unable to decode Java UTF8","body":"<p>I don't know of any JDK method to resolve your issue, but you can do it in one line using Apache's <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#unescapeHtml4(java.lang.String)\" rel=\"nofollow noreferrer\">StringEscapeUtils.unescapeHtml4​()</a> method, and the code is trivial. Here's an example using your sample data:</p>\n<pre><code>import org.apache.commons.text.StringEscapeUtils;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        String input = &quot;&amp;#24180; &amp;#12493;&amp;#12531;&quot;;\n        System.out.println(&quot;input=[&quot; + input + &quot;]&quot;);\n        String output = StringEscapeUtils.unescapeHtml4(input);\n        System.out.println(&quot;output=[&quot; + output + &quot;]&quot;);\n    }\n}\n</code></pre>\n<p>Here's the output:</p>\n<pre><code>input=[&amp;#24180; &amp;#12493;&amp;#12531;]\noutput=[年 ネン]\n</code></pre>\n<p>I ran the code using JDK 20 in Intellij IDEA.</p>\n<p>An alternative pure Java approach would be to write the code yourself (but why bother?):</p>\n<ul>\n<li>Use a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/StringTokenizer.html\" rel=\"nofollow noreferrer\">StringTokenizer</a> to extract each numeric code point from the input.</li>\n<li>Convert each extracted code point to a character using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Character.html#toString(int)\" rel=\"nofollow noreferrer\">Character.toString(int codePoint)</a>.</li>\n</ul>\n<p>Notes:</p>\n<ul>\n<li>The javadoc for <code>unescapeHtml4()</code> does not explicitly state that it supports numeric entities in the format you specify them, but it seems to work fine.</li>\n<li>The <code>StringEscapeUtils</code> class can be found in both <code>org.apache.commons.text</code> and <code>org.apache.commons.lang</code>. Be sure to use the <code>org.apache.commons.text</code> implementation.</li>\n<li>You will need to download the <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">Apache Commons Text library</a> and add it to your project, and import <code>org.apache.commons.text.StringEscapeUtils;</code> in your code.</li>\n<li>You will also need to download the <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Apache Commons Lang library</a> and add it to your project. Otherwise you will get a <code>java.lang.ClassNotFoundException: org.apache.commons.lang3.Range</code> at runtime.</li>\n<li>Any spaces in the input will be preserved by <code>unescapeHtml4()</code> in the output.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1687328822,"post_id":76518856,"comment_id":134919398,"body_markdown":"That works fine, and I&#39;m now thinking your quick-and-dirty approach is probably better than using a library. The sample data in the OP was clean, but it&#39;s nice to be in complete control of the process if there are issues with the input.","body":"That works fine, and I&#39;m now thinking your quick-and-dirty approach is probably better than using a library. The sample data in the OP was clean, but it&#39;s nice to be in complete control of the process if there are issues with the input."}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687301684,"creation_date":1687301684,"answer_id":76518856,"question_id":76511585,"body_markdown":"As @skomisa has said, it&#39;s probably better to use a proper library for this, but if you want something quick-and-dirty, then:\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class DecimalEntityDecoder {\r\n        public static void main(String[] args) {\r\n            try {\r\n                String decimalEntities = args[0];\r\n                String output = Arrays.stream(decimalEntities.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;).split(&quot;;&quot;)).\r\n                    map(s -&gt;s.replaceAll(&quot;\\\\D&quot;, &quot;&quot;)).\r\n                    mapToInt(Integer::valueOf).\r\n                    collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).\r\n                    toString();\r\n                System.out.println(output);\r\n            }\r\n            catch(Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Unable to decode Java UTF8","body":"<p>As @skomisa has said, it's probably better to use a proper library for this, but if you want something quick-and-dirty, then:</p>\n<pre><code>import java.util.Arrays;\n\npublic class DecimalEntityDecoder {\n    public static void main(String[] args) {\n        try {\n            String decimalEntities = args[0];\n            String output = Arrays.stream(decimalEntities.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;).split(&quot;;&quot;)).\n                map(s -&gt;s.replaceAll(&quot;\\\\D&quot;, &quot;&quot;)).\n                mapToInt(Integer::valueOf).\n                collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).\n                toString();\n            System.out.println(output);\n        }\n        catch(Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3567343,"reputation":27,"user_id":2987283,"display_name":"user273121"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1687301684,"creation_date":1687238048,"question_id":76511585,"body_markdown":"My input for a Java program is the charcode for 年 ネン  Japanese string. I need to convert it back to Japanese.\r\nI tried getBytes(UTF8) but couldnt succeed to convert it back to Japanese. Can you please help\r\n\r\nI tried getBytes(UTF8).\r\n\r\nMy input is `&amp;#24180; &amp;#12493;&amp;#12531;` which corresponds to the Japanese characters &quot;&amp;#24180; &amp;#12493;&amp;#12531;&quot;.","title":"Unable to decode Java UTF8","body":"<p>My input for a Java program is the charcode for 年 ネン  Japanese string. I need to convert it back to Japanese.\nI tried getBytes(UTF8) but couldnt succeed to convert it back to Japanese. Can you please help</p>\n<p>I tried getBytes(UTF8).</p>\n<p>My input is <code>&amp;#24180; &amp;#12493;&amp;#12531;</code> which corresponds to the Japanese characters &quot;年 ネン&quot;.</p>\n"},{"tags":["java","ftp","ftp-client","testcontainers","apache-commons-net"],"answers":[{"comments":[{"owner":{"account_id":3496867,"reputation":3005,"user_id":2924784,"accept_rate":83,"display_name":"orirab"},"score":0,"creation_date":1639631053,"post_id":70371790,"comment_id":124399780,"body_markdown":"thank you for the detailed answer! I&#39;ll try it out later today.","body":"thank you for the detailed answer! I&#39;ll try it out later today."},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1639639042,"post_id":70371790,"comment_id":124401355,"body_markdown":"You might be able to override `FTPClient._parsePassiveModeReply` to apply `getMappedPort` to the passive mode port number.","body":"You might be able to override <code>FTPClient._parsePassiveModeReply</code> to apply <code>getMappedPort</code> to the passive mode port number."},{"owner":{"account_id":9045821,"reputation":62,"user_id":6738184,"accept_rate":100,"display_name":"h3wro"},"score":0,"creation_date":1651217034,"post_id":70371790,"comment_id":127315871,"body_markdown":"The solution almost worked for me, I needed to expose additional ports in order to have it working (Kotlin version): `var container: FixedHostPortGenericContainer&lt;*&gt; = FixedHostPortGenericContainer&lt;Nothing&gt;(&quot;delfer/alpine-ftp-server:latest&quot;)\n\t\t.withExposedPorts(21)\n\tcontainer.withEnv(&quot;USERS&quot;, &quot;user|password123!&quot;)\n\tcontainer.withFixedExposedPort(21, 21)\n\tcontainer.withFixedExposedPort(21000, 21000)\n\tcontainer.withEnv(&quot;MIN_PORT&quot;, &quot;21000&quot;)\n\tcontainer.withEnv(&quot;MAX_PORT&quot;, &quot;21000&quot;)`","body":"The solution almost worked for me, I needed to expose additional ports in order to have it working (Kotlin version): <code>var container: FixedHostPortGenericContainer&lt;*&gt; = FixedHostPortGenericContainer&lt;Nothing&gt;(&quot;delfer&#47;alpine-ftp-se&zwnj;&#8203;rver:latest&quot;) \t\t.withExposedPorts(21) \tcontainer.withEnv(&quot;USERS&quot;, &quot;user|password123!&quot;) \tcontainer.withFixedExposedPort(21, 21) \tcontainer.withFixedExposedPort(21000, 21000) \tcontainer.withEnv(&quot;MIN_PORT&quot;, &quot;21000&quot;) \tcontainer.withEnv(&quot;MAX_PORT&quot;, &quot;21000&quot;)</code>"}],"tags":[],"owner":{"account_id":12937672,"reputation":1290,"user_id":9354495,"display_name":"yuppie-flu"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1639613181,"creation_date":1639613181,"answer_id":70371790,"question_id":70274689,"body_markdown":"As you already figured out in the comments, the tricky part about FTP passive mode is that the server uses another port (not 21) for communication.\r\nIn the docker image you&#39;re using, it&#39;s a port from the `21000-21010` range by default. So you need to publish (expose) these additional container ports. In `docker run` command you used `-p 21000-21010:21000-21010` for that.\r\n\r\nHowever, Testcontainers library is designed to publish to random host ports to avoid the problem, when a desired fixed port (or a range of ports) is already occupied on the host side.\r\nIn case of FTP passive mode random ports on the host side cause problems, because afaik you can&#39;t instruct the ftp client to override the port, which FTP server returned for the passive mode. You&#39;d need something like `ftpClient.connect(&quot;localhost&quot;, ftp.getMappedPort(PORT));` but for passive mode ports as well.\r\n\r\nTherefore the only solution I see here is to use a [FixedHostPortContainer](https://github.com/testcontainers/testcontainers-java/blob/master/core/src/main/java/org/testcontainers/containers/FixedHostPortGenericContainer.java). Even though it&#39;s marked as deprecated and not recommended to use because of the mentioned issues with occupied ports, I think this is a valid use case for it here. `FixedHostPortGenericContainer` allows to publish fixed ports on the host side. Something like:\r\n```java\r\n    private static final int PASSIVE_MODE_PORT = 21000;\r\n    ...\r\n    private static final FixedHostPortGenericContainer ftp = new FixedHostPortGenericContainer&lt;&gt;(\r\n            &quot;delfer/alpine-ftp-server:latest&quot;)\r\n            .withFixedExposedPort(PASSIVE_MODE_PORT, PASSIVE_MODE_PORT)\r\n            .withExposedPorts(PORT)\r\n            .withEnv(&quot;USERS&quot;, USER + &quot;|&quot; + PASSWORD)\r\n            .withEnv(&quot;MIN_PORT&quot;, String.valueOf(PASSIVE_MODE_PORT))\r\n            .withEnv(&quot;MAX_PORT&quot;, String.valueOf(PASSIVE_MODE_PORT));\r\n```\r\nKeep in mind that this solution relies on the assumption that `21000` port is always free. If you&#39;re going to run this in the environment where it&#39;s not guaranteed, then you need to tweak it to find a free host port first. Like:\r\n```java\r\n    private static FixedHostPortGenericContainer ftp = new FixedHostPortGenericContainer&lt;&gt;(\r\n            &quot;delfer/alpine-ftp-server:latest&quot;)\r\n            .withExposedPorts(PORT)\r\n            .withEnv(&quot;USERS&quot;, USER + &quot;|&quot; + PASSWORD);\r\n\r\n    @BeforeAll\r\n    public static void staticSetup() throws Exception {\r\n        Integer freePort = 0;\r\n        try (ServerSocket socket = new ServerSocket(0)) {\r\n            freePort = socket.getLocalPort();\r\n        }\r\n        ftp = (FixedHostPortGenericContainer)ftp.withFixedExposedPort(freePort, freePort)\r\n                .withEnv(&quot;MIN_PORT&quot;, String.valueOf(freePort))\r\n                .withEnv(&quot;MAX_PORT&quot;, String.valueOf(freePort));\r\n\r\n        ftp.start();\r\n    }\r\n```\r\n ","title":"Uploading a file to testcontainer FTP server fails with Connection refused after being connected","body":"<p>As you already figured out in the comments, the tricky part about FTP passive mode is that the server uses another port (not 21) for communication.\nIn the docker image you're using, it's a port from the <code>21000-21010</code> range by default. So you need to publish (expose) these additional container ports. In <code>docker run</code> command you used <code>-p 21000-21010:21000-21010</code> for that.</p>\n<p>However, Testcontainers library is designed to publish to random host ports to avoid the problem, when a desired fixed port (or a range of ports) is already occupied on the host side.\nIn case of FTP passive mode random ports on the host side cause problems, because afaik you can't instruct the ftp client to override the port, which FTP server returned for the passive mode. You'd need something like <code>ftpClient.connect(&quot;localhost&quot;, ftp.getMappedPort(PORT));</code> but for passive mode ports as well.</p>\n<p>Therefore the only solution I see here is to use a <a href=\"https://github.com/testcontainers/testcontainers-java/blob/master/core/src/main/java/org/testcontainers/containers/FixedHostPortGenericContainer.java\" rel=\"noreferrer\">FixedHostPortContainer</a>. Even though it's marked as deprecated and not recommended to use because of the mentioned issues with occupied ports, I think this is a valid use case for it here. <code>FixedHostPortGenericContainer</code> allows to publish fixed ports on the host side. Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final int PASSIVE_MODE_PORT = 21000;\n    ...\n    private static final FixedHostPortGenericContainer ftp = new FixedHostPortGenericContainer&lt;&gt;(\n            &quot;delfer/alpine-ftp-server:latest&quot;)\n            .withFixedExposedPort(PASSIVE_MODE_PORT, PASSIVE_MODE_PORT)\n            .withExposedPorts(PORT)\n            .withEnv(&quot;USERS&quot;, USER + &quot;|&quot; + PASSWORD)\n            .withEnv(&quot;MIN_PORT&quot;, String.valueOf(PASSIVE_MODE_PORT))\n            .withEnv(&quot;MAX_PORT&quot;, String.valueOf(PASSIVE_MODE_PORT));\n</code></pre>\n<p>Keep in mind that this solution relies on the assumption that <code>21000</code> port is always free. If you're going to run this in the environment where it's not guaranteed, then you need to tweak it to find a free host port first. Like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static FixedHostPortGenericContainer ftp = new FixedHostPortGenericContainer&lt;&gt;(\n            &quot;delfer/alpine-ftp-server:latest&quot;)\n            .withExposedPorts(PORT)\n            .withEnv(&quot;USERS&quot;, USER + &quot;|&quot; + PASSWORD);\n\n    @BeforeAll\n    public static void staticSetup() throws Exception {\n        Integer freePort = 0;\n        try (ServerSocket socket = new ServerSocket(0)) {\n            freePort = socket.getLocalPort();\n        }\n        ftp = (FixedHostPortGenericContainer)ftp.withFixedExposedPort(freePort, freePort)\n                .withEnv(&quot;MIN_PORT&quot;, String.valueOf(freePort))\n                .withEnv(&quot;MAX_PORT&quot;, String.valueOf(freePort));\n\n        ftp.start();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"score":0,"creation_date":1671526982,"post_id":72718341,"comment_id":132112955,"body_markdown":"this did not run , container fails with org.testcontainers.shaded.org.awaitility.core.ConditionTimeoutException: Lambda expression in org.testcontainers.containers.GenericContainer: expected the predicate to return &lt;true&gt; but it returned &lt;false&gt; for input of &lt;InspectContainerResponse(args=[--, /bin/start_vsftpd.sh], config=ContainerConfig(attachStderr=false, attachStdin=false, attachStdout=false, cmd=null, domainName=, entrypoint=[/sbin/tini, --, /bin/start_vsftpd.sh], env=[MIN_PORT=21000, MAX_PORT=21000, USERS=free|free, PATH=","body":"this did not run , container fails with org.testcontainers.shaded.org.awaitility.core.ConditionTimeo&zwnj;&#8203;utException: Lambda expression in org.testcontainers.containers.GenericContainer: expected the predicate to return &lt;true&gt; but it returned &lt;false&gt; for input of &lt;InspectContainerResponse(args=[--, /bin/start_vsftpd.sh], config=ContainerConfig(attachStderr=false, attachStdin=false, attachStdout=false, cmd=null, domainName=, entrypoint=[/sbin/tini, --, /bin/start_vsftpd.sh], env=[MIN_PORT=21000, MAX_PORT=21000, USERS=free|free, PATH="}],"tags":[],"owner":{"account_id":2898303,"reputation":831,"user_id":2485599,"display_name":"Patrick"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655912252,"creation_date":1655912252,"answer_id":72718341,"question_id":70274689,"body_markdown":"An answer similar to the accepted one but without using deprecated functionalities.\r\nNote that we still have to use the fixed port 21000.\r\n\r\n\r\n    public static class FTPContainer extends GenericContainer&lt;FTPContainer&gt;\r\n    {\r\n       private static FTPContainer container;\r\n\r\n       private FTPContainer()\r\n       {\r\n         super(DockerImageName.parse(&quot;delfer/alpine-ftp-server:latest&quot;));\r\n       }\r\n\r\n       @SuppressWarnings(&quot;resource&quot;)\r\n       public static FTPContainer getInstance()\r\n       {\r\n          if (container == null)\r\n          {\r\n             container = new FTPContainer().withEnv(&quot;USERS&quot;, &quot;test|test|/home/&quot;).withExposedPorts(21)\r\n                  .withCreateContainerCmdModifier(e -&gt; e.getHostConfig()\r\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(21000), new ExposedPort(21000))))\r\n                  .withEnv(&quot;MIN_PORT&quot;, &quot;21000&quot;).withEnv(&quot;MAX_PORT&quot;, &quot;21000&quot;);\r\n          }\r\n          return container;\r\n       }\r\n\r\n       @Override\r\n       public void start()\r\n       {\r\n          super.start();\r\n       }\r\n\r\n       @Override\r\n       public void stop()\r\n       {\r\n          // Handled when JVM stops\r\n       }\r\n    }\r\n\r\nAnd then you can use your FTP server instance like \r\n\r\n    FTPContainer FTP = FTPContainer.getInstance();\r\n    FTP.start();\r\n","title":"Uploading a file to testcontainer FTP server fails with Connection refused after being connected","body":"<p>An answer similar to the accepted one but without using deprecated functionalities.\nNote that we still have to use the fixed port 21000.</p>\n<pre><code>public static class FTPContainer extends GenericContainer&lt;FTPContainer&gt;\n{\n   private static FTPContainer container;\n\n   private FTPContainer()\n   {\n     super(DockerImageName.parse(&quot;delfer/alpine-ftp-server:latest&quot;));\n   }\n\n   @SuppressWarnings(&quot;resource&quot;)\n   public static FTPContainer getInstance()\n   {\n      if (container == null)\n      {\n         container = new FTPContainer().withEnv(&quot;USERS&quot;, &quot;test|test|/home/&quot;).withExposedPorts(21)\n              .withCreateContainerCmdModifier(e -&gt; e.getHostConfig()\n                    .withPortBindings(new PortBinding(Ports.Binding.bindPort(21000), new ExposedPort(21000))))\n              .withEnv(&quot;MIN_PORT&quot;, &quot;21000&quot;).withEnv(&quot;MAX_PORT&quot;, &quot;21000&quot;);\n      }\n      return container;\n   }\n\n   @Override\n   public void start()\n   {\n      super.start();\n   }\n\n   @Override\n   public void stop()\n   {\n      // Handled when JVM stops\n   }\n}\n</code></pre>\n<p>And then you can use your FTP server instance like</p>\n<pre><code>FTPContainer FTP = FTPContainer.getInstance();\nFTP.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":977258,"reputation":3591,"user_id":997977,"accept_rate":36,"display_name":"Juan Rada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687300849,"creation_date":1687300849,"answer_id":76518795,"question_id":70274689,"body_markdown":"I tried to put all peaces together.\r\n\r\n```\r\nclass FtpContainer(private val params: CreationParams) :\r\n    FixedHostPortGenericContainer&lt;FtpContainer&gt;(&quot;delfer/alpine-ftp-server:${params.version}&quot;) {\r\n\r\n    override fun start() {\r\n        val freePort = ServerSocket(0).use { socket -&gt; socket.localPort }\r\n        withFixedExposedPort(freePort, freePort)\r\n            .withEnv(&quot;MIN_PORT&quot;, freePort.toString())\r\n            .withEnv(&quot;MAX_PORT&quot;, freePort.toString())\r\n            .withExposedPorts(21)\r\n            .withEnv(&quot;USERS&quot;, &quot;${params.user}|${params.password}&quot;)\r\n        super.start()\r\n    }\r\n\r\n    fun getUrl(): String {\r\n        return containerIpAddress\r\n    }\r\n\r\n    fun getFtpPort(): Int {\r\n        return getMappedPort(21)\r\n    }\r\n}\r\n```","title":"Uploading a file to testcontainer FTP server fails with Connection refused after being connected","body":"<p>I tried to put all peaces together.</p>\n<pre><code>class FtpContainer(private val params: CreationParams) :\n    FixedHostPortGenericContainer&lt;FtpContainer&gt;(&quot;delfer/alpine-ftp-server:${params.version}&quot;) {\n\n    override fun start() {\n        val freePort = ServerSocket(0).use { socket -&gt; socket.localPort }\n        withFixedExposedPort(freePort, freePort)\n            .withEnv(&quot;MIN_PORT&quot;, freePort.toString())\n            .withEnv(&quot;MAX_PORT&quot;, freePort.toString())\n            .withExposedPorts(21)\n            .withEnv(&quot;USERS&quot;, &quot;${params.user}|${params.password}&quot;)\n        super.start()\n    }\n\n    fun getUrl(): String {\n        return containerIpAddress\n    }\n\n    fun getFtpPort(): Int {\n        return getMappedPort(21)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3496867,"reputation":3005,"user_id":2924784,"accept_rate":83,"display_name":"orirab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2680,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":70371790,"answer_count":3,"score":4,"last_activity_date":1687300849,"creation_date":1638964942,"question_id":70274689,"body_markdown":"I&#39;m working with [FTPClient](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html) against an FTP server using `Testcontainers`.\r\n\r\nA reproducible code sample is here:\r\n```\r\nimport org.apache.commons.net.PrintCommandListener;\r\nimport org.apache.commons.net.ftp.FTP;\r\nimport org.apache.commons.net.ftp.FTPClient;\r\nimport org.apache.commons.net.ftp.FTPReply;\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.testcontainers.containers.GenericContainer;\r\nimport org.testcontainers.images.builder.ImageFromDockerfile;\r\nimport org.testcontainers.junit.jupiter.Testcontainers;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.PrintWriter;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\n@Testcontainers\r\nclass FtpUtilsTest {\r\n\r\n    private static final int PORT = 21;\r\n    private static final String USER = &quot;user&quot;;\r\n    private static final String PASSWORD = &quot;password&quot;;\r\n    private static final int FTP_TIMEOUT_IN_MILLISECONDS = 1000 * 60;\r\n\r\n    private static final GenericContainer ftp = new GenericContainer(\r\n        new ImageFromDockerfile()\r\n            .withDockerfileFromBuilder(builder -&gt;\r\n                builder\r\n                    .from(&quot;delfer/alpine-ftp-server:latest&quot;)\r\n                    .build()\r\n            )\r\n    )\r\n        .withExposedPorts(PORT)\r\n        .withEnv(&quot;USERS&quot;, USER + &quot;|&quot; + PASSWORD);\r\n\r\n\r\n    @BeforeAll\r\n    public static void staticSetup() throws IOException {\r\n        ftp.start();\r\n    }\r\n\r\n    @AfterAll\r\n    static void afterAll() {\r\n        ftp.stop();\r\n    }\r\n\r\n    @Test\r\n    void test() throws IOException {\r\n        FTPClient ftpClient = new FTPClient();\r\n        ftpClient.setDataTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\r\n        ftpClient.setConnectTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\r\n        ftpClient.setDefaultTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\r\n\r\n        // Log\r\n        ftpClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out), true));\r\n\r\n        // Connect\r\n        try {\r\n            ftpClient.connect(&quot;localhost&quot;, ftp.getMappedPort(PORT));\r\n            ftpClient.setSoTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\r\n\r\n            int reply = ftpClient.getReplyCode();\r\n            if (!FTPReply.isPositiveCompletion(reply)) {\r\n                ftpClient.disconnect();\r\n                throw new AssertionError();\r\n            }\r\n\r\n            // Login\r\n            boolean loginSuccess = ftpClient.login(USER, PASSWORD);\r\n            if (!loginSuccess) {\r\n                throw new AssertionError();\r\n            }\r\n\r\n            ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\r\n            ftpClient.enterLocalPassiveMode();\r\n\r\n        } catch (IOException e) {\r\n            throw new AssertionError(e);\r\n        }\r\n\r\n        String remoteFile = &quot;fileonftp&quot;;\r\n        try (InputStream targetStream = new ByteArrayInputStream(&quot;Hello FTP&quot;.getBytes())) {\r\n            assertThat(ftpClient.isConnected()).isTrue();\r\n            ftpClient.storeFile(remoteFile, targetStream);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis prints:\r\n``` none\r\n220 Welcome Alpine ftp server https://hub.docker.com/r/delfer/alpine-ftp-server/\r\nUSER *******\r\n331 Please specify the password.\r\nPASS *******\r\n230 Login successful.\r\nTYPE I\r\n200 Switching to Binary mode.\r\nPASV\r\n227 Entering Passive Mode (172,17,0,3,82,15).\r\n[Replacing PASV mode reply address 172.17.0.3 with 127.0.0.1]\r\n```\r\n\r\nthen fails with:\r\n``` none\r\nConnection refused (Connection refused)\r\njava.net.ConnectException: Connection refused (Connection refused)\r\n    ...\r\n\tat java.base/java.net.Socket.connect(Socket.java:609)\r\n\tat org.apache.commons.net.ftp.FTPClient._openDataConnection_(FTPClient.java:866)\r\n\tat org.apache.commons.net.ftp.FTPClient._storeFile(FTPClient.java:1053)\r\n\tat org.apache.commons.net.ftp.FTPClient.storeFile(FTPClient.java:3816)\r\n\tat org.apache.commons.net.ftp.FTPClient.storeFile(FTPClient.java:3846)\r\n```\r\n\r\nWhat I don&#39;t understand is that it fails after successfully connecting and logging in, and returning `true` for `isConnected`. \r\n\r\n---\r\n\r\nTurns out that when removing the `ftpClient.enterLocalPassiveMode();` it works, but I need it to work with the passive mode.\r\n\r\nI guess the failure is related when switching to a different port for the passive call.\r\n\r\nbut when trying to add the ports to the `withExposedPorts` the container fails to start with:\r\n\r\n``` none\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Timed out waiting for container port to open (localhost ports: [55600, 55601, 55602, 55603, 55604, 55605, 55606, 55607, 55608, 55609, 55598, 55599] should be listening)\r\n```\r\n\r\n---\r\n\r\nRunning against a docker (`docker run -d -p 21:21 -p 21000-21010:21000-21010 -e USERS=&quot;user|password&quot; delfer/alpine-ftp-server`) works.\r\n\r\nLocal docker versions: \r\n* Docker version 20.10.11, build dea9396\r\n* Docker Desktop 4.3.1\r\n\r\nTestcontainers - appears to behave the same both on 1.16.2 and 1.15.3\r\n\r\nLink to testcontainers [discussion][1]\r\n\r\n\r\n  [1]: https://github.com/testcontainers/testcontainers-java/discussions/4787","title":"Uploading a file to testcontainer FTP server fails with Connection refused after being connected","body":"<p>I'm working with <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html\" rel=\"nofollow noreferrer\">FTPClient</a> against an FTP server using <code>Testcontainers</code>.</p>\n<p>A reproducible code sample is here:</p>\n<pre><code>import org.apache.commons.net.PrintCommandListener;\nimport org.apache.commons.net.ftp.FTP;\nimport org.apache.commons.net.ftp.FTPClient;\nimport org.apache.commons.net.ftp.FTPReply;\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport org.testcontainers.containers.GenericContainer;\nimport org.testcontainers.images.builder.ImageFromDockerfile;\nimport org.testcontainers.junit.jupiter.Testcontainers;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\n@Testcontainers\nclass FtpUtilsTest {\n\n    private static final int PORT = 21;\n    private static final String USER = &quot;user&quot;;\n    private static final String PASSWORD = &quot;password&quot;;\n    private static final int FTP_TIMEOUT_IN_MILLISECONDS = 1000 * 60;\n\n    private static final GenericContainer ftp = new GenericContainer(\n        new ImageFromDockerfile()\n            .withDockerfileFromBuilder(builder -&gt;\n                builder\n                    .from(&quot;delfer/alpine-ftp-server:latest&quot;)\n                    .build()\n            )\n    )\n        .withExposedPorts(PORT)\n        .withEnv(&quot;USERS&quot;, USER + &quot;|&quot; + PASSWORD);\n\n\n    @BeforeAll\n    public static void staticSetup() throws IOException {\n        ftp.start();\n    }\n\n    @AfterAll\n    static void afterAll() {\n        ftp.stop();\n    }\n\n    @Test\n    void test() throws IOException {\n        FTPClient ftpClient = new FTPClient();\n        ftpClient.setDataTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\n        ftpClient.setConnectTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\n        ftpClient.setDefaultTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\n\n        // Log\n        ftpClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out), true));\n\n        // Connect\n        try {\n            ftpClient.connect(&quot;localhost&quot;, ftp.getMappedPort(PORT));\n            ftpClient.setSoTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\n\n            int reply = ftpClient.getReplyCode();\n            if (!FTPReply.isPositiveCompletion(reply)) {\n                ftpClient.disconnect();\n                throw new AssertionError();\n            }\n\n            // Login\n            boolean loginSuccess = ftpClient.login(USER, PASSWORD);\n            if (!loginSuccess) {\n                throw new AssertionError();\n            }\n\n            ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\n            ftpClient.enterLocalPassiveMode();\n\n        } catch (IOException e) {\n            throw new AssertionError(e);\n        }\n\n        String remoteFile = &quot;fileonftp&quot;;\n        try (InputStream targetStream = new ByteArrayInputStream(&quot;Hello FTP&quot;.getBytes())) {\n            assertThat(ftpClient.isConnected()).isTrue();\n            ftpClient.storeFile(remoteFile, targetStream);\n        }\n    }\n}\n</code></pre>\n<p>This prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>220 Welcome Alpine ftp server https://hub.docker.com/r/delfer/alpine-ftp-server/\nUSER *******\n331 Please specify the password.\nPASS *******\n230 Login successful.\nTYPE I\n200 Switching to Binary mode.\nPASV\n227 Entering Passive Mode (172,17,0,3,82,15).\n[Replacing PASV mode reply address 172.17.0.3 with 127.0.0.1]\n</code></pre>\n<p>then fails with:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Connection refused (Connection refused)\njava.net.ConnectException: Connection refused (Connection refused)\n    ...\n    at java.base/java.net.Socket.connect(Socket.java:609)\n    at org.apache.commons.net.ftp.FTPClient._openDataConnection_(FTPClient.java:866)\n    at org.apache.commons.net.ftp.FTPClient._storeFile(FTPClient.java:1053)\n    at org.apache.commons.net.ftp.FTPClient.storeFile(FTPClient.java:3816)\n    at org.apache.commons.net.ftp.FTPClient.storeFile(FTPClient.java:3846)\n</code></pre>\n<p>What I don't understand is that it fails after successfully connecting and logging in, and returning <code>true</code> for <code>isConnected</code>.</p>\n<hr />\n<p>Turns out that when removing the <code>ftpClient.enterLocalPassiveMode();</code> it works, but I need it to work with the passive mode.</p>\n<p>I guess the failure is related when switching to a different port for the passive call.</p>\n<p>but when trying to add the ports to the <code>withExposedPorts</code> the container fails to start with:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: org.testcontainers.containers.ContainerLaunchException: Timed out waiting for container port to open (localhost ports: [55600, 55601, 55602, 55603, 55604, 55605, 55606, 55607, 55608, 55609, 55598, 55599] should be listening)\n</code></pre>\n<hr />\n<p>Running against a docker (<code>docker run -d -p 21:21 -p 21000-21010:21000-21010 -e USERS=&quot;user|password&quot; delfer/alpine-ftp-server</code>) works.</p>\n<p>Local docker versions:</p>\n<ul>\n<li>Docker version 20.10.11, build dea9396</li>\n<li>Docker Desktop 4.3.1</li>\n</ul>\n<p>Testcontainers - appears to behave the same both on 1.16.2 and 1.15.3</p>\n<p>Link to testcontainers <a href=\"https://github.com/testcontainers/testcontainers-java/discussions/4787\" rel=\"nofollow noreferrer\">discussion</a></p>\n"},{"tags":["java","methods","nullpointerexception"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1687229830,"post_id":76511110,"comment_id":134903913,"body_markdown":"Please show a [mcve].","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687230240,"post_id":76511110,"comment_id":134903932,"body_markdown":"There&#39;s no loop in the code you&#39;ve shown.","body":"There&#39;s no loop in the code you&#39;ve shown."},{"owner":{"account_id":10144817,"reputation":74,"user_id":9285431,"display_name":"Saurav Dudeja"},"score":2,"creation_date":1687237713,"post_id":76511110,"comment_id":134904504,"body_markdown":"you are calling this method recursively \nYou need to add a break condition for this line\nSalableProduct productReturned = returnProduct(returnProd);","body":"you are calling this method recursively  You need to add a break condition for this line SalableProduct productReturned = returnProduct(returnProd);"},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1687295513,"post_id":76511110,"comment_id":134916075,"body_markdown":"Thank you for suggesting a break condition. I also added a for loop that iterates over the products in the salableProduct list. I will add my refactored code to this.","body":"Thank you for suggesting a break condition. I also added a for loop that iterates over the products in the salableProduct list. I will add my refactored code to this."}],"answers":[{"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1687298698,"post_id":76518442,"comment_id":134916509,"body_markdown":"You shouldn&#39;t close the Scanner since it is operating on System.in, which you did not open.","body":"You shouldn&#39;t close the Scanner since it is operating on System.in, which you did not open."},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1687300187,"post_id":76518442,"comment_id":134916660,"body_markdown":"Yes I actually just noticed that after I got my loop issue fixed. But I just got done adding FilterInputStream and wrapping System.in so that it overrides to prevent System.in being closed when scnr is closed. I will add the code for reference.","body":"Yes I actually just noticed that after I got my loop issue fixed. But I just got done adding FilterInputStream and wrapping System.in so that it overrides to prevent System.in being closed when scnr is closed. I will add the code for reference."}],"tags":[],"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687300335,"creation_date":1687295716,"answer_id":76518442,"question_id":76511110,"body_markdown":"I refactored my code and added a for loop so it will check over the products in my cart and then will break once it has iterated through.\r\n\r\n```\r\n\tpublic void returnProduct(String name) {\r\n\t\tScanner scnr = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter the name of the product you want to return: &quot;);\r\n\t\tString returnProd = scnr.nextLine();\r\n\r\n\t\tSalableProduct productReturned = null;\r\n\r\n\t\tfor (SalableProduct product : salableProduct) {\r\n\t\t\tif (product.getName().equalsIgnoreCase(returnProd)) {\r\n\t\t\t\tproductReturned = product;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (productReturned == null) {\r\n\t\t\tSystem.out.println(&quot;Item not in cart&quot;);\r\n\t\t} else {\r\n\t\t\tremoveItem(productReturned);\r\n\t\t\tInventoryManager inventoryManager = new InventoryManager();\r\n\t\t\tinventoryManager.addProduct(productReturned);\r\n\t\t\tSystem.out.println(productReturned.getName() + &quot; successfully returned&quot;);\r\n\t\t}\r\n\r\n\t\tscnr.close();\r\n\t}\r\n```\r\n\r\nAnother bug came up where the program would exit because scnr.close() is tied to System.in so I used custom FilterInputStream and wrapped System.in.\r\n\r\nUPDATED CODE:\r\n\r\n```\r\n\tpublic void returnProduct(String name) {\r\n\t\tFilterInputStream filterInputStream = new FilterInputStream(System.in) {\r\n\t\t\t@Override\r\n\t\t\tpublic void close() throws IOException {\r\n\t\t\t}\r\n\t\t};\r\n\t\t// FilterInputStream so when scanner is closed it does not quit the program and\r\n\t\t// handles errors.\r\n\t\tScanner scnr = new Scanner(filterInputStream);\r\n\t\tSystem.out.println(&quot;Enter the name of the product you want to return: &quot;);\r\n\t\tString returnProd = scnr.nextLine();\r\n\r\n\t\tSalableProduct productReturned = null;\r\n\t\tfor (SalableProduct product : salableProduct) {\r\n\t\t\tif (product.getName().equalsIgnoreCase(returnProd)) {\r\n\t\t\t\tproductReturned = product;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (productReturned == null) {\r\n\t\t\tSystem.out.println(&quot;Item not in cart&quot;);\r\n\t\t} else {\r\n\t\t\tremoveItem(productReturned);\r\n\t\t\tInventoryManager inventoryManager = new InventoryManager();\r\n\t\t\tinventoryManager.addProduct(productReturned);\r\n\t\t\tSystem.out.println(productReturned.getName() + &quot; successfully returned&quot;);\r\n\t\t}\r\n\r\n\t\tscnr.close();\r\n\t}\r\n```","title":"Stuck in a constant loop","body":"<p>I refactored my code and added a for loop so it will check over the products in my cart and then will break once it has iterated through.</p>\n<pre><code>    public void returnProduct(String name) {\n        Scanner scnr = new Scanner(System.in);\n        System.out.println(&quot;Enter the name of the product you want to return: &quot;);\n        String returnProd = scnr.nextLine();\n\n        SalableProduct productReturned = null;\n\n        for (SalableProduct product : salableProduct) {\n            if (product.getName().equalsIgnoreCase(returnProd)) {\n                productReturned = product;\n                break;\n            }\n        }\n\n        if (productReturned == null) {\n            System.out.println(&quot;Item not in cart&quot;);\n        } else {\n            removeItem(productReturned);\n            InventoryManager inventoryManager = new InventoryManager();\n            inventoryManager.addProduct(productReturned);\n            System.out.println(productReturned.getName() + &quot; successfully returned&quot;);\n        }\n\n        scnr.close();\n    }\n</code></pre>\n<p>Another bug came up where the program would exit because scnr.close() is tied to System.in so I used custom FilterInputStream and wrapped System.in.</p>\n<p>UPDATED CODE:</p>\n<pre><code>    public void returnProduct(String name) {\n        FilterInputStream filterInputStream = new FilterInputStream(System.in) {\n            @Override\n            public void close() throws IOException {\n            }\n        };\n        // FilterInputStream so when scanner is closed it does not quit the program and\n        // handles errors.\n        Scanner scnr = new Scanner(filterInputStream);\n        System.out.println(&quot;Enter the name of the product you want to return: &quot;);\n        String returnProd = scnr.nextLine();\n\n        SalableProduct productReturned = null;\n        for (SalableProduct product : salableProduct) {\n            if (product.getName().equalsIgnoreCase(returnProd)) {\n                productReturned = product;\n                break;\n            }\n        }\n\n        if (productReturned == null) {\n            System.out.println(&quot;Item not in cart&quot;);\n        } else {\n            removeItem(productReturned);\n            InventoryManager inventoryManager = new InventoryManager();\n            inventoryManager.addProduct(productReturned);\n            System.out.println(productReturned.getName() + &quot; successfully returned&quot;);\n        }\n\n        scnr.close();\n    }\n</code></pre>\n"}],"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687300335,"creation_date":1687229064,"question_id":76511110,"body_markdown":"I have my StoreFront class that calls this method when I select option 3 to return a product. This method is supposed to ask me ```&quot;Enter the name of the product you want to return: &quot;``` I type in the product put my console just prompts me again saying ```&quot;Enter the name of the product you want to return: &quot;```. Unsure where to go from here? Why am I stuck in a constant loop? Here is my method as well\r\n\r\n```\r\n    public SalableProduct returnProduct(String name) {\r\n    \tScanner scnr = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the name of the product you want to return: &quot;);\r\n        String returnProd = scnr.nextLine();\r\n\r\n        SalableProduct productReturned = returnProduct(returnProd);\r\n        if (productReturned == null) {\r\n            System.out.println(&quot;Item not in cart&quot;);\r\n        } else {\r\n            removeItem(productReturned);\r\n            addItem(productReturned);\r\n            System.out.println(productReturned.getName() + &quot; successfully returned&quot;);\r\n        }scnr.close();\r\n\t\treturn null;\r\n    }\r\n```","title":"Stuck in a constant loop","body":"<p>I have my StoreFront class that calls this method when I select option 3 to return a product. This method is supposed to ask me <code>&quot;Enter the name of the product you want to return: &quot;</code> I type in the product put my console just prompts me again saying <code>&quot;Enter the name of the product you want to return: &quot;</code>. Unsure where to go from here? Why am I stuck in a constant loop? Here is my method as well</p>\n<pre><code>    public SalableProduct returnProduct(String name) {\n        Scanner scnr = new Scanner(System.in);\n        System.out.println(&quot;Enter the name of the product you want to return: &quot;);\n        String returnProd = scnr.nextLine();\n\n        SalableProduct productReturned = returnProduct(returnProd);\n        if (productReturned == null) {\n            System.out.println(&quot;Item not in cart&quot;);\n        } else {\n            removeItem(productReturned);\n            addItem(productReturned);\n            System.out.println(productReturned.getName() + &quot; successfully returned&quot;);\n        }scnr.close();\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","overriding"],"answers":[{"comments":[{"owner":{"account_id":26569504,"reputation":17,"user_id":20195942,"display_name":"Kookaburra"},"score":0,"creation_date":1687235524,"post_id":76511327,"comment_id":134904327,"body_markdown":"Ohhh I see, I think I somewhat understand the use of overriding, your explanation was really easy to understand","body":"Ohhh I see, I think I somewhat understand the use of overriding, your explanation was really easy to understand"}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687234749,"creation_date":1687233301,"answer_id":76511327,"question_id":76511167,"body_markdown":"You override a method when you have a class hierarchy, as you do, where there is a sensible default behaviour which many of your subclasses will want to use, but some subclasses need different behaviour *and* you want to call the method using a reference of the base class.\r\n\r\nIf I had code like:\r\n```\r\nDog d = new Dog();\r\nd.speak();\r\n```\r\nThen just implementing `bark()` would be fine, because `d` is always a `Dog`.\r\nBut when I have code like this:\r\n```\r\nAnimal a;\r\nif (...) {\r\n a = new Dog();\r\n} else {\r\n a = new Cat();\r\n}\r\na.speak();\r\n```\r\nThen we have to override a method. If the subclasses had a new method (like your `bark()`) which wasn&#39;t present on `Animal` we wouldn&#39;t be able to call it, because `a` is an `Animal` -- the actual object it refers to might be a `Dog` or a `Cat`.","title":"Why use Method Overriding in java","body":"<p>You override a method when you have a class hierarchy, as you do, where there is a sensible default behaviour which many of your subclasses will want to use, but some subclasses need different behaviour <em>and</em> you want to call the method using a reference of the base class.</p>\n<p>If I had code like:</p>\n<pre><code>Dog d = new Dog();\nd.speak();\n</code></pre>\n<p>Then just implementing <code>bark()</code> would be fine, because <code>d</code> is always a <code>Dog</code>.\nBut when I have code like this:</p>\n<pre><code>Animal a;\nif (...) {\n a = new Dog();\n} else {\n a = new Cat();\n}\na.speak();\n</code></pre>\n<p>Then we have to override a method. If the subclasses had a new method (like your <code>bark()</code>) which wasn't present on <code>Animal</code> we wouldn't be able to call it, because <code>a</code> is an <code>Animal</code> -- the actual object it refers to might be a <code>Dog</code> or a <code>Cat</code>.</p>\n"},{"comments":[{"owner":{"account_id":26569504,"reputation":17,"user_id":20195942,"display_name":"Kookaburra"},"score":0,"creation_date":1687235763,"post_id":76511359,"comment_id":134904344,"body_markdown":"Hmmm, I guess I need to study more about polymorphism to get a better understanding about overriding,","body":"Hmmm, I guess I need to study more about polymorphism to get a better understanding about overriding,"}],"tags":[],"owner":{"account_id":9866227,"reputation":48,"user_id":7307613,"display_name":"Akbar  Amanov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687234156,"creation_date":1687234156,"answer_id":76511359,"question_id":76511167,"body_markdown":"Basically it is needed for polymorphism, which is the ability to use subclass instead of superclass anywhere superclass is required. So, let&#39;s say you have a method where you need to pass an animal and that method goes like \r\n\r\n    makeAnimalSpeak(Animal a){\r\n      a.speak();\r\n    }\r\n\r\nLater you want to call that method and pass there specifically Dog, not generic animal, and want to make that Dog bark.\r\nSo, you go: \r\n\r\n    Dog dog = new Dog();\r\n    makeAnimalSpeak(dog);\r\n\r\nHere is the thing: makeAnimalSpeak() doesn&#39;t and can&#39;t call dog.bark() It calls animal.speak() because Animal and all of its subclasses have speak() method. So, if you want your Dog bark using makeAnimalSpeak() method, you can override speak() method. This way you can have general class Animal and only one method that works for every subclass of animal while customizing the way each subclass speaks.\r\n","title":"Why use Method Overriding in java","body":"<p>Basically it is needed for polymorphism, which is the ability to use subclass instead of superclass anywhere superclass is required. So, let's say you have a method where you need to pass an animal and that method goes like</p>\n<pre><code>makeAnimalSpeak(Animal a){\n  a.speak();\n}\n</code></pre>\n<p>Later you want to call that method and pass there specifically Dog, not generic animal, and want to make that Dog bark.\nSo, you go:</p>\n<pre><code>Dog dog = new Dog();\nmakeAnimalSpeak(dog);\n</code></pre>\n<p>Here is the thing: makeAnimalSpeak() doesn't and can't call dog.bark() It calls animal.speak() because Animal and all of its subclasses have speak() method. So, if you want your Dog bark using makeAnimalSpeak() method, you can override speak() method. This way you can have general class Animal and only one method that works for every subclass of animal while customizing the way each subclass speaks.</p>\n"},{"tags":[],"owner":{"account_id":17121303,"reputation":3,"user_id":12389449,"display_name":"Quốc Kiệt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687234583,"creation_date":1687234583,"answer_id":76511379,"question_id":76511167,"body_markdown":"You can test at class Dog,  what is your output when you call speak() method.\r\n\r\n- case 1: class dog not override method speak() of class Animal ?\r\n- case 2: class dog override method speak() of class Animal ?\r\n\r\nThat is a difference, there are many other difference, and I think you should learn more about it","title":"Why use Method Overriding in java","body":"<p>You can test at class Dog,  what is your output when you call speak() method.</p>\n<ul>\n<li>case 1: class dog not override method speak() of class Animal ?</li>\n<li>case 2: class dog override method speak() of class Animal ?</li>\n</ul>\n<p>That is a difference, there are many other difference, and I think you should learn more about it</p>\n"},{"comments":[{"owner":{"account_id":26569504,"reputation":17,"user_id":20195942,"display_name":"Kookaburra"},"score":0,"creation_date":1687236009,"post_id":76511418,"comment_id":134904372,"body_markdown":"Does that mean that using overriding makes the code more flexible?, in a sense that I don&#39;t need to create separate functions for each animals such as bark, meow, roar etc. and just override the speak function from the parent class to suit that specific animal","body":"Does that mean that using overriding makes the code more flexible?, in a sense that I don&#39;t need to create separate functions for each animals such as bark, meow, roar etc. and just override the speak function from the parent class to suit that specific animal"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1687259544,"post_id":76511418,"comment_id":134908560,"body_markdown":"@Kookaburra: it means there is less code because the code using the animals doesn&#39;t have to address differences between the animals.","body":"@Kookaburra: it means there is less code because the code using the animals doesn&#39;t have to address differences between the animals."}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687299641,"creation_date":1687235329,"answer_id":76511418,"question_id":76511167,"body_markdown":"If you make a new method bark for your Dog class instead of overriding speak, then you also have to add code to detect that youre dealing with a dog, then cast it to a Dog type, then call bark. You get a program that has a bunch of very specific code that has to handle each concrete type individually, and the workflow has to be updated every time you add a new subclass. There is no abstraction or generality. \r\n\r\nThe idea behind polymorphism is that your program shouldn&#39;t have to worry about which objects are dogs and which are cats, it just handles animals, and lets the subclasses take care of the details for themselves. The program stays at a high level and tells the animals to speak, the specific animals&#39; subclasses decide whether to bark or meow. So if you introduce a new animal subclass the code handling animals doesn&#39;t change. ","title":"Why use Method Overriding in java","body":"<p>If you make a new method bark for your Dog class instead of overriding speak, then you also have to add code to detect that youre dealing with a dog, then cast it to a Dog type, then call bark. You get a program that has a bunch of very specific code that has to handle each concrete type individually, and the workflow has to be updated every time you add a new subclass. There is no abstraction or generality.</p>\n<p>The idea behind polymorphism is that your program shouldn't have to worry about which objects are dogs and which are cats, it just handles animals, and lets the subclasses take care of the details for themselves. The program stays at a high level and tells the animals to speak, the specific animals' subclasses decide whether to bark or meow. So if you introduce a new animal subclass the code handling animals doesn't change.</p>\n"}],"owner":{"account_id":26569504,"reputation":17,"user_id":20195942,"display_name":"Kookaburra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76511327,"answer_count":4,"score":1,"last_activity_date":1687299641,"creation_date":1687230281,"question_id":76511167,"body_markdown":"I&#39;m currently learning about Java and I encountered this particular function called method overriding. When do I need to override something from the parent class if I can just create a new function?\r\n\r\n```java\r\nclass Animal{\r\n    boolean alive;\r\n    void speak(){\r\n        System.out.println(&quot;This animal speaks&quot;);\r\n    }\r\n}\r\n\r\nclass Dog extends Animal{\r\n    @Override\r\n    void speak(){\r\n        System.out.println(&quot;The dog goes *bark*&quot;);\r\n    }\r\n}\r\n```\r\n\r\nwhy is there a need to override a method when I can just make a new method in the dog class?\r\n\r\n```java\r\nclass Dog extends Animal{\r\n    void bark(){\r\n        System.out.println(&quot;The dog goes *bark*&quot;);\r\n    }\r\n}\r\n```\r\n","title":"Why use Method Overriding in java","body":"<p>I'm currently learning about Java and I encountered this particular function called method overriding. When do I need to override something from the parent class if I can just create a new function?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Animal{\n    boolean alive;\n    void speak(){\n        System.out.println(&quot;This animal speaks&quot;);\n    }\n}\n\nclass Dog extends Animal{\n    @Override\n    void speak(){\n        System.out.println(&quot;The dog goes *bark*&quot;);\n    }\n}\n</code></pre>\n<p>why is there a need to override a method when I can just make a new method in the dog class?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Dog extends Animal{\n    void bark(){\n        System.out.println(&quot;The dog goes *bark*&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","httprequest","noclassdeffounderror","ip2location"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1687300898,"post_id":76518590,"comment_id":134916738,"body_markdown":"That blog post is for desktop or server Java, not Android.","body":"That blog post is for desktop or server Java, not Android."},{"owner":{"account_id":5478644,"reputation":653,"user_id":4355877,"accept_rate":82,"display_name":"Mick"},"score":0,"creation_date":1687304528,"post_id":76518590,"comment_id":134917063,"body_markdown":"Thank you. I know that. I have been hoping that it might be workable on Android. Is that a hopeless hope? :)","body":"Thank you. I know that. I have been hoping that it might be workable on Android. Is that a hopeless hope? :)"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1687344362,"post_id":76518590,"comment_id":134922713,"body_markdown":"In this case, most likely yes. Do they have an Android-specific SDK?","body":"In this case, most likely yes. Do they have an Android-specific SDK?"},{"owner":{"account_id":5478644,"reputation":653,"user_id":4355877,"accept_rate":82,"display_name":"Mick"},"score":0,"creation_date":1687445463,"post_id":76518590,"comment_id":134940742,"body_markdown":"I am now looking at using the IP2LOCATION DB3 data base, starting with the free edition to see if I can get it to work.\nI need to be able to load the DB3 into a data base in my app. The problem is that I have no experience with database programming so it is another big, technical learning experience.\n I am looking for an example that has a format similar to DB3 [several columns of data, retrieval only] so that I can get going on it. Have not found one yet. I&#39;ll keep digging. Thank you again :)","body":"I am now looking at using the IP2LOCATION DB3 data base, starting with the free edition to see if I can get it to work. I need to be able to load the DB3 into a data base in my app. The problem is that I have no experience with database programming so it is another big, technical learning experience.  I am looking for an example that has a format similar to DB3 [several columns of data, retrieval only] so that I can get going on it. Have not found one yet. I&#39;ll keep digging. Thank you again :)"}],"owner":{"account_id":5478644,"reputation":653,"user_id":4355877,"accept_rate":82,"display_name":"Mick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687297820,"creation_date":1687297820,"question_id":76518590,"body_markdown":"I want to use IP2Location.io in my Android Studio app. I am starting with this program from their internet site. I am stuck on this error.  I do not understand why this difficulty including java/net/http/HttpRequest. I researched many similar threads on Stackoverflow but did not find a resolution. I tried unsuccessfully to include other HttpRequest. Perhaps \r\nI do not know how to do that. Any ideas will be appreciated.\r\n\r\nI started at... https://blog.ip2location.com/knowledge-base/using-ip2location-io-java-sdk-in-a-maven-project/\r\n**Using IP2Location.io Java SDK in a Maven project**\r\n\r\nI scrolled down to...\r\n**Adding the IP2Location.io Java SDK into the Maven dependency**\r\n\r\nI worked thru to the end, adding the code to a new Android Studio &quot;Empty Activity&quot;. I made changes as I went along to get rid of the &quot;red errors&quot; :)\r\nIt took me most of a day. My last, most difficult error was the infamous red R. The program builds cleanly on Android studio. But here is the result..\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: gmd.com.mickwebsite.ip2locationion, PID: 1505\r\n    **java.lang.NoClassDefFoundError: Failed resolution of: Ljava/net/http/HttpRequest;**\r\n        at com.ip2location.IPGeolocation.Lookup(IPGeolocation.java:59)\r\n        at com.ip2location.IPGeolocation.Lookup(IPGeolocation.java:46)\r\n        at gmd.com.mickwebsite.ip2locationion.MainActivity.onCreate(MainActivity.java:30)\r\n...\r\n**Here is the complete code...**\r\n**Note this about half way: // &lt;&lt;--App hangs up here**\r\n\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import com.google.gson.JsonObject;\r\n    import com.ip2location.Configuration;\r\n    import com.ip2location.DomainWhois;\r\n    import com.ip2location.IPGeolocation;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            TextView mainDisplay = findViewById(R.id.mainDisplay);\r\n    \r\n            // Configures IP2Location.io API key\r\n            Configuration config = new Configuration();\r\n    //      String apiKey = &quot;API KEY&quot;;\t//\tI used my personal API key\r\n            config.setApiKey(apiKey);\r\n            IPGeolocation ipl = new IPGeolocation(config);\r\n            // Lookup ip address geolocation data\r\n    \r\n            JsonObject myObj;\r\n            // the language parameter is only available for Plus and Security plans\r\n            try {\r\n                myObj = ipl.Lookup(&quot;8.8.8.8&quot;);  **// &lt;&lt;--App hangs up here**\r\n                // java.lang.NoClassDefFoundError:\r\n                // Failed resolution of: Ljava/net/http/HttpRequest;\r\n            } catch (Exception e) {\r\n                mainDisplay.setText(String.valueOf(e));\r\n                throw new RuntimeException(e);\r\n            }\r\n            mainDisplay.setText(String.valueOf(myObj));\r\n    // I added the id for the textView in the xml\r\n            DomainWhois whois = new DomainWhois(config);\r\n            // Lookup domain information\r\n            JsonObject myObj2;\r\n            try {\r\n                myObj2 = whois.Lookup(&quot;locaproxy.com&quot;);\r\n            } catch (Exception e) {\r\n                mainDisplay.setText(String.valueOf(e));\r\n                throw new RuntimeException(e);\r\n            }\r\n            mainDisplay.setText(String.valueOf(myObj2));\r\n        }   //  protected void onCreate\r\n    }   // public class MainActivity","title":"java.lang.NoClassDefFoundError: Failed resolution of: Ljava/net/http/HttpRequest;","body":"<p>I want to use IP2Location.io in my Android Studio app. I am starting with this program from their internet site. I am stuck on this error.  I do not understand why this difficulty including java/net/http/HttpRequest. I researched many similar threads on Stackoverflow but did not find a resolution. I tried unsuccessfully to include other HttpRequest. Perhaps\nI do not know how to do that. Any ideas will be appreciated.</p>\n<p>I started at... <a href=\"https://blog.ip2location.com/knowledge-base/using-ip2location-io-java-sdk-in-a-maven-project/\" rel=\"nofollow noreferrer\">https://blog.ip2location.com/knowledge-base/using-ip2location-io-java-sdk-in-a-maven-project/</a>\n<strong>Using IP2Location.io Java SDK in a Maven project</strong></p>\n<p>I scrolled down to...\n<strong>Adding the IP2Location.io Java SDK into the Maven dependency</strong></p>\n<p>I worked thru to the end, adding the code to a new Android Studio &quot;Empty Activity&quot;. I made changes as I went along to get rid of the &quot;red errors&quot; :)\nIt took me most of a day. My last, most difficult error was the infamous red R. The program builds cleanly on Android studio. But here is the result..</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: gmd.com.mickwebsite.ip2locationion, PID: 1505\n**java.lang.NoClassDefFoundError: Failed resolution of: Ljava/net/http/HttpRequest;**\n    at com.ip2location.IPGeolocation.Lookup(IPGeolocation.java:59)\n    at com.ip2location.IPGeolocation.Lookup(IPGeolocation.java:46)\n    at gmd.com.mickwebsite.ip2locationion.MainActivity.onCreate(MainActivity.java:30)\n</code></pre>\n<p>...\n<strong>Here is the complete code...</strong>\n<strong>Note this about half way: // &lt;&lt;--App hangs up here</strong></p>\n<pre><code>import android.os.Bundle;\nimport android.widget.TextView;\nimport androidx.appcompat.app.AppCompatActivity;\nimport com.google.gson.JsonObject;\nimport com.ip2location.Configuration;\nimport com.ip2location.DomainWhois;\nimport com.ip2location.IPGeolocation;\n\npublic class MainActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView mainDisplay = findViewById(R.id.mainDisplay);\n\n        // Configures IP2Location.io API key\n        Configuration config = new Configuration();\n//      String apiKey = &quot;API KEY&quot;;  //  I used my personal API key\n        config.setApiKey(apiKey);\n        IPGeolocation ipl = new IPGeolocation(config);\n        // Lookup ip address geolocation data\n\n        JsonObject myObj;\n        // the language parameter is only available for Plus and Security plans\n        try {\n            myObj = ipl.Lookup(&quot;8.8.8.8&quot;);  **// &lt;&lt;--App hangs up here**\n            // java.lang.NoClassDefFoundError:\n            // Failed resolution of: Ljava/net/http/HttpRequest;\n        } catch (Exception e) {\n            mainDisplay.setText(String.valueOf(e));\n            throw new RuntimeException(e);\n        }\n        mainDisplay.setText(String.valueOf(myObj));\n// I added the id for the textView in the xml\n        DomainWhois whois = new DomainWhois(config);\n        // Lookup domain information\n        JsonObject myObj2;\n        try {\n            myObj2 = whois.Lookup(&quot;locaproxy.com&quot;);\n        } catch (Exception e) {\n            mainDisplay.setText(String.valueOf(e));\n            throw new RuntimeException(e);\n        }\n        mainDisplay.setText(String.valueOf(myObj2));\n    }   //  protected void onCreate\n}   // public class MainActivity\n</code></pre>\n"},{"tags":["java","leaflet","visualization","geojson","choropleth"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687325891,"post_id":76518535,"comment_id":134918939,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28008073,"reputation":1,"user_id":21391132,"display_name":"ssudh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687297043,"creation_date":1687297043,"question_id":76518535,"body_markdown":"I want to make a choropleth map like so - https://leafletjs.com/examples/choropleth/ , using data from the Indian HIV statistics fact sheet. I am very new to coding so I am unsure how to proceed. I have the in xcl format for the HIV stats, and I know I can get India-specific GeoJson data somewhere on github. But I don&#39;t know how I can proceed further with this. I need to know how to go about it. \r\n\r\nI found Indian GeoJson data on github. I also generated the HIV stats in xcl format. I tried and tested the example map in the Leaflet site I linked above, but got stuck in the color function step. Given how new I am to this, I didn&#39;t do too much.","title":"How to generate GeoJson data to make a choropleth map on Leaflet?","body":"<p>I want to make a choropleth map like so - <a href=\"https://leafletjs.com/examples/choropleth/\" rel=\"nofollow noreferrer\">https://leafletjs.com/examples/choropleth/</a> , using data from the Indian HIV statistics fact sheet. I am very new to coding so I am unsure how to proceed. I have the in xcl format for the HIV stats, and I know I can get India-specific GeoJson data somewhere on github. But I don't know how I can proceed further with this. I need to know how to go about it.</p>\n<p>I found Indian GeoJson data on github. I also generated the HIV stats in xcl format. I tried and tested the example map in the Leaflet site I linked above, but got stuck in the color function step. Given how new I am to this, I didn't do too much.</p>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":349152,"reputation":2546,"user_id":684273,"accept_rate":68,"display_name":"Warlock"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687296734,"creation_date":1687296734,"answer_id":76518513,"question_id":76510933,"body_markdown":"One approach can be that you will notify recycler view in onResume() method of fragment using notifyDataSetChanged() - see [here][1].&lt;br&gt;\r\n\r\nSimilar but slightly better approach is to listen to SharedPreferences changes using this [listener][2].&lt;br&gt;\r\n\r\nThe best approach is to move to for example [Shared View Model][3] which will need whole rework of your approach.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#notifydatasetchanged\r\n  [2]: https://developer.android.com/reference/android/content/SharedPreferences.OnSharedPreferenceChangeListener\r\n  [3]: https://developer.android.com/codelabs/basic-android-kotlin-training-shared-viewmodel#0","title":"Modifying Views of One Fragment from Another Fragment","body":"<p>One approach can be that you will notify recycler view in onResume() method of fragment using notifyDataSetChanged() - see <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#notifydatasetchanged\" rel=\"nofollow noreferrer\">here</a>.<br></p>\n<p>Similar but slightly better approach is to listen to SharedPreferences changes using this <a href=\"https://developer.android.com/reference/android/content/SharedPreferences.OnSharedPreferenceChangeListener\" rel=\"nofollow noreferrer\">listener</a>.<br></p>\n<p>The best approach is to move to for example <a href=\"https://developer.android.com/codelabs/basic-android-kotlin-training-shared-viewmodel#0\" rel=\"nofollow noreferrer\">Shared View Model</a> which will need whole rework of your approach.</p>\n"}],"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687296734,"creation_date":1687225872,"question_id":76510933,"body_markdown":"I have a `SharedPreferences` variable defined in a fragment, which is used in a RecyclerView&#39;s adapter class. When the RecyclerView is loaded, a condition is checked inside the `MemeViewHolder` class:\r\n\r\n```java\r\nprivate static final String REWARD_GRANTED_KEY = &quot;reward_granted_nsfw&quot;;\r\n\r\nif (mSharedPrefs.getBoolean(REWARD_GRANTED_KEY, false)) {\r\n    adBtn.setVisibility(View.GONE);\r\n    adSpace.setVisibility(View.VISIBLE);\r\n} else {\r\n    adBtn.setVisibility(View.VISIBLE);\r\n    adSpace.setVisibility(View.GONE);\r\n}\r\n```\r\n\r\nThe issue I&#39;m facing is that this fragment is the second fragment in the list. The first fragment also contains the same code(but has different key for its own). However, the condition in the first fragment is executed immediately since it is loaded at launch. The problem arises with the second fragment because the adapter class is not called until I navigate to that fragment. As a result, the code block mentioned above is not executed. Consequently, when I switch to the second fragment, I initially see the `adBtn` visibility set to `VISIBLE`. Only after scrolling a bit, the condition is finally executed and the visibility is updated based on the value in `SharedPreferences`.\r\n\r\nI&#39;m wondering if there is a solution to retrieve the shared preferences from this fragment (`REWARD_GRANTED_KEY`) and use it in the first fragment or in the main activity. With this change, I could modify the condition for the fragment from the activity&#39;s perspective:\r\n\r\n```java\r\nif (mSharedPrefs.getBoolean(REWARD_GRANTED_KEY, false)) {\r\n    adBtn.setVisibility(View.GONE);\r\n    adSpace.setVisibility(View.VISIBLE);\r\n} else {\r\n    adBtn.setVisibility(View.VISIBLE);\r\n    adSpace.setVisibility(View.GONE);\r\n}\r\n```\r\n\r\nFurthermore, even if I obtain the shared preferences from the first fragment or the main activity, how can I modify the views of the second fragment without actually loading the second fragment initially in the first place?\r\n\r\nCould you please suggest a solution for this scenario?","title":"Modifying Views of One Fragment from Another Fragment","body":"<p>I have a <code>SharedPreferences</code> variable defined in a fragment, which is used in a RecyclerView's adapter class. When the RecyclerView is loaded, a condition is checked inside the <code>MemeViewHolder</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String REWARD_GRANTED_KEY = &quot;reward_granted_nsfw&quot;;\n\nif (mSharedPrefs.getBoolean(REWARD_GRANTED_KEY, false)) {\n    adBtn.setVisibility(View.GONE);\n    adSpace.setVisibility(View.VISIBLE);\n} else {\n    adBtn.setVisibility(View.VISIBLE);\n    adSpace.setVisibility(View.GONE);\n}\n</code></pre>\n<p>The issue I'm facing is that this fragment is the second fragment in the list. The first fragment also contains the same code(but has different key for its own). However, the condition in the first fragment is executed immediately since it is loaded at launch. The problem arises with the second fragment because the adapter class is not called until I navigate to that fragment. As a result, the code block mentioned above is not executed. Consequently, when I switch to the second fragment, I initially see the <code>adBtn</code> visibility set to <code>VISIBLE</code>. Only after scrolling a bit, the condition is finally executed and the visibility is updated based on the value in <code>SharedPreferences</code>.</p>\n<p>I'm wondering if there is a solution to retrieve the shared preferences from this fragment (<code>REWARD_GRANTED_KEY</code>) and use it in the first fragment or in the main activity. With this change, I could modify the condition for the fragment from the activity's perspective:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (mSharedPrefs.getBoolean(REWARD_GRANTED_KEY, false)) {\n    adBtn.setVisibility(View.GONE);\n    adSpace.setVisibility(View.VISIBLE);\n} else {\n    adBtn.setVisibility(View.VISIBLE);\n    adSpace.setVisibility(View.GONE);\n}\n</code></pre>\n<p>Furthermore, even if I obtain the shared preferences from the first fragment or the main activity, how can I modify the views of the second fragment without actually loading the second fragment initially in the first place?</p>\n<p>Could you please suggest a solution for this scenario?</p>\n"},{"tags":["java","string","java-stream"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687288738,"post_id":76517580,"comment_id":134915035,"body_markdown":"so the question is how to filter the withe spaces?","body":"so the question is how to filter the withe spaces?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1687289771,"post_id":76517580,"comment_id":134915219,"body_markdown":"BTW Why `.collect(Collectors.toList()).stream()` ? converting a stream to list to convert back to stream?! || BTW2 And what is `u -&gt; u.toUpperCase(u)`? just use `Character::toUpperCase` || I would probably have done something like `name.codePoints().filter(Character::isAlphabetic).map(Character::toUpperCase).mapToObj(Character::toString).collect(groupingBy(Function.identity(), counting()));`","body":"BTW Why <code>.collect(Collectors.toList()).stream()</code> ? converting a stream to list to convert back to stream?! || BTW2 And what is <code>u -&gt; u.toUpperCase(u)</code>? just use <code>Character::toUpperCase</code> || I would probably have done something like <code>name.codePoints().filter(Character::isAlphabetic).map(Charac&zwnj;&#8203;ter::toUpperCase).ma&zwnj;&#8203;pToObj(Character::to&zwnj;&#8203;String).collect(grou&zwnj;&#8203;pingBy(Function.iden&zwnj;&#8203;tity(), counting()));</code>"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687291154,"post_id":76517757,"comment_id":134915402,"body_markdown":"Have a look at what @user16320675 said about the redundant streaming","body":"Have a look at what @user16320675 said about the redundant streaming"}],"tags":[],"owner":{"account_id":23996678,"reputation":83,"user_id":17982111,"display_name":"Tharun Vemula"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687296523,"creation_date":1687288082,"answer_id":76517757,"question_id":76517580,"body_markdown":"Apply ```filter()``` method while counting characters to ensure only non-whitespace characters are counted\r\n```\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String name = &quot;Ranjan Kumar Singh&quot;;\r\n        Map&lt;Object, Long&gt; repetedChars = name.chars()\r\n                .mapToObj(c-&gt;(char) c)\r\n                .filter(c -&gt; !Character.isWhitespace(c))\r\n                .map(Character::toUpperCase)\r\n                .collect(Collectors.groupingBy(l -&gt; l, \r\n                 Collectors.counting()));\r\n        \r\nSystem.out.println(&quot;Repeated characters are...&quot; + repetedChars);\r\n\r\n    }\r\n}\r\n```","title":"Counting occurrences of chars in Given string Using stream API","body":"<p>Apply <code>filter()</code> method while counting characters to ensure only non-whitespace characters are counted</p>\n<pre><code>import java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        String name = &quot;Ranjan Kumar Singh&quot;;\n        Map&lt;Object, Long&gt; repetedChars = name.chars()\n                .mapToObj(c-&gt;(char) c)\n                .filter(c -&gt; !Character.isWhitespace(c))\n                .map(Character::toUpperCase)\n                .collect(Collectors.groupingBy(l -&gt; l, \n                 Collectors.counting()));\n        \nSystem.out.println(&quot;Repeated characters are...&quot; + repetedChars);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12991947,"reputation":11,"user_id":9390888,"display_name":"ranjan kumar singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1687901230,"answer_count":1,"score":-3,"last_activity_date":1687296523,"creation_date":1687286232,"question_id":76517580,"body_markdown":"    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class FindOccurenceOfChars {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString name = &quot;Ranjan Kumar Singh&quot;;\r\n    \t\tMap&lt;Object, Long&gt; repetedChars = name.chars()\r\n           .mapToObj(c-&gt;(char) c)\r\n    \t\t\t\t.collect(Collectors.toList()).stream()\r\n    \t\t\t\t.map(u -&gt; u.toUpperCase(u))\r\n    \t\t\t\t.collect(Collectors.groupingBy(l -&gt; l, \r\n                     Collectors.counting()));\r\n    \t\t\r\n    System.out.println(&quot;Repeated characters are...&quot; + repetedChars);\r\n    \r\n    \t}\r\n    }\r\n    //Output I am Getting:-\r\n// Repeated characters are...{ =2, A=3, R=2, S=1, U=1, G=1, H=1, I=1, J=1, K=1, M=1, N=3}\r\n    \r\n    //Output should be exactly like --&gt; {A=3, R=2, S=1, U=1, G=1, H=1, I=1, J=1, K=1, M=1, N=3}","title":"Counting occurrences of chars in Given string Using stream API","body":"<pre><code>import java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class FindOccurenceOfChars {\n\n    public static void main(String[] args) {\n\n        String name = &quot;Ranjan Kumar Singh&quot;;\n        Map&lt;Object, Long&gt; repetedChars = name.chars()\n       .mapToObj(c-&gt;(char) c)\n                .collect(Collectors.toList()).stream()\n                .map(u -&gt; u.toUpperCase(u))\n                .collect(Collectors.groupingBy(l -&gt; l, \n                 Collectors.counting()));\n        \nSystem.out.println(&quot;Repeated characters are...&quot; + repetedChars);\n\n    }\n}\n//Output I am Getting:-\n</code></pre>\n<p>// Repeated characters are...{ =2, A=3, R=2, S=1, U=1, G=1, H=1, I=1, J=1, K=1, M=1, N=3}</p>\n<pre><code>//Output should be exactly like --&gt; {A=3, R=2, S=1, U=1, G=1, H=1, I=1, J=1, K=1, M=1, N=3}\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1612786971,"post_id":66101305,"comment_id":116866863,"body_markdown":"To me it does not look like a proper json... Validate your json in https://jsonformatter.curiousconcept.com/#","body":"To me it does not look like a proper json... Validate your json in <a href=\"https://jsonformatter.curiousconcept.com/#\" rel=\"nofollow noreferrer\">jsonformatter.curiousconcept.com/#</a>"},{"owner":{"account_id":5623274,"reputation":2168,"user_id":4452417,"accept_rate":14,"display_name":"Fadly Dzil"},"score":0,"creation_date":1612787745,"post_id":66101305,"comment_id":116867211,"body_markdown":"Sorry mate, its valid. Just try by  yourself.","body":"Sorry mate, its valid. Just try by  yourself."},{"owner":{"account_id":12528766,"reputation":75,"user_id":9117681,"display_name":"Elvis"},"score":0,"creation_date":1612791815,"post_id":66101305,"comment_id":116869155,"body_markdown":"See this https://howtodoinjava.com/gson/gson-serialize-deserialize-hashmap/ the gson needs the TypeToken for arrays","body":"See this <a href=\"https://howtodoinjava.com/gson/gson-serialize-deserialize-hashmap/\" rel=\"nofollow noreferrer\">howtodoinjava.com/gson/gson-serialize-deserialize-hashmap</a> the gson needs the TypeToken for arrays"}],"owner":{"account_id":5623274,"reputation":2168,"user_id":4452417,"accept_rate":14,"display_name":"Fadly Dzil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687296484,"creation_date":1612785942,"question_id":66101305,"body_markdown":"I have a JSON file which I got from my backend. The JSON file is as follows.\r\n\r\n```\r\n{\r\n    &quot;documentTemplate&quot;: {\r\n        &quot;pageFormat&quot;: {\r\n            &quot;pageWidth&quot;: &quot;50&quot;,\r\n            &quot;pageLength&quot;: &quot;13&quot;,\r\n            &quot;usePageLengthFromPrinter&quot;: false\r\n        },\r\n        &quot;template&quot;: {\r\n            &quot;header&quot;: [\r\n                &quot;                    Delivery Order                    &quot;,\r\n                &quot;Date    : ${date}      NO.          : ${no_surat}     &quot;,\r\n                &quot;Customer: ${customer}  Delivery Date: ${delivery_date}&quot;\r\n            ],\r\n            &quot;detail&quot;: [\r\n                {\r\n                    &quot;table&quot;: &quot;table_details&quot;,\r\n                    &quot;border&quot;: &quot;true&quot;,\r\n                    &quot;columns&quot;: [\r\n                        {\r\n                            &quot;source&quot;: &quot;description&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;DESCRIPTION&quot;\r\n                        },\r\n                        {\r\n                            &quot;source&quot;: &quot;do_hanwa_and_date&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;DO HW / DATE HW&quot;\r\n                        },\r\n                        {\r\n                            &quot;source&quot;: &quot;qty&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;QTY&quot;\r\n                        },\r\n                        {\r\n                            &quot;source&quot;: &quot;nett&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;NETT&quot;\r\n                        },\r\n                        {\r\n                            &quot;source&quot;: &quot;gross&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;GROSS&quot;\r\n                        },\r\n                        {\r\n                            &quot;source&quot;: &quot;size&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;SIZE&quot;\r\n                        },\r\n                        {\r\n                            &quot;source&quot;: &quot;location&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;LOCATION&quot;\r\n                        },\r\n                        {\r\n                            &quot;source&quot;: &quot;urut&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;URUT&quot;\r\n                        }\r\n                    ]\r\n                },\r\n                &quot;                                   &quot;,\r\n                &quot;                                   &quot;,\r\n                &quot;    ___________     ___________    &quot;,\r\n                &quot;    (Signature)     (Signature)    &quot;\r\n            ]\r\n        }\r\n    },\r\n    &quot;documentValue&quot;: {\r\n        &quot;date&quot;: &quot;13-05-2019&quot;,\r\n        &quot;no_surat&quot;: &quot;01024/05/DO-MARU/19JKT&quot;,\r\n        &quot;customer&quot;: &quot;PT. WIJAYA STEELINDO&quot;,\r\n        &quot;delivery_date&quot;: &quot;13-05-2019&quot;,\r\n        &quot;table_details&quot;: [\r\n            {\r\n                &quot;description&quot;: &quot;03NKBTL190205005/12&quot;,\r\n                &quot;do_hanwa_and_date&quot;: &quot;46916 / 29-03-2019&quot;,\r\n                &quot;qty&quot;: &quot;1&quot;,\r\n                &quot;nett&quot;: &quot;4,568&quot;,\r\n                &quot;gross&quot;: &quot;4,616&quot;,\r\n                &quot;size&quot;: &quot;0.70MM X 151.8MM&quot;,\r\n                &quot;location&quot;: &quot;PT2212&quot;,\r\n                &quot;urut&quot;: 64592\r\n            },\r\n            {\r\n                &quot;description&quot;: &quot;03NKBTL190204997/04&quot;,\r\n                &quot;do_hanwa_and_date&quot;: &quot;46916 / 29-03-2019&quot;,\r\n                &quot;qty&quot;: &quot;1&quot;,\r\n                &quot;nett&quot;: &quot;4,504&quot;,\r\n                &quot;gross&quot;: &quot;4,552&quot;,\r\n                &quot;size&quot;: &quot;0.70MM X 151.8MM&quot;,\r\n                &quot;location&quot;: &quot;PU5111&quot;,\r\n                &quot;urut&quot;: 64591\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\nTo process the data: I use Gson.\r\n```\r\npublic class Report {\r\n\r\n    String filePathString;\r\n    public HashMap&lt;String, String&gt; convertJsonToObject() {\r\n\t\r\n      Gson gson = new Gson();\r\n      try (JsonReader reader = new JsonReader(new FileReader(this.filePathString) )) {\r\n\r\n        // Converting JSON File to Java Object\r\n        HashMap&lt;String, String&gt; hashMapResult = gson.fromJson(reader, HashMap.class);\r\n        return hashMapResult;\r\n\r\n       } catch (IOException e) {\r\n\r\n    }\r\n    return null;\r\n}\r\n```\r\nIt&#39;s time to use the data from the GSON converter.\r\nI use JSwing.\r\n\r\n```\r\nprivate void jButtonCompileGsonActionPerformed(java.awt.event.ActionEvent evt) {                                                   \r\n\r\n        // Create a report, param =&gt; file`s path\r\n        Report report = new Report(jTextFieldPathFile.getText());\r\n\r\n        // Read the file, as the return is a hashMap\r\n        HashMap&lt;String, String&gt; result = report.convertJsonToObject();\r\n\r\n\r\n        // Get based key\r\n        String documentTemplate = String.valueOf(result.get(&quot;documentTemplate&quot;)).replaceAll(&quot;\\r?\\n&quot;, &quot;&quot;);\r\n        String documentValue = String.valueOf(result.get(&quot;documentValue&quot;)).replaceAll(&quot;\\r?\\n&quot;, &quot;&quot;);\r\n\r\n        // Just to clarify\r\n        System.out.println(documentTemplate);\r\n        System.out.println(documentValue);     \r\n        \r\n\r\n    }   \r\n```\r\n\r\nThe result is:\r\n```\r\ndocumentTemplate =&gt; {pageFormat={pageWidth=50, pageLength=13, usePageLengthFromPrinter=false}, template={header=[                    Delivery Order                    , Date    : ${date}      NO.          : ${no_surat}     , Customer: ${customer}  Delivery Date: ${delivery_date}], detail=[{table=table_details, border=true, columns=[{source=description, width=9.0, caption=DESCRIPTION}, {source=do_hanwa_and_date, width=9.0, caption=DO HW / DATE HW}, {source=qty, width=9.0, caption=QTY}, {source=nett, width=9.0, caption=NETT}, {source=gross, width=9.0, caption=GROSS}, {source=size, width=9.0, caption=SIZE}, {source=location, width=9.0, caption=LOCATION}, {source=urut, width=9.0, caption=URUT}]},                                    ,                                    ,     ___________     ___________    ,     (Signature)     (Signature)    ]}}\r\ndocumentValue    =&gt; {date=13-05-2019, no_surat=01024/05/DO-MARU/19JKT, customer=PT. WIJAYA STEELINDO, delivery_date=13-05-2019, table_details=[{description=03NKBTL190205005/12, do_hanwa_and_date=46916 / 29-03-2019, qty=1, nett=4,568, gross=4,616, size=0.70MM X 151.8MM, location=PT2212, urut=64592.0}, {description=03NKBTL190204997/04, do_hanwa_and_date=46916 / 29-03-2019, qty=1, nett=4,504, gross=4,552, size=0.70MM X 151.8MM, location=PU5111, urut=64591.0}]}\r\n```\r\n\r\nI use this library: [SimpleESCP][1]\r\n\r\nFrom these libraries, the interpretation is as follows.\r\n```\r\nimport javax.json.JsonObject;\r\npublic class JsonDataSource implements DataSource {\r\n\r\n    private static final Logger LOG;\r\n    private JsonObject source;\r\n\r\n    public JsonDataSource(String jsonString){\r\n    \r\n    }\r\n\r\n}\r\n```\r\n\r\nI use it like this and get the following error message:\r\n```  \r\nJsonDataSource jsonDataSource = new JsonDataSource(documentValue);\r\n\r\nException in thread &quot;AWT-EventQueue-0&quot; javax.json.stream.JsonParsingException: Unexpected char 100 at (line no=1, column no=2, offset=1)\r\n```\r\n\r\nWhat can I try to solve this?\r\n\r\n  [1]: https://blog.jocki.me/simple-escp/#_data_source","title":"Exception in thread &quot;AWT-EventQueue-0&quot; javax.json.stream.JsonParsingException: Unexpected char 100 at (line no=1, column no=2, offset=1","body":"<p>I have a JSON file which I got from my backend. The JSON file is as follows.</p>\n<pre><code>{\n    &quot;documentTemplate&quot;: {\n        &quot;pageFormat&quot;: {\n            &quot;pageWidth&quot;: &quot;50&quot;,\n            &quot;pageLength&quot;: &quot;13&quot;,\n            &quot;usePageLengthFromPrinter&quot;: false\n        },\n        &quot;template&quot;: {\n            &quot;header&quot;: [\n                &quot;                    Delivery Order                    &quot;,\n                &quot;Date    : ${date}      NO.          : ${no_surat}     &quot;,\n                &quot;Customer: ${customer}  Delivery Date: ${delivery_date}&quot;\n            ],\n            &quot;detail&quot;: [\n                {\n                    &quot;table&quot;: &quot;table_details&quot;,\n                    &quot;border&quot;: &quot;true&quot;,\n                    &quot;columns&quot;: [\n                        {\n                            &quot;source&quot;: &quot;description&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;DESCRIPTION&quot;\n                        },\n                        {\n                            &quot;source&quot;: &quot;do_hanwa_and_date&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;DO HW / DATE HW&quot;\n                        },\n                        {\n                            &quot;source&quot;: &quot;qty&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;QTY&quot;\n                        },\n                        {\n                            &quot;source&quot;: &quot;nett&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;NETT&quot;\n                        },\n                        {\n                            &quot;source&quot;: &quot;gross&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;GROSS&quot;\n                        },\n                        {\n                            &quot;source&quot;: &quot;size&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;SIZE&quot;\n                        },\n                        {\n                            &quot;source&quot;: &quot;location&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;LOCATION&quot;\n                        },\n                        {\n                            &quot;source&quot;: &quot;urut&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;URUT&quot;\n                        }\n                    ]\n                },\n                &quot;                                   &quot;,\n                &quot;                                   &quot;,\n                &quot;    ___________     ___________    &quot;,\n                &quot;    (Signature)     (Signature)    &quot;\n            ]\n        }\n    },\n    &quot;documentValue&quot;: {\n        &quot;date&quot;: &quot;13-05-2019&quot;,\n        &quot;no_surat&quot;: &quot;01024/05/DO-MARU/19JKT&quot;,\n        &quot;customer&quot;: &quot;PT. WIJAYA STEELINDO&quot;,\n        &quot;delivery_date&quot;: &quot;13-05-2019&quot;,\n        &quot;table_details&quot;: [\n            {\n                &quot;description&quot;: &quot;03NKBTL190205005/12&quot;,\n                &quot;do_hanwa_and_date&quot;: &quot;46916 / 29-03-2019&quot;,\n                &quot;qty&quot;: &quot;1&quot;,\n                &quot;nett&quot;: &quot;4,568&quot;,\n                &quot;gross&quot;: &quot;4,616&quot;,\n                &quot;size&quot;: &quot;0.70MM X 151.8MM&quot;,\n                &quot;location&quot;: &quot;PT2212&quot;,\n                &quot;urut&quot;: 64592\n            },\n            {\n                &quot;description&quot;: &quot;03NKBTL190204997/04&quot;,\n                &quot;do_hanwa_and_date&quot;: &quot;46916 / 29-03-2019&quot;,\n                &quot;qty&quot;: &quot;1&quot;,\n                &quot;nett&quot;: &quot;4,504&quot;,\n                &quot;gross&quot;: &quot;4,552&quot;,\n                &quot;size&quot;: &quot;0.70MM X 151.8MM&quot;,\n                &quot;location&quot;: &quot;PU5111&quot;,\n                &quot;urut&quot;: 64591\n            }\n        ]\n    }\n}\n</code></pre>\n<p>To process the data: I use Gson.</p>\n<pre><code>public class Report {\n\n    String filePathString;\n    public HashMap&lt;String, String&gt; convertJsonToObject() {\n    \n      Gson gson = new Gson();\n      try (JsonReader reader = new JsonReader(new FileReader(this.filePathString) )) {\n\n        // Converting JSON File to Java Object\n        HashMap&lt;String, String&gt; hashMapResult = gson.fromJson(reader, HashMap.class);\n        return hashMapResult;\n\n       } catch (IOException e) {\n\n    }\n    return null;\n}\n</code></pre>\n<p>It's time to use the data from the GSON converter.\nI use JSwing.</p>\n<pre><code>private void jButtonCompileGsonActionPerformed(java.awt.event.ActionEvent evt) {                                                   \n\n        // Create a report, param =&gt; file`s path\n        Report report = new Report(jTextFieldPathFile.getText());\n\n        // Read the file, as the return is a hashMap\n        HashMap&lt;String, String&gt; result = report.convertJsonToObject();\n\n\n        // Get based key\n        String documentTemplate = String.valueOf(result.get(&quot;documentTemplate&quot;)).replaceAll(&quot;\\r?\\n&quot;, &quot;&quot;);\n        String documentValue = String.valueOf(result.get(&quot;documentValue&quot;)).replaceAll(&quot;\\r?\\n&quot;, &quot;&quot;);\n\n        // Just to clarify\n        System.out.println(documentTemplate);\n        System.out.println(documentValue);     \n        \n\n    }   \n</code></pre>\n<p>The result is:</p>\n<pre><code>documentTemplate =&gt; {pageFormat={pageWidth=50, pageLength=13, usePageLengthFromPrinter=false}, template={header=[                    Delivery Order                    , Date    : ${date}      NO.          : ${no_surat}     , Customer: ${customer}  Delivery Date: ${delivery_date}], detail=[{table=table_details, border=true, columns=[{source=description, width=9.0, caption=DESCRIPTION}, {source=do_hanwa_and_date, width=9.0, caption=DO HW / DATE HW}, {source=qty, width=9.0, caption=QTY}, {source=nett, width=9.0, caption=NETT}, {source=gross, width=9.0, caption=GROSS}, {source=size, width=9.0, caption=SIZE}, {source=location, width=9.0, caption=LOCATION}, {source=urut, width=9.0, caption=URUT}]},                                    ,                                    ,     ___________     ___________    ,     (Signature)     (Signature)    ]}}\ndocumentValue    =&gt; {date=13-05-2019, no_surat=01024/05/DO-MARU/19JKT, customer=PT. WIJAYA STEELINDO, delivery_date=13-05-2019, table_details=[{description=03NKBTL190205005/12, do_hanwa_and_date=46916 / 29-03-2019, qty=1, nett=4,568, gross=4,616, size=0.70MM X 151.8MM, location=PT2212, urut=64592.0}, {description=03NKBTL190204997/04, do_hanwa_and_date=46916 / 29-03-2019, qty=1, nett=4,504, gross=4,552, size=0.70MM X 151.8MM, location=PU5111, urut=64591.0}]}\n</code></pre>\n<p>I use this library: <a href=\"https://blog.jocki.me/simple-escp/#_data_source\" rel=\"nofollow noreferrer\">SimpleESCP</a></p>\n<p>From these libraries, the interpretation is as follows.</p>\n<pre><code>import javax.json.JsonObject;\npublic class JsonDataSource implements DataSource {\n\n    private static final Logger LOG;\n    private JsonObject source;\n\n    public JsonDataSource(String jsonString){\n    \n    }\n\n}\n</code></pre>\n<p>I use it like this and get the following error message:</p>\n<pre><code>JsonDataSource jsonDataSource = new JsonDataSource(documentValue);\n\nException in thread &quot;AWT-EventQueue-0&quot; javax.json.stream.JsonParsingException: Unexpected char 100 at (line no=1, column no=2, offset=1)\n</code></pre>\n<p>What can I try to solve this?</p>\n"},{"tags":["java","jframe","window","processing"],"comments":[{"owner":{"account_id":13597048,"reputation":3428,"user_id":9808792,"display_name":"micycle"},"score":0,"creation_date":1688468768,"post_id":76515416,"comment_id":135075433,"body_markdown":"See https://discourse.processing.org/t/prevent-one-processing-window-from-closing-others/13719/5","body":"See <a href=\"https://discourse.processing.org/t/prevent-one-processing-window-from-closing-others/13719/5\" rel=\"nofollow noreferrer\">discourse.processing.org/t/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687296411,"creation_date":1687286830,"answer_id":76517638,"question_id":76515416,"body_markdown":"The following source code uses the default Processing primary window for use with cp5 controls and standard graphics in combination with a secondary JFrame which uses a separate thread for Swing components.  Please see if this demo has the behaviour that you are looking for.\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport controlP5.*;\r\n\r\njavax.swing.JFrame frame;\r\njava.awt.Canvas canvas;\r\n\r\nJFrame wnd2;\r\nJLabel label;\r\n\r\nPFont font;\r\n\r\nfinal int _wndW = 1600;\r\nfinal int _wndH = 900;\r\n\r\nControlP5 cp5;\r\ncontrolP5.Button layoutBtn;\r\n\r\nvoid label(int x, int y, int w, int h) {\r\n  label = new JLabel();\r\n  label.setHorizontalAlignment(JLabel.CENTER);\r\n  label.setBounds(x, y, w, h);\r\n  label.setText(&quot;Layout Name:&quot;);\r\n  label.setToolTipText(&quot;label&quot;);\r\n  wnd2.add(label);\r\n  label.repaint();\r\n}\r\n\r\nvoid textField(int x, int y, int w, int h) {\r\n  JTextField txtFld = new JTextField(&quot;&quot;);\r\n  txtFld.setBounds(x, y, w, h);\r\n  wnd2.add(txtFld);\r\n  txtFld.setToolTipText(&quot;text field&quot;);\r\n  // **** Action **** //\r\n  txtFld.addActionListener( new ActionListener() {\r\n    void actionPerformed(ActionEvent actionEvent) {\r\n      // label.setText(txtFld.getText());\r\n    }\r\n  }\r\n  );\r\n  txtFld.repaint(); // To make it visible after export application.\r\n}\r\n\r\nvoid buildLayoutWnd() {\r\n  wnd2 = new JFrame(&quot;Window Two&quot;);\r\n  wnd2.setBounds(800, 300, 800, 450);\r\n  wnd2.setVisible(false); // Don&#39;t show until asked\r\n  wnd2.setLayout(null);\r\n  label(30, 10, 100, 30);\r\n  textField(30, 40, 280, 30);\r\n}\r\n\r\nvoid setup() {\r\n  size(_wndW, _wndH);\r\n  frame = (javax.swing.JFrame) ((processing.awt.PSurfaceAWT.SmoothCanvas) surface.getNative()).getFrame();\r\n  canvas = (processing.awt.PSurfaceAWT.SmoothCanvas) ((processing.awt.PSurfaceAWT)surface).getNative();\r\n  surface.setTitle(&quot;WarBoard - V.0.1&quot;);\r\n  font = createFont(&quot;Menlo-Bold&quot;, 18);\r\n  javax.swing.SwingUtilities.invokeLater(new Runnable() {\r\n    public void run() {\r\n      buildLayoutWnd(); // Builds components on EventDispatchThread\r\n    }\r\n  }\r\n  );\r\n\r\n  cp5 = new ControlP5(this);\r\n\r\n  layoutBtn = cp5.addButton(&quot;layout&quot;)\r\n    .setPosition(20, 30)\r\n    .setSize(160, 24)\r\n    .setCaptionLabel(&quot;New Layout&quot;)\r\n    .setFont(font)\r\n    ;\r\n}\r\n\r\nvoid draw() {\r\n  fill(color(255, 0, 0));\r\n  stroke(0);\r\n  strokeWeight(4.0);\r\n  circle(_wndW/2, _wndH/2, 400);\r\n}\r\n\r\nvoid layout() {\r\n  wnd2.setVisible(true);\r\n}\r\n\r\n```","title":"How to close second window without closing entire sketch in Processing?","body":"<p>The following source code uses the default Processing primary window for use with cp5 controls and standard graphics in combination with a secondary JFrame which uses a separate thread for Swing components.  Please see if this demo has the behaviour that you are looking for.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport controlP5.*;\n\njavax.swing.JFrame frame;\njava.awt.Canvas canvas;\n\nJFrame wnd2;\nJLabel label;\n\nPFont font;\n\nfinal int _wndW = 1600;\nfinal int _wndH = 900;\n\nControlP5 cp5;\ncontrolP5.Button layoutBtn;\n\nvoid label(int x, int y, int w, int h) {\n  label = new JLabel();\n  label.setHorizontalAlignment(JLabel.CENTER);\n  label.setBounds(x, y, w, h);\n  label.setText(&quot;Layout Name:&quot;);\n  label.setToolTipText(&quot;label&quot;);\n  wnd2.add(label);\n  label.repaint();\n}\n\nvoid textField(int x, int y, int w, int h) {\n  JTextField txtFld = new JTextField(&quot;&quot;);\n  txtFld.setBounds(x, y, w, h);\n  wnd2.add(txtFld);\n  txtFld.setToolTipText(&quot;text field&quot;);\n  // **** Action **** //\n  txtFld.addActionListener( new ActionListener() {\n    void actionPerformed(ActionEvent actionEvent) {\n      // label.setText(txtFld.getText());\n    }\n  }\n  );\n  txtFld.repaint(); // To make it visible after export application.\n}\n\nvoid buildLayoutWnd() {\n  wnd2 = new JFrame(&quot;Window Two&quot;);\n  wnd2.setBounds(800, 300, 800, 450);\n  wnd2.setVisible(false); // Don't show until asked\n  wnd2.setLayout(null);\n  label(30, 10, 100, 30);\n  textField(30, 40, 280, 30);\n}\n\nvoid setup() {\n  size(_wndW, _wndH);\n  frame = (javax.swing.JFrame) ((processing.awt.PSurfaceAWT.SmoothCanvas) surface.getNative()).getFrame();\n  canvas = (processing.awt.PSurfaceAWT.SmoothCanvas) ((processing.awt.PSurfaceAWT)surface).getNative();\n  surface.setTitle(&quot;WarBoard - V.0.1&quot;);\n  font = createFont(&quot;Menlo-Bold&quot;, 18);\n  javax.swing.SwingUtilities.invokeLater(new Runnable() {\n    public void run() {\n      buildLayoutWnd(); // Builds components on EventDispatchThread\n    }\n  }\n  );\n\n  cp5 = new ControlP5(this);\n\n  layoutBtn = cp5.addButton(&quot;layout&quot;)\n    .setPosition(20, 30)\n    .setSize(160, 24)\n    .setCaptionLabel(&quot;New Layout&quot;)\n    .setFont(font)\n    ;\n}\n\nvoid draw() {\n  fill(color(255, 0, 0));\n  stroke(0);\n  strokeWeight(4.0);\n  circle(_wndW/2, _wndH/2, 400);\n}\n\nvoid layout() {\n  wnd2.setVisible(true);\n}\n\n</code></pre>\n"}],"owner":{"account_id":16793495,"reputation":19,"user_id":12140496,"display_name":"ColtTheNark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687296411,"creation_date":1687268895,"question_id":76515416,"body_markdown":"I&#39;m working on a prototype for software for my work. I&#39;ve managed through examples and tutorials to create a second window for additional options which is great. Except for the fact that closing that window closes the entire sketch. I want to make it so hitting either the window control close button or closing the window via code will only close that second window and not the entire sketch.\r\n\r\nI&#39;ve looked everywhere for tutorials and code examples, but am struggling to implement anything at all usable. Any advice or tips or pointers here would be much appreciated!\r\n\r\nHere is the full code of the project so far (so you can get a look at how I implemented the second window)\r\n\r\nThank you!\r\n\r\n```\r\nimport controlP5.*;\r\n\r\nControlP5 cp5;\r\n\r\nPFont f_bebasNeueBold;\r\n\r\nint resW = 1600;\r\nint resH = 900;\r\n\r\nint numOfLayouts = 0;\r\n\r\nStringList layoutsFileData;\r\nStringList testingArr;\r\n\r\nString currentSpreadTitle = &quot;null&quot;;\r\nString parentPath;\r\n\r\nChildApplet newLayoutWindow;\r\n\r\n//basic ui initialization\r\nui_window programHeader = new ui_window(0,0,resW,75,(#1D4077));\r\nui_window toolBar = new ui_window(0,75,resW,35,(#12284B));\r\nui_window infoPanel = new ui_window(15,programHeader.windowHeight + toolBar.windowHeight + 15,400,resH - 30 - programHeader.windowHeight - toolBar.windowHeight,(#12284B)); \r\nui_window infoPanelHeader = new ui_window(15,infoPanel.windowYPos,400,60,(#1D4077));\r\n//basic ui initialization\r\n\r\nvoid setup() {\r\n  size(1600,900);\r\n  surface.setTitle(&quot;WarBoard - V.0.1&quot;);\r\n  background(#F2F4F3);\r\n  \r\n  parentPath = sketchPath();\r\n  \r\n  //controlP5 elements\r\n  cp5 = new ControlP5(this);\r\n  \r\n  ControlFont cf_buttonFont = new ControlFont(createFont(&quot;Bebas Neue Pro Bold.otf&quot;,14));\r\n  \r\n  cp5.addButton(&quot;buttonNewLayout&quot;)\r\n     .setValue(0)\r\n     .setPosition(10,toolBar.windowYPos + (toolBar.windowHeight / 2) - 10)\r\n     .setSize(100,20)\r\n     .setCaptionLabel(&quot;New Layout&quot;)\r\n     .setColorBackground(color(#F2F4F3))\r\n     .setColorForeground(color(#BFBFBF))\r\n     .setColorActive(color(#999999))\r\n     .setColorCaptionLabel(color(#12284B))\r\n     .setFont(cf_buttonFont)\r\n     .setBroadcast(false)\r\n     .addCallback(new CallbackListener() {\r\n       public void controlEvent(CallbackEvent event) {\r\n         if (event.getAction() == ControlP5.ACTION_RELEASED) {\r\n           launchNewLayoutWindow();\r\n         }\r\n       }\r\n     }\r\n     );\r\n     ;\r\n  //controlP5 elements\r\n  \r\n  layoutsFileData = new StringList();\r\n  testingArr = new StringList();\r\n  \r\n  f_bebasNeueBold = createFont(&quot;Bebas Neue Pro Bold.otf&quot;, 1000);\r\n  \r\n  if (checkFileStructure()) {\r\n    String tempFileData[] = loadStrings(&quot;data/layouts.txt&quot;);\r\n    for (int i = 0; i &lt; tempFileData.length; i++) {\r\n      layoutsFileData.append(tempFileData[i]);\r\n    }\r\n  }\r\n  else {\r\n    String setupFileStruct = &quot;0|&quot;;\r\n    String[] fileStruct = split(setupFileStruct, &#39;|&#39;);\r\n    saveStrings(&quot;data/layouts.txt&quot;, fileStruct);\r\n    \r\n    String tempFileData[] = loadStrings(&quot;data/layouts.txt&quot;);\r\n    for (int i = 0; i &lt; tempFileData.length; i++) {\r\n      layoutsFileData.append(tempFileData[i]);\r\n    }  \r\n    numOfLayouts = 0;\r\n  }\r\n  \r\n  numOfLayouts = int(layoutsFileData.get(0));\r\n  \r\n  testingArr.append(&quot;1&quot;);\r\n  testingArr.append(&quot;2&quot;);\r\n  newLayout(&quot;Test Layout&quot;, testingArr);\r\n  \r\n}\r\n\r\nvoid draw() {\r\n  programHeader.update();\r\n  toolBar.update();\r\n  infoPanel.update();\r\n  infoPanelHeader.update();\r\n  \r\n  easyText(&quot;WARBOARD&quot;, width/2, (programHeader.windowHeight / 2) - 15, 32, (#F2F4F3), CENTER, CENTER);\r\n  easyText(&quot;VERSION 0.1&quot;, width/2, (programHeader.windowHeight / 2) + 15, 24, (#F2F4F3), CENTER, CENTER);\r\n  \r\n  easyText(currentSpreadTitle, infoPanelHeader.windowXPos + (infoPanelHeader.windowWidth / 2), infoPanelHeader.windowYPos + (infoPanelHeader.windowHeight / 2), 32, (#F2F4F3), CENTER, CENTER);\r\n}\r\n\r\nclass ui_window {\r\n  color fillColor;\r\n  float windowWidth, windowHeight;\r\n  float windowXPos, windowYPos;\r\n  \r\n  ui_window (float x, float y, float inputWidth, float inputHeight, color inputColor) {\r\n    windowXPos = x;\r\n    windowYPos = y;\r\n    windowWidth = inputWidth;\r\n    windowHeight = inputHeight;\r\n    fillColor = inputColor;\r\n  }\r\n  \r\n  void update() {\r\n    noStroke();\r\n    fill(fillColor);\r\n    rect(windowXPos, windowYPos, windowWidth, windowHeight);\r\n  }\r\n  \r\n}\r\n\r\nvoid easyText(String textDisplay, float textXPos, float textYPos, float textFontSize, color textColor, int textFontAlignX, int textFontAlignY) {\r\n  noStroke();\r\n  fill(textColor);\r\n  textFont(f_bebasNeueBold);\r\n  textSize(textFontSize);\r\n  textAlign(textFontAlignX, textFontAlignY);\r\n  text(textDisplay, textXPos, textYPos);\r\n}\r\n\r\nvoid newLayout(String layoutName, StringList layoutPositions) {\r\n  \r\n  layoutsFileData.append(&quot;#&quot; + str(numOfLayouts));\r\n  layoutsFileData.append(layoutName);\r\n  for (int i = 0; i &lt; layoutPositions.size(); i++) {\r\n    layoutsFileData.append(layoutPositions.get(i));\r\n  }\r\n  layoutsFileData.append(&quot;&quot;);\r\n  numOfLayouts += 1;\r\n  layoutsFileData.set(0, str(numOfLayouts));\r\n  \r\n  saveAndUpdate();\r\n}\r\n\r\nvoid saveAndUpdate() {\r\n  saveStrings(&quot;data/layouts.txt&quot;, layoutsFileData.toArray());\r\n}\r\n\r\nboolean checkFileStructure() {\r\n  \r\n  InputStream input = createInput(&quot;layouts.txt&quot;);\r\n  \r\n  if (input == null) {\r\n    return false;\r\n  }\r\n  else {\r\n    return true;\r\n  }\r\n}\r\n\r\npublic void launchNewLayoutWindow() {\r\n  newLayoutWindow = new ChildApplet(2, displayWidth / 2 - 400, displayHeight / 2 - 225, 800, 450);\r\n}\r\n\r\n// New Layouts Window --------------------------------------------------------\r\nclass ChildApplet extends PApplet {\r\n  int id, vx, vy, vw, vh;\r\n  int bckColor;\r\n  PFont f_bebasNeueBoldNewLayout;\r\n  \r\n  void easyTextNewLayout(String textDisplay, float textXPos, float textYPos, float textFontSize, color textColor, int textFontAlignX, int textFontAlignY) {\r\n  noStroke();\r\n  fill(textColor);\r\n  textFont(f_bebasNeueBoldNewLayout);\r\n  textSize(textFontSize);\r\n  textAlign(textFontAlignX, textFontAlignY);\r\n  text(textDisplay, textXPos, textYPos);\r\n}\r\n  \r\n\r\n  ChildApplet(int id, int vx, int vy, int vw, int vh) {\r\n    super();\r\n    this.id = id;\r\n    this.vx = vx;\r\n    this.vy = vy;\r\n    this.vw = vw;\r\n    this.vh = vh;\r\n\r\n    PApplet.runSketch(new String[] {this.getClass().getName()}, this);\r\n  }\r\n\r\n  void settings() {\r\n    size(vw, vh, P2D);\r\n    smooth(0);\r\n    println(&quot;Creating window &quot;+ id);\r\n  }\r\n\r\n  void setup() {\r\n    windowMove(vx, vy);\r\n    windowResizable(true);\r\n    \r\n    cp5 = new ControlP5(this);\r\n    f_bebasNeueBoldNewLayout = createFont(parentPath + &quot;/data/&quot; + &quot;Bebas Neue Pro Bold.otf&quot;, 20);\r\n    ControlFont cf_inputFont = new ControlFont(createFont(parentPath + &quot;/data/&quot; + &quot;Bebas Neue Pro Bold.otf&quot;,20));\r\n        \r\n    cp5.addTextfield(&quot;input&quot;)\r\n     .setCaptionLabel(&quot;&quot;) \r\n     .setColorCaptionLabel(color(#12284B))\r\n     .setPosition(15,40)\r\n     .setSize(400,40)\r\n     .setFocus(true)\r\n     .setColor(color(#F2F4F3))\r\n     .setFont(cf_inputFont)\r\n     ;\r\n          \r\n  }\r\n\r\n  void draw() {\r\n    \r\n    background(#F2F4F3);\r\n    windowTitle(&quot;WarBoard - Create New Layout&quot;);\r\n    \r\n    easyTextNewLayout(&quot;Layout Name:&quot;, 15,15,20,color(#12284B),LEFT,TOP);\r\n  }\r\n}\r\n// New Layouts Window --------------------------------------------------------\r\n```\r\n\r\nI&#39;ve tried applying some changes to the JFrame? Although I don&#39;t understand that too much and any implementation or fix online I&#39;ve tried using relating to JFrame did not work and most likely was due to me not using it properly. I understand that you can pass parameters through the second applet (window) but those have not worked either to fix this solution.","title":"How to close second window without closing entire sketch in Processing?","body":"<p>I'm working on a prototype for software for my work. I've managed through examples and tutorials to create a second window for additional options which is great. Except for the fact that closing that window closes the entire sketch. I want to make it so hitting either the window control close button or closing the window via code will only close that second window and not the entire sketch.</p>\n<p>I've looked everywhere for tutorials and code examples, but am struggling to implement anything at all usable. Any advice or tips or pointers here would be much appreciated!</p>\n<p>Here is the full code of the project so far (so you can get a look at how I implemented the second window)</p>\n<p>Thank you!</p>\n<pre><code>import controlP5.*;\n\nControlP5 cp5;\n\nPFont f_bebasNeueBold;\n\nint resW = 1600;\nint resH = 900;\n\nint numOfLayouts = 0;\n\nStringList layoutsFileData;\nStringList testingArr;\n\nString currentSpreadTitle = &quot;null&quot;;\nString parentPath;\n\nChildApplet newLayoutWindow;\n\n//basic ui initialization\nui_window programHeader = new ui_window(0,0,resW,75,(#1D4077));\nui_window toolBar = new ui_window(0,75,resW,35,(#12284B));\nui_window infoPanel = new ui_window(15,programHeader.windowHeight + toolBar.windowHeight + 15,400,resH - 30 - programHeader.windowHeight - toolBar.windowHeight,(#12284B)); \nui_window infoPanelHeader = new ui_window(15,infoPanel.windowYPos,400,60,(#1D4077));\n//basic ui initialization\n\nvoid setup() {\n  size(1600,900);\n  surface.setTitle(&quot;WarBoard - V.0.1&quot;);\n  background(#F2F4F3);\n  \n  parentPath = sketchPath();\n  \n  //controlP5 elements\n  cp5 = new ControlP5(this);\n  \n  ControlFont cf_buttonFont = new ControlFont(createFont(&quot;Bebas Neue Pro Bold.otf&quot;,14));\n  \n  cp5.addButton(&quot;buttonNewLayout&quot;)\n     .setValue(0)\n     .setPosition(10,toolBar.windowYPos + (toolBar.windowHeight / 2) - 10)\n     .setSize(100,20)\n     .setCaptionLabel(&quot;New Layout&quot;)\n     .setColorBackground(color(#F2F4F3))\n     .setColorForeground(color(#BFBFBF))\n     .setColorActive(color(#999999))\n     .setColorCaptionLabel(color(#12284B))\n     .setFont(cf_buttonFont)\n     .setBroadcast(false)\n     .addCallback(new CallbackListener() {\n       public void controlEvent(CallbackEvent event) {\n         if (event.getAction() == ControlP5.ACTION_RELEASED) {\n           launchNewLayoutWindow();\n         }\n       }\n     }\n     );\n     ;\n  //controlP5 elements\n  \n  layoutsFileData = new StringList();\n  testingArr = new StringList();\n  \n  f_bebasNeueBold = createFont(&quot;Bebas Neue Pro Bold.otf&quot;, 1000);\n  \n  if (checkFileStructure()) {\n    String tempFileData[] = loadStrings(&quot;data/layouts.txt&quot;);\n    for (int i = 0; i &lt; tempFileData.length; i++) {\n      layoutsFileData.append(tempFileData[i]);\n    }\n  }\n  else {\n    String setupFileStruct = &quot;0|&quot;;\n    String[] fileStruct = split(setupFileStruct, '|');\n    saveStrings(&quot;data/layouts.txt&quot;, fileStruct);\n    \n    String tempFileData[] = loadStrings(&quot;data/layouts.txt&quot;);\n    for (int i = 0; i &lt; tempFileData.length; i++) {\n      layoutsFileData.append(tempFileData[i]);\n    }  \n    numOfLayouts = 0;\n  }\n  \n  numOfLayouts = int(layoutsFileData.get(0));\n  \n  testingArr.append(&quot;1&quot;);\n  testingArr.append(&quot;2&quot;);\n  newLayout(&quot;Test Layout&quot;, testingArr);\n  \n}\n\nvoid draw() {\n  programHeader.update();\n  toolBar.update();\n  infoPanel.update();\n  infoPanelHeader.update();\n  \n  easyText(&quot;WARBOARD&quot;, width/2, (programHeader.windowHeight / 2) - 15, 32, (#F2F4F3), CENTER, CENTER);\n  easyText(&quot;VERSION 0.1&quot;, width/2, (programHeader.windowHeight / 2) + 15, 24, (#F2F4F3), CENTER, CENTER);\n  \n  easyText(currentSpreadTitle, infoPanelHeader.windowXPos + (infoPanelHeader.windowWidth / 2), infoPanelHeader.windowYPos + (infoPanelHeader.windowHeight / 2), 32, (#F2F4F3), CENTER, CENTER);\n}\n\nclass ui_window {\n  color fillColor;\n  float windowWidth, windowHeight;\n  float windowXPos, windowYPos;\n  \n  ui_window (float x, float y, float inputWidth, float inputHeight, color inputColor) {\n    windowXPos = x;\n    windowYPos = y;\n    windowWidth = inputWidth;\n    windowHeight = inputHeight;\n    fillColor = inputColor;\n  }\n  \n  void update() {\n    noStroke();\n    fill(fillColor);\n    rect(windowXPos, windowYPos, windowWidth, windowHeight);\n  }\n  \n}\n\nvoid easyText(String textDisplay, float textXPos, float textYPos, float textFontSize, color textColor, int textFontAlignX, int textFontAlignY) {\n  noStroke();\n  fill(textColor);\n  textFont(f_bebasNeueBold);\n  textSize(textFontSize);\n  textAlign(textFontAlignX, textFontAlignY);\n  text(textDisplay, textXPos, textYPos);\n}\n\nvoid newLayout(String layoutName, StringList layoutPositions) {\n  \n  layoutsFileData.append(&quot;#&quot; + str(numOfLayouts));\n  layoutsFileData.append(layoutName);\n  for (int i = 0; i &lt; layoutPositions.size(); i++) {\n    layoutsFileData.append(layoutPositions.get(i));\n  }\n  layoutsFileData.append(&quot;&quot;);\n  numOfLayouts += 1;\n  layoutsFileData.set(0, str(numOfLayouts));\n  \n  saveAndUpdate();\n}\n\nvoid saveAndUpdate() {\n  saveStrings(&quot;data/layouts.txt&quot;, layoutsFileData.toArray());\n}\n\nboolean checkFileStructure() {\n  \n  InputStream input = createInput(&quot;layouts.txt&quot;);\n  \n  if (input == null) {\n    return false;\n  }\n  else {\n    return true;\n  }\n}\n\npublic void launchNewLayoutWindow() {\n  newLayoutWindow = new ChildApplet(2, displayWidth / 2 - 400, displayHeight / 2 - 225, 800, 450);\n}\n\n// New Layouts Window --------------------------------------------------------\nclass ChildApplet extends PApplet {\n  int id, vx, vy, vw, vh;\n  int bckColor;\n  PFont f_bebasNeueBoldNewLayout;\n  \n  void easyTextNewLayout(String textDisplay, float textXPos, float textYPos, float textFontSize, color textColor, int textFontAlignX, int textFontAlignY) {\n  noStroke();\n  fill(textColor);\n  textFont(f_bebasNeueBoldNewLayout);\n  textSize(textFontSize);\n  textAlign(textFontAlignX, textFontAlignY);\n  text(textDisplay, textXPos, textYPos);\n}\n  \n\n  ChildApplet(int id, int vx, int vy, int vw, int vh) {\n    super();\n    this.id = id;\n    this.vx = vx;\n    this.vy = vy;\n    this.vw = vw;\n    this.vh = vh;\n\n    PApplet.runSketch(new String[] {this.getClass().getName()}, this);\n  }\n\n  void settings() {\n    size(vw, vh, P2D);\n    smooth(0);\n    println(&quot;Creating window &quot;+ id);\n  }\n\n  void setup() {\n    windowMove(vx, vy);\n    windowResizable(true);\n    \n    cp5 = new ControlP5(this);\n    f_bebasNeueBoldNewLayout = createFont(parentPath + &quot;/data/&quot; + &quot;Bebas Neue Pro Bold.otf&quot;, 20);\n    ControlFont cf_inputFont = new ControlFont(createFont(parentPath + &quot;/data/&quot; + &quot;Bebas Neue Pro Bold.otf&quot;,20));\n        \n    cp5.addTextfield(&quot;input&quot;)\n     .setCaptionLabel(&quot;&quot;) \n     .setColorCaptionLabel(color(#12284B))\n     .setPosition(15,40)\n     .setSize(400,40)\n     .setFocus(true)\n     .setColor(color(#F2F4F3))\n     .setFont(cf_inputFont)\n     ;\n          \n  }\n\n  void draw() {\n    \n    background(#F2F4F3);\n    windowTitle(&quot;WarBoard - Create New Layout&quot;);\n    \n    easyTextNewLayout(&quot;Layout Name:&quot;, 15,15,20,color(#12284B),LEFT,TOP);\n  }\n}\n// New Layouts Window --------------------------------------------------------\n</code></pre>\n<p>I've tried applying some changes to the JFrame? Although I don't understand that too much and any implementation or fix online I've tried using relating to JFrame did not work and most likely was due to me not using it properly. I understand that you can pass parameters through the second applet (window) but those have not worked either to fix this solution.</p>\n"},{"tags":["java","string","insert","append","stringbuilder"],"answers":[{"comments":[{"owner":{"account_id":380676,"reputation":2153,"user_id":734860,"accept_rate":88,"display_name":"entonio"},"score":2,"creation_date":1304900282,"post_id":5931267,"comment_id":6834136,"body_markdown":"...since it makes `AbstractStringBuilder` move all the contents past the index of insertion in order to find room for the inserted ones. However, that&#39;s an implementation detail, not one of principle.","body":"...since it makes <code>AbstractStringBuilder</code> move all the contents past the index of insertion in order to find room for the inserted ones. However, that&#39;s an implementation detail, not one of principle."},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":1,"creation_date":1304900340,"post_id":5931267,"comment_id":6834147,"body_markdown":"@entonio: Indeed, but it&#39;s a *very critical* detail. :)","body":"@entonio: Indeed, but it&#39;s a <i>very critical</i> detail. :)"},{"owner":{"account_id":349783,"reputation":2127,"user_id":685275,"accept_rate":72,"display_name":"user685275"},"score":1,"creation_date":1304900748,"post_id":5931267,"comment_id":6834187,"body_markdown":"I see,It looks like I shouldn&#39;t be using StringBuilder then, Thanks a lot","body":"I see,It looks like I shouldn&#39;t be using StringBuilder then, Thanks a lot"},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":0,"creation_date":1304900947,"post_id":5931267,"comment_id":6834197,"body_markdown":"@user685275: Yeah, if you need backwards insertion then you really need something that can insert at the beginning of the string. I think the easiest solution is the technique above (reversing things twice), although you could probably make a better class of your own with char arrays (might want to look into &quot;deque&quot;s).","body":"@user685275: Yeah, if you need backwards insertion then you really need something that can insert at the beginning of the string. I think the easiest solution is the technique above (reversing things twice), although you could probably make a better class of your own with char arrays (might want to look into &quot;deque&quot;s)."},{"owner":{"account_id":213056,"reputation":689,"user_id":466250,"accept_rate":57,"display_name":"jorgeu"},"score":0,"creation_date":1525982490,"post_id":5931267,"comment_id":87577856,"body_markdown":"Another option when conditions are right is to use a linked list with addFirst and then use Collectors.joining(...) to create the desired string.","body":"Another option when conditions are right is to use a linked list with addFirst and then use Collectors.joining(...) to create the desired string."},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":0,"creation_date":1525982865,"post_id":5931267,"comment_id":87578048,"body_markdown":"@jorgeu: It&#39;s difficult to overstate how *extremely* rare it is for a linked list to be a better choice here.","body":"@jorgeu: It&#39;s difficult to overstate how <i>extremely</i> rare it is for a linked list to be a better choice here."},{"owner":{"account_id":213056,"reputation":689,"user_id":466250,"accept_rate":57,"display_name":"jorgeu"},"score":0,"creation_date":1526190249,"post_id":5931267,"comment_id":87642268,"body_markdown":"@Mehrdad you sure you know what string builder is doing when you add at the begining? see https://stackoverflow.com/questions/26170180/complexity-of-insert0-c-operation-on-stringbuffer-is-it-o1","body":"@Mehrdad you sure you know what string builder is doing when you add at the begining? see <a href=\"https://stackoverflow.com/questions/26170180/complexity-of-insert0-c-operation-on-stringbuffer-is-it-o1\" title=\"complexity of insert0 c operation on stringbuffer is it o1\">stackoverflow.com/questions/26170180/&hellip;</a>"},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":0,"creation_date":1526190571,"post_id":5931267,"comment_id":87642333,"body_markdown":"@jorgeu: Yeah. I don&#39;t see anything in your link to the contrary either. [And see here](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/AbstractStringBuilder.java#AbstractStringBuilder.insert%28int%2Cjava.lang.String%29).","body":"@jorgeu: Yeah. I don&#39;t see anything in your link to the contrary either. <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/AbstractStringBuilder.java#AbstractStringBuilder.insert%28int%2Cjava.lang.String%29\" rel=\"nofollow noreferrer\">And see here</a>."},{"owner":{"account_id":7527241,"reputation":652,"user_id":9416473,"display_name":"Akhil Surapuram"},"score":0,"creation_date":1544092497,"post_id":5931267,"comment_id":94157157,"body_markdown":"@Mehrdad I have tried your Better Technique.  \nyou should append string in a reverse way. else if you append 01 you will get 10 in final string","body":"@Mehrdad I have tried your Better Technique.   you should append string in a reverse way. else if you append 01 you will get 10 in final string"},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":0,"creation_date":1544092551,"post_id":5931267,"comment_id":94157185,"body_markdown":"@AkhilSurapuram: That&#39;s what I mentioned in step #1, right?","body":"@AkhilSurapuram: That&#39;s what I mentioned in step #1, right?"},{"owner":{"account_id":7527241,"reputation":652,"user_id":9416473,"display_name":"Akhil Surapuram"},"score":0,"creation_date":1544094674,"post_id":5931267,"comment_id":94158426,"body_markdown":"@Mehrdad sorry I meant to say you also need to reverse the string builder before inserting reversed strings.","body":"@Mehrdad sorry I meant to say you also need to reverse the string builder before inserting reversed strings."},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":0,"creation_date":1544095213,"post_id":5931267,"comment_id":94158716,"body_markdown":"@AkhilSurapuram: Isn&#39;t the string builder empty initially?","body":"@AkhilSurapuram: Isn&#39;t the string builder empty initially?"},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1550676628,"post_id":5931267,"comment_id":96358079,"body_markdown":"Hmmm...the &quot;purpose&quot; of StringBuilder?  Seems from the javadocs its &quot;purpose&quot; is to act as a mutable string, its &quot;typical benefit and use&quot; is to avoid the N^2 append loops, definitely? In this case it reintroduces an N^2 loop, but with input size of &quot;only&quot; 100, might still be acceptably fast to just do `insert(0, )`&#39;s depending on how often, perhaps... :)","body":"Hmmm...the &quot;purpose&quot; of StringBuilder?  Seems from the javadocs its &quot;purpose&quot; is to act as a mutable string, its &quot;typical benefit and use&quot; is to avoid the N^2 append loops, definitely? In this case it reintroduces an N^2 loop, but with input size of &quot;only&quot; 100, might still be acceptably fast to just do <code>insert(0, )</code>&#39;s depending on how often, perhaps... :)"},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":1,"creation_date":1550692137,"post_id":5931267,"comment_id":96366395,"body_markdown":"@rogerdpack: I&#39;d say that&#39;s the mechanism, not the purpose. The purpose is to be asymptotically faster than string manipulation, which it won&#39;t be if you use it wrong.","body":"@rogerdpack: I&#39;d say that&#39;s the mechanism, not the purpose. The purpose is to be asymptotically faster than string manipulation, which it won&#39;t be if you use it wrong."},{"owner":{"account_id":6467582,"reputation":1841,"user_id":5153846,"display_name":"Akbolat SSS"},"score":0,"creation_date":1671360257,"post_id":5931267,"comment_id":132079051,"body_markdown":"Thank you for clarifying the O notation on both cases","body":"Thank you for clarifying the O notation on both cases"}],"tags":[],"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"comment_count":15,"down_vote_count":0,"up_vote_count":229,"is_accepted":true,"score":229,"last_activity_date":1304900150,"creation_date":1304899839,"answer_id":5931267,"question_id":5931261,"body_markdown":"    StringBuilder sb = new StringBuilder();\r\n    for(int i=0;i&lt;100;i++){\r\n        sb.insert(0, Integer.toString(i));\r\n    }\r\n\r\n**Warning:** *It defeats the purpose of `StringBuilder`*, but it does what you asked.\r\n\r\n--------------------\r\n\r\n**Better technique** (although still not ideal):\r\n\r\n1. Reverse *each* string you want to insert.\r\n2. *Append* each string to a `StringBuilder`.\r\n3. Reverse the *entire* `StringBuilder` when you&#39;re done.\r\n\r\nThis will turn an O(*n*&#178;) solution into O(*n*).","title":"java: use StringBuilder to insert at the beginning","body":"<pre><code>StringBuilder sb = new StringBuilder();\nfor(int i=0;i&lt;100;i++){\n    sb.insert(0, Integer.toString(i));\n}\n</code></pre>\n\n<p><strong>Warning:</strong> <em>It defeats the purpose of <code>StringBuilder</code></em>, but it does what you asked.</p>\n\n<hr>\n\n<p><strong>Better technique</strong> (although still not ideal):</p>\n\n<ol>\n<li>Reverse <em>each</em> string you want to insert.</li>\n<li><em>Append</em> each string to a <code>StringBuilder</code>.</li>\n<li>Reverse the <em>entire</em> <code>StringBuilder</code> when you're done.</li>\n</ol>\n\n<p>This will turn an O(<em>n</em>²) solution into O(<em>n</em>).</p>\n"},{"comments":[{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":3,"creation_date":1577951535,"post_id":5931273,"comment_id":105287800,"body_markdown":"Why did this get so many likes! The class is not defined correctly - only the signature of the method call!","body":"Why did this get so many likes! The class is not defined correctly - only the signature of the method call!"},{"owner":{"account_id":5848223,"reputation":7526,"user_id":4607733,"accept_rate":80,"display_name":"logi-kal"},"score":0,"creation_date":1686481008,"post_id":5931273,"comment_id":134801576,"body_markdown":"@JGFMK I suppose `strbuilder` is a variable, not the class name (indeed, [`StringBuilder#insert`](https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#insert-int-java.lang.String-) is not a static method, therefore you could not invoke it as `StringBuilder.insert(0,i)`).","body":"@JGFMK I suppose <code>strbuilder</code> is a variable, not the class name (indeed, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#insert-int-java.lang.String-\" rel=\"nofollow noreferrer\"><code>StringBuilder#insert</code></a> is not a static method, therefore you could not invoke it as <code>StringBuilder.insert(0,i)</code>)."}],"tags":[],"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"comment_count":2,"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1304899899,"creation_date":1304899899,"answer_id":5931273,"question_id":5931261,"body_markdown":"you can use `strbuilder.insert(0,i);`","title":"java: use StringBuilder to insert at the beginning","body":"<p>you can use <code>strbuilder.insert(0,i);</code></p>\n"},{"comments":[{"owner":{"account_id":431079,"reputation":3788,"user_id":814907,"accept_rate":93,"display_name":"nom-mon-ir"},"score":0,"creation_date":1416218195,"post_id":5932498,"comment_id":42475991,"body_markdown":"Strange this post did not get much voting while providing the solution by clever manipulation of the loop,","body":"Strange this post did not get much voting while providing the solution by clever manipulation of the loop,"},{"owner":{"account_id":119615,"reputation":11742,"user_id":311420,"accept_rate":87,"display_name":"Raymond Chenon"},"score":2,"creation_date":1444852792,"post_id":5932498,"comment_id":54080537,"body_markdown":"@nom-mon-ir he just reversing the String. It doesn&#39;t answer how to append on the left.","body":"@nom-mon-ir he just reversing the String. It doesn&#39;t answer how to append on the left."},{"owner":{"account_id":160779,"reputation":2279,"user_id":381091,"accept_rate":100,"display_name":"Speck"},"score":0,"creation_date":1444920653,"post_id":5932498,"comment_id":54112859,"body_markdown":"Achieves the desired effect.","body":"Achieves the desired effect."},{"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"score":0,"creation_date":1530611988,"post_id":5932498,"comment_id":89286772,"body_markdown":"I think that there could be cases in which you can use this approach instead of trying to hack a way to do the insert on the beginning which uses the true potential of StringBuilder. Anyway, there are cases in which you can&#39;t reverse the loop so you need also the other answers.","body":"I think that there could be cases in which you can use this approach instead of trying to hack a way to do the insert on the beginning which uses the true potential of StringBuilder. Anyway, there are cases in which you can&#39;t reverse the loop so you need also the other answers."}],"tags":[],"owner":{"account_id":160779,"reputation":2279,"user_id":381091,"accept_rate":100,"display_name":"Speck"},"comment_count":4,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1304915258,"creation_date":1304915258,"answer_id":5932498,"question_id":5931261,"body_markdown":"Maybe I&#39;m missing something but you want to wind up with a String that looks like this, `&quot;999897969594...543210&quot;`, correct?\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    for(int i=99;i&gt;=0;i--){\r\n        sb.append(String.valueOf(i));\r\n    }\r\n\r\n","title":"java: use StringBuilder to insert at the beginning","body":"<p>Maybe I'm missing something but you want to wind up with a String that looks like this, <code>\"999897969594...543210\"</code>, correct?</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nfor(int i=99;i&gt;=0;i--){\n    sb.append(String.valueOf(i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3165723,"reputation":813,"user_id":2675793,"display_name":"Benjamin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1388844088,"creation_date":1388844088,"answer_id":20921944,"question_id":5931261,"body_markdown":"This thread is quite old, but you could also think about a recursive solution passing the StringBuilder to fill. This allows to prevent any reverse processing etc. Just need to design your iteration with a recursion and carefully decide for an exit condition.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            StringBuilder sb = new StringBuilder();\r\n            doRecursive(sb, 100, 0);\r\n            System.out.println(sb.toString());\r\n        }\r\n    \r\n        public static void doRecursive(StringBuilder sb, int limit, int index) {\r\n            if (index &lt; limit) {\r\n                doRecursive(sb, limit, index + 1);\r\n                sb.append(Integer.toString(index));\r\n            }\r\n        }\r\n    }","title":"java: use StringBuilder to insert at the beginning","body":"<p>This thread is quite old, but you could also think about a recursive solution passing the StringBuilder to fill. This allows to prevent any reverse processing etc. Just need to design your iteration with a recursion and carefully decide for an exit condition.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    public static void main(String[] args) {\n        StringBuilder sb = new StringBuilder();\n        doRecursive(sb, 100, 0);\n        System.out.println(sb.toString());\n    }\n\n    public static void doRecursive(StringBuilder sb, int limit, int index) {\n        if (index &lt; limit) {\n            doRecursive(sb, limit, index + 1);\n            sb.append(Integer.toString(index));\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":90962,"reputation":1457,"user_id":250076,"accept_rate":100,"display_name":"Luna"},"score":4,"creation_date":1453503112,"post_id":27834772,"comment_id":57646149,"body_markdown":"`ArrayDeque` should be used instead of `Stack`. &quot;A more complete and consistent set of LIFO stack operations is provided by the {@link Deque} interface and its implementations, which should be used in preference to this class. &quot;","body":"<code>ArrayDeque</code> should be used instead of <code>Stack</code>. &quot;A more complete and consistent set of LIFO stack operations is provided by the {@link Deque} interface and its implementations, which should be used in preference to this class. &quot;"}],"tags":[],"owner":{"account_id":218187,"reputation":2189,"user_id":474381,"display_name":"Vasile Jureschi"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1420701181,"creation_date":1420701181,"answer_id":27834772,"question_id":5931261,"body_markdown":"As an alternative solution you can use a LIFO structure (like a stack) to store all the strings and when you are done just take them all out and put them into the StringBuilder. It naturally reverses the order of the items (strings) placed in it.\r\n\r\n    Stack&lt;String&gt; textStack = new Stack&lt;String&gt;();\r\n    // push the strings to the stack\r\n    while(!isReadingTextDone()) {\r\n        String text = readText();\r\n        textStack.push(text);\r\n    }\r\n    // pop the strings and add to the text builder\r\n    String builder = new StringBuilder(); \r\n    while (!textStack.empty()) {\r\n          builder.append(textStack.pop());\r\n    }\r\n    // get the final string\r\n    String finalText =  builder.toString();","title":"java: use StringBuilder to insert at the beginning","body":"<p>As an alternative solution you can use a LIFO structure (like a stack) to store all the strings and when you are done just take them all out and put them into the StringBuilder. It naturally reverses the order of the items (strings) placed in it.</p>\n\n<pre><code>Stack&lt;String&gt; textStack = new Stack&lt;String&gt;();\n// push the strings to the stack\nwhile(!isReadingTextDone()) {\n    String text = readText();\n    textStack.push(text);\n}\n// pop the strings and add to the text builder\nString builder = new StringBuilder(); \nwhile (!textStack.empty()) {\n      builder.append(textStack.pop());\n}\n// get the final string\nString finalText =  builder.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2848053,"reputation":229,"user_id":5144850,"display_name":"Siddharth Wagle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514654004,"creation_date":1514654004,"answer_id":48036128,"question_id":5931261,"body_markdown":"I had a similar requirement when I stumbled on this post. I wanted a fast way to build a String that can grow from both sides ie. add new letters on the front as well as back arbitrarily. I know this is an old post, but it inspired me to try out a few ways to create strings and I thought I&#39;d share my findings. I am also using some Java 8 constructs in this, which could have optimised the speed in cases 4 and 5. \r\n\r\nhttps://gist.github.com/SidWagz/e41e836dec65ff24f78afdf8669e6420\r\n\r\nThe Gist above has the detailed code that anyone can run.\r\nI took few ways of growing strings in this; 1) Append to StringBuilder, 2) Insert to front of StringBuilder as as shown by @Mehrdad, 3) Partially insert from front as well as end of the StringBuilder, 4) Using a list to append from end, 5) Using a Deque to append from the front.\r\n\r\n    // Case 2    \r\n    StringBuilder build3 = new StringBuilder();\r\n    IntStream.range(0, MAX_STR)\r\n                        .sequential()\r\n                        .forEach(i -&gt; {\r\n                            if (i%2 == 0) build3.append(Integer.toString(i)); else build3.insert(0, Integer.toString(i));\r\n                        });\r\n    String build3Out = build3.toString();\r\n    \r\n    \r\n    //Case 5\r\n    Deque&lt;String&gt; deque = new ArrayDeque&lt;&gt;();\r\n    IntStream.range(0, MAX_STR)\r\n                    .sequential()\r\n                    .forEach(i -&gt; {\r\n                        if (i%2 == 0) deque.addLast(Integer.toString(i)); else deque.addFirst(Integer.toString(i));\r\n                    });\r\n    \r\n    String dequeOut = deque.stream().collect(Collectors.joining(&quot;&quot;));\r\n\r\nI&#39;ll focus on the front append only cases ie. case 2 and case 5. The implementation of StringBuilder internally decides how the internal buffer grows, which apart from moving all buffer left to right in case of front appending limits the speed. While time taken when inserting directly to the front of the StringBuilder grows to really high values, as shown by @Mehrdad, if the need is to only have strings of length less than 90k characters (which is still a lot), the front insert will build a String in the same time as it would take to build a String of the same length by appending at the end. What I am saying is that time time penalty indeed kicks and is huge, but only when you have to build really huge strings. One could use a deque and join the strings at the end as shown in my example. But StringBuilder is a bit more intuitive to read and code, and the penalty would not matter for smaller strings.\r\n\r\nActually the performance for case 2 is much faster than case 1, which I don&#39;t seem to understand. I assume the growth for the internal buffer in StringBuilder would be the same in case of front append and back append. I even set the minimum heap to a very large amount to avoid delay in heap growth, if that would have played a role. Maybe someone who has a better understanding can comment below.\r\n","title":"java: use StringBuilder to insert at the beginning","body":"<p>I had a similar requirement when I stumbled on this post. I wanted a fast way to build a String that can grow from both sides ie. add new letters on the front as well as back arbitrarily. I know this is an old post, but it inspired me to try out a few ways to create strings and I thought I'd share my findings. I am also using some Java 8 constructs in this, which could have optimised the speed in cases 4 and 5. </p>\n\n<p><a href=\"https://gist.github.com/SidWagz/e41e836dec65ff24f78afdf8669e6420\" rel=\"nofollow noreferrer\">https://gist.github.com/SidWagz/e41e836dec65ff24f78afdf8669e6420</a></p>\n\n<p>The Gist above has the detailed code that anyone can run.\nI took few ways of growing strings in this; 1) Append to StringBuilder, 2) Insert to front of StringBuilder as as shown by @Mehrdad, 3) Partially insert from front as well as end of the StringBuilder, 4) Using a list to append from end, 5) Using a Deque to append from the front.</p>\n\n<pre><code>// Case 2    \nStringBuilder build3 = new StringBuilder();\nIntStream.range(0, MAX_STR)\n                    .sequential()\n                    .forEach(i -&gt; {\n                        if (i%2 == 0) build3.append(Integer.toString(i)); else build3.insert(0, Integer.toString(i));\n                    });\nString build3Out = build3.toString();\n\n\n//Case 5\nDeque&lt;String&gt; deque = new ArrayDeque&lt;&gt;();\nIntStream.range(0, MAX_STR)\n                .sequential()\n                .forEach(i -&gt; {\n                    if (i%2 == 0) deque.addLast(Integer.toString(i)); else deque.addFirst(Integer.toString(i));\n                });\n\nString dequeOut = deque.stream().collect(Collectors.joining(\"\"));\n</code></pre>\n\n<p>I'll focus on the front append only cases ie. case 2 and case 5. The implementation of StringBuilder internally decides how the internal buffer grows, which apart from moving all buffer left to right in case of front appending limits the speed. While time taken when inserting directly to the front of the StringBuilder grows to really high values, as shown by @Mehrdad, if the need is to only have strings of length less than 90k characters (which is still a lot), the front insert will build a String in the same time as it would take to build a String of the same length by appending at the end. What I am saying is that time time penalty indeed kicks and is huge, but only when you have to build really huge strings. One could use a deque and join the strings at the end as shown in my example. But StringBuilder is a bit more intuitive to read and code, and the penalty would not matter for smaller strings.</p>\n\n<p>Actually the performance for case 2 is much faster than case 1, which I don't seem to understand. I assume the growth for the internal buffer in StringBuilder would be the same in case of front append and back append. I even set the minimum heap to a very large amount to avoid delay in heap growth, if that would have played a role. Maybe someone who has a better understanding can comment below.</p>\n"},{"comments":[{"owner":{"account_id":14950045,"reputation":11564,"user_id":10794031,"display_name":"bad_coder"},"score":2,"creation_date":1585353981,"post_id":60894125,"comment_id":107738859,"body_markdown":"Welcome to stackoverflow. Please include an explanation of what the code does and how it solves the problem in the question.","body":"Welcome to stackoverflow. Please include an explanation of what the code does and how it solves the problem in the question."}],"tags":[],"owner":{"account_id":7080583,"reputation":51,"user_id":5419147,"display_name":"suresh babu garine"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585343181,"creation_date":1585343181,"answer_id":60894125,"question_id":5931261,"body_markdown":"    Difference Between String, StringBuilder And StringBuffer Classes\r\n    String\r\n    String is immutable ( once created can not be changed )object. The object created as a\r\n    String is stored in the Constant String Pool.\r\n    Every immutable object in Java is thread-safe, which implies String is also thread-safe. String\r\n    can not be used by two threads simultaneously.\r\n    String once assigned can not be changed.\r\n    StringBuffer\r\n    StringBuffer is mutable means one can change the value of the object. The object created\r\n    through StringBuffer is stored in the heap. StringBuffer has the same methods as the\r\n    StringBuilder , but each method in StringBuffer is synchronized that is StringBuffer is thread\r\n    safe .\r\n    Due to this, it does not allow two threads to simultaneously access the same method. Each\r\n    method can be accessed by one thread at a time.\r\n    But being thread-safe has disadvantages too as the performance of the StringBuffer hits due\r\n    to thread-safe property. Thus StringBuilder is faster than the StringBuffer when calling the\r\n    same methods of each class.\r\n    String Buffer can be converted to the string by using\r\n    toString() method.\r\n    \r\n        StringBuffer demo1 = new StringBuffer(&quot;Hello&quot;) ;\r\n    \r\n    // The above object stored in heap and its value can be changed.\r\n    /\r\n    // Above statement is right as it modifies the value which is allowed in the StringBuffer\r\n    StringBuilder\r\n    StringBuilder is the same as the StringBuffer, that is it stores the object in heap and it can also\r\n    be modified. The main difference between the StringBuffer and StringBuilder is\r\n    that StringBuilder is also not thread-safe.\r\n    StringBuilder is fast as it is not thread-safe.\r\n    /\r\n    // The above object is stored in the heap and its value can be modified\r\n    /\r\n    // Above statement is right as it modifies the value which is allowed in the StringBuilder","title":"java: use StringBuilder to insert at the beginning","body":"<pre><code>Difference Between String, StringBuilder And StringBuffer Classes\nString\nString is immutable ( once created can not be changed )object. The object created as a\nString is stored in the Constant String Pool.\nEvery immutable object in Java is thread-safe, which implies String is also thread-safe. String\ncan not be used by two threads simultaneously.\nString once assigned can not be changed.\nStringBuffer\nStringBuffer is mutable means one can change the value of the object. The object created\nthrough StringBuffer is stored in the heap. StringBuffer has the same methods as the\nStringBuilder , but each method in StringBuffer is synchronized that is StringBuffer is thread\nsafe .\nDue to this, it does not allow two threads to simultaneously access the same method. Each\nmethod can be accessed by one thread at a time.\nBut being thread-safe has disadvantages too as the performance of the StringBuffer hits due\nto thread-safe property. Thus StringBuilder is faster than the StringBuffer when calling the\nsame methods of each class.\nString Buffer can be converted to the string by using\ntoString() method.\n\n    StringBuffer demo1 = new StringBuffer(\"Hello\") ;\n\n// The above object stored in heap and its value can be changed.\n/\n// Above statement is right as it modifies the value which is allowed in the StringBuffer\nStringBuilder\nStringBuilder is the same as the StringBuffer, that is it stores the object in heap and it can also\nbe modified. The main difference between the StringBuffer and StringBuilder is\nthat StringBuilder is also not thread-safe.\nStringBuilder is fast as it is not thread-safe.\n/\n// The above object is stored in the heap and its value can be modified\n/\n// Above statement is right as it modifies the value which is allowed in the StringBuilder\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10703126,"reputation":562,"user_id":7877771,"display_name":"sachyy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589867637,"creation_date":1589867637,"answer_id":61884140,"question_id":5931261,"body_markdown":"You can use the insert method with the offset.\r\nas offset set to &#39;0&#39; means you are appending to the front of your StringBuilder.\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    for(int i=0;i&lt;100;i++){\r\n        sb.insert(0,i);\r\n    }\r\n\r\n**NOTE**:\r\nas the insert method accept all types of primitives, you can use for int, long, char[] etc.","title":"java: use StringBuilder to insert at the beginning","body":"<p>You can use the insert method with the offset.\nas offset set to '0' means you are appending to the front of your StringBuilder.</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nfor(int i=0;i&lt;100;i++){\n    sb.insert(0,i);\n}\n</code></pre>\n\n<p><strong>NOTE</strong>:\nas the insert method accept all types of primitives, you can use for int, long, char[] etc.</p>\n"},{"tags":[],"owner":{"account_id":2414779,"reputation":14072,"user_id":2109070,"accept_rate":62,"display_name":"Trying"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596655805,"creation_date":1596655364,"answer_id":63272203,"question_id":5931261,"body_markdown":"How about:\r\n\r\n    StringBuilder builder = new StringBuilder();\r\n    for(int i=99;i&gt;=0;i--){\r\n        builder.append(Integer.toString(i));\r\n    }\r\n    builder.toString();\r\n\r\nOR\r\n\r\n    StringBuilder builder = new StringBuilder();\r\n    for(int i=0;i&lt;100;i++){\r\n      builder.insert(0, Integer.toString(i));\r\n    }\r\n    builder.toString();\r\n**But with this, you are making the operation O(N^2) instead of O(N).**\r\n\r\nSnippet from java docs:\r\n\r\n&gt; Inserts the string representation of the Object argument into this\r\n&gt; character sequence. The overall effect is exactly as if the second\r\n&gt; argument were converted to a string by the method\r\n&gt; `String.valueOf(Object)`, and the characters of that string were then\r\n&gt; inserted into this character sequence at the indicated offset.\r\n&gt; \r\n","title":"java: use StringBuilder to insert at the beginning","body":"<p>How about:</p>\n<pre><code>StringBuilder builder = new StringBuilder();\nfor(int i=99;i&gt;=0;i--){\n    builder.append(Integer.toString(i));\n}\nbuilder.toString();\n</code></pre>\n<p>OR</p>\n<pre><code>StringBuilder builder = new StringBuilder();\nfor(int i=0;i&lt;100;i++){\n  builder.insert(0, Integer.toString(i));\n}\nbuilder.toString();\n</code></pre>\n<p><strong>But with this, you are making the operation O(N^2) instead of O(N).</strong></p>\n<p>Snippet from java docs:</p>\n<blockquote>\n<p>Inserts the string representation of the Object argument into this\ncharacter sequence. The overall effect is exactly as if the second\nargument were converted to a string by the method\n<code>String.valueOf(Object)</code>, and the characters of that string were then\ninserted into this character sequence at the indicated offset.</p>\n</blockquote>\n"}],"owner":{"account_id":349783,"reputation":2127,"user_id":685275,"accept_rate":72,"display_name":"user685275"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220682,"favorite_count":0,"down_vote_count":0,"up_vote_count":119,"accepted_answer_id":5931267,"answer_count":9,"score":119,"last_activity_date":1687296173,"creation_date":1304899729,"question_id":5931261,"body_markdown":"I could only do this with String, for example: \r\n\r\n    String str = &quot;&quot;;\r\n    for (int i = 0; i &lt; 100; i++) {\r\n        str = i + str;\r\n    }\r\n\r\nIs there a way to achieve this with StringBuilder? Thanks.\r\n\r\n","title":"java: use StringBuilder to insert at the beginning","body":"<p>I could only do this with String, for example:</p>\n<pre><code>String str = &quot;&quot;;\nfor (int i = 0; i &lt; 100; i++) {\n    str = i + str;\n}\n</code></pre>\n<p>Is there a way to achieve this with StringBuilder? Thanks.</p>\n"},{"tags":["java","android-recyclerview","android-livedata"],"owner":{"account_id":8700262,"reputation":638,"user_id":6510411,"display_name":"Nekomajin42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687295963,"creation_date":1687295963,"question_id":76518455,"body_markdown":"I have a 2-dimensional LiveData list.\r\n\r\nMy fragment has a button and a RecyclerView. The button opens a dialog, which contains the items of the **outer list**. When I select an item in the dialog, I would like to display the items of the selected **inner list** in the RecyclerView.\r\n\r\nMy problem is that I don&#39;t know where to initialize the adapter. Should I initialize the adapter inside the observer&#39;s `onChanged` listener, the button&#39;s `onClick` listener or outside of them?\r\n\r\n**Relevant code:**\r\n\r\n```\r\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n\tbinding = FragmentSessionsBinding.inflate(inflater, container, false);\r\n\r\n\tviewModel = new ViewModelProvider(getActivity()).get(SessionsViewModel.class);\r\n\tviewModel.getSessions().observe(getViewLifecycleOwner(), new Observer&lt;List&lt;SessionData&gt;&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onChanged(List&lt;SessionData&gt; sessions) {\r\n\t\t\t/* ... */\r\n\t\t}\r\n\t});\r\n\r\n\t// sessionSelect =&gt; button\r\n\tbinding.sessionSelect.setOnClickListener(new View.OnClickListener() {\r\n\t\t@Override\r\n\t\tpublic void onClick(View view) {\r\n\t\t\tSessionsListDialog dialog = new SessionsListDialog();\r\n\t\t\tdialog.show(getActivity().getSupportFragmentManager(), null);\r\n\t\t\tdialog.sessionSelectListener = new SessionsListDialog.SessionSelectListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onSessionSelected(int sessionId) {\r\n\t\t\t\t\tviewModel.setSessionId(sessionId);\r\n\t\t\t\t\t/* ... */\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n\r\n\t// the adapter gets the list via its constructor\r\n\ttasksAdapter = new TasksAdapter(viewModel.getSessions().getValue().get(viewModel.getSessionId()).getTasks());\r\n\t\r\n\t// sessionTasks =&gt; recyclerview\r\n\tbinding.sessionTasks.setAdapter(tasksAdapter);\r\n\tbinding.sessionTasks.setLayoutManager(new LinearLayoutManager(getContext()));\r\n\r\n\treturn binding.getRoot();\r\n}\r\n```\r\n\r\nUsing this code, the `getValue` method returns `null`, because the list is not ready at this point. It is being fetched from a local file in the fragment&#39;s parent activity. I could pass an empty list to the constructor, but **I am not sure whether it would run earlier every time than the observer.**\r\n\r\nIf I move the adapter initialization into the `observe` method, `getValue` works fine, and the RecyclerView is populated with the items. However, every time I add a new inner list to the outer list in a separate dialog (not shown in this piece of code), the adapter is re-initialized. **Isn&#39;t it redundant?**\r\n\r\nAnd the last question is how I should give a new list to the adapter inside the `onClick` listener. **Should I call the adapter&#39;s constructor every time I select a new inner list in the dialog?**\r\n\r\nI would be glad if someone could answer these questions.","title":"Where to initialize RecyclerView adapter with LiveData","body":"<p>I have a 2-dimensional LiveData list.</p>\n<p>My fragment has a button and a RecyclerView. The button opens a dialog, which contains the items of the <strong>outer list</strong>. When I select an item in the dialog, I would like to display the items of the selected <strong>inner list</strong> in the RecyclerView.</p>\n<p>My problem is that I don't know where to initialize the adapter. Should I initialize the adapter inside the observer's <code>onChanged</code> listener, the button's <code>onClick</code> listener or outside of them?</p>\n<p><strong>Relevant code:</strong></p>\n<pre><code>public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    binding = FragmentSessionsBinding.inflate(inflater, container, false);\n\n    viewModel = new ViewModelProvider(getActivity()).get(SessionsViewModel.class);\n    viewModel.getSessions().observe(getViewLifecycleOwner(), new Observer&lt;List&lt;SessionData&gt;&gt;() {\n        @Override\n        public void onChanged(List&lt;SessionData&gt; sessions) {\n            /* ... */\n        }\n    });\n\n    // sessionSelect =&gt; button\n    binding.sessionSelect.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            SessionsListDialog dialog = new SessionsListDialog();\n            dialog.show(getActivity().getSupportFragmentManager(), null);\n            dialog.sessionSelectListener = new SessionsListDialog.SessionSelectListener() {\n                @Override\n                public void onSessionSelected(int sessionId) {\n                    viewModel.setSessionId(sessionId);\n                    /* ... */\n                }\n            };\n        }\n    });\n\n    // the adapter gets the list via its constructor\n    tasksAdapter = new TasksAdapter(viewModel.getSessions().getValue().get(viewModel.getSessionId()).getTasks());\n    \n    // sessionTasks =&gt; recyclerview\n    binding.sessionTasks.setAdapter(tasksAdapter);\n    binding.sessionTasks.setLayoutManager(new LinearLayoutManager(getContext()));\n\n    return binding.getRoot();\n}\n</code></pre>\n<p>Using this code, the <code>getValue</code> method returns <code>null</code>, because the list is not ready at this point. It is being fetched from a local file in the fragment's parent activity. I could pass an empty list to the constructor, but <strong>I am not sure whether it would run earlier every time than the observer.</strong></p>\n<p>If I move the adapter initialization into the <code>observe</code> method, <code>getValue</code> works fine, and the RecyclerView is populated with the items. However, every time I add a new inner list to the outer list in a separate dialog (not shown in this piece of code), the adapter is re-initialized. <strong>Isn't it redundant?</strong></p>\n<p>And the last question is how I should give a new list to the adapter inside the <code>onClick</code> listener. <strong>Should I call the adapter's constructor every time I select a new inner list in the dialog?</strong></p>\n<p>I would be glad if someone could answer these questions.</p>\n"},{"tags":["java","swagger","openapi","springdoc"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1687334241,"post_id":76518411,"comment_id":134920528,"body_markdown":"Try `@SecurityScheme` and `@SecurityRequirement`: https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#security-annotations","body":"Try <code>@SecurityScheme</code> and <code>@SecurityRequirement</code>: <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#security-annotations\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-core/wiki/&hellip;</a>"}],"owner":{"account_id":874523,"reputation":2017,"user_id":1216686,"accept_rate":11,"display_name":"Matt Campbell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687295366,"creation_date":1687295366,"question_id":76518411,"body_markdown":"Am migrating my API to JDK 17/Spring Boot 3.  I am thus forced to migrate my Swagger from SpringFox to SpringDoc (OpenAPI). I have a SpringDoc @Operation that in its SpringFox legacy form looks like this:\r\n\r\n    @ApiOperation(\r\n       value= &quot;Do XYZ&quot;,\r\n       authorizations = {\r\n         @Authorization(\r\n            value = &quot;internalOAuth&quot;,\r\n            scopes = {\r\n              @AuthorizationScope(scope = &quot;some_scope_xxx&quot;, description = &quot;Xxxxxx&quot;),\r\n              @AuthorizationScope(\r\n                  scope = &quot;com.example.class&quot;,\r\n                  description = &quot;Xxxxxx&quot;)\r\n            })\r\n      })\r\n\r\nCan&#39;t find a thing in Google-land or here on SO that says explicitly what needs doing to convert over the @Authorization and @AuthorizationScope annotations.  I know @ApiOperation becomes just @Operation, but that&#39;s all.  All the guides and examples seem to have skipped this rather common configuration situation.  Any help is greatly appreciated.  Thank you.","title":"Migrating from SpringFox to OpenAPI (SpringDoc) during JDK 17/SB3 Upgrade - Stuck on @Authorization and @AuthorizationScope Conversion","body":"<p>Am migrating my API to JDK 17/Spring Boot 3.  I am thus forced to migrate my Swagger from SpringFox to SpringDoc (OpenAPI). I have a SpringDoc @Operation that in its SpringFox legacy form looks like this:</p>\n<pre><code>@ApiOperation(\n   value= &quot;Do XYZ&quot;,\n   authorizations = {\n     @Authorization(\n        value = &quot;internalOAuth&quot;,\n        scopes = {\n          @AuthorizationScope(scope = &quot;some_scope_xxx&quot;, description = &quot;Xxxxxx&quot;),\n          @AuthorizationScope(\n              scope = &quot;com.example.class&quot;,\n              description = &quot;Xxxxxx&quot;)\n        })\n  })\n</code></pre>\n<p>Can't find a thing in Google-land or here on SO that says explicitly what needs doing to convert over the @Authorization and @AuthorizationScope annotations.  I know @ApiOperation becomes just @Operation, but that's all.  All the guides and examples seem to have skipped this rather common configuration situation.  Any help is greatly appreciated.  Thank you.</p>\n"},{"tags":["java","wildfly","camunda"],"answers":[{"tags":[],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687295071,"creation_date":1687295071,"answer_id":76518378,"question_id":73040900,"body_markdown":"deleting the file in the war before application startup actually worked - super hackish, but the only solution I found :\r\n\r\n    zip -d ${WILDFLY_HOME}/standalone/deployments/my-service.war WEB-INF/classes/META-INF/processes.xml","title":"Disable Camunda engine at startup in Widlfly?","body":"<p>deleting the file in the war before application startup actually worked - super hackish, but the only solution I found :</p>\n<pre><code>zip -d ${WILDFLY_HOME}/standalone/deployments/my-service.war WEB-INF/classes/META-INF/processes.xml\n</code></pre>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76518378,"answer_count":1,"score":0,"last_activity_date":1687295071,"creation_date":1658250126,"question_id":73040900,"body_markdown":"I have one application using embedded Camunda engine 7.16, deployed in Wildfly 15, and it works fine.\r\n\r\nfor some weird architectural reasons, I now need to be able to deploy the same application a second time, in a different environment in which I would like to disable Camunda, because it’s not used there (and the underlying DB doesn’t have the Camunda tables).\r\n\r\nIn Spring Boot, we can easily disable the starter through properties, but how can we achieve the same in Wildfly ? I have the processes.yml file in the resources/META-INF folder, but is there a way to ignore it a startup ?\r\n\r\nOtherwise, I will probably look at some options from https://stackoverflow.com/questions/4520822/is-there-a-quick-way-to-delete-a-file-from-a-jar-war-without-having-to-extract , and based on a property at startup, I would try to delete the processes.xml in the war file in the container before it actually starts the application, but that’s hack-ish to say the least\r\n\r\nThanks","title":"Disable Camunda engine at startup in Widlfly?","body":"<p>I have one application using embedded Camunda engine 7.16, deployed in Wildfly 15, and it works fine.</p>\n<p>for some weird architectural reasons, I now need to be able to deploy the same application a second time, in a different environment in which I would like to disable Camunda, because it’s not used there (and the underlying DB doesn’t have the Camunda tables).</p>\n<p>In Spring Boot, we can easily disable the starter through properties, but how can we achieve the same in Wildfly ? I have the processes.yml file in the resources/META-INF folder, but is there a way to ignore it a startup ?</p>\n<p>Otherwise, I will probably look at some options from <a href=\"https://stackoverflow.com/questions/4520822/is-there-a-quick-way-to-delete-a-file-from-a-jar-war-without-having-to-extract\">Is there a quick way to delete a file from a Jar / war without having to extract the jar and recreate it?</a> , and based on a property at startup, I would try to delete the processes.xml in the war file in the container before it actually starts the application, but that’s hack-ish to say the least</p>\n<p>Thanks</p>\n"},{"tags":["java","amazon-web-services","kotlin","aws-lambda","maxmind"],"comments":[{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":0,"creation_date":1687301994,"post_id":76518355,"comment_id":134916846,"body_markdown":"Lambda can run executables, however, outside of `/tmp`, the filesystem is read only, so your attempt to set the executable bit will likely fail.  What does the output of running this show in CloudWatch?","body":"Lambda can run executables, however, outside of <code>&#47;tmp</code>, the filesystem is read only, so your attempt to set the executable bit will likely fail.  What does the output of running this show in CloudWatch?"},{"owner":{"account_id":28861144,"reputation":1,"user_id":22104925,"display_name":"user22104925"},"score":0,"creation_date":1687306018,"post_id":76518355,"comment_id":134917190,"body_markdown":"CloudWatch shows init_start runtime, start/end request id and the function call. I updated the code to copy the files to the /tmp directory before attempting to execute the file and the results are still the same. The &quot;ls -l /tmp&quot; command shows that the files all have the correct permissions.","body":"CloudWatch shows init_start runtime, start/end request id and the function call. I updated the code to copy the files to the /tmp directory before attempting to execute the file and the results are still the same. The &quot;ls -l /tmp&quot; command shows that the files all have the correct permissions."},{"owner":{"account_id":2196043,"reputation":1420,"user_id":1941686,"display_name":"Michael C."},"score":0,"creation_date":1687312141,"post_id":76518355,"comment_id":134917724,"body_markdown":"Possible to write to S3 directly without through /tmp?","body":"Possible to write to S3 directly without through /tmp?"},{"owner":{"account_id":28861144,"reputation":1,"user_id":22104925,"display_name":"user22104925"},"score":0,"creation_date":1687374099,"post_id":76518355,"comment_id":134929431,"body_markdown":"I ended up not using the Maxmind geoipupdate tool and instead opened a url connection with the permalink they provide and copied the input stream to a file that I can write to S3.","body":"I ended up not using the Maxmind geoipupdate tool and instead opened a url connection with the permalink they provide and copied the input stream to a file that I can write to S3."}],"owner":{"account_id":28861144,"reputation":1,"user_id":22104925,"display_name":"user22104925"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687294812,"creation_date":1687294812,"question_id":76518355,"body_markdown":"I&#39;m currently looking to create an AWS Lambda that takes the Maxmind GeoIpUpdate tool which is an executable file and its config file and runs the executable which generates new proprietary binary files. I want to store the new files in the Lambda /tmp directory so that I can then write them to an S3 bucket.\r\n\r\n\r\n```\r\n        val amazonS3 = AmazonS3Client.builder().build()\r\n        val classLoader = javaClass.classLoader\r\n        val configFile = File(classLoader.getResource(&quot;GeoIP.conf&quot;).file)\r\n        configFile.setWritable(true, false)\r\n        configFile.setReadable(true, false)\r\n        val executableFile = File(classLoader.getResource(&quot;geoipupdate&quot;).file)\r\n        executableFile.setWritable(true, false)\r\n        executableFile.setReadable(true, false)\r\n        executableFile.setExecutable(true, false)\r\n        try {\r\n            ProcessBuilder().directory(File(&quot;/var/task/&quot;))\r\n                .command(&quot;./geoipupdate&quot;, &quot;-f&quot;, &quot;GeoIP.conf&quot;, &quot;-d&quot;, &quot;/tmp/&quot;).start().waitFor()\r\n        } catch (e: Exception) {\r\n            logger.info(&quot;error: ${e.message}&quot;)\r\n        }\r\n        &quot;ls -l /tmp&quot;.runCommand()\r\n```\r\n\r\nWhen I run this code locally and write to a desktop folder it works as it intended. When I run it in AWS Lambda, I would expect that the generated files would get written to the /tmp directory so that I could then write them to an S3 bucket but after executing the command, the /tmp directory doesn&#39;t contain the files. \r\n\r\n","title":"Is it possible to generate binary files in AWS Lambda with the Maxmind GeoIpUpdate tool","body":"<p>I'm currently looking to create an AWS Lambda that takes the Maxmind GeoIpUpdate tool which is an executable file and its config file and runs the executable which generates new proprietary binary files. I want to store the new files in the Lambda /tmp directory so that I can then write them to an S3 bucket.</p>\n<pre><code>        val amazonS3 = AmazonS3Client.builder().build()\n        val classLoader = javaClass.classLoader\n        val configFile = File(classLoader.getResource(&quot;GeoIP.conf&quot;).file)\n        configFile.setWritable(true, false)\n        configFile.setReadable(true, false)\n        val executableFile = File(classLoader.getResource(&quot;geoipupdate&quot;).file)\n        executableFile.setWritable(true, false)\n        executableFile.setReadable(true, false)\n        executableFile.setExecutable(true, false)\n        try {\n            ProcessBuilder().directory(File(&quot;/var/task/&quot;))\n                .command(&quot;./geoipupdate&quot;, &quot;-f&quot;, &quot;GeoIP.conf&quot;, &quot;-d&quot;, &quot;/tmp/&quot;).start().waitFor()\n        } catch (e: Exception) {\n            logger.info(&quot;error: ${e.message}&quot;)\n        }\n        &quot;ls -l /tmp&quot;.runCommand()\n</code></pre>\n<p>When I run this code locally and write to a desktop folder it works as it intended. When I run it in AWS Lambda, I would expect that the generated files would get written to the /tmp directory so that I could then write them to an S3 bucket but after executing the command, the /tmp directory doesn't contain the files.</p>\n"},{"tags":["java","spring-boot","maven","powermock"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670932244,"post_id":74775990,"comment_id":131982697,"body_markdown":"On which version of Java should that code be running?","body":"On which version of Java should that code be running?"}],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687290696,"creation_date":1687290696,"answer_id":76517988,"question_id":74775990,"body_markdown":"Let me get this straight: you&#39;re excluding *all* transitive dependencies, and then complaining that classes cannot be found at runtime? \r\n\r\n`ArrayMerger` happens to come from `mockito-core`, which is bound to be one of the transitive dependencies you&#39;re excluding. ","title":"Java PowerMock: Mock NewDate whenNew, ava.lang.NoClassDefFoundError: org/powermock/tests/utils/ArrayMerger","body":"<p>Let me get this straight: you're excluding <em>all</em> transitive dependencies, and then complaining that classes cannot be found at runtime?</p>\n<p><code>ArrayMerger</code> happens to come from <code>mockito-core</code>, which is bound to be one of the transitive dependencies you're excluding.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687294804,"creation_date":1687294804,"answer_id":76518354,"question_id":74775990,"body_markdown":"Exclusions in Maven dependencies are used to prevent certain transitive dependencies from being included in the project.  \r\nIt can help to prevent dependency conflicts, or classpath issues.\r\n\r\nHowever, using wildcards to exclude all transitive dependencies, as shown in the original POM file:\r\n\r\n```xml\r\n&lt;exclusions&gt;\r\n    &lt;exclusion&gt;\r\n        &lt;groupId&gt;*&lt;/groupId&gt;\r\n        &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n&lt;/exclusions&gt;\r\n```\r\n\r\nis generally not recommended, as it can lead to unexpected issues such as missing classes and compatibility problems, and would explain the `NoClassDefFoundError` you are encountering (`java.lang.NoClassDefFoundError: org/powermock/tests/utils/ArrayMerger`).\r\n\r\nWhen using exclusions, it is best to be explicit and selective about which dependencies you are excluding, and to understand why you are excluding them. If you are not sure why an exclusion is needed, it is usually best to not include it, especially for testing libraries like PowerMock, which often have necessary transitive dependencies.\r\n\r\nConsider also using the [latest version (2.0.9) of powermock](https://github.com/powermock/powermock/releases) (2019), instead of 1.4.11 (pre-2017).\r\n\r\nFinally, in your test class, you are using `@PrepareForTest({ Product.class })`. However, you are trying to mock the creation of a new `Date` object. You need to prepare the class that calls the `new Date()` constructor. This should be the class containing the code you are testing, not necessarily `Product.class`.\r\n\r\nYour test class and POM file, with some of these suggestions, would look like:\r\n\r\n**Test Class:**\r\n```java\r\nimport static org.powermock.api.mockito.PowerMockito.whenNew;\r\nimport static org.mockito.BDDMockito.given;\r\n\r\nimport org.junit.runner.RunWith;\r\nimport org.powermock.core.classloader.annotations.PrepareForTest;\r\nimport org.powermock.modules.junit4.PowerMockRunner;\r\n\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest({ ClassContainingNewDateCall.class }) // Replace with the class that calls new Date()\r\npublic class ProductTest {\r\n    // ... rest of your code\r\n}\r\n```\r\n\r\n**POM:**\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.9&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n    &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.9&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nYou will need to replace `ClassContainingNewDateCall.class` with the actual class that calls the `new Date()` constructor in your code.  \r\n","title":"Java PowerMock: Mock NewDate whenNew, ava.lang.NoClassDefFoundError: org/powermock/tests/utils/ArrayMerger","body":"<p>Exclusions in Maven dependencies are used to prevent certain transitive dependencies from being included in the project.<br />\nIt can help to prevent dependency conflicts, or classpath issues.</p>\n<p>However, using wildcards to exclude all transitive dependencies, as shown in the original POM file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;*&lt;/groupId&gt;\n        &lt;artifactId&gt;*&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n</code></pre>\n<p>is generally not recommended, as it can lead to unexpected issues such as missing classes and compatibility problems, and would explain the <code>NoClassDefFoundError</code> you are encountering (<code>java.lang.NoClassDefFoundError: org/powermock/tests/utils/ArrayMerger</code>).</p>\n<p>When using exclusions, it is best to be explicit and selective about which dependencies you are excluding, and to understand why you are excluding them. If you are not sure why an exclusion is needed, it is usually best to not include it, especially for testing libraries like PowerMock, which often have necessary transitive dependencies.</p>\n<p>Consider also using the <a href=\"https://github.com/powermock/powermock/releases\" rel=\"nofollow noreferrer\">latest version (2.0.9) of powermock</a> (2019), instead of 1.4.11 (pre-2017).</p>\n<p>Finally, in your test class, you are using <code>@PrepareForTest({ Product.class })</code>. However, you are trying to mock the creation of a new <code>Date</code> object. You need to prepare the class that calls the <code>new Date()</code> constructor. This should be the class containing the code you are testing, not necessarily <code>Product.class</code>.</p>\n<p>Your test class and POM file, with some of these suggestions, would look like:</p>\n<p><strong>Test Class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.powermock.api.mockito.PowerMockito.whenNew;\nimport static org.mockito.BDDMockito.given;\n\nimport org.junit.runner.RunWith;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({ ClassContainingNewDateCall.class }) // Replace with the class that calls new Date()\npublic class ProductTest {\n    // ... rest of your code\n}\n</code></pre>\n<p><strong>POM:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n    &lt;version&gt;2.0.9&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n    &lt;version&gt;2.0.9&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You will need to replace <code>ClassContainingNewDateCall.class</code> with the actual class that calls the <code>new Date()</code> constructor in your code.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76518354,"answer_count":2,"score":1,"last_activity_date":1687294804,"creation_date":1670871269,"question_id":74775990,"body_markdown":"I am getting 3 errors below when trying to mock New Date, using `PrepareForTest`.  How can I fix this? \r\n\r\nReference: https://stackoverflow.com/a/30415404/15435022\r\n\r\n&gt;  java.lang.NoClassDefFoundError: org/powermock/tests/utils/ArrayMerger\r\nat org.powermock.api.mockito.PowerMockito.whenNew(PowerMockito.java:506)\r\n\r\n\r\n**Code below.**\r\n\r\n    import static org.powermock.api.mockito.PowerMockito.whenNew;\r\n    import static org.mockito.BDDMockito.given;\r\n    \r\n    @PrepareForTest({ Product.class })\r\n    public class ProductTest {\r\n        ....\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.set(2022, 5, 2, 1, 1, 1);\r\n        Date currentDate =  calendar.getTime();\r\n        whenNew(Date.class).withNoArguments().thenReturn(currentDate);\r\n\r\n**POM:**\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-module-junit4-rule&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.11&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;*&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.11&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;*&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-support&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.11&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;*&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;","title":"Java PowerMock: Mock NewDate whenNew, ava.lang.NoClassDefFoundError: org/powermock/tests/utils/ArrayMerger","body":"<p>I am getting 3 errors below when trying to mock New Date, using <code>PrepareForTest</code>.  How can I fix this?</p>\n<p>Reference: <a href=\"https://stackoverflow.com/a/30415404/15435022\">https://stackoverflow.com/a/30415404/15435022</a></p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: org/powermock/tests/utils/ArrayMerger\nat org.powermock.api.mockito.PowerMockito.whenNew(PowerMockito.java:506)</p>\n</blockquote>\n<p><strong>Code below.</strong></p>\n<pre><code>import static org.powermock.api.mockito.PowerMockito.whenNew;\nimport static org.mockito.BDDMockito.given;\n\n@PrepareForTest({ Product.class })\npublic class ProductTest {\n    ....\n    Calendar calendar = Calendar.getInstance();\n    calendar.set(2022, 5, 2, 1, 1, 1);\n    Date currentDate =  calendar.getTime();\n    whenNew(Date.class).withNoArguments().thenReturn(currentDate);\n</code></pre>\n<p><strong>POM:</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-module-junit4-rule&lt;/artifactId&gt;\n        &lt;version&gt;1.4.11&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;*&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n        &lt;version&gt;1.4.11&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;*&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-support&lt;/artifactId&gt;\n        &lt;version&gt;1.4.11&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;*&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":8020064,"reputation":91,"user_id":6048968,"display_name":"Sergey  Ch"},"score":1,"creation_date":1697101511,"post_id":76518351,"comment_id":136238180,"body_markdown":"We decided to use JDBC template to speed up inserts and support multiple values:\n\n`template.batchUpdate(INSERT_QUERY, records, records.size(),\n            (ps, record) -&gt; {\n                ps.setObject(1, record.getUuid().getUuid(), Types.OTHER);\n                ps.setString(2, record.getOtherParam());\n\t\t\t\t...\n            })`\n\nBut make sure you apply `reWriteBatchedInserts`.","body":"We decided to use JDBC template to speed up inserts and support multiple values:  <code>template.batchUpdate(INSERT_QUERY, records, records.size(),             (ps, record) -&gt; {                 ps.setObject(1, record.getUuid().getUuid(), Types.OTHER);                 ps.setString(2, record.getOtherParam()); \t\t\t\t...             })</code>  But make sure you apply <code>reWriteBatchedInserts</code>."}],"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687294770,"creation_date":1687294770,"question_id":76518351,"body_markdown":"I have an application written using spring data jpa.\r\nI need to save to the database only those customers who are not there yet. For this I want to use a native query\r\n```\r\n@Entity\r\n@Table(name = &quot;Customers&quot;)\r\npublic class Customer {\r\n\r\n  @Id\r\n  private String customerId;\r\n  private String firstName;\r\n  private String lastName;\r\n\r\n//constructors, getters, setters\r\n}\r\n\r\npublic interface CustomerRepository extends CrudRepository&lt;Customer, String&gt; {\r\n    @Modifying\r\n    @Query(value = &quot;INSERT into Customers (customerId, firstName, lastName)&quot; +\r\n            &quot;values (:customerId, :firstName, :lastName)&quot; +\r\n            &quot;ON CONFLICT (customerId) DO NOTHING&quot;, nativeQuery = true)\r\n    void insert(@Param(&quot;customerId&quot;) String customerId, @Param(&quot;firstName&quot;)String firstName, @Param(&quot;lastName&quot;) String lastName);\r\n}\r\n```\r\n. But now this implementation is slow - it takes almost a second for 50 records, although the parameters are enabled:\r\n```\r\nspring.jpa.properties.hibernate.jdbc.batch_size=50\r\nspring.jpa.properties.hibernate.order_updates = true\r\nspring.jpa.properties.hibernate.order_inserts=true\r\n\r\n```\r\n\r\nIs it possible to somehow rewrite the query to pass a list to it?\r\nSomehow so:\r\n```\r\n    @Modifying\r\n    @Query(value = &quot;INSERT into Customers (customerId, firstName, lastName)&quot; +\r\n            &quot;values (:customerId, :firstName, :lastName)&quot; +\r\n            &quot;ON CONFLICT (customerId) DO NOTHING&quot;, nativeQuery = true)\r\n    void batchInsertCustomer(List&lt;Customer&gt; customers);\r\n```\r\nPerhaps there is another way to save only those records that do not exist?\r\nPerhaps there are other ways to speed up insert?\r\nMy key `customerId` is always full.","title":"How to insert batches using native queries","body":"<p>I have an application written using spring data jpa.\nI need to save to the database only those customers who are not there yet. For this I want to use a native query</p>\n<pre><code>@Entity\n@Table(name = &quot;Customers&quot;)\npublic class Customer {\n\n  @Id\n  private String customerId;\n  private String firstName;\n  private String lastName;\n\n//constructors, getters, setters\n}\n\npublic interface CustomerRepository extends CrudRepository&lt;Customer, String&gt; {\n    @Modifying\n    @Query(value = &quot;INSERT into Customers (customerId, firstName, lastName)&quot; +\n            &quot;values (:customerId, :firstName, :lastName)&quot; +\n            &quot;ON CONFLICT (customerId) DO NOTHING&quot;, nativeQuery = true)\n    void insert(@Param(&quot;customerId&quot;) String customerId, @Param(&quot;firstName&quot;)String firstName, @Param(&quot;lastName&quot;) String lastName);\n}\n</code></pre>\n<p>. But now this implementation is slow - it takes almost a second for 50 records, although the parameters are enabled:</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.batch_size=50\nspring.jpa.properties.hibernate.order_updates = true\nspring.jpa.properties.hibernate.order_inserts=true\n\n</code></pre>\n<p>Is it possible to somehow rewrite the query to pass a list to it?\nSomehow so:</p>\n<pre><code>    @Modifying\n    @Query(value = &quot;INSERT into Customers (customerId, firstName, lastName)&quot; +\n            &quot;values (:customerId, :firstName, :lastName)&quot; +\n            &quot;ON CONFLICT (customerId) DO NOTHING&quot;, nativeQuery = true)\n    void batchInsertCustomer(List&lt;Customer&gt; customers);\n</code></pre>\n<p>Perhaps there is another way to save only those records that do not exist?\nPerhaps there are other ways to speed up insert?\nMy key <code>customerId</code> is always full.</p>\n"},{"tags":["java","maven","junit","h2","spring-test"],"comments":[{"owner":{"account_id":3245813,"reputation":123,"user_id":2737436,"accept_rate":100,"display_name":"itsme.cvk"},"score":0,"creation_date":1505775714,"post_id":42679319,"comment_id":79541710,"body_markdown":"I think it should be because of the Maven goals. Have you tried mvn clean install test?\nI had a similar issue using powermock and it was due to the maven goals.","body":"I think it should be because of the Maven goals. Have you tried mvn clean install test? I had a similar issue using powermock and it was due to the maven goals."},{"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"score":0,"creation_date":1505806622,"post_id":42679319,"comment_id":79551630,"body_markdown":"@itsme.cvk nope, as you can see in my own accepted answer, the problem had nothing to do with that :)","body":"@itsme.cvk nope, as you can see in my own accepted answer, the problem had nothing to do with that :)"}],"answers":[{"comments":[{"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"score":0,"creation_date":1489050445,"post_id":42690528,"comment_id":72504604,"body_markdown":"No, there are no other database configuration parameters.","body":"No, there are no other database configuration parameters."}],"tags":[],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489048971,"creation_date":1489048971,"answer_id":42690528,"question_id":42679319,"body_markdown":"It seems the underlying problem is the table cannot be found:\r\n\r\n    Caused by: org.h2.jdbc.JdbcSQLException: Table &quot;EngineConfigs&quot; not found; SQL statement:\r\n\r\nMaybe when you run your test in Maven your database configuration parameters (URL and so on) are not the same than the specified in your code (`jdbc:h2:mem:./ScenarioService;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1` etc).\r\n\r\nI would try to find out if some `application.properties` files (e.g. located on `src\\test\\resources`) is overriding these parameters in the Maven execution.","title":"Tests fail when executed from maven but not from Intellij","body":"<p>It seems the underlying problem is the table cannot be found:</p>\n\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLException: Table \"EngineConfigs\" not found; SQL statement:\n</code></pre>\n\n<p>Maybe when you run your test in Maven your database configuration parameters (URL and so on) are not the same than the specified in your code (<code>jdbc:h2:mem:./ScenarioService;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1</code> etc).</p>\n\n<p>I would try to find out if some <code>application.properties</code> files (e.g. located on <code>src\\test\\resources</code>) is overriding these parameters in the Maven execution.</p>\n"},{"comments":[{"owner":{"account_id":3608976,"reputation":413,"user_id":3010484,"display_name":"hipokito"},"score":8,"creation_date":1520932323,"post_id":42764301,"comment_id":85507645,"body_markdown":"I have a multi-module project and one of my jars in .m2 was outdated. I rerun &quot;mvn clean install -DskipTests&quot; for the whole project and then &quot;mvn clean test&quot; and tests passed this time.","body":"I have a multi-module project and one of my jars in .m2 was outdated. I rerun &quot;mvn clean install -DskipTests&quot; for the whole project and then &quot;mvn clean test&quot; and tests passed this time."}],"tags":[],"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1489409992,"creation_date":1489409992,"answer_id":42764301,"question_id":42679319,"body_markdown":"The problem was with a library I was using. Since I had the library project loaded into IntelliJ, when I ran the tests manually, the library code was being used. But Maven used the library from the .m2 repository, which didn&#39;t have the .jar up to date. This out of date jar had something that was causing the creation of the table EngineConfigs to fail.\r\nIn case anyone is facing the same problem, a useful trick is to remove the &quot;:mem&quot; from the database connection URL and inspect the *.trace.db file that is generated when running the tests. That trace file will give you information about the real underlying issue.","title":"Tests fail when executed from maven but not from Intellij","body":"<p>The problem was with a library I was using. Since I had the library project loaded into IntelliJ, when I ran the tests manually, the library code was being used. But Maven used the library from the .m2 repository, which didn't have the .jar up to date. This out of date jar had something that was causing the creation of the table EngineConfigs to fail.\nIn case anyone is facing the same problem, a useful trick is to remove the \":mem\" from the database connection URL and inspect the *.trace.db file that is generated when running the tests. That trace file will give you information about the real underlying issue.</p>\n"},{"tags":[],"owner":{"account_id":1413644,"reputation":432,"user_id":1339755,"display_name":"Barry"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1611076266,"creation_date":1611076266,"answer_id":65796249,"question_id":42679319,"body_markdown":"FWIW, something else to look at is the Java version used as the &quot;Project SDK&quot; in Intellij vs the Java version you are using in the CLI/shell.  For me the project was using 1.8, the shell was using 14.  Everything was fine running install from the Maven plugin, but some tests were failing in the shell.  I pointed JAVA_HOME to JDK 8 and the tests all passed.\r\n","title":"Tests fail when executed from maven but not from Intellij","body":"<p>FWIW, something else to look at is the Java version used as the &quot;Project SDK&quot; in Intellij vs the Java version you are using in the CLI/shell.  For me the project was using 1.8, the shell was using 14.  Everything was fine running install from the Maven plugin, but some tests were failing in the shell.  I pointed JAVA_HOME to JDK 8 and the tests all passed.</p>\n"},{"comments":[{"owner":{"account_id":2884484,"reputation":708,"user_id":2474688,"accept_rate":38,"display_name":"jsmtslch"},"score":0,"creation_date":1675450550,"post_id":69215118,"comment_id":132939232,"body_markdown":"Thanks for the remote debugging blog reference. It was very helpful as I was having issue with test behaviour in IntelliJ and Maven CLI.","body":"Thanks for the remote debugging blog reference. It was very helpful as I was having issue with test behaviour in IntelliJ and Maven CLI."}],"tags":[],"owner":{"account_id":139814,"reputation":16854,"user_id":345648,"accept_rate":48,"display_name":"Alexander Taylor"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1631826134,"creation_date":1631826134,"answer_id":69215118,"question_id":42679319,"body_markdown":"In my case the problem was actually about running tests in parallel vs serially, but I thought it was a Maven/IntelliJ difference because in IntelliJ the interface made it easiest to debug one test at a time, and the mvn command made it easy to run all the tests at once. Once I used [remote debugging](https://www.jambit.com/en/latest-info/toilet-papers/remote-debugging-maven-surefire-tests/) of the test in Maven, it passed, so then I thought it was a &quot;debug&quot; vs &quot;run&quot; difference, and then I remembered I had turned on JUnit parallel test execution and had a race condition in my tests with Mockito.","title":"Tests fail when executed from maven but not from Intellij","body":"<p>In my case the problem was actually about running tests in parallel vs serially, but I thought it was a Maven/IntelliJ difference because in IntelliJ the interface made it easiest to debug one test at a time, and the mvn command made it easy to run all the tests at once. Once I used <a href=\"https://www.jambit.com/en/latest-info/toilet-papers/remote-debugging-maven-surefire-tests/\" rel=\"nofollow noreferrer\">remote debugging</a> of the test in Maven, it passed, so then I thought it was a &quot;debug&quot; vs &quot;run&quot; difference, and then I remembered I had turned on JUnit parallel test execution and had a race condition in my tests with Mockito.</p>\n"},{"tags":[],"owner":{"account_id":9901847,"reputation":79,"user_id":7331630,"display_name":"ryuik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638993002,"creation_date":1638993002,"answer_id":70280928,"question_id":42679319,"body_markdown":"I was having the same issue, found Intellij has some jars which are not part of .m2. Going through the error logs on maven, able to detect the mismatch\r\n\r\nI override the IntelliJ config to use .m2 as a local repository\r\n\r\nPreferences -&gt;Build Tools -&gt;Maven","title":"Tests fail when executed from maven but not from Intellij","body":"<p>I was having the same issue, found Intellij has some jars which are not part of .m2. Going through the error logs on maven, able to detect the mismatch</p>\n<p>I override the IntelliJ config to use .m2 as a local repository</p>\n<p>Preferences -&gt;Build Tools -&gt;Maven</p>\n"},{"tags":[],"owner":{"account_id":4680959,"reputation":4579,"user_id":3789686,"accept_rate":80,"display_name":"Gopal Singh Sirvi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654179034,"creation_date":1654179034,"answer_id":72477654,"question_id":42679319,"body_markdown":"I was having the same problem. In my case it was because of `maven-surefire-plugin` **2.22.2**. \r\n\r\nI solved it by using forks in maven surefire plugin using the following configuration in `pom.xml`\r\n\r\n**Note** We can also use `&lt;forkMode&gt;always&lt;/forkMode&gt;` but it is deprecated and test runs too slow as all runs in a series.\r\n\r\n        \r\n\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;forkCount&gt;3&lt;/forkCount&gt;\r\n                    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"Tests fail when executed from maven but not from Intellij","body":"<p>I was having the same problem. In my case it was because of <code>maven-surefire-plugin</code> <strong>2.22.2</strong>.</p>\n<p>I solved it by using forks in maven surefire plugin using the following configuration in <code>pom.xml</code></p>\n<p><strong>Note</strong> We can also use <code>&lt;forkMode&gt;always&lt;/forkMode&gt;</code> but it is deprecated and test runs too slow as all runs in a series.</p>\n<pre><code>         &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;forkCount&gt;3&lt;/forkCount&gt;\n                &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27084209,"reputation":11,"user_id":20632962,"display_name":"Guillermo Fern&#225;ndez Raboso"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669722880,"creation_date":1669722880,"answer_id":74613703,"question_id":42679319,"body_markdown":"I tried every option previously written, but in my case the problem was that the order of the tests was different, so when the IDE executed everything was right, and when Maven were doing it some deletions being tested were before some other tests that needed that deleted information.\r\n\r\nConcretely, for my Spring Boot project in which I create an H2 DB for integrations tests via scripting, the solution was to clean and re-create the whole app context after every test class. Adding @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS) on top would do the trick.","title":"Tests fail when executed from maven but not from Intellij","body":"<p>I tried every option previously written, but in my case the problem was that the order of the tests was different, so when the IDE executed everything was right, and when Maven were doing it some deletions being tested were before some other tests that needed that deleted information.</p>\n<p>Concretely, for my Spring Boot project in which I create an H2 DB for integrations tests via scripting, the solution was to clean and re-create the whole app context after every test class. Adding @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS) on top would do the trick.</p>\n"},{"tags":[],"owner":{"account_id":7134495,"reputation":26,"user_id":5454656,"display_name":"June"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670832534,"creation_date":1670832534,"answer_id":74768213,"question_id":42679319,"body_markdown":"My problem is the that I missed *maven-surefire-plugin* in my pom. By adding *maven-surefire-plugin* in build-&gt;plugins-&gt;plugin solved the problem.","title":"Tests fail when executed from maven but not from Intellij","body":"<p>My problem is the that I missed <em>maven-surefire-plugin</em> in my pom. By adding <em>maven-surefire-plugin</em> in build-&gt;plugins-&gt;plugin solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687294610,"creation_date":1687294126,"answer_id":76518303,"question_id":42679319,"body_markdown":"I faced the same problem and like others mentioned the issue was with the library/dependency. The version used by Intellij and Maven was not the same.\r\n\r\nIn my case:-\r\nI have parent pom with Jackson dependency version 2.15.2. \r\nIn child pom the Jackson dependency was there but no version was mentioned so 2.13.5 is being used in that case by Intellij but not by maven.\r\n\r\nSo the fix is to either remove the imports from child pom.xml or explicitly mention the version in child pom as well.","title":"Tests fail when executed from maven but not from Intellij","body":"<p>I faced the same problem and like others mentioned the issue was with the library/dependency. The version used by Intellij and Maven was not the same.</p>\n<p>In my case:-\nI have parent pom with Jackson dependency version 2.15.2.\nIn child pom the Jackson dependency was there but no version was mentioned so 2.13.5 is being used in that case by Intellij but not by maven.</p>\n<p>So the fix is to either remove the imports from child pom.xml or explicitly mention the version in child pom as well.</p>\n"}],"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31259,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":42764301,"answer_count":9,"score":28,"last_activity_date":1687294610,"creation_date":1488998276,"question_id":42679319,"body_markdown":"I&#39;m writing my unit tests using JUnit, PowerMock, Spring Test and an in-memory H2 database. When I run the tests from Intellij everything runs correctly. But when I run the tests from maven (either from Intellij or from the command line) they fail. \r\n\r\nThis is my config:\r\n\r\n       @EnableTransactionManagement\r\n       @EnableJpaRepositories(&quot;my.app.repository&quot;)\r\n       public class ApplicationTestConfiguration {\r\n          @Bean\r\n          public SimpleDriverDataSource dataSource() {\r\n             SimpleDriverDataSource simpleDriverDataSource = new SimpleDriverDataSource();\r\n             simpleDriverDataSource.setDriverClass(org.h2.Driver.class);\r\n             simpleDriverDataSource.setUrl(&quot;jdbc:h2:mem:./ScenarioService;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1&quot;);\r\n             simpleDriverDataSource.setUsername(&quot;sa&quot;);\r\n             simpleDriverDataSource.setPassword(&quot;sa&quot;);\r\n             return simpleDriverDataSource;\r\n          }\r\n          (...)\r\n          private Properties hibernateProperties() {\r\n             Properties props = new Properties();\r\n             props.setProperty(&quot;hibernate.dialect&quot;,&quot;org.hibernate.dialect.H2Dialect&quot;);\r\n             props.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot;);\r\n             props.setProperty(&quot;hibernate.show_sql&quot;,&quot;true&quot;);\r\n             return props;\r\n          }\r\n       }\r\n\r\nThis is a sample test:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PowerMockRunnerDelegate(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = {WebAppInitializer.class,ApplicationTestConfiguration.class, DirtiesContextTestExecutionListener.class})\r\n    @FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\n    public final class ReadTicketsTest {\r\n    \r\n        @Autowired //this is a spring JPARepository\r\n        protected TestRepository testRepository;\r\n\r\n        @Before\r\n        public void init() {\r\n             testRepository.save(engineConfig);\r\n        }\r\n\r\n        @Test\r\n        public void ticketShouldBeRead() {\r\n            //assertion code\r\n        }\r\n    }\r\n\r\nWhen I run the tests from intelliJ and they succeed, in the hibernate logs I see something like this:\r\n\r\n    Hibernate: drop table EngineConfigs if exists\r\n    Hibernate: create table EngineConfigs (id binary(16) not null, created datetime(6) DEFAULT NULL, customData MEDIUMTEXT, customerId binary(16) not null, signature varchar(255), signatureVersion integer, updated datetime(6) DEFAULT NULL, advancedConfiguration TEXT, engineConfigName varchar(255) not null, engineServiceName varchar(255) not null, locked boolean, probabilityMaximum integer not null, primary key (id))\r\n    Hibernate: select engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=?\r\n    Hibernate: insert into EngineConfigs (created, customData, customerId, signature, signatureVersion, updated, advancedConfiguration, engineConfigName, engineServiceName, locked, probabilityMaximum, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    Hibernate: drop table EngineConfigs if exists\r\n\r\nWhich makes sense, because it is expected that it will create the database, execute the tests (hence the insert) and then drop all tables due to the @DirtiesContextAnnotation.\r\nBut when I run the tests from maven, in the hibernate logs I see something like this:\r\n\r\n    Hibernate: drop table EngineConfigs if exists\r\n    Hibernate: create table EngineConfigs (id binary(16) not null, created datetime(6) DEFAULT NULL, customData MEDIUMTEXT, customerId binary(16) not null, signature varchar(255), signatureVersion integer, updated datetime(6) DEFAULT NULL, advancedConfiguration TEXT, engineConfigName varchar(255) not null, engineServiceName varchar(255) not null, locked boolean, probabilityMaximum integer not null, primary key (id))\r\n    Hibernate: select engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=?\r\n    Hibernate: drop table EngineConfigs if exists\r\n\r\nFollowed by the actual error:\r\n\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=?]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:172)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:155)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodIntercceptor.invoke(CrudMethodMetadataPostProcessor.java:122)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n\tat com.sun.proxy.$Proxy64.save(Unknown Source)\r\n\tat com.twelve40.gameengine.scenario.ScenarioServiceTest.init(ScenarioServiceTest.java:138)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:73)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:82)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:73)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:224)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163)\r\n\tat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner$2.call(DelegatingPowerMockRunner.java:148)\r\n\tat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner$2.call(DelegatingPowerMockRunner.java:140)\r\n\tat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner.withContextClassLoader(DelegatingPowerMockRunner.java:131)\r\n\tat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner.run(DelegatingPowerMockRunner.java:140)\r\n\tat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:121)\r\n\tat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\r\n\tat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\r\n\tat org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\r\n\tat org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\r\n    Caused by: org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:196)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:160)\r\n\tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1885)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1862)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:910)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:325)\r\n\tat org.hibernate.loader.Loader.loadEntity(Loader.java:2149)\r\n\tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:78)\r\n\tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:68)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\r\n\tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\r\n\tat org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\r\n\tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\r\n\tat org.hibernate.internal.SessionImpl.get(SessionImpl.java:960)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:306)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:186)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:85)\r\n\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:876)\r\n\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:858)\r\n\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:863)\r\n\tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.merge(AbstractEntityManagerImpl.java:1196)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:291)\r\n\tat com.sun.proxy.$Proxy58.merge(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:434)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:414)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:399)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:371)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\r\n\t... 50 more\r\n    Caused by: org.h2.jdbc.JdbcSQLException: Table &quot;EngineConfigs&quot; not found; SQL statement:\r\n    select engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=? [42102-193]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:345)\r\n\tat org.h2.message.DbException.get(DbException.java:179)\r\n\tat org.h2.message.DbException.get(DbException.java:155)\r\n\tat org.h2.command.Parser.readTableOrView(Parser.java:5389)\r\n\tat org.h2.command.Parser.readTableFilter(Parser.java:1257)\r\n\tat org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:1897)\r\n\tat org.h2.command.Parser.parseSelectSimple(Parser.java:2045)\r\n\tat org.h2.command.Parser.parseSelectSub(Parser.java:1891)\r\n\tat org.h2.command.Parser.parseSelectUnion(Parser.java:1709)\r\n\tat org.h2.command.Parser.parseSelect(Parser.java:1697)\r\n\tat org.h2.command.Parser.parsePrepared(Parser.java:445)\r\n\tat org.h2.command.Parser.parse(Parser.java:317)\r\n\tat org.h2.command.Parser.parse(Parser.java:289)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:254)\r\n\tat org.h2.engine.Session.prepareLocal(Session.java:561)\r\n\tat org.h2.engine.Session.prepareCommand(Session.java:502)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1203)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:73)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:287)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:162)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\r\n\t... 99 more\r\n\r\nThis error is the exact same one that happens if I remove the parameter ;DB_CLOSE_DELAY=-1 from the connection URL and I run the tests from IntelliJ. But with the parameter, the tests work from IntelliJ but not from maven! I don&#39;t know what could be causing this, AFAIK maven shouldn&#39;t affect the execution of the tests. It seems like the connection to the database is being closed before executing the tests. Help!","title":"Tests fail when executed from maven but not from Intellij","body":"<p>I'm writing my unit tests using JUnit, PowerMock, Spring Test and an in-memory H2 database. When I run the tests from Intellij everything runs correctly. But when I run the tests from maven (either from Intellij or from the command line) they fail. </p>\n\n<p>This is my config:</p>\n\n<pre><code>   @EnableTransactionManagement\n   @EnableJpaRepositories(\"my.app.repository\")\n   public class ApplicationTestConfiguration {\n      @Bean\n      public SimpleDriverDataSource dataSource() {\n         SimpleDriverDataSource simpleDriverDataSource = new SimpleDriverDataSource();\n         simpleDriverDataSource.setDriverClass(org.h2.Driver.class);\n         simpleDriverDataSource.setUrl(\"jdbc:h2:mem:./ScenarioService;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1\");\n         simpleDriverDataSource.setUsername(\"sa\");\n         simpleDriverDataSource.setPassword(\"sa\");\n         return simpleDriverDataSource;\n      }\n      (...)\n      private Properties hibernateProperties() {\n         Properties props = new Properties();\n         props.setProperty(\"hibernate.dialect\",\"org.hibernate.dialect.H2Dialect\");\n         props.setProperty(\"hibernate.hbm2ddl.auto\", \"create-drop\");\n         props.setProperty(\"hibernate.show_sql\",\"true\");\n         return props;\n      }\n   }\n</code></pre>\n\n<p>This is a sample test:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PowerMockRunnerDelegate(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {WebAppInitializer.class,ApplicationTestConfiguration.class, DirtiesContextTestExecutionListener.class})\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\npublic final class ReadTicketsTest {\n\n    @Autowired //this is a spring JPARepository\n    protected TestRepository testRepository;\n\n    @Before\n    public void init() {\n         testRepository.save(engineConfig);\n    }\n\n    @Test\n    public void ticketShouldBeRead() {\n        //assertion code\n    }\n}\n</code></pre>\n\n<p>When I run the tests from intelliJ and they succeed, in the hibernate logs I see something like this:</p>\n\n<pre><code>Hibernate: drop table EngineConfigs if exists\nHibernate: create table EngineConfigs (id binary(16) not null, created datetime(6) DEFAULT NULL, customData MEDIUMTEXT, customerId binary(16) not null, signature varchar(255), signatureVersion integer, updated datetime(6) DEFAULT NULL, advancedConfiguration TEXT, engineConfigName varchar(255) not null, engineServiceName varchar(255) not null, locked boolean, probabilityMaximum integer not null, primary key (id))\nHibernate: select engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=?\nHibernate: insert into EngineConfigs (created, customData, customerId, signature, signatureVersion, updated, advancedConfiguration, engineConfigName, engineServiceName, locked, probabilityMaximum, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\nHibernate: drop table EngineConfigs if exists\n</code></pre>\n\n<p>Which makes sense, because it is expected that it will create the database, execute the tests (hence the insert) and then drop all tables due to the @DirtiesContextAnnotation.\nBut when I run the tests from maven, in the hibernate logs I see something like this:</p>\n\n<pre><code>Hibernate: drop table EngineConfigs if exists\nHibernate: create table EngineConfigs (id binary(16) not null, created datetime(6) DEFAULT NULL, customData MEDIUMTEXT, customerId binary(16) not null, signature varchar(255), signatureVersion integer, updated datetime(6) DEFAULT NULL, advancedConfiguration TEXT, engineConfigName varchar(255) not null, engineServiceName varchar(255) not null, locked boolean, probabilityMaximum integer not null, primary key (id))\nHibernate: select engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=?\nHibernate: drop table EngineConfigs if exists\n</code></pre>\n\n<p>Followed by the actual error:</p>\n\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=?]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:172)\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:155)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417)\nat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\nat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodIntercceptor.invoke(CrudMethodMetadataPostProcessor.java:122)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\nat com.sun.proxy.$Proxy64.save(Unknown Source)\nat com.twelve40.gameengine.scenario.ScenarioServiceTest.init(ScenarioServiceTest.java:138)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\nat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:73)\nat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:82)\nat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:73)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:224)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner$2.call(DelegatingPowerMockRunner.java:148)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner$2.call(DelegatingPowerMockRunner.java:140)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner.withContextClassLoader(DelegatingPowerMockRunner.java:131)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner.run(DelegatingPowerMockRunner.java:140)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:121)\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\nat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\nat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\nat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\nat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\nat org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\nat org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\nat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\nat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement\nat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\nat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\nat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:196)\nat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:160)\nat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1885)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1862)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839)\nat org.hibernate.loader.Loader.doQuery(Loader.java:910)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:325)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:2149)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:78)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:68)\nat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\nat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\nat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\nat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\nat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\nat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\nat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\nat org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\nat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\nat org.hibernate.internal.SessionImpl.get(SessionImpl.java:960)\nat org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:306)\nat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:186)\nat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:85)\nat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:876)\nat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:858)\nat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:863)\nat org.hibernate.jpa.spi.AbstractEntityManagerImpl.merge(AbstractEntityManagerImpl.java:1196)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:291)\nat com.sun.proxy.$Proxy58.merge(Unknown Source)\nat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:434)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:414)\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:399)\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:371)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n... 50 more\nCaused by: org.h2.jdbc.JdbcSQLException: Table \"EngineConfigs\" not found; SQL statement:\nselect engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=? [42102-193]\nat org.h2.message.DbException.getJdbcSQLException(DbException.java:345)\nat org.h2.message.DbException.get(DbException.java:179)\nat org.h2.message.DbException.get(DbException.java:155)\nat org.h2.command.Parser.readTableOrView(Parser.java:5389)\nat org.h2.command.Parser.readTableFilter(Parser.java:1257)\nat org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:1897)\nat org.h2.command.Parser.parseSelectSimple(Parser.java:2045)\nat org.h2.command.Parser.parseSelectSub(Parser.java:1891)\nat org.h2.command.Parser.parseSelectUnion(Parser.java:1709)\nat org.h2.command.Parser.parseSelect(Parser.java:1697)\nat org.h2.command.Parser.parsePrepared(Parser.java:445)\nat org.h2.command.Parser.parse(Parser.java:317)\nat org.h2.command.Parser.parse(Parser.java:289)\nat org.h2.command.Parser.prepareCommand(Parser.java:254)\nat org.h2.engine.Session.prepareLocal(Session.java:561)\nat org.h2.engine.Session.prepareCommand(Session.java:502)\nat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1203)\nat org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:73)\nat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:287)\nat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:162)\nat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\n... 99 more\n</code></pre>\n\n<p>This error is the exact same one that happens if I remove the parameter ;DB_CLOSE_DELAY=-1 from the connection URL and I run the tests from IntelliJ. But with the parameter, the tests work from IntelliJ but not from maven! I don't know what could be causing this, AFAIK maven shouldn't affect the execution of the tests. It seems like the connection to the database is being closed before executing the tests. Help!</p>\n"},{"tags":["java","spring","spring-boot","spring-bean","spring-filter"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1686898977,"post_id":76487461,"comment_id":134864275,"body_markdown":"Can you change that 3rd party library? I don&#39;t get why they have both `@Bean` and `@Autowired` on that method.","body":"Can you change that 3rd party library? I don&#39;t get why they have both <code>@Bean</code> and <code>@Autowired</code> on that method."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1686899041,"post_id":76487461,"comment_id":134864286,"body_markdown":"No, unfortunately I cannot.","body":"No, unfortunately I cannot."},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1686899242,"post_id":76487461,"comment_id":134864313,"body_markdown":"Use any `@Conditional...` annotation. Example `@ConditionalOnProperty(prefix = &quot;enable&quot;, value = {&quot;myFilter&quot;}, havingValue = &quot;true&quot;, matchIfMissing = true`)` . And Bean won&#39;t create if you use this `enable.myFilter=false` in the property.","body":"Use any <code>@Conditional...</code> annotation. Example <code>@ConditionalOnProperty(prefix = &quot;enable&quot;, value = {&quot;myFilter&quot;}, havingValue = &quot;true&quot;, matchIfMissing = true</code>)` . And Bean won&#39;t create if you use this <code>enable.myFilter=false</code> in the property."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1686900009,"post_id":76487461,"comment_id":134864447,"body_markdown":"@Numichi how can I annotate this Bean that is declared in a third party library? I can&#39;t access the code.","body":"@Numichi how can I annotate this Bean that is declared in a third party library? I can&#39;t access the code."},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":2,"creation_date":1686900130,"post_id":76487461,"comment_id":134864469,"body_markdown":"Maybe remove the Bean manually from the context afterwards like explained here (https://stackoverflow.com/questions/6855811/how-can-i-remove-a-singleton-spring-bean-from-applicationcontext) . Although this definitely isn&#39;t the cleanest solution and feels very hacky","body":"Maybe remove the Bean manually from the context afterwards like explained here (<a href=\"https://stackoverflow.com/questions/6855811/how-can-i-remove-a-singleton-spring-bean-from-applicationcontext\" title=\"how can i remove a singleton spring bean from applicationcontext\">stackoverflow.com/questions/6855811/&hellip;</a>) . Although this definitely isn&#39;t the cleanest solution and feels very hacky"},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1686900571,"post_id":76487461,"comment_id":134864547,"body_markdown":"@berse2212 this could be a solution indeed (or simply create a Bean with a similar signature) together with a `@Primary` annotation, that would force Spring to choose it instead of the third party, but I was looking for a cleaner a solution. For starters, I couldn&#39;t understand why they would bring together `@Bean` and `@Autowired`.","body":"@berse2212 this could be a solution indeed (or simply create a Bean with a similar signature) together with a <code>@Primary</code> annotation, that would force Spring to choose it instead of the third party, but I was looking for a cleaner a solution. For starters, I couldn&#39;t understand why they would bring together <code>@Bean</code> and <code>@Autowired</code>."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686911073,"post_id":76487461,"comment_id":134866768,"body_markdown":"Is this part of an `@Configuration` class you import or is it part of some auto configuration?  Please provide some more information.","body":"Is this part of an <code>@Configuration</code> class you import or is it part of some auto configuration?  Please provide some more information."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1686911991,"post_id":76487461,"comment_id":134866946,"body_markdown":"This is part of a Configuration I import with `@Import(Configuration.class)`","body":"This is part of a Configuration I import with <code>@Import(Configuration.class)</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1686912472,"post_id":76487461,"comment_id":134867026,"body_markdown":"one approach: copy (don&#39;t/before import) all configuration except &quot;unwanted&quot; parts, another: override the bean (with a &quot;no-op-filter&quot; e.g.)","body":"one approach: copy (don&#39;t/before import) all configuration except &quot;unwanted&quot; parts, another: override the bean (with a &quot;no-op-filter&quot; e.g.)"},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":1,"creation_date":1687167981,"post_id":76487461,"comment_id":134894179,"body_markdown":"@xerx593 I managed to reach out to the creator of the external library and he suggested a solution akin to your first one. Can you add it as an answer so that I can mark it as accepted?","body":"@xerx593 I managed to reach out to the creator of the external library and he suggested a solution akin to your first one. Can you add it as an answer so that I can mark it as accepted?"}],"answers":[{"comments":[{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1687168067,"post_id":76490831,"comment_id":134894194,"body_markdown":"I don&#39;t think this is a solution as I cannot alter the source code of the third party library.","body":"I don&#39;t think this is a solution as I cannot alter the source code of the third party library."}],"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686923258,"creation_date":1686923258,"answer_id":76490831,"question_id":76487461,"body_markdown":"Spring Boot includes the `@Profile` annotation.\r\n\r\nMake the &quot;to be ignored&quot; classes with a specific @Profile and Spring Boot will ignore them when the identified profile is not active.\r\n\r\nFor example:\r\n```Java\r\n@Profile(&quot;BlammyProfile&quot;)\r\npublic class Blammy\r\n{\r\n  ...\r\n}\r\n```\r\n\r\nHere is a [Spring Profile Baeldung Article link][1]\r\n\r\n[1]:https://www.baeldung.com/spring-profiles","title":"Disable automatic autowiring of third party Bean","body":"<p>Spring Boot includes the <code>@Profile</code> annotation.</p>\n<p>Make the &quot;to be ignored&quot; classes with a specific @Profile and Spring Boot will ignore them when the identified profile is not active.</p>\n<p>For example:</p>\n<pre><code>@Profile(&quot;BlammyProfile&quot;)\npublic class Blammy\n{\n  ...\n}\n</code></pre>\n<p>Here is a <a href=\"https://www.baeldung.com/spring-profiles\" rel=\"nofollow noreferrer\">Spring Profile Baeldung Article link</a></p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687294460,"creation_date":1687293399,"answer_id":76518238,"question_id":76487461,"body_markdown":"We followed provider recommendation/decided for: \r\n### Appropriate and edit config\r\nMeans: Copy, paste and edit the original &quot;Configuration&quot; instead of/before importing/scanning it:\r\n```lang-java\r\n@Configuration\r\nclass MyConfig { \r\n  // copy, paste &amp; edit original (com.third.party) Configuration (omit unwanted parts/beans)\r\n} // &lt;- use this\r\n```\r\n\r\nOne alternative approach is:\r\n\r\n### Destroy Bean\r\n\r\nAs described by:\r\n\r\nhttps://stackoverflow.com/q/6855811/592355\r\n\r\n..., we only need to &quot;plug it&quot; (e.g.) simple like:\r\n```lang-java\r\n@Bean\r\nBeanFactoryAware myDestroy() {\r\n  return (beanFactory) -&gt; {\r\n    ((BeanDefinitionRegistry) beanFactory).removeBeanDefinition(&quot;filter&quot;); // bean name (+ type, see [javadoc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/support/BeanDefinitionRegistry.html))\r\n  };\r\n}\r\n``` \r\n\r\n..also possible:\r\n### Replace Bean\r\nHere we replace the Bean (by type and name), with an &quot;NO-OP&quot; bean:\r\n```lang-java\r\n@Primary @Bean\r\npublic Filter filter() { // same name &amp; type!\r\n    return new com.my.example.DoesNothingFilter(); // as name (and interface) implies\r\n}\r\n```\r\n\r\n...\r\n\r\n### Ideally\r\n\r\nProvider would make it `@ConditionalOnXXX`/bind it to `@Profile`! :)\r\n\r\n... (+any other alternatives)","title":"Disable automatic autowiring of third party Bean","body":"<p>We followed provider recommendation/decided for:</p>\n<h3>Appropriate and edit config</h3>\n<p>Means: Copy, paste and edit the original &quot;Configuration&quot; instead of/before importing/scanning it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\nclass MyConfig { \n  // copy, paste &amp; edit original (com.third.party) Configuration (omit unwanted parts/beans)\n} // &lt;- use this\n</code></pre>\n<p>One alternative approach is:</p>\n<h3>Destroy Bean</h3>\n<p>As described by:</p>\n<p><a href=\"https://stackoverflow.com/q/6855811/592355\">How can i remove a singleton spring bean from ApplicationContext?</a></p>\n<p>..., we only need to &quot;plug it&quot; (e.g.) simple like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nBeanFactoryAware myDestroy() {\n  return (beanFactory) -&gt; {\n    ((BeanDefinitionRegistry) beanFactory).removeBeanDefinition(&quot;filter&quot;); // bean name (+ type, see [javadoc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/support/BeanDefinitionRegistry.html))\n  };\n}\n</code></pre>\n<p>..also possible:</p>\n<h3>Replace Bean</h3>\n<p>Here we replace the Bean (by type and name), with an &quot;NO-OP&quot; bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Primary @Bean\npublic Filter filter() { // same name &amp; type!\n    return new com.my.example.DoesNothingFilter(); // as name (and interface) implies\n}\n</code></pre>\n<p>...</p>\n<h3>Ideally</h3>\n<p>Provider would make it <code>@ConditionalOnXXX</code>/bind it to <code>@Profile</code>! :)</p>\n<p>... (+any other alternatives)</p>\n"}],"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76518238,"answer_count":2,"score":0,"last_activity_date":1687294460,"creation_date":1686896814,"question_id":76487461,"body_markdown":"I am implementing a third party library that uses Spring, which is declaring a Filter in the following way:\r\n```\r\n@Bean\r\n@Autowired\r\npublic Filter filter() {\r\n    return new Filter();\r\n}\r\n```\r\nI load the configuration class to my application with a `@Import(Configuration.class)`. My Spring Boot application loads the Filter and seems to try to use it, but I don&#39;t want that. How can I make Spring ignore such Beans, i.e., simply don&#39;t load them (supposing the third party library can work without them)?\r\n","title":"Disable automatic autowiring of third party Bean","body":"<p>I am implementing a third party library that uses Spring, which is declaring a Filter in the following way:</p>\n<pre><code>@Bean\n@Autowired\npublic Filter filter() {\n    return new Filter();\n}\n</code></pre>\n<p>I load the configuration class to my application with a <code>@Import(Configuration.class)</code>. My Spring Boot application loads the Filter and seems to try to use it, but I don't want that. How can I make Spring ignore such Beans, i.e., simply don't load them (supposing the third party library can work without them)?</p>\n"},{"tags":["java","spring","spring-boot","classnotfoundexception","spring-jms"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1687288852,"post_id":76517707,"comment_id":134915068,"body_markdown":"Double-check the configuration of your `JAVA_HOME` and perhaps your `PATH` as well. The Maven and Gradle errors are both because you&#39;re running them on Java 11 and Spring Boot&#39;s build plugins require Java 17. You can double-check the version of Java that&#39;s being used by running `./mvnw -version` or `./gradlew -version`.","body":"Double-check the configuration of your <code>JAVA_HOME</code> and perhaps your <code>PATH</code> as well. The Maven and Gradle errors are both because you&#39;re running them on Java 11 and Spring Boot&#39;s build plugins require Java 17. You can double-check the version of Java that&#39;s being used by running <code>.&#47;mvnw -version</code> or <code>.&#47;gradlew -version</code>."},{"owner":{"account_id":18619541,"reputation":45,"user_id":13570092,"display_name":"Holland Park"},"score":0,"creation_date":1687290183,"post_id":76517707,"comment_id":134915278,"body_markdown":"Thank you! I was able to build after I checked and updated JAVA_HOME and PATH variables, however when i&#39;m running the application, I&#39;m getting the same error stack as I posted above from Eclipse.","body":"Thank you! I was able to build after I checked and updated JAVA_HOME and PATH variables, however when i&#39;m running the application, I&#39;m getting the same error stack as I posted above from Eclipse."}],"answers":[{"comments":[{"owner":{"account_id":18619541,"reputation":45,"user_id":13570092,"display_name":"Holland Park"},"score":0,"creation_date":1687294162,"post_id":76518200,"comment_id":134915864,"body_markdown":"Awesome! This worked and I was able to run it - thank you!","body":"Awesome! This worked and I was able to run it - thank you!"}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687293083,"creation_date":1687293083,"answer_id":76518200,"question_id":76517707,"body_markdown":"There are some problems in the guide that were introduced when it switched from Apache ActiveMQ to Apache Artemis. I&#39;ve opened [a pull request](https://github.com/spring-guides/gs-messaging-jms/pull/38) to correct them. You can make the same changes yourself and the guide should work. You need to:\r\n\r\n1. Add a dependency on `org.springframework.boot:spring-boot-starter-json`\r\n2. Add a dependency on `org.apache.activemq:artemis-jakarta-server`\r\n3. Create an `application.properties` file in `src/main/resources` that contains `spring.artemis.mode=embedded`\r\n\r\nWith these changes in place, the application should start and successfully send and receive a message.\r\n\r\n","title":"Messaging with JMS Spring tutorial not building [https://spring.io/guides/gs/messaging-jms/#scratch]","body":"<p>There are some problems in the guide that were introduced when it switched from Apache ActiveMQ to Apache Artemis. I've opened <a href=\"https://github.com/spring-guides/gs-messaging-jms/pull/38\" rel=\"nofollow noreferrer\">a pull request</a> to correct them. You can make the same changes yourself and the guide should work. You need to:</p>\n<ol>\n<li>Add a dependency on <code>org.springframework.boot:spring-boot-starter-json</code></li>\n<li>Add a dependency on <code>org.apache.activemq:artemis-jakarta-server</code></li>\n<li>Create an <code>application.properties</code> file in <code>src/main/resources</code> that contains <code>spring.artemis.mode=embedded</code></li>\n</ol>\n<p>With these changes in place, the application should start and successfully send and receive a message.</p>\n"}],"owner":{"account_id":18619541,"reputation":45,"user_id":13570092,"display_name":"Holland Park"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76518200,"answer_count":1,"score":0,"last_activity_date":1687293083,"creation_date":1687287516,"question_id":76517707,"body_markdown":"I pulled this repository https://github.com/spring-guides/gs-messaging-jms to my Windows PC and tried to build using both ./gradlew build and ./mvnw clean package. In both cases I&#39;m getting errors and the build fails. \r\n\r\nFor Maven build, the main build error is:\r\n\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project gs-messaging-jms-complete: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]\r\n```\r\n\r\nFor Gradle:\r\n\r\n```\r\nIncompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 11\r\n```\r\n\r\nMy Java version is currently java 17.0.6 2023-01-17 LTS. I also tried to change it to Java 11, but am getting the same issue.\r\n\r\nI also tried to import the project into Eclipse and was able to build with Java 17 JRE, but when I&#39;m trying to run it as a Java application, I&#39;m getting errors: \r\n\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-06-20T14:57:05.456-04:00 ERROR 21584 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;receiver&#39; defined in file [C:\\Users\\m321365\\Desktop\\OBPHM\\Development\\5.0\\RC2\\Code\\SpringJMS\\gs-messaging-jms\\complete\\target\\classes\\hello\\Receiver.class]: Error creating bean with name &#39;myFactory&#39; defined in hello.Application: Unsatisfied dependency expressed through method &#39;myFactory&#39; parameter 1: Error creating bean with name &#39;jmsListenerContainerFactoryConfigurer&#39; defined in class path resource [org/springframework/boot/autoconfigure/jms/JmsAnnotationDrivenConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method &#39;jmsListenerContainerFactoryConfigurer&#39; threw exception with message: Error creating bean with name &#39;jacksonJmsMessageConverter&#39; defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method &#39;jacksonJmsMessageConverter&#39; threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:605) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat hello.Application.main(Application.java:43) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myFactory&#39; defined in hello.Application: Unsatisfied dependency expressed through method &#39;myFactory&#39; parameter 1: Error creating bean with name &#39;jmsListenerContainerFactoryConfigurer&#39; defined in class path resource [org/springframework/boot/autoconfigure/jms/JmsAnnotationDrivenConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method &#39;jmsListenerContainerFactoryConfigurer&#39; threw exception with message: Error creating bean with name &#39;jacksonJmsMessageConverter&#39; defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method &#39;jacksonJmsMessageConverter&#39; threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.processJmsListener(JmsListenerAnnotationBeanPostProcessor.java:294) ~[spring-jms-6.0.9.jar:6.0.9]\r\n\tat org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.lambda$postProcessAfterInitialization$1(JmsListenerAnnotationBeanPostProcessor.java:248) ~[spring-jms-6.0.9.jar:6.0.9]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.lambda$postProcessAfterInitialization$2(JmsListenerAnnotationBeanPostProcessor.java:248) ~[spring-jms-6.0.9.jar:6.0.9]\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\r\n\tat org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.postProcessAfterInitialization(JmsListenerAnnotationBeanPostProcessor.java:247) ~[spring-jms-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:434) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 14 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jmsListenerContainerFactoryConfigurer&#39; defined in class path resource [org/springframework/boot/autoconfigure/jms/JmsAnnotationDrivenConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method &#39;jmsListenerContainerFactoryConfigurer&#39; threw exception with message: Error creating bean with name &#39;jacksonJmsMessageConverter&#39; defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method &#39;jacksonJmsMessageConverter&#39; threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 32 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method &#39;jmsListenerContainerFactoryConfigurer&#39; threw exception with message: Error creating bean with name &#39;jacksonJmsMessageConverter&#39; defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method &#39;jacksonJmsMessageConverter&#39; threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 46 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jacksonJmsMessageConverter&#39; defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method &#39;jacksonJmsMessageConverter&#39; threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2098) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.autoconfigure.jms.JmsAnnotationDrivenConfiguration.jmsListenerContainerFactoryConfigurer(JmsAnnotationDrivenConfiguration.java:74) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 47 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method &#39;jacksonJmsMessageConverter&#39; threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 65 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ObjectMapper\r\n\tat org.springframework.jms.support.converter.MappingJackson2MessageConverter.&lt;init&gt;(MappingJackson2MessageConverter.java:94) ~[spring-jms-6.0.9.jar:6.0.9]\r\n\tat hello.Application.jacksonJmsMessageConverter(Application.java:35) ~[classes/:na]\r\n\tat hello.Application$$SpringCGLIB$$0.CGLIB$jacksonJmsMessageConverter$1(&lt;generated&gt;) ~[classes/:na]\r\n\tat hello.Application$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat hello.Application$$SpringCGLIB$$0.jacksonJmsMessageConverter(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 66 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.ObjectMapper\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 78 common frames omitted\r\n```\r\n\r\nUPDATE: I was able to build the project with Maven after updating JAVA_HOME variable to Java 17. \r\n\r\nI am still getting the same errors when running the application. It looks like the error comes from this bean: \r\n\r\n    @Bean // Serialize message content to json using TextMessage\r\n    \tpublic MessageConverter jacksonJmsMessageConverter() {\r\n    \t\tMappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n    \t\tconverter.setTargetType(MessageType.TEXT);\r\n    \t\tconverter.setTypeIdPropertyName(&quot;_type&quot;);\r\n    \t\treturn converter;\r\n    \t}\r\n\r\nI can open MappingJackson2MessageConverter declaration in my IDE, but when I&#39;m putting a breakpoint there and run in debug mode, I&#39;m getting &quot;ClassNotFoundException&quot;. Why is it not finding this class? What did I miss? There are no errors in the project that I can see. \r\n\r\n","title":"Messaging with JMS Spring tutorial not building [https://spring.io/guides/gs/messaging-jms/#scratch]","body":"<p>I pulled this repository <a href=\"https://github.com/spring-guides/gs-messaging-jms\" rel=\"nofollow noreferrer\">https://github.com/spring-guides/gs-messaging-jms</a> to my Windows PC and tried to build using both ./gradlew build and ./mvnw clean package. In both cases I'm getting errors and the build fails.</p>\n<p>For Maven build, the main build error is:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project gs-messaging-jms-complete: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]\n</code></pre>\n<p>For Gradle:</p>\n<pre><code>Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 11\n</code></pre>\n<p>My Java version is currently java 17.0.6 2023-01-17 LTS. I also tried to change it to Java 11, but am getting the same issue.</p>\n<p>I also tried to import the project into Eclipse and was able to build with Java 17 JRE, but when I'm trying to run it as a Java application, I'm getting errors:</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-06-20T14:57:05.456-04:00 ERROR 21584 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'receiver' defined in file [C:\\Users\\m321365\\Desktop\\OBPHM\\Development\\5.0\\RC2\\Code\\SpringJMS\\gs-messaging-jms\\complete\\target\\classes\\hello\\Receiver.class]: Error creating bean with name 'myFactory' defined in hello.Application: Unsatisfied dependency expressed through method 'myFactory' parameter 1: Error creating bean with name 'jmsListenerContainerFactoryConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/jms/JmsAnnotationDrivenConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method 'jmsListenerContainerFactoryConfigurer' threw exception with message: Error creating bean with name 'jacksonJmsMessageConverter' defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method 'jacksonJmsMessageConverter' threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:605) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at hello.Application.main(Application.java:43) ~[classes/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myFactory' defined in hello.Application: Unsatisfied dependency expressed through method 'myFactory' parameter 1: Error creating bean with name 'jmsListenerContainerFactoryConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/jms/JmsAnnotationDrivenConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method 'jmsListenerContainerFactoryConfigurer' threw exception with message: Error creating bean with name 'jacksonJmsMessageConverter' defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method 'jacksonJmsMessageConverter' threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.processJmsListener(JmsListenerAnnotationBeanPostProcessor.java:294) ~[spring-jms-6.0.9.jar:6.0.9]\n    at org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.lambda$postProcessAfterInitialization$1(JmsListenerAnnotationBeanPostProcessor.java:248) ~[spring-jms-6.0.9.jar:6.0.9]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.lambda$postProcessAfterInitialization$2(JmsListenerAnnotationBeanPostProcessor.java:248) ~[spring-jms-6.0.9.jar:6.0.9]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\n    at org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.postProcessAfterInitialization(JmsListenerAnnotationBeanPostProcessor.java:247) ~[spring-jms-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:434) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 14 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jmsListenerContainerFactoryConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/jms/JmsAnnotationDrivenConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method 'jmsListenerContainerFactoryConfigurer' threw exception with message: Error creating bean with name 'jacksonJmsMessageConverter' defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method 'jacksonJmsMessageConverter' threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 32 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method 'jmsListenerContainerFactoryConfigurer' threw exception with message: Error creating bean with name 'jacksonJmsMessageConverter' defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method 'jacksonJmsMessageConverter' threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 46 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jacksonJmsMessageConverter' defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method 'jacksonJmsMessageConverter' threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2098) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.boot.autoconfigure.jms.JmsAnnotationDrivenConfiguration.jmsListenerContainerFactoryConfigurer(JmsAnnotationDrivenConfiguration.java:74) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 47 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method 'jacksonJmsMessageConverter' threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 65 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ObjectMapper\n    at org.springframework.jms.support.converter.MappingJackson2MessageConverter.&lt;init&gt;(MappingJackson2MessageConverter.java:94) ~[spring-jms-6.0.9.jar:6.0.9]\n    at hello.Application.jacksonJmsMessageConverter(Application.java:35) ~[classes/:na]\n    at hello.Application$$SpringCGLIB$$0.CGLIB$jacksonJmsMessageConverter$1(&lt;generated&gt;) ~[classes/:na]\n    at hello.Application$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.9.jar:6.0.9]\n    at hello.Application$$SpringCGLIB$$0.jacksonJmsMessageConverter(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 66 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.ObjectMapper\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 78 common frames omitted\n</code></pre>\n<p>UPDATE: I was able to build the project with Maven after updating JAVA_HOME variable to Java 17.</p>\n<p>I am still getting the same errors when running the application. It looks like the error comes from this bean:</p>\n<pre><code>@Bean // Serialize message content to json using TextMessage\n    public MessageConverter jacksonJmsMessageConverter() {\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n        converter.setTargetType(MessageType.TEXT);\n        converter.setTypeIdPropertyName(&quot;_type&quot;);\n        return converter;\n    }\n</code></pre>\n<p>I can open MappingJackson2MessageConverter declaration in my IDE, but when I'm putting a breakpoint there and run in debug mode, I'm getting &quot;ClassNotFoundException&quot;. Why is it not finding this class? What did I miss? There are no errors in the project that I can see.</p>\n"},{"tags":["java","maven","intellij-idea","jar"],"comments":[{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":1,"creation_date":1687291565,"post_id":76518006,"comment_id":134915466,"body_markdown":"1. Having a main class is not enough. You need a manifest file in META-INF/ folder that d&#233;clar&#233;s what is your main class. 2. Why dont you try to run tour java command from the folder where the jar is ? And why using Unix style file path in windows ?","body":"1. Having a main class is not enough. You need a manifest file in META-INF/ folder that d&#233;clar&#233;s what is your main class. 2. Why dont you try to run tour java command from the folder where the jar is ? And why using Unix style file path in windows ?"},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1687291888,"post_id":76518006,"comment_id":134915515,"body_markdown":"@SebPerp thanks for response. Ok. I did what you suggested and ran it directly in the directory where jar file is. Finds jar now, but getting this error:\n&quot;no main manifest attribute, in paging-mission-control-1.0-SNAPSHOT.jar&quot;. I don&#39;t know how to update the jar file so that the manifest has the proper attribute. Thanks for any response.","body":"@SebPerp thanks for response. Ok. I did what you suggested and ran it directly in the directory where jar file is. Finds jar now, but getting this error: &quot;no main manifest attribute, in paging-mission-control-1.0-SNAPSHOT.jar&quot;. I don&#39;t know how to update the jar file so that the manifest has the proper attribute. Thanks for any response."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687291890,"post_id":76518006,"comment_id":134915516,"body_markdown":"Since JVM couldn&#39;t access the file, check whether it&#39;s actually located under provided path. It seems like the path doesn&#39;t lead to a build folder.","body":"Since JVM couldn&#39;t access the file, check whether it&#39;s actually located under provided path. It seems like the path doesn&#39;t lead to a build folder."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687292053,"post_id":76518006,"comment_id":134915542,"body_markdown":"As @SebPerp mentioned you have to either specify main file in the manifest ([docs](https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html)) or specify main file at command line with `java -cp file.jar com.example.MainClass`. Also to make it work you need all the dependencies be assembled in a jar or specify them at command line","body":"As @SebPerp mentioned you have to either specify main file in the manifest (<a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"nofollow noreferrer\">docs</a>) or specify main file at command line with <code>java -cp file.jar com.example.MainClass</code>. Also to make it work you need all the dependencies be assembled in a jar or specify them at command line"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687292260,"post_id":76518006,"comment_id":134915569,"body_markdown":"you typed `/c/...` and the error is `C:/...` ? I cannot reproduce that - I would try `java -jar C:\\Users\\tclotworthy\\...` **and** check that the file is really there (e.g. `dir C:\\Users\\tclotworthy\\...`) **BUT** I also wonder the `$ ` prompt - not usual for DOS (Windows command line) more like CYGWIN or similar (GIT bash, ...) which would also explain that `/c/...` got `C:/...`","body":"you typed <code>&#47;c&#47;...</code> and the error is <code>C:&#47;...</code> ? I cannot reproduce that - I would try <code>java -jar C:\\Users\\tclotworthy\\...</code> <b>and</b> check that the file is really there (e.g. <code>dir C:\\Users\\tclotworthy\\...</code>) <b>BUT</b> I also wonder the <code>$ </code> prompt - not usual for DOS (Windows command line) more like CYGWIN or similar (GIT bash, ...) which would also explain that <code>&#47;c&#47;...</code> got <code>C:&#47;...</code>"},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1687292786,"post_id":76518006,"comment_id":134915651,"body_markdown":"thanks to all. I was able to make more progress by adding maven jar plugin with the manifest. I will answer the solution myself, but you guys were helpful in getting me to think it through. Thanks again.","body":"thanks to all. I was able to make more progress by adding maven jar plugin with the manifest. I will answer the solution myself, but you guys were helpful in getting me to think it through. Thanks again."}],"answers":[{"tags":[],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687292978,"creation_date":1687292978,"answer_id":76518192,"question_id":76518006,"body_markdown":"I had multiple problems. First, I was using unix-style path rather than windows-style path. Second, I did not have the manifest properly set up to make the jar file executable. I added the following to the pom.xml:\r\n\r\n    build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;!-- Build an executable JAR --&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;paging_mission_control.SatApplication&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nSo, now it finds the application. ","title":"Cannot Execute Application in JAR file from command line","body":"<p>I had multiple problems. First, I was using unix-style path rather than windows-style path. Second, I did not have the manifest properly set up to make the jar file executable. I added the following to the pom.xml:</p>\n<pre><code>build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;!-- Build an executable JAR --&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                        &lt;mainClass&gt;paging_mission_control.SatApplication&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>So, now it finds the application.</p>\n"}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687292978,"creation_date":1687290858,"question_id":76518006,"body_markdown":"I have a relatively simple java application I am running from intelliJ. It&#39;s a maven-based build. It runs fine from within intellij.\r\n\r\nMy problem (embarrassing..) is I am having trouble getting it to run from the command line. I&#39;ve attempted both from the jar that is built, and from the classes directory. \r\n\r\nIdeally I would like to run it from the jar. The jar has a single application with a main method. I build from the command line &quot;mvn clean package&quot;, and the the target directory is created with all the needed components. My expectation is that this is an executable jar file, since it has the class with the main method. However, I run the following command by opening DOS shell (windows) as admin\r\n:\r\n\r\n    $ java -jar /c/Users/tclotworthy/Iamus/satelliteProj/paging-mission-control/paging-mission-control-1.0-SNAPSHOT.jar\r\n    Error: Unable to access jarfile C:/Users/tclotworthy/Iamus/satelliteProj/paging-mission-control/paging-mission-control-1.0-SNAPSHOT.jar\r\n\r\nIf I could upload the jar file here, I would so that others can attempt. I would be grateful for any suggestions on how to overcome my problem. Thank you","title":"Cannot Execute Application in JAR file from command line","body":"<p>I have a relatively simple java application I am running from intelliJ. It's a maven-based build. It runs fine from within intellij.</p>\n<p>My problem (embarrassing..) is I am having trouble getting it to run from the command line. I've attempted both from the jar that is built, and from the classes directory.</p>\n<p>Ideally I would like to run it from the jar. The jar has a single application with a main method. I build from the command line &quot;mvn clean package&quot;, and the the target directory is created with all the needed components. My expectation is that this is an executable jar file, since it has the class with the main method. However, I run the following command by opening DOS shell (windows) as admin\n:</p>\n<pre><code>$ java -jar /c/Users/tclotworthy/Iamus/satelliteProj/paging-mission-control/paging-mission-control-1.0-SNAPSHOT.jar\nError: Unable to access jarfile C:/Users/tclotworthy/Iamus/satelliteProj/paging-mission-control/paging-mission-control-1.0-SNAPSHOT.jar\n</code></pre>\n<p>If I could upload the jar file here, I would so that others can attempt. I would be grateful for any suggestions on how to overcome my problem. Thank you</p>\n"},{"tags":["java","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"score":0,"creation_date":1687054575,"post_id":76493069,"comment_id":134883005,"body_markdown":"Would really appreciate if someone can help me on this issue.","body":"Would really appreciate if someone can help me on this issue."},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":1,"creation_date":1687158415,"post_id":76493069,"comment_id":134892209,"body_markdown":"You might have hit [this issue](https://github.com/oracle/graal/issues/6796)","body":"You might have hit <a href=\"https://github.com/oracle/graal/issues/6796\" rel=\"nofollow noreferrer\">this issue</a>"},{"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"score":0,"creation_date":1687212092,"post_id":76493069,"comment_id":134902365,"body_markdown":"Thank you @peterz","body":"Thank you @peterz"}],"answers":[{"tags":[],"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687292303,"creation_date":1687292303,"answer_id":76518138,"question_id":76493069,"body_markdown":"Looks like it is a known issue for GraalVM. https://github.com/oracle/graal/issues/5778\r\n\r\nAs per the issue on Github, I was able to resolve the `zsh: segmentation fault ./hello` problem using below workaround:\r\n\r\n 1. Obtain an older version of Xcode. https://developer.apple.com/download/all/?q=Xcode%2012.5.1 This requires an Apple ID. (If you are not comfortable clicking the link, just sign in to Apple Developer account and search for &quot;Xcode 12.5.1&quot;)\r\n\r\n 2. Unpack it via finder\r\n 3. Open a terminal and run following commands\r\n\r\n```\r\n$ mv ~/Downloads/Xcode.app /Applications/Xcode12.5.1.app/\r\n$ sudo xcode-select -s /Applications/Xcode12.5.1.app/Contents/Developer\r\n$ # verify with\r\n$ xcodebuild -version\r\n```\r\n\r\n 4. Now if we generate and run the native image again, it successfully runs.\r\n","title":"Graal VM Error: zsh: segmentation fault ./hello","body":"<p>Looks like it is a known issue for GraalVM. <a href=\"https://github.com/oracle/graal/issues/5778\" rel=\"nofollow noreferrer\">https://github.com/oracle/graal/issues/5778</a></p>\n<p>As per the issue on Github, I was able to resolve the <code>zsh: segmentation fault ./hello</code> problem using below workaround:</p>\n<ol>\n<li><p>Obtain an older version of Xcode. <a href=\"https://developer.apple.com/download/all/?q=Xcode%2012.5.1\" rel=\"nofollow noreferrer\">https://developer.apple.com/download/all/?q=Xcode%2012.5.1</a> This requires an Apple ID. (If you are not comfortable clicking the link, just sign in to Apple Developer account and search for &quot;Xcode 12.5.1&quot;)</p>\n</li>\n<li><p>Unpack it via finder</p>\n</li>\n<li><p>Open a terminal and run following commands</p>\n</li>\n</ol>\n<pre><code>$ mv ~/Downloads/Xcode.app /Applications/Xcode12.5.1.app/\n$ sudo xcode-select -s /Applications/Xcode12.5.1.app/Contents/Developer\n$ # verify with\n$ xcodebuild -version\n</code></pre>\n<ol start=\"4\">\n<li>Now if we generate and run the native image again, it successfully runs.</li>\n</ol>\n"}],"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76518138,"answer_count":1,"score":0,"last_activity_date":1687292303,"creation_date":1686943472,"question_id":76493069,"body_markdown":"I encountered an issue while running a simple Java program after compiling it with GraalVM and generating a native image. The original Java file is named Hello.java and contains the following code:\r\n\r\n    public class Hello {\r\n        public static void main(String[] args) {\r\n             System.out.println(&quot;Hello&quot;);\r\n        }\r\n    }\r\n\r\nTo compile the code, I used GraalVM, which resulted in the generation of the Hello.class file. Subsequently, I created a native image for this class using the command `native-image Hello`. However, when attempting to execute the program with the ./hello command, I encountered the following error:\r\n\r\n    zsh: segmentation fault  ./hello`\r\n\r\nDespite searching for solutions on Stack Overflow, I have been unable to find a suitable resolution.\r\n\r\nHere are the system and GraalVM installation details:\r\n\r\n    OS: MacOS Ventura\r\n    Processor: 2.6 GHz 6-Core Intel Core i7\r\n    GraalVM: graalvm-jdk-17.0.7+8.1 \r\n    (Dowloaded it from https://www.graalvm.org/downloads with Java 17 and macOS(x64))\r\n\r\nBelow is the output for`java -version`\r\n\r\n    java version &quot;17.0.7&quot; 2023-04-18 LTS\r\n    Java(TM) SE Runtime Environment Oracle GraalVM 17.0.7+8.1 (build 17.0.7+8-LTS-jvmci-23.0-b12)\r\n    Java HotSpot(TM) 64-Bit Server VM Oracle GraalVM 17.0.7+8.1 (build 17.0.7+8-LTS-jvmci-23.0-b12, mixed mode, sharing)","title":"Graal VM Error: zsh: segmentation fault ./hello","body":"<p>I encountered an issue while running a simple Java program after compiling it with GraalVM and generating a native image. The original Java file is named Hello.java and contains the following code:</p>\n<pre><code>public class Hello {\n    public static void main(String[] args) {\n         System.out.println(&quot;Hello&quot;);\n    }\n}\n</code></pre>\n<p>To compile the code, I used GraalVM, which resulted in the generation of the Hello.class file. Subsequently, I created a native image for this class using the command <code>native-image Hello</code>. However, when attempting to execute the program with the ./hello command, I encountered the following error:</p>\n<pre><code>zsh: segmentation fault  ./hello`\n</code></pre>\n<p>Despite searching for solutions on Stack Overflow, I have been unable to find a suitable resolution.</p>\n<p>Here are the system and GraalVM installation details:</p>\n<pre><code>OS: MacOS Ventura\nProcessor: 2.6 GHz 6-Core Intel Core i7\nGraalVM: graalvm-jdk-17.0.7+8.1 \n(Dowloaded it from https://www.graalvm.org/downloads with Java 17 and macOS(x64))\n</code></pre>\n<p>Below is the output for<code>java -version</code></p>\n<pre><code>java version &quot;17.0.7&quot; 2023-04-18 LTS\nJava(TM) SE Runtime Environment Oracle GraalVM 17.0.7+8.1 (build 17.0.7+8-LTS-jvmci-23.0-b12)\nJava HotSpot(TM) 64-Bit Server VM Oracle GraalVM 17.0.7+8.1 (build 17.0.7+8-LTS-jvmci-23.0-b12, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-iam","datasource","hikaricp"],"comments":[{"owner":{"account_id":2454359,"reputation":77,"user_id":2139911,"accept_rate":0,"display_name":"Guillermo Garcia"},"score":0,"creation_date":1691196131,"post_id":76518113,"comment_id":135463965,"body_markdown":"Did you found a way?","body":"Did you found a way?"},{"owner":{"account_id":10133926,"reputation":131,"user_id":7486210,"accept_rate":50,"display_name":"Ebad"},"score":0,"creation_date":1695227428,"post_id":76518113,"comment_id":135997362,"body_markdown":"@GuillermoGarcia - Yes I did, but I am not the biggest fan of the implementation. I would like to use `AwsWrapperDataSource` but I am having a trouble with my implementation of it. In the meantime, I am overriding the HikariDataSource `getConnection` method, checking if I need to update my token (so once every 15 minutes), and then calling `super.getConnection()`. Again, it is not how I would like to do it in the end, but it works for now.","body":"@GuillermoGarcia - Yes I did, but I am not the biggest fan of the implementation. I would like to use <code>AwsWrapperDataSource</code> but I am having a trouble with my implementation of it. In the meantime, I am overriding the HikariDataSource <code>getConnection</code> method, checking if I need to update my token (so once every 15 minutes), and then calling <code>super.getConnection()</code>. Again, it is not how I would like to do it in the end, but it works for now."}],"owner":{"account_id":10133926,"reputation":131,"user_id":7486210,"accept_rate":50,"display_name":"Ebad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687292040,"creation_date":1687292040,"question_id":76518113,"body_markdown":"I have a Spring Boot (2.3.5.RELEASE) with Spring Cloud (Hoxton.RELEASE) project that I am trying to set up my DataSource for.\r\n\r\nI am able to get my Hikari Connection Pool set up, but I use IAM tokens for the database password, and those expire every 15 minutes. How can I set my DataSource so that a new token is generated for new connections that are opened up after the connection pool is started up (I can generate a token for the initial connections, just not any that are opened after the token expires).\r\n\r\nI have set the max lifetime for connections to well over the 15 minutes (I have tested up to 4 hours so far) and the connections work as long as they are open. However, once a new connection is created, it just uses the initial password that was generated at startup.\r\n\r\nMy current config:\r\n```\r\n@Configuration\r\npublic class DBConfig {\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(DBConfig.class);\r\n\r\n\tprivate static final String SESSION_NAME = &quot;db.session&quot;;\r\n\r\n\tprivate static final int CONNECTION_IDLE_TIMEOUT = 1800000;\t\t// Idle for 30 minutes max\r\n\tprivate static final int CONNECTION_KEEP_ALIVE_TIME = 60000;\t// Ensure connection is alive every minute\r\n\tprivate static final int CONNECTION_MAX_LIFETIME = 14400000; \t// Keep connections alive for 4 hours, then refresh\r\n\tprivate static final int CONNECTION_TOKEN_REFRESH = CONNECTION_MAX_LIFETIME - 300000; // Refresh token every 3 hr 55 minutes\r\n\r\n\t@Value(&quot;${db.name}&quot;)\r\n\tprivate String dbName;\r\n\r\n\t@Value(&quot;${db.host}&quot;)\r\n\tprivate String host;\r\n\r\n\t@Value(&quot;${db.port}&quot;)\r\n\tprivate String port;\r\n\r\n\t@Value(&quot;${db.username}&quot;)\r\n\tprivate String username;\r\n\r\n\t@Value(&quot;${db.region}&quot;)\r\n\tprivate String awsRegion;\r\n\r\n\t@Value(&quot;${aws.role.arn}&quot;)\r\n\tprivate String awsRoleArn;\r\n\r\n\t@Bean(name = &quot;getDataSource&quot;)\r\n\t@ConfigurationProperties(&quot;spring.datasource&quot;)\r\n\tpublic DataSource getDataSource() {\r\n\t\tlogger.info(&quot;Setting DataSource connection with &quot; + this);\r\n\r\n\t\ttry {\r\n\t\t\tHikariConfig hikariConfig = new HikariConfig();\r\n\r\n\t\t\thikariConfig.setDataSource(IAMUtils.setDataSource(awsRegion, host, Integer.parseInt(port), dbName, username, awsRoleArn, SESSION_NAME));\r\n\r\n\t\t\thikariConfig.setIdleTimeout(CONNECTION_IDLE_TIMEOUT);\r\n\t\t\thikariConfig.setMaxLifetime(CONNECTION_MAX_LIFETIME);\r\n\t\t\thikariConfig.setKeepaliveTime(CONNECTION_KEEP_ALIVE_TIME);\r\n\r\n\t\t\treturn new HikariDataSource(hikariConfig);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Unable to set up DataSource: &quot; + e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n    /*\r\n\t@Scheduled(fixedRate = CONNECTION_MAX_LIFETIME, initialDelay = CONNECTION_TOKEN_REFRESH)\r\n\tpublic void refreshedRDSToken() {\r\n\t\tHikariDataSource datasource = (HikariDataSource) getDataSource();\r\n\t\tHikariConfigMXBean hikariConfigMXBean = datasource.getHikariConfigMXBean();\r\n\r\n\t\tlogger.info(String.format(&quot;Refreshing IAM Auth tokens in &quot; + hikariConfigMXBean.getPoolName()));\r\n\t\thikariConfigMXBean.setPassword(IAMUtil.getIAMAuthToken(awsRegion, auroraHost, Integer.parseInt(auroraPort), auroraUsername,\r\n\t\t\t\tawsRoleArn, SESSION_NAME));\r\n\r\n\t\tHikariPoolMXBean pool = datasource.getHikariPoolMXBean();\r\n\t\tif (pool != null) {\r\n\t\t\tpool.softEvictConnections();  // Close unused connections &amp; mark open ones for disposal\r\n\t\t\tpool.resumePool();    // Re-enable connections\r\n\t\t}\r\n\t}\r\n    */\r\n}\r\n```\r\nI currently have my scheduler commented out, but I am able to use that to generate new tokens and then set up new connections. However, I don&#39;t want to do that every 14 minutes, and the way it currently is set up is to do it every 3 hr 55 min. But if new connections are needed to be set up between the initial 15 minutes and the token refresh, those won&#39;t work.\r\n\r\nHow can I just &quot;set&quot; a new password when a new connection is being made. Preferable after the initial startup (I can use the initial token for all connections created at startup). \r\n\r\nThanks for the help!","title":"Generate new IAM password for new HikariCP connections","body":"<p>I have a Spring Boot (2.3.5.RELEASE) with Spring Cloud (Hoxton.RELEASE) project that I am trying to set up my DataSource for.</p>\n<p>I am able to get my Hikari Connection Pool set up, but I use IAM tokens for the database password, and those expire every 15 minutes. How can I set my DataSource so that a new token is generated for new connections that are opened up after the connection pool is started up (I can generate a token for the initial connections, just not any that are opened after the token expires).</p>\n<p>I have set the max lifetime for connections to well over the 15 minutes (I have tested up to 4 hours so far) and the connections work as long as they are open. However, once a new connection is created, it just uses the initial password that was generated at startup.</p>\n<p>My current config:</p>\n<pre><code>@Configuration\npublic class DBConfig {\n\n    private static final Logger logger = LoggerFactory.getLogger(DBConfig.class);\n\n    private static final String SESSION_NAME = &quot;db.session&quot;;\n\n    private static final int CONNECTION_IDLE_TIMEOUT = 1800000;     // Idle for 30 minutes max\n    private static final int CONNECTION_KEEP_ALIVE_TIME = 60000;    // Ensure connection is alive every minute\n    private static final int CONNECTION_MAX_LIFETIME = 14400000;    // Keep connections alive for 4 hours, then refresh\n    private static final int CONNECTION_TOKEN_REFRESH = CONNECTION_MAX_LIFETIME - 300000; // Refresh token every 3 hr 55 minutes\n\n    @Value(&quot;${db.name}&quot;)\n    private String dbName;\n\n    @Value(&quot;${db.host}&quot;)\n    private String host;\n\n    @Value(&quot;${db.port}&quot;)\n    private String port;\n\n    @Value(&quot;${db.username}&quot;)\n    private String username;\n\n    @Value(&quot;${db.region}&quot;)\n    private String awsRegion;\n\n    @Value(&quot;${aws.role.arn}&quot;)\n    private String awsRoleArn;\n\n    @Bean(name = &quot;getDataSource&quot;)\n    @ConfigurationProperties(&quot;spring.datasource&quot;)\n    public DataSource getDataSource() {\n        logger.info(&quot;Setting DataSource connection with &quot; + this);\n\n        try {\n            HikariConfig hikariConfig = new HikariConfig();\n\n            hikariConfig.setDataSource(IAMUtils.setDataSource(awsRegion, host, Integer.parseInt(port), dbName, username, awsRoleArn, SESSION_NAME));\n\n            hikariConfig.setIdleTimeout(CONNECTION_IDLE_TIMEOUT);\n            hikariConfig.setMaxLifetime(CONNECTION_MAX_LIFETIME);\n            hikariConfig.setKeepaliveTime(CONNECTION_KEEP_ALIVE_TIME);\n\n            return new HikariDataSource(hikariConfig);\n\n        } catch (Exception e) {\n            logger.error(&quot;Unable to set up DataSource: &quot; + e.getMessage());\n        }\n    }\n\n    /*\n    @Scheduled(fixedRate = CONNECTION_MAX_LIFETIME, initialDelay = CONNECTION_TOKEN_REFRESH)\n    public void refreshedRDSToken() {\n        HikariDataSource datasource = (HikariDataSource) getDataSource();\n        HikariConfigMXBean hikariConfigMXBean = datasource.getHikariConfigMXBean();\n\n        logger.info(String.format(&quot;Refreshing IAM Auth tokens in &quot; + hikariConfigMXBean.getPoolName()));\n        hikariConfigMXBean.setPassword(IAMUtil.getIAMAuthToken(awsRegion, auroraHost, Integer.parseInt(auroraPort), auroraUsername,\n                awsRoleArn, SESSION_NAME));\n\n        HikariPoolMXBean pool = datasource.getHikariPoolMXBean();\n        if (pool != null) {\n            pool.softEvictConnections();  // Close unused connections &amp; mark open ones for disposal\n            pool.resumePool();    // Re-enable connections\n        }\n    }\n    */\n}\n</code></pre>\n<p>I currently have my scheduler commented out, but I am able to use that to generate new tokens and then set up new connections. However, I don't want to do that every 14 minutes, and the way it currently is set up is to do it every 3 hr 55 min. But if new connections are needed to be set up between the initial 15 minutes and the token refresh, those won't work.</p>\n<p>How can I just &quot;set&quot; a new password when a new connection is being made. Preferable after the initial startup (I can use the initial token for all connections created at startup).</p>\n<p>Thanks for the help!</p>\n"},{"tags":["java","android","google-maps","google-maps-markers"],"comments":[{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1687404615,"post_id":76518071,"comment_id":134932903,"body_markdown":"First of all, I would like to suggest that you file a support case if you want to inquire about their pricing: https://developers.google.com/maps/support#creating-a-support-case. You also might want to check the documentation first. https://developers.google.com/maps/documentation/android-sdk/usage-and-billing","body":"First of all, I would like to suggest that you file a support case if you want to inquire about their pricing: <a href=\"https://developers.google.com/maps/support#creating-a-support-case\" rel=\"nofollow noreferrer\">developers.google.com/maps/support#creating-a-support-case</a>. You also might want to check the documentation first. <a href=\"https://developers.google.com/maps/documentation/android-sdk/usage-and-billing\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/android-sdk/&hellip;</a>"}],"owner":{"account_id":11435012,"reputation":11,"user_id":8382695,"display_name":"Anubhav Chauhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687291644,"creation_date":1687291644,"question_id":76518071,"body_markdown":"I’m working on an Android app for my final year college project that will use the Maps SDK for Android to display a limited number of preset locations on a map e.g. the Central Park, NYC and maybe other 10-15 places using their latitudes and longtitudes. \r\n\r\nI plan to show these locations and load them on the phone screen about say a maximum of 50 times (to give a demonstration to my faculty).   \r\n\r\n\r\n\r\n\r\nHere’s an example of how I’m implementing this in my code:\r\n\r\n\r\n```\r\nmMap = googleMap;\r\nLatLng jdpLatLng= new LatLng(v: 26.2389, v1: 73.0243);\r\nMarkerOptions markerOptions = new MarkerOptions().position (jdpLatLng).title(&quot;Jodhpur&quot;);\r\nmMap.addMarker (markerOptions);\r\nmMap.moveCamera (CameraUpdateFactory.newLatLng(jdpLatLng));\r\nmMap.animateCamera (CameraUpdateFactory.newLatLngZoom(jdpLatLng, v. 16f));\r\n\r\n```\r\n\r\nI’m trying to understand if my usage of the Maps SDK for Android will be covered under the $200 monthly credit provided by Google Maps Platform. Will I be charged for this usage or will it be free? Any insights or guidance would be much appreciated. Because I&#39;m not sure about the APIs used. Sorry for the naive question","title":"Understanding Maps SDK for Android pricing for displaying preset locations","body":"<p>I’m working on an Android app for my final year college project that will use the Maps SDK for Android to display a limited number of preset locations on a map e.g. the Central Park, NYC and maybe other 10-15 places using their latitudes and longtitudes.</p>\n<p>I plan to show these locations and load them on the phone screen about say a maximum of 50 times (to give a demonstration to my faculty).</p>\n<p>Here’s an example of how I’m implementing this in my code:</p>\n<pre><code>mMap = googleMap;\nLatLng jdpLatLng= new LatLng(v: 26.2389, v1: 73.0243);\nMarkerOptions markerOptions = new MarkerOptions().position (jdpLatLng).title(&quot;Jodhpur&quot;);\nmMap.addMarker (markerOptions);\nmMap.moveCamera (CameraUpdateFactory.newLatLng(jdpLatLng));\nmMap.animateCamera (CameraUpdateFactory.newLatLngZoom(jdpLatLng, v. 16f));\n\n</code></pre>\n<p>I’m trying to understand if my usage of the Maps SDK for Android will be covered under the $200 monthly credit provided by Google Maps Platform. Will I be charged for this usage or will it be free? Any insights or guidance would be much appreciated. Because I'm not sure about the APIs used. Sorry for the naive question</p>\n"},{"tags":["java","odata","olingo"],"answers":[{"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1640087782,"post_id":70433844,"comment_id":124507433,"body_markdown":"That doesn&#39;t answer the question about Olingo.","body":"That doesn&#39;t answer the question about Olingo."},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1640096480,"post_id":70433844,"comment_id":124510814,"body_markdown":"Oops, you&#39;re right, I must have misread. The links threw me off.","body":"Oops, you&#39;re right, I must have misread. The links threw me off."}],"tags":[],"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640096943,"creation_date":1640081906,"answer_id":70433844,"question_id":70397716,"body_markdown":"Edit: As @Olivier mentions, my original answer referred to OData in .NET and not Olingo.\r\n\r\nUnfortunately as you probably have found out yourself, the standard Olingo [documentation](https://olingo.apache.org/doc/odata4/index.html) doesn&#39;t answer this particular question *directly*, though it does mention support for lazy-loading and streaming behaviour (which would not make any sense to filter on the application level).\r\n\r\nHowever, you would be hard-pressed to find an ORM or DB Adapter nowadays that does *not* support filtering on the database level, as this will almost always be faster than doing so in your application for non-trivial workloads. \r\n\r\nI will try to update this answer with a more authorative source.\r\n\r\n---\r\n(original answer)\r\n\r\nAccording to [this](https://weblogs.asp.net/jongalloway/does-asp-net-web-api-odata-filter-at-the-database-level-let-s-ask-intellitrace) analysis:\r\n\r\n&gt;As long as your data provider supports deferred queries and you don&#39;t force evaluation by calling something like .ToList(), the query will not be evaluated until the OData filters are applied, and they&#39;ll be handled at the database level.\r\n\r\n","title":"Does Java Apache Olingo query the database itself?","body":"<p>Edit: As @Olivier mentions, my original answer referred to OData in .NET and not Olingo.</p>\n<p>Unfortunately as you probably have found out yourself, the standard Olingo <a href=\"https://olingo.apache.org/doc/odata4/index.html\" rel=\"nofollow noreferrer\">documentation</a> doesn't answer this particular question <em>directly</em>, though it does mention support for lazy-loading and streaming behaviour (which would not make any sense to filter on the application level).</p>\n<p>However, you would be hard-pressed to find an ORM or DB Adapter nowadays that does <em>not</em> support filtering on the database level, as this will almost always be faster than doing so in your application for non-trivial workloads.</p>\n<p>I will try to update this answer with a more authorative source.</p>\n<hr />\n<p>(original answer)</p>\n<p>According to <a href=\"https://weblogs.asp.net/jongalloway/does-asp-net-web-api-odata-filter-at-the-database-level-let-s-ask-intellitrace\" rel=\"nofollow noreferrer\">this</a> analysis:</p>\n<blockquote>\n<p>As long as your data provider supports deferred queries and you don't force evaluation by calling something like .ToList(), the query will not be evaluated until the OData filters are applied, and they'll be handled at the database level.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2904628,"reputation":6707,"user_id":2490343,"accept_rate":100,"display_name":"Shiva"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687291560,"creation_date":1640256859,"answer_id":70461126,"question_id":70397716,"body_markdown":"Short answer, Olingo 2 JPAProcessor will query the database to only fetch limited data if $filter and $orderby are specified.\r\n\r\nTLDR;\r\n\r\nThere are two things we need to consider here. Apache Olingo is a framework which allows people to implement OData Server and Client in Java, bare bones it will just provide you with the Abstract Classes and Interfaces which you implement `OdataProcessors`, however one wants.\r\n\r\nNow coming to the second point there is a JPA Implementation also provided in the Olingo Project, which you can locate [here][1]\r\n\r\nTo answer your question, lets dig into the code of this project to see, how its implemented.\r\n\r\nWe will have to start with `JPAProcessorImpl` and hop into `process(final GetEntitySetUriInfo uriParserResultView)`, [this is where][2] the query and the actuals of how the data is fetched in the database are implemented.\r\n\r\nAt line 150 the actual query is already built,so if you pass `$filter`(where clause) and `$orderby`, we can see the values are actually being passed to the database and are baked in query \r\n\r\n\r\n[![Olingo Debugging screenshot][3]][3] \r\n\r\n\r\n  [1]: https://github.com/apache/olingo-odata2/tree/master/odata2-jpa-processor\r\n  [2]: https://github.com/apache/olingo-odata2/blob/991604d2e74b3becab9240329e305948042c496d/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAProcessorImpl.java#L130\r\n  [3]: https://i.stack.imgur.com/bph1r.png","title":"Does Java Apache Olingo query the database itself?","body":"<p>Short answer, Olingo 2 JPAProcessor will query the database to only fetch limited data if $filter and $orderby are specified.</p>\n<p>TLDR;</p>\n<p>There are two things we need to consider here. Apache Olingo is a framework which allows people to implement OData Server and Client in Java, bare bones it will just provide you with the Abstract Classes and Interfaces which you implement <code>OdataProcessors</code>, however one wants.</p>\n<p>Now coming to the second point there is a JPA Implementation also provided in the Olingo Project, which you can locate <a href=\"https://github.com/apache/olingo-odata2/tree/master/odata2-jpa-processor\" rel=\"nofollow noreferrer\">here</a></p>\n<p>To answer your question, lets dig into the code of this project to see, how its implemented.</p>\n<p>We will have to start with <code>JPAProcessorImpl</code> and hop into <code>process(final GetEntitySetUriInfo uriParserResultView)</code>, <a href=\"https://github.com/apache/olingo-odata2/blob/991604d2e74b3becab9240329e305948042c496d/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAProcessorImpl.java#L130\" rel=\"nofollow noreferrer\">this is where</a> the query and the actuals of how the data is fetched in the database are implemented.</p>\n<p>At line 150 the actual query is already built,so if you pass <code>$filter</code>(where clause) and <code>$orderby</code>, we can see the values are actually being passed to the database and are baked in query</p>\n<p><a href=\"https://i.stack.imgur.com/bph1r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bph1r.png\" alt=\"Olingo Debugging screenshot\" /></a></p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70461126,"answer_count":2,"score":2,"last_activity_date":1687291560,"creation_date":1639767377,"question_id":70397716,"body_markdown":"In .NET C#, we used Odata to filter, page, sort the database results from SQL database. Odata in .NET would actually go into the database, and query WHERE, ORDER By Filters to database, instead of extracting all the database results, and applying filtering on the api memory.\r\n\r\nI am curious of Java Apache Olingo, queries the database internally or applies filtering on the API memory set.\r\n\r\n\r\n**Resources:**\r\n\r\nhttps://www.odata.org/libraries/ \r\n\r\nhttps://www.odata.org/documentation/odata-version-2-0/uri-conventions/\r\n","title":"Does Java Apache Olingo query the database itself?","body":"<p>In .NET C#, we used Odata to filter, page, sort the database results from SQL database. Odata in .NET would actually go into the database, and query WHERE, ORDER By Filters to database, instead of extracting all the database results, and applying filtering on the api memory.</p>\n<p>I am curious of Java Apache Olingo, queries the database internally or applies filtering on the API memory set.</p>\n<p><strong>Resources:</strong></p>\n<p><a href=\"https://www.odata.org/libraries/\" rel=\"nofollow noreferrer\">https://www.odata.org/libraries/</a></p>\n<p><a href=\"https://www.odata.org/documentation/odata-version-2-0/uri-conventions/\" rel=\"nofollow noreferrer\">https://www.odata.org/documentation/odata-version-2-0/uri-conventions/</a></p>\n"},{"tags":["java","http"],"answers":[{"comments":[{"owner":{"account_id":209251,"reputation":5134,"user_id":460175,"display_name":"comonad"},"score":15,"creation_date":1474882316,"post_id":730307,"comment_id":66696755,"body_markdown":"thx! this works without any external dependencies. `java.net.HttpURLConnection.HTTP_BAD_REQUEST`","body":"thx! this works without any external dependencies. <code>java.net.HttpURLConnection.HTTP_BAD_REQUEST</code>"},{"owner":{"account_id":6688303,"reputation":2926,"user_id":5158636,"display_name":"tschumann"},"score":2,"creation_date":1588301212,"post_id":730307,"comment_id":108852256,"body_markdown":"Good that it&#39;s part of the standard library but unfortunately it&#39;s incomplete - in the 400 range for example it cuts off at 415.","body":"Good that it&#39;s part of the standard library but unfortunately it&#39;s incomplete - in the 400 range for example it cuts off at 415."}],"tags":[],"owner":{"account_id":24055,"reputation":5044,"user_id":60892,"accept_rate":42,"display_name":"Mystic"},"comment_count":2,"down_vote_count":1,"up_vote_count":94,"is_accepted":false,"score":93,"last_activity_date":1239201710,"creation_date":1239201227,"answer_id":730307,"question_id":730283,"body_markdown":"Well, there are static constants of the exact integer values in the [HttpURLConnection ][1]class\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/net/HttpURLConnection.html","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>Well, there are static constants of the exact integer values in the <a href=\"http://java.sun.com/javase/6/docs/api/java/net/HttpURLConnection.html\" rel=\"noreferrer\">HttpURLConnection </a>class</p>\n"},{"comments":[{"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"score":6,"creation_date":1332400440,"post_id":730341,"comment_id":12507072,"body_markdown":"There&#39;s is no such a thing as &quot;complete list&quot;, as status codes can be and do get extended.","body":"There&#39;s is no such a thing as &quot;complete list&quot;, as status codes can be and do get extended."},{"owner":{"account_id":28214,"reputation":305280,"user_id":75170,"accept_rate":72,"display_name":"John Feminella"},"score":30,"creation_date":1332429594,"post_id":730341,"comment_id":12517310,"body_markdown":"@JulianReschke I think &quot;complete&quot; here should be taken to mean &quot;conforms to all the codes outlined by the standard&quot;.","body":"@JulianReschke I think &quot;complete&quot; here should be taken to mean &quot;conforms to all the codes outlined by the standard&quot;."},{"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"score":3,"creation_date":1332536310,"post_id":730341,"comment_id":12549258,"body_markdown":"John: &quot;the standard&quot; does not define &quot;all&quot; the status codes. That&#39;s why there is a registry.","body":"John: &quot;the standard&quot; does not define &quot;all&quot; the status codes. That&#39;s why there is a registry."},{"owner":{"account_id":147833,"reputation":8013,"user_id":359226,"accept_rate":97,"display_name":"Garis M Suero"},"score":2,"creation_date":1364411469,"post_id":730341,"comment_id":22238006,"body_markdown":"http://www.iana.org/assignments/http-status-codes/http-status-codes.xml have a big list including the code=100","body":"<a href=\"http://www.iana.org/assignments/http-status-codes/http-status-codes.xml\" rel=\"nofollow noreferrer\">iana.org/assignments/http-status-codes/http-status-codes.xml</a> have a big list including the code=100"},{"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"score":2,"creation_date":1373562728,"post_id":730341,"comment_id":25613907,"body_markdown":"@Donal: again, not a good list. What&#39;s relevant is the IANA registry.","body":"@Donal: again, not a good list. What&#39;s relevant is the IANA registry."},{"owner":{"account_id":903879,"reputation":5837,"user_id":939250,"accept_rate":93,"display_name":"Donal Lafferty"},"score":0,"creation_date":1373581138,"post_id":730341,"comment_id":25623027,"body_markdown":"@Julian Reschke, you are right, and the answer makes a similar comment. However, the class I provide takes the magic numbers out if my code so that I can meet CloudStack&#39;s code style.","body":"@Julian Reschke, you are right, and the answer makes a similar comment. However, the class I provide takes the magic numbers out if my code so that I can meet CloudStack&#39;s code style."},{"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"score":0,"creation_date":1415934174,"post_id":730341,"comment_id":42392113,"body_markdown":"complete at the time of publication.  If the HttpURLConnection has not been updated with recent additions, then it can be considered incomplete.  If apaches HttpStatus on the other hand is updated, it can be considered &#39;complete&#39; as at the time of release.","body":"complete at the time of publication.  If the HttpURLConnection has not been updated with recent additions, then it can be considered incomplete.  If apaches HttpStatus on the other hand is updated, it can be considered &#39;complete&#39; as at the time of release."},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":1,"creation_date":1505176967,"post_id":730341,"comment_id":79294766,"body_markdown":"@JohnFeminella - I don&#39;t want to import servlet and other classes as some have suggested here. How can I find a light weight class that implements the HttpStatus interface you mentioned ? Or should I implement it myself ?","body":"@JohnFeminella - I don&#39;t want to import servlet and other classes as some have suggested here. How can I find a light weight class that implements the HttpStatus interface you mentioned ? Or should I implement it myself ?"}],"tags":[],"owner":{"account_id":28214,"reputation":305280,"user_id":75170,"accept_rate":72,"display_name":"John Feminella"},"comment_count":8,"down_vote_count":1,"up_vote_count":347,"is_accepted":true,"score":346,"last_activity_date":1557911326,"creation_date":1239201565,"answer_id":730341,"question_id":730283,"body_markdown":"I don&#39;t think there&#39;s one that&#39;s complete in the standard Java classes; **[`HttpURLConnection`][1]** is missing quite a few codes, like `HTTP 100/Continue`.  \r\n\r\nThere&#39;s a complete list in the Apache HttpComponents, though:  \r\n[**`org.apache.http.HttpStatus`**][4] (replaced [**`org.apache.commons.HttpClient.HttpStatus`**][2] from Apache Http Client, which reached [end of life][3])\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html\r\n  [2]: http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/HttpStatus.html\r\n  [3]: http://hc.apache.org/httpclient-3.x/\r\n  [4]: http://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/HttpStatus.html","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>I don't think there's one that's complete in the standard Java classes; <strong><a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html\" rel=\"noreferrer\"><code>HttpURLConnection</code></a></strong> is missing quite a few codes, like <code>HTTP 100/Continue</code>.  </p>\n\n<p>There's a complete list in the Apache HttpComponents, though:<br>\n<a href=\"http://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/HttpStatus.html\" rel=\"noreferrer\"><strong><code>org.apache.http.HttpStatus</code></strong></a> (replaced <a href=\"http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/HttpStatus.html\" rel=\"noreferrer\"><strong><code>org.apache.commons.HttpClient.HttpStatus</code></strong></a> from Apache Http Client, which reached <a href=\"http://hc.apache.org/httpclient-3.x/\" rel=\"noreferrer\">end of life</a>)</p>\n"},{"comments":[{"owner":{"account_id":28214,"reputation":305280,"user_id":75170,"accept_rate":72,"display_name":"John Feminella"},"score":4,"creation_date":1239249452,"post_id":730356,"comment_id":544317,"body_markdown":"HttpServletResponse supports the RFC1945 and part of RFC2616 standards, but it&#39;s missing all of RFC2518. If you need a complete list, see HttpStatus as I mentioned.","body":"HttpServletResponse supports the RFC1945 and part of RFC2616 standards, but it&#39;s missing all of RFC2518. If you need a complete list, see HttpStatus as I mentioned."},{"owner":{"account_id":477853,"reputation":11601,"user_id":889583,"accept_rate":80,"display_name":"daiscog"},"score":2,"creation_date":1457098274,"post_id":730356,"comment_id":59264192,"body_markdown":"HttpServletResponse is also missing the 418 response code defined in [RFC 2324](https://tools.ietf.org/html/rfc2324)","body":"HttpServletResponse is also missing the 418 response code defined in <a href=\"https://tools.ietf.org/html/rfc2324\" rel=\"nofollow noreferrer\">RFC 2324</a>"},{"owner":{"account_id":496224,"reputation":963,"user_id":2277627,"accept_rate":20,"display_name":"Elliotte Rusty Harold"},"score":2,"creation_date":1548761725,"post_id":730356,"comment_id":95649927,"body_markdown":"Using HttpServletResponse in anything that runs outside a servlet is likely to lead to diamond dependency problems due to overlapping classes in different servlet artifacts.","body":"Using HttpServletResponse in anything that runs outside a servlet is likely to lead to diamond dependency problems due to overlapping classes in different servlet artifacts."}],"tags":[],"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"comment_count":3,"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1488364972,"creation_date":1239201813,"answer_id":730356,"question_id":730283,"body_markdown":"The Interface `javax.servlet.http.HttpServletResponse` from the servlet API has all the response codes in the form of `int` constants names `SC_&lt;description&gt;`. See [http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>The Interface <code>javax.servlet.http.HttpServletResponse</code> from the servlet API has all the response codes in the form of <code>int</code> constants names <code>SC_&lt;description&gt;</code>. See <a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html\" rel=\"noreferrer\">http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html</a></p>\n"},{"comments":[{"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"score":0,"creation_date":1264510363,"post_id":731082,"comment_id":2079817,"body_markdown":"Again; status codes are extensible, so there can&#39;t be a &quot;complete&quot; list, unless it&#39;s revised everytime a new status code is added to the IANA registry (http://www.iana.org/assignments/http-status-codes)","body":"Again; status codes are extensible, so there can&#39;t be a &quot;complete&quot; list, unless it&#39;s revised everytime a new status code is added to the IANA registry (<a href=\"http://www.iana.org/assignments/http-status-codes\" rel=\"nofollow noreferrer\">iana.org/assignments/http-status-codes</a>)"}],"tags":[],"owner":{"account_id":31256,"reputation":1176,"user_id":85711,"accept_rate":71,"display_name":"Greg Noe"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1239213254,"creation_date":1239213254,"answer_id":731082,"question_id":730283,"body_markdown":"Also check out the Restlet Status class:\r\n\r\n[http://www.restlet.org/documentation/1.1/api/org/restlet/data/Status.html][1]\r\n\r\n\r\n  [1]: http://www.restlet.org/documentation/1.1/api/org/restlet/data/Status.html","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>Also check out the Restlet Status class:</p>\n\n<p><a href=\"http://www.restlet.org/documentation/1.1/api/org/restlet/data/Status.html\" rel=\"nofollow noreferrer\">http://www.restlet.org/documentation/1.1/api/org/restlet/data/Status.html</a></p>\n"},{"comments":[{"owner":{"account_id":2418532,"reputation":111,"user_id":2112091,"display_name":"lastmannorth"},"score":4,"creation_date":1499465731,"post_id":2136767,"comment_id":76936128,"body_markdown":"I would like to add that Springs org.springframework.http.HttpStatus (https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/HttpStatus.html) enum, is the only one I could find that provides Java documentation with links to the complete list of status codes and their usage in each enum. \nIf you are already using Spring then this would be the library to use.","body":"I would like to add that Springs org.springframework.http.HttpStatus (<a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/HttpStatus.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/javadoc-api/org/&hellip;</a>) enum, is the only one I could find that provides Java documentation with links to the complete list of status codes and their usage in each enum.  If you are already using Spring then this would be the library to use."},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":2,"creation_date":1552563704,"post_id":2136767,"comment_id":97062177,"body_markdown":"It has 100 and 418. Pity that you have to call `HttpStatus.XXX.value()` to get int.","body":"It has 100 and 418. Pity that you have to call <code>HttpStatus.XXX.value()</code> to get int."}],"tags":[],"owner":{"account_id":94943,"reputation":2506,"user_id":258896,"accept_rate":50,"display_name":"Ed J"},"comment_count":2,"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1264465642,"creation_date":1264465642,"answer_id":2136767,"question_id":730283,"body_markdown":"If you&#39;re using Spring, the 3.x release has what your looking for:\r\nhttp://static.springsource.org/spring/docs/3.0.x/api/org/springframework/http/HttpStatus.html\r\n","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>If you're using Spring, the 3.x release has what your looking for:\n<a href=\"http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/http/HttpStatus.html\" rel=\"noreferrer\">http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/http/HttpStatus.html</a></p>\n"},{"comments":[{"owner":{"account_id":134964,"reputation":22313,"user_id":337455,"accept_rate":80,"display_name":"Jeffrey Blattman"},"score":4,"creation_date":1357935022,"post_id":12284176,"comment_id":19837743,"body_markdown":"for client development, it&#39;s burdensome to include the entire servlet API just to pick up these codes.","body":"for client development, it&#39;s burdensome to include the entire servlet API just to pick up these codes."},{"owner":{"account_id":1345,"reputation":20408,"user_id":1796,"accept_rate":92,"display_name":"Andrei R&#238;nea"},"score":1,"creation_date":1422983694,"post_id":12284176,"comment_id":44960743,"body_markdown":"It might be burdensome for some cases but I&#39;ve found this good answer and I&#39;m writing a servlet-based web app so it&#39;s good for me.","body":"It might be burdensome for some cases but I&#39;ve found this good answer and I&#39;m writing a servlet-based web app so it&#39;s good for me."},{"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"score":2,"creation_date":1447421629,"post_id":12284176,"comment_id":55159193,"body_markdown":"A duplicate answer, posted over three years later? Should be deleted.","body":"A duplicate answer, posted over three years later? Should be deleted."}],"tags":[],"owner":{"account_id":322051,"reputation":2164,"user_id":641238,"accept_rate":75,"display_name":"Andr&#233;s Canavesi"},"comment_count":3,"down_vote_count":4,"up_vote_count":10,"is_accepted":false,"score":6,"last_activity_date":1346856656,"creation_date":1346856656,"answer_id":12284176,"question_id":730283,"body_markdown":"Use javax.servlet.http.HttpServletResponse class\r\n\r\nExample:\r\n\r\n    javax.servlet.http.HttpServletResponse.SC_UNAUTHORIZED //401\r\n    javax.servlet.http.HttpServletResponse.SC_INTERNAL_SERVER_ERROR //500","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>Use javax.servlet.http.HttpServletResponse class</p>\n\n<p>Example:</p>\n\n<pre><code>javax.servlet.http.HttpServletResponse.SC_UNAUTHORIZED //401\njavax.servlet.http.HttpServletResponse.SC_INTERNAL_SERVER_ERROR //500\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1645209927,"post_id":15511520,"comment_id":125819360,"body_markdown":"You can&#39;t place numbers in front due to Java naming rules but this doesn&#39;t matter. A good IDE will auto-complete even if the number shows up later in the name.","body":"You can&#39;t place numbers in front due to Java naming rules but this doesn&#39;t matter. A good IDE will auto-complete even if the number shows up later in the name."}],"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363731114,"creation_date":1363731114,"answer_id":15511520,"question_id":730283,"body_markdown":"The best provider for http status code constants is likely to be Jetty&#39;s org.eclipse.jetty.http.HttpStatus class because:\r\n\r\n* there is a javadoc package in maven which is important if you search for the constant and only know the number -&gt; just open the api docs page and search for the number\r\n* the constants contain the status code number itself.\r\n\r\nOnly thing I would improve: put the status code number in front of the text description in order to make auto-completion lookup more convient when you are starting with the code.","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>The best provider for http status code constants is likely to be Jetty's org.eclipse.jetty.http.HttpStatus class because:</p>\n\n<ul>\n<li>there is a javadoc package in maven which is important if you search for the constant and only know the number -> just open the api docs page and search for the number</li>\n<li>the constants contain the status code number itself.</li>\n</ul>\n\n<p>Only thing I would improve: put the status code number in front of the text description in order to make auto-completion lookup more convient when you are starting with the code.</p>\n"},{"tags":[],"owner":{"account_id":1309153,"reputation":285,"user_id":1257528,"accept_rate":60,"display_name":"ak123"},"comment_count":0,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1373556429,"creation_date":1373555312,"answer_id":17597053,"question_id":730283,"body_markdown":"Another option is to use `HttpStatus` class from the Apache commons-httpclient which provides you the various Http statuses as constants.","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>Another option is to use <code>HttpStatus</code> class from the Apache commons-httpclient which provides you the various Http statuses as constants.</p>\n"},{"comments":[{"owner":{"account_id":1580274,"reputation":2778,"user_id":1465785,"accept_rate":90,"display_name":"Frederick Roth"},"score":0,"creation_date":1437466426,"post_id":27670212,"comment_id":51027202,"body_markdown":"unfortunately this is no enum und therefore not usable in case statements(which makes me sad)","body":"unfortunately this is no enum und therefore not usable in case statements(which makes me sad)"}],"tags":[],"owner":{"account_id":1212298,"reputation":27085,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1419704688,"creation_date":1419704688,"answer_id":27670212,"question_id":730283,"body_markdown":"If you are using **Netty**, you can use:\r\n\r\n - io.netty.handler.codec.http.[**HttpResponseStatus**][1]\r\n\r\n\r\n  [1]: http://netty.io/4.0/api/io/netty/handler/codec/http/HttpResponseStatus.html\r\n","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>If you are using <strong>Netty</strong>, you can use:</p>\n\n<ul>\n<li>io.netty.handler.codec.http.<a href=\"http://netty.io/4.0/api/io/netty/handler/codec/http/HttpResponseStatus.html\" rel=\"noreferrer\"><strong>HttpResponseStatus</strong></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1036387,"reputation":4538,"user_id":1043563,"display_name":"David Avendasora"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1446740701,"creation_date":1446740701,"answer_id":33549759,"question_id":730283,"body_markdown":"Everyone seems to be ignoring the &quot;enum type&quot; portion of your question.\r\n\r\nWhile there is no canonical source for HTTP Status Codes there is an simple way to *add* any missing Status constants you need to those provided by `javax.ws.rs.core.Response.Status` without adding any additional dependencies to your project.\r\n\r\n`javax.ws.rs.core.Response.Status` is just one implementation of the `javax.ws.rs.core.Response.StatusType` interface. You simply need to create your own implementation enum with definitions for the Status Codes that you want. \r\n\r\nCore libraries like Javax, Jersey, etc. are written to the *interface* `StatusType` not the *implementation* `Status` (or they certainly **should** be). Since your new Status enum implements `StatusType` it can be used anyplace you would use a `javax.ws.rs.core.Response.Status` constant.\r\n\r\nJust remember that your own code should also be written to the `StatusType` interface. This will enable you to use both your own Status Codes along side the &quot;standard&quot; ones.\r\n\r\nHere&#39;s a gist with a simple implementation with constants defined for the &quot;Informational 1xx&quot; Status Codes: https://gist.github.com/avendasora/a5ed9acf6b1ee709a14a","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>Everyone seems to be ignoring the \"enum type\" portion of your question.</p>\n\n<p>While there is no canonical source for HTTP Status Codes there is an simple way to <em>add</em> any missing Status constants you need to those provided by <code>javax.ws.rs.core.Response.Status</code> without adding any additional dependencies to your project.</p>\n\n<p><code>javax.ws.rs.core.Response.Status</code> is just one implementation of the <code>javax.ws.rs.core.Response.StatusType</code> interface. You simply need to create your own implementation enum with definitions for the Status Codes that you want. </p>\n\n<p>Core libraries like Javax, Jersey, etc. are written to the <em>interface</em> <code>StatusType</code> not the <em>implementation</em> <code>Status</code> (or they certainly <strong>should</strong> be). Since your new Status enum implements <code>StatusType</code> it can be used anyplace you would use a <code>javax.ws.rs.core.Response.Status</code> constant.</p>\n\n<p>Just remember that your own code should also be written to the <code>StatusType</code> interface. This will enable you to use both your own Status Codes along side the \"standard\" ones.</p>\n\n<p>Here's a gist with a simple implementation with constants defined for the \"Informational 1xx\" Status Codes: <a href=\"https://gist.github.com/avendasora/a5ed9acf6b1ee709a14a\" rel=\"noreferrer\">https://gist.github.com/avendasora/a5ed9acf6b1ee709a14a</a></p>\n"},{"tags":[],"owner":{"account_id":6279192,"reputation":300,"user_id":4880874,"display_name":"Maira Bay"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466799931,"creation_date":1466799931,"answer_id":38021562,"question_id":730283,"body_markdown":"1) To get the reason **text** if you only have the code, you can use:\r\n\r\n    org.apache.http.impl.EnglishReasonPhraseCatalog.INSTANCE.getReason(httpCode,null)\r\n\r\nWhere `httpCode` would be the reason code that you got from the HTTP response.\r\n\r\nSee https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/impl/EnglishReasonPhraseCatalog.html for details\r\n\r\n2) To get the reason **code** if you only have the text, you can use `BasicHttpResponse`.\r\n\r\nSee here for details: https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/message/BasicHttpResponse.html","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>1) To get the reason <strong>text</strong> if you only have the code, you can use:</p>\n\n<pre><code>org.apache.http.impl.EnglishReasonPhraseCatalog.INSTANCE.getReason(httpCode,null)\n</code></pre>\n\n<p>Where <code>httpCode</code> would be the reason code that you got from the HTTP response.</p>\n\n<p>See <a href=\"https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/impl/EnglishReasonPhraseCatalog.html\" rel=\"noreferrer\">https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/impl/EnglishReasonPhraseCatalog.html</a> for details</p>\n\n<p>2) To get the reason <strong>code</strong> if you only have the text, you can use <code>BasicHttpResponse</code>.</p>\n\n<p>See here for details: <a href=\"https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/message/BasicHttpResponse.html\" rel=\"noreferrer\">https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/message/BasicHttpResponse.html</a></p>\n"},{"tags":[],"owner":{"account_id":7755596,"reputation":917,"user_id":6573838,"display_name":"Christian S."},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1613507307,"creation_date":1613452470,"answer_id":66219005,"question_id":730283,"body_markdown":"Here&#39;s an enum with status codes and their descriptions that (at time of writing) corresponds to the [HTTP status code registry](https://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml).\r\n\r\nNote that the registry might get updated, and that sometimes unofficial status codes are used.\r\n\r\n```lang-java\r\npublic enum HttpStatusCode {\r\n\r\n    //1xx: Informational\r\n    CONTINUE(100, &quot;Continue&quot;),\r\n    SWITCHING_PROTOCOLS(101, &quot;Switching Protocols&quot;),\r\n    PROCESSING(102, &quot;Processing&quot;),\r\n    EARLY_HINTS(103, &quot;Early Hints&quot;),\r\n\r\n    //2xx: Success\r\n    OK(200, &quot;OK&quot;),\r\n    CREATED(201, &quot;Created&quot;),\r\n    ACCEPTED(202, &quot;Accepted&quot;),\r\n    NON_AUTHORITATIVE_INFORMATION(203, &quot;Non-Authoritative Information&quot;),\r\n    NO_CONTENT(204, &quot;No Content&quot;),\r\n    RESET_CONTENT(205, &quot;Reset Content&quot;),\r\n    PARTIAL_CONTENT(206, &quot;Partial Content&quot;),\r\n    MULTI_STATUS(207, &quot;Multi-Status&quot;),\r\n    ALREADY_REPORTED(208, &quot;Already Reported&quot;),\r\n    IM_USED(226, &quot;IM Used&quot;),\r\n\r\n    //3xx: Redirection\r\n    MULTIPLE_CHOICES(300, &quot;Multiple Choice&quot;),\r\n    MOVED_PERMANENTLY(301, &quot;Moved Permanently&quot;),\r\n    FOUND(302, &quot;Found&quot;),\r\n    SEE_OTHER(303, &quot;See Other&quot;),\r\n    NOT_MODIFIED(304, &quot;Not Modified&quot;),\r\n    USE_PROXY(305, &quot;Use Proxy&quot;),\r\n    TEMPORARY_REDIRECT(307, &quot;Temporary Redirect&quot;),\r\n    PERMANENT_REDIRECT(308, &quot;Permanent Redirect&quot;),\r\n\r\n    //4xx: Client Error\r\n    BAD_REQUEST(400, &quot;Bad Request&quot;),\r\n    UNAUTHORIZED(401, &quot;Unauthorized&quot;),\r\n    PAYMENT_REQUIRED(402, &quot;Payment Required&quot;),\r\n    FORBIDDEN(403, &quot;Forbidden&quot;),\r\n    NOT_FOUND(404, &quot;Not Found&quot;),\r\n    METHOD_NOT_ALLOWED(405, &quot;Method Not Allowed&quot;),\r\n    NOT_ACCEPTABLE(406, &quot;Not Acceptable&quot;),\r\n    PROXY_AUTHENTICATION_REQUIRED(407, &quot;Proxy Authentication Required&quot;),\r\n    REQUEST_TIMEOUT(408, &quot;Request Timeout&quot;),\r\n    CONFLICT(409, &quot;Conflict&quot;),\r\n    GONE(410, &quot;Gone&quot;),\r\n    LENGTH_REQUIRED(411, &quot;Length Required&quot;),\r\n    PRECONDITION_FAILED(412, &quot;Precondition Failed&quot;),\r\n    REQUEST_TOO_LONG(413, &quot;Payload Too Large&quot;),\r\n    REQUEST_URI_TOO_LONG(414, &quot;URI Too Long&quot;),\r\n    UNSUPPORTED_MEDIA_TYPE(415, &quot;Unsupported Media Type&quot;),\r\n    REQUESTED_RANGE_NOT_SATISFIABLE(416, &quot;Range Not Satisfiable&quot;),\r\n    EXPECTATION_FAILED(417, &quot;Expectation Failed&quot;),\r\n    MISDIRECTED_REQUEST(421, &quot;Misdirected Request&quot;),\r\n    UNPROCESSABLE_ENTITY(422, &quot;Unprocessable Entity&quot;),\r\n    LOCKED(423, &quot;Locked&quot;),\r\n    FAILED_DEPENDENCY(424, &quot;Failed Dependency&quot;),\r\n    TOO_EARLY(425, &quot;Too Early&quot;),\r\n    UPGRADE_REQUIRED(426, &quot;Upgrade Required&quot;),\r\n    PRECONDITION_REQUIRED(428, &quot;Precondition Required&quot;),\r\n    TOO_MANY_REQUESTS(429, &quot;Too Many Requests&quot;),\r\n    REQUEST_HEADER_FIELDS_TOO_LARGE(431, &quot;Request Header Fields Too Large&quot;),\r\n    UNAVAILABLE_FOR_LEGAL_REASONS(451, &quot;Unavailable For Legal Reasons&quot;),\r\n\r\n    //5xx: Server Error\r\n    INTERNAL_SERVER_ERROR(500, &quot;Internal Server Error&quot;),\r\n    NOT_IMPLEMENTED(501, &quot;Not Implemented&quot;),\r\n    BAD_GATEWAY(502, &quot;Bad Gateway&quot;),\r\n    SERVICE_UNAVAILABLE(503, &quot;Service Unavailable&quot;),\r\n    GATEWAY_TIMEOUT(504, &quot;Gateway Timeout&quot;),\r\n    HTTP_VERSION_NOT_SUPPORTED(505, &quot;HTTP Version Not Supported&quot;),\r\n    VARIANT_ALSO_NEGOTIATES(506, &quot;Variant Also Negotiates&quot;),\r\n    INSUFFICIENT_STORAGE(507, &quot;Insufficient Storage&quot;),\r\n    LOOP_DETECTED(508, &quot;Loop Detected&quot;),\r\n    NOT_EXTENDED(510, &quot;Not Extended&quot;),\r\n    NETWORK_AUTHENTICATION_REQUIRED(511, &quot;Network Authentication Required&quot;);\r\n\r\n    private final int value;\r\n    private final String description;\r\n\r\n    HttpStatusCode(int value, String description) {\r\n        this.value = value;\r\n        this.description = description;\r\n    }\r\n\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return value + &quot; &quot; + description;\r\n    }\r\n\r\n    public static HttpStatusCode getByValue(int value) {\r\n        for(HttpStatusCode status : values()) {\r\n            if(status.value == value) return status;\r\n        }\r\n        throw new IllegalArgumentException(&quot;Invalid status code: &quot; + value);\r\n    }\r\n}\r\n```","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>Here's an enum with status codes and their descriptions that (at time of writing) corresponds to the <a href=\"https://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml\" rel=\"noreferrer\">HTTP status code registry</a>.</p>\n<p>Note that the registry might get updated, and that sometimes unofficial status codes are used.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum HttpStatusCode {\n\n    //1xx: Informational\n    CONTINUE(100, &quot;Continue&quot;),\n    SWITCHING_PROTOCOLS(101, &quot;Switching Protocols&quot;),\n    PROCESSING(102, &quot;Processing&quot;),\n    EARLY_HINTS(103, &quot;Early Hints&quot;),\n\n    //2xx: Success\n    OK(200, &quot;OK&quot;),\n    CREATED(201, &quot;Created&quot;),\n    ACCEPTED(202, &quot;Accepted&quot;),\n    NON_AUTHORITATIVE_INFORMATION(203, &quot;Non-Authoritative Information&quot;),\n    NO_CONTENT(204, &quot;No Content&quot;),\n    RESET_CONTENT(205, &quot;Reset Content&quot;),\n    PARTIAL_CONTENT(206, &quot;Partial Content&quot;),\n    MULTI_STATUS(207, &quot;Multi-Status&quot;),\n    ALREADY_REPORTED(208, &quot;Already Reported&quot;),\n    IM_USED(226, &quot;IM Used&quot;),\n\n    //3xx: Redirection\n    MULTIPLE_CHOICES(300, &quot;Multiple Choice&quot;),\n    MOVED_PERMANENTLY(301, &quot;Moved Permanently&quot;),\n    FOUND(302, &quot;Found&quot;),\n    SEE_OTHER(303, &quot;See Other&quot;),\n    NOT_MODIFIED(304, &quot;Not Modified&quot;),\n    USE_PROXY(305, &quot;Use Proxy&quot;),\n    TEMPORARY_REDIRECT(307, &quot;Temporary Redirect&quot;),\n    PERMANENT_REDIRECT(308, &quot;Permanent Redirect&quot;),\n\n    //4xx: Client Error\n    BAD_REQUEST(400, &quot;Bad Request&quot;),\n    UNAUTHORIZED(401, &quot;Unauthorized&quot;),\n    PAYMENT_REQUIRED(402, &quot;Payment Required&quot;),\n    FORBIDDEN(403, &quot;Forbidden&quot;),\n    NOT_FOUND(404, &quot;Not Found&quot;),\n    METHOD_NOT_ALLOWED(405, &quot;Method Not Allowed&quot;),\n    NOT_ACCEPTABLE(406, &quot;Not Acceptable&quot;),\n    PROXY_AUTHENTICATION_REQUIRED(407, &quot;Proxy Authentication Required&quot;),\n    REQUEST_TIMEOUT(408, &quot;Request Timeout&quot;),\n    CONFLICT(409, &quot;Conflict&quot;),\n    GONE(410, &quot;Gone&quot;),\n    LENGTH_REQUIRED(411, &quot;Length Required&quot;),\n    PRECONDITION_FAILED(412, &quot;Precondition Failed&quot;),\n    REQUEST_TOO_LONG(413, &quot;Payload Too Large&quot;),\n    REQUEST_URI_TOO_LONG(414, &quot;URI Too Long&quot;),\n    UNSUPPORTED_MEDIA_TYPE(415, &quot;Unsupported Media Type&quot;),\n    REQUESTED_RANGE_NOT_SATISFIABLE(416, &quot;Range Not Satisfiable&quot;),\n    EXPECTATION_FAILED(417, &quot;Expectation Failed&quot;),\n    MISDIRECTED_REQUEST(421, &quot;Misdirected Request&quot;),\n    UNPROCESSABLE_ENTITY(422, &quot;Unprocessable Entity&quot;),\n    LOCKED(423, &quot;Locked&quot;),\n    FAILED_DEPENDENCY(424, &quot;Failed Dependency&quot;),\n    TOO_EARLY(425, &quot;Too Early&quot;),\n    UPGRADE_REQUIRED(426, &quot;Upgrade Required&quot;),\n    PRECONDITION_REQUIRED(428, &quot;Precondition Required&quot;),\n    TOO_MANY_REQUESTS(429, &quot;Too Many Requests&quot;),\n    REQUEST_HEADER_FIELDS_TOO_LARGE(431, &quot;Request Header Fields Too Large&quot;),\n    UNAVAILABLE_FOR_LEGAL_REASONS(451, &quot;Unavailable For Legal Reasons&quot;),\n\n    //5xx: Server Error\n    INTERNAL_SERVER_ERROR(500, &quot;Internal Server Error&quot;),\n    NOT_IMPLEMENTED(501, &quot;Not Implemented&quot;),\n    BAD_GATEWAY(502, &quot;Bad Gateway&quot;),\n    SERVICE_UNAVAILABLE(503, &quot;Service Unavailable&quot;),\n    GATEWAY_TIMEOUT(504, &quot;Gateway Timeout&quot;),\n    HTTP_VERSION_NOT_SUPPORTED(505, &quot;HTTP Version Not Supported&quot;),\n    VARIANT_ALSO_NEGOTIATES(506, &quot;Variant Also Negotiates&quot;),\n    INSUFFICIENT_STORAGE(507, &quot;Insufficient Storage&quot;),\n    LOOP_DETECTED(508, &quot;Loop Detected&quot;),\n    NOT_EXTENDED(510, &quot;Not Extended&quot;),\n    NETWORK_AUTHENTICATION_REQUIRED(511, &quot;Network Authentication Required&quot;);\n\n    private final int value;\n    private final String description;\n\n    HttpStatusCode(int value, String description) {\n        this.value = value;\n        this.description = description;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    @Override\n    public String toString() {\n        return value + &quot; &quot; + description;\n    }\n\n    public static HttpStatusCode getByValue(int value) {\n        for(HttpStatusCode status : values()) {\n            if(status.value == value) return status;\n        }\n        throw new IllegalArgumentException(&quot;Invalid status code: &quot; + value);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7606894,"reputation":11,"user_id":5769264,"display_name":"Ye Gaung"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632381235,"creation_date":1632381235,"answer_id":69295459,"question_id":730283,"body_markdown":"Please see the following enum from the Spring framework which provides all the HTTP response status code\r\n\r\n  HttpStatus.values()","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>Please see the following enum from the Spring framework which provides all the HTTP response status code</p>\n<p>HttpStatus.values()</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687468846,"post_id":76518046,"comment_id":134945302,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76518046/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28861061,"reputation":1,"user_id":22104858,"display_name":"Minh Chien"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687291355,"creation_date":1687291355,"answer_id":76518046,"question_id":730283,"body_markdown":"pls try HttpStatus.ACCEPTED.value()\r\n","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>pls try HttpStatus.ACCEPTED.value()</p>\n"}],"owner":{"account_id":32082,"reputation":3448,"user_id":88620,"display_name":"Zoltan Szilagyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242151,"favorite_count":0,"down_vote_count":0,"up_vote_count":329,"accepted_answer_id":730341,"answer_count":14,"score":329,"last_activity_date":1687291355,"creation_date":1239201052,"question_id":730283,"body_markdown":"I&#39;m wondering if there is an enum type in some standard Java class library that defines symbolic constants for all of the valid HTTP response codes. It should support conversion to/from the corresponding integer values.\r\n\r\nI&#39;m debugging some Java code that uses `javax.ws.rs.core.Response.Status`. It works, but it only defines about half of the valid HTTP response codes.","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>I'm wondering if there is an enum type in some standard Java class library that defines symbolic constants for all of the valid HTTP response codes. It should support conversion to/from the corresponding integer values.</p>\n<p>I'm debugging some Java code that uses <code>javax.ws.rs.core.Response.Status</code>. It works, but it only defines about half of the valid HTTP response codes.</p>\n"},{"tags":["java","excel","apache-poi","outputstream","chunks"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687054556,"post_id":76498705,"comment_id":134883004,"body_markdown":"The _stream closed_ error is from _workbook_, or _outputStream_?","body":"The <i>stream closed</i> error is from <i>workbook</i>, or <i>outputStream</i>?"},{"owner":{"account_id":18809844,"reputation":1,"user_id":22085503,"display_name":"master"},"score":0,"creation_date":1687059786,"post_id":76498705,"comment_id":134883218,"body_markdown":"The error occurs in the workbook when it enters the second iteration of the while loop.","body":"The error occurs in the workbook when it enters the second iteration of the while loop."}],"answers":[{"comments":[{"owner":{"account_id":18809844,"reputation":1,"user_id":22085503,"display_name":"master"},"score":0,"creation_date":1687066948,"post_id":76499099,"comment_id":134883545,"body_markdown":"Hello Axel, thank you for your comment. I will review the documentation you provided and try to apply it to what I need. I have tried with several libraries other than Apache POI, and they all work in the same way.","body":"Hello Axel, thank you for your comment. I will review the documentation you provided and try to apply it to what I need. I have tried with several libraries other than Apache POI, and they all work in the same way."}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687150612,"creation_date":1687064720,"answer_id":76499099,"question_id":76498705,"body_markdown":"What you are trying to do is not possible. At least not using [Apache POI](https://poi.apache.org/) up to now.\r\n\r\nOffice Open XML files, such as `*.xlsx` files too, are ZIP archives containing the data in a special internally file structure. The ZIP archive contains `*.xml` files and other files too in a special directory structure. The different parts are related to each other. The relations are stored in `*.rel` files storing special relation-XML. One can see this if one simply unzips the  `*.xlsx` file for example. 7-Zip can do this by default, using other ZIP-Software one needs renaming the file `*.zip`.\r\n\r\nAfter knowing this and have seen this structure, think about how to fill this chunk by chunk considering all the relations. Conclusion: Very hard to nearly impossible.\r\n\r\nOpening a `Workbook` object of any kind opens that ZIP archive and reads internally stored files into memory. And `Workbook.write` writes the complete internally ZIP content into the file. So after `Workbook.write` the workbook object is not more usable until it gets opened again. Thus using it in a loop like: put first content in, write, put second content in, write, ... is not possible. It would must be like: open workbook, put first content in, write, close workbook, open workbook, put second content in, write, close workbook, ... But that contradicts your needs as opening the workbook always reads all content into memory.\r\n\r\nBut why not simply using `SXSSFWorkbook` as thought by the programmers? See [SXSSF (Streaming Usermodel API)](https://poi.apache.org/components/spreadsheet/how-to.html#sxssf). Using the default properties this does exactly what you are trying to do. It only remains 100 rows of sheet data in memory. Other sheet data gets written in a temporary sheet XML file. Only other data and relations remaining in memory permanently. When done `SXSSFWorkbook.write` composes the ZIP archive using the temporary stored sheet data.\r\n\r\nOf course `SXSSFWorkbook.write` also needs to write the whole `*.xlsx`-ZIP-archive then. So, if your problem is about delivering a big file to a client, then store the `*.xlsx` file server-side using `SXSSFWorkbook.write`. Then think about it as a big binary file to deliver (provide to download) to the client. There should be default approaches to solve that kind of task as that is a default kind of task. Self programming the division into chunks is not necessary and is a bad idea in my opinion.\r\n","title":"Sending files in blocks","body":"<p>What you are trying to do is not possible. At least not using <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache POI</a> up to now.</p>\n<p>Office Open XML files, such as <code>*.xlsx</code> files too, are ZIP archives containing the data in a special internally file structure. The ZIP archive contains <code>*.xml</code> files and other files too in a special directory structure. The different parts are related to each other. The relations are stored in <code>*.rel</code> files storing special relation-XML. One can see this if one simply unzips the  <code>*.xlsx</code> file for example. 7-Zip can do this by default, using other ZIP-Software one needs renaming the file <code>*.zip</code>.</p>\n<p>After knowing this and have seen this structure, think about how to fill this chunk by chunk considering all the relations. Conclusion: Very hard to nearly impossible.</p>\n<p>Opening a <code>Workbook</code> object of any kind opens that ZIP archive and reads internally stored files into memory. And <code>Workbook.write</code> writes the complete internally ZIP content into the file. So after <code>Workbook.write</code> the workbook object is not more usable until it gets opened again. Thus using it in a loop like: put first content in, write, put second content in, write, ... is not possible. It would must be like: open workbook, put first content in, write, close workbook, open workbook, put second content in, write, close workbook, ... But that contradicts your needs as opening the workbook always reads all content into memory.</p>\n<p>But why not simply using <code>SXSSFWorkbook</code> as thought by the programmers? See <a href=\"https://poi.apache.org/components/spreadsheet/how-to.html#sxssf\" rel=\"nofollow noreferrer\">SXSSF (Streaming Usermodel API)</a>. Using the default properties this does exactly what you are trying to do. It only remains 100 rows of sheet data in memory. Other sheet data gets written in a temporary sheet XML file. Only other data and relations remaining in memory permanently. When done <code>SXSSFWorkbook.write</code> composes the ZIP archive using the temporary stored sheet data.</p>\n<p>Of course <code>SXSSFWorkbook.write</code> also needs to write the whole <code>*.xlsx</code>-ZIP-archive then. So, if your problem is about delivering a big file to a client, then store the <code>*.xlsx</code> file server-side using <code>SXSSFWorkbook.write</code>. Then think about it as a big binary file to deliver (provide to download) to the client. There should be default approaches to solve that kind of task as that is a default kind of task. Self programming the division into chunks is not necessary and is a bad idea in my opinion.</p>\n"},{"tags":[],"owner":{"account_id":5459362,"reputation":565,"user_id":4341933,"accept_rate":100,"display_name":"Alexander Mladzhov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687071669,"creation_date":1687071669,"answer_id":76499392,"question_id":76498705,"body_markdown":"You can use another approach. You can split the excel file into binary blocks and send them. The receiving side can then put them together based on name of each block\r\n\r\nSender:\r\n\r\n    public class ExcelSplitter {\r\n        public static void main(String[] args) {\r\n            String inputFilePath = &quot;input.xlsx&quot;;\r\n            String outputFolderPath = &quot;output&quot;;\r\n            int blockSize = 1024; // Size of each binary block in bytes\r\n    \r\n            try {\r\n                // Load the Excel file\r\n                FileInputStream fileInputStream = new FileInputStream(inputFilePath);\r\n                Workbook workbook = WorkbookFactory.create(fileInputStream);\r\n                \r\n                // Iterate over each sheet in the workbook\r\n                for (int sheetIndex = 0; sheetIndex &lt; workbook.getNumberOfSheets(); sheetIndex++) {\r\n                    Sheet sheet = workbook.getSheetAt(sheetIndex);\r\n                    String sheetName = sheet.getSheetName();\r\n    \r\n                    // Convert the sheet to binary blocks\r\n                    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n                    DataOutputStream dataOutputStream = new DataOutputStream(byteArrayOutputStream);\r\n                    for (Row row : sheet) {\r\n                        for (Cell cell : row) {\r\n                            // Write cell data as bytes to the output stream\r\n                            dataOutputStream.write(cell.toString().getBytes());\r\n                        }\r\n                    }\r\n                    dataOutputStream.close();\r\n    \r\n                    // Split the binary data into blocks\r\n                    byte[] binaryData = byteArrayOutputStream.toByteArray();\r\n                    int numBlocks = (int) Math.ceil((double) binaryData.length / blockSize);\r\n                    for (int blockIndex = 0; blockIndex &lt; numBlocks; blockIndex++) {\r\n                        int startIndex = blockIndex * blockSize;\r\n                        int endIndex = Math.min((blockIndex + 1) * blockSize, binaryData.length);\r\n                        byte[] blockData = new byte[endIndex - startIndex];\r\n                        System.arraycopy(binaryData, startIndex, blockData, 0, blockData.length);\r\n    \r\n                        // Save each binary block as a separate file\r\n                        String outputFilePath = outputFolderPath + &quot;/&quot; + sheetName + &quot;_block&quot; + blockIndex + &quot;.bin&quot;;\r\n                        FileOutputStream fileOutputStream = new FileOutputStream(outputFilePath);\r\n                        fileOutputStream.write(blockData);\r\n                        fileOutputStream.close();\r\n                    }\r\n                }\r\n    \r\n                // Close the workbook and input stream\r\n                workbook.close();\r\n                fileInputStream.close();\r\n    \r\n                System.out.println(&quot;Excel file split into binary blocks successfully.&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nReceiver:\r\n\r\n    public class ExcelReconstructor {\r\n        public static void main(String[] args) {\r\n            String inputFolderPath = &quot;input_chunks&quot;;\r\n            String outputFilePath = &quot;output.xlsx&quot;;\r\n            int blockSize = 1024; // Size of each binary block in bytes\r\n    \r\n            try {\r\n                // List all binary chunk files in the input folder\r\n                File folder = new File(inputFolderPath);\r\n                File[] chunkFiles = folder.listFiles((dir, name) -&gt; name.toLowerCase().endsWith(&quot;.bin&quot;));\r\n                \r\n                // Sort the chunk files based on the block index\r\n                List&lt;File&gt; sortedChunkFiles = new ArrayList&lt;&gt;();\r\n                for (int i = 0; i &lt; chunkFiles.length; i++) {\r\n                    sortedChunkFiles.add(null);\r\n                }\r\n                for (File chunkFile : chunkFiles) {\r\n                    String fileName = chunkFile.getName();\r\n                    int blockIndex = Integer.parseInt(fileName.substring(fileName.lastIndexOf(&quot;_block&quot;) + 6, fileName.lastIndexOf(&quot;.&quot;)));\r\n                    sortedChunkFiles.set(blockIndex, chunkFile);\r\n                }\r\n    \r\n                // Create the output file\r\n                FileOutputStream fileOutputStream = new FileOutputStream(outputFilePath);\r\n    \r\n                // Concatenate the binary data from each chunk file\r\n                for (File chunkFile : sortedChunkFiles) {\r\n                    FileInputStream fileInputStream = new FileInputStream(chunkFile);\r\n                    byte[] blockData = new byte[blockSize];\r\n                    int bytesRead = fileInputStream.read(blockData);\r\n                    while (bytesRead != -1) {\r\n                        // Write the block data to the output file\r\n                        fileOutputStream.write(blockData, 0, bytesRead);\r\n                        bytesRead = fileInputStream.read(blockData);\r\n                    }\r\n                    fileInputStream.close();\r\n                }\r\n    \r\n                // Close the output file stream\r\n                fileOutputStream.close();\r\n    \r\n                System.out.println(&quot;Binary chunks reconstructed into Excel file successfully.&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Sending files in blocks","body":"<p>You can use another approach. You can split the excel file into binary blocks and send them. The receiving side can then put them together based on name of each block</p>\n<p>Sender:</p>\n<pre><code>public class ExcelSplitter {\n    public static void main(String[] args) {\n        String inputFilePath = &quot;input.xlsx&quot;;\n        String outputFolderPath = &quot;output&quot;;\n        int blockSize = 1024; // Size of each binary block in bytes\n\n        try {\n            // Load the Excel file\n            FileInputStream fileInputStream = new FileInputStream(inputFilePath);\n            Workbook workbook = WorkbookFactory.create(fileInputStream);\n            \n            // Iterate over each sheet in the workbook\n            for (int sheetIndex = 0; sheetIndex &lt; workbook.getNumberOfSheets(); sheetIndex++) {\n                Sheet sheet = workbook.getSheetAt(sheetIndex);\n                String sheetName = sheet.getSheetName();\n\n                // Convert the sheet to binary blocks\n                ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                DataOutputStream dataOutputStream = new DataOutputStream(byteArrayOutputStream);\n                for (Row row : sheet) {\n                    for (Cell cell : row) {\n                        // Write cell data as bytes to the output stream\n                        dataOutputStream.write(cell.toString().getBytes());\n                    }\n                }\n                dataOutputStream.close();\n\n                // Split the binary data into blocks\n                byte[] binaryData = byteArrayOutputStream.toByteArray();\n                int numBlocks = (int) Math.ceil((double) binaryData.length / blockSize);\n                for (int blockIndex = 0; blockIndex &lt; numBlocks; blockIndex++) {\n                    int startIndex = blockIndex * blockSize;\n                    int endIndex = Math.min((blockIndex + 1) * blockSize, binaryData.length);\n                    byte[] blockData = new byte[endIndex - startIndex];\n                    System.arraycopy(binaryData, startIndex, blockData, 0, blockData.length);\n\n                    // Save each binary block as a separate file\n                    String outputFilePath = outputFolderPath + &quot;/&quot; + sheetName + &quot;_block&quot; + blockIndex + &quot;.bin&quot;;\n                    FileOutputStream fileOutputStream = new FileOutputStream(outputFilePath);\n                    fileOutputStream.write(blockData);\n                    fileOutputStream.close();\n                }\n            }\n\n            // Close the workbook and input stream\n            workbook.close();\n            fileInputStream.close();\n\n            System.out.println(&quot;Excel file split into binary blocks successfully.&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Receiver:</p>\n<pre><code>public class ExcelReconstructor {\n    public static void main(String[] args) {\n        String inputFolderPath = &quot;input_chunks&quot;;\n        String outputFilePath = &quot;output.xlsx&quot;;\n        int blockSize = 1024; // Size of each binary block in bytes\n\n        try {\n            // List all binary chunk files in the input folder\n            File folder = new File(inputFolderPath);\n            File[] chunkFiles = folder.listFiles((dir, name) -&gt; name.toLowerCase().endsWith(&quot;.bin&quot;));\n            \n            // Sort the chunk files based on the block index\n            List&lt;File&gt; sortedChunkFiles = new ArrayList&lt;&gt;();\n            for (int i = 0; i &lt; chunkFiles.length; i++) {\n                sortedChunkFiles.add(null);\n            }\n            for (File chunkFile : chunkFiles) {\n                String fileName = chunkFile.getName();\n                int blockIndex = Integer.parseInt(fileName.substring(fileName.lastIndexOf(&quot;_block&quot;) + 6, fileName.lastIndexOf(&quot;.&quot;)));\n                sortedChunkFiles.set(blockIndex, chunkFile);\n            }\n\n            // Create the output file\n            FileOutputStream fileOutputStream = new FileOutputStream(outputFilePath);\n\n            // Concatenate the binary data from each chunk file\n            for (File chunkFile : sortedChunkFiles) {\n                FileInputStream fileInputStream = new FileInputStream(chunkFile);\n                byte[] blockData = new byte[blockSize];\n                int bytesRead = fileInputStream.read(blockData);\n                while (bytesRead != -1) {\n                    // Write the block data to the output file\n                    fileOutputStream.write(blockData, 0, bytesRead);\n                    bytesRead = fileInputStream.read(blockData);\n                }\n                fileInputStream.close();\n            }\n\n            // Close the output file stream\n            fileOutputStream.close();\n\n            System.out.println(&quot;Binary chunks reconstructed into Excel file successfully.&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18809844,"reputation":1,"user_id":22085503,"display_name":"master"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687291202,"creation_date":1687051022,"question_id":76498705,"body_markdown":"I have a problem sending an Excel file in blocks. I have this code that is supposed to do this, and it works fine up to a certain point. However, the issue is that it only writes the first 100 records. After that, the file size remains the same as if it had all 10,000 records, but when opened, it only has 100 records.\r\n\r\n```\r\n@Override\r\npublic void generateAndSendExcelChunks(ServletOutputStream outputStream) throws IOException {\r\n    Workbook workbook = new SXSSFWorkbook();\r\n\r\n    Sheet sheet = workbook.createSheet(&quot;Datos&quot;);\r\n    int totalRows = 10000;\r\n    int rowsPerChunk = 100;\r\n    int currentRow = 0;\r\n\r\n    while (currentRow &lt; totalRows) {\r\n        int endRow = currentRow + rowsPerChunk;\r\n        endRow = Math.min(endRow, totalRows);\r\n        generateChunkData(sheet, currentRow, endRow);\r\n        workbook.write(outputStream);\r\n        outputStream.flush();\r\n        sheet = workbook.createSheet(&quot;Datos&quot;);\r\n        currentRow = endRow;\r\n    }\r\n\r\n    workbook.close();\r\n}\r\n\r\nprivate void generateChunkData(Sheet sheet, int startRow, int endRow) {\r\n    for (int i = startRow; i &lt; endRow; i++) {\r\n        Row row = sheet.createRow(i);\r\n        Cell cell = row.createCell(0);\r\n        cell.setCellValue(&quot;Valor &quot; + (i + 1));\r\n    }\r\n}\r\n```\r\n\r\nThe line `sheet = workbook.createSheet(&quot;Datos&quot;);` doesn&#39;t work because it tries to create a sheet with a name that already exists. If I try to get a reference to that sheet, it gives a &quot;stream closed&quot; error on this line: `workbook.write(outputStream);`. The intended functionality is to store all the information in the same sheet without overwriting anything.","title":"Sending files in blocks","body":"<p>I have a problem sending an Excel file in blocks. I have this code that is supposed to do this, and it works fine up to a certain point. However, the issue is that it only writes the first 100 records. After that, the file size remains the same as if it had all 10,000 records, but when opened, it only has 100 records.</p>\n<pre><code>@Override\npublic void generateAndSendExcelChunks(ServletOutputStream outputStream) throws IOException {\n    Workbook workbook = new SXSSFWorkbook();\n\n    Sheet sheet = workbook.createSheet(&quot;Datos&quot;);\n    int totalRows = 10000;\n    int rowsPerChunk = 100;\n    int currentRow = 0;\n\n    while (currentRow &lt; totalRows) {\n        int endRow = currentRow + rowsPerChunk;\n        endRow = Math.min(endRow, totalRows);\n        generateChunkData(sheet, currentRow, endRow);\n        workbook.write(outputStream);\n        outputStream.flush();\n        sheet = workbook.createSheet(&quot;Datos&quot;);\n        currentRow = endRow;\n    }\n\n    workbook.close();\n}\n\nprivate void generateChunkData(Sheet sheet, int startRow, int endRow) {\n    for (int i = startRow; i &lt; endRow; i++) {\n        Row row = sheet.createRow(i);\n        Cell cell = row.createCell(0);\n        cell.setCellValue(&quot;Valor &quot; + (i + 1));\n    }\n}\n</code></pre>\n<p>The line <code>sheet = workbook.createSheet(&quot;Datos&quot;);</code> doesn't work because it tries to create a sheet with a name that already exists. If I try to get a reference to that sheet, it gives a &quot;stream closed&quot; error on this line: <code>workbook.write(outputStream);</code>. The intended functionality is to store all the information in the same sheet without overwriting anything.</p>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1557022991,"post_id":55986874,"comment_id":98625253,"body_markdown":"mvn is not in the path known to visual studio code.","body":"mvn is not in the path known to visual studio code."},{"owner":{"account_id":11889072,"reputation":729,"user_id":8700522,"display_name":"saitama"},"score":2,"creation_date":1557026994,"post_id":55986874,"comment_id":98625708,"body_markdown":"Can you tell me how to set","body":"Can you tell me how to set"},{"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"score":0,"creation_date":1557124817,"post_id":55986874,"comment_id":98646421,"body_markdown":"could you show the system environment varaible screenshot,if mvn -version is running,it means you have set the mvn path already,it&#39;s strange","body":"could you show the system environment varaible screenshot,if mvn -version is running,it means you have set the mvn path already,it&#39;s strange"},{"owner":{"account_id":11889072,"reputation":729,"user_id":8700522,"display_name":"saitama"},"score":0,"creation_date":1557226037,"post_id":55986874,"comment_id":98685498,"body_markdown":"I have set the maven path but still its not running I will attach the screenshot later","body":"I have set the maven path but still its not running I will attach the screenshot later"},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1557307641,"post_id":55986874,"comment_id":98717376,"body_markdown":"As per your statement: `MAVEN_JOME : C:\\MAVEN\\apache-maven-3.6.1`, `M2_HOME : C:\\apache-maven-3.6.1`, so my question is are these 2 different folders (C:\\MAVEN\\apache... &amp; C:\\apache....) ? or you have set path in one of them incorrectly?","body":"As per your statement: <code>MAVEN_JOME : C:\\MAVEN\\apache-maven-3.6.1</code>, <code>M2_HOME : C:\\apache-maven-3.6.1</code>, so my question is are these 2 different folders (C:\\MAVEN\\apache... &amp; C:\\apache....) ? or you have set path in one of them incorrectly?"},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1557307689,"post_id":55986874,"comment_id":98717408,"body_markdown":"Also, from command line, what is the output for 1. %M2_HOME%\\bin\\mvn and 2. %MAVEN_HOME%\\bin\\mvn ?","body":"Also, from command line, what is the output for 1. %M2_HOME%\\bin\\mvn and 2. %MAVEN_HOME%\\bin\\mvn ?"},{"owner":{"account_id":11889072,"reputation":729,"user_id":8700522,"display_name":"saitama"},"score":0,"creation_date":1557346715,"post_id":55986874,"comment_id":98738352,"body_markdown":"the `MAVEN_HOME :  C:\\apache-maven-3.6.1` and  `M2_HOME : C:\\apache-maven-3.6.1` both are same that was a typing mistake. Sorry for the inconvenience.I&#39;m correcting in the question also.","body":"the <code>MAVEN_HOME :  C:\\apache-maven-3.6.1</code> and  <code>M2_HOME : C:\\apache-maven-3.6.1</code> both are same that was a typing mistake. Sorry for the inconvenience.I&#39;m correcting in the question also."},{"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"score":0,"creation_date":1559703203,"post_id":55986874,"comment_id":99500114,"body_markdown":"Has this issue been resolved ?","body":"Has this issue been resolved ?"},{"owner":{"account_id":394950,"reputation":2790,"user_id":757661,"accept_rate":80,"display_name":"gordon613"},"score":0,"creation_date":1611850073,"post_id":55986874,"comment_id":116588595,"body_markdown":"Just in case this helps someone. I had something similar. I solved it by simply restarting the VS Code. (Just as one needs to start a new CMD in order to recognize a change in environment variables)","body":"Just in case this helps someone. I had something similar. I solved it by simply restarting the VS Code. (Just as one needs to start a new CMD in order to recognize a change in environment variables)"}],"answers":[{"tags":[],"owner":{"account_id":16334241,"reputation":340,"user_id":11796846,"display_name":"KP Singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1619103870,"creation_date":1619103870,"answer_id":67215904,"question_id":55986874,"body_markdown":"I fixed this problem by simply restarting VSCode as I had set my PATH variable while my VSCode was running so the changes were not reflected to the VSCode integrated terminal until I restarted it.","title":"VS Code Showing &#39;mvn&#39; is not recognized as an internal or external command","body":"<p>I fixed this problem by simply restarting VSCode as I had set my PATH variable while my VSCode was running so the changes were not reflected to the VSCode integrated terminal until I restarted it.</p>\n"},{"tags":[],"owner":{"account_id":11495594,"reputation":1,"user_id":8425069,"display_name":"Norbert B."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636889767,"creation_date":1636889435,"answer_id":69962547,"question_id":55986874,"body_markdown":"The way I fixed was by changing the exec path in Vs Code settings from CMD to Powershell.\r\n\r\nOpen \r\n\r\n    settings -&gt; features -&gt; terminal\r\n\r\nChange the `windows exec` path from cmd to where you have PowerShell. \r\n\r\nFor example: `C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\powershell.exe`\r\n\r\n[Windows exec setting][1]\r\n\r\n  [1]: https://i.stack.imgur.com/j5rYy.png","title":"VS Code Showing &#39;mvn&#39; is not recognized as an internal or external command","body":"<p>The way I fixed was by changing the exec path in Vs Code settings from CMD to Powershell.</p>\n<p>Open</p>\n<pre><code>settings -&gt; features -&gt; terminal\n</code></pre>\n<p>Change the <code>windows exec</code> path from cmd to where you have PowerShell.</p>\n<p>For example: <code>C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\powershell.exe</code></p>\n<p><a href=\"https://i.stack.imgur.com/j5rYy.png\" rel=\"nofollow noreferrer\">Windows exec setting</a></p>\n"},{"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664536376,"creation_date":1657998747,"answer_id":73006994,"question_id":55986874,"body_markdown":"It&#39;s kindy counterintuitive as path has to be pointed to the actual mvn command, instead to a M2_PATH folder. Also once properly pointed, a new error will be shown if your environment is missing proper jdk within JAVA_HOME. The error is trown by maven. Maven plugin is kinda stupid as it will ignore your default JDK configured within settings.json (java.home or/and java.configuration.runtimes properties) and will happly NOT set java for maven. You have to configure it specificly for maven plugin as this:\r\n\r\n    &quot;maven.executable.path&quot;: &quot;c:\\\\apache-maven-3.8.1\\\\bin\\\\mvn&quot;,\r\n    &quot;maven.terminal.customEnv&quot;: [{\r\n            &quot;environmentVariable&quot;: &quot;JAVA_HOME&quot;,                \r\n            &quot;value&quot;: &quot;c:\\\\openjdk-1.8.0_232-redhat&quot;,\r\n    }]\r\n\r\nOf course, both paths should be pointed to proper folders/files in your environment.\r\n\r\n","title":"VS Code Showing &#39;mvn&#39; is not recognized as an internal or external command","body":"<p>It's kindy counterintuitive as path has to be pointed to the actual mvn command, instead to a M2_PATH folder. Also once properly pointed, a new error will be shown if your environment is missing proper jdk within JAVA_HOME. The error is trown by maven. Maven plugin is kinda stupid as it will ignore your default JDK configured within settings.json (java.home or/and java.configuration.runtimes properties) and will happly NOT set java for maven. You have to configure it specificly for maven plugin as this:</p>\n<pre><code>&quot;maven.executable.path&quot;: &quot;c:\\\\apache-maven-3.8.1\\\\bin\\\\mvn&quot;,\n&quot;maven.terminal.customEnv&quot;: [{\n        &quot;environmentVariable&quot;: &quot;JAVA_HOME&quot;,                \n        &quot;value&quot;: &quot;c:\\\\openjdk-1.8.0_232-redhat&quot;,\n}]\n</code></pre>\n<p>Of course, both paths should be pointed to proper folders/files in your environment.</p>\n"},{"comments":[{"owner":{"account_id":16976921,"reputation":497,"user_id":12316388,"display_name":"ChrisoLosoph"},"score":0,"creation_date":1687253332,"post_id":74192427,"comment_id":134907196,"body_markdown":"You need to do this for Ubuntu as well because Ubuntu&#39;s package on Ubuntu 20.0 is so much outdated, it won&#39;t work.","body":"You need to do this for Ubuntu as well because Ubuntu&#39;s package on Ubuntu 20.0 is so much outdated, it won&#39;t work."}],"tags":[],"owner":{"account_id":17375206,"reputation":91,"user_id":12588523,"display_name":"armando rael"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666692604,"creation_date":1666692604,"answer_id":74192427,"question_id":55986874,"body_markdown":"On Tuesday Oct. 25, 2022 while trying to solve the same problem, I went through all of these previous solutions for Windows and finally had to resort to the official installation docs:\r\n\r\n[Installing Apache Maven][1]\r\n\r\nUnzipped the [download][2] and located the bin directory and manually added that directory location to my: System Properties&gt;Advanced&gt;Environment Variables&gt;&#39;Path&#39;\r\n\r\nFor good measure, restart the computer.\r\n\r\n\r\n  [1]: https://maven.apache.org/install.html\r\n  [2]: https://maven.apache.org/download.cgi","title":"VS Code Showing &#39;mvn&#39; is not recognized as an internal or external command","body":"<p>On Tuesday Oct. 25, 2022 while trying to solve the same problem, I went through all of these previous solutions for Windows and finally had to resort to the official installation docs:</p>\n<p><a href=\"https://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">Installing Apache Maven</a></p>\n<p>Unzipped the <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">download</a> and located the bin directory and manually added that directory location to my: System Properties&gt;Advanced&gt;Environment Variables&gt;'Path'</p>\n<p>For good measure, restart the computer.</p>\n"},{"tags":[],"owner":{"account_id":16976921,"reputation":497,"user_id":12316388,"display_name":"ChrisoLosoph"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687291140,"creation_date":1687291140,"answer_id":76518030,"question_id":55986874,"body_markdown":"I am using Ubuntu 20.0.\r\n\r\nIn my case, I added the path to the Maven binary directory manually to the `$PATH` variable. I accidentally only added it to the environment variables in the shell but not to the user session.\r\n\r\nAlso make sure you are using the official binary that you can download from Maven&#39;s website and not the Ubuntu APT package because that one is too old and did not work for me.\r\n\r\nLet&#39;s assume, the Maven executable has been stored in `~/apache-maven/bin`. Then you can edit `~/.profile` by adding `export PATH+=&quot;:$HOME/apache-maven/bin&quot;`.\r\n\r\nRestart the computer and then, when you login to your profile, `mvn` should be visible by programs as well as VSCode.","title":"VS Code Showing &#39;mvn&#39; is not recognized as an internal or external command","body":"<p>I am using Ubuntu 20.0.</p>\n<p>In my case, I added the path to the Maven binary directory manually to the <code>$PATH</code> variable. I accidentally only added it to the environment variables in the shell but not to the user session.</p>\n<p>Also make sure you are using the official binary that you can download from Maven's website and not the Ubuntu APT package because that one is too old and did not work for me.</p>\n<p>Let's assume, the Maven executable has been stored in <code>~/apache-maven/bin</code>. Then you can edit <code>~/.profile</code> by adding <code>export PATH+=&quot;:$HOME/apache-maven/bin&quot;</code>.</p>\n<p>Restart the computer and then, when you login to your profile, <code>mvn</code> should be visible by programs as well as VSCode.</p>\n"}],"owner":{"account_id":11889072,"reputation":729,"user_id":8700522,"display_name":"saitama"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18134,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1687291140,"creation_date":1557004588,"question_id":55986874,"body_markdown":"I&#39;m trying to create a maven project with VS Code but when I run the command it says :  \r\n&gt; `&#39;mvn&#39; is not recognized as an internal or external command,operable program or batch file.`\r\n\r\nbut `mvn -version` is running on command prompt\r\n\r\nEnvironment varaible for User :\r\n\r\n`MAVEN_JOME : C:\\apache-maven-3.6.1`,\r\n`M2_HOME : C:\\apache-maven-3.6.1`,\r\n`JAVA_HOME : C:\\Program Files\\Java\\jdk1.8.0_212\\jre` and \r\n\r\nSystem Variables\r\n\r\n`path` is set to `C:\\apache-maven-3.6.1\\bin`, `C:\\Program Files\\Java\\jdk1.8.0_212\\bin` for maven and java respectively.\r\n\r\nThe command  I&#39;m running to create the project is: \r\n`mvn archetype:generate -DgroupId=com.cs.test-project -DartifactId=test-project -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false` [The Reference to Command ](https://stackoverflow.com/questions/46671308/how-to-create-a-java-maven-project-that-works-in-visual-studio-code &quot;This the link to Reference&quot;)  \r\n\r\nAnd the VS Code [Reference to Command ](https://code.visualstudio.com/docs/java/java-project#_generate-project-from-maven-archetype )\r\n\r\n&gt;The same command is running in Command prompt and it created the project successfully on Desktop.","title":"VS Code Showing &#39;mvn&#39; is not recognized as an internal or external command","body":"<p>I'm trying to create a maven project with VS Code but when I run the command it says :  </p>\n\n<blockquote>\n  <p><code>'mvn' is not recognized as an internal or external command,operable program or batch file.</code></p>\n</blockquote>\n\n<p>but <code>mvn -version</code> is running on command prompt</p>\n\n<p>Environment varaible for User :</p>\n\n<p><code>MAVEN_JOME : C:\\apache-maven-3.6.1</code>,\n<code>M2_HOME : C:\\apache-maven-3.6.1</code>,\n<code>JAVA_HOME : C:\\Program Files\\Java\\jdk1.8.0_212\\jre</code> and </p>\n\n<p>System Variables</p>\n\n<p><code>path</code> is set to <code>C:\\apache-maven-3.6.1\\bin</code>, <code>C:\\Program Files\\Java\\jdk1.8.0_212\\bin</code> for maven and java respectively.</p>\n\n<p>The command  I'm running to create the project is: \n<code>mvn archetype:generate -DgroupId=com.cs.test-project -DartifactId=test-project -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false</code> <a href=\"https://stackoverflow.com/questions/46671308/how-to-create-a-java-maven-project-that-works-in-visual-studio-code\" title=\"This the link to Reference\">The Reference to Command </a>  </p>\n\n<p>And the VS Code <a href=\"https://code.visualstudio.com/docs/java/java-project#_generate-project-from-maven-archetype\" rel=\"noreferrer\">Reference to Command </a></p>\n\n<blockquote>\n  <p>The same command is running in Command prompt and it created the project successfully on Desktop.</p>\n</blockquote>\n"},{"tags":["java","spring","spring-security","vaadin","jsonresponse"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1687278253,"post_id":76516052,"comment_id":134913033,"body_markdown":"Have you annotated your routes for access?  e.g. PermitAll/RolesAllowed? Have you tried ramping up the logging of org.springframework.security?","body":"Have you annotated your routes for access?  e.g. PermitAll/RolesAllowed? Have you tried ramping up the logging of org.springframework.security?"},{"owner":{"account_id":22915007,"reputation":23,"user_id":17051720,"display_name":"Jmork"},"score":0,"creation_date":1687290846,"post_id":76516052,"comment_id":134915363,"body_markdown":"My LoginView/MainView have annotations for access - I&#39;ve tried with AnonymousAllowed/PermitAll/RolesAllowed, but none of them work. They don&#39;t have effect when I comment out this SecurityConfig class, though. I will edit my original post to include Spring Security debug logs.","body":"My LoginView/MainView have annotations for access - I&#39;ve tried with AnonymousAllowed/PermitAll/RolesAllowed, but none of them work. They don&#39;t have effect when I comment out this SecurityConfig class, though. I will edit my original post to include Spring Security debug logs."},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1687291354,"post_id":76516052,"comment_id":134915434,"body_markdown":"What about this: `DaoAuthenticationProvider    : Failed to find user &#39;&#39;` ?","body":"What about this: <code>DaoAuthenticationProvider    : Failed to find user &#39;&#39;</code> ?"},{"owner":{"account_id":22915007,"reputation":23,"user_id":17051720,"display_name":"Jmork"},"score":0,"creation_date":1687292110,"post_id":76516052,"comment_id":134915549,"body_markdown":"Yes, I saw it too. I am trying to understand where is it looking for this undefined user.\nI do not have a DauAuthenticationProvider class.","body":"Yes, I saw it too. I am trying to understand where is it looking for this undefined user. I do not have a DauAuthenticationProvider class."}],"owner":{"account_id":22915007,"reputation":23,"user_id":17051720,"display_name":"Jmork"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687290995,"creation_date":1687273221,"question_id":76516052,"body_markdown":"Hеllo, all,\r\n\r\nI have a Java project that uses Vaadin 24.0.3, Spring boot 3.0.5, Java 17 and you can see the full project on [this link][1].\r\n\r\n\r\n\r\nThis is the error that I am getting when trying to implement SecurityConfig class:\r\n\r\n&gt; Invalid JSON response from server: &lt;!doctype html&gt;&lt;!-- This file is auto-generated by Vaadin. --&gt; &lt;html theme=&quot;&quot;&gt; &lt;head&gt; &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.VaadinLicenseChecker = { maybeCheck: (productInfo) =&gt; { }};window.Vaadin.devTools = window.Vaadin.devTools || {};window.Vaadin.devTools.createdCvdlElements = window.Vaadin.devTools.createdCvdlElements || [];window.Vaadin.originalCustomElementDefineFn = window.Vaadin.originalCustomElementDefineFn || window.customElements.define;window.customElements.define = function (tagName, constructor, ...args) {const { cvdlName, version } = constructor;if (cvdlName &amp;&amp; version) { const { connectedCallback } = constructor.prototype; constructor.prototype.connectedCallback = function () { window.Vaadin.devTools.createdCvdlElements.push(this); if (connectedCallback) { connectedCallback.call(this); } }}window.Vaadin.originalCustomElementDefineFn.call(this, tagName, constructor, ...args);};&lt;/script&gt; &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.ConsoleErrors = window.Vaadin.ConsoleErrors || [];const browserConsoleError = window.console.error.bind(window.console);console.error = (...args) =&gt; { browserConsoleError(...args); window.Vaadin.ConsoleErrors.push(args);};window.onerror = (message, source, lineno, colno, error) =&gt; {const location=source+&#39;:&#39;+lineno+&#39;:&#39;+colno;window.Vaadin.ConsoleErrors.push([message, &#39;(&#39;+location+&#39;)&#39;]);};window.addEventListener(&#39;unhandledrejection&#39;, e =&gt; { window.Vaadin.ConsoleErrors.push([e.reason]);});&lt;/script&gt; &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {}; window.Vaadin.developmentMode = true;&lt;/script&gt; &lt;script initial=&quot;&quot;&gt;if (!(&#39;CSSLayerBlockRule&#39; in window)) { window.location.search=&#39;v-r=oldbrowser&#39;; } &lt;/script&gt; &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.TypeScript= {};&lt;/script&gt; &lt;meta name=&quot;_csrf_parameter&quot; content=&quot;_csrf&quot;&gt; &lt;meta name=&quot;_csrf_header&quot; content=&quot;X-CSRF-TOKEN&quot;&gt; &lt;meta name=&quot;_csrf&quot; content=&quot;cdeaa7d3-1a9e-4090-ab21-055dcb6262fa&quot;&gt;&lt;base href=&quot;.&quot;&gt; &lt;script type=&quot;text/javascript&quot;&gt;window.JSCompiler_renameProperty = function(a) { return a;}&lt;/script&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt; &lt;style&gt; body, #outlet { height: 100vh; width: 100%; margin: 0; } &lt;/style&gt; &lt;!-- index.ts is included here automatically (either by the dev server or during the build) --&gt; &lt;script type=&quot;module&quot; src=&quot;VAADIN/dev-bundle/VAADIN/build/indexhtml-88b1d04a.js&quot;&gt;&lt;/script&gt; &lt;style&gt;.v-reconnect-dialog,.v-system-error {position: absolute;color: black;background: white;top: 1em;right: 1em;border: 1px solid black;padding: 1em;z-index: 10000;max-width: calc(100vw - 4em);max-height: calc(100vh - 4em);overflow: auto;} .v-system-error {color: indianred;pointer-events: auto;} .v-system-error h3, .v-system-error b {color: red;}&lt;/style&gt; &lt;style&gt;[hidden] { display: none !important; }&lt;/style&gt; &lt;/head&gt; &lt;body&gt;&lt;!-- This outlet div is where the views are rendered --&gt; &lt;div id=&quot;outlet&quot;&gt;&lt;/div&gt; &lt;script&gt;window.Vaadin = window.Vaadin || {}; window.Vaadin.registrations = window.Vaadin.registrations || []; window.Vaadin.registrations.push({&quot;is&quot;:&quot;flow/SpringInstantiator&quot;,&quot;version&quot;:&quot;24.0.3&quot;},{&quot;is&quot;:&quot;routing/server&quot;,&quot;version&quot;:&quot;24.0.3&quot;},{&quot;is&quot;:&quot;flow/app-dev-bundle&quot;,&quot;version&quot;:&quot;24.0.3&quot;},{&quot;is&quot;:&quot;java&quot;,&quot;version&quot;:&quot;17.0.5&quot;});&lt;/script&gt;&lt;vaadin-dev-tools url=&quot;./VAADIN/push&quot; backend=&quot;SPRING_BOOT_DEVTOOLS&quot; springbootlivereloadport=&quot;35729&quot;&gt;&lt;/vaadin-dev-tools&gt; &lt;/body&gt; &lt;/html&gt;\r\n\r\n\r\nIf I comment out the method &quot;setLoginView(http, LoginView.class&quot;, I am able to get to my login view page, but none of my routes work as expected as I am greeted with the following error message - clicking on them doesn&#39;t work and redirects me to the same error message:\r\n\r\n&gt; Could not navigate to &#39;main&#39;\r\nAvailable routes:\r\n&lt;root&gt;\r\nadmin_panel\r\ncinemas\r\nconfirmation/:___url_parameter (requires parameter)\r\nmain\r\nprojections\r\nregistration\r\ntickets\r\nThis detailed message is only shown when running in development mode.\r\n\r\nThis is the SecurityConfig class\r\n\r\n    package com.finals.cinema.security;\r\n\r\n    import com.finals.cinema.view.LoginView;\r\n    import com.vaadin.flow.spring.security.VaadinWebSecurity;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.WebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\n    import org.springframework.security.provisioning.UserDetailsManager;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class SecurityConfig extends VaadinWebSecurity {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        // Delegating the responsibility of general configurations\r\n        // of http security to the super class. It&#39;s configuring\r\n        // the followings: Vaadin&#39;s CSRF protection by ignoring\r\n        // framework&#39;s internal requests, default request cache,\r\n        // ignoring public views annotated with @AnonymousAllowed,\r\n        // restricting access to other views/endpoints, and enabling\r\n        // ViewAccessChecker authorization.\r\n        // You can add any possible extra configurations of your own\r\n        // here (the following is just an example):\r\n\r\n        // http.rememberMe().alwaysRemember(false);\r\n\r\n        // Configure your static resources with public access before calling\r\n        // super.configure(HttpSecurity) as it adds final anyRequest matcher\r\n        //        http.authorizeHttpRequests().requestMatchers(new AntPathRequestMatcher(&quot;/*&quot;))\r\n        //                .permitAll();\r\n\r\n        super.configure(http);\r\n\r\n        // This is important to register your login view to the\r\n        // view access checker mechanism:\r\n        //        setLoginView(http, LoginView.class);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        // Customize your WebSecurity configuration.\r\n        super.configure(web);\r\n    }\r\n\r\n    /**\r\n     * Demo UserDetailsManager which only provides two hardcoded\r\n     * in memory users and their roles.\r\n     * NOTE: This shouldn&#39;t be used in real world applications.\r\n     */\r\n    @Bean\r\n    public UserDetailsManager userDetailsService() {\r\n        UserDetails user =\r\n                User.withUsername(&quot;user&quot;)\r\n                        .password(&quot;{noop}user&quot;)\r\n                        .roles(&quot;USER&quot;)\r\n                        .build();\r\n        UserDetails admin =\r\n                User.withUsername(&quot;admin&quot;)\r\n                        .password(&quot;{noop}admin&quot;)\r\n                        .roles(&quot;ADMIN&quot;)\r\n                        .build();\r\n        return new InMemoryUserDetailsManager(user, admin);\r\n    }\r\n    }\r\n\r\n  \r\n\r\nWhat I have tried so far:\r\n\r\n    setLoginView(http, LoginView.class);\r\n    setLoginView(http, &quot;&quot;);\r\n    setLoginView(http, &quot;/&quot;);\r\n\r\nsetLoginView(http, MainView.class) - the application works as if the is no Security configured and all routes are available publicly/without being logged in.\r\n\r\nEDIT: This is the debug log from Spring Security.\r\n\r\n    2023-06-20T22:53:26.208+03:00 DEBUG 18424 --- [nio-8888-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /VAADIN/dev-bundle/VAADIN/build/FlowClient-e0ae8105.js\r\n    2023-06-20T22:53:26.289+03:00 DEBUG 18424 --- [nio-8888-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /VAADIN/themes/flowcrmtutorial/styles.css\r\n    2023-06-20T22:53:26.289+03:00 DEBUG 18424 --- [nio-8888-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-06-20T22:53:26.290+03:00 DEBUG 18424 --- [nio-8888-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /VAADIN/themes/flowcrmtutorial/styles.css\r\n    2023-06-20T22:53:26.297+03:00 DEBUG 18424 --- [nio-8888-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /?v-r=uidl&amp;v-uiId=3\r\n    2023-06-20T22:53:26.444+03:00 DEBUG 18424 --- [nio-8888-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user &#39;&#39;\r\n    2023-06-20T22:53:26.446+03:00 DEBUG 18424 --- [nio-8888-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /?error\r\n    2023-06-20T22:53:26.450+03:00 DEBUG 18424 --- [nio-8888-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /?error\r\n    2023-06-20T22:53:26.450+03:00 DEBUG 18424 --- [nio-8888-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-06-20T22:53:26.450+03:00 DEBUG 18424 --- [nio-8888-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /?error\r\n\r\n[1]: https://github.com/Jmorkcho/CinemaApp","title":"Invalid JSON response from server when enabling Spring Security Config extended by VaadinWebSecurity","body":"<p>Hеllo, all,</p>\n<p>I have a Java project that uses Vaadin 24.0.3, Spring boot 3.0.5, Java 17 and you can see the full project on <a href=\"https://github.com/Jmorkcho/CinemaApp\" rel=\"nofollow noreferrer\">this link</a>.</p>\n<p>This is the error that I am getting when trying to implement SecurityConfig class:</p>\n<blockquote>\n<p>Invalid JSON response from server: &lt;!doctype html&gt;   window.Vaadin = window.Vaadin || {};window.Vaadin.VaadinLicenseChecker = { maybeCheck: (productInfo) =&gt; { }};window.Vaadin.devTools = window.Vaadin.devTools || {};window.Vaadin.devTools.createdCvdlElements = window.Vaadin.devTools.createdCvdlElements || [];window.Vaadin.originalCustomElementDefineFn = window.Vaadin.originalCustomElementDefineFn || window.customElements.define;window.customElements.define = function (tagName, constructor, ...args) {const { cvdlName, version } = constructor;if (cvdlName &amp;&amp; version) { const { connectedCallback } = constructor.prototype; constructor.prototype.connectedCallback = function () { window.Vaadin.devTools.createdCvdlElements.push(this); if (connectedCallback) { connectedCallback.call(this); } }}window.Vaadin.originalCustomElementDefineFn.call(this, tagName, constructor, ...args);}; window.Vaadin = window.Vaadin || {};window.Vaadin.ConsoleErrors = window.Vaadin.ConsoleErrors || [];const browserConsoleError = window.console.error.bind(window.console);console.error = (...args) =&gt; { browserConsoleError(...args); window.Vaadin.ConsoleErrors.push(args);};window.onerror = (message, source, lineno, colno, error) =&gt; {const location=source+':'+lineno+':'+colno;window.Vaadin.ConsoleErrors.push([message, '('+location+')']);};window.addEventListener('unhandledrejection', e =&gt; { window.Vaadin.ConsoleErrors.push([e.reason]);}); window.Vaadin = window.Vaadin || {}; window.Vaadin.developmentMode = true; if (!('CSSLayerBlockRule' in window)) { window.location.search='v-r=oldbrowser'; }  window.Vaadin = window.Vaadin || {};window.Vaadin.TypeScript= {};    window.JSCompiler_renameProperty = function(a) { return a;}    body, #outlet { height: 100vh; width: 100%; margin: 0; }    .v-reconnect-dialog,.v-system-error {position: absolute;color: black;background: white;top: 1em;right: 1em;border: 1px solid black;padding: 1em;z-index: 10000;max-width: calc(100vw - 4em);max-height: calc(100vh - 4em);overflow: auto;} .v-system-error {color: indianred;pointer-events: auto;} .v-system-error h3, .v-system-error b {color: red;} [hidden] { display: none !important; }    window.Vaadin = window.Vaadin || {}; window.Vaadin.registrations = window.Vaadin.registrations || []; window.Vaadin.registrations.push({&quot;is&quot;:&quot;flow/SpringInstantiator&quot;,&quot;version&quot;:&quot;24.0.3&quot;},{&quot;is&quot;:&quot;routing/server&quot;,&quot;version&quot;:&quot;24.0.3&quot;},{&quot;is&quot;:&quot;flow/app-dev-bundle&quot;,&quot;version&quot;:&quot;24.0.3&quot;},{&quot;is&quot;:&quot;java&quot;,&quot;version&quot;:&quot;17.0.5&quot;});  </p>\n</blockquote>\n<p>If I comment out the method &quot;setLoginView(http, LoginView.class&quot;, I am able to get to my login view page, but none of my routes work as expected as I am greeted with the following error message - clicking on them doesn't work and redirects me to the same error message:</p>\n<blockquote>\n<p>Could not navigate to 'main'\nAvailable routes:\n\nadmin_panel\ncinemas\nconfirmation/:___url_parameter (requires parameter)\nmain\nprojections\nregistration\ntickets\nThis detailed message is only shown when running in development mode.</p>\n</blockquote>\n<p>This is the SecurityConfig class</p>\n<pre><code>package com.finals.cinema.security;\n\nimport com.finals.cinema.view.LoginView;\nimport com.vaadin.flow.spring.security.VaadinWebSecurity;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.provisioning.UserDetailsManager;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n@EnableWebSecurity\n@Configuration\npublic class SecurityConfig extends VaadinWebSecurity {\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    // Delegating the responsibility of general configurations\n    // of http security to the super class. It's configuring\n    // the followings: Vaadin's CSRF protection by ignoring\n    // framework's internal requests, default request cache,\n    // ignoring public views annotated with @AnonymousAllowed,\n    // restricting access to other views/endpoints, and enabling\n    // ViewAccessChecker authorization.\n    // You can add any possible extra configurations of your own\n    // here (the following is just an example):\n\n    // http.rememberMe().alwaysRemember(false);\n\n    // Configure your static resources with public access before calling\n    // super.configure(HttpSecurity) as it adds final anyRequest matcher\n    //        http.authorizeHttpRequests().requestMatchers(new AntPathRequestMatcher(&quot;/*&quot;))\n    //                .permitAll();\n\n    super.configure(http);\n\n    // This is important to register your login view to the\n    // view access checker mechanism:\n    //        setLoginView(http, LoginView.class);\n}\n\n@Override\npublic void configure(WebSecurity web) throws Exception {\n    // Customize your WebSecurity configuration.\n    super.configure(web);\n}\n\n/**\n * Demo UserDetailsManager which only provides two hardcoded\n * in memory users and their roles.\n * NOTE: This shouldn't be used in real world applications.\n */\n@Bean\npublic UserDetailsManager userDetailsService() {\n    UserDetails user =\n            User.withUsername(&quot;user&quot;)\n                    .password(&quot;{noop}user&quot;)\n                    .roles(&quot;USER&quot;)\n                    .build();\n    UserDetails admin =\n            User.withUsername(&quot;admin&quot;)\n                    .password(&quot;{noop}admin&quot;)\n                    .roles(&quot;ADMIN&quot;)\n                    .build();\n    return new InMemoryUserDetailsManager(user, admin);\n}\n}\n</code></pre>\n<p>What I have tried so far:</p>\n<pre><code>setLoginView(http, LoginView.class);\nsetLoginView(http, &quot;&quot;);\nsetLoginView(http, &quot;/&quot;);\n</code></pre>\n<p>setLoginView(http, MainView.class) - the application works as if the is no Security configured and all routes are available publicly/without being logged in.</p>\n<p>EDIT: This is the debug log from Spring Security.</p>\n<pre><code>2023-06-20T22:53:26.208+03:00 DEBUG 18424 --- [nio-8888-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /VAADIN/dev-bundle/VAADIN/build/FlowClient-e0ae8105.js\n2023-06-20T22:53:26.289+03:00 DEBUG 18424 --- [nio-8888-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /VAADIN/themes/flowcrmtutorial/styles.css\n2023-06-20T22:53:26.289+03:00 DEBUG 18424 --- [nio-8888-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-06-20T22:53:26.290+03:00 DEBUG 18424 --- [nio-8888-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /VAADIN/themes/flowcrmtutorial/styles.css\n2023-06-20T22:53:26.297+03:00 DEBUG 18424 --- [nio-8888-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /?v-r=uidl&amp;v-uiId=3\n2023-06-20T22:53:26.444+03:00 DEBUG 18424 --- [nio-8888-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user ''\n2023-06-20T22:53:26.446+03:00 DEBUG 18424 --- [nio-8888-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /?error\n2023-06-20T22:53:26.450+03:00 DEBUG 18424 --- [nio-8888-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /?error\n2023-06-20T22:53:26.450+03:00 DEBUG 18424 --- [nio-8888-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-06-20T22:53:26.450+03:00 DEBUG 18424 --- [nio-8888-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /?error\n</code></pre>\n"},{"tags":["java","json","jackson"],"answers":[{"comments":[{"owner":{"account_id":258668,"reputation":3728,"user_id":540981,"accept_rate":82,"display_name":"Danish"},"score":1,"creation_date":1333044071,"post_id":9912406,"comment_id":12676902,"body_markdown":"Thank you for your answer. I do need a deep merge, hence you&#39;re suggestion to write the merge manually echos the gut feeling I had when I posted the question. My underlying data structures are Maps, hence it should be worth writing a generic deep merge routine for java Maps. It may prove to be re-usable in some future project.","body":"Thank you for your answer. I do need a deep merge, hence you&#39;re suggestion to write the merge manually echos the gut feeling I had when I posted the question. My underlying data structures are Maps, hence it should be worth writing a generic deep merge routine for java Maps. It may prove to be re-usable in some future project."},{"owner":{"account_id":1672649,"reputation":5729,"user_id":1538815,"accept_rate":57,"display_name":"yathirigan"},"score":0,"creation_date":1439962651,"post_id":9912406,"comment_id":52070236,"body_markdown":"is deep merge available as a feature now ?","body":"is deep merge available as a feature now ?"},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1441907298,"post_id":9912406,"comment_id":52875995,"body_markdown":"No, not as of Jackson 2.6.","body":"No, not as of Jackson 2.6."},{"owner":{"account_id":158029,"reputation":21883,"user_id":376366,"accept_rate":87,"display_name":"Fernando Correia"},"score":3,"creation_date":1490658254,"post_id":9912406,"comment_id":73200818,"body_markdown":"It is implemented for the (upcoming) version 2.9: https://github.com/FasterXML/jackson-databind/issues/1399","body":"It is implemented for the (upcoming) version 2.9: <a href=\"https://github.com/FasterXML/jackson-databind/issues/1399\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-databind/issues/1399</a>"},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":1,"creation_date":1491254146,"post_id":9912406,"comment_id":73461676,"body_markdown":"@FernandoCorreia well spotted, it is indeed! Thank you for adding an update; I will add an edit to my answer.","body":"@FernandoCorreia well spotted, it is indeed! Thank you for adding an update; I will add an edit to my answer."}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":5,"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1491254318,"creation_date":1332954481,"answer_id":9912406,"question_id":9895041,"body_markdown":"One way is to use `ObjectReader` like so:\r\n\r\n    MyBean defaults = objectMapper.readValue(defaultJson, MyBean.class);\r\n    ObjectReader updater = objectMapper.readerForUpdating(defaults);\r\n    MyBean merged = updater.readValue(overridesJson);\r\n\r\nwhich will combine data from two sources. This only makes a shallow copy, i.e. does not do recursive merge on contained objects.\r\n\r\nOtherwise you may need to just read JSON as a tree (`JsonNode`), loop over contents and merge manually. This often makes sense anyway since rules of merging are not trivial, and everyone has their own ideas of how merging should work.\r\n\r\n**EDIT**: (03-Apr-2017)\r\n\r\nAs per @Fernando Correia&#39;s comment, there is actually a new [feature][1] added in upcoming Jackson 2.9 (to be released in April or May 2017) that does allow deep merging, finally.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/issues/1399","title":"Merging Two JSON Documents Using Jackson","body":"<p>One way is to use <code>ObjectReader</code> like so:</p>\n\n<pre><code>MyBean defaults = objectMapper.readValue(defaultJson, MyBean.class);\nObjectReader updater = objectMapper.readerForUpdating(defaults);\nMyBean merged = updater.readValue(overridesJson);\n</code></pre>\n\n<p>which will combine data from two sources. This only makes a shallow copy, i.e. does not do recursive merge on contained objects.</p>\n\n<p>Otherwise you may need to just read JSON as a tree (<code>JsonNode</code>), loop over contents and merge manually. This often makes sense anyway since rules of merging are not trivial, and everyone has their own ideas of how merging should work.</p>\n\n<p><strong>EDIT</strong>: (03-Apr-2017)</p>\n\n<p>As per @Fernando Correia's comment, there is actually a new <a href=\"https://github.com/FasterXML/jackson-databind/issues/1399\" rel=\"noreferrer\">feature</a> added in upcoming Jackson 2.9 (to be released in April or May 2017) that does allow deep merging, finally.</p>\n"},{"comments":[{"owner":{"account_id":258668,"reputation":3728,"user_id":540981,"accept_rate":82,"display_name":"Danish"},"score":0,"creation_date":1342196808,"post_id":11459962,"comment_id":15150650,"body_markdown":"Looks pretty good @Arn! It will be helpful if I need to do this in a future project. When I asked this question, I was working with elasticsearch and I found a partial update plugin for it. That helped me at that time.","body":"Looks pretty good @Arn! It will be helpful if I need to do this in a future project. When I asked this question, I was working with elasticsearch and I found a partial update plugin for it. That helped me at that time."},{"owner":{"account_id":100622,"reputation":3010,"user_id":271149,"accept_rate":90,"display_name":"quantum"},"score":3,"creation_date":1434668315,"post_id":11459962,"comment_id":49890890,"body_markdown":"Excellent, Arne, that is exactly what I&#39;ve needed, you&#39;ve saved me hours of investigation, thank you. To make this a little more than `thank you` comment, as of Jackson 2.4 `put()` is deprecated and should be substituted with `replace()`. Also, for JDK8 users, the code could be made more concise with trivial invoking of `forEachRemaining()` directly on the iterator and passing in the somewhat shorter lambda-expression.","body":"Excellent, Arne, that is exactly what I&#39;ve needed, you&#39;ve saved me hours of investigation, thank you. To make this a little more than <code>thank you</code> comment, as of Jackson 2.4 <code>put()</code> is deprecated and should be substituted with <code>replace()</code>. Also, for JDK8 users, the code could be made more concise with trivial invoking of <code>forEachRemaining()</code> directly on the iterator and passing in the somewhat shorter lambda-expression."},{"owner":{"account_id":5619551,"reputation":653,"user_id":4449859,"display_name":"abdel"},"score":1,"creation_date":1552473449,"post_id":11459962,"comment_id":97019810,"body_markdown":"great thanks. does this work for embedded arrays? both when adding elements  to the array and when removing elements ? or do we have to replace the whole array?","body":"great thanks. does this work for embedded arrays? both when adding elements  to the array and when removing elements ? or do we have to replace the whole array?"}],"tags":[],"owner":{"account_id":445996,"reputation":1364,"user_id":838776,"accept_rate":55,"display_name":"Arne"},"comment_count":3,"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1393334787,"creation_date":1342124366,"answer_id":11459962,"question_id":9895041,"body_markdown":"Inspired by StaxMans answer I implemented this merging method. \r\n\r\n    public static JsonNode merge(JsonNode mainNode, JsonNode updateNode) {\r\n\r\n\t\tIterator&lt;String&gt; fieldNames = updateNode.fieldNames();\r\n\t\twhile (fieldNames.hasNext()) {\r\n\r\n\t\t\tString fieldName = fieldNames.next();\r\n\t\t\tJsonNode jsonNode = mainNode.get(fieldName);\r\n\t\t\t// if field exists and is an embedded object\r\n\t\t\tif (jsonNode != null &amp;&amp; jsonNode.isObject()) {\r\n\t\t\t\tmerge(jsonNode, updateNode.get(fieldName));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (mainNode instanceof ObjectNode) {\r\n\t\t\t\t\t// Overwrite field\r\n\t\t\t\t\tJsonNode value = updateNode.get(fieldName);\r\n\t\t\t\t\t((ObjectNode) mainNode).put(fieldName, value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn mainNode;\r\n\t}\r\n\r\nHope this helps someone.","title":"Merging Two JSON Documents Using Jackson","body":"<p>Inspired by StaxMans answer I implemented this merging method. </p>\n\n<pre><code>public static JsonNode merge(JsonNode mainNode, JsonNode updateNode) {\n\n    Iterator&lt;String&gt; fieldNames = updateNode.fieldNames();\n    while (fieldNames.hasNext()) {\n\n        String fieldName = fieldNames.next();\n        JsonNode jsonNode = mainNode.get(fieldName);\n        // if field exists and is an embedded object\n        if (jsonNode != null &amp;&amp; jsonNode.isObject()) {\n            merge(jsonNode, updateNode.get(fieldName));\n        }\n        else {\n            if (mainNode instanceof ObjectNode) {\n                // Overwrite field\n                JsonNode value = updateNode.get(fieldName);\n                ((ObjectNode) mainNode).put(fieldName, value);\n            }\n        }\n\n    }\n\n    return mainNode;\n}\n</code></pre>\n\n<p>Hope this helps someone.</p>\n"},{"comments":[{"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"score":0,"creation_date":1477686995,"post_id":32447591,"comment_id":67882868,"body_markdown":"The casting of `valueToBeUpdated` to an `ArrayNode` is not safe. You can get a `TextNode`, for instance, instead of an `ArrayNode` in that variable.","body":"The casting of <code>valueToBeUpdated</code> to an <code>ArrayNode</code> is not safe. You can get a <code>TextNode</code>, for instance, instead of an <code>ArrayNode</code> in that variable."},{"owner":{"account_id":6456827,"reputation":389,"user_id":5001931,"display_name":"Jay Khatwani"},"score":0,"creation_date":1478735544,"post_id":32447591,"comment_id":68277537,"body_markdown":"Thanks PNS. I have edited my answer and added the condition to check if valueToBeUpdated is an arrayNode","body":"Thanks PNS. I have edited my answer and added the condition to check if valueToBeUpdated is an arrayNode"},{"owner":{"account_id":1991136,"reputation":701,"user_id":1785136,"display_name":"Paul Bartlett"},"score":1,"creation_date":1538250743,"post_id":32447591,"comment_id":92080488,"body_markdown":"Cool - but doesn&#39;t work if updateNode starts with an ArrayNode, because they do not have fields, just children.  BTW - ObjectReader updating work for me.","body":"Cool - but doesn&#39;t work if updateNode starts with an ArrayNode, because they do not have fields, just children.  BTW - ObjectReader updating work for me."},{"owner":{"account_id":441753,"reputation":4372,"user_id":832031,"display_name":"Alexis Gamarra"},"score":1,"creation_date":1554782624,"post_id":32447591,"comment_id":97867297,"body_markdown":"Thanks to you I&#39;m going to sleep more hour today, thank you my friend!! :)","body":"Thanks to you I&#39;m going to sleep more hour today, thank you my friend!! :)"},{"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"score":0,"creation_date":1662116073,"post_id":32447591,"comment_id":129936871,"body_markdown":"Thanks a ton for this. Works like a charm. Btw it doesn&#39;t work if root node is JSONArray, so I just modified the code by copying while-loop&#39;s ArrayNode code at top level in if-else","body":"Thanks a ton for this. Works like a charm. Btw it doesn&#39;t work if root node is JSONArray, so I just modified the code by copying while-loop&#39;s ArrayNode code at top level in if-else"}],"tags":[],"owner":{"account_id":6456827,"reputation":389,"user_id":5001931,"display_name":"Jay Khatwani"},"comment_count":5,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1478735480,"creation_date":1441672326,"answer_id":32447591,"question_id":9895041,"body_markdown":"Inspired by Arn&#39;s answer. Editing it to add the case where a node may have a array of nodes in it.\r\n\r\n    public static JsonNode merge(JsonNode mainNode, JsonNode updateNode) {\r\n\r\n        Iterator&lt;String&gt; fieldNames = updateNode.fieldNames();\r\n\r\n        while (fieldNames.hasNext()) {\r\n            String updatedFieldName = fieldNames.next();\r\n            JsonNode valueToBeUpdated = mainNode.get(updatedFieldName);\r\n            JsonNode updatedValue = updateNode.get(updatedFieldName);\r\n\r\n            // If the node is an @ArrayNode\r\n            if (valueToBeUpdated != null &amp;&amp; valueToBeUpdated.isArray() &amp;&amp; \r\n                updatedValue.isArray()) {\r\n                // running a loop for all elements of the updated ArrayNode\r\n                for (int i = 0; i &lt; updatedValue.size(); i++) {\r\n                    JsonNode updatedChildNode = updatedValue.get(i);\r\n                    // Create a new Node in the node that should be updated, if there was no corresponding node in it\r\n                    // Use-case - where the updateNode will have a new element in its Array\r\n                    if (valueToBeUpdated.size() &lt;= i) {\r\n                        ((ArrayNode) valueToBeUpdated).add(updatedChildNode);\r\n                    }\r\n                    // getting reference for the node to be updated\r\n                    JsonNode childNodeToBeUpdated = valueToBeUpdated.get(i);\r\n                    merge(childNodeToBeUpdated, updatedChildNode);\r\n                }\r\n            // if the Node is an @ObjectNode\r\n            } else if (valueToBeUpdated != null &amp;&amp; valueToBeUpdated.isObject()) {\r\n                merge(valueToBeUpdated, updatedValue);\r\n            } else {\r\n                if (mainNode instanceof ObjectNode) {\r\n                    ((ObjectNode) mainNode).replace(updatedFieldName, updatedValue);\r\n                }\r\n            }\r\n        }\r\n        return mainNode;\r\n    }","title":"Merging Two JSON Documents Using Jackson","body":"<p>Inspired by Arn's answer. Editing it to add the case where a node may have a array of nodes in it.</p>\n\n<pre><code>public static JsonNode merge(JsonNode mainNode, JsonNode updateNode) {\n\n    Iterator&lt;String&gt; fieldNames = updateNode.fieldNames();\n\n    while (fieldNames.hasNext()) {\n        String updatedFieldName = fieldNames.next();\n        JsonNode valueToBeUpdated = mainNode.get(updatedFieldName);\n        JsonNode updatedValue = updateNode.get(updatedFieldName);\n\n        // If the node is an @ArrayNode\n        if (valueToBeUpdated != null &amp;&amp; valueToBeUpdated.isArray() &amp;&amp; \n            updatedValue.isArray()) {\n            // running a loop for all elements of the updated ArrayNode\n            for (int i = 0; i &lt; updatedValue.size(); i++) {\n                JsonNode updatedChildNode = updatedValue.get(i);\n                // Create a new Node in the node that should be updated, if there was no corresponding node in it\n                // Use-case - where the updateNode will have a new element in its Array\n                if (valueToBeUpdated.size() &lt;= i) {\n                    ((ArrayNode) valueToBeUpdated).add(updatedChildNode);\n                }\n                // getting reference for the node to be updated\n                JsonNode childNodeToBeUpdated = valueToBeUpdated.get(i);\n                merge(childNodeToBeUpdated, updatedChildNode);\n            }\n        // if the Node is an @ObjectNode\n        } else if (valueToBeUpdated != null &amp;&amp; valueToBeUpdated.isObject()) {\n            merge(valueToBeUpdated, updatedValue);\n        } else {\n            if (mainNode instanceof ObjectNode) {\n                ((ObjectNode) mainNode).replace(updatedFieldName, updatedValue);\n            }\n        }\n    }\n    return mainNode;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":325754,"reputation":11349,"user_id":647129,"accept_rate":82,"display_name":"rogue-one"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1449092192,"creation_date":1449092192,"answer_id":34053490,"question_id":9895041,"body_markdown":"Below is an implementation in Scala. The source and target node are mostly commutative except when a branch exists in both source and target.\r\n\r\n      def mergeYamlObjects(source: ObjectNode, target: ObjectNode, overwrite: Boolean = true): ObjectNode = {\r\n        if (target == null)\r\n          source\r\n        else if (source == null)\r\n          target\r\n        else {\r\n          val result = source.deepCopy\r\n          val fieldlist = source.fieldNames.asScala.toList ++ target.fieldNames.asScala.toList\r\n          for (item &lt;- fieldlist) {\r\n            if (!(source has item)) {\r\n              result put(item, target get item)\r\n            } else {\r\n              if ((source get item).isValueNode) {\r\n                if (target has item)\r\n                  if (overwrite)\r\n                    result.put(item, target get item)\r\n              } else {\r\n                result.put(item, mergeYamlObjects(source.get(item).asInstanceOf[ObjectNode],\r\n                  target.get(item).asInstanceOf[ObjectNode], overwrite = overwrite))\r\n              }\r\n            }\r\n          }\r\n          result\r\n        }\r\n      }\r\n\r\n","title":"Merging Two JSON Documents Using Jackson","body":"<p>Below is an implementation in Scala. The source and target node are mostly commutative except when a branch exists in both source and target.</p>\n\n<pre><code>  def mergeYamlObjects(source: ObjectNode, target: ObjectNode, overwrite: Boolean = true): ObjectNode = {\n    if (target == null)\n      source\n    else if (source == null)\n      target\n    else {\n      val result = source.deepCopy\n      val fieldlist = source.fieldNames.asScala.toList ++ target.fieldNames.asScala.toList\n      for (item &lt;- fieldlist) {\n        if (!(source has item)) {\n          result put(item, target get item)\n        } else {\n          if ((source get item).isValueNode) {\n            if (target has item)\n              if (overwrite)\n                result.put(item, target get item)\n          } else {\n            result.put(item, mergeYamlObjects(source.get(item).asInstanceOf[ObjectNode],\n              target.get(item).asInstanceOf[ObjectNode], overwrite = overwrite))\n          }\n        }\n      }\n      result\n    }\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":442633,"reputation":1586,"user_id":833336,"accept_rate":43,"display_name":"emecas"},"score":1,"creation_date":1680899157,"post_id":36863628,"comment_id":133978465,"body_markdown":"The method put(String, JsonNode) from the type ObjectNode is deprecated   , use set or replace","body":"The method put(String, JsonNode) from the type ObjectNode is deprecated   , use set or replace"}],"tags":[],"owner":{"account_id":7849773,"reputation":71,"user_id":5933581,"display_name":"moh sajid khan"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1465329549,"creation_date":1461670106,"answer_id":36863628,"question_id":9895041,"body_markdown":"If someone simply wants to add two or more JsonNode object into one JsonNode, this can be one approach:\r\n    \r\n    ArrayNode arrayNode = objectMapper.createArrayNode();\r\n    arrayNode.add(firstJsonNode);\r\n    arrayNode.add(secondJsonNode);\r\n    arrayNode.add(thirdJsonNode);\r\n    \r\n    JsonNode root = JsonNodeFactory.instance.objectNode();\r\n    ((ObjectNode) root).put(&quot;&quot;, arrayNode);\r\n    System.out.println(&quot;merged array node #: &quot; + root);","title":"Merging Two JSON Documents Using Jackson","body":"<p>If someone simply wants to add two or more JsonNode object into one JsonNode, this can be one approach:</p>\n\n<pre><code>ArrayNode arrayNode = objectMapper.createArrayNode();\narrayNode.add(firstJsonNode);\narrayNode.add(secondJsonNode);\narrayNode.add(thirdJsonNode);\n\nJsonNode root = JsonNodeFactory.instance.objectNode();\n((ObjectNode) root).put(\"\", arrayNode);\nSystem.out.println(\"merged array node #: \" + root);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4531209,"reputation":1034,"user_id":3681634,"accept_rate":39,"display_name":"aeroxr1"},"score":0,"creation_date":1547999658,"post_id":41135481,"comment_id":95378233,"body_markdown":"Hi , maybe is better to use a deepCopy on each getValue ?","body":"Hi , maybe is better to use a deepCopy on each getValue ?"}],"tags":[],"owner":{"account_id":3178228,"reputation":4984,"user_id":2685581,"display_name":"Ajay Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481693406,"creation_date":1481693406,"answer_id":41135481,"question_id":9895041,"body_markdown":"Here,is full implementation of merging two JSON  tree into one. Hope it would be helpful :)\r\n\r\n    /**\r\n     * Merge two JSON tree into one i.e mergedInTo.\r\n     *\r\n     * @param toBeMerged\r\n     * @param mergedInTo\r\n     */\r\n    public static void merge(JsonNode toBeMerged, JsonNode mergedInTo) {\r\n        Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; incomingFieldsIterator = toBeMerged.fields();\r\n        Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; mergedIterator = mergedInTo.fields();\r\n\r\n        while (incomingFieldsIterator.hasNext()) {\r\n            Map.Entry&lt;String, JsonNode&gt; incomingEntry = incomingFieldsIterator.next();\r\n\r\n            JsonNode subNode = incomingEntry.getValue();\r\n\r\n            if (subNode.getNodeType().equals(JsonNodeType.OBJECT)) {\r\n                boolean isNewBlock = true;\r\n                mergedIterator = mergedInTo.fields();\r\n                while (mergedIterator.hasNext()) {\r\n                    Map.Entry&lt;String, JsonNode&gt; entry = mergedIterator.next();\r\n                    if (entry.getKey().equals(incomingEntry.getKey())) {\r\n                        merge(incomingEntry.getValue(), entry.getValue());\r\n                        isNewBlock = false;\r\n                    }\r\n                }\r\n                if (isNewBlock) {\r\n                    ((ObjectNode) mergedInTo).replace(incomingEntry.getKey(), incomingEntry.getValue());\r\n                }\r\n            } else if (subNode.getNodeType().equals(JsonNodeType.ARRAY)) {\r\n                boolean newEntry = true;\r\n                mergedIterator = mergedInTo.fields();\r\n                while (mergedIterator.hasNext()) {\r\n                    Map.Entry&lt;String, JsonNode&gt; entry = mergedIterator.next();\r\n                    if (entry.getKey().equals(incomingEntry.getKey())) {\r\n                        updateArray(incomingEntry.getValue(), entry);\r\n                        newEntry = false;\r\n                    }\r\n                }\r\n                if (newEntry) {\r\n                    ((ObjectNode) mergedInTo).replace(incomingEntry.getKey(), incomingEntry.getValue());\r\n                }\r\n            }\r\n            ValueNode valueNode = null;\r\n            JsonNode incomingValueNode = incomingEntry.getValue();\r\n            switch (subNode.getNodeType()) {\r\n                case STRING:\r\n                    valueNode = new TextNode(incomingValueNode.textValue());\r\n                    break;\r\n                case NUMBER:\r\n                    valueNode = new IntNode(incomingValueNode.intValue());\r\n                    break;\r\n                case BOOLEAN:\r\n                    valueNode = BooleanNode.valueOf(incomingValueNode.booleanValue());\r\n            }\r\n            if (valueNode != null) {\r\n                updateObject(mergedInTo, valueNode, incomingEntry);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void updateArray(JsonNode valueToBePlaced, Map.Entry&lt;String, JsonNode&gt; toBeMerged) {\r\n        toBeMerged.setValue(valueToBePlaced);\r\n    }\r\n\r\n    private static void updateObject(JsonNode mergeInTo, ValueNode valueToBePlaced,\r\n                                     Map.Entry&lt;String, JsonNode&gt; toBeMerged) {\r\n        boolean newEntry = true;\r\n        Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; mergedIterator = mergeInTo.fields();\r\n        while (mergedIterator.hasNext()) {\r\n            Map.Entry&lt;String, JsonNode&gt; entry = mergedIterator.next();\r\n            if (entry.getKey().equals(toBeMerged.getKey())) {\r\n                newEntry = false;\r\n                entry.setValue(valueToBePlaced);\r\n            }\r\n        }\r\n        if (newEntry) {\r\n            ((ObjectNode) mergeInTo).replace(toBeMerged.getKey(), toBeMerged.getValue());\r\n        }\r\n    }","title":"Merging Two JSON Documents Using Jackson","body":"<p>Here,is full implementation of merging two JSON  tree into one. Hope it would be helpful :)</p>\n\n<pre><code>/**\n * Merge two JSON tree into one i.e mergedInTo.\n *\n * @param toBeMerged\n * @param mergedInTo\n */\npublic static void merge(JsonNode toBeMerged, JsonNode mergedInTo) {\n    Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; incomingFieldsIterator = toBeMerged.fields();\n    Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; mergedIterator = mergedInTo.fields();\n\n    while (incomingFieldsIterator.hasNext()) {\n        Map.Entry&lt;String, JsonNode&gt; incomingEntry = incomingFieldsIterator.next();\n\n        JsonNode subNode = incomingEntry.getValue();\n\n        if (subNode.getNodeType().equals(JsonNodeType.OBJECT)) {\n            boolean isNewBlock = true;\n            mergedIterator = mergedInTo.fields();\n            while (mergedIterator.hasNext()) {\n                Map.Entry&lt;String, JsonNode&gt; entry = mergedIterator.next();\n                if (entry.getKey().equals(incomingEntry.getKey())) {\n                    merge(incomingEntry.getValue(), entry.getValue());\n                    isNewBlock = false;\n                }\n            }\n            if (isNewBlock) {\n                ((ObjectNode) mergedInTo).replace(incomingEntry.getKey(), incomingEntry.getValue());\n            }\n        } else if (subNode.getNodeType().equals(JsonNodeType.ARRAY)) {\n            boolean newEntry = true;\n            mergedIterator = mergedInTo.fields();\n            while (mergedIterator.hasNext()) {\n                Map.Entry&lt;String, JsonNode&gt; entry = mergedIterator.next();\n                if (entry.getKey().equals(incomingEntry.getKey())) {\n                    updateArray(incomingEntry.getValue(), entry);\n                    newEntry = false;\n                }\n            }\n            if (newEntry) {\n                ((ObjectNode) mergedInTo).replace(incomingEntry.getKey(), incomingEntry.getValue());\n            }\n        }\n        ValueNode valueNode = null;\n        JsonNode incomingValueNode = incomingEntry.getValue();\n        switch (subNode.getNodeType()) {\n            case STRING:\n                valueNode = new TextNode(incomingValueNode.textValue());\n                break;\n            case NUMBER:\n                valueNode = new IntNode(incomingValueNode.intValue());\n                break;\n            case BOOLEAN:\n                valueNode = BooleanNode.valueOf(incomingValueNode.booleanValue());\n        }\n        if (valueNode != null) {\n            updateObject(mergedInTo, valueNode, incomingEntry);\n        }\n    }\n}\n\nprivate static void updateArray(JsonNode valueToBePlaced, Map.Entry&lt;String, JsonNode&gt; toBeMerged) {\n    toBeMerged.setValue(valueToBePlaced);\n}\n\nprivate static void updateObject(JsonNode mergeInTo, ValueNode valueToBePlaced,\n                                 Map.Entry&lt;String, JsonNode&gt; toBeMerged) {\n    boolean newEntry = true;\n    Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; mergedIterator = mergeInTo.fields();\n    while (mergedIterator.hasNext()) {\n        Map.Entry&lt;String, JsonNode&gt; entry = mergedIterator.next();\n        if (entry.getKey().equals(toBeMerged.getKey())) {\n            newEntry = false;\n            entry.setValue(valueToBePlaced);\n        }\n    }\n    if (newEntry) {\n        ((ObjectNode) mergeInTo).replace(toBeMerged.getKey(), toBeMerged.getValue());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6332711,"reputation":147,"user_id":4917167,"accept_rate":50,"display_name":"Evandro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670350606,"creation_date":1670350606,"answer_id":74707328,"question_id":9895041,"body_markdown":"If your goal is to concatenate two JSONs, the simplest way I found is the following (considering you have two ObjecNode ready):\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\n// Dummy objects to concatenate\r\nMap&lt;String, Object&gt; map = new HashMap();\r\nmap.put(&quot;k&quot;, &quot;v&quot;);\r\n\r\nMap&lt;String, Object&gt; secondMap = new HashMap();\r\nsecondMap.put(&quot;secondK&quot;, &quot;secondV&quot;);\r\n\r\n//Transforming Objects into ObjectNode\r\nObjectNode firstObjectNode = mapper.convertValue(map, ObjectNode.class);\r\nObjectNode secondObjectNode = mapper.convertValue(secondMap, ObjectNode.class);\r\n\r\n//Concatenating secondObjectNode into firstObjectNode\r\nfirstObjectNode.setAll(secondObjectNode);\r\n\r\n//Output will be: {&quot;k&quot;:&quot;v&quot;,&quot;secondK&quot;:&quot;secondV&quot;}\r\nSystem.out.println(firstObjectNode);\r\n```\r\n\r\nHope it helps\r\n\r\n","title":"Merging Two JSON Documents Using Jackson","body":"<p>If your goal is to concatenate two JSONs, the simplest way I found is the following (considering you have two ObjecNode ready):</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n\n// Dummy objects to concatenate\nMap&lt;String, Object&gt; map = new HashMap();\nmap.put(&quot;k&quot;, &quot;v&quot;);\n\nMap&lt;String, Object&gt; secondMap = new HashMap();\nsecondMap.put(&quot;secondK&quot;, &quot;secondV&quot;);\n\n//Transforming Objects into ObjectNode\nObjectNode firstObjectNode = mapper.convertValue(map, ObjectNode.class);\nObjectNode secondObjectNode = mapper.convertValue(secondMap, ObjectNode.class);\n\n//Concatenating secondObjectNode into firstObjectNode\nfirstObjectNode.setAll(secondObjectNode);\n\n//Output will be: {&quot;k&quot;:&quot;v&quot;,&quot;secondK&quot;:&quot;secondV&quot;}\nSystem.out.println(firstObjectNode);\n</code></pre>\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687290722,"creation_date":1687290722,"answer_id":76517990,"question_id":9895041,"body_markdown":"Merge **json -&gt; json** with [ObjectMapper][1]:\r\n\r\n    @SneakyThrows\r\n    public static String mergeToPretty(String baseJson, String overrideJson) {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        \r\n        Object base = objectMapper.readValue(baseJson, Object.class);\r\n        Object merged = objectMapper.readerForUpdating(base).readValue(overrideJson);\r\n        return objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(merged);\r\n    }\r\n\r\n\r\nNotes: \r\n- `@SneakyThrows` could be replaced with exception handling if not using [Lombok][2].\r\n- If no need for pretty, remove `.writerWithDefaultPrettyPrinter()` from last line.\r\n\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\r\n  [2]: https://projectlombok.org/","title":"Merging Two JSON Documents Using Jackson","body":"<p>Merge <strong>json -&gt; json</strong> with <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">ObjectMapper</a>:</p>\n<pre><code>@SneakyThrows\npublic static String mergeToPretty(String baseJson, String overrideJson) {\n    ObjectMapper objectMapper = new ObjectMapper();\n    \n    Object base = objectMapper.readValue(baseJson, Object.class);\n    Object merged = objectMapper.readerForUpdating(base).readValue(overrideJson);\n    return objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(merged);\n}\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li><code>@SneakyThrows</code> could be replaced with exception handling if not using <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a>.</li>\n<li>If no need for pretty, remove <code>.writerWithDefaultPrettyPrinter()</code> from last line.</li>\n</ul>\n"}],"owner":{"account_id":258668,"reputation":3728,"user_id":540981,"accept_rate":82,"display_name":"Danish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83745,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":9912406,"answer_count":8,"score":58,"last_activity_date":1687290722,"creation_date":1332871392,"question_id":9895041,"body_markdown":"Is it possible to merge two JSON documents with the Jackson JSON library? I am basically using the Jackson mapper with simple Java Maps.\r\n\r\nI&#39;ve tried to search in Google and Jackson&#39;s documentation but couldn&#39;t find anything.","title":"Merging Two JSON Documents Using Jackson","body":"<p>Is it possible to merge two JSON documents with the Jackson JSON library? I am basically using the Jackson mapper with simple Java Maps.</p>\n\n<p>I've tried to search in Google and Jackson's documentation but couldn't find anything.</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1686752713,"post_id":76474077,"comment_id":134842750,"body_markdown":"Since your Employee is located at `com.example.uralsibtest.service.Employee` you should use `@EntityScan(&quot;com.example.uralsibtest.service.*&quot;)` instead of `@EntityScan(&quot;my.package.base.*&quot;)`","body":"Since your Employee is located at <code>com.example.uralsibtest.service.Employee</code> you should use <code>@EntityScan(&quot;com.example.uralsibtest.service.*&quot;)</code> instead of <code>@EntityScan(&quot;my.package.base.*&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":28816641,"reputation":1,"user_id":22070125,"display_name":"Tushar Bhalothia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686753423,"creation_date":1686753423,"answer_id":76474724,"question_id":76474077,"body_markdown":"Try using Integer for id field in your Employee entity class instead of int. ","title":"Error creating bean on spring-boot (UnsatisfiedDependencyException, Not a managed type)","body":"<p>Try using Integer for id field in your Employee entity class instead of int.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687511096,"post_id":76517962,"comment_id":134950206,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76517962/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16736803,"reputation":13,"user_id":12097658,"display_name":"LEO"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687290504,"creation_date":1687290484,"answer_id":76517962,"question_id":76474077,"body_markdown":"I also got this error. Had to switch to Java 8 and Springboot 2.7.4\r\nSame code worked for me. Couldn&#39;t find any working solution in the internet.","title":"Error creating bean on spring-boot (UnsatisfiedDependencyException, Not a managed type)","body":"<p>I also got this error. Had to switch to Java 8 and Springboot 2.7.4\nSame code worked for me. Couldn't find any working solution in the internet.</p>\n"}],"owner":{"account_id":28244812,"reputation":1,"user_id":22072908,"display_name":"Олег Макаров"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687290504,"creation_date":1686748966,"question_id":76474077,"body_markdown":"I have been trying to create a Spring CRUD application. I use Spring boot+JPA and having a problem while starting the service, always catching that error:\r\n\r\n```\r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-06-14T16:00:32.907+03:00 ERROR 19348 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;employeeController&#39;: Unsatisfied dependency expressed through field &#39;employeeRepository&#39;: Error creating bean with name &#39;employeeRepository&#39; defined in com.example.uralsibtest.repository.EmployeeRepository defined in @EnableJpaRepositories declared on ApplicationRunner: Not a managed type: class com.example.uralsibtest.service.Employee\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat com.example.uralsibtest.ApplicationRunner.main(ApplicationRunner.java:16) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.1.0.jar:3.1.0]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;employeeRepository&#39; defined in com.example.uralsibtest.repository.EmployeeRepository defined in @EnableJpaRepositories declared on ApplicationRunner: Not a managed type: class com.example.uralsibtest.service.Employee\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 23 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.uralsibtest.service.Employee\r\n\tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:465) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:80) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 33 common frames omitted\r\n\r\n``` \r\n\r\nMy java-classes:\r\n\r\n```\r\n\r\nimport com.example.uralsibtest.enums.Position;\r\nimport jakarta.annotation.Nonnull;\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\n\r\n@Entity\r\n@Table(name = &quot;employee&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Employee {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n\r\n    @Nonnull\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Nonnull\r\n    @Column(name = &quot;position&quot;)\r\n    private Position position;\r\n\r\n    @Nonnull\r\n    @Column(name = &quot;department&quot;)\r\n    private int department;\r\n\r\n    @Nonnull\r\n    @Column(name = &quot;phone&quot;)\r\n    private long phone;\r\n\r\n    @Column(name = &quot;address&quot;)\r\n    private String address;\r\n\r\n    @Nonnull\r\n    @Column(name = &quot;employment_date&quot;)\r\n    private String employmentDate;\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\nimport com.example.uralsibtest.exceptions.EmployeeNotFoundException;\r\nimport com.example.uralsibtest.repository.EmployeeRepository;\r\nimport com.example.uralsibtest.service.Employee;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@RestController// используется для обозначения каждого метода в аннотированном классе как объект домена\r\npublic class EmployeeController{\r\n\r\n    @Autowired\r\n    EmployeeRepository employeeRepository;\r\n\r\n    @GetMapping(&quot;employee/{id}&quot;)\r\n    public Employee getEmployeeById(@PathVariable(value = &quot;id&quot;)Integer employeeId) throws EmployeeNotFoundException, Throwable {\r\n        return (Employee) employeeRepository.findById(employeeId)\r\n                .orElseThrow(() -&gt; new EmployeeNotFoundException(employeeId));\r\n\r\n    }\r\n\r\n    @PostMapping(&quot;/employee/create&quot;)\r\n    public ResponseEntity createEmployee( @RequestBody Employee employee) {\r\n        employeeRepository.save(employee);\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(&quot;HTTP Status will be CREATED (CODE 201)\\n&quot;);\r\n    }\r\n\r\n    @PutMapping(&quot;/employee/update/name&quot;)\r\n    public Employee updateEmployeeName(@PathVariable(value = &quot;id&quot;) Integer employeeId, @RequestBody String newName) throws\r\n            EmployeeNotFoundException{\r\n        Employee employee = (Employee) employeeRepository.findById(employeeId)\r\n                .orElseThrow(() -&gt; new EmployeeNotFoundException(employeeId));\r\n        employee.setName(newName);\r\n        Employee updatedEmployee = employeeRepository.save(employee);\r\n        return updatedEmployee;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\nimport com.example.uralsibtest.service.Employee;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n\r\n@Repository\r\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Integer&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories(&quot;com.example.uralsibtest.*&quot;)\r\n@ComponentScan(basePackages = { &quot;com.example.uralsibtest.*&quot; })\r\n@EntityScan(&quot;my.package.base.*&quot;)\r\npublic class ApplicationRunner {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ApplicationRunner.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;uralsibtest&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;uralsibtest&lt;/name&gt;\r\n    &lt;description&gt;uralsibtest&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\napplication.properties:\r\n\r\n```\r\nspring.datasource.username=postgres\r\nspring.datasource.password=62276227\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/URALSIB\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.show_sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n```\r\n\r\nI tried to use @Qualifier, javax-annotations and @EnableJpaRepositories, it doesn&#39;t work. I&#39;m confused. I can&#39;t fix these errors.","title":"Error creating bean on spring-boot (UnsatisfiedDependencyException, Not a managed type)","body":"<p>I have been trying to create a Spring CRUD application. I use Spring boot+JPA and having a problem while starting the service, always catching that error:</p>\n<pre><code>\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-06-14T16:00:32.907+03:00 ERROR 19348 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'employeeController': Unsatisfied dependency expressed through field 'employeeRepository': Error creating bean with name 'employeeRepository' defined in com.example.uralsibtest.repository.EmployeeRepository defined in @EnableJpaRepositories declared on ApplicationRunner: Not a managed type: class com.example.uralsibtest.service.Employee\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at com.example.uralsibtest.ApplicationRunner.main(ApplicationRunner.java:16) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.1.0.jar:3.1.0]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'employeeRepository' defined in com.example.uralsibtest.repository.EmployeeRepository defined in @EnableJpaRepositories declared on ApplicationRunner: Not a managed type: class com.example.uralsibtest.service.Employee\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 23 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.uralsibtest.service.Employee\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:465) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:80) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 33 common frames omitted\n\n</code></pre>\n<p>My java-classes:</p>\n<pre><code>\nimport com.example.uralsibtest.enums.Position;\nimport jakarta.annotation.Nonnull;\nimport jakarta.persistence.*;\nimport lombok.*;\n\n@Entity\n@Table(name = &quot;employee&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@ToString\npublic class Employee {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @Nonnull\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Nonnull\n    @Column(name = &quot;position&quot;)\n    private Position position;\n\n    @Nonnull\n    @Column(name = &quot;department&quot;)\n    private int department;\n\n    @Nonnull\n    @Column(name = &quot;phone&quot;)\n    private long phone;\n\n    @Column(name = &quot;address&quot;)\n    private String address;\n\n    @Nonnull\n    @Column(name = &quot;employment_date&quot;)\n    private String employmentDate;\n\n\n}\n</code></pre>\n<pre><code>import com.example.uralsibtest.exceptions.EmployeeNotFoundException;\nimport com.example.uralsibtest.repository.EmployeeRepository;\nimport com.example.uralsibtest.service.Employee;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController// используется для обозначения каждого метода в аннотированном классе как объект домена\npublic class EmployeeController{\n\n    @Autowired\n    EmployeeRepository employeeRepository;\n\n    @GetMapping(&quot;employee/{id}&quot;)\n    public Employee getEmployeeById(@PathVariable(value = &quot;id&quot;)Integer employeeId) throws EmployeeNotFoundException, Throwable {\n        return (Employee) employeeRepository.findById(employeeId)\n                .orElseThrow(() -&gt; new EmployeeNotFoundException(employeeId));\n\n    }\n\n    @PostMapping(&quot;/employee/create&quot;)\n    public ResponseEntity createEmployee( @RequestBody Employee employee) {\n        employeeRepository.save(employee);\n        return ResponseEntity.status(HttpStatus.CREATED).body(&quot;HTTP Status will be CREATED (CODE 201)\\n&quot;);\n    }\n\n    @PutMapping(&quot;/employee/update/name&quot;)\n    public Employee updateEmployeeName(@PathVariable(value = &quot;id&quot;) Integer employeeId, @RequestBody String newName) throws\n            EmployeeNotFoundException{\n        Employee employee = (Employee) employeeRepository.findById(employeeId)\n                .orElseThrow(() -&gt; new EmployeeNotFoundException(employeeId));\n        employee.setName(newName);\n        Employee updatedEmployee = employeeRepository.save(employee);\n        return updatedEmployee;\n    }\n}\n\n</code></pre>\n<pre><code>import com.example.uralsibtest.service.Employee;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n\n@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Integer&gt; {\n\n}\n\n</code></pre>\n<pre><code>\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EnableJpaRepositories(&quot;com.example.uralsibtest.*&quot;)\n@ComponentScan(basePackages = { &quot;com.example.uralsibtest.*&quot; })\n@EntityScan(&quot;my.package.base.*&quot;)\npublic class ApplicationRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ApplicationRunner.class, args);\n    }\n\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;uralsibtest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;uralsibtest&lt;/name&gt;\n    &lt;description&gt;uralsibtest&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.username=postgres\nspring.datasource.password=62276227\nspring.datasource.url=jdbc:postgresql://localhost:5432/URALSIB\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n<p>I tried to use @Qualifier, javax-annotations and @EnableJpaRepositories, it doesn't work. I'm confused. I can't fix these errors.</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1687290939,"post_id":76517586,"comment_id":134915374,"body_markdown":"Are you really planning to ignore exceptions?","body":"Are you really planning to ignore exceptions?"}],"answers":[{"comments":[{"owner":{"account_id":4059229,"reputation":79,"user_id":3336194,"accept_rate":43,"display_name":"user3336194"},"score":0,"creation_date":1687288239,"post_id":76517764,"comment_id":134914968,"body_markdown":"Thanks for the suggestions. we are not adding Java reflection in application code. Do you suggest any other ways apart from reflection?","body":"Thanks for the suggestions. we are not adding Java reflection in application code. Do you suggest any other ways apart from reflection?"},{"owner":{"account_id":26559516,"reputation":1,"user_id":20187567,"display_name":"ladno"},"score":0,"creation_date":1687290355,"post_id":76517764,"comment_id":134915302,"body_markdown":"You can use a higher-order function or lambda expression instead of using reflection:\ninterface CheckedSupplier&lt;T&gt; {\n    T get() throws Exception;\n}\n\nprivate void safeCall(CheckedSupplier&lt;?&gt; function) {\n    try {\n        function.get();\n    } catch (Exception eч) {\n        // log the exception\n    }\n}","body":"You can use a higher-order function or lambda expression instead of using reflection: interface CheckedSupplier&lt;T&gt; {     T get() throws Exception; }  private void safeCall(CheckedSupplier&lt;?&gt; function) {     try {         function.get();     } catch (Exception eч) {         // log the exception     } }"}],"tags":[],"owner":{"account_id":26559516,"reputation":1,"user_id":20187567,"display_name":"ladno"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687288123,"creation_date":1687288123,"answer_id":76517764,"question_id":76517586,"body_markdown":"Change the return type of the Supplier interface to void\r\n\r\nCatch any exceptions thrown by method invocation inside the safeCall() method, `log them` and then `again throw the Runtime exception`\r\n\r\nThe main idea is to use reflection to obtain the corresponding method and invoke it, passing the arguments to safeCall. If an exception occurs, it is logged and then `rethrown as a RuntimeException to interrupt the execution` of subsequent methods\r\n\r\nYou can modify your safeCall like this:\r\n```java\r\nprivate void safeCall(String methodName, Object... args) {\r\n    try {\r\n        Method method = getClass().getMethod(methodName, getParameterTypes(args));\r\n        method.invoke(this, args);\r\n    } catch (Exception ex) {\r\n        // Log exception with &quot;methodName&quot; and args\r\n        throw new RuntimeException(ex); // Throw exception again as RuntimeException\r\n    }\r\n}\r\n\r\nprivate Class&lt;?&gt;[] getParameterTypes(Object... args) {\r\n    if (args == null)\r\n        return new Class&lt;?&gt;[0];\r\n    \r\n    Class&lt;?&gt;[] parameterTypes = new Class[args.length];\r\n    for (int i = 0; i &lt; args.length; i++)\r\n        parameterTypes[i] = args[i].getClass();\r\n    \r\n    return parameterTypes;\r\n}\r\n```\r\n","title":"Safe method call to log common Exception using Java8","body":"<p>Change the return type of the Supplier interface to void</p>\n<p>Catch any exceptions thrown by method invocation inside the safeCall() method, <code>log them</code> and then <code>again throw the Runtime exception</code></p>\n<p>The main idea is to use reflection to obtain the corresponding method and invoke it, passing the arguments to safeCall. If an exception occurs, it is logged and then <code>rethrown as a RuntimeException to interrupt the execution</code> of subsequent methods</p>\n<p>You can modify your safeCall like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void safeCall(String methodName, Object... args) {\n    try {\n        Method method = getClass().getMethod(methodName, getParameterTypes(args));\n        method.invoke(this, args);\n    } catch (Exception ex) {\n        // Log exception with &quot;methodName&quot; and args\n        throw new RuntimeException(ex); // Throw exception again as RuntimeException\n    }\n}\n\nprivate Class&lt;?&gt;[] getParameterTypes(Object... args) {\n    if (args == null)\n        return new Class&lt;?&gt;[0];\n    \n    Class&lt;?&gt;[] parameterTypes = new Class[args.length];\n    for (int i = 0; i &lt; args.length; i++)\n        parameterTypes[i] = args[i].getClass();\n    \n    return parameterTypes;\n}\n</code></pre>\n"}],"owner":{"account_id":4059229,"reputation":79,"user_id":3336194,"accept_rate":43,"display_name":"user3336194"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687290014,"creation_date":1687286310,"question_id":76517586,"body_markdown":"I am working on a project which have couple of method calls sequentially one after the other. These are the external calls.\r\n\r\nPseudo code depicting the similar behavior:\r\n\r\n    void calls() {\r\n        add(Integer:a, Integer:b);\r\n        multiply(BigDecimal:a, BigDecimal:b);\r\n        sub(Float:a, Float:b);\r\n        areaOfSquare(Integer: a);\r\n    }\r\n\r\nAny of the above method throwing exception will skip all the below methods.\r\nSo, individual methods can be wrapped in a try/catch block. But it&#39;s not a clean code.\r\n\r\n    try {\r\n        add(Integer:a, Integer:b);\r\n    } catch(Exception e) {}\r\n    try {\r\n         multiply(BigDecimal:a, BigDecimal:b);\r\n    } catch(Exception e) {}\r\n    try {\r\n         sub(Float:a, Float:b);\r\n    } catch(Exception e) {}\r\n    try {\r\n         areaOfSquare(Integer: a);\r\n    } catch(Exception e) {}\r\n\r\n\r\nI am planning to write a safeCall method which abstracts the exception inside the safeCall method. Thereby callers don&#39;t have to worry about exception logging. \r\nI am unable to come up on how to construct the safeCall method.\r\n\r\n    void calls() {\r\n            safeCall(() -&gt; add(Integer:a, Integer:b));\r\n            safeCall(() -&gt; multiply(BigDecimal:a, BigDecimal:b));\r\n            safeCall(() -&gt; sub(Float:a, Float:b));\r\n            safeCall(() -&gt; areaOfSquare(Integer: a));\r\n        }\r\n    \r\n    private void safeCall(Supplier&lt;?&gt; function) {\r\n\t\ttry {\r\n\t\t\tfunction.get();\r\n\t\t} catch (Exception e) {}\r\n\t}\r\n\t\t\t\r\n\r\n    \r\n","title":"Safe method call to log common Exception using Java8","body":"<p>I am working on a project which have couple of method calls sequentially one after the other. These are the external calls.</p>\n<p>Pseudo code depicting the similar behavior:</p>\n<pre><code>void calls() {\n    add(Integer:a, Integer:b);\n    multiply(BigDecimal:a, BigDecimal:b);\n    sub(Float:a, Float:b);\n    areaOfSquare(Integer: a);\n}\n</code></pre>\n<p>Any of the above method throwing exception will skip all the below methods.\nSo, individual methods can be wrapped in a try/catch block. But it's not a clean code.</p>\n<pre><code>try {\n    add(Integer:a, Integer:b);\n} catch(Exception e) {}\ntry {\n     multiply(BigDecimal:a, BigDecimal:b);\n} catch(Exception e) {}\ntry {\n     sub(Float:a, Float:b);\n} catch(Exception e) {}\ntry {\n     areaOfSquare(Integer: a);\n} catch(Exception e) {}\n</code></pre>\n<p>I am planning to write a safeCall method which abstracts the exception inside the safeCall method. Thereby callers don't have to worry about exception logging.\nI am unable to come up on how to construct the safeCall method.</p>\n<pre><code>void calls() {\n        safeCall(() -&gt; add(Integer:a, Integer:b));\n        safeCall(() -&gt; multiply(BigDecimal:a, BigDecimal:b));\n        safeCall(() -&gt; sub(Float:a, Float:b));\n        safeCall(() -&gt; areaOfSquare(Integer: a));\n    }\n\nprivate void safeCall(Supplier&lt;?&gt; function) {\n    try {\n        function.get();\n    } catch (Exception e) {}\n}\n        \n</code></pre>\n"},{"tags":["java","gradle","build.gradle","javac"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687290131,"post_id":76517866,"comment_id":134915271,"body_markdown":"Wouldn&#39;t it be the same as `Charset.systemDefault()`? If not, I can&#39;t think *why* not. Plus, why would you want to set it explicitly? The only reason to do that would be when the source files are in an encoding foreign to your system. And then, you wouldn&#39;t care what the default was","body":"Wouldn&#39;t it be the same as <code>Charset.systemDefault()</code>? If not, I can&#39;t think <i>why</i> not. Plus, why would you want to set it explicitly? The only reason to do that would be when the source files are in an encoding foreign to your system. And then, you wouldn&#39;t care what the default was"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1687291160,"post_id":76517866,"comment_id":134915404,"body_markdown":"@g00se, the return value of `Charset.systemDefault()` can be controller by jvm option `-Dfile.encoding=UTF-8` etc. What I am asking is about `javac -encoding UTF-8 Some.java`. Right i want to use a different encoding then whats default on my machine as the files are in a different encoding from my system default.","body":"@g00se, the return value of <code>Charset.systemDefault()</code> can be controller by jvm option <code>-Dfile.encoding=UTF-8</code> etc. What I am asking is about <code>javac -encoding UTF-8 Some.java</code>. Right i want to use a different encoding then whats default on my machine as the files are in a different encoding from my system default."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687291739,"post_id":76517866,"comment_id":134915494,"body_markdown":"I think you misunderstand. I *know* that (what I meant to say) `Charset.defaultCharset()` is connected with `file.encoding`. What I&#39;m saying is that it&#39;s going to likely be the same. If your files are encoded outside the system default then why not just set the correct encoding?","body":"I think you misunderstand. I <i>know</i> that (what I meant to say) <code>Charset.defaultCharset()</code> is connected with <code>file.encoding</code>. What I&#39;m saying is that it&#39;s going to likely be the same. If your files are encoded outside the system default then why not just set the correct encoding?"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1687292089,"post_id":76517866,"comment_id":134915547,"body_markdown":"@g00se, if my Some.java is encoded in UTF-8 and my OS/System default is windows-1252, then right at the compile stage I have to give the correct encoding type using `-encoding UTF-8`. Else want goes in to the Some.class is not predictable. And I want to log the System default through gradle before I set it to say UTF-8","body":"@g00se, if my Some.java is encoded in UTF-8 and my OS/System default is windows-1252, then right at the compile stage I have to give the correct encoding type using <code>-encoding UTF-8</code>. Else want goes in to the Some.class is not predictable. And I want to log the System default through gradle before I set it to say UTF-8"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687294245,"post_id":76517866,"comment_id":134915881,"body_markdown":"`gradle -q properties` ?","body":"<code>gradle -q properties</code> ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687295255,"post_id":76517866,"comment_id":134916040,"body_markdown":"`Or batch convert all to utf-8","body":"`Or batch convert all to utf-8"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1687298931,"post_id":76517866,"comment_id":134916537,"body_markdown":"@g00se - though i found above command useful. `./gradlew properties | grep encoding` returned nothing.","body":"@g00se - though i found above command useful. <code>.&#47;gradlew properties | grep encoding</code> returned nothing."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687300299,"post_id":76517866,"comment_id":134916670,"body_markdown":"I don&#39;t think it&#39;s possible unless it&#39;s already been passed explicitly","body":"I don&#39;t think it&#39;s possible unless it&#39;s already been passed explicitly"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1687324804,"post_id":76517866,"comment_id":134918770,"body_markdown":"`I don&#39;t think it&#39;s possible unless it&#39;s already been passed explicitly` &lt;- I would like to agree to this as `javac` itself does not seem to have an option to get this info or all the default values it&#39;s taking. +1. Anyone, plz correct if my findings on `javac` are not correct. With `java.exe`  we can use `java -XshowSettings` to show default values/settings it uses.","body":"<code>I don&#39;t think it&#39;s possible unless it&#39;s already been passed explicitly</code> &lt;- I would like to agree to this as <code>javac</code> itself does not seem to have an option to get this info or all the default values it&#39;s taking. +1. Anyone, plz correct if my findings on <code>javac</code> are not correct. With <code>java.exe</code>  we can use <code>java -XshowSettings</code> to show default values/settings it uses."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687331544,"post_id":76517866,"comment_id":134919911,"body_markdown":"Yes, so now you have to ask, logically, how is it going to make the decision? I refer you to what I said earlier. Which is are you using?","body":"Yes, so now you have to ask, logically, how is it going to make the decision? I refer you to what I said earlier. Which is are you using?"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1687336338,"post_id":76517866,"comment_id":134921043,"body_markdown":"@g00se - I meant, i agree to your point. And the rest was explanation of what I found in mean time after posting this Q. Thanks for all your comments.","body":"@g00se - I meant, i agree to your point. And the rest was explanation of what I found in mean time after posting this Q. Thanks for all your comments."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687337278,"post_id":76517866,"comment_id":134921246,"body_markdown":"Sorry, that was meant to say - &quot;which OS are you using?&quot;","body":"Sorry, that was meant to say - &quot;which OS are you using?&quot;"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1687412394,"post_id":76517866,"comment_id":134933577,"body_markdown":"@g00se - local/dev is windows 10 for few and MacOS latest for others. Builds are in Linux in docker image gradle-openjdk11:2022.11.LTS.2 and runtime is docker image of openjdk11-jre","body":"@g00se - local/dev is windows 10 for few and MacOS latest for others. Builds are in Linux in docker image gradle-openjdk11:2022.11.LTS.2 and runtime is docker image of openjdk11-jre"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687419681,"post_id":76517866,"comment_id":134934872,"body_markdown":"MacRoman used to be a thing. All that should be asy to script convert if you know the source encoding","body":"MacRoman used to be a thing. All that should be asy to script convert if you know the source encoding"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1687421225,"post_id":76517866,"comment_id":134935215,"body_markdown":"@g00se - thanks for your continuous involvement.. I could get past the issue just by passing the encoding value to compiler with the one my source is encoded with. Knowing the default would have been informative but that is not blocking me.","body":"@g00se - thanks for your continuous involvement.. I could get past the issue just by passing the encoding value to compiler with the one my source is encoded with. Knowing the default would have been informative but that is not blocking me."}],"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687289422,"creation_date":1687289422,"question_id":76517866,"body_markdown":"I want to know the default value that gradle/javac is using for `-encoding` option. \r\n\r\nI tried below - \r\n\r\n    tasks.withType(JavaCompile) {\r\n        println &#39;Compiler args: &#39; + options.compilerArgs\r\n        println &#39;encoding args: &#39; + options.encoding\r\n    }\r\n\r\nand the corresponding output is - \r\n\r\n&gt; Compiler args: []    \r\nencoding args: null\r\n\r\nThe thing is I want to know the default value for this option on my platform before I set it explicitly.\r\nI know how to explicitly set the `java compile -encoding` option value using gradle?\r\n\r\n    compileJava {  //uncomment the value you want to use.\r\n        options.encoding = &quot;windows-1252&quot;\r\n        //options.encoding = &quot;UTF-8&quot;\r\n        //options.encoding = &quot;US-ASCII&quot;\r\n    }\r\n\r\n But my intent is to find the default value. Any suggestions?\r\n\r\nNote: This Question is not about the runtime option `-Dfile.encoding` but is instead about the compile time option `-encoding`.\r\n","title":"How can I get java compile encoding option value that gradle is using?","body":"<p>I want to know the default value that gradle/javac is using for <code>-encoding</code> option.</p>\n<p>I tried below -</p>\n<pre><code>tasks.withType(JavaCompile) {\n    println 'Compiler args: ' + options.compilerArgs\n    println 'encoding args: ' + options.encoding\n}\n</code></pre>\n<p>and the corresponding output is -</p>\n<blockquote>\n<p>Compiler args: []<br />\nencoding args: null</p>\n</blockquote>\n<p>The thing is I want to know the default value for this option on my platform before I set it explicitly.\nI know how to explicitly set the <code>java compile -encoding</code> option value using gradle?</p>\n<pre><code>compileJava {  //uncomment the value you want to use.\n    options.encoding = &quot;windows-1252&quot;\n    //options.encoding = &quot;UTF-8&quot;\n    //options.encoding = &quot;US-ASCII&quot;\n}\n</code></pre>\n<p>But my intent is to find the default value. Any suggestions?</p>\n<p>Note: This Question is not about the runtime option <code>-Dfile.encoding</code> but is instead about the compile time option <code>-encoding</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1481169279,"post_id":41031478,"comment_id":69270411,"body_markdown":"Make sure the compiled jar actually contains the music file. Remember jarfiles are essentially zips, you can just open them with something like winrar.","body":"Make sure the compiled jar actually contains the music file. Remember jarfiles are essentially zips, you can just open them with something like winrar."},{"owner":{"account_id":80579,"reputation":533,"user_id":227775,"accept_rate":75,"display_name":"dasrohith"},"score":0,"creation_date":1481169823,"post_id":41031478,"comment_id":69270563,"body_markdown":"Are you getting any exception trace?","body":"Are you getting any exception trace?"}],"answers":[{"comments":[{"owner":{"account_id":7381985,"reputation":71,"user_id":5618363,"display_name":"Sam Yuyitung"},"score":2,"creation_date":1481170211,"post_id":41031509,"comment_id":69270651,"body_markdown":"No need, happy to help out","body":"No need, happy to help out"}],"tags":[],"owner":{"account_id":7381985,"reputation":71,"user_id":5618363,"display_name":"Sam Yuyitung"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1481169432,"creation_date":1481169432,"answer_id":41031509,"question_id":41031478,"body_markdown":"The issue is that you cannot read a resource as a stream from a jar \r\n\r\nto solve: \r\nreplace `getResourceAsStream` with `getResource`\r\n\r\nlike so: \r\n\r\n`AudioInputStream music = AudioSystem.getAudioInputStream(getClass().getResource(&quot;wily.wav&quot;));\r\n`\r\n\r\nHope this helps!","title":"Music plays when running program in Eclipse, but not when running Jar executable","body":"<p>The issue is that you cannot read a resource as a stream from a jar </p>\n\n<p>to solve: \nreplace <code>getResourceAsStream</code> with <code>getResource</code></p>\n\n<p>like so: </p>\n\n<p><code>AudioInputStream music = AudioSystem.getAudioInputStream(getClass().getResource(\"wily.wav\"));\n</code></p>\n\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":9805773,"reputation":47,"user_id":7265567,"display_name":"Anthony1617"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41031509,"answer_count":1,"score":3,"last_activity_date":1687287860,"creation_date":1481169127,"question_id":41031478,"body_markdown":"When I run my program in Eclipse, the music runs just fine when I access the part of the program that runs it. When I compile it as a jar, however, the music does not play, and everything else works fine.\r\n\r\nI am making a 2d side scroller game, and have a class for each level. In the class for the first level, I have this code in the constructor:\r\n\r\n    LoadClip();\r\n\r\nand this method later on in the class:\r\n\r\n    private void LoadClip() {\r\n\t\tClip c = null;\r\n\t\t    try {\r\n\t\t\t\tAudioInputStream music = AudioSystem.getAudioInputStream(getClass().getResourceAsStream(&quot;wily.wav&quot;));\r\n\t\t\t\tc = AudioSystem.getClip();\r\n\t\t\t\tc.open(music);\r\n\t\t\t\tc.start();\r\n\t\t\t}\r\n\t\t\tcatch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t}","title":"Music plays when running program in Eclipse, but not when running Jar executable","body":"<p>When I run my program in Eclipse, the music runs just fine when I access the part of the program that runs it. When I compile it as a jar, however, the music does not play, and everything else works fine.</p>\n<p>I am making a 2d side scroller game, and have a class for each level. In the class for the first level, I have this code in the constructor:</p>\n<pre><code>LoadClip();\n</code></pre>\n<p>and this method later on in the class:</p>\n<pre><code>private void LoadClip() {\n    Clip c = null;\n        try {\n            AudioInputStream music = AudioSystem.getAudioInputStream(getClass().getResourceAsStream(&quot;wily.wav&quot;));\n            c = AudioSystem.getClip();\n            c.open(music);\n            c.start();\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1687283201,"post_id":76517220,"comment_id":134914027,"body_markdown":"Why don&#39;t you try it?","body":"Why don&#39;t you try it?"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1687283258,"post_id":76517220,"comment_id":134914033,"body_markdown":"I’m voting to close this question because it&#39;s basic question. And just running it in ay IDE would give answer.","body":"I’m voting to close this question because it&#39;s basic question. And just running it in ay IDE would give answer."},{"owner":{"account_id":3706227,"reputation":87,"user_id":3084686,"display_name":"user3084686"},"score":0,"creation_date":1687284011,"post_id":76517220,"comment_id":134914159,"body_markdown":"@GauravJeswani sorry about that, edited the question and now I am even more confused after running it.","body":"@GauravJeswani sorry about that, edited the question and now I am even more confused after running it."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687286714,"creation_date":1687286714,"answer_id":76517627,"question_id":76517220,"body_markdown":"Inheritance can be slightly confusing when declaring a parent class with a sub-class instance.\r\n\r\nEssentially, methods can override, while fields cannot.\r\n\r\nSo, this prints _0_ because _obj_ is a _Parent_ object.\r\n\r\n```java\r\nSystem.out.println(obj.A); //print 0\r\n```\r\n\r\nAnd, this prints 4 because _say_ has been overridden, and _obj_ was instantiated as a _Child_ object.\r\n\r\n```java\r\nobj.say();  //print 4\r\n```\r\n\r\nAnother way to look at it is, you were expecting this as the result, of assigning field _A_, in _Child_.\r\n\r\n```java\r\nint A = (super.A = 1);\r\n```\r\n\r\nHere is the tutorial Oracle offers, in regard to the topic of _inheritance_.  \r\n_[Inheritance (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Interfaces and Inheritance)](https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)_.\r\n\r\nAnd, here is a relevant excerpt.\r\n\r\n&gt; _&quot;The idea of inheritance is simple but powerful: When you want to create a new class and there is already a class that includes some of the code that you want, you can derive your new class from the existing class. In doing this, you can reuse the fields and methods of the existing class without having to write (and debug!) them yourself.&quot;_  \r\n&gt; \r\n&gt; _&quot;A subclass inherits all the members (fields, methods, and nested classes) from its superclass. Constructors are not members, so they are not inherited by subclasses, but the constructor of the superclass can be invoked from the subclass.&quot;_","title":"JAVA: Does parent object that initilized with child class has access to variable in child","body":"<p>Inheritance can be slightly confusing when declaring a parent class with a sub-class instance.</p>\n<p>Essentially, methods can override, while fields cannot.</p>\n<p>So, this prints <em>0</em> because <em>obj</em> is a <em>Parent</em> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(obj.A); //print 0\n</code></pre>\n<p>And, this prints 4 because <em>say</em> has been overridden, and <em>obj</em> was instantiated as a <em>Child</em> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>obj.say();  //print 4\n</code></pre>\n<p>Another way to look at it is, you were expecting this as the result, of assigning field <em>A</em>, in <em>Child</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int A = (super.A = 1);\n</code></pre>\n<p>Here is the tutorial Oracle offers, in regard to the topic of <em>inheritance</em>.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">Inheritance (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a></em>.</p>\n<p>And, here is a relevant excerpt.</p>\n<blockquote>\n<p><em>&quot;The idea of inheritance is simple but powerful: When you want to create a new class and there is already a class that includes some of the code that you want, you can derive your new class from the existing class. In doing this, you can reuse the fields and methods of the existing class without having to write (and debug!) them yourself.&quot;</em></p>\n<p><em>&quot;A subclass inherits all the members (fields, methods, and nested classes) from its superclass. Constructors are not members, so they are not inherited by subclasses, but the constructor of the superclass can be invoked from the subclass.&quot;</em></p>\n</blockquote>\n"}],"owner":{"account_id":3706227,"reputation":87,"user_id":3084686,"display_name":"user3084686"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76517627,"answer_count":1,"score":0,"last_activity_date":1687286714,"creation_date":1687282936,"question_id":76517220,"body_markdown":"In here, if we have Parent and Child class\r\n```\r\nclass Parent {\r\n    int A = 0;\r\n\r\n    void say() {\r\n        System.out.println(&quot;Parent method&quot;);\r\n    }\r\n}\r\n\r\nclass Child extends Parent {\r\n    int A = 1;\r\n    int B = 3;\r\n\r\n    void say() {\r\n        System.out.println(A+B);\r\n    }\r\n}\r\n```\r\nCould someone explain why obj.A gives me 0 but obj.say has A as 1?\r\n\r\n        Parent obj = new Child();\r\n        System.out.println(obj.A); //print 0\r\n        obj.say();  //print 4\r\n        \r\n","title":"JAVA: Does parent object that initilized with child class has access to variable in child","body":"<p>In here, if we have Parent and Child class</p>\n<pre><code>class Parent {\n    int A = 0;\n\n    void say() {\n        System.out.println(&quot;Parent method&quot;);\n    }\n}\n\nclass Child extends Parent {\n    int A = 1;\n    int B = 3;\n\n    void say() {\n        System.out.println(A+B);\n    }\n}\n</code></pre>\n<p>Could someone explain why obj.A gives me 0 but obj.say has A as 1?</p>\n<pre><code>    Parent obj = new Child();\n    System.out.println(obj.A); //print 0\n    obj.say();  //print 4\n    \n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1428135,"reputation":5246,"user_id":1351167,"accept_rate":75,"display_name":"jAC"},"score":0,"creation_date":1687285366,"post_id":76517454,"comment_id":134914442,"body_markdown":"What type of dependency/build tool do you use? Gradle, Maven?","body":"What type of dependency/build tool do you use? Gradle, Maven?"},{"owner":{"account_id":19179227,"reputation":17,"user_id":14011319,"display_name":"EBRAHIM"},"score":0,"creation_date":1687285544,"post_id":76517454,"comment_id":134914487,"body_markdown":"I&#39;m using Gradle","body":"I&#39;m using Gradle"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1687285847,"post_id":76517454,"comment_id":134914548,"body_markdown":"Does it help if you enable &quot;Include in project build&quot; option for the artifact?","body":"Does it help if you enable &quot;Include in project build&quot; option for the artifact?"}],"owner":{"account_id":19179227,"reputation":17,"user_id":14011319,"display_name":"EBRAHIM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687286188,"creation_date":1687285007,"question_id":76517454,"body_markdown":"In Intellij IDE, in a Kotlin project, when I don&#39;t have any artifacts, everything is fine.  \r\nwhen I create an artifact and build it, Intellij is not running new code version (not detecting code changes when building and running the project), it is running already built artifact instead.  \r\nI have found out this after a lot of testing, also I do not mean it is actually running artifact, it is running the same code when artifact was built.  \r\nso I should run build artifacts each time before running the code normally, to see the result of changed code.  \r\n   \r\nI have done invalidate cache and restart, installed latest version, created new project, changed jdk version...","title":"Intellij not detecting code changes when building artifacts","body":"<p>In Intellij IDE, in a Kotlin project, when I don't have any artifacts, everything is fine.<br />\nwhen I create an artifact and build it, Intellij is not running new code version (not detecting code changes when building and running the project), it is running already built artifact instead.<br />\nI have found out this after a lot of testing, also I do not mean it is actually running artifact, it is running the same code when artifact was built.<br />\nso I should run build artifacts each time before running the code normally, to see the result of changed code.</p>\n<p>I have done invalidate cache and restart, installed latest version, created new project, changed jdk version...</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":12896319,"reputation":2102,"user_id":9326543,"display_name":"FishingIsLife"},"score":1,"creation_date":1592027046,"post_id":62355615,"comment_id":110282460,"body_markdown":"So you just want to start parts of your Application? Did you read about @Profile? This way you can differ which parts of your app run by a property which you can set as env var","body":"So you just want to start parts of your Application? Did you read about @Profile? This way you can differ which parts of your app run by a property which you can set as env var"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1592027179,"post_id":62355615,"comment_id":110282484,"body_markdown":"Yes, exactly - so that the part will include rest controllers as well as other beans","body":"Yes, exactly - so that the part will include rest controllers as well as other beans"},{"owner":{"account_id":12896319,"reputation":2102,"user_id":9326543,"display_name":"FishingIsLife"},"score":0,"creation_date":1592027415,"post_id":62355615,"comment_id":110282523,"body_markdown":"With @Profile you can also create Application.properties per configuration if you Name it application-yourProfile.yml","body":"With @Profile you can also create Application.properties per configuration if you Name it application-yourProfile.yml"},{"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"score":0,"creation_date":1592027964,"post_id":62355615,"comment_id":110282616,"body_markdown":"As you&#39;re using Spring boot you can use conditional bean property as well https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnProperty.html .","body":"As you&#39;re using Spring boot you can use conditional bean property as well <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnProperty.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a> ."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":1,"creation_date":1592029483,"post_id":62355615,"comment_id":110282892,"body_markdown":"Well, i use conditional which is a generalization of profile (since spring 4 @profile is implemented as a conditional) so the solution I&#39;ve offered in the end of the question indeed uses this technique. I&#39;m asking whether there is  a better solution that I could come up with.","body":"Well, i use conditional which is a generalization of profile (since spring 4 @profile is implemented as a conditional) so the solution I&#39;ve offered in the end of the question indeed uses this technique. I&#39;m asking whether there is  a better solution that I could come up with."},{"owner":{"account_id":121967,"reputation":1817,"user_id":315454,"accept_rate":48,"display_name":"Alexander.Furer"},"score":0,"creation_date":1592076359,"post_id":62355615,"comment_id":110297319,"body_markdown":"Meta annotation is the way to go in your case. It will be DRY and you should be using @Profile /@ConditionalOn/ect spring annotation to enable /disable desired features","body":"Meta annotation is the way to go in your case. It will be DRY and you should be using @Profile /@ConditionalOn/ect spring annotation to enable /disable desired features"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":1,"creation_date":1592082353,"post_id":62355615,"comment_id":110299020,"body_markdown":"@Alexander.Furer Yeah, I believe you mean the solution I’ve described at the end of the question with `@FeatureXRestController`... The best solution I could come up with :) Thanks for your opinion.  Probably if `@RestController` wasn’t defined as  a `@Component` in spring it was better in this case...","body":"@Alexander.Furer Yeah, I believe you mean the solution I’ve described at the end of the question with <code>@FeatureXRestController</code>... The best solution I could come up with :) Thanks for your opinion.  Probably if <code>@RestController</code> wasn’t defined as  a <code>@Component</code> in spring it was better in this case..."},{"owner":{"account_id":121967,"reputation":1817,"user_id":315454,"accept_rate":48,"display_name":"Alexander.Furer"},"score":0,"creation_date":1592084837,"post_id":62355615,"comment_id":110299616,"body_markdown":"You can also import configuration dynamically. See @Import /selector annotation /  other methods to dynamically registered beans, just make sure they are not picked up by default beans scanner","body":"You can also import configuration dynamically. See @Import /selector annotation /  other methods to dynamically registered beans, just make sure they are not picked up by default beans scanner"}],"answers":[{"comments":[{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":1,"creation_date":1592116702,"post_id":62369202,"comment_id":110305080,"body_markdown":"I&#39;ll accept my own answer (yeah, it sounds weird, I know :) ) in 23 hours if no-one posts better solution","body":"I&#39;ll accept my own answer (yeah, it sounds weird, I know :) ) in 23 hours if no-one posts better solution"},{"owner":{"account_id":11196620,"reputation":586,"user_id":8215084,"display_name":"Tanmay Naik"},"score":0,"creation_date":1592117551,"post_id":62369202,"comment_id":110305326,"body_markdown":"have a look at this on the extreme bottom of page https://docs.spring.io/spring-framework/docs/current/javadoc-api/deprecated-list.html ie ``@bean`` annotation is going to be deprecated, So this solution will fail","body":"have a look at this on the extreme bottom of page <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/deprecated-list.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/&hellip;</a> ie <code>@bean</code> annotation is going to be deprecated, So this solution will fail"},{"owner":{"account_id":2594221,"reputation":2001,"user_id":2248239,"display_name":"BeWu"},"score":2,"creation_date":1601557720,"post_id":62369202,"comment_id":113449049,"body_markdown":"@TanmayNaik Just the field `autowire` within the `@Bean` annotation is deprecated not the entire annotation.","body":"@TanmayNaik Just the field <code>autowire</code> within the <code>@Bean</code> annotation is deprecated not the entire annotation."}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1592116588,"creation_date":1592116588,"answer_id":62369202,"question_id":62355615,"body_markdown":"I&#39;ve Found a relatively elegant workaround that might be helpful for the community: \r\nI don&#39;t use a specialized meta annotation like I suggested in the question and annotate the controller of Feature X with the regular `@RestController` annotation:\r\n\r\n```\r\n@RestController\r\npublic class FeatureXController {\r\n  ...\r\n}\r\n```\r\n\r\nThe Spring boot application class can be &quot;instructed&quot; to not load RestControllers during the component scanning exclusion filter. For the sake of example in the answer I&#39;ll use the built-in annotation filter, but in general custom filters can be created for more sophisticated (real) cases:\r\n\r\n\r\n```\r\n// Note the annotation - component scanning process won&#39;t recognize classes annotated with RestController, so from now on all the rest controllers in the application must be defined in `@Configuration` classes.\r\n@ComponentScan(excludeFilters = @Filter(RestController.class))\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nNow, since I want the rest controller to be loaded only if Feature X is enabled, I create the corresponding method in the FeatureXConfiguration:\r\n\r\n```\r\n@Configuration\r\n@ConditionalOnProperty(value = &quot;mayapp.featureX.enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\r\npublic class FeatureXConfiguration {\r\n\r\n    @Bean\r\n    public FeatureXService featureXService () {\r\n        return new FeatureXService();\r\n    }\r\n\r\n    @Bean\r\n    public FeatureXRestController featureXRestController () {\r\n        return new FeatureXRestController(featureXService());\r\n    }\r\n}\r\n```\r\n\r\nAlthough component scanning process doesn&#39;t load the rest controllers, the explicit bean definition &quot;overrides&quot; this behavior and the rest controller&#39;s bean definition is created during the startup. Then Spring MVC engine analyzes it and due to the presence of the `@RestController` annotation it exposes the corresponding end-point as it usually does.\r\n\r\n","title":"Define a Spring RestController via Java configuration","body":"<p>I've Found a relatively elegant workaround that might be helpful for the community: \nI don't use a specialized meta annotation like I suggested in the question and annotate the controller of Feature X with the regular <code>@RestController</code> annotation:</p>\n\n<pre><code>@RestController\npublic class FeatureXController {\n  ...\n}\n</code></pre>\n\n<p>The Spring boot application class can be \"instructed\" to not load RestControllers during the component scanning exclusion filter. For the sake of example in the answer I'll use the built-in annotation filter, but in general custom filters can be created for more sophisticated (real) cases:</p>\n\n<pre><code>// Note the annotation - component scanning process won't recognize classes annotated with RestController, so from now on all the rest controllers in the application must be defined in `@Configuration` classes.\n@ComponentScan(excludeFilters = @Filter(RestController.class))\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<p>Now, since I want the rest controller to be loaded only if Feature X is enabled, I create the corresponding method in the FeatureXConfiguration:</p>\n\n<pre><code>@Configuration\n@ConditionalOnProperty(value = \"mayapp.featureX.enabled\", havingValue = \"true\", matchIfMissing = false)\npublic class FeatureXConfiguration {\n\n    @Bean\n    public FeatureXService featureXService () {\n        return new FeatureXService();\n    }\n\n    @Bean\n    public FeatureXRestController featureXRestController () {\n        return new FeatureXRestController(featureXService());\n    }\n}\n</code></pre>\n\n<p>Although component scanning process doesn't load the rest controllers, the explicit bean definition \"overrides\" this behavior and the rest controller's bean definition is created during the startup. Then Spring MVC engine analyzes it and due to the presence of the <code>@RestController</code> annotation it exposes the corresponding end-point as it usually does.</p>\n"},{"tags":[],"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1606480892,"creation_date":1606463457,"answer_id":65033714,"question_id":62355615,"body_markdown":"You can use local classes in the java config. E.e.\r\n\r\n    @Configuration\r\n    public class MyAppFeatureXConfiguration  {\r\n\r\n      @Bean\r\n      public FeatureXRestController1 featureXRestController1(AutowireCapableBeanFactory beanFactory) {\r\n\r\n         @RestController\r\n         class FeatureXRestController1Bean extends FeatureRestController1 {\r\n         }\r\n\r\n         FeatureXRestController1Bean featureBean = new FeatureXRestController1Bean();\r\n\r\n         // You don&#39;t need this line if you use constructor injection\r\n         autowireCapableBeanFactory.autowireBean(featureBean);\r\n      \r\n         return featureBean;\r\n      } \r\n    }\r\n\r\nThen you can omit the `@RestController` annotation on the &quot;real&quot; implementation, but use the other annotations like `@RequestMapping` as usual.\r\n\r\n    @RequestMapping(...)\r\n    public class FeatureXRestController1 {\r\n    \r\n        @RequestMapping(value=&quot;/somePath/{someId}&quot;, method=RequestMethod.GET)\r\n        public String findSomething(@PathVariable String someId) {\r\n           ...\r\n        }\r\n    }\r\n\r\nSine the `FeatureXRestController1` doesn&#39;t have a `@RestController` annotation, it is not a `@Component` anymore and thus will not be picked up through component scan.\r\n\r\nThe `MyAppFeatureXConfiguration` returns a bean that is a `@RestController`. This `FeatureXRestController1Bean` extends the `FeatureXRestController1` and thus has all the methods and request mappings of the superclass. \r\n\r\nSince the `FeatureXRestController1Bean` is a local class it is not included in a component scan. This does the trick for me ;)","title":"Define a Spring RestController via Java configuration","body":"<p>You can use local classes in the java config. E.e.</p>\n<pre><code>@Configuration\npublic class MyAppFeatureXConfiguration  {\n\n  @Bean\n  public FeatureXRestController1 featureXRestController1(AutowireCapableBeanFactory beanFactory) {\n\n     @RestController\n     class FeatureXRestController1Bean extends FeatureRestController1 {\n     }\n\n     FeatureXRestController1Bean featureBean = new FeatureXRestController1Bean();\n\n     // You don't need this line if you use constructor injection\n     autowireCapableBeanFactory.autowireBean(featureBean);\n  \n     return featureBean;\n  } \n}\n</code></pre>\n<p>Then you can omit the <code>@RestController</code> annotation on the &quot;real&quot; implementation, but use the other annotations like <code>@RequestMapping</code> as usual.</p>\n<pre><code>@RequestMapping(...)\npublic class FeatureXRestController1 {\n\n    @RequestMapping(value=&quot;/somePath/{someId}&quot;, method=RequestMethod.GET)\n    public String findSomething(@PathVariable String someId) {\n       ...\n    }\n}\n</code></pre>\n<p>Sine the <code>FeatureXRestController1</code> doesn't have a <code>@RestController</code> annotation, it is not a <code>@Component</code> anymore and thus will not be picked up through component scan.</p>\n<p>The <code>MyAppFeatureXConfiguration</code> returns a bean that is a <code>@RestController</code>. This <code>FeatureXRestController1Bean</code> extends the <code>FeatureXRestController1</code> and thus has all the methods and request mappings of the superclass.</p>\n<p>Since the <code>FeatureXRestController1Bean</code> is a local class it is not included in a component scan. This does the trick for me ;)</p>\n"},{"tags":[],"owner":{"account_id":15616071,"reputation":78,"user_id":11266253,"display_name":"Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660212260,"creation_date":1660211865,"answer_id":73318758,"question_id":62355615,"body_markdown":"I like both the solutions presented above. However, I came up with another one which worked for me and is pretty clean.\r\n\r\nSo, I decided to create my beans only using @Configuration classes, and I gave up the @RestController annotations entirely. I put the @Configuration class for web controllers in a separate package, so that I can pass the class descriptor to the @ComponentScan or @ContextConfiguration annotations whenever I want to enable the creation of controller beans. The most important part is to add the @ResponseBody annotation to all controller classes, above the class name, to preserve the REST controller properties. Very clean.\r\n\r\nThe drawback is that the controller classes are not recognized by the @WebMvcTest annotation, and I need to create the beans for all my controllers every time I do a MockMvc test for one controller. As I have just four controllers though, I can live with it for now. ","title":"Define a Spring RestController via Java configuration","body":"<p>I like both the solutions presented above. However, I came up with another one which worked for me and is pretty clean.</p>\n<p>So, I decided to create my beans only using @Configuration classes, and I gave up the @RestController annotations entirely. I put the @Configuration class for web controllers in a separate package, so that I can pass the class descriptor to the @ComponentScan or @ContextConfiguration annotations whenever I want to enable the creation of controller beans. The most important part is to add the @ResponseBody annotation to all controller classes, above the class name, to preserve the REST controller properties. Very clean.</p>\n<p>The drawback is that the controller classes are not recognized by the @WebMvcTest annotation, and I need to create the beans for all my controllers every time I do a MockMvc test for one controller. As I have just four controllers though, I can live with it for now.</p>\n"},{"tags":[],"owner":{"account_id":164218,"reputation":993,"user_id":386843,"accept_rate":43,"display_name":"mekondelta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687285522,"creation_date":1687285522,"answer_id":76517507,"question_id":62355615,"body_markdown":"Isn&#39;t it a better idea to use the basePackages property of @ComponentScan to restrict what classes SB will scan? e.g. :-\r\n\r\n```\r\n@ComponentScan(basePackages = &quot;org.myapp.config&quot;)\r\n```\r\nso all your configuration classes are in the `org.myapp.config` package.\r\n\r\nSeems pretty neat to me?","title":"Define a Spring RestController via Java configuration","body":"<p>Isn't it a better idea to use the basePackages property of @ComponentScan to restrict what classes SB will scan? e.g. :-</p>\n<pre><code>@ComponentScan(basePackages = &quot;org.myapp.config&quot;)\n</code></pre>\n<p>so all your configuration classes are in the <code>org.myapp.config</code> package.</p>\n<p>Seems pretty neat to me?</p>\n"}],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7041,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":62369202,"answer_count":4,"score":11,"last_activity_date":1687285522,"creation_date":1592023368,"question_id":62355615,"body_markdown":"Is it possible to Define a Spring RestController (`@RestController` annotated class) *solely* in the Java Configuration (the class with `@Configuration` annotated in the method marked with `@Bean`)?\r\n\r\nI have an application managed by spring boot (the version doesn&#39;t matter for the sake of the question, even the last one available). This application exposes some endpoints with REST, so there are several rest controllers, which in turn call the services (as usual). \r\n\r\nNow depending on configuration (property in `application.yml`) I would like to avoid starting some services and, say 2 classes annotated with `@RestController` annotation because they deal with the &quot;feature X&quot; that I want to exclude.\r\n\r\nI would like to configure all my beans via *Java configuration*, and this is a requirement. So my initial approach was to define all the beans (controllers and services) in a separate configuration which is found by spring boot during the scanning) and put a `@ConditionalOnProperty` on the configuration so that it will appear in one place:\r\n\r\n```java\r\n@Configuration\r\npublic class MyAppGeneralConfiguration {\r\n  // here I define all the beans that are not relevant for &quot;feature X&quot;\r\n  @Bean\r\n  public ServiceA serviceA() {}\r\n  ...\r\n}\r\n\r\n@Configuration \r\n@ConditionalOnProperty(name = &quot;myapp.featureX.enabled&quot;, havingValue = &quot;true&quot;)\r\npublic class MyAppFeatureXConfiguration {\r\n   // here I will define all the beans relevant for feature X:\r\n\r\n  @Bean\r\n  public ServiceForFeatureX1 serviceForFeatureX1() {}   \r\n\r\n  @Bean\r\n  public ServiceForFeatureX2 serviceForFeatureX2() {}   \r\n}\r\n```\r\n\r\nWith this approach My services do not have any spring annotations at all and I don&#39;t use `@Autowired` annotation as everything is injected via the constructors in `@Configuration` class:\r\n\r\n~~~\r\n// no @Service / @Component annotation\r\npublic class ServiceForFeatureX1 {}\r\n~~~\r\n\r\n\r\nNow my question is about the classes annotated with `@RestContoller` annotation. Say I have 2 Controllers like this:\r\n\r\n~~~\r\n@RestController\r\npublic class FeatureXRestController1 {\r\n  ...\r\n}\r\n\r\n@RestController\r\npublic class FeatureXRestController2 {\r\n ...\r\n}\r\n~~~\r\n\r\n\r\nIdeally I would like to define them in the Java Configuration as well, so that these two controllers won&#39;t even load when I disable the feature:\r\n\r\n~~~\r\n@ConditionalOnProperty(name = &quot;myapp.featureX.enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing=true)\r\npublic class MyAppFeatureXConfiguration {\r\n   \r\n    @Bean\r\n    @RestController // this doesn&#39;t work because the @RestController has target Type and can&#39;t be applied \r\n                    // to methods\r\n    public FeatureXRestController1 featureXRestController1() {\r\n    } \r\n~~~\r\n\r\nSo the question is basically is it possible to do that?\r\n\r\nRestController is a Controller which is in turn a component hence its subject to component scanning. Hence if the feature X is disabled the rest controllers for feature X will still start loading  and fail \r\nbecause there won&#39;t be no &quot;services&quot; - beans excluded in the configuration, so spring boot won&#39;t be able to inject.\r\n\r\nOne way I thought about is to define a special annotation like `@FeatureXRestController` and make it `@RestController` and put `@ConditionalOnProperty` there but its still two places and its the best solution I could come up with:\r\n\r\n~~~\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@RestController\r\n@ConditionalOnProperty(name = &quot;myapp.featureX.enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing=true)\r\npublic @interface FeatureXRestController {\r\n}\r\n\r\n...\r\n@FeatureXRestController\r\npublic class FeatureXRestController1 {...}\r\n\r\n@FeatureXRestController\r\npublic class FeatureXRestController2 {...}\r\n~~~","title":"Define a Spring RestController via Java configuration","body":"<p>Is it possible to Define a Spring RestController (<code>@RestController</code> annotated class) <em>solely</em> in the Java Configuration (the class with <code>@Configuration</code> annotated in the method marked with <code>@Bean</code>)?</p>\n\n<p>I have an application managed by spring boot (the version doesn't matter for the sake of the question, even the last one available). This application exposes some endpoints with REST, so there are several rest controllers, which in turn call the services (as usual). </p>\n\n<p>Now depending on configuration (property in <code>application.yml</code>) I would like to avoid starting some services and, say 2 classes annotated with <code>@RestController</code> annotation because they deal with the \"feature X\" that I want to exclude.</p>\n\n<p>I would like to configure all my beans via <em>Java configuration</em>, and this is a requirement. So my initial approach was to define all the beans (controllers and services) in a separate configuration which is found by spring boot during the scanning) and put a <code>@ConditionalOnProperty</code> on the configuration so that it will appear in one place:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MyAppGeneralConfiguration {\n  // here I define all the beans that are not relevant for \"feature X\"\n  @Bean\n  public ServiceA serviceA() {}\n  ...\n}\n\n@Configuration \n@ConditionalOnProperty(name = \"myapp.featureX.enabled\", havingValue = \"true\")\npublic class MyAppFeatureXConfiguration {\n   // here I will define all the beans relevant for feature X:\n\n  @Bean\n  public ServiceForFeatureX1 serviceForFeatureX1() {}   \n\n  @Bean\n  public ServiceForFeatureX2 serviceForFeatureX2() {}   \n}\n</code></pre>\n\n<p>With this approach My services do not have any spring annotations at all and I don't use <code>@Autowired</code> annotation as everything is injected via the constructors in <code>@Configuration</code> class:</p>\n\n<pre><code>// no @Service / @Component annotation\npublic class ServiceForFeatureX1 {}\n</code></pre>\n\n<p>Now my question is about the classes annotated with <code>@RestContoller</code> annotation. Say I have 2 Controllers like this:</p>\n\n<pre><code>@RestController\npublic class FeatureXRestController1 {\n  ...\n}\n\n@RestController\npublic class FeatureXRestController2 {\n ...\n}\n</code></pre>\n\n<p>Ideally I would like to define them in the Java Configuration as well, so that these two controllers won't even load when I disable the feature:</p>\n\n<pre><code>@ConditionalOnProperty(name = \"myapp.featureX.enabled\", havingValue = \"true\", matchIfMissing=true)\npublic class MyAppFeatureXConfiguration {\n\n    @Bean\n    @RestController // this doesn't work because the @RestController has target Type and can't be applied \n                    // to methods\n    public FeatureXRestController1 featureXRestController1() {\n    } \n</code></pre>\n\n<p>So the question is basically is it possible to do that?</p>\n\n<p>RestController is a Controller which is in turn a component hence its subject to component scanning. Hence if the feature X is disabled the rest controllers for feature X will still start loading  and fail \nbecause there won't be no \"services\" - beans excluded in the configuration, so spring boot won't be able to inject.</p>\n\n<p>One way I thought about is to define a special annotation like <code>@FeatureXRestController</code> and make it <code>@RestController</code> and put <code>@ConditionalOnProperty</code> there but its still two places and its the best solution I could come up with:</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@RestController\n@ConditionalOnProperty(name = \"myapp.featureX.enabled\", havingValue = \"true\", matchIfMissing=true)\npublic @interface FeatureXRestController {\n}\n\n...\n@FeatureXRestController\npublic class FeatureXRestController1 {...}\n\n@FeatureXRestController\npublic class FeatureXRestController2 {...}\n</code></pre>\n"},{"tags":["java","spring","generics"],"comments":[{"owner":{"account_id":1643313,"reputation":1410,"user_id":1515386,"display_name":"Stan"},"score":0,"creation_date":1432217909,"post_id":30374267,"comment_id":48842368,"body_markdown":"There should be default name assigned to each bean (not sure how it builds). If you can debug and understand how default bean name builds for this case you can try to get bean by name","body":"There should be default name assigned to each bean (not sure how it builds). If you can debug and understand how default bean name builds for this case you can try to get bean by name"},{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":1,"creation_date":1600421413,"post_id":30374267,"comment_id":113089354,"body_markdown":"What is ctx? I can&#39;t understand it","body":"What is ctx? I can&#39;t understand it"},{"owner":{"account_id":2090673,"reputation":19849,"user_id":1860591,"accept_rate":73,"display_name":"Lodewijk Bogaards"},"score":1,"creation_date":1600433188,"post_id":30374267,"comment_id":113094780,"body_markdown":"https://dzone.com/articles/what-is-a-spring-context","body":"<a href=\"https://dzone.com/articles/what-is-a-spring-context\" rel=\"nofollow noreferrer\">dzone.com/articles/what-is-a-spring-context</a>"}],"answers":[{"comments":[{"owner":{"account_id":2090673,"reputation":19849,"user_id":1860591,"accept_rate":73,"display_name":"Lodewijk Bogaards"},"score":0,"creation_date":1432241377,"post_id":30377996,"comment_id":48857274,"body_markdown":"Thanks, not a bad work around really, but since @Autowire does the job at runtime, what I want is actually possible, so it is unsatisfactory. In the mean time I have my own work around in place, which is just a simple `Map&lt;Class&lt;? extends Node&gt;, Class&lt;Repository&lt;? extends Node&gt;&gt;&gt;`.","body":"Thanks, not a bad work around really, but since @Autowire does the job at runtime, what I want is actually possible, so it is unsatisfactory. In the mean time I have my own work around in place, which is just a simple <code>Map&lt;Class&lt;? extends Node&gt;, Class&lt;Repository&lt;? extends Node&gt;&gt;&gt;</code>."}],"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1432221813,"creation_date":1432221813,"answer_id":30377996,"question_id":30374267,"body_markdown":"If you could be sure that for every concrete subclass of `Node` (say `SomeNode`), every object of type `SomeNode` will be an actual `SomeNode` and not a subclass or a proxy, it would be easy. Just use a convention for the repository name (say `SomeNodeRepository`) and it would be trivial :\r\n\r\n    Repository&lt;T&gt; repository = ctx.getBean(node.getClass().getSimpleName()\r\n            + &quot;Repository&quot;, Repository.class);\r\n\r\nBut you know that there&#39;s a high risk of getting a subclass or proxy ...\r\n\r\nSo you can try to have each Node subclass to implement a `nameForRepo` method :\r\n\r\n    class Node {\r\n        ...\r\n        abstract String getNameForRepo();\r\n    }\r\n\r\nand then in the subclasses\r\n\r\n    class SomeNode {\r\n        static private final nameForRepo = &quot;SomeNode&quot;;\r\n        ...\r\n        String getNameForRepo() {\r\n            return nameForRepo;\r\n        }\r\n    }\r\n\r\nThat way, even if you get a proxy or subclass, you will be able to do :\r\n\r\n    public &lt;T extends Node&gt; T saveNode(T node) {\r\n        Repository&lt;T&gt; repository = ctx.getBean(node.getNameForRepository()\r\n                + &quot;Repository&quot;, Repository.class);\r\n        return repository.save(node);\r\n    }\r\n\r\nAlternatively, the method could directly return the repository name.","title":"Get spring bean via context using generic","body":"<p>If you could be sure that for every concrete subclass of <code>Node</code> (say <code>SomeNode</code>), every object of type <code>SomeNode</code> will be an actual <code>SomeNode</code> and not a subclass or a proxy, it would be easy. Just use a convention for the repository name (say <code>SomeNodeRepository</code>) and it would be trivial :</p>\n\n<pre><code>Repository&lt;T&gt; repository = ctx.getBean(node.getClass().getSimpleName()\n        + \"Repository\", Repository.class);\n</code></pre>\n\n<p>But you know that there's a high risk of getting a subclass or proxy ...</p>\n\n<p>So you can try to have each Node subclass to implement a <code>nameForRepo</code> method :</p>\n\n<pre><code>class Node {\n    ...\n    abstract String getNameForRepo();\n}\n</code></pre>\n\n<p>and then in the subclasses</p>\n\n<pre><code>class SomeNode {\n    static private final nameForRepo = \"SomeNode\";\n    ...\n    String getNameForRepo() {\n        return nameForRepo;\n    }\n}\n</code></pre>\n\n<p>That way, even if you get a proxy or subclass, you will be able to do :</p>\n\n<pre><code>public &lt;T extends Node&gt; T saveNode(T node) {\n    Repository&lt;T&gt; repository = ctx.getBean(node.getNameForRepository()\n            + \"Repository\", Repository.class);\n    return repository.save(node);\n}\n</code></pre>\n\n<p>Alternatively, the method could directly return the repository name.</p>\n"},{"comments":[{"owner":{"account_id":2090673,"reputation":19849,"user_id":1860591,"accept_rate":73,"display_name":"Lodewijk Bogaards"},"score":0,"creation_date":1432308004,"post_id":30378424,"comment_id":48888320,"body_markdown":"thanks for the solution, but I am not looking for a workaround currently. I have one already too.","body":"thanks for the solution, but I am not looking for a workaround currently. I have one already too."}],"tags":[],"owner":{"account_id":4123826,"reputation":267,"user_id":3383487,"display_name":"Qianlong"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1687285008,"creation_date":1432222925,"answer_id":30378424,"question_id":30374267,"body_markdown":"If I understand well, you want to get an instance of a bean with a Repository class and a different generic type?\r\n\r\nI&#39;m afraid you don&#39;t have the dynamic way with spring, but I have a workaround solution:\r\n\r\n1. Your generic type should be a field in your class, you must have a constructor in your Repository class for setting your generic type, your Repository class should be like this:\r\n\r\n    ```\r\n    public class Repository&lt;T&gt;{\r\n        Class&lt;T&gt; nodeClass;\r\n        public Repository(Class&lt;?&gt; clazz){\r\n            this.nodeClass = clazz;\r\n        }\r\n        // your codes...\r\n    }\r\n    ```\r\n\r\n2. declare a Repository bean for each Node, let&#39;s say you have Repository&lt;SomeNode&gt; and Repository&lt;OtherNode&gt;, if you are using xml configuration, you need to add:\r\n\r\n    ```\r\n    &lt;bean id=&quot;someNodeRep&quot; class=&quot;your.package.Repository&quot;&gt;\r\n    \t&lt;constructor-arg&gt;\r\n    \t\t&lt;value&gt;your.package.SomeNode&lt;/value&gt;\r\n    \t&lt;/constructor-arg&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;otherNodeRep&quot; class=&quot;your.package.Repository&quot;&gt;\r\n    \t&lt;constructor-arg&gt;\r\n    \t\t&lt;value&gt;your.package.OtherNode&lt;/value&gt;\r\n    \t&lt;/constructor-arg&gt;\r\n    &lt;/bean&gt;\r\n    ```\r\n\r\n3. &#39;autowire&#39; your Repository in this way:\r\n\r\n    ```\r\n    @Autowired\r\n    @Qualifier(&quot;someNodeRep&quot;)\r\n    Repository&lt;SomeNode&gt; someNodeRepository;\r\n    ```\r\n\r\n    ```\r\n    @Autowired\r\n    @Qualifier(&quot;otherNodeRep&quot;)\r\n    Repository&lt;OtherNode&gt; otherNodeRepository;\r\n    ```\r\n\r\n ","title":"Get spring bean via context using generic","body":"<p>If I understand well, you want to get an instance of a bean with a Repository class and a different generic type?</p>\n<p>I'm afraid you don't have the dynamic way with spring, but I have a workaround solution:</p>\n<ol>\n<li><p>Your generic type should be a field in your class, you must have a constructor in your Repository class for setting your generic type, your Repository class should be like this:</p>\n<pre><code>public class Repository&lt;T&gt;{\n    Class&lt;T&gt; nodeClass;\n    public Repository(Class&lt;?&gt; clazz){\n        this.nodeClass = clazz;\n    }\n    // your codes...\n}\n</code></pre>\n</li>\n<li><p>declare a Repository bean for each Node, let's say you have Repository and Repository, if you are using xml configuration, you need to add:</p>\n<pre><code>&lt;bean id=&quot;someNodeRep&quot; class=&quot;your.package.Repository&quot;&gt;\n    &lt;constructor-arg&gt;\n        &lt;value&gt;your.package.SomeNode&lt;/value&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;otherNodeRep&quot; class=&quot;your.package.Repository&quot;&gt;\n    &lt;constructor-arg&gt;\n        &lt;value&gt;your.package.OtherNode&lt;/value&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n</li>\n<li><p>'autowire' your Repository in this way:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;someNodeRep&quot;)\nRepository&lt;SomeNode&gt; someNodeRepository;\n</code></pre>\n<pre><code>@Autowired\n@Qualifier(&quot;otherNodeRep&quot;)\nRepository&lt;OtherNode&gt; otherNodeRepository;\n</code></pre>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2090673,"reputation":19849,"user_id":1860591,"accept_rate":73,"display_name":"Lodewijk Bogaards"},"score":0,"creation_date":1501015648,"post_id":45263627,"comment_id":77588973,"body_markdown":"I am doubting whether your code would compile. The argument type of `getBeanNamesForType` does not line with the return type of `forClassWithGenerics` as far as I can see.","body":"I am doubting whether your code would compile. The argument type of <code>getBeanNamesForType</code> does not line with the return type of <code>forClassWithGenerics</code> as far as I can see."},{"owner":{"account_id":3563578,"reputation":587,"user_id":2975780,"display_name":"jhas"},"score":3,"creation_date":1501072930,"post_id":45263627,"comment_id":77616138,"body_markdown":"I never paste code that I haven&#39;t checked. It compiles and works...Note that `getBeanNamesForType` has 3 versions, one of which accepts `ResolvableType`","body":"I never paste code that I haven&#39;t checked. It compiles and works...Note that <code>getBeanNamesForType</code> has 3 versions, one of which accepts <code>ResolvableType</code>"},{"owner":{"account_id":2090673,"reputation":19849,"user_id":1860591,"accept_rate":73,"display_name":"Lodewijk Bogaards"},"score":0,"creation_date":1501085987,"post_id":45263627,"comment_id":77626788,"body_markdown":"You are right, I was looking at an old version of Spring. This seems like a legitimate answer! Have you tested this?","body":"You are right, I was looking at an old version of Spring. This seems like a legitimate answer! Have you tested this?"},{"owner":{"account_id":3563578,"reputation":587,"user_id":2975780,"display_name":"jhas"},"score":1,"creation_date":1501137471,"post_id":45263627,"comment_id":77647454,"body_markdown":"Yes I have, it works great. I also searched how to do this and ended up with this solution","body":"Yes I have, it works great. I also searched how to do this and ended up with this solution"},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1609609972,"post_id":45263627,"comment_id":115878055,"body_markdown":"Would be nice if the `getBean()` and `getBeansOfType()` methods also had overloads that accept `ResolvableType`.","body":"Would be nice if the <code>getBean()</code> and <code>getBeansOfType()</code> methods also had overloads that accept <code>ResolvableType</code>."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1619603520,"post_id":45263627,"comment_id":118952926,"body_markdown":"Your answer is greatly appreciated.  Java&#39;s implementation of generic continues to astound and frustrate me.   https://en.wikipedia.org/wiki/Criticism_of_Java#Generics","body":"Your answer is greatly appreciated.  Java&#39;s implementation of generic continues to astound and frustrate me.   <a href=\"https://en.wikipedia.org/wiki/Criticism_of_Java#Generics\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Criticism_of_Java#Generics</a>"}],"tags":[],"owner":{"account_id":3563578,"reputation":587,"user_id":2975780,"display_name":"jhas"},"comment_count":6,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1500802704,"creation_date":1500802704,"answer_id":45263627,"question_id":30374267,"body_markdown":"You can do something like this:\r\n\r\n    String[] beanNamesForType = ctx.getBeanNamesForType(ResolvableType.forClassWithGenerics(Repository.class, node.getClass()));\r\n\r\n    // If you expect several beans of the same generic type then extract them as you wish. Otherwise, just take the first\r\n    Repository&lt;T&gt; repository = (Repository&lt;T&gt;) ctx.getBean(beanNamesForType[0]);\r\n","title":"Get spring bean via context using generic","body":"<p>You can do something like this:</p>\n\n<pre><code>String[] beanNamesForType = ctx.getBeanNamesForType(ResolvableType.forClassWithGenerics(Repository.class, node.getClass()));\n\n// If you expect several beans of the same generic type then extract them as you wish. Otherwise, just take the first\nRepository&lt;T&gt; repository = (Repository&lt;T&gt;) ctx.getBean(beanNamesForType[0]);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1694099269,"post_id":69813143,"comment_id":135849561,"body_markdown":"This should now be the accepted answer, now that Spring 5.1+ is typically used.","body":"This should now be the accepted answer, now that Spring 5.1+ is typically used."}],"tags":[],"owner":{"account_id":6830764,"reputation":467,"user_id":5254851,"accept_rate":50,"display_name":"Radosław Panuszewski"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635867638,"creation_date":1635867638,"answer_id":69813143,"question_id":30374267,"body_markdown":"Since Spring 5.1 you can get a bean of type `Repository&lt;T&gt;` like that:\r\n\r\n```java\r\npublic static &lt;T&gt; Repository&lt;T&gt; getRepositoryFor(Class&lt;T&gt; clazz)\r\n{\r\n    ResolvableType type = ResolvableType.forClassWithGenerics(Repository.class, clazz);\r\n    return (Repository&lt;T&gt;) context.getBeanProvider(type).getObject();\r\n}\r\n```\r\n\r\n","title":"Get spring bean via context using generic","body":"<p>Since Spring 5.1 you can get a bean of type <code>Repository&lt;T&gt;</code> like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Repository&lt;T&gt; getRepositoryFor(Class&lt;T&gt; clazz)\n{\n    ResolvableType type = ResolvableType.forClassWithGenerics(Repository.class, clazz);\n    return (Repository&lt;T&gt;) context.getBeanProvider(type).getObject();\n}\n</code></pre>\n"}],"owner":{"account_id":2090673,"reputation":19849,"user_id":1860591,"accept_rate":73,"display_name":"Lodewijk Bogaards"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13139,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":45263627,"answer_count":4,"score":22,"last_activity_date":1687285008,"creation_date":1432212558,"question_id":30374267,"body_markdown":"I have a bunch of repository beans that implement type `Repository&lt;T ? extends Node&gt;`. Now I can get a list of random nodes from the user and I want to get the appropriate repository for each node. Since [Spring 4.0RC1][1] we can autowire repositories like this:\r\n\r\n    @Autowired Repository&lt;SomeNode&gt; someNodeRepository;\r\n\r\nAs documented [here][2].\r\n\r\nThis works fine, but my question is how I can do this dynamically based on the generic type. \r\n\r\nWhat I want to do is something like:\r\n\r\n\tpublic &lt;T extends Node&gt; T saveNode(T node) {\r\n\t\tRepository&lt;T&gt; repository = ctx.getBean(Repository.class, node.getClass());\r\n\t\treturn repository.save(node);\r\n\t}\r\n\r\nWhere the second parameter is the generic type. *This of course does not work, although it compiles.*\r\n\r\nI can&#39;t find any/the documentation on this. \r\n\r\n  [1]: https://spring.io/blog/2013/11/01/spring-framework-4-0-rc1-available\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-generics-as-qualifiers","title":"Get spring bean via context using generic","body":"<p>I have a bunch of repository beans that implement type <code>Repository&lt;T ? extends Node&gt;</code>. Now I can get a list of random nodes from the user and I want to get the appropriate repository for each node. Since <a href=\"https://spring.io/blog/2013/11/01/spring-framework-4-0-rc1-available\" rel=\"noreferrer\">Spring 4.0RC1</a> we can autowire repositories like this:</p>\n\n<pre><code>@Autowired Repository&lt;SomeNode&gt; someNodeRepository;\n</code></pre>\n\n<p>As documented <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-generics-as-qualifiers\" rel=\"noreferrer\">here</a>.</p>\n\n<p>This works fine, but my question is how I can do this dynamically based on the generic type. </p>\n\n<p>What I want to do is something like:</p>\n\n<pre><code>public &lt;T extends Node&gt; T saveNode(T node) {\n    Repository&lt;T&gt; repository = ctx.getBean(Repository.class, node.getClass());\n    return repository.save(node);\n}\n</code></pre>\n\n<p>Where the second parameter is the generic type. <em>This of course does not work, although it compiles.</em></p>\n\n<p>I can't find any/the documentation on this. </p>\n"},{"tags":["java","eclipse"],"answers":[{"comments":[{"owner":{"account_id":26295,"reputation":15672,"user_id":68283,"accept_rate":82,"display_name":"Rich"},"score":1,"creation_date":1266657409,"post_id":2296952,"comment_id":2267311,"body_markdown":"Thanks - I hadn&#39;t really realised that OQL was that powerful. Perhaps when I have time I will write a tool to allow &#39;proper&#39; querying of collections, but these OQL queries will do what I want for now!","body":"Thanks - I hadn&#39;t really realised that OQL was that powerful. Perhaps when I have time I will write a tool to allow &#39;proper&#39; querying of collections, but these OQL queries will do what I want for now!"}],"tags":[],"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1687284923,"creation_date":1266589601,"answer_id":2296952,"question_id":2296103,"body_markdown":"You should be able to query all collections or single one with Object Query Language (OQL) in [jhat][1].\r\n\r\nYou can&#39;t necessarily invoke arbitrary methods but you can write some complicated queries using the available functions.  \r\n\r\nA. Sundararajan has some interesting blog posts on the subject that showcase what you can do.  See [here][2] and [here][3].\r\n\r\nFor instance, you can find all instances of `java.util.HashMap` that have a key *test* with the following query:\r\n\r\n    select s from java.util.HashMap s where contains(s.table, function(it) {\r\n        if (it &amp;&amp; it.key &amp;&amp; it.key.value &amp;&amp; it.key.value.toString() == &#39;test&#39;) {\r\n            return true;\r\n        }\r\n        return false;\r\n    })\r\n\r\n\r\nThis should find the same key in a `java.util.concurrent.ConcurrentHashMap`:\r\n\r\n    select s from java.util.concurrent.ConcurrentHashMap s where contains(s.segments, function(it) {\r\n        if (!it || !it.table) {\r\n            return false;\r\n        }\r\n        var i, e;\r\n        for (i=0; i &lt; it.table.length; i = i + 1) {\r\n            e = it.table[i];\r\n            if (e) {\r\n                return e.key &amp;&amp; e.key.value &amp;&amp; e.key.value.toString() == &#39;test&#39;;\r\n            }\r\n        }\r\n        return false;\r\n    })\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/tools/share/jhat.html\r\n  [2]: http://web.archive.org/web/20170118001033/https://blogs.oracle.com/sundararajan/entry/querying_java_heap_with_oql\r\n  [3]: http://web.archive.org/web/20160715233952/https://blogs.oracle.com/sundararajan/entry/permanent_generation_analysis_with_oql","title":"Tools for querying collections in heap dump","body":"<p>You should be able to query all collections or single one with Object Query Language (OQL) in <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/share/jhat.html\" rel=\"nofollow noreferrer\">jhat</a>.</p>\n<p>You can't necessarily invoke arbitrary methods but you can write some complicated queries using the available functions.</p>\n<p>A. Sundararajan has some interesting blog posts on the subject that showcase what you can do.  See <a href=\"http://web.archive.org/web/20170118001033/https://blogs.oracle.com/sundararajan/entry/querying_java_heap_with_oql\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://web.archive.org/web/20160715233952/https://blogs.oracle.com/sundararajan/entry/permanent_generation_analysis_with_oql\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>For instance, you can find all instances of <code>java.util.HashMap</code> that have a key <em>test</em> with the following query:</p>\n<pre><code>select s from java.util.HashMap s where contains(s.table, function(it) {\n    if (it &amp;&amp; it.key &amp;&amp; it.key.value &amp;&amp; it.key.value.toString() == 'test') {\n        return true;\n    }\n    return false;\n})\n</code></pre>\n<p>This should find the same key in a <code>java.util.concurrent.ConcurrentHashMap</code>:</p>\n<pre><code>select s from java.util.concurrent.ConcurrentHashMap s where contains(s.segments, function(it) {\n    if (!it || !it.table) {\n        return false;\n    }\n    var i, e;\n    for (i=0; i &lt; it.table.length; i = i + 1) {\n        e = it.table[i];\n        if (e) {\n            return e.key &amp;&amp; e.key.value &amp;&amp; e.key.value.toString() == 'test';\n        }\n    }\n    return false;\n})\n</code></pre>\n"}],"owner":{"account_id":26295,"reputation":15672,"user_id":68283,"accept_rate":82,"display_name":"Rich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3042,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":2296952,"answer_count":1,"score":8,"last_activity_date":1687284923,"creation_date":1266581185,"question_id":2296103,"body_markdown":"Is it possible to query a collection that is dumped in a heap dump? I can obviously browse that collection using something like Eclipse MAT, but would really love to be able to actually call a getter on the collection object. This would obviously be a lot clearer than going through segments in a `ConcurrentHashMap` trying to find the mapping I need.\r\n\r\nI suppose what I&#39;m looking for is some way to &#39;rehydrate&#39; the dumped state of a named collection so that it can then be manipulated using the standard APIs.\r\n\r\nDoes anyone know of any such utilities, or, if not, can someone provide some sample code or pointers as to how to achieve this?","title":"Tools for querying collections in heap dump","body":"<p>Is it possible to query a collection that is dumped in a heap dump? I can obviously browse that collection using something like Eclipse MAT, but would really love to be able to actually call a getter on the collection object. This would obviously be a lot clearer than going through segments in a <code>ConcurrentHashMap</code> trying to find the mapping I need.</p>\n\n<p>I suppose what I'm looking for is some way to 'rehydrate' the dumped state of a named collection so that it can then be manipulated using the standard APIs.</p>\n\n<p>Does anyone know of any such utilities, or, if not, can someone provide some sample code or pointers as to how to achieve this?</p>\n"},{"tags":["java","selenium-webdriver","testing"],"comments":[{"owner":{"account_id":28281132,"reputation":3,"user_id":21622764,"display_name":"Sanjay Mardi"},"score":0,"creation_date":1687182388,"post_id":76507223,"comment_id":134897113,"body_markdown":"Also, please let me know how can i get clean output rather than so much garbage in the console. ?","body":"Also, please let me know how can i get clean output rather than so much garbage in the console. ?"}],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687184126,"creation_date":1687184126,"answer_id":76507482,"question_id":76507223,"body_markdown":"Refer the simplified code below:\r\n````\r\nimport java.util.List;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic static void main(String[] args) throws InterruptedException {\r\n\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://softwaretestingo.blogspot.com/2020/09/static-table.html&quot;);\r\n\r\n\t\t// Get all the table rows from the table\r\n\t\tList&lt;WebElement&gt; allRows = driver.findElements(By.xpath(&quot;//table[@name=&#39;BookTable&#39;]//tr&quot;));\r\n\r\n\t\t// And iterate over them and get all the cells\r\n\t\tfor (WebElement row : allRows) {\r\n\t\t\tList&lt;WebElement&gt; cells = row.findElements(By.tagName(&quot;td&quot;));\r\n\r\n\t\t\t// Print the contents of each cell\r\n\t\t\tfor (WebElement cell : cells) {\r\n\t\t\t\tSystem.out.println(cell.getText());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n````\r\n\r\n**Console output:**\r\n````\r\nLearn Selenium\r\nAmit\r\nSelenium\r\n300\r\nLearn Java\r\nMukesh\r\nJava\r\n500\r\nLearn JS\r\nAnimesh\r\nJavascript\r\n300\r\nMaster In Selenium\r\nMukesh\r\nSelenium\r\n3000\r\nMaster In Java\r\nAmod\r\nJAVA\r\n2000\r\nMaster In JS\r\nAmit\r\nJavascript\r\n1000\r\n````","title":"How to Print Table element in Sequence?","body":"<p>Refer the simplified code below:</p>\n<pre><code>import java.util.List;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic static void main(String[] args) throws InterruptedException {\n\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://softwaretestingo.blogspot.com/2020/09/static-table.html&quot;);\n\n        // Get all the table rows from the table\n        List&lt;WebElement&gt; allRows = driver.findElements(By.xpath(&quot;//table[@name='BookTable']//tr&quot;));\n\n        // And iterate over them and get all the cells\n        for (WebElement row : allRows) {\n            List&lt;WebElement&gt; cells = row.findElements(By.tagName(&quot;td&quot;));\n\n            // Print the contents of each cell\n            for (WebElement cell : cells) {\n                System.out.println(cell.getText());\n            }\n        }\n    }\n</code></pre>\n<p><strong>Console output:</strong></p>\n<pre><code>Learn Selenium\nAmit\nSelenium\n300\nLearn Java\nMukesh\nJava\n500\nLearn JS\nAnimesh\nJavascript\n300\nMaster In Selenium\nMukesh\nSelenium\n3000\nMaster In Java\nAmod\nJAVA\n2000\nMaster In JS\nAmit\nJavascript\n1000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687284865,"creation_date":1687207916,"answer_id":76510012,"question_id":76507223,"body_markdown":"You need to make 2 significant adjustments as follows:\r\n\r\n- You need to upgrade [Selenium](https://stackoverflow.com/a/54482491/7429447) version from _**4.9.1**_ to _**4.10.0**_ so you won&#39;t explicitly need WebDriverManager as [_**Selenium Manager**_](https://www.selenium.dev/blog/2022/introducing-selenium-manager/) being fully integrated is invoked transparently by the Selenium bindings when no browser driver is detected on the PATH or no third party driver manager is being used.\r\n- You can use [tag:java-8] [_Stream_](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html) interface to achieve your task easily as follows:\r\n- Code block:\r\n\r\n\t  ChromeOptions options = new ChromeOptions();\r\n\t  options.addArguments(&quot;--start-maximized&quot;);\r\n\t  WebDriver driver = new ChromeDriver(options);\r\n\t  driver.get(&quot;https://softwaretestingo.blogspot.com/2020/09/static-table.html&quot;);\r\n\t  System.out.println(driver.findElements(By.cssSelector(&quot;table[name=BookTable] td&quot;)).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));\r\n\r\n- Console Output:\r\n\r\n\t  [Learn Selenium, Amit, Selenium, 300, Learn Java, Mukesh, Java, 500, Learn JS, Animesh, Javascript, 300, Master In Selenium, Mukesh, Selenium, 3000, Master In Java, Amod, JAVA, 2000, Master In JS, Amit, Javascript, 1000]","title":"How to Print Table element in Sequence?","body":"<p>You need to make 2 significant adjustments as follows:</p>\n<ul>\n<li><p>You need to upgrade <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> version from <em><strong>4.9.1</strong></em> to <em><strong>4.10.0</strong></em> so you won't explicitly need WebDriverManager as <a href=\"https://www.selenium.dev/blog/2022/introducing-selenium-manager/\" rel=\"nofollow noreferrer\"><em><strong>Selenium Manager</strong></em></a> being fully integrated is invoked transparently by the Selenium bindings when no browser driver is detected on the PATH or no third party driver manager is being used.</p>\n</li>\n<li><p>You can use <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" aria-label=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\" aria-labelledby=\"tag-java-8-tooltip-container\">java-8</a> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><em>Stream</em></a> interface to achieve your task easily as follows:</p>\n</li>\n<li><p>Code block:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--start-maximized&quot;);\nWebDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://softwaretestingo.blogspot.com/2020/09/static-table.html&quot;);\nSystem.out.println(driver.findElements(By.cssSelector(&quot;table[name=BookTable] td&quot;)).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));\n</code></pre>\n</li>\n<li><p>Console Output:</p>\n<pre><code>[Learn Selenium, Amit, Selenium, 300, Learn Java, Mukesh, Java, 500, Learn JS, Animesh, Javascript, 300, Master In Selenium, Mukesh, Selenium, 3000, Master In Java, Amod, JAVA, 2000, Master In JS, Amit, Javascript, 1000]\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":28281132,"reputation":3,"user_id":21622764,"display_name":"Sanjay Mardi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687284865,"creation_date":1687182210,"question_id":76507223,"body_markdown":"Trying to print table element sequentially in console. Code given below please help:\r\n````    \r\n    import java.util.List;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    \r\n    public class Softwaretestingo {\r\n    public static void main(String[] args) throws Exception {\r\n    \r\n    \t//Webdrivermanager to open chromebrowser\r\n    \r\n                WebDriverManager.chromedriver().setup();\r\n    \tWebDriver driver = new ChromeDriver();\r\n    \tdriver.get(&quot;https://softwaretestingo.blogspot.com/2020/09/static-table.html&quot;);\r\n    \tdriver.findElements(By.xpath(&quot;//Table&quot;));\r\n    \tList&lt;WebElement&gt; rows=driver.findElements(By.xpath(&quot;//Table//tr&quot;));\r\n    \tSystem.out.println(rows.size());\r\n    \tList&lt;WebElement&gt; cols=driver.findElements(By.xpath(&quot;//Table//th&quot;));\r\n    \tSystem.out.println(cols.size());\r\n    \tList&lt;WebElement&gt; rd = driver.findElements(By.xpath(&quot;//Table//td&quot;));\r\n    \tSystem.out.println(rd.size());\r\n    \t\r\n                //itrate throgh the table elements \r\n    \r\n                for(WebElement e : cols)\r\n    \t{\r\n    \t\tSystem.out.println(e.getText());\r\n    \t}\r\n    \tfor(int i = 1 ; i &lt;= cols.size() ; i++)\r\n    \t{\r\n    \t\tList&lt;WebElement&gt; thiteration = driver.findElements(By.xpath(&quot;//Table//th&quot;));\r\n    \t\tfor(WebElement e2 : thiteration)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(e2.getText());\r\n    \t\t}\r\n    \t\tList&lt;WebElement&gt; tditeration = driver.findElements(By.xpath(&quot;//Table//td&quot;));\r\n    \t\tfor(WebElement e1 : tditeration)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(e1.getText());\r\n    \t\t}\r\n    \t\tThread.sleep(3000);\r\n    \t   }\r\n         }\r\n       }\r\n````\r\nOutput as per the above code:\r\n````\r\nhttp://localhost:19529 for channel [id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529]\r\nLearn Selenium\r\n19:06:07.566 [Forwarding getElementText on session b8964f2247db71d7a0f851f3441d3342 to remote] DEBUG org.asynchttpclient.netty.request.NettyRequestSender - Using pooled Channel &#39;[id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529]&#39; for &#39;GET&#39; to &#39;http://localhost:19529/session/b8964f2247db71d7a0f851f3441d3342/element/8ED067903D940894D08DF7C9EE6DC3EC_element_14/text&#39;\r\n19:06:07.566 [Forwarding getElementText on session b8964f2247db71d7a0f851f3441d3342 to remote] DEBUG org.asynchttpclient.netty.request.NettyRequestSender - Using open Channel [id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529] for GET &#39;/session/b8964f2247db71d7a0f851f3441d3342/element/8ED067903D940894D08DF7C9EE6DC3EC_element_14/text&#39;\r\n19:06:07.585 [AsyncHttpClient-1-2] DEBUG org.asynchttpclient.netty.handler.HttpHandler - \r\n\r\nRequest DefaultFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)\r\nGET /session/b8964f2247db71d7a0f851f3441d3342/element/8ED067903D940894D08DF7C9EE6DC3EC_element_14/text HTTP/1.1\r\nUser-Agent: selenium/4.9.1 (java windows)\r\nCache-Control: no-cache\r\nContent-Type: application/json; charset=utf-8\r\nhost: localhost:19529\r\naccept: */*\r\n\r\nResponse DefaultHttpResponse(decodeResult: success, version: HTTP/1.1)\r\nHTTP/1.1 200 OK\r\nContent-Length: 16\r\nContent-Type: application/json; charset=utf-8\r\ncache-control: no-cache\r\n\r\n19:06:07.586 [AsyncHttpClient-1-2] DEBUG org.asynchttpclient.netty.channel.ChannelManager - Adding key: http://localhost:19529 for channel [id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529]\r\nAmit\r\n````\r\n","title":"How to Print Table element in Sequence?","body":"<p>Trying to print table element sequentially in console. Code given below please help:</p>\n<pre><code>    import java.util.List;\n    import org.openqa.selenium.By;\n    import org.openqa.selenium.WebDriver;\n    import org.openqa.selenium.WebElement;\n    import org.openqa.selenium.chrome.ChromeDriver;\n    import io.github.bonigarcia.wdm.WebDriverManager;\n    \n    public class Softwaretestingo {\n    public static void main(String[] args) throws Exception {\n    \n        //Webdrivermanager to open chromebrowser\n    \n                WebDriverManager.chromedriver().setup();\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://softwaretestingo.blogspot.com/2020/09/static-table.html&quot;);\n        driver.findElements(By.xpath(&quot;//Table&quot;));\n        List&lt;WebElement&gt; rows=driver.findElements(By.xpath(&quot;//Table//tr&quot;));\n        System.out.println(rows.size());\n        List&lt;WebElement&gt; cols=driver.findElements(By.xpath(&quot;//Table//th&quot;));\n        System.out.println(cols.size());\n        List&lt;WebElement&gt; rd = driver.findElements(By.xpath(&quot;//Table//td&quot;));\n        System.out.println(rd.size());\n        \n                //itrate throgh the table elements \n    \n                for(WebElement e : cols)\n        {\n            System.out.println(e.getText());\n        }\n        for(int i = 1 ; i &lt;= cols.size() ; i++)\n        {\n            List&lt;WebElement&gt; thiteration = driver.findElements(By.xpath(&quot;//Table//th&quot;));\n            for(WebElement e2 : thiteration)\n            {\n                System.out.println(e2.getText());\n            }\n            List&lt;WebElement&gt; tditeration = driver.findElements(By.xpath(&quot;//Table//td&quot;));\n            for(WebElement e1 : tditeration)\n            {\n                System.out.println(e1.getText());\n            }\n            Thread.sleep(3000);\n           }\n         }\n       }\n</code></pre>\n<p>Output as per the above code:</p>\n<pre><code>http://localhost:19529 for channel [id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529]\nLearn Selenium\n19:06:07.566 [Forwarding getElementText on session b8964f2247db71d7a0f851f3441d3342 to remote] DEBUG org.asynchttpclient.netty.request.NettyRequestSender - Using pooled Channel '[id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529]' for 'GET' to 'http://localhost:19529/session/b8964f2247db71d7a0f851f3441d3342/element/8ED067903D940894D08DF7C9EE6DC3EC_element_14/text'\n19:06:07.566 [Forwarding getElementText on session b8964f2247db71d7a0f851f3441d3342 to remote] DEBUG org.asynchttpclient.netty.request.NettyRequestSender - Using open Channel [id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529] for GET '/session/b8964f2247db71d7a0f851f3441d3342/element/8ED067903D940894D08DF7C9EE6DC3EC_element_14/text'\n19:06:07.585 [AsyncHttpClient-1-2] DEBUG org.asynchttpclient.netty.handler.HttpHandler - \n\nRequest DefaultFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)\nGET /session/b8964f2247db71d7a0f851f3441d3342/element/8ED067903D940894D08DF7C9EE6DC3EC_element_14/text HTTP/1.1\nUser-Agent: selenium/4.9.1 (java windows)\nCache-Control: no-cache\nContent-Type: application/json; charset=utf-8\nhost: localhost:19529\naccept: */*\n\nResponse DefaultHttpResponse(decodeResult: success, version: HTTP/1.1)\nHTTP/1.1 200 OK\nContent-Length: 16\nContent-Type: application/json; charset=utf-8\ncache-control: no-cache\n\n19:06:07.586 [AsyncHttpClient-1-2] DEBUG org.asynchttpclient.netty.channel.ChannelManager - Adding key: http://localhost:19529 for channel [id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529]\nAmit\n</code></pre>\n"},{"tags":["java","file","directory"],"comments":[{"owner":{"account_id":9924285,"reputation":708,"user_id":7346454,"display_name":"Thomas Martin"},"score":0,"creation_date":1569511280,"post_id":58119850,"comment_id":102628841,"body_markdown":"According to documentation, the former file will be overriden. What error do you have ?","body":"According to documentation, the former file will be overriden. What error do you have ?"},{"owner":{"account_id":16724518,"reputation":1,"user_id":12088429,"display_name":"sara"},"score":0,"creation_date":1569514654,"post_id":58119850,"comment_id":102630465,"body_markdown":"I dont want to override the file","body":"I dont want to override the file"}],"answers":[{"comments":[{"owner":{"account_id":7323637,"reputation":3054,"user_id":5578773,"display_name":"YellowAfterlife"},"score":0,"creation_date":1569516198,"post_id":58121089,"comment_id":102631215,"body_markdown":"Hello! You can format your code by either indenting all lines with 4 spaces, or by surrounding the block in triple backticks \\`\\`\\` (like in Markdown)","body":"Hello! You can format your code by either indenting all lines with 4 spaces, or by surrounding the block in triple backticks ``` (like in Markdown)"},{"owner":{"account_id":9924285,"reputation":708,"user_id":7346454,"display_name":"Thomas Martin"},"score":0,"creation_date":1569553017,"post_id":58121089,"comment_id":102642003,"body_markdown":"You should give a secured exit condition to your while loop, like a counter that stops at 1000 or whatever value sits you.","body":"You should give a secured exit condition to your while loop, like a counter that stops at 1000 or whatever value sits you."}],"tags":[],"owner":{"account_id":16773933,"reputation":11,"user_id":12125758,"display_name":"Alejandro Ramon Herandez"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687284811,"creation_date":1569515199,"answer_id":58121089,"question_id":58119850,"body_markdown":"this is a way of solution, rename destFile if exist some file with the same name in dest directory, it add the string &quot;copy&quot; in the end of path (you can change the added string)\r\n```\r\nprivate static void copyFile(File source, File dest) {\r\n    while (dest.exists()) {\r\n        dest = new File(dest.getPath() + &quot;copy&quot;);\r\n    }\r\n    try {\r\n        Files.copy(source.toPath(), dest.toPath());\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```","title":"Copy file into a folder having same file name using Java","body":"<p>this is a way of solution, rename destFile if exist some file with the same name in dest directory, it add the string &quot;copy&quot; in the end of path (you can change the added string)</p>\n<pre><code>private static void copyFile(File source, File dest) {\n    while (dest.exists()) {\n        dest = new File(dest.getPath() + &quot;copy&quot;);\n    }\n    try {\n        Files.copy(source.toPath(), dest.toPath());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16724518,"reputation":1,"user_id":12088429,"display_name":"sara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687284811,"creation_date":1569510736,"question_id":58119850,"body_markdown":"I want to copy a file from one folder to another using java , but the second folder contains a file which has the same name as the file I want to copy. \r\n\r\nSo how would I do this? \r\n\r\nI tried to rename the file after I copy it but this didn&#39;t work and the file didn&#39;t even appear. \r\nPlease suggestions!\r\n\r\nI was trying to copy using this line of code\r\n\r\n&gt;  FileUtils.copyFileToDirectory(newFile, dir);","title":"Copy file into a folder having same file name using Java","body":"<p>I want to copy a file from one folder to another using java , but the second folder contains a file which has the same name as the file I want to copy. </p>\n\n<p>So how would I do this? </p>\n\n<p>I tried to rename the file after I copy it but this didn't work and the file didn't even appear. \nPlease suggestions!</p>\n\n<p>I was trying to copy using this line of code</p>\n\n<blockquote>\n  <p>FileUtils.copyFileToDirectory(newFile, dir);</p>\n</blockquote>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687198929,"post_id":76509055,"comment_id":134900498,"body_markdown":"It goes in /src/main/resources You should also show your code in case you&#39;re accessing it wrongly","body":"It goes in /src/main/resources You should also show your code in case you&#39;re accessing it wrongly"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687199470,"post_id":76509055,"comment_id":134900580,"body_markdown":"Code something like `String target = &quot;C:/User/Documents/copied.xlsx&quot;;try (InputStream in = Copier.class.getResourceAsStream(&quot;/x.xlsx&quot;)) { Files.copy(in, Path.of(target)); }`","body":"Code something like <code>String target = &quot;C:&#47;User&#47;Documents&#47;copied.xlsx&quot;;try (InputStream in = Copier.class.getResourceAsStream(&quot;&#47;x.xlsx&quot;)) { Files.copy(in, Path.of(target)); }</code>"}],"owner":{"account_id":28840445,"reputation":1,"user_id":22088834,"display_name":"Mohanraj Rathinakumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687284666,"creation_date":1687197534,"question_id":76509055,"body_markdown":"public class GetFiles {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tString myDocument = System.getProperty(&quot;user.home&quot;)+&quot;/Documents/&quot;;\r\n\t\tString fileName = &quot;Sample.txt&quot;;\r\n\t\t\r\n\t\tInputStream in = GetFiles.class.getResourceAsStream(&quot;/&quot;+fileName);\r\n\t\t\r\n\t\tFile outputFile = new File(myDocument+fileName);\r\n\t\t\r\n\t\tFiles.copy(in, outputFile.toPath());\r\n\t\t\r\n\r\n\t}\r\n\r\n}\r\n\r\n// This code is not working after exporting as Jar file","title":"How to get files from resources folder after exporting as Jar file","body":"<p>public class GetFiles {</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    \n    String myDocument = System.getProperty(&quot;user.home&quot;)+&quot;/Documents/&quot;;\n    String fileName = &quot;Sample.txt&quot;;\n    \n    InputStream in = GetFiles.class.getResourceAsStream(&quot;/&quot;+fileName);\n    \n    File outputFile = new File(myDocument+fileName);\n    \n    Files.copy(in, outputFile.toPath());\n    \n\n}\n</code></pre>\n<p>}</p>\n<p>// This code is not working after exporting as Jar file</p>\n"},{"tags":["java","android","android-recyclerview","scroll","android-tv"],"comments":[{"owner":{"account_id":8775345,"reputation":1934,"user_id":6560792,"display_name":"iamnaran"},"score":0,"creation_date":1564390184,"post_id":57245862,"comment_id":101000525,"body_markdown":"you can put one layout(view) before RecyclerView in a required position make the view visible with the selected item displayed. I think there is no way to freeze certain cell and scroll in recycler view. :)","body":"you can put one layout(view) before RecyclerView in a required position make the view visible with the selected item displayed. I think there is no way to freeze certain cell and scroll in recycler view. :)"}],"answers":[{"comments":[{"owner":{"account_id":14811472,"reputation":155,"user_id":10696988,"display_name":"ia244"},"score":0,"creation_date":1564362549,"post_id":57245953,"comment_id":100992986,"body_markdown":"Doesen&#39;t seem to work on vertical recyclerview, the recyclerview just act normal","body":"Doesen&#39;t seem to work on vertical recyclerview, the recyclerview just act normal"}],"tags":[],"owner":{"account_id":14883127,"reputation":58,"user_id":10747112,"display_name":"Maj100"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564360098,"creation_date":1564360098,"answer_id":57245953,"question_id":57245862,"body_markdown":"You can use [SnapHelper][1] which can snap the item either vertically or horizontally. For example: attach the instance the the recyclerView like this:\r\n\r\n    LinearSnapHelper snapHelper  = new LinearSnapHelper();\r\n    snapHelper.attachToRecyclerView(recyclerView);\r\n\r\nHere is more information:\r\n\r\nhttps://blog.mindorks.com/using-snaphelper-in-recyclerview-fc616b6833e8\r\n\r\n  [1]: https://developer.android.com/reference/android/support/v7/widget/LinearSnapHelper","title":"Scrolling recyclerview from the middle item","body":"<p>You can use <a href=\"https://developer.android.com/reference/android/support/v7/widget/LinearSnapHelper\" rel=\"nofollow noreferrer\">SnapHelper</a> which can snap the item either vertically or horizontally. For example: attach the instance the the recyclerView like this:</p>\n\n<pre><code>LinearSnapHelper snapHelper  = new LinearSnapHelper();\nsnapHelper.attachToRecyclerView(recyclerView);\n</code></pre>\n\n<p>Here is more information:</p>\n\n<p><a href=\"https://blog.mindorks.com/using-snaphelper-in-recyclerview-fc616b6833e8\" rel=\"nofollow noreferrer\">https://blog.mindorks.com/using-snaphelper-in-recyclerview-fc616b6833e8</a></p>\n"},{"tags":[],"owner":{"account_id":14811472,"reputation":155,"user_id":10696988,"display_name":"ia244"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564365373,"creation_date":1564365373,"answer_id":57246386,"question_id":57245862,"body_markdown":"Was fixed using a VerticalGridView\r\n\r\nhttps://corochann.com/verticalgridfragment-android-tv-application-hands-on-tutorial-19-718.html","title":"Scrolling recyclerview from the middle item","body":"<p>Was fixed using a VerticalGridView</p>\n\n<p><a href=\"https://corochann.com/verticalgridfragment-android-tv-application-hands-on-tutorial-19-718.html\" rel=\"nofollow noreferrer\">https://corochann.com/verticalgridfragment-android-tv-application-hands-on-tutorial-19-718.html</a></p>\n"}],"owner":{"account_id":14811472,"reputation":155,"user_id":10696988,"display_name":"ia244"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687284625,"creation_date":1564358909,"question_id":57245862,"body_markdown":"I am developing app for Android TV and I have a vertical RecyclerView, when I scroll the RecyclerView using the DPAD control the RecyclerView scroll down when I get to the last viewable item and then it scroll.\r\n\r\nIs there away that the focused item will always stay in the center of the recyclerview while I scroll using the DPAD and only when I get to the last item of the recyclerview the focus will go until the last item.\r\n\r\nIt seems simple enough to have a build in option inside the RecyclerView but I can&#39;t find an answer!!!\r\n\r\nThanks!","title":"Scrolling recyclerview from the middle item","body":"<p>I am developing app for Android TV and I have a vertical RecyclerView, when I scroll the RecyclerView using the DPAD control the RecyclerView scroll down when I get to the last viewable item and then it scroll.</p>\n\n<p>Is there away that the focused item will always stay in the center of the recyclerview while I scroll using the DPAD and only when I get to the last item of the recyclerview the focus will go until the last item.</p>\n\n<p>It seems simple enough to have a build in option inside the RecyclerView but I can't find an answer!!!</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","java-8","garbage-collection"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1582603079,"post_id":60387269,"comment_id":106824905,"body_markdown":"_We don&#39;t have GC logs enabled_, that&#39;s it. _Everything_ else is pure guessing that will take you nowhere.","body":"<i>We don&#39;t have GC logs enabled</i>, that&#39;s it. <i>Everything</i> else is pure guessing that will take you nowhere."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1582710469,"post_id":60387269,"comment_id":106867785,"body_markdown":"Someone calling `System.gc()` in a loop?","body":"Someone calling <code>System.gc()</code> in a loop?"},{"owner":{"account_id":4787565,"reputation":51,"user_id":3867589,"display_name":"Asanka"},"score":0,"creation_date":1582856078,"post_id":60387269,"comment_id":106929525,"body_markdown":"There was no such System.gc() calls from the code.","body":"There was no such System.gc() calls from the code."}],"answers":[{"tags":[],"owner":{"account_id":4787565,"reputation":51,"user_id":3867589,"display_name":"Asanka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687284239,"creation_date":1687284239,"answer_id":76517377,"question_id":60387269,"body_markdown":"After deep dive into the issue the root cause has been identified. The allocated memory for metaspace was exhausted and it was not configured to auto scale. This cause the high GC suspension.  ","title":"JVM long GC suspension even without exhausted memory","body":"<p>After deep dive into the issue the root cause has been identified. The allocated memory for metaspace was exhausted and it was not configured to auto scale. This cause the high GC suspension.</p>\n"}],"owner":{"account_id":4787565,"reputation":51,"user_id":3867589,"display_name":"Asanka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687284239,"creation_date":1582602818,"question_id":60387269,"body_markdown":"Our legacy application is running on Java 8 and using Serial Garbage Collector in the JVM. Recently we observed some unusual behavior where there was a 100% GC suspension, but the application memory was 38% and application CPU was 45%. Normally what we know is that high GC suspension can happen due to the exhausted memory. But in our case there was no such memory or CPU saturation. \r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nHave anyone experienced such behavior in JVM and what could be the possible reasons for such behaviors. \r\n\r\nFurther analyse noticed that the Metaspace memory was saturated during the same time frame. Can this trigger GC? \r\n[![enter image description here][3]][3]\r\n\r\n\r\nNote: We **don&#39;t** have GC logs enabled. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EKplf.png\r\n  [2]: https://i.stack.imgur.com/wNFbo.png\r\n  [3]: https://i.stack.imgur.com/bnF4s.png","title":"JVM long GC suspension even without exhausted memory","body":"<p>Our legacy application is running on Java 8 and using Serial Garbage Collector in the JVM. Recently we observed some unusual behavior where there was a 100% GC suspension, but the application memory was 38% and application CPU was 45%. Normally what we know is that high GC suspension can happen due to the exhausted memory. But in our case there was no such memory or CPU saturation. </p>\n\n<p><a href=\"https://i.stack.imgur.com/EKplf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EKplf.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/wNFbo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wNFbo.png\" alt=\"enter image description here\"></a></p>\n\n<p>Have anyone experienced such behavior in JVM and what could be the possible reasons for such behaviors. </p>\n\n<p>Further analyse noticed that the Metaspace memory was saturated during the same time frame. Can this trigger GC? \n<a href=\"https://i.stack.imgur.com/bnF4s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bnF4s.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note: We <strong>don't</strong> have GC logs enabled. </p>\n"},{"tags":["java","eclipse","jsp","jboss"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687260992,"post_id":76513837,"comment_id":134908890,"body_markdown":"If `sharedVar` is everywhere the same, `father.jsp` and `mother.jsp` should not declare it by their own, but import it from the same, e.g. import it from `ancestor.jsp`.","body":"If <code>sharedVar</code> is everywhere the same, <code>father.jsp</code> and <code>mother.jsp</code> should not declare it by their own, but import it from the same, e.g. import it from <code>ancestor.jsp</code>."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687261001,"post_id":76513837,"comment_id":134908891,"body_markdown":"Either this ^ or import only `mother.jsp` *or* `father.jsp`","body":"Either this ^ or import only <code>mother.jsp</code> <i>or</i> <code>father.jsp</code>"}],"answers":[{"comments":[{"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"score":0,"creation_date":1687328509,"post_id":76517358,"comment_id":134919340,"body_markdown":"Thank you. Finallly I solved it renaming the shared variables and reorganizing it all","body":"Thank you. Finallly I solved it renaming the shared variables and reorganizing it all"}],"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687284092,"creation_date":1687284092,"answer_id":76517358,"question_id":76513837,"body_markdown":"If by &quot;import&quot; you mean `@include`, there&#39;s not really a solution for this other than defining a [prelude][1] file in the `web.xml` file that declares the `sharedVar` so that you only have it present one time regardless of whether you include either parent or *are* either parent.\r\n\r\n\r\n  [1]: https://www.oreilly.com/library/view/javaserver-pages-3rd/0596005636/re180.html","title":"JSP file inherits duplicate variable from 2 different JSPs","body":"<p>If by &quot;import&quot; you mean <code>@include</code>, there's not really a solution for this other than defining a <a href=\"https://www.oreilly.com/library/view/javaserver-pages-3rd/0596005636/re180.html\" rel=\"nofollow noreferrer\">prelude</a> file in the <code>web.xml</code> file that declares the <code>sharedVar</code> so that you only have it present one time regardless of whether you include either parent or <em>are</em> either parent.</p>\n"}],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687284092,"creation_date":1687257347,"question_id":76513837,"body_markdown":"Comsider this simplification of a real problem with 3 old .jsp&#39;s:\r\n\r\nI have **father.jsp** with declares variable &#39;*sharedVar*&#39;. Because internally it uses it.\r\n\r\nAlso **mother.jsp** declares that same variable &#39;*sharedVar*&#39;. Because internally it uses it.\r\n\r\nThen, **son.jsp** imports both **father.jsp** and **mother.jsp**. Because it need to use the variable &#39;*sharedVar*&#39;.\r\n\r\nThe Eclipse rejects it with the error &quot;**Duplicate local variable**&quot;\r\n\r\nDoes somebody knows how to solve it?","title":"JSP file inherits duplicate variable from 2 different JSPs","body":"<p>Comsider this simplification of a real problem with 3 old .jsp's:</p>\n<p>I have <strong>father.jsp</strong> with declares variable '<em>sharedVar</em>'. Because internally it uses it.</p>\n<p>Also <strong>mother.jsp</strong> declares that same variable '<em>sharedVar</em>'. Because internally it uses it.</p>\n<p>Then, <strong>son.jsp</strong> imports both <strong>father.jsp</strong> and <strong>mother.jsp</strong>. Because it need to use the variable '<em>sharedVar</em>'.</p>\n<p>The Eclipse rejects it with the error &quot;<strong>Duplicate local variable</strong>&quot;</p>\n<p>Does somebody knows how to solve it?</p>\n"},{"tags":["java","windows","powershell"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687284283,"post_id":76517288,"comment_id":134914199,"body_markdown":"I guess the correct syntax will be: Start-Job -ScriptBlock  {java -jar .\\app.jar}","body":"I guess the correct syntax will be: Start-Job -ScriptBlock  {java -jar .\\app.jar}"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1687284363,"post_id":76517288,"comment_id":134914218,"body_markdown":"Beginning in PowerShell 6.0, you can start jobs using the ampersand (&amp;) background operator.","body":"Beginning in PowerShell 6.0, you can start jobs using the ampersand (&amp;) background operator."},{"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1687311989,"post_id":76517288,"comment_id":134917707,"body_markdown":"In short: In _Windows PowerShell_ (versions up to v5.1), the working directory for `Start-Job` is the user&#39;s _Documents_ directory, not the _caller&#39;s_ current directory; changing to the caller&#39;s / a given directory requires an explicit `Set-Location` call as part of the script block (or via a separate script block passed to `-InitializationScript` ). In _PowerShell (Core) 7+_, the caller&#39;s working directory is now inherited by default, and a new `-WorkingDirectory` parameter allows specifying a directory explicitly. See the linked duplicate for details.","body":"In short: In <i>Windows PowerShell</i> (versions up to v5.1), the working directory for <code>Start-Job</code> is the user&#39;s <i>Documents</i> directory, not the <i>caller&#39;s</i> current directory; changing to the caller&#39;s / a given directory requires an explicit <code>Set-Location</code> call as part of the script block (or via a separate script block passed to <code>-InitializationScript</code> ). In <i>PowerShell (Core) 7+</i>, the caller&#39;s working directory is now inherited by default, and a new <code>-WorkingDirectory</code> parameter allows specifying a directory explicitly. See the linked duplicate for details."}],"owner":{"account_id":8704980,"reputation":370,"user_id":6513380,"accept_rate":0,"display_name":"Springhills"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687311831,"answer_count":0,"score":0,"last_activity_date":1687283530,"creation_date":1687283530,"question_id":76517288,"body_markdown":"I am trying to run a java app in the background. \r\nits simple command -\r\n `java -jar app.jar`\r\n\r\nIf we run above command on powershell cli - its working fine but not in the background\r\n\r\nFew thing i tried\r\n\r\n   ``` Start-Job -Command {java -jar .\\app.jar} ```\r\nAlso tried &quot;start command&quot;\r\n\r\nit is listing the jobs but its not running the app. \r\nDo we have a way something like &quot;&amp;&quot; \r\n\r\nPlease suggest","title":"Run java app.jar in background in windows powershell","body":"<p>I am trying to run a java app in the background.\nits simple command -\n<code>java -jar app.jar</code></p>\n<p>If we run above command on powershell cli - its working fine but not in the background</p>\n<p>Few thing i tried</p>\n<p><code>Start-Job -Command {java -jar .\\app.jar}</code>\nAlso tried &quot;start command&quot;</p>\n<p>it is listing the jobs but its not running the app.\nDo we have a way something like &quot;&amp;&quot;</p>\n<p>Please suggest</p>\n"},{"tags":["java","android","arrays","json","arraylist"],"answers":[{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1687279245,"post_id":76516630,"comment_id":134913259,"body_markdown":"The much higher answer rate and the verboseness suggest this has been generated by [ChatGPT_](https://meta.stackoverflow.com/questions/421831/temporary-policy-chatgpt-is-banned).","body":"The much higher answer rate and the verboseness suggest this has been generated by <a href=\"https://meta.stackoverflow.com/questions/421831/temporary-policy-chatgpt-is-banned\">ChatGPT_</a>."},{"owner":{"account_id":28859261,"reputation":1,"user_id":22103441,"display_name":"Yoko"},"score":0,"creation_date":1687280102,"post_id":76516630,"comment_id":134913424,"body_markdown":"it work fine without any error but not a single thing have changed afterward","body":"it work fine without any error but not a single thing have changed afterward"}],"tags":[],"owner":{"account_id":19505437,"reputation":433,"user_id":14270580,"display_name":"Venus"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687277693,"creation_date":1687277693,"answer_id":76516630,"question_id":76516413,"body_markdown":"To update the qty value in the Menu object, you can modify the updateData method in PlaceYourOrderAdapter to accept a HashMap that maps the index of the Menu object to its new qty value. Then, you can update the Menu object at the specified index with the new qty value and notify the adapter of the data change using notifyItemChanged.\r\n\r\n    public void updateData(HashMap&lt;Integer, Integer&gt; updatedQuantities) {\r\n        for (Map.Entry&lt;Integer, Integer&gt; entry : updatedQuantities.entrySet()) {\r\n            int index = entry.getKey();\r\n            int newQty = entry.getValue();\r\n            Menu menu = menuList.get(index);\r\n            menu.setTotalInCart(newQty);\r\n            notifyItemChanged(index);\r\n        }\r\n    }\r\n\r\nThen, in your PlaceYourOrderActivity, you can pass the updated qty values to the adapter by calling updateData on the adapter instance.\r\n\r\n    HashMap&lt;Integer, Integer&gt; updatedQuantities = new HashMap&lt;&gt;();\r\n    // Populate the updatedQuantities map with the index and new qty value for each updated menu item\r\n    placeYourOrderAdapter.updateData(updatedQuantities);\r\n\r\nThis code assumes that you have access to the PlaceYourOrderAdapter instance in your PlaceYourOrderActivity. If you don&#39;t, you&#39;ll need to make the adapter instance a class variable and initialize it in your activity&#39;s onCreate method.","title":"How to modify specific Value on Java","body":"<p>To update the qty value in the Menu object, you can modify the updateData method in PlaceYourOrderAdapter to accept a HashMap that maps the index of the Menu object to its new qty value. Then, you can update the Menu object at the specified index with the new qty value and notify the adapter of the data change using notifyItemChanged.</p>\n<pre><code>public void updateData(HashMap&lt;Integer, Integer&gt; updatedQuantities) {\n    for (Map.Entry&lt;Integer, Integer&gt; entry : updatedQuantities.entrySet()) {\n        int index = entry.getKey();\n        int newQty = entry.getValue();\n        Menu menu = menuList.get(index);\n        menu.setTotalInCart(newQty);\n        notifyItemChanged(index);\n    }\n}\n</code></pre>\n<p>Then, in your PlaceYourOrderActivity, you can pass the updated qty values to the adapter by calling updateData on the adapter instance.</p>\n<pre><code>HashMap&lt;Integer, Integer&gt; updatedQuantities = new HashMap&lt;&gt;();\n// Populate the updatedQuantities map with the index and new qty value for each updated menu item\nplaceYourOrderAdapter.updateData(updatedQuantities);\n</code></pre>\n<p>This code assumes that you have access to the PlaceYourOrderAdapter instance in your PlaceYourOrderActivity. If you don't, you'll need to make the adapter instance a class variable and initialize it in your activity's onCreate method.</p>\n"}],"owner":{"account_id":28859261,"reputation":1,"user_id":22103441,"display_name":"Yoko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687283180,"creation_date":1687275809,"question_id":76516413,"body_markdown":"I am currently adding quantity update on an app, so basically the the JSON file that currently being streamed need to have their specific value reduced\r\n\r\n```\r\n[\r\n  {\r\n    &quot;tipe&quot;:&quot;Coffee&quot;,\r\n    &quot;image&quot;:&quot;https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ90z0I0MAspI4vILXQ_iF1IikV8zQTyiWj1eC6Q6OB8w&amp;s&quot;,\r\n    &quot;menus&quot;: [\r\n      {\r\n        &quot;drink&quot;: &quot;Flavored Latte&quot;,\r\n        &quot;price&quot;: 16000,\r\n        &quot;url&quot;: &quot;https://images.media-allrecipes.com/userphotos/776874.jpg&quot;,\r\n        &quot;qty&quot;: 10\r\n      },\r\n      {\r\n        &quot;drink&quot;: &quot;Cappuccino&quot;,\r\n        &quot;price&quot;: 15000,\r\n        &quot;url&quot;: &quot;https://www.thespruceeats.com/thmb/SyX_yUyCFOtuqWC2QFrM25JTmsA=/4413x2942/filters:fill(auto,1)/how-to-make-cappuccinos-766116-hero-01-a754d567739b4ee0b209305138ecb996.jpg&quot;,\r\n        &quot;qty&quot;: 10\r\n      }\r\n]\r\n```\r\nthe file currently being read within main activity\r\n\r\n```\r\n    private List&lt;TypeModel&gt; getTypeData() {\r\n        InputStream is = getResources().openRawResource(R.raw.menu);\r\n        Writer writer = new StringWriter();\r\n        char[] buffer = new char[1024];\r\n        try{\r\n            Reader reader = new BufferedReader(new InputStreamReader(is,&quot;UTF-8&quot;));\r\n            int n;\r\n            while(( n = reader.read(buffer)) != -1) {\r\n                writer.write(buffer, 0,n);\r\n            }\r\n        }catch (Exception e) {\r\n\r\n        }\r\n\r\n        String jsonStr = writer.toString();\r\n        Gson gson = new Gson();\r\n        TypeModel[] typeModels =  gson.fromJson(jsonStr, TypeModel[].class);\r\n        List&lt;TypeModel&gt; reList = Arrays.asList(typeModels);\r\n\r\n        return  meList;\r\n\r\n    }\r\n```\r\nthe value that need to be changed are the one in qty based on option being choose when the order are completed which it need to be happen on orderf.activity\r\n\r\norderf.activity\r\n\r\n```\r\n\r\npublic class PlaceYourOrderActivity extends AppCompatActivity{\r\n\r\n    private EditText inputName, inputTable;\r\n    private RecyclerView cartItemsRecyclerView;\r\n    private TextView tvSubtotalAmount, tvTotalAmount, buttonPlaceYourOrder, serial;\r\n    private PlaceYourOrderAdapter placeYourOrderAdapter;\r\n    \r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_place_your_order);\r\n\r\n        TypeModel typeModel = getIntent().getParcelableExtra(&quot;TypeModel&quot;);\r\n        ActionBar actionBar = getSupportActionBar();\r\n        actionBar.setTitle(typeModel.getName());\r\n        actionBar.setDisplayHomeAsUpEnabled(true);\r\n\r\n        inputName = findViewById(R.id.inputName);\r\n        inputTable = findViewById(R.id.inputTable);\r\n        serial = findViewById(R.id.Serial);\r\n        tvSubtotalAmount = findViewById(R.id.tvSubtotalAmount);\r\n        tvTotalAmount = findViewById(R.id.tvTotalAmount);\r\n        buttonPlaceYourOrder = findViewById(R.id.buttonPlaceYourOrder);\r\n\r\n        cartItemsRecyclerView = findViewById(R.id.cartItemsRecyclerView);\r\n\r\n        buttonPlaceYourOrder.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                onPlaceOrderButtonClick(typeModel);\r\n            }\r\n        });\r\n\r\n        initRecyclerView(typeModel);\r\n        calculateTotalAmount(typeModel);\r\n        serialview();\r\n\r\n    }\r\nprivate void serialview(){\r\n    int digit = 8;\r\n    int max = (int) Math.pow(10,(digit)) - 1;\r\n    int min = (int) Math.pow(10, digit-1);\r\n    int range = max-min;\r\n    Random r = new Random();\r\n    int x = r.nextInt(range);\r\n    int serialview = x+min;\r\n    serial.setText(Integer.toString(serialview));\r\n\r\n}\r\n\r\n    private void calculateTotalAmount(TypeModel typeModel) {\r\n        float subTotalAmount = 0f;\r\n\r\n        for(Menu m : typeModel.getMenus()) {\r\n            subTotalAmount += m.getPrice() * m.getTotalInCart();\r\n        }\r\n\r\n        tvSubtotalAmount.setText(&quot;Rp&quot;+String.format(&quot;%.2f&quot;, subTotalAmount));\r\n        tvTotalAmount.setText(&quot;Rp&quot;+String.format(&quot;%.2f&quot;, subTotalAmount));\r\n    }\r\n\r\n    private void onPlaceOrderButtonClick(TypeModel typeModel) {\r\n        if(TextUtils.isEmpty(inputName.getText().toString())) {\r\n            inputName.setError(&quot;Please enter name &quot;);\r\n            return;\r\n        }\r\n        //start success activity.\r\n        Intent i = new Intent(PlaceYourOrderActivity.this, OrderSucceessActivity.class);\r\n        i.putExtra(&quot;TypeModel&quot;, typeModel);\r\n        startActivityForResult(i, 1000);\r\n    }\r\n\r\n    private void initRecyclerView(TypeModel typeModel) {\r\n        cartItemsRecyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        placeYourOrderAdapter = new PlaceYourOrderAdapter(typeModel.getMenus());\r\n        cartItemsRecyclerView.setAdapter(placeYourOrderAdapter);\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\r\n        if(requestCode == 1000) {\r\n            setResult(Activity.RESULT_OK);\r\n            finish();\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n        if (item.getItemId() == android.R.id.home) {\r\n            finish();\r\n        }//do nothing\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        setResult(Activity.RESULT_CANCELED);\r\n        finish();\r\n    }\r\n}\r\n\r\n```\r\norderfadapter\r\n\r\n```\r\npublic class PlaceYourOrderAdapter extends RecyclerView.Adapter&lt;PlaceYourOrderAdapter.MyViewHolder&gt; {\r\n\r\n    private List&lt;Menu&gt; menuList;\r\n\r\n    public PlaceYourOrderAdapter(List&lt;Menu&gt; menuList) {\r\n        this.menuList = menuList;\r\n    }\r\n\r\n    public void updateData(List&lt;Menu&gt; menuList) {\r\n        this.menuList = menuList;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public PlaceYourOrderAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view  = LayoutInflater.from(parent.getContext()).inflate(R.layout.place_order_recycler_row, parent, false);\r\n        return  new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull PlaceYourOrderAdapter.MyViewHolder holder, int position) {\r\n        holder.menuName.setText(menuList.get(position).getName());\r\n        holder.menuPrice.setText(&quot;Harga: Rp.&quot;+String.format(&quot;%.2f&quot;, menuList.get(position).getPrice()*menuList.get(position).getTotalInCart()));\r\n        holder.menuQty.setText(&quot;Qty: &quot; + menuList.get(position).getTotalInCart());\r\n        Glide.with(holder.thumbImage)\r\n                .load(menuList.get(position).getUrl())\r\n                .into(holder.thumbImage);\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return menuList.size();\r\n    }\r\n\r\n    static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        TextView menuName;\r\n        TextView  menuPrice;\r\n        TextView  menuQty;\r\n        ImageView thumbImage;\r\n\r\n        public MyViewHolder(View view) {\r\n            super(view);\r\n            menuName = view.findViewById(R.id.menuName);\r\n            menuPrice = view.findViewById(R.id.menuPrice);\r\n            menuQty = view.findViewById(R.id.menuQty);\r\n            thumbImage = view.findViewById(R.id.thumbImage);\r\n        }\r\n    }\r\n}\r\n```\r\nso the qty value is basically original read value subtracted by the amount of item being chosen, not sure if there is anyway to change the qty value without changing the menu.JSON file however any lead that been found around is a way to change specific line of a single line only and it must be chosen specifically\r\n\r\nNB: I am dumb at this but at least i understand what the code do when i see it in action\r\n\r\n\r\n\r\ni haven&#39;t really try anything because iam pretty oblivious because i don&#39;t understand what i should pass along to make the stuff possible however modifying and adding stuff is different story since i expect everyone can do that after understanding the code, what i expect is\r\n[what being chosen orderf.activity](https://i.stack.imgur.com/hFTty.png)\r\n[what must change menu.json](https://i.stack.imgur.com/oKdRl.png) or\r\n[what must actually change on app menu.activity](https://i.stack.imgur.com/rU3ax.png)\r\nsince after reading some other post i see that stream only read the json file once","title":"How to modify specific Value on Java","body":"<p>I am currently adding quantity update on an app, so basically the the JSON file that currently being streamed need to have their specific value reduced</p>\n<pre><code>[\n  {\n    &quot;tipe&quot;:&quot;Coffee&quot;,\n    &quot;image&quot;:&quot;https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ90z0I0MAspI4vILXQ_iF1IikV8zQTyiWj1eC6Q6OB8w&amp;s&quot;,\n    &quot;menus&quot;: [\n      {\n        &quot;drink&quot;: &quot;Flavored Latte&quot;,\n        &quot;price&quot;: 16000,\n        &quot;url&quot;: &quot;https://images.media-allrecipes.com/userphotos/776874.jpg&quot;,\n        &quot;qty&quot;: 10\n      },\n      {\n        &quot;drink&quot;: &quot;Cappuccino&quot;,\n        &quot;price&quot;: 15000,\n        &quot;url&quot;: &quot;https://www.thespruceeats.com/thmb/SyX_yUyCFOtuqWC2QFrM25JTmsA=/4413x2942/filters:fill(auto,1)/how-to-make-cappuccinos-766116-hero-01-a754d567739b4ee0b209305138ecb996.jpg&quot;,\n        &quot;qty&quot;: 10\n      }\n]\n</code></pre>\n<p>the file currently being read within main activity</p>\n<pre><code>    private List&lt;TypeModel&gt; getTypeData() {\n        InputStream is = getResources().openRawResource(R.raw.menu);\n        Writer writer = new StringWriter();\n        char[] buffer = new char[1024];\n        try{\n            Reader reader = new BufferedReader(new InputStreamReader(is,&quot;UTF-8&quot;));\n            int n;\n            while(( n = reader.read(buffer)) != -1) {\n                writer.write(buffer, 0,n);\n            }\n        }catch (Exception e) {\n\n        }\n\n        String jsonStr = writer.toString();\n        Gson gson = new Gson();\n        TypeModel[] typeModels =  gson.fromJson(jsonStr, TypeModel[].class);\n        List&lt;TypeModel&gt; reList = Arrays.asList(typeModels);\n\n        return  meList;\n\n    }\n</code></pre>\n<p>the value that need to be changed are the one in qty based on option being choose when the order are completed which it need to be happen on orderf.activity</p>\n<p>orderf.activity</p>\n<pre><code>\npublic class PlaceYourOrderActivity extends AppCompatActivity{\n\n    private EditText inputName, inputTable;\n    private RecyclerView cartItemsRecyclerView;\n    private TextView tvSubtotalAmount, tvTotalAmount, buttonPlaceYourOrder, serial;\n    private PlaceYourOrderAdapter placeYourOrderAdapter;\n    \n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_place_your_order);\n\n        TypeModel typeModel = getIntent().getParcelableExtra(&quot;TypeModel&quot;);\n        ActionBar actionBar = getSupportActionBar();\n        actionBar.setTitle(typeModel.getName());\n        actionBar.setDisplayHomeAsUpEnabled(true);\n\n        inputName = findViewById(R.id.inputName);\n        inputTable = findViewById(R.id.inputTable);\n        serial = findViewById(R.id.Serial);\n        tvSubtotalAmount = findViewById(R.id.tvSubtotalAmount);\n        tvTotalAmount = findViewById(R.id.tvTotalAmount);\n        buttonPlaceYourOrder = findViewById(R.id.buttonPlaceYourOrder);\n\n        cartItemsRecyclerView = findViewById(R.id.cartItemsRecyclerView);\n\n        buttonPlaceYourOrder.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                onPlaceOrderButtonClick(typeModel);\n            }\n        });\n\n        initRecyclerView(typeModel);\n        calculateTotalAmount(typeModel);\n        serialview();\n\n    }\nprivate void serialview(){\n    int digit = 8;\n    int max = (int) Math.pow(10,(digit)) - 1;\n    int min = (int) Math.pow(10, digit-1);\n    int range = max-min;\n    Random r = new Random();\n    int x = r.nextInt(range);\n    int serialview = x+min;\n    serial.setText(Integer.toString(serialview));\n\n}\n\n    private void calculateTotalAmount(TypeModel typeModel) {\n        float subTotalAmount = 0f;\n\n        for(Menu m : typeModel.getMenus()) {\n            subTotalAmount += m.getPrice() * m.getTotalInCart();\n        }\n\n        tvSubtotalAmount.setText(&quot;Rp&quot;+String.format(&quot;%.2f&quot;, subTotalAmount));\n        tvTotalAmount.setText(&quot;Rp&quot;+String.format(&quot;%.2f&quot;, subTotalAmount));\n    }\n\n    private void onPlaceOrderButtonClick(TypeModel typeModel) {\n        if(TextUtils.isEmpty(inputName.getText().toString())) {\n            inputName.setError(&quot;Please enter name &quot;);\n            return;\n        }\n        //start success activity.\n        Intent i = new Intent(PlaceYourOrderActivity.this, OrderSucceessActivity.class);\n        i.putExtra(&quot;TypeModel&quot;, typeModel);\n        startActivityForResult(i, 1000);\n    }\n\n    private void initRecyclerView(TypeModel typeModel) {\n        cartItemsRecyclerView.setLayoutManager(new LinearLayoutManager(this));\n        placeYourOrderAdapter = new PlaceYourOrderAdapter(typeModel.getMenus());\n        cartItemsRecyclerView.setAdapter(placeYourOrderAdapter);\n    }\n\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n\n        if(requestCode == 1000) {\n            setResult(Activity.RESULT_OK);\n            finish();\n        }\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n\n        if (item.getItemId() == android.R.id.home) {\n            finish();\n        }//do nothing\n        return super.onOptionsItemSelected(item);\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        setResult(Activity.RESULT_CANCELED);\n        finish();\n    }\n}\n\n</code></pre>\n<p>orderfadapter</p>\n<pre><code>public class PlaceYourOrderAdapter extends RecyclerView.Adapter&lt;PlaceYourOrderAdapter.MyViewHolder&gt; {\n\n    private List&lt;Menu&gt; menuList;\n\n    public PlaceYourOrderAdapter(List&lt;Menu&gt; menuList) {\n        this.menuList = menuList;\n    }\n\n    public void updateData(List&lt;Menu&gt; menuList) {\n        this.menuList = menuList;\n        notifyDataSetChanged();\n    }\n\n    @NonNull\n    @Override\n    public PlaceYourOrderAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view  = LayoutInflater.from(parent.getContext()).inflate(R.layout.place_order_recycler_row, parent, false);\n        return  new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull PlaceYourOrderAdapter.MyViewHolder holder, int position) {\n        holder.menuName.setText(menuList.get(position).getName());\n        holder.menuPrice.setText(&quot;Harga: Rp.&quot;+String.format(&quot;%.2f&quot;, menuList.get(position).getPrice()*menuList.get(position).getTotalInCart()));\n        holder.menuQty.setText(&quot;Qty: &quot; + menuList.get(position).getTotalInCart());\n        Glide.with(holder.thumbImage)\n                .load(menuList.get(position).getUrl())\n                .into(holder.thumbImage);\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return menuList.size();\n    }\n\n    static class MyViewHolder extends RecyclerView.ViewHolder {\n        TextView menuName;\n        TextView  menuPrice;\n        TextView  menuQty;\n        ImageView thumbImage;\n\n        public MyViewHolder(View view) {\n            super(view);\n            menuName = view.findViewById(R.id.menuName);\n            menuPrice = view.findViewById(R.id.menuPrice);\n            menuQty = view.findViewById(R.id.menuQty);\n            thumbImage = view.findViewById(R.id.thumbImage);\n        }\n    }\n}\n</code></pre>\n<p>so the qty value is basically original read value subtracted by the amount of item being chosen, not sure if there is anyway to change the qty value without changing the menu.JSON file however any lead that been found around is a way to change specific line of a single line only and it must be chosen specifically</p>\n<p>NB: I am dumb at this but at least i understand what the code do when i see it in action</p>\n<p>i haven't really try anything because iam pretty oblivious because i don't understand what i should pass along to make the stuff possible however modifying and adding stuff is different story since i expect everyone can do that after understanding the code, what i expect is\n<a href=\"https://i.stack.imgur.com/hFTty.png\" rel=\"nofollow noreferrer\">what being chosen orderf.activity</a>\n<a href=\"https://i.stack.imgur.com/oKdRl.png\" rel=\"nofollow noreferrer\">what must change menu.json</a> or\n<a href=\"https://i.stack.imgur.com/rU3ax.png\" rel=\"nofollow noreferrer\">what must actually change on app menu.activity</a>\nsince after reading some other post i see that stream only read the json file once</p>\n"},{"tags":["java","maven","javafx"],"owner":{"account_id":23400708,"reputation":1,"user_id":17463914,"display_name":"VIMAL JITH K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687283132,"creation_date":1687250978,"question_id":76512929,"body_markdown":"Graphics Device initialization failed for :  d3d, sw\r\n```\r\nError initializing QuantumRenderer: no suitable pipeline found\r\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:280)\r\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:243)\r\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:260)\r\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\r\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\r\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\r\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\r\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:94)\r\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:124)\r\n    at java.base/java.lang.Thread.run(Thread.java:835)\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.RuntimeException: No toolkit found\r\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:272)\r\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\r\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\r\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\r\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\r\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n    ... 5 more\r\n```\r\nPurpose of this application is:\r\njar of this application will get downloaded by clicking a link on ui screen.\r\ndouble clicking the jar of the application should open the screen in user&#39;s local system.\r\nin order to work all these it should work in eclipse. I have created a maven project with the above dependencies and created 3 buttons to test the application. but getting this error while running \r\n\r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/HbvSL.jpg","title":"Getting &quot;Graphics Device initialization failed for : d3d, sw&quot; in eclipse for maven project to develop a desktop application","body":"<p>Graphics Device initialization failed for :  d3d, sw</p>\n<pre><code>Error initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:280)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:243)\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:260)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:94)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:124)\n    at java.base/java.lang.Thread.run(Thread.java:835)\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: No toolkit found\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:272)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    ... 5 more\n</code></pre>\n<p>Purpose of this application is:\njar of this application will get downloaded by clicking a link on ui screen.\ndouble clicking the jar of the application should open the screen in user's local system.\nin order to work all these it should work in eclipse. I have created a maven project with the above dependencies and created 3 buttons to test the application. but getting this error while running</p>\n<p><a href=\"https://i.stack.imgur.com/HbvSL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HbvSL.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-mvc","spring-security","tomcat9"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687210809,"post_id":76509461,"comment_id":134902196,"body_markdown":"this is basic spring security. you are trying to access `GET /events/1` you are not authenticated so spring redirects you to `/error` (this is how basic spring boot error handling works and can be read in the spring boot error chapter which you should of read before asking here)  and sincle `/error` is not permitted, you get a 401. You havn&#39;t defined how you are going to authenticate, so how do you think spring security is magically going to call your `CustomAuthenticationProvider`","body":"this is basic spring security. you are trying to access <code>GET &#47;events&#47;1</code> you are not authenticated so spring redirects you to <code>&#47;error</code> (this is how basic spring boot error handling works and can be read in the spring boot error chapter which you should of read before asking here)  and sincle <code>&#47;error</code> is not permitted, you get a 401. You havn&#39;t defined how you are going to authenticate, so how do you think spring security is magically going to call your <code>CustomAuthenticationProvider</code>"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687210882,"post_id":76509461,"comment_id":134902209,"body_markdown":"Tbh, writing custom security should be done after you have tried using the regular built in spring security login methods, and used the already prebuilt `AuthenticationProviders` if you dont know anything about spring security, dont try to build custom security first thing, security is complicated, and its usually very bad practice building custom security if you have no idea what you are doing. And if you still insist on doing it, then read the documentation.","body":"Tbh, writing custom security should be done after you have tried using the regular built in spring security login methods, and used the already prebuilt <code>AuthenticationProviders</code> if you dont know anything about spring security, dont try to build custom security first thing, security is complicated, and its usually very bad practice building custom security if you have no idea what you are doing. And if you still insist on doing it, then read the documentation."},{"owner":{"account_id":20593880,"reputation":23,"user_id":15116847,"display_name":"mvarta"},"score":0,"creation_date":1687211444,"post_id":76509461,"comment_id":134902282,"body_markdown":"The whole point of the CustomAuthentication is that it should call that to do the authentication, its ordered number 1 too.  The error should come when it calls the authenticate method of CustomAuthenticationProvider for anything under /events.","body":"The whole point of the CustomAuthentication is that it should call that to do the authentication, its ordered number 1 too.  The error should come when it calls the authenticate method of CustomAuthenticationProvider for anything under /events."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687211619,"post_id":76509461,"comment_id":134902310,"body_markdown":"i&#39;ll explain this once again.... what type of `authentication`  basic auth, formlogin, supplied username password, opague token, jwt token, SAML, certificate, session cookie? You have not defined HOW the client should authenticate. So how would spring security know what type?","body":"i&#39;ll explain this once again.... what type of <code>authentication</code>  basic auth, formlogin, supplied username password, opague token, jwt token, SAML, certificate, session cookie? You have not defined HOW the client should authenticate. So how would spring security know what type?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687211855,"post_id":76509461,"comment_id":134902338,"body_markdown":"i suggest you read this https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html and then try implementing FormLogin which is the most common so you understand https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html","body":"i suggest you read this <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a> and then try implementing FormLogin which is the most common so you understand <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a>"},{"owner":{"account_id":20593880,"reputation":23,"user_id":15116847,"display_name":"mvarta"},"score":0,"creation_date":1687212265,"post_id":76509461,"comment_id":134902393,"body_markdown":"It doesnt matter if its httpBasic or token.  I am using a PreAuthenticatedAuthenticationToken provider, so I expect that whatever is passed in is matching that.","body":"It doesnt matter if its httpBasic or token.  I am using a PreAuthenticatedAuthenticationToken provider, so I expect that whatever is passed in is matching that."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687214052,"post_id":76509461,"comment_id":134902612,"body_markdown":"is matching what? still im going to repeat it once again and this is the last comment im writing since you dont seem to be reading them. How do you expect spring to know when to run your provider when you havnt configured how spring security should authenticate the user.","body":"is matching what? still im going to repeat it once again and this is the last comment im writing since you dont seem to be reading them. How do you expect spring to know when to run your provider when you havnt configured how spring security should authenticate the user."},{"owner":{"account_id":20593880,"reputation":23,"user_id":15116847,"display_name":"mvarta"},"score":0,"creation_date":1687282705,"post_id":76509461,"comment_id":134913950,"body_markdown":"I dont and I beleive what Im looking for is a OncePerRequestFilter.  That way I can specify that it happens before UsernamePasswordAuthenticationFilter then in the custom authentication filter I can explicitly set the authentication result on the SecurityContextHolder.  I guess my next problem is If I want to move from MVC and Tomcat to Reactor and Netty then I have to reconfigure this all over again....","body":"I dont and I beleive what Im looking for is a OncePerRequestFilter.  That way I can specify that it happens before UsernamePasswordAuthenticationFilter then in the custom authentication filter I can explicitly set the authentication result on the SecurityContextHolder.  I guess my next problem is If I want to move from MVC and Tomcat to Reactor and Netty then I have to reconfigure this all over again...."}],"answers":[{"tags":[],"owner":{"account_id":20593880,"reputation":23,"user_id":15116847,"display_name":"mvarta"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687282853,"creation_date":1687282853,"answer_id":76517207,"question_id":76509461,"body_markdown":"By using the following I can acheive it without explicitly configuring an authentication mechanism/protocol for the custom provider.  \r\n\r\n        public class CustomAuthenticationFilter extends OncePerRequestFilter {\r\n    \r\n    }\r\n\r\nThis way I can set the authentication on the SecurityContextHolder once I decided what type of authentication I want to do.  It also guarantees that whatever webClient I use with any Authorization header type set I can inspect and call the correct underlying function.","title":"Spring Security 6 not calling my CustomAuthenticationProvider","body":"<p>By using the following I can acheive it without explicitly configuring an authentication mechanism/protocol for the custom provider.</p>\n<pre><code>    public class CustomAuthenticationFilter extends OncePerRequestFilter {\n\n}\n</code></pre>\n<p>This way I can set the authentication on the SecurityContextHolder once I decided what type of authentication I want to do.  It also guarantees that whatever webClient I use with any Authorization header type set I can inspect and call the correct underlying function.</p>\n"}],"owner":{"account_id":20593880,"reputation":23,"user_id":15116847,"display_name":"mvarta"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687282853,"creation_date":1687201669,"question_id":76509461,"body_markdown":"I have a Spring SecurityConfiguration defined like this:\r\n\r\n        @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration {\r\n    \r\n        private final CustomAuthenticationProvider customAuthenticationProvider;\r\n    \r\n        @Autowired\r\n        public SecurityConfiguration(CustomAuthenticationProvider customAuthenticationProvider) {\r\n            this.customAuthenticationProvider = customAuthenticationProvider;\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                .cors(CorsConfigurer::disable) // Disable CORS\r\n                .csrf().disable()\r\n                .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                .authenticationProvider(customAuthenticationProvider)\r\n                .authorizeHttpRequests(authorizeRequests -&gt; authorizeRequests\r\n                    .requestMatchers(HttpMethod.GET, &quot;/health&quot;, &quot;/public/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/api/**&quot;, &quot;/events/**&quot;, &quot;/competition/**&quot;).authenticated()\r\n                )\r\n                .httpBasic());\r\n    \r\n            return http.build();\r\n        }\r\n       \r\n    }\r\n\r\nThe requests under /static and /public are being permitted correctly, however anything under /events, /api, /competition are hitting the AnnoymousAuthenticationFilter.  \r\nHere are the logs for a request to /events/1\r\n\r\n        20:05:06.483 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /events/1\r\n    20:05:06.483 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\r\n    20:05:06.484 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\r\n    20:05:06.486 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\r\n    20:05:06.487 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\r\n    20:05:06.488 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\r\n    20:05:06.490 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error\r\n    20:05:06.491 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    20:05:06.492 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    20:05:06.493 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    20:05:06.495 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    20:05:06.498 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    20:05:06.498 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\r\n\r\n","title":"Spring Security 6 not calling my CustomAuthenticationProvider","body":"<p>I have a Spring SecurityConfiguration defined like this:</p>\n<pre><code>    @Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    private final CustomAuthenticationProvider customAuthenticationProvider;\n\n    @Autowired\n    public SecurityConfiguration(CustomAuthenticationProvider customAuthenticationProvider) {\n        this.customAuthenticationProvider = customAuthenticationProvider;\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .cors(CorsConfigurer::disable) // Disable CORS\n            .csrf().disable()\n            .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n            .authenticationProvider(customAuthenticationProvider)\n            .authorizeHttpRequests(authorizeRequests -&gt; authorizeRequests\n                .requestMatchers(HttpMethod.GET, &quot;/health&quot;, &quot;/public/**&quot;).permitAll()\n                .requestMatchers(&quot;/api/**&quot;, &quot;/events/**&quot;, &quot;/competition/**&quot;).authenticated()\n            )\n            .httpBasic());\n\n        return http.build();\n    }\n   \n}\n</code></pre>\n<p>The requests under /static and /public are being permitted correctly, however anything under /events, /api, /competition are hitting the AnnoymousAuthenticationFilter.<br />\nHere are the logs for a request to /events/1</p>\n<pre><code>    20:05:06.483 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /events/1\n20:05:06.483 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\n20:05:06.484 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\n20:05:06.486 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\n20:05:06.487 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\n20:05:06.488 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\n20:05:06.490 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error\n20:05:06.491 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n20:05:06.492 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n20:05:06.493 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n20:05:06.495 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n20:05:06.498 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n20:05:06.498 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\n</code></pre>\n"},{"tags":["java","spring","maven","log4j","spring-boot"],"comments":[{"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"score":0,"creation_date":1414504107,"post_id":26609879,"comment_id":41831843,"body_markdown":"What server are you running this on? FYI, by default Maven does not copy anything from src/main/java into your application. Therefore you should keep log4j.properties, etc in src/main/resources","body":"What server are you running this on? FYI, by default Maven does not copy anything from src/main/java into your application. Therefore you should keep log4j.properties, etc in src/main/resources"},{"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"score":0,"creation_date":1414504489,"post_id":26609879,"comment_id":41832084,"body_markdown":"I uses spring embed tomcat, I run my Application.java as java application to boot my app. BTW, I also copy that properties into webapp/WEB-INF, but no luck :(","body":"I uses spring embed tomcat, I run my Application.java as java application to boot my app. BTW, I also copy that properties into webapp/WEB-INF, but no luck :("},{"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"score":0,"creation_date":1414505179,"post_id":26609879,"comment_id":41832556,"body_markdown":"log4j.properties must be available on the class path. The WEB-INF directory is not (normally) on the class path. If you run your application with `-Dlog4j.debug` on the command line you will discover what log4j thinks is happening (if anything at all).","body":"log4j.properties must be available on the class path. The WEB-INF directory is not (normally) on the class path. If you run your application with <code>-Dlog4j.debug</code> on the command line you will discover what log4j thinks is happening (if anything at all)."},{"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"score":0,"creation_date":1414506781,"post_id":26609879,"comment_id":41833696,"body_markdown":"@SteveC, Would you please give me the full command how to run my application with -Dlog4j.debug? BTW, I uses Spring boot, i don&#39;t know it it did something..","body":"@SteveC, Would you please give me the full command how to run my application with -Dlog4j.debug? BTW, I uses Spring boot, i don&#39;t know it it did something.."}],"answers":[{"comments":[{"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"score":1,"creation_date":1414507055,"post_id":26610977,"comment_id":41833905,"body_markdown":"Sorry for the typo in the questions, I did add what you refer in my web.xml, but no luck. Also, I am using spring boot as well as spring mvc, so actually, I do not put anything special in the web.xml, I run the app with an Application.java","body":"Sorry for the typo in the questions, I did add what you refer in my web.xml, but no luck. Also, I am using spring boot as well as spring mvc, so actually, I do not put anything special in the web.xml, I run the app with an Application.java"},{"owner":{"account_id":1232348,"reputation":3075,"user_id":1233661,"accept_rate":67,"display_name":"Alex Burdusel"},"score":0,"creation_date":1426062212,"post_id":26610977,"comment_id":46212694,"body_markdown":"@Jaskey did you figure this out? I am facing the same issue with spring-boot.","body":"@Jaskey did you figure this out? I am facing the same issue with spring-boot."}],"tags":[],"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426064232,"creation_date":1414506727,"answer_id":26610977,"question_id":26609879,"body_markdown":"**UPDATE**\r\n\r\n&gt;By default, If you use the ‘Starter POMs’, Logback will be used for logging\r\n\r\n(From: [Spring Boot Reference, Chapter 25 Logging][1])\r\n\r\nSo either you configure your logging via logback `logback.xml` or you include the log4j libs. (when you need more help with including the lib then please post your pom.xml)\r\n\r\n*I reccomend to use logback (and slf4j)*\r\n\r\n---\r\n**OLD:**\r\n\r\n* put the `log4j.properties` file in `src\\main\\resources` (not in `...\\java`)\r\n* make sure that it is named `log4j.properties` (in your question you named the file `log4j.propertie`)\r\n* add this lines to your `web.xml`\r\n\r\nweb.xml:\r\n\r\n      &lt;context-param&gt;\r\n          &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;\r\n          &lt;param-value&gt;/WEB-INF/classes/log4j.properties&lt;/param-value&gt;\r\n      &lt;/context-param&gt;\r\n    \r\n      &lt;listener&gt;\r\n          &lt;listener-class&gt;org.springframework.web.util.Log4jConfigListener&lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n\r\n(@see https://stackoverflow.com/q/4400583/280244)\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html","title":"Log4j seems not to work in Spring Boot","body":"<p><strong>UPDATE</strong></p>\n\n<blockquote>\n  <p>By default, If you use the ‘Starter POMs’, Logback will be used for logging</p>\n</blockquote>\n\n<p>(From: <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">Spring Boot Reference, Chapter 25 Logging</a>)</p>\n\n<p>So either you configure your logging via logback <code>logback.xml</code> or you include the log4j libs. (when you need more help with including the lib then please post your pom.xml)</p>\n\n<p><em>I reccomend to use logback (and slf4j)</em></p>\n\n<hr>\n\n<p><strong>OLD:</strong></p>\n\n<ul>\n<li>put the <code>log4j.properties</code> file in <code>src\\main\\resources</code> (not in <code>...\\java</code>)</li>\n<li>make sure that it is named <code>log4j.properties</code> (in your question you named the file <code>log4j.propertie</code>)</li>\n<li>add this lines to your <code>web.xml</code></li>\n</ul>\n\n<p>web.xml:</p>\n\n<pre><code>  &lt;context-param&gt;\n      &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;\n      &lt;param-value&gt;/WEB-INF/classes/log4j.properties&lt;/param-value&gt;\n  &lt;/context-param&gt;\n\n  &lt;listener&gt;\n      &lt;listener-class&gt;org.springframework.web.util.Log4jConfigListener&lt;/listener-class&gt;\n  &lt;/listener&gt;\n</code></pre>\n\n<p>(@see <a href=\"https://stackoverflow.com/q/4400583/280244\">Initializing Log4J with Spring?</a>)</p>\n"},{"tags":[],"owner":{"account_id":3128633,"reputation":39,"user_id":2647016,"display_name":"barnesjon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429572251,"creation_date":1429572251,"answer_id":29760183,"question_id":26609879,"body_markdown":"I ran into this exact problem, it turned out that spring boot includes Spring Boot Starter Logging and will ignore anything you add while that is still there. I was able to fix it by double clicking on my pom and clicking on Spring-Boot-Starter-Logging and then selecting &quot;edit starters&quot; then removing the spring boot starter logging. \r\n\r\nIf you are using some other kind of dependency management system the idea is the same, just carefully review anything that spring boot included in your project and make sure that log4J is the only logging system included.","title":"Log4j seems not to work in Spring Boot","body":"<p>I ran into this exact problem, it turned out that spring boot includes Spring Boot Starter Logging and will ignore anything you add while that is still there. I was able to fix it by double clicking on my pom and clicking on Spring-Boot-Starter-Logging and then selecting \"edit starters\" then removing the spring boot starter logging. </p>\n\n<p>If you are using some other kind of dependency management system the idea is the same, just carefully review anything that spring boot included in your project and make sure that log4J is the only logging system included.</p>\n"},{"comments":[{"owner":{"account_id":8998609,"reputation":5400,"user_id":6707985,"accept_rate":100,"display_name":"geisterfurz007"},"score":0,"creation_date":1518424046,"post_id":48742159,"comment_id":84483941,"body_markdown":"A link to a solution is welcome, but please ensure your answer is useful without it: [add context around the link](//meta.stackexchange.com/a/8259) so your fellow users will have some idea what it is and why it’s there, then quote the most relevant part of the page you&#39;re linking to in case the target page is unavailable. [Answers that are little more than a link may be deleted.](//stackoverflow.com/help/deleted-answers)","body":"A link to a solution is welcome, but please ensure your answer is useful without it: <a href=\"//meta.stackexchange.com/a/8259\">add context around the link</a> so your fellow users will have some idea what it is and why it’s there, then quote the most relevant part of the page you&#39;re linking to in case the target page is unavailable. <a href=\"//stackoverflow.com/help/deleted-answers\">Answers that are little more than a link may be deleted.</a>"}],"tags":[],"owner":{"account_id":3518477,"reputation":399,"user_id":2941355,"accept_rate":60,"display_name":"Rahul sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1518424896,"creation_date":1518424007,"answer_id":48742159,"question_id":26609879,"body_markdown":"If you are using log4j with spring-boot then you have to add dependency with &quot;exclusions&quot; in your pom.xml \r\n\r\n     &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n      **&lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;**\r\n    &lt;/dependency&gt;\r\n\r\n    **&lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;**\r\n\r\nPlease follow this. It will resolve your problem.\r\n\r\nhttp://www.atechref.com/blog/maven/spring-boot-using-log4j-logging/","title":"Log4j seems not to work in Spring Boot","body":"<p>If you are using log4j with spring-boot then you have to add dependency with \"exclusions\" in your pom.xml </p>\n\n<pre><code> &lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n  **&lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;**\n&lt;/dependency&gt;\n\n**&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\n  &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;**\n</code></pre>\n\n<p>Please follow this. It will resolve your problem.</p>\n\n<p><a href=\"http://www.atechref.com/blog/maven/spring-boot-using-log4j-logging/\" rel=\"noreferrer\">http://www.atechref.com/blog/maven/spring-boot-using-log4j-logging/</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687460461,"post_id":76517193,"comment_id":134943798,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76517193/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":4403014,"reputation":1,"user_id":3588117,"display_name":"Nahid.h"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687282744,"creation_date":1687282744,"answer_id":76517193,"question_id":26609879,"body_markdown":"First create log4j2-apring.xml in resources dir.\r\nsecond exclude default sprint bood logback from starter in pom.xml then add log4j starter to po.xml.\r\n\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;","title":"Log4j seems not to work in Spring Boot","body":"<p>First create log4j2-apring.xml in resources dir.\nsecond exclude default sprint bood logback from starter in pom.xml then add log4j starter to po.xml.</p>\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18859,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1687282744,"creation_date":1414503649,"question_id":26609879,"body_markdown":"I tried to add `Spring` and `Maven` to one of my existing project, and I find that no matter how I configure, the logging seems to be out of my control.\r\n\r\nI tried putting the `log4j.properties` in `src/main/java` and `src/main/resources`(Actually I am not sure where to put). \r\n\r\nBut when I use `Log4j` to log, the log displays in the console only, though I configure it into a file. \r\n\r\nMy `log4j.properties` is like:\r\n\r\n    log4j.rootLogger=DEBUG, A1 \r\n    log4j.appender.A1=org.apache.log4j.FileAppender\r\n    log4j.appender.A1.encoding=utf-8\r\n    log4j.appender.A1.File=E:\\Programminglog\\debug.log \r\n    log4j.appender.A1.Threshold = DEBUG \r\n    log4j.appender.A1.Append=true\r\n    log4j.appender.A1.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.A1.layout.ConversionPattern = %-d{yyyy-MM-dd HH:mm:ss}  [ %t:%r ] - [ %p ]  %m%n\r\n\r\n\r\nI am not sure if I miss something or `Spring` overrides some settings, since I am new to `Maven` and `Spring`.\r\n\r\nPS: Before I add dependencies of `Log4j` in `pom`.xml,no compile errors though I use `org.apache.log4j.Logger` \r\n\r\nThis is how my application.java looks like:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan({&quot;hello&quot;,&quot;wodinow.weixin.jaskey&quot;})\r\n    public class Application extends WebMvcConfigurerAdapter  {\r\n    \r\n        public static void main(String[] args) {\r\n            ApplicationContext ctx = SpringApplication.run(Application.class, args);\r\n    \r\n            System.out.println(&quot;Let&#39;s inspect the beans provided by Spring Boot:&quot;);\r\n    \r\n            String[] beanNames = ctx.getBeanDefinitionNames();\r\n            Arrays.sort(beanNames);\r\n            for (String beanName : beanNames) {\r\n                System.out.println(beanName);\r\n            }\r\n            \r\n            LogUtil.info(&quot;Application Boots!&quot;);// here this line does not show in the file\r\n        }\r\n        \r\n        @Bean\r\n        public CommandService commandService(){\r\n        \treturn CommandService.getInstance();\r\n        }\r\n    }\r\n\r\n![enter image description here][1]\r\n\r\n  [1]: http://i.stack.imgur.com/KcFiC.jpg","title":"Log4j seems not to work in Spring Boot","body":"<p>I tried to add <code>Spring</code> and <code>Maven</code> to one of my existing project, and I find that no matter how I configure, the logging seems to be out of my control.</p>\n\n<p>I tried putting the <code>log4j.properties</code> in <code>src/main/java</code> and <code>src/main/resources</code>(Actually I am not sure where to put). </p>\n\n<p>But when I use <code>Log4j</code> to log, the log displays in the console only, though I configure it into a file. </p>\n\n<p>My <code>log4j.properties</code> is like:</p>\n\n<pre><code>log4j.rootLogger=DEBUG, A1 \nlog4j.appender.A1=org.apache.log4j.FileAppender\nlog4j.appender.A1.encoding=utf-8\nlog4j.appender.A1.File=E:\\Programminglog\\debug.log \nlog4j.appender.A1.Threshold = DEBUG \nlog4j.appender.A1.Append=true\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\nlog4j.appender.A1.layout.ConversionPattern = %-d{yyyy-MM-dd HH:mm:ss}  [ %t:%r ] - [ %p ]  %m%n\n</code></pre>\n\n<p>I am not sure if I miss something or <code>Spring</code> overrides some settings, since I am new to <code>Maven</code> and <code>Spring</code>.</p>\n\n<p>PS: Before I add dependencies of <code>Log4j</code> in <code>pom</code>.xml,no compile errors though I use <code>org.apache.log4j.Logger</code> </p>\n\n<p>This is how my application.java looks like:</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan({\"hello\",\"wodinow.weixin.jaskey\"})\npublic class Application extends WebMvcConfigurerAdapter  {\n\n    public static void main(String[] args) {\n        ApplicationContext ctx = SpringApplication.run(Application.class, args);\n\n        System.out.println(\"Let's inspect the beans provided by Spring Boot:\");\n\n        String[] beanNames = ctx.getBeanDefinitionNames();\n        Arrays.sort(beanNames);\n        for (String beanName : beanNames) {\n            System.out.println(beanName);\n        }\n\n        LogUtil.info(\"Application Boots!\");// here this line does not show in the file\n    }\n\n    @Bean\n    public CommandService commandService(){\n        return CommandService.getInstance();\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/KcFiC.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":1,"creation_date":1687357738,"post_id":76516498,"comment_id":134925957,"body_markdown":"Does this answer your question? [Customize lombok super builder](https://stackoverflow.com/questions/61658719/customize-lombok-super-builder)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61658719/customize-lombok-super-builder\">Customize lombok super builder</a>"}],"owner":{"account_id":6112668,"reputation":839,"user_id":4768616,"accept_rate":54,"display_name":"Hoang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687282733,"creation_date":1687276526,"question_id":76516498,"body_markdown":"I use **@SuperBuilder()** in 2 class, I want override method build() of class child builder but it appear error &quot;**Abstract method &#39;build()&#39; cannot be accessed directly**&quot; in line super.build() in **ClassChild**\r\n\r\n    Version Lombok: 1.18.28\r\n    Version java: 17\r\n\r\n**ClassParent.java**\r\n\r\n```\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\npublic class ClassParent {\r\n    private String name;\r\n}\r\n```\r\n\r\n\r\n\r\n**ClassChild.java**\r\n```\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ClassChild extends ClassParent {\r\n    private int age;\r\n\r\n    public static ClassChildBuilder builder() {\r\n        return new BuilderCustom();\r\n    }\r\n\r\n    public static class BuilderCustom extends ClassChildBuilder {\r\n\r\n        public ClassChild build() {\r\n            ClassChild classChild = super.build();\r\n            return classChild;\r\n        }\r\n\r\n        @Override\r\n        protected ClassChildBuilder self() {\r\n            return this;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n**Main class**\r\n```\r\nClassChild classChild = ClassChild.builder().name(&quot;Tom&quot;).age(20).build();\r\n```\r\n\r\nHow should I fix to override the build() method success?\r\n\r\nThanks for reading.","title":"@SuperBuilder in lombok don&#39;t override method build()?","body":"<p>I use <strong>@SuperBuilder()</strong> in 2 class, I want override method build() of class child builder but it appear error &quot;<strong>Abstract method 'build()' cannot be accessed directly</strong>&quot; in line super.build() in <strong>ClassChild</strong></p>\n<pre><code>Version Lombok: 1.18.28\nVersion java: 17\n</code></pre>\n<p><strong>ClassParent.java</strong></p>\n<pre><code>@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class ClassParent {\n    private String name;\n}\n</code></pre>\n<p><strong>ClassChild.java</strong></p>\n<pre><code>@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ClassChild extends ClassParent {\n    private int age;\n\n    public static ClassChildBuilder builder() {\n        return new BuilderCustom();\n    }\n\n    public static class BuilderCustom extends ClassChildBuilder {\n\n        public ClassChild build() {\n            ClassChild classChild = super.build();\n            return classChild;\n        }\n\n        @Override\n        protected ClassChildBuilder self() {\n            return this;\n        }\n    }\n}\n</code></pre>\n<p><strong>Main class</strong></p>\n<pre><code>ClassChild classChild = ClassChild.builder().name(&quot;Tom&quot;).age(20).build();\n</code></pre>\n<p>How should I fix to override the build() method success?</p>\n<p>Thanks for reading.</p>\n"},{"tags":["java","maven","jenkins","nexus"],"comments":[{"owner":{"account_id":70017,"reputation":18878,"user_id":203458,"accept_rate":25,"display_name":"Kate Gregory"},"score":0,"creation_date":1353939769,"post_id":13564180,"comment_id":18587767,"body_markdown":"possible duplicate of [Multiple deployments in maven](http://stackoverflow.com/questions/635154/multiple-deployments-in-maven)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/635154/multiple-deployments-in-maven\">Multiple deployments in maven</a>"},{"owner":{"account_id":388070,"reputation":452,"user_id":746792,"display_name":"Siaynoq"},"score":0,"creation_date":1353942976,"post_id":13564180,"comment_id":18589370,"body_markdown":"Yeah, I checked that. Actually, the Wagon plugin recommended below might have the same functionality with `merge-maven-repos`, which might be usable for the other post. So worst case we need to implement a custom plugin, I was just wondering if there is a &quot;common way&quot; of doing it even with the help of Jenkins.","body":"Yeah, I checked that. Actually, the Wagon plugin recommended below might have the same functionality with <code>merge-maven-repos</code>, which might be usable for the other post. So worst case we need to implement a custom plugin, I was just wondering if there is a &quot;common way&quot; of doing it even with the help of Jenkins."}],"answers":[{"comments":[{"owner":{"account_id":388070,"reputation":452,"user_id":746792,"display_name":"Siaynoq"},"score":0,"creation_date":1353941648,"post_id":13564332,"comment_id":18588727,"body_markdown":"Thanks for the idea. This indeed looks useful, but I couldn&#39;t find any working example which basically &quot;replicates&quot; (or uploads) a subset of files (in this case main jar and pom.xml) to another repo (and to the same place in the hierarchy). Any hints?","body":"Thanks for the idea. This indeed looks useful, but I couldn&#39;t find any working example which basically &quot;replicates&quot; (or uploads) a subset of files (in this case main jar and pom.xml) to another repo (and to the same place in the hierarchy). Any hints?"}],"tags":[],"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687282123,"creation_date":1353930819,"answer_id":13564332,"question_id":13564180,"body_markdown":"You can use [Maven Wagon Plugin](https://www.mojohaus.org/wagon-maven-plugin/usage.html#:~:text=The%20Maven%20Wagon%20Plugin%2C%20as,of%20a%20repository%20using%20wagon.) and upload a single jar to a remote location on deploy phase. ","title":"Deploying Maven artifact to multiple repositories with different settings","body":"<p>You can use <a href=\"https://www.mojohaus.org/wagon-maven-plugin/usage.html#:%7E:text=The%20Maven%20Wagon%20Plugin%2C%20as,of%20a%20repository%20using%20wagon.\" rel=\"nofollow noreferrer\">Maven Wagon Plugin</a> and upload a single jar to a remote location on deploy phase.</p>\n"},{"comments":[{"owner":{"account_id":388070,"reputation":452,"user_id":746792,"display_name":"Siaynoq"},"score":0,"creation_date":1354008273,"post_id":13574048,"comment_id":18611876,"body_markdown":"Thanks! After understanding the repo-target/privilege/role/user hierarchy it was a piece of cake setting up Nexus to restrict specific users from accessing the source jars. I had some confusion about the difference of &quot;view&quot; (-&gt;able to view the directories) and &quot;read&quot; (-&gt;able to download the files), but otherwise it was really easy.","body":"Thanks! After understanding the repo-target/privilege/role/user hierarchy it was a piece of cake setting up Nexus to restrict specific users from accessing the source jars. I had some confusion about the difference of &quot;view&quot; (-&gt;able to view the directories) and &quot;read&quot; (-&gt;able to download the files), but otherwise it was really easy."},{"owner":{"account_id":174042,"reputation":2240,"user_id":403157,"accept_rate":84,"display_name":"Cleankod"},"score":0,"creation_date":1493984614,"post_id":13574048,"comment_id":74647158,"body_markdown":"The link is broken.","body":"The link is broken."},{"owner":{"account_id":46211,"reputation":29587,"user_id":136445,"accept_rate":70,"display_name":"Manfred Moser"},"score":0,"creation_date":1494429641,"post_id":13574048,"comment_id":74827342,"body_markdown":"Fixed the link @CleanKod","body":"Fixed the link @CleanKod"}],"tags":[],"owner":{"account_id":46211,"reputation":29587,"user_id":136445,"accept_rate":70,"display_name":"Manfred Moser"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1494429631,"creation_date":1353967961,"answer_id":13574048,"question_id":13564180,"body_markdown":"You can just handle this all in Nexus. Create a repository target that contains a pattern like the one used in the preconfigured example &quot;All but sources (Maven 2)&quot; and narrow that target down even further with another pattern that restricts the groupid, artifactid and maybe even version. \r\n\r\nThen create a privilege that uses that repository target and assign it to the user or role you want to have the respective access.\r\n\r\nNo need to do multiple deployments or some such.. \r\n\r\nSee http://books.sonatype.com/nexus-book/reference/repository-targets.html\r\n\r\n","title":"Deploying Maven artifact to multiple repositories with different settings","body":"<p>You can just handle this all in Nexus. Create a repository target that contains a pattern like the one used in the preconfigured example \"All but sources (Maven 2)\" and narrow that target down even further with another pattern that restricts the groupid, artifactid and maybe even version. </p>\n\n<p>Then create a privilege that uses that repository target and assign it to the user or role you want to have the respective access.</p>\n\n<p>No need to do multiple deployments or some such.. </p>\n\n<p>See <a href=\"http://books.sonatype.com/nexus-book/reference/repository-targets.html\" rel=\"nofollow noreferrer\">http://books.sonatype.com/nexus-book/reference/repository-targets.html</a></p>\n"}],"owner":{"account_id":388070,"reputation":452,"user_id":746792,"display_name":"Siaynoq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18287,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":13574048,"answer_count":2,"score":18,"last_activity_date":1687282123,"creation_date":1353930271,"question_id":13564180,"body_markdown":"We have numerous Java projects, which are CI built with Jenkins. These are deployed to our own Nexus server just fine.\r\nThe problem is, we need to provide these libraries to a third party, but without the source code.\r\nSo for each project, in Nexus we have:\r\n\r\n - *Releases* repository for our devs (includes deployed source code)\r\n - *Snapshots* repositories for our devs (includes deployed source code)\r\n - *Third party release* repository (only JAR + POM)\r\n - (and would be good to have): *Third party snapshot* repository (only JAR + POM) for third party nightly builds\r\n\r\nThe question is: how is this usually handled in Jenkins/Nexus world? I&#39;d prefer to have one single Job in Jenkins which handles the CI build and the release (artefact deployment) process &quot;automatically&quot;.\r\nCurrently I&#39;m using multiple `&lt;distributionManagement&gt;` profiles in our &quot;main root pom.xml&quot; (included by all projects):\r\n\r\n    [...]\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;default&lt;/id&gt;\r\n            &lt;distributionManagement&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;releases&lt;/id&gt;\r\n                    &lt;name&gt;Release&lt;/name&gt;\r\n                    &lt;url&gt;http://path/to/nexus/content/repositories/releases/&lt;/url&gt;\r\n                &lt;/repository&gt;\r\n                &lt;snapshotRepository&gt;\r\n                    &lt;id&gt;snapshots&lt;/id&gt;\r\n                    &lt;name&gt;Snapshot&lt;/name&gt;\r\n                    &lt;url&gt;http://path/to/nexus/content/repositories/snapshots/&lt;/url&gt;\r\n                    &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\r\n                &lt;/snapshotRepository&gt;\r\n            &lt;/distributionManagement&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;third-party&lt;/id&gt;\r\n            &lt;distributionManagement&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;releases&lt;/id&gt;\r\n                    &lt;name&gt;Release&lt;/name&gt;\r\n                    &lt;url&gt;http://path/to/nexus/content/repositories/third-party/&lt;/url&gt;\r\n                &lt;/repository&gt;\r\n                &lt;snapshotRepository&gt;\r\n                    &lt;id&gt;snapshots&lt;/id&gt;\r\n                    &lt;name&gt;Snapshot&lt;/name&gt;\r\n                    &lt;url&gt;http://path/to/nexus/content/repositories/third-party-snapshots/&lt;/url&gt;\r\n                    &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\r\n                &lt;/snapshotRepository&gt;\r\n            &lt;/distributionManagement&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\nFrom the Maven docs, it seems to be no way of using multiple repositories during the same build lifecycle, not to mention the fact that we need/don&#39;t need the source based on the target repo.\r\n\r\nI can do a trick with creating a Job in Jenkins, with the Maven &quot;Goals and options&quot;: `clean deploy -P third-party` and then adding the Post-build action - &quot;Deploy artifacts to Maven repository&quot; with the &quot;default&quot; data - but in this case, only SNAPSHOTs are going to both repo and artefacts released via [Jenkins Maven Release Plug-in][1] are going into one repository only.\r\n\r\nAny practical ideas how can I do this without overcomplicating our CI job hierarchy?\r\n\r\nThanks in advance!\r\n       \r\n  [1]: https://wiki.jenkins.io/display/JENKINS/M2+Release+Plugin &quot;Jenkins Maven Release Plug-in&quot;","title":"Deploying Maven artifact to multiple repositories with different settings","body":"<p>We have numerous Java projects, which are CI built with Jenkins. These are deployed to our own Nexus server just fine.\nThe problem is, we need to provide these libraries to a third party, but without the source code.\nSo for each project, in Nexus we have:</p>\n\n<ul>\n<li><em>Releases</em> repository for our devs (includes deployed source code)</li>\n<li><em>Snapshots</em> repositories for our devs (includes deployed source code)</li>\n<li><em>Third party release</em> repository (only JAR + POM)</li>\n<li>(and would be good to have): <em>Third party snapshot</em> repository (only JAR + POM) for third party nightly builds</li>\n</ul>\n\n<p>The question is: how is this usually handled in Jenkins/Nexus world? I'd prefer to have one single Job in Jenkins which handles the CI build and the release (artefact deployment) process \"automatically\".\nCurrently I'm using multiple <code>&lt;distributionManagement&gt;</code> profiles in our \"main root pom.xml\" (included by all projects):</p>\n\n<pre><code>[...]\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;default&lt;/id&gt;\n        &lt;distributionManagement&gt;\n            &lt;repository&gt;\n                &lt;id&gt;releases&lt;/id&gt;\n                &lt;name&gt;Release&lt;/name&gt;\n                &lt;url&gt;http://path/to/nexus/content/repositories/releases/&lt;/url&gt;\n            &lt;/repository&gt;\n            &lt;snapshotRepository&gt;\n                &lt;id&gt;snapshots&lt;/id&gt;\n                &lt;name&gt;Snapshot&lt;/name&gt;\n                &lt;url&gt;http://path/to/nexus/content/repositories/snapshots/&lt;/url&gt;\n                &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\n            &lt;/snapshotRepository&gt;\n        &lt;/distributionManagement&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;third-party&lt;/id&gt;\n        &lt;distributionManagement&gt;\n            &lt;repository&gt;\n                &lt;id&gt;releases&lt;/id&gt;\n                &lt;name&gt;Release&lt;/name&gt;\n                &lt;url&gt;http://path/to/nexus/content/repositories/third-party/&lt;/url&gt;\n            &lt;/repository&gt;\n            &lt;snapshotRepository&gt;\n                &lt;id&gt;snapshots&lt;/id&gt;\n                &lt;name&gt;Snapshot&lt;/name&gt;\n                &lt;url&gt;http://path/to/nexus/content/repositories/third-party-snapshots/&lt;/url&gt;\n                &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\n            &lt;/snapshotRepository&gt;\n        &lt;/distributionManagement&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n\n<p>From the Maven docs, it seems to be no way of using multiple repositories during the same build lifecycle, not to mention the fact that we need/don't need the source based on the target repo.</p>\n\n<p>I can do a trick with creating a Job in Jenkins, with the Maven \"Goals and options\": <code>clean deploy -P third-party</code> and then adding the Post-build action - \"Deploy artifacts to Maven repository\" with the \"default\" data - but in this case, only SNAPSHOTs are going to both repo and artefacts released via <a href=\"https://wiki.jenkins.io/display/JENKINS/M2+Release+Plugin\" rel=\"noreferrer\" title=\"Jenkins Maven Release Plug-in\">Jenkins Maven Release Plug-in</a> are going into one repository only.</p>\n\n<p>Any practical ideas how can I do this without overcomplicating our CI job hierarchy?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","excel","excel-formula","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1687322214,"post_id":76517077,"comment_id":134918475,"body_markdown":"Please make this question a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). Show the values referenced by the formula: `A10`, `A11`, `&#39;referral sheet 2&#39;!A1:A20`, `&#39;referral sheet 2&#39;!B1:B20`. And show the code which tries evaluating the formula.","body":"Please make this question a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>. Show the values referenced by the formula: <code>A10</code>, <code>A11</code>, <code>&#39;referral sheet 2&#39;!A1:A20</code>, <code>&#39;referral sheet 2&#39;!B1:B20</code>. And show the code which tries evaluating the formula."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1687322647,"post_id":76517077,"comment_id":134918509,"body_markdown":"Even in Excel this formula is not working very stable. `VALUE(A10&amp;A11)` will only work if both values in `A10` and `A11` are numeric. Else it will result in `#VALUE!` error. And if both values are numeric, the concatenated value cannot be found in `&#39;referral sheet 2&#39;!A1:A20&amp;referral sheet 2&#39;!B1:B20` as `&amp;` is a string concatenation operator. Searching a numeric value (`VALUE(A10&amp;A11)`) in an array of strings (`&#39;referral sheet 2&#39;!A1:A20&amp;referral sheet 2&#39;!B1:B20`) will always result in `#N/A`.","body":"Even in Excel this formula is not working very stable. <code>VALUE(A10&amp;A11)</code> will only work if both values in <code>A10</code> and <code>A11</code> are numeric. Else it will result in <code>#VALUE!</code> error. And if both values are numeric, the concatenated value cannot be found in <code>&#39;referral sheet 2&#39;!A1:A20&amp;referral sheet 2&#39;!B1:B20</code> as <code>&amp;</code> is a string concatenation operator. Searching a numeric value (<code>VALUE(A10&amp;A11)</code>) in an array of strings (<code>&#39;referral sheet 2&#39;!A1:A20&amp;referral sheet 2&#39;!B1:B20</code>) will always result in <code>#N&#47;A</code>."},{"owner":{"account_id":7588671,"reputation":29,"user_id":5756954,"accept_rate":60,"display_name":"Deepu"},"score":0,"creation_date":1687340062,"post_id":76517077,"comment_id":134921883,"body_markdown":"Hi @AxelRichter, I even tried with the string values and it was not working. Could you let me know if the conditional operator works fine in Apache POI ? Because I did not see any such examples online. Also there is no issues with the java code and it is working fine when I go with single cell value. The issue is when I use the concat","body":"Hi @AxelRichter, I even tried with the string values and it was not working. Could you let me know if the conditional operator works fine in Apache POI ? Because I did not see any such examples online. Also there is no issues with the java code and it is working fine when I go with single cell value. The issue is when I use the concat"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1687342382,"post_id":76517077,"comment_id":134922380,"body_markdown":"Do as I told in my first comment and I will answer. If you don&#39;t, I won&#39;t answer. Answers without having the complete issue as a reproducible example are waste of time.","body":"Do as I told in my first comment and I will answer. If you don&#39;t, I won&#39;t answer. Answers without having the complete issue as a reproducible example are waste of time."}],"owner":{"account_id":7588671,"reputation":29,"user_id":5756954,"accept_rate":60,"display_name":"Deepu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687281658,"creation_date":1687281658,"question_id":76517077,"body_markdown":"I am having an excel sheet with a set of formulas and I am using Apache POI to process and evaluate the formulas. Everything is working fine except one cell which has the match formula which combines 2 other cell values. The formula is working fine in excel but the formula evaluation is not working using the Apache POI. If I am having only 1 cell value in the match formula then the Apache POI formula evaluation is working fine but it cannot process multiple cell values. Let me know how to use the conditional statement(here in my case its &amp;) with multiple cell values and evaluate using Apache POI. Below are the 2 formulas in excel\r\n\r\n``` =MATCH(VALUE(A10),(&#39;referral sheet 2&#39;!A1:A20),0)``` -&gt; Working in Apache POI formula evaluation\r\n\r\n```=MATCH(VALUE(A10&amp;A11),(&#39;referral sheet 2&#39;!A1:A20&amp;&#39;referral sheet 2&#39;!B1:B20),0)``` -&gt; Not working in Apache POI formula evaluation since combining multiple cell values\r\n``` &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; ``\r\n\r\n\r\n","title":"How to combine multiple cell values in the MATCH function in excel using Apache POI","body":"<p>I am having an excel sheet with a set of formulas and I am using Apache POI to process and evaluate the formulas. Everything is working fine except one cell which has the match formula which combines 2 other cell values. The formula is working fine in excel but the formula evaluation is not working using the Apache POI. If I am having only 1 cell value in the match formula then the Apache POI formula evaluation is working fine but it cannot process multiple cell values. Let me know how to use the conditional statement(here in my case its &amp;) with multiple cell values and evaluate using Apache POI. Below are the 2 formulas in excel</p>\n<p><code> =MATCH(VALUE(A10),('referral sheet 2'!A1:A20),0)</code> -&gt; Working in Apache POI formula evaluation</p>\n<p><code>=MATCH(VALUE(A10&amp;A11),('referral sheet 2'!A1:A20&amp;'referral sheet 2'!B1:B20),0)</code> -&gt; Not working in Apache POI formula evaluation since combining multiple cell values</p>\n<pre><code>        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt; ``\n\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1687240875,"post_id":76511749,"comment_id":134904803,"body_markdown":"*A class in our project (UserEvent) has more than 200 fields* - well that is bad design.","body":"<i>A class in our project (UserEvent) has more than 200 fields</i> - well that is bad design."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1687241008,"post_id":76511749,"comment_id":134904816,"body_markdown":"why not just update the DB?","body":"why not just update the DB?"},{"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"score":1,"creation_date":1687241376,"post_id":76511749,"comment_id":134904862,"body_markdown":"are you saying that the end user can modify 200 fields in one round trip ? Then I&#39;m afraid it is not only the data model which is badly designed but also your UI","body":"are you saying that the end user can modify 200 fields in one round trip ? Then I&#39;m afraid it is not only the data model which is badly designed but also your UI"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1687241382,"post_id":76511749,"comment_id":134904863,"body_markdown":"@ScaryWombat We update the DB at the end every time, irrespective of whether anything has changed or not. The comparison is done for some other heavy, time-consuming processing, sending data to other internal services, and some third-party apps. If the value has changed, then we have to do that process, if not, then we just update one table.","body":"@ScaryWombat We update the DB at the end every time, irrespective of whether anything has changed or not. The comparison is done for some other heavy, time-consuming processing, sending data to other internal services, and some third-party apps. If the value has changed, then we have to do that process, if not, then we just update one table."},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1687241450,"post_id":76511749,"comment_id":134904875,"body_markdown":"What are your concerns? Performance? Code readability? Time spent writing code?","body":"What are your concerns? Performance? Code readability? Time spent writing code?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1687241485,"post_id":76511749,"comment_id":134904883,"body_markdown":"Just an idea - serialize both objects with Jackson ObjectMapper and compare the resulted JSON strings?","body":"Just an idea - serialize both objects with Jackson ObjectMapper and compare the resulted JSON strings?"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1687241549,"post_id":76511749,"comment_id":134904889,"body_markdown":"@CodeScale The user usually updates 1 or 2 secondary columns at a time. But we don&#39;t know which columns are configured on the UI, so we have to check all. I accept it is bad design, but this is just the tip of the iceberg, we have multiple classes with 30-50k lines of code.","body":"@CodeScale The user usually updates 1 or 2 secondary columns at a time. But we don&#39;t know which columns are configured on the UI, so we have to check all. I accept it is bad design, but this is just the tip of the iceberg, we have multiple classes with 30-50k lines of code."},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1687241633,"post_id":76511749,"comment_id":134904898,"body_markdown":"@RickyMo Code readability and performance. The code is already difficult to read, don&#39;t want to make it worse.","body":"@RickyMo Code readability and performance. The code is already difficult to read, don&#39;t want to make it worse."},{"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"score":0,"creation_date":1687241706,"post_id":76511749,"comment_id":134904907,"body_markdown":"&quot;have to write comparisons for 200+ fields. &quot; If you want to check for equality you have to compare anyway...  If code readability is your concern you have to accept that your class structure is not good and fix it first","body":"&quot;have to write comparisons for 200+ fields. &quot; If you want to check for equality you have to compare anyway...  If code readability is your concern you have to accept that your class structure is not good and fix it first"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1687241911,"post_id":76511749,"comment_id":134904937,"body_markdown":"@Mar-Z iirc, Jackson is an external library, so cannot really use that. Would have been much easier if we were using spring. Something like that in core java?","body":"@Mar-Z iirc, Jackson is an external library, so cannot really use that. Would have been much easier if we were using spring. Something like that in core java?"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1687242132,"post_id":76511749,"comment_id":134904979,"body_markdown":"Do you find [getDeclaredFields](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredFields--) useful?","body":"Do you find <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredFields--\" rel=\"nofollow noreferrer\">getDeclaredFields</a> useful?"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1687242430,"post_id":76511749,"comment_id":134905039,"body_markdown":"@RickyMo will look into it.","body":"@RickyMo will look into it."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1687243273,"post_id":76511749,"comment_id":134905176,"body_markdown":"You  could use lombok `@EqualsAndHashCode` that would generate convenient methods for you","body":"You  could use lombok <code>@EqualsAndHashCode</code> that would generate convenient methods for you"}],"answers":[{"comments":[{"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"score":0,"creation_date":1687242352,"post_id":76511866,"comment_id":134905027,"body_markdown":"How this might be more efficient than classic equals() ?","body":"How this might be more efficient than classic equals() ?"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1687246284,"post_id":76511866,"comment_id":134905670,"body_markdown":"@CodeScale it can&#39;t","body":"@CodeScale it can&#39;t"},{"owner":{"account_id":13441392,"reputation":2711,"user_id":9698467,"display_name":"Stefan Zhelyazkov"},"score":1,"creation_date":1687247032,"post_id":76511866,"comment_id":134905813,"body_markdown":"People downvoting this answer, but honestly, it is not that bad. It is the shortest among all answers and uses a smart trick, i.e. converting the POJO to JSON. People argue that it is inefficient, but the price paid is probably in the milliseconds needed for constructing the JSON and comparing it. All modern machines can do this blazingly fast. To really argue about inefficiencies, the author needs to tell us *how often* comparison between 2 objects will be called.","body":"People downvoting this answer, but honestly, it is not that bad. It is the shortest among all answers and uses a smart trick, i.e. converting the POJO to JSON. People argue that it is inefficient, but the price paid is probably in the milliseconds needed for constructing the JSON and comparing it. All modern machines can do this blazingly fast. To really argue about inefficiencies, the author needs to tell us <i>how often</i> comparison between 2 objects will be called."}],"tags":[],"owner":{"account_id":28754982,"reputation":52,"user_id":22022198,"display_name":"Jiraiya"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1687242195,"creation_date":1687242195,"answer_id":76511866,"question_id":76511749,"body_markdown":"You can use following to compare if they are equal using `GSON` lib\r\n\r\n```\r\npublic static boolean comparePOJO(Object obj1, Object obj2) {\r\n    return new Gson().toJson(obj1).equals(new Gson().toJson(obj2));\r\n}\r\n```","title":"How to compare 2 java POJO objects of the same class having 200+ fields?","body":"<p>You can use following to compare if they are equal using <code>GSON</code> lib</p>\n<pre><code>public static boolean comparePOJO(Object obj1, Object obj2) {\n    return new Gson().toJson(obj1).equals(new Gson().toJson(obj2));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"score":0,"creation_date":1687243460,"post_id":76511930,"comment_id":134905207,"body_markdown":"IMO This is not making the code more &quot;readable&quot;","body":"IMO This is not making the code more &quot;readable&quot;"},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":1,"creation_date":1687243684,"post_id":76511930,"comment_id":134905246,"body_markdown":"@CodeScale Seems pretty obvious what the thing does. And I haven&#39;t done much java programming in a long while. Certainly better than having 200 explicit comparisons (is any field missing? is there a typo somewhere? good luck finding those problems)","body":"@CodeScale Seems pretty obvious what the thing does. And I haven&#39;t done much java programming in a long while. Certainly better than having 200 explicit comparisons (is any field missing? is there a typo somewhere? good luck finding those problems)"},{"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"score":0,"creation_date":1687243779,"post_id":76511930,"comment_id":134905256,"body_markdown":"@Voo Missing fields and typo are not concerns anymore with IDE.","body":"@Voo Missing fields and typo are not concerns anymore with IDE."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":1,"creation_date":1687243873,"post_id":76511930,"comment_id":134905273,"body_markdown":"@Code Which IDE tells you &quot;only 199 of 200 fields are part of this comparison&quot;? Sure you can use it to generate the code once, but good luck noticing when a new field is added afterwards that someone forgot to extend the equals check.","body":"@Code Which IDE tells you &quot;only 199 of 200 fields are part of this comparison&quot;? Sure you can use it to generate the code once, but good luck noticing when a new field is added afterwards that someone forgot to extend the equals check."},{"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"score":0,"creation_date":1687244230,"post_id":76511930,"comment_id":134905330,"body_markdown":"@Voo to be honest we have to admit that whatever the option you take it does not solve the main problem here. Your concern is not mine because this solution is just supporting the existing bad design.","body":"@Voo to be honest we have to admit that whatever the option you take it does not solve the main problem here. Your concern is not mine because this solution is just supporting the existing bad design."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1687246849,"post_id":76511930,"comment_id":134905774,"body_markdown":"@Code The great thing about legacy code is that you have to do your best in an imperfect environment. My problem was simply with the claim that 200 explicit comparisons would be more readable than a generic solution when in fact you&#39;d just have to have faith that the programmer used the right tool correctly to generate the code - that&#39;s the opposite of readable.","body":"@Code The great thing about legacy code is that you have to do your best in an imperfect environment. My problem was simply with the claim that 200 explicit comparisons would be more readable than a generic solution when in fact you&#39;d just have to have faith that the programmer used the right tool correctly to generate the code - that&#39;s the opposite of readable."},{"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"score":0,"creation_date":1687247784,"post_id":76511930,"comment_id":134905947,"body_markdown":"Prepare the class to be ready to support additional attributes on top of already 200 attributes is not my vision of &quot;doing our best&quot;. I&#39;m not blaming here just personal opinion even if I respect your point and somehow understand it.","body":"Prepare the class to be ready to support additional attributes on top of already 200 attributes is not my vision of &quot;doing our best&quot;. I&#39;m not blaming here just personal opinion even if I respect your point and somehow understand it."},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1687248143,"post_id":76511930,"comment_id":134906026,"body_markdown":"I admit I would encourage refactoring or even explicit comparison more than this &quot;solution&quot;. But someone have to come up with some way to get the job done in the authentic situation. We&#39;ve all been there as an employee... Just raising another possible option here.","body":"I admit I would encourage refactoring or even explicit comparison more than this &quot;solution&quot;. But someone have to come up with some way to get the job done in the authentic situation. We&#39;ve all been there as an employee... Just raising another possible option here."}],"tags":[],"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"comment_count":8,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1687242887,"creation_date":1687242887,"answer_id":76511930,"question_id":76511749,"body_markdown":"You can compare all fields in two objects of the same class with the help of [getDeclaredFields](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredFields--)\r\n\r\n```java\r\npublic static &lt;T&gt; boolean compareObjects(T obj1, T obj2) throws IllegalAccessException {\r\n    if (obj1 == null || obj2 == null || !obj1.getClass().equals(obj2.getClass())) {\r\n        return false;\r\n    }\r\n\r\n    Field[] fields = obj1.getClass().getDeclaredFields();\r\n    for (Field field : fields) {\r\n        Object value1 = field.get(obj1);\r\n        Object value2 = field.get(obj2);\r\n        if (value1 == null &amp;&amp; value2 != null || value1 != null &amp;&amp; !value1.equals(value2)) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n```\r\nAlternatively make this as the `equals` function of your specific class.","title":"How to compare 2 java POJO objects of the same class having 200+ fields?","body":"<p>You can compare all fields in two objects of the same class with the help of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredFields--\" rel=\"nofollow noreferrer\">getDeclaredFields</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; boolean compareObjects(T obj1, T obj2) throws IllegalAccessException {\n    if (obj1 == null || obj2 == null || !obj1.getClass().equals(obj2.getClass())) {\n        return false;\n    }\n\n    Field[] fields = obj1.getClass().getDeclaredFields();\n    for (Field field : fields) {\n        Object value1 = field.get(obj1);\n        Object value2 = field.get(obj2);\n        if (value1 == null &amp;&amp; value2 != null || value1 != null &amp;&amp; !value1.equals(value2)) {\n            return false;\n        }\n    }\n\n    return true;\n}\n</code></pre>\n<p>Alternatively make this as the <code>equals</code> function of your specific class.</p>\n"},{"comments":[{"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"score":0,"creation_date":1687243628,"post_id":76511988,"comment_id":134905237,"body_markdown":"This is the way to go. Even if the first viable reaction should be &quot;refactor it&quot;.","body":"This is the way to go. Even if the first viable reaction should be &quot;refactor it&quot;."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1687243775,"post_id":76511988,"comment_id":134905255,"body_markdown":"And just wanted to add: Whatever you do, *don&#39;t* solve this using reflection or even JSON serialization. It makes no sense, doesn&#39;t perform, and will certainly come back to bite you later.","body":"And just wanted to add: Whatever you do, <i>don&#39;t</i> solve this using reflection or even JSON serialization. It makes no sense, doesn&#39;t perform, and will certainly come back to bite you later."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687243419,"creation_date":1687243419,"answer_id":76511988,"question_id":76511749,"body_markdown":"Using an equals method is definitely the way to go. You don&#39;t have to write it yourself. Your IDE can generate it, or you can use a tool like [Lombok](https://projectlombok.org/features/EqualsAndHashCode) to generate it at compile time. The latter has the advantage of automatically updating if fields are added or removed.","title":"How to compare 2 java POJO objects of the same class having 200+ fields?","body":"<p>Using an equals method is definitely the way to go. You don't have to write it yourself. Your IDE can generate it, or you can use a tool like <a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"nofollow noreferrer\">Lombok</a> to generate it at compile time. The latter has the advantage of automatically updating if fields are added or removed.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687281471,"creation_date":1687244860,"answer_id":76512154,"question_id":76511749,"body_markdown":"Since you are only checking the equality of the data, I wouldn&#39;t recommend overriding _equals_.  \r\nThis is typically used to determine object equality, which is a slightly different context.\r\n\r\nJust create a separate procedure.\r\n\r\nAn optimal approach, considering the database will have numerous values, would be to create a class to implement the procedure.  \r\nThis will allow for the re-use of the variables during iterative invocations, thus reducing memory consumption.\r\n\r\nIn this example I created a class, _UserEventUtil_, with a single method, _checkEquality_.  \r\nIt utilizes _[reflection](https://docs.oracle.com/javase/tutorial/reflect/)_ to compare the opposing fields.\r\n\r\nThis should improve the scalability, and hence remove the requirement to explicitly type every field.\r\n\r\nIf you have any objects other than the basic _scalar_ types here, you can just add them to the _if-conditional_ checks, utilizing whatever data they may have to prove equality.\r\n\r\n```java\r\nimport java.lang.reflect.Field;\r\n\r\npublic class UserEventUtil {\r\n    UserEvent userEventA, userEventB;\r\n    Field[] fieldsA, fieldsB;\r\n    Field fieldA, fieldB;\r\n    Class&lt;?&gt; type;\r\n    String stringA, stringB;\r\n    int index;\r\n\r\n    public UserEventUtil(UserEvent userEventA, UserEvent userEventB) {\r\n        this.userEventA = userEventA;\r\n        this.userEventB = userEventB;\r\n    }\r\n\r\n    boolean checkEquality() throws IllegalAccessException {\r\n        fieldsA = userEventA.getClass().getDeclaredFields();\r\n        fieldsB = userEventB.getClass().getDeclaredFields();\r\n        for (index = 0; index &lt; fieldsA.length; index++) {\r\n            fieldA = fieldsA[index];\r\n            fieldB = fieldsB[index];\r\n            type = fieldA.getType();\r\n            if (type == String.class) {\r\n                stringA = (String) fieldA.get(userEventA);\r\n                stringB = (String) fieldB.get(userEventB);\r\n                if (stringA == null &amp;&amp; stringB == null) continue;\r\n                if (stringA == null || stringB == null) return false;\r\n                else if (!stringA.equals(stringB)) return false;\r\n            } else if (type == int.class) {\r\n                if (fieldA.getInt(userEventA) != fieldB.getInt(userEventB))\r\n                    return false;\r\n            } else if (type == float.class) {\r\n                if (fieldA.getFloat(userEventA) != fieldB.getFloat(userEventB))\r\n                    return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nAnd, to simulate the _UserEvent_ class, I created a basic object with some bunk fields.\r\n\r\n```java\r\nclass UserEvent {\r\n    String valueA, valueB, valueC;\r\n    int valueD, valueE, valueF;\r\n    float valueG, valueH, valueI;\r\n}\r\n```\r\n\r\nHere is an example of comparing three separate values.\r\n\r\n```java\r\nUserEvent userEventA = new UserEvent();\r\nuserEventA.valueA = &quot;a&quot;;\r\nuserEventA.valueB = &quot;b&quot;;\r\nuserEventA.valueC = &quot;c&quot;;\r\nuserEventA.valueD = 1;\r\nuserEventA.valueE = 2;\r\nuserEventA.valueF = 3;\r\nuserEventA.valueG = 4.5f;\r\nuserEventA.valueH = 6.7f;\r\nuserEventA.valueI = 8.9f;\r\n\r\nUserEvent userEventB = new UserEvent();\r\nuserEventB.valueA = &quot;a&quot;;\r\nuserEventB.valueB = &quot;b&quot;;\r\nuserEventB.valueC = &quot;c&quot;;\r\nuserEventB.valueD = 1;\r\nuserEventB.valueE = 2;\r\nuserEventB.valueF = 3;\r\nuserEventB.valueG = 4.5f;\r\nuserEventB.valueH = 6.7f;\r\nuserEventB.valueI = 8.9f;\r\n\r\nUserEvent userEventC = new UserEvent();\r\nuserEventC.valueA = null;\r\nuserEventC.valueB = &quot;b&quot;;\r\nuserEventC.valueC = &quot;c&quot;;\r\nuserEventC.valueD = 1;\r\nuserEventC.valueE = 2;\r\nuserEventC.valueF = 3;\r\nuserEventC.valueG = 4.5f;\r\nuserEventC.valueH = 6.7f;\r\nuserEventC.valueI = 8.9f;\r\n\r\nUserEventUtil util;\r\n\r\nutil = new UserEventUtil(userEventA, userEventB);\r\nSystem.out.println(&quot;util.checkEquality(), userEventA and userEventB = &quot; + util.checkEquality());\r\n\r\nutil = new UserEventUtil(userEventB, userEventC);\r\nSystem.out.println(&quot;util.checkEquality(), userEventB and userEventC = &quot; + util.checkEquality());\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nutil.checkEquality(), userEventA and userEventB = true\r\nutil.checkEquality(), userEventB and userEventC = false\r\n```","title":"How to compare 2 java POJO objects of the same class having 200+ fields?","body":"<p>Since you are only checking the equality of the data, I wouldn't recommend overriding <em>equals</em>.<br />\nThis is typically used to determine object equality, which is a slightly different context.</p>\n<p>Just create a separate procedure.</p>\n<p>An optimal approach, considering the database will have numerous values, would be to create a class to implement the procedure.<br />\nThis will allow for the re-use of the variables during iterative invocations, thus reducing memory consumption.</p>\n<p>In this example I created a class, <em>UserEventUtil</em>, with a single method, <em>checkEquality</em>.<br />\nIt utilizes <em><a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"nofollow noreferrer\">reflection</a></em> to compare the opposing fields.</p>\n<p>This should improve the scalability, and hence remove the requirement to explicitly type every field.</p>\n<p>If you have any objects other than the basic <em>scalar</em> types here, you can just add them to the <em>if-conditional</em> checks, utilizing whatever data they may have to prove equality.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Field;\n\npublic class UserEventUtil {\n    UserEvent userEventA, userEventB;\n    Field[] fieldsA, fieldsB;\n    Field fieldA, fieldB;\n    Class&lt;?&gt; type;\n    String stringA, stringB;\n    int index;\n\n    public UserEventUtil(UserEvent userEventA, UserEvent userEventB) {\n        this.userEventA = userEventA;\n        this.userEventB = userEventB;\n    }\n\n    boolean checkEquality() throws IllegalAccessException {\n        fieldsA = userEventA.getClass().getDeclaredFields();\n        fieldsB = userEventB.getClass().getDeclaredFields();\n        for (index = 0; index &lt; fieldsA.length; index++) {\n            fieldA = fieldsA[index];\n            fieldB = fieldsB[index];\n            type = fieldA.getType();\n            if (type == String.class) {\n                stringA = (String) fieldA.get(userEventA);\n                stringB = (String) fieldB.get(userEventB);\n                if (stringA == null &amp;&amp; stringB == null) continue;\n                if (stringA == null || stringB == null) return false;\n                else if (!stringA.equals(stringB)) return false;\n            } else if (type == int.class) {\n                if (fieldA.getInt(userEventA) != fieldB.getInt(userEventB))\n                    return false;\n            } else if (type == float.class) {\n                if (fieldA.getFloat(userEventA) != fieldB.getFloat(userEventB))\n                    return false;\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>And, to simulate the <em>UserEvent</em> class, I created a basic object with some bunk fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class UserEvent {\n    String valueA, valueB, valueC;\n    int valueD, valueE, valueF;\n    float valueG, valueH, valueI;\n}\n</code></pre>\n<p>Here is an example of comparing three separate values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>UserEvent userEventA = new UserEvent();\nuserEventA.valueA = &quot;a&quot;;\nuserEventA.valueB = &quot;b&quot;;\nuserEventA.valueC = &quot;c&quot;;\nuserEventA.valueD = 1;\nuserEventA.valueE = 2;\nuserEventA.valueF = 3;\nuserEventA.valueG = 4.5f;\nuserEventA.valueH = 6.7f;\nuserEventA.valueI = 8.9f;\n\nUserEvent userEventB = new UserEvent();\nuserEventB.valueA = &quot;a&quot;;\nuserEventB.valueB = &quot;b&quot;;\nuserEventB.valueC = &quot;c&quot;;\nuserEventB.valueD = 1;\nuserEventB.valueE = 2;\nuserEventB.valueF = 3;\nuserEventB.valueG = 4.5f;\nuserEventB.valueH = 6.7f;\nuserEventB.valueI = 8.9f;\n\nUserEvent userEventC = new UserEvent();\nuserEventC.valueA = null;\nuserEventC.valueB = &quot;b&quot;;\nuserEventC.valueC = &quot;c&quot;;\nuserEventC.valueD = 1;\nuserEventC.valueE = 2;\nuserEventC.valueF = 3;\nuserEventC.valueG = 4.5f;\nuserEventC.valueH = 6.7f;\nuserEventC.valueI = 8.9f;\n\nUserEventUtil util;\n\nutil = new UserEventUtil(userEventA, userEventB);\nSystem.out.println(&quot;util.checkEquality(), userEventA and userEventB = &quot; + util.checkEquality());\n\nutil = new UserEventUtil(userEventB, userEventC);\nSystem.out.println(&quot;util.checkEquality(), userEventB and userEventC = &quot; + util.checkEquality());\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>util.checkEquality(), userEventA and userEventB = true\nutil.checkEquality(), userEventB and userEventC = false\n</code></pre>\n"}],"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1687281471,"creation_date":1687240739,"question_id":76511749,"body_markdown":"**1/2 Context**\r\n\r\nPlease keep in mind this is for a legacy project and cannot really refactor/alter existing code/tables. Mostly have to write on top of existing code.\r\n\r\nA class in our project (UserEvent) has more than 200 fields (~225). The object represents the table of the same name in the database and each field in the class represents each column. Fields/columns can be divided into 2 parts:\r\n\r\n1. main columns (around 50 columns) - id, name, start date, end date, create date, bunch of foreign keys etc\r\n2. secondary columns (around 170 columns) - so if this were defined today you&#39;d have created one JSON column for this and be done with it. But the table was created a long time back (15 years), so to accommodate any dynamic input, we have a lot of placeholder columns, multiple columns of each datatype, like - number1, number2....number25, date1, date2.....date25, string1, string2......string25. These make up the secondary columns.\r\n\r\nuse case:\r\n\r\n1. user updates an existing row from the UI and sends it to the backend (he may or may not change any value)\r\n2. in the backend, we have to fetch the same row from db. so we have 2 objects of the same class - userEventUI and userEventDB.\r\n3. in the existing code, all the main columns of both objects are being compared one by one in an if condition id==id &amp;&amp; name==name &amp;&amp; .....\r\n4. if all are equal then we do not proceed further, if even one is different, we do some processing.\r\n\r\n**2/2 My issue**\r\n\r\nIn step 3 above, so far we were only comparing the main columns and not the secondary columns. But now the requirement is to check for secondary columns too. I do not want to add 170 additional &amp;&amp;s to the existing IF condition. What other way is there? Two approaches that I have in mind:\r\n\r\n1. Override equals and hashCode, that hasn&#39;t been done so far. The issue I have with the approach is that it is almost the same as the existing issue, have to write comparisons for 200+ fields.\r\n2. Not a lot better from 1, but to add a hash function to the UserEvent class. The function will concatenate all the fields of the class and generate a hash using some algorithm (MD5 maybe). I can compare the hashes of userEventUI and userEventDB in step 3 to see if something is updated.\r\n\r\nIs there some other way? Any opinions?","title":"How to compare 2 java POJO objects of the same class having 200+ fields?","body":"<p><strong>1/2 Context</strong></p>\n<p>Please keep in mind this is for a legacy project and cannot really refactor/alter existing code/tables. Mostly have to write on top of existing code.</p>\n<p>A class in our project (UserEvent) has more than 200 fields (~225). The object represents the table of the same name in the database and each field in the class represents each column. Fields/columns can be divided into 2 parts:</p>\n<ol>\n<li>main columns (around 50 columns) - id, name, start date, end date, create date, bunch of foreign keys etc</li>\n<li>secondary columns (around 170 columns) - so if this were defined today you'd have created one JSON column for this and be done with it. But the table was created a long time back (15 years), so to accommodate any dynamic input, we have a lot of placeholder columns, multiple columns of each datatype, like - number1, number2....number25, date1, date2.....date25, string1, string2......string25. These make up the secondary columns.</li>\n</ol>\n<p>use case:</p>\n<ol>\n<li>user updates an existing row from the UI and sends it to the backend (he may or may not change any value)</li>\n<li>in the backend, we have to fetch the same row from db. so we have 2 objects of the same class - userEventUI and userEventDB.</li>\n<li>in the existing code, all the main columns of both objects are being compared one by one in an if condition id==id &amp;&amp; name==name &amp;&amp; .....</li>\n<li>if all are equal then we do not proceed further, if even one is different, we do some processing.</li>\n</ol>\n<p><strong>2/2 My issue</strong></p>\n<p>In step 3 above, so far we were only comparing the main columns and not the secondary columns. But now the requirement is to check for secondary columns too. I do not want to add 170 additional &amp;&amp;s to the existing IF condition. What other way is there? Two approaches that I have in mind:</p>\n<ol>\n<li>Override equals and hashCode, that hasn't been done so far. The issue I have with the approach is that it is almost the same as the existing issue, have to write comparisons for 200+ fields.</li>\n<li>Not a lot better from 1, but to add a hash function to the UserEvent class. The function will concatenate all the fields of the class and generate a hash using some algorithm (MD5 maybe). I can compare the hashes of userEventUI and userEventDB in step 3 to see if something is updated.</li>\n</ol>\n<p>Is there some other way? Any opinions?</p>\n"},{"tags":["java","spring-boot","circuit-breaker","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":15696710,"reputation":36,"user_id":11326015,"display_name":"Guhan Sundaresan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687281168,"creation_date":1687281168,"answer_id":76517013,"question_id":76513874,"body_markdown":"Did you try using the resilience4j Decorators.withFallback option? As mentioned here: https://reflectoring.io/circuitbreaker-with-resilience4j/\r\nYou can try something like decorating a Supplier for your service call \r\n\r\n    Supplier&lt;String&gt; supplier= () -&gt; service.generateNameBasedOnInputArgumets(args);\r\n    Supplier&lt;String&gt; decoratedSupplier= Decorators\r\n      .ofSupplier(supplier)\r\n      .withCircuitBreaker(circuitBreaker)\r\n      .withFallback(CallNotPermittedException.class,\r\n                    e -&gt; myFallbackMethod())\r\n      .decorate();\r\n    decoratedSupplier.get()\r\n\r\nbear with any syntax errors, I didn&#39;t compile the above.","title":"How to register circuit breaker fallback using resilence4j api?","body":"<p>Did you try using the resilience4j Decorators.withFallback option? As mentioned here: <a href=\"https://reflectoring.io/circuitbreaker-with-resilience4j/\" rel=\"nofollow noreferrer\">https://reflectoring.io/circuitbreaker-with-resilience4j/</a>\nYou can try something like decorating a Supplier for your service call</p>\n<pre><code>Supplier&lt;String&gt; supplier= () -&gt; service.generateNameBasedOnInputArgumets(args);\nSupplier&lt;String&gt; decoratedSupplier= Decorators\n  .ofSupplier(supplier)\n  .withCircuitBreaker(circuitBreaker)\n  .withFallback(CallNotPermittedException.class,\n                e -&gt; myFallbackMethod())\n  .decorate();\ndecoratedSupplier.get()\n</code></pre>\n<p>bear with any syntax errors, I didn't compile the above.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687281168,"creation_date":1687257685,"question_id":76513874,"body_markdown":"Initially I used spring boot configuration for circuit breaker. \r\n\r\n    @CircuitBreaker(name = &quot;myCircuitBreaker&quot;, fallbackMethod = &quot;myFallbackMethod&quot;)\r\n\r\nThen I realized that I need to create circuit breakers dynamically\r\n\r\nI have a code like this:\r\n\r\n    CircuitBreaker circuitBreaker = circuitBreakerRegistry.circuitBreaker(generateNameBasedOnInputArgumets());\r\n    Runnable decoratedRunnable = CircuitBreaker\r\n            .decorateRunnable(circuitBreaker, () -&gt; executeSomeCode());\r\n    Try.runRunnable(decoratedRunnable).getOrElseThrow(e -&gt; {           \r\n        throw new RuntimeException(e);\r\n    });\r\n\r\n\r\nI can&#39;t understand how can I register analog of fallback method. Could you please give me a piece of advice ?\r\n","title":"How to register circuit breaker fallback using resilence4j api?","body":"<p>Initially I used spring boot configuration for circuit breaker.</p>\n<pre><code>@CircuitBreaker(name = &quot;myCircuitBreaker&quot;, fallbackMethod = &quot;myFallbackMethod&quot;)\n</code></pre>\n<p>Then I realized that I need to create circuit breakers dynamically</p>\n<p>I have a code like this:</p>\n<pre><code>CircuitBreaker circuitBreaker = circuitBreakerRegistry.circuitBreaker(generateNameBasedOnInputArgumets());\nRunnable decoratedRunnable = CircuitBreaker\n        .decorateRunnable(circuitBreaker, () -&gt; executeSomeCode());\nTry.runRunnable(decoratedRunnable).getOrElseThrow(e -&gt; {           \n    throw new RuntimeException(e);\n});\n</code></pre>\n<p>I can't understand how can I register analog of fallback method. Could you please give me a piece of advice ?</p>\n"},{"tags":["java","variables","loops","for-loop"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1335931121,"post_id":10407505,"comment_id":13426152,"body_markdown":"the code you&#39;ve posted already does that, what do you need?","body":"the code you&#39;ve posted already does that, what do you need?"}],"answers":[{"comments":[{"owner":{"account_id":1052316,"reputation":638,"user_id":1055906,"accept_rate":73,"display_name":"DannyF247"},"score":0,"creation_date":1335931228,"post_id":10407513,"comment_id":13426172,"body_markdown":"WOW that was easy, thanks so much :D I thought I tried every combination, I guess I forgot one :) I will accept as best answer once it lets me (12 mins).","body":"WOW that was easy, thanks so much :D I thought I tried every combination, I guess I forgot one :) I will accept as best answer once it lets me (12 mins)."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1335931994,"post_id":10407513,"comment_id":13426281,"body_markdown":"Perhaps it is worth mentioning that only local variables require explicit initialization as stated in [JLS](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5). Since class and instance variables are explicitly initialized and parameters receive a value through their corresponding argument.","body":"Perhaps it is worth mentioning that only local variables require explicit initialization as stated in <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5\" rel=\"nofollow noreferrer\">JLS</a>. Since class and instance variables are explicitly initialized and parameters receive a value through their corresponding argument."}],"tags":[],"owner":{"account_id":930187,"reputation":14302,"user_id":960195,"display_name":"Adam Mihalcin"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1336015444,"creation_date":1335931132,"answer_id":10407513,"question_id":10407505,"body_markdown":"You&#39;re close.  You need to change the first line to\r\n\r\n    String playerlist = &quot;&quot;;\r\n\r\nIn Java it&#39;s illegal to use a variable before it&#39;s initialized, and the line\r\n\r\n    playerlist += p.getDisplayName() + &quot;, &quot;;\r\n\r\ndesugars(*) to\r\n\r\n    String temp = playerlist;\r\n    playerlist = temp + (p.getDisplayName() + &quot;, &quot;);\r\n\r\nOnce you initialize `playerlist`, you are able to read off its contents into the temporary variable, and then update `playerlist`.\r\n\r\nThere are two higher-level suggestions, though.\r\n\r\n1. If you have a join method available, as some libraries provide (as do the the [.NET][1] and [Python][2] platforms), you can just use a join, which is easier to read.\r\n2. However, if you don&#39;t have a join method available (AFAIK, the Java standard library provides no such thing), you should use a [StringBuilder][3], consistent with @anubhava&#39;s suggestion.  You&#39;ll get better performance on large numbers of strings, and the code is easier to understand, which is a win-win.\r\n\r\n---\r\nEDIT: As @edalorzo rightly mentions in the comments, you will only get an error for not initializing a *local* variable, and both static and instance fields are automatically initialized.  Specifically, numeric types (`int`, `long`, `double`, etc.) are initialized to 0, booleans are initialized to `false`, and reference types are initialized to `null`.\r\n\r\nThe spec explicitly describes the automatic initialization of fields, so you can rely on it, but it&#39;s rarely what you want.  Normally, you will want a non-default value of the field when you use it later, since `null` isn&#39;t terribly useful (and many languages, particularly functional languages like Standard ML, go without `null` altogether).  So I would recommend initializing all the fields of your objects in the constructor.\r\n\r\n---\r\n(*):  The &quot;desugaring&quot; I show above is almost accurate: in truth, `playerlist` is evaluated only once, which doesn&#39;t affect the behavior of this particular program.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/system.string.join.aspx\r\n  [2]: http://docs.python.org/library/stdtypes.html#str.join\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/lang/StringBuilder.html","title":"Java - Access variable inside and outside of for-loop","body":"<p>You're close.  You need to change the first line to</p>\n\n<pre><code>String playerlist = \"\";\n</code></pre>\n\n<p>In Java it's illegal to use a variable before it's initialized, and the line</p>\n\n<pre><code>playerlist += p.getDisplayName() + \", \";\n</code></pre>\n\n<p>desugars(*) to</p>\n\n<pre><code>String temp = playerlist;\nplayerlist = temp + (p.getDisplayName() + \", \");\n</code></pre>\n\n<p>Once you initialize <code>playerlist</code>, you are able to read off its contents into the temporary variable, and then update <code>playerlist</code>.</p>\n\n<p>There are two higher-level suggestions, though.</p>\n\n<ol>\n<li>If you have a join method available, as some libraries provide (as do the the <a href=\"http://msdn.microsoft.com/en-us/library/system.string.join.aspx\" rel=\"nofollow\">.NET</a> and <a href=\"http://docs.python.org/library/stdtypes.html#str.join\" rel=\"nofollow\">Python</a> platforms), you can just use a join, which is easier to read.</li>\n<li>However, if you don't have a join method available (AFAIK, the Java standard library provides no such thing), you should use a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow\">StringBuilder</a>, consistent with @anubhava's suggestion.  You'll get better performance on large numbers of strings, and the code is easier to understand, which is a win-win.</li>\n</ol>\n\n<hr>\n\n<p>EDIT: As @edalorzo rightly mentions in the comments, you will only get an error for not initializing a <em>local</em> variable, and both static and instance fields are automatically initialized.  Specifically, numeric types (<code>int</code>, <code>long</code>, <code>double</code>, etc.) are initialized to 0, booleans are initialized to <code>false</code>, and reference types are initialized to <code>null</code>.</p>\n\n<p>The spec explicitly describes the automatic initialization of fields, so you can rely on it, but it's rarely what you want.  Normally, you will want a non-default value of the field when you use it later, since <code>null</code> isn't terribly useful (and many languages, particularly functional languages like Standard ML, go without <code>null</code> altogether).  So I would recommend initializing all the fields of your objects in the constructor.</p>\n\n<hr>\n\n<p>(*):  The \"desugaring\" I show above is almost accurate: in truth, <code>playerlist</code> is evaluated only once, which doesn't affect the behavior of this particular program.</p>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1335931234,"creation_date":1335931234,"answer_id":10407526,"question_id":10407505,"body_markdown":"If you initialize your variable outside loop you can get that:\r\n\r\n    String playerlist = &quot;&quot;;\r\n\r\nBut since you are manipulating Strings it will be much better to use [StringBuilder][1] instead of String. Reason is the String is immutable and you will be creating a new String in each iteration inside for loop. However StringBuilder is mutable and has various overloaded `append` methods to support your operation. Using StringBuilder your code will become like this:\r\n\r\n    StringBuilder playerlist = new StringBuilder();\r\n\r\n    for (Player p : allplayers) {\r\n        playerlist.append(p.getDisplayName()).append(&quot;, &quot;);\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuilder.html","title":"Java - Access variable inside and outside of for-loop","body":"<p>If you initialize your variable outside loop you can get that:</p>\n\n<pre><code>String playerlist = \"\";\n</code></pre>\n\n<p>But since you are manipulating Strings it will be much better to use <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuilder.html\" rel=\"noreferrer\">StringBuilder</a> instead of String. Reason is the String is immutable and you will be creating a new String in each iteration inside for loop. However StringBuilder is mutable and has various overloaded <code>append</code> methods to support your operation. Using StringBuilder your code will become like this:</p>\n\n<pre><code>StringBuilder playerlist = new StringBuilder();\n\nfor (Player p : allplayers) {\n    playerlist.append(p.getDisplayName()).append(\", \");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":930187,"reputation":14302,"user_id":960195,"display_name":"Adam Mihalcin"},"score":0,"creation_date":1335931725,"post_id":10407556,"comment_id":13426242,"body_markdown":"-1 Initializing `playerlist` to `null` will cause incorrect behavior (the literal string &quot;null&quot; at the beginning of the resulting string).  See http://stackoverflow.com/a/693617/960195.","body":"-1 Initializing <code>playerlist</code> to <code>null</code> will cause incorrect behavior (the literal string &quot;null&quot; at the beginning of the resulting string).  See <a href=\"http://stackoverflow.com/a/693617/960195\">stackoverflow.com/a/693617/960195</a>."},{"owner":{"account_id":417757,"reputation":6800,"user_id":793934,"accept_rate":63,"display_name":"Sam"},"score":0,"creation_date":1335933143,"post_id":10407556,"comment_id":13426458,"body_markdown":"`playList` local variable may be empty so a String variable instantiated un-useful. In this sample `sendMessage` method has to check `null` state of incoming value.","body":"<code>playList</code> local variable may be empty so a String variable instantiated un-useful. In this sample <code>sendMessage</code> method has to check <code>null</code> state of incoming value."}],"tags":[],"owner":{"account_id":417757,"reputation":6800,"user_id":793934,"accept_rate":63,"display_name":"Sam"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1335931523,"creation_date":1335931523,"answer_id":10407556,"question_id":10407505,"body_markdown":"The local variable `playerlist` may not have been initialized. In java `for` loop statement,local variables must first initialize and then use in loop block. You have to initialize `playerlist`. You can use following code:\r\n\r\n    String playerlist = null;\r\n    \r\n    for(Player p : allplayers)\r\n    {\r\n        playerlist += p.getDisplayName() + &quot;, &quot;;\r\n    }\r\n    \r\n    sendMessage(playerlist);\r\n\r\nBut it is better use following code:\r\n\r\n    StringBuilder playerlist = new StringBuilder();\r\n    \r\n    for(Player p : allplayers)\r\n    {\r\n        playerlist.append(p.getDisplayName()).append(&quot;, &quot;);\r\n    }\r\n    sendMessage(playerlist.toString());\r\n","title":"Java - Access variable inside and outside of for-loop","body":"<p>The local variable <code>playerlist</code> may not have been initialized. In java <code>for</code> loop statement,local variables must first initialize and then use in loop block. You have to initialize <code>playerlist</code>. You can use following code:</p>\n\n<pre><code>String playerlist = null;\n\nfor(Player p : allplayers)\n{\n    playerlist += p.getDisplayName() + \", \";\n}\n\nsendMessage(playerlist);\n</code></pre>\n\n<p>But it is better use following code:</p>\n\n<pre><code>StringBuilder playerlist = new StringBuilder();\n\nfor(Player p : allplayers)\n{\n    playerlist.append(p.getDisplayName()).append(\", \");\n}\nsendMessage(playerlist.toString());\n</code></pre>\n"}],"owner":{"account_id":1052316,"reputation":638,"user_id":1055906,"accept_rate":73,"display_name":"DannyF247"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34858,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10407513,"answer_count":3,"score":1,"last_activity_date":1687280635,"creation_date":1335931052,"question_id":10407505,"body_markdown":"    String playerlist;\r\n\r\n\tfor(Player p : allplayers){\r\n\t\tplayerlist += p.getDisplayName() + &quot;, &quot;;\r\n\t}\r\n\r\n\tsendMessage(playerlist);\r\n\r\nHow can I accomplish this? I need to have a variable inside my for-loop, and then access it outside of the loop.\r\n\r\nThanks, and sorry if this is a very nooby question. I just can&#39;t figure it out.","title":"Java - Access variable inside and outside of for-loop","body":"<pre><code>String playerlist;\n\nfor(Player p : allplayers){\n    playerlist += p.getDisplayName() + \", \";\n}\n\nsendMessage(playerlist);\n</code></pre>\n\n<p>How can I accomplish this? I need to have a variable inside my for-loop, and then access it outside of the loop.</p>\n\n<p>Thanks, and sorry if this is a very nooby question. I just can't figure it out.</p>\n"},{"tags":["java","exception","oracle-cloud-infrastructure","object-storage"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":2,"creation_date":1686926846,"post_id":76491234,"comment_id":134870153,"body_markdown":"Did you check/debug if all parameters that you pass are non-null ?","body":"Did you check/debug if all parameters that you pass are non-null ?"},{"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"score":0,"creation_date":1686930061,"post_id":76491234,"comment_id":134870834,"body_markdown":"Yes, all parameters are as expected","body":"Yes, all parameters are as expected"}],"answers":[{"tags":[],"owner":{"account_id":10380842,"reputation":36,"user_id":7655676,"display_name":"vibh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687280115,"creation_date":1687280115,"answer_id":76516892,"question_id":76491234,"body_markdown":"The endpoint requires the region to be defined. You can set the region in one of the following two ways: \r\n- when you are defining the provider\r\n```\r\nAuthenticationDetailsProvider provider = SimpleAuthenticationDetailsProvider.builder()\r\n        .tenantId(ociConfig.get(&quot;tenancy&quot;))\r\n        .userId(ociConfig.get(&quot;user&quot;))\r\n        .fingerprint(ociConfig.get(&quot;fingerprint&quot;))\r\n        .privateKeySupplier(privateKeySupplier)\r\n        .region(Region.US_PHOENIX_1)     // please add your region here\r\n        .build();\r\n``` \r\n-  when you are setting up the client\r\n```\r\nobjectStorageClient = ObjectStorageClient\r\n        .builder()\r\n        .region(Region.US_PHOENIX_1)      // please add your region here\r\n        .build(provider);\r\n```\r\n\r\n&gt; I&#39;ve used the config file with the python sdk and it was successful\r\n\r\nThe config file that was used for Python SDK would have information about the region. You can try to use the same config file for OCI Java SDK by using `ConfigFileAuthenticationDetailsProvider` instead of `SimpleAuthenticationDetailsProvider`. For example on how to use `ConfigFileAuthenticationDetailsProvider` for Object Storage client, please refer [ObjectStorageGetNamespaceExample.java](https://github.com/oracle/oci-java-sdk/blob/master/bmc-examples/src/main/java/ObjectStorageGetNamespaceExample.java)","title":"Oracle Object Storage Client NullPointerException on request","body":"<p>The endpoint requires the region to be defined. You can set the region in one of the following two ways:</p>\n<ul>\n<li>when you are defining the provider</li>\n</ul>\n<pre><code>AuthenticationDetailsProvider provider = SimpleAuthenticationDetailsProvider.builder()\n        .tenantId(ociConfig.get(&quot;tenancy&quot;))\n        .userId(ociConfig.get(&quot;user&quot;))\n        .fingerprint(ociConfig.get(&quot;fingerprint&quot;))\n        .privateKeySupplier(privateKeySupplier)\n        .region(Region.US_PHOENIX_1)     // please add your region here\n        .build();\n</code></pre>\n<ul>\n<li>when you are setting up the client</li>\n</ul>\n<pre><code>objectStorageClient = ObjectStorageClient\n        .builder()\n        .region(Region.US_PHOENIX_1)      // please add your region here\n        .build(provider);\n</code></pre>\n<blockquote>\n<p>I've used the config file with the python sdk and it was successful</p>\n</blockquote>\n<p>The config file that was used for Python SDK would have information about the region. You can try to use the same config file for OCI Java SDK by using <code>ConfigFileAuthenticationDetailsProvider</code> instead of <code>SimpleAuthenticationDetailsProvider</code>. For example on how to use <code>ConfigFileAuthenticationDetailsProvider</code> for Object Storage client, please refer <a href=\"https://github.com/oracle/oci-java-sdk/blob/master/bmc-examples/src/main/java/ObjectStorageGetNamespaceExample.java\" rel=\"nofollow noreferrer\">ObjectStorageGetNamespaceExample.java</a></p>\n"}],"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76516892,"answer_count":1,"score":1,"last_activity_date":1687280115,"creation_date":1686926377,"question_id":76491234,"body_markdown":"I am setting up my object storage client as described by the docs:\r\n\r\n- I&#39;m using sdk version 3.17.0\r\n- Tested in java 17 &amp; 19\r\n- I&#39;ve used the config file with the python sdk and it was succesfull\r\n\r\n```java\r\nConfigFile ociConfig = ConfigFileReader.parse(configFile.getAbsolutePath(), profile);\r\n\r\nSupplier&lt;InputStream&gt; privateKeySupplier = new SimplePrivateKeySupplier(ociConfig.get(&quot;key_file&quot;));\r\nAuthenticationDetailsProvider provider = SimpleAuthenticationDetailsProvider.builder()\r\n        .tenantId(ociConfig.get(&quot;tenancy&quot;))\r\n        .userId(ociConfig.get(&quot;user&quot;))\r\n        .fingerprint(ociConfig.get(&quot;fingerprint&quot;))\r\n        .privateKeySupplier(privateKeySupplier)\r\n        .build();\r\n\r\nobjectStorageClient = ObjectStorageClient\r\n        .builder()\r\n        .build(provider);\r\n\r\nRuntime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n    if (objectStorageClient != null)\r\n        objectStorageClient.close();\r\n}));\r\n\r\nnamespace = handleResponse(objectStorageClient.getNamespace(GetNamespaceRequest.builder().build())).getValue();\r\n```\r\nWhen I try running the above code sample I get the following stack trace.\r\n```stacktrace\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;String.contains(java.lang.CharSequence)&quot; because &quot;endpoint&quot; is null\r\n        at com.oracle.bmc.http.internal.BaseClient.populateServiceParametersInEndpoint(BaseClient.java:215)\r\n        at com.oracle.bmc.objectstorage.ObjectStorageClient.getNamespace(ObjectStorageClient.java:874)\r\n```","title":"Oracle Object Storage Client NullPointerException on request","body":"<p>I am setting up my object storage client as described by the docs:</p>\n<ul>\n<li>I'm using sdk version 3.17.0</li>\n<li>Tested in java 17 &amp; 19</li>\n<li>I've used the config file with the python sdk and it was succesfull</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>ConfigFile ociConfig = ConfigFileReader.parse(configFile.getAbsolutePath(), profile);\n\nSupplier&lt;InputStream&gt; privateKeySupplier = new SimplePrivateKeySupplier(ociConfig.get(&quot;key_file&quot;));\nAuthenticationDetailsProvider provider = SimpleAuthenticationDetailsProvider.builder()\n        .tenantId(ociConfig.get(&quot;tenancy&quot;))\n        .userId(ociConfig.get(&quot;user&quot;))\n        .fingerprint(ociConfig.get(&quot;fingerprint&quot;))\n        .privateKeySupplier(privateKeySupplier)\n        .build();\n\nobjectStorageClient = ObjectStorageClient\n        .builder()\n        .build(provider);\n\nRuntime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n    if (objectStorageClient != null)\n        objectStorageClient.close();\n}));\n\nnamespace = handleResponse(objectStorageClient.getNamespace(GetNamespaceRequest.builder().build())).getValue();\n</code></pre>\n<p>When I try running the above code sample I get the following stack trace.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;String.contains(java.lang.CharSequence)&quot; because &quot;endpoint&quot; is null\n        at com.oracle.bmc.http.internal.BaseClient.populateServiceParametersInEndpoint(BaseClient.java:215)\n        at com.oracle.bmc.objectstorage.ObjectStorageClient.getNamespace(ObjectStorageClient.java:874)\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","spring-mvc","spring-data"],"comments":[{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1686493595,"post_id":76450031,"comment_id":134803005,"body_markdown":"Can you add the SQL query that is executed in the database?","body":"Can you add the SQL query that is executed in the database?"},{"owner":{"account_id":10578739,"reputation":31,"user_id":7793324,"display_name":"Michele Genchi"},"score":0,"creation_date":1686575425,"post_id":76450031,"comment_id":134813139,"body_markdown":"- Hibernate: select country0_.country_code as country_1_0_, country0_.country as country2_0_ from countries country0_ where country0_.country_code in (?) limit ?, ?   - Hibernate: select count(country0_.country_code) as col_0_0_ from countries country0_ where country0_.country_code in (?)","body":"- Hibernate: select country0_.country_code as country_1_0_, country0_.country as country2_0_ from countries country0_ where country0_.country_code in (?) limit ?, ?   - Hibernate: select count(country0_.country_code) as col_0_0_ from countries country0_ where country0_.country_code in (?)"},{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1686578113,"post_id":76450031,"comment_id":134813762,"body_markdown":"The query looks fine at first glance, can you check the param as well? You can get it printed out if you add this to your application properties: `logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE`.","body":"The query looks fine at first glance, can you check the param as well? You can get it printed out if you add this to your application properties: <code>logging.level.org.hibernate.type.descriptor.sql.BasicBinder=&zwnj;&#8203;TRACE</code>."},{"owner":{"account_id":10578739,"reputation":31,"user_id":7793324,"display_name":"Michele Genchi"},"score":0,"creation_date":1686579588,"post_id":76450031,"comment_id":134814140,"body_markdown":"this is my sping result\n    Hibernate: select country0_.country_code as country_1_0_, country0_.country as      country2_0_ from countries country0_ where country0_.country_code in (?) limit ?, ?\no.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [KM]\n   Hibernate: select count(country0_.country_code) as col_0_0_ from countries country0_ where country0_.country_code in (?)        \n   o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [KM]","body":"this is my sping result     Hibernate: select country0_.country_code as country_1_0_, country0_.country as      country2_0_ from countries country0_ where country0_.country_code in (?) limit ?, ? o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [KM]    Hibernate: select count(country0_.country_code) as col_0_0_ from countries country0_ where country0_.country_code in (?)            o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [KM]"},{"owner":{"account_id":10578739,"reputation":31,"user_id":7793324,"display_name":"Michele Genchi"},"score":0,"creation_date":1687279632,"post_id":76450031,"comment_id":134913330,"body_markdown":"Thanks Rashin, Ok It&#39;s working","body":"Thanks Rashin, Ok It&#39;s working"}],"answers":[{"tags":[],"owner":{"account_id":10578739,"reputation":31,"user_id":7793324,"display_name":"Michele Genchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687280045,"creation_date":1687280045,"answer_id":76516883,"question_id":76450031,"body_markdown":"    enter code here\r\n\r\n     \r\n     @GetMapping(&quot;/all&quot;)\r\n      public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getAll(\r\n          @Valid @RequestBody Map&lt;String, Object&gt; request) {\r\n\r\n    try {\r\n      countryService.customPage.init();\r\n      \r\n      if (request.keySet().contains(&quot;page&quot;)) {\r\n        countryService.customPage.setPage(request.get(&quot;page&quot;).toString());\r\n      }\r\n\r\n      if (request.keySet().contains(&quot;size&quot;)) {\r\n        countryService.customPage.setSize(request.get(&quot;size&quot;).toString());\r\n      }\r\n\r\n      \r\n      Sort ordine=(request.keySet().contains(&quot;sort&quot;)) ? \r\n          countryService.customSort.sorted((CustomSort[]) request.get(&quot;sort&quot;))\r\n          : Sort.unsorted();\r\n      \r\n      // page default value 1 and size default value DEFAULT_SIZE\r\n      Pageable pageable = PageRequest.of(\r\n          countryService.customPage.getPage(),\r\n          countryService.customPage.getSize(),\r\n          ordine\r\n          );\r\n          \r\n\r\n      /* Validazione */\r\n\r\n      Map&lt;String, Object&gt; countries;\r\n      /* filter */\r\n      if (request.keySet().contains(&quot;country_code&quot;)) {\r\n        List&lt;String&gt; list = (List&lt;String&gt;) request.get(&quot;country_code&quot;);\r\n        countries = countryService.getByCountryCode(list, pageable);\r\n      } else {\r\n        countries = countryService.getAll(pageable);\r\n      }\r\n\r\n      //countryService restituisce empty se la pagina richiesta &#232; maggiore di quelle presenti\r\n      //se la richiesta non restituisce risultati\r\n      if (countryService.isEmpty()) {\r\n        \r\n        if (((Integer) countries.get(&quot;currentPage&quot;)).intValue()&gt;\r\n            ((Integer) countries.get(&quot;totalPages&quot;)).intValue()) {\r\n          throw new RecordNotFoundException(&quot;The page &quot; +\r\n          (countryService.customPage.getPage()+1) +\r\n          &quot; is over the total page&quot;);\r\n        }\r\n        // la tabella interrogata non ha dati\r\n        throw new RecordNotFoundException(&quot;Invalid request, return no data&quot;);\r\n      }\r\n\r\n      ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\r\n          countries,\r\n          HttpStatus.OK);\r\n      return response;\r\n    } catch (RecordNotFoundException | NumberFormatException re) {\r\n      Map&lt;String, Object&gt; errors = new LinkedHashMap&lt;&gt;();\r\n      errors.put(&quot;errors&quot;, re.getMessage());\r\n      ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\r\n          errors,\r\n          HttpStatus.INTERNAL_SERVER_ERROR);\r\n      return response;\r\n    } catch (Exception e) {\r\n      Map&lt;String, Object&gt; errors = new LinkedHashMap&lt;&gt;();\r\n      errors.put(&quot;errors&quot;, Errors.all);\r\n      ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\r\n          errors,\r\n          HttpStatus.BAD_REQUEST);\r\n      return response;\r\n    }\r\n    }\r\n\r\n    \r\n     /**\r\n     * @param list\r\n     * @param pageable\r\n     * @return\r\n     */\r\n    public Map&lt;String, Object&gt; getByCountryCode(List&lt;String&gt; list, Pageable pageable) {\r\n        /* paginazione filtrata */\r\n        Specs&lt;Country&gt; countrySpecs = new Specs&lt;&gt;(new SearchCriteria(&quot;country_code&quot;, &quot;in&quot;, list));\r\n        pageCountries = repository.findAll(\r\n            countrySpecs,\r\n            pageable);\r\n        countries = pageCountries.getContent();\r\n\r\n        Map&lt;String, Object&gt; service = new LinkedHashMap&lt;&gt;();\r\n        // aggiunta delle informazioni sulla paginazione\r\n        service.put(&quot;countries&quot;, countries);\r\n        service.put(&quot;currentPage&quot;, pageCountries.getNumber()+1);\r\n        service.put(&quot;totalItems&quot;, pageCountries.getTotalElements());\r\n        service.put(&quot;totalForPage&quot;, pageCountries.getSize());\r\n        service.put(&quot;totalPages&quot;, pageCountries.getTotalPages());\r\n    \r\n        return service;\r\n    }","title":"Repository extends JpaRepository&lt;Entity, Id&gt;, JpaSpecificationExecutor&lt;Entity&gt;; EntitySpec extends Specification&lt;Entity&gt;","body":"<pre><code>enter code here\n\n \n @GetMapping(&quot;/all&quot;)\n  public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getAll(\n      @Valid @RequestBody Map&lt;String, Object&gt; request) {\n\ntry {\n  countryService.customPage.init();\n  \n  if (request.keySet().contains(&quot;page&quot;)) {\n    countryService.customPage.setPage(request.get(&quot;page&quot;).toString());\n  }\n\n  if (request.keySet().contains(&quot;size&quot;)) {\n    countryService.customPage.setSize(request.get(&quot;size&quot;).toString());\n  }\n\n  \n  Sort ordine=(request.keySet().contains(&quot;sort&quot;)) ? \n      countryService.customSort.sorted((CustomSort[]) request.get(&quot;sort&quot;))\n      : Sort.unsorted();\n  \n  // page default value 1 and size default value DEFAULT_SIZE\n  Pageable pageable = PageRequest.of(\n      countryService.customPage.getPage(),\n      countryService.customPage.getSize(),\n      ordine\n      );\n      \n\n  /* Validazione */\n\n  Map&lt;String, Object&gt; countries;\n  /* filter */\n  if (request.keySet().contains(&quot;country_code&quot;)) {\n    List&lt;String&gt; list = (List&lt;String&gt;) request.get(&quot;country_code&quot;);\n    countries = countryService.getByCountryCode(list, pageable);\n  } else {\n    countries = countryService.getAll(pageable);\n  }\n\n  //countryService restituisce empty se la pagina richiesta è maggiore di quelle presenti\n  //se la richiesta non restituisce risultati\n  if (countryService.isEmpty()) {\n    \n    if (((Integer) countries.get(&quot;currentPage&quot;)).intValue()&gt;\n        ((Integer) countries.get(&quot;totalPages&quot;)).intValue()) {\n      throw new RecordNotFoundException(&quot;The page &quot; +\n      (countryService.customPage.getPage()+1) +\n      &quot; is over the total page&quot;);\n    }\n    // la tabella interrogata non ha dati\n    throw new RecordNotFoundException(&quot;Invalid request, return no data&quot;);\n  }\n\n  ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\n      countries,\n      HttpStatus.OK);\n  return response;\n} catch (RecordNotFoundException | NumberFormatException re) {\n  Map&lt;String, Object&gt; errors = new LinkedHashMap&lt;&gt;();\n  errors.put(&quot;errors&quot;, re.getMessage());\n  ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\n      errors,\n      HttpStatus.INTERNAL_SERVER_ERROR);\n  return response;\n} catch (Exception e) {\n  Map&lt;String, Object&gt; errors = new LinkedHashMap&lt;&gt;();\n  errors.put(&quot;errors&quot;, Errors.all);\n  ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\n      errors,\n      HttpStatus.BAD_REQUEST);\n  return response;\n}\n}\n\n\n /**\n * @param list\n * @param pageable\n * @return\n */\npublic Map&lt;String, Object&gt; getByCountryCode(List&lt;String&gt; list, Pageable pageable) {\n    /* paginazione filtrata */\n    Specs&lt;Country&gt; countrySpecs = new Specs&lt;&gt;(new SearchCriteria(&quot;country_code&quot;, &quot;in&quot;, list));\n    pageCountries = repository.findAll(\n        countrySpecs,\n        pageable);\n    countries = pageCountries.getContent();\n\n    Map&lt;String, Object&gt; service = new LinkedHashMap&lt;&gt;();\n    // aggiunta delle informazioni sulla paginazione\n    service.put(&quot;countries&quot;, countries);\n    service.put(&quot;currentPage&quot;, pageCountries.getNumber()+1);\n    service.put(&quot;totalItems&quot;, pageCountries.getTotalElements());\n    service.put(&quot;totalForPage&quot;, pageCountries.getSize());\n    service.put(&quot;totalPages&quot;, pageCountries.getTotalPages());\n\n    return service;\n}\n</code></pre>\n"}],"owner":{"account_id":10578739,"reputation":31,"user_id":7793324,"display_name":"Michele Genchi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687280045,"creation_date":1686478896,"question_id":76450031,"body_markdown":"This is my endpoint &lt;http://localhost:8080/country/all&gt;\r\nresponse all country ok\r\n\r\n&gt; when I want filter them return not found\r\n&gt; Countries is empty and return exception\r\n&gt; throw new RecordNotFoundException(&quot;Invalid request, return no data&quot;);\r\n&gt; In my database I have a record\r\n&gt; county_code    country\r\n&gt; KM             comoros\r\n\r\nthis is my json payload\r\n```lan-json\r\n    {\r\n     &quot;country_code&quot;:[&quot;KM&quot;]\r\n    }\r\n```\r\n\r\n```lan-java\r\n    public interface CountryRepo extends JpaRepository&lt;Country, Id&gt;, JpaSpecificationExecutor&lt;Country&gt; {\r\n\r\n    }\r\n```\r\n```lang-java\r\n    public final class CountrySpecs&lt;T&gt; implements Specification&lt;T&gt; {\r\n    \r\n    final private SearchCriteria criteria;\r\n    \r\n    public CountrySpecs(SearchCriteria searchCriteria) {\r\n        this.criteria = searchCriteria;\r\n    }\r\n\r\n        @Override\r\n        @Nullable\r\n        public Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n        switch (criteria.getOperation()) {\r\n            case &quot;:&quot;:\r\n              if (root.get(criteria.getKey()).getJavaType() == String.class) {\r\n                return builder.like(\r\n                        root.&lt;String&gt;get(criteria.getKey()),\r\n                        &quot;%&quot; + criteria.getValue() + &quot;%&quot;);\r\n              } else {\r\n                return builder.equal(root.get(criteria.getKey()),\r\n                        criteria.getValue());\r\n              }\r\n            case &quot;=&quot;:\r\n              return builder.equal(root.get(criteria.getKey()),\r\n                      criteria.getValue());\r\n            case &quot;in&quot;:\r\n              return builder.in(root.get(criteria.getKey())).value(criteria.getValue());\r\n            default:\r\n              return null;\r\n       }\r\n       }\r\n    }\r\n```\r\n\r\n```lang-java\r\n     @GetMapping(&quot;/all&quot;)\r\n     public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getAll(\r\n         @Valid @RequestBody Map&lt;String, Object&gt; request) throws Exception {\r\n         List&lt;Country&gt; countries = new ArrayList&lt;&gt;();\r\n \r\n         int page = (request.get(&quot;page&quot;) != null) ? (int) request.get(&quot;page&quot;) : 1;\r\n         int size = (request.get(&quot;size&quot;) != null) ? (int) request.get(&quot;size&quot;) : DEFAULT_SIZE;\r\n\r\n        // page-1 mi da la possibilit&#224; di scrivere nel payload page=1\r\n        Pageable pageable = PageRequest.of(\r\n           page,\r\n          size);\r\n        Page&lt;Country&gt; pageCountries = null;\r\n\r\n       /* Validazione */\r\n\r\n       /* filter */\r\n       if (request.keySet().size() &gt; 0) {\r\n          CountrySpecs&lt;Country&gt; countrySpecs = null;\r\n          if (request.keySet().contains(&quot;country_code&quot;)) {\r\n             List&lt;String&gt; list = (List&lt;String&gt;) request.get(&quot;country_code&quot;);\r\n             /* paginazione filtrata */\r\n             countrySpecs = new CountrySpecs&lt;&gt;(new SearchCriteria(&quot;country_code&quot;, &quot;in&quot;, list));\r\n             pageCountries = repository.findAll(\r\n               countrySpecs,\r\n               pageable);\r\n             countries = pageCountries.getContent();\r\n          }\r\n      } else {\r\n        pageCountries = repository.findAll(pageable);\r\n        countries = pageCountries.getContent();\r\n      }\r\n\r\n      if (countries.isEmpty()) {\r\n        // la tabella interrogata non ha dati\r\n        throw new RecordNotFoundException(&quot;Invalid request, return no data&quot;);\r\n      }\r\n\r\n      Map&lt;String, Object&gt; obj = new TreeMap&lt;&gt;();\r\n      // aggiunta delle informazioni sulla paginazione\r\n      obj.put(&quot;countries&quot;, countries);\r\n      obj.put(&quot;currentPage&quot;, pageCountries.getNumber());\r\n      obj.put(&quot;totalItems&quot;, pageCountries.getTotalElements());\r\n      obj.put(&quot;totalPages&quot;, pageCountries.getTotalPages());\r\n\r\n     ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\r\n        obj,\r\n        HttpStatus.OK);\r\n       return response;\r\n    }\r\n```\r\n\r\nThanks Rashin, I have improved the code but this problem remains!\r\nI hope to find a solution.\r\n\r\n\r\nAfter resetting the code it is working... \r\n","title":"Repository extends JpaRepository&lt;Entity, Id&gt;, JpaSpecificationExecutor&lt;Entity&gt;; EntitySpec extends Specification&lt;Entity&gt;","body":"<p>This is my endpoint <a href=\"http://localhost:8080/country/all\" rel=\"nofollow noreferrer\">http://localhost:8080/country/all</a>\nresponse all country ok</p>\n<blockquote>\n<p>when I want filter them return not found\nCountries is empty and return exception\nthrow new RecordNotFoundException(&quot;Invalid request, return no data&quot;);\nIn my database I have a record\ncounty_code    country\nKM             comoros</p>\n</blockquote>\n<p>this is my json payload</p>\n<pre><code>    {\n     &quot;country_code&quot;:[&quot;KM&quot;]\n    }\n</code></pre>\n<pre><code>    public interface CountryRepo extends JpaRepository&lt;Country, Id&gt;, JpaSpecificationExecutor&lt;Country&gt; {\n\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    public final class CountrySpecs&lt;T&gt; implements Specification&lt;T&gt; {\n    \n    final private SearchCriteria criteria;\n    \n    public CountrySpecs(SearchCriteria searchCriteria) {\n        this.criteria = searchCriteria;\n    }\n\n        @Override\n        @Nullable\n        public Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n        switch (criteria.getOperation()) {\n            case &quot;:&quot;:\n              if (root.get(criteria.getKey()).getJavaType() == String.class) {\n                return builder.like(\n                        root.&lt;String&gt;get(criteria.getKey()),\n                        &quot;%&quot; + criteria.getValue() + &quot;%&quot;);\n              } else {\n                return builder.equal(root.get(criteria.getKey()),\n                        criteria.getValue());\n              }\n            case &quot;=&quot;:\n              return builder.equal(root.get(criteria.getKey()),\n                      criteria.getValue());\n            case &quot;in&quot;:\n              return builder.in(root.get(criteria.getKey())).value(criteria.getValue());\n            default:\n              return null;\n       }\n       }\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>     @GetMapping(&quot;/all&quot;)\n     public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getAll(\n         @Valid @RequestBody Map&lt;String, Object&gt; request) throws Exception {\n         List&lt;Country&gt; countries = new ArrayList&lt;&gt;();\n \n         int page = (request.get(&quot;page&quot;) != null) ? (int) request.get(&quot;page&quot;) : 1;\n         int size = (request.get(&quot;size&quot;) != null) ? (int) request.get(&quot;size&quot;) : DEFAULT_SIZE;\n\n        // page-1 mi da la possibilità di scrivere nel payload page=1\n        Pageable pageable = PageRequest.of(\n           page,\n          size);\n        Page&lt;Country&gt; pageCountries = null;\n\n       /* Validazione */\n\n       /* filter */\n       if (request.keySet().size() &gt; 0) {\n          CountrySpecs&lt;Country&gt; countrySpecs = null;\n          if (request.keySet().contains(&quot;country_code&quot;)) {\n             List&lt;String&gt; list = (List&lt;String&gt;) request.get(&quot;country_code&quot;);\n             /* paginazione filtrata */\n             countrySpecs = new CountrySpecs&lt;&gt;(new SearchCriteria(&quot;country_code&quot;, &quot;in&quot;, list));\n             pageCountries = repository.findAll(\n               countrySpecs,\n               pageable);\n             countries = pageCountries.getContent();\n          }\n      } else {\n        pageCountries = repository.findAll(pageable);\n        countries = pageCountries.getContent();\n      }\n\n      if (countries.isEmpty()) {\n        // la tabella interrogata non ha dati\n        throw new RecordNotFoundException(&quot;Invalid request, return no data&quot;);\n      }\n\n      Map&lt;String, Object&gt; obj = new TreeMap&lt;&gt;();\n      // aggiunta delle informazioni sulla paginazione\n      obj.put(&quot;countries&quot;, countries);\n      obj.put(&quot;currentPage&quot;, pageCountries.getNumber());\n      obj.put(&quot;totalItems&quot;, pageCountries.getTotalElements());\n      obj.put(&quot;totalPages&quot;, pageCountries.getTotalPages());\n\n     ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\n        obj,\n        HttpStatus.OK);\n       return response;\n    }\n</code></pre>\n<p>Thanks Rashin, I have improved the code but this problem remains!\nI hope to find a solution.</p>\n<p>After resetting the code it is working...</p>\n"},{"tags":["java","android","kotlin","aws-amplify"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687362661,"post_id":76516853,"comment_id":134927236,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":15120405,"reputation":175,"user_id":10911367,"display_name":"Malik Ali"},"score":0,"creation_date":1700223969,"post_id":76516853,"comment_id":136631023,"body_markdown":"have u found solution ?","body":"have u found solution ?"}],"owner":{"account_id":15857348,"reputation":11,"user_id":13036171,"display_name":"Lucas Martins"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687279768,"creation_date":1687279768,"question_id":76516853,"body_markdown":"im trying use this library from Amplify in my android studio project\r\ncom.amplifyframework.core.model.temporal but i got this error\r\n\r\nerror: package com.amplifyframework.core.model.temporal does not exist\r\n\r\nall the other libraries still working right, thats my build gradle implementation of amplify \r\n\r\n\r\n\r\n    //amplify\r\n    implementation &#39;com.amplifyframework:core:2.8.5&#39;\r\n    coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:2.0.3&#39;\r\n\r\ncompileOptions {\r\n        coreLibraryDesugaringEnabled true\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\ni already tried change de amplify version, but dosent works","title":"error: package com.amplifyframework.core.model.temporal does not exist --- Error using amplify Temporal","body":"<p>im trying use this library from Amplify in my android studio project\ncom.amplifyframework.core.model.temporal but i got this error</p>\n<p>error: package com.amplifyframework.core.model.temporal does not exist</p>\n<p>all the other libraries still working right, thats my build gradle implementation of amplify</p>\n<pre><code>//amplify\nimplementation 'com.amplifyframework:core:2.8.5'\ncoreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:2.0.3'\n</code></pre>\n<p>compileOptions {\ncoreLibraryDesugaringEnabled true\nsourceCompatibility JavaVersion.VERSION_1_8\ntargetCompatibility JavaVersion.VERSION_1_8\n}</p>\n<p>i already tried change de amplify version, but dosent works</p>\n"},{"tags":["java","eclipse","maven","sts"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1687279653,"post_id":76516690,"comment_id":134913335,"body_markdown":"a simple `mvn package` usually builds a JAR file that only contains your own classes. If you want to build a _fat jar_, you have to use some more tools, like the maven shade plugin or the maven assembly plugin.","body":"a simple <code>mvn package</code> usually builds a JAR file that only contains your own classes. If you want to build a <i>fat jar</i>, you have to use some more tools, like the maven shade plugin or the maven assembly plugin."},{"owner":{"account_id":22045482,"reputation":1,"user_id":16310585,"display_name":"Satyajit"},"score":0,"creation_date":1687364915,"post_id":76516690,"comment_id":134927746,"body_markdown":"@Seelenvirtuose , I have used the Maven Shade Plugin , it doesnot help. Does this external jars which i am sending to CLient should also have the json-20210307.jar file ?","body":"@Seelenvirtuose , I have used the Maven Shade Plugin , it doesnot help. Does this external jars which i am sending to CLient should also have the json-20210307.jar file ?"}],"owner":{"account_id":22045482,"reputation":1,"user_id":16310585,"display_name":"Satyajit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687297480,"answer_count":0,"score":0,"last_activity_date":1687278203,"creation_date":1687278203,"question_id":76516690,"body_markdown":"Hello I am getting error in Production while deploying my jar file , for the JSONArray class not found in the Jar which I have provided in the production.\r\n\r\nThe error is coming from my STS Eclipse project from the below code Initializing the JSONArray which i have added as below -\r\n\r\n[![\\[Code\\](https://i.stack.imgur.com/1IPN1.png)][1]][1]\r\n\r\nAnd I have also verified that the json library module is added in my pom.xml as well as shown below \r\n\r\n[![enter image description here][2]][2]\r\n\r\ni am building the jar file of my Eclipse project by Run As -&gt; Maven Clean and then Run as -&gt; Maven Build.\r\n\r\nThere is no compilation error in my STS/Eclipse at compile time. But in Production log - i am getting \r\nCaused by: java.lang.NoClassDefFoundError: org/json/JSONArray.\r\n\r\nAny suggestion is greatly appreciated.\r\n\r\nI tried reinstalling maven and run a clean build but still getting same issue.\r\n\r\nI have also added below additional plugins in my pom.xml to try but no luck - \r\n\r\n[![enter image description here][3]][3]\r\nVerified the Maven Dependencies have the org.json \r\n\r\n[![Maven Dependencies][4]][4]\t\t\r\n\r\ni have also verified he build configuration , even there the maven dependencies is added and showing me the org.json package references.\r\n\r\n[![Build Path Configuration][5]][5]\r\n\r\n  [1]: https://i.stack.imgur.com/f50p1.png\r\n  [2]: https://i.stack.imgur.com/fUFGo.png\r\n  [3]: https://i.stack.imgur.com/2wurQ.png\r\n  [4]: https://i.stack.imgur.com/CHGQg.png\r\n  [5]: https://i.stack.imgur.com/64eLW.png\r\n\r\nPlease suggest !!","title":"Maven Dependency Error NoClassDefFoundError: org/json/JSONArray even after the json is present in pom.xml","body":"<p>Hello I am getting error in Production while deploying my jar file , for the JSONArray class not found in the Jar which I have provided in the production.</p>\n<p>The error is coming from my STS Eclipse project from the below code Initializing the JSONArray which i have added as below -</p>\n<p><a href=\"https://i.stack.imgur.com/f50p1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f50p1.png\" alt=\"[Code](https://i.stack.imgur.com/1IPN1.png)\" /></a></p>\n<p>And I have also verified that the json library module is added in my pom.xml as well as shown below</p>\n<p><a href=\"https://i.stack.imgur.com/fUFGo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fUFGo.png\" alt=\"enter image description here\" /></a></p>\n<p>i am building the jar file of my Eclipse project by Run As -&gt; Maven Clean and then Run as -&gt; Maven Build.</p>\n<p>There is no compilation error in my STS/Eclipse at compile time. But in Production log - i am getting\nCaused by: java.lang.NoClassDefFoundError: org/json/JSONArray.</p>\n<p>Any suggestion is greatly appreciated.</p>\n<p>I tried reinstalling maven and run a clean build but still getting same issue.</p>\n<p>I have also added below additional plugins in my pom.xml to try but no luck -</p>\n<p><a href=\"https://i.stack.imgur.com/2wurQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2wurQ.png\" alt=\"enter image description here\" /></a>\nVerified the Maven Dependencies have the org.json</p>\n<p><a href=\"https://i.stack.imgur.com/CHGQg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CHGQg.png\" alt=\"Maven Dependencies\" /></a></p>\n<p>i have also verified he build configuration , even there the maven dependencies is added and showing me the org.json package references.</p>\n<p><a href=\"https://i.stack.imgur.com/64eLW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/64eLW.png\" alt=\"Build Path Configuration\" /></a></p>\n<p>Please suggest !!</p>\n"},{"tags":["java","c++","swig"],"comments":[{"owner":{"account_id":15876219,"reputation":6333,"user_id":11455384,"display_name":"Fareanor"},"score":0,"creation_date":1687253186,"post_id":76513140,"comment_id":134907168,"body_markdown":"Maybe you should not run the first swig command. Since &quot;Common.i&quot; is included in &quot;Example.i&quot;, it will be parsed as well at the same time (as if you wrote two modules in a single interface file). That being said, I&#39;m not sure we can define several modules in a single interface file.","body":"Maybe you should not run the first swig command. Since &quot;Common.i&quot; is included in &quot;Example.i&quot;, it will be parsed as well at the same time (as if you wrote two modules in a single interface file). That being said, I&#39;m not sure we can define several modules in a single interface file."},{"owner":{"account_id":11602809,"reputation":67,"user_id":8499430,"display_name":"AnDevi"},"score":0,"creation_date":1687254079,"post_id":76513140,"comment_id":134907384,"body_markdown":"Maybe it&#39;s possible to define several modules in a single interface file but it&#39;s not a solution for me. \nI want to include `Common.i` in more than one swig&#39;s interface. So again even if I define `Common.i` in `Example.i` and in another file `Example2.i` I will have duplicated `java` files in `Example` and `Example2` catalogs.","body":"Maybe it&#39;s possible to define several modules in a single interface file but it&#39;s not a solution for me.  I want to include <code>Common.i</code> in more than one swig&#39;s interface. So again even if I define <code>Common.i</code> in <code>Example.i</code> and in another file <code>Example2.i</code> I will have duplicated <code>java</code> files in <code>Example</code> and <code>Example2</code> catalogs."},{"owner":{"account_id":84277,"reputation":168394,"user_id":235698,"display_name":"Mark Tolonen"},"score":1,"creation_date":1687269288,"post_id":76513140,"comment_id":134910949,"body_markdown":"Try `%import &quot;Common.i&quot;` instead of `%include &quot;Common.i&quot;`.","body":"Try <code>%import &quot;Common.i&quot;</code> instead of <code>%include &quot;Common.i&quot;</code>."},{"owner":{"account_id":15876219,"reputation":6333,"user_id":11455384,"display_name":"Fareanor"},"score":0,"creation_date":1687272905,"post_id":76513140,"comment_id":134911774,"body_markdown":"From [here](https://www.swig.org/Doc1.3/Modules.html) they use indeed the `%import` directive.","body":"From <a href=\"https://www.swig.org/Doc1.3/Modules.html\" rel=\"nofollow noreferrer\">here</a> they use indeed the <code>%import</code> directive."}],"answers":[{"comments":[{"owner":{"account_id":11602809,"reputation":67,"user_id":8499430,"display_name":"AnDevi"},"score":0,"creation_date":1687428817,"post_id":76516587,"comment_id":134936936,"body_markdown":"It works for files duplications, but now files ganarated from `Example.i`  are in different catalog, and also in different package, so `java` files from `Example.i` doesn&#39;t know anything about `A.java` and `B.java` because of missing imports. \nDo I have to add all those imports by myself in swig interface files?","body":"It works for files duplications, but now files ganarated from <code>Example.i</code>  are in different catalog, and also in different package, so <code>java</code> files from <code>Example.i</code> doesn&#39;t know anything about <code>A.java</code> and <code>B.java</code> because of missing imports.  Do I have to add all those imports by myself in swig interface files?"},{"owner":{"account_id":11602809,"reputation":67,"user_id":8499430,"display_name":"AnDevi"},"score":0,"creation_date":1687432254,"post_id":76516587,"comment_id":134937607,"body_markdown":"Another thing is that generated classes in `A.java` and `B.java` have protected constructors and I can only use them if I am in the same package, but I&#39;m not.\nSo another question is if I can force those constructors to be public ?","body":"Another thing is that generated classes in <code>A.java</code> and <code>B.java</code> have protected constructors and I can only use them if I am in the same package, but I&#39;m not. So another question is if I can force those constructors to be public ?"},{"owner":{"account_id":84277,"reputation":168394,"user_id":235698,"display_name":"Mark Tolonen"},"score":0,"creation_date":1687438187,"post_id":76516587,"comment_id":134938961,"body_markdown":"@AnDevi Sorry I use SWIG with Python not Java so not sure of the solution. The .i files normally need `%{ #include &quot;Common.hpp&quot; %}` in addition to `%include` to add the headers to the generated wrapper. That could be part of the problem.","body":"@AnDevi Sorry I use SWIG with Python not Java so not sure of the solution. The .i files normally need <code>%{ #include &quot;Common.hpp&quot; %}</code> in addition to <code>%include</code> to add the headers to the generated wrapper. That could be part of the problem."},{"owner":{"account_id":11602809,"reputation":67,"user_id":8499430,"display_name":"AnDevi"},"score":0,"creation_date":1687438396,"post_id":76516587,"comment_id":134939008,"body_markdown":"Yeah, I know about `%{ #include &quot;Common.hpp&quot; %}`, but missing imports, are in `java` not `c++`, I can add `java` import in similar way, bet there is still problem with protected constructors in `java`.","body":"Yeah, I know about <code>%{ #include &quot;Common.hpp&quot; %}</code>, but missing imports, are in <code>java</code> not <code>c++</code>, I can add <code>java</code> import in similar way, bet there is still problem with protected constructors in <code>java</code>."},{"owner":{"account_id":11602809,"reputation":67,"user_id":8499430,"display_name":"AnDevi"},"score":0,"creation_date":1687518725,"post_id":76516587,"comment_id":134951648,"body_markdown":"Ok, I found answers to my questions here:\nhttps://stackoverflow.com/questions/16499202/swig-importing-generated-class-from-a-different-module-and-package-into-the-curr","body":"Ok, I found answers to my questions here: <a href=\"https://stackoverflow.com/questions/16499202/swig-importing-generated-class-from-a-different-module-and-package-into-the-curr\" title=\"swig importing generated class from a different module and package into the curr\">stackoverflow.com/questions/16499202/&hellip;</a>"}],"tags":[],"owner":{"account_id":84277,"reputation":168394,"user_id":235698,"display_name":"Mark Tolonen"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687277324,"creation_date":1687277324,"answer_id":76516587,"question_id":76513140,"body_markdown":"Per [Working with Modules: Basics](https://www.swig.org/Doc4.0/SWIGDocumentation.html#Modules_nn1), either of the following should work:\r\n```cpp\r\n%import &quot;Common.i&quot;\r\n```\r\n```cpp\r\n%import(module=&quot;Common&quot;) &quot;Common.hpp&quot;\r\n```\r\nAccording to [File Imports](https://www.swig.org/Doc4.0/SWIGDocumentation.html#Preprocessor_nn3):\r\n\r\n&gt; The purpose of `%import` is to collect certain information from another SWIG interface file or a header file without actually generating any wrapper code.","title":"SWIG - problem with duplicated java files","body":"<p>Per <a href=\"https://www.swig.org/Doc4.0/SWIGDocumentation.html#Modules_nn1\" rel=\"nofollow noreferrer\">Working with Modules: Basics</a>, either of the following should work:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>%import &quot;Common.i&quot;\n</code></pre>\n<pre class=\"lang-cpp prettyprint-override\"><code>%import(module=&quot;Common&quot;) &quot;Common.hpp&quot;\n</code></pre>\n<p>According to <a href=\"https://www.swig.org/Doc4.0/SWIGDocumentation.html#Preprocessor_nn3\" rel=\"nofollow noreferrer\">File Imports</a>:</p>\n<blockquote>\n<p>The purpose of <code>%import</code> is to collect certain information from another SWIG interface file or a header file without actually generating any wrapper code.</p>\n</blockquote>\n"}],"owner":{"account_id":11602809,"reputation":67,"user_id":8499430,"display_name":"AnDevi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687277324,"creation_date":1687252284,"question_id":76513140,"body_markdown":"Problem I&#39;m trying to solve in shortest example looks like that.\r\nI have 2 swig&#39;s interface files.\r\n - first swig file `Common.i` looks like that:\r\n\r\n```\r\n/* Common.i */\r\n%module Common\r\n%include &quot;Common.hpp&quot;\r\n```\r\nI generate swig wrappers with command:\r\n\r\n`swig -c++ -java -package com.wrappers.Common -outdir &quot;wrappers/Common&quot; -o &quot;wrappers_cpp/swig_Common_wrapper.cpp&quot; &quot;Common.i&quot;`\r\n\r\n`Common.hpp` has definitions of class `A` and `B`, so this swig command above generates files `A.java` and `B.java` in catalog `wrappers/Common`\r\n\r\n - second swig file `Example.i` looks like that:\r\n\r\n```\r\n/* Example.i */\r\n%module Example\r\n\r\n%include &quot;Common.i&quot;\r\n\r\n%include &quot;Example.hpp&quot;\r\n```\r\nand again I generate swig wrappers with command:\r\n\r\n`swig -c++ -java -package com.wrappers.Example -outdir &quot;wrappers/Example&quot; -o &quot;wrappers_cpp/swig_Example_wrapper.cpp&quot; &quot;Example.i&quot;`\r\n\r\nAnd here my problem begins:\r\nIn catalog `wrappers/Example` I have duplicate files `A.java` and `B.java`, because I included `Common.i` in `Example.i`. \r\n\r\nI would like to have one copy of those classes above. \r\n\r\nIs there a way to avoid this duplication? \r\n","title":"SWIG - problem with duplicated java files","body":"<p>Problem I'm trying to solve in shortest example looks like that.\nI have 2 swig's interface files.</p>\n<ul>\n<li>first swig file <code>Common.i</code> looks like that:</li>\n</ul>\n<pre><code>/* Common.i */\n%module Common\n%include &quot;Common.hpp&quot;\n</code></pre>\n<p>I generate swig wrappers with command:</p>\n<p><code>swig -c++ -java -package com.wrappers.Common -outdir &quot;wrappers/Common&quot; -o &quot;wrappers_cpp/swig_Common_wrapper.cpp&quot; &quot;Common.i&quot;</code></p>\n<p><code>Common.hpp</code> has definitions of class <code>A</code> and <code>B</code>, so this swig command above generates files <code>A.java</code> and <code>B.java</code> in catalog <code>wrappers/Common</code></p>\n<ul>\n<li>second swig file <code>Example.i</code> looks like that:</li>\n</ul>\n<pre><code>/* Example.i */\n%module Example\n\n%include &quot;Common.i&quot;\n\n%include &quot;Example.hpp&quot;\n</code></pre>\n<p>and again I generate swig wrappers with command:</p>\n<p><code>swig -c++ -java -package com.wrappers.Example -outdir &quot;wrappers/Example&quot; -o &quot;wrappers_cpp/swig_Example_wrapper.cpp&quot; &quot;Example.i&quot;</code></p>\n<p>And here my problem begins:\nIn catalog <code>wrappers/Example</code> I have duplicate files <code>A.java</code> and <code>B.java</code>, because I included <code>Common.i</code> in <code>Example.i</code>.</p>\n<p>I would like to have one copy of those classes above.</p>\n<p>Is there a way to avoid this duplication?</p>\n"},{"tags":["java","spring-boot","graphql","resttemplate","spring-resttemplate"],"answers":[{"tags":[],"owner":{"account_id":1227934,"reputation":3849,"user_id":1193148,"accept_rate":74,"display_name":"Marcelo Tataje"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687277253,"creation_date":1687277253,"answer_id":76516580,"question_id":76486918,"body_markdown":"I managed to find a solution, not sure if this is the best way to achieve it, but it solved my problem, if I come up with a more efficient solution, I will post it here for sure.\r\n\r\nWhat I did so far was to create a `parameterByName.graphql` file in my resources folder with the query spec:\r\n\r\n    query ($name: String) {\r\n        parameterByName(name: $name) {\r\n            name\r\n            value\r\n        }\r\n    }\r\n\r\nThen, when I call the service I did the following:\r\n\r\nCreate a GraphQLRequest custom POJO:\r\n\r\n    @AllArgsConstructor\r\n    @Data\r\n    public class GraphQLRequest {\r\n        private final String query;\r\n        private Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\r\n    }\r\n\r\nThen, I create the request through RestTemplate using the following code:\r\n\r\n    Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\r\n    variables.put(&quot;name&quot;, &quot;Limit50-120&quot;);\r\n    var request = new GraphQLRequest(query, variables);\r\n    ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(endpointUrl, new HttpEntity&lt;&gt;(request, headers), String.class);\r\n\r\nAnd now I am able to get the response without issues. Not sure why GraphQL does not recognized it as a valid value before, but with this, it works.\r\n\r\n\r\n","title":"Call to GraphQL Query with RestTemplate is giving either 400 or invalid syntax message","body":"<p>I managed to find a solution, not sure if this is the best way to achieve it, but it solved my problem, if I come up with a more efficient solution, I will post it here for sure.</p>\n<p>What I did so far was to create a <code>parameterByName.graphql</code> file in my resources folder with the query spec:</p>\n<pre><code>query ($name: String) {\n    parameterByName(name: $name) {\n        name\n        value\n    }\n}\n</code></pre>\n<p>Then, when I call the service I did the following:</p>\n<p>Create a GraphQLRequest custom POJO:</p>\n<pre><code>@AllArgsConstructor\n@Data\npublic class GraphQLRequest {\n    private final String query;\n    private Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\n}\n</code></pre>\n<p>Then, I create the request through RestTemplate using the following code:</p>\n<pre><code>Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\nvariables.put(&quot;name&quot;, &quot;Limit50-120&quot;);\nvar request = new GraphQLRequest(query, variables);\nResponseEntity&lt;String&gt; response = restTemplate.postForEntity(endpointUrl, new HttpEntity&lt;&gt;(request, headers), String.class);\n</code></pre>\n<p>And now I am able to get the response without issues. Not sure why GraphQL does not recognized it as a valid value before, but with this, it works.</p>\n"}],"owner":{"account_id":1227934,"reputation":3849,"user_id":1193148,"accept_rate":74,"display_name":"Marcelo Tataje"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76516580,"answer_count":1,"score":0,"last_activity_date":1687277253,"creation_date":1686888846,"question_id":76486918,"body_markdown":"I have been experiencing a weird issue trying to call a GraphQL query using `RestTemplate` from the SpringBoot framework. I say it is weird because it is only happening with this particular query.\r\n\r\nThis is the code I am using (because that is the standard being used at the company):\r\n\r\n    var queryString = String.format(&quot;{ \\&quot;query\\&quot;: \\&quot;{ parameterByName(name:%s) { name, value }}\\&quot; }&quot;, &quot;Limit50-120&quot;);\r\n    var httpHeaders = new HttpHeaders(...Here I set all the required headers...);\r\n    var endpoint = &quot;http://myservice.com/graphql&quot;;\r\n    var endpointAsUri = new URI(endpoint);\r\n    \r\n    ResponseEntity&lt;ParametersResponse&gt; parametersResponseEntity =\r\n                    this.restTemplate.postForEntity(serviceUri, new HttpEntity&lt;&gt;(queryString, httpHeaders), ParametersResponse.class);\r\n\r\nThe response entity holds data as null and in GraphQL errors I am getting the following message:\r\n\r\n    Invalid Syntax : token recognition error at: &#39;-120R&#39; at line 1 column 34\r\n\r\nSeems like it is considering that I am not sending a String (although in other services we have similar implementation and there are no issues), that&#39;s why I tried changing the query string to use double quotes:\r\n\r\n    var queryString = String.format(&quot;{ \\&quot;query\\&quot;: \\&quot;{ parameterByName(name:%s) { name, value }}\\&quot; }&quot;, &quot;\\&quot;Limit50-120\\&quot;&quot;);\r\n\r\nThen I get:\r\n\r\n    400 response: no body.\r\n\r\nIt is weird because it is only happening with this particular call, as mentioned, we have many services that are working with this same approach and we are not having any issues.\r\n\r\nNot sure if I am missing something. By the way, I am using the following dependencies (and I am limited to make this call using these dependencies, I cannot switch to another library or a more modern version of GraphQL):\r\n\r\n&lt;!-- GraphQL Tools  --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAny clue or help will be highly appreciated. Thanks in advance\r\n","title":"Call to GraphQL Query with RestTemplate is giving either 400 or invalid syntax message","body":"<p>I have been experiencing a weird issue trying to call a GraphQL query using <code>RestTemplate</code> from the SpringBoot framework. I say it is weird because it is only happening with this particular query.</p>\n<p>This is the code I am using (because that is the standard being used at the company):</p>\n<pre><code>var queryString = String.format(&quot;{ \\&quot;query\\&quot;: \\&quot;{ parameterByName(name:%s) { name, value }}\\&quot; }&quot;, &quot;Limit50-120&quot;);\nvar httpHeaders = new HttpHeaders(...Here I set all the required headers...);\nvar endpoint = &quot;http://myservice.com/graphql&quot;;\nvar endpointAsUri = new URI(endpoint);\n\nResponseEntity&lt;ParametersResponse&gt; parametersResponseEntity =\n                this.restTemplate.postForEntity(serviceUri, new HttpEntity&lt;&gt;(queryString, httpHeaders), ParametersResponse.class);\n</code></pre>\n<p>The response entity holds data as null and in GraphQL errors I am getting the following message:</p>\n<pre><code>Invalid Syntax : token recognition error at: '-120R' at line 1 column 34\n</code></pre>\n<p>Seems like it is considering that I am not sending a String (although in other services we have similar implementation and there are no issues), that's why I tried changing the query string to use double quotes:</p>\n<pre><code>var queryString = String.format(&quot;{ \\&quot;query\\&quot;: \\&quot;{ parameterByName(name:%s) { name, value }}\\&quot; }&quot;, &quot;\\&quot;Limit50-120\\&quot;&quot;);\n</code></pre>\n<p>Then I get:</p>\n<pre><code>400 response: no body.\n</code></pre>\n<p>It is weird because it is only happening with this particular call, as mentioned, we have many services that are working with this same approach and we are not having any issues.</p>\n<p>Not sure if I am missing something. By the way, I am using the following dependencies (and I am limited to make this call using these dependencies, I cannot switch to another library or a more modern version of GraphQL):</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n        &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;5.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n        &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\n        &lt;version&gt;5.2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Any clue or help will be highly appreciated. Thanks in advance</p>\n"},{"tags":["java","loops","while-loop"],"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1687262002,"post_id":76514401,"comment_id":134909114,"body_markdown":"Just move `String userInput = scanner.nextLine();` into the loop, too.","body":"Just move <code>String userInput = scanner.nextLine();</code> into the loop, too."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1687262028,"post_id":76514401,"comment_id":134909119,"body_markdown":"you only ever ask for new `userInput` inside your loop if the `userInput` is invalid (contains special characters). You also need to ask for new input if the user wants to translate again. You could easily do this by adding an `else` to your `if (!translateAgain.equals(&quot;y&quot;))` block and inside that `else` ask for new user inout.","body":"you only ever ask for new <code>userInput</code> inside your loop if the <code>userInput</code> is invalid (contains special characters). You also need to ask for new input if the user wants to translate again. You could easily do this by adding an <code>else</code> to your <code>if (!translateAgain.equals(&quot;y&quot;))</code> block and inside that <code>else</code> ask for new user inout."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":1,"creation_date":1687262076,"post_id":76514401,"comment_id":134909130,"body_markdown":"Also, you already use `toLowerCase`; can you think of a way how that might help reduce those 12 `if` statements? Even better, create a method `isVowel` and have just a single `if/else` in your loop!","body":"Also, you already use <code>toLowerCase</code>; can you think of a way how that might help reduce those 12 <code>if</code> statements? Even better, create a method <code>isVowel</code> and have just a single <code>if&#47;else</code> in your loop!"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687262156,"post_id":76514401,"comment_id":134909147,"body_markdown":"it&#39;s because you read it first outside the loop. in the loop you only read it again, if it doesn&#39;t matches the regex, but if it matches once, and you don&#39;t alter the value of userInput, it&#39;ll always match","body":"it&#39;s because you read it first outside the loop. in the loop you only read it again, if it doesn&#39;t matches the regex, but if it matches once, and you don&#39;t alter the value of userInput, it&#39;ll always match"},{"owner":{"account_id":28850797,"reputation":1,"user_id":22096744,"display_name":"Pikers Programista"},"score":1,"creation_date":1687262649,"post_id":76514401,"comment_id":134909235,"body_markdown":"Thanks a lot everyone! I have used @tobias_k soultion as I have already spent too much time on this code, but knowledge for all the replies will be useful. I tried to shorten this code by creating an array storing all the vowels, but could not implement it successfully.","body":"Thanks a lot everyone! I have used @tobias_k soultion as I have already spent too much time on this code, but knowledge for all the replies will be useful. I tried to shorten this code by creating an array storing all the vowels, but could not implement it successfully."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1687264302,"post_id":76514401,"comment_id":134909621,"body_markdown":"just a note: `split[i] = split[i].substring(1) + split[i].charAt(0) + &quot;ay&quot;;` this is wrong from your rules `Words that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and \\&quot;-ay\\&quot; is appended. -(&#39;Y&#39; is counted as a vowel in this context).` how do you know that every word will have a vowel in the index 1?  here is are some  examples  where the vowel is at index 2 `black, white , close, drain` and from your rules also, the Y is only counted as a vowel  in the second rule not the first","body":"just a note: <code>split[i] = split[i].substring(1) + split[i].charAt(0) + &quot;ay&quot;;</code> this is wrong from your rules <code>Words that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and \\&quot;-ay\\&quot; is appended. -(&#39;Y&#39; is counted as a vowel in this context).</code> how do you know that every word will have a vowel in the index 1?  here is are some  examples  where the vowel is at index 2 <code>black, white , close, drain</code> and from your rules also, the Y is only counted as a vowel  in the second rule not the first"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687277166,"creation_date":1687275419,"answer_id":76516356,"question_id":76514401,"body_markdown":"&gt; _&quot;I have decided to write first application without using any youtube guide, just coding everthing from scratch. ...&quot;_\r\n\r\nGreat work, it functions well.\r\n\r\nAs other users have mentioned, just move the following line to within the _while-loop_.\r\n\r\n```java\r\nString userInput = scanner.nextLine();\r\n```\r\n\r\nThe reason I&#39;m answering is because it&#39;s worth noting you could reduce the repeated _if-else_ checks.\r\n\r\n```java\r\nchar character;\r\nfor (int i = 0; i &lt; split.length; i++) {\r\n    character = split[i].charAt(0);\r\n    switch (Character.toLowerCase(character)) {\r\n        case &#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39;, &#39;y&#39; -&gt; { }\r\n        default -&gt; split[i] = split[i].substring(1) + split[i].charAt(0);\r\n    }\r\n    System.out.print(split[i].toLowerCase() + &quot;ay &quot;);\r\n}\r\n```\r\n\r\n&gt; _&quot;... I had some ideas using boolean/string arguments, but it still does not work.&quot;_\r\n\r\nAdditionally, you can utilize a _boolean_ to determine when to exit the loop, considering you&#39;re using _while (true)_.\r\n\r\nAnd, for situations where the loop may only iterate once, you can utilize the _do-while_ loop.\r\n\r\nAlso, you can check for an empty user input, as a way to determine when to exit the loop.\r\n\r\n```java\r\nboolean exit = false;\r\ndo {\r\n    String userInput = scanner.nextLine();\r\n    if (userInput.isEmpty()) exit = true;\r\n\r\n} while (!exit);\r\n```\r\n\r\nHere is the complete code.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;Have fun using my Pig Latin translator!&quot;);\r\n    System.out.println(&quot;Those are the rules:&quot;);\r\n    System.out.println(&quot;Words that start with a vowel (A, E, I, O, U) simply have \\&quot;ay\\&quot; appended to the end of the word. &quot;);\r\n    System.out.println(&quot;Words that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and \\&quot;-ay\\&quot; is appended. -(&#39;Y&#39; is counted as a vowel in this context). &quot;);\r\n    System.out.println(&quot;Write a sentence or word to translate into Pig Latin!&quot;);\r\n\r\n    // Loop to translate another word/sentence\r\n\r\n    String userInput;\r\n    String[] split;\r\n    char character;\r\n    boolean exit = false;\r\n    do {\r\n        userInput = scanner.nextLine();\r\n        if (userInput.isEmpty()) exit = true;\r\n        // User input, checking is word/sentence contains only letters or &quot; &quot;\r\n        while (!userInput.matches((&quot;[a-zA-Z\\\\s]+&quot;))) {\r\n            System.out.println(&quot;Numbers and special characters are not allowed, please try again&quot;);\r\n            userInput = scanner.nextLine();\r\n        }\r\n        // Splits sentence into words, then modifies the words based on first letter\r\n        split = userInput.split(&quot;\\\\s&quot;);\r\n\r\n        for (int i = 0; i &lt; split.length; i++) {\r\n            character = split[i].charAt(0);\r\n            switch (Character.toLowerCase(character)) {\r\n                case &#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39;, &#39;y&#39; -&gt; { }\r\n                default -&gt; split[i] = split[i].substring(1) + split[i].charAt(0);\r\n            }\r\n            System.out.print(split[i].toLowerCase() + &quot;ay &quot;);\r\n        }\r\n        // Asks if user want to translate another word/sentence and looping the application\r\n        System.out.println(&quot; &quot;);\r\n        System.out.println(&quot;Do you want to translate another word/sentence?(y/n)&quot;);\r\n        if (!scanner.nextLine().equals(&quot;y&quot;)) exit = true;\r\n    } while (!exit);\r\n}\r\n```\r\n\r\nAnd, here is an example input and output.\r\n\r\n```none\r\nHave fun using my Pig Latin translator!\r\nThose are the rules:\r\nWords that start with a vowel (A, E, I, O, U) simply have &quot;ay&quot; appended to the end of the word. \r\nWords that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and &quot;-ay&quot; is appended. -(&#39;Y&#39; is counted as a vowel in this context). \r\nWrite a sentence or word to translate into Pig Latin!\r\nWrite a sentence or word to translate into Pig Latin\r\nriteway aay entencesay oray ordway otay ranslatetay intoay igpay atinlay  \r\nDo you want to translate another word/sentence?(y/n)\r\n\r\n```","title":"Loop does not go back to the beginning, just reprinting first user&#39;s entry","body":"<blockquote>\n<p><em>&quot;I have decided to write first application without using any youtube guide, just coding everthing from scratch. ...&quot;</em></p>\n</blockquote>\n<p>Great work, it functions well.</p>\n<p>As other users have mentioned, just move the following line to within the <em>while-loop</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String userInput = scanner.nextLine();\n</code></pre>\n<p>The reason I'm answering is because it's worth noting you could reduce the repeated <em>if-else</em> checks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char character;\nfor (int i = 0; i &lt; split.length; i++) {\n    character = split[i].charAt(0);\n    switch (Character.toLowerCase(character)) {\n        case 'a', 'e', 'i', 'o', 'u', 'y' -&gt; { }\n        default -&gt; split[i] = split[i].substring(1) + split[i].charAt(0);\n    }\n    System.out.print(split[i].toLowerCase() + &quot;ay &quot;);\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... I had some ideas using boolean/string arguments, but it still does not work.&quot;</em></p>\n</blockquote>\n<p>Additionally, you can utilize a <em>boolean</em> to determine when to exit the loop, considering you're using <em>while (true)</em>.</p>\n<p>And, for situations where the loop may only iterate once, you can utilize the <em>do-while</em> loop.</p>\n<p>Also, you can check for an empty user input, as a way to determine when to exit the loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean exit = false;\ndo {\n    String userInput = scanner.nextLine();\n    if (userInput.isEmpty()) exit = true;\n\n} while (!exit);\n</code></pre>\n<p>Here is the complete code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Have fun using my Pig Latin translator!&quot;);\n    System.out.println(&quot;Those are the rules:&quot;);\n    System.out.println(&quot;Words that start with a vowel (A, E, I, O, U) simply have \\&quot;ay\\&quot; appended to the end of the word. &quot;);\n    System.out.println(&quot;Words that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and \\&quot;-ay\\&quot; is appended. -('Y' is counted as a vowel in this context). &quot;);\n    System.out.println(&quot;Write a sentence or word to translate into Pig Latin!&quot;);\n\n    // Loop to translate another word/sentence\n\n    String userInput;\n    String[] split;\n    char character;\n    boolean exit = false;\n    do {\n        userInput = scanner.nextLine();\n        if (userInput.isEmpty()) exit = true;\n        // User input, checking is word/sentence contains only letters or &quot; &quot;\n        while (!userInput.matches((&quot;[a-zA-Z\\\\s]+&quot;))) {\n            System.out.println(&quot;Numbers and special characters are not allowed, please try again&quot;);\n            userInput = scanner.nextLine();\n        }\n        // Splits sentence into words, then modifies the words based on first letter\n        split = userInput.split(&quot;\\\\s&quot;);\n\n        for (int i = 0; i &lt; split.length; i++) {\n            character = split[i].charAt(0);\n            switch (Character.toLowerCase(character)) {\n                case 'a', 'e', 'i', 'o', 'u', 'y' -&gt; { }\n                default -&gt; split[i] = split[i].substring(1) + split[i].charAt(0);\n            }\n            System.out.print(split[i].toLowerCase() + &quot;ay &quot;);\n        }\n        // Asks if user want to translate another word/sentence and looping the application\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;Do you want to translate another word/sentence?(y/n)&quot;);\n        if (!scanner.nextLine().equals(&quot;y&quot;)) exit = true;\n    } while (!exit);\n}\n</code></pre>\n<p>And, here is an example input and output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Have fun using my Pig Latin translator!\nThose are the rules:\nWords that start with a vowel (A, E, I, O, U) simply have &quot;ay&quot; appended to the end of the word. \nWords that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and &quot;-ay&quot; is appended. -('Y' is counted as a vowel in this context). \nWrite a sentence or word to translate into Pig Latin!\nWrite a sentence or word to translate into Pig Latin\nriteway aay entencesay oray ordway otay ranslatetay intoay igpay atinlay  \nDo you want to translate another word/sentence?(y/n)\n\n</code></pre>\n"}],"owner":{"account_id":28850797,"reputation":1,"user_id":22096744,"display_name":"Pikers Programista"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1687277166,"creation_date":1687261757,"question_id":76514401,"body_markdown":"I have decided to write first application without using any youtube guide, just coding everthing from scratch. I am happy with the results, but now my program just reprints first user entry/translation, and does not ask for new entry. \r\n\r\nI have put almost all of my code into while loop, expecting that it will rerun the program and ask user for another input. I had some ideas using boolean/string arguments, but it still does not work. \r\n\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Have fun using my Pig Latin translator!&quot;);\r\n        System.out.println(&quot;Those are the rules:&quot;);\r\n        System.out.println(&quot;Words that start with a vowel (A, E, I, O, U) simply have \\&quot;ay\\&quot; appended to the end of the word. &quot;);\r\n        System.out.println(&quot;Words that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and \\&quot;-ay\\&quot; is appended. -(&#39;Y&#39; is counted as a vowel in this context). &quot;);\r\n        System.out.println(&quot;Write a sentence or word to translate into Pig Latin!&quot;);\r\n        String userInput = scanner.nextLine();\r\n\r\n        // Loop to translate another word/sentence\r\n        while (true) {\r\n            // User input, checking is word/sentence contains only letters or &quot; &quot;\r\n            while (!userInput.matches((&quot;[a-zA-Z\\\\s]+&quot;))) {\r\n                System.out.println(&quot;Numbers and special characters are not allowed, please try again&quot;);\r\n                userInput = scanner.nextLine();\r\n            }\r\n            // Splits sentence into words, then modifies the words based on first letter\r\n            String[] split = userInput.split(&quot;\\\\s&quot;);\r\n\r\n            for (int i = 0; i &lt; split.length; i++) {\r\n                if (split[i].startsWith(&quot;a&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;A&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;e&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;E&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;i&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;I&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;o&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;O&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;u&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;U&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;y&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;Y&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else {\r\n                    split[i] = split[i].substring(1) + split[i].charAt(0) + &quot;ay&quot;;\r\n                    System.out.print(split[i].toLowerCase() + &quot; &quot;);\r\n                }\r\n            }\r\n            // Asks if user want to translate another word/sentence and looping the application\r\n            System.out.println(&quot; &quot;);\r\n            System.out.println(&quot;Do you want to translate another word/sentence?(y/n)&quot;);\r\n            String translateAgain = scanner.nextLine();\r\n            if (!translateAgain.equals(&quot;y&quot;)) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Loop does not go back to the beginning, just reprinting first user&#39;s entry","body":"<p>I have decided to write first application without using any youtube guide, just coding everthing from scratch. I am happy with the results, but now my program just reprints first user entry/translation, and does not ask for new entry.</p>\n<p>I have put almost all of my code into while loop, expecting that it will rerun the program and ask user for another input. I had some ideas using boolean/string arguments, but it still does not work.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Have fun using my Pig Latin translator!&quot;);\n        System.out.println(&quot;Those are the rules:&quot;);\n        System.out.println(&quot;Words that start with a vowel (A, E, I, O, U) simply have \\&quot;ay\\&quot; appended to the end of the word. &quot;);\n        System.out.println(&quot;Words that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and \\&quot;-ay\\&quot; is appended. -('Y' is counted as a vowel in this context). &quot;);\n        System.out.println(&quot;Write a sentence or word to translate into Pig Latin!&quot;);\n        String userInput = scanner.nextLine();\n\n        // Loop to translate another word/sentence\n        while (true) {\n            // User input, checking is word/sentence contains only letters or &quot; &quot;\n            while (!userInput.matches((&quot;[a-zA-Z\\\\s]+&quot;))) {\n                System.out.println(&quot;Numbers and special characters are not allowed, please try again&quot;);\n                userInput = scanner.nextLine();\n            }\n            // Splits sentence into words, then modifies the words based on first letter\n            String[] split = userInput.split(&quot;\\\\s&quot;);\n\n            for (int i = 0; i &lt; split.length; i++) {\n                if (split[i].startsWith(&quot;a&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;A&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;e&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;E&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;i&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;I&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;o&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;O&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;u&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;U&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;y&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;Y&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else {\n                    split[i] = split[i].substring(1) + split[i].charAt(0) + &quot;ay&quot;;\n                    System.out.print(split[i].toLowerCase() + &quot; &quot;);\n                }\n            }\n            // Asks if user want to translate another word/sentence and looping the application\n            System.out.println(&quot; &quot;);\n            System.out.println(&quot;Do you want to translate another word/sentence?(y/n)&quot;);\n            String translateAgain = scanner.nextLine();\n            if (!translateAgain.equals(&quot;y&quot;)) {\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","admob","adsense","policy"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687333812,"post_id":76516331,"comment_id":134920435,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28858928,"reputation":11,"user_id":22103165,"display_name":"Test Reactor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687277089,"creation_date":1687275281,"question_id":76516331,"body_markdown":"Please read my question by examining the picture. I drew a simple image for clarity\r\n\r\nIllustration =&gt;(https://i.stack.imgur.com/UzOSH.jpg)\r\n\r\nI have a website and I want to use Adsense ads..\r\nI have Admob account and mobile app in the same Google account.\r\n\r\nThis mobile application has Admob banner and interstitial ads.\r\n\r\nI want to show my Adsense ads website as WebView in my application.\r\n\r\nWill there be a problem according to Adsense policies?\r\n\r\nI have read the Adsense and Admob policies","title":"Can Admob and Adsense Ads Be Used Together in Same Android App?","body":"<p>Please read my question by examining the picture. I drew a simple image for clarity</p>\n<p>Illustration =&gt;(<a href=\"https://i.stack.imgur.com/UzOSH.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/UzOSH.jpg</a>)</p>\n<p>I have a website and I want to use Adsense ads..\nI have Admob account and mobile app in the same Google account.</p>\n<p>This mobile application has Admob banner and interstitial ads.</p>\n<p>I want to show my Adsense ads website as WebView in my application.</p>\n<p>Will there be a problem according to Adsense policies?</p>\n<p>I have read the Adsense and Admob policies</p>\n"},{"tags":["java","asynchronous"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1687275257,"post_id":76516302,"comment_id":134912366,"body_markdown":"`async` is designed to use the clock cycles that are being wasted while your methods are waiting on a result.  It doesn&#39;t require multiple threads; why do you think you need them?","body":"<code>async</code> is designed to use the clock cycles that are being wasted while your methods are waiting on a result.  It doesn&#39;t require multiple threads; why do you think you need them?"},{"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"score":0,"creation_date":1687275400,"post_id":76516302,"comment_id":134912394,"body_markdown":"Hi @RobertHarvey,  I have just updated my true goals at the bottom of my ques.","body":"Hi @RobertHarvey,  I have just updated my true goals at the bottom of my ques."}],"answers":[{"comments":[{"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"score":0,"creation_date":1687279677,"post_id":76516531,"comment_id":134913341,"body_markdown":"Hats off to you first of all. Solution works like a charm, I previously added `static` with the help of suggestion in IDE. Total stuck. 2ndly, I did try `implements AsyncService` for `AsyncServiceImpl`, however it&#39;s throwing me `The bean &#39;asyncServiceImpl&#39; could not be injected because it is a JDK dynamic proxy`. Again, it works as expected when I remove `implements AsyncService`.","body":"Hats off to you first of all. Solution works like a charm, I previously added <code>static</code> with the help of suggestion in IDE. Total stuck. 2ndly, I did try <code>implements AsyncService</code> for <code>AsyncServiceImpl</code>, however it&#39;s throwing me <code>The bean &#39;asyncServiceImpl&#39; could not be injected because it is a JDK dynamic proxy</code>. Again, it works as expected when I remove <code>implements AsyncService</code>."},{"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"score":0,"creation_date":1687282020,"post_id":76516531,"comment_id":134913801,"body_markdown":"Fixed the error `JDK dynamic proxy`.. auto wired to `asyncService` resolved :)","body":"Fixed the error <code>JDK dynamic proxy</code>.. auto wired to <code>asyncService</code> resolved :)"}],"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687276866,"creation_date":1687276866,"answer_id":76516531,"question_id":76516302,"body_markdown":"It isn&#39;t working because you have declared those methods as static.  Since `AsyncServiceImpl` is a Spring stereotyped Service, drop the static from the method definitions, and in the class that you&#39;re calling these methods, call them through the injected proxy.  Here&#39;s an example:\r\n\r\n\r\n    @Service\r\n    public class AsyncServiceImpl {\r\n        @Async(&quot;processExecutor&quot;)\r\n        public void A() {\r\n            for(int i=0; i&lt;100; i++){\r\n                System.out.println(&quot;A&quot;);\r\n            }\r\n        }\r\n\r\n        @Async(&quot;processExecutor&quot;)\r\n        public void B() {\r\n            for(int i=0; i&lt;100; i++){\r\n                System.out.println(&quot;B&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Service\r\n    public class AnotherServiceImpl implements AnotherService {\r\n        private final AsyncServiceImpl asyncService;\r\n        \r\n        public AnotherServiceImpl(AsyncServiceImpl asyncService) {\r\n            this.asyncService = asyncService;\r\n        }\r\n        \r\n        @Override\r\n        public void C() {\r\n            asyncService.A();\r\n            asyncService.B();\r\n        }\r\n    }\r\n\r\nHere are some other tips.  Your class AsyncServiceImpl doesn&#39;t implement an interface; name it AsyncService.  `anotherServiceImpl` and `anotherService` should be named, AnotherServiceImpl and AnotherService.  Those are good habits to get into even when you&#39;re just typing a question in SO.\r\n","title":"How can I run @Async properly in Java?","body":"<p>It isn't working because you have declared those methods as static.  Since <code>AsyncServiceImpl</code> is a Spring stereotyped Service, drop the static from the method definitions, and in the class that you're calling these methods, call them through the injected proxy.  Here's an example:</p>\n<pre><code>@Service\npublic class AsyncServiceImpl {\n    @Async(&quot;processExecutor&quot;)\n    public void A() {\n        for(int i=0; i&lt;100; i++){\n            System.out.println(&quot;A&quot;);\n        }\n    }\n\n    @Async(&quot;processExecutor&quot;)\n    public void B() {\n        for(int i=0; i&lt;100; i++){\n            System.out.println(&quot;B&quot;);\n        }\n    }\n}\n\n@Service\npublic class AnotherServiceImpl implements AnotherService {\n    private final AsyncServiceImpl asyncService;\n    \n    public AnotherServiceImpl(AsyncServiceImpl asyncService) {\n        this.asyncService = asyncService;\n    }\n    \n    @Override\n    public void C() {\n        asyncService.A();\n        asyncService.B();\n    }\n}\n</code></pre>\n<p>Here are some other tips.  Your class AsyncServiceImpl doesn't implement an interface; name it AsyncService.  <code>anotherServiceImpl</code> and <code>anotherService</code> should be named, AnotherServiceImpl and AnotherService.  Those are good habits to get into even when you're just typing a question in SO.</p>\n"}],"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76516531,"answer_count":1,"score":1,"last_activity_date":1687276866,"creation_date":1687274987,"question_id":76516302,"body_markdown":"Read countless of articles and Stackoverflow questions (too many, just not gonna list them), still my `@Async` doesn&#39;t seem to work as expected.\r\n\r\n**What I&#39;m trying to do?**\r\n1. Public method A() print A 100 times, sitting at class `AsyncServiceImpl`\r\n2. Public method B() print A 100 times, sitting at class `AsyncServiceImpl`\r\n3. Both method A &amp; B is called by another method C(), sitting at class `anotherClassImpl`\r\n\r\n**Current result**\r\n```\r\nA A A A (after 100 times printing of A...) B B B B (Follow by 100 times printing of B)\r\n```\r\n\r\n**Result expected to be:** \r\n```\r\nA A A A B B A A A A B B B A A ... B A .... \r\n\r\n## Since both methods run asynchronously, I expect mixed of printing.\r\n```\r\n\r\n\r\n## Actual Codes\r\nclass anotherServiceImpl\r\n```\r\n@Service\r\npublic class anotherServiceImpl implements anotherService{\r\n    @Override\r\n    public void C() {\r\n        AsyncServiceImpl.A();\r\n        AsyncServiceImpl.B();\r\n    }\r\n}\r\n```\r\n\r\nclass AsyncServiceImpl\r\n```\r\n@Service\r\npublic class AsyncServiceImpl {\r\n    @Async(&quot;processExecutor&quot;)\r\n    public static void A() {\r\n        for(int i=0; i&lt;100; i++){\r\n            System.out.println(&quot;A&quot;);\r\n        }\r\n    }\r\n\r\n    @Async(&quot;processExecutor&quot;)\r\n    public static void B() {\r\n        for(int i=0; i&lt;100; i++){\r\n            System.out.println(&quot;B&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Few check marks**\r\n\r\n1. @EnableAsync is added at my main starting Class which look something like \r\n```\r\n@SpringBootApplication\r\n@EnableAsync\r\npublic class AsyncTestAPI {\r\n\r\n    public static void main(String[] args) { SpringApplication.run(AsyncTestAPI.class, args); }\r\n\r\n    @Bean(name=&quot;processExecutor&quot;)\r\n    public Executor taskExecutor() {\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(100);\r\n        executor.setMaxPoolSize(200);\r\n        executor.setQueueCapacity(500);\r\n        executor.setThreadNamePrefix(&quot;GithubLookup-&quot;);\r\n        executor.initialize();\r\n        return executor;\r\n    }\r\n\r\n}\r\n```\r\n\r\n2. Methods that annotated with @Async is public\r\n3. Methods that annotated with @Async is not sitting in the same class from where is being called\r\n4. Setup `ThreadPoolTaskExecutor` \r\n\r\n\r\n### My True goal\r\nMy ultimate goal is to use `@Async` to\r\n- do some processing on given business logic \r\n- Hibernate.saveAll() / .save() / .etc (some actions with Database)\r\n","title":"How can I run @Async properly in Java?","body":"<p>Read countless of articles and Stackoverflow questions (too many, just not gonna list them), still my <code>@Async</code> doesn't seem to work as expected.</p>\n<p><strong>What I'm trying to do?</strong></p>\n<ol>\n<li>Public method A() print A 100 times, sitting at class <code>AsyncServiceImpl</code></li>\n<li>Public method B() print A 100 times, sitting at class <code>AsyncServiceImpl</code></li>\n<li>Both method A &amp; B is called by another method C(), sitting at class <code>anotherClassImpl</code></li>\n</ol>\n<p><strong>Current result</strong></p>\n<pre><code>A A A A (after 100 times printing of A...) B B B B (Follow by 100 times printing of B)\n</code></pre>\n<p><strong>Result expected to be:</strong></p>\n<pre><code>A A A A B B A A A A B B B A A ... B A .... \n\n## Since both methods run asynchronously, I expect mixed of printing.\n</code></pre>\n<h2>Actual Codes</h2>\n<p>class anotherServiceImpl</p>\n<pre><code>@Service\npublic class anotherServiceImpl implements anotherService{\n    @Override\n    public void C() {\n        AsyncServiceImpl.A();\n        AsyncServiceImpl.B();\n    }\n}\n</code></pre>\n<p>class AsyncServiceImpl</p>\n<pre><code>@Service\npublic class AsyncServiceImpl {\n    @Async(&quot;processExecutor&quot;)\n    public static void A() {\n        for(int i=0; i&lt;100; i++){\n            System.out.println(&quot;A&quot;);\n        }\n    }\n\n    @Async(&quot;processExecutor&quot;)\n    public static void B() {\n        for(int i=0; i&lt;100; i++){\n            System.out.println(&quot;B&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Few check marks</strong></p>\n<ol>\n<li>@EnableAsync is added at my main starting Class which look something like</li>\n</ol>\n<pre><code>@SpringBootApplication\n@EnableAsync\npublic class AsyncTestAPI {\n\n    public static void main(String[] args) { SpringApplication.run(AsyncTestAPI.class, args); }\n\n    @Bean(name=&quot;processExecutor&quot;)\n    public Executor taskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(100);\n        executor.setMaxPoolSize(200);\n        executor.setQueueCapacity(500);\n        executor.setThreadNamePrefix(&quot;GithubLookup-&quot;);\n        executor.initialize();\n        return executor;\n    }\n\n}\n</code></pre>\n<ol start=\"2\">\n<li>Methods that annotated with @Async is public</li>\n<li>Methods that annotated with @Async is not sitting in the same class from where is being called</li>\n<li>Setup <code>ThreadPoolTaskExecutor</code></li>\n</ol>\n<h3>My True goal</h3>\n<p>My ultimate goal is to use <code>@Async</code> to</p>\n<ul>\n<li>do some processing on given business logic</li>\n<li>Hibernate.saveAll() / .save() / .etc (some actions with Database)</li>\n</ul>\n"},{"tags":["java","spring-boot","web-services","soap","error-handling"],"answers":[{"tags":[],"owner":{"account_id":17083110,"reputation":1,"user_id":12361059,"display_name":"user12361059"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687276811,"creation_date":1687190413,"answer_id":76508300,"question_id":76508185,"body_markdown":"Create a class that implements the `SoapFaultDefinitionExceptionResolver` interface. This class will serve as your custom SOAP error handler. Here&#39;s an example:\r\n```java\r\npublic class CustomSoapFaultExceptionResolver extends AbstractEndpointExceptionResolver {\r\n\r\n    private SoapFaultDefinition faultDefinition;\r\n\r\n    public CustomSoapFaultExceptionResolver() {\r\n        faultDefinition = new SoapFaultDefinition();\r\n        faultDefinition.setFaultCode(SoapFaultDefinition.SERVER);\r\n        faultDefinition.setFaultStringOrReason(&quot;Internal Server Error&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected boolean resolveExceptionInternal(MessageContext messageContext, Object endpoint, Exception ex) {\r\n        SoapBody soapBody = messageContext.getResponse().getSoapBody();\r\n        SoapFault fault = faultDefinition.getSoapFault(messageContext.getMessageFactory());\r\n        SoapFaultDetail faultDetail = fault.addFaultDetail();\r\n        SoapFaultDetailElement detailElement = faultDetail.addFaultDetailElement(QName.valueOf(&quot;error&quot;));\r\n        detailElement.addText(&quot;An error occurred while processing the request.&quot;);\r\n        soapBody.addFault(fault);\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nConfigure the custom SOAP error handler bean in your Spring configuration file (e.g., `applicationContext.xml` or `SpringBootApplicaton.java`). For example:\r\n```java\r\n@Configuration\r\npublic class WebServiceConfig extends WsConfigurerAdapter {\r\n\r\n    @Bean\r\n    public CustomSoapFaultExceptionResolver \r\n    customSoapFaultExceptionResolver() {\r\n        return new CustomSoapFaultExceptionResolver();\r\n    }\r\n\r\n    @Override\r\n    public void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors) {\r\n        interceptors.add(customSoapFaultExceptionResolver());\r\n    }\r\n}\r\n```\r\nWith the custom error handler configured, any unhandled exceptions thrown during SOAP request processing will be caught by the `CustomSoapFaultExceptionResolver`. In the `resolveExceptionInternal` method, you can customize the SOAP fault definition and add additional details as needed\r\nNote that the above example uses the Spring XML configuration approach. If you are using Spring Boot, you can adapt the configuration to use Java-based configuration or modify the `application.properties` file accordingly.","title":"how to add a catch all SOAP error handler to a spring webservice?","body":"<p>Create a class that implements the <code>SoapFaultDefinitionExceptionResolver</code> interface. This class will serve as your custom SOAP error handler. Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomSoapFaultExceptionResolver extends AbstractEndpointExceptionResolver {\n\n    private SoapFaultDefinition faultDefinition;\n\n    public CustomSoapFaultExceptionResolver() {\n        faultDefinition = new SoapFaultDefinition();\n        faultDefinition.setFaultCode(SoapFaultDefinition.SERVER);\n        faultDefinition.setFaultStringOrReason(&quot;Internal Server Error&quot;);\n    }\n\n    @Override\n    protected boolean resolveExceptionInternal(MessageContext messageContext, Object endpoint, Exception ex) {\n        SoapBody soapBody = messageContext.getResponse().getSoapBody();\n        SoapFault fault = faultDefinition.getSoapFault(messageContext.getMessageFactory());\n        SoapFaultDetail faultDetail = fault.addFaultDetail();\n        SoapFaultDetailElement detailElement = faultDetail.addFaultDetailElement(QName.valueOf(&quot;error&quot;));\n        detailElement.addText(&quot;An error occurred while processing the request.&quot;);\n        soapBody.addFault(fault);\n        return true;\n    }\n}\n</code></pre>\n<p>Configure the custom SOAP error handler bean in your Spring configuration file (e.g., <code>applicationContext.xml</code> or <code>SpringBootApplicaton.java</code>). For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebServiceConfig extends WsConfigurerAdapter {\n\n    @Bean\n    public CustomSoapFaultExceptionResolver \n    customSoapFaultExceptionResolver() {\n        return new CustomSoapFaultExceptionResolver();\n    }\n\n    @Override\n    public void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors) {\n        interceptors.add(customSoapFaultExceptionResolver());\n    }\n}\n</code></pre>\n<p>With the custom error handler configured, any unhandled exceptions thrown during SOAP request processing will be caught by the <code>CustomSoapFaultExceptionResolver</code>. In the <code>resolveExceptionInternal</code> method, you can customize the SOAP fault definition and add additional details as needed\nNote that the above example uses the Spring XML configuration approach. If you are using Spring Boot, you can adapt the configuration to use Java-based configuration or modify the <code>application.properties</code> file accordingly.</p>\n"}],"owner":{"account_id":1400106,"reputation":121,"user_id":1329042,"accept_rate":100,"display_name":"kamil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687276811,"creation_date":1687189434,"question_id":76508185,"body_markdown":"I have a spring application that takes in SOAP requests via a webservice and I want to set up a custom error handler that acts as a catch all error handler for any broken SOAP requests and return a generic message.\r\n\r\nwhen the application gets a broken SOAP request sent by SOAP-Ui, am currently getting an error in my logs :\r\n\r\n```\r\norg.springframework.ws.soap.SoapMessageCreationException: Could not create message from InputStream: Not a valid SOAP Content-Type: application/x-www-form-urlencoded; nested exception is oracle.j2ee.ws.saaj.ContentTypeException: Not a valid SOAP Content-Type: application/x-www-form-urlencoded\r\n\tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:204)\r\n\tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:61)\r\n\tat org.springframework.ws.transport.AbstractWebServiceConnection.receive(AbstractWebServiceConnection.java:89)\r\n\tat org.springframework.ws.transport.support.WebServiceMessageReceiverObjectSupport.handleConnection(WebServiceMessageReceiverObjectSupport.java:86)\r\n\tat org.springframework.ws.transport.http.WebServiceMessageReceiverHandlerAdapter.handle(WebServiceMessageReceiverHandlerAdapter.java:60)\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.doService(MessageDispatcherServlet.java:288)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n\tat weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:286)\r\n\tat weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:260)\r\n\tat weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:137)\r\n\tat weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:350)\r\n\tat weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:25)\r\n\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\r\n\tat weblogic.servlet.internal.RequestDispatcherImpl.invokeServlet(RequestDispatcherImpl.java:631)\r\n\tat weblogic.servlet.internal.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:287)\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.handleErrorStatus(ErrorPageFilter.java:161)\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:128)\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64)\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119)\r\n\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\r\n\tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3701)\r\n\tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3667)\r\n\tat weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:326)\r\n\tat weblogic.security.service.SecurityManager.runAsForUserCode(SecurityManager.java:197)\r\n\tat weblogic.servlet.provider.WlsSecurityProvider.runAsForUserCode(WlsSecurityProvider.java:203)\r\n\tat weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:71)\r\n\tat weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2443)\r\n\tat weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2291)\r\n\tat weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2269)\r\n\tat weblogic.servlet.internal.ServletRequestImpl.runInternal(ServletRequestImpl.java:1703)\r\n\tat weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1663)\r\n\tat weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:272)\r\n\tat weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\r\n\tat weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\r\n\tat weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\r\n\tat weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\r\n\tat weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:644)\r\n\tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:415)\r\n\tat weblogic.work.ExecuteThread.run(ExecuteThread.java:355)\r\nCaused by: oracle.j2ee.ws.saaj.ContentTypeException: Not a valid SOAP Content-Type: application/x-www-form-urlencoded\r\n\tat oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.internalCreateVersionedMessage(MessageFactoryImpl.java:383)\r\n\tat oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.createVersionedMessage(MessageFactoryImpl.java:217)\r\n\tat oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.createVersionedMessage(MessageFactoryImpl.java:212)\r\n\tat oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.createMessage(MessageFactoryImpl.java:166)\r\n\tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:180)\r\n\t... 49 common frames omitted\r\n```\r\n\r\nand as a response on soap Ui, i get :\r\n\r\n```\r\n      &lt;env:Fault&gt;\r\n         &lt;faultcode&gt;env:Server&lt;/faultcode&gt;\r\n         &lt;faultstring&gt;com.ctc.wstx.exc.WstxParsingException: Unexpected close tag &amp;lt;/apm:PIN&gt;; expected &amp;lt;/apm:record&gt;.\r\n at [row,col {unknown-source}]: [8,45]&lt;/faultstring&gt;\r\n      &lt;/env:Fault&gt;\r\n```\r\n\r\nI have tried to create my own exception handler and annotate it with soapfault for faultcore.server\r\nbut this does not appear to have been picked up by spring\r\n\r\n```\r\n@SoapFault(faultCode = FaultCode.SERVER)\r\npublic class simpleSoapErrorHandler extends Exception\r\n{\r\n    public simpleSoapErrorHandler(String message) {\r\n        super(message);\r\n    }\r\n}\r\n```\r\n\r\ni get the impression there is something missing , i think am supposed to register the error handler somehow but am not sure how to approach it since all the configuration is done in spring-integration.xml","title":"how to add a catch all SOAP error handler to a spring webservice?","body":"<p>I have a spring application that takes in SOAP requests via a webservice and I want to set up a custom error handler that acts as a catch all error handler for any broken SOAP requests and return a generic message.</p>\n<p>when the application gets a broken SOAP request sent by SOAP-Ui, am currently getting an error in my logs :</p>\n<pre><code>org.springframework.ws.soap.SoapMessageCreationException: Could not create message from InputStream: Not a valid SOAP Content-Type: application/x-www-form-urlencoded; nested exception is oracle.j2ee.ws.saaj.ContentTypeException: Not a valid SOAP Content-Type: application/x-www-form-urlencoded\n    at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:204)\n    at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:61)\n    at org.springframework.ws.transport.AbstractWebServiceConnection.receive(AbstractWebServiceConnection.java:89)\n    at org.springframework.ws.transport.support.WebServiceMessageReceiverObjectSupport.handleConnection(WebServiceMessageReceiverObjectSupport.java:86)\n    at org.springframework.ws.transport.http.WebServiceMessageReceiverHandlerAdapter.handle(WebServiceMessageReceiverHandlerAdapter.java:60)\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.doService(MessageDispatcherServlet.java:288)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:286)\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:260)\n    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:137)\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:350)\n    at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:25)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\n    at weblogic.servlet.internal.RequestDispatcherImpl.invokeServlet(RequestDispatcherImpl.java:631)\n    at weblogic.servlet.internal.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:287)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.handleErrorStatus(ErrorPageFilter.java:161)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:128)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3701)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3667)\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:326)\n    at weblogic.security.service.SecurityManager.runAsForUserCode(SecurityManager.java:197)\n    at weblogic.servlet.provider.WlsSecurityProvider.runAsForUserCode(WlsSecurityProvider.java:203)\n    at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:71)\n    at weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2443)\n    at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2291)\n    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2269)\n    at weblogic.servlet.internal.ServletRequestImpl.runInternal(ServletRequestImpl.java:1703)\n    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1663)\n    at weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:272)\n    at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\n    at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\n    at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\n    at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\n    at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:644)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:415)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:355)\nCaused by: oracle.j2ee.ws.saaj.ContentTypeException: Not a valid SOAP Content-Type: application/x-www-form-urlencoded\n    at oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.internalCreateVersionedMessage(MessageFactoryImpl.java:383)\n    at oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.createVersionedMessage(MessageFactoryImpl.java:217)\n    at oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.createVersionedMessage(MessageFactoryImpl.java:212)\n    at oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.createMessage(MessageFactoryImpl.java:166)\n    at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:180)\n    ... 49 common frames omitted\n</code></pre>\n<p>and as a response on soap Ui, i get :</p>\n<pre><code>      &lt;env:Fault&gt;\n         &lt;faultcode&gt;env:Server&lt;/faultcode&gt;\n         &lt;faultstring&gt;com.ctc.wstx.exc.WstxParsingException: Unexpected close tag &amp;lt;/apm:PIN&gt;; expected &amp;lt;/apm:record&gt;.\n at [row,col {unknown-source}]: [8,45]&lt;/faultstring&gt;\n      &lt;/env:Fault&gt;\n</code></pre>\n<p>I have tried to create my own exception handler and annotate it with soapfault for faultcore.server\nbut this does not appear to have been picked up by spring</p>\n<pre><code>@SoapFault(faultCode = FaultCode.SERVER)\npublic class simpleSoapErrorHandler extends Exception\n{\n    public simpleSoapErrorHandler(String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>i get the impression there is something missing , i think am supposed to register the error handler somehow but am not sure how to approach it since all the configuration is done in spring-integration.xml</p>\n"},{"tags":["java","http","curl"],"owner":{"account_id":24571441,"reputation":27,"user_id":18477797,"display_name":"Nguyễn Kh&#244;i"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687276686,"creation_date":1687276686,"question_id":76516512,"body_markdown":"I have 2 curl commands like the following:\r\n\r\nIn the first command, I want to get refresh token from dropbox api\r\n```\r\ncurl https://api.dropbox.com/oauth2/token -d code=&lt;received code&gt; -d grant_type=authorization_code -u &lt;App key&gt;:&lt;App secret&gt;\r\n```\r\n\r\nIn the second command, I want to get the new access token from dropbox api depend on refresh token obtained\r\n```\r\ncurl https://api.dropbox.com/oauth2/token -d grant_type=refresh_token -d refresh_token=&lt;Refresh token&gt; -u &lt;App key&gt;:&lt;App secret&gt;\r\n```","title":"How to convert curl&#39;s dropbox api to http post request in java","body":"<p>I have 2 curl commands like the following:</p>\n<p>In the first command, I want to get refresh token from dropbox api</p>\n<pre><code>curl https://api.dropbox.com/oauth2/token -d code=&lt;received code&gt; -d grant_type=authorization_code -u &lt;App key&gt;:&lt;App secret&gt;\n</code></pre>\n<p>In the second command, I want to get the new access token from dropbox api depend on refresh token obtained</p>\n<pre><code>curl https://api.dropbox.com/oauth2/token -d grant_type=refresh_token -d refresh_token=&lt;Refresh token&gt; -u &lt;App key&gt;:&lt;App secret&gt;\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":28841654,"reputation":1,"user_id":22089743,"display_name":"Dviraz12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687276605,"creation_date":1687032615,"question_id":76497971,"body_markdown":"I am using the &quot;youtube extractor&quot; library in my Android Studio music project and previously used the &quot;master-SNAPSHOT&quot; version. However, since encountering an issue, I switched to version &quot;v2.1.0&quot;. Now, I am having problems with the &quot;ytFiles&quot; variable, which is returning null instead of containing information about the YouTube video. Can anyone assist me with this issue? The relevant code is as follows: \r\n\r\n    implementation &#39;com.github.HaarigerHarald:android-youtubeExtractor:v2.1.0&#39;\r\n\r\nmy java code:\r\n\r\n        YouTubeExtractor somxt = new YouTubeExtractor(this) {\r\n            @Override\r\n            protected void onExtractionComplete(SparseArray&lt;YtFile&gt; ytFiles, VideoMeta videoMeta) {\r\n                List&lt;Integer&gt; iTags = Arrays.asList(249);//download it as a webm type\r\n\r\n                for (Integer iTag : iTags) {\r\n\r\n                    YtFile ytFile = ytFiles.get(iTag);\r\n                    try {\r\n\r\n                        if (ytFile != null) {\r\n\r\n                            String downloadUrl = ytFile.getUrl();\r\n\r\n                            if (downloadUrl != null &amp;&amp; !downloadUrl.isEmpty()) {\r\n\r\n                                Toast.makeText(downloadSong.this, &quot;Download started...&quot;, Toast.LENGTH_SHORT).show();\r\n                                downloadSong(downloadUrl, name + &quot;.webm&quot;);//start the download of the song\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                    catch (Exception e)\r\n                    {\r\n                        Toast.makeText(downloadSong.this,e.toString(),Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n```","title":"ytFiles is null in youtubeExtractor &quot;onExtractionComplete&quot; func","body":"<p>I am using the &quot;youtube extractor&quot; library in my Android Studio music project and previously used the &quot;master-SNAPSHOT&quot; version. However, since encountering an issue, I switched to version &quot;v2.1.0&quot;. Now, I am having problems with the &quot;ytFiles&quot; variable, which is returning null instead of containing information about the YouTube video. Can anyone assist me with this issue? The relevant code is as follows:</p>\n<pre><code>implementation 'com.github.HaarigerHarald:android-youtubeExtractor:v2.1.0'\n</code></pre>\n<p>my java code:</p>\n<pre><code>    YouTubeExtractor somxt = new YouTubeExtractor(this) {\n        @Override\n        protected void onExtractionComplete(SparseArray&lt;YtFile&gt; ytFiles, VideoMeta videoMeta) {\n            List&lt;Integer&gt; iTags = Arrays.asList(249);//download it as a webm type\n\n            for (Integer iTag : iTags) {\n\n                YtFile ytFile = ytFiles.get(iTag);\n                try {\n\n                    if (ytFile != null) {\n\n                        String downloadUrl = ytFile.getUrl();\n\n                        if (downloadUrl != null &amp;&amp; !downloadUrl.isEmpty()) {\n\n                            Toast.makeText(downloadSong.this, &quot;Download started...&quot;, Toast.LENGTH_SHORT).show();\n                            downloadSong(downloadUrl, name + &quot;.webm&quot;);//start the download of the song\n                            return;\n                        }\n                    }\n                }\n                catch (Exception e)\n                {\n                    Toast.makeText(downloadSong.this,e.toString(),Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n    };\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","spring-boot","junit","mockito","jms"],"owner":{"account_id":4188912,"reputation":518,"user_id":3431952,"accept_rate":62,"display_name":"Neeraj Athalye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687276335,"creation_date":1687274601,"question_id":76516250,"body_markdown":"I have a `void` method that sends a message to a JMS queue, and I am trying to write a test to test the text message that is sent to the queue. \r\n\r\nHere is the code excerpt of the publish method in my service: \r\n```java\r\ntry (Connection connection = connectionFactory.createConnection(smiQueue.getUserName(), smiQueue.getPassword())) {\r\n    connection.start();\r\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n    Destination destination = session.createQueue(trade.getEnvironment() + &quot;.&quot; + trade.getQueueName());\r\n    MessageProducer messageProducer = session.createProducer(destination);\r\n    TextMessage textMessage = session.createTextMessage(trade.getTradeContent());\r\n\r\n    messageProducer.send(textMessage);\r\n\r\n    messageProducer.close();\r\n    session.close();\r\n} catch (Exception e) {\r\n    throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, e.getMessage());\r\n}\r\n```\r\nHere is the integration test for that logic: \r\n```java\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureWireMock(port = 8084, stubs = &quot;classpath:wiremock/mappings&quot;, files = &quot;classpath:wiremock/&quot;)\r\n@AutoConfigureMockMvc(addFilters = false)\r\n@ActiveProfiles(&quot;TEST&quot;)\r\nclass MyServiceIntegrationTest {\r\n\r\n    @InjectMocks\r\n    @Autowired\r\n    MyService myService;\r\n\r\n    @MockBean\r\n    MessageProducer messageProducer;\r\n\r\n    @Captor\r\n    ArgumentCaptor&lt;TextMessage&gt; textMessageCaptor;\r\n\r\n    @Rule\r\n    public EmbeddedActiveMQBroker broker = new EmbeddedActiveMQBroker();\r\n\r\n    @Test\r\n    @DisplayName(&quot;should publish to queue&quot;)\r\n    void shouldPublishToQueue() throws Exception {\r\n        myService.publish(TestUtil.getTrade());\r\n\r\n        verify(messageProducer).send(textMessageCaptor.capture());\r\n        TextMessage textMessage = textMessageCaptor.getValue();\r\n        assertEquals(TestUtil.getTrade().getTradeContent(), textMessage.getText());\r\n    }\r\n}\r\n```\r\nThe test fails and I get the following error: \r\n```\r\nWanted but not invoked:\r\n    org.apache.activemq.ActiveMQMessageProducerSupport#0 bean.send(\r\n        &lt;any javax.jms.TextMessage&gt;\r\n    );\r\n    -&gt; at MyServiceIntegrationTest.shouldPublishToQueue(MyServiceIntegrationTest.java:81)\r\n    Actually, there were zero interactions with this mock.\r\n```\r\nThe `main` function is working as expected, and my message is posted to the queue, but the verify in the test says that there were no interactions.","title":"Zero interactions with verify with Argument Captor for JMS test","body":"<p>I have a <code>void</code> method that sends a message to a JMS queue, and I am trying to write a test to test the text message that is sent to the queue.</p>\n<p>Here is the code excerpt of the publish method in my service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Connection connection = connectionFactory.createConnection(smiQueue.getUserName(), smiQueue.getPassword())) {\n    connection.start();\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n    Destination destination = session.createQueue(trade.getEnvironment() + &quot;.&quot; + trade.getQueueName());\n    MessageProducer messageProducer = session.createProducer(destination);\n    TextMessage textMessage = session.createTextMessage(trade.getTradeContent());\n\n    messageProducer.send(textMessage);\n\n    messageProducer.close();\n    session.close();\n} catch (Exception e) {\n    throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, e.getMessage());\n}\n</code></pre>\n<p>Here is the integration test for that logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureWireMock(port = 8084, stubs = &quot;classpath:wiremock/mappings&quot;, files = &quot;classpath:wiremock/&quot;)\n@AutoConfigureMockMvc(addFilters = false)\n@ActiveProfiles(&quot;TEST&quot;)\nclass MyServiceIntegrationTest {\n\n    @InjectMocks\n    @Autowired\n    MyService myService;\n\n    @MockBean\n    MessageProducer messageProducer;\n\n    @Captor\n    ArgumentCaptor&lt;TextMessage&gt; textMessageCaptor;\n\n    @Rule\n    public EmbeddedActiveMQBroker broker = new EmbeddedActiveMQBroker();\n\n    @Test\n    @DisplayName(&quot;should publish to queue&quot;)\n    void shouldPublishToQueue() throws Exception {\n        myService.publish(TestUtil.getTrade());\n\n        verify(messageProducer).send(textMessageCaptor.capture());\n        TextMessage textMessage = textMessageCaptor.getValue();\n        assertEquals(TestUtil.getTrade().getTradeContent(), textMessage.getText());\n    }\n}\n</code></pre>\n<p>The test fails and I get the following error:</p>\n<pre><code>Wanted but not invoked:\n    org.apache.activemq.ActiveMQMessageProducerSupport#0 bean.send(\n        &lt;any javax.jms.TextMessage&gt;\n    );\n    -&gt; at MyServiceIntegrationTest.shouldPublishToQueue(MyServiceIntegrationTest.java:81)\n    Actually, there were zero interactions with this mock.\n</code></pre>\n<p>The <code>main</code> function is working as expected, and my message is posted to the queue, but the verify in the test says that there were no interactions.</p>\n"},{"tags":["java","graphics","java-2d"],"comments":[{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":1,"creation_date":1687158914,"post_id":76503629,"comment_id":134892287,"body_markdown":"Please add some code to show what you have tried so far.","body":"Please add some code to show what you have tried so far."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1687161968,"post_id":76503629,"comment_id":134892849,"body_markdown":"find the (coordinates of) first and the last pixel that is green or non-white - mean value of coordinates is the center of the square","body":"find the (coordinates of) first and the last pixel that is green or non-white - mean value of coordinates is the center of the square"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1687167296,"post_id":76503629,"comment_id":134894001,"body_markdown":"Assuming you have a raster of all the color values of the image, you do a variation of a binary search until you find one non-white pixel.  Then you do a variation of a flood fill to find the coordinate of the top left non-white pixel and the coordinate of the bottom right non-white pixel.  As @user16320675 said, you find the mean of the two coordinates.  And, no, this will not be fast.","body":"Assuming you have a raster of all the color values of the image, you do a variation of a binary search until you find one non-white pixel.  Then you do a variation of a flood fill to find the coordinate of the top left non-white pixel and the coordinate of the bottom right non-white pixel.  As @user16320675 said, you find the mean of the two coordinates.  And, no, this will not be fast."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687174446,"post_id":76503629,"comment_id":134895439,"body_markdown":"instead of binary search, you can also search every 20th pixel per direction (since the square is at least 20 pixels width) to find one pixel of the square and then use binary search to find the corners (we know they are at most 30 pixels apart)","body":"instead of binary search, you can also search every 20th pixel per direction (since the square is at least 20 pixels width) to find one pixel of the square and then use binary search to find the corners (we know they are at most 30 pixels apart)"},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1687240522,"post_id":76503629,"comment_id":134904764,"body_markdown":"Yes looking every 20th and 30th pixel is the way binary search and flood fill is useless for this will be too slow. Just be carefull JPG is lossy so the color values will have noise in it","body":"Yes looking every 20th and 30th pixel is the way binary search and flood fill is useless for this will be too slow. Just be carefull JPG is lossy so the color values will have noise in it"},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1687249995,"post_id":76503629,"comment_id":134906393,"body_markdown":"@user16320675 yes but I am afraid that added overhead of binary search will slow things down for such small rectangles","body":"@user16320675 yes but I am afraid that added overhead of binary search will slow things down for such small rectangles"}],"answers":[{"tags":[],"owner":{"account_id":215705,"reputation":1391,"user_id":470502,"accept_rate":46,"display_name":"Sander Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687275765,"creation_date":1687275765,"answer_id":76516406,"question_id":76503629,"body_markdown":"Thanks to everyone who helped. Your comments were useful.\r\n\r\nI found that the most efficient way to do this was to just use a quasi-brute force method. I walk the pixel grid with a step of 30 pixels in both x and y direction. The images I&#39;m searching ar around 2k X 2k, so this is pretty quick. Once I find one pixel, I just create a neighborhood around it that&#39;s 30 pixes in each direction. This way I can find exactly where the square is.\r\n\r\nTwo more benefits. I did find that many pixels were almost the correct color due to roundoff error from the producer. I was also able to see that the squares were exactly 30 pixels on each side. If they aren&#39;t, I know there&#39;s a problem with the process that producces it.\r\n\r\nIn actual practice, this code is far faster than I would have imagined - no need to try and optimize.","title":"Finding a square in a blank image","body":"<p>Thanks to everyone who helped. Your comments were useful.</p>\n<p>I found that the most efficient way to do this was to just use a quasi-brute force method. I walk the pixel grid with a step of 30 pixels in both x and y direction. The images I'm searching ar around 2k X 2k, so this is pretty quick. Once I find one pixel, I just create a neighborhood around it that's 30 pixes in each direction. This way I can find exactly where the square is.</p>\n<p>Two more benefits. I did find that many pixels were almost the correct color due to roundoff error from the producer. I was also able to see that the squares were exactly 30 pixels on each side. If they aren't, I know there's a problem with the process that producces it.</p>\n<p>In actual practice, this code is far faster than I would have imagined - no need to try and optimize.</p>\n"}],"owner":{"account_id":215705,"reputation":1391,"user_id":470502,"accept_rate":46,"display_name":"Sander Smith"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687275765,"creation_date":1687149284,"question_id":76503629,"body_markdown":"Let&#39;s say I have a JPG image that&#39;s completely white except for a green filled in square that&#39;s placed randomly. The square has equal side lengths of between 20 and 30 pixels.\r\n\r\nI&#39;d like to write a Java program to find the exact center of this square. I know there must be a way to do this extremely fast. Any ideas?","title":"Finding a square in a blank image","body":"<p>Let's say I have a JPG image that's completely white except for a green filled in square that's placed randomly. The square has equal side lengths of between 20 and 30 pixels.</p>\n<p>I'd like to write a Java program to find the exact center of this square. I know there must be a way to do this extremely fast. Any ideas?</p>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":3076825,"reputation":69,"user_id":2605940,"display_name":"Akhil das"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687229160,"creation_date":1687229160,"answer_id":76511114,"question_id":76510466,"body_markdown":"Why can&#39;t you use spring data projection \r\n\r\n [Spring Data Projection][1]\r\n\r\n \r\n\r\n \r\n\r\n    public interface MainEntityProjection{\r\n    \r\n          OtherEntityProjection getSomeEntity();\r\n    \r\n        interface OtherEntityProjection {\r\n        \t\tString getName();\r\n        \t}\r\n            \r\n        } \r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-projections\r\n\r\n","title":"Is there a way to select one specify columns after joining?","body":"<p>Why can't you use spring data projection</p>\n<p><a href=\"https://www.baeldung.com/spring-data-jpa-projections\" rel=\"nofollow noreferrer\">Spring Data Projection</a></p>\n<pre><code>public interface MainEntityProjection{\n\n      OtherEntityProjection getSomeEntity();\n\n    interface OtherEntityProjection {\n            String getName();\n        }\n        \n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687275237,"creation_date":1687275237,"answer_id":76516325,"question_id":76510466,"body_markdown":"To what purpose exactly? You have this entity with a reference to OtherEntity, which I would guess is the way the data actually is in the database. If you only ever want to associate 2 fields from OtherEntity when fetching an Entity.. don&#39;t map it like this. Make it a read-only (which you already have on the join column def) embeddeable that only has the two fields (and the OTHER_ENTITY_ID mapping if that isn&#39;t one of the two).\r\n\r\n\r\nNote though that you then won&#39;t get identity or caching benefits, as this relationship and data will be independent of OtherEntity; you might be better off with lazy fetching on the basic and relation attributes in OtherEntity depending on the data, just so it can be reused for caching and to reduce the query overhead if OtherEntity is used in other spots in your application. ","title":"Is there a way to select one specify columns after joining?","body":"<p>To what purpose exactly? You have this entity with a reference to OtherEntity, which I would guess is the way the data actually is in the database. If you only ever want to associate 2 fields from OtherEntity when fetching an Entity.. don't map it like this. Make it a read-only (which you already have on the join column def) embeddeable that only has the two fields (and the OTHER_ENTITY_ID mapping if that isn't one of the two).</p>\n<p>Note though that you then won't get identity or caching benefits, as this relationship and data will be independent of OtherEntity; you might be better off with lazy fetching on the basic and relation attributes in OtherEntity depending on the data, just so it can be reused for caching and to reduce the query overhead if OtherEntity is used in other spots in your application.</p>\n"}],"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687275237,"creation_date":1687215112,"question_id":76510466,"body_markdown":"On my main entity class, I have this reference to another entity\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;OTHER_ENTITY_ID&quot;, insertable = false, updatable = false)\r\n    @NotFound(action = NotFoundAction.IGNORE)\r\n    @Setter\r\n    private OtherEntity someEntity;\r\n\r\nSo, I can select two fields from this someEntity when I create my pojo/domain model from this entity. Is there a way to limit the selection above to just the two fields I need from OtherEntity or do I have to select the entire thing initially in memory first? \r\n\r\nThanks! ","title":"Is there a way to select one specify columns after joining?","body":"<p>On my main entity class, I have this reference to another entity</p>\n<pre><code>@ManyToOne(fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;OTHER_ENTITY_ID&quot;, insertable = false, updatable = false)\n@NotFound(action = NotFoundAction.IGNORE)\n@Setter\nprivate OtherEntity someEntity;\n</code></pre>\n<p>So, I can select two fields from this someEntity when I create my pojo/domain model from this entity. Is there a way to limit the selection above to just the two fields I need from OtherEntity or do I have to select the entire thing initially in memory first?</p>\n<p>Thanks!</p>\n"},{"tags":["java","cryptography","bouncycastle","gnupg"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1687285759,"post_id":76515214,"comment_id":134914523,"body_markdown":"Your &#39;pubkey&#39; file contains _metadata_ for a key _cluster_ displayed by PGP, not an actual key, and certainly not an actual key in SubjectPublicKeyInfo format -- see https://www.bouncycastle.org/docs/docs1.8on/org/bouncycastle/crypto/util/PublicKeyFactory.html -- because PGP does not use that format. If you had an actual PGP key block, you could read the key and use it to PGP-encrypt data -- which is hybrid in this case ElGamal (not RSA) plus symmetric Xecrets describes -- using instead the classes in bcpg-*.jar .","body":"Your &#39;pubkey&#39; file contains <i>metadata</i> for a key <i>cluster</i> displayed by PGP, not an actual key, and certainly not an actual key in SubjectPublicKeyInfo format -- see <a href=\"https://www.bouncycastle.org/docs/docs1.8on/org/bouncycastle/crypto/util/PublicKeyFactory.html\" rel=\"nofollow noreferrer\">bouncycastle.org/docs/docs1.8on/org/bouncycastle/crypto/util&zwnj;&#8203;/&hellip;</a> -- because PGP does not use that format. If you had an actual PGP key block, you could read the key and use it to PGP-encrypt data -- which is hybrid in this case ElGamal (not RSA) plus symmetric Xecrets describes -- using instead the classes in bcpg-*.jar ."}],"answers":[{"tags":[],"owner":{"account_id":27280118,"reputation":79,"user_id":20800141,"display_name":"Xecrets"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687275222,"creation_date":1687275222,"answer_id":76516323,"question_id":76515214,"body_markdown":"Without actually writing the whole code, you should know that asymmetric ciphers such as RSA are essentially never used to encrypt data, such as a file. It is typically used to encrypt a fixed size symmetric key, which then is used in an appropriate mode of operation with a symmetric cipher to encrypt the data.\r\n\r\nThere are so many caveats with encrypting actual data directly with RSA, don&#39;t go there.\r\n\r\nWhen encrypting the data, you&#39;ll also need to store some meta data, typically at the absolute minimum an initialization vector, IV, so you will need to define a &quot;file format&quot;, which describes how the file is structured with it&#39;s meta data and the cipher data.\r\n\r\nIf it&#39;s educational assignment, go back and explain it&#39;s a not an appropriate assignment. A more appropriate similar assignment would be to encrypt a symmetric key of fixed size, that will always be encryptable within a single &#39;block&#39; of RSA encryption.\r\n\r\nIf you&#39;re actually planning to use it in the real world, use a ready-made library or utility for the purpose. Don&#39;t roll your own. There are many to chose from, I have written one using BouncyCastle, even if it&#39;s in C# it&#39;s very similar to Java you could look there https://github.com/xecrets/xecrets-file-cli to get an idea. Or just use it as a ready made utility for the purpose!","title":"Unable to encrypt file using bouncycastle lib","body":"<p>Without actually writing the whole code, you should know that asymmetric ciphers such as RSA are essentially never used to encrypt data, such as a file. It is typically used to encrypt a fixed size symmetric key, which then is used in an appropriate mode of operation with a symmetric cipher to encrypt the data.</p>\n<p>There are so many caveats with encrypting actual data directly with RSA, don't go there.</p>\n<p>When encrypting the data, you'll also need to store some meta data, typically at the absolute minimum an initialization vector, IV, so you will need to define a &quot;file format&quot;, which describes how the file is structured with it's meta data and the cipher data.</p>\n<p>If it's educational assignment, go back and explain it's a not an appropriate assignment. A more appropriate similar assignment would be to encrypt a symmetric key of fixed size, that will always be encryptable within a single 'block' of RSA encryption.</p>\n<p>If you're actually planning to use it in the real world, use a ready-made library or utility for the purpose. Don't roll your own. There are many to chose from, I have written one using BouncyCastle, even if it's in C# it's very similar to Java you could look there <a href=\"https://github.com/xecrets/xecrets-file-cli\" rel=\"nofollow noreferrer\">https://github.com/xecrets/xecrets-file-cli</a> to get an idea. Or just use it as a ready made utility for the purpose!</p>\n"}],"owner":{"account_id":1483722,"reputation":469,"user_id":1392426,"accept_rate":42,"display_name":"hitesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687275222,"creation_date":1687267459,"question_id":76515214,"body_markdown":"Hi I am trying to encrypt a text file using bouncycastle lib but getting this error java.io.IOException: DER length more than 4 bytes\r\n\r\nTHis is the code\r\n\r\n``` \r\npublic class RSAEncryptFile {\r\n\r\n    public static void main(String[] args)\r\n    {\r\n\r\n        String publicKeyFilename = &quot;/Users/Rajesh/Desktop/pubkey&quot;;\r\n        String inputFilename = &quot;/Users/Rajesh/Desktop/test&quot;;\r\n        String encryptedFilename = &quot;/Users/Rajesh/Desktop/javaprogram&quot;;\r\n\r\n        RSAEncryptFile rsaEncryptFile = new RSAEncryptFile();\r\n        publicKeyFilename = &quot;/Users/Rajesh/Desktop/pubkey&quot;;;\r\n        inputFilename = &quot;/Users/Rajesh/Desktop/tesco.txt&quot;;\r\n        encryptedFilename = &quot;/Users/Rajesh/Desktop/javaprogram&quot;;\r\n        rsaEncryptFile.encrypt(publicKeyFilename, inputFilename, encryptedFilename);\r\n\r\n    }\r\n\r\n    private void encrypt (String publicKeyFilename, String inputFilename, String encryptedFilename){\r\n\r\n        try {\r\n\r\n            Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n\r\n            String value = &quot;&quot;;\r\n            String key = readFileAsString(publicKeyFilename);\r\n            BASE64Decoder b64 = new BASE64Decoder();\r\n            AsymmetricKeyParameter publicKey =\r\n                    (AsymmetricKeyParameter) PublicKeyFactory.createKey(b64.decodeBuffer(key));\r\n            AsymmetricBlockCipher e = new RSAEngine();\r\n            e = new org.bouncycastle.crypto.encodings.PKCS1Encoding(e);\r\n            e.init(true, publicKey);\r\n\r\n            String inputdata = readFileAsString(inputFilename);\r\n            byte[] messageBytes = inputdata.getBytes();\r\n            int i = 0;\r\n            int len = e.getInputBlockSize();\r\n            while (i &lt; messageBytes.length)\r\n            {\r\n                if (i + len &gt; messageBytes.length)\r\n                    len = messageBytes.length - i;\r\n\r\n                byte[] hexEncodedCipher = e.processBlock(messageBytes, i, len);\r\n                value = value + getHexString(hexEncodedCipher);\r\n                i += e.getInputBlockSize();\r\n            }\r\n\r\n            System.out.println(value);\r\n            BufferedWriter out = new BufferedWriter(new FileWriter(encryptedFilename));\r\n            out.write(value);\r\n            out.close();\r\n\r\n        }\r\n        catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n\r\n    public static String getHexString(byte[] b) throws Exception {\r\n        String result = &quot;&quot;;\r\n        for (int i=0; i &lt; b.length; i++) {\r\n            result +=\r\n                    Integer.toString( ( b[i] &amp; 0xff ) + 0x100, 16).substring( 1 );\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private static String readFileAsString(String filePath)\r\n            throws java.io.IOException{\r\n        StringBuffer fileData = new StringBuffer(1000);\r\n        BufferedReader reader = new BufferedReader(\r\n                new FileReader(filePath));\r\n        char[] buf = new char[1024];\r\n        int numRead=0;\r\n        while((numRead=reader.read(buf)) != -1){\r\n            String readData = String.valueOf(buf, 0, numRead);\r\n            fileData.append(readData);\r\n            buf = new char[1024];\r\n        }\r\n        reader.close();\r\n        System.out.println(fileData.toString());\r\n        return fileData.toString();\r\n    }\r\n\r\n} \r\n```\r\n\r\nThe content of the input public key file  /Users/Rajesh/Desktop/pubkey\r\n```\r\npub dsa1024 2019-07-29 [SC]\r\n4EB9C4A3CEF9CCA26C1446G7H1D511656GH98D9E\r\nuid [ultimate] TEST &lt;TEST@test.com&gt;\r\nsub elg4096 2019-07-29 [E] \r\n```\r\nCan someone please help me. My use case is , I want to encrypt file using this public key.","title":"Unable to encrypt file using bouncycastle lib","body":"<p>Hi I am trying to encrypt a text file using bouncycastle lib but getting this error java.io.IOException: DER length more than 4 bytes</p>\n<p>THis is the code</p>\n<pre><code>public class RSAEncryptFile {\n\n    public static void main(String[] args)\n    {\n\n        String publicKeyFilename = &quot;/Users/Rajesh/Desktop/pubkey&quot;;\n        String inputFilename = &quot;/Users/Rajesh/Desktop/test&quot;;\n        String encryptedFilename = &quot;/Users/Rajesh/Desktop/javaprogram&quot;;\n\n        RSAEncryptFile rsaEncryptFile = new RSAEncryptFile();\n        publicKeyFilename = &quot;/Users/Rajesh/Desktop/pubkey&quot;;;\n        inputFilename = &quot;/Users/Rajesh/Desktop/tesco.txt&quot;;\n        encryptedFilename = &quot;/Users/Rajesh/Desktop/javaprogram&quot;;\n        rsaEncryptFile.encrypt(publicKeyFilename, inputFilename, encryptedFilename);\n\n    }\n\n    private void encrypt (String publicKeyFilename, String inputFilename, String encryptedFilename){\n\n        try {\n\n            Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n\n            String value = &quot;&quot;;\n            String key = readFileAsString(publicKeyFilename);\n            BASE64Decoder b64 = new BASE64Decoder();\n            AsymmetricKeyParameter publicKey =\n                    (AsymmetricKeyParameter) PublicKeyFactory.createKey(b64.decodeBuffer(key));\n            AsymmetricBlockCipher e = new RSAEngine();\n            e = new org.bouncycastle.crypto.encodings.PKCS1Encoding(e);\n            e.init(true, publicKey);\n\n            String inputdata = readFileAsString(inputFilename);\n            byte[] messageBytes = inputdata.getBytes();\n            int i = 0;\n            int len = e.getInputBlockSize();\n            while (i &lt; messageBytes.length)\n            {\n                if (i + len &gt; messageBytes.length)\n                    len = messageBytes.length - i;\n\n                byte[] hexEncodedCipher = e.processBlock(messageBytes, i, len);\n                value = value + getHexString(hexEncodedCipher);\n                i += e.getInputBlockSize();\n            }\n\n            System.out.println(value);\n            BufferedWriter out = new BufferedWriter(new FileWriter(encryptedFilename));\n            out.write(value);\n            out.close();\n\n        }\n        catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n\n    public static String getHexString(byte[] b) throws Exception {\n        String result = &quot;&quot;;\n        for (int i=0; i &lt; b.length; i++) {\n            result +=\n                    Integer.toString( ( b[i] &amp; 0xff ) + 0x100, 16).substring( 1 );\n        }\n        return result;\n    }\n\n    private static String readFileAsString(String filePath)\n            throws java.io.IOException{\n        StringBuffer fileData = new StringBuffer(1000);\n        BufferedReader reader = new BufferedReader(\n                new FileReader(filePath));\n        char[] buf = new char[1024];\n        int numRead=0;\n        while((numRead=reader.read(buf)) != -1){\n            String readData = String.valueOf(buf, 0, numRead);\n            fileData.append(readData);\n            buf = new char[1024];\n        }\n        reader.close();\n        System.out.println(fileData.toString());\n        return fileData.toString();\n    }\n\n} \n</code></pre>\n<p>The content of the input public key file  /Users/Rajesh/Desktop/pubkey</p>\n<pre><code>pub dsa1024 2019-07-29 [SC]\n4EB9C4A3CEF9CCA26C1446G7H1D511656GH98D9E\nuid [ultimate] TEST &lt;TEST@test.com&gt;\nsub elg4096 2019-07-29 [E] \n</code></pre>\n<p>Can someone please help me. My use case is , I want to encrypt file using this public key.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-authorization-server"],"comments":[{"owner":{"account_id":9147861,"reputation":159,"user_id":6803365,"display_name":"Hans FooBar"},"score":0,"creation_date":1687016934,"post_id":76496616,"comment_id":134879798,"body_markdown":"I don&#39;t think it&#39;s a trend. With final, you want to prevent the class from being extended by changing functionality. This can affect other functionality and stability. Do the classes you need provide interfaces? Then implement the interface and develop the functionality yourself.\n\nI have published a package on Maven Central. Most of the classes are final because I do not want them to be extended. Because I am still working on them or even removing, renaming or moving classes.","body":"I don&#39;t think it&#39;s a trend. With final, you want to prevent the class from being extended by changing functionality. This can affect other functionality and stability. Do the classes you need provide interfaces? Then implement the interface and develop the functionality yourself.  I have published a package on Maven Central. Most of the classes are final because I do not want them to be extended. Because I am still working on them or even removing, renaming or moving classes."},{"owner":{"account_id":6890459,"reputation":61,"user_id":5294163,"display_name":"Buks van der Lingen"},"score":0,"creation_date":1687446006,"post_id":76496616,"comment_id":134940875,"body_markdown":"@HansFooBar, sure, all valid reasons. Just like all Spring&#39;s reasons are valid. Doesn&#39;t change the fact that it makes it harder to get the customizations/extentions implemented.","body":"@HansFooBar, sure, all valid reasons. Just like all Spring&#39;s reasons are valid. Doesn&#39;t change the fact that it makes it harder to get the customizations/extentions implemented."}],"answers":[{"comments":[{"owner":{"account_id":6890459,"reputation":61,"user_id":5294163,"display_name":"Buks van der Lingen"},"score":0,"creation_date":1687445752,"post_id":76516251,"comment_id":134940815,"body_markdown":"Thanks @Steve Riesenberg, so i gathered. Delegation/Composition = schlep, and i understand you would like to reserve the right..... for just about anything in the framework classes but, like always, would a migration comment not suffice?","body":"Thanks @Steve Riesenberg, so i gathered. Delegation/Composition = schlep, and i understand you would like to reserve the right..... for just about anything in the framework classes but, like always, would a migration comment not suffice?"}],"tags":[],"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687274601,"creation_date":1687274601,"answer_id":76516251,"question_id":76496616,"body_markdown":"Your question references classes in both Spring Boot and Spring Security, as well as alluding to the Spring Authorization Server project. The fact that all three (3) projects use these techniques indicates that it is intentional.\r\n\r\nRegarding `OAuth2AuthorizationServerPropertiesMapper`, the Spring Boot team made this class package-private so that it cannot currently be accessed by users. That allows the flexibility to move it (which it likely would before being made `public`) and/or change it completely. Hiding classes is a common technique for allowing the framework to reserve the right to change implementation details without breaking the API contract.\r\n\r\nThe same is true of `final` classes, though the intention there is to encourage delegation instead of inheritance. Full customization is possible by implementing interfaces that the final classes implement, and delegation is almost always possible when doing so.","title":"Spring Security(Auth server) Spring Boot 3.1.0 - What&#39;s with all the final classes?","body":"<p>Your question references classes in both Spring Boot and Spring Security, as well as alluding to the Spring Authorization Server project. The fact that all three (3) projects use these techniques indicates that it is intentional.</p>\n<p>Regarding <code>OAuth2AuthorizationServerPropertiesMapper</code>, the Spring Boot team made this class package-private so that it cannot currently be accessed by users. That allows the flexibility to move it (which it likely would before being made <code>public</code>) and/or change it completely. Hiding classes is a common technique for allowing the framework to reserve the right to change implementation details without breaking the API contract.</p>\n<p>The same is true of <code>final</code> classes, though the intention there is to encourage delegation instead of inheritance. Full customization is possible by implementing interfaces that the final classes implement, and delegation is almost always possible when doing so.</p>\n"}],"owner":{"account_id":6890459,"reputation":61,"user_id":5294163,"display_name":"Buks van der Lingen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687274601,"creation_date":1687011679,"question_id":76496616,"body_markdown":"What&#39;s up with all these final classes? \r\nWant to extend User? Have the Userbuilder return an instance of the CustomUser? No go. UserBuilder is final and returns a minimalistic UserDetails instance. \r\nAll that functionality goes to waste or becomes a copy/paste exercise.\r\n\r\nThen, @Steve Riesenberg wrote a nice convenience Mapper(OAuth2AuthorizationServerPropertiesMapper) - also final/package private.\r\n\r\nSure - composition, but that is one really annoying solution and what do you do with cases like the OAuth2AuthorizationServerPropertiesMapper where the constructor is package private?\r\n\r\nAnyone want to shed some light on this trend? \r\n\r\nHow do you all get around this? Do i need to stick my head deeper into the Java manual?","title":"Spring Security(Auth server) Spring Boot 3.1.0 - What&#39;s with all the final classes?","body":"<p>What's up with all these final classes?\nWant to extend User? Have the Userbuilder return an instance of the CustomUser? No go. UserBuilder is final and returns a minimalistic UserDetails instance.\nAll that functionality goes to waste or becomes a copy/paste exercise.</p>\n<p>Then, @Steve Riesenberg wrote a nice convenience Mapper(OAuth2AuthorizationServerPropertiesMapper) - also final/package private.</p>\n<p>Sure - composition, but that is one really annoying solution and what do you do with cases like the OAuth2AuthorizationServerPropertiesMapper where the constructor is package private?</p>\n<p>Anyone want to shed some light on this trend?</p>\n<p>How do you all get around this? Do i need to stick my head deeper into the Java manual?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1687274714,"post_id":76516248,"comment_id":134912236,"body_markdown":"All code kata sites have some specific code process that you must follow to read data from their systems.  It should be documented on the codeforces website.  Make sure you&#39;re following their pattern precisely.","body":"All code kata sites have some specific code process that you must follow to read data from their systems.  It should be documented on the codeforces website.  Make sure you&#39;re following their pattern precisely."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687275612,"post_id":76516248,"comment_id":134912448,"body_markdown":"`while(t!=0){` - `t` is not being changed inside the loop - it is looping for ever! The sites input is probably being closed after last input, causing the exception. Are you closing the input in VS Code? Probably code is not terminating on VS Code and is just waiting for more input (probably missing something in the empty line at the end of the loop)","body":"<code>while(t!=0){</code> - <code>t</code> is not being changed inside the loop - it is looping for ever! The sites input is probably being closed after last input, causing the exception. Are you closing the input in VS Code? Probably code is not terminating on VS Code and is just waiting for more input (probably missing something in the empty line at the end of the loop)"},{"owner":{"display_name":"user18253054"},"score":0,"creation_date":1687278137,"post_id":76516248,"comment_id":134913006,"body_markdown":"yes I forgot to add the decrement statement for t. thank you @user16320675","body":"yes I forgot to add the decrement statement for t. thank you @user16320675"}],"owner":{"display_name":"user18253054"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687274590,"creation_date":1687274590,"question_id":76516248,"body_markdown":"I don&#39;t know what is wrong with this code. I tried to run in my vs code and it is running as I want but when I&#39;m trying to submit it in codeforces it is giving runtime error saying NosuchElementException.\r\n\r\n```\r\nimport java.util.*;\r\npublic class SashaAndArrayColoring {\r\n    public static void main(String []args){\r\n        Scanner sc=new Scanner(System.in);\r\n        int t=sc.nextInt();\r\n        while(t!=0){\r\n            int n=sc.nextInt();\r\n            int arr[]=new int[n];\r\n            for(int i=0; i&lt;n; i++){\r\n                arr[i]=sc.nextInt();\r\n            }\r\n            if(n==1){\r\n                System.out.println(&quot;0&quot;);\r\n            }else {\r\n            Arrays.sort(arr);\r\n            int sum=0;\r\n            for(int i=0; i&lt;n/2; i++){\r\n                sum=sum+(arr[n-(i+1)]-arr[i]);\r\n            }\r\n            System.out.println(sum);\r\n            }\r\n            \r\n        }\r\n    }   \r\n}\r\n\r\n```\r\n\r\n\r\n6\r\n5\r\n1 5 6 3 4\r\n1\r\n5\r\n4\r\n1 6 3 9\r\n6\r\n1 13 9 3 7 2\r\n4\r\n2 2 2 2\r\n5\r\n4 5 2 2 3\r\n These are the test cases they are working in my vs code but giving exception in codeforces in test case 1","title":"NoSuchElementException while solving a question. It is running on my vs code but when I try to submit it, it gives this exception","body":"<p>I don't know what is wrong with this code. I tried to run in my vs code and it is running as I want but when I'm trying to submit it in codeforces it is giving runtime error saying NosuchElementException.</p>\n<pre><code>import java.util.*;\npublic class SashaAndArrayColoring {\n    public static void main(String []args){\n        Scanner sc=new Scanner(System.in);\n        int t=sc.nextInt();\n        while(t!=0){\n            int n=sc.nextInt();\n            int arr[]=new int[n];\n            for(int i=0; i&lt;n; i++){\n                arr[i]=sc.nextInt();\n            }\n            if(n==1){\n                System.out.println(&quot;0&quot;);\n            }else {\n            Arrays.sort(arr);\n            int sum=0;\n            for(int i=0; i&lt;n/2; i++){\n                sum=sum+(arr[n-(i+1)]-arr[i]);\n            }\n            System.out.println(sum);\n            }\n            \n        }\n    }   \n}\n\n</code></pre>\n<p>6\n5\n1 5 6 3 4\n1\n5\n4\n1 6 3 9\n6\n1 13 9 3 7 2\n4\n2 2 2 2\n5\n4 5 2 2 3\nThese are the test cases they are working in my vs code but giving exception in codeforces in test case 1</p>\n"},{"tags":["java","eclipse","input","resources","memory-leaks"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":12,"creation_date":1629675595,"post_id":12519335,"comment_id":121741965,"body_markdown":"**To future readers:** many answers state that you must close the scanner, in order to close the underlying resource. While this is true in general, *standard in* is an exception. Closing it will prevent you from reading it again, which is typically undesired. As a rule of thumb: don&#39;t close what you didn&#39;t open.","body":"<b>To future readers:</b> many answers state that you must close the scanner, in order to close the underlying resource. While this is true in general, <i>standard in</i> is an exception. Closing it will prevent you from reading it again, which is typically undesired. As a rule of thumb: don&#39;t close what you didn&#39;t open."}],"answers":[{"comments":[{"owner":{"account_id":458004,"reputation":4014,"user_id":857649,"display_name":"Stuart Cook"},"score":58,"creation_date":1355896524,"post_id":12519343,"comment_id":19232122,"body_markdown":"This will close the `Scanner` and silence the warning, but it will also close `System.in` which is typically not desirable.","body":"This will close the <code>Scanner</code> and silence the warning, but it will also close <code>System.in</code> which is typically not desirable."},{"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"score":1,"creation_date":1363386598,"post_id":12519343,"comment_id":21846931,"body_markdown":"@StuartCook +1. Something to keep an eye on.","body":"@StuartCook +1. Something to keep an eye on."},{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":10,"creation_date":1399241873,"post_id":12519343,"comment_id":35968667,"body_markdown":"Why do we need to close Scanner ? What is meant by &quot;resource leak&quot; ?","body":"Why do we need to close Scanner ? What is meant by &quot;resource leak&quot; ?"},{"owner":{"account_id":6119287,"reputation":1862,"user_id":4773326,"accept_rate":46,"display_name":"pcs"},"score":2,"creation_date":1433839558,"post_id":12519343,"comment_id":49510718,"body_markdown":"@nogard: this your answer is really helpful.. but when i use in.close();.. again it shows in cannot be resolved.. i have a code without exception handling.. thanks","body":"@nogard: this your answer is really helpful.. but when i use in.close();.. again it shows in cannot be resolved.. i have a code without exception handling.. thanks"},{"owner":{"account_id":1656067,"reputation":496,"user_id":1525602,"display_name":"Petr Bodn&#225;r"},"score":11,"creation_date":1573906981,"post_id":12519343,"comment_id":104047051,"body_markdown":"@StuartCook, you forgot to mention **why** closing `System.in` is typically not desirable. It&#39;s because you won&#39;t be able to read from it again. I. e. you will get `java.util.NoSuchElementException: No line found` if you try to call `(new Scanner(System.in)).nextLine()` for example.","body":"@StuartCook, you forgot to mention <b>why</b> closing <code>System.in</code> is typically not desirable. It&#39;s because you won&#39;t be able to read from it again. I. e. you will get <code>java.util.NoSuchElementException: No line found</code> if you try to call <code>(new Scanner(System.in)).nextLine()</code> for example."},{"owner":{"account_id":1656067,"reputation":496,"user_id":1525602,"display_name":"Petr Bodn&#225;r"},"score":0,"creation_date":1573907314,"post_id":12519343,"comment_id":104047141,"body_markdown":"All in all, the general recommendation for `System.in` should be NOT to close the wrapping `Scanner` and to add `@SuppressWarnings(&quot;resource&quot;)` to the enclosing method if you need to make your compiler / Eclipse happy. Or did I overlook something?","body":"All in all, the general recommendation for <code>System.in</code> should be NOT to close the wrapping <code>Scanner</code> and to add <code>@SuppressWarnings(&quot;resource&quot;)</code> to the enclosing method if you need to make your compiler / Eclipse happy. Or did I overlook something?"},{"owner":{"account_id":22583735,"reputation":65,"user_id":16768028,"display_name":"It&#39;s Joker"},"score":0,"creation_date":1648880165,"post_id":12519343,"comment_id":126740329,"body_markdown":"I found this topic very informational helpful keep it up!","body":"I found this topic very informational helpful keep it up!"}],"tags":[],"owner":{"account_id":1039448,"reputation":9462,"user_id":1045850,"accept_rate":100,"display_name":"nogard"},"comment_count":7,"down_vote_count":2,"up_vote_count":102,"is_accepted":false,"score":100,"last_activity_date":1348168453,"creation_date":1348168453,"answer_id":12519343,"question_id":12519335,"body_markdown":"Because you don&#39;t close your Scanner\r\n\r\n    in.close();","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>Because you don't close your Scanner</p>\n\n<pre><code>in.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":462194,"reputation":5746,"user_id":864369,"accept_rate":100,"display_name":"Dan W"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1348168507,"creation_date":1348168507,"answer_id":12519360,"question_id":12519335,"body_markdown":"You should [close][1] your Scanner when you&#39;re done with it:\r\n\r\n    in.close();\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#close%28%29","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>You should <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#close%28%29\" rel=\"nofollow\">close</a> your Scanner when you're done with it:</p>\n\n<pre><code>in.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348168511,"creation_date":1348168511,"answer_id":12519363,"question_id":12519335,"body_markdown":"Generally, instances of classes that deal with I/O should be closed after you&#39;re finished with them. So at the end of your code you could add `in.close()`.","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>Generally, instances of classes that deal with I/O should be closed after you're finished with them. So at the end of your code you could add <code>in.close()</code>.</p>\n"},{"comments":[{"owner":{"account_id":458004,"reputation":4014,"user_id":857649,"display_name":"Stuart Cook"},"score":4,"creation_date":1355896742,"post_id":12519630,"comment_id":19232187,"body_markdown":"Note that `System.console()` is not available when running an application via Eclipse, which can be a hassle during development.","body":"Note that <code>System.console()</code> is not available when running an application via Eclipse, which can be a hassle during development."}],"tags":[],"owner":{"account_id":10830,"reputation":25297,"user_id":20634,"display_name":"Alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1348169443,"creation_date":1348169443,"answer_id":12519630,"question_id":12519335,"body_markdown":"It is telling you that you need to close the Scanner you instantiated on `System.in` with `Scanner.close()`. Normally every reader should be closed.\r\n\r\nNote that if you close `System.in`, you won&#39;t be able to read from it again. You may also take a look at the [`Console`][1] class.\r\n\r\n    public void readShapeData() {\r\n        Console console = System.console();\r\n        double width = Double.parseDouble(console.readLine(&quot;Enter the width of the Rectangle: &quot;));\r\n        double height = Double.parseDouble(console.readLine(&quot;Enter the height of the Rectangle: &quot;));\r\n        ...\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/Console.html","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>It is telling you that you need to close the Scanner you instantiated on <code>System.in</code> with <code>Scanner.close()</code>. Normally every reader should be closed.</p>\n\n<p>Note that if you close <code>System.in</code>, you won't be able to read from it again. You may also take a look at the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Console.html\" rel=\"noreferrer\"><code>Console</code></a> class.</p>\n\n<pre><code>public void readShapeData() {\n    Console console = System.console();\n    double width = Double.parseDouble(console.readLine(\"Enter the width of the Rectangle: \"));\n    double height = Double.parseDouble(console.readLine(\"Enter the height of the Rectangle: \"));\n    ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10839766,"reputation":5282,"user_id":8200485,"accept_rate":82,"display_name":"hyper-neutrino"},"score":0,"creation_date":1447210998,"post_id":12520018,"comment_id":55061081,"body_markdown":"This answer actually helps OP know why he should close the thing. Sure, he can read the doc and see &quot;`scanner.close()`&quot;, but this answer really helps him/her understand what&#39;s going on. + 1","body":"This answer actually helps OP know why he should close the thing. Sure, he can read the doc and see &quot;<code>scanner.close()</code>&quot;, but this answer really helps him/her understand what&#39;s going on. + 1"}],"tags":[],"owner":{"account_id":1846503,"reputation":116,"user_id":1673900,"display_name":"Carlos Camb&#243;n"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348171198,"creation_date":1348171198,"answer_id":12520018,"question_id":12519335,"body_markdown":"The Scanner should be closed. It is a good practice to close Readers, Streams...and this kind of objects to free up resources and aovid memory leaks; and doing so in a finally block to make sure that they are closed up even if an exception occurs while handling those objects.","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>The Scanner should be closed. It is a good practice to close Readers, Streams...and this kind of objects to free up resources and aovid memory leaks; and doing so in a finally block to make sure that they are closed up even if an exception occurs while handling those objects.</p>\n"},{"comments":[{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":3,"creation_date":1399242093,"post_id":12520111,"comment_id":35968725,"body_markdown":"What is meant by resource leak and how will it affect me ?","body":"What is meant by resource leak and how will it affect me ?"},{"owner":{"account_id":873510,"reputation":1813,"user_id":923837,"accept_rate":90,"display_name":"Eric Lindauer"},"score":12,"creation_date":1399648240,"post_id":12520111,"comment_id":36166003,"body_markdown":"@Borat - &quot;resource leak&quot; implies that some system resource (usually memory) is being lost or wasted needlessly.  Usually this will impact you when you start getting OutOfMemoryErrors thrown during the normal operation of your program.","body":"@Borat - &quot;resource leak&quot; implies that some system resource (usually memory) is being lost or wasted needlessly.  Usually this will impact you when you start getting OutOfMemoryErrors thrown during the normal operation of your program."},{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":0,"creation_date":1399657426,"post_id":12520111,"comment_id":36171312,"body_markdown":"Thanks eric. I know that you can cause the error by appending a string to itself in an infinite loop. I am not sure how a scanner could cause that error.","body":"Thanks eric. I know that you can cause the error by appending a string to itself in an infinite loop. I am not sure how a scanner could cause that error."},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":5,"creation_date":1404536662,"post_id":12520111,"comment_id":38082495,"body_markdown":"What about a try-with-resources?","body":"What about a try-with-resources?"},{"owner":{"account_id":873510,"reputation":1813,"user_id":923837,"accept_rate":90,"display_name":"Eric Lindauer"},"score":0,"creation_date":1482177384,"post_id":12520111,"comment_id":69659295,"body_markdown":"Thanks Dennis, added.","body":"Thanks Dennis, added."},{"owner":{"account_id":1886776,"reputation":2985,"user_id":1705829,"accept_rate":43,"display_name":"Timo"},"score":0,"creation_date":1682949451,"post_id":12520111,"comment_id":134288549,"body_markdown":"In the [docs](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) is a full `try-with`","body":"In the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">docs</a> is a full <code>try-with</code>"}],"tags":[],"owner":{"account_id":873510,"reputation":1813,"user_id":923837,"accept_rate":90,"display_name":"Eric Lindauer"},"comment_count":6,"down_vote_count":2,"up_vote_count":73,"is_accepted":false,"score":71,"last_activity_date":1482177346,"creation_date":1348171616,"answer_id":12520111,"question_id":12519335,"body_markdown":"As others have said, you need to call &#39;close&#39; on IO classes.  I&#39;ll add that this is an excellent spot to use the try - finally block with no catch, like this:\r\n\r\n    public void readShapeData() throws IOException {\r\n        Scanner in = new Scanner(System.in);\r\n        try {\r\n            System.out.println(&quot;Enter the width of the Rectangle: &quot;);\r\n            width = in.nextDouble();\r\n            System.out.println(&quot;Enter the height of the Rectangle: &quot;);\r\n            height = in.nextDouble();\r\n        } finally {\r\n            in.close();\r\n        }\r\n    }\r\n\r\nThis ensures that your Scanner is always closed, guaranteeing proper resource cleanup.\r\n\r\nEquivalently, in Java 7 or greater, you can use the &quot;try-with-resources&quot; syntax:\r\n\r\n    try (Scanner in = new Scanner(System.in)) {\r\n        ... \r\n    }\r\n","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>As others have said, you need to call 'close' on IO classes.  I'll add that this is an excellent spot to use the try - finally block with no catch, like this:</p>\n\n<pre><code>public void readShapeData() throws IOException {\n    Scanner in = new Scanner(System.in);\n    try {\n        System.out.println(\"Enter the width of the Rectangle: \");\n        width = in.nextDouble();\n        System.out.println(\"Enter the height of the Rectangle: \");\n        height = in.nextDouble();\n    } finally {\n        in.close();\n    }\n}\n</code></pre>\n\n<p>This ensures that your Scanner is always closed, guaranteeing proper resource cleanup.</p>\n\n<p>Equivalently, in Java 7 or greater, you can use the \"try-with-resources\" syntax:</p>\n\n<pre><code>try (Scanner in = new Scanner(System.in)) {\n    ... \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":444856,"reputation":8760,"user_id":836941,"accept_rate":73,"display_name":"zacheusz"},"score":7,"creation_date":1419693564,"post_id":16925933,"comment_id":43751833,"body_markdown":"you muted the warning but created resource leak","body":"you muted the warning but created resource leak"}],"tags":[],"owner":{"account_id":393929,"reputation":611,"user_id":756053,"accept_rate":75,"display_name":"zachdyer"},"comment_count":1,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1370374153,"creation_date":1370374153,"answer_id":16925933,"question_id":12519335,"body_markdown":"    private static Scanner in;\r\n\r\nI fixed it by declaring in as a private static Scanner class variable. Not sure why that fixed it but that is what eclipse recommended I do.","title":"Resource leak: &#39;in&#39; is never closed","body":"<pre><code>private static Scanner in;\n</code></pre>\n\n<p>I fixed it by declaring in as a private static Scanner class variable. Not sure why that fixed it but that is what eclipse recommended I do.</p>\n"},{"tags":[],"owner":{"account_id":1330162,"reputation":6691,"user_id":1274248,"accept_rate":80,"display_name":"Will"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1377886884,"creation_date":1377886884,"answer_id":18539203,"question_id":12519335,"body_markdown":"You need call `in.close()`, in a `finally` block to ensure it occurs.\r\n\r\nFrom the Eclipse documentation, here is *why* it flags this particular problem (**emphasis** mine):\r\n\r\n&gt; Classes implementing the interface **java.io.Closeable** (since JDK 1.5)\r\n&gt; and **java.lang.AutoCloseable** (since JDK 1.7) are considered to\r\n&gt; represent external resources, which should be closed using method\r\n&gt; close(), when they are no longer needed.\r\n&gt; \r\n&gt; The Eclipse Java compiler is able to analyze whether code using such\r\n&gt; types adheres to this policy.\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; The compiler will flag [violations] with &quot;Resource leak: &#39;stream&#39; is never closed&quot;.\r\n\r\nFull explanation [here][1].\r\n\r\n  [1]: http://help.eclipse.org/kepler/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/task-avoiding_resource_leaks.htm&amp;resultof=%22avoiding%22%20%22avoid%22%20%22resource%22%20%22resourc%22%20%22leaks%22%20%22leak%22%20","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>You need call <code>in.close()</code>, in a <code>finally</code> block to ensure it occurs.</p>\n\n<p>From the Eclipse documentation, here is <em>why</em> it flags this particular problem (<strong>emphasis</strong> mine):</p>\n\n<blockquote>\n  <p>Classes implementing the interface <strong>java.io.Closeable</strong> (since JDK 1.5)\n  and <strong>java.lang.AutoCloseable</strong> (since JDK 1.7) are considered to\n  represent external resources, which should be closed using method\n  close(), when they are no longer needed.</p>\n  \n  <p>The Eclipse Java compiler is able to analyze whether code using such\n  types adheres to this policy.</p>\n  \n  <p>...</p>\n  \n  <p>The compiler will flag [violations] with \"Resource leak: 'stream' is never closed\".</p>\n</blockquote>\n\n<p>Full explanation <a href=\"http://help.eclipse.org/kepler/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/task-avoiding_resource_leaks.htm&amp;resultof=%22avoiding%22%20%22avoid%22%20%22resource%22%20%22resourc%22%20%22leaks%22%20%22leak%22%20\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2780394,"reputation":71,"user_id":2393042,"display_name":"user2393042"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1412157419,"creation_date":1412157419,"answer_id":26138716,"question_id":12519335,"body_markdown":"adding `private static Scanner in;` does not really fix the problem, it only clears out the warning.\r\nMaking the scanner static means it remains open forever (or until the class get&#39;s unloaded, which nearly is &quot;forever&quot;). \r\nThe compiler gives you no warning any more, since you told him &quot;keep it open forever&quot;. But that is not what you really wanted to, since you should close resources as soon as you don&#39;t need them any more.\r\n\r\nHTH,\r\nManfred.","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>adding <code>private static Scanner in;</code> does not really fix the problem, it only clears out the warning.\nMaking the scanner static means it remains open forever (or until the class get's unloaded, which nearly is \"forever\"). \nThe compiler gives you no warning any more, since you told him \"keep it open forever\". But that is not what you really wanted to, since you should close resources as soon as you don't need them any more.</p>\n\n<p>HTH,\nManfred.</p>\n"},{"comments":[{"owner":{"account_id":3806607,"reputation":5083,"user_id":3358488,"accept_rate":75,"display_name":"user118967"},"score":1,"creation_date":1593234883,"post_id":30884720,"comment_id":110714237,"body_markdown":"Note that the catch clause is not mandatory. If you just want to ensure the resource is closed even in the event of an exception, but leave the treatment of exceptions as in the OP&#39;s original code (namely, not caught at all) you can just use `try` as shown and not use a `catch` clause.","body":"Note that the catch clause is not mandatory. If you just want to ensure the resource is closed even in the event of an exception, but leave the treatment of exceptions as in the OP&#39;s original code (namely, not caught at all) you can just use <code>try</code> as shown and not use a <code>catch</code> clause."}],"tags":[],"owner":{"account_id":4102226,"reputation":650,"user_id":3934499,"display_name":"uzumas"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1475415537,"creation_date":1434525395,"answer_id":30884720,"question_id":12519335,"body_markdown":"If you are using JDK7 or 8, you can use try-catch with resources.This will automatically close the scanner.\r\n\r\n        \r\n    try ( Scanner scanner = new Scanner(System.in); )\r\n      {\r\n        System.out.println(&quot;Enter the width of the Rectangle: &quot;);\r\n        width = scanner.nextDouble();\r\n        System.out.println(&quot;Enter the height of the Rectangle: &quot;);\r\n        height = scanner.nextDouble();\r\n      }\r\n    catch(Exception ex)\r\n    {\r\n        //exception handling...do something (e.g., print the error message)\r\n        ex.printStackTrace();\r\n    }\r\n\r\n\r\n   \r\n\r\n","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>If you are using JDK7 or 8, you can use try-catch with resources.This will automatically close the scanner.</p>\n\n<pre><code>try ( Scanner scanner = new Scanner(System.in); )\n  {\n    System.out.println(\"Enter the width of the Rectangle: \");\n    width = scanner.nextDouble();\n    System.out.println(\"Enter the height of the Rectangle: \");\n    height = scanner.nextDouble();\n  }\ncatch(Exception ex)\n{\n    //exception handling...do something (e.g., print the error message)\n    ex.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8853130,"reputation":1,"user_id":6611686,"display_name":"HRUTU.Z"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1474007446,"creation_date":1474007086,"answer_id":39524979,"question_id":12519335,"body_markdown":"    in.close();\r\n    scannerObject.close(); \r\n\r\nIt will close `Scanner` and shut the warning.","title":"Resource leak: &#39;in&#39; is never closed","body":"<pre><code>in.close();\nscannerObject.close(); \n</code></pre>\n\n<p>It will close <code>Scanner</code> and shut the warning.</p>\n"},{"tags":[],"owner":{"account_id":9368879,"reputation":9,"user_id":6952849,"display_name":"tejas"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1479229962,"creation_date":1476170102,"answer_id":39972127,"question_id":12519335,"body_markdown":"    Scanner sc = new Scanner(System.in);\r\n    \r\n    //do stuff with sc\r\n\r\n    sc.close();//write at end of code.\r\n\r\n","title":"Resource leak: &#39;in&#39; is never closed","body":"<pre><code>Scanner sc = new Scanner(System.in);\n\n//do stuff with sc\n\nsc.close();//write at end of code.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3394896,"reputation":489,"user_id":2848781,"display_name":"Aashi"},"comment_count":0,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1486126471,"creation_date":1486123515,"answer_id":42023910,"question_id":12519335,"body_markdown":"    // An InputStream which is typically connected to keyboard input of console programs\r\n    \r\n    Scanner in= new Scanner(System.in);\r\n\r\nabove line will invoke Constructor of Scanner class with argument System.in, and will return a reference to newly constructed object.\r\n\r\nIt is connected to a Input Stream that is connected to Keyboard, so now at run-time you can take user input to do required operation.\r\n\r\n    //Write piece of code \r\n\r\nTo remove the memory leak - \r\n\r\n    in.close();//write at end of code.\r\n\r\n","title":"Resource leak: &#39;in&#39; is never closed","body":"<pre><code>// An InputStream which is typically connected to keyboard input of console programs\n\nScanner in= new Scanner(System.in);\n</code></pre>\n\n<p>above line will invoke Constructor of Scanner class with argument System.in, and will return a reference to newly constructed object.</p>\n\n<p>It is connected to a Input Stream that is connected to Keyboard, so now at run-time you can take user input to do required operation.</p>\n\n<pre><code>//Write piece of code \n</code></pre>\n\n<p>To remove the memory leak - </p>\n\n<pre><code>in.close();//write at end of code.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16216,"reputation":110786,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1601048582,"creation_date":1601048582,"answer_id":64067328,"question_id":12519335,"body_markdown":"Okay, seriously, in many cases at least, this is actually a bug. It shows up in VS Code as well, and it&#39;s the linter noticing that you&#39;ve reached the end of the enclosing scope without closing the scanner object, but not recognizing that closing all open file descriptors is part of process termination. There&#39;s no resource leak because the resources are all cleaned up at termination, and the process goes away, leaving nowhere for the resource to be held.","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>Okay, seriously, in many cases at least, this is actually a bug. It shows up in VS Code as well, and it's the linter noticing that you've reached the end of the enclosing scope without closing the scanner object, but not recognizing that closing all open file descriptors is part of process termination. There's no resource leak because the resources are all cleaned up at termination, and the process goes away, leaving nowhere for the resource to be held.</p>\n"},{"tags":[],"owner":{"account_id":18489124,"reputation":1,"user_id":13469260,"display_name":"KuAKu KRK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687273954,"creation_date":1687273954,"answer_id":76516151,"question_id":12519335,"body_markdown":"Solution:\r\n\r\n        your_object_name.close();\r\n\r\n\r\nExplanation:\r\n\r\n- Close the scanner of the relevant object (after it has been used) to prevent the resource leak.\r\n\r\nWhat is a resource leak?\r\n - They are bugs that arise when a program doesn&#39;t release the resources it has acquired. Furthermore, it can lead to resource exhaustion. (Ref: AWS official site)\r\n\r\n","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>Solution:</p>\n<pre><code>    your_object_name.close();\n</code></pre>\n<p>Explanation:</p>\n<ul>\n<li>Close the scanner of the relevant object (after it has been used) to prevent the resource leak.</li>\n</ul>\n<p>What is a resource leak?</p>\n<ul>\n<li>They are bugs that arise when a program doesn't release the resources it has acquired. Furthermore, it can lead to resource exhaustion. (Ref: AWS official site)</li>\n</ul>\n"}],"owner":{"account_id":1862758,"reputation":1291,"user_id":1686995,"display_name":"user1686995"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538668,"favorite_count":0,"down_vote_count":0,"up_vote_count":119,"answer_count":15,"score":119,"last_activity_date":1687273954,"creation_date":1348168400,"question_id":12519335,"body_markdown":"Why does Eclipse give me the warming &quot;Resource leak: &#39;in&#39; is never closed&quot; in the following code?\r\n\r\n    public void readShapeData() {\r\n            Scanner in = new Scanner(System.in);\r\n            System.out.println(&quot;Enter the width of the Rectangle: &quot;);\r\n            width = in.nextDouble();\r\n            System.out.println(&quot;Enter the height of the Rectangle: &quot;);\r\n            height = in.nextDouble();","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>Why does Eclipse give me the warming \"Resource leak: 'in' is never closed\" in the following code?</p>\n\n<pre><code>public void readShapeData() {\n        Scanner in = new Scanner(System.in);\n        System.out.println(\"Enter the width of the Rectangle: \");\n        width = in.nextDouble();\n        System.out.println(\"Enter the height of the Rectangle: \");\n        height = in.nextDouble();\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1681909082,"post_id":76054642,"comment_id":134132595,"body_markdown":"Does this answer your question? [How to log SQL statements with query param values in Spring Boot 3/Hibernate 6](https://stackoverflow.com/questions/74862254/how-to-log-sql-statements-with-query-param-values-in-spring-boot-3-hibernate-6)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74862254/how-to-log-sql-statements-with-query-param-values-in-spring-boot-3-hibernate-6\">How to log SQL statements with query param values in Spring Boot 3/Hibernate 6</a>"}],"answers":[{"comments":[{"owner":{"account_id":1339113,"reputation":1550,"user_id":1281182,"accept_rate":59,"display_name":"Atul"},"score":0,"creation_date":1681914234,"post_id":76054825,"comment_id":134134178,"body_markdown":"Tried the same but no luck","body":"Tried the same but no luck"},{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":0,"creation_date":1681916139,"post_id":76054825,"comment_id":134134729,"body_markdown":"@Atul hm, strange... maybe it&#39;s H2 issue. Because with Postgres it works. Could you check this, please: https://stackoverflow.com/a/61169743/1842599?","body":"@Atul hm, strange... maybe it&#39;s H2 issue. Because with Postgres it works. Could you check this, please: <a href=\"https://stackoverflow.com/a/61169743/1842599\">stackoverflow.com/a/61169743/1842599</a>?"}],"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681910338,"creation_date":1681909116,"answer_id":76054825,"question_id":76054642,"body_markdown":"Could you please try to add `spring.jpa.show-sql=true`? It will print to console. See more details [here][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/sql-logging-spring-boot","title":"Spring Boot 3 : SQL statements are not logged in console","body":"<p>Could you please try to add <code>spring.jpa.show-sql=true</code>? It will print to console. See more details <a href=\"https://www.baeldung.com/sql-logging-spring-boot\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":12390872,"reputation":31,"user_id":9032934,"display_name":"WP7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687273637,"creation_date":1687273637,"answer_id":76516106,"question_id":76054642,"body_markdown":"Can you please try this, it is working on my project `&lt;version&gt;3.0.1&lt;/version&gt;`\r\n\r\n\r\n```\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    logging.level.org.hibernate.type.description.sql.BasicBinder=TRACE\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\n```","title":"Spring Boot 3 : SQL statements are not logged in console","body":"<p>Can you please try this, it is working on my project <code>&lt;version&gt;3.0.1&lt;/version&gt;</code></p>\n<pre><code>    logging.level.org.hibernate.SQL=DEBUG\n    logging.level.org.hibernate.type.description.sql.BasicBinder=TRACE\n    spring.jpa.properties.hibernate.format_sql=true\n\n</code></pre>\n"}],"owner":{"account_id":1339113,"reputation":1550,"user_id":1281182,"accept_rate":59,"display_name":"Atul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687273637,"creation_date":1681908082,"question_id":76054642,"body_markdown":"I have created a very basic spring boot app with spring data JPA and below is my application.properties file \r\n\r\nThe issues is : SQL statements are not logged in spring boot console in eclipse. \r\n \r\nI have tried many options as mentioned at - [How to print sql statements with values in spring boot JPA application][1].\r\n\r\nBut still no luck.\r\n\r\nCan anybody please help here as what might be the issue here ?  \r\npom.xml is also attached \r\n\r\n\r\n**application.properties:** \r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\r\n    \r\n    #to show sql\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n    #formatting\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    #printing parameter values in order\r\n    logging.level.org.hibernate.type.descriptor.sql=trace\r\n    \r\n    spring.h2.console.enabled=true\r\n    # default path: h2-console\r\n    spring.h2.console.path=/h2-ui\r\n\r\n**pom.xml** \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.10&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Tutorial&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Tutorial&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67325608/how-to-print-sql-statements-with-values-in-spring-boot-jpa-application","title":"Spring Boot 3 : SQL statements are not logged in console","body":"<p>I have created a very basic spring boot app with spring data JPA and below is my application.properties file</p>\n<p>The issues is : SQL statements are not logged in spring boot console in eclipse.</p>\n<p>I have tried many options as mentioned at - <a href=\"https://stackoverflow.com/questions/67325608/how-to-print-sql-statements-with-values-in-spring-boot-jpa-application\">How to print sql statements with values in spring boot JPA application</a>.</p>\n<p>But still no luck.</p>\n<p>Can anybody please help here as what might be the issue here ?<br />\npom.xml is also attached</p>\n<p><strong>application.properties:</strong></p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\n\n#to show sql\nspring.jpa.properties.hibernate.show_sql=true\n#formatting\nspring.jpa.properties.hibernate.format_sql=true\n#printing parameter values in order\nlogging.level.org.hibernate.type.descriptor.sql=trace\n\nspring.h2.console.enabled=true\n# default path: h2-console\nspring.h2.console.path=/h2-ui\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.10&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Tutorial&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Tutorial&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","loops","jsp","servlets","jstl"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":1,"creation_date":1687274081,"post_id":76516104,"comment_id":134912082,"body_markdown":"what is the error?","body":"what is the error?"},{"owner":{"account_id":14727219,"reputation":105,"user_id":10635729,"display_name":"bgebes"},"score":0,"creation_date":1687278075,"post_id":76516104,"comment_id":134912993,"body_markdown":"There&#39;s not error, it does not iterate list and returning []","body":"There&#39;s not error, it does not iterate list and returning []"}],"owner":{"account_id":14727219,"reputation":105,"user_id":10635729,"display_name":"bgebes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687282861,"answer_count":0,"score":0,"last_activity_date":1687273629,"creation_date":1687273629,"question_id":76516104,"body_markdown":"I&#39;m trying to get product list and iterate them into JSP. There&#39;s my tried:\r\n\r\nProductsServlet.java\r\n```java\r\npackage product.servlet;\r\n\r\nimport java.io.IOException;\r\nimport java.sql.SQLException;\r\nimport java.util.List;\r\n\r\nimport javax.servlet.RequestDispatcher;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport product.dao.ProductDAO;\r\nimport product.model.Product;\r\n\r\n@WebServlet(&quot;/&quot;)\r\npublic class ProductServlet extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate ProductDAO productDAO;\r\n\r\n\tpublic ProductServlet() {\r\n\t\tsuper();\r\n\t\tthis.productDAO = new ProductDAO();\r\n\t}\r\n\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\tthis.doGet(request, response);\r\n\t}\r\n\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\tString action = request.getServletPath();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Action: &quot; + action);\r\n\r\n\t\ttry {\r\n\t\t\tswitch (action) {\r\n\t\t\tcase &quot;/insert&quot;:\r\n\t\t\t\tinsertProduct(request, response);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;/delete&quot;:\r\n\t\t\t\tdeleteProduct(request, response);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;/update&quot;:\r\n\t\t\t\tupdateProduct(request, response);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;/getProductByID&quot;:\r\n\t\t\t\tgetProductByID(request, response);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;/openProductsPage&quot;:\r\n\t\t\t\topenProductsPage(request, response);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tgetProducts(request, response);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} catch (SQLException ex) {\r\n\t\t\tthrow new ServletException(ex);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void getProducts(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows SQLException, IOException, ServletException {\r\n\t\tList&lt;Product&gt; products = productDAO.getProducts();\r\n\t\trequest.setAttribute(&quot;products&quot;, products);\r\n\t\trequest.getRequestDispatcher(&quot;products.jsp&quot;);\r\n\t}\r\n\r\n\tprivate void getProductByID(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows SQLException, IOException, ServletException {\r\n\t\tint productId = Integer.parseInt(request.getParameter(&quot;id&quot;));\r\n\t\tProduct product = productDAO.getProductByID(productId);\r\n\t\trequest.setAttribute(&quot;product&quot;, product);\r\n\t\tRequestDispatcher dispatcher = request.getRequestDispatcher(&quot;product_details.jsp&quot;);\r\n\t\tdispatcher.forward(request, response);\r\n\t}\r\n\r\n\tprivate void openProductsPage(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows SQLException, IOException, ServletException {\r\n\t\tList&lt;Product&gt; products = productDAO.getProducts();\r\n\t\t\t\r\n\t\tfor(Product product: products) {\r\n\t\t\tSystem.out.println(&quot;Product: &quot; + product.getProductName());\r\n\t\t} \r\n\t\t\r\n\t\trequest.setAttribute(&quot;products&quot;, products);\r\n\t\tRequestDispatcher dispatcher = request.getRequestDispatcher(&quot;products.jsp&quot;);\r\n\t\tdispatcher.forward(request, response);\r\n\t}\r\n\r\n\tprivate void insertProduct(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows SQLException, IOException {\r\n\t\tString productName = request.getParameter(&quot;productName&quot;);\r\n\t\tString productPhoto = request.getParameter(&quot;productPhoto&quot;);\r\n\t\tdouble productPrice = Double.parseDouble(request.getParameter(&quot;productPrice&quot;));\r\n\t\tint stockAmount = Integer.parseInt(request.getParameter(&quot;stockAmount&quot;));\r\n\t\tint categoryID = Integer.parseInt(request.getParameter(&quot;categoryID&quot;));\r\n\r\n\t\tProduct newProduct = new Product(productName, productPhoto, productPrice, stockAmount, categoryID);\r\n\t\tproductDAO.insertProduct(newProduct);\r\n\t\tresponse.sendRedirect(&quot;getProducts&quot;);\r\n\t}\r\n\r\n\tprivate void updateProduct(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows SQLException, IOException {\r\n\t\tint productId = Integer.parseInt(request.getParameter(&quot;id&quot;));\r\n\t\tString productName = request.getParameter(&quot;productName&quot;);\r\n\t\tString productPhoto = request.getParameter(&quot;productPhoto&quot;);\r\n\t\tint productPrice = Integer.parseInt(request.getParameter(&quot;productPrice&quot;));\r\n\t\tint stockAmount = Integer.parseInt(request.getParameter(&quot;stockAmount&quot;));\r\n\t\tProduct product = new Product(productId, productName, productPhoto, productPrice, stockAmount);\r\n\t\tproductDAO.updateProduct(product);\r\n\t\tresponse.sendRedirect(&quot;getProducts&quot;);\r\n\t}\r\n\r\n\tprivate void deleteProduct(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows SQLException, IOException {\r\n\t\tint productId = Integer.parseInt(request.getParameter(&quot;id&quot;));\r\n\t\tproductDAO.deleteProduct(productId);\r\n\t\tresponse.sendRedirect(&quot;getProducts&quot;);\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\npages/products.jsp\r\n```jsp\r\n&lt;div class=&quot;row isotope-grid&quot;&gt;\r\n          &lt;c:forEach var=&quot;product&quot; items=&quot;${products}&quot;&gt;\r\n          \t&lt;div class=&quot;col-sm-6 col-md-4 col-lg-3 p-b-35 isotope-item ${product.getCategory().getCategoryName()}&quot;&gt;\r\n            &lt;!-- Block2 --&gt;\r\n            &lt;div class=&quot;block2&quot;&gt;\r\n              &lt;div class=&quot;block2-pic hov-img0&quot;&gt;\r\n                &lt;img src=&quot;..a${product.getProductPhoto()}&quot; alt=&quot;IMG-PRODUCT&quot; /&gt;\r\n\r\n                &lt;a\r\n                  href=&quot;#&quot;\r\n                  class=&quot;block2-btn flex-c-m stext-103 cl2 size-102 bg0 bor2 hov-btn1 p-lr-15 trans-04 js-show-modal1&quot;\r\n                &gt;\r\n                  Hızlı İncele\r\n                &lt;/a&gt;\r\n              &lt;/div&gt;\r\n\r\n              &lt;div class=&quot;block2-txt flex-w flex-t p-t-14&quot;&gt;\r\n                &lt;div class=&quot;block2-txt-child1 flex-col-l&quot;&gt;\r\n                  &lt;a\r\n                    href=&quot;product-detail.html&quot;\r\n                    class=&quot;stext-104 cl4 hov-cl1 trans-04 js-name-b2 p-b-6&quot;\r\n                  &gt;\r\n                    ${product.getProductName()}\r\n                  &lt;/a&gt;\r\n\r\n                  &lt;span class=&quot;stext-105 cl3&quot;&gt; ${product.getProductPrice()} TRY &lt;/span&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;div class=&quot;block2-txt-child2 flex-r p-t-3&quot;&gt;\r\n                  &lt;a\r\n                    href=&quot;#&quot;\r\n                    class=&quot;btn-addwish-b2 dis-block pos-relative js-addwish-b2&quot;\r\n                  &gt;\r\n                    &lt;img\r\n                      class=&quot;icon-heart1 dis-block trans-04&quot;\r\n                      src=&quot;../images/icons/icon-heart-01.png&quot;\r\n                      alt=&quot;ICON&quot;\r\n                    /&gt;\r\n                    &lt;img\r\n                      class=&quot;icon-heart2 dis-block trans-04 ab-t-l&quot;\r\n                      src=&quot;../images/icons/icon-heart-02.png&quot;\r\n                      alt=&quot;ICON&quot;\r\n                    /&gt;\r\n                  &lt;/a&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n          &lt;/c:forEach&gt;\r\n        &lt;/div&gt;\r\n```\r\n\r\nI watch this video and try to get solution. \r\nhttps://www.youtube.com/watch?v=RqiuxA_OFOk&amp;t=1627s\r\n\r\nI hope you can fix my error. I&#39;m researching now. \r\n\r\nApache Tomcat Version: 9.0.76\r\nJava Version: \r\nopenjdk 11.0.19 2023-04-18\r\nOpenJDK Runtime Environment (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1)\r\nOpenJDK 64-Bit Server VM (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1, mixed mode, sharing)\r\n\r\nJavac Version:\r\njavac 11.0.19","title":"Can&#39;t Iterate List Where Come From Servlet","body":"<p>I'm trying to get product list and iterate them into JSP. There's my tried:</p>\n<p>ProductsServlet.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package product.servlet;\n\nimport java.io.IOException;\nimport java.sql.SQLException;\nimport java.util.List;\n\nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport product.dao.ProductDAO;\nimport product.model.Product;\n\n@WebServlet(&quot;/&quot;)\npublic class ProductServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    private ProductDAO productDAO;\n\n    public ProductServlet() {\n        super();\n        this.productDAO = new ProductDAO();\n    }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        String action = request.getServletPath();\n        \n        System.out.println(&quot;Action: &quot; + action);\n\n        try {\n            switch (action) {\n            case &quot;/insert&quot;:\n                insertProduct(request, response);\n                break;\n            case &quot;/delete&quot;:\n                deleteProduct(request, response);\n                break;\n            case &quot;/update&quot;:\n                updateProduct(request, response);\n                break;\n            case &quot;/getProductByID&quot;:\n                getProductByID(request, response);\n                break;\n            case &quot;/openProductsPage&quot;:\n                openProductsPage(request, response);\n                break;\n            default:\n                getProducts(request, response);\n                break;\n            }\n        } catch (SQLException ex) {\n            throw new ServletException(ex);\n        }\n    }\n\n    private void getProducts(HttpServletRequest request, HttpServletResponse response)\n            throws SQLException, IOException, ServletException {\n        List&lt;Product&gt; products = productDAO.getProducts();\n        request.setAttribute(&quot;products&quot;, products);\n        request.getRequestDispatcher(&quot;products.jsp&quot;);\n    }\n\n    private void getProductByID(HttpServletRequest request, HttpServletResponse response)\n            throws SQLException, IOException, ServletException {\n        int productId = Integer.parseInt(request.getParameter(&quot;id&quot;));\n        Product product = productDAO.getProductByID(productId);\n        request.setAttribute(&quot;product&quot;, product);\n        RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;product_details.jsp&quot;);\n        dispatcher.forward(request, response);\n    }\n\n    private void openProductsPage(HttpServletRequest request, HttpServletResponse response)\n            throws SQLException, IOException, ServletException {\n        List&lt;Product&gt; products = productDAO.getProducts();\n            \n        for(Product product: products) {\n            System.out.println(&quot;Product: &quot; + product.getProductName());\n        } \n        \n        request.setAttribute(&quot;products&quot;, products);\n        RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;products.jsp&quot;);\n        dispatcher.forward(request, response);\n    }\n\n    private void insertProduct(HttpServletRequest request, HttpServletResponse response)\n            throws SQLException, IOException {\n        String productName = request.getParameter(&quot;productName&quot;);\n        String productPhoto = request.getParameter(&quot;productPhoto&quot;);\n        double productPrice = Double.parseDouble(request.getParameter(&quot;productPrice&quot;));\n        int stockAmount = Integer.parseInt(request.getParameter(&quot;stockAmount&quot;));\n        int categoryID = Integer.parseInt(request.getParameter(&quot;categoryID&quot;));\n\n        Product newProduct = new Product(productName, productPhoto, productPrice, stockAmount, categoryID);\n        productDAO.insertProduct(newProduct);\n        response.sendRedirect(&quot;getProducts&quot;);\n    }\n\n    private void updateProduct(HttpServletRequest request, HttpServletResponse response)\n            throws SQLException, IOException {\n        int productId = Integer.parseInt(request.getParameter(&quot;id&quot;));\n        String productName = request.getParameter(&quot;productName&quot;);\n        String productPhoto = request.getParameter(&quot;productPhoto&quot;);\n        int productPrice = Integer.parseInt(request.getParameter(&quot;productPrice&quot;));\n        int stockAmount = Integer.parseInt(request.getParameter(&quot;stockAmount&quot;));\n        Product product = new Product(productId, productName, productPhoto, productPrice, stockAmount);\n        productDAO.updateProduct(product);\n        response.sendRedirect(&quot;getProducts&quot;);\n    }\n\n    private void deleteProduct(HttpServletRequest request, HttpServletResponse response)\n            throws SQLException, IOException {\n        int productId = Integer.parseInt(request.getParameter(&quot;id&quot;));\n        productDAO.deleteProduct(productId);\n        response.sendRedirect(&quot;getProducts&quot;);\n\n    }\n\n}\n</code></pre>\n<p>pages/products.jsp</p>\n<pre><code>&lt;div class=&quot;row isotope-grid&quot;&gt;\n          &lt;c:forEach var=&quot;product&quot; items=&quot;${products}&quot;&gt;\n            &lt;div class=&quot;col-sm-6 col-md-4 col-lg-3 p-b-35 isotope-item ${product.getCategory().getCategoryName()}&quot;&gt;\n            &lt;!-- Block2 --&gt;\n            &lt;div class=&quot;block2&quot;&gt;\n              &lt;div class=&quot;block2-pic hov-img0&quot;&gt;\n                &lt;img src=&quot;..a${product.getProductPhoto()}&quot; alt=&quot;IMG-PRODUCT&quot; /&gt;\n\n                &lt;a\n                  href=&quot;#&quot;\n                  class=&quot;block2-btn flex-c-m stext-103 cl2 size-102 bg0 bor2 hov-btn1 p-lr-15 trans-04 js-show-modal1&quot;\n                &gt;\n                  Hızlı İncele\n                &lt;/a&gt;\n              &lt;/div&gt;\n\n              &lt;div class=&quot;block2-txt flex-w flex-t p-t-14&quot;&gt;\n                &lt;div class=&quot;block2-txt-child1 flex-col-l&quot;&gt;\n                  &lt;a\n                    href=&quot;product-detail.html&quot;\n                    class=&quot;stext-104 cl4 hov-cl1 trans-04 js-name-b2 p-b-6&quot;\n                  &gt;\n                    ${product.getProductName()}\n                  &lt;/a&gt;\n\n                  &lt;span class=&quot;stext-105 cl3&quot;&gt; ${product.getProductPrice()} TRY &lt;/span&gt;\n                &lt;/div&gt;\n\n                &lt;div class=&quot;block2-txt-child2 flex-r p-t-3&quot;&gt;\n                  &lt;a\n                    href=&quot;#&quot;\n                    class=&quot;btn-addwish-b2 dis-block pos-relative js-addwish-b2&quot;\n                  &gt;\n                    &lt;img\n                      class=&quot;icon-heart1 dis-block trans-04&quot;\n                      src=&quot;../images/icons/icon-heart-01.png&quot;\n                      alt=&quot;ICON&quot;\n                    /&gt;\n                    &lt;img\n                      class=&quot;icon-heart2 dis-block trans-04 ab-t-l&quot;\n                      src=&quot;../images/icons/icon-heart-02.png&quot;\n                      alt=&quot;ICON&quot;\n                    /&gt;\n                  &lt;/a&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;/c:forEach&gt;\n        &lt;/div&gt;\n</code></pre>\n<p>I watch this video and try to get solution.\n<a href=\"https://www.youtube.com/watch?v=RqiuxA_OFOk&amp;t=1627s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=RqiuxA_OFOk&amp;t=1627s</a></p>\n<p>I hope you can fix my error. I'm researching now.</p>\n<p>Apache Tomcat Version: 9.0.76\nJava Version:\nopenjdk 11.0.19 2023-04-18\nOpenJDK Runtime Environment (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1)\nOpenJDK 64-Bit Server VM (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1, mixed mode, sharing)</p>\n<p>Javac Version:\njavac 11.0.19</p>\n"},{"tags":["java","regex","regex-lookarounds","regex-group"],"comments":[{"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"score":0,"creation_date":1687274151,"post_id":76515613,"comment_id":134912101,"body_markdown":"Remove Java tag as this question is related to regex","body":"Remove Java tag as this question is related to regex"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687273381,"creation_date":1687271927,"answer_id":76515869,"question_id":76515613,"body_markdown":"You can use the following pattern.  \r\nI don&#39;t believe a _look-around_ would be necessary here, just repeated groups.\r\n\r\nI&#39;m not sure if I&#39;ve matched your specifications exactly.  \r\nIt appears to just be delimited, sequenced uppercase letters, which may be preceded by the double-dagger character, _‡_, only if they are a singular _N_, _A_, _C_, _Z_, or _P_ letter.\r\n\r\n```none\r\n^CC(?:/(?:‡[NACZP]|[A-Z]+)(?: ‡[NACZP]| [A-Z]+)*)*/?$\r\n```\r\n\r\nThis will match the following.\r\n\r\n```none\r\nCC\r\nCC/\r\nCC/N\r\nCC/N/NAME\r\nCC/N/NAME ‡C\r\nCC/N/NAME ‡C/CITY NAME ‡A\r\nCC/N/NAME ‡C/CITY NAME ‡A/ADDRESS\r\n```\r\n\r\nAnd, not these,\r\n\r\n```none\r\nCC/ /\r\nCC/ABC /\r\nCC/ 123\r\nCC/‡B\r\nCC/‡A ‡B\r\nCC/‡ABC\r\nCC/CITY‡ NAME\r\nCC/N/NAME ‡C/CITY‡ NAME ‡A/ADDRESS\r\n```\r\n\r\nAs a note, you mention the following.\r\n\r\n&gt; _&quot;... Also if string has CC/\\\\[NACZP\\\\]/ so it should match. ...&quot;_\r\n\r\nWhich, I believe is a typo, in regard to `\\[`, and `\\]`.  \r\nSince, you are not checking for those, within your pattern.\r\n\r\n```none\r\n\\\\/[NACZP]\\\\/\r\n```","title":"I want to build a regex which matches a particular string","body":"<p>You can use the following pattern.<br />\nI don't believe a <em>look-around</em> would be necessary here, just repeated groups.</p>\n<p>I'm not sure if I've matched your specifications exactly.<br />\nIt appears to just be delimited, sequenced uppercase letters, which may be preceded by the double-dagger character, <em>‡</em>, only if they are a singular <em>N</em>, <em>A</em>, <em>C</em>, <em>Z</em>, or <em>P</em> letter.</p>\n<pre class=\"lang-none prettyprint-override\"><code>^CC(?:/(?:‡[NACZP]|[A-Z]+)(?: ‡[NACZP]| [A-Z]+)*)*/?$\n</code></pre>\n<p>This will match the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>CC\nCC/\nCC/N\nCC/N/NAME\nCC/N/NAME ‡C\nCC/N/NAME ‡C/CITY NAME ‡A\nCC/N/NAME ‡C/CITY NAME ‡A/ADDRESS\n</code></pre>\n<p>And, not these,</p>\n<pre class=\"lang-none prettyprint-override\"><code>CC/ /\nCC/ABC /\nCC/ 123\nCC/‡B\nCC/‡A ‡B\nCC/‡ABC\nCC/CITY‡ NAME\nCC/N/NAME ‡C/CITY‡ NAME ‡A/ADDRESS\n</code></pre>\n<p>As a note, you mention the following.</p>\n<blockquote>\n<p><em>&quot;... Also if string has CC/\\[NACZP\\]/ so it should match. ...&quot;</em></p>\n</blockquote>\n<p>Which, I believe is a typo, in regard to <code>\\[</code>, and <code>\\]</code>.<br />\nSince, you are not checking for those, within your pattern.</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\\\/[NACZP]\\\\/\n</code></pre>\n"}],"owner":{"account_id":28858880,"reputation":1,"user_id":22103125,"display_name":"Dipesh Patidar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687273381,"creation_date":1687270203,"question_id":76515613,"body_markdown":"I have a string \r\n\r\n    &quot;CC/N/NAME ‡C/CITY NAME ‡A/ADDRESS&quot;\r\n\r\ni want to match exact same string. If the symbol `‡` comes in between of any valid char i.e `CC/N/NAME ‡C/CITY‡ NAME ‡A/ADDRESS&quot;` than this whole string should not match. Also if string has `CC/\\[NACZP\\]/` so it should match. \r\n\r\nI have tried this regex:\r\n\r\nBut it also matches ‡ symbol if it dosn&#39;t have `‡\\[NACZP\\]/` valid characters\r\n\r\n```\r\n^(CC\\\\/[NACZP]\\\\/[^‡]*)|(.*)(?&lt;=‡[NACZP]\\\\/)([^‡]*)|^CC\\\\/[&#164; ]$\r\n```\r\n\r\nI have tried this \r\n\r\n    ^(CC\\/[NACZP]\\/[^‡]*)|(.*)(?&lt;=‡[NACZP]\\/)([^‡]*)|^CC\\/[&#164; ]$\r\n\r\nand i am expecting that it should only match a valid string which has `CC/[NACZP]/` and if in middle of string we have ‡ so it should have `[NACZP]/` after that. i.e `‡N/NAME`.\r\n","title":"I want to build a regex which matches a particular string","body":"<p>I have a string</p>\n<pre><code>&quot;CC/N/NAME ‡C/CITY NAME ‡A/ADDRESS&quot;\n</code></pre>\n<p>i want to match exact same string. If the symbol <code>‡</code> comes in between of any valid char i.e <code>CC/N/NAME ‡C/CITY‡ NAME ‡A/ADDRESS&quot;</code> than this whole string should not match. Also if string has <code>CC/\\[NACZP\\]/</code> so it should match.</p>\n<p>I have tried this regex:</p>\n<p>But it also matches ‡ symbol if it dosn't have <code>‡\\[NACZP\\]/</code> valid characters</p>\n<pre><code>^(CC\\\\/[NACZP]\\\\/[^‡]*)|(.*)(?&lt;=‡[NACZP]\\\\/)([^‡]*)|^CC\\\\/[¤ ]$\n</code></pre>\n<p>I have tried this</p>\n<pre><code>^(CC\\/[NACZP]\\/[^‡]*)|(.*)(?&lt;=‡[NACZP]\\/)([^‡]*)|^CC\\/[¤ ]$\n</code></pre>\n<p>and i am expecting that it should only match a valid string which has <code>CC/[NACZP]/</code> and if in middle of string we have ‡ so it should have <code>[NACZP]/</code> after that. i.e <code>‡N/NAME</code>.</p>\n"},{"tags":["java","artificial-intelligence","computer-science","shortest-path","a-star"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1687202528,"post_id":76509468,"comment_id":134901044,"body_markdown":"Why is the image not directly visible here? What do the numbers in the image mean? If you need the path to G2, where do you start? You mentioned the result you get but not the desired result. Too many unknowns for a meaningful answer.","body":"Why is the image not directly visible here? What do the numbers in the image mean? If you need the path to G2, where do you start? You mentioned the result you get but not the desired result. Too many unknowns for a meaningful answer."},{"owner":{"account_id":14818179,"reputation":1,"user_id":11104730,"display_name":"user185491"},"score":0,"creation_date":1687202830,"post_id":76509468,"comment_id":134901096,"body_markdown":"The image should open if you click on the link. IDK why it not displayed. \nThe path to be calculated should be the cheapest. Start at A. \n\nI dont know the desired result, my output is definitely not correct but close.","body":"The image should open if you click on the link. IDK why it not displayed.  The path to be calculated should be the cheapest. Start at A.   I dont know the desired result, my output is definitely not correct but close."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1687202942,"post_id":76509468,"comment_id":134901115,"body_markdown":"The image is not displayed because you did not upload it here. Instead you pasted a link to another site.","body":"The image is not displayed because you did not upload it here. Instead you pasted a link to another site."},{"owner":{"account_id":14818179,"reputation":1,"user_id":11104730,"display_name":"user185491"},"score":0,"creation_date":1687203199,"post_id":76509468,"comment_id":134901148,"body_markdown":"I did upload the image with the option to add the image.","body":"I did upload the image with the option to add the image."},{"owner":{"account_id":14818179,"reputation":1,"user_id":11104730,"display_name":"user185491"},"score":0,"creation_date":1687203408,"post_id":76509468,"comment_id":134901173,"body_markdown":"The numbers in image are the path cost. Figure given Search Space Example. A is the start state. G1, G2, and G3 are three goal states. The numbers in the black squares are the heuristic values which indicate the estimate cost between the state and the goal state. The numbers on the arcs indicate the path-cost between two states.","body":"The numbers in image are the path cost. Figure given Search Space Example. A is the start state. G1, G2, and G3 are three goal states. The numbers in the black squares are the heuristic values which indicate the estimate cost between the state and the goal state. The numbers on the arcs indicate the path-cost between two states."}],"answers":[{"comments":[{"owner":{"account_id":28858992,"reputation":11,"user_id":22103218,"display_name":"Chris Hopton"},"score":0,"creation_date":1687276854,"post_id":76516056,"comment_id":134912720,"body_markdown":"I mean an example input of of the matrix and heurstic array with the expected output. But I can see that overestimating may not be the case, so thanks!","body":"I mean an example input of of the matrix and heurstic array with the expected output. But I can see that overestimating may not be the case, so thanks!"}],"tags":[],"owner":{"account_id":28858992,"reputation":11,"user_id":22103218,"display_name":"Chris Hopton"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687273266,"creation_date":1687273266,"answer_id":76516056,"question_id":76509468,"body_markdown":"This question is a little harder to answer since you haven&#39;t provided an example input but your implementation of A* algorithm appears to be fine. However, it seems you&#39;ve got a confusion about how adjacency matrices represent the graph. In adjacency matrices, the value matrix[i][j] represents the cost from node i to node j. In your current matrix, you are trying to access matrix[i][Arrays.asList(labels).indexOf(currentState)] which is effectively same as matrix[i][current.index] which is not the correct way to access the cost. Each row represents the start node and each column represents the end node. The elements of the matrix represent the cost from start node to end node. \r\n\r\nAlso If your heuristic function overestimates, A* might not find the shortest path. Make sure your heuristic values don&#39;t violate this condition.\r\n\r\nBelow i&#39;ve attempted to fix what I think is your issue: \r\n```\r\nimport java.util.*;\r\n\r\npublic class AStarSearch {\r\n  \r\n    private static final int INFINITY = Integer.MAX_VALUE;\r\n    \r\n    private static class Node implements Comparable&lt;Node&gt; {\r\n        String state;\r\n        int g;\r\n        int h;\r\n\r\n        Node parent;\r\n\r\n        public Node(String state, int g, int h, Node parent) {\r\n            this.state = state;\r\n            this.g = g;\r\n            this.h = h;\r\n            this.parent = parent;\r\n        }\r\n\r\n        public int getTotalCost() {\r\n            return g + h;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(Node other) {\r\n            return Integer.compare(this.getTotalCost(), other.getTotalCost());\r\n        }\r\n    }\r\n\r\n    private static List&lt;String&gt; aStarSearch(int[][] matrix, String[] labels, int[] heuristic, String startState) {\r\n        Map&lt;String, Integer&gt; heuristicMap = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; labels.length; i++) {\r\n            heuristicMap.put(labels[i], heuristic[i]);\r\n        }\r\n\r\n        Map&lt;String, Integer&gt; gScores = new HashMap&lt;&gt;();\r\n        Map&lt;String, Integer&gt; fScores = new HashMap&lt;&gt;();\r\n\r\n        PriorityQueue&lt;Node&gt; openSet = new PriorityQueue&lt;&gt;();\r\n        Set&lt;String&gt; closedSet = new HashSet&lt;&gt;();\r\n\r\n        Node startNode = new Node(startState, 0, heuristicMap.get(startState), null);\r\n        openSet.add(startNode);\r\n        gScores.put(startState, 0);\r\n        fScores.put(startState, startNode.getTotalCost());\r\n\r\n        while (!openSet.isEmpty()) {\r\n            Node current = openSet.poll();\r\n            String currentState = current.state;\r\n\r\n            if (heuristicMap.get(currentState) == 0) {\r\n                // Reached a goal state, return the path\r\n                List&lt;String&gt; path = new ArrayList&lt;&gt;();\r\n                Node node = current;\r\n                while (node != null) {\r\n                    path.add(0, node.state);\r\n                    node = node.parent;\r\n                }\r\n                return path;\r\n            }\r\n\r\n            closedSet.add(currentState);\r\n\r\n            for (int i = 0; i &lt; labels.length; i++) {\r\n                String nextState = labels[i];\r\n                int cost = matrix[Arrays.asList(labels).indexOf(currentState)][i];\r\n                if (cost &gt; 0) {\r\n                    int tentativeGScore = gScores.get(currentState) + cost;\r\n                    int tentativeFScore = tentativeGScore + heuristicMap.get(nextState);\r\n\r\n                    if (closedSet.contains(nextState) &amp;&amp; tentativeFScore &gt;= fScores.getOrDefault(nextState, INFINITY)) {\r\n                        continue;\r\n                    }\r\n\r\n                    if (!closedSet.contains(nextState) || tentativeFScore &lt; fScores.getOrDefault(nextState, INFINITY)) {\r\n                        Node nextNode = new Node(nextState, tentativeGScore, heuristicMap.get(nextState), current);\r\n                        openSet.removeIf(node -&gt; node.state.equals(nextState));\r\n                        openSet.add(nextNode);\r\n                        gScores.put(nextState, tentativeGScore);\r\n                        fScores.put(nextState, tentativeFScore);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // No path found\r\n        return null;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String[] labels = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;H&quot;, &quot;J&quot;, &quot;G1&quot;, &quot;G2&quot;, &quot;G3&quot;};\r\n\r\n        int[][] matrix = {\r\n                // Your adjacency matrix should go here\r\n        };\r\n\r\n        int[] heuristic = {\r\n                // Your heuristic array should go here\r\n        };\r\n\r\n        String startState = &quot;A&quot;;\r\n\r\n        List&lt;String&gt; cheapestPath = aStarSearch(matrix, labels, heuristic, startState);\r\n\r\n        if (cheapestPath != null) {\r\n            System.out.println(&quot;Cheapest path: &quot; + cheapestPath);\r\n            System.out.println(&quot;Goal state: &quot; + cheapestPath.get(cheapestPath.size() - 1));\r\n            System.out.println(&quot;Number of cycles: &quot; + (cheapestPath.size() - 1));\r\n        } else {\r\n            System.out.println(&quot;No path found.&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nThe cost is now retrieved as matrix[Arrays.asList(labels).indexOf(currentState)][i], which represents the cost from the current node to the next node i","title":"Find cheapest path using A* ALGORITHM","body":"<p>This question is a little harder to answer since you haven't provided an example input but your implementation of A* algorithm appears to be fine. However, it seems you've got a confusion about how adjacency matrices represent the graph. In adjacency matrices, the value matrix[i][j] represents the cost from node i to node j. In your current matrix, you are trying to access matrix[i][Arrays.asList(labels).indexOf(currentState)] which is effectively same as matrix[i][current.index] which is not the correct way to access the cost. Each row represents the start node and each column represents the end node. The elements of the matrix represent the cost from start node to end node.</p>\n<p>Also If your heuristic function overestimates, A* might not find the shortest path. Make sure your heuristic values don't violate this condition.</p>\n<p>Below i've attempted to fix what I think is your issue:</p>\n<pre><code>import java.util.*;\n\npublic class AStarSearch {\n  \n    private static final int INFINITY = Integer.MAX_VALUE;\n    \n    private static class Node implements Comparable&lt;Node&gt; {\n        String state;\n        int g;\n        int h;\n\n        Node parent;\n\n        public Node(String state, int g, int h, Node parent) {\n            this.state = state;\n            this.g = g;\n            this.h = h;\n            this.parent = parent;\n        }\n\n        public int getTotalCost() {\n            return g + h;\n        }\n\n        @Override\n        public int compareTo(Node other) {\n            return Integer.compare(this.getTotalCost(), other.getTotalCost());\n        }\n    }\n\n    private static List&lt;String&gt; aStarSearch(int[][] matrix, String[] labels, int[] heuristic, String startState) {\n        Map&lt;String, Integer&gt; heuristicMap = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; labels.length; i++) {\n            heuristicMap.put(labels[i], heuristic[i]);\n        }\n\n        Map&lt;String, Integer&gt; gScores = new HashMap&lt;&gt;();\n        Map&lt;String, Integer&gt; fScores = new HashMap&lt;&gt;();\n\n        PriorityQueue&lt;Node&gt; openSet = new PriorityQueue&lt;&gt;();\n        Set&lt;String&gt; closedSet = new HashSet&lt;&gt;();\n\n        Node startNode = new Node(startState, 0, heuristicMap.get(startState), null);\n        openSet.add(startNode);\n        gScores.put(startState, 0);\n        fScores.put(startState, startNode.getTotalCost());\n\n        while (!openSet.isEmpty()) {\n            Node current = openSet.poll();\n            String currentState = current.state;\n\n            if (heuristicMap.get(currentState) == 0) {\n                // Reached a goal state, return the path\n                List&lt;String&gt; path = new ArrayList&lt;&gt;();\n                Node node = current;\n                while (node != null) {\n                    path.add(0, node.state);\n                    node = node.parent;\n                }\n                return path;\n            }\n\n            closedSet.add(currentState);\n\n            for (int i = 0; i &lt; labels.length; i++) {\n                String nextState = labels[i];\n                int cost = matrix[Arrays.asList(labels).indexOf(currentState)][i];\n                if (cost &gt; 0) {\n                    int tentativeGScore = gScores.get(currentState) + cost;\n                    int tentativeFScore = tentativeGScore + heuristicMap.get(nextState);\n\n                    if (closedSet.contains(nextState) &amp;&amp; tentativeFScore &gt;= fScores.getOrDefault(nextState, INFINITY)) {\n                        continue;\n                    }\n\n                    if (!closedSet.contains(nextState) || tentativeFScore &lt; fScores.getOrDefault(nextState, INFINITY)) {\n                        Node nextNode = new Node(nextState, tentativeGScore, heuristicMap.get(nextState), current);\n                        openSet.removeIf(node -&gt; node.state.equals(nextState));\n                        openSet.add(nextNode);\n                        gScores.put(nextState, tentativeGScore);\n                        fScores.put(nextState, tentativeFScore);\n                    }\n                }\n            }\n        }\n\n        // No path found\n        return null;\n    }\n\n    public static void main(String[] args) {\n        String[] labels = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;H&quot;, &quot;J&quot;, &quot;G1&quot;, &quot;G2&quot;, &quot;G3&quot;};\n\n        int[][] matrix = {\n                // Your adjacency matrix should go here\n        };\n\n        int[] heuristic = {\n                // Your heuristic array should go here\n        };\n\n        String startState = &quot;A&quot;;\n\n        List&lt;String&gt; cheapestPath = aStarSearch(matrix, labels, heuristic, startState);\n\n        if (cheapestPath != null) {\n            System.out.println(&quot;Cheapest path: &quot; + cheapestPath);\n            System.out.println(&quot;Goal state: &quot; + cheapestPath.get(cheapestPath.size() - 1));\n            System.out.println(&quot;Number of cycles: &quot; + (cheapestPath.size() - 1));\n        } else {\n            System.out.println(&quot;No path found.&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>The cost is now retrieved as matrix[Arrays.asList(labels).indexOf(currentState)][i], which represents the cost from the current node to the next node i</p>\n"}],"owner":{"account_id":14818179,"reputation":1,"user_id":11104730,"display_name":"user185491"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687273266,"creation_date":1687201736,"question_id":76509468,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nThe program should start at A and check for the cheapest path to one of the goal states G1, G2, and G3.\r\n\r\nI am getting following output, which is wrong but close, I think.\r\n\r\n```none\r\nCheapest path: [A, C, D, G2]\r\nGoal state: G2\r\nNumber of cycles: 3\r\n```\r\n\r\nCan someone help with my code, it is not giving the right path.\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class AStarSearch {\r\n  \r\n// define a private class Node which stores g from start node\r\n  //stores h from current node to goal node\r\n  \r\n    private static final int INFINITY = Integer.MAX_VALUE;\r\n    \r\n    private static class Node implements Comparable&lt;Node&gt; {\r\n        String state;\r\n        int g;\r\n        int h;\r\n\r\n        Node parent;\r\n\r\n        public Node(String state, int g, int h, Node parent) {\r\n            this.state = state;\r\n            this.g = g;\r\n            this.h = h;\r\n            this.parent = parent;\r\n        }\r\n\r\n        public int getTotalCost() {\r\n            return g + h;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(Node other) {\r\n            return Integer.compare(this.getTotalCost(), other.getTotalCost());\r\n        }\r\n    }\r\n    \r\n//takes an array of node labels, an array of heuristic values \r\n    //takes startstate as input\r\n    \r\n    private static List&lt;String&gt; aStarSearch(int[][] matrix, String[] labels, int[] heuristic, String startState) {\r\n        Map&lt;String, Integer&gt; heuristicMap = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; labels.length; i++) {\r\n            heuristicMap.put(labels[i], heuristic[i]);\r\n        }\r\n\r\n        Map&lt;String, Integer&gt; gScores = new HashMap&lt;&gt;();\r\n        Map&lt;String, Integer&gt; fScores = new HashMap&lt;&gt;();\r\n        \r\n        //starts with start node and adds to open set\r\n        //sets the g score and total f score of start node\r\n\r\n        PriorityQueue&lt;Node&gt; openSet = new PriorityQueue&lt;&gt;();\r\n        Set&lt;String&gt; closedSet = new HashSet&lt;&gt;();\r\n\r\n        Node startNode = new Node(startState, 0, heuristicMap.get(startState), null);\r\n        openSet.add(startNode);\r\n        gScores.put(startState, 0);\r\n        fScores.put(startState, startNode.getTotalCost());\r\n\r\n        while (!openSet.isEmpty()) {\r\n            Node current = openSet.poll();\r\n            String currentState = current.state;\r\n\r\n            if (heuristicMap.get(currentState) == 0) {\r\n                // Reached a goal state, return the path\r\n                List&lt;String&gt; path = new ArrayList&lt;&gt;();\r\n                Node node = current;\r\n                while (node != null) {\r\n                    path.add(0, node.state);\r\n                    node = node.parent;\r\n                }\r\n                return path;\r\n            }\r\n\r\n            closedSet.add(currentState);\r\n\r\n            for (int i = 0; i &lt; labels.length; i++) {\r\n                String nextState = labels[i];\r\n                int cost = matrix[i][Arrays.asList(labels).indexOf(currentState)];\r\n                if (cost &gt; 0) {\r\n                    int tentativeGScore = gScores.get(currentState) + cost;\r\n                    int tentativeFScore = tentativeGScore + heuristicMap.get(nextState);\r\n\r\n                    if (closedSet.contains(nextState) &amp;&amp; tentativeFScore &gt;= fScores.getOrDefault(nextState, INFINITY)) {\r\n                        continue;\r\n                    }\r\n\r\n                    if (!closedSet.contains(nextState) || tentativeFScore &lt; fScores.getOrDefault(nextState, INFINITY)) {\r\n                        Node nextNode = new Node(nextState, tentativeGScore, heuristicMap.get(nextState), current);\r\n                        openSet.remove(nextNode); // Remove nextNode if it&#39;s already in the openSet\r\n                        openSet.add(nextNode);\r\n                        gScores.put(nextState, tentativeGScore);\r\n                        fScores.put(nextState, tentativeFScore);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // No path found\r\n        return null;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String[] labels = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;H&quot;, &quot;J&quot;, &quot;G1&quot;, &quot;G2&quot;, &quot;G3&quot;};\r\n\r\n        int[][] matrix = {\r\n                {0, 0, 0, 6, 1, 0, 0, 0, 0, 0},\r\n                {5, 0, 2, 0, 0, 0, 0, 0, 0, 0},\r\n                {9, 3, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 1, 0, 2, 0, 0, 0, 0, 0},\r\n                {6, 0, 0, 0, 0, 2, 0, 0, 0, 0},\r\n                {0, 0, 0, 7, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 2, 0, 0, 0, 0, 0},\r\n                {0, 9, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 5, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 8, 7, 0, 0, 0}\r\n        };\r\n\r\n        int[] heuristic = {5, 7, 3, 4, 6, 8, 5, 0, 0, 0};\r\n\r\n        String startState = &quot;A&quot;;\r\n\r\n        List&lt;String&gt; cheapestPath = aStarSearch(matrix, labels, heuristic, startState);\r\n\r\n        if (cheapestPath != null) {\r\n            System.out.println(&quot;Cheapest path: &quot; + cheapestPath);\r\n            System.out.println(&quot;Goal state: &quot; + cheapestPath.get(cheapestPath.size() - 1));\r\n            System.out.println(&quot;Number of cycles: &quot; + (cheapestPath.size() - 1));\r\n        } else {\r\n            System.out.println(&quot;No path found.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI have tried the code above and got the output mentioned above.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/stAxU.png","title":"Find cheapest path using A* ALGORITHM","body":"<p><a href=\"https://i.stack.imgur.com/stAxU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/stAxU.png\" alt=\"enter image description here\" /></a></p>\n<p>The program should start at A and check for the cheapest path to one of the goal states G1, G2, and G3.</p>\n<p>I am getting following output, which is wrong but close, I think.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Cheapest path: [A, C, D, G2]\nGoal state: G2\nNumber of cycles: 3\n</code></pre>\n<p>Can someone help with my code, it is not giving the right path.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class AStarSearch {\n  \n// define a private class Node which stores g from start node\n  //stores h from current node to goal node\n  \n    private static final int INFINITY = Integer.MAX_VALUE;\n    \n    private static class Node implements Comparable&lt;Node&gt; {\n        String state;\n        int g;\n        int h;\n\n        Node parent;\n\n        public Node(String state, int g, int h, Node parent) {\n            this.state = state;\n            this.g = g;\n            this.h = h;\n            this.parent = parent;\n        }\n\n        public int getTotalCost() {\n            return g + h;\n        }\n\n        @Override\n        public int compareTo(Node other) {\n            return Integer.compare(this.getTotalCost(), other.getTotalCost());\n        }\n    }\n    \n//takes an array of node labels, an array of heuristic values \n    //takes startstate as input\n    \n    private static List&lt;String&gt; aStarSearch(int[][] matrix, String[] labels, int[] heuristic, String startState) {\n        Map&lt;String, Integer&gt; heuristicMap = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; labels.length; i++) {\n            heuristicMap.put(labels[i], heuristic[i]);\n        }\n\n        Map&lt;String, Integer&gt; gScores = new HashMap&lt;&gt;();\n        Map&lt;String, Integer&gt; fScores = new HashMap&lt;&gt;();\n        \n        //starts with start node and adds to open set\n        //sets the g score and total f score of start node\n\n        PriorityQueue&lt;Node&gt; openSet = new PriorityQueue&lt;&gt;();\n        Set&lt;String&gt; closedSet = new HashSet&lt;&gt;();\n\n        Node startNode = new Node(startState, 0, heuristicMap.get(startState), null);\n        openSet.add(startNode);\n        gScores.put(startState, 0);\n        fScores.put(startState, startNode.getTotalCost());\n\n        while (!openSet.isEmpty()) {\n            Node current = openSet.poll();\n            String currentState = current.state;\n\n            if (heuristicMap.get(currentState) == 0) {\n                // Reached a goal state, return the path\n                List&lt;String&gt; path = new ArrayList&lt;&gt;();\n                Node node = current;\n                while (node != null) {\n                    path.add(0, node.state);\n                    node = node.parent;\n                }\n                return path;\n            }\n\n            closedSet.add(currentState);\n\n            for (int i = 0; i &lt; labels.length; i++) {\n                String nextState = labels[i];\n                int cost = matrix[i][Arrays.asList(labels).indexOf(currentState)];\n                if (cost &gt; 0) {\n                    int tentativeGScore = gScores.get(currentState) + cost;\n                    int tentativeFScore = tentativeGScore + heuristicMap.get(nextState);\n\n                    if (closedSet.contains(nextState) &amp;&amp; tentativeFScore &gt;= fScores.getOrDefault(nextState, INFINITY)) {\n                        continue;\n                    }\n\n                    if (!closedSet.contains(nextState) || tentativeFScore &lt; fScores.getOrDefault(nextState, INFINITY)) {\n                        Node nextNode = new Node(nextState, tentativeGScore, heuristicMap.get(nextState), current);\n                        openSet.remove(nextNode); // Remove nextNode if it's already in the openSet\n                        openSet.add(nextNode);\n                        gScores.put(nextState, tentativeGScore);\n                        fScores.put(nextState, tentativeFScore);\n                    }\n                }\n            }\n        }\n\n        // No path found\n        return null;\n    }\n\n    public static void main(String[] args) {\n        String[] labels = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;H&quot;, &quot;J&quot;, &quot;G1&quot;, &quot;G2&quot;, &quot;G3&quot;};\n\n        int[][] matrix = {\n                {0, 0, 0, 6, 1, 0, 0, 0, 0, 0},\n                {5, 0, 2, 0, 0, 0, 0, 0, 0, 0},\n                {9, 3, 0, 0, 0, 0, 0, 0, 0, 0},\n                {0, 0, 1, 0, 2, 0, 0, 0, 0, 0},\n                {6, 0, 0, 0, 0, 2, 0, 0, 0, 0},\n                {0, 0, 0, 7, 0, 0, 0, 0, 0, 0},\n                {0, 0, 0, 0, 2, 0, 0, 0, 0, 0},\n                {0, 9, 0, 0, 0, 0, 0, 0, 0, 0},\n                {0, 0, 0, 5, 0, 0, 0, 0, 0, 0},\n                {0, 0, 0, 0, 0, 8, 7, 0, 0, 0}\n        };\n\n        int[] heuristic = {5, 7, 3, 4, 6, 8, 5, 0, 0, 0};\n\n        String startState = &quot;A&quot;;\n\n        List&lt;String&gt; cheapestPath = aStarSearch(matrix, labels, heuristic, startState);\n\n        if (cheapestPath != null) {\n            System.out.println(&quot;Cheapest path: &quot; + cheapestPath);\n            System.out.println(&quot;Goal state: &quot; + cheapestPath.get(cheapestPath.size() - 1));\n            System.out.println(&quot;Number of cycles: &quot; + (cheapestPath.size() - 1));\n        } else {\n            System.out.println(&quot;No path found.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I have tried the code above and got the output mentioned above.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1687276590,"post_id":76515972,"comment_id":134912665,"body_markdown":"Just to understand your question better (without having an answer in mind): Do you mean you want to implement _certificate pinning_ where you specify the certificate that has to be presented by a specific server? (Or specify the CA that a server has to have signed a specific servers certificate.)","body":"Just to understand your question better (without having an answer in mind): Do you mean you want to implement <i>certificate pinning</i> where you specify the certificate that has to be presented by a specific server? (Or specify the CA that a server has to have signed a specific servers certificate.)"},{"owner":{"account_id":2401468,"reputation":2741,"user_id":2099049,"accept_rate":43,"display_name":"cscmh99"},"score":0,"creation_date":1687278313,"post_id":76515972,"comment_id":134913049,"body_markdown":"using bearer token that&#39;s created by jks or p12 ?","body":"using bearer token that&#39;s created by jks or p12 ?"},{"owner":{"account_id":28859249,"reputation":1,"user_id":22103433,"display_name":"techie_901"},"score":0,"creation_date":1687349493,"post_id":76515972,"comment_id":134923830,"body_markdown":"@cyberbrain we are not implementing certificate pinning. We are using one jetty client instance for establishing connection towards A &amp; B. Is there any way to specific server specific TLS details programmatically.","body":"@cyberbrain we are not implementing certificate pinning. We are using one jetty client instance for establishing connection towards A &amp; B. Is there any way to specific server specific TLS details programmatically."},{"owner":{"account_id":28859249,"reputation":1,"user_id":22103433,"display_name":"techie_901"},"score":0,"creation_date":1687349875,"post_id":76515972,"comment_id":134923914,"body_markdown":"@cscmh99 Server is not supporting bearer token to validate SSL connection","body":"@cscmh99 Server is not supporting bearer token to validate SSL connection"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1687352061,"post_id":76515972,"comment_id":134924444,"body_markdown":"Maybe one of the answers to this other SO question [Jetty: How to use SSL in Jetty client side](https://stackoverflow.com/q/33146476/2846138) will help you out.","body":"Maybe one of the answers to this other SO question <a href=\"https://stackoverflow.com/q/33146476/2846138\">Jetty: How to use SSL in Jetty client side</a> will help you out."}],"owner":{"account_id":28859249,"reputation":1,"user_id":22103433,"display_name":"techie_901"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687272671,"creation_date":1687272671,"question_id":76515972,"body_markdown":"We have multiple servers with each server having different CARoot/CABundle, using jetty client is it possible to create a connection with servers by providing server specific TLS details?\r\n\r\nFor instance, if Server A has CARoot file a.pem and Server B has b.pem, in this case with one jetty client instance can we specify a.pem while establishing connection towards A and similarly b.pem while establishing connecting towards B?\r\n\r\nIn our Java application, we are reading multiple TLS certificates and using them to create the keystore and truststore files. Then we load those files into the JVM. Using that, we are creating a Jetty HttpClient over TLS and sending requests to servers. Is it possible to select a server-specific certificate while sending the request using Jetty HttpClient connections?","title":"Using jetty client is it possible to create a connection with servers by providing server specific TLS details","body":"<p>We have multiple servers with each server having different CARoot/CABundle, using jetty client is it possible to create a connection with servers by providing server specific TLS details?</p>\n<p>For instance, if Server A has CARoot file a.pem and Server B has b.pem, in this case with one jetty client instance can we specify a.pem while establishing connection towards A and similarly b.pem while establishing connecting towards B?</p>\n<p>In our Java application, we are reading multiple TLS certificates and using them to create the keystore and truststore files. Then we load those files into the JVM. Using that, we are creating a Jetty HttpClient over TLS and sending requests to servers. Is it possible to select a server-specific certificate while sending the request using Jetty HttpClient connections?</p>\n"},{"tags":["java","kubernetes","jprofiler"],"comments":[{"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"score":0,"creation_date":1687417825,"post_id":76515960,"comment_id":134934488,"body_markdown":"Please write to support@ej-technologies.com, we&#39;ll try to figure it out, but this will require more information about your configuration and may not be suitable for stackoverflow.","body":"Please write to support@ej-technologies.com, we&#39;ll try to figure it out, but this will require more information about your configuration and may not be suitable for stackoverflow."}],"owner":{"account_id":7001278,"reputation":75,"user_id":5367241,"display_name":"Scayze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687272546,"creation_date":1687272546,"question_id":76515960,"body_markdown":"I am currently trying to connect to one of our applications running in a kubernetes pod.\r\nJProfiler 13 introduced the ability to accomplish this quite easily by &quot;Attatch to a running JVM -&gt; on kubernetes pod&quot;.\r\n\r\nHowever, after i select my pod &amp; jvm that i want to profile, all views end up being empty with my mouse being a loading symbol when hovering over them. When enabling cpu profiling the words &quot;expecting data, please wait&quot; appear, but no data ever arrives.\r\n\r\n**Observations:**\r\n- The agent libraries are successfully unpacked in the pod filesystem\r\n- The application i want to profile is not hung up, i can still use the webservices it provides.\r\n- When detatching from the jvm again, i cannot reconnect to the jvm because &quot;Only one Jprofiler GUI can be connected at the same time&quot;. Thus i have to restart my entire pod.\r\n- jprofiler does seem to connect successfully to the jvm:\r\n```JProfiler&gt; Protocol version 65\r\nJProfiler&gt; Java 8 detected.\r\nJProfiler&gt; 64-bit library (musl)\r\nJProfiler&gt; Listening locally on port: 40293.\r\nJProfiler&gt; Enabling native methods instrumentation.\r\nJProfiler&gt; Can retransform classes.\r\nJProfiler&gt; Can retransform any class.\r\nJProfiler&gt; Retransforming 16 base class files.\r\nJProfiler&gt; Base classes instrumented.\r\nJProfiler&gt; Native library initialized\r\nJProfiler&gt; Using sampling (5 ms)\r\nJProfiler&gt; Time measurement: elapsed time\r\nJProfiler&gt; CPU profiling enabled\r\nJProfiler&gt; Initializing configuration.\r\nJProfiler&gt; Retransforming 159 class files.\r\nJProfiler&gt; Configuration updated.\r\n```\r\n- In the jprofiler connection wizard, in the view &quot;connect to a running JVM&quot;, i can choose to do a heap dump instead of actually connectiong to one, this works flawlessy.\r\n\r\n**Ideas:**\r\n- The root filesystem of my pod is configured to be readonly. For jprofiler to work this far I had to make some paths writable. /home/user (where my agent libraries are put), and /tmp/. Do i have to adjust more paths?\r\n\r\nAny hints are appreciated, thank you.\r\n","title":"JProfiler does not receive data from agent in kubernetes pod","body":"<p>I am currently trying to connect to one of our applications running in a kubernetes pod.\nJProfiler 13 introduced the ability to accomplish this quite easily by &quot;Attatch to a running JVM -&gt; on kubernetes pod&quot;.</p>\n<p>However, after i select my pod &amp; jvm that i want to profile, all views end up being empty with my mouse being a loading symbol when hovering over them. When enabling cpu profiling the words &quot;expecting data, please wait&quot; appear, but no data ever arrives.</p>\n<p><strong>Observations:</strong></p>\n<ul>\n<li>The agent libraries are successfully unpacked in the pod filesystem</li>\n<li>The application i want to profile is not hung up, i can still use the webservices it provides.</li>\n<li>When detatching from the jvm again, i cannot reconnect to the jvm because &quot;Only one Jprofiler GUI can be connected at the same time&quot;. Thus i have to restart my entire pod.</li>\n<li>jprofiler does seem to connect successfully to the jvm:</li>\n</ul>\n<pre><code>JProfiler&gt; Java 8 detected.\nJProfiler&gt; 64-bit library (musl)\nJProfiler&gt; Listening locally on port: 40293.\nJProfiler&gt; Enabling native methods instrumentation.\nJProfiler&gt; Can retransform classes.\nJProfiler&gt; Can retransform any class.\nJProfiler&gt; Retransforming 16 base class files.\nJProfiler&gt; Base classes instrumented.\nJProfiler&gt; Native library initialized\nJProfiler&gt; Using sampling (5 ms)\nJProfiler&gt; Time measurement: elapsed time\nJProfiler&gt; CPU profiling enabled\nJProfiler&gt; Initializing configuration.\nJProfiler&gt; Retransforming 159 class files.\nJProfiler&gt; Configuration updated.\n</code></pre>\n<ul>\n<li>In the jprofiler connection wizard, in the view &quot;connect to a running JVM&quot;, i can choose to do a heap dump instead of actually connectiong to one, this works flawlessy.</li>\n</ul>\n<p><strong>Ideas:</strong></p>\n<ul>\n<li>The root filesystem of my pod is configured to be readonly. For jprofiler to work this far I had to make some paths writable. /home/user (where my agent libraries are put), and /tmp/. Do i have to adjust more paths?</li>\n</ul>\n<p>Any hints are appreciated, thank you.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":3608292,"reputation":971,"user_id":3009968,"accept_rate":17,"display_name":"Manojkumar Khotele"},"score":1,"creation_date":1567232512,"post_id":6300439,"comment_id":101910646,"body_markdown":"You don&#39;t seem to be using Spring, else it&#39;s pretty easy to mock a bean (doesn&#39;t matter the level of mock) using &quot;@MockBean&quot; instead of &quot;@Mock&quot;.","body":"You don&#39;t seem to be using Spring, else it&#39;s pretty easy to mock a bean (doesn&#39;t matter the level of mock) using &quot;@MockBean&quot; instead of &quot;@Mock&quot;."},{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":0,"creation_date":1689701539,"post_id":6300439,"comment_id":135250034,"body_markdown":"Emphasizing the response of @ManojkumarKhotele here; it was exactly what I needed.","body":"Emphasizing the response of @ManojkumarKhotele here; it was exactly what I needed."}],"answers":[{"comments":[{"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"score":15,"creation_date":1406310104,"post_id":6509824,"comment_id":38797874,"body_markdown":"Yes, it&#39;s not appropriate for *unit* tests where mocking is used, but this feature (injecting dependencies all the way down) can be very useful for *integration* tests. I am currently working on it for my own mocking toolkit, JMockit.","body":"Yes, it&#39;s not appropriate for <i>unit</i> tests where mocking is used, but this feature (injecting dependencies all the way down) can be very useful for <i>integration</i> tests. I am currently working on it for my own mocking toolkit, JMockit."}],"tags":[],"owner":{"account_id":145161,"reputation":4373,"user_id":354767,"accept_rate":71,"display_name":"Collin Peters"},"comment_count":1,"down_vote_count":2,"up_vote_count":56,"is_accepted":true,"score":54,"last_activity_date":1687272494,"creation_date":1309278498,"answer_id":6509824,"question_id":6300439,"body_markdown":"Since I didn&#39;t get any response here I asked on the Mockito forums. Here is a link to the discussion: https://groups.google.com/d/topic/mockito/hWwcI5UHFi0/discussion\r\n\r\nTo summarize the answers, technically this would kind of defeat the purpose of mocking. You should really only mock the objects needed by the `SystemUnderTest` class. Mocking things within objects that are themselves mocks is kind of pointless.\r\n\r\nIf you really wanted to do it, `@Spy` can help.","title":"Multiple levels of @Mock and @InjectMocks","body":"<p>Since I didn't get any response here I asked on the Mockito forums. Here is a link to the discussion: <a href=\"https://groups.google.com/d/topic/mockito/hWwcI5UHFi0/discussion\" rel=\"nofollow noreferrer\">https://groups.google.com/d/topic/mockito/hWwcI5UHFi0/discussion</a></p>\n<p>To summarize the answers, technically this would kind of defeat the purpose of mocking. You should really only mock the objects needed by the <code>SystemUnderTest</code> class. Mocking things within objects that are themselves mocks is kind of pointless.</p>\n<p>If you really wanted to do it, <code>@Spy</code> can help.</p>\n"},{"comments":[{"owner":{"account_id":72533,"reputation":1144,"user_id":209394,"display_name":"JugsteR"},"score":0,"creation_date":1575445377,"post_id":36218680,"comment_id":104564612,"body_markdown":"This is not really injection though, since you just send your MockObject1 to MockObject2 using the constructor.","body":"This is not really injection though, since you just send your MockObject1 to MockObject2 using the constructor."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1668920924,"post_id":36218680,"comment_id":131521554,"body_markdown":"Hmm, well, one could call this constructor injection. Used to a first class citizen until some architecture dictators decided otherwise...","body":"Hmm, well, one could call this constructor injection. Used to a first class citizen until some architecture dictators decided otherwise..."}],"tags":[],"owner":{"account_id":8114728,"reputation":62,"user_id":6113608,"display_name":"penghuo"},"comment_count":2,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1458906518,"creation_date":1458903622,"answer_id":36218680,"question_id":6300439,"body_markdown":"This works for me:\r\n\r\n    private MockObject1 mockObject1 = mock(MockObject1.class);\r\n    \r\n    @Spy\r\n    private RealObject2 realObject = new RealObject2(mockObject1);\r\n    \r\n    @InjectMocks\r\n    private SystemUnderTest systemUnderTest = new SystemUnderTest();","title":"Multiple levels of @Mock and @InjectMocks","body":"<p>This works for me:</p>\n\n<pre><code>private MockObject1 mockObject1 = mock(MockObject1.class);\n\n@Spy\nprivate RealObject2 realObject = new RealObject2(mockObject1);\n\n@InjectMocks\nprivate SystemUnderTest systemUnderTest = new SystemUnderTest();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"score":9,"creation_date":1484212979,"post_id":38959354,"comment_id":70420160,"body_markdown":"This is no longer encouraged with mockito2: http://stackoverflow.com/questions/38567326/is-it-discouraged-to-use-spy-and-injectmocks-on-the-same-field\nand\nhttps://github.com/mockito/mockito/issues/169","body":"This is no longer encouraged with mockito2: <a href=\"http://stackoverflow.com/questions/38567326/is-it-discouraged-to-use-spy-and-injectmocks-on-the-same-field\" title=\"is it discouraged to use spy and injectmocks on the same field\">stackoverflow.com/questions/38567326/&hellip;</a> and <a href=\"https://github.com/mockito/mockito/issues/169\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/issues/169</a>"}],"tags":[],"owner":{"account_id":1461397,"reputation":5944,"user_id":1375627,"accept_rate":25,"display_name":"MattC"},"comment_count":1,"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1471279769,"creation_date":1471279769,"answer_id":38959354,"question_id":6300439,"body_markdown":"It is possible by combining @Spy with @InjectMocks. For your example, it would be:\r\n\r\n    @Spy\r\n    private MockObject1 mockObject1 = new MockObject1 ();\r\n    \r\n    @Spy @InjectMocks //if MockObject2 has a MockObject1, then it will be injected here.\r\n    private MockObject2 mockObject2 = new MockObject2 ();\r\n    \r\n    @InjectMocks\r\n    private SystemUnderTest systemUnderTest;","title":"Multiple levels of @Mock and @InjectMocks","body":"<p>It is possible by combining @Spy with @InjectMocks. For your example, it would be:</p>\n\n<pre><code>@Spy\nprivate MockObject1 mockObject1 = new MockObject1 ();\n\n@Spy @InjectMocks //if MockObject2 has a MockObject1, then it will be injected here.\nprivate MockObject2 mockObject2 = new MockObject2 ();\n\n@InjectMocks\nprivate SystemUnderTest systemUnderTest;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":979169,"reputation":569,"user_id":999367,"display_name":"Roman Sinyakov"},"score":0,"creation_date":1682424033,"post_id":45471228,"comment_id":134209794,"body_markdown":"this is the best solution, fields with both `@Spy` and `@InjectMocks` do not get injected and replacing `@Spy` with `spy(XXXClass.class)` works like a charm","body":"this is the best solution, fields with both <code>@Spy</code> and <code>@InjectMocks</code> do not get injected and replacing <code>@Spy</code> with <code>spy(XXXClass.class)</code> works like a charm"},{"owner":{"account_id":5788304,"reputation":62,"user_id":4566736,"accept_rate":60,"display_name":"Syed Mainul Hasan"},"score":0,"creation_date":1692598175,"post_id":45471228,"comment_id":135639683,"body_markdown":"Thanks for this one. It really worked.","body":"Thanks for this one. It really worked."}],"tags":[],"owner":{"account_id":4353740,"reputation":729,"user_id":3553118,"display_name":"z1lV3r"},"comment_count":2,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1501708973,"creation_date":1501708973,"answer_id":45471228,"question_id":6300439,"body_markdown":"Other solution I found is using java sintax instead annotation to make the @Spy object injected.\r\n\r\n    @Spy\r\n    private MockObject1 mockObject1 = new MockObject1 ();\r\n\r\n    @InjectMocks //if MockObject2 has a MockObject1, then it will be injected here.\r\n    private MockObject2 mockObject2 = spy(MockObject2.class);\r\n\r\n    @InjectMocks\r\n    private SystemUnderTest systemUnderTest;","title":"Multiple levels of @Mock and @InjectMocks","body":"<p>Other solution I found is using java sintax instead annotation to make the @Spy object injected.</p>\n\n<pre><code>@Spy\nprivate MockObject1 mockObject1 = new MockObject1 ();\n\n@InjectMocks //if MockObject2 has a MockObject1, then it will be injected here.\nprivate MockObject2 mockObject2 = spy(MockObject2.class);\n\n@InjectMocks\nprivate SystemUnderTest systemUnderTest;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2095815,"reputation":1095,"user_id":1864614,"display_name":"razvang"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644985878,"creation_date":1644985878,"answer_id":71136429,"question_id":6300439,"body_markdown":"Here is my solution:\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\nclass DocumentServiceTestMock {\r\n\r\n//2nd Level Dependency\r\nCustomerFacade customerFacade = Mockito.mock(CustomerFacade.class);\r\n\r\n//Direct Dependency\r\n@Spy\r\nPostCreateHelper postCreateHelper = new PostCreateHelper(customerFacade);\r\n\r\n//SUT\r\n@InjectMocks\r\nDocumentService documentService;\r\n\r\n@BeforeEach\r\nvoid setUp() {\r\n        given(customerFacade.getString()).willReturn(&quot;customerFacade_MOCKED&quot;);\r\n}\r\n\r\n@Test\r\nvoid test() {\r\n     String documentAsResource = documentService.getDocumentAsResource(ExportType.WORD);\r\n}\r\n//----------\r\n@Service\r\npublic class DocumentService {\r\n   final PostCreateHelper postCreateHelper;\r\n\r\n@Component\r\npublic class PostCreateHelper {\r\n   final CustomerFacade customerFacade;\r\n\r\n@Service\r\npublic class CustomerFacade {","title":"Multiple levels of @Mock and @InjectMocks","body":"<p>Here is my solution:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\nclass DocumentServiceTestMock {\n\n//2nd Level Dependency\nCustomerFacade customerFacade = Mockito.mock(CustomerFacade.class);\n\n//Direct Dependency\n@Spy\nPostCreateHelper postCreateHelper = new PostCreateHelper(customerFacade);\n\n//SUT\n@InjectMocks\nDocumentService documentService;\n\n@BeforeEach\nvoid setUp() {\n        given(customerFacade.getString()).willReturn(&quot;customerFacade_MOCKED&quot;);\n}\n\n@Test\nvoid test() {\n     String documentAsResource = documentService.getDocumentAsResource(ExportType.WORD);\n}\n//----------\n@Service\npublic class DocumentService {\n   final PostCreateHelper postCreateHelper;\n\n@Component\npublic class PostCreateHelper {\n   final CustomerFacade customerFacade;\n\n@Service\npublic class CustomerFacade {\n</code></pre>\n"}],"owner":{"account_id":145161,"reputation":4373,"user_id":354767,"accept_rate":71,"display_name":"Collin Peters"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61166,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"accepted_answer_id":6509824,"answer_count":5,"score":77,"last_activity_date":1687272494,"creation_date":1307662036,"question_id":6300439,"body_markdown":"So I understand that in Mockito `@InjectMocks` will inject anything that it can with the annotation of `@Mock`, but how to handle this scenario?\r\n\r\n```java\r\n\t@Mock\r\n\tprivate MockObject1 mockObject1;\r\n\t\r\n\t@Mock\r\n\tprivate MockObject2 mockObject2;\r\n\t\r\n\t@InjectMocks\r\n\tprivate SystemUnderTest systemUnderTest = new SystemUnderTest();\r\n```\r\n\r\nImagine that `MockObject2` has an attribute that is of type `MockObject1`, and `SystemUnderTest` has an attribute of type `MockObject2`. I would like to have `mockObject1` injected into `mockObject2`, and `mockObject2` injected into `systemUnderTest`. \r\n\r\nIs this possible with annotations?","title":"Multiple levels of @Mock and @InjectMocks","body":"<p>So I understand that in Mockito <code>@InjectMocks</code> will inject anything that it can with the annotation of <code>@Mock</code>, but how to handle this scenario?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Mock\n    private MockObject1 mockObject1;\n    \n    @Mock\n    private MockObject2 mockObject2;\n    \n    @InjectMocks\n    private SystemUnderTest systemUnderTest = new SystemUnderTest();\n</code></pre>\n<p>Imagine that <code>MockObject2</code> has an attribute that is of type <code>MockObject1</code>, and <code>SystemUnderTest</code> has an attribute of type <code>MockObject2</code>. I would like to have <code>mockObject1</code> injected into <code>mockObject2</code>, and <code>mockObject2</code> injected into <code>systemUnderTest</code>.</p>\n<p>Is this possible with annotations?</p>\n"},{"tags":["java","opencv","image-processing","object-detection","hough-transform"],"comments":[{"owner":{"account_id":9897892,"reputation":57149,"user_id":7328782,"accept_rate":86,"display_name":"Cris Luengo"},"score":2,"creation_date":1687266541,"post_id":76514929,"comment_id":134910230,"body_markdown":"Wow, that functionality is really poorly documented… I guess you’ll have to read the code to figure out what those parameters do. :(","body":"Wow, that functionality is really poorly documented… I guess you’ll have to read the code to figure out what those parameters do. :("},{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1687266758,"post_id":76514929,"comment_id":134910289,"body_markdown":"also not much work on this stuff. nobody&#39;s been _really_ touching it for a decade. https://github.com/opencv/opencv/commits/726ba0210e1592606ccb8843fb092504ca787096/modules/imgproc/src/generalized_hough.cpp I would *not* put my trust in the implementation, or the algorithms. it&#39;s still just Hough transform. old ideas.","body":"also not much work on this stuff. nobody&#39;s been <i>really</i> touching it for a decade. <a href=\"https://github.com/opencv/opencv/commits/726ba0210e1592606ccb8843fb092504ca787096/modules/imgproc/src/generalized_hough.cpp\" rel=\"nofollow noreferrer\">github.com/opencv/opencv/commits/&hellip;</a> I would <i>not</i> put my trust in the implementation, or the algorithms. it&#39;s still just Hough transform. old ideas."},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1687267261,"post_id":76514929,"comment_id":134910417,"body_markdown":"@ChristophRackwitz what would be the current ideas then? Machine learning needs large amounts of data to train, but I need to find things based on a shape that is arbitrary each time so as far as I know this is still the state of the art.","body":"@ChristophRackwitz what would be the current ideas then? Machine learning needs large amounts of data to train, but I need to find things based on a shape that is arbitrary each time so as far as I know this is still the state of the art."},{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1687267580,"post_id":76514929,"comment_id":134910517,"body_markdown":"please show examples of such shapes then. don&#39;t show anything that doesn&#39;t represent the actual problem. show representative examples.","body":"please show examples of such shapes then. don&#39;t show anything that doesn&#39;t represent the actual problem. show representative examples."},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1687268764,"post_id":76514929,"comment_id":134910824,"body_markdown":"This is my simple example, and it doesn&#39;t work on the simple example. Showing more complicated shapes, which are combinations of lines and circle segments with cutouts in them, would not make the question easier to understand.","body":"This is my simple example, and it doesn&#39;t work on the simple example. Showing more complicated shapes, which are combinations of lines and circle segments with cutouts in them, would not make the question easier to understand."},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1687272086,"post_id":76514929,"comment_id":134911593,"body_markdown":"though @ChristophRackwitz if I had asked the question (which I probably should have) of whether this was the best algorithm to use, yeah more representative pictures would have been good. I&#39;ll add one.","body":"though @ChristophRackwitz if I had asked the question (which I probably should have) of whether this was the best algorithm to use, yeah more representative pictures would have been good. I&#39;ll add one."},{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1687279986,"post_id":76514929,"comment_id":134913397,"body_markdown":"for that &quot;panel with a hole and a cross cut&quot;, generalized Hough is a reasonable approach but I can&#39;t predict whether it can work well. -- unfortunately, OpenCV doesn&#39;t implement the &quot;machine vision&quot; type of algorithms you can find in *commercial machine vision* software packages (industry, automated optical inspection). those algorithms might still have patents on them.","body":"for that &quot;panel with a hole and a cross cut&quot;, generalized Hough is a reasonable approach but I can&#39;t predict whether it can work well. -- unfortunately, OpenCV doesn&#39;t implement the &quot;machine vision&quot; type of algorithms you can find in <i>commercial machine vision</i> software packages (industry, automated optical inspection). those algorithms might still have patents on them."},{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":1,"creation_date":1687280135,"post_id":76514929,"comment_id":134913431,"body_markdown":"commercial MV approaches extract &quot;well-defined&quot; features from the template. those would be corners, not edges, because any point on an edge can just slide around on the edge and still &quot;match&quot; that edge (degrees of freedom). I believe those implementations also don&#39;t work with an accumulator array but perhaps with point sets that are clustered. less data, less work to do. they also thoroughly filter outliers (check for a good match along the whole contour), very likely employ multiple iterations to locate the instance precisely, once it was found.","body":"commercial MV approaches extract &quot;well-defined&quot; features from the template. those would be corners, not edges, because any point on an edge can just slide around on the edge and still &quot;match&quot; that edge (degrees of freedom). I believe those implementations also don&#39;t work with an accumulator array but perhaps with point sets that are clustered. less data, less work to do. they also thoroughly filter outliers (check for a good match along the whole contour), very likely employ multiple iterations to locate the instance precisely, once it was found."},{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1687282975,"post_id":76514929,"comment_id":134913996,"body_markdown":"alright, I&#39;ll revise and stick to what I always say: Hough is never a reasonable approach. even the low-dimensional variants (circle, line) take a lot of time and this here, Hough-Guil, take AGES to find anything. that&#39;s not reasonable. that&#39;s useless. for the official OpenCV example, I&#39;m having to wait two minutes for the detection.","body":"alright, I&#39;ll revise and stick to what I always say: Hough is never a reasonable approach. even the low-dimensional variants (circle, line) take a lot of time and this here, Hough-Guil, take AGES to find anything. that&#39;s not reasonable. that&#39;s useless. for the official OpenCV example, I&#39;m having to wait two minutes for the detection."},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1687286732,"post_id":76514929,"comment_id":134914731,"body_markdown":"So these sort of commercial algorithms you mention, I made an attempt at doing something like that, but the matching of feature to feature looking at all combinations I believe is an O(n^3) sort of operation. It was waaay slower than hough-guil and crashed the computer over a relatively small number of features.  We&#39;ve managed a convolution-based approach but had to use GPUs to get it to run in a decent time. \n\nSo how does a person find these commercial algorithms or are they simply not available if you aren&#39;t a part of the organization?","body":"So these sort of commercial algorithms you mention, I made an attempt at doing something like that, but the matching of feature to feature looking at all combinations I believe is an O(n^3) sort of operation. It was waaay slower than hough-guil and crashed the computer over a relatively small number of features.  We&#39;ve managed a convolution-based approach but had to use GPUs to get it to run in a decent time.   So how does a person find these commercial algorithms or are they simply not available if you aren&#39;t a part of the organization?"},{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1687303816,"post_id":76514929,"comment_id":134917006,"body_markdown":"patents are public. you could get the names of the biggest companies in that space, then look up patents involving those companies, but now your brain is legally &quot;tainted by the knowledge&quot; and if you ever implement any of that, even if you forgot that you read the patents, and you have no idea that you follow the patents, then you&#39;re gonna have to pay... or wait for patent expiration.","body":"patents are public. you could get the names of the biggest companies in that space, then look up patents involving those companies, but now your brain is legally &quot;tainted by the knowledge&quot; and if you ever implement any of that, even if you forgot that you read the patents, and you have no idea that you follow the patents, then you&#39;re gonna have to pay... or wait for patent expiration."},{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":1,"creation_date":1687303867,"post_id":76514929,"comment_id":134917007,"body_markdown":"a small set of good features usually improves the situation (see also: SIFT). Hough does the opposite, uses shit features and scatters them across the accumulator. if you claim an O(n^3) situation even with few good features, then that strikes me as in need of better algorithms, meaning you _should not_ just do a cartesian product of whatever. -- I&#39;ve seen building blocks of the commercial approaches. they chop contours up into recognizable pieces like &quot;straight&quot; and &quot;arc&quot;. you could then have features like `straight(50), arc(+90,r=5), straight(200)` and match on those phrases","body":"a small set of good features usually improves the situation (see also: SIFT). Hough does the opposite, uses shit features and scatters them across the accumulator. if you claim an O(n^3) situation even with few good features, then that strikes me as in need of better algorithms, meaning you <i>should not</i> just do a cartesian product of whatever. -- I&#39;ve seen building blocks of the commercial approaches. they chop contours up into recognizable pieces like &quot;straight&quot; and &quot;arc&quot;. you could then have features like <code>straight(50), arc(+90,r=5), straight(200)</code> and match on those phrases"}],"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687272457,"creation_date":1687265595,"question_id":76514929,"body_markdown":"I am struggling to tune a Hough Guil detector in opencv (using java). I cannot find very much guidance on how to do so as the tutorials don&#39;t explain many of the parameters involved. Here is my detector setup:\r\n\r\n\r\n```\r\npublic class TemplateHoughGuilDetector {\r\n    public static PositionVector runHoughGuilDetection(Mat template, Mat blurred) {\r\n        var houghDetector = Imgproc.createGeneralizedHoughGuil();\r\n        houghDetector.setLevels(1500);\r\n        houghDetector.setScaleThresh(200);\r\n        houghDetector.setPosThresh(200);\r\n        houghDetector.setAngleThresh(1000);\r\n        houghDetector.setDp(15);\r\n        houghDetector.setMinDist(.1);\r\n        houghDetector.setAngleStep(.1);\r\n        houghDetector.setAngleEpsilon(1);\r\n        houghDetector.setMinAngle(0);\r\n        houghDetector.setMaxAngle(360);\r\n        houghDetector.setMinScale(.99);\r\n        houghDetector.setMaxScale(1.01);\r\n        houghDetector.setScaleStep(.01);\r\n        houghDetector.setXi(90.0);\r\n\r\n\r\n        PositionVector bestVoted = mostLikelyHoughDetectionWithScaleTolerance(template, blurred, houghDetector);\r\n        return bestVoted;\r\n    }\r\n\r\n    private static PositionVector mostLikelyHoughDetectionWithScaleTolerance(Mat template, Mat blurred, GeneralizedHough houghDetector) {\r\n        houghDetector.setTemplate(template);\r\n        var positions = new Mat();\r\n        var votes = new Mat();\r\n\r\n        houghDetector.detect(blurred, positions, votes);\r\n\r\n        var positionVectors = new ArrayList&lt;PositionVector&gt;();\r\n        for(int i = 0; i &lt; positions.width(); i++) {\r\n            var posData = positions.get(0, i);\r\n            var voteData = votes.get(0, i);\r\n            positionVectors.add(new PositionVector(posData[0], posData[1], posData[2], posData[3], voteData[0], voteData[1], voteData[2]));\r\n        }\r\n\r\n        final double maxPosVote = positionVectors.stream().map(PositionVector::posVotes).max(Double::compareTo).orElse(1.0);\r\n        final double maxRotVote = positionVectors.stream().map(PositionVector::rotVotes).max(Double::compareTo).orElse(1.0);\r\n        final double maxScaleVote = positionVectors.stream().map(PositionVector::scaleVotes).max(Double::compareTo).orElse(1.0);\r\n        var bestScore = positionVectors.stream().map(v -&gt; v.voteMagSqr(maxPosVote, maxRotVote, maxScaleVote)).max(Double::compareTo);\r\n\r\n        MatOfPoint bestVoted = null;\r\n        var output = new Mat();\r\n        Imgproc.cvtColor(blurred, output, Imgproc.COLOR_GRAY2BGR);\r\n\r\n        var contours = new ArrayList&lt;MatOfPoint&gt;();\r\n        for (PositionVector v:positionVectors) {\r\n            var rect = new RotatedRect(new Point(v.x(), v.y()), new Size(499, 499), v.rotation());\r\n            var points = new Point[4];\r\n            rect.points(points);\r\n            final var contour = new MatOfPoint(points);\r\n\r\n            if(v.voteMagSqr(maxPosVote, maxRotVote, maxScaleVote) == bestScore.get()) {\r\n                bestVoted = contour;\r\n            }\r\n\r\n            contours.add(contour);\r\n        }\r\n\r\n        var drawMe = ContourOntoImage.createImageWithContours(output, contours, new Scalar(0, 0, 255), 1);\r\n        if(bestVoted != null) {\r\n            drawMe = ContourOntoImage.createImageWithContours(drawMe, List.of(bestVoted), new Scalar(255.0, 0.0, 255.0), 2);\r\n        }\r\n        Imgcodecs.imwrite(&quot;test_contours.png&quot;, drawMe);\r\n\r\n        return positionVectors.stream().filter(pv -&gt; pv.voteMagSqr(maxPosVote, maxRotVote, maxScaleVote) == bestScore.get()).findFirst().orElse(null);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nand I call it from this test:\r\n\r\n```\r\n    @Test\r\n    public void perfectSquareRotNotScaledGuil() {\r\n        loadLocally();\r\n        Mat template = makeRectangularGrayBigTemplate();\r\n\r\n        Mat blurred = makeRotatedBlurredRectangularGrayImage();\r\n\r\n        PositionVector bestVoted = TemplateHoughGuilDetector.runHoughGuilDetection(template, blurred);\r\n\r\n        var loc = new Point(bestVoted.x(), bestVoted.y());\r\n        var rot = bestVoted.rotation();\r\n        var scale = bestVoted.scale();\r\n\r\n        assertThat(loc, is(closeToPoint(new Point(500, 500)).toWithin(1e-7)));\r\n        assertThat(rot, is(closeTo(5.0, 1.0)));\r\n        assertThat(scale, is(equalTo(1.0)));\r\n    }\r\n\r\n    private static Mat makeRotatedBlurredRectangularGrayImage() {\r\n        Mat image = makeRotatedRectangularGrayImage();\r\n        var blurred = new Mat();\r\n        Imgproc.blur(image, blurred, new Size(3,3));\r\n        return blurred;\r\n    }\r\n\r\n    private static Mat makeRectangularGrayBigTemplate() {\r\n        var template = new Mat(501, 501, CvType.CV_8UC1, new Scalar(255));\r\n        Imgproc.rectangle(template, new Point(1, 1), new Point(499, 499), new Scalar(0), Imgproc.FILLED);\r\n        return template;\r\n    }\r\n\r\n    private static Mat makeRotatedRectangularGrayImage() {\r\n        var image = new Mat(1000, 1000, CvType.CV_8UC1, new Scalar(255));\r\n        var rectangle = new RotatedRect(new Point(500, 500), new Size(499.0, 499.0), 5);\r\n        var vertices = new Point[4];\r\n        rectangle.points(vertices);\r\n        var matOfPoints = new MatOfPoint(vertices);\r\n        Imgproc.fillConvexPoly(image, matOfPoints, new Scalar(0));\r\n        return image;\r\n    }\r\n```\r\n\r\nI get the following image:\r\n\r\n[![contours including the one with the bust normalized scores][1]][1]\r\n\r\n\r\nand the template looks like this:\r\n\r\n[![template][2]][2]\r\n\r\n\r\nSo what I&#39;ve been able to determine so far is:\r\n - Levels didn&#39;t seem to do much\r\n - the thresholds do allow more worse detections but I cannot seem to get an accurate detection. \r\n - DP I cannot find a description of anywhere but does have an affect on how many bad detections I get. I&#39;ve run it from 1 to 250 and by 250 I just get 2 detections, one at 0 degrees and one at twice the angle it should be\r\n - MinDist seems to increase the density of the detections in position, makes sense\r\n - angle step doesn&#39;t seem to get me the right angles\r\n - angle epsilon didn&#39;t do it..\r\n - min and max angle make sense\r\n - min scale and max scale make sense\r\n - scale step makes sense\r\n - if I change Xi from 90.0 to 10.0 or even 45.0 it simply doesn&#39;t find anything. It says angle between features when I look it up but does that mean from the center of the object, one edge?\r\n\r\nSo does anyone know how to get that test to find the accurate angle and position? Or has anyone found a good description of these parameters?\r\n\r\n===== EDIT =====\r\n\r\nIn case I am just using the wrong algorithm, the sort of detection I am trying to do is find objects like the panel with the circle and cross in an image:\r\n\r\n[![parts on bed][3]][3]\r\n\r\nusing the dxf that looks like:\r\n\r\n[![dxf][4]][4]\r\n\r\npardon the darkness of the dxf image\r\n\r\nI am able to successfully detect it based on outlines but am working on some advances that require I not use the outline so I can find parts accurately based on the cutouts when the outlines are not accurate.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sZsJN.png\r\n  [2]: https://i.stack.imgur.com/Zfg3M.png\r\n  [3]: https://i.stack.imgur.com/ZnNYn.jpg\r\n  [4]: https://i.stack.imgur.com/FQRSP.png","title":"Looking for a good method for tuning parameters in Hough Guil Detection","body":"<p>I am struggling to tune a Hough Guil detector in opencv (using java). I cannot find very much guidance on how to do so as the tutorials don't explain many of the parameters involved. Here is my detector setup:</p>\n<pre><code>public class TemplateHoughGuilDetector {\n    public static PositionVector runHoughGuilDetection(Mat template, Mat blurred) {\n        var houghDetector = Imgproc.createGeneralizedHoughGuil();\n        houghDetector.setLevels(1500);\n        houghDetector.setScaleThresh(200);\n        houghDetector.setPosThresh(200);\n        houghDetector.setAngleThresh(1000);\n        houghDetector.setDp(15);\n        houghDetector.setMinDist(.1);\n        houghDetector.setAngleStep(.1);\n        houghDetector.setAngleEpsilon(1);\n        houghDetector.setMinAngle(0);\n        houghDetector.setMaxAngle(360);\n        houghDetector.setMinScale(.99);\n        houghDetector.setMaxScale(1.01);\n        houghDetector.setScaleStep(.01);\n        houghDetector.setXi(90.0);\n\n\n        PositionVector bestVoted = mostLikelyHoughDetectionWithScaleTolerance(template, blurred, houghDetector);\n        return bestVoted;\n    }\n\n    private static PositionVector mostLikelyHoughDetectionWithScaleTolerance(Mat template, Mat blurred, GeneralizedHough houghDetector) {\n        houghDetector.setTemplate(template);\n        var positions = new Mat();\n        var votes = new Mat();\n\n        houghDetector.detect(blurred, positions, votes);\n\n        var positionVectors = new ArrayList&lt;PositionVector&gt;();\n        for(int i = 0; i &lt; positions.width(); i++) {\n            var posData = positions.get(0, i);\n            var voteData = votes.get(0, i);\n            positionVectors.add(new PositionVector(posData[0], posData[1], posData[2], posData[3], voteData[0], voteData[1], voteData[2]));\n        }\n\n        final double maxPosVote = positionVectors.stream().map(PositionVector::posVotes).max(Double::compareTo).orElse(1.0);\n        final double maxRotVote = positionVectors.stream().map(PositionVector::rotVotes).max(Double::compareTo).orElse(1.0);\n        final double maxScaleVote = positionVectors.stream().map(PositionVector::scaleVotes).max(Double::compareTo).orElse(1.0);\n        var bestScore = positionVectors.stream().map(v -&gt; v.voteMagSqr(maxPosVote, maxRotVote, maxScaleVote)).max(Double::compareTo);\n\n        MatOfPoint bestVoted = null;\n        var output = new Mat();\n        Imgproc.cvtColor(blurred, output, Imgproc.COLOR_GRAY2BGR);\n\n        var contours = new ArrayList&lt;MatOfPoint&gt;();\n        for (PositionVector v:positionVectors) {\n            var rect = new RotatedRect(new Point(v.x(), v.y()), new Size(499, 499), v.rotation());\n            var points = new Point[4];\n            rect.points(points);\n            final var contour = new MatOfPoint(points);\n\n            if(v.voteMagSqr(maxPosVote, maxRotVote, maxScaleVote) == bestScore.get()) {\n                bestVoted = contour;\n            }\n\n            contours.add(contour);\n        }\n\n        var drawMe = ContourOntoImage.createImageWithContours(output, contours, new Scalar(0, 0, 255), 1);\n        if(bestVoted != null) {\n            drawMe = ContourOntoImage.createImageWithContours(drawMe, List.of(bestVoted), new Scalar(255.0, 0.0, 255.0), 2);\n        }\n        Imgcodecs.imwrite(&quot;test_contours.png&quot;, drawMe);\n\n        return positionVectors.stream().filter(pv -&gt; pv.voteMagSqr(maxPosVote, maxRotVote, maxScaleVote) == bestScore.get()).findFirst().orElse(null);\n    }\n\n}\n</code></pre>\n<p>and I call it from this test:</p>\n<pre><code>    @Test\n    public void perfectSquareRotNotScaledGuil() {\n        loadLocally();\n        Mat template = makeRectangularGrayBigTemplate();\n\n        Mat blurred = makeRotatedBlurredRectangularGrayImage();\n\n        PositionVector bestVoted = TemplateHoughGuilDetector.runHoughGuilDetection(template, blurred);\n\n        var loc = new Point(bestVoted.x(), bestVoted.y());\n        var rot = bestVoted.rotation();\n        var scale = bestVoted.scale();\n\n        assertThat(loc, is(closeToPoint(new Point(500, 500)).toWithin(1e-7)));\n        assertThat(rot, is(closeTo(5.0, 1.0)));\n        assertThat(scale, is(equalTo(1.0)));\n    }\n\n    private static Mat makeRotatedBlurredRectangularGrayImage() {\n        Mat image = makeRotatedRectangularGrayImage();\n        var blurred = new Mat();\n        Imgproc.blur(image, blurred, new Size(3,3));\n        return blurred;\n    }\n\n    private static Mat makeRectangularGrayBigTemplate() {\n        var template = new Mat(501, 501, CvType.CV_8UC1, new Scalar(255));\n        Imgproc.rectangle(template, new Point(1, 1), new Point(499, 499), new Scalar(0), Imgproc.FILLED);\n        return template;\n    }\n\n    private static Mat makeRotatedRectangularGrayImage() {\n        var image = new Mat(1000, 1000, CvType.CV_8UC1, new Scalar(255));\n        var rectangle = new RotatedRect(new Point(500, 500), new Size(499.0, 499.0), 5);\n        var vertices = new Point[4];\n        rectangle.points(vertices);\n        var matOfPoints = new MatOfPoint(vertices);\n        Imgproc.fillConvexPoly(image, matOfPoints, new Scalar(0));\n        return image;\n    }\n</code></pre>\n<p>I get the following image:</p>\n<p><a href=\"https://i.stack.imgur.com/sZsJN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sZsJN.png\" alt=\"contours including the one with the bust normalized scores\" /></a></p>\n<p>and the template looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Zfg3M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zfg3M.png\" alt=\"template\" /></a></p>\n<p>So what I've been able to determine so far is:</p>\n<ul>\n<li>Levels didn't seem to do much</li>\n<li>the thresholds do allow more worse detections but I cannot seem to get an accurate detection.</li>\n<li>DP I cannot find a description of anywhere but does have an affect on how many bad detections I get. I've run it from 1 to 250 and by 250 I just get 2 detections, one at 0 degrees and one at twice the angle it should be</li>\n<li>MinDist seems to increase the density of the detections in position, makes sense</li>\n<li>angle step doesn't seem to get me the right angles</li>\n<li>angle epsilon didn't do it..</li>\n<li>min and max angle make sense</li>\n<li>min scale and max scale make sense</li>\n<li>scale step makes sense</li>\n<li>if I change Xi from 90.0 to 10.0 or even 45.0 it simply doesn't find anything. It says angle between features when I look it up but does that mean from the center of the object, one edge?</li>\n</ul>\n<p>So does anyone know how to get that test to find the accurate angle and position? Or has anyone found a good description of these parameters?</p>\n<p>===== EDIT =====</p>\n<p>In case I am just using the wrong algorithm, the sort of detection I am trying to do is find objects like the panel with the circle and cross in an image:</p>\n<p><a href=\"https://i.stack.imgur.com/ZnNYn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZnNYn.jpg\" alt=\"parts on bed\" /></a></p>\n<p>using the dxf that looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/FQRSP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FQRSP.png\" alt=\"dxf\" /></a></p>\n<p>pardon the darkness of the dxf image</p>\n<p>I am able to successfully detect it based on outlines but am working on some advances that require I not use the outline so I can find parts accurately based on the cutouts when the outlines are not accurate.</p>\n"},{"tags":["java","spring","guid"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1687268868,"post_id":76515393,"comment_id":134910850,"body_markdown":"[`UUID.randomUUID()`](https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#randomUUID--)","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#randomUUID--\" rel=\"nofollow noreferrer\"><code>UUID.randomUUID()</code></a>"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1687268928,"post_id":76515393,"comment_id":134910866,"body_markdown":"Can it lead to a race condition? Absolutely yes (especially if the traffic is non-trivial). What are the chances of this? IMO, it doesn&#39;t matter as the idea of using millisecond as an id is bad if you cannot guarantee that there will be atmost one request for each millisecond (and adding distributed/multiple systems makes it wrose)","body":"Can it lead to a race condition? Absolutely yes (especially if the traffic is non-trivial). What are the chances of this? IMO, it doesn&#39;t matter as the idea of using millisecond as an id is bad if you cannot guarantee that there will be atmost one request for each millisecond (and adding distributed/multiple systems makes it wrose)"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687268879,"creation_date":1687268879,"answer_id":76515413,"question_id":76515393,"body_markdown":"I wouldn&#39;t call it a race condition, but yes getting two requests at the same millisecond is possible. What are the chances? That depends on how it&#39;s used. If I *want* to make many requests per millisecond, I can. If I&#39;m explicitly careful not to, that&#39;s possible too.\r\n\r\nYou probably want to use `UUID.randomUUID()`. Most databases support those natively, and can even generate them for you. They won&#39;t be significantly more expensive.\r\n\r\nOf course, you could use a random number of similar size, and encode it in a different format. GUIDs use hexadecimal, which takes a lot of characters compared to something like base64.","title":"System.currentTimeMillis() Race Condition","body":"<p>I wouldn't call it a race condition, but yes getting two requests at the same millisecond is possible. What are the chances? That depends on how it's used. If I <em>want</em> to make many requests per millisecond, I can. If I'm explicitly careful not to, that's possible too.</p>\n<p>You probably want to use <code>UUID.randomUUID()</code>. Most databases support those natively, and can even generate them for you. They won't be significantly more expensive.</p>\n<p>Of course, you could use a random number of similar size, and encode it in a different format. GUIDs use hexadecimal, which takes a lot of characters compared to something like base64.</p>\n"},{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1687269798,"post_id":76515442,"comment_id":134911072,"body_markdown":"You are assuming this is about some kind of request or user id. Not saying that&#39;s wrong, but the OP hasn&#39;t actually said that.","body":"You are assuming this is about some kind of request or user id. Not saying that&#39;s wrong, but the OP hasn&#39;t actually said that."}],"tags":[],"owner":{"account_id":1059510,"reputation":15581,"user_id":1061426,"accept_rate":69,"display_name":"bharal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687269012,"creation_date":1687269012,"answer_id":76515442,"question_id":76515393,"body_markdown":"at a guess once you have a thousand concurrent users the chance is guaranteed.\r\n\r\nwhy 16 characters? seems arbitrary. you could use a random number generator and keep a time out map and keep track of users that way I guess?\r\n\r\nbut why not just use the cookie session id that spring supports for this. ","title":"System.currentTimeMillis() Race Condition","body":"<p>at a guess once you have a thousand concurrent users the chance is guaranteed.</p>\n<p>why 16 characters? seems arbitrary. you could use a random number generator and keep a time out map and keep track of users that way I guess?</p>\n<p>but why not just use the cookie session id that spring supports for this.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687272360,"creation_date":1687271055,"answer_id":76515751,"question_id":76515393,"body_markdown":"The Javadoc of `System.currentTimeMillis()` says:\r\n\r\n&gt; Returns the current time in milliseconds.  Note that\r\n&gt; while the unit of time of the return value is a millisecond,\r\n&gt; the granularity of the value depends on the underlying\r\n&gt; operating system and may be larger.  For example, many\r\n&gt; operating systems measure time in units of tens of\r\n&gt; milliseconds.\r\n\r\nEven if you have millisecond granularity, collisions will occur with some frequency. For instance, suppose you have 10 users hitting the API in the same second. The chance of a particular request colliding is 10 / 1000 = 1%. If a collision causes a user-visible failure, that&#39;s likely intolerably high.\r\n\r\nIf you want something like `UUID.randomUUID`, only shorter, why not take inspiration from it? Here is its implementation:\r\n\r\n```\r\n    public static UUID randomUUID() {\r\n        SecureRandom ng = Holder.numberGenerator;\r\n\r\n        byte[] randomBytes = new byte[16];\r\n        ng.nextBytes(randomBytes);\r\n        randomBytes[6]  &amp;= 0x0f;  /* clear version        */\r\n        randomBytes[6]  |= 0x40;  /* set to version 4     */\r\n        randomBytes[8]  &amp;= 0x3f;  /* clear variant        */\r\n        randomBytes[8]  |= (byte) 0x80;  /* set to IETF variant  */\r\n        return new UUID(randomBytes);\r\n    }\r\n```\r\n\r\nSo basically, it just has a `SecureRandom` somewhere, asks it for 16 random bytes, massages these into the form of the UUID standard. You don&#39;t need a UUID standard, and you need less than 16 bytes. So why not do this?\r\n\r\n```\r\n    class MyRandomIdGenerator {\r\n        static SecureRandom generator = new SecureRandom();\r\n\r\n        static long nextId() {\r\n            return generator.nextLong();\r\n        }\r\n    }\r\n```\r\n\r\nThe longest `long` is 19 characters in decimal notation. You can use hex notation to get it down to 16, or store it in binary format in 8 bytes.\r\n\r\nIf the negative IDs bother you, you can always discard the highest bit with\r\n\r\n    return generator.nextLong() &gt;&gt;&gt; 1;","title":"System.currentTimeMillis() Race Condition","body":"<p>The Javadoc of <code>System.currentTimeMillis()</code> says:</p>\n<blockquote>\n<p>Returns the current time in milliseconds.  Note that\nwhile the unit of time of the return value is a millisecond,\nthe granularity of the value depends on the underlying\noperating system and may be larger.  For example, many\noperating systems measure time in units of tens of\nmilliseconds.</p>\n</blockquote>\n<p>Even if you have millisecond granularity, collisions will occur with some frequency. For instance, suppose you have 10 users hitting the API in the same second. The chance of a particular request colliding is 10 / 1000 = 1%. If a collision causes a user-visible failure, that's likely intolerably high.</p>\n<p>If you want something like <code>UUID.randomUUID</code>, only shorter, why not take inspiration from it? Here is its implementation:</p>\n<pre><code>    public static UUID randomUUID() {\n        SecureRandom ng = Holder.numberGenerator;\n\n        byte[] randomBytes = new byte[16];\n        ng.nextBytes(randomBytes);\n        randomBytes[6]  &amp;= 0x0f;  /* clear version        */\n        randomBytes[6]  |= 0x40;  /* set to version 4     */\n        randomBytes[8]  &amp;= 0x3f;  /* clear variant        */\n        randomBytes[8]  |= (byte) 0x80;  /* set to IETF variant  */\n        return new UUID(randomBytes);\n    }\n</code></pre>\n<p>So basically, it just has a <code>SecureRandom</code> somewhere, asks it for 16 random bytes, massages these into the form of the UUID standard. You don't need a UUID standard, and you need less than 16 bytes. So why not do this?</p>\n<pre><code>    class MyRandomIdGenerator {\n        static SecureRandom generator = new SecureRandom();\n\n        static long nextId() {\n            return generator.nextLong();\n        }\n    }\n</code></pre>\n<p>The longest <code>long</code> is 19 characters in decimal notation. You can use hex notation to get it down to 16, or store it in binary format in 8 bytes.</p>\n<p>If the negative IDs bother you, you can always discard the highest bit with</p>\n<pre><code>return generator.nextLong() &gt;&gt;&gt; 1;\n</code></pre>\n"}],"owner":{"account_id":1921009,"reputation":115,"user_id":5504547,"accept_rate":80,"display_name":"uniQ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687272360,"creation_date":1687268728,"question_id":76515393,"body_markdown":"Can using `System.currentTimeMillis()` as a unique identifier in a Java Spring Boot project lead to a race condition, where someone can hit the API at the same milisecond? What are the chances of this.\r\n\r\nIs there a way to generate a unique identifier of certain length (16-18 charecters) as GUID is like 36 char long.\r\n","title":"System.currentTimeMillis() Race Condition","body":"<p>Can using <code>System.currentTimeMillis()</code> as a unique identifier in a Java Spring Boot project lead to a race condition, where someone can hit the API at the same milisecond? What are the chances of this.</p>\n<p>Is there a way to generate a unique identifier of certain length (16-18 charecters) as GUID is like 36 char long.</p>\n"},{"tags":["java","properties","yaml"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687271691,"post_id":76515631,"comment_id":134911498,"body_markdown":"Hello, YAML syntax is with two spaces indentation. You have only one.","body":"Hello, YAML syntax is with two spaces indentation. You have only one."},{"owner":{"account_id":15981208,"reputation":11,"user_id":11532849,"display_name":"Evgenii Golgovskikh"},"score":0,"creation_date":1687345403,"post_id":76515631,"comment_id":134922942,"body_markdown":"@Mar-Z it&#39;s a mistake in question. I using two spaces in code","body":"@Mar-Z it&#39;s a mistake in question. I using two spaces in code"}],"answers":[{"comments":[{"owner":{"account_id":15981208,"reputation":11,"user_id":11532849,"display_name":"Evgenii Golgovskikh"},"score":0,"creation_date":1687345277,"post_id":76515827,"comment_id":134922919,"body_markdown":"but when I using @Autowired (with `@Component` annotation) I receive NullPointerException :(","body":"but when I using @Autowired (with <code>@Component</code> annotation) I receive NullPointerException :("}],"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687271583,"creation_date":1687271583,"answer_id":76515827,"question_id":76515631,"body_markdown":"You should use `@Autowired` instead of `new OperationProperties();`\r\n\r\n    @Autowired\r\n    OperationProperties operationProperties;\r\n    @Test\r\n    public void testConf(){\r\n        int dayPeriod = operationProperties.getDayPeriod();\r\n        System.out.println(dayPeriod);\r\n        assert dayPeriod==10;\r\n    }\r\n\r\nThe reason why you get 0 is `new OperationProperties();` this will result in a new object, rather than getting it from the springboot container,because dayPeriod is of type int, there will be a default value of 0.\r\n\r\n\r\n\r\n","title":"Wrong value from application-test.yaml","body":"<p>You should use <code>@Autowired</code> instead of <code>new OperationProperties();</code></p>\n<pre><code>@Autowired\nOperationProperties operationProperties;\n@Test\npublic void testConf(){\n    int dayPeriod = operationProperties.getDayPeriod();\n    System.out.println(dayPeriod);\n    assert dayPeriod==10;\n}\n</code></pre>\n<p>The reason why you get 0 is <code>new OperationProperties();</code> this will result in a new object, rather than getting it from the springboot container,because dayPeriod is of type int, there will be a default value of 0.</p>\n"}],"owner":{"account_id":15981208,"reputation":11,"user_id":11532849,"display_name":"Evgenii Golgovskikh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687271583,"creation_date":1687270294,"question_id":76515631,"body_markdown":"I try to use parameter `dayPeriod` from yaml file:\r\n\r\napplication-test.yml\r\n```\r\napp-config:\r\n operations:\r\n  dayPeriod: 10\r\n```\r\n\r\nOperationProperties.java\r\n```\r\n@Component\r\n@Data\r\n@ConfigurationProperties(prefix = &quot;app-config.operations&quot;)\r\npublic class OperationProperties {\r\n    private int dayPeriod;\r\n}\r\n```\r\n\r\nBut when I try to get value from OperationProperties.java I receive 0 instead 10\r\n\r\nTimeUtilsTest.java\r\n\r\n```\r\n@ActiveProfiles(&quot;test&quot;)\r\nclass TimeUtilsTest {\r\n   private final OperationProperties operationProperties = new OperationProperties();\r\n\r\n   @Test\r\n   void test(){\r\n       System.out.println(operationProperties.getDayPeriod); // print: 0\r\n   }\r\n\r\n}\r\n```\r\nWhy I get wrong value?\r\n","title":"Wrong value from application-test.yaml","body":"<p>I try to use parameter <code>dayPeriod</code> from yaml file:</p>\n<p>application-test.yml</p>\n<pre><code>app-config:\n operations:\n  dayPeriod: 10\n</code></pre>\n<p>OperationProperties.java</p>\n<pre><code>@Component\n@Data\n@ConfigurationProperties(prefix = &quot;app-config.operations&quot;)\npublic class OperationProperties {\n    private int dayPeriod;\n}\n</code></pre>\n<p>But when I try to get value from OperationProperties.java I receive 0 instead 10</p>\n<p>TimeUtilsTest.java</p>\n<pre><code>@ActiveProfiles(&quot;test&quot;)\nclass TimeUtilsTest {\n   private final OperationProperties operationProperties = new OperationProperties();\n\n   @Test\n   void test(){\n       System.out.println(operationProperties.getDayPeriod); // print: 0\n   }\n\n}\n</code></pre>\n<p>Why I get wrong value?</p>\n"},{"tags":["java","itext","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1687272052,"post_id":76515522,"comment_id":134911584,"body_markdown":"Have you checked whether the changed modification date in the xmp metadata is the only difference? At least the ID could also differ...","body":"Have you checked whether the changed modification date in the xmp metadata is the only difference? At least the ID could also differ..."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1687272495,"post_id":76515522,"comment_id":134911685,"body_markdown":"That being said, the iText signing API is designed so that for this use case you&#39;d actually _keep_ the output of the first `signExternalContainer` and later inject the CMS signature container created for your hash using `PdfSigner.signDeferred`.","body":"That being said, the iText signing API is designed so that for this use case you&#39;d actually <i>keep</i> the output of the first <code>signExternalContainer</code> and later inject the CMS signature container created for your hash using <code>PdfSigner.signDeferred</code>."},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1687420275,"post_id":76515522,"comment_id":134935009,"body_markdown":"@mkl I have checked it. The only modification date was changed. I can&#39;t understand why it happened because I didn&#39;t modify the pdf. I get the original pdf and run my code two times and I always get different pdf digests for the same document. The ```signDate``` the same in the both cases","body":"@mkl I have checked it. The only modification date was changed. I can&#39;t understand why it happened because I didn&#39;t modify the pdf. I get the original pdf and run my code two times and I always get different pdf digests for the same document. The <code>signDate</code> the same in the both cases"},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1687423102,"post_id":76515522,"comment_id":134935624,"body_markdown":"@mkl The pdf digest should be the same if I calculate it for the one pdf with the same parameters. Am I right?","body":"@mkl The pdf digest should be the same if I calculate it for the one pdf with the same parameters. Am I right?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1687441303,"post_id":76515522,"comment_id":134939718,"body_markdown":"Your code does not merely calculate a digest, it first prepares the PDF for signing. This is a modification. As iText automatically updates the modification time, therefore, you get different results and hashes in multiple runs for the same PDF.","body":"Your code does not merely calculate a digest, it first prepares the PDF for signing. This is a modification. As iText automatically updates the modification time, therefore, you get different results and hashes in multiple runs for the same PDF."},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1688040923,"post_id":76515522,"comment_id":135022160,"body_markdown":"@mkl How can I do the workflow looks like the following: 1. I Get a pdf file and fill in all fields. 2. I need to calculate the digest and send it to the server for getting the certificates and ocsps data. 3. I should sign this pdf file. When I add certificates to the pdf and try to sign it the modification date is changed and the digest already different. Can you give me advice how can I realize this workflow? What do I do wrong?","body":"@mkl How can I do the workflow looks like the following: 1. I Get a pdf file and fill in all fields. 2. I need to calculate the digest and send it to the server for getting the certificates and ocsps data. 3. I should sign this pdf file. When I add certificates to the pdf and try to sign it the modification date is changed and the digest already different. Can you give me advice how can I realize this workflow? What do I do wrong?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1688041991,"post_id":76515522,"comment_id":135022421,"body_markdown":"See my second comment. _The iText signing API is designed so that for this use case you&#39;d actually keep the output of the first `signExternalContainer` call and later inject the CMS signature container created for your hash using `PdfSigner.signDeferred`._","body":"See my second comment. <i>The iText signing API is designed so that for this use case you&#39;d actually keep the output of the first <code>signExternalContainer</code> call and later inject the CMS signature container created for your hash using <code>PdfSigner.signDeferred</code>.</i>"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687271527,"creation_date":1687269552,"question_id":76515522,"body_markdown":"I need to implement signing a pdf document in two steps. In the first step I need to calculate a pdf digest and in the second step, I need to sign this document.\r\n\r\nI have a problem with step 1 (calculating pdf digest). If I run the digest calculation several times with identical data, I have different digests.\r\nWhen I checked the document that has been passed to the digest calculation method, I found the Modification date was different in these calls.[![Modification date is different][1]][1]\r\nBut If I do it with the PdfBox library, I always get correct results, and the Modification Date doesn’t change&lt;br/&gt;&lt;br/&gt;\r\n&lt;b&gt;How can I calculate the pdf digest and don’t update the modified date?&lt;/b&gt;&lt;br/&gt;\r\nMy code looks like the following:\r\n```\r\npublic class MyDigestCalculator extends ExternalBlankSignatureContainer {\r\n     public byte[] pdfDigest;\r\n\t\r\n\tpublic MyDigestCalculator(PdfName filter, PdfName subFilter) {\r\n \t   \tsuper(filter, subFilter);\r\n\t}\r\n\r\n     @Override\r\n\tpublic byte[] sign(InputStream is) throws GeneralSecurityException {\r\n    \t   try {\r\n       \t final byte[] bytes = is.readAllBytes();\r\n        \t final String pdf = new String(bytes);\r\n       \r\n          BouncyCastleDigest digestService = new BouncyCastleDigest();\r\n          pdfDigest = DigestAlgorithms.digest(new ByteArrayInputStream(bytes), “SHA-256”);\r\n          return new byte[0];\r\n       } catch (IOException e) {\r\n          throw new GeneralSecurityException(&quot;Can&#39;t get digest from file hash&quot;, e);\r\n       }\r\n\t}\r\n}\r\n\r\npublic class DocumentSigner {\r\n\tpublic String calculatePdfDigest(byte[] pdfBytes, SignatureProperties signature, boolean lockFields, Calendar signDate) throws IOException, GeneralSecurityException {\r\n        final PdfDocument pdfDocument = createPdfDocument(pdfBytes);\r\n\t   PdfAcroForm acroForm = PdfAcroForm.getAcroForm(pdfDocument, false);\r\n\t   acroForm.setSignatureFlags(PdfAcroForm.SIGNATURE_EXIST);\r\n               \r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\tPdfReader reader = new PdfReader(new ByteArrayInputStream(pdfBytes));\r\n\t PdfSigner signer = new PdfSigner(reader, baos, new StampingProperties().useAppendMode());\r\n\r\n    signer.setSignDate(signDate);\r\n    MyDigestCalculator calcDigest = new MyDigestCalculator(PdfName.Adobe_PPKLite, PdfName.Adbe_pkcs7_detached);\r\n\r\n    signer.signExternalContainer(calcDigest, 8120);\r\n    pdfBytes = baos.toByteArray();\r\n    String digest = (digestHash != null ? new BigInteger(1, calcDigest.pdfDigest).toString(16) : null);\r\n    return digest;\r\n}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WKTk8.png","title":"How to calculate a digest of pdf document","body":"<p>I need to implement signing a pdf document in two steps. In the first step I need to calculate a pdf digest and in the second step, I need to sign this document.</p>\n<p>I have a problem with step 1 (calculating pdf digest). If I run the digest calculation several times with identical data, I have different digests.\nWhen I checked the document that has been passed to the digest calculation method, I found the Modification date was different in these calls.<a href=\"https://i.stack.imgur.com/WKTk8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WKTk8.png\" alt=\"Modification date is different\" /></a>\nBut If I do it with the PdfBox library, I always get correct results, and the Modification Date doesn’t change<br/><br/>\n<b>How can I calculate the pdf digest and don’t update the modified date?</b><br/>\nMy code looks like the following:</p>\n<pre><code>public class MyDigestCalculator extends ExternalBlankSignatureContainer {\n     public byte[] pdfDigest;\n    \n    public MyDigestCalculator(PdfName filter, PdfName subFilter) {\n        super(filter, subFilter);\n    }\n\n     @Override\n    public byte[] sign(InputStream is) throws GeneralSecurityException {\n           try {\n         final byte[] bytes = is.readAllBytes();\n             final String pdf = new String(bytes);\n       \n          BouncyCastleDigest digestService = new BouncyCastleDigest();\n          pdfDigest = DigestAlgorithms.digest(new ByteArrayInputStream(bytes), “SHA-256”);\n          return new byte[0];\n       } catch (IOException e) {\n          throw new GeneralSecurityException(&quot;Can't get digest from file hash&quot;, e);\n       }\n    }\n}\n\npublic class DocumentSigner {\n    public String calculatePdfDigest(byte[] pdfBytes, SignatureProperties signature, boolean lockFields, Calendar signDate) throws IOException, GeneralSecurityException {\n        final PdfDocument pdfDocument = createPdfDocument(pdfBytes);\n       PdfAcroForm acroForm = PdfAcroForm.getAcroForm(pdfDocument, false);\n       acroForm.setSignatureFlags(PdfAcroForm.SIGNATURE_EXIST);\n               \n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    PdfReader reader = new PdfReader(new ByteArrayInputStream(pdfBytes));\n     PdfSigner signer = new PdfSigner(reader, baos, new StampingProperties().useAppendMode());\n\n    signer.setSignDate(signDate);\n    MyDigestCalculator calcDigest = new MyDigestCalculator(PdfName.Adobe_PPKLite, PdfName.Adbe_pkcs7_detached);\n\n    signer.signExternalContainer(calcDigest, 8120);\n    pdfBytes = baos.toByteArray();\n    String digest = (digestHash != null ? new BigInteger(1, calcDigest.pdfDigest).toString(16) : null);\n    return digest;\n}\n\n}\n\n</code></pre>\n"},{"tags":["java","testng"],"owner":{"account_id":27774400,"reputation":1,"user_id":21204080,"display_name":"Eric GRANTE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687270929,"creation_date":1687270929,"question_id":76515737,"body_markdown":"Good morning,\r\n\r\nwhen I use a suites.xml globalizer file the include and exclude no longer work\r\n\r\nI have the following Suites.xml file:\r\n\r\n```\r\n&lt;suite name=&quot;allSuites&quot;&gt;\r\n     &lt;suite-files&gt;\r\n         &lt;suite-file path=&quot;src/exec/testGroups.xml&quot;/&gt;\r\n         &lt;suite-file path=&quot;src/exec/testGroups1.xml&quot;/&gt;\r\n         &lt;suite-file path=&quot;src/exec/testGroups2.xml&quot;/&gt;\r\n     &lt;/suite-files&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\nin the following files I have the groups:\r\n\r\n```\r\nsrc/exec/testGroups.xml\r\n   &lt;groups&gt;\r\n     &lt;run&gt;\r\n       &lt;exclude name=&quot;systemOperation&quot;/&gt;\r\n       &lt;include name=&quot;web_linux&quot;/&gt;\r\n     &lt;/run&gt;\r\n   &lt;/groups&gt;\r\n\r\nsrc/exec/testGroups1.xml&quot;\r\n   &lt;groups&gt;\r\n     &lt;run&gt;\r\n       &lt;exclude name=&quot;systemOperation&quot;/&gt;\r\n     &lt;/run&gt;\r\n   &lt;/groups&gt;\r\n\r\nsrc/exec/testGroups2.xml:\r\n   &lt;groups&gt;\r\n     &lt;run&gt;\r\n       &lt;include name=&quot;systemOperation&quot;/&gt;\r\n       &lt;include name=&quot;web_linux&quot;/&gt;\r\n       &lt;exclude name=&quot;fictif&quot;/&gt;\r\n     &lt;/run&gt;\r\n   &lt;/groups&gt;\r\n```\r\n\r\nwhen I execute individually, or in sequence the files\r\n\r\n`org.testng.TestNG src/exec/testGroups.xml src/exec/testGroups1.xml src/exec/testGroups2.xml`\r\n\r\nincludes and excludes work.\r\n\r\nwhen i execute\r\n\r\n`org.testng.TestNG /home/eric/git/ats-test/target/suites.xml`\r\n\r\ninclude and exclude no longer work, they are no longer taken into account.","title":"testng Groups in multiple Suites.xml","body":"<p>Good morning,</p>\n<p>when I use a suites.xml globalizer file the include and exclude no longer work</p>\n<p>I have the following Suites.xml file:</p>\n<pre><code>&lt;suite name=&quot;allSuites&quot;&gt;\n     &lt;suite-files&gt;\n         &lt;suite-file path=&quot;src/exec/testGroups.xml&quot;/&gt;\n         &lt;suite-file path=&quot;src/exec/testGroups1.xml&quot;/&gt;\n         &lt;suite-file path=&quot;src/exec/testGroups2.xml&quot;/&gt;\n     &lt;/suite-files&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>in the following files I have the groups:</p>\n<pre><code>src/exec/testGroups.xml\n   &lt;groups&gt;\n     &lt;run&gt;\n       &lt;exclude name=&quot;systemOperation&quot;/&gt;\n       &lt;include name=&quot;web_linux&quot;/&gt;\n     &lt;/run&gt;\n   &lt;/groups&gt;\n\nsrc/exec/testGroups1.xml&quot;\n   &lt;groups&gt;\n     &lt;run&gt;\n       &lt;exclude name=&quot;systemOperation&quot;/&gt;\n     &lt;/run&gt;\n   &lt;/groups&gt;\n\nsrc/exec/testGroups2.xml:\n   &lt;groups&gt;\n     &lt;run&gt;\n       &lt;include name=&quot;systemOperation&quot;/&gt;\n       &lt;include name=&quot;web_linux&quot;/&gt;\n       &lt;exclude name=&quot;fictif&quot;/&gt;\n     &lt;/run&gt;\n   &lt;/groups&gt;\n</code></pre>\n<p>when I execute individually, or in sequence the files</p>\n<p><code>org.testng.TestNG src/exec/testGroups.xml src/exec/testGroups1.xml src/exec/testGroups2.xml</code></p>\n<p>includes and excludes work.</p>\n<p>when i execute</p>\n<p><code>org.testng.TestNG /home/eric/git/ats-test/target/suites.xml</code></p>\n<p>include and exclude no longer work, they are no longer taken into account.</p>\n"},{"tags":["java","json","rest-assured","jsonpath"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687270213,"creation_date":1687270213,"answer_id":76515617,"question_id":76514033,"body_markdown":"I think [JsonPath jayway][1] is better in this case. The code would be\r\n\r\n```java\r\n@Test\r\npublic void test76514033() {\r\n    String json = &quot;{\\n&quot; +\r\n            &quot;  \\&quot;data\\&quot;: [\\n&quot; +\r\n            &quot;    {\\n&quot; +\r\n            &quot;      \\&quot;types\\&quot;: {\\n&quot; +\r\n            &quot;        \\&quot;1\\&quot;: {\\n&quot; +\r\n            &quot;          \\&quot;display_name\\&quot;: \\&quot;123\\&quot;\\n&quot; +\r\n            &quot;        },\\n&quot; +\r\n            &quot;        \\&quot;2\\&quot;: {\\n&quot; +\r\n            &quot;          \\&quot;display_name\\&quot;: \\&quot;321\\&quot;\\n&quot; +\r\n            &quot;        }\\n&quot; +\r\n            &quot;      }\\n&quot; +\r\n            &quot;    }\\n&quot; +\r\n            &quot;  ]\\n&quot; +\r\n            &quot;}&quot;;\r\n\r\n    List&lt;String&gt; names =  com.jayway.jsonpath.JsonPath.read(json, &quot;$.data..display_name&quot;);\r\n    System.out.println(names);  //[&quot;123&quot;,&quot;321&quot;]\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/json-path/JsonPath","title":"Java | How can I create a list from a json using JsonPath RestAssured?","body":"<p>I think <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">JsonPath jayway</a> is better in this case. The code would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test76514033() {\n    String json = &quot;{\\n&quot; +\n            &quot;  \\&quot;data\\&quot;: [\\n&quot; +\n            &quot;    {\\n&quot; +\n            &quot;      \\&quot;types\\&quot;: {\\n&quot; +\n            &quot;        \\&quot;1\\&quot;: {\\n&quot; +\n            &quot;          \\&quot;display_name\\&quot;: \\&quot;123\\&quot;\\n&quot; +\n            &quot;        },\\n&quot; +\n            &quot;        \\&quot;2\\&quot;: {\\n&quot; +\n            &quot;          \\&quot;display_name\\&quot;: \\&quot;321\\&quot;\\n&quot; +\n            &quot;        }\\n&quot; +\n            &quot;      }\\n&quot; +\n            &quot;    }\\n&quot; +\n            &quot;  ]\\n&quot; +\n            &quot;}&quot;;\n\n    List&lt;String&gt; names =  com.jayway.jsonpath.JsonPath.read(json, &quot;$.data..display_name&quot;);\n    System.out.println(names);  //[&quot;123&quot;,&quot;321&quot;]\n}\n</code></pre>\n"}],"owner":{"account_id":28857559,"reputation":1,"user_id":22102055,"display_name":"Mike Sky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687270213,"creation_date":1687258865,"question_id":76514033,"body_markdown":"I have the following json and want to create a list from the display names, the json can have many different types not necessarily only 2:\r\n\r\n    {&quot;data&quot;: [\r\n      {\r\n      &quot;types&quot;: {\r\n        &quot;1&quot;: {\r\n        &quot;display_name&quot;: &quot;123&quot;,\r\n        },\r\n        &quot;2&quot;: {\r\n        &quot;display_name&quot;: &quot;321&quot;,\r\n        },\r\n      }\r\n    }\r\n\r\n\r\nI&#39;ve tried the following:\r\n\r\n\r\n    JsonPath json = response.jsonPath();\r\n    List&lt;String&gt; list = json.getList(&quot;data.types.*.display_name&quot;);\r\n\r\n\r\nto get the display names, I can easily replace the &quot;*&quot; with &quot;1&quot; or &quot;2&quot; but I don&#39;t know what the name of the types will be (not necessarily 1 or 2, could be any string).\r\n\r\nI want to create a list of strings from all of the display names in the json.","title":"Java | How can I create a list from a json using JsonPath RestAssured?","body":"<p>I have the following json and want to create a list from the display names, the json can have many different types not necessarily only 2:</p>\n<pre><code>{&quot;data&quot;: [\n  {\n  &quot;types&quot;: {\n    &quot;1&quot;: {\n    &quot;display_name&quot;: &quot;123&quot;,\n    },\n    &quot;2&quot;: {\n    &quot;display_name&quot;: &quot;321&quot;,\n    },\n  }\n}\n</code></pre>\n<p>I've tried the following:</p>\n<pre><code>JsonPath json = response.jsonPath();\nList&lt;String&gt; list = json.getList(&quot;data.types.*.display_name&quot;);\n</code></pre>\n<p>to get the display names, I can easily replace the &quot;*&quot; with &quot;1&quot; or &quot;2&quot; but I don't know what the name of the types will be (not necessarily 1 or 2, could be any string).</p>\n<p>I want to create a list of strings from all of the display names in the json.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7802,"page":359,"page_size":100}
