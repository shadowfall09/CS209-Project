{"items":[{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1692976240,"post_id":76978394,"comment_id":135702871,"body_markdown":"When you say &quot;UTF-8 code: `0xb5`&quot;, do you mean &quot;Unicode code point `0xb5`&quot; or &quot;UTF-8 encoded: `0xb5`&quot;?","body":"When you say &quot;UTF-8 code: <code>0xb5</code>&quot;, do you mean &quot;Unicode code point <code>0xb5</code>&quot; or &quot;UTF-8 encoded: <code>0xb5</code>&quot;?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1692976557,"post_id":76978394,"comment_id":135702959,"body_markdown":"*com.fasterxml.jackson.core.JsonParseException: Invalid UTF-8 start byte 0xb5* might well be a sign that your platform encoding on which you&#39;re working is not UTF-8. The micro sign is encoded as `C2 B5` in UTF-8, not `B5`","body":"<i>com.fasterxml.jackson.core.JsonParseException: Invalid UTF-8 start byte 0xb5</i> might well be a sign that your platform encoding on which you&#39;re working is not UTF-8. The micro sign is encoded as <code>C2 B5</code> in UTF-8, not <code>B5</code>"},{"owner":{"account_id":19425488,"reputation":57,"user_id":14207055,"display_name":"shibel"},"score":0,"creation_date":1692976587,"post_id":76978394,"comment_id":135702965,"body_markdown":"@S&#246;ren my knowledge of the subject is very limited, I simply meant to say that when I looked up `&#181;`&#39;s `UTF-8` code, it said `0xb5`, which is also the character my receiving service was complaining about.","body":"@S&#246;ren my knowledge of the subject is very limited, I simply meant to say that when I looked up <code>&#181;</code>&#39;s <code>UTF-8</code> code, it said <code>0xb5</code>, which is also the character my receiving service was complaining about."},{"owner":{"account_id":19425488,"reputation":57,"user_id":14207055,"display_name":"shibel"},"score":0,"creation_date":1692976847,"post_id":76978394,"comment_id":135703032,"body_markdown":"@g00se I think you are right, and my previous comment to Soren is incorrect.","body":"@g00se I think you are right, and my previous comment to Soren is incorrect."},{"owner":{"account_id":19425488,"reputation":57,"user_id":14207055,"display_name":"shibel"},"score":0,"creation_date":1692976927,"post_id":76978394,"comment_id":135703048,"body_markdown":"So micro **can** be represented both by `UTF-8` and [some-other-encoding], but since Jackson is assuming `UTF-8` when it&#39;s serializing the String, it leaves `0xb5` alone...?","body":"So micro <b>can</b> be represented both by <code>UTF-8</code> and [some-other-encoding], but since Jackson is assuming <code>UTF-8</code> when it&#39;s serializing the String, it leaves <code>0xb5</code> alone...?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692977167,"post_id":76978394,"comment_id":135703102,"body_markdown":"If you were to do `byte[] a = &quot;1.446&#181;s&quot;.getBytes();IntStream.range(0, a.length).map(i -&gt; a[i]).forEach(i -&gt; System.out.printf(&quot;%02X &quot;, 0xFF &amp; i));` you would probably find it prints `31 2E 34 34 36 B5 73`","body":"If you were to do <code>byte[] a = &quot;1.446&#181;s&quot;.getBytes();IntStream.range(0, a.length).map(i -&gt; a[i]).forEach(i -&gt; System.out.printf(&quot;%02X &quot;, 0xFF &amp; i));</code> you would probably find it prints <code>31 2E 34 34 36 B5 73</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692977824,"post_id":76978394,"comment_id":135703237,"body_markdown":"UTF-8 can represent essentially anything. 8 bit encodings are limited. I can&#39;t say what Jackson is doing as I don&#39;t know it well but basically it looks like it&#39;s playing safe for characters that are not common to &#39;all&#39; charsets. In your case it succeeds. You have a deeper problem with your environment so I&#39;m guessing you&#39;re using Windows","body":"UTF-8 can represent essentially anything. 8 bit encodings are limited. I can&#39;t say what Jackson is doing as I don&#39;t know it well but basically it looks like it&#39;s playing safe for characters that are not common to &#39;all&#39; charsets. In your case it succeeds. You have a deeper problem with your environment so I&#39;m guessing you&#39;re using Windows"},{"owner":{"account_id":19425488,"reputation":57,"user_id":14207055,"display_name":"shibel"},"score":0,"creation_date":1692977929,"post_id":76978394,"comment_id":135703258,"body_markdown":"@g00se I&#39;m not sure what&#39;s happening either. I&#39;m on Linux on all services. I also don&#39;t understand what &quot;playing it safe&quot; means. I guess this specific string is just not UTF-8, so I now have to figure out what is the encoding of the original string (I&#39;m receiving it from a 3rd-party)","body":"@g00se I&#39;m not sure what&#39;s happening either. I&#39;m on Linux on all services. I also don&#39;t understand what &quot;playing it safe&quot; means. I guess this specific string is just not UTF-8, so I now have to figure out what is the encoding of the original string (I&#39;m receiving it from a 3rd-party)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692978580,"post_id":76978394,"comment_id":135703410,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255056/discussion-between-g00se-and-shibel).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255056/discussion-between-g00se-and-shibel\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":19425488,"reputation":57,"user_id":14207055,"display_name":"shibel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693893132,"creation_date":1693033755,"answer_id":76981907,"question_id":76978394,"body_markdown":"user g00se&#39;s comments led me in the right direction: Our sending service is based on Spring, and our version/as of today Spring’s default `StringHttpMessageConverter` encodes the payload in ISO-8859-1.\r\n\r\n","title":"Why did I have to use `ESCAPE_NON_ASCII` to parse &#181;?","body":"<p>user g00se's comments led me in the right direction: Our sending service is based on Spring, and our version/as of today Spring’s default <code>StringHttpMessageConverter</code> encodes the payload in ISO-8859-1.</p>\n"}],"owner":{"account_id":19425488,"reputation":57,"user_id":14207055,"display_name":"shibel"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76981907,"answer_count":1,"score":0,"last_activity_date":1693893132,"creation_date":1692975872,"question_id":76978394,"body_markdown":"From service `Sender`, I&#39;m sending a JSON with the character &#181; (UTF-8 code: `0xb5`) inside one of the strings, like so:\r\n\r\n\r\n```json\r\n{\r\n   &quot;apiserver.latency.k8s.io/response-write&quot;:&quot;1.446&#181;s&quot;\r\n}\r\n```\r\n\r\nI&#39;m including the content-type header as `&quot;application/json;charset=UTF-8&quot;` in the request.\r\n\r\nThis string is initially held in POJO, so in order to send the payload to `Receiver` service I&#39;m using Jackson to convert it to `String`, like so:\r\n\r\n```java\r\n// myPojo is an object containing the `&#181;` in one of its members \r\nString body = objectMapper.writeValueAsString(myPojo)\r\nResponseEntity&lt;String&gt; response = restClient.postForEntity(url, body,\r\n                    String.class);\r\n```\r\n\r\nHowever, the `Receiver` service fails the request after throwing the following exception:\r\n\r\n```\r\ncom.fasterxml.jackson.core.JsonParseException: Invalid UTF-8 start byte 0xb5\r\n```\r\n\r\nIf I configure the `ObjectMapper` with the following:\r\n\r\n```java\r\nobjectMapper.getFactory().configure(JsonWriteFeature.ESCAPE_NON_ASCII.mappedFeature(), true);\r\n```\r\n\r\nThe `Receiver` service now successfully parses the request, and lets it through.\r\n\r\nHowever from what I&#39;ve read, Jackson always produces valid JSON. So how come I have to enable the above setting for the request to go through? Further, it seems `&#181;` is a valid UTF-8 character, which is Jackson&#39;s default encoding, so why is it failing?\r\n\r\n\r\nThis is how I&#39;m reading the payload in a custom deserializer:\r\n\r\n```java\r\npublic class JsonToStringValueDeserializer extends JsonDeserializer&lt;String&gt; {\r\n\r\n    private static final TypeReference&lt;JsonNode&gt; JSON_NODE_TYPE = new TypeReference&lt;&gt;(){};\r\n\r\n    @Override\r\n    public String deserialize(JsonParser p, DeserializationContext ctx) throws IOException, JsonProcessingException {\r\n        String retVal;\r\n\r\n        if (p.currentToken().isStructStart()) {\r\n            JsonNode val = p.readValueAs(JSON_NODE_TYPE);\r\n            retVal = val.toString();\r\n        } else {\r\n            retVal = p.readValueAs(String.class);\r\n        }\r\n\r\n        return retVal;\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis is because I want this part of the payload to be deserialized as `String` in `Receiver`, regardless of how the sender initially sent it (we have another `Sender2` sending this part of the payload as a base64 string).","title":"Why did I have to use `ESCAPE_NON_ASCII` to parse &#181;?","body":"<p>From service <code>Sender</code>, I'm sending a JSON with the character µ (UTF-8 code: <code>0xb5</code>) inside one of the strings, like so:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;apiserver.latency.k8s.io/response-write&quot;:&quot;1.446µs&quot;\n}\n</code></pre>\n<p>I'm including the content-type header as <code>&quot;application/json;charset=UTF-8&quot;</code> in the request.</p>\n<p>This string is initially held in POJO, so in order to send the payload to <code>Receiver</code> service I'm using Jackson to convert it to <code>String</code>, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// myPojo is an object containing the `µ` in one of its members \nString body = objectMapper.writeValueAsString(myPojo)\nResponseEntity&lt;String&gt; response = restClient.postForEntity(url, body,\n                    String.class);\n</code></pre>\n<p>However, the <code>Receiver</code> service fails the request after throwing the following exception:</p>\n<pre><code>com.fasterxml.jackson.core.JsonParseException: Invalid UTF-8 start byte 0xb5\n</code></pre>\n<p>If I configure the <code>ObjectMapper</code> with the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>objectMapper.getFactory().configure(JsonWriteFeature.ESCAPE_NON_ASCII.mappedFeature(), true);\n</code></pre>\n<p>The <code>Receiver</code> service now successfully parses the request, and lets it through.</p>\n<p>However from what I've read, Jackson always produces valid JSON. So how come I have to enable the above setting for the request to go through? Further, it seems <code>µ</code> is a valid UTF-8 character, which is Jackson's default encoding, so why is it failing?</p>\n<p>This is how I'm reading the payload in a custom deserializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JsonToStringValueDeserializer extends JsonDeserializer&lt;String&gt; {\n\n    private static final TypeReference&lt;JsonNode&gt; JSON_NODE_TYPE = new TypeReference&lt;&gt;(){};\n\n    @Override\n    public String deserialize(JsonParser p, DeserializationContext ctx) throws IOException, JsonProcessingException {\n        String retVal;\n\n        if (p.currentToken().isStructStart()) {\n            JsonNode val = p.readValueAs(JSON_NODE_TYPE);\n            retVal = val.toString();\n        } else {\n            retVal = p.readValueAs(String.class);\n        }\n\n        return retVal;\n    }\n}\n</code></pre>\n<p>This is because I want this part of the payload to be deserialized as <code>String</code> in <code>Receiver</code>, regardless of how the sender initially sent it (we have another <code>Sender2</code> sending this part of the payload as a base64 string).</p>\n"},{"tags":["java","sockets","client","serversocket","bufferedwriter"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1693787812,"post_id":77034560,"comment_id":135802596,"body_markdown":"You&#39;re reading from the client twice in the server","body":"You&#39;re reading from the client twice in the server"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1693787927,"post_id":77034560,"comment_id":135802601,"body_markdown":"Printing out &quot;closing connection&quot; does not close the connection.  Commenting &quot;read from keyboard&quot; when using a client reader does not make it read from a keyboard.  Writing client code to expect data from the server does not cause the server to send data.","body":"Printing out &quot;closing connection&quot; does not close the connection.  Commenting &quot;read from keyboard&quot; when using a client reader does not make it read from a keyboard.  Writing client code to expect data from the server does not cause the server to send data."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1693788099,"post_id":77034560,"comment_id":135802618,"body_markdown":"Also, you need to call `flush` on the `PrintWriter`","body":"Also, you need to call <code>flush</code> on the <code>PrintWriter</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693788172,"post_id":77034560,"comment_id":135802621,"body_markdown":"I would also recommend reading through [All About Sockets](https://docs.oracle.com/javase/tutorial/networking/sockets/index.html) (probably again) and going through the example code","body":"I would also recommend reading through <a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/index.html\" rel=\"nofollow noreferrer\">All About Sockets</a> (probably again) and going through the example code"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693788233,"post_id":77034560,"comment_id":135802624,"body_markdown":"Also, [The try-with-resources Statement](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) would be a worth while read","body":"Also, <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">The try-with-resources Statement</a> would be a worth while read"},{"owner":{"account_id":29359631,"reputation":1,"user_id":22494649,"display_name":"ali"},"score":0,"creation_date":1693791447,"post_id":77034560,"comment_id":135802795,"body_markdown":"Hi-- I didn&#39;t clarify, but the majority of this code are stubs provided by my prof only sufficient enough for a one way message. The goal is to be able to send a message from the Client or the Server in their respective consoles. The code I altered compiles, but fails to actually communicate with each other.","body":"Hi-- I didn&#39;t clarify, but the majority of this code are stubs provided by my prof only sufficient enough for a one way message. The goal is to be able to send a message from the Client or the Server in their respective consoles. The code I altered compiles, but fails to actually communicate with each other."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693799272,"post_id":77034560,"comment_id":135803248,"body_markdown":"Yes, as stated, you’re trying to read twice in the server (one after the other), so the second is blocking, preventing any further communication - as to “stub” code, it’s disappointingly poor","body":"Yes, as stated, you’re trying to read twice in the server (one after the other), so the second is blocking, preventing any further communication - as to “stub” code, it’s disappointingly poor"}],"answers":[{"comments":[{"owner":{"account_id":29359631,"reputation":1,"user_id":22494649,"display_name":"ali"},"score":0,"creation_date":1693791154,"post_id":77034606,"comment_id":135802784,"body_markdown":"I should have clarified this in the post, but in the console I manually type what the Client and Server say to each other from the keyboard. The problem is, neither the Client nor Server is registering what I send to each other on both of their respective consoles.","body":"I should have clarified this in the post, but in the console I manually type what the Client and Server say to each other from the keyboard. The problem is, neither the Client nor Server is registering what I send to each other on both of their respective consoles."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1693795483,"post_id":77034606,"comment_id":135803024,"body_markdown":"You have written no code in your server to read from the keyboard. You have written no code in your server to send anything to the client.  Your server expects to read two consecutive lines from the client &#39;each time round the loop&#39;, where the client sends only one. Result, deadlock. Read your code.","body":"You have written no code in your server to read from the keyboard. You have written no code in your server to send anything to the client.  Your server expects to read two consecutive lines from the client &#39;each time round the loop&#39;, where the client sends only one. Result, deadlock. Read your code."}],"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693788216,"creation_date":1693788216,"answer_id":77034606,"question_id":77034560,"body_markdown":"Commenting &quot;read from keyboard&quot; when using a client reader does not make it read from a keyboard. Writing client code to expect data from the server does not cause the server to send data. \r\n\r\nWhat you apparently want is a client that sends a line then waits to receive a line; and a matching server that waits to receive a line, then sends a line. But your code does not do that.\r\n\r\nI diagnose a case of not reading what you&#39;ve actually written. That is 90% of debugging code: seeing what is there, not what you want to be there.\r\n\r\nAlso, printing out &quot;closing connection&quot; does not close the connection.  Maybe the client code exits immediately after, which will do the job for you; but we don&#39;t have that code.\r\n","title":"Why won&#39;t my client nor server send messages to each other?","body":"<p>Commenting &quot;read from keyboard&quot; when using a client reader does not make it read from a keyboard. Writing client code to expect data from the server does not cause the server to send data.</p>\n<p>What you apparently want is a client that sends a line then waits to receive a line; and a matching server that waits to receive a line, then sends a line. But your code does not do that.</p>\n<p>I diagnose a case of not reading what you've actually written. That is 90% of debugging code: seeing what is there, not what you want to be there.</p>\n<p>Also, printing out &quot;closing connection&quot; does not close the connection.  Maybe the client code exits immediately after, which will do the job for you; but we don't have that code.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693893123,"creation_date":1693800210,"answer_id":77035009,"question_id":77034560,"body_markdown":"So, in your server code you are doing...\r\n\r\n    String message = fromClientReader.readLine();\r\n\r\n    // Read a line from the keyboard\r\n    String line = fromClientReader.readLine();\r\n\r\nThis is trying to read from the client twice, the second call is going to block, preventing any additional code from been executed.\r\n\r\nIn the client, you&#39;re also doing...\r\n\r\n    String message = fromServerReader.readLine();\r\n\r\ntowards the end, which would then also block, as the server never writes anything.\r\n\r\nYou will also need to add...\r\n\r\n    toServerWriter.flush();\r\n\r\nafter `toServerWriter.println(line);`\r\n\r\nYou should also read through [All About Sockets](https://docs.oracle.com/javase/tutorial/networking/sockets/index.html) and [The try-with-resources Statement](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)","title":"Why won&#39;t my client nor server send messages to each other?","body":"<p>So, in your server code you are doing...</p>\n<pre><code>String message = fromClientReader.readLine();\n\n// Read a line from the keyboard\nString line = fromClientReader.readLine();\n</code></pre>\n<p>This is trying to read from the client twice, the second call is going to block, preventing any additional code from been executed.</p>\n<p>In the client, you're also doing...</p>\n<pre><code>String message = fromServerReader.readLine();\n</code></pre>\n<p>towards the end, which would then also block, as the server never writes anything.</p>\n<p>You will also need to add...</p>\n<pre><code>toServerWriter.flush();\n</code></pre>\n<p>after <code>toServerWriter.println(line);</code></p>\n<p>You should also read through <a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/index.html\" rel=\"nofollow noreferrer\">All About Sockets</a> and <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">The try-with-resources Statement</a></p>\n"}],"owner":{"account_id":29359631,"reputation":1,"user_id":22494649,"display_name":"ali"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693893123,"creation_date":1693786819,"question_id":77034560,"body_markdown":"For my networking course, I am tasked with turning a OneWayMesg (Client sends messages to Server) program to a TwoWayMesg (Client sends messages to Server and Server sends messages to Client).\r\n\r\nIn theory, this should be no more difficult than merely tweaking the C2S code, including the ClientReader to ServerReader and the Client print line to a Server print line. I did so, and while my code throws no errors, in the console I am unable to make the client nor server talk to each other.\r\n\r\nWhere did I mess up in my code?\r\n\r\n\r\n```\r\n// Client.java\r\n\t\t\tBufferedReader fromUserReader = new BufferedReader(\r\n\t\t\t\t\tnew InputStreamReader(System.in));\r\n\r\n\r\n\t\t\t\t\t// Prepare to read from server\r\n\t\t\tBufferedReader fromServerReader = new BufferedReader(\r\n\t\t\t\tnew InputStreamReader(sock.getInputStream()));\r\n\r\n\t\t\t// Keep doing till we get EOF from user\r\n\t\t\twhile (true) {\r\n\t\t\t\t// Read a line from the keyboard\r\n\t\t\t\tString line = fromUserReader.readLine();\r\n\r\n\t\t\t\t// If we get null, it means user is done\r\n\t\t\t\tif (line == null) {\r\n\t\t\t\t\tSystem.out.println(&quot;Closing connection&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Send the line to the server\r\n\t\t\t\ttoServerWriter.println(line);\r\n\r\n\t\t\t\t// Read a message from the client\r\n\t\t\t\tString message = fromServerReader.readLine();\r\n\r\n\t\t\t\t// Display the message\r\n\t\t\t\tSystem.out.println(&quot;Server: &quot; + message);\r\n\t\t\t}\r\n```\r\n\r\n\r\n```\r\n//Server.java\r\ntry {\r\n\t\t\t// Create a server socket with the given port\r\n\t\t\tServerSocket serverSock = new ServerSocket(serverPort);\r\n\t\t\tSystem.out.println(&quot;Waiting for a client ...&quot;);\r\n\r\n\t\t\t// Wait to receive a connection request\r\n\t\t\tSocket clientSock = serverSock.accept();\r\n\t\t\tSystem.out.println(&quot;Connected to a client at (&#39;&quot; +\r\n\t\t\t\t\t\t\t\t\t\t\t\t((InetSocketAddress) clientSock.getRemoteSocketAddress()).getAddress().getHostAddress()\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ &quot;&#39;, &#39;&quot; +\r\n\t\t\t\t\t\t\t\t\t\t\t\t((InetSocketAddress) clientSock.getRemoteSocketAddress()).getPort()\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ &quot;&#39;)&quot;\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t// No other clients, close the server socket\r\n\t\t\tserverSock.close();\r\n\r\n\t\t\t// Prepare to read from client\r\n\t\t\tBufferedReader fromClientReader = new BufferedReader(\r\n\t\t\t\t\tnew InputStreamReader(clientSock.getInputStream()));\r\n\r\n\t\t\t// Keep serving the client\r\n\t\t\twhile (true) {\r\n\t\t\t\t// Read a message from the client\r\n\t\t\t\tString message = fromClientReader.readLine();\r\n\r\n\t\t\t\t// Read a line from the keyboard\r\n\t\t\t\tString line = fromClientReader.readLine();\r\n\r\n\t\t\t\t// If we get null, it means client sent EOF\r\n\t\t\t\tif (message == null) {\r\n\t\t\t\t\tSystem.out.println(&quot;Client closed connection&quot;);\r\n\t\t\t\t\tclientSock.close();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Display the message\r\n\t\t\t\tSystem.out.println(&quot;Client: &quot; + message);\r\n\t\t\t}\r\n```\r\n[The Client console](https://i.stack.imgur.com/rXiH2.png)\r\n[The Server console](https://i.stack.imgur.com/btGBe.png)\r\n\r\nThanks","title":"Why won&#39;t my client nor server send messages to each other?","body":"<p>For my networking course, I am tasked with turning a OneWayMesg (Client sends messages to Server) program to a TwoWayMesg (Client sends messages to Server and Server sends messages to Client).</p>\n<p>In theory, this should be no more difficult than merely tweaking the C2S code, including the ClientReader to ServerReader and the Client print line to a Server print line. I did so, and while my code throws no errors, in the console I am unable to make the client nor server talk to each other.</p>\n<p>Where did I mess up in my code?</p>\n<pre><code>// Client.java\n            BufferedReader fromUserReader = new BufferedReader(\n                    new InputStreamReader(System.in));\n\n\n                    // Prepare to read from server\n            BufferedReader fromServerReader = new BufferedReader(\n                new InputStreamReader(sock.getInputStream()));\n\n            // Keep doing till we get EOF from user\n            while (true) {\n                // Read a line from the keyboard\n                String line = fromUserReader.readLine();\n\n                // If we get null, it means user is done\n                if (line == null) {\n                    System.out.println(&quot;Closing connection&quot;);\n                    break;\n                }\n\n                // Send the line to the server\n                toServerWriter.println(line);\n\n                // Read a message from the client\n                String message = fromServerReader.readLine();\n\n                // Display the message\n                System.out.println(&quot;Server: &quot; + message);\n            }\n</code></pre>\n<pre><code>//Server.java\ntry {\n            // Create a server socket with the given port\n            ServerSocket serverSock = new ServerSocket(serverPort);\n            System.out.println(&quot;Waiting for a client ...&quot;);\n\n            // Wait to receive a connection request\n            Socket clientSock = serverSock.accept();\n            System.out.println(&quot;Connected to a client at ('&quot; +\n                                                ((InetSocketAddress) clientSock.getRemoteSocketAddress()).getAddress().getHostAddress()\n                                                + &quot;', '&quot; +\n                                                ((InetSocketAddress) clientSock.getRemoteSocketAddress()).getPort()\n                                                + &quot;')&quot;\n                                                );\n\n            // No other clients, close the server socket\n            serverSock.close();\n\n            // Prepare to read from client\n            BufferedReader fromClientReader = new BufferedReader(\n                    new InputStreamReader(clientSock.getInputStream()));\n\n            // Keep serving the client\n            while (true) {\n                // Read a message from the client\n                String message = fromClientReader.readLine();\n\n                // Read a line from the keyboard\n                String line = fromClientReader.readLine();\n\n                // If we get null, it means client sent EOF\n                if (message == null) {\n                    System.out.println(&quot;Client closed connection&quot;);\n                    clientSock.close();\n                    break;\n                }\n\n                // Display the message\n                System.out.println(&quot;Client: &quot; + message);\n            }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/rXiH2.png\" rel=\"nofollow noreferrer\">The Client console</a>\n<a href=\"https://i.stack.imgur.com/btGBe.png\" rel=\"nofollow noreferrer\">The Server console</a></p>\n<p>Thanks</p>\n"},{"tags":["java","rabbitmq","amqp","spring-rabbit","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1319489947,"creation_date":1319456291,"answer_id":7875025,"question_id":7849891,"body_markdown":"When doing `ack` immediately after the `get` it works fine. However, in my case, they were separated by a request. And spring&#39;s template closes the channel and connection on each execution. So there are three options:\r\n\r\n- keep one channel and connection open throughout the whole lifetime of the application\r\n- have some kind of conversation-scope (or worst-case: use the session) to store the same channel and reuse it.\r\n- use one channel per request, acknowledge receipt immediately, and store the messages in memory.\r\n\r\nIn the former two cases you can&#39;t do it with spring&#39;s `RabbitTemplate`","title":"RabbitMQ basic.get and acknowledgement","body":"<p>When doing <code>ack</code> immediately after the <code>get</code> it works fine. However, in my case, they were separated by a request. And spring's template closes the channel and connection on each execution. So there are three options:</p>\n\n<ul>\n<li>keep one channel and connection open throughout the whole lifetime of the application</li>\n<li>have some kind of conversation-scope (or worst-case: use the session) to store the same channel and reuse it.</li>\n<li>use one channel per request, acknowledge receipt immediately, and store the messages in memory.</li>\n</ul>\n\n<p>In the former two cases you can't do it with spring's <code>RabbitTemplate</code></p>\n"},{"tags":[],"owner":{"account_id":147226,"reputation":1347,"user_id":358197,"accept_rate":50,"display_name":"Myobis"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1389602383,"creation_date":1389602383,"answer_id":21086902,"question_id":7849891,"body_markdown":"I&#39;m doing the following to mimic **Delaying the ack**:\r\n\r\n### At consumption time ###\r\n 1. Get(consume) the message form the initial Queue.\r\n 2. Create a &quot;PendingAck_123456&quot; Queue.&lt;br/&gt;\r\n123456 is a unique id of the message.&lt;br/&gt;\r\nSet the following properties\r\n- _x-message-ttl_ (to requeue after\r\n    timeout)\r\n- _x-expires_ (to make sure the temp queue will be deleted)\r\n- _x-dead-letter-exchange_ and _x-deal-letter-routing-key_ to **requeue to\r\n    the initial Queue upon TTL expiration**.\r\n 4. Publish the message Pending ack to this &quot;PendingAck_123456&quot; Queue\r\n 5. Ack the message to delete it from the initial queue\r\n\r\n### At Acknowledge time ###\r\n 1. Calculate Queue Name from Message Id and Get from the &quot;PendingAck_123456&quot; Queue\r\n 2. Acknowledge it (no need to call &lt;code&gt;.getBody()&lt;/code&gt; ).&lt;br/&gt;\r\nThat&#39;ll delete it from this pending queue, preventing the TTL to requeue it\r\n\r\n### Remarks ###\r\n - A Queue for only 1 message.. Is that an issue if there are _a lot_ of such Queues ?\r\n - A requeued message will be sent at the queue input side.. not at the queue output (as would do a real ack).. There is an impact on the messages order.\r\n - Message is copied by the application to the Pending Queue.. This is an additional step that may have impacts on the overall performance.\r\n - To mimic a Nack/Reject, you you may want to Copy the message to the Initial Queue, and Ack it from the PendingAck queue. By default, the TTL would do it (later).","title":"RabbitMQ basic.get and acknowledgement","body":"<p>I'm doing the following to mimic <strong>Delaying the ack</strong>:</p>\n\n<h3>At consumption time</h3>\n\n<ol>\n<li>Get(consume) the message form the initial Queue.</li>\n<li>Create a \"PendingAck_123456\" Queue.<br/>\n123456 is a unique id of the message.<br/>\nSet the following properties\n<ul>\n<li><em>x-message-ttl</em> (to requeue after\ntimeout)</li>\n<li><em>x-expires</em> (to make sure the temp queue will be deleted)</li>\n<li><em>x-dead-letter-exchange</em> and <em>x-deal-letter-routing-key</em> to <strong>requeue to\nthe initial Queue upon TTL expiration</strong>.</li>\n</ul></li>\n<li>Publish the message Pending ack to this \"PendingAck_123456\" Queue</li>\n<li>Ack the message to delete it from the initial queue</li>\n</ol>\n\n<h3>At Acknowledge time</h3>\n\n<ol>\n<li>Calculate Queue Name from Message Id and Get from the \"PendingAck_123456\" Queue</li>\n<li>Acknowledge it (no need to call <code>.getBody()</code> ).<br/>\nThat'll delete it from this pending queue, preventing the TTL to requeue it</li>\n</ol>\n\n<h3>Remarks</h3>\n\n<ul>\n<li>A Queue for only 1 message.. Is that an issue if there are <em>a lot</em> of such Queues ?</li>\n<li>A requeued message will be sent at the queue input side.. not at the queue output (as would do a real ack).. There is an impact on the messages order.</li>\n<li>Message is copied by the application to the Pending Queue.. This is an additional step that may have impacts on the overall performance.</li>\n<li>To mimic a Nack/Reject, you you may want to Copy the message to the Initial Queue, and Ack it from the PendingAck queue. By default, the TTL would do it (later).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12521650,"reputation":1,"user_id":9112817,"display_name":"cloud young"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693892373,"creation_date":1693892226,"answer_id":77041954,"question_id":7849891,"body_markdown":"    GetResponse resp = channel.basicGet(queueName, false);\r\n    Envelope envelope = resp.getEnvelope();\r\n    long deliveryTag = envelope.getDeliveryTag();\r\n    channel.basicAck(deveryTag,false)","title":"RabbitMQ basic.get and acknowledgement","body":"<pre><code>GetResponse resp = channel.basicGet(queueName, false);\nEnvelope envelope = resp.getEnvelope();\nlong deliveryTag = envelope.getDeliveryTag();\nchannel.basicAck(deveryTag,false)\n</code></pre>\n"}],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7875025,"answer_count":3,"score":0,"last_activity_date":1693892373,"creation_date":1319202802,"question_id":7849891,"body_markdown":"I&#39;m invoking:\r\n\r\n    GetResponse response = channel.basicGet(&quot;some.queue&quot;, false); // no auto-ack\r\n    ....\r\n    channel.basicAck(deliveryTag, ...);\r\n\r\nHowever, when I invoke `basicGet`, the messages in the queue stay in &quot;Ready&quot;, rather than in &quot;Unacknowledged&quot;. I want them to be in unacknowledged, so that I can either `basic.ack` them (thus discarding them from the queue), or `basic.nack` them","title":"RabbitMQ basic.get and acknowledgement","body":"<p>I'm invoking:</p>\n\n<pre><code>GetResponse response = channel.basicGet(\"some.queue\", false); // no auto-ack\n....\nchannel.basicAck(deliveryTag, ...);\n</code></pre>\n\n<p>However, when I invoke <code>basicGet</code>, the messages in the queue stay in \"Ready\", rather than in \"Unacknowledged\". I want them to be in unacknowledged, so that I can either <code>basic.ack</code> them (thus discarding them from the queue), or <code>basic.nack</code> them</p>\n"},{"tags":["java","android","vlc","libvlc"],"owner":{"account_id":8478545,"reputation":53,"user_id":6358924,"display_name":"Virtroid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693891195,"creation_date":1693891195,"question_id":77041890,"body_markdown":"I&#39;m developing a demo version of the media player using libvlc on android, and I&#39;m using GLSurfaceView to render the video frame.\r\nRecently I&#39;ve found that when I was playing some high-framerate videos (mostly of them 120fps) the GLSurfaceView got stuck but audio still going. I don&#39;t know to figure out what&#39;s going on. \r\n\r\n**libvlc param settings**:\r\n```java\r\nfinal ArrayList&lt;String&gt; args = new ArrayList&lt;&gt;();\r\nargs.add(&quot;-vvv&quot;);\r\nargs.add(&quot;--file-caching=30000&quot;);\r\nargs.add(&quot;--network-caching=30000&quot;);\r\nargs.add(&quot;--rtsp-tcp&quot;);\r\n//args.add(&quot;--rtsp-frame-buffer-size=1024000&quot;);\r\nargs.add(&quot;--no-ps-trust-timestamps&quot;);\r\nargs.add(&quot;--no-sub-autodetect-file&quot;);\r\n\r\nmediaEventListener = new MediaEventListener();\r\nmLibVLC = new LibVLC(context, args);\r\nplayer = new MediaPlayer(mLibVLC);\r\nplayer.setEventListener(this);\r\n```\r\n\r\n**TestGLSurfaceView**:\r\n```java\r\npublic class TestGLSurfaceView extends GLSurfaceView implements GLSurfaceView.Renderer, SurfaceTexture.OnFrameAvailableListener {\r\n    private GLESRenderer mRenderer;\r\n    private boolean mUpdateFrame = false;\r\n\r\n    public TestGLSurfaceView(Context context) {\r\n        super(context);\r\n        mRenderer = new GLESRenderer(context);\r\n        setEGLContextClientVersion(3);\r\n        setRenderer(this);\r\n    }\r\n\r\n    @Override\r\n    public void onSurfaceCreated(GL10 gl10, EGLConfig eglConfig) {\r\n        mRenderer.testInit(this);\r\n    }\r\n\r\n    @Override\r\n    public void onSurfaceChanged(GL10 gl10, int i, int i1) {\r\n        mRenderer.setBufferSize(i, i1);\r\n    }\r\n\r\n    @Override\r\n    public void onDrawFrame(GL10 gl10) {\r\n        synchronized (this) {\r\n            if(mUpdateFrame) {\r\n                mRenderer.updateSurfaceTexture();\r\n                mUpdateFrame = false;\r\n            }\r\n        }\r\n\r\n        mRenderer.drawFrame();\r\n    }\r\n\r\n    @Override\r\n    public void onFrameAvailable(SurfaceTexture surfaceTexture) {\r\n        mUpdateFrame = true;\r\n    }\r\n\r\n    public IMediaPlayer getPlayer() {\r\n        return mRenderer.getMediaPlayer();\r\n    }\r\n\r\n    public void setVideoPath(String path) {\r\n        mRenderer.setVideoPath(path);\r\n    }\r\n}\r\n```\r\n\r\n**GLESRenderer**:\r\n\r\n```java\r\npublic class GLESRenderer {\r\n    private final String VSH_CODE =\r\n            &quot;uniform mat4 uSTMatrix;\\n&quot;+\r\n                    &quot;attribute vec4 aPosition;\\n&quot;+\r\n                    &quot;attribute vec4 aTexCoord;\\n&quot;+\r\n                    &quot;varying vec2 vTexCoord;\\n&quot;+\r\n                    &quot;void main(){\\n&quot;+\r\n                    &quot;   vTexCoord = aTexCoord.xy;\\n&quot;+\r\n                    &quot;   gl_Position = aPosition;\\n&quot;+\r\n                    &quot;}&quot;;\r\n\r\n    private  final String FSH_CODE =\r\n            &quot;#extension GL_OES_EGL_image_external : require\\n&quot;+\r\n                    &quot;precision mediump float;\\n&quot;+\r\n                    &quot;varying vec2 vTexCoord;\\n&quot;+\r\n                    //&quot;uniform mat4 uColorMatrix;\\n&quot;+\r\n                    &quot;uniform samplerExternalOES sTexture;\\n&quot;+\r\n                    &quot;void main() {\\n&quot;+\r\n                    //&quot; gl_FragColor = uColorMatrix*texture2D(sTexture, vTexCoord).rgba;\\n&quot;+\r\n                    &quot;   gl_FragColor = texture2D(sTexture, vTexCoord).rgba;\\n&quot;+\r\n                    &quot;}&quot;;\r\n    private final String VSH_2D_CODE =\r\n            &quot;attribute vec4 aPosition; &quot; +\r\n                    &quot;attribute vec2 aTexCoord; &quot; +\r\n                    &quot;varying vec2 vTexCoord; &quot; +\r\n                    &quot;void main() { &quot; +\r\n                    &quot;    vTexCoord = aTexCoord; &quot; +\r\n                    &quot;    gl_Position = aPosition; &quot; +\r\n                    &quot;}&quot;;\r\n\r\n    private final String FSH_2D_CODE =\r\n            &quot;precision mediump float;\\n&quot; +\r\n            &quot;varying vec2 vTexCoord;\\n&quot; +\r\n            &quot;uniform sampler2D sTexture;\\n&quot; +\r\n            &quot;void main() {\\n&quot; +\r\n            &quot;   gl_FragColor = texture2D(sTexture, vTexCoord);\\n&quot; +\r\n            //&quot;    gl_FragColor = vec4(color, color, color, 1);\\n&quot; +\r\n            &quot;}&quot;;\r\n\r\n\r\n    //顶点着色器坐标，z为0\r\n    private final float[] vertices = {\r\n            -1.0f, -1.0f, 0.0f,\r\n            1.0f, -1.0f, 0.0f,\r\n            -1.0f, 1.0f, 0.0f,\r\n            1.0f, 1.0f, 0.0f,\r\n    };\r\n    //纹理坐标，texture坐标ST，需要根据图像进行转换\r\n    private final float[] fboTexCoords = {\r\n            0.0f, 0.0f,\r\n            1.0f, 0.0f,\r\n            0.0f, 1.0f,\r\n            1.0f, 1.0f\r\n    };\r\n\r\n    private final float[] displayTexCoords = {\r\n            0.0f, 1.0f,\r\n            1.0f, 1.0f,\r\n            0.0f, 0.0f,\r\n            1.0f, 0.0f\r\n    };\r\n\r\n    private int mOESTextureId = -1;\r\n    private int mFrameTextureId = -1;\r\n    private int mFBOId = -1;\r\n    private int mOESProgramId;\r\n    private int mFrameProgramId;\r\n    private FloatBuffer vertexBuffer;\r\n    private int mVertexBufferId;\r\n    private FloatBuffer displayVertexBuffer;\r\n    private int mDisplayBufferId;\r\n    private FloatBuffer fboVertexBuffer;\r\n    private int mFboVertexBufferId;\r\n    private int mSTMatrixHandle;\r\n    private int aPositionOES;\r\n    private int aTexCoordOES;\r\n    private int sTextureOES;\r\n    private int aPosition2D;\r\n    private int aTexCoord2D;\r\n    private int sTexture2D;\r\n    private float[] mSTMatrix = new float[16];\r\n    private SurfaceTexture mSurfaceTexture;\r\n    private Surface mSurface;\r\n    private IMediaPlayer mediaPlayer;\r\n    private Context mContext;\r\n    private int mWidth;\r\n    private int mHeight;\r\n    private boolean mUpdateFrame = false;\r\n    private String mVideoPath = null;\r\n\r\n    public GLESRenderer(Context context) {\r\n        super();\r\n        this.mContext = context;\r\n    }\r\n\r\n    public IMediaPlayer getMediaPlayer() {\r\n        return mediaPlayer;\r\n    }\r\n\r\n    public void testInit(SurfaceTexture.OnFrameAvailableListener listener) {\r\n        initGLProgram();\r\n        createSurfaceTexture(listener);\r\n        createTexture2D();\r\n        mediaPlayer = new VLCMediaPlayer(mContext);\r\n        mediaPlayer.setSurfaceTexture(mSurfaceTexture);\r\n        try {\r\n            if(mVideoPath != null) {\r\n                mediaPlayer.setDataSource(mContext, Uri.parse(mVideoPath));\r\n            } else {\r\n                mediaPlayer.setDataSource(mContext, Uri.parse(&quot;file:///storage/emulated/0/Movies/FrameTest.mp4&quot;));\r\n            }\r\n            mediaPlayer.prepareAsync();\r\n            mediaPlayer.start();\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void init(SurfaceTexture.OnFrameAvailableListener listener) {\r\n        initGLProgram();\r\n        createSurfaceTexture(listener);\r\n    }\r\n\r\n    public void setVideoPath(String path) {\r\n        mVideoPath = path;\r\n    }\r\n\r\n    public void setBufferSize(int width, int height) {\r\n        mWidth = width;\r\n        mHeight = height;\r\n\r\n        mediaPlayer.setWindowSize(width, height);\r\n\r\n        GLES30.glBindTexture(GLES30.GL_TEXTURE_2D, mFrameTextureId);\r\n        GLES30.glTexImage2D(GLES30.GL_TEXTURE_2D, 0, GLES30.GL_RGBA, mWidth, mHeight, 0, GLES30.GL_RGBA, GLES30.GL_UNSIGNED_BYTE, null);\r\n        GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES30.GL_LINEAR);\r\n        GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MAG_FILTER, GLES30.GL_LINEAR);\r\n        GLES30.glBindTexture(GLES30.GL_TEXTURE_2D, 0);\r\n        //MPVLib.setPropertyString(&quot;android-surface-size&quot;,  &quot;320x176&quot;);\r\n    }\r\n\r\n    public void drawFrame() {\r\n        synchronized (this) {\r\n            if(mUpdateFrame) {\r\n                mSurfaceTexture.updateTexImage();\r\n                mSurfaceTexture.getTransformMatrix(mSTMatrix);\r\n                mUpdateFrame = false;\r\n            }\r\n\r\n            mSurfaceTexture.getTransformMatrix(mSTMatrix);\r\n\r\n            GLES30.glViewport(0, 0, mWidth, mHeight);\r\n\r\n            GLES30.glClearColor(0, 0, 0, 1);\r\n            GLES30.glClear(GLES30.GL_DEPTH_BUFFER_BIT | GLES30.GL_COLOR_BUFFER_BIT);\r\n\r\n            // Draw to OES Texture\r\n            GLES30.glUseProgram(mOESProgramId);\r\n//            GLES30.glBindFramebuffer(GLES30.GL_FRAMEBUFFER, mFBOId);\r\n//            GLES30.glFramebufferTexture2D(GLES30.GL_FRAMEBUFFER, GLES30.GL_COLOR_ATTACHMENT0, GLES30.GL_TEXTURE_2D, mFrameTextureId, 0);\r\n            GLES30.glUniformMatrix4fv(mSTMatrixHandle, 1, false, mSTMatrix, 0);\r\n            GLES30.glEnableVertexAttribArray(aPositionOES);\r\n            GLES30.glEnableVertexAttribArray(aTexCoordOES);\r\n            GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, mVertexBufferId);\r\n            GLES30.glVertexAttribPointer(aPositionOES, 3, GLES30.GL_FLOAT, false, 0, 0);\r\n            GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, mFboVertexBufferId);\r\n            GLES30.glVertexAttribPointer(aTexCoordOES, 2, GLES30.GL_FLOAT, false, 0, 0);\r\n            GLES30.glActiveTexture(GLES30.GL_TEXTURE0);\r\n            GLES30.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, mOESTextureId);\r\n            GLES30.glUniform1i(sTextureOES, 0);\r\n            GLES30.glDrawArrays(GLES30.GL_TRIANGLE_STRIP, 0, 4);\r\n            GLES30.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, 0);\r\n//            GLES30.glBindFramebuffer(GLES30.GL_FRAMEBUFFER, 0);\r\n            GLES30.glDisableVertexAttribArray(aPositionOES);\r\n            GLES30.glDisableVertexAttribArray(aTexCoordOES);\r\n\r\n            // Draw to Texture 2D\r\n            GLES30.glUseProgram(mFrameProgramId);\r\n            GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, mVertexBufferId);\r\n            GLES30.glVertexAttribPointer(aPosition2D, 3, GLES30.GL_FLOAT, false, 0, 0);\r\n            GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, mDisplayBufferId);\r\n            GLES30.glVertexAttribPointer(aTexCoord2D, 2, GLES30.GL_FLOAT, false, 0, 0);\r\n            GLES30.glActiveTexture(GLES30.GL_TEXTURE0);\r\n            GLES30.glBindTexture(GLES30.GL_TEXTURE_2D, mFrameTextureId);\r\n            GLES30.glUniform1i(sTexture2D, 0);\r\n            GLES30.glDrawArrays(GLES30.GL_TRIANGLE_STRIP, 0, 4);\r\n            GLES30.glBindTexture(GLES30.GL_TEXTURE_2D, 0);\r\n            GLES30.glDisableVertexAttribArray(aPosition2D);\r\n            GLES30.glDisableVertexAttribArray(aTexCoord2D);\r\n        }\r\n    }\r\n\r\n    private void initGLProgram() {\r\n        // Shader programs\r\n        mOESProgramId = GLESUtils.buildProgram(VSH_CODE, FSH_CODE);\r\n        mFrameProgramId = GLESUtils.buildProgram(VSH_2D_CODE, FSH_2D_CODE);\r\n\r\n        // Shader property location\r\n        mSTMatrixHandle = GLES30.glGetUniformLocation(mOESProgramId, &quot;uSTMatrix&quot;);\r\n        aPositionOES = GLES30.glGetAttribLocation(mOESProgramId, &quot;aPosition&quot;);\r\n        aTexCoordOES = GLES30.glGetAttribLocation(mOESProgramId,&quot;aTexCoord&quot;);\r\n        sTextureOES = GLES30.glGetAttribLocation(mOESProgramId, &quot;sTexture&quot;);\r\n        aPosition2D = GLES30.glGetAttribLocation(mFrameProgramId, &quot;aPosition&quot;);\r\n        aTexCoord2D = GLES30.glGetAttribLocation(mFrameProgramId,&quot;aTexCoord&quot;);\r\n        sTexture2D = GLES30.glGetAttribLocation(mFrameProgramId, &quot;sTexture&quot;);\r\n\r\n        // Buffers\r\n        int[] vbos = new int[3];\r\n        GLES30.glGenBuffers(3, vbos, 0);\r\n        vertexBuffer = ByteBuffer.allocateDirect(vertices.length * 4)\r\n                .order(ByteOrder.nativeOrder())\r\n                .asFloatBuffer()\r\n                .put(vertices);\r\n        vertexBuffer.position(0);\r\n        mVertexBufferId = vbos[0];\r\n        GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, mVertexBufferId);\r\n        GLES30.glBufferData(GLES30.GL_ARRAY_BUFFER, vertices.length * 4, vertexBuffer, GLES30.GL_STATIC_DRAW);\r\n\r\n        displayVertexBuffer = ByteBuffer.allocateDirect(displayTexCoords.length * 4)\r\n                .order(ByteOrder.nativeOrder())\r\n                .asFloatBuffer()\r\n                .put(displayTexCoords);\r\n        displayVertexBuffer.position(0);\r\n        mDisplayBufferId = vbos[1];\r\n        GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, mDisplayBufferId);\r\n        GLES30.glBufferData(GLES30.GL_ARRAY_BUFFER, displayTexCoords.length * 4, displayVertexBuffer, GLES30.GL_STATIC_DRAW);\r\n\r\n        fboVertexBuffer = ByteBuffer.allocateDirect(fboTexCoords.length * 4)\r\n                .order(ByteOrder.nativeOrder())\r\n                .asFloatBuffer()\r\n                .put(fboTexCoords);\r\n        fboVertexBuffer.position(0);\r\n        mFboVertexBufferId = vbos[2];\r\n        GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, mFboVertexBufferId);\r\n        GLES30.glBufferData(GLES30.GL_ARRAY_BUFFER, fboTexCoords.length * 4, fboVertexBuffer, GLES30.GL_STATIC_DRAW);\r\n\r\n        GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, 0);\r\n    }\r\n\r\n    public SurfaceTexture getSurfaceTexture() {\r\n        return mSurfaceTexture;\r\n    }\r\n\r\n    public void setUnityTexture(int texId) {\r\n        mFrameTextureId = texId;\r\n    }\r\n\r\n    public void createSurfaceTexture(SurfaceTexture.OnFrameAvailableListener callback) {\r\n        if (mOESTextureId == -1) {\r\n            mOESTextureId = createTextureOES();\r\n        }\r\n\r\n        if(mFBOId == -1) {\r\n            mFBOId = createFramebufferObject();\r\n        }\r\n\r\n        mSurfaceTexture = new SurfaceTexture(mOESTextureId);\r\n        mSurfaceTexture.setOnFrameAvailableListener(callback);\r\n        mSurface = new Surface(mSurfaceTexture);\r\n        //mediaPlayer.setSurface(mSurface);\r\n    }\r\n\r\n    public void updateSurfaceTexture() {\r\n        if(mSurfaceTexture != null) {\r\n            mSurfaceTexture.updateTexImage();\r\n        }\r\n    }\r\n\r\n    public int createTextureOES() {\r\n        int[] textures = new int[1];\r\n        // GL_TEXTURE_EXTERNAL_OES\r\n        GLES30.glGenTextures(1, textures, 0);\r\n        mOESTextureId = textures[0];\r\n        GLES30.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, mOESTextureId);\r\n        GLES30.glTexParameterf(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES30.GL_TEXTURE_MIN_FILTER, GLES30.GL_LINEAR);\r\n        GLES30.glTexParameterf(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES30.GL_TEXTURE_MAG_FILTER, GLES30.GL_LINEAR);\r\n        GLES30.glTexParameteri(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES30.GL_TEXTURE_WRAP_S, GLES30.GL_REPEAT);\r\n        GLES30.glTexParameteri(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES30.GL_TEXTURE_WRAP_T, GLES30.GL_REPEAT);\r\n\r\n        return mOESTextureId;\r\n    }\r\n\r\n    public int createTexture2D() {\r\n        int[] textures = new int[1];\r\n        // GL_TEXTURE_2D\r\n        GLES30.glGenTextures(1, textures, 0);\r\n        mFrameTextureId = textures[0];\r\n\r\n        return mFrameTextureId;\r\n    }\r\n\r\n    public int createFramebufferObject() {\r\n        // FBO\r\n        int[] fbos = new int[1];\r\n        GLES30.glGenFramebuffers(1, fbos, 0);\r\n        mFBOId = fbos[0];\r\n        int status = GLES30.glCheckFramebufferStatus(GLES30.GL_FRAMEBUFFER);\r\n        if(status != GLES30.GL_FRAMEBUFFER_COMPLETE) {\r\n            Log.d(&quot;FBO&quot;, &quot;FBO not ready! &quot; + status);\r\n        }\r\n        return mFBOId;\r\n    }\r\n\r\n    public void destroy() {\r\n        if(mOESTextureId != -1) {\r\n            int[] textures = new int[1];\r\n            textures[0] = mOESTextureId;\r\n            GLES20.glDeleteTextures(1, textures, 0);\r\n            mOESTextureId = -1;\r\n        }\r\n    }\r\n\r\n    public void unload() {\r\n        if (mSurface != null) {\r\n            mSurface.release();\r\n            mSurface = null;\r\n        }\r\n\r\n        if (mSurfaceTexture != null) {\r\n            mSurfaceTexture.release();\r\n            mSurfaceTexture = null;\r\n        }\r\n\r\n        destroy();\r\n    }\r\n}\r\n```\r\n```","title":"60fps or 120fps video screen freeze when using libvlc on android","body":"<p>I'm developing a demo version of the media player using libvlc on android, and I'm using GLSurfaceView to render the video frame.\nRecently I've found that when I was playing some high-framerate videos (mostly of them 120fps) the GLSurfaceView got stuck but audio still going. I don't know to figure out what's going on.</p>\n<p><strong>libvlc param settings</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final ArrayList&lt;String&gt; args = new ArrayList&lt;&gt;();\nargs.add(&quot;-vvv&quot;);\nargs.add(&quot;--file-caching=30000&quot;);\nargs.add(&quot;--network-caching=30000&quot;);\nargs.add(&quot;--rtsp-tcp&quot;);\n//args.add(&quot;--rtsp-frame-buffer-size=1024000&quot;);\nargs.add(&quot;--no-ps-trust-timestamps&quot;);\nargs.add(&quot;--no-sub-autodetect-file&quot;);\n\nmediaEventListener = new MediaEventListener();\nmLibVLC = new LibVLC(context, args);\nplayer = new MediaPlayer(mLibVLC);\nplayer.setEventListener(this);\n</code></pre>\n<p><strong>TestGLSurfaceView</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestGLSurfaceView extends GLSurfaceView implements GLSurfaceView.Renderer, SurfaceTexture.OnFrameAvailableListener {\n    private GLESRenderer mRenderer;\n    private boolean mUpdateFrame = false;\n\n    public TestGLSurfaceView(Context context) {\n        super(context);\n        mRenderer = new GLESRenderer(context);\n        setEGLContextClientVersion(3);\n        setRenderer(this);\n    }\n\n    @Override\n    public void onSurfaceCreated(GL10 gl10, EGLConfig eglConfig) {\n        mRenderer.testInit(this);\n    }\n\n    @Override\n    public void onSurfaceChanged(GL10 gl10, int i, int i1) {\n        mRenderer.setBufferSize(i, i1);\n    }\n\n    @Override\n    public void onDrawFrame(GL10 gl10) {\n        synchronized (this) {\n            if(mUpdateFrame) {\n                mRenderer.updateSurfaceTexture();\n                mUpdateFrame = false;\n            }\n        }\n\n        mRenderer.drawFrame();\n    }\n\n    @Override\n    public void onFrameAvailable(SurfaceTexture surfaceTexture) {\n        mUpdateFrame = true;\n    }\n\n    public IMediaPlayer getPlayer() {\n        return mRenderer.getMediaPlayer();\n    }\n\n    public void setVideoPath(String path) {\n        mRenderer.setVideoPath(path);\n    }\n}\n</code></pre>\n<p><strong>GLESRenderer</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GLESRenderer {\n    private final String VSH_CODE =\n            &quot;uniform mat4 uSTMatrix;\\n&quot;+\n                    &quot;attribute vec4 aPosition;\\n&quot;+\n                    &quot;attribute vec4 aTexCoord;\\n&quot;+\n                    &quot;varying vec2 vTexCoord;\\n&quot;+\n                    &quot;void main(){\\n&quot;+\n                    &quot;   vTexCoord = aTexCoord.xy;\\n&quot;+\n                    &quot;   gl_Position = aPosition;\\n&quot;+\n                    &quot;}&quot;;\n\n    private  final String FSH_CODE =\n            &quot;#extension GL_OES_EGL_image_external : require\\n&quot;+\n                    &quot;precision mediump float;\\n&quot;+\n                    &quot;varying vec2 vTexCoord;\\n&quot;+\n                    //&quot;uniform mat4 uColorMatrix;\\n&quot;+\n                    &quot;uniform samplerExternalOES sTexture;\\n&quot;+\n                    &quot;void main() {\\n&quot;+\n                    //&quot; gl_FragColor = uColorMatrix*texture2D(sTexture, vTexCoord).rgba;\\n&quot;+\n                    &quot;   gl_FragColor = texture2D(sTexture, vTexCoord).rgba;\\n&quot;+\n                    &quot;}&quot;;\n    private final String VSH_2D_CODE =\n            &quot;attribute vec4 aPosition; &quot; +\n                    &quot;attribute vec2 aTexCoord; &quot; +\n                    &quot;varying vec2 vTexCoord; &quot; +\n                    &quot;void main() { &quot; +\n                    &quot;    vTexCoord = aTexCoord; &quot; +\n                    &quot;    gl_Position = aPosition; &quot; +\n                    &quot;}&quot;;\n\n    private final String FSH_2D_CODE =\n            &quot;precision mediump float;\\n&quot; +\n            &quot;varying vec2 vTexCoord;\\n&quot; +\n            &quot;uniform sampler2D sTexture;\\n&quot; +\n            &quot;void main() {\\n&quot; +\n            &quot;   gl_FragColor = texture2D(sTexture, vTexCoord);\\n&quot; +\n            //&quot;    gl_FragColor = vec4(color, color, color, 1);\\n&quot; +\n            &quot;}&quot;;\n\n\n    //顶点着色器坐标，z为0\n    private final float[] vertices = {\n            -1.0f, -1.0f, 0.0f,\n            1.0f, -1.0f, 0.0f,\n            -1.0f, 1.0f, 0.0f,\n            1.0f, 1.0f, 0.0f,\n    };\n    //纹理坐标，texture坐标ST，需要根据图像进行转换\n    private final float[] fboTexCoords = {\n            0.0f, 0.0f,\n            1.0f, 0.0f,\n            0.0f, 1.0f,\n            1.0f, 1.0f\n    };\n\n    private final float[] displayTexCoords = {\n            0.0f, 1.0f,\n            1.0f, 1.0f,\n            0.0f, 0.0f,\n            1.0f, 0.0f\n    };\n\n    private int mOESTextureId = -1;\n    private int mFrameTextureId = -1;\n    private int mFBOId = -1;\n    private int mOESProgramId;\n    private int mFrameProgramId;\n    private FloatBuffer vertexBuffer;\n    private int mVertexBufferId;\n    private FloatBuffer displayVertexBuffer;\n    private int mDisplayBufferId;\n    private FloatBuffer fboVertexBuffer;\n    private int mFboVertexBufferId;\n    private int mSTMatrixHandle;\n    private int aPositionOES;\n    private int aTexCoordOES;\n    private int sTextureOES;\n    private int aPosition2D;\n    private int aTexCoord2D;\n    private int sTexture2D;\n    private float[] mSTMatrix = new float[16];\n    private SurfaceTexture mSurfaceTexture;\n    private Surface mSurface;\n    private IMediaPlayer mediaPlayer;\n    private Context mContext;\n    private int mWidth;\n    private int mHeight;\n    private boolean mUpdateFrame = false;\n    private String mVideoPath = null;\n\n    public GLESRenderer(Context context) {\n        super();\n        this.mContext = context;\n    }\n\n    public IMediaPlayer getMediaPlayer() {\n        return mediaPlayer;\n    }\n\n    public void testInit(SurfaceTexture.OnFrameAvailableListener listener) {\n        initGLProgram();\n        createSurfaceTexture(listener);\n        createTexture2D();\n        mediaPlayer = new VLCMediaPlayer(mContext);\n        mediaPlayer.setSurfaceTexture(mSurfaceTexture);\n        try {\n            if(mVideoPath != null) {\n                mediaPlayer.setDataSource(mContext, Uri.parse(mVideoPath));\n            } else {\n                mediaPlayer.setDataSource(mContext, Uri.parse(&quot;file:///storage/emulated/0/Movies/FrameTest.mp4&quot;));\n            }\n            mediaPlayer.prepareAsync();\n            mediaPlayer.start();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void init(SurfaceTexture.OnFrameAvailableListener listener) {\n        initGLProgram();\n        createSurfaceTexture(listener);\n    }\n\n    public void setVideoPath(String path) {\n        mVideoPath = path;\n    }\n\n    public void setBufferSize(int width, int height) {\n        mWidth = width;\n        mHeight = height;\n\n        mediaPlayer.setWindowSize(width, height);\n\n        GLES30.glBindTexture(GLES30.GL_TEXTURE_2D, mFrameTextureId);\n        GLES30.glTexImage2D(GLES30.GL_TEXTURE_2D, 0, GLES30.GL_RGBA, mWidth, mHeight, 0, GLES30.GL_RGBA, GLES30.GL_UNSIGNED_BYTE, null);\n        GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES30.GL_LINEAR);\n        GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MAG_FILTER, GLES30.GL_LINEAR);\n        GLES30.glBindTexture(GLES30.GL_TEXTURE_2D, 0);\n        //MPVLib.setPropertyString(&quot;android-surface-size&quot;,  &quot;320x176&quot;);\n    }\n\n    public void drawFrame() {\n        synchronized (this) {\n            if(mUpdateFrame) {\n                mSurfaceTexture.updateTexImage();\n                mSurfaceTexture.getTransformMatrix(mSTMatrix);\n                mUpdateFrame = false;\n            }\n\n            mSurfaceTexture.getTransformMatrix(mSTMatrix);\n\n            GLES30.glViewport(0, 0, mWidth, mHeight);\n\n            GLES30.glClearColor(0, 0, 0, 1);\n            GLES30.glClear(GLES30.GL_DEPTH_BUFFER_BIT | GLES30.GL_COLOR_BUFFER_BIT);\n\n            // Draw to OES Texture\n            GLES30.glUseProgram(mOESProgramId);\n//            GLES30.glBindFramebuffer(GLES30.GL_FRAMEBUFFER, mFBOId);\n//            GLES30.glFramebufferTexture2D(GLES30.GL_FRAMEBUFFER, GLES30.GL_COLOR_ATTACHMENT0, GLES30.GL_TEXTURE_2D, mFrameTextureId, 0);\n            GLES30.glUniformMatrix4fv(mSTMatrixHandle, 1, false, mSTMatrix, 0);\n            GLES30.glEnableVertexAttribArray(aPositionOES);\n            GLES30.glEnableVertexAttribArray(aTexCoordOES);\n            GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, mVertexBufferId);\n            GLES30.glVertexAttribPointer(aPositionOES, 3, GLES30.GL_FLOAT, false, 0, 0);\n            GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, mFboVertexBufferId);\n            GLES30.glVertexAttribPointer(aTexCoordOES, 2, GLES30.GL_FLOAT, false, 0, 0);\n            GLES30.glActiveTexture(GLES30.GL_TEXTURE0);\n            GLES30.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, mOESTextureId);\n            GLES30.glUniform1i(sTextureOES, 0);\n            GLES30.glDrawArrays(GLES30.GL_TRIANGLE_STRIP, 0, 4);\n            GLES30.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, 0);\n//            GLES30.glBindFramebuffer(GLES30.GL_FRAMEBUFFER, 0);\n            GLES30.glDisableVertexAttribArray(aPositionOES);\n            GLES30.glDisableVertexAttribArray(aTexCoordOES);\n\n            // Draw to Texture 2D\n            GLES30.glUseProgram(mFrameProgramId);\n            GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, mVertexBufferId);\n            GLES30.glVertexAttribPointer(aPosition2D, 3, GLES30.GL_FLOAT, false, 0, 0);\n            GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, mDisplayBufferId);\n            GLES30.glVertexAttribPointer(aTexCoord2D, 2, GLES30.GL_FLOAT, false, 0, 0);\n            GLES30.glActiveTexture(GLES30.GL_TEXTURE0);\n            GLES30.glBindTexture(GLES30.GL_TEXTURE_2D, mFrameTextureId);\n            GLES30.glUniform1i(sTexture2D, 0);\n            GLES30.glDrawArrays(GLES30.GL_TRIANGLE_STRIP, 0, 4);\n            GLES30.glBindTexture(GLES30.GL_TEXTURE_2D, 0);\n            GLES30.glDisableVertexAttribArray(aPosition2D);\n            GLES30.glDisableVertexAttribArray(aTexCoord2D);\n        }\n    }\n\n    private void initGLProgram() {\n        // Shader programs\n        mOESProgramId = GLESUtils.buildProgram(VSH_CODE, FSH_CODE);\n        mFrameProgramId = GLESUtils.buildProgram(VSH_2D_CODE, FSH_2D_CODE);\n\n        // Shader property location\n        mSTMatrixHandle = GLES30.glGetUniformLocation(mOESProgramId, &quot;uSTMatrix&quot;);\n        aPositionOES = GLES30.glGetAttribLocation(mOESProgramId, &quot;aPosition&quot;);\n        aTexCoordOES = GLES30.glGetAttribLocation(mOESProgramId,&quot;aTexCoord&quot;);\n        sTextureOES = GLES30.glGetAttribLocation(mOESProgramId, &quot;sTexture&quot;);\n        aPosition2D = GLES30.glGetAttribLocation(mFrameProgramId, &quot;aPosition&quot;);\n        aTexCoord2D = GLES30.glGetAttribLocation(mFrameProgramId,&quot;aTexCoord&quot;);\n        sTexture2D = GLES30.glGetAttribLocation(mFrameProgramId, &quot;sTexture&quot;);\n\n        // Buffers\n        int[] vbos = new int[3];\n        GLES30.glGenBuffers(3, vbos, 0);\n        vertexBuffer = ByteBuffer.allocateDirect(vertices.length * 4)\n                .order(ByteOrder.nativeOrder())\n                .asFloatBuffer()\n                .put(vertices);\n        vertexBuffer.position(0);\n        mVertexBufferId = vbos[0];\n        GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, mVertexBufferId);\n        GLES30.glBufferData(GLES30.GL_ARRAY_BUFFER, vertices.length * 4, vertexBuffer, GLES30.GL_STATIC_DRAW);\n\n        displayVertexBuffer = ByteBuffer.allocateDirect(displayTexCoords.length * 4)\n                .order(ByteOrder.nativeOrder())\n                .asFloatBuffer()\n                .put(displayTexCoords);\n        displayVertexBuffer.position(0);\n        mDisplayBufferId = vbos[1];\n        GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, mDisplayBufferId);\n        GLES30.glBufferData(GLES30.GL_ARRAY_BUFFER, displayTexCoords.length * 4, displayVertexBuffer, GLES30.GL_STATIC_DRAW);\n\n        fboVertexBuffer = ByteBuffer.allocateDirect(fboTexCoords.length * 4)\n                .order(ByteOrder.nativeOrder())\n                .asFloatBuffer()\n                .put(fboTexCoords);\n        fboVertexBuffer.position(0);\n        mFboVertexBufferId = vbos[2];\n        GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, mFboVertexBufferId);\n        GLES30.glBufferData(GLES30.GL_ARRAY_BUFFER, fboTexCoords.length * 4, fboVertexBuffer, GLES30.GL_STATIC_DRAW);\n\n        GLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, 0);\n    }\n\n    public SurfaceTexture getSurfaceTexture() {\n        return mSurfaceTexture;\n    }\n\n    public void setUnityTexture(int texId) {\n        mFrameTextureId = texId;\n    }\n\n    public void createSurfaceTexture(SurfaceTexture.OnFrameAvailableListener callback) {\n        if (mOESTextureId == -1) {\n            mOESTextureId = createTextureOES();\n        }\n\n        if(mFBOId == -1) {\n            mFBOId = createFramebufferObject();\n        }\n\n        mSurfaceTexture = new SurfaceTexture(mOESTextureId);\n        mSurfaceTexture.setOnFrameAvailableListener(callback);\n        mSurface = new Surface(mSurfaceTexture);\n        //mediaPlayer.setSurface(mSurface);\n    }\n\n    public void updateSurfaceTexture() {\n        if(mSurfaceTexture != null) {\n            mSurfaceTexture.updateTexImage();\n        }\n    }\n\n    public int createTextureOES() {\n        int[] textures = new int[1];\n        // GL_TEXTURE_EXTERNAL_OES\n        GLES30.glGenTextures(1, textures, 0);\n        mOESTextureId = textures[0];\n        GLES30.glBindTexture(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, mOESTextureId);\n        GLES30.glTexParameterf(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES30.GL_TEXTURE_MIN_FILTER, GLES30.GL_LINEAR);\n        GLES30.glTexParameterf(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES30.GL_TEXTURE_MAG_FILTER, GLES30.GL_LINEAR);\n        GLES30.glTexParameteri(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES30.GL_TEXTURE_WRAP_S, GLES30.GL_REPEAT);\n        GLES30.glTexParameteri(GLES11Ext.GL_TEXTURE_EXTERNAL_OES, GLES30.GL_TEXTURE_WRAP_T, GLES30.GL_REPEAT);\n\n        return mOESTextureId;\n    }\n\n    public int createTexture2D() {\n        int[] textures = new int[1];\n        // GL_TEXTURE_2D\n        GLES30.glGenTextures(1, textures, 0);\n        mFrameTextureId = textures[0];\n\n        return mFrameTextureId;\n    }\n\n    public int createFramebufferObject() {\n        // FBO\n        int[] fbos = new int[1];\n        GLES30.glGenFramebuffers(1, fbos, 0);\n        mFBOId = fbos[0];\n        int status = GLES30.glCheckFramebufferStatus(GLES30.GL_FRAMEBUFFER);\n        if(status != GLES30.GL_FRAMEBUFFER_COMPLETE) {\n            Log.d(&quot;FBO&quot;, &quot;FBO not ready! &quot; + status);\n        }\n        return mFBOId;\n    }\n\n    public void destroy() {\n        if(mOESTextureId != -1) {\n            int[] textures = new int[1];\n            textures[0] = mOESTextureId;\n            GLES20.glDeleteTextures(1, textures, 0);\n            mOESTextureId = -1;\n        }\n    }\n\n    public void unload() {\n        if (mSurface != null) {\n            mSurface.release();\n            mSurface = null;\n        }\n\n        if (mSurfaceTexture != null) {\n            mSurfaceTexture.release();\n            mSurfaceTexture = null;\n        }\n\n        destroy();\n    }\n}\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1693976874,"post_id":77041617,"comment_id":135828925,"body_markdown":"You can&#39;t. All Apache POI does using XSSFSheet.createPivotTable` is creating a pivot table draft. Excel&#39;s GUI then uses that draft to render the pivot table. And only while that the sums and avarage are calculated. Apache POI has no access to that values.","body":"You can&#39;t. All Apache POI does using XSSFSheet.createPivotTable` is creating a pivot table draft. Excel&#39;s GUI then uses that draft to render the pivot table. And only while that the sums and avarage are calculated. Apache POI has no access to that values."},{"owner":{"account_id":29367325,"reputation":1,"user_id":22500690,"display_name":"wenhao cao"},"score":0,"creation_date":1694073423,"post_id":77041617,"comment_id":135843897,"body_markdown":"Okay, thank you.","body":"Okay, thank you."}],"owner":{"account_id":29367325,"reputation":1,"user_id":22500690,"display_name":"wenhao cao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693890771,"creation_date":1693885147,"question_id":77041617,"body_markdown":"I have generated a pivot table, but I want to know how to obtain the average value for the column label field in the pivot table.\r\n\r\n        CellReference ptStartCell = new CellReference(&quot;A3&quot;);\r\n        AreaReference areaReference = new AreaReference(&quot;A3:M&quot;+num, null);\r\n\r\n        XSSFSheet pivotSheet = workbook.createSheet(&quot;sheet&quot;);\r\n        XSSFPivotTable pivotTable  =  pivotSheet.createPivotTable(areaReference, ptStartCell, sheet);\r\n        pivotTable.addRowLabel(0);\r\n        pivotTable.addRowLabel(1);\r\n        pivotTable.addColLabel(3);\r\n\r\n        pivotTable.addColumnLabel(DataConsolidateFunction.SUM,10, &quot;A&quot;);\r\n        pivotTable.addColumnLabel(DataConsolidateFunction.SUM,11, &quot;B&quot;);\r\n        pivotTable.addColumnLabel(DataConsolidateFunction.SUM,12, &quot;C&quot;);\r\n        pivotTable.addColumnLabel(DataConsolidateFunction.AVERAGE,6, &quot;D&quot;);\r\n        pivotTable.addColumnLabel(DataConsolidateFunction.SUM,9, &quot;E&quot;);","title":"How to read aggregations like sum, average at row labels instead of column labels in excel pivot table using apache poi?","body":"<p>I have generated a pivot table, but I want to know how to obtain the average value for the column label field in the pivot table.</p>\n<pre><code>    CellReference ptStartCell = new CellReference(&quot;A3&quot;);\n    AreaReference areaReference = new AreaReference(&quot;A3:M&quot;+num, null);\n\n    XSSFSheet pivotSheet = workbook.createSheet(&quot;sheet&quot;);\n    XSSFPivotTable pivotTable  =  pivotSheet.createPivotTable(areaReference, ptStartCell, sheet);\n    pivotTable.addRowLabel(0);\n    pivotTable.addRowLabel(1);\n    pivotTable.addColLabel(3);\n\n    pivotTable.addColumnLabel(DataConsolidateFunction.SUM,10, &quot;A&quot;);\n    pivotTable.addColumnLabel(DataConsolidateFunction.SUM,11, &quot;B&quot;);\n    pivotTable.addColumnLabel(DataConsolidateFunction.SUM,12, &quot;C&quot;);\n    pivotTable.addColumnLabel(DataConsolidateFunction.AVERAGE,6, &quot;D&quot;);\n    pivotTable.addColumnLabel(DataConsolidateFunction.SUM,9, &quot;E&quot;);\n</code></pre>\n"},{"tags":["java","javafx","xampp","scenebuilder","javafx-11"],"comments":[{"owner":{"account_id":262183,"reputation":13618,"user_id":546871,"accept_rate":40,"display_name":"AdrianHHH"},"score":0,"creation_date":1693582989,"post_id":77024315,"comment_id":135784783,"body_markdown":"I have formatted the code by splitting it *before* blocks of spaces. Hopefully that split was done correctly. Please check that I have done it correctly.  In future it would be better if you format your code correctly when you write a question.","body":"I have formatted the code by splitting it <i>before</i> blocks of spaces. Hopefully that split was done correctly. Please check that I have done it correctly.  In future it would be better if you format your code correctly when you write a question."},{"owner":{"account_id":262183,"reputation":13618,"user_id":546871,"accept_rate":40,"display_name":"AdrianHHH"},"score":0,"creation_date":1693583243,"post_id":77024315,"comment_id":135784844,"body_markdown":"I now think you need to add more details to the question. Describe the output you are getting, describe what you want and explain how the two are different. Please read about [mcve].","body":"I now think you need to add more details to the question. Describe the output you are getting, describe what you want and explain how the two are different. Please read about <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":29344978,"reputation":11,"user_id":22483578,"display_name":"Dochi Rose"},"score":0,"creation_date":1693583792,"post_id":77024315,"comment_id":135784943,"body_markdown":"I want that when I click the button like &quot;Chicken 10$  &quot; to be added on the tableview and if I click it twice the same button the quantity have to  double. After that if a client want to add a soda you click on button &quot;Soda 2$&quot; and the systems add sum up every order of the client and those orders are being added on the tableview","body":"I want that when I click the button like &quot;Chicken 10$  &quot; to be added on the tableview and if I click it twice the same button the quantity have to  double. After that if a client want to add a soda you click on button &quot;Soda 2$&quot; and the systems add sum up every order of the client and those orders are being added on the tableview"},{"owner":{"account_id":29344978,"reputation":11,"user_id":22483578,"display_name":"Dochi Rose"},"score":0,"creation_date":1693583867,"post_id":77024315,"comment_id":135784967,"body_markdown":"There&#39;s also an image I attended to the questions","body":"There&#39;s also an image I attended to the questions"},{"owner":{"account_id":262183,"reputation":13618,"user_id":546871,"accept_rate":40,"display_name":"AdrianHHH"},"score":0,"creation_date":1693585593,"post_id":77024315,"comment_id":135785284,"body_markdown":"When I wrote *&quot;add more details to the question&quot;* I meant you should [edit] the question to add those details. I know there is an image, but the question should explain things in text. Images should generally only be used to emphasise a point. Please take the [tour] and read the [help] pages to learn how to write a good question for this site.","body":"When I wrote <i>&quot;add more details to the question&quot;</i> I meant you should <a href=\"https://stackoverflow.com/posts/77024315/edit\">edit</a> the question to add those details. I know there is an image, but the question should explain things in text. Images should generally only be used to emphasise a point. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read the <a href=\"https://stackoverflow.com/help\">help center</a> pages to learn how to write a good question for this site."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1693890634,"post_id":77024315,"comment_id":135815208,"body_markdown":"One thing that looks strange to me is the location of `ArrayList&lt;String&gt; content= new ArrayList&lt;&gt;();`. I think it should be outside of the `while-loop`. Beyond that, your code is confusing. Separate your database code. Split tasks into their own methods. You have too much going on in `allItems`.","body":"One thing that looks strange to me is the location of <code>ArrayList&lt;String&gt; content= new ArrayList&lt;&gt;();</code>. I think it should be outside of the <code>while-loop</code>. Beyond that, your code is confusing. Separate your database code. Split tasks into their own methods. You have too much going on in <code>allItems</code>."}],"owner":{"account_id":29344978,"reputation":11,"user_id":22483578,"display_name":"Dochi Rose"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693890394,"creation_date":1693581629,"question_id":77024315,"body_markdown":"I am working on a POS system using Javafx , and I&#39;m trying to set value to a tableview after clicking a button which was generated by MySQL data to. But any time I click the button let say coffee  it&#39;s fetching all data from instead. \r\n\r\n Here is the code \r\n\r\n```\r\npublic void allItems(String EnterItemName) throws SQLException {\r\n    String query =&quot;SELECT `id`,`name`,`rate`FROM `products` WHERE `category`= &#39;&quot;+EnterItemName+&quot;&#39; ORDER BY `rate` &quot;;\r\n    buttonList = new ArrayList&lt;&gt;(); //our Collection to hold newly created Buttons\r\n    pst = con.prepareStatement(query);\r\n    rs = pst.executeQuery();\r\n    while (rs.next()){\r\n        String id = rs.getString(1);\r\n        String name = rs.getString(2);\r\n        String rate = rs.getString(3);\r\n        ArrayList&lt;String&gt; content= new ArrayList&lt;&gt;();\r\n        content.add(id);\r\n        content.add(name);\r\n        content.add(rate);\r\n        JFXButton buttonFist = new JFXButton( content.get(1)+&quot;\\n &quot;+content.get(2) +&quot; $&quot;);\r\n        buttonFist.setStyle(&quot; -fx-background-color:  #005d9a;&quot; +\r\n                &quot; -fx-pref-height: 50px;\\n&quot; +\r\n                &quot;-fx-pref-width: 150px;&quot; +\r\n                &quot;-fx-text-fill:#ffffff;&quot;+\r\n                &quot;-fx-alignment:CENTER;&quot;);\r\n        buttonFist.setOnAction(event1 -&gt;  {\r\n            btnClicked ++;\r\n           try {\r\n               double priceProd = Double.parseDouble(content.get(2)) ;\r\n                      lblProdPrice.setText(String.valueOf(priceProd));\r\n               int qte = btnClicked;\r\n               lblProdQte.setText(String.valueOf(qte));\r\n               double total = qte * priceProd;\r\n               lblTotalPrice.setText(String.valueOf(total));\r\n                dataCollection = getObsArticles();\r\n                colIDArticle.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;item_Code&quot;));\r\n                colArticleName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;item_Description&quot;));\r\n                colArticlePrice.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;item_Price&quot;));\r\n                colArticleQt .setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;item_Qty&quot;));\r\n                colArticleTotal.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;amount&quot;));\r\n                tableArticle.setItems(dataCollection);\r\n                String order_Id=content.get(0);\r\n                String itemCode=content.get(0);\r\n                int qty= btnClicked;\r\n                double unitPrice= Double.parseDouble(content.get(2));\r\n                OrderDetail od=new OrderDetail(order_Id,itemCode,qty,unitPrice);\r\n                orderDetailList.add(od);\r\n                            }catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n            currentTable =tableArticle.getItems();\r\n            String currentProdId = String.valueOf(content.get(0));\r\n            if (event1.getSource()!=content.get(0)){\r\n                               double value =Double.parseDouble( content.get(2));\r\n                if (event1.getSource().equals(content.get(0))){\r\n                }else if (event1.getSource()!=content.get(0)){\r\n                    int frstindex  = event1.getSource().toString().indexOf(&quot;&lt;b&gt;&quot;);\r\n                    double Gtotal = Double.parseDouble(txtTotalPOS.getText())  + value;\r\n                    txtTotalPOS.setText(Double.toString(Gtotal));\r\n                    txtSubTotalPOS.setText(Double.toString(Gtotal));\r\n                }\r\n            }\r\n            for (OrderTableModel product: currentTable){\r\n                if (product.getItem_Code().equals(currentProdId)){\r\n                    product.setItem_Code(content.get(0));\r\n                    product.setItem_Description(content.get(1));\r\n                    product.setItem_Price(Double.parseDouble(content.get(2)));\r\n                    product.setItem_Qty(btnClicked);\r\n                    tableArticle.setItems(currentTable);\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n        buttonList.add(buttonFist);\r\n    }\r\n    hboxx.setAlignment(Pos.CENTER);\r\n    hboxx.getChildren().clear();\r\n    hboxx.getChildren().addAll(buttonList);\r\n }\r\n```\r\n\r\n\r\nPoint of sale: \r\n![](https://i.stack.imgur.com/9ZjVd.jpg)","title":"How to add dynamic row value from button to tableview in javafx","body":"<p>I am working on a POS system using Javafx , and I'm trying to set value to a tableview after clicking a button which was generated by MySQL data to. But any time I click the button let say coffee  it's fetching all data from instead.</p>\n<p>Here is the code</p>\n<pre><code>public void allItems(String EnterItemName) throws SQLException {\n    String query =&quot;SELECT `id`,`name`,`rate`FROM `products` WHERE `category`= '&quot;+EnterItemName+&quot;' ORDER BY `rate` &quot;;\n    buttonList = new ArrayList&lt;&gt;(); //our Collection to hold newly created Buttons\n    pst = con.prepareStatement(query);\n    rs = pst.executeQuery();\n    while (rs.next()){\n        String id = rs.getString(1);\n        String name = rs.getString(2);\n        String rate = rs.getString(3);\n        ArrayList&lt;String&gt; content= new ArrayList&lt;&gt;();\n        content.add(id);\n        content.add(name);\n        content.add(rate);\n        JFXButton buttonFist = new JFXButton( content.get(1)+&quot;\\n &quot;+content.get(2) +&quot; $&quot;);\n        buttonFist.setStyle(&quot; -fx-background-color:  #005d9a;&quot; +\n                &quot; -fx-pref-height: 50px;\\n&quot; +\n                &quot;-fx-pref-width: 150px;&quot; +\n                &quot;-fx-text-fill:#ffffff;&quot;+\n                &quot;-fx-alignment:CENTER;&quot;);\n        buttonFist.setOnAction(event1 -&gt;  {\n            btnClicked ++;\n           try {\n               double priceProd = Double.parseDouble(content.get(2)) ;\n                      lblProdPrice.setText(String.valueOf(priceProd));\n               int qte = btnClicked;\n               lblProdQte.setText(String.valueOf(qte));\n               double total = qte * priceProd;\n               lblTotalPrice.setText(String.valueOf(total));\n                dataCollection = getObsArticles();\n                colIDArticle.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;item_Code&quot;));\n                colArticleName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;item_Description&quot;));\n                colArticlePrice.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;item_Price&quot;));\n                colArticleQt .setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;item_Qty&quot;));\n                colArticleTotal.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;amount&quot;));\n                tableArticle.setItems(dataCollection);\n                String order_Id=content.get(0);\n                String itemCode=content.get(0);\n                int qty= btnClicked;\n                double unitPrice= Double.parseDouble(content.get(2));\n                OrderDetail od=new OrderDetail(order_Id,itemCode,qty,unitPrice);\n                orderDetailList.add(od);\n                            }catch (Exception e){\n                e.printStackTrace();\n            }\n            currentTable =tableArticle.getItems();\n            String currentProdId = String.valueOf(content.get(0));\n            if (event1.getSource()!=content.get(0)){\n                               double value =Double.parseDouble( content.get(2));\n                if (event1.getSource().equals(content.get(0))){\n                }else if (event1.getSource()!=content.get(0)){\n                    int frstindex  = event1.getSource().toString().indexOf(&quot;&lt;b&gt;&quot;);\n                    double Gtotal = Double.parseDouble(txtTotalPOS.getText())  + value;\n                    txtTotalPOS.setText(Double.toString(Gtotal));\n                    txtSubTotalPOS.setText(Double.toString(Gtotal));\n                }\n            }\n            for (OrderTableModel product: currentTable){\n                if (product.getItem_Code().equals(currentProdId)){\n                    product.setItem_Code(content.get(0));\n                    product.setItem_Description(content.get(1));\n                    product.setItem_Price(Double.parseDouble(content.get(2)));\n                    product.setItem_Qty(btnClicked);\n                    tableArticle.setItems(currentTable);\n                    break;\n                }\n            }\n        });\n        buttonList.add(buttonFist);\n    }\n    hboxx.setAlignment(Pos.CENTER);\n    hboxx.getChildren().clear();\n    hboxx.getChildren().addAll(buttonList);\n }\n</code></pre>\n<p>Point of sale:\n<img src=\"https://i.stack.imgur.com/9ZjVd.jpg\" alt=\"\" /></p>\n"},{"tags":["java","spring","mockito","junit5"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691743657,"post_id":76881978,"comment_id":135535852,"body_markdown":"&quot;Internal problem occurred, please report it. Mockito is unable to load the default implementation of class that is a part of Mockito distribution. Failed to load interface org.mockito.plugins.MockMaker&quot;. Did you do that?","body":"&quot;Internal problem occurred, please report it. Mockito is unable to load the default implementation of class that is a part of Mockito distribution. Failed to load interface org.mockito.plugins.MockMaker&quot;. Did you do that?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691743694,"post_id":76881978,"comment_id":135535862,"body_markdown":"Also &quot;It seems like you are running Mockito with an incomplete or inconsistent class path. Byte Buddy could not be loaded.&quot; seems like a thing you could check","body":"Also &quot;It seems like you are running Mockito with an incomplete or inconsistent class path. Byte Buddy could not be loaded.&quot; seems like a thing you could check"}],"answers":[{"tags":[],"owner":{"account_id":16518030,"reputation":113,"user_id":11934922,"display_name":"Rishabh Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693890377,"creation_date":1693890377,"answer_id":77041846,"question_id":76881978,"body_markdown":"I fond the problem , I was using old version of surefire plugin with j-unit 5 when I moved to recent surefire-plugin version. It worked fine.","title":"Not able to RUN/DEBUG tests , java.lang.IllegalStateException: Could not initialize plugin: interface org.mockito.plugins.MockMaker","body":"<p>I fond the problem , I was using old version of surefire plugin with j-unit 5 when I moved to recent surefire-plugin version. It worked fine.</p>\n"}],"owner":{"account_id":16518030,"reputation":113,"user_id":11934922,"display_name":"Rishabh Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693890377,"creation_date":1691743510,"question_id":76881978,"body_markdown":"I am not able to run my Junit tests after updating the Junit and Mockito Dependencies in mychild POM.xml.\r\n\r\nAlso there are different versions of the same in Parent POM but I have excluded them.\r\n\r\nDependencies I am using are-\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;5.9.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen I am trying to run or debug the JUnit tests the exception I am getting is ---\r\n\r\n        &quot;C:\\Program Files\\Amazon Corretto\\jdk11.0.19_7\\bin\\java.exe&quot; -ea -Didea.test.cyclic.buffer.size=1048576 &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2\\lib\\idea_rt.jar=58070:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\t0290551\\.m2\\repository\\org\\junit\\platform\\junit-platform-launcher\\1.9.2\\junit-platform-launcher-1.9.2.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2\\lib\\idea_rt.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2\\plugins\\junit\\lib\\junit5-rt.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2\\plugins\\junit\\lib\\junit-rt.jar;C:\\Dexxis\\src\\dexxisproducts\\Framework\\Navigator\\navigator-modules-app\\target\\test-classes;C:\\Dexxis\\src\\dexxisproducts\\Framework\\Navigator\\navigator-modules-app\\target\\classes;C:\\Dexxis\\src\\dexxisproducts\\Framework\\Core\\navigator-messages\\target\\classes;C:\\Users\\t0290551\\.m2\\repository\\com\\google\\gwt\\gwt-user\\2.8.2\\gwt-user-2.8.2.jar;C:\\Users\\t0290551\\.m2\\repository\\joda-time\\joda-time\\2.10.14\\joda-time-2.10.14.jar;C:\\Users\\t0290551\\.m2\\repository\\com\\gemalto\\dexxis\\core-server-standard\\P05-SNAPSHOT\\core-server-standard-P05-SNAPSHOT-client.jar;C:\\Dexxis\\src\\dexxisproducts\\Server\\Core\\core-server-standard\\target\\classes;C:\\Dexxis\\src\\dexxisproducts\\Common\\dexxis-core\\target\\classes;C:\\Users\\t0290551\\.m2\\repository\\org\\jboss\\logmanager\\jboss-logmanager\\2.1.18.Final\\jboss-logmanager-2.1.18.Final.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\wildfly\\common\\wildfly-common\\1.5.1.Final\\wildfly-common-1.5.1.Final.jar;C:\\Users\\t0290551\\.m2\\repository\\net\\sf\\jasperreports\\jasperreports-fonts\\4.0.0\\jasperreports-fonts-4.0.0.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\apache\\commons\\commons-email\\1.5\\commons-email-1.5.jar;C:\\Users\\t0290551\\.m2\\repository\\com\\sun\\mail\\javax.mail\\1.5.6\\javax.mail-1.5.6.jar;C:\\Users\\t0290551\\.m2\\repository\\javax\\activation\\activation\\1.1\\activation-1.1.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\ldap\\spring-ldap-core\\2.3.2.RELEASE\\spring-ldap-core-2.3.2.RELEASE.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-tx\\5.3.27\\spring-tx-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\aspectj\\aspectjtools\\1.8.5\\aspectjtools-1.8.5.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\slf4j\\slf4j-simple\\1.7.30\\slf4j-simple-1.7.30.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.30\\slf4j-api-1.7.30.jar;C:\\Dexxis\\src\\dexxisproducts\\Framework\\Core\\dexxis-gwt-client\\target\\classes;C:\\Users\\t0290551\\.m2\\repository\\net\\lightoze\\gwt-i18n-server\\gwt-i18n-server\\0.22\\gwt-i18n-server-0.22-original.jar;C:\\Users\\t0290551\\.m2\\repository\\commons-lang\\commons-lang\\2.6\\commons-lang-2.6.jar;C:\\Dexxis\\src\\dexxisproducts\\Server\\Core\\prod-server-dto\\target\\classes;C:\\Users\\t0290551\\.m2\\repository\\com\\github\\jdramaix\\gwtchosen-project\\1.2.0\\gwtchosen-project-1.2.0.jar;C:\\Dexxis\\src\\dexxisproducts\\Framework\\Core\\dexxis-gwt-server\\target\\classes;C:\\Dexxis\\src\\dexxisproducts\\Common\\dexxis-enumerations\\target\\classes;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\security\\spring-security-core\\5.8.3\\spring-security-core-5.8.3.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\security\\spring-security-crypto\\5.8.3\\spring-security-crypto-5.8.3.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-aop\\5.3.27\\spring-aop-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-expression\\5.3.27\\spring-expression-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\security\\spring-security-web\\5.8.3\\spring-security-web-5.8.3.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-beans\\5.3.27\\spring-beans-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-context\\5.3.27\\spring-context-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-core\\5.3.27\\spring-core-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-jcl\\5.3.27\\spring-jcl-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-web\\5.3.27\\spring-web-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-webmvc\\5.3.27\\spring-webmvc-5.3.27.jar;C:\\Dexxis\\src\\dexxisproducts\\Framework\\Navigator\\navigator-modules-view\\target\\classes;C:\\Dexxis\\src\\dexxisproducts\\Framework\\Navigator\\navigator-modules-api\\target\\classes;C:\\Users\\t0290551\\.m2\\repository\\commons-io\\commons-io\\2.11.0\\commons-io-2.11.0.jar;C:\\Users\\t0290551\\.m2\\repository\\commons-logging\\commons-logging\\1.1.1\\commons-logging-1.1.1.jar;C:\\Users\\t0290551\\.m2\\repository\\javax\\json\\javax.json-api\\1.1\\javax.json-api-1.1.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\glassfish\\javax.json\\1.1\\javax.json-1.1.jar;C:\\Dexxis\\src\\dexxisproducts\\Server\\Core\\prod-server-datamodel\\target\\classes;C:\\Users\\t0290551\\.m2\\repository\\javax\\xml\\bind\\jaxb-api\\2.3.0\\jaxb-api-2.3.0.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\junit\\jupiter\\junit-jupiter-engine\\5.9.2\\junit-jupiter-engine-5.9.2.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\junit\\platform\\junit-platform-engine\\1.9.2\\junit-platform-engine-1.9.2.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\opentest4j\\opentest4j\\1.2.0\\opentest4j-1.2.0.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\junit\\platform\\junit-platform-commons\\1.9.2\\junit-platform-commons-1.9.2.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\junit\\jupiter\\junit-jupiter-api\\5.9.2\\junit-jupiter-api-5.9.2.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\apiguardian\\apiguardian-api\\1.1.2\\apiguardian-api-1.1.2.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\mockito\\mockito-core\\5.3.1\\mockito-core-5.3.1.jar;C:\\Users\\t0290551\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.9.15\\byte-buddy-1.9.15.jar;C:\\Users\\t0290551\\.m2\\repository\\net\\bytebuddy\\byte-buddy-agent\\1.14.4\\byte-buddy-agent-1.14.4.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\objenesis\\objenesis\\3.3\\objenesis-3.3.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\mockito\\mockito-junit-jupiter\\5.3.1\\mockito-junit-jupiter-5.3.1.jar;C:\\Users\\t0290551\\.m2\\repository\\javax\\servlet\\javax.servlet-api\\3.1.0\\javax.servlet-api-3.1.0.jar&quot; com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit5 com.gemalto.dexxis.dexxisnavigator.security.SessionDestroyedListenerTest,testSessionDestroyed\r\n    \r\n    java.lang.IllegalStateException: Could not initialize plugin: interface org.mockito.plugins.MockMaker (alternate: null)\r\n    \r\n    \tat org.mockito.internal.configuration.plugins.PluginLoader$1.invoke(PluginLoader.java:84)\r\n    \tat com.sun.proxy.$Proxy16.isTypeMockable(Unknown Source)\r\n    \tat org.mockito.internal.util.MockUtil.typeMockabilityOf(MockUtil.java:78)\r\n    \tat org.mockito.internal.util.MockCreationValidator.validateType(MockCreationValidator.java:22)\r\n    \tat org.mockito.internal.creation.MockSettingsImpl.validatedSettings(MockSettingsImpl.java:274)\r\n    \tat org.mockito.internal.creation.MockSettingsImpl.build(MockSettingsImpl.java:235)\r\n    \tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:86)\r\n    \tat org.mockito.Mockito.mock(Mockito.java:2101)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.processAnnotationForMock(MockAnnotationProcessor.java:79)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:28)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:25)\r\n    \tat org.mockito.internal.configuration.IndependentAnnotationEngine.createMockFor(IndependentAnnotationEngine.java:44)\r\n    \tat org.mockito.internal.configuration.IndependentAnnotationEngine.process(IndependentAnnotationEngine.java:72)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:73)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:47)\r\n    \tat org.mockito.MockitoAnnotations.openMocks(MockitoAnnotations.java:81)\r\n    \tat org.mockito.internal.framework.DefaultMockitoSession.&lt;init&gt;(DefaultMockitoSession.java:43)\r\n    \tat org.mockito.internal.session.DefaultMockitoSessionBuilder.startMocking(DefaultMockitoSessionBuilder.java:83)\r\n    \tat org.mockito.junit.jupiter.MockitoExtension.beforeEach(MockitoExtension.java:153)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n    \tSuppressed: java.lang.NullPointerException\r\n    \t\tat org.mockito.junit.jupiter.MockitoExtension.afterEach(MockitoExtension.java:184)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachCallbacks$12(TestMethodTestDescriptor.java:260)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:276)\r\n    \t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:276)\r\n    \t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:275)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachCallbacks(TestMethodTestDescriptor.java:259)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:144)\r\n    \t\t... 48 more\r\n    Caused by: java.lang.IllegalStateException: Internal problem occurred, please report it. Mockito is unable to load the default implementation of class that is a part of Mockito distribution. Failed to load interface org.mockito.plugins.MockMaker\r\n    \tat org.mockito.internal.configuration.plugins.DefaultMockitoPlugins.create(DefaultMockitoPlugins.java:104)\r\n    \tat org.mockito.internal.configuration.plugins.DefaultMockitoPlugins.getDefaultPlugin(DefaultMockitoPlugins.java:78)\r\n    \tat org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:75)\r\n    \tat org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:50)\r\n    \tat org.mockito.internal.configuration.plugins.PluginRegistry.&lt;init&gt;(PluginRegistry.java:27)\r\n    \tat org.mockito.internal.configuration.plugins.Plugins.&lt;clinit&gt;(Plugins.java:22)\r\n    \tat org.mockito.internal.MockitoCore.&lt;clinit&gt;(MockitoCore.java:73)\r\n    \tat org.mockito.Mockito.&lt;clinit&gt;(Mockito.java:1683)\r\n    \tat org.mockito.junit.jupiter.MockitoExtension.beforeEach(MockitoExtension.java:149)\r\n    \t... 54 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n    \tat org.mockito.internal.configuration.plugins.DefaultMockitoPlugins.create(DefaultMockitoPlugins.java:102)\r\n    \t... 62 more\r\n    Caused by: org.mockito.exceptions.base.MockitoInitializationException: \r\n    It seems like you are running Mockito with an incomplete or inconsistent class path. Byte Buddy could not be loaded.\r\n    \r\n    Byte Buddy is available on Maven Central as &#39;net.bytebuddy:byte-buddy&#39; with the module name &#39;net.bytebuddy&#39;.\r\n    For the inline mock maker, &#39;net.bytebuddy:byte-buddy-agent&#39; with the module name &#39;net.bytebuddy.agent&#39; is also required.\r\n    Normally, your IDE or build tool (such as Maven or Gradle) should take care of your class path completion but \r\n    \tat org.mockito.internal.exceptions.Reporter.missingByteBuddyDependency(Reporter.java:1208)\r\n    \tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.&lt;init&gt;(InlineByteBuddyMockMaker.java:25)\r\n    \t... 67 more\r\n    Caused by: java.lang.NoClassDefFoundError: net/bytebuddy/utility/GraalImageCode\r\n    \tat org.mockito.internal.creation.bytebuddy.SubclassInjectionLoader.&lt;init&gt;(SubclassInjectionLoader.java:34)\r\n    \tat org.mockito.internal.creation.bytebuddy.SubclassBytecodeGenerator.&lt;init&gt;(SubclassBytecodeGenerator.java:75)\r\n    \tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.&lt;init&gt;(InlineBytecodeGenerator.java:107)\r\n    \tat org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.&lt;init&gt;(InlineDelegateByteBuddyMockMaker.java:321)\r\n    \tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.&lt;init&gt;(InlineByteBuddyMockMaker.java:23)\r\n    \t... 67 more\r\n    Caused by: java.lang.ClassNotFoundException: net.bytebuddy.utility.GraalImageCode\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 72 more\r\n\r\n","title":"Not able to RUN/DEBUG tests , java.lang.IllegalStateException: Could not initialize plugin: interface org.mockito.plugins.MockMaker","body":"<p>I am not able to run my Junit tests after updating the Junit and Mockito Dependencies in mychild POM.xml.</p>\n<p>Also there are different versions of the same in Parent POM but I have excluded them.</p>\n<p>Dependencies I am using are-</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.9.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;5.3.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When I am trying to run or debug the JUnit tests the exception I am getting is ---</p>\n<pre><code>    &quot;C:\\Program Files\\Amazon Corretto\\jdk11.0.19_7\\bin\\java.exe&quot; -ea -Didea.test.cyclic.buffer.size=1048576 &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2\\lib\\idea_rt.jar=58070:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\t0290551\\.m2\\repository\\org\\junit\\platform\\junit-platform-launcher\\1.9.2\\junit-platform-launcher-1.9.2.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2\\lib\\idea_rt.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2\\plugins\\junit\\lib\\junit5-rt.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2\\plugins\\junit\\lib\\junit-rt.jar;C:\\Dexxis\\src\\dexxisproducts\\Framework\\Navigator\\navigator-modules-app\\target\\test-classes;C:\\Dexxis\\src\\dexxisproducts\\Framework\\Navigator\\navigator-modules-app\\target\\classes;C:\\Dexxis\\src\\dexxisproducts\\Framework\\Core\\navigator-messages\\target\\classes;C:\\Users\\t0290551\\.m2\\repository\\com\\google\\gwt\\gwt-user\\2.8.2\\gwt-user-2.8.2.jar;C:\\Users\\t0290551\\.m2\\repository\\joda-time\\joda-time\\2.10.14\\joda-time-2.10.14.jar;C:\\Users\\t0290551\\.m2\\repository\\com\\gemalto\\dexxis\\core-server-standard\\P05-SNAPSHOT\\core-server-standard-P05-SNAPSHOT-client.jar;C:\\Dexxis\\src\\dexxisproducts\\Server\\Core\\core-server-standard\\target\\classes;C:\\Dexxis\\src\\dexxisproducts\\Common\\dexxis-core\\target\\classes;C:\\Users\\t0290551\\.m2\\repository\\org\\jboss\\logmanager\\jboss-logmanager\\2.1.18.Final\\jboss-logmanager-2.1.18.Final.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\wildfly\\common\\wildfly-common\\1.5.1.Final\\wildfly-common-1.5.1.Final.jar;C:\\Users\\t0290551\\.m2\\repository\\net\\sf\\jasperreports\\jasperreports-fonts\\4.0.0\\jasperreports-fonts-4.0.0.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\apache\\commons\\commons-email\\1.5\\commons-email-1.5.jar;C:\\Users\\t0290551\\.m2\\repository\\com\\sun\\mail\\javax.mail\\1.5.6\\javax.mail-1.5.6.jar;C:\\Users\\t0290551\\.m2\\repository\\javax\\activation\\activation\\1.1\\activation-1.1.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\ldap\\spring-ldap-core\\2.3.2.RELEASE\\spring-ldap-core-2.3.2.RELEASE.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-tx\\5.3.27\\spring-tx-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\aspectj\\aspectjtools\\1.8.5\\aspectjtools-1.8.5.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\slf4j\\slf4j-simple\\1.7.30\\slf4j-simple-1.7.30.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.30\\slf4j-api-1.7.30.jar;C:\\Dexxis\\src\\dexxisproducts\\Framework\\Core\\dexxis-gwt-client\\target\\classes;C:\\Users\\t0290551\\.m2\\repository\\net\\lightoze\\gwt-i18n-server\\gwt-i18n-server\\0.22\\gwt-i18n-server-0.22-original.jar;C:\\Users\\t0290551\\.m2\\repository\\commons-lang\\commons-lang\\2.6\\commons-lang-2.6.jar;C:\\Dexxis\\src\\dexxisproducts\\Server\\Core\\prod-server-dto\\target\\classes;C:\\Users\\t0290551\\.m2\\repository\\com\\github\\jdramaix\\gwtchosen-project\\1.2.0\\gwtchosen-project-1.2.0.jar;C:\\Dexxis\\src\\dexxisproducts\\Framework\\Core\\dexxis-gwt-server\\target\\classes;C:\\Dexxis\\src\\dexxisproducts\\Common\\dexxis-enumerations\\target\\classes;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\security\\spring-security-core\\5.8.3\\spring-security-core-5.8.3.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\security\\spring-security-crypto\\5.8.3\\spring-security-crypto-5.8.3.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-aop\\5.3.27\\spring-aop-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-expression\\5.3.27\\spring-expression-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\security\\spring-security-web\\5.8.3\\spring-security-web-5.8.3.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-beans\\5.3.27\\spring-beans-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-context\\5.3.27\\spring-context-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-core\\5.3.27\\spring-core-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-jcl\\5.3.27\\spring-jcl-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-web\\5.3.27\\spring-web-5.3.27.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\springframework\\spring-webmvc\\5.3.27\\spring-webmvc-5.3.27.jar;C:\\Dexxis\\src\\dexxisproducts\\Framework\\Navigator\\navigator-modules-view\\target\\classes;C:\\Dexxis\\src\\dexxisproducts\\Framework\\Navigator\\navigator-modules-api\\target\\classes;C:\\Users\\t0290551\\.m2\\repository\\commons-io\\commons-io\\2.11.0\\commons-io-2.11.0.jar;C:\\Users\\t0290551\\.m2\\repository\\commons-logging\\commons-logging\\1.1.1\\commons-logging-1.1.1.jar;C:\\Users\\t0290551\\.m2\\repository\\javax\\json\\javax.json-api\\1.1\\javax.json-api-1.1.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\glassfish\\javax.json\\1.1\\javax.json-1.1.jar;C:\\Dexxis\\src\\dexxisproducts\\Server\\Core\\prod-server-datamodel\\target\\classes;C:\\Users\\t0290551\\.m2\\repository\\javax\\xml\\bind\\jaxb-api\\2.3.0\\jaxb-api-2.3.0.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\junit\\jupiter\\junit-jupiter-engine\\5.9.2\\junit-jupiter-engine-5.9.2.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\junit\\platform\\junit-platform-engine\\1.9.2\\junit-platform-engine-1.9.2.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\opentest4j\\opentest4j\\1.2.0\\opentest4j-1.2.0.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\junit\\platform\\junit-platform-commons\\1.9.2\\junit-platform-commons-1.9.2.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\junit\\jupiter\\junit-jupiter-api\\5.9.2\\junit-jupiter-api-5.9.2.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\apiguardian\\apiguardian-api\\1.1.2\\apiguardian-api-1.1.2.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\mockito\\mockito-core\\5.3.1\\mockito-core-5.3.1.jar;C:\\Users\\t0290551\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.9.15\\byte-buddy-1.9.15.jar;C:\\Users\\t0290551\\.m2\\repository\\net\\bytebuddy\\byte-buddy-agent\\1.14.4\\byte-buddy-agent-1.14.4.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\objenesis\\objenesis\\3.3\\objenesis-3.3.jar;C:\\Users\\t0290551\\.m2\\repository\\org\\mockito\\mockito-junit-jupiter\\5.3.1\\mockito-junit-jupiter-5.3.1.jar;C:\\Users\\t0290551\\.m2\\repository\\javax\\servlet\\javax.servlet-api\\3.1.0\\javax.servlet-api-3.1.0.jar&quot; com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit5 com.gemalto.dexxis.dexxisnavigator.security.SessionDestroyedListenerTest,testSessionDestroyed\n\njava.lang.IllegalStateException: Could not initialize plugin: interface org.mockito.plugins.MockMaker (alternate: null)\n\n    at org.mockito.internal.configuration.plugins.PluginLoader$1.invoke(PluginLoader.java:84)\n    at com.sun.proxy.$Proxy16.isTypeMockable(Unknown Source)\n    at org.mockito.internal.util.MockUtil.typeMockabilityOf(MockUtil.java:78)\n    at org.mockito.internal.util.MockCreationValidator.validateType(MockCreationValidator.java:22)\n    at org.mockito.internal.creation.MockSettingsImpl.validatedSettings(MockSettingsImpl.java:274)\n    at org.mockito.internal.creation.MockSettingsImpl.build(MockSettingsImpl.java:235)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:86)\n    at org.mockito.Mockito.mock(Mockito.java:2101)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.processAnnotationForMock(MockAnnotationProcessor.java:79)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:28)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:25)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.createMockFor(IndependentAnnotationEngine.java:44)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.process(IndependentAnnotationEngine.java:72)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:73)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:47)\n    at org.mockito.MockitoAnnotations.openMocks(MockitoAnnotations.java:81)\n    at org.mockito.internal.framework.DefaultMockitoSession.&lt;init&gt;(DefaultMockitoSession.java:43)\n    at org.mockito.internal.session.DefaultMockitoSessionBuilder.startMocking(DefaultMockitoSessionBuilder.java:83)\n    at org.mockito.junit.jupiter.MockitoExtension.beforeEach(MockitoExtension.java:153)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n    Suppressed: java.lang.NullPointerException\n        at org.mockito.junit.jupiter.MockitoExtension.afterEach(MockitoExtension.java:184)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachCallbacks$12(TestMethodTestDescriptor.java:260)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:276)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:276)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:275)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachCallbacks(TestMethodTestDescriptor.java:259)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:144)\n        ... 48 more\nCaused by: java.lang.IllegalStateException: Internal problem occurred, please report it. Mockito is unable to load the default implementation of class that is a part of Mockito distribution. Failed to load interface org.mockito.plugins.MockMaker\n    at org.mockito.internal.configuration.plugins.DefaultMockitoPlugins.create(DefaultMockitoPlugins.java:104)\n    at org.mockito.internal.configuration.plugins.DefaultMockitoPlugins.getDefaultPlugin(DefaultMockitoPlugins.java:78)\n    at org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:75)\n    at org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:50)\n    at org.mockito.internal.configuration.plugins.PluginRegistry.&lt;init&gt;(PluginRegistry.java:27)\n    at org.mockito.internal.configuration.plugins.Plugins.&lt;clinit&gt;(Plugins.java:22)\n    at org.mockito.internal.MockitoCore.&lt;clinit&gt;(MockitoCore.java:73)\n    at org.mockito.Mockito.&lt;clinit&gt;(Mockito.java:1683)\n    at org.mockito.junit.jupiter.MockitoExtension.beforeEach(MockitoExtension.java:149)\n    ... 54 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.mockito.internal.configuration.plugins.DefaultMockitoPlugins.create(DefaultMockitoPlugins.java:102)\n    ... 62 more\nCaused by: org.mockito.exceptions.base.MockitoInitializationException: \nIt seems like you are running Mockito with an incomplete or inconsistent class path. Byte Buddy could not be loaded.\n\nByte Buddy is available on Maven Central as 'net.bytebuddy:byte-buddy' with the module name 'net.bytebuddy'.\nFor the inline mock maker, 'net.bytebuddy:byte-buddy-agent' with the module name 'net.bytebuddy.agent' is also required.\nNormally, your IDE or build tool (such as Maven or Gradle) should take care of your class path completion but \n    at org.mockito.internal.exceptions.Reporter.missingByteBuddyDependency(Reporter.java:1208)\n    at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.&lt;init&gt;(InlineByteBuddyMockMaker.java:25)\n    ... 67 more\nCaused by: java.lang.NoClassDefFoundError: net/bytebuddy/utility/GraalImageCode\n    at org.mockito.internal.creation.bytebuddy.SubclassInjectionLoader.&lt;init&gt;(SubclassInjectionLoader.java:34)\n    at org.mockito.internal.creation.bytebuddy.SubclassBytecodeGenerator.&lt;init&gt;(SubclassBytecodeGenerator.java:75)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.&lt;init&gt;(InlineBytecodeGenerator.java:107)\n    at org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.&lt;init&gt;(InlineDelegateByteBuddyMockMaker.java:321)\n    at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.&lt;init&gt;(InlineByteBuddyMockMaker.java:23)\n    ... 67 more\nCaused by: java.lang.ClassNotFoundException: net.bytebuddy.utility.GraalImageCode\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 72 more\n</code></pre>\n"},{"tags":["java","spring","maven","lombok","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1616681660,"post_id":66801256,"comment_id":118083812,"body_markdown":"If you are on JDK16 why not using records? If you are a beginner why not using the fundamentals to learn how they work? Lombok is known not working correctly in the published version on JDK16... so you have to wait either a newer version is available or just use plain java ... (IDE can help here a lot...) ....","body":"If you are on JDK16 why not using records? If you are a beginner why not using the fundamentals to learn how they work? Lombok is known not working correctly in the published version on JDK16... so you have to wait either a newer version is available or just use plain java ... (IDE can help here a lot...) ...."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1616682029,"post_id":66801256,"comment_id":118084067,"body_markdown":"BTW: can you tell where you found that: `.. is related to an issue in OpenJDK 15`..?","body":"BTW: can you tell where you found that: <code>.. is related to an issue in OpenJDK 15</code>..?"},{"owner":{"account_id":17373291,"reputation":2272,"user_id":12586904,"display_name":"Dainank"},"score":0,"creation_date":1616682425,"post_id":66801256,"comment_id":118084295,"body_markdown":"@khmarbaise I thought that it was an issue with OpenJDK 15 since this post signified that in the release version of OpenJDK 16 the problem would no longer be present: https://github.com/rzwitserloot/lombok/issues/2681#issuecomment-749000759 but looking back, I think he was simply referring to a beta build of OpenJDK 16?","body":"@khmarbaise I thought that it was an issue with OpenJDK 15 since this post signified that in the release version of OpenJDK 16 the problem would no longer be present: <a href=\"https://github.com/rzwitserloot/lombok/issues/2681#issuecomment-749000759\" rel=\"nofollow noreferrer\">github.com/rzwitserloot/lombok/issues/&hellip;</a> but looking back, I think he was simply referring to a beta build of OpenJDK 16?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1616682773,"post_id":66801256,"comment_id":118084488,"body_markdown":"Yes JDK16 has closed things which had been left open before (internal things in the JDK) which are being used by Lombok etc. and it was clear for a longer time that the closing will happen....","body":"Yes JDK16 has closed things which had been left open before (internal things in the JDK) which are being used by Lombok etc. and it was clear for a longer time that the closing will happen...."},{"owner":{"account_id":17373291,"reputation":2272,"user_id":12586904,"display_name":"Dainank"},"score":0,"creation_date":1616683037,"post_id":66801256,"comment_id":118084625,"body_markdown":"@khmarbaise I see, thanks for the info. Is there a workaround to still use Lombok in JDK 16 or should I switch to JDK 15 or earlier?","body":"@khmarbaise I see, thanks for the info. Is there a workaround to still use Lombok in JDK 16 or should I switch to JDK 15 or earlier?"},{"owner":{"account_id":17373291,"reputation":2272,"user_id":12586904,"display_name":"Dainank"},"score":2,"creation_date":1616683685,"post_id":66801256,"comment_id":118085004,"body_markdown":"@khmarbaise As a heads-up, I have opted to remove the Lombok dependency and instead made my Getters, Setters, e.t.c. manually in the code. Got my application to run successfully after that.","body":"@khmarbaise As a heads-up, I have opted to remove the Lombok dependency and instead made my Getters, Setters, e.t.c. manually in the code. Got my application to run successfully after that."},{"owner":{"account_id":9311626,"reputation":427,"user_id":6913222,"display_name":"Arv"},"score":2,"creation_date":1649794041,"post_id":66801256,"comment_id":126965142,"body_markdown":"I was getting a similar error doing a maven clean install on mac with open jdk 13. I downgraded the java version to 11 and was able to build the project with no errors.\n\n\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project phms-domain: Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor (","body":"I was getting a similar error doing a maven clean install on mac with open jdk 13. I downgraded the java version to 11 and was able to build the project with no errors.   [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project phms-domain: Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor ("},{"owner":{"account_id":2854495,"reputation":1873,"user_id":2451016,"accept_rate":32,"display_name":"user2451016"},"score":0,"creation_date":1658313458,"post_id":66801256,"comment_id":129018976,"body_markdown":"In my simple maven project, I am not using lombok still I am getting above error. In IntelliJ I am using another separate Gradle project with lombok. Could that be the cause?","body":"In my simple maven project, I am not using lombok still I am getting above error. In IntelliJ I am using another separate Gradle project with lombok. Could that be the cause?"}],"answers":[{"tags":[],"owner":{"account_id":17373291,"reputation":2272,"user_id":12586904,"display_name":"Dainank"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1617782199,"creation_date":1616855852,"answer_id":66832510,"question_id":66801256,"body_markdown":"**@[FrankyFred][1] has provided a temporary solution to be able to use Lombok: https://stackoverflow.com/a/66981165/12586904**\r\n\r\n------------------\r\n\r\n&lt;Strike&gt;As far as my research goes and the various responses that I received to this question, it seems like **there is no possible way of running *Lombok* currently in *OpenJDK 16***. As such, **an alternative to using *Lombok* is to put the ```@data``` methods manually in your code. The following link briefly explains how to do this in case you are new to this topic: https://javabydeveloper.com/lombok-data-annotation/#:~:text=Lombok%20Data%20annotation%20(%20%40Data%20),as%20well%20as%20a%20constructor.** &lt;/Strike&gt;\r\n\r\nSample pseudo code representing what ```@Data``` really represents:\r\n\r\n```\r\n@Getter @Setter \r\n@RequiredArgsConstructor\r\n@ToString \r\n@EqualsAndHashCode\r\npublic class User1 {\r\n  private Long id;\r\n  private String username;\r\n  \r\n}\r\n```\r\nThe *Lombok* ```@Data``` annotation minimizes the usage of more annotations when you need to generate all the above seven requirements, but **they essentially achieve the same objectives when running the code.**\r\n\r\nI am by no means an expert at this, but hopefully, this will help anyone else who gets stuck using *Lombok* but needs to find an alternative since their book/tutorial might utilize it and u would still like to continue with the book/tutorial.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/540380/frankyfred","title":"java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment","body":"<p><strong>@<a href=\"https://stackoverflow.com/users/540380/frankyfred\">FrankyFred</a> has provided a temporary solution to be able to use Lombok: <a href=\"https://stackoverflow.com/a/66981165/12586904\">https://stackoverflow.com/a/66981165/12586904</a></strong></p>\n<hr />\n<p><Strike>As far as my research goes and the various responses that I received to this question, it seems like <strong>there is no possible way of running <em>Lombok</em> currently in <em>OpenJDK 16</em></strong>. As such, <strong>an alternative to using <em>Lombok</em> is to put the <code>@data</code> methods manually in your code. The following link briefly explains how to do this in case you are new to this topic: <a href=\"https://javabydeveloper.com/lombok-data-annotation/#:%7E:text=Lombok%20Data%20annotation%20(%20%40Data%20),as%20well%20as%20a%20constructor.\" rel=\"nofollow noreferrer\">https://javabydeveloper.com/lombok-data-annotation/#:~:text=Lombok%20Data%20annotation%20(%20%40Data%20),as%20well%20as%20a%20constructor.</a></strong> </Strike></p>\n<p>Sample pseudo code representing what <code>@Data</code> really represents:</p>\n<pre><code>@Getter @Setter \n@RequiredArgsConstructor\n@ToString \n@EqualsAndHashCode\npublic class User1 {\n  private Long id;\n  private String username;\n  \n}\n</code></pre>\n<p>The <em>Lombok</em> <code>@Data</code> annotation minimizes the usage of more annotations when you need to generate all the above seven requirements, but <strong>they essentially achieve the same objectives when running the code.</strong></p>\n<p>I am by no means an expert at this, but hopefully, this will help anyone else who gets stuck using <em>Lombok</em> but needs to find an alternative since their book/tutorial might utilize it and u would still like to continue with the book/tutorial.</p>\n"},{"comments":[{"owner":{"account_id":17373291,"reputation":2272,"user_id":12586904,"display_name":"Dainank"},"score":0,"creation_date":1617090052,"post_id":66864285,"comment_id":118198395,"body_markdown":"I have attempted to implement this, but receive the following error:\n```java: invalid source release 15 with --enable-preview\n  (preview language features are only supported for release 16)\n```\n\nI then attempted to use release 16 but then received the original error.","body":"I have attempted to implement this, but receive the following error: <code>java: invalid source release 15 with --enable-preview   (preview language features are only supported for release 16) </code>  I then attempted to use release 16 but then received the original error."}],"tags":[],"owner":{"account_id":21100576,"reputation":111,"user_id":15510556,"display_name":"Jiangyun Wang"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1632495949,"creation_date":1617073708,"answer_id":66864285,"question_id":66801256,"body_markdown":"It seems can be solved by adding plugin in `pom.xml` \r\n``` \r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.8.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;16&lt;/source&gt;\r\n        &lt;target&gt;16&lt;/target&gt;\r\n        &lt;!--                    &lt;release&gt;16&lt;/release&gt;--&gt;\r\n        &lt;fork&gt;true&lt;/fork&gt;\r\n        &lt;compilerArgs&gt;\r\n            &lt;arg&gt;--enable-preview&lt;/arg&gt;\r\n            &lt;arg&gt;-Xlint:all&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED&lt;/arg&gt;\r\n        &lt;/compilerArgs&gt;\r\n        &lt;!--for unmappable characters in classes--&gt;\r\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n        &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n        &lt;!--for lombok annotations to resolve--&gt;\r\n        &lt;!--contradictory to maven, intelliJ fails with this--&gt;\r\n        &lt;annotationProcessorPaths&gt;\r\n            &lt;path&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.16&lt;/version&gt;\r\n            &lt;/path&gt;\r\n        &lt;/annotationProcessorPaths&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nsolution from https://stackoverflow.com/questions/65380359/lomboks-access-to-jdk-compilers-internal-packages-incompatible-with-java-16","title":"java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment","body":"<p>It seems can be solved by adding plugin in <code>pom.xml</code></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;16&lt;/source&gt;\n        &lt;target&gt;16&lt;/target&gt;\n        &lt;!--                    &lt;release&gt;16&lt;/release&gt;--&gt;\n        &lt;fork&gt;true&lt;/fork&gt;\n        &lt;compilerArgs&gt;\n            &lt;arg&gt;--enable-preview&lt;/arg&gt;\n            &lt;arg&gt;-Xlint:all&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED&lt;/arg&gt;\n        &lt;/compilerArgs&gt;\n        &lt;!--for unmappable characters in classes--&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n        &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n        &lt;!--for lombok annotations to resolve--&gt;\n        &lt;!--contradictory to maven, intelliJ fails with this--&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.18.16&lt;/version&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>solution from <a href=\"https://stackoverflow.com/questions/65380359/lomboks-access-to-jdk-compilers-internal-packages-incompatible-with-java-16\">Lombok&#39;s access to jdk.compiler&#39;s internal packages incompatible with Java-16</a></p>\n"},{"comments":[{"owner":{"account_id":8356750,"reputation":3326,"user_id":6276704,"accept_rate":44,"display_name":"Tigerware"},"score":14,"creation_date":1617809163,"post_id":66981165,"comment_id":118412032,"body_markdown":"I am still getting the error with this version (1.18.20) and Java 16. It disappears when I downgrade to Java 15.","body":"I am still getting the error with this version (1.18.20) and Java 16. It disappears when I downgrade to Java 15."},{"owner":{"account_id":5157394,"reputation":51,"user_id":4130245,"display_name":"SatyaRajC"},"score":0,"creation_date":1625032641,"post_id":66981165,"comment_id":120515372,"body_markdown":"In my case I&#39;ve to update the spring boot version 2.4.2 &gt; 2.5.1","body":"In my case I&#39;ve to update the spring boot version 2.4.2 &gt; 2.5.1"},{"owner":{"account_id":9124576,"reputation":811,"user_id":8039108,"accept_rate":83,"display_name":"NiB"},"score":3,"creation_date":1627965669,"post_id":66981165,"comment_id":121289011,"body_markdown":"Worked for me, I&#39;m using Java 16","body":"Worked for me, I&#39;m using Java 16"},{"owner":{"account_id":1622277,"reputation":6199,"user_id":1498586,"accept_rate":66,"display_name":"Mahdi"},"score":0,"creation_date":1637726061,"post_id":66981165,"comment_id":123900989,"body_markdown":"I have this problem on IntelliJ community  2021.2 version that do not have any spring boot initializer... How I can fix that?","body":"I have this problem on IntelliJ community  2021.2 version that do not have any spring boot initializer... How I can fix that?"},{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":8,"creation_date":1639045569,"post_id":66981165,"comment_id":124250246,"body_markdown":"This works for me in Java 17 .. thanks.","body":"This works for me in Java 17 .. thanks."},{"owner":{"account_id":287912,"reputation":346,"user_id":588018,"display_name":"Erick Audet"},"score":3,"creation_date":1641575176,"post_id":66981165,"comment_id":124848074,"body_markdown":"Woks under openjdk 11","body":"Woks under openjdk 11"},{"owner":{"account_id":8259541,"reputation":79,"user_id":6211518,"display_name":"postace"},"score":1,"creation_date":1652340381,"post_id":66981165,"comment_id":127583724,"body_markdown":"Worked for me, openjdk version &quot;11.0.13&quot; 2021-10-19 LTS","body":"Worked for me, openjdk version &quot;11.0.13&quot; 2021-10-19 LTS"},{"owner":{"account_id":15207672,"reputation":1864,"user_id":10973514,"display_name":"pref"},"score":0,"creation_date":1652830079,"post_id":66981165,"comment_id":127700117,"body_markdown":"Thanks.\nIt got fixed after upgrading lombok to 1.18.22 .  (on JDK 16)","body":"Thanks. It got fixed after upgrading lombok to 1.18.22 .  (on JDK 16)"},{"owner":{"account_id":8183421,"reputation":502,"user_id":6159869,"display_name":"Sarfraz Shaikh"},"score":0,"creation_date":1655462646,"post_id":66981165,"comment_id":128343773,"body_markdown":"I was using lombok-1.18.24.jar in Eclipse. In pom, existing version was 1.18.16. Updated to 1.18.24. Worked for me.","body":"I was using lombok-1.18.24.jar in Eclipse. In pom, existing version was 1.18.16. Updated to 1.18.24. Worked for me."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":1,"creation_date":1665500265,"post_id":66981165,"comment_id":130712579,"body_markdown":"This worked for me. JAVA_HOME version is 18.0.1.1 (vscode java.jdt.ls.java.home=jdk-18.0.1.1), Java version of the Maven Project is jdk1.8.0_341.","body":"This worked for me. JAVA_HOME version is 18.0.1.1 (vscode java.jdt.ls.java.home=jdk-18.0.1.1), Java version of the Maven Project is jdk1.8.0_341."},{"owner":{"account_id":15902986,"reputation":93,"user_id":11474902,"display_name":"Eltac Shikhsaidov"},"score":0,"creation_date":1674627185,"post_id":66981165,"comment_id":132752342,"body_markdown":"In my case I downgraded java version from 17 to 11 and it worked fine!","body":"In my case I downgraded java version from 17 to 11 and it worked fine!"},{"owner":{"account_id":7780922,"reputation":170,"user_id":5887355,"display_name":"Sowmya"},"score":0,"creation_date":1690578929,"post_id":66981165,"comment_id":135378494,"body_markdown":"In my case, I was facing this issue after upgrading AGP 7.4.2 and this fix resolved the error. Thank you","body":"In my case, I was facing this issue after upgrading AGP 7.4.2 and this fix resolved the error. Thank you"}],"tags":[],"owner":{"account_id":258298,"reputation":5582,"user_id":540380,"display_name":"FrankyFred"},"comment_count":12,"down_vote_count":0,"up_vote_count":480,"is_accepted":true,"score":480,"last_activity_date":1693888341,"creation_date":1617779336,"answer_id":66981165,"question_id":66801256,"body_markdown":"Switch to at least the `1.18.22` version of Lombok that contains [the fix](https://github.com/rzwitserloot/lombok/issues/2681)\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n  &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n  &lt;version&gt;1.18.28&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nTo see the last version of lombok, follow this link on [search.maven.org](https://search.maven.org/search?q=g:org.projectlombok%20a:lombok)","title":"java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment","body":"<p>Switch to at least the <code>1.18.22</code> version of Lombok that contains <a href=\"https://github.com/rzwitserloot/lombok/issues/2681\" rel=\"noreferrer\">the fix</a></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n  &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n  &lt;version&gt;1.18.28&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To see the last version of lombok, follow this link on <a href=\"https://search.maven.org/search?q=g:org.projectlombok%20a:lombok\" rel=\"noreferrer\">search.maven.org</a></p>\n"}],"owner":{"account_id":17373291,"reputation":2272,"user_id":12586904,"display_name":"Dainank"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354950,"favorite_count":0,"down_vote_count":0,"up_vote_count":201,"closed_date":1617924638,"accepted_answer_id":66981165,"answer_count":3,"score":201,"last_activity_date":1693888341,"creation_date":1616681421,"question_id":66801256,"body_markdown":"I am somewhat new to coding and am trying to use the Lombok plugin to automatically create Getters/Setters e.t.c. for my fields of a specific class. In doing so I get greeted with the following error:\r\n\r\nThe error:\r\n\r\n&gt; java: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor (in unnamed module @0x3b67ef9b) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x3b67ef9b\r\n\r\nAfter doing some searching online, I found out that this error is related to an issue in OpenJDK 15 but I am currently using OpenJDK 16, hence why I am confused that I am still getting this error.\r\n\r\nThis thread claims to have a solution: https://github.com/rzwitserloot/lombok/issues/2681#issuecomment-748616687 but after implementing the plugin, it does not seem to make any difference and I still receive the error.\r\n\r\nI have most likely made a trivial mistake since I am a beginner but if someone knows what I am missing please let me know.\r\n\r\n\r\n&lt;h3&gt;Class Using @Data (Lombok):&lt;/h3&gt;\r\n\r\n```package sia.tacocloud;\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Ingredient {\r\n\r\n    private final String id;\r\n    private final String name;\r\n    private final Type type;\r\n\r\n    public enum Type {\r\n        WRAP, PROTEIN, VEGGIES, CHEESE, SAUCE\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n&lt;h3&gt;My Pom File:&lt;/h3&gt;\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;sia&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;taco-cloud&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;taco-cloud&lt;/name&gt;\r\n\t&lt;description&gt;Taco Cloud Project&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;16&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n","title":"java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment","body":"<p>I am somewhat new to coding and am trying to use the Lombok plugin to automatically create Getters/Setters e.t.c. for my fields of a specific class. In doing so I get greeted with the following error:</p>\n<p>The error:</p>\n<blockquote>\n<p>java: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor (in unnamed module @0x3b67ef9b) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x3b67ef9b</p>\n</blockquote>\n<p>After doing some searching online, I found out that this error is related to an issue in OpenJDK 15 but I am currently using OpenJDK 16, hence why I am confused that I am still getting this error.</p>\n<p>This thread claims to have a solution: <a href=\"https://github.com/rzwitserloot/lombok/issues/2681#issuecomment-748616687\" rel=\"noreferrer\">https://github.com/rzwitserloot/lombok/issues/2681#issuecomment-748616687</a> but after implementing the plugin, it does not seem to make any difference and I still receive the error.</p>\n<p>I have most likely made a trivial mistake since I am a beginner but if someone knows what I am missing please let me know.</p>\n<h3>Class Using @Data (Lombok):</h3>\n<pre><code>import lombok.Data;\n\n@Data\npublic class Ingredient {\n\n    private final String id;\n    private final String name;\n    private final Type type;\n\n    public enum Type {\n        WRAP, PROTEIN, VEGGIES, CHEESE, SAUCE\n    }\n\n}\n\n</code></pre>\n<h3>My Pom File:</h3>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;sia&lt;/groupId&gt;\n    &lt;artifactId&gt;taco-cloud&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;taco-cloud&lt;/name&gt;\n    &lt;description&gt;Taco Cloud Project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;16&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","class","printing","currency","currency-formatting"],"comments":[{"owner":{"account_id":2168880,"reputation":15313,"user_id":1921385,"display_name":"Moob"},"score":0,"creation_date":1693862230,"post_id":77040607,"comment_id":135812986,"body_markdown":"This example does it differently but could be some clues here: http://www.avajava.com/tutorials/lessons/how-do-i-use-numberformat-to-format-currencies.html#:~:text=To%20format%20a%20number%20according,currency%20of%20the%20default%20locale.","body":"This example does it differently but could be some clues here: <a href=\"http://www.avajava.com/tutorials/lessons/how-do-i-use-numberformat-to-format-currencies.html#:~:text=To%20format%20a%20number%20according,currency%20of%20the%20default%20locale\" rel=\"nofollow noreferrer\">avajava.com/tutorials/lessons/&hellip;</a>."},{"owner":{"account_id":28123582,"reputation":85,"user_id":21489407,"display_name":"Habib"},"score":0,"creation_date":1693862402,"post_id":77040607,"comment_id":135813008,"body_markdown":"I&#39;ll check it out, thanks.","body":"I&#39;ll check it out, thanks."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1693862704,"post_id":77040607,"comment_id":135813041,"body_markdown":"Unrelated to the question, using floating point numbers for currency values will eventually hit a representation error. Better use BigDecimal.","body":"Unrelated to the question, using floating point numbers for currency values will eventually hit a representation error. Better use BigDecimal."}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1693866589,"post_id":77040672,"comment_id":135813429,"body_markdown":"You are correct that NumberFormat.getCurrencyInstance should be used.  It should also be noted that the Currency class is not needed here at all, so all of the Currency.getInstance lines and all of the getSymbol lines can be removed from the code.","body":"You are correct that NumberFormat.getCurrencyInstance should be used.  It should also be noted that the Currency class is not needed here at all, so all of the Currency.getInstance lines and all of the getSymbol lines can be removed from the code."},{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":1,"creation_date":1693866943,"post_id":77040672,"comment_id":135813458,"body_markdown":"@VGR Totally agree, I&#39;ve cleaned the code.","body":"@VGR Totally agree, I&#39;ve cleaned the code."}],"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693875169,"creation_date":1693862548,"answer_id":77040672,"question_id":77040607,"body_markdown":"## `NumberFormat.getCurrencyInstance `\r\n\r\nYou probably should use [`NumberFormat.getCurrencyInstance`][1] and `NumberFormat.format`. Try this:\r\n```\r\npublic static void main(String[] args) {\r\n    double payment = 12324.134; // I&#39;d use BigDecimal instead of double here, BTW. See the comment from another user under your post.\r\n\r\n    Locale us = Locale.US;\r\n    System.out.println(&quot;US: &quot; + NumberFormat.getCurrencyInstance(us).format(payment));\r\n\r\n    Locale india = new Locale(&quot;en&quot;, &quot;IN&quot;);\r\n    System.out.println(&quot;India: &quot; + NumberFormat.getCurrencyInstance(india).format(payment));\r\n\r\n    Locale china = Locale.CHINA;\r\n    System.out.println(&quot;China: &quot; + NumberFormat.getCurrencyInstance(china).format(payment));\r\n\r\n    Locale france = Locale.FRANCE;\r\n    System.out.println(&quot;France: &quot; + NumberFormat.getCurrencyInstance(france).format(payment));\r\n}\r\n```\r\n\r\nThe output is:\r\n```\r\nUS: $12,324.13\r\nIndia: ₹12,324.13\r\nChina: &#165;12,324.13\r\nFrance: 12 324,13&#160;€\r\n```\r\n\r\nIt is even said in your task:\r\n\r\n&gt; using the NumberFormat class&#39; getCurrencyInstance method\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/NumberFormat.html#getCurrencyInstance(java.util.Locale)","title":"Country Currency formatting using &#39;NumberFormat&#39; class Java","body":"<h2><code>NumberFormat.getCurrencyInstance </code></h2>\n<p>You probably should use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/NumberFormat.html#getCurrencyInstance(java.util.Locale)\" rel=\"nofollow noreferrer\"><code>NumberFormat.getCurrencyInstance</code></a> and <code>NumberFormat.format</code>. Try this:</p>\n<pre><code>public static void main(String[] args) {\n    double payment = 12324.134; // I'd use BigDecimal instead of double here, BTW. See the comment from another user under your post.\n\n    Locale us = Locale.US;\n    System.out.println(&quot;US: &quot; + NumberFormat.getCurrencyInstance(us).format(payment));\n\n    Locale india = new Locale(&quot;en&quot;, &quot;IN&quot;);\n    System.out.println(&quot;India: &quot; + NumberFormat.getCurrencyInstance(india).format(payment));\n\n    Locale china = Locale.CHINA;\n    System.out.println(&quot;China: &quot; + NumberFormat.getCurrencyInstance(china).format(payment));\n\n    Locale france = Locale.FRANCE;\n    System.out.println(&quot;France: &quot; + NumberFormat.getCurrencyInstance(france).format(payment));\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>US: $12,324.13\nIndia: ₹12,324.13\nChina: ¥12,324.13\nFrance: 12 324,13 €\n</code></pre>\n<p>It is even said in your task:</p>\n<blockquote>\n<p>using the NumberFormat class' getCurrencyInstance method</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693888258,"creation_date":1693887865,"answer_id":77041731,"question_id":77040607,"body_markdown":"&gt; _&quot;... I&#39;m currently working on a task that involves taking a double-precision number representing a sum of money and using the NumberFormat class&#39; getCurrencyInstance method to convert it into the currency formats of US, India, China, and France. ...&quot;_\r\n\r\nIn you&#39;re example you are using _[Currency#getInstance](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Currency.html#getInstance(java.util.Locale))_ which is different than _[NumberFormat#getCurrencyInstance](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/NumberFormat.html#getCurrencyInstance(java.util.Locale))_.\r\n\r\nAnd, you should consider switching to the _[BigDecimal](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html)_ class, as recommended by _Java_.\r\n\r\n_[Primitive Data Types (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)_.\r\n\r\n&gt; _&quot;... **float**: ... This data type should never be used for precise values, such as currency. For that, you will need to use the \r\n[java.math.BigDecimal](https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html) class instead. \r\n[Numbers and Strings](https://docs.oracle.com/javase/tutorial/java/data/index.html) covers BigDecimal and other useful classes provided by the Java platform. ...&quot;_\r\n\r\nThe recommendation is to use a &quot;half-even&quot; rounding-mode, as specified by the _[RoundingMode#HALF_EVEN](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/RoundingMode.html#HALF_EVEN)_ _JavaDoc_.\r\n\r\n&gt; _&quot;... **API Note**:  \r\n&gt; This is the rounding mode that statistically minimizes cumulative error when applied repeatedly over a sequence of calculations. It is sometimes known as &quot;Banker&#39;s rounding,&quot; and is chiefly used in the USA. This rounding mode is analogous to the rounding policy used for most float and double arithmetic operators in Java (JLS [15.4](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.4)). This mode corresponds to the IEEE 754 rounding-direction attribute roundTiesToEven. ...&quot;_\r\n\r\nThe _[Scanner](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html)_ class also conveniently provides a _[nextBigDecimal](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextBigDecimal())_ method.\r\n\r\n```java\r\nBigDecimal payment = scanner.nextBigDecimal().setScale(2, HALF_EVEN);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n12324.134\r\nUS: $12324.13\r\nIndia: ₹12324.13\r\nChina: &#165;12324.13\r\nFrance: 12324.13 €\r\n```\r\n\r\n&gt; _&quot;... My problem lies in the format of the input, &#39;12324.134&#39;. ..._\r\n&gt;\r\n&gt; _... I just can&#39;t seem to get the commas in the right place and for some reason, France&#39;s expected output has a space after the first 2 digits. It might be because I haven&#39;t used the right methods of the Currency class but this is where Im stuck at. Any advice is appreciated.&quot;_\r\n\r\nHere is a relevant _Java_ tutorial on _&quot;Customizing Formats&quot;_.  \r\n_[Customizing Formats (The Java&amp;trade; Tutorials &amp;gt; Internationalization &amp;gt; Formatting)](https://docs.oracle.com/javase/tutorial/i18n/format/decimalFormat.html)_.\r\n\r\nAnd, here is a re-factor.\r\n\r\nNote that `Currency.getInstance(Locale.CHINA).getSymbol()` returns a different symbol than the _format_ method, `CN&#165;` over `&#165;`.\r\n\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nBigDecimal payment = scanner.nextBigDecimal().setScale(2, HALF_EVEN);\r\nscanner.close();\r\nDecimalFormat df;\r\nfor (Locale locale : List.of(US, new Locale(&quot;en&quot;, &quot;IN&quot;), CHINA, FRANCE)) {\r\n    df = (DecimalFormat) NumberFormat.getCurrencyInstance(locale);\r\n    System.out.printf(&quot;%s: %s%n&quot;, locale.toString(), df.format(payment));\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n12324.134\r\nen_US: $12,324.13\r\nen_IN: ₹12,324.13\r\nzh_CN: &#165;12,324.13\r\nfr_FR: 12 324,13&#160;€\r\n```","title":"Country Currency formatting using &#39;NumberFormat&#39; class Java","body":"<blockquote>\n<p><em>&quot;... I'm currently working on a task that involves taking a double-precision number representing a sum of money and using the NumberFormat class' getCurrencyInstance method to convert it into the currency formats of US, India, China, and France. ...&quot;</em></p>\n</blockquote>\n<p>In you're example you are using <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Currency.html#getInstance(java.util.Locale)\" rel=\"nofollow noreferrer\">Currency#getInstance</a></em> which is different than <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/NumberFormat.html#getCurrencyInstance(java.util.Locale)\" rel=\"nofollow noreferrer\">NumberFormat#getCurrencyInstance</a></em>.</p>\n<p>And, you should consider switching to the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a></em> class, as recommended by <em>Java</em>.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Primitive Data Types (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em>.</p>\n<blockquote>\n<p><em>&quot;... <strong>float</strong>: ... This data type should never be used for precise values, such as currency. For that, you will need to use the\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">java.math.BigDecimal</a> class instead.\n<a href=\"https://docs.oracle.com/javase/tutorial/java/data/index.html\" rel=\"nofollow noreferrer\">Numbers and Strings</a> covers BigDecimal and other useful classes provided by the Java platform. ...&quot;</em></p>\n</blockquote>\n<p>The recommendation is to use a &quot;half-even&quot; rounding-mode, as specified by the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/RoundingMode.html#HALF_EVEN\" rel=\"nofollow noreferrer\">RoundingMode#HALF_EVEN</a></em> <em>JavaDoc</em>.</p>\n<blockquote>\n<p><em>&quot;... <strong>API Note</strong>:<br />\nThis is the rounding mode that statistically minimizes cumulative error when applied repeatedly over a sequence of calculations. It is sometimes known as &quot;Banker's rounding,&quot; and is chiefly used in the USA. This rounding mode is analogous to the rounding policy used for most float and double arithmetic operators in Java (JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.4\" rel=\"nofollow noreferrer\">15.4</a>). This mode corresponds to the IEEE 754 rounding-direction attribute roundTiesToEven. ...&quot;</em></p>\n</blockquote>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a></em> class also conveniently provides a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextBigDecimal()\" rel=\"nofollow noreferrer\">nextBigDecimal</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal payment = scanner.nextBigDecimal().setScale(2, HALF_EVEN);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>12324.134\nUS: $12324.13\nIndia: ₹12324.13\nChina: ¥12324.13\nFrance: 12324.13 €\n</code></pre>\n<blockquote>\n<p><em>&quot;... My problem lies in the format of the input, '12324.134'. ...</em></p>\n<p><em>... I just can't seem to get the commas in the right place and for some reason, France's expected output has a space after the first 2 digits. It might be because I haven't used the right methods of the Currency class but this is where Im stuck at. Any advice is appreciated.&quot;</em></p>\n</blockquote>\n<p>Here is a relevant <em>Java</em> tutorial on <em>&quot;Customizing Formats&quot;</em>.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/i18n/format/decimalFormat.html\" rel=\"nofollow noreferrer\">Customizing Formats (The Java™ Tutorials &gt; Internationalization &gt; Formatting)</a></em>.</p>\n<p>And, here is a re-factor.</p>\n<p>Note that <code>Currency.getInstance(Locale.CHINA).getSymbol()</code> returns a different symbol than the <em>format</em> method, <code>CN¥</code> over <code>¥</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nBigDecimal payment = scanner.nextBigDecimal().setScale(2, HALF_EVEN);\nscanner.close();\nDecimalFormat df;\nfor (Locale locale : List.of(US, new Locale(&quot;en&quot;, &quot;IN&quot;), CHINA, FRANCE)) {\n    df = (DecimalFormat) NumberFormat.getCurrencyInstance(locale);\n    System.out.printf(&quot;%s: %s%n&quot;, locale.toString(), df.format(payment));\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>12324.134\nen_US: $12,324.13\nen_IN: ₹12,324.13\nzh_CN: ¥12,324.13\nfr_FR: 12 324,13 €\n</code></pre>\n"}],"owner":{"account_id":28123582,"reputation":85,"user_id":21489407,"display_name":"Habib"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":77040672,"answer_count":2,"score":2,"last_activity_date":1693888258,"creation_date":1693861603,"question_id":77040607,"body_markdown":"I&#39;m currently working on a task that involves taking a double-precision number representing a sum of money and using the NumberFormat class&#39; getCurrencyInstance method to convert it into the currency formats of US, India, China, and France.\r\n\r\nInput:\r\n```\r\nA single double-precision number denoting &#39;payment&#39;\r\n```\r\nOutput:\r\n```\r\nOn the first line, print US: &#39;u&#39; where &#39;u&#39; is &#39;payment&#39; formatted for US currency.\r\nOn the second line, print India: &#39;i&#39; where &#39;i&#39; is &#39;payment&#39; formatted for the Indian currency.\r\nOn the third line, print China: &#39;c&#39; where &#39;c&#39; is &#39;payment&#39; formatted for Chinese currency.\r\nOn the fourth line, print France: &#39;f&#39; where &#39;f&#39; is formatted for French currency.\r\n```\r\nSample input:\r\n```\r\n12324.134\r\n```\r\nSample output:\r\n```\r\nUS: $12,324.13\r\n\r\nIndia: Rs.12,324.13\r\n\r\nChina: ￥12,324.13\r\n\r\nFrance: 12 324,13 €\r\n```\r\n\r\nMy code:\r\n```\r\nimport java.util.*;\r\nimport java.text.*;\r\nimport java.util.Currency;\r\n\r\npublic class Solution {\r\n    \r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        double payment = scanner.nextDouble();\r\n        scanner.close();\r\n        \r\n        Locale indiaLocale = new Locale(&quot;en&quot;, &quot;IN&quot;);\r\n        \r\n        Locale locale = Locale.US;\r\n        Currency us = Currency.getInstance(locale);\r\n        String symbol = us.getSymbol(locale);\r\n        System.out.println(&quot;US: &quot; + symbol + payment);\r\n        \r\n        Locale locale2 = indiaLocale;\r\n        Currency in = Currency.getInstance(locale2);\r\n        String symbol2 = in.getSymbol(locale2);\r\n        System.out.println(&quot;India: &quot; + symbol2 + payment);\r\n        \r\n        Locale locale3 = Locale.CHINA;\r\n        Currency ch = Currency.getInstance(locale3);\r\n        String symbol3 = ch.getSymbol(locale3);\r\n        System.out.println(&quot;China: &quot; + symbol3 + payment);\r\n        \r\n        Locale locale4 = Locale.FRANCE;\r\n        Currency fr = Currency.getInstance(locale4);\r\n        String symbol4 = fr.getSymbol(locale4);\r\n        System.out.println(&quot;France: &quot; + payment + &quot; &quot; + symbol4);\r\n    }\r\n}\r\n```\r\n\r\nMy input:\r\n```\r\n12324.134\r\n```\r\nMy output:\r\n```\r\nUS: $12324.134\r\n\r\nIndia: Rs.12324.134\r\n\r\nChina: ￥12324.134\r\n\r\nFrance: 12324.134 €\r\n```\r\n\r\nMy problem lies in the format of the input, &#39;12324.134&#39;. As you can see, I&#39;ve managed to output the right currency symbols, especially India as India does not have a built-in Locale, so I had to construct one where the language is en (i.e., English).\r\n\r\nI just can&#39;t seem to get the commas in the right place and for some reason, France&#39;s expected output has a space after the first 2 digits. It might be because I haven&#39;t used the right methods of the Currency class but this is where Im stuck at. Any advice is appreciated.","title":"Country Currency formatting using &#39;NumberFormat&#39; class Java","body":"<p>I'm currently working on a task that involves taking a double-precision number representing a sum of money and using the NumberFormat class' getCurrencyInstance method to convert it into the currency formats of US, India, China, and France.</p>\n<p>Input:</p>\n<pre><code>A single double-precision number denoting 'payment'\n</code></pre>\n<p>Output:</p>\n<pre><code>On the first line, print US: 'u' where 'u' is 'payment' formatted for US currency.\nOn the second line, print India: 'i' where 'i' is 'payment' formatted for the Indian currency.\nOn the third line, print China: 'c' where 'c' is 'payment' formatted for Chinese currency.\nOn the fourth line, print France: 'f' where 'f' is formatted for French currency.\n</code></pre>\n<p>Sample input:</p>\n<pre><code>12324.134\n</code></pre>\n<p>Sample output:</p>\n<pre><code>US: $12,324.13\n\nIndia: Rs.12,324.13\n\nChina: ￥12,324.13\n\nFrance: 12 324,13 €\n</code></pre>\n<p>My code:</p>\n<pre><code>import java.util.*;\nimport java.text.*;\nimport java.util.Currency;\n\npublic class Solution {\n    \n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        double payment = scanner.nextDouble();\n        scanner.close();\n        \n        Locale indiaLocale = new Locale(&quot;en&quot;, &quot;IN&quot;);\n        \n        Locale locale = Locale.US;\n        Currency us = Currency.getInstance(locale);\n        String symbol = us.getSymbol(locale);\n        System.out.println(&quot;US: &quot; + symbol + payment);\n        \n        Locale locale2 = indiaLocale;\n        Currency in = Currency.getInstance(locale2);\n        String symbol2 = in.getSymbol(locale2);\n        System.out.println(&quot;India: &quot; + symbol2 + payment);\n        \n        Locale locale3 = Locale.CHINA;\n        Currency ch = Currency.getInstance(locale3);\n        String symbol3 = ch.getSymbol(locale3);\n        System.out.println(&quot;China: &quot; + symbol3 + payment);\n        \n        Locale locale4 = Locale.FRANCE;\n        Currency fr = Currency.getInstance(locale4);\n        String symbol4 = fr.getSymbol(locale4);\n        System.out.println(&quot;France: &quot; + payment + &quot; &quot; + symbol4);\n    }\n}\n</code></pre>\n<p>My input:</p>\n<pre><code>12324.134\n</code></pre>\n<p>My output:</p>\n<pre><code>US: $12324.134\n\nIndia: Rs.12324.134\n\nChina: ￥12324.134\n\nFrance: 12324.134 €\n</code></pre>\n<p>My problem lies in the format of the input, '12324.134'. As you can see, I've managed to output the right currency symbols, especially India as India does not have a built-in Locale, so I had to construct one where the language is en (i.e., English).</p>\n<p>I just can't seem to get the commas in the right place and for some reason, France's expected output has a space after the first 2 digits. It might be because I haven't used the right methods of the Currency class but this is where Im stuck at. Any advice is appreciated.</p>\n"},{"tags":["java","json","date","datetime","datetime-format"],"comments":[{"owner":{"account_id":4642086,"reputation":23628,"user_id":3761628,"accept_rate":88,"display_name":"eol"},"score":0,"creation_date":1594027154,"post_id":62752915,"comment_id":110971711,"body_markdown":"Your code would be helpful :)","body":"Your code would be helpful :)"},{"owner":{"account_id":285703,"reputation":2572,"user_id":584532,"accept_rate":79,"display_name":"nrainer"},"score":1,"creation_date":1594037407,"post_id":62752915,"comment_id":110976687,"body_markdown":"You need to configure the serialization library (in the application server).","body":"You need to configure the serialization library (in the application server)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1594040743,"post_id":62752915,"comment_id":110978555,"body_markdown":"How are you producing your JSON? What library and configuration are you using?","body":"How are you producing your JSON? What library and configuration are you using?"}],"answers":[{"tags":[],"owner":{"account_id":18256435,"reputation":1,"user_id":13290277,"display_name":"reversekaos"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1594029188,"creation_date":1594029188,"answer_id":62753496,"question_id":62752915,"body_markdown":"You mention that your variable startDate is of Date type, now i don&#39;t know what language you are using but i can try an educated guess of what you need to do : \r\n\r\nFormat you Date type in order to have a String type and put that String in your JSON. Being a String and not the interpretation of a Timestamp, is shouldn&#39;t be converted. ","title":"Date type is getting converted to timestamp in postman JSON response, how to avoid that?","body":"<p>You mention that your variable startDate is of Date type, now i don't know what language you are using but i can try an educated guess of what you need to do :</p>\n<p>Format you Date type in order to have a String type and put that String in your JSON. Being a String and not the interpretation of a Timestamp, is shouldn't be converted.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594036980,"creation_date":1594036670,"answer_id":62755568,"question_id":62752915,"body_markdown":"I recommend you switch from the outdated and error-prone `java.util` date-time API to the [modern date-time API][1] and format the given date-time using [`DateTimeFormater#ofPattern`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ofPattern-java.lang.String-) as shown below:\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDateTime;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneOffset;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Define format\r\n    \t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.S&quot;);\r\n    \r\n    \t\t// Get Instant from the time-stamp of 1594611000000\r\n    \t\tInstant instant = Instant.ofEpochMilli(1594611000000L);\r\n    \r\n    \t\t// Get OffsetDateTime from instant\r\n    \t\tOffsetDateTime odt = instant.atOffset(ZoneOffset.ofHoursMinutes(5, 30));\r\n    \r\n    \t\t// Get LocalDateTime from odt\r\n    \t\tLocalDateTime ldt = odt.toLocalDateTime();\r\n    \r\n    \t\t// Get string in the defined format\r\n    \t\tString dateTimeStr = formatter.format(ldt);\r\n    \r\n    \t\t// Display the formatted ldt\r\n    \t\tSystem.out.println(dateTimeStr);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2020-07-13 09:00:00.0\r\n**Note:** `LocalDateTime` drops the important information of time-zone and zone-offset from it. Choose the right date-time object from the [list](https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html) given below as per your requirement:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\r\n  [2]: https://i.stack.imgur.com/jUYEY.png","title":"Date type is getting converted to timestamp in postman JSON response, how to avoid that?","body":"<p>I recommend you switch from the outdated and error-prone <code>java.util</code> date-time API to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a> and format the given date-time using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ofPattern-java.lang.String-\" rel=\"nofollow noreferrer\"><code>DateTimeFormater#ofPattern</code></a> as shown below:</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Define format\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.S&quot;);\n\n        // Get Instant from the time-stamp of 1594611000000\n        Instant instant = Instant.ofEpochMilli(1594611000000L);\n\n        // Get OffsetDateTime from instant\n        OffsetDateTime odt = instant.atOffset(ZoneOffset.ofHoursMinutes(5, 30));\n\n        // Get LocalDateTime from odt\n        LocalDateTime ldt = odt.toLocalDateTime();\n\n        // Get string in the defined format\n        String dateTimeStr = formatter.format(ldt);\n\n        // Display the formatted ldt\n        System.out.println(dateTimeStr);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2020-07-13 09:00:00.0\n</code></pre>\n<p><strong>Note:</strong> <code>LocalDateTime</code> drops the important information of time-zone and zone-offset from it. Choose the right date-time object from the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html\" rel=\"nofollow noreferrer\">list</a> given below as per your requirement:</p>\n<p><a href=\"https://i.stack.imgur.com/jUYEY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jUYEY.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1594040919,"post_id":62756603,"comment_id":110978667,"body_markdown":"I recommend you switch from the outdated and error-prone `java.util` date-time API to the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html) and format the given date-time using [`DateTimeFormater#ofPattern`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ofPattern-java.lang.String-) instead of using `SimpleDateFormat`.","body":"I recommend you switch from the outdated and error-prone <code>java.util</code> date-time API to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a> and format the given date-time using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ofPattern-java.lang.String-\" rel=\"nofollow noreferrer\"><code>DateTimeFormater#ofPattern</code></a> instead of using <code>SimpleDateFormat</code>."}],"tags":[],"owner":{"account_id":7707285,"reputation":1,"user_id":5837862,"display_name":"sasikumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594040615,"creation_date":1594040242,"answer_id":62756603,"question_id":62752915,"body_markdown":"If the POJO object used for serialization/deserialization has a Date field, something like below, it should be informed to the library (say, Jackson ) which is used for serializing/deserializing. \r\n\r\n    class JsonTest{\r\n      private Date date;\r\n    }\r\n\r\nWhen the serialization/deserialization is performed, the details of the data format is to be set with the Serializer/ DeSerializer. Sample Deserialization code using Jackson (using com.fasterxml.jackson.core) can be\r\n\r\n    public static void main(String[] args) throws JsonProcessingException, ParseException \r\n\r\n    {\r\n            //2020-07-13 09:00:00.0\r\n            SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.S&quot;);\r\n            String dateString = format.format( new Date()   );\r\n            Date   date       = format.parse ( &quot;2020-07-13 09:00:00.0&quot; );\r\n            JsonTest jsonTest = new JsonTest();\r\n            jsonTest.setDate(date);\r\n            ObjectMapper mapper = new ObjectMapper();\r\n\r\n            //mapper should know that the  specific format is needed while conversion \r\n            mapper.setDateFormat(format);\r\n            mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n            \r\n            System.out.println(mapper.writeValueAsString(jsonTest));\r\n    \r\n        }\r\n\r\n\r\nThe output will be printed as \r\n\r\n    {&quot;date&quot;:&quot;2020-07-13 09:00:00.0&quot;}\r\n\r\n","title":"Date type is getting converted to timestamp in postman JSON response, how to avoid that?","body":"<p>If the POJO object used for serialization/deserialization has a Date field, something like below, it should be informed to the library (say, Jackson ) which is used for serializing/deserializing.</p>\n<pre><code>class JsonTest{\n  private Date date;\n}\n</code></pre>\n<p>When the serialization/deserialization is performed, the details of the data format is to be set with the Serializer/ DeSerializer. Sample Deserialization code using Jackson (using com.fasterxml.jackson.core) can be</p>\n<pre><code>public static void main(String[] args) throws JsonProcessingException, ParseException \n\n{\n        //2020-07-13 09:00:00.0\n        SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.S&quot;);\n        String dateString = format.format( new Date()   );\n        Date   date       = format.parse ( &quot;2020-07-13 09:00:00.0&quot; );\n        JsonTest jsonTest = new JsonTest();\n        jsonTest.setDate(date);\n        ObjectMapper mapper = new ObjectMapper();\n\n        //mapper should know that the  specific format is needed while conversion \n        mapper.setDateFormat(format);\n        mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n        \n        System.out.println(mapper.writeValueAsString(jsonTest));\n\n    }\n</code></pre>\n<p>The output will be printed as</p>\n<pre><code>{&quot;date&quot;:&quot;2020-07-13 09:00:00.0&quot;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13071916,"reputation":467,"user_id":9445226,"display_name":"Atiksha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693888208,"creation_date":1693888208,"answer_id":77041748,"question_id":62752915,"body_markdown":"As what I understand from your question so want to get the date in a particular format in the response body.\r\n\r\nIn java you can you can add the @JsonFormat annotation above your field in DTO class.\r\nChange the pattern format as per your requirement.\r\n\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n    private Date startDate;","title":"Date type is getting converted to timestamp in postman JSON response, how to avoid that?","body":"<p>As what I understand from your question so want to get the date in a particular format in the response body.</p>\n<p>In java you can you can add the @JsonFormat annotation above your field in DTO class.\nChange the pattern format as per your requirement.</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\nprivate Date startDate;\n</code></pre>\n"}],"owner":{"account_id":8525375,"reputation":356,"user_id":6390984,"accept_rate":43,"display_name":"kumar Anny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2925,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1693888208,"creation_date":1594027070,"question_id":62752915,"body_markdown":"    Java.util.Date\r\n    startDate : 2020-07-13 09:00:00.0\r\n\r\n// JSON response\r\n\r\n    &quot;startDate&quot; : 1594611000000\r\n\r\nI want to display in JSON as 2020-07-13 09:00:00.0","title":"Date type is getting converted to timestamp in postman JSON response, how to avoid that?","body":"<pre><code>Java.util.Date\nstartDate : 2020-07-13 09:00:00.0\n</code></pre>\n<p>// JSON response</p>\n<pre><code>&quot;startDate&quot; : 1594611000000\n</code></pre>\n<p>I want to display in JSON as 2020-07-13 09:00:00.0</p>\n"},{"tags":["java","json","retrofit","retrofit2"],"comments":[{"owner":{"account_id":1966778,"reputation":163,"user_id":1766821,"display_name":"Darien Alvarez"},"score":0,"creation_date":1457494438,"post_id":35880907,"comment_id":59514332,"body_markdown":"Please post IConstructSecureAPI just to know how are you building your request.","body":"Please post IConstructSecureAPI just to know how are you building your request."}],"answers":[{"comments":[{"owner":{"account_id":9207370,"reputation":683,"user_id":6864948,"display_name":"Andrew G"},"score":0,"creation_date":1582716004,"post_id":35882844,"comment_id":106870924,"body_markdown":"Your answer is correct but I have forgot write &quot;.addConverterFactory(GsonConverterFactory.create())&quot; =)","body":"Your answer is correct but I have forgot write &quot;.addConverterFactory(GsonConverterFactory.create())&quot; =)"}],"tags":[],"owner":{"account_id":1268567,"reputation":3392,"user_id":1225337,"accept_rate":75,"display_name":"Nikson Kanti Paul"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582932432,"creation_date":1457497339,"answer_id":35882844,"question_id":35880907,"body_markdown":"*`Body`* uses a single request object, declare your request object as following \r\n\r\n    class Inspection {\r\n        String UUID;\r\n        //..... add your fields \r\n        Project project;      \r\n    }\r\n    \r\n    class Product\r\n    {\r\n       int Id;\r\n       //....... add your fields \r\n    }\r\n\r\nI assume your service `IConstructSecureAPI` endpoint is:\r\n\r\n    @GET(...)    // change based on your api GET/POST\r\n    Call&lt;Response&gt; addInspection(\r\n        @Header(&quot;Authorization&quot;) String accesstoken, \r\n        @Body Inspection request\r\n    );\r\n\r\nand you can declare your desire `Response`.\r\n\r\nCheck this [answer](https://stackoverflow.com/a/28712275/1225337), it uses `HashMap` instead of class.","title":"Retrofit: Unable to create @Body converter for class","body":"<p><em><code>Body</code></em> uses a single request object, declare your request object as following </p>\n\n<pre><code>class Inspection {\n    String UUID;\n    //..... add your fields \n    Project project;      \n}\n\nclass Product\n{\n   int Id;\n   //....... add your fields \n}\n</code></pre>\n\n<p>I assume your service <code>IConstructSecureAPI</code> endpoint is:</p>\n\n<pre><code>@GET(...)    // change based on your api GET/POST\nCall&lt;Response&gt; addInspection(\n    @Header(\"Authorization\") String accesstoken, \n    @Body Inspection request\n);\n</code></pre>\n\n<p>and you can declare your desire <code>Response</code>.</p>\n\n<p>Check this <a href=\"https://stackoverflow.com/a/28712275/1225337\">answer</a>, it uses <code>HashMap</code> instead of class.</p>\n"},{"tags":[],"owner":{"account_id":1966778,"reputation":163,"user_id":1766821,"display_name":"Darien Alvarez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457692437,"creation_date":1457618842,"answer_id":35918745,"question_id":35880907,"body_markdown":"You can use an Interceptor to send Authorization Header in each request\r\n\r\n    class AuthorizationInterceptor implements Interceptor {\r\n    \r\n        @Override\r\n        public Response intercept(Chain chain) throws IOException {\r\n            Request originalRequest = chain.request();\r\n            String authorizationToken = AuthenticationUtils.getToken();\r\n            Request authorizedRequest = originalRequest.newBuilder()\r\n                .header(&quot;Authorization&quot;, authorizationToken)\r\n                .build();\r\n            return chain.proceed(authorizedRequest);\r\n        }\r\n    }","title":"Retrofit: Unable to create @Body converter for class","body":"<p>You can use an Interceptor to send Authorization Header in each request</p>\n\n<pre><code>class AuthorizationInterceptor implements Interceptor {\n\n    @Override\n    public Response intercept(Chain chain) throws IOException {\n        Request originalRequest = chain.request();\n        String authorizationToken = AuthenticationUtils.getToken();\n        Request authorizedRequest = originalRequest.newBuilder()\n            .header(\"Authorization\", authorizationToken)\n            .build();\n        return chain.proceed(authorizedRequest);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16454305,"reputation":114,"user_id":11886899,"display_name":"wdev733"},"score":1,"creation_date":1584415757,"post_id":39480735,"comment_id":107423427,"body_markdown":"Solved the problem with this solution. Many thanks!","body":"Solved the problem with this solution. Many thanks!"}],"tags":[],"owner":{"account_id":3432230,"reputation":3650,"user_id":2876310,"accept_rate":83,"display_name":"kkost"},"comment_count":1,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1473812239,"creation_date":1473812239,"answer_id":39480735,"question_id":35880907,"body_markdown":"**Solution:**\r\ndeclare body value in your interface with next: \r\n\r\n`@Body RequestBody body`\r\nand wrap String JSON object: \r\n\r\n`RequestBody body = RequestBody.create(MediaType.parse(&quot;application/json&quot;), obj.toString());`\r\n\r\n\r\n","title":"Retrofit: Unable to create @Body converter for class","body":"<p><strong>Solution:</strong>\ndeclare body value in your interface with next: </p>\n\n<p><code>@Body RequestBody body</code>\nand wrap String JSON object: </p>\n\n<p><code>RequestBody body = RequestBody.create(MediaType.parse(\"application/json\"), obj.toString());</code></p>\n"},{"tags":[],"owner":{"account_id":1631775,"reputation":863,"user_id":1506153,"accept_rate":50,"display_name":"Emanuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1567762861,"creation_date":1567762861,"answer_id":57819497,"question_id":35880907,"body_markdown":"You can specify a Converter when you create the Retrofit like this\r\n\r\n    Retrofit retrofit = new Retrofit.Builder()\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n\t\t\t.baseUrl(baseurl)\r\n            .client(okHttpClient)\r\n            .build();","title":"Retrofit: Unable to create @Body converter for class","body":"<p>You can specify a Converter when you create the Retrofit like this</p>\n\n<pre><code>Retrofit retrofit = new Retrofit.Builder()\n        .addConverterFactory(GsonConverterFactory.create())\n        .baseUrl(baseurl)\n        .client(okHttpClient)\n        .build();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1269865,"reputation":928,"user_id":1226434,"accept_rate":76,"display_name":"Taylor Kline"},"score":1,"creation_date":1614017349,"post_id":61318124,"comment_id":117250157,"body_markdown":"HA! This was my problem. Nice suggestion.","body":"HA! This was my problem. Nice suggestion."},{"owner":{"account_id":10855964,"reputation":878,"user_id":7982318,"display_name":"Kirill Starostin"},"score":1,"creation_date":1627578632,"post_id":61318124,"comment_id":121200150,"body_markdown":"Wow, thank you! I wish error message was more clear on that","body":"Wow, thank you! I wish error message was more clear on that"}],"tags":[],"owner":{"account_id":11259570,"reputation":916,"user_id":8258305,"accept_rate":60,"display_name":"Mohd Qasim"},"comment_count":2,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1675948610,"creation_date":1587371408,"answer_id":61318124,"question_id":35880907,"body_markdown":"There is chance of you kept same `@SerializedName(&quot;&quot;)` for multiple `vairable/fields/tags`","title":"Retrofit: Unable to create @Body converter for class","body":"<p>There is chance of you kept same <code>@SerializedName(&quot;&quot;)</code> for multiple <code>vairable/fields/tags</code></p>\n"},{"tags":[],"owner":{"account_id":1050089,"reputation":20492,"user_id":1054245,"accept_rate":100,"display_name":"Prince"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1606845418,"creation_date":1606845418,"answer_id":65095891,"question_id":35880907,"body_markdown":"If this is due to `@SerializedName` make sure it is not dulplicated. \r\n\r\nFor e.g. This error will be thrown in below case: (Note: `bookingId` is passed twice)\r\n\r\n    @SerializedName(value=&quot;bookingId&quot;, alternate={&quot;id&quot;, &quot;bookingId&quot;})\r\n\r\nBut, this is the correct:\r\n\r\n    @SerializedName(value=&quot;bookingId&quot;, alternate={&quot;id&quot;, &quot;someOtherId&quot;, &quot;whateverId&quot;})","title":"Retrofit: Unable to create @Body converter for class","body":"<p>If this is due to <code>@SerializedName</code> make sure it is not dulplicated.</p>\n<p>For e.g. This error will be thrown in below case: (Note: <code>bookingId</code> is passed twice)</p>\n<pre><code>@SerializedName(value=&quot;bookingId&quot;, alternate={&quot;id&quot;, &quot;bookingId&quot;})\n</code></pre>\n<p>But, this is the correct:</p>\n<pre><code>@SerializedName(value=&quot;bookingId&quot;, alternate={&quot;id&quot;, &quot;someOtherId&quot;, &quot;whateverId&quot;})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10958415,"reputation":1159,"user_id":8057127,"display_name":"Harsh Gundecha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636029050,"creation_date":1636029050,"answer_id":69839308,"question_id":35880907,"body_markdown":"I kept getting this error when I **upgraded to Java 17**, still working fine on Java 11.\r\n#### Here&#39;s what worked for me\r\n- To go deeper into the Exception I put a debug point in the `Utils.java` found in retrofit stack trace.\r\n- Doing so led me to the **narrower cause** being: `java.lang.reflect.InaccessibleObjectException: Unable to make field private final byte java.time.LocalTime.hour accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @35e2d654`\r\n- Googling down further from here led me to https://github.com/mockk/mockk/issues/681#issuecomment-959646598 which in a nutshell suggests to add `--add-opens java.base/java.time=ALL-UNNAMED` as a JVM argument.\r\n- Boom, It worked.","title":"Retrofit: Unable to create @Body converter for class","body":"<p>I kept getting this error when I <strong>upgraded to Java 17</strong>, still working fine on Java 11.</p>\n<h4>Here's what worked for me</h4>\n<ul>\n<li>To go deeper into the Exception I put a debug point in the <code>Utils.java</code> found in retrofit stack trace.</li>\n<li>Doing so led me to the <strong>narrower cause</strong> being: <code>java.lang.reflect.InaccessibleObjectException: Unable to make field private final byte java.time.LocalTime.hour accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @35e2d654</code></li>\n<li>Googling down further from here led me to <a href=\"https://github.com/mockk/mockk/issues/681#issuecomment-959646598\" rel=\"nofollow noreferrer\">https://github.com/mockk/mockk/issues/681#issuecomment-959646598</a> which in a nutshell suggests to add <code>--add-opens java.base/java.time=ALL-UNNAMED</code> as a JVM argument.</li>\n<li>Boom, It worked.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9809771,"reputation":6806,"user_id":10699119,"display_name":"Sana Ebadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638109426,"creation_date":1638109426,"answer_id":70144314,"question_id":35880907,"body_markdown":"I am using `Moshi` and `Retrofit` and my problem was I forgot to add  `@JsonSerializable` annotation for the `DTO` class for `@body`.\r\nyou should add this annotation like this:\r\n\r\n\r\n    @JsonSerializable\r\n    data class RegisterDTO(\r\n        @field:Json(name = &quot;device_id&quot;) val deviceId: String,\r\n    )","title":"Retrofit: Unable to create @Body converter for class","body":"<p>I am using <code>Moshi</code> and <code>Retrofit</code> and my problem was I forgot to add  <code>@JsonSerializable</code> annotation for the <code>DTO</code> class for <code>@body</code>.\nyou should add this annotation like this:</p>\n<pre><code>@JsonSerializable\ndata class RegisterDTO(\n    @field:Json(name = &quot;device_id&quot;) val deviceId: String,\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1144386,"reputation":28762,"user_id":1127485,"accept_rate":83,"display_name":"sschuberth"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641319189,"creation_date":1641319189,"answer_id":70583156,"question_id":35880907,"body_markdown":"In my case I simply forgot to apply the *kotlinx.serialization* plugin for Gradle, so no code for the serializers was generated. Fix it via:\r\n\r\n```kotlin\r\nplugins {\r\n    kotlin(&quot;plugin.serialization&quot;)\r\n}\r\n```\r\n","title":"Retrofit: Unable to create @Body converter for class","body":"<p>In my case I simply forgot to apply the <em>kotlinx.serialization</em> plugin for Gradle, so no code for the serializers was generated. Fix it via:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    kotlin(&quot;plugin.serialization&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14487226,"reputation":401,"user_id":10464730,"display_name":"rminaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693887665,"creation_date":1693887665,"answer_id":77041721,"question_id":35880907,"body_markdown":"I got a pretty weird case for this issue. So I have a model that is used for parsing that has a `List` of object fields that has a wrong `SerializedName` value. It was alright before, because I&#39;m not using it for anything. But now I wanted to use it for something, so I fixed it. Then I checked the model referenced by the `List` and saw that, somehow, I can also use it to parse in `Retrofit` even though it doesn&#39;t have a `SerializedName`, so I added one for each field of the referenced model/object. And the error started appearing after that. I checked that I do have `.addConverterFactory(GsonConverterFactory.create())` on my `Retrofit` builder, so I&#39;m thoroughly confused as to why I&#39;m getting an error. Because of desperation, I removed the `SerializedName` that I&#39;ve added on the referenced model, and it worked again. I think the reason my models work even without `SerializedName` is because the field name themselves already looks like the json fields, which is all lower case and snail cased. And when I added `SerializedName`, `Retrofit` considered that already an additional `SerializedName`, so I got the error which seems to be sometimes caused by multiple `SerializedName` with the same value.","title":"Retrofit: Unable to create @Body converter for class","body":"<p>I got a pretty weird case for this issue. So I have a model that is used for parsing that has a <code>List</code> of object fields that has a wrong <code>SerializedName</code> value. It was alright before, because I'm not using it for anything. But now I wanted to use it for something, so I fixed it. Then I checked the model referenced by the <code>List</code> and saw that, somehow, I can also use it to parse in <code>Retrofit</code> even though it doesn't have a <code>SerializedName</code>, so I added one for each field of the referenced model/object. And the error started appearing after that. I checked that I do have <code>.addConverterFactory(GsonConverterFactory.create())</code> on my <code>Retrofit</code> builder, so I'm thoroughly confused as to why I'm getting an error. Because of desperation, I removed the <code>SerializedName</code> that I've added on the referenced model, and it worked again. I think the reason my models work even without <code>SerializedName</code> is because the field name themselves already looks like the json fields, which is all lower case and snail cased. And when I added <code>SerializedName</code>, <code>Retrofit</code> considered that already an additional <code>SerializedName</code>, so I got the error which seems to be sometimes caused by multiple <code>SerializedName</code> with the same value.</p>\n"}],"owner":{"account_id":3432230,"reputation":3650,"user_id":2876310,"accept_rate":83,"display_name":"kkost"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42392,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":39480735,"answer_count":10,"score":31,"last_activity_date":1693887665,"creation_date":1457484393,"question_id":35880907,"body_markdown":"I need to send next json via retrofit 2:\r\n\r\n    {\r\n    \t&quot;Inspection&quot;: {\r\n    \t\t&quot;UUID&quot;: &quot;name&quot;,\r\n    \t\t&quot;ModifiedTime&quot;: &quot;2016-03-09T01:13&quot;,\r\n    \t\t&quot;CreatedTime&quot;: &quot;2016-03-09T01:13&quot;,\r\n    \t\t&quot;ReviewedWith&quot;: &quot;name2&quot;,\r\n    \t\t&quot;Type&quot;: 1,\r\n    \t\t&quot;Project&quot;: {\r\n    \t\t\t&quot;Id&quot;: 41\r\n    \t\t},\r\n            &quot;ActionTypes&quot;: [1]\r\n    \t}\t\r\n    }\r\n   \r\nWith Header: `Authorization: access_token_value`\r\n\r\n I tried this: \r\n   \r\n    //header parameter\r\n    String accessToken = Requests.getAccessToken();\r\n\r\n    JsonObject obj = new JsonObject();\r\n    JsonObject inspection = new JsonObject();\r\n\r\n    inspection.addProperty(&quot;UUID&quot;,&quot;name&quot;);\r\n    inspection.addProperty(&quot;ModifiedTime&quot;,&quot;2016-03-09T01:13&quot;);\r\n    inspection.addProperty(&quot;CreatedTime&quot;,&quot;2016-03-09T01:13&quot;);\r\n    inspection.addProperty(&quot;ReviewedWith&quot;,&quot;name2&quot;);\r\n    inspection.addProperty(&quot;Type&quot;,&quot;1&quot;);\r\n\r\n    JsonObject project = new JsonObject();\r\n    project.addProperty(&quot;Id&quot;, 41);\r\n\r\n    inspection.add(&quot;Project&quot;, project);\r\n    obj.add(&quot;Inspection&quot;, inspection);\r\n    \r\n    Retrofit restAdapter = new Retrofit.Builder()\r\n            .baseUrl(Constants.ROOT_API_URL)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .addConverterFactory(ScalarsConverterFactory.create())\r\n            .build();\r\n    IConstructSecureAPI service = restAdapter.create(IConstructSecureAPI.class);\r\n    Call&lt;JsonElement&gt; result = service.addInspection(accessToken, obj);\r\n    JsonElement element = result.execute().body();\r\n\r\nBut everytime i recieved exception: `java.lang.IllegalArgumentException: Unable to create @Body converter for class com.google.gson.JsonObject (parameter #2)`\r\n\r\nHow can I send it ? Or any another idea how I can do it. You can even offer me with parameter as simple `String` with json inside. It will suit for me\r\n\r\n","title":"Retrofit: Unable to create @Body converter for class","body":"<p>I need to send next json via retrofit 2:</p>\n\n<pre><code>{\n    \"Inspection\": {\n        \"UUID\": \"name\",\n        \"ModifiedTime\": \"2016-03-09T01:13\",\n        \"CreatedTime\": \"2016-03-09T01:13\",\n        \"ReviewedWith\": \"name2\",\n        \"Type\": 1,\n        \"Project\": {\n            \"Id\": 41\n        },\n        \"ActionTypes\": [1]\n    }   \n}\n</code></pre>\n\n<p>With Header: <code>Authorization: access_token_value</code></p>\n\n<p>I tried this: </p>\n\n<pre><code>//header parameter\nString accessToken = Requests.getAccessToken();\n\nJsonObject obj = new JsonObject();\nJsonObject inspection = new JsonObject();\n\ninspection.addProperty(\"UUID\",\"name\");\ninspection.addProperty(\"ModifiedTime\",\"2016-03-09T01:13\");\ninspection.addProperty(\"CreatedTime\",\"2016-03-09T01:13\");\ninspection.addProperty(\"ReviewedWith\",\"name2\");\ninspection.addProperty(\"Type\",\"1\");\n\nJsonObject project = new JsonObject();\nproject.addProperty(\"Id\", 41);\n\ninspection.add(\"Project\", project);\nobj.add(\"Inspection\", inspection);\n\nRetrofit restAdapter = new Retrofit.Builder()\n        .baseUrl(Constants.ROOT_API_URL)\n        .addConverterFactory(GsonConverterFactory.create())\n        .addConverterFactory(ScalarsConverterFactory.create())\n        .build();\nIConstructSecureAPI service = restAdapter.create(IConstructSecureAPI.class);\nCall&lt;JsonElement&gt; result = service.addInspection(accessToken, obj);\nJsonElement element = result.execute().body();\n</code></pre>\n\n<p>But everytime i recieved exception: <code>java.lang.IllegalArgumentException: Unable to create @Body converter for class com.google.gson.JsonObject (parameter #2)</code></p>\n\n<p>How can I send it ? Or any another idea how I can do it. You can even offer me with parameter as simple <code>String</code> with json inside. It will suit for me</p>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":19205336,"reputation":63,"user_id":14032341,"display_name":"xynb"},"score":0,"creation_date":1627903058,"post_id":68620164,"comment_id":121271557,"body_markdown":"Thanks for the answer , However the error occurs before this statement .I mean It doesn&#39;t even meet this line .","body":"Thanks for the answer , However the error occurs before this statement .I mean It doesn&#39;t even meet this line ."},{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1627903547,"post_id":68620164,"comment_id":121271719,"body_markdown":"OK, please provide related code snippet and full stack trace of your exception.","body":"OK, please provide related code snippet and full stack trace of your exception."},{"owner":{"account_id":8818268,"reputation":150,"user_id":6588997,"display_name":"Johannes Tuikkala"},"score":0,"creation_date":1661422551,"post_id":68620164,"comment_id":129771032,"body_markdown":"For me this happened since I forgot to add the DeltaSpike `@FirstResult` annotation to the `int offset` parameter and the `@MaxResults` to the `int limit`","body":"For me this happened since I forgot to add the DeltaSpike <code>@FirstResult</code> annotation to the <code>int offset</code> parameter and the <code>@MaxResults</code> to the <code>int limit</code>"},{"owner":{"account_id":4196374,"reputation":1397,"user_id":3437688,"accept_rate":60,"display_name":"Barrosy"},"score":0,"creation_date":1670715942,"post_id":68620164,"comment_id":131938284,"body_markdown":"I do not really understand that when one is using JPQL, marking question marks with ordinal is mandatory. Why not use a default order of 1...2...3... if one is not defining ordinals? Is there any specific reasoning behind this? I could only assume syntax is expected to be this way to raise awareness of a developer.","body":"I do not really understand that when one is using JPQL, marking question marks with ordinal is mandatory. Why not use a default order of 1...2...3... if one is not defining ordinals? Is there any specific reasoning behind this? I could only assume syntax is expected to be this way to raise awareness of a developer."}],"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1627900616,"creation_date":1627900616,"answer_id":68620164,"question_id":68619839,"body_markdown":"As it&#39;s stated in the [documentation](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#jpql-api):\r\n\r\n&gt; JPQL-style positional parameters are declared using a question mark followed by an ordinal - `?1`, `?2`. *The ordinals start with 1*. Just like with named parameters, positional parameters can also appear multiple times in a query.\r\n\r\nSo, try to rewrite your query in this way:\r\n\r\n``` java\r\nQuery query = entityManager.createQuery(\r\n   &quot;select result from com.a.b.c.loan.ArchiveHistory result where result.id =?1&quot;\r\n).setParameter( 1, 23L );\r\n```\r\n\r\nOr, as more readable alternative, I would suggest to use parameter binding by names:\r\n\r\n``` java\r\nQuery query = entityManager.createQuery(\r\n   &quot;select result from com.a.b.c.loan.ArchiveHistory result where result.id = :id&quot;\r\n).setParameter(&quot;id&quot;, 23L );\r\n```","title":"why does &quot;Could not locate ordinal parameter [0], expecting one of []&quot; happen?","body":"<p>As it's stated in the <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#jpql-api\" rel=\"noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>JPQL-style positional parameters are declared using a question mark followed by an ordinal - <code>?1</code>, <code>?2</code>. <em>The ordinals start with 1</em>. Just like with named parameters, positional parameters can also appear multiple times in a query.</p>\n</blockquote>\n<p>So, try to rewrite your query in this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = entityManager.createQuery(\n   &quot;select result from com.a.b.c.loan.ArchiveHistory result where result.id =?1&quot;\n).setParameter( 1, 23L );\n</code></pre>\n<p>Or, as more readable alternative, I would suggest to use parameter binding by names:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = entityManager.createQuery(\n   &quot;select result from com.a.b.c.loan.ArchiveHistory result where result.id = :id&quot;\n).setParameter(&quot;id&quot;, 23L );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22900420,"reputation":11,"user_id":17039223,"display_name":"Sachintha Dilshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693887409,"creation_date":1693887409,"answer_id":77041711,"question_id":68619839,"body_markdown":"Hope the following code snippet would answer your problem.\r\n\r\n    Query query = session.createQuery(&quot;FROM UserEntity where email=?1 and status=?2&quot;);\r\n        query.setParameter(1,&quot;abc@email.com&quot;);\r\n        query.setParameter(2,&quot;in&quot;);\r\n        query.executeUpdate();\r\n\r\nwhen we want to use positional parameters within a HQL query, we have to declare these as ordinal parameters that start with 1 and following &#39;?&#39;. ","title":"why does &quot;Could not locate ordinal parameter [0], expecting one of []&quot; happen?","body":"<p>Hope the following code snippet would answer your problem.</p>\n<pre><code>Query query = session.createQuery(&quot;FROM UserEntity where email=?1 and status=?2&quot;);\n    query.setParameter(1,&quot;abc@email.com&quot;);\n    query.setParameter(2,&quot;in&quot;);\n    query.executeUpdate();\n</code></pre>\n<p>when we want to use positional parameters within a HQL query, we have to declare these as ordinal parameters that start with 1 and following '?'.</p>\n"}],"owner":{"account_id":19205336,"reputation":63,"user_id":14032341,"display_name":"xynb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14259,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":68620164,"answer_count":2,"score":6,"last_activity_date":1693887409,"creation_date":1627899175,"question_id":68619839,"body_markdown":"I am using Hibernate as ORM. When I searched about this error, it was said that my problem is due to mapping but I checked it and didn&#39;t find any problem in it \r\n\r\nMy query is :\r\n\r\n    select result from com.a.b.c.loan.ArchiveHistory result where result.id =?\r\n\r\n\r\n\r\nThe mapping is :\r\n\r\n    &lt;hibernate-mapping&gt;\r\n    &lt;class name=&quot;com.a.b.c.loan.ArchiveHistory&quot; mutable=&quot;false&quot; table=&quot;ARCT_HISTORY_VIEW&quot;&gt;\r\n    \r\n            &lt;id name=&quot;id&quot; column=&quot;BIBLIOGRAPHICID&quot; type=&quot;long&quot; unsaved-value=&quot;0&quot;&gt;\r\n            &lt;/id&gt;\r\n        &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;","title":"why does &quot;Could not locate ordinal parameter [0], expecting one of []&quot; happen?","body":"<p>I am using Hibernate as ORM. When I searched about this error, it was said that my problem is due to mapping but I checked it and didn't find any problem in it</p>\n<p>My query is :</p>\n<pre><code>select result from com.a.b.c.loan.ArchiveHistory result where result.id =?\n</code></pre>\n<p>The mapping is :</p>\n<pre><code>&lt;hibernate-mapping&gt;\n&lt;class name=&quot;com.a.b.c.loan.ArchiveHistory&quot; mutable=&quot;false&quot; table=&quot;ARCT_HISTORY_VIEW&quot;&gt;\n\n        &lt;id name=&quot;id&quot; column=&quot;BIBLIOGRAPHICID&quot; type=&quot;long&quot; unsaved-value=&quot;0&quot;&gt;\n        &lt;/id&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n"},{"tags":["java","spring","transactions"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1691798543,"post_id":76883434,"comment_id":135544992,"body_markdown":"Can you please tell if you need to call the method twice immediately? Or just that you are calling the method multiple times?","body":"Can you please tell if you need to call the method twice immediately? Or just that you are calling the method multiple times?"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1692068643,"post_id":76883434,"comment_id":135572035,"body_markdown":"@hermit I&#39;m calling the method multiple times","body":"@hermit I&#39;m calling the method multiple times"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1692178125,"post_id":76883434,"comment_id":135587360,"body_markdown":"@hermit can you please have a look","body":"@hermit can you please have a look"},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":3,"creation_date":1692258904,"post_id":76883434,"comment_id":135599629,"body_markdown":"@Rod Could you post the code that calls this method?","body":"@Rod Could you post the code that calls this method?"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1692262768,"post_id":76883434,"comment_id":135600358,"body_markdown":"@Joan i have added the code don&#39;t think it will be much help as its a simple method call","body":"@Joan i have added the code don&#39;t think it will be much help as its a simple method call"},{"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"score":3,"creation_date":1692273552,"post_id":76883434,"comment_id":135602446,"body_markdown":"@Rob, your question is not clear if you don&#39;t also put the 2nd invocation to `userManager.upgradeToSuperUser(...)`","body":"@Rob, your question is not clear if you don&#39;t also put the 2nd invocation to <code>userManager.upgradeToSuperUser(...)</code>"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1692329953,"post_id":76883434,"comment_id":135611365,"body_markdown":"@Adrian I&#39;m manually calling this method twice; suppose there are multiple users and I&#39;m calling to make the users upgrade to superuser one by one. The same error occurs when I delete multiple users. Also, after restarting the server the error goes away once and then occurs again when called a second time. I think the transaction are not able to create or destroy, i&#39;m upgrading my application from hibernate 3 to 5, spring 3 to 5 and and earlier it was working fine","body":"@Adrian I&#39;m manually calling this method twice; suppose there are multiple users and I&#39;m calling to make the users upgrade to superuser one by one. The same error occurs when I delete multiple users. Also, after restarting the server the error goes away once and then occurs again when called a second time. I think the transaction are not able to create or destroy, i&#39;m upgrading my application from hibernate 3 to 5, spring 3 to 5 and and earlier it was working fine"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1692345222,"post_id":76883434,"comment_id":135612997,"body_markdown":"I am still not sure if &quot;calling twice&quot; means in one thread sequentially, or in multiple threads in parallel (e.g. originated from multiple calls of a web service endpoint). The meaning of &quot;manually calling this method twice&quot; is very cryptic without the code shown.","body":"I am still not sure if &quot;calling twice&quot; means in one thread sequentially, or in multiple threads in parallel (e.g. originated from multiple calls of a web service endpoint). The meaning of &quot;manually calling this method twice&quot; is very cryptic without the code shown."},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":1,"creation_date":1692352573,"post_id":76883434,"comment_id":135614418,"body_markdown":"@HonzaZidek, they are sequential threads, for example suppose on the web i clicked a hyperlink that calls the method once, and when the execution is completed and i tried ti click on the hyperlink again then this error occurs. Please let me know if anything else is needed","body":"@HonzaZidek, they are sequential threads, for example suppose on the web i clicked a hyperlink that calls the method once, and when the execution is completed and i tried ti click on the hyperlink again then this error occurs. Please let me know if anything else is needed"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1692354036,"post_id":76883434,"comment_id":135614654,"body_markdown":"If the action is triggered from web by clicking on a hyperlink, then almost for sure it is running in another thread and as such it is not strictly sequential. Have you checked if my answer is applicable to your case?","body":"If the action is triggered from web by clicking on a hyperlink, then almost for sure it is running in another thread and as such it is not strictly sequential. Have you checked if my answer is applicable to your case?"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1692357750,"post_id":76883434,"comment_id":135615347,"body_markdown":"@HonzaZidek, i checked your answer but its not applicable please check the edit 2  in the original post","body":"@HonzaZidek, i checked your answer but its not applicable please check the edit 2  in the original post"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692505318,"post_id":76883434,"comment_id":135631328,"body_markdown":"How are you creating the entity manager? @Rob. Is the entity manager application managed or container managed?","body":"How are you creating the entity manager? @Rob. Is the entity manager application managed or container managed?"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1692589737,"post_id":76883434,"comment_id":135638968,"body_markdown":"@hermit, its container-managed, added edit 3","body":"@hermit, its container-managed, added edit 3"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692595552,"post_id":76883434,"comment_id":135639400,"body_markdown":"Can you try autowiring the entity manager directly if you are creating  itfrom from xml configurations. something this: @PersistenceContext private final EntityManager entityManager;","body":"Can you try autowiring the entity manager directly if you are creating  itfrom from xml configurations. something this: @PersistenceContext private final EntityManager entityManager;"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1692599852,"post_id":76883434,"comment_id":135639940,"body_markdown":"yes already autowired with @PersistenceContext private EntityManager entityManager;","body":"yes already autowired with @PersistenceContext private EntityManager entityManager;"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1692618402,"post_id":76883434,"comment_id":135643480,"body_markdown":"@hermit i just found that in one class i&#39;m using import org.springframework.transaction.annotation.Transactional and in another i&#39;m using javax.transaction.Transactional can a project have both the imports in different classes","body":"@hermit i just found that in one class i&#39;m using import org.springframework.transaction.annotation.Transactional and in another i&#39;m using javax.transaction.Transactional can a project have both the imports in different classes"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1692620291,"post_id":76883434,"comment_id":135643922,"body_markdown":"removing the additional javax.transaction.Transactionaj also didn&#39;t resolve the issue","body":"removing the additional javax.transaction.Transactionaj also didn&#39;t resolve the issue"}],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692347878,"creation_date":1692347878,"answer_id":76927693,"question_id":76883434,"body_markdown":"You didn&#39;t show properly *how* you call the incriminated `upgradeToSuperUser()` transactional method. However as it is the most typical error, I strongly suspect that you are calling it within the same object as it is defined. \r\n\r\nIn this case, the `@Transactional` annotation is not effective. The Spring default is Spring AOP, which causes that the Spring-generated proxy objects call its own methods internally without the proxy code, so the `@Transactional` decoration is ignored.\r\n\r\nYou will find more detailed description e.g. here: https://stackoverflow.com/q/3423972/2886891","title":"calling a transactional method twice resulting in error","body":"<p>You didn't show properly <em>how</em> you call the incriminated <code>upgradeToSuperUser()</code> transactional method. However as it is the most typical error, I strongly suspect that you are calling it within the same object as it is defined.</p>\n<p>In this case, the <code>@Transactional</code> annotation is not effective. The Spring default is Spring AOP, which causes that the Spring-generated proxy objects call its own methods internally without the proxy code, so the <code>@Transactional</code> decoration is ignored.</p>\n<p>You will find more detailed description e.g. here: <a href=\"https://stackoverflow.com/q/3423972/2886891\">Spring @Transaction method call by the method within the same class, does not work?</a></p>\n"}],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1693884770,"creation_date":1691755712,"question_id":76883434,"body_markdown":"When I call the below method twice it results in &quot;`javax.persistence.TransactionRequiredException: Executing an update/delete query`&quot; error. I confirm that the first-time error is not there only when the method call is complete i&#39;m calling this method.\r\n\r\nthe import used is &quot;org.springframework.transaction.annotation.Transactional;&quot;\r\nFor the first time this method &quot;TransactionSynchronizationManager.isActualTransactionActive()&quot; return true and the second time it returns false.\r\n\r\nI have followed all the approaches present in &quot;https://stackoverflow.com/questions/25821579/transactionrequiredexception-executing-an-update-delete-query&quot; but none helped.\r\n\r\n\r\n\r\n    @Override\r\n        @Transactional(propagation = Propagation.REQUIRED)\r\n        public void upgradeToSuperUser(UserBO userToBeMadeSuperUser, UserBO loggedInUser) {\r\n    System.out.println(&quot;Transactional Message  &quot;+TransactionSynchronizationManager.isActualTransactionActive());\r\n\t\t\r\n            javax.persistence.Query query = entityManager\r\n                    .createNativeQuery(&quot;Update USER SET ROLE=&#39;SUPERUSER&#39; where ID=:newSuperUserId&quot;);\r\n            query.setParameter(&quot;newSuperUserId&quot;, userToBeMadeSuperUser.getId());\r\n            query.executeUpdate();\r\n    \r\n            javax.persistence.Query query0 = entityManager\r\n                    .createNativeQuery(&quot;Update USER SET ROLE=&#39;TEACHER&#39; where ID=:oldSuperUserId&quot;);\r\n            query0.setParameter(&quot;oldSuperUserId&quot;, loggedInUser.getId());\r\n            query0.executeUpdate();\r\n    \r\n           \r\n\r\nedit 1:-\r\nFrom where its called this method is written in action class\r\n\r\n    public String SuUser() {\r\n    \t\tUserBO userToBeMadeSuperUser = userManager.getUserByRefId(userRefID);\r\n    \t\tUserBO currentSuperUser = userManager\r\n    \t\t\t\t.findSuperUserForLoggedInUser(userToBeMadeSuperUser\r\n    \t\t\t\t\t\t.getSchoolBO().getId());\r\n    \t\tif (Role.getValue(currentSuperUser.getRole()).equals(\r\n    \t\t\t\tRole.getValue(Role.SUPERUSER))\r\n    \t\t\t\t&amp;&amp; Role.getValue(userToBeMadeSuperUser.getRole()).equals(\r\n    \t\t\t\t\t\tRole.getValue(Role.TEACHER))) {\r\n    \t\t\tuserManager.upgradeToSuperUser(userToBeMadeSuperUser,\r\n    \t\t\t\t\tcurrentSuperUser);\r\n\r\nEDIT 2:- \r\nI&#39;m upgrading my spring 3 to 5, hibernate 3 to 5  with aspectj version v1.8.10. \r\n\r\n    &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\r\n    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;outxml&gt;true&lt;/outxml&gt;\r\n    \t\t\t\t\t&lt;aspectLibraries&gt;\r\n    \t\t\t\t\t\t&lt;aspectLibrary&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/aspectLibrary&gt;\r\n    \t\t\t\t\t&lt;/aspectLibraries&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t\t&lt;complianceLevel&gt;1.8&lt;/complianceLevel&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\r\nand my appContext.xml for transactions looks like\r\n\r\n    &lt;bean id=&quot;transactionManager&quot;\r\n    \t\tclass=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;entityManagerFactory&quot;\r\n    \t\t\tref=&quot;entityManagerFactory&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    &lt;tx:annotation-driven mode=&quot;aspectj&quot;\r\n    \t\ttransaction-manager=&quot;transactionManager&quot; proxy-target-class=&quot;true&quot; /&gt;\r\n\r\nEDIT 3:-\r\nentity manager in appContext.xml\r\n\t\r\n\r\n    &lt;bean id=&quot;entityManager&quot;\r\n      class=&quot;org.springframework.orm.jpa.support.SharedEntityManagerBean&quot;&gt;\r\n        \t\t&lt;property name=&quot;entityManagerFactory&quot;\r\n        \t\t\tref=&quot;entityManagerFactory&quot; /&gt;\r\n        \t&lt;/bean&gt;","title":"calling a transactional method twice resulting in error","body":"<p>When I call the below method twice it results in &quot;<code>javax.persistence.TransactionRequiredException: Executing an update/delete query</code>&quot; error. I confirm that the first-time error is not there only when the method call is complete i'm calling this method.</p>\n<p>the import used is &quot;org.springframework.transaction.annotation.Transactional;&quot;\nFor the first time this method &quot;TransactionSynchronizationManager.isActualTransactionActive()&quot; return true and the second time it returns false.</p>\n<p>I have followed all the approaches present in &quot;https://stackoverflow.com/questions/25821579/transactionrequiredexception-executing-an-update-delete-query&quot; but none helped.</p>\n<pre><code>@Override\n    @Transactional(propagation = Propagation.REQUIRED)\n    public void upgradeToSuperUser(UserBO userToBeMadeSuperUser, UserBO loggedInUser) {\nSystem.out.println(&quot;Transactional Message  &quot;+TransactionSynchronizationManager.isActualTransactionActive());\n    \n        javax.persistence.Query query = entityManager\n                .createNativeQuery(&quot;Update USER SET ROLE='SUPERUSER' where ID=:newSuperUserId&quot;);\n        query.setParameter(&quot;newSuperUserId&quot;, userToBeMadeSuperUser.getId());\n        query.executeUpdate();\n\n        javax.persistence.Query query0 = entityManager\n                .createNativeQuery(&quot;Update USER SET ROLE='TEACHER' where ID=:oldSuperUserId&quot;);\n        query0.setParameter(&quot;oldSuperUserId&quot;, loggedInUser.getId());\n        query0.executeUpdate();\n\n       \n</code></pre>\n<p>edit 1:-\nFrom where its called this method is written in action class</p>\n<pre><code>public String SuUser() {\n        UserBO userToBeMadeSuperUser = userManager.getUserByRefId(userRefID);\n        UserBO currentSuperUser = userManager\n                .findSuperUserForLoggedInUser(userToBeMadeSuperUser\n                        .getSchoolBO().getId());\n        if (Role.getValue(currentSuperUser.getRole()).equals(\n                Role.getValue(Role.SUPERUSER))\n                &amp;&amp; Role.getValue(userToBeMadeSuperUser.getRole()).equals(\n                        Role.getValue(Role.TEACHER))) {\n            userManager.upgradeToSuperUser(userToBeMadeSuperUser,\n                    currentSuperUser);\n</code></pre>\n<p>EDIT 2:-\nI'm upgrading my spring 3 to 5, hibernate 3 to 5  with aspectj version v1.8.10.</p>\n<pre><code>&lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\n&lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.7&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;outxml&gt;true&lt;/outxml&gt;\n                    &lt;aspectLibraries&gt;\n                        &lt;aspectLibrary&gt;\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n                        &lt;/aspectLibrary&gt;\n                    &lt;/aspectLibraries&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;complianceLevel&gt;1.8&lt;/complianceLevel&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>and my appContext.xml for transactions looks like</p>\n<pre><code>&lt;bean id=&quot;transactionManager&quot;\n        class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\n        &lt;property name=&quot;entityManagerFactory&quot;\n            ref=&quot;entityManagerFactory&quot; /&gt;\n    &lt;/bean&gt;\n&lt;tx:annotation-driven mode=&quot;aspectj&quot;\n        transaction-manager=&quot;transactionManager&quot; proxy-target-class=&quot;true&quot; /&gt;\n</code></pre>\n<p>EDIT 3:-\nentity manager in appContext.xml</p>\n<pre><code>&lt;bean id=&quot;entityManager&quot;\n  class=&quot;org.springframework.orm.jpa.support.SharedEntityManagerBean&quot;&gt;\n            &lt;property name=&quot;entityManagerFactory&quot;\n                ref=&quot;entityManagerFactory&quot; /&gt;\n        &lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7306035,"reputation":478,"user_id":5566935,"display_name":"Mohammad Abdul Alim"},"score":0,"creation_date":1621919960,"post_id":67681760,"comment_id":119631428,"body_markdown":"you can have a look [here](https://stackoverflow.com/q/37495822/5566935)","body":"you can have a look <a href=\"https://stackoverflow.com/q/37495822/5566935\">here</a>"},{"owner":{"account_id":18310204,"reputation":111,"user_id":13333174,"display_name":"Mauricio"},"score":1,"creation_date":1621922221,"post_id":67681760,"comment_id":119631992,"body_markdown":"@MohammadAbdulAlim Thanks, but I still not getting the music, if I use INTERNAL_CONTENT_URI I only get ringtones, I&#39;m wondering for the permissions","body":"@MohammadAbdulAlim Thanks, but I still not getting the music, if I use INTERNAL_CONTENT_URI I only get ringtones, I&#39;m wondering for the permissions"}],"answers":[{"tags":[],"owner":{"account_id":8882163,"reputation":31,"user_id":6631835,"display_name":"tf z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693884533,"creation_date":1693884533,"answer_id":77041590,"question_id":67681760,"body_markdown":"Maybe , you need request permission before get audio.\r\n\r\nI hope this answer can help you. &lt;https://stackoverflow.com/a/77041318/6631835&gt;","title":"MediaStore.Audio and ContentResolver.query not getting music","body":"<p>Maybe , you need request permission before get audio.</p>\n<p>I hope this answer can help you. <a href=\"https://stackoverflow.com/a/77041318/6631835\">https://stackoverflow.com/a/77041318/6631835</a></p>\n"}],"owner":{"account_id":18310204,"reputation":111,"user_id":13333174,"display_name":"Mauricio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693884533,"creation_date":1621916579,"question_id":67681760,"body_markdown":"I have a Music player project in Android Studio, and I need to get all music from the device.  \r\nBut somehow `this.getContentResolver().query();` is not getting any music from my device.  \r\nIn the logcat there is no log, and if I debug the app before the while loop and after it(because it does not enter in the while loop) it says that the cursor does not have any row(mCount = 0)\r\n\r\n```java\r\nUri uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\nContentResolver resolver = this.getContentResolver();\r\n\r\nString[] projection = {\r\n\tMediaStore.Audio.Media.ALBUM,\r\n\tMediaStore.Audio.Media.DATA,\r\n\tMediaStore.Audio.Media.TITLE,\r\n\tMediaStore.Audio.Media.ARTIST\r\n};\r\nString where = MediaStore.Audio.Media.IS_MUSIC + &quot; != 0&quot;;\r\nCursor c = resolver.query(uri, projection, where, null, null);\r\nif (c != null) {\r\n\twhile (c.moveToNext()) {\r\n\t\tString path = c.getString(0);\r\n\t\tString name = c.getString(1);\r\n\t\tString album = c.getString(2);\r\n\t\tString artist = c.getString(3);\r\n\t\tLog.e(&quot;Name :&quot; + name, &quot; Album :&quot; + album);\r\n\t\tLog.e(&quot;Path :&quot; + path, &quot; Artist :&quot; + artist);\r\n\t}\r\n\tc.close();\r\n}\r\n\r\n```","title":"MediaStore.Audio and ContentResolver.query not getting music","body":"<p>I have a Music player project in Android Studio, and I need to get all music from the device.<br />\nBut somehow <code>this.getContentResolver().query();</code> is not getting any music from my device.<br />\nIn the logcat there is no log, and if I debug the app before the while loop and after it(because it does not enter in the while loop) it says that the cursor does not have any row(mCount = 0)</p>\n<pre class=\"lang-java prettyprint-override\"><code>Uri uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\nContentResolver resolver = this.getContentResolver();\n\nString[] projection = {\n    MediaStore.Audio.Media.ALBUM,\n    MediaStore.Audio.Media.DATA,\n    MediaStore.Audio.Media.TITLE,\n    MediaStore.Audio.Media.ARTIST\n};\nString where = MediaStore.Audio.Media.IS_MUSIC + &quot; != 0&quot;;\nCursor c = resolver.query(uri, projection, where, null, null);\nif (c != null) {\n    while (c.moveToNext()) {\n        String path = c.getString(0);\n        String name = c.getString(1);\n        String album = c.getString(2);\n        String artist = c.getString(3);\n        Log.e(&quot;Name :&quot; + name, &quot; Album :&quot; + album);\n        Log.e(&quot;Path :&quot; + path, &quot; Artist :&quot; + artist);\n    }\n    c.close();\n}\n\n</code></pre>\n"},{"tags":["java","maps"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1693887038,"post_id":77041578,"comment_id":135814908,"body_markdown":"You didn&#39;t paste the correct code, as the code pasted works fine. You have a class in your package that you named `System`. Don&#39;t do that. Name it anything else.","body":"You didn&#39;t paste the correct code, as the code pasted works fine. You have a class in your package that you named <code>System</code>. Don&#39;t do that. Name it anything else."}],"owner":{"account_id":12503707,"reputation":11,"user_id":9101257,"display_name":"MEKALATHURU CHENCHAIAH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693884349,"creation_date":1693884252,"question_id":77041578,"body_markdown":"`I wrote a simple program in java but I am getting the below error in my VScode while running it, But the same code is working fine in the online compiler. So please help me out on the same.\r\n\r\nThank you \r\n\r\n\r\n***ERROR***\r\n\r\n***ERROR***\r\n\r\n    chenchureddy@Chenchus-MBP Java % cd &quot;/Users/chenchureddy/PROGRAMMING/Java/&quot; &amp;&amp; javac TwoSum.java \r\n    &amp;&amp; java TwoSum\r\n    TwoSum.java:36: error: cannot find symbol\r\n    System.out.println(&quot;the indices are :&quot;+ result[0]+&quot; and &quot;+result[1]);\r\n          ^\r\n      symbol:   variable out\r\n      location: class System\r\n    Note: TwoSum.java uses unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\n    1 error\r\n\r\n\r\n\r\n\r\nCode In Java :\r\n\r\n\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.*;\r\n\r\n\r\n\r\n class TwoSum{\r\n\r\n    public static int[] twoSum(int[] numbers, int target)\r\n    {\r\n        int[] result = new int[2];\r\n        Map &lt;Integer,Integer&gt; map = new HashMap();\r\n\r\n        for (int i=0; i&lt;numbers.length; i++)\r\n        {\r\n            if(!map.containsKey(target-numbers[i]))\r\n            {\r\n                map.put(numbers[i],i);\r\n            } \r\n            else\r\n            {\r\n                result[1]=i;\r\n                result[0]=map.get(target-numbers[i]);\r\n                return result;\r\n            }\r\n        }\r\n        throw new IllegalArgumentException(&quot;two numbers not found&quot;);\r\n    }\r\n\r\npublic static void main(String[] args)\r\n{\r\n\r\nint[] numbers = new int[] {2,11,5,10,7,8};\r\nint[] result = twoSum(numbers,9);\r\nSystem.out.println(&quot;the indices are :&quot;+ result[0]+&quot; and &quot;+result[1]);\r\n\r\n} \r\n}\r\n```\r\n","title":"java:35: error: cannot find symbol System.out.println","body":"<p>`I wrote a simple program in java but I am getting the below error in my VScode while running it, But the same code is working fine in the online compiler. So please help me out on the same.</p>\n<p>Thank you</p>\n<p><em><strong>ERROR</strong></em></p>\n<p><em><strong>ERROR</strong></em></p>\n<pre><code>chenchureddy@Chenchus-MBP Java % cd &quot;/Users/chenchureddy/PROGRAMMING/Java/&quot; &amp;&amp; javac TwoSum.java \n&amp;&amp; java TwoSum\nTwoSum.java:36: error: cannot find symbol\nSystem.out.println(&quot;the indices are :&quot;+ result[0]+&quot; and &quot;+result[1]);\n      ^\n  symbol:   variable out\n  location: class System\nNote: TwoSum.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n1 error\n</code></pre>\n<p>Code In Java :</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.*;\n\n\n\n class TwoSum{\n\n    public static int[] twoSum(int[] numbers, int target)\n    {\n        int[] result = new int[2];\n        Map &lt;Integer,Integer&gt; map = new HashMap();\n\n        for (int i=0; i&lt;numbers.length; i++)\n        {\n            if(!map.containsKey(target-numbers[i]))\n            {\n                map.put(numbers[i],i);\n            } \n            else\n            {\n                result[1]=i;\n                result[0]=map.get(target-numbers[i]);\n                return result;\n            }\n        }\n        throw new IllegalArgumentException(&quot;two numbers not found&quot;);\n    }\n\npublic static void main(String[] args)\n{\n\nint[] numbers = new int[] {2,11,5,10,7,8};\nint[] result = twoSum(numbers,9);\nSystem.out.println(&quot;the indices are :&quot;+ result[0]+&quot; and &quot;+result[1]);\n\n} \n}\n</code></pre>\n"},{"tags":["java","android","widget","android-widget"],"answers":[{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1693914823,"post_id":77041579,"comment_id":135819521,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77041579/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22496155,"reputation":1,"user_id":16693101,"display_name":"YeSW"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693884261,"creation_date":1693884261,"answer_id":77041579,"question_id":75877211,"body_markdown":"static var openAppWhenRun: Bool = false;\r\n","title":"is there any way to not open app when widget is being clicked?","body":"<p>static var openAppWhenRun: Bool = false;</p>\n"}],"owner":{"account_id":26698807,"reputation":37,"user_id":20306199,"display_name":"ramesh sanghar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693884261,"creation_date":1680092937,"question_id":75877211,"body_markdown":"I&#39;m developing simple app that will have widget on Home Screen, but when I click on the widget my app opens every time. I just need simple widget that won&#39;t open the app or won&#39;t do any thing on the click. is it possible to somehow remove click listener or stop the process of app opening?\r\n\r\nplease provide some info on this topic, thank you.","title":"is there any way to not open app when widget is being clicked?","body":"<p>I'm developing simple app that will have widget on Home Screen, but when I click on the widget my app opens every time. I just need simple widget that won't open the app or won't do any thing on the click. is it possible to somehow remove click listener or stop the process of app opening?</p>\n<p>please provide some info on this topic, thank you.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","mapstruct"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1693882673,"post_id":77041489,"comment_id":135814618,"body_markdown":"Pleae make sure that classId is set to null after dto mapping","body":"Pleae make sure that classId is set to null after dto mapping"},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1693883152,"post_id":77041489,"comment_id":135814648,"body_markdown":"Looking at this article: https://www.baeldung.com/spring-data-partial-update related to MapStruct, I would check if the NullValuePropertyMappingStrategy has been set explicitly. Maybe you&#39;ll need a different mapper/config for this purpose.","body":"Looking at this article: <a href=\"https://www.baeldung.com/spring-data-partial-update\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-partial-update</a> related to MapStruct, I would check if the NullValuePropertyMappingStrategy has been set explicitly. Maybe you&#39;ll need a different mapper/config for this purpose."},{"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"score":0,"creation_date":1693884423,"post_id":77041489,"comment_id":135814718,"body_markdown":"Thanks @scrhartley, I completely forgot  that when using the 4.1. Mapping Strategy there&#39;s a drawback: &quot;The drawback of this approach is that we can’t pass null values to the database during an update.&quot; I wonder if there&#39;s a workaround for this.","body":"Thanks @scrhartley, I completely forgot  that when using the 4.1. Mapping Strategy there&#39;s a drawback: &quot;The drawback of this approach is that we can’t pass null values to the database during an update.&quot; I wonder if there&#39;s a workaround for this."}],"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693883865,"creation_date":1693882335,"question_id":77041489,"body_markdown":"I have an object that has a field with existing value, for example:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: 1,\r\n  &quot;classID&quot;: 2\r\n}\r\n```\r\n\r\nNow I want to set the field `classID` from `2` to `NULL` through `PUT` method.\r\n\r\nThis is my service code:\r\n\r\n```java\r\npublic void updateStudent(String studentID, StudentDTO studentDTO) {\r\n\r\n  Student student = studentRepository.findByStudentID(studentID)\r\n        .orElseThrow(() -&gt; new EntityNotFoundException(STUDENT_NOT_FOUND_STRING + studentDTO.studentID()));\r\n\r\n  studentMapper.updateFromDTO(studentDTO, student);\r\n  studentRepository.save(student);\r\n}\r\n```\r\n\r\nI&#39;m using MapStruct for DTO mapping.\r\n\r\nI tried to set `&quot;classID&quot;: null` or an empty string `&quot;&quot;` but none works:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: 1,\r\n  &quot;classID&quot;: null\r\n}\r\n```\r\n\r\nI&#39;m using MySQL","title":"Spring Boot update field value to Null?","body":"<p>I have an object that has a field with existing value, for example:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 1,\n  &quot;classID&quot;: 2\n}\n</code></pre>\n<p>Now I want to set the field <code>classID</code> from <code>2</code> to <code>NULL</code> through <code>PUT</code> method.</p>\n<p>This is my service code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void updateStudent(String studentID, StudentDTO studentDTO) {\n\n  Student student = studentRepository.findByStudentID(studentID)\n        .orElseThrow(() -&gt; new EntityNotFoundException(STUDENT_NOT_FOUND_STRING + studentDTO.studentID()));\n\n  studentMapper.updateFromDTO(studentDTO, student);\n  studentRepository.save(student);\n}\n</code></pre>\n<p>I'm using MapStruct for DTO mapping.</p>\n<p>I tried to set <code>&quot;classID&quot;: null</code> or an empty string <code>&quot;&quot;</code> but none works:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 1,\n  &quot;classID&quot;: null\n}\n</code></pre>\n<p>I'm using MySQL</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1601464013,"post_id":64136218,"comment_id":113414676,"body_markdown":"If `areaCode` is the three leftmost digits, how can you expect to get the prefix from that?","body":"If <code>areaCode</code> is the three leftmost digits, how can you expect to get the prefix from that?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1601464021,"post_id":64136218,"comment_id":113414684,"body_markdown":"Honestly the easiest would probably to just convert the integer to a string first.","body":"Honestly the easiest would probably to just convert the integer to a string first."},{"owner":{"account_id":17044529,"reputation":891,"user_id":12331678,"display_name":"backdoor"},"score":0,"creation_date":1601464022,"post_id":64136218,"comment_id":113414687,"body_markdown":"You can take input in String","body":"You can take input in String"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1601464202,"post_id":64136218,"comment_id":113414775,"body_markdown":"If you just want the math, I think something like `(phoneNumber / 10000) % 1000` will extract the middle digits of the area code.","body":"If you just want the math, I think something like <code>(phoneNumber &#47; 10000) % 1000</code> will extract the middle digits of the area code."},{"owner":{"display_name":"user437212"},"score":0,"creation_date":1601475055,"post_id":64136218,"comment_id":113420282,"body_markdown":"You don&#39;t actually ask a question here. What part is not working? What hav you done? Every IDE out there has excellent debugging interfaces. Have you tried stepping through the code and see where it goes wrong?","body":"You don&#39;t actually ask a question here. What part is not working? What hav you done? Every IDE out there has excellent debugging interfaces. Have you tried stepping through the code and see where it goes wrong?"},{"owner":{"account_id":19598986,"reputation":1,"user_id":14344287,"display_name":"Luisa Davila Libardi"},"score":0,"creation_date":1601630344,"post_id":64136218,"comment_id":113472184,"body_markdown":"Yes i did. Thankfully somebody helped me out here ;) You probably didn&#39;t even read the message, just judged lol","body":"Yes i did. Thankfully somebody helped me out here ;) You probably didn&#39;t even read the message, just judged lol"}],"answers":[{"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1601465429,"post_id":64136507,"comment_id":113415365,"body_markdown":"Instead for `long input = scnr.nextLong();\n    String phoneNumber = Long.toString(input)\n    long input = scnr.nextLong();\n    String phoneNumber = Long.toString(input);;`","body":"Instead for <code>long input = scnr.nextLong();     String phoneNumber = Long.toString(input)     long input = scnr.nextLong();     String phoneNumber = Long.toString(input);;</code>"}],"tags":[],"owner":{"account_id":3970780,"reputation":2667,"user_id":3275441,"accept_rate":75,"display_name":"Milgo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601465314,"creation_date":1601464845,"answer_id":64136507,"question_id":64136218,"body_markdown":"I recommend you to use Strings in this case. It&#39;s far easier.\r\n\r\n    try (Scanner scnr = new Scanner(System.in)) {\r\n        long input = scnr.nextLong();\r\n        String phoneNumber = Long.toString(input);\r\n        String areaCode = phoneNumber.substring(0, 3);\r\n        String prefix = phoneNumber.substring(3, phoneNumber.length() - 4);\r\n        String lineNumber = phoneNumber.substring(phoneNumber.length() - 4);\r\n\r\n        System.out.println(&quot;(&quot; + areaCode + &quot;)&quot; + &quot; &quot; + prefix + &quot;-&quot; + lineNumber);\r\n    }","title":"How to input a long number and output phone numbers in java?","body":"<p>I recommend you to use Strings in this case. It's far easier.</p>\n<pre><code>try (Scanner scnr = new Scanner(System.in)) {\n    long input = scnr.nextLong();\n    String phoneNumber = Long.toString(input);\n    String areaCode = phoneNumber.substring(0, 3);\n    String prefix = phoneNumber.substring(3, phoneNumber.length() - 4);\n    String lineNumber = phoneNumber.substring(phoneNumber.length() - 4);\n\n    System.out.println(&quot;(&quot; + areaCode + &quot;)&quot; + &quot; &quot; + prefix + &quot;-&quot; + lineNumber);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601467372,"creation_date":1601467372,"answer_id":64137178,"question_id":64136218,"body_markdown":"Try this.\r\n\r\n    long phoneNumber = 8005551212L;\r\n    String formatted = (&quot;&quot; + phoneNumber).replaceAll(&quot;(...)(...)(....)&quot;, &quot;($1) $2-$3&quot;);\r\n    System.out.println(formatted);\r\n\r\noutput\r\n\r\n    (800) 555-1212","title":"How to input a long number and output phone numbers in java?","body":"<p>Try this.</p>\n<pre><code>long phoneNumber = 8005551212L;\nString formatted = (&quot;&quot; + phoneNumber).replaceAll(&quot;(...)(...)(....)&quot;, &quot;($1) $2-$3&quot;);\nSystem.out.println(formatted);\n</code></pre>\n<p>output</p>\n<pre><code>(800) 555-1212\n</code></pre>\n"}],"owner":{"account_id":19598986,"reputation":1,"user_id":14344287,"display_name":"Luisa Davila Libardi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9096,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693882965,"creation_date":1601463760,"question_id":64136218,"body_markdown":"Given a long integer representing a 10-digit phone number, output the area code, prefix, and line number using the format `(800) 555-1212`.\r\n\r\nEx: If the input is: 8005551212\r\n\r\nthe output is: (800) 555-1212\r\n\r\nI am stuck here.\r\n\r\nThis is my code:\r\n\r\n```\r\npackage MyLabs;\r\nimport java.util.Scanner;\r\n\r\npublic class MyLabs17 {\r\n\tpublic static void main(String[] args) {\r\n\t\ttry (Scanner scnr = new Scanner(System.in)) {\r\n\t\t\tlong phoneNumber;\r\n\t\t\tphoneNumber = scnr.nextLong(); //user will input number here\r\n\t\t\tlong lineNumber = phoneNumber % 10000; //the last 4 digits of phone\r\n\t\t\tlong areaCode = phoneNumber / 10000000; // the first 3 digits of phone.\r\n\t\t\tlong prefix = areaCode % 1000;  // this is where I&#39;m going wrong. How do I get the 3 middle numbers?\r\n\t\t     \r\n\t\t   System.out.println(&quot;(&quot; + areaCode + &quot;)&quot; + &quot; &quot; + prefix + &quot;-&quot; + lineNumber );\r\n\t\t   // example: when I input number 8005551212, the output I get is: (800) 800-1212!\r\n\t\t   }\r\n\t\t}\r\n\t}\r\n```","title":"How to input a long number and output phone numbers in java?","body":"<p>Given a long integer representing a 10-digit phone number, output the area code, prefix, and line number using the format <code>(800) 555-1212</code>.</p>\n<p>Ex: If the input is: 8005551212</p>\n<p>the output is: (800) 555-1212</p>\n<p>I am stuck here.</p>\n<p>This is my code:</p>\n<pre><code>package MyLabs;\nimport java.util.Scanner;\n\npublic class MyLabs17 {\n    public static void main(String[] args) {\n        try (Scanner scnr = new Scanner(System.in)) {\n            long phoneNumber;\n            phoneNumber = scnr.nextLong(); //user will input number here\n            long lineNumber = phoneNumber % 10000; //the last 4 digits of phone\n            long areaCode = phoneNumber / 10000000; // the first 3 digits of phone.\n            long prefix = areaCode % 1000;  // this is where I'm going wrong. How do I get the 3 middle numbers?\n             \n           System.out.println(&quot;(&quot; + areaCode + &quot;)&quot; + &quot; &quot; + prefix + &quot;-&quot; + lineNumber );\n           // example: when I input number 8005551212, the output I get is: (800) 800-1212!\n           }\n        }\n    }\n</code></pre>\n"},{"tags":["java","arrays","collections","duplicates"],"comments":[{"owner":{"account_id":6145271,"reputation":740,"user_id":4791438,"accept_rate":50,"display_name":"Rafiq"},"score":0,"creation_date":1438321325,"post_id":31738717,"comment_id":51412075,"body_markdown":"May be duplicate http://stackoverflow.com/questions/17967114/how-to-efficiently-remove-duplicates-from-an-array","body":"May be duplicate <a href=\"http://stackoverflow.com/questions/17967114/how-to-efficiently-remove-duplicates-from-an-array\" title=\"how to efficiently remove duplicates from an array\">stackoverflow.com/questions/17967114/&hellip;</a>"},{"owner":{"account_id":6617635,"reputation":2201,"user_id":5110359,"accept_rate":73,"display_name":"milez"},"score":1,"creation_date":1438321424,"post_id":31738717,"comment_id":51412103,"body_markdown":"You can use an array to store the duplicate values as in your demonstrated output?","body":"You can use an array to store the duplicate values as in your demonstrated output?"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1438335415,"creation_date":1438321241,"answer_id":31738825,"question_id":31738717,"body_markdown":"The easiest way to solve this problem is to sort the array first, and then just walk through the array counting duplicates as you encounter them:\r\n\r\n    int[] numbers = new int[]{7,2,6,1,4,7,4,5,4,7,7,3,1};\r\n    int temp = 0;\r\n               \r\n    // I chose to do a bubble sort of the array,\r\n    // but you are free to use any method you wish (e.g. Arrays.sort)\r\n    System.out.print(&quot;Duplicates values: &quot;);\r\n    for (int i=0; i &lt; numbers.length; ++i) {\r\n        for (int j=1; j &lt; (numbers.length - i); ++j) {\r\n            if (numbers[j-1] &gt; numbers[j]) {\r\n                temp = numbers[j-1];\r\n                numbers[j-1] = numbers[j];\r\n                numbers[j] = temp;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    // walk through the sorted array and count duplicates\r\n    int numDup = 0, dupCount = 0;\r\n    int previous = -1;\r\n    for (int i=0; i &lt; numbers.length; ++i) {\r\n        if (numbers[i] == previous) {\r\n            ++numDup;\r\n            if (numDup == 1) {\r\n                ++dupCount;\r\n                if (dupCount == 1) {\r\n                    System.out.print(numbers[i]);\r\n                }\r\n                else {\r\n                    System.out.print(&quot;, &quot; + numbers[i]);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            previous = numbers[i];\r\n            numDup = 0;\r\n        }\r\n    }\r\n\r\n    System.out.println(&quot;\\nNumber of duplicates values: &quot; + dupCount);\r\n\r\n**Output:**\r\n\r\n    Duplicates values: 1, 4, 7\r\n    Number of duplicates values: 3\r\n\r\nNote that my output order is reverse of what you have, because you need to read through the entire array before you know how many total duplicates you have.  Also, I will point out that the only state this solution uses is the input array itself, plus a couple of `int` varibles here and there.\r\n\r\nThis code has been tested in IntelliJ and it works correctly.","title":"Java + Count duplicates from int array without using any Collection or another intermediate Array","body":"<p>The easiest way to solve this problem is to sort the array first, and then just walk through the array counting duplicates as you encounter them:</p>\n\n<pre><code>int[] numbers = new int[]{7,2,6,1,4,7,4,5,4,7,7,3,1};\nint temp = 0;\n\n// I chose to do a bubble sort of the array,\n// but you are free to use any method you wish (e.g. Arrays.sort)\nSystem.out.print(\"Duplicates values: \");\nfor (int i=0; i &lt; numbers.length; ++i) {\n    for (int j=1; j &lt; (numbers.length - i); ++j) {\n        if (numbers[j-1] &gt; numbers[j]) {\n            temp = numbers[j-1];\n            numbers[j-1] = numbers[j];\n            numbers[j] = temp;\n        }\n    }\n}\n\n\n// walk through the sorted array and count duplicates\nint numDup = 0, dupCount = 0;\nint previous = -1;\nfor (int i=0; i &lt; numbers.length; ++i) {\n    if (numbers[i] == previous) {\n        ++numDup;\n        if (numDup == 1) {\n            ++dupCount;\n            if (dupCount == 1) {\n                System.out.print(numbers[i]);\n            }\n            else {\n                System.out.print(\", \" + numbers[i]);\n            }\n        }\n    }\n    else {\n        previous = numbers[i];\n        numDup = 0;\n    }\n}\n\nSystem.out.println(\"\\nNumber of duplicates values: \" + dupCount);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Duplicates values: 1, 4, 7\nNumber of duplicates values: 3\n</code></pre>\n\n<p>Note that my output order is reverse of what you have, because you need to read through the entire array before you know how many total duplicates you have.  Also, I will point out that the only state this solution uses is the input array itself, plus a couple of <code>int</code> varibles here and there.</p>\n\n<p>This code has been tested in IntelliJ and it works correctly.</p>\n"},{"tags":[],"owner":{"account_id":5995725,"reputation":4137,"user_id":4710425,"accept_rate":59,"display_name":"SatyaTNV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438322958,"creation_date":1438321444,"answer_id":31738861,"question_id":31738717,"body_markdown":"        int numbers[]={7,2,6,1,4,7,4,5,4,7,7,3, 1};\r\n    \tString temp=&quot;&quot;;\r\n    \tint count=0;\r\n        Arrays.sort(numbers);\r\n\r\n    \tfor (int i = 0; i &lt; numbers.length; i++) {\r\n    \r\n            boolean duplicate = false;\r\n    \t\tfor(int j = 0; j &lt; numbers.length; j++) {\r\n                if ((i != j) &amp;&amp; numbers[i] == numbers[j]) {\r\n                    duplicate = true;\r\n                }\r\n            }\r\n    \r\n            if (duplicate) {\r\n    \t\t\tif(!temp.contains(&quot;&quot;+numbers[i]))\r\n    \t\t\t{\r\n    \t\t\ttemp+=numbers[i]+&quot;, &quot;;//adding a number if its duplicate\r\n    \t\t\tcount++;//counting unique duplicate number\r\n    \t\t\t}\r\n                System.out.print(numbers[i] + &quot; &quot;);\r\n            }\r\n        }\r\n    \tSystem.out.println(&quot;\\nDuplicates are: &quot;+temp+&quot; count: &quot;+count);\r\n\r\n**Output:**\r\n\r\n     Duplicates are: 1, 4, 7,  count: 3","title":"Java + Count duplicates from int array without using any Collection or another intermediate Array","body":"<pre><code>    int numbers[]={7,2,6,1,4,7,4,5,4,7,7,3, 1};\n    String temp=\"\";\n    int count=0;\n    Arrays.sort(numbers);\n\n    for (int i = 0; i &lt; numbers.length; i++) {\n\n        boolean duplicate = false;\n        for(int j = 0; j &lt; numbers.length; j++) {\n            if ((i != j) &amp;&amp; numbers[i] == numbers[j]) {\n                duplicate = true;\n            }\n        }\n\n        if (duplicate) {\n            if(!temp.contains(\"\"+numbers[i]))\n            {\n            temp+=numbers[i]+\", \";//adding a number if its duplicate\n            count++;//counting unique duplicate number\n            }\n            System.out.print(numbers[i] + \" \");\n        }\n    }\n    System.out.println(\"\\nDuplicates are: \"+temp+\" count: \"+count);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code> Duplicates are: 1, 4, 7,  count: 3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":472179,"reputation":955,"user_id":880503,"accept_rate":42,"display_name":"Mukesh Kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1607308754,"creation_date":1438321839,"answer_id":31738937,"question_id":31738717,"body_markdown":"Agreed to Tim @tim-biegeleisen. Just minor change. Use the Arrays to sort the array.\r\n\r\n```\r\nimport java.util.*;\r\npublic class DuplicateClass {\r\n\r\n    public static void main(String[] args) {\r\n        int[] values = { 7, 2, 6, 1, 4, 7, 4, 5, 4, 7, 7, 3, 1 };\r\n        duplicate(values);\r\n    }\r\n\r\n    public static void duplicate(int numbers[]) {\r\n        Arrays.sort(numbers);\r\n        int previous = numbers[0] - 1;\r\n        \r\n        int dupCount = 0;\r\n\r\n        for (int i = 0; i &lt; numbers.length; ++i) {\r\n            if (numbers[i] == previous) {\r\n                ++dupCount;\r\n            } else {\r\n                previous = numbers[i];\r\n            }\r\n        }\r\n        System.out.println(&quot;There were &quot; + dupCount + &quot; duplicates in the array.&quot;);\r\n    }\r\n}\r\n```\r\n","title":"Java + Count duplicates from int array without using any Collection or another intermediate Array","body":"<p>Agreed to Tim @tim-biegeleisen. Just minor change. Use the Arrays to sort the array.</p>\n<pre><code>import java.util.*;\npublic class DuplicateClass {\n\n    public static void main(String[] args) {\n        int[] values = { 7, 2, 6, 1, 4, 7, 4, 5, 4, 7, 7, 3, 1 };\n        duplicate(values);\n    }\n\n    public static void duplicate(int numbers[]) {\n        Arrays.sort(numbers);\n        int previous = numbers[0] - 1;\n        \n        int dupCount = 0;\n\n        for (int i = 0; i &lt; numbers.length; ++i) {\n            if (numbers[i] == previous) {\n                ++dupCount;\n            } else {\n                previous = numbers[i];\n            }\n        }\n        System.out.println(&quot;There were &quot; + dupCount + &quot; duplicates in the array.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438322193,"creation_date":1438322193,"answer_id":31739009,"question_id":31738717,"body_markdown":"Keeping one extra variable for maintaining count, plus sorting of array in the initial phase.\r\n\r\n    public static void main(String[] args) {\r\n    \t\tint[] numbers = { 7, 2, 6, 1, 4, 7, 4, 5, 4, 7, 7, 3, 1 };\r\n    \t\tArrays.sort(numbers);\r\n    \t\tSystem.out.println(&quot;Sorted Array is :: = &quot; + Arrays.toString(numbers));\r\n    \r\n    \t\tint count = 0;\r\n    \t\tint tempCount = 0; // to keep local count of matched numbers\r\n    \t\tString duplicates = &quot;&quot;;\r\n    \t\tfor (int i = 1; i &lt; numbers.length; i++) {\r\n    \t\t\tif (numbers[i] == numbers[i - 1]) {\r\n    \t\t\t\tif ((tempCount == 0)) { // If same number is repeated more than\r\n    \t\t\t\t\t\t\t\t\t\t// two times, like 444, 7777\r\n    \t\t\t\t\tcount = count + 1;\r\n    \t\t\t\t\ttempCount = tempCount + 1;\r\n    \t\t\t\t\tduplicates = duplicates.concat(Integer.toString(numbers[i])\r\n    \t\t\t\t\t\t\t+ &quot;,&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\ttempCount = 0;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;No of duplicates :: = &quot; + count);\r\n    \t\tSystem.out.println(&quot;Duplicate Numbers are :: = &quot; + duplicates);\r\n    \t}\r\n\r\n\r\n**output**\r\n\r\n    Sorted Array is :: = [1, 1, 2, 3, 4, 4, 4, 5, 6, 7, 7, 7, 7]\r\n    No of duplicates :: = 3\r\n    Duplicate Numbers are :: = 1,4,7,\r\n\r\n","title":"Java + Count duplicates from int array without using any Collection or another intermediate Array","body":"<p>Keeping one extra variable for maintaining count, plus sorting of array in the initial phase.</p>\n\n<pre><code>public static void main(String[] args) {\n        int[] numbers = { 7, 2, 6, 1, 4, 7, 4, 5, 4, 7, 7, 3, 1 };\n        Arrays.sort(numbers);\n        System.out.println(\"Sorted Array is :: = \" + Arrays.toString(numbers));\n\n        int count = 0;\n        int tempCount = 0; // to keep local count of matched numbers\n        String duplicates = \"\";\n        for (int i = 1; i &lt; numbers.length; i++) {\n            if (numbers[i] == numbers[i - 1]) {\n                if ((tempCount == 0)) { // If same number is repeated more than\n                                        // two times, like 444, 7777\n                    count = count + 1;\n                    tempCount = tempCount + 1;\n                    duplicates = duplicates.concat(Integer.toString(numbers[i])\n                            + \",\");\n                }\n            } else {\n                tempCount = 0;\n            }\n        }\n\n        System.out.println(\"No of duplicates :: = \" + count);\n        System.out.println(\"Duplicate Numbers are :: = \" + duplicates);\n    }\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Sorted Array is :: = [1, 1, 2, 3, 4, 4, 4, 5, 6, 7, 7, 7, 7]\nNo of duplicates :: = 3\nDuplicate Numbers are :: = 1,4,7,\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1438335382,"post_id":31739352,"comment_id":51419405,"body_markdown":"This is an interesting idea.  Can you provide some Java code which implements this?","body":"This is an interesting idea.  Can you provide some Java code which implements this?"},{"owner":{"account_id":464810,"reputation":2023,"user_id":868540,"accept_rate":72,"display_name":"Pumphouse"},"score":0,"creation_date":1438364527,"post_id":31739352,"comment_id":51437815,"body_markdown":"@TimBiegeleisen I apologize that it took so long, but here is a working example on how you would do that. The printBits() function is just so that you can see how the bits are changing.","body":"@TimBiegeleisen I apologize that it took so long, but here is a working example on how you would do that. The printBits() function is just so that you can see how the bits are changing."}],"tags":[],"owner":{"account_id":464810,"reputation":2023,"user_id":868540,"accept_rate":72,"display_name":"Pumphouse"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438364801,"creation_date":1438323753,"answer_id":31739352,"question_id":31738717,"body_markdown":"These are all great answers. One other is to use an int/double and set it&#39;s bits when you encounter a number. This works if the array&#39;s values are less than 32/64 depending on the type you use. \r\n\r\nBelow is an example of how you would do that with an integer. \r\n\r\n    public class SetThoseBits{\r\n    \r\n    \t// 0000 0000 0000 0000 000 0000 0000 0000\r\n    \tpublic static int data = 0; \r\n    \r\n    \tpublic static void main(String [] args){\r\n    \r\n    \t\t// Gurantee that the numbers are less than 32\r\n    \t\tint[] values = { 7, 2, 6, 1, 4, 7, 4, 5, 4, 7, 7, 3, 1 };\r\n    \t\tduplicates(values);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void duplicates(int [] values){\r\n    \r\n    \t\tfor(int i : values){\r\n    \r\n    \t\t\tif(testBit(i)){\r\n    \t\t\t\tSystem.out.println(&quot;Duplicate :&quot; + i);\r\n    \t\t\t} else{\r\n    \t\t\t\tsetBit(i);\r\n    \t\t\t}\r\n    \t\t\t//printBits();\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;Finished!&quot;);\r\n    \t}\r\n    \r\n    \t// Sets the bit at a specific position\r\n    \tpublic static void setBit(int index){\r\n    \t\tdata = data | (1 &lt;&lt; index);\r\n    \t}\r\n    \r\n    \t// This function will test the bit at the index of the given integer\r\n    \t// If it&#39;s set, it returns true\r\n    \tpublic static boolean testBit(int index){\r\n    \t\treturn ((data &amp; (1 &lt;&lt; index)) != 0);\r\n    \t}\r\n    \r\n    \tpublic static void printBits(){\r\n    \r\n    \t\tfor (int x = 31; x &gt;= 0; x--){\r\n    \t\t\tif(testBit(x)){\r\n    \t\t\t\tSystem.out.print(&quot;1&quot;);\r\n    \t\t\t} else{\r\n    \t\t\t\tSystem.out.print(&quot;0&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;0&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nI believe the the other answers are better given your question..but demonstrating this as an alternative shows that you&#39;re thinking about it dynamically. If the requirements of the question changed a little this answer might be more appropriate. \r\n\r\nFurther if you only need to keep track of duplicates given the smallest footprint possible, you could do something similar to what is above or use java&#39;s BitSet class to make your life easier. \r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html\r\n\r\n\r\n**Edit:** It is also possible to have values higher than 64 given that you create a function that holds an array of bytes like the BitSet class. For this exact question this isn&#39;t helpful given the constraint to not use an array or collection. ","title":"Java + Count duplicates from int array without using any Collection or another intermediate Array","body":"<p>These are all great answers. One other is to use an int/double and set it's bits when you encounter a number. This works if the array's values are less than 32/64 depending on the type you use. </p>\n\n<p>Below is an example of how you would do that with an integer. </p>\n\n<pre><code>public class SetThoseBits{\n\n    // 0000 0000 0000 0000 000 0000 0000 0000\n    public static int data = 0; \n\n    public static void main(String [] args){\n\n        // Gurantee that the numbers are less than 32\n        int[] values = { 7, 2, 6, 1, 4, 7, 4, 5, 4, 7, 7, 3, 1 };\n        duplicates(values);\n\n    }\n\n    public static void duplicates(int [] values){\n\n        for(int i : values){\n\n            if(testBit(i)){\n                System.out.println(\"Duplicate :\" + i);\n            } else{\n                setBit(i);\n            }\n            //printBits();\n        }\n\n        System.out.println(\"Finished!\");\n    }\n\n    // Sets the bit at a specific position\n    public static void setBit(int index){\n        data = data | (1 &lt;&lt; index);\n    }\n\n    // This function will test the bit at the index of the given integer\n    // If it's set, it returns true\n    public static boolean testBit(int index){\n        return ((data &amp; (1 &lt;&lt; index)) != 0);\n    }\n\n    public static void printBits(){\n\n        for (int x = 31; x &gt;= 0; x--){\n            if(testBit(x)){\n                System.out.print(\"1\");\n            } else{\n                System.out.print(\"0\");\n            }\n        }\n        System.out.println(\"0\");\n    }\n\n}\n</code></pre>\n\n<p>I believe the the other answers are better given your question..but demonstrating this as an alternative shows that you're thinking about it dynamically. If the requirements of the question changed a little this answer might be more appropriate. </p>\n\n<p>Further if you only need to keep track of duplicates given the smallest footprint possible, you could do something similar to what is above or use java's BitSet class to make your life easier. </p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html</a></p>\n\n<p><strong>Edit:</strong> It is also possible to have values higher than 64 given that you create a function that holds an array of bytes like the BitSet class. For this exact question this isn't helpful given the constraint to not use an array or collection. </p>\n"},{"tags":[],"owner":{"display_name":"user5778069"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481542349,"creation_date":1481541283,"answer_id":41099609,"question_id":31738717,"body_markdown":"I think, this is also a way to calculate it:\r\n\r\n    public class App {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tInteger[] intArr = { 7, 2, 6, 1, 4, 7, 4 };\r\n    \t\tList&lt;Integer&gt; listInt = Arrays.asList(intArr);\r\n    \r\n    \t\tMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n    \t\tInteger dupCount = 0;\r\n    \t\tStringBuilder dupvalues = new StringBuilder();\r\n    \t\t\r\n    \t\tfor (Integer integer : intArr) {\r\n    \t\t\tint times = Collections.frequency(listInt, integer);\r\n    \t\t\tif (map.containsKey(integer)) {\r\n    \t\t\t\tdupvalues.append(integer).append(&quot;,&quot;);\r\n    \t\t\t\tdupCount++;\r\n    \t\t\t} else\r\n    \t\t\t\tmap.put(integer, times);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;There were &quot; + dupCount + &quot; duplicates in the array. The value are : &quot;+dupvalues);\r\n    \t}\r\n    }","title":"Java + Count duplicates from int array without using any Collection or another intermediate Array","body":"<p>I think, this is also a way to calculate it:</p>\n\n<pre><code>public class App {\n    public static void main(String[] args) {\n        Integer[] intArr = { 7, 2, 6, 1, 4, 7, 4 };\n        List&lt;Integer&gt; listInt = Arrays.asList(intArr);\n\n        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n        Integer dupCount = 0;\n        StringBuilder dupvalues = new StringBuilder();\n\n        for (Integer integer : intArr) {\n            int times = Collections.frequency(listInt, integer);\n            if (map.containsKey(integer)) {\n                dupvalues.append(integer).append(\",\");\n                dupCount++;\n            } else\n                map.put(integer, times);\n        }\n        System.out.println(\"There were \" + dupCount + \" duplicates in the array. The value are : \"+dupvalues);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12075501,"reputation":1,"user_id":8829134,"display_name":"jaymaytay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508903725,"creation_date":1508903725,"answer_id":46923719,"question_id":31738717,"body_markdown":"This is the simplest solution I can think of. I just added an extra counter so that integers with two or more repetitions still in the array are ignored.\r\n\r\n    static int findNumber(int[] arr) \r\n    {  \r\n        int duplicateCounter = 0;\r\n        \r\n        System.out.print(&quot;Duplicates: &quot;);\r\n        \r\n        for(int i = 0; i &lt; arr.length; i++)\r\n        {\r\n            boolean duplicate = false;\r\n            int numOfOccurrences = 1;\r\n            \r\n            for (int j = (i+1); j &lt; arr.length; j++)\r\n            {\r\n                if (arr[i] == arr[j])\r\n                {\r\n                    numOfOccurrences++;\r\n                    duplicate = true;\r\n                }\r\n            }\r\n            if(numOfOccurrences == 2 &amp;&amp; duplicate == true)\r\n            {\r\n                duplicateCounter++;\r\n                System.out.print(arr[i] + &quot; &quot;);\r\n            }\r\n        }\r\n        \r\n        return duplicateCounter;\r\n    }\r\n\r\nMy test run: [Test run][1]\r\n\r\nInput: 1, 2, 3, 4, 2, 4, 1, 1, 1\r\n\r\nDuplicates: 2 4 1\r\n\r\nNumber of duplicates: 3\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0VETk.png","title":"Java + Count duplicates from int array without using any Collection or another intermediate Array","body":"<p>This is the simplest solution I can think of. I just added an extra counter so that integers with two or more repetitions still in the array are ignored.</p>\n\n<pre><code>static int findNumber(int[] arr) \n{  \n    int duplicateCounter = 0;\n\n    System.out.print(\"Duplicates: \");\n\n    for(int i = 0; i &lt; arr.length; i++)\n    {\n        boolean duplicate = false;\n        int numOfOccurrences = 1;\n\n        for (int j = (i+1); j &lt; arr.length; j++)\n        {\n            if (arr[i] == arr[j])\n            {\n                numOfOccurrences++;\n                duplicate = true;\n            }\n        }\n        if(numOfOccurrences == 2 &amp;&amp; duplicate == true)\n        {\n            duplicateCounter++;\n            System.out.print(arr[i] + \" \");\n        }\n    }\n\n    return duplicateCounter;\n}\n</code></pre>\n\n<p>My test run: <a href=\"https://i.stack.imgur.com/0VETk.png\" rel=\"nofollow noreferrer\">Test run</a></p>\n\n<p>Input: 1, 2, 3, 4, 2, 4, 1, 1, 1</p>\n\n<p>Duplicates: 2 4 1</p>\n\n<p>Number of duplicates: 3</p>\n"},{"tags":[],"owner":{"account_id":8996766,"reputation":394,"user_id":6706875,"accept_rate":82,"display_name":"Lampard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543830494,"creation_date":1543830017,"answer_id":53590972,"question_id":31738717,"body_markdown":"Below method not use any collection, just use Arrays.sort() method to help sort array into ascending order as default, e.g array = [9,3,9,3,9] will sort into [3,3,9,9,9].If input [9,9,9,9,9], expected result is 1, since only repeated number is 9.If input [9,3,9,3,9,255,255,1], expected result is 3, since repeated numbers are 3,9,255. If input [7,2,6,1,4,7,4,5,4,7,7,3,1], expected result is 3, since repeated numbers are 1,4,7.\r\n\r\n    public static int findDuplicateCountsInArray(int[] nums) {\r\n        // Sort the input array into default ascending order\r\n\t\tArrays.sort(nums);\r\n\t\tint prev = nums[0];\r\n\t\tint count = 0;\r\n        // Recording a number already a repeated one\r\n        // e.g [9,9,9] the 3rd 9 will not increase duplicate count again\r\n\t\tboolean numAlreadyRepeated = false;\r\n\t\tfor(int i = 1; i &lt; nums.length; i++) {\r\n\t\t\tif(prev == nums[i] &amp;&amp; !numAlreadyRepeated) {\r\n\t\t\t\tcount++;\r\n\t\t\t\tnumAlreadyRepeated = true;\r\n\t\t\t} else if(prev != nums[i]) {\r\n\t\t\t\tprev = nums[i];\r\n\t\t\t\tnumAlreadyRepeated = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t}","title":"Java + Count duplicates from int array without using any Collection or another intermediate Array","body":"<p>Below method not use any collection, just use Arrays.sort() method to help sort array into ascending order as default, e.g array = [9,3,9,3,9] will sort into [3,3,9,9,9].If input [9,9,9,9,9], expected result is 1, since only repeated number is 9.If input [9,3,9,3,9,255,255,1], expected result is 3, since repeated numbers are 3,9,255. If input [7,2,6,1,4,7,4,5,4,7,7,3,1], expected result is 3, since repeated numbers are 1,4,7.</p>\n\n<pre><code>public static int findDuplicateCountsInArray(int[] nums) {\n    // Sort the input array into default ascending order\n    Arrays.sort(nums);\n    int prev = nums[0];\n    int count = 0;\n    // Recording a number already a repeated one\n    // e.g [9,9,9] the 3rd 9 will not increase duplicate count again\n    boolean numAlreadyRepeated = false;\n    for(int i = 1; i &lt; nums.length; i++) {\n        if(prev == nums[i] &amp;&amp; !numAlreadyRepeated) {\n            count++;\n            numAlreadyRepeated = true;\n        } else if(prev != nums[i]) {\n            prev = nums[i];\n            numAlreadyRepeated = false;\n        }\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16058275,"reputation":1,"user_id":11589951,"display_name":"Mayank Shekhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559507081,"creation_date":1559483851,"answer_id":56415706,"question_id":31738717,"body_markdown":"Here I have written code in JAVA. also the inputted numbers, have been considered as String. This question has also been added to CODEWARS. and I hope this simple solution helps You\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n    public class countingduplicates {\r\n      public static void main(String[] args) {\r\n        int i=0,j=0,c=0,a=0;\r\n        String text=&quot;7261474547731&quot;;\r\n        text=text.toLowerCase();\r\n\r\n        for(i=0; i&lt;text.length(); i++) {\r\n          for(j=0; j&lt;text.length(); j++) {\r\n            if(text.charAt(i) == text.charAt(j)) { \r\n              c++;\r\n            }\r\n          }\r\n  \r\n          System.out.println(text.charAt(i) + &quot; occured &quot; + c + &quot; times&quot;);\r\n          if(c&gt;1) {\r\n            a++;\r\n          }  \r\n\r\n          String d = String.valueOf(text.charAt(i)).trim();\r\n          text = text.replaceAll(d,&quot;&quot;);\r\n          c = 0;\r\n          i = 0; //cause i have trimmed the string and by default i increases by 1, so i have to assign it =0\r\n          j = 0; //cause i have trimmed the string and by default j increases by 1, so i have to assign it =0\r\n        }\r\n      System.out.println(&quot;Total count of Duplicates:&quot; + a);\r\n      }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java + Count duplicates from int array without using any Collection or another intermediate Array","body":"<p>Here I have written code in JAVA. also the inputted numbers, have been considered as String. This question has also been added to CODEWARS. and I hope this simple solution helps You</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class countingduplicates {\n  public static void main(String[] args) {\n    int i=0,j=0,c=0,a=0;\n    String text=\"7261474547731\";\n    text=text.toLowerCase();\n\n    for(i=0; i&lt;text.length(); i++) {\n      for(j=0; j&lt;text.length(); j++) {\n        if(text.charAt(i) == text.charAt(j)) { \n          c++;\n        }\n      }\n\n      System.out.println(text.charAt(i) + \" occured \" + c + \" times\");\n      if(c&gt;1) {\n        a++;\n      }  \n\n      String d = String.valueOf(text.charAt(i)).trim();\n      text = text.replaceAll(d,\"\");\n      c = 0;\n      i = 0; //cause i have trimmed the string and by default i increases by 1, so i have to assign it =0\n      j = 0; //cause i have trimmed the string and by default j increases by 1, so i have to assign it =0\n    }\n  System.out.println(\"Total count of Duplicates:\" + a);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12305960,"reputation":31,"user_id":8978994,"display_name":"Azamat Toshtemirov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638598654,"creation_date":1638598654,"answer_id":70223462,"question_id":31738717,"body_markdown":"     private static int solution3(List&lt;Integer&gt; inputArr) {\r\n        // Time Complexity O(N)\r\n        // Space Complexity O(1)\r\n        // Stream\r\n        return (int) inputArr.stream()\r\n                .collect(Collectors\r\n                        .toMap(Function.identity(), v -&gt; 1, Integer::sum))\r\n                .entrySet().stream()\r\n                .filter(k -&gt; k.getValue() &gt;= 2)\r\n                .count();\r\n    }","title":"Java + Count duplicates from int array without using any Collection or another intermediate Array","body":"<pre><code> private static int solution3(List&lt;Integer&gt; inputArr) {\n    // Time Complexity O(N)\n    // Space Complexity O(1)\n    // Stream\n    return (int) inputArr.stream()\n            .collect(Collectors\n                    .toMap(Function.identity(), v -&gt; 1, Integer::sum))\n            .entrySet().stream()\n            .filter(k -&gt; k.getValue() &gt;= 2)\n            .count();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648562653,"creation_date":1648302518,"answer_id":71628602,"question_id":31738717,"body_markdown":"This is practically very easy in Python. You can check this code. I am giving you 2 methods. Please take a look at it.\r\n\r\n\r\n\r\n    array = [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;]\r\n    array1 = [1,2,2,3,3,3,4,5,6,4,4,5,5,5,5]\r\n    output = {i : array1.count(i) for i in array1 }\r\n    print(output) #{1: 1, 2: 2, 3: 3, 4: 3, 5: 5, 6: 1}\r\n    \r\n    output2 = dict(Counter(array1))\r\n    \r\n    print(output2) #{1: 1, 2: 2, 3: 3, 4: 3, 5: 5, 6: 1}\r\n\r\n\r\n\r\nIf you want only the Duplicate numbers, then :\r\n\r\n\r\n    #method 1\r\n    output = [k for k,v in Counter(array1).items() if v&gt;1 ]\r\n    print(output)\r\n\r\nIf you want only the Distinct numbers, then :\r\n   \r\n\r\n     #method 1 \r\n        #Prints only Distinct absolute values\r\n        O2 = set([abs(i) for i in array1])\r\n        print(O2) #1,2,3,4,5,6","title":"Java + Count duplicates from int array without using any Collection or another intermediate Array","body":"<p>This is practically very easy in Python. You can check this code. I am giving you 2 methods. Please take a look at it.</p>\n<pre><code>array = ['a','b','c','d','a','b','c','d','e']\narray1 = [1,2,2,3,3,3,4,5,6,4,4,5,5,5,5]\noutput = {i : array1.count(i) for i in array1 }\nprint(output) #{1: 1, 2: 2, 3: 3, 4: 3, 5: 5, 6: 1}\n\noutput2 = dict(Counter(array1))\n\nprint(output2) #{1: 1, 2: 2, 3: 3, 4: 3, 5: 5, 6: 1}\n</code></pre>\n<p>If you want only the Duplicate numbers, then :</p>\n<pre><code>#method 1\noutput = [k for k,v in Counter(array1).items() if v&gt;1 ]\nprint(output)\n</code></pre>\n<p>If you want only the Distinct numbers, then :</p>\n<pre><code> #method 1 \n    #Prints only Distinct absolute values\n    O2 = set([abs(i) for i in array1])\n    print(O2) #1,2,3,4,5,6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7176041,"reputation":918,"user_id":5481947,"accept_rate":67,"display_name":"Anil Konduru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693882175,"creation_date":1693882175,"answer_id":77041482,"question_id":31738717,"body_markdown":"    public static void main (String args[]) {\r\n    \r\n    int[] nums = {1,2,3,5,2,9,1,2,3,5,2,9};\r\n    \r\n        \r\n        /** Expected output\r\n        9--&gt;2\r\n        1--&gt;2\r\n        2--&gt;4\r\n        3--&gt;2\r\n        5--&gt;2 \r\n        **/\r\n        \r\n        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;(5);\r\n        int arrayLength = nums.length;\r\n        while(arrayLength &gt; 0) {\r\n            System.out.println(Arrays.toString(nums));\r\n            int numToCompare = nums[arrayLength-1];\r\n            map.put(numToCompare, 0);\r\n            for(int i=0; i &lt; nums.length; i++) {\r\n                if(nums[i] == numToCompare) {\r\n                    map.put(numToCompare, map.get(numToCompare) + 1);\r\n                }\r\n            }\r\n            arrayLength--;\r\n        }\r\n        for(Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) {\r\n            System.out.println(entry.getKey() + &quot;--&gt;&quot; + entry.getValue());\r\n        }\r\n    }","title":"Java + Count duplicates from int array without using any Collection or another intermediate Array","body":"<pre><code>public static void main (String args[]) {\n\nint[] nums = {1,2,3,5,2,9,1,2,3,5,2,9};\n\n    \n    /** Expected output\n    9--&gt;2\n    1--&gt;2\n    2--&gt;4\n    3--&gt;2\n    5--&gt;2 \n    **/\n    \n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;(5);\n    int arrayLength = nums.length;\n    while(arrayLength &gt; 0) {\n        System.out.println(Arrays.toString(nums));\n        int numToCompare = nums[arrayLength-1];\n        map.put(numToCompare, 0);\n        for(int i=0; i &lt; nums.length; i++) {\n            if(nums[i] == numToCompare) {\n                map.put(numToCompare, map.get(numToCompare) + 1);\n            }\n        }\n        arrayLength--;\n    }\n    for(Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) {\n        System.out.println(entry.getKey() + &quot;--&gt;&quot; + entry.getValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":468119,"reputation":5003,"user_id":873917,"accept_rate":48,"display_name":"Channa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69635,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":31738825,"answer_count":12,"score":13,"last_activity_date":1693882175,"creation_date":1438320656,"question_id":31738717,"body_markdown":"As a part of the Java interview question paper I have got following issue to solve.\r\nBut I am bit wonder whether how can I implement it without any Collection or intermediate Array.\r\n\r\nQuestion:- Count duplicates from int array without using any Collection or another intermediate Array \r\n\r\n    Input values:- {7,2,6,1,4,7,4,5,4,7,7,3, 1}  \r\n\r\n    Output:- Number of duplicates values: 3\r\n             Duplicates values: 7, 4, 1\r\n\r\nI have implemented following solution but was not completed one. \r\nAny one has some idea? Thanks.\r\n\r\n    public static void duplicate(int numbers[]) {\r\n    \r\n        for (int i = 0; i &lt; numbers.length; i++) {\r\n    \r\n            boolean duplicate = false;\r\n            int j = 0;\r\n    \r\n            while (j &lt; i){\r\n    \r\n                if ((i != j) &amp;&amp; numbers[i] == numbers[j]) {\r\n                    duplicate = true;\r\n                }\r\n    \r\n                j++;\r\n            }\r\n    \r\n            if (duplicate) {\r\n                System.out.print(numbers[i] + &quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Java + Count duplicates from int array without using any Collection or another intermediate Array","body":"<p>As a part of the Java interview question paper I have got following issue to solve.\nBut I am bit wonder whether how can I implement it without any Collection or intermediate Array.</p>\n\n<p>Question:- Count duplicates from int array without using any Collection or another intermediate Array </p>\n\n<pre><code>Input values:- {7,2,6,1,4,7,4,5,4,7,7,3, 1}  \n\nOutput:- Number of duplicates values: 3\n         Duplicates values: 7, 4, 1\n</code></pre>\n\n<p>I have implemented following solution but was not completed one. \nAny one has some idea? Thanks.</p>\n\n<pre><code>public static void duplicate(int numbers[]) {\n\n    for (int i = 0; i &lt; numbers.length; i++) {\n\n        boolean duplicate = false;\n        int j = 0;\n\n        while (j &lt; i){\n\n            if ((i != j) &amp;&amp; numbers[i] == numbers[j]) {\n                duplicate = true;\n            }\n\n            j++;\n        }\n\n        if (duplicate) {\n            System.out.print(numbers[i] + \" \");\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7766639,"reputation":1561,"user_id":5877632,"display_name":"Bruno Ferreira"},"score":0,"creation_date":1502037968,"post_id":45534270,"comment_id":78028602,"body_markdown":"I don&#39;t understand your question can you explain better? When set nigth color the color will be avaiable in night mode.","body":"I don&#39;t understand your question can you explain better? When set nigth color the color will be avaiable in night mode."},{"owner":{"account_id":1782862,"reputation":549,"user_id":1625126,"display_name":"Mahpooya"},"score":0,"creation_date":1502039659,"post_id":45534270,"comment_id":78029153,"body_markdown":"@BrunoFerreira ! problem is in some special cases, the return value of getColor is not what expected!\nFor example it return day value in night mode.\nProbably they fixed this problem in future release of appcompat.\nBut for now i want to workaround this by force it to get night value.","body":"@BrunoFerreira ! problem is in some special cases, the return value of getColor is not what expected! For example it return day value in night mode. Probably they fixed this problem in future release of appcompat. But for now i want to workaround this by force it to get night value."},{"owner":{"account_id":7766639,"reputation":1561,"user_id":5877632,"display_name":"Bruno Ferreira"},"score":0,"creation_date":1502042237,"post_id":45534270,"comment_id":78029923,"body_markdown":"check my answer to see if helps.","body":"check my answer to see if helps."},{"owner":{"account_id":1782862,"reputation":549,"user_id":1625126,"display_name":"Mahpooya"},"score":0,"creation_date":1502192168,"post_id":45534270,"comment_id":78093407,"body_markdown":"This is related to this issue: [link](http://code.google.com/p/android/issues/detail?id=215954)","body":"This is related to this issue: <a href=\"http://code.google.com/p/android/issues/detail?id=215954\" rel=\"nofollow noreferrer\">link</a>"}],"answers":[{"comments":[{"owner":{"account_id":1782862,"reputation":549,"user_id":1625126,"display_name":"Mahpooya"},"score":1,"creation_date":1502185955,"post_id":45534981,"comment_id":78088856,"body_markdown":"I currently use this workaround but it is very ugly!\nIf we can force to get a configuration value it will very beautiful than this.","body":"I currently use this workaround but it is very ugly! If we can force to get a configuration value it will very beautiful than this."}],"tags":[],"owner":{"account_id":7766639,"reputation":1561,"user_id":5877632,"display_name":"Bruno Ferreira"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502042118,"creation_date":1502042118,"answer_id":45534981,"question_id":45534270,"body_markdown":"you can try this workaround:\r\n\r\n1) set two **colors** inside colors.xml like this:\r\n\r\n    &lt;color name=&quot;navigation_drawer_overlay_day&quot;&gt;#66000000&lt;/color&gt;\r\n    &lt;color name=&quot;navigation_drawer_overlay_night&quot;&gt;#33AAAAAA&lt;/color&gt;\r\n\r\n2) Inside **class** when you need to change color do this:\r\n\r\n    switch (AppCompatDelegate.getDefaultNightMode()) {\r\n    \r\n                case AppCompatDelegate.MODE_NIGHT_YES:\r\n    \r\n                    ContextCompat.getColor(getContext(), R.color.navigation_drawer_overlay_night);\r\n    \r\n                    break;\r\n    \r\n                case AppCompatDelegate.MODE_NIGHT_NO:\r\n    \r\n                    ContextCompat.getColor(getContext(), R.color.navigation_drawer_overlay_day);\r\n    \r\n                    break;\r\n            }\r\n\r\n\r\n","title":"Can i getColor of a color resource for a special configuration?","body":"<p>you can try this workaround:</p>\n\n<p>1) set two <strong>colors</strong> inside colors.xml like this:</p>\n\n<pre><code>&lt;color name=\"navigation_drawer_overlay_day\"&gt;#66000000&lt;/color&gt;\n&lt;color name=\"navigation_drawer_overlay_night\"&gt;#33AAAAAA&lt;/color&gt;\n</code></pre>\n\n<p>2) Inside <strong>class</strong> when you need to change color do this:</p>\n\n<pre><code>switch (AppCompatDelegate.getDefaultNightMode()) {\n\n            case AppCompatDelegate.MODE_NIGHT_YES:\n\n                ContextCompat.getColor(getContext(), R.color.navigation_drawer_overlay_night);\n\n                break;\n\n            case AppCompatDelegate.MODE_NIGHT_NO:\n\n                ContextCompat.getColor(getContext(), R.color.navigation_drawer_overlay_day);\n\n                break;\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1782862,"reputation":549,"user_id":1625126,"display_name":"Mahpooya"},"score":0,"creation_date":1693878033,"post_id":76588961,"comment_id":135814262,"body_markdown":"is it newly added to android apis or it was there before? Are you test it?","body":"is it newly added to android apis or it was there before? Are you test it?"}],"tags":[],"owner":{"account_id":3718988,"reputation":21,"user_id":3094449,"display_name":"user3094449"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688128502,"creation_date":1688128460,"answer_id":76588961,"question_id":45534270,"body_markdown":"For several years later, there is a solution:\r\n```\r\n    private static Context getNightContext(Context fromContext) {\r\n        Configuration configuration = new Configuration(fromContext.getResources().getConfiguration());\r\n        configuration.uiMode = UI_MODE_NIGHT_YES; // set night mode\r\n        return fromContext.createConfigurationContext(configuration);\r\n    }\r\n\r\n    // try to get the color from nightContext\r\n```","title":"Can i getColor of a color resource for a special configuration?","body":"<p>For several years later, there is a solution:</p>\n<pre><code>    private static Context getNightContext(Context fromContext) {\n        Configuration configuration = new Configuration(fromContext.getResources().getConfiguration());\n        configuration.uiMode = UI_MODE_NIGHT_YES; // set night mode\n        return fromContext.createConfigurationContext(configuration);\n    }\n\n    // try to get the color from nightContext\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1782862,"reputation":549,"user_id":1625126,"display_name":"Mahpooya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693879691,"creation_date":1693879691,"answer_id":77041369,"question_id":45534270,"body_markdown":"Based on answer by @user3094449\r\n\r\nBut with some modification\r\n\r\nThe correct constant for night mode is UI_MODE_NIGHT_YES, not NIGHT_MODE_YES. \r\n\r\n\r\n    private static Context getNightContext(Context fromContext) {\r\n        Configuration configuration = new Configuration(fromContext.getResources().getConfiguration());\r\n        configuration.uiMode = Configuration.UI_MODE_NIGHT_YES; // set night mode\r\n        return fromContext.createConfigurationContext(configuration);\r\n    }\r\n","title":"Can i getColor of a color resource for a special configuration?","body":"<p>Based on answer by @user3094449</p>\n<p>But with some modification</p>\n<p>The correct constant for night mode is UI_MODE_NIGHT_YES, not NIGHT_MODE_YES.</p>\n<pre><code>private static Context getNightContext(Context fromContext) {\n    Configuration configuration = new Configuration(fromContext.getResources().getConfiguration());\n    configuration.uiMode = Configuration.UI_MODE_NIGHT_YES; // set night mode\n    return fromContext.createConfigurationContext(configuration);\n}\n</code></pre>\n"}],"owner":{"account_id":1782862,"reputation":549,"user_id":1625126,"display_name":"Mahpooya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1693879691,"creation_date":1502037766,"question_id":45534270,"body_markdown":"For example think we have a color resource in values/colors.xml as:\r\n\r\n    &lt;color name=&quot;navigation_drawer_overlay&quot;&gt;#66000000&lt;/color&gt;\r\n\r\nAnd the same color resource in values-night/colors.xml as:\r\n\r\n    &lt;color name=&quot;navigation_drawer_overlay&quot;&gt;#33AAAAAA&lt;/color&gt;\r\n\r\nBy default when i fetch this color in java source codes: \r\n\r\n    ContextCompat.getColor(getContext(), R.color.navigation_drawer_overlay);\r\n\r\n\r\nIt will fetch base on automatic configuration detection.\r\n\r\nBut i want to fetch special configuration (in my case values-night version)\r\n\r\nIs there a way to force fetch resource of my desire configuration?\r\n\r\nCan i force fetch -night color resource?\r\n","title":"Can i getColor of a color resource for a special configuration?","body":"<p>For example think we have a color resource in values/colors.xml as:</p>\n\n<pre><code>&lt;color name=\"navigation_drawer_overlay\"&gt;#66000000&lt;/color&gt;\n</code></pre>\n\n<p>And the same color resource in values-night/colors.xml as:</p>\n\n<pre><code>&lt;color name=\"navigation_drawer_overlay\"&gt;#33AAAAAA&lt;/color&gt;\n</code></pre>\n\n<p>By default when i fetch this color in java source codes: </p>\n\n<pre><code>ContextCompat.getColor(getContext(), R.color.navigation_drawer_overlay);\n</code></pre>\n\n<p>It will fetch base on automatic configuration detection.</p>\n\n<p>But i want to fetch special configuration (in my case values-night version)</p>\n\n<p>Is there a way to force fetch resource of my desire configuration?</p>\n\n<p>Can i force fetch -night color resource?</p>\n"},{"tags":["java","cron","quartz-scheduler"],"comments":[{"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"score":1,"creation_date":1360775549,"post_id":14859044,"comment_id":20828239,"body_markdown":"Doesn&#39;t your program just terminate?","body":"Doesn&#39;t your program just terminate?"},{"owner":{"account_id":500240,"reputation":5968,"user_id":1094616,"accept_rate":57,"display_name":"sscarduzio"},"score":0,"creation_date":1360827581,"post_id":14859044,"comment_id":20846349,"body_markdown":"No because I don&#39;t shutdown the scheduler (in purpose).","body":"No because I don&#39;t shutdown the scheduler (in purpose)."},{"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"score":0,"creation_date":1360827753,"post_id":14859044,"comment_id":20846408,"body_markdown":"Did you actually confirm that your application does not simply end just after `s.start()`?","body":"Did you actually confirm that your application does not simply end just after <code>s.start()</code>?"},{"owner":{"account_id":500240,"reputation":5968,"user_id":1094616,"accept_rate":57,"display_name":"sscarduzio"},"score":1,"creation_date":1360831794,"post_id":14859044,"comment_id":20847877,"body_markdown":"I confirm it stays alive. It terminates immediately if I put s.shutdown() as last instruction. Previous version of my test program included a sleep of ten minutes and then the s.shutdown(). The effect was that the process terminated after 10m. But for the sake of simplicity I published the one without. I tested either ways. I imagined this was the intended behaviour.","body":"I confirm it stays alive. It terminates immediately if I put s.shutdown() as last instruction. Previous version of my test program included a sleep of ten minutes and then the s.shutdown(). The effect was that the process terminated after 10m. But for the sake of simplicity I published the one without. I tested either ways. I imagined this was the intended behaviour."},{"owner":{"account_id":6220817,"reputation":121,"user_id":4840501,"display_name":"Darshit Patel"},"score":0,"creation_date":1626158609,"post_id":14859044,"comment_id":120810968,"body_markdown":"Btw, for anyone reading this, Quartz loads up default properties even when you do not provide the quartz.properties file. Check out the documentation [here](https://www.quartz-scheduler.org/documentation/quartz-2.3.0/configuration/#:~:text=By%20default%2C%20StdSchedulerFactory%20load%20a,org%2Fquartz%20package%20is%20loaded.)","body":"Btw, for anyone reading this, Quartz loads up default properties even when you do not provide the quartz.properties file. Check out the documentation <a href=\"https://www.quartz-scheduler.org/documentation/quartz-2.3.0/configuration/#:~:text=By%20default%2C%20StdSchedulerFactory%20load%20a,org%2Fquartz%20package%20is%20loaded.\" rel=\"nofollow noreferrer\">here</a>"}],"answers":[{"comments":[{"owner":{"account_id":4902258,"reputation":4979,"user_id":3962211,"accept_rate":71,"display_name":"Roy Shmuli"},"score":5,"creation_date":1446053878,"post_id":14954323,"comment_id":54587139,"body_markdown":"Another problem may be if the constractor require parameters or not public. I found my problem thanks to you.","body":"Another problem may be if the constractor require parameters or not public. I found my problem thanks to you."},{"owner":{"account_id":116234,"reputation":8075,"user_id":304874,"accept_rate":84,"display_name":"Graeme Moss"},"score":2,"creation_date":1461574923,"post_id":14954323,"comment_id":61242642,"body_markdown":"I had the same issue.  I also find it very odd/frustrating that no error messages are given at all...","body":"I had the same issue.  I also find it very odd/frustrating that no error messages are given at all..."},{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":1,"creation_date":1526393514,"post_id":14954323,"comment_id":87720812,"body_markdown":"You made my day!","body":"You made my day!"},{"owner":{"account_id":1010409,"reputation":281,"user_id":1023095,"accept_rate":86,"display_name":"Petteri Pertola"},"score":1,"creation_date":1577114736,"post_id":14954323,"comment_id":105096548,"body_markdown":"Did you ever discover why Quartz silently failed firing jobs? I am facing the same issue and cannot explain why since it works the vast majority of the time.","body":"Did you ever discover why Quartz silently failed firing jobs? I am facing the same issue and cannot explain why since it works the vast majority of the time."},{"owner":{"account_id":6220817,"reputation":121,"user_id":4840501,"display_name":"Darshit Patel"},"score":0,"creation_date":1626158348,"post_id":14954323,"comment_id":120810883,"body_markdown":"From the v2.3.0 [documentation](http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/tutorial-lesson-03.html):\n&quot;...jobs must have a no-argument constructor (when using the default JobFactory implementation)&quot;","body":"From the v2.3.0 <a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/tutorial-lesson-03.html\" rel=\"nofollow noreferrer\">documentation</a>: &quot;...jobs must have a no-argument constructor (when using the default JobFactory implementation)&quot;"}],"tags":[],"owner":{"account_id":500240,"reputation":5968,"user_id":1094616,"accept_rate":57,"display_name":"sscarduzio"},"comment_count":5,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1626256980,"creation_date":1361266918,"answer_id":14954323,"question_id":14859044,"body_markdown":"I found the solution: changing the visibility of the class defining the job (Printer) to **public** will make it possible to Quartz to access it and run it.\r\n\r\n    public class Printer implements Job { // just add &#39;public&#39;!\r\n        public Printer() {\r\n            System.out.println(&quot;created printer&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void execute(JobExecutionContext context)\r\n                throws JobExecutionException {\r\n            System.out.println(&quot;hi&quot; + context.getFireTime());\r\n        }\r\n\r\n    }\r\n\r\n\r\nThat&#39;s understandable, since it&#39;s only possible to pass a `&lt;? extends Job&gt;.class`\r\nto the scheduler (bloody hell, why??) and not - for example - anonymous objects.\r\n\r\nHaving that said, **I find really upsetting the way Quartz silently fails firing jobs without a single error message.**","title":"Quartz not firing simple trigger","body":"<p>I found the solution: changing the visibility of the class defining the job (Printer) to <strong>public</strong> will make it possible to Quartz to access it and run it.</p>\n<pre><code>public class Printer implements Job { // just add 'public'!\n    public Printer() {\n        System.out.println(&quot;created printer&quot;);\n    }\n\n    @Override\n    public void execute(JobExecutionContext context)\n            throws JobExecutionException {\n        System.out.println(&quot;hi&quot; + context.getFireTime());\n    }\n\n}\n</code></pre>\n<p>That's understandable, since it's only possible to pass a <code>&lt;? extends Job&gt;.class</code>\nto the scheduler (bloody hell, why??) and not - for example - anonymous objects.</p>\n<p>Having that said, <strong>I find really upsetting the way Quartz silently fails firing jobs without a single error message.</strong></p>\n"},{"tags":[],"owner":{"account_id":23587351,"reputation":60,"user_id":17625629,"display_name":"Vled"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693879209,"creation_date":1693879209,"answer_id":77041345,"question_id":14859044,"body_markdown":"What fixed the issue for me was making the Job class **static**, including **the objects the Job uses**. In my case I was making a Discord bot and wanted to present some news every day at X time.\r\n\r\n    public class BotListeners extends ListenerAdapter {\r\n\r\n    private JDA jda = null;\r\n    private static TextChannel generalChannel;\r\n    private static TextChannel newsChannel;\r\n    private static UoiScraper scraper;\r\n\r\n    /* Other methods we dont care about */\r\n\r\n\r\n\r\n    public static class NewsJob implements Job{\r\n        public NewsJob(){\r\n            System.out.println(&quot;Creating job&quot;);\r\n        }\r\n        @Override\r\n        public void execute(JobExecutionContext jobExecutionContext) throws JobExecutionException{\r\n            newsChannel.getIterableHistory().forEach(message -&gt; message.delete().queue());\r\n            scraper.presentNewsForDiscord(newsChannel);\r\n        }\r\n    }\r\n\r\n    public void sendDailyNews() throws SchedulerException {\r\n        Scheduler scheduler = new StdSchedulerFactory().getScheduler();\r\n        scheduler.start();\r\n\r\n        JobDetail scrapeNewsJob = JobBuilder.newJob(NewsJob.class)\r\n                .withIdentity(&quot;presentNewsForDiscordJob&quot;, &quot;group1&quot;)\r\n                .build();\r\n\r\n        //trigger every day at 12:58\r\n        Trigger trigger = TriggerBuilder.newTrigger()\r\n                .withIdentity(&quot;presentNewsForDiscordTrigger&quot;, &quot;group1&quot;)\r\n                .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 55 4 * * ?&quot;))\r\n                .build();\r\n        System.out.println(&quot;News will be renewed in &quot; + trigger.getStartTime());\r\n\r\n        scheduler.scheduleJob(scrapeNewsJob, trigger);\r\n    }\r\n\r\n","title":"Quartz not firing simple trigger","body":"<p>What fixed the issue for me was making the Job class <strong>static</strong>, including <strong>the objects the Job uses</strong>. In my case I was making a Discord bot and wanted to present some news every day at X time.</p>\n<pre><code>public class BotListeners extends ListenerAdapter {\n\nprivate JDA jda = null;\nprivate static TextChannel generalChannel;\nprivate static TextChannel newsChannel;\nprivate static UoiScraper scraper;\n\n/* Other methods we dont care about */\n\n\n\npublic static class NewsJob implements Job{\n    public NewsJob(){\n        System.out.println(&quot;Creating job&quot;);\n    }\n    @Override\n    public void execute(JobExecutionContext jobExecutionContext) throws JobExecutionException{\n        newsChannel.getIterableHistory().forEach(message -&gt; message.delete().queue());\n        scraper.presentNewsForDiscord(newsChannel);\n    }\n}\n\npublic void sendDailyNews() throws SchedulerException {\n    Scheduler scheduler = new StdSchedulerFactory().getScheduler();\n    scheduler.start();\n\n    JobDetail scrapeNewsJob = JobBuilder.newJob(NewsJob.class)\n            .withIdentity(&quot;presentNewsForDiscordJob&quot;, &quot;group1&quot;)\n            .build();\n\n    //trigger every day at 12:58\n    Trigger trigger = TriggerBuilder.newTrigger()\n            .withIdentity(&quot;presentNewsForDiscordTrigger&quot;, &quot;group1&quot;)\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 55 4 * * ?&quot;))\n            .build();\n    System.out.println(&quot;News will be renewed in &quot; + trigger.getStartTime());\n\n    scheduler.scheduleJob(scrapeNewsJob, trigger);\n}\n</code></pre>\n"}],"owner":{"account_id":500240,"reputation":5968,"user_id":1094616,"accept_rate":57,"display_name":"sscarduzio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19360,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":14954323,"answer_count":2,"score":13,"last_activity_date":1693879209,"creation_date":1360775450,"question_id":14859044,"body_markdown":"This should be pretty straight forward, but I see no job being executed. I have a breakpoint on the execute() method of the task, no thread gets there ever.\r\nI&#39;m not getting what&#39;s wrong.\r\n\r\nthe Job\r\n\r\n    class Printer implements Job{\r\n    \tpublic Printer(){\r\n    \t\tSystem.out.println(&quot;created printer&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void execute(JobExecutionContext context)\r\n    \t\t\tthrows JobExecutionException {\r\n    \t\tSystem.out.println(&quot;hi&quot; + context.getFireTime());\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nThe main class\r\n\r\n    class MyClass {\r\n          public static void main(String[] args) throws Throwable {\r\n        \t\tScheduler s = StdSchedulerFactory.getDefaultScheduler();\r\n        \t\tJobDetail job = newJob(Printer.class).build();\r\n        \t\tCronTrigger trigger = \r\n        \t\t\t\tnewTrigger()\r\n        \t\t\t\t.withIdentity(&quot;a&quot;, &quot;t&quot;)\r\n        \t\t\t\t.withSchedule(cronSchedule(&quot;0/5 * * * * ?&quot;).inTimeZone(TimeZone.getDefault()))\r\n        \t\t\t\t.forJob(job).build();\r\n        \t\ts.scheduleJob(job, trigger);\r\n\r\n    // This prints the right date!\r\n\r\n    \t\t    System.out.println(trigger.getNextFireTime()); \r\n        \t\ts.start();\r\n            }\r\n    }\r\n\r\n**EDIT**: I discovered I didn&#39;t have the quartz.property file, so there was the possibility the threadpool for quartz was not ever created. Therefore as read in [documentation][1], I replaced the code using StdSchedulerFactory with the following:\r\n\r\n    DirectSchedulerFactory.getInstance().createVolatileScheduler(10);\r\n    Scheduler s = DirectSchedulerFactory.getInstance().getScheduler();\r\n\r\nGuess what? No luck still. Same identical effect. Application keeps staying alive, firing not trigger.\r\n\r\n\r\n  [1]: http://quartz-scheduler.org/api/2.1.0/org/quartz/impl/DirectSchedulerFactory.html","title":"Quartz not firing simple trigger","body":"<p>This should be pretty straight forward, but I see no job being executed. I have a breakpoint on the execute() method of the task, no thread gets there ever.\nI'm not getting what's wrong.</p>\n\n<p>the Job</p>\n\n<pre><code>class Printer implements Job{\n    public Printer(){\n        System.out.println(\"created printer\");\n    }\n\n    @Override\n    public void execute(JobExecutionContext context)\n            throws JobExecutionException {\n        System.out.println(\"hi\" + context.getFireTime());\n    }\n\n}\n</code></pre>\n\n<p>The main class</p>\n\n<pre><code>class MyClass {\n      public static void main(String[] args) throws Throwable {\n            Scheduler s = StdSchedulerFactory.getDefaultScheduler();\n            JobDetail job = newJob(Printer.class).build();\n            CronTrigger trigger = \n                    newTrigger()\n                    .withIdentity(\"a\", \"t\")\n                    .withSchedule(cronSchedule(\"0/5 * * * * ?\").inTimeZone(TimeZone.getDefault()))\n                    .forJob(job).build();\n            s.scheduleJob(job, trigger);\n\n// This prints the right date!\n\n            System.out.println(trigger.getNextFireTime()); \n            s.start();\n        }\n}\n</code></pre>\n\n<p><strong>EDIT</strong>: I discovered I didn't have the quartz.property file, so there was the possibility the threadpool for quartz was not ever created. Therefore as read in <a href=\"http://quartz-scheduler.org/api/2.1.0/org/quartz/impl/DirectSchedulerFactory.html\">documentation</a>, I replaced the code using StdSchedulerFactory with the following:</p>\n\n<pre><code>DirectSchedulerFactory.getInstance().createVolatileScheduler(10);\nScheduler s = DirectSchedulerFactory.getInstance().getScheduler();\n</code></pre>\n\n<p>Guess what? No luck still. Same identical effect. Application keeps staying alive, firing not trigger.</p>\n"},{"tags":["java","openapi-generator","openapi-generator-cli"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1693234864,"post_id":76993874,"comment_id":135730118,"body_markdown":"I haven&#39;t used openapi-generator but a UUID in Java is not a String, so it would definitely cause a ClassCastException. It can be converted by calling its `toString` method. Perhaps it&#39;s a bug? Are you using the latest version? Or, alternately, can you change the code it generates to add a `.toString()` call to the UUID in the appropriate places?","body":"I haven&#39;t used openapi-generator but a UUID in Java is not a String, so it would definitely cause a ClassCastException. It can be converted by calling its <code>toString</code> method. Perhaps it&#39;s a bug? Are you using the latest version? Or, alternately, can you change the code it generates to add a <code>.toString()</code> call to the UUID in the appropriate places?"},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1693238943,"post_id":76993874,"comment_id":135731086,"body_markdown":"It&#39;s an issue with the OpenAPI Generator. Possibly this one: https://github.com/OpenAPITools/openapi-generator/issues/3516","body":"It&#39;s an issue with the OpenAPI Generator. Possibly this one: <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/3516\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues/3516</a>"},{"owner":{"account_id":3030583,"reputation":33,"user_id":2912125,"display_name":"Starid"},"score":0,"creation_date":1693250235,"post_id":76993874,"comment_id":135733127,"body_markdown":"It seems that issue was solved in 6.6.0 version of OpenAPI Generator, and now in new major release (7.0.0) it is present once again. The issue related to the bug: https://github.com/OpenAPITools/openapi-generator/issues/16429","body":"It seems that issue was solved in 6.6.0 version of OpenAPI Generator, and now in new major release (7.0.0) it is present once again. The issue related to the bug: <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/16429\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues/16429</a>"}],"answers":[{"tags":[],"owner":{"account_id":345047,"reputation":10337,"user_id":677735,"display_name":"William Cheng"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693879035,"creation_date":1693879035,"answer_id":77041336,"question_id":76993874,"body_markdown":"The issue has been fixed in the latest master via https://github.com/OpenAPITools/openapi-generator/pull/16432.\r\n\r\nYou can give it a try using the SNAPSHOT version: https://oss.sonatype.org/content/repositories/snapshots/org/openapitools/openapi-generator-cli/7.0.1-SNAPSHOT/","title":"ClassCastException When Generating Python Client with OpenAPI Generator","body":"<p>The issue has been fixed in the latest master via <a href=\"https://github.com/OpenAPITools/openapi-generator/pull/16432\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/pull/16432</a>.</p>\n<p>You can give it a try using the SNAPSHOT version: <a href=\"https://oss.sonatype.org/content/repositories/snapshots/org/openapitools/openapi-generator-cli/7.0.1-SNAPSHOT/\" rel=\"nofollow noreferrer\">https://oss.sonatype.org/content/repositories/snapshots/org/openapitools/openapi-generator-cli/7.0.1-SNAPSHOT/</a></p>\n"}],"owner":{"account_id":3030583,"reputation":33,"user_id":2912125,"display_name":"Starid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77041336,"answer_count":1,"score":1,"last_activity_date":1693879035,"creation_date":1693234133,"question_id":76993874,"body_markdown":"I&#39;m currently working on a project where I need to generate a Python client for the Allegro API. However, I&#39;m encountering a ClassCastException when the generator tries to handle a UUID. It seems like the generator is trying to cast a UUID to a string, but it&#39;s failing. I&#39;ve tried looking for solutions online, but haven&#39;t found anything that works yet.\r\n\r\nThe command I&#39;m using to generate the client (7.0.0 version):\r\n\r\n    openapi-generator-cli generate -g python -i https://developer.allegro.pl/swagger.yaml -o /home/user/client\r\n\r\nError message:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Could not process operation:\r\n      Tag: class Tag {\r\n        name: Advance Ship Notices\r\n        description: null\r\n        externalDocs: null\r\n    }\r\n      Operation: deleteAdvanceShipNotice\r\n      Resource: delete /fulfillment/advance-ship-notices/{id}\r\n      Schemas: {BillingEntries=class ObjectSchema {\r\n        class Schema {\r\n    (...)\r\n    \r\n    }}\r\n      Exception: class java.util.UUID cannot be cast to class java.lang.String (java.util.UUID and java.lang.String are in module java.base of loader &#39;bootstrap&#39;)\r\n    \tat org.openapitools.codegen.DefaultGenerator.processOperation(DefaultGenerator.java:1225)\r\n    \tat org.openapitools.codegen.DefaultGenerator.processPaths(DefaultGenerator.java:1120)\r\n    \tat org.openapitools.codegen.DefaultGenerator.generateApis(DefaultGenerator.java:590)\r\n    \tat org.openapitools.codegen.DefaultGenerator.generate(DefaultGenerator.java:953)\r\n    \tat org.openapitools.codegen.cmd.Generate.execute(Generate.java:511)\r\n    \tat org.openapitools.codegen.cmd.OpenApiGeneratorCommand.run(OpenApiGeneratorCommand.java:32)\r\n    \tat org.openapitools.codegen.OpenAPIGenerator.main(OpenAPIGenerator.java:66)\r\n    Caused by: java.lang.ClassCastException: class java.util.UUID cannot be cast to class java.lang.String (java.util.UUID and java.lang.String are in module java.base of loader &#39;bootstrap&#39;)\r\n    \tat org.openapitools.codegen.languages.AbstractPythonCodegen.toDefaultValue(AbstractPythonCodegen.java:185)\r\n    \tat org.openapitools.codegen.DefaultCodegen.toDefaultValue(DefaultCodegen.java:2261)\r\n    \tat org.openapitools.codegen.DefaultCodegen.fromProperty(DefaultCodegen.java:4129)\r\n    \tat org.openapitools.codegen.DefaultCodegen.fromProperty(DefaultCodegen.java:3841)\r\n    \tat org.openapitools.codegen.DefaultCodegen.fromParameter(DefaultCodegen.java:5116)\r\n    \tat org.openapitools.codegen.DefaultCodegen.fromOperation(DefaultCodegen.java:4636)\r\n    \tat org.openapitools.codegen.DefaultGenerator.processOperation(DefaultGenerator.java:1193)\r\n    \t... 6 more\r\n\r\nAnd here&#39;s the relevant part of swagger:\r\n\r\n    /fulfillment/advance-ship-notices/{id}/labels:\r\n      get:\r\n        summary: &#39;Get labels for Advance Ship Notice&#39;\r\n        description: &#39;Use this resource to get labels for Advance Ship Notice after being created with &quot;create labels command&quot;.&#39;\r\n        tags:\r\n          - Advance Ship Notices\r\n        operationId: getAdvanceShipNoticeLabels\r\n        parameters:\r\n          - name: id\r\n            in: path\r\n            description: An identifier of the Advance Ship Notice.\r\n            required: true\r\n            schema:\r\n              type: string\r\n              format: uuid\r\n            example: 84529ad2-2265-4e15-b76b-c17025d848f6\r\n          - name: accept\r\n            in: header\r\n            description: Content-type of generated labels\r\n            required: true\r\n            schema:\r\n              type: string\r\n              enum:\r\n                - application/pdf\r\n                - x-application/zpl\r\n\r\nAny ideas what can be the issue? The mentioned specification goes through OpenAPI validatiors without errors.","title":"ClassCastException When Generating Python Client with OpenAPI Generator","body":"<p>I'm currently working on a project where I need to generate a Python client for the Allegro API. However, I'm encountering a ClassCastException when the generator tries to handle a UUID. It seems like the generator is trying to cast a UUID to a string, but it's failing. I've tried looking for solutions online, but haven't found anything that works yet.</p>\n<p>The command I'm using to generate the client (7.0.0 version):</p>\n<pre><code>openapi-generator-cli generate -g python -i https://developer.allegro.pl/swagger.yaml -o /home/user/client\n</code></pre>\n<p>Error message:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Could not process operation:\n  Tag: class Tag {\n    name: Advance Ship Notices\n    description: null\n    externalDocs: null\n}\n  Operation: deleteAdvanceShipNotice\n  Resource: delete /fulfillment/advance-ship-notices/{id}\n  Schemas: {BillingEntries=class ObjectSchema {\n    class Schema {\n(...)\n\n}}\n  Exception: class java.util.UUID cannot be cast to class java.lang.String (java.util.UUID and java.lang.String are in module java.base of loader 'bootstrap')\n    at org.openapitools.codegen.DefaultGenerator.processOperation(DefaultGenerator.java:1225)\n    at org.openapitools.codegen.DefaultGenerator.processPaths(DefaultGenerator.java:1120)\n    at org.openapitools.codegen.DefaultGenerator.generateApis(DefaultGenerator.java:590)\n    at org.openapitools.codegen.DefaultGenerator.generate(DefaultGenerator.java:953)\n    at org.openapitools.codegen.cmd.Generate.execute(Generate.java:511)\n    at org.openapitools.codegen.cmd.OpenApiGeneratorCommand.run(OpenApiGeneratorCommand.java:32)\n    at org.openapitools.codegen.OpenAPIGenerator.main(OpenAPIGenerator.java:66)\nCaused by: java.lang.ClassCastException: class java.util.UUID cannot be cast to class java.lang.String (java.util.UUID and java.lang.String are in module java.base of loader 'bootstrap')\n    at org.openapitools.codegen.languages.AbstractPythonCodegen.toDefaultValue(AbstractPythonCodegen.java:185)\n    at org.openapitools.codegen.DefaultCodegen.toDefaultValue(DefaultCodegen.java:2261)\n    at org.openapitools.codegen.DefaultCodegen.fromProperty(DefaultCodegen.java:4129)\n    at org.openapitools.codegen.DefaultCodegen.fromProperty(DefaultCodegen.java:3841)\n    at org.openapitools.codegen.DefaultCodegen.fromParameter(DefaultCodegen.java:5116)\n    at org.openapitools.codegen.DefaultCodegen.fromOperation(DefaultCodegen.java:4636)\n    at org.openapitools.codegen.DefaultGenerator.processOperation(DefaultGenerator.java:1193)\n    ... 6 more\n</code></pre>\n<p>And here's the relevant part of swagger:</p>\n<pre><code>/fulfillment/advance-ship-notices/{id}/labels:\n  get:\n    summary: 'Get labels for Advance Ship Notice'\n    description: 'Use this resource to get labels for Advance Ship Notice after being created with &quot;create labels command&quot;.'\n    tags:\n      - Advance Ship Notices\n    operationId: getAdvanceShipNoticeLabels\n    parameters:\n      - name: id\n        in: path\n        description: An identifier of the Advance Ship Notice.\n        required: true\n        schema:\n          type: string\n          format: uuid\n        example: 84529ad2-2265-4e15-b76b-c17025d848f6\n      - name: accept\n        in: header\n        description: Content-type of generated labels\n        required: true\n        schema:\n          type: string\n          enum:\n            - application/pdf\n            - x-application/zpl\n</code></pre>\n<p>Any ideas what can be the issue? The mentioned specification goes through OpenAPI validatiors without errors.</p>\n"},{"tags":["java","minecraft","spigot"],"answers":[{"comments":[{"owner":{"account_id":28687893,"reputation":37,"user_id":21967775,"display_name":"vitekform"},"score":0,"creation_date":1693913963,"post_id":77041321,"comment_id":135819345,"body_markdown":"According to my IDE PlayerType does not exist\n(I only use Bukkit API)","body":"According to my IDE PlayerType does not exist (I only use Bukkit API)"},{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1693914780,"post_id":77041321,"comment_id":135819516,"body_markdown":"@vitekform As I mentioned in my answer, I made up `PlayerType`. It would be an enum that contains the various roles/types that your players may become.","body":"@vitekform As I mentioned in my answer, I made up <code>PlayerType</code>. It would be an enum that contains the various roles/types that your players may become."},{"owner":{"account_id":28687893,"reputation":37,"user_id":21967775,"display_name":"vitekform"},"score":0,"creation_date":1693919668,"post_id":77041321,"comment_id":135820709,"body_markdown":"Oh sorry then. :)","body":"Oh sorry then. :)"}],"tags":[],"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693878725,"creation_date":1693878725,"answer_id":77041321,"question_id":77038604,"body_markdown":"[`Player`](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html) extends [`Metadatable`](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/metadata/Metadatable.html), so you can do something like this:\r\n\r\n```java\r\nPlayerType playerType = PlayerType.MURDERER;\r\nplayer.setMetadata(&quot;PLAYER_TYPE_KEY&quot;, new FixedMetadataValue(yourPluginInstance, playerType));\r\n```\r\n\r\nThen check and fetch it:\r\n```java\r\nif(player.hasMetadata(&quot;PLAYER_TYPE_KEY&quot;)) {\r\n   PlayerType playerType = (PlayerType) player.getMetadata(&quot;PLAYER_TYPE_KEY&quot;).get(0).value();\r\n   if(playerType == PlayerType.MURDERER)\r\n        ...\r\n}\r\n```\r\n\r\nI&#39;ve made up the &quot;PlayerType&quot; enum, but you could store whatever value you wanted. You must add extra checks to ensure index zero exists and is not null.\r\n\r\nHowever, you may wish to consider creating a data object to represent the state of your player because you&#39;re already storing them in a list. For example, you could have something like this:\r\n\r\n```java\r\npublic class PlayerGameState {\r\n    private final PlayerType playerType;\r\n    private boolean isDead;\r\n    private boolean isSpectating;\r\n    // ... more state data\r\n\r\n    public PlayerGameState() {\r\n        this.playerType = PlayerType.PLAYER;\r\n    }\r\n\r\n    public PlayerGameState(PlayerType playerType) {\r\n        this.playerType = playerType;\r\n    }\r\n\r\n    // ... getters &amp; setters\r\n    public void setIsDead(boolean isDead) {\r\n        this.isDead = isDead;\r\n    }\r\n}\r\n```\r\n\r\nAnd then you could store their state in a map:\r\n\r\n```\r\nprivate Map&lt;UUID, PlayerGameState&gt; playerStateMap = new HashMap&lt;&gt;();\r\n\r\n...\r\n\r\n//Example methods (minimal &amp; no data integrity checks)\r\n\r\npublic void addPlayerToGame(Player player) {\r\n    playerStateMap.put(player.getUniqueId(), PlayerGameState::new);\r\n}\r\n\r\n@EventHandler\r\npublic void onDeath(PlayerDeathEvent event) {\r\n    PlayerGameState state = PlayerGameState.get(event.getPlayer().getUniqueId());\r\n    if(state.getPlayerType() == PlayerType.MURDERER)\r\n        ...\r\n}\r\n```\r\nThis approach would avoid having multiple lists to represent if your players are playing, spectating and in which capacity they&#39;re playing (plus whatever else makes up their state).","title":"Storing custom game state data on a player","body":"<p><a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html\" rel=\"nofollow noreferrer\"><code>Player</code></a> extends <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/metadata/Metadatable.html\" rel=\"nofollow noreferrer\"><code>Metadatable</code></a>, so you can do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PlayerType playerType = PlayerType.MURDERER;\nplayer.setMetadata(&quot;PLAYER_TYPE_KEY&quot;, new FixedMetadataValue(yourPluginInstance, playerType));\n</code></pre>\n<p>Then check and fetch it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(player.hasMetadata(&quot;PLAYER_TYPE_KEY&quot;)) {\n   PlayerType playerType = (PlayerType) player.getMetadata(&quot;PLAYER_TYPE_KEY&quot;).get(0).value();\n   if(playerType == PlayerType.MURDERER)\n        ...\n}\n</code></pre>\n<p>I've made up the &quot;PlayerType&quot; enum, but you could store whatever value you wanted. You must add extra checks to ensure index zero exists and is not null.</p>\n<p>However, you may wish to consider creating a data object to represent the state of your player because you're already storing them in a list. For example, you could have something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PlayerGameState {\n    private final PlayerType playerType;\n    private boolean isDead;\n    private boolean isSpectating;\n    // ... more state data\n\n    public PlayerGameState() {\n        this.playerType = PlayerType.PLAYER;\n    }\n\n    public PlayerGameState(PlayerType playerType) {\n        this.playerType = playerType;\n    }\n\n    // ... getters &amp; setters\n    public void setIsDead(boolean isDead) {\n        this.isDead = isDead;\n    }\n}\n</code></pre>\n<p>And then you could store their state in a map:</p>\n<pre><code>private Map&lt;UUID, PlayerGameState&gt; playerStateMap = new HashMap&lt;&gt;();\n\n...\n\n//Example methods (minimal &amp; no data integrity checks)\n\npublic void addPlayerToGame(Player player) {\n    playerStateMap.put(player.getUniqueId(), PlayerGameState::new);\n}\n\n@EventHandler\npublic void onDeath(PlayerDeathEvent event) {\n    PlayerGameState state = PlayerGameState.get(event.getPlayer().getUniqueId());\n    if(state.getPlayerType() == PlayerType.MURDERER)\n        ...\n}\n</code></pre>\n<p>This approach would avoid having multiple lists to represent if your players are playing, spectating and in which capacity they're playing (plus whatever else makes up their state).</p>\n"}],"owner":{"account_id":28687893,"reputation":37,"user_id":21967775,"display_name":"vitekform"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693878850,"creation_date":1693837848,"question_id":77038604,"body_markdown":"Hi guys I have the array where are stored all alive players. I want to check if all of them has specific metadata. Something like:\r\n```java\r\nPlayer dead = event.getEntity().getPlayer();\r\nPLAYING.remove(dead);\r\nSPECTATORS.add(dead);\r\nif (all PLAYING.hasMetaData(&quot;murder&quot;){\r\n    Bukkit.broadcastMessage(&quot;Murders have won the game!&quot;);\r\n}\r\n```\r\nBtw event is PlayerDeathEvent","title":"Storing custom game state data on a player","body":"<p>Hi guys I have the array where are stored all alive players. I want to check if all of them has specific metadata. Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Player dead = event.getEntity().getPlayer();\nPLAYING.remove(dead);\nSPECTATORS.add(dead);\nif (all PLAYING.hasMetaData(&quot;murder&quot;){\n    Bukkit.broadcastMessage(&quot;Murders have won the game!&quot;);\n}\n</code></pre>\n<p>Btw event is PlayerDeathEvent</p>\n"},{"tags":["java","cassandra","cassandra-3.0"],"comments":[{"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"score":0,"creation_date":1693878097,"post_id":77041152,"comment_id":135814269,"body_markdown":"A friendly reminder that this site is for getting help with coding, algorithm, or programming language problems so I voted to have your post moved to [DBA Stack Exchange](https://dba.stackexchange.com/questions/ask?tags=cassandra). For future reference, you should post DB admin/ops questions on https://dba.stackexchange.com/questions/ask?tags=cassandra. Cheers!","body":"A friendly reminder that this site is for getting help with coding, algorithm, or programming language problems so I voted to have your post moved to <a href=\"https://dba.stackexchange.com/questions/ask?tags=cassandra\">DBA Stack Exchange</a>. For future reference, you should post DB admin/ops questions on <a href=\"https://dba.stackexchange.com/questions/ask?tags=cassandra\">dba.stackexchange.com/questions/ask?tags=cassandra</a>. Cheers!"},{"owner":{"account_id":11360224,"reputation":41,"user_id":8328579,"accept_rate":100,"display_name":"junsung kang"},"score":0,"creation_date":1693878319,"post_id":77041152,"comment_id":135814285,"body_markdown":"sorry .. Next time, I&#39;ll post it at the link you provided. thank you : )","body":"sorry .. Next time, I&#39;ll post it at the link you provided. thank you : )"},{"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"score":0,"creation_date":1693878461,"post_id":77041152,"comment_id":135814298,"body_markdown":"No apologies necessary. &#128578; I just didn&#39;t want you to get surprised about others voting on your post and eventually gets closed. Cheers!","body":"No apologies necessary. 🙂 I just didn&#39;t want you to get surprised about others voting on your post and eventually gets closed. Cheers!"}],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693878001,"creation_date":1693878001,"answer_id":77041292,"question_id":77041152,"body_markdown":"Based on the log entries you posted, it appears that there is an issue at the filesystem level where one of the temporary files is locked by a process so it can&#39;t be accessed by another.\r\n\r\nThe Java file I/O library that Cassandra uses has always been problematic on Windows particularly with NTFS. It has been a constant source of issues for users that we decided it wasn&#39;t good for the project to continue support (see the [discussion in this thread][1]).\r\n\r\nWe eventually dropped Windows support completely in Cassandra 4.0 ([CASSANDRA-16171][2]).\r\n\r\nThe recommended workarounds for Windows users are:\r\n\r\n - Deploy [Cassandra in Docker][3]\r\n - Deploy Cassandra in a VM using software like VirtualBox\r\n - Deploy Cassandra in a Kubernetes cluster with open-source [K8ssandra.io][4]\r\n\r\n\r\n  [1]: https://lists.apache.org/thread/cpbpx74ysrs7xwgklpx2wh6003jms260\r\n  [2]: https://issues.apache.org/jira/browse/CASSANDRA-16171\r\n  [3]: https://cassandra.apache.org/_/quickstart.html\r\n  [4]: https://k8ssandra.io/get-started/","title":"Cassandra suddenly hangs, returns Windows FileSystemException: &quot;The process is inaccessible because the file is in use by another process&quot;","body":"<p>Based on the log entries you posted, it appears that there is an issue at the filesystem level where one of the temporary files is locked by a process so it can't be accessed by another.</p>\n<p>The Java file I/O library that Cassandra uses has always been problematic on Windows particularly with NTFS. It has been a constant source of issues for users that we decided it wasn't good for the project to continue support (see the <a href=\"https://lists.apache.org/thread/cpbpx74ysrs7xwgklpx2wh6003jms260\" rel=\"nofollow noreferrer\">discussion in this thread</a>).</p>\n<p>We eventually dropped Windows support completely in Cassandra 4.0 (<a href=\"https://issues.apache.org/jira/browse/CASSANDRA-16171\" rel=\"nofollow noreferrer\">CASSANDRA-16171</a>).</p>\n<p>The recommended workarounds for Windows users are:</p>\n<ul>\n<li>Deploy <a href=\"https://cassandra.apache.org/_/quickstart.html\" rel=\"nofollow noreferrer\">Cassandra in Docker</a></li>\n<li>Deploy Cassandra in a VM using software like VirtualBox</li>\n<li>Deploy Cassandra in a Kubernetes cluster with open-source <a href=\"https://k8ssandra.io/get-started/\" rel=\"nofollow noreferrer\">K8ssandra.io</a></li>\n</ul>\n"}],"owner":{"account_id":11360224,"reputation":41,"user_id":8328579,"accept_rate":100,"display_name":"junsung kang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77041292,"answer_count":1,"score":-1,"last_activity_date":1693878001,"creation_date":1693874186,"question_id":77041152,"body_markdown":"I am running a product.\r\n\r\nI&#39;m using these versions:\r\n\r\n- JDK 1.8\r\n- Cassandra 3.11.7 ([EmbeddedCassandra-Github](https://github.com/nosan/embedded-cassandra))\r\n- SpringBoot 2.2.2 Release\r\n- WindowServer 2019 Standard\r\n- Memory 128GB\r\n\r\nThe server specification is 128GB of total memory. I&#39;m using 24GB. and WindowServer 2019 Standard.   \r\nIn addition, &quot;nodetool flush&quot; runs every four hours.\r\n\r\nIf you look at the Cassandra log below, you can see that the work is continuing until the time is 14:47:05.865.\r\n\r\n```console\r\n[ 00:47:06.117 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 00:47:06,116 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \r\n[ 01:47:06.098 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 01:47:06,097 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \r\n[ 02:46:58.241 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [CompactionExecutor:9301] 2023-09-04 02:46:58,240 AutoSavingCache.java:395 - Saved KeyCache (527 items) in 7 ms ] \r\n[ 02:47:06.080 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 02:47:06,080 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \r\n[ 03:47:06.062 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 03:47:06,061 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \r\n[ 04:47:06.044 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 04:47:06,043 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \r\n[ 05:47:06.026 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 05:47:06,025 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \r\n[ 06:46:58.152 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [CompactionExecutor:9391] 2023-09-04 06:46:58,151 AutoSavingCache.java:395 - Saved KeyCache (527 items) in 7 ms ] \r\n[ 06:47:06.008 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 06:47:06,008 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \r\n[ 07:47:05.990 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 07:47:05,989 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \r\n[ 08:47:05.972 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 08:47:05,971 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \r\n[ 09:47:05.953 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 09:47:05,952 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \r\n[ 10:46:58.065 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [CompactionExecutor:9480] 2023-09-04 10:46:58,064 AutoSavingCache.java:395 - Saved KeyCache (527 items) in 7 ms ] \r\n[ 10:47:05.936 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 10:47:05,936 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \r\n[ 11:47:05.918 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 11:47:05,917 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \r\n[ 12:47:05.901 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 12:47:05,900 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \r\n[ 13:47:05.884 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 13:47:05,883 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \r\n[ 14:46:57.977 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [CompactionExecutor:9568] 2023-09-04 14:46:57,976 AutoSavingCache.java:395 - Saved KeyCache (527 items) in 7 ms ] \r\n[ 14:47:05.865 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 14:47:05,865 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \r\n[ 15:21:18.913 ] [ [34mINFO [0;39m ] [ [36m.c.EmbeddedCassandra[0;39m ] [ stop                 ] [ 85  ] [ Stops EmbeddedCassandra[name=&#39;cassandra-1&#39;, version=&#39;3.11.7&#39;] ] \r\n[ 15:21:21.915 ] [ [31mWARN [0;39m ] [ [36mWindowsCassandraNode[0;39m ] [ stop                 ] [ 111 ] [ java.lang.Process.destroyForcibly() has been called for &#39;WindowsCassandraNode[pid=&#39;-1&#39;, exitValue=&#39;not exited&#39;]&#39;. The behavior of this method is undefined, hence Cassandra&#39;s node could be still alive ] \r\n[ 15:21:21.916 ] [ [34mINFO [0;39m ] [ [36mdedCassandraDatabase[0;39m ] [ stop                 ] [ 131 ] [ EmbeddedCassandraDatabase[name=&#39;cassandra-1&#39;, version=&#39;3.11.7&#39;, node=WindowsCassandraNode[pid=&#39;-1&#39;, exitValue=&#39;1&#39;]] has been stopped ] \r\n[ 15:21:21.918 ] [ [1;31mERROR[0;39m ] [ [36mdedCassandraDatabase[0;39m ] [ stop                 ] [ 137 ] [ Working Directory &#39;C:\\Windows\\TEMP\\apache-cassandra-3.11.7-3621485632518011638&#39; has not been deleted ] \r\njava.nio.file.FileSystemException: C:\\Windows\\TEMP\\apache-cassandra-3.11.7-3621485632518011638\\.toDelete: The process is inaccessible because the file is in use by another process.\r\n\r\n\tat sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:86)\r\n\tat sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97)\r\n\tat sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:102)\r\n\tat sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:269)\r\n\tat sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:108)\r\n\tat java.nio.file.Files.deleteIfExists(Files.java:1165)\r\n\tat com.github.nosan.embedded.cassandra.commons.util.FileUtils$1.visitFile(FileUtils.java:82)\r\n\tat com.github.nosan.embedded.cassandra.commons.util.FileUtils$1.visitFile(FileUtils.java:78)\r\n\tat java.nio.file.Files.walkFileTree(Files.java:2670)\r\n\tat java.nio.file.Files.walkFileTree(Files.java:2742)\r\n\tat com.github.nosan.embedded.cassandra.commons.util.FileUtils.delete(FileUtils.java:78)\r\n\tat com.github.nosan.embedded.cassandra.EmbeddedCassandraDatabase.stop(EmbeddedCassandraDatabase.java:134)\r\n\tat com.github.nosan.embedded.cassandra.EmbeddedCassandra.doStop(EmbeddedCassandra.java:157)\r\n\tat com.github.nosan.embedded.cassandra.EmbeddedCassandra.stop(EmbeddedCassandra.java:86)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.support.DisposableBeanAdapter.invokeCustomDestroyMethod(DisposableBeanAdapter.java:339)\r\n\tat org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:273)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:571)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:543)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1072)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:504)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1065)\r\n\tat org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1060)\r\n\tat org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1029)\r\n\tat org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:978)\r\n\tat org.springframework.boot.SpringApplication.close(SpringApplication.java:1284)\r\n\tat org.springframework.boot.SpringApplication.exit(SpringApplication.java:1271)\r\n\tat kr.co.wisenut.manager.sf1.SearchManagerApplication.main(SearchManagerApplication.java:72)\r\n[ 15:21:21.920 ] [ [34mINFO [0;39m ] [ [36m.c.EmbeddedCassandra[0;39m ] [ stop                 ] [ 87  ] [ EmbeddedCassandra[name=&#39;cassandra-1&#39;, version=&#39;3.11.7&#39;] has been stopped ]\r\n\r\n```\r\n\r\nHowever, if I look at the application log I&#39;m running, I can see that I can&#39;t access Cassandra from around 08:44:48.596.\r\n\r\n```console\r\n[ 08:44:48.596 ] [ [1;31mERROR[0;39m ] [ [36mc.e.ExceptionHandler[0;39m ] [ renderErrorResponse  ] [ 73  ] [ Query; CQL [SELECT * FROM manager_common_user;]; All host(s) tried for query failed (no host was tried); nested exception is com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (no host was tried) ] \r\n[ 08:45:37.999 ] [ [1;31mERROR[0;39m ] [ [36mc.e.ExceptionHandler[0;39m ] [ renderErrorResponse  ] [ 73  ] [ Query; CQL [SELECT * FROM manager_common_user;]; All host(s) tried for query failed (no host was tried); nested exception is com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (no host was tried) ] \r\n[ 15:18:56.148 ] [ [1;31mERROR[0;39m ] [ [36mc.e.ExceptionHandler[0;39m ] [ renderErrorResponse  ] [ 73  ] [ Query; CQL [SELECT * FROM manager_common_user;]; All host(s) tried for query failed (no host was tried); nested exception is com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (no host was tried) ] \r\n[ 15:21:14.880 ] [ [34mINFO [0;39m ] [ [36m.CustomTaskScheduler[0;39m ] [ shutdown             ] [ 208 ] [ Shutting down ExecutorService &#39;customTaskScheduler&#39; ]\r\n\r\n```\r\n\r\nand, disabled or hang issue is log below related?\r\n\r\n```console\r\n[ 15:21:21.918 ] [ [1;31mERROR[0;39m ] [ [36mdedCassandraDatabase[0;39m ] [ stop                 ] [ 137 ] [ Working Directory &#39;C:\\Windows\\TEMP\\apache-cassandra-3.11.7-3621485632518011638&#39; has not been deleted ] \r\njava.nio.file.FileSystemException: C:\\Windows\\TEMP\\apache-cassandra-3.11.7-3621485632518011638\\.toDelete: The process is inaccessible because the file is in use by another process.\r\n```\r\n\r\n\r\nIn the middle, there was no error log left in the Cassandra log.  \r\nPlease help me with what part I&#39;m missing.","title":"Cassandra suddenly hangs, returns Windows FileSystemException: &quot;The process is inaccessible because the file is in use by another process&quot;","body":"<p>I am running a product.</p>\n<p>I'm using these versions:</p>\n<ul>\n<li>JDK 1.8</li>\n<li>Cassandra 3.11.7 (<a href=\"https://github.com/nosan/embedded-cassandra\" rel=\"nofollow noreferrer\">EmbeddedCassandra-Github</a>)</li>\n<li>SpringBoot 2.2.2 Release</li>\n<li>WindowServer 2019 Standard</li>\n<li>Memory 128GB</li>\n</ul>\n<p>The server specification is 128GB of total memory. I'm using 24GB. and WindowServer 2019 Standard.<br />\nIn addition, &quot;nodetool flush&quot; runs every four hours.</p>\n<p>If you look at the Cassandra log below, you can see that the work is continuing until the time is 14:47:05.865.</p>\n<pre><code>[ 00:47:06.117 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 00:47:06,116 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \n[ 01:47:06.098 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 01:47:06,097 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \n[ 02:46:58.241 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [CompactionExecutor:9301] 2023-09-04 02:46:58,240 AutoSavingCache.java:395 - Saved KeyCache (527 items) in 7 ms ] \n[ 02:47:06.080 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 02:47:06,080 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \n[ 03:47:06.062 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 03:47:06,061 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \n[ 04:47:06.044 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 04:47:06,043 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \n[ 05:47:06.026 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 05:47:06,025 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \n[ 06:46:58.152 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [CompactionExecutor:9391] 2023-09-04 06:46:58,151 AutoSavingCache.java:395 - Saved KeyCache (527 items) in 7 ms ] \n[ 06:47:06.008 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 06:47:06,008 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \n[ 07:47:05.990 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 07:47:05,989 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \n[ 08:47:05.972 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 08:47:05,971 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \n[ 09:47:05.953 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 09:47:05,952 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \n[ 10:46:58.065 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [CompactionExecutor:9480] 2023-09-04 10:46:58,064 AutoSavingCache.java:395 - Saved KeyCache (527 items) in 7 ms ] \n[ 10:47:05.936 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 10:47:05,936 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \n[ 11:47:05.918 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 11:47:05,917 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \n[ 12:47:05.901 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 12:47:05,900 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \n[ 13:47:05.884 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 13:47:05,883 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \n[ 14:46:57.977 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [CompactionExecutor:9568] 2023-09-04 14:46:57,976 AutoSavingCache.java:395 - Saved KeyCache (527 items) in 7 ms ] \n[ 14:47:05.865 ] [ [34mINFO [0;39m ] [ [36m.g.n.e.c.a.Cassandra[0;39m ] [ lambda$accept$0      ] [ 62  ] [ INFO  [IndexSummaryManager:1] 2023-09-04 14:47:05,865 IndexSummaryRedistribution.java:78 - Redistributing index summaries ] \n[ 15:21:18.913 ] [ [34mINFO [0;39m ] [ [36m.c.EmbeddedCassandra[0;39m ] [ stop                 ] [ 85  ] [ Stops EmbeddedCassandra[name='cassandra-1', version='3.11.7'] ] \n[ 15:21:21.915 ] [ [31mWARN [0;39m ] [ [36mWindowsCassandraNode[0;39m ] [ stop                 ] [ 111 ] [ java.lang.Process.destroyForcibly() has been called for 'WindowsCassandraNode[pid='-1', exitValue='not exited']'. The behavior of this method is undefined, hence Cassandra's node could be still alive ] \n[ 15:21:21.916 ] [ [34mINFO [0;39m ] [ [36mdedCassandraDatabase[0;39m ] [ stop                 ] [ 131 ] [ EmbeddedCassandraDatabase[name='cassandra-1', version='3.11.7', node=WindowsCassandraNode[pid='-1', exitValue='1']] has been stopped ] \n[ 15:21:21.918 ] [ [1;31mERROR[0;39m ] [ [36mdedCassandraDatabase[0;39m ] [ stop                 ] [ 137 ] [ Working Directory 'C:\\Windows\\TEMP\\apache-cassandra-3.11.7-3621485632518011638' has not been deleted ] \njava.nio.file.FileSystemException: C:\\Windows\\TEMP\\apache-cassandra-3.11.7-3621485632518011638\\.toDelete: The process is inaccessible because the file is in use by another process.\n\n    at sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:86)\n    at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97)\n    at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:102)\n    at sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:269)\n    at sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:108)\n    at java.nio.file.Files.deleteIfExists(Files.java:1165)\n    at com.github.nosan.embedded.cassandra.commons.util.FileUtils$1.visitFile(FileUtils.java:82)\n    at com.github.nosan.embedded.cassandra.commons.util.FileUtils$1.visitFile(FileUtils.java:78)\n    at java.nio.file.Files.walkFileTree(Files.java:2670)\n    at java.nio.file.Files.walkFileTree(Files.java:2742)\n    at com.github.nosan.embedded.cassandra.commons.util.FileUtils.delete(FileUtils.java:78)\n    at com.github.nosan.embedded.cassandra.EmbeddedCassandraDatabase.stop(EmbeddedCassandraDatabase.java:134)\n    at com.github.nosan.embedded.cassandra.EmbeddedCassandra.doStop(EmbeddedCassandra.java:157)\n    at com.github.nosan.embedded.cassandra.EmbeddedCassandra.stop(EmbeddedCassandra.java:86)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.DisposableBeanAdapter.invokeCustomDestroyMethod(DisposableBeanAdapter.java:339)\n    at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:273)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:571)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:543)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1072)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:504)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1065)\n    at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1060)\n    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1029)\n    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:978)\n    at org.springframework.boot.SpringApplication.close(SpringApplication.java:1284)\n    at org.springframework.boot.SpringApplication.exit(SpringApplication.java:1271)\n    at kr.co.wisenut.manager.sf1.SearchManagerApplication.main(SearchManagerApplication.java:72)\n[ 15:21:21.920 ] [ [34mINFO [0;39m ] [ [36m.c.EmbeddedCassandra[0;39m ] [ stop                 ] [ 87  ] [ EmbeddedCassandra[name='cassandra-1', version='3.11.7'] has been stopped ]\n\n</code></pre>\n<p>However, if I look at the application log I'm running, I can see that I can't access Cassandra from around 08:44:48.596.</p>\n<pre><code>[ 08:44:48.596 ] [ [1;31mERROR[0;39m ] [ [36mc.e.ExceptionHandler[0;39m ] [ renderErrorResponse  ] [ 73  ] [ Query; CQL [SELECT * FROM manager_common_user;]; All host(s) tried for query failed (no host was tried); nested exception is com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (no host was tried) ] \n[ 08:45:37.999 ] [ [1;31mERROR[0;39m ] [ [36mc.e.ExceptionHandler[0;39m ] [ renderErrorResponse  ] [ 73  ] [ Query; CQL [SELECT * FROM manager_common_user;]; All host(s) tried for query failed (no host was tried); nested exception is com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (no host was tried) ] \n[ 15:18:56.148 ] [ [1;31mERROR[0;39m ] [ [36mc.e.ExceptionHandler[0;39m ] [ renderErrorResponse  ] [ 73  ] [ Query; CQL [SELECT * FROM manager_common_user;]; All host(s) tried for query failed (no host was tried); nested exception is com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (no host was tried) ] \n[ 15:21:14.880 ] [ [34mINFO [0;39m ] [ [36m.CustomTaskScheduler[0;39m ] [ shutdown             ] [ 208 ] [ Shutting down ExecutorService 'customTaskScheduler' ]\n\n</code></pre>\n<p>and, disabled or hang issue is log below related?</p>\n<pre><code>[ 15:21:21.918 ] [ [1;31mERROR[0;39m ] [ [36mdedCassandraDatabase[0;39m ] [ stop                 ] [ 137 ] [ Working Directory 'C:\\Windows\\TEMP\\apache-cassandra-3.11.7-3621485632518011638' has not been deleted ] \njava.nio.file.FileSystemException: C:\\Windows\\TEMP\\apache-cassandra-3.11.7-3621485632518011638\\.toDelete: The process is inaccessible because the file is in use by another process.\n</code></pre>\n<p>In the middle, there was no error log left in the Cassandra log.<br />\nPlease help me with what part I'm missing.</p>\n"},{"tags":["java","griddb"],"answers":[{"tags":[],"owner":{"account_id":4159666,"reputation":127,"user_id":3410041,"display_name":"ogbeks"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693876008,"creation_date":1693876008,"answer_id":77041221,"question_id":76906784,"body_markdown":"The configuration error occurs because you presented a multicast address within your java code. You need to understand configuration mode setting for GridDB. We have Fixed List and Multicast Mode. These two operate differently.\r\n\r\nThe current GridDB 5.3.0 version is installed with a Fixed List mode i.e the configuration of cluster address on 127.0.0.1. \r\n\r\nNow, Let&#39;s understand the two different gs_cluster.json available for use. From your question, you were referring to the gs_cluster.json in your installation folder however you should refer more to the gs_cluster.json in the **gsadm** user to understand the gs_cluster.json configuration for running GridDB. To check this GridDB gs_cluster.json configuration, make use of the following command;\r\n\r\n    sudo su gsadm\r\n    cd\r\n    cat conf/gs_cluster.json\r\n\r\nIf running these commands returns the same gs_cluster.json with 127.0.0.1 then you are confirmed to be on Fixed List Mode.\r\n\r\nThus, you will need to modify your java properties code as the above Gridstore configuration is configured for Multicast Mode instead of Fixed List Mode.\r\n\r\nFixed List Mode\r\n\r\n    Properties props = new Properties();\r\n    props.setProperty(&quot;notificationMember&quot;, &quot;127.0.0.1:10001&quot;);\r\n    props.setProperty(&quot;clusterName&quot;, &quot;myCluster&quot;);\r\n    props.setProperty(&quot;user&quot;, &quot;admin&quot;);\r\n    props.setProperty(&quot;password&quot;, &quot;admin&quot;);\r\n    GridStore store = GridStoreFactory.getInstance().getGridStore(props);\r\n\r\n\r\nThus, I will recommend you remove the added \r\n\r\n    &quot;notificationAddress&quot;: &quot;239.0.0.1&quot;,\r\n    &quot;notificationPort&quot;:20000,\r\n\r\n \r\nSince your Grid DB is configured to run on Fixed List mode.\r\n","title":"GriddB gs_cluster.json Configuration","body":"<p>The configuration error occurs because you presented a multicast address within your java code. You need to understand configuration mode setting for GridDB. We have Fixed List and Multicast Mode. These two operate differently.</p>\n<p>The current GridDB 5.3.0 version is installed with a Fixed List mode i.e the configuration of cluster address on 127.0.0.1.</p>\n<p>Now, Let's understand the two different gs_cluster.json available for use. From your question, you were referring to the gs_cluster.json in your installation folder however you should refer more to the gs_cluster.json in the <strong>gsadm</strong> user to understand the gs_cluster.json configuration for running GridDB. To check this GridDB gs_cluster.json configuration, make use of the following command;</p>\n<pre><code>sudo su gsadm\ncd\ncat conf/gs_cluster.json\n</code></pre>\n<p>If running these commands returns the same gs_cluster.json with 127.0.0.1 then you are confirmed to be on Fixed List Mode.</p>\n<p>Thus, you will need to modify your java properties code as the above Gridstore configuration is configured for Multicast Mode instead of Fixed List Mode.</p>\n<p>Fixed List Mode</p>\n<pre><code>Properties props = new Properties();\nprops.setProperty(&quot;notificationMember&quot;, &quot;127.0.0.1:10001&quot;);\nprops.setProperty(&quot;clusterName&quot;, &quot;myCluster&quot;);\nprops.setProperty(&quot;user&quot;, &quot;admin&quot;);\nprops.setProperty(&quot;password&quot;, &quot;admin&quot;);\nGridStore store = GridStoreFactory.getInstance().getGridStore(props);\n</code></pre>\n<p>Thus, I will recommend you remove the added</p>\n<pre><code>&quot;notificationAddress&quot;: &quot;239.0.0.1&quot;,\n&quot;notificationPort&quot;:20000,\n</code></pre>\n<p>Since your Grid DB is configured to run on Fixed List mode.</p>\n"}],"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693876008,"creation_date":1692110004,"question_id":76906784,"body_markdown":"I am installing GriddB server as outlined in their official site using Java and I am trying to connect to a cluster. In the [documentation](https://griddb.org/docs-en/manuals/GridDB_QuickStartGuide.html), the cluster name is set as important, and for the rest, the default values are used. Initially after installation,  my gs_cluster.json configuration looked as below[![enter image description here][1]][1]\r\n\r\n\r\nHowever, the Java application could not connect, so I added the values that I thought were missing,namely:\r\n\r\n    &quot;notificationAddress&quot;: &quot;239.0.0.1&quot;,\r\n    &quot;notificationPort&quot;:20000,\r\n\r\n and made the final gs_cluster.json look as below.\r\n\r\n[![enter image description here][2]][2] \r\n\r\nHowever, nothing changed as there is not any connection yet.I have verified that my griddb server is running. Is there anything I am making wrong here? Is there a specific way to configure the gs_cluster.json file or any other related file for the connection to work ? Attached is the Java code showing how I tried to establish a connection using key-value properties.\r\n\r\n        Properties props = new Properties();\r\n        props.setProperty(&quot;notificationAddress&quot;, &quot;239.0.0.1&quot;);\r\n        props.setProperty(&quot;notificationPort&quot;, &quot;20000&quot;);\r\n        props.setProperty(&quot;clusterName&quot;, &quot;myCluster&quot;);\r\n        props.setProperty(&quot;user&quot;, &quot;admin&quot;);\r\n        props.setProperty(&quot;password&quot;, &quot;admin&quot;);\r\n        GridStore store = GridStoreFactory.getInstance().getGridStore(props);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RA06b.png\r\n  [2]: https://i.stack.imgur.com/Ltoz3.png","title":"GriddB gs_cluster.json Configuration","body":"<p>I am installing GriddB server as outlined in their official site using Java and I am trying to connect to a cluster. In the <a href=\"https://griddb.org/docs-en/manuals/GridDB_QuickStartGuide.html\" rel=\"nofollow noreferrer\">documentation</a>, the cluster name is set as important, and for the rest, the default values are used. Initially after installation,  my gs_cluster.json configuration looked as below<a href=\"https://i.stack.imgur.com/RA06b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RA06b.png\" alt=\"enter image description here\" /></a></p>\n<p>However, the Java application could not connect, so I added the values that I thought were missing,namely:</p>\n<pre><code>&quot;notificationAddress&quot;: &quot;239.0.0.1&quot;,\n&quot;notificationPort&quot;:20000,\n</code></pre>\n<p>and made the final gs_cluster.json look as below.</p>\n<p><a href=\"https://i.stack.imgur.com/Ltoz3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ltoz3.png\" alt=\"enter image description here\" /></a></p>\n<p>However, nothing changed as there is not any connection yet.I have verified that my griddb server is running. Is there anything I am making wrong here? Is there a specific way to configure the gs_cluster.json file or any other related file for the connection to work ? Attached is the Java code showing how I tried to establish a connection using key-value properties.</p>\n<pre><code>    Properties props = new Properties();\n    props.setProperty(&quot;notificationAddress&quot;, &quot;239.0.0.1&quot;);\n    props.setProperty(&quot;notificationPort&quot;, &quot;20000&quot;);\n    props.setProperty(&quot;clusterName&quot;, &quot;myCluster&quot;);\n    props.setProperty(&quot;user&quot;, &quot;admin&quot;);\n    props.setProperty(&quot;password&quot;, &quot;admin&quot;);\n    GridStore store = GridStoreFactory.getInstance().getGridStore(props);\n</code></pre>\n"},{"tags":["java","minecraft","spigot"],"answers":[{"tags":[],"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693875382,"creation_date":1693875382,"answer_id":77041197,"question_id":76998300,"body_markdown":"The [WorldEdit Docs](https://worldedit.enginehub.org/en/latest/api/) should contain enough information to forego relying on chatbots. It contains examples for many of the common tasks you may wish to do with the WorldEdit API, for example, using [Schematics](https://worldedit.enginehub.org/en/latest/api/examples/clipboard/#schematic-examples).\r\n\r\n```java\r\ntry (EditSession editSession = WorldEdit.getInstance().newEditSession(world)) {\r\n    Operation operation = new ClipboardHolder(clipboard)\r\n            .createPaste(editSession)\r\n            .to(BlockVector3.at(x, y, z))\r\n            // configure here\r\n            .build();\r\n    Operations.complete(operation);\r\n}\r\n```\r\n\r\nThere are other useful tutorials out there, such as this: [How to Load and Save Schematics with the WorldEdit API](https://madelinemiller.dev/blog/how-to-load-and-save-schematics-with-the-worldedit-api/)","title":"Minecraft Spigot World Edit API: How to copy/paste regions?","body":"<p>The <a href=\"https://worldedit.enginehub.org/en/latest/api/\" rel=\"nofollow noreferrer\">WorldEdit Docs</a> should contain enough information to forego relying on chatbots. It contains examples for many of the common tasks you may wish to do with the WorldEdit API, for example, using <a href=\"https://worldedit.enginehub.org/en/latest/api/examples/clipboard/#schematic-examples\" rel=\"nofollow noreferrer\">Schematics</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (EditSession editSession = WorldEdit.getInstance().newEditSession(world)) {\n    Operation operation = new ClipboardHolder(clipboard)\n            .createPaste(editSession)\n            .to(BlockVector3.at(x, y, z))\n            // configure here\n            .build();\n    Operations.complete(operation);\n}\n</code></pre>\n<p>There are other useful tutorials out there, such as this: <a href=\"https://madelinemiller.dev/blog/how-to-load-and-save-schematics-with-the-worldedit-api/\" rel=\"nofollow noreferrer\">How to Load and Save Schematics with the WorldEdit API</a></p>\n"}],"owner":{"account_id":29319510,"reputation":1,"user_id":22463413,"display_name":"Zac Clarkson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693875382,"creation_date":1693295222,"question_id":76998300,"body_markdown":"I am making a dungeon generator in Minecraft spigot and I am trying to implement a copy paste method using the World Edit API. i cant see much on the documentation and i believe chatGPT is giving outdated information, as follows:\r\n\r\n```\r\npublic void cloneWithWorldEdit(Location fromMin, Location fromMax, Location to) throws WorldEditException {\r\n    WorldEditPlugin worldEdit = (WorldEditPlugin)       Bukkit.getServer().getPluginManager().getPlugin(&quot;WorldEdit&quot;);\r\n    com.sk89q.worldedit.world.World world = BukkitAdapter.adapt(fromMin.getWorld());\r\n\r\n    // Define the source region\r\n    Region sourceRegion = new CuboidRegion(BukkitAdapter.asBlockVector(fromMin), BukkitAdapter.asBlockVector(fromMax));\r\n\r\n    // Define the destination\r\n    BlockVector3 toVector = BukkitAdapter.asBlockVector(to);\r\n\r\n    // Create an edit session\r\n    try (EditSession editSession = WorldEdit.getInstance().getEditSessionFactory().getEditSession(world, -1)) {\r\n        ForwardExtentCopy copy = new ForwardExtentCopy(editSession, sourceRegion, editSession, toVector);\r\n        // Perform the operation\r\n        Operations.completeLegacy(copy);\r\n        // Remember to commit changes of the edit session\r\n        editSession.flushSession();\r\n    }\r\n}\r\n\r\n```\r\nLet me know if this is close or if there is a much easier way of doing this. i eventually want to run more complex world edit functions but for now i just want to copy/paste","title":"Minecraft Spigot World Edit API: How to copy/paste regions?","body":"<p>I am making a dungeon generator in Minecraft spigot and I am trying to implement a copy paste method using the World Edit API. i cant see much on the documentation and i believe chatGPT is giving outdated information, as follows:</p>\n<pre><code>public void cloneWithWorldEdit(Location fromMin, Location fromMax, Location to) throws WorldEditException {\n    WorldEditPlugin worldEdit = (WorldEditPlugin)       Bukkit.getServer().getPluginManager().getPlugin(&quot;WorldEdit&quot;);\n    com.sk89q.worldedit.world.World world = BukkitAdapter.adapt(fromMin.getWorld());\n\n    // Define the source region\n    Region sourceRegion = new CuboidRegion(BukkitAdapter.asBlockVector(fromMin), BukkitAdapter.asBlockVector(fromMax));\n\n    // Define the destination\n    BlockVector3 toVector = BukkitAdapter.asBlockVector(to);\n\n    // Create an edit session\n    try (EditSession editSession = WorldEdit.getInstance().getEditSessionFactory().getEditSession(world, -1)) {\n        ForwardExtentCopy copy = new ForwardExtentCopy(editSession, sourceRegion, editSession, toVector);\n        // Perform the operation\n        Operations.completeLegacy(copy);\n        // Remember to commit changes of the edit session\n        editSession.flushSession();\n    }\n}\n\n</code></pre>\n<p>Let me know if this is close or if there is a much easier way of doing this. i eventually want to run more complex world edit functions but for now i just want to copy/paste</p>\n"},{"tags":["java","android","android-activity","bluetooth","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":2308557,"reputation":3420,"user_id":2027272,"accept_rate":25,"display_name":"rupesh jain"},"score":0,"creation_date":1439302755,"post_id":31943857,"comment_id":51798570,"body_markdown":"its weird..probably its getting connected to different device","body":"its weird..probably its getting connected to different device"},{"owner":{"account_id":6656174,"reputation":91,"user_id":5136658,"accept_rate":0,"display_name":"jhon snow"},"score":0,"creation_date":1439302850,"post_id":31943857,"comment_id":51798639,"body_markdown":"@rupeshjain- no its not. Its the only device  I have","body":"@rupeshjain- no its not. Its the only device  I have"},{"owner":{"account_id":4222522,"reputation":3028,"user_id":3456952,"accept_rate":77,"display_name":"TheHebrewHammer"},"score":0,"creation_date":1479103863,"post_id":31943857,"comment_id":68400987,"body_markdown":"Same issue with LG-H850, any progress on this one?","body":"Same issue with LG-H850, any progress on this one?"}],"owner":{"account_id":6656174,"reputation":91,"user_id":5136658,"accept_rate":0,"display_name":"jhon snow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1693875069,"creation_date":1439301462,"question_id":31943857,"body_markdown":"Im am trying to discover the services of my ble device. When I use a LG l3 my code works fine ( I see the uuid I&#39;m looking for). When I try a Samsung s4 I get  different service uuids. Why am i getting different uuids ?\r\n\r\n    private final BluetoothGattCallback gattCallback = new BluetoothGattCallback() {\r\n        @Override\r\n        public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\r\n\r\n            switch (newState) {\r\n                case BluetoothProfile.STATE_CONNECTED:\r\n\r\n                    if (gatt != null) {\r\n                        mGatt.discoverServices();\r\n                    }\r\n                    \r\n                    break;\r\n                case BluetoothProfile.STATE_DISCONNECTED:\r\n\r\n                    break;\r\n                default:\r\n            }\r\n        }\r\n        \r\n        public void onServicesDiscovered(BluetoothGatt gatt, int status) {\r\n            List&lt;BluetoothGattService&gt; services = gatt.getServices();\r\n\r\n            for (BluetoothGattService service : services) {\r\n                Log.d(&quot;DEBUG&quot;, &quot;Found service uuid:&quot; + service.getUuid());\r\n                /// not getting the UUID im looking for\r\n            }\r\n\r\n        }\r\n    }","title":"Different Service uuids discovered in android","body":"<p>Im am trying to discover the services of my ble device. When I use a LG l3 my code works fine ( I see the uuid I'm looking for). When I try a Samsung s4 I get  different service uuids. Why am i getting different uuids ?</p>\n\n<pre><code>private final BluetoothGattCallback gattCallback = new BluetoothGattCallback() {\n    @Override\n    public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\n\n        switch (newState) {\n            case BluetoothProfile.STATE_CONNECTED:\n\n                if (gatt != null) {\n                    mGatt.discoverServices();\n                }\n\n                break;\n            case BluetoothProfile.STATE_DISCONNECTED:\n\n                break;\n            default:\n        }\n    }\n\n    public void onServicesDiscovered(BluetoothGatt gatt, int status) {\n        List&lt;BluetoothGattService&gt; services = gatt.getServices();\n\n        for (BluetoothGattService service : services) {\n            Log.d(\"DEBUG\", \"Found service uuid:\" + service.getUuid());\n            /// not getting the UUID im looking for\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","bluetooth-lowenergy","bluetooth-gatt"],"comments":[{"owner":{"account_id":504482,"reputation":664,"user_id":2346169,"accept_rate":100,"display_name":"Sbonelo"},"score":0,"creation_date":1441191788,"post_id":32268333,"comment_id":52575797,"body_markdown":"I found this [Android BLE SDK](https://github.com/xpg/GizwitsBLE) and it does a good job.","body":"I found this <a href=\"https://github.com/xpg/GizwitsBLE\" rel=\"nofollow noreferrer\">Android BLE SDK</a> and it does a good job."}],"owner":{"account_id":504482,"reputation":664,"user_id":2346169,"accept_rate":100,"display_name":"Sbonelo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693875014,"creation_date":1440756007,"question_id":32268333,"body_markdown":"I am trying to get the content of a `BluetoothGattDescriptor` in Android.\r\n\r\nI can read the `BluetoothGattCharacteristic` which returns the Descriptor.\r\n\r\nWhen I try and read them this way:\r\n\r\n\r\n\r\n    byte[] b = descriptor.getValue();\r\n                final byte[] data = descriptor.getValue();\r\n                if (data != null &amp;&amp; data.length &gt; 0) {\r\n                    final StringBuilder stringBuilder = new StringBuilder(data.length);\r\n                    for (byte byteChar : data)\r\n                        stringBuilder.append(String.format(&quot;%02X &quot;, byteChar));\r\n                    Log.e(&quot;---&quot;, new String(data)+&quot;\\n&quot;+stringBuilder.toString());\r\n                }\r\n\r\n\r\nI can see a string value &quot;Characteristic 1&quot;\r\n\r\n\r\nI tried using the `BluetoothGattCharacteristic.getProperties()` which is supposedly \r\nReturns the properties of this characteristic. The explanation according to the android API is `&quot;The properties contain a bit mask of property flags indicating the features of this characteristic.&quot;` If I do that I get a value of `10`. I have no experience working with `&quot;BLE&quot;` and especially with ``bitmask flags``. \r\n\r\nIs there a simpler way to read the Features supported by the BLE server device? ","title":"Simple way to read content of BluetoothGattDescriptor in Android BLE","body":"<p>I am trying to get the content of a <code>BluetoothGattDescriptor</code> in Android.</p>\n\n<p>I can read the <code>BluetoothGattCharacteristic</code> which returns the Descriptor.</p>\n\n<p>When I try and read them this way:</p>\n\n<pre><code>byte[] b = descriptor.getValue();\n            final byte[] data = descriptor.getValue();\n            if (data != null &amp;&amp; data.length &gt; 0) {\n                final StringBuilder stringBuilder = new StringBuilder(data.length);\n                for (byte byteChar : data)\n                    stringBuilder.append(String.format(\"%02X \", byteChar));\n                Log.e(\"---\", new String(data)+\"\\n\"+stringBuilder.toString());\n            }\n</code></pre>\n\n<p>I can see a string value \"Characteristic 1\"</p>\n\n<p>I tried using the <code>BluetoothGattCharacteristic.getProperties()</code> which is supposedly \nReturns the properties of this characteristic. The explanation according to the android API is <code>\"The properties contain a bit mask of property flags indicating the features of this characteristic.\"</code> If I do that I get a value of <code>10</code>. I have no experience working with <code>\"BLE\"</code> and especially with <code>bitmask flags</code>. </p>\n\n<p>Is there a simpler way to read the Features supported by the BLE server device? </p>\n"},{"tags":["java","plugins","minecraft","bukkit"],"answers":[{"comments":[{"owner":{"account_id":27912546,"reputation":17,"user_id":21314417,"display_name":"professorchemist"},"score":0,"creation_date":1693893819,"post_id":77041179,"comment_id":135815547,"body_markdown":"Oh thanks for that, i just forgot that. Thanks a lot","body":"Oh thanks for that, i just forgot that. Thanks a lot"},{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1693914695,"post_id":77041179,"comment_id":135819501,"body_markdown":"I&#39;m glad it helped. Don&#39;t forget to mark this question as resolved by selecting this answer.","body":"I&#39;m glad it helped. Don&#39;t forget to mark this question as resolved by selecting this answer."}],"tags":[],"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693874949,"creation_date":1693874949,"answer_id":77041179,"question_id":77040003,"body_markdown":"You should read over the [Spigot Wiki](https://www.spigotmc.org/wiki/spigot-plugin-development/), specifically [Using the Event API](https://www.spigotmc.org/wiki/using-the-event-api/). Your listener will not work because the method isn&#39;t annotated by `@EventHandler` and the class doesn&#39;t implement `Listener`.\r\n\r\nYour code should look something like this:\r\n```java\r\nimport org.bukkit.event.Listener;\r\n\r\npublic class MyPortalListener implements Listener {\r\n\tpublic void onPortalEnter(PlayerTeleportEvent event) {\r\n\t\tPlayer p = event.getPlayer();\r\n\t\tif(event.getCause() == PlayerPortalEvent.TeleportCause.END_PORTAL) {\r\n\t\t\tevent.setCancelled(true);\r\n\t\t\tp.performCommand(&quot;is home&quot;);\r\n\t\t\tp.sendMessage(&quot;okay&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nAnd your main class:\r\n```java\r\npublic class MyMain extends JavaPlugin {\r\n    @Override\r\n    public void onEnable() {\r\n        getServer().getPluginManager().registerEvents(new MyPortalListener(), this);\r\n    }\r\n}\r\n```\r\n\r\nYou *can* create the listener from within the main class if you wish. You will need to make the main class implement `Listener`. The `@EventHandler` annotation is always required for listeners.","title":"Bukkit Plugin - End-Portal Teleport Problem","body":"<p>You should read over the <a href=\"https://www.spigotmc.org/wiki/spigot-plugin-development/\" rel=\"nofollow noreferrer\">Spigot Wiki</a>, specifically <a href=\"https://www.spigotmc.org/wiki/using-the-event-api/\" rel=\"nofollow noreferrer\">Using the Event API</a>. Your listener will not work because the method isn't annotated by <code>@EventHandler</code> and the class doesn't implement <code>Listener</code>.</p>\n<p>Your code should look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.bukkit.event.Listener;\n\npublic class MyPortalListener implements Listener {\n    public void onPortalEnter(PlayerTeleportEvent event) {\n        Player p = event.getPlayer();\n        if(event.getCause() == PlayerPortalEvent.TeleportCause.END_PORTAL) {\n            event.setCancelled(true);\n            p.performCommand(&quot;is home&quot;);\n            p.sendMessage(&quot;okay&quot;);\n        }\n    }\n}\n</code></pre>\n<p>And your main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyMain extends JavaPlugin {\n    @Override\n    public void onEnable() {\n        getServer().getPluginManager().registerEvents(new MyPortalListener(), this);\n    }\n}\n</code></pre>\n<p>You <em>can</em> create the listener from within the main class if you wish. You will need to make the main class implement <code>Listener</code>. The <code>@EventHandler</code> annotation is always required for listeners.</p>\n"}],"owner":{"account_id":27912546,"reputation":17,"user_id":21314417,"display_name":"professorchemist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77041179,"answer_count":1,"score":0,"last_activity_date":1693874949,"creation_date":1693853172,"question_id":77040003,"body_markdown":"I&#39;m trying to code my own plugins for my server but i came across a problem. I tried that a player enters end portal in a specific world, event would be cancelled and performs another command but event is not working at all.\r\n\r\n\r\npart of event class\r\n```java\r\nprivate static Main main;\r\n\t\r\npublic void SpawnPortal(Main main) {\r\n\tthis.main = main;\r\n}\r\n\r\n\r\npublic void onPortalEnter(PlayerTeleportEvent event) {\r\n\t\r\n    Player p = event.getPlayer();\r\n\r\n\tif(event.getCause() == PlayerPortalEvent.TeleportCause.END_PORTAL) {\r\n\t\tevent.setCancelled(true);\r\n\t\tp.performCommand(&quot;is home&quot;);\r\n\t\tp.sendMessage(&quot;okay&quot;);\r\n\t\r\n\t}\r\n```\r\n\r\n\r\n\r\nMain class plugin manager\r\n```java\r\nPluginManager pm = Bukkit.getPluginManager();\r\n\t\t\r\nSpawnPortal sp = new SpawnPortal();\r\n\t\t\r\npm.registerEvents(sp, this);\r\n```\r\n\r\n","title":"Bukkit Plugin - End-Portal Teleport Problem","body":"<p>I'm trying to code my own plugins for my server but i came across a problem. I tried that a player enters end portal in a specific world, event would be cancelled and performs another command but event is not working at all.</p>\n<p>part of event class</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Main main;\n    \npublic void SpawnPortal(Main main) {\n    this.main = main;\n}\n\n\npublic void onPortalEnter(PlayerTeleportEvent event) {\n    \n    Player p = event.getPlayer();\n\n    if(event.getCause() == PlayerPortalEvent.TeleportCause.END_PORTAL) {\n        event.setCancelled(true);\n        p.performCommand(&quot;is home&quot;);\n        p.sendMessage(&quot;okay&quot;);\n    \n    }\n</code></pre>\n<p>Main class plugin manager</p>\n<pre class=\"lang-java prettyprint-override\"><code>PluginManager pm = Bukkit.getPluginManager();\n        \nSpawnPortal sp = new SpawnPortal();\n        \npm.registerEvents(sp, this);\n</code></pre>\n"},{"tags":["java","android","bluetooth-lowenergy","nrf52"],"answers":[{"comments":[{"owner":{"account_id":8176446,"reputation":147,"user_id":6155025,"display_name":"Ali g&#252;ven&#231;"},"score":0,"creation_date":1655797576,"post_id":72687637,"comment_id":128410094,"body_markdown":"Actually, the problem is not about parsing the received data, iti is about sending the command. From java, same command (wihch is header byte array upside of the question) is not working but sending from ios with swift, it works.","body":"Actually, the problem is not about parsing the received data, iti is about sending the command. From java, same command (wihch is header byte array upside of the question) is not working but sending from ios with swift, it works."},{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":1,"creation_date":1655897116,"post_id":72687637,"comment_id":128439556,"body_markdown":"Yepp, I totally agree. But _you_ write the code and you decide whether the data is treated as signed or unsigned data.  And you don&#39;t even show us your Android source code where the data is sent. How do you expect people to help you?","body":"Yepp, I totally agree. But <i>you</i> write the code and you decide whether the data is treated as signed or unsigned data.  And you don&#39;t even show us your Android source code where the data is sent. How do you expect people to help you?"}],"tags":[],"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655730861,"creation_date":1655730861,"answer_id":72687637,"question_id":72686767,"body_markdown":"You are on the right track. While your iOS App handles the received data as &#39;unsigned bytes&#39; the Android App interprets them as &#39;signed bytes&#39;. You might want to treat them as unsigned values with the corresponding *unsigned methods, for example [Byte.compareUnsigned](https://developer.android.com/reference/java/lang/Byte#compareUnsigned(byte,%20byte))","title":"NRF52 java unsigned byte issue","body":"<p>You are on the right track. While your iOS App handles the received data as 'unsigned bytes' the Android App interprets them as 'signed bytes'. You might want to treat them as unsigned values with the corresponding *unsigned methods, for example <a href=\"https://developer.android.com/reference/java/lang/Byte#compareUnsigned(byte,%20byte)\" rel=\"nofollow noreferrer\">Byte.compareUnsigned</a></p>\n"}],"owner":{"account_id":8176446,"reputation":147,"user_id":6155025,"display_name":"Ali g&#252;ven&#231;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693874714,"creation_date":1655726947,"question_id":72686767,"body_markdown":"I am using ble with nrf52 and sending a byte array command from android with java like below\r\n\r\n    byte[] header=new byte[]{\r\n                (byte )0x5f,\r\n                (byte) 0xf0,\r\n                (byte) 0xf1,\r\n                (byte) 0xf2,\r\n        };\r\nwhen I log these bytes to console, I see as below \r\n\r\n    [111,-16,-15,-14]\r\n\r\nDevice gots the command but doesn&#39;t send answer\r\n\r\nHowever, if I send the same command from iOS with swift, command data showns as below \r\n\r\n    [111,240,241,242]\r\n\r\nand works as aspected.\r\n\r\nWhat may cause this behavior? May it be related java&#39;s unsingned byte support?\r\n\r\n\r\n","title":"NRF52 java unsigned byte issue","body":"<p>I am using ble with nrf52 and sending a byte array command from android with java like below</p>\n<pre><code>byte[] header=new byte[]{\n            (byte )0x5f,\n            (byte) 0xf0,\n            (byte) 0xf1,\n            (byte) 0xf2,\n    };\n</code></pre>\n<p>when I log these bytes to console, I see as below</p>\n<pre><code>[111,-16,-15,-14]\n</code></pre>\n<p>Device gots the command but doesn't send answer</p>\n<p>However, if I send the same command from iOS with swift, command data showns as below</p>\n<pre><code>[111,240,241,242]\n</code></pre>\n<p>and works as aspected.</p>\n<p>What may cause this behavior? May it be related java's unsingned byte support?</p>\n"},{"tags":["java","jpa","jakarta-ee","tomee-7"],"comments":[{"owner":{"display_name":"user3973283"},"score":1,"creation_date":1536053591,"post_id":52162359,"comment_id":91275797,"body_markdown":"`javax.persistence.PersistenceContext.synchronization()Ljavax/persistence/SynchronizationType;` and so you can conclude that your &quot;JPA API&quot; jar is inconsistent with the JPA provider you are using. That method was added in JPA 2.1, so something in your environment is JPA 1.0 or 2.0","body":"<code>javax.persistence.PersistenceContext.synchronization()Ljavax&zwnj;&#8203;&#47;persistence&#47;Synchro&zwnj;&#8203;nizationType;</code> and so you can conclude that your &quot;JPA API&quot; jar is inconsistent with the JPA provider you are using. That method was added in JPA 2.1, so something in your environment is JPA 1.0 or 2.0"},{"owner":{"account_id":6081216,"reputation":709,"user_id":4746931,"accept_rate":64,"display_name":"Archimede"},"score":0,"creation_date":1536056464,"post_id":52162359,"comment_id":91277508,"body_markdown":"In the /lib folder of my TomEE I only have openejb-jpa-integration-7.0.5.jar, which is the latest version; and persistence-api-2.0.jar. I don&#39;t see any other file related to the name JPA. Should I check some specific library? Thank you very much","body":"In the /lib folder of my TomEE I only have openejb-jpa-integration-7.0.5.jar, which is the latest version; and persistence-api-2.0.jar. I don&#39;t see any other file related to the name JPA. Should I check some specific library? Thank you very much"},{"owner":{"display_name":"user3973283"},"score":1,"creation_date":1536057161,"post_id":52162359,"comment_id":91277889,"body_markdown":"So you have JPA API v2.0, you have some version of &quot;OpenEJB&quot;, and you also have some JPA provider ... and one of them is inconsistent with the other. End. Of.","body":"So you have JPA API v2.0, you have some version of &quot;OpenEJB&quot;, and you also have some JPA provider ... and one of them is inconsistent with the other. End. Of."},{"owner":{"account_id":6081216,"reputation":709,"user_id":4746931,"accept_rate":64,"display_name":"Archimede"},"score":0,"creation_date":1536057412,"post_id":52162359,"comment_id":91278038,"body_markdown":"I deleted persistence-api-2.0.jar and added javax.persistence-api-2.2.jar but all is the same. What&#39;s wrong? Thank you!","body":"I deleted persistence-api-2.0.jar and added javax.persistence-api-2.2.jar but all is the same. What&#39;s wrong? Thank you!"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":1,"creation_date":1536057982,"post_id":52162359,"comment_id":91278375,"body_markdown":"Just switch to [WebSphere Liberty](https://developer.ibm.com/wasdev/), it has JPA 2.1 provider already integrated and you will not have to fight with all these colliding dependencies.","body":"Just switch to <a href=\"https://developer.ibm.com/wasdev/\" rel=\"nofollow noreferrer\">WebSphere Liberty</a>, it has JPA 2.1 provider already integrated and you will not have to fight with all these colliding dependencies."},{"owner":{"display_name":"user3973283"},"score":1,"creation_date":1536057995,"post_id":52162359,"comment_id":91278382,"body_markdown":"Whats wrong has already been answered. You have a version of TomEE, which includes a version of OpenEJB, which is built against a version of JPA API, and you are using a JPA provider also built against a JPA API jar. Only you know what you are using, but the fact is that they are inconsistent. So check your jars, versions etc etc","body":"Whats wrong has already been answered. You have a version of TomEE, which includes a version of OpenEJB, which is built against a version of JPA API, and you are using a JPA provider also built against a JPA API jar. Only you know what you are using, but the fact is that they are inconsistent. So check your jars, versions etc etc"},{"owner":{"account_id":6081216,"reputation":709,"user_id":4746931,"accept_rate":64,"display_name":"Archimede"},"score":0,"creation_date":1536058257,"post_id":52162359,"comment_id":91278551,"body_markdown":"Ok, I will reply later. I should use TomEE, I cannot use WebSphere. I have heard that a colleague has same project under Tomcat and all works fine. Later, I will try to create a similar Tomcat with exactly same library of my colleague and I will update you about the result. Thank you very much and see you later!","body":"Ok, I will reply later. I should use TomEE, I cannot use WebSphere. I have heard that a colleague has same project under Tomcat and all works fine. Later, I will try to create a similar Tomcat with exactly same library of my colleague and I will update you about the result. Thank you very much and see you later!"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":1,"creation_date":1536068106,"post_id":52162359,"comment_id":91285043,"body_markdown":"Tomcat is just a web container, so you will have much more trouble if you need any additional Java EE features. And if you need completely free version of Liberty there is open source one - [Open Liberty](https://openliberty.io/). Much better than using Tomcat.","body":"Tomcat is just a web container, so you will have much more trouble if you need any additional Java EE features. And if you need completely free version of Liberty there is open source one - <a href=\"https://openliberty.io/\" rel=\"nofollow noreferrer\">Open Liberty</a>. Much better than using Tomcat."},{"owner":{"account_id":6081216,"reputation":709,"user_id":4746931,"accept_rate":64,"display_name":"Archimede"},"score":0,"creation_date":1536223721,"post_id":52162359,"comment_id":91349161,"body_markdown":"Very sorry for mistaking, I hadn&#39;t notice that the message is a little bit different if I use a different library version. I repeat, sorry for mistake! :-( Now I update the actual error message.","body":"Very sorry for mistaking, I hadn&#39;t notice that the message is a little bit different if I use a different library version. I repeat, sorry for mistake! :-( Now I update the actual error message."}],"answers":[{"tags":[],"owner":{"account_id":2109363,"reputation":3374,"user_id":1874954,"display_name":"Romain Manni-Bucau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539873246,"creation_date":1537223970,"answer_id":52376563,"question_id":52162359,"body_markdown":"What&#39;s the type of the injected context (`business.PersonaBean/erisci`)? Must be `EntityManager`. If you want the `EntityManagerFactory`, use `@PersistenceUnit`. If it is EntityManager it likely means your app packages a jpa api conflicting with the provided one.","title":"@PersistenceContext(unitName=&quot;myPersistence&quot;) fails starting my TomEE Web Server","body":"<p>What's the type of the injected context (<code>business.PersonaBean/erisci</code>)? Must be <code>EntityManager</code>. If you want the <code>EntityManagerFactory</code>, use <code>@PersistenceUnit</code>. If it is EntityManager it likely means your app packages a jpa api conflicting with the provided one.</p>\n"}],"owner":{"account_id":6081216,"reputation":709,"user_id":4746931,"accept_rate":64,"display_name":"Archimede"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693874161,"creation_date":1536050974,"question_id":52162359,"body_markdown":"In my Eclipse dynamic web project I use JPA. I have created my connection in tomee.xml under TomEE server and it works fine. I have created a persistence.xml file as following; but if I try to add in my BusinessBean the row @PersistenceContext(unitName=&quot;myPersistence&quot;) I see the following error and the server doesn&#39;t start.\r\n\r\nIf I try to insert a random name under unitName, I see also the same error. Very strange, how can I solve the problem?\r\n\r\nMy persistence file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; version=&quot;1.0&quot;&gt;\r\n    \t\r\n    \t&lt;persistence-unit name=&quot;myPersistence&quot;&gt;\r\n\r\n    \t&lt;jta-data-source&gt;connessioneCorsoWeb&lt;/jta-data-source&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;property name=&quot;openejb.jpa.auto-scan&quot; value=&quot;true&quot; /&gt;\r\n    \t\t\t&lt;!-- &lt;property name=&quot;openjpa.jdbc.SynchronizeMappings&quot; value=&quot;buildSchema(ForeignKeys=true)&quot; /&gt; --&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy error:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    AVVERTENZA: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property &#39;source&#39; to &#39;org.eclipse.jst.jee.server:corso_web&#39; did not find a matching property.\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: Server version:        Apache Tomcat (TomEE)/8.5.32 (7.0.5)\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: Server built:          Jun 20 2018 19:50:35 UTC\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: Server number:         8.5.32.0\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: OS Name:               Mac OS X\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: OS Version:            10.13.6\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: Architecture:          x86_64\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: Java Home:             /Library/Java/JavaVirtualMachines/jdk1.8.0_20.jdk/Contents/Home/jre\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: JVM Version:           1.8.0_20-b26\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: JVM Vendor:            Oracle Corporation\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: CATALINA_BASE:         /Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: CATALINA_HOME:         /Applications/apache-tomee-plume-7.0.5\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: Command line argument: -Dcatalina.base=/Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: Command line argument: -Dcatalina.home=/Applications/apache-tomee-plume-7.0.5\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: Command line argument: -Dwtp.deploy=/Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: Command line argument: -Djava.endorsed.dirs=/Applications/apache-tomee-plume-7.0.5/endorsed\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    INFORMAZIONI: Command line argument: -Dfile.encoding=UTF-8\r\n    Sep 06, 2018 10:47:21 AM sun.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFORMAZIONI: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/test/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]\r\n    Sep 06, 2018 10:47:22 AM sun.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFORMAZIONI: Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Sep 06, 2018 10:47:22 AM sun.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFORMAZIONI: Using a shared selector for servlet write/read\r\n    Sep 06, 2018 10:47:22 AM sun.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFORMAZIONI: Initializing ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    Sep 06, 2018 10:47:22 AM sun.reflect.DelegatingMethodAccessorImpl invoke\r\n    INFORMAZIONI: Using a shared selector for servlet write/read\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.util.OptionsLog info\r\n    INFORMAZIONI: Using &#39;openejb.jdbc.datasource-creator=org.apache.tomee.jdbc.TomEEDataSourceCreator&#39;\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFORMAZIONI: ********************************************************************************\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFORMAZIONI: OpenEJB http://tomee.apache.org/\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFORMAZIONI: Startup: Thu Sep 06 10:47:23 CEST 2018\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFORMAZIONI: Copyright 1999-2018 (C) Apache OpenEJB Project, All Rights Reserved.\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFORMAZIONI: Version: 7.0.5\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFORMAZIONI: Build date: 20180710\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFORMAZIONI: Build time: 12:28\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFORMAZIONI: ********************************************************************************\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFORMAZIONI: openejb.home = /Applications/apache-tomee-plume-7.0.5\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\r\n    INFORMAZIONI: openejb.base = /Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.cdi.CdiBuilder initializeOWB\r\n    INFORMAZIONI: Created new singletonService org.apache.openejb.cdi.ThreadSingletonServiceImpl@8909f18\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.cdi.CdiBuilder initializeOWB\r\n    INFORMAZIONI: Succeeded in installing singleton service\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory init\r\n    INFORMAZIONI: TomEE configuration file is &#39;/Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/conf/openejb.xml&#39;\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory configureService\r\n    INFORMAZIONI: Configuring Service(id=Tomcat Security Service, type=SecurityService, provider-id=Tomcat Security Service)\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory configureService\r\n    INFORMAZIONI: Configuring Service(id=Default Transaction Manager, type=TransactionManager, provider-id=Default Transaction Manager)\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory configureService\r\n    INFORMAZIONI: Configuring Service(id=My DataSource, type=Resource, provider-id=Default JDBC Database)\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory configureService\r\n    INFORMAZIONI: Configuring Service(id=My Unmanaged DataSource, type=Resource, provider-id=Default JDBC Database)\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory configureService\r\n    INFORMAZIONI: Configuring Service(id=My Singleton Container, type=Container, provider-id=Default Singleton Container)\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory configureService\r\n    INFORMAZIONI: Configuring Service(id=My Stateful Container, type=Container, provider-id=Default Stateful Container)\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory configureService\r\n    INFORMAZIONI: Configuring Service(id=My Stateless Container, type=Container, provider-id=Default Stateless Container)\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.config.DeploymentsResolver loadFrom\r\n    AVVERTENZA: File error: &lt;Deployments dir=&quot;apps/&quot;&gt; - Does not exist: /Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/apps\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.util.OptionsLog info\r\n    INFORMAZIONI: Using &#39;openejb.deployments.classpath=false&#39;\r\n    Sep 06, 2018 10:47:23 AM org.apache.openejb.assembler.classic.Assembler createRecipe\r\n    INFORMAZIONI: Creating TransactionManager(id=Default Transaction Manager)\r\n    Sep 06, 2018 10:47:24 AM org.apache.openejb.assembler.classic.Assembler createRecipe\r\n    INFORMAZIONI: Creating SecurityService(id=Tomcat Security Service)\r\n    Sep 06, 2018 10:47:24 AM org.apache.openejb.assembler.classic.Assembler createRecipe\r\n    INFORMAZIONI: Creating Resource(id=My DataSource)\r\n    Sep 06, 2018 10:47:34 AM org.apache.openejb.config.JndiEncInfoBuilder buildEjbRefs\r\n    AVVERTENZA: Unresolved ejb reference &quot;java:comp/env/web.Activator/activeBean&quot; in bean &quot;corso_web.Comp&quot;.  Will attempt resolution again at runtime.\r\n    Sep 06, 2018 10:47:34 AM org.apache.openejb.config.JndiEncInfoBuilder buildEjbRefs\r\n    AVVERTENZA: Unresolved ejb reference &quot;java:comp/env/web.Activator/activeBean&quot; in bean &quot;/Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/corso_web&quot;.  Will attempt resolution again at runtime.\r\n    Sep 06, 2018 10:47:34 AM org.apache.openejb.config.ReportValidationResults logResults\r\n    GRAVE: FAIL ... corso_web:\tUse of @PersistenceContext only applies to EntityManager references.  Fix ref &quot;java:comp/env/business.PersonaBean/erisci&quot;\r\n    Sep 06, 2018 10:47:34 AM org.apache.openejb.config.ReportValidationResults logResults\r\n    GRAVE: Invalid EjbModule(name=corso_web, path=/Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/corso_web)\r\n    Sep 06, 2018 10:47:34 AM org.apache.tomee.catalina.TomcatWebAppBuilder startInternal\r\n    GRAVE: Unable to deploy collapsed ear in war StandardEngine[Catalina].StandardHost[localhost].StandardContext[/corso_web]\r\n    org.apache.openejb.config.ValidationFailedException: Module failed validation. AppModule(name=corso_web)\r\n    \tat org.apache.openejb.config.ReportValidationResults.deploy(ReportValidationResults.java:88)\r\n    \tat org.apache.openejb.config.AppInfoBuilder.build(AppInfoBuilder.java:327)\r\n    \tat org.apache.openejb.config.ConfigurationFactory.configureApplication(ConfigurationFactory.java:1040)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1281)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1125)\r\n    \tat org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:133)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:94)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5154)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\n    Sep 06, 2018 10:47:34 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    GRAVE: ContainerBase.removeChild: destroy: \r\n    org.apache.catalina.LifecycleException: An invalid Lifecycle transition was attempted ([before_destroy]) for component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/corso_web]] in state [STARTING_PREP]\r\n    \tat org.apache.catalina.util.LifecycleBase.invalidTransition(LifecycleBase.java:402)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n    \tat org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:856)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.undeploy(TomcatWebAppBuilder.java:1651)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.undeploy(TomcatWebAppBuilder.java:1631)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1312)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1125)\r\n    \tat org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:133)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:94)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5154)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\n    Sep 06, 2018 10:47:34 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    GRAVE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/corso_web]]\r\n    \tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    \tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/corso_web]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \t... 6 more\r\n    Caused by: org.apache.tomee.catalina.TomEERuntimeException: org.apache.openejb.config.ValidationFailedException: Module failed validation. AppModule(name=corso_web)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1315)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1125)\r\n    \tat org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:133)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:94)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5154)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 6 more\r\n    Caused by: org.apache.openejb.config.ValidationFailedException: Module failed validation. AppModule(name=corso_web)\r\n    \tat org.apache.openejb.config.ReportValidationResults.deploy(ReportValidationResults.java:88)\r\n    \tat org.apache.openejb.config.AppInfoBuilder.build(AppInfoBuilder.java:327)\r\n    \tat org.apache.openejb.config.ConfigurationFactory.configureApplication(ConfigurationFactory.java:1040)\r\n    \tat org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1281)\r\n    \t... 11 more\r\n\r\n    Sep 06, 2018 10:47:34 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    GRAVE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n    \tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    \tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:681)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:949)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 6 more\r\n\r\n    Sep 06, 2018 10:47:34 AM sun.reflect.NativeMethodAccessorImpl invoke\r\n    GRAVE: The required Server component failed to start so Tomcat is unable to start.\r\n    org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:681)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 7 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 9 more\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:949)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 11 more\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"@PersistenceContext(unitName=&quot;myPersistence&quot;) fails starting my TomEE Web Server","body":"<p>In my Eclipse dynamic web project I use JPA. I have created my connection in tomee.xml under TomEE server and it works fine. I have created a persistence.xml file as following; but if I try to add in my BusinessBean the row @PersistenceContext(unitName=&quot;myPersistence&quot;) I see the following error and the server doesn't start.</p>\n<p>If I try to insert a random name under unitName, I see also the same error. Very strange, how can I solve the problem?</p>\n<p>My persistence file:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\" version=\"1.0\"&gt;\n    \n    &lt;persistence-unit name=\"myPersistence\"&gt;\n\n    &lt;jta-data-source&gt;connessioneCorsoWeb&lt;/jta-data-source&gt;\n        &lt;properties&gt;\n            &lt;property name=\"openejb.jpa.auto-scan\" value=\"true\" /&gt;\n            &lt;!-- &lt;property name=\"openjpa.jdbc.SynchronizeMappings\" value=\"buildSchema(ForeignKeys=true)\" /&gt; --&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>My error:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Sep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nAVVERTENZA: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.jee.server:corso_web' did not find a matching property.\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: Server version:        Apache Tomcat (TomEE)/8.5.32 (7.0.5)\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: Server built:          Jun 20 2018 19:50:35 UTC\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: Server number:         8.5.32.0\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: OS Name:               Mac OS X\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: OS Version:            10.13.6\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: Architecture:          x86_64\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: Java Home:             /Library/Java/JavaVirtualMachines/jdk1.8.0_20.jdk/Contents/Home/jre\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: JVM Version:           1.8.0_20-b26\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: JVM Vendor:            Oracle Corporation\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: CATALINA_BASE:         /Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: CATALINA_HOME:         /Applications/apache-tomee-plume-7.0.5\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: Command line argument: -Dcatalina.base=/Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: Command line argument: -Dcatalina.home=/Applications/apache-tomee-plume-7.0.5\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: Command line argument: -Dwtp.deploy=/Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: Command line argument: -Djava.endorsed.dirs=/Applications/apache-tomee-plume-7.0.5/endorsed\nSep 06, 2018 10:47:21 AM sun.reflect.NativeMethodAccessorImpl invoke\nINFORMAZIONI: Command line argument: -Dfile.encoding=UTF-8\nSep 06, 2018 10:47:21 AM sun.reflect.DelegatingMethodAccessorImpl invoke\nINFORMAZIONI: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/test/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]\nSep 06, 2018 10:47:22 AM sun.reflect.DelegatingMethodAccessorImpl invoke\nINFORMAZIONI: Initializing ProtocolHandler [\"http-nio-8080\"]\nSep 06, 2018 10:47:22 AM sun.reflect.DelegatingMethodAccessorImpl invoke\nINFORMAZIONI: Using a shared selector for servlet write/read\nSep 06, 2018 10:47:22 AM sun.reflect.DelegatingMethodAccessorImpl invoke\nINFORMAZIONI: Initializing ProtocolHandler [\"ajp-nio-8009\"]\nSep 06, 2018 10:47:22 AM sun.reflect.DelegatingMethodAccessorImpl invoke\nINFORMAZIONI: Using a shared selector for servlet write/read\nSep 06, 2018 10:47:23 AM org.apache.openejb.util.OptionsLog info\nINFORMAZIONI: Using 'openejb.jdbc.datasource-creator=org.apache.tomee.jdbc.TomEEDataSourceCreator'\nSep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFORMAZIONI: ********************************************************************************\nSep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFORMAZIONI: OpenEJB http://tomee.apache.org/\nSep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFORMAZIONI: Startup: Thu Sep 06 10:47:23 CEST 2018\nSep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFORMAZIONI: Copyright 1999-2018 (C) Apache OpenEJB Project, All Rights Reserved.\nSep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFORMAZIONI: Version: 7.0.5\nSep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFORMAZIONI: Build date: 20180710\nSep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFORMAZIONI: Build time: 12:28\nSep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFORMAZIONI: ********************************************************************************\nSep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFORMAZIONI: openejb.home = /Applications/apache-tomee-plume-7.0.5\nSep 06, 2018 10:47:23 AM org.apache.openejb.OpenEJB$Instance &lt;init&gt;\nINFORMAZIONI: openejb.base = /Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0\nSep 06, 2018 10:47:23 AM org.apache.openejb.cdi.CdiBuilder initializeOWB\nINFORMAZIONI: Created new singletonService org.apache.openejb.cdi.ThreadSingletonServiceImpl@8909f18\nSep 06, 2018 10:47:23 AM org.apache.openejb.cdi.CdiBuilder initializeOWB\nINFORMAZIONI: Succeeded in installing singleton service\nSep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory init\nINFORMAZIONI: TomEE configuration file is '/Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/conf/openejb.xml'\nSep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory configureService\nINFORMAZIONI: Configuring Service(id=Tomcat Security Service, type=SecurityService, provider-id=Tomcat Security Service)\nSep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory configureService\nINFORMAZIONI: Configuring Service(id=Default Transaction Manager, type=TransactionManager, provider-id=Default Transaction Manager)\nSep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory configureService\nINFORMAZIONI: Configuring Service(id=My DataSource, type=Resource, provider-id=Default JDBC Database)\nSep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory configureService\nINFORMAZIONI: Configuring Service(id=My Unmanaged DataSource, type=Resource, provider-id=Default JDBC Database)\nSep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory configureService\nINFORMAZIONI: Configuring Service(id=My Singleton Container, type=Container, provider-id=Default Singleton Container)\nSep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory configureService\nINFORMAZIONI: Configuring Service(id=My Stateful Container, type=Container, provider-id=Default Stateful Container)\nSep 06, 2018 10:47:23 AM org.apache.openejb.config.ConfigurationFactory configureService\nINFORMAZIONI: Configuring Service(id=My Stateless Container, type=Container, provider-id=Default Stateless Container)\nSep 06, 2018 10:47:23 AM org.apache.openejb.config.DeploymentsResolver loadFrom\nAVVERTENZA: File error: &lt;Deployments dir=\"apps/\"&gt; - Does not exist: /Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/apps\nSep 06, 2018 10:47:23 AM org.apache.openejb.util.OptionsLog info\nINFORMAZIONI: Using 'openejb.deployments.classpath=false'\nSep 06, 2018 10:47:23 AM org.apache.openejb.assembler.classic.Assembler createRecipe\nINFORMAZIONI: Creating TransactionManager(id=Default Transaction Manager)\nSep 06, 2018 10:47:24 AM org.apache.openejb.assembler.classic.Assembler createRecipe\nINFORMAZIONI: Creating SecurityService(id=Tomcat Security Service)\nSep 06, 2018 10:47:24 AM org.apache.openejb.assembler.classic.Assembler createRecipe\nINFORMAZIONI: Creating Resource(id=My DataSource)\nSep 06, 2018 10:47:34 AM org.apache.openejb.config.JndiEncInfoBuilder buildEjbRefs\nAVVERTENZA: Unresolved ejb reference \"java:comp/env/web.Activator/activeBean\" in bean \"corso_web.Comp\".  Will attempt resolution again at runtime.\nSep 06, 2018 10:47:34 AM org.apache.openejb.config.JndiEncInfoBuilder buildEjbRefs\nAVVERTENZA: Unresolved ejb reference \"java:comp/env/web.Activator/activeBean\" in bean \"/Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/corso_web\".  Will attempt resolution again at runtime.\nSep 06, 2018 10:47:34 AM org.apache.openejb.config.ReportValidationResults logResults\nGRAVE: FAIL ... corso_web:  Use of @PersistenceContext only applies to EntityManager references.  Fix ref \"java:comp/env/business.PersonaBean/erisci\"\nSep 06, 2018 10:47:34 AM org.apache.openejb.config.ReportValidationResults logResults\nGRAVE: Invalid EjbModule(name=corso_web, path=/Volumes/Main/Workspace/Learning/JEE2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/corso_web)\nSep 06, 2018 10:47:34 AM org.apache.tomee.catalina.TomcatWebAppBuilder startInternal\nGRAVE: Unable to deploy collapsed ear in war StandardEngine[Catalina].StandardHost[localhost].StandardContext[/corso_web]\norg.apache.openejb.config.ValidationFailedException: Module failed validation. AppModule(name=corso_web)\n    at org.apache.openejb.config.ReportValidationResults.deploy(ReportValidationResults.java:88)\n    at org.apache.openejb.config.AppInfoBuilder.build(AppInfoBuilder.java:327)\n    at org.apache.openejb.config.ConfigurationFactory.configureApplication(ConfigurationFactory.java:1040)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1281)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1125)\n    at org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:133)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:94)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5154)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\nSep 06, 2018 10:47:34 AM sun.reflect.NativeMethodAccessorImpl invoke\nGRAVE: ContainerBase.removeChild: destroy: \norg.apache.catalina.LifecycleException: An invalid Lifecycle transition was attempted ([before_destroy]) for component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/corso_web]] in state [STARTING_PREP]\n    at org.apache.catalina.util.LifecycleBase.invalidTransition(LifecycleBase.java:402)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n    at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:856)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.undeploy(TomcatWebAppBuilder.java:1651)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.undeploy(TomcatWebAppBuilder.java:1631)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1312)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1125)\n    at org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:133)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:94)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5154)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\nSep 06, 2018 10:47:34 AM sun.reflect.NativeMethodAccessorImpl invoke\nGRAVE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/corso_web]]\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/corso_web]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    ... 6 more\nCaused by: org.apache.tomee.catalina.TomEERuntimeException: org.apache.openejb.config.ValidationFailedException: Module failed validation. AppModule(name=corso_web)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1315)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1125)\n    at org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:133)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:94)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5154)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more\nCaused by: org.apache.openejb.config.ValidationFailedException: Module failed validation. AppModule(name=corso_web)\n    at org.apache.openejb.config.ReportValidationResults.deploy(ReportValidationResults.java:88)\n    at org.apache.openejb.config.AppInfoBuilder.build(AppInfoBuilder.java:327)\n    at org.apache.openejb.config.ConfigurationFactory.configureApplication(ConfigurationFactory.java:1040)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1281)\n    ... 11 more\n\nSep 06, 2018 10:47:34 AM sun.reflect.NativeMethodAccessorImpl invoke\nGRAVE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:681)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:949)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more\n\nSep 06, 2018 10:47:34 AM sun.reflect.NativeMethodAccessorImpl invoke\nGRAVE: The required Server component failed to start so Tomcat is unable to start.\norg.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:681)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 7 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 9 more\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:949)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 11 more</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"answers":[{"comments":[{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1481178788,"post_id":41017702,"comment_id":69273616,"body_markdown":"This approach is not save. Even in case of success, there might be no callback to the producer if a failure in the producer happens right after a successful write, but before the callback is triggered. Need to downvote this. Will add a new answer.","body":"This approach is not save. Even in case of success, there might be no callback to the producer if a failure in the producer happens right after a successful write, but before the callback is triggered. Need to downvote this. Will add a new answer."}],"tags":[],"owner":{"account_id":9452345,"reputation":6871,"user_id":7028697,"display_name":"amethystic"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1481114240,"creation_date":1481114240,"answer_id":41017702,"question_id":41016748,"body_markdown":"It is impractical for you to check whether the same message has been delivered every time you send a new one. Think it another way: you could invoke KafkaProducer.send method with a callback notifying you of the success or failure.","title":"Verify existence of message in a Kafka topic","body":"<p>It is impractical for you to check whether the same message has been delivered every time you send a new one. Think it another way: you could invoke KafkaProducer.send method with a callback notifying you of the success or failure.</p>\n"},{"comments":[{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1481178854,"post_id":41017983,"comment_id":69273648,"body_markdown":"The question is about writing into Kafka and not into a external system.","body":"The question is about writing into Kafka and not into a external system."}],"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1481115106,"creation_date":1481115106,"answer_id":41017983,"question_id":41016748,"body_markdown":"That&#39;s pretty much out of scope for Kafka. You need to do that using a different storage that provides proper indexing for random access.\r\nDepending on your needs, that can be (distributed) cache, a key-value store or whatever.\r\n\r\nYou&#39;ll probably want to do that on the consumer-side rather than producer, as different consumers may use different strategies for de-duplication (and some consumers may simply tolerate duplicates).","title":"Verify existence of message in a Kafka topic","body":"<p>That's pretty much out of scope for Kafka. You need to do that using a different storage that provides proper indexing for random access.\nDepending on your needs, that can be (distributed) cache, a key-value store or whatever.</p>\n\n<p>You'll probably want to do that on the consumer-side rather than producer, as different consumers may use different strategies for de-duplication (and some consumers may simply tolerate duplicates).</p>\n"},{"comments":[{"owner":{"account_id":1509295,"reputation":3758,"user_id":1411812,"accept_rate":63,"display_name":"Vinod Jayachandran"},"score":1,"creation_date":1481194882,"post_id":41033356,"comment_id":69282888,"body_markdown":"Is it a good idea to export the data from Kafka topic to DB and query to verify it&#39;s existence ?","body":"Is it a good idea to export the data from Kafka topic to DB and query to verify it&#39;s existence ?"},{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":1,"creation_date":1481223429,"post_id":41033356,"comment_id":69301210,"body_markdown":"You could verify it&#39;s existence just reading the data back with a consumer, too. But this is super expensive and slow. However, there is not good solution that gives good performance right now. You will need to wait for idempotent Producer. For know, it seems to be good to accept duplicate write and design your downstream consumers accordingly and filter out duplicates there.","body":"You could verify it&#39;s existence just reading the data back with a consumer, too. But this is super expensive and slow. However, there is not good solution that gives good performance right now. You will need to wait for idempotent Producer. For know, it seems to be good to accept duplicate write and design your downstream consumers accordingly and filter out duplicates there."}],"tags":[],"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693873823,"creation_date":1481179415,"answer_id":41033356,"question_id":41016748,"body_markdown":"Currently (Kafka `0.10.1`), there is no way to have exactly-once guarantees on write with Kafka. No matter what workaround you want to do, there will be always be a gap and you can end up with either lost messages or duplicates.\r\n\r\nHowever, Kafka will add an [idempotent producer][1] (planned for `0.10.2`) that will allow you to avoid duplicate writes. The target date for `0.10.2` release is [beginning 2017][2].\r\n\r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/KAFKA/KIP-98+-+Exactly+Once+Delivery+and+Transactional+Messaging\r\n  [2]: https://cwiki.apache.org/confluence/display/KAFKA/Time+Based+Release+Plan\r\n","title":"Verify existence of message in a Kafka topic","body":"<p>Currently (Kafka <code>0.10.1</code>), there is no way to have exactly-once guarantees on write with Kafka. No matter what workaround you want to do, there will be always be a gap and you can end up with either lost messages or duplicates.</p>\n<p>However, Kafka will add an <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-98+-+Exactly+Once+Delivery+and+Transactional+Messaging\" rel=\"nofollow noreferrer\">idempotent producer</a> (planned for <code>0.10.2</code>) that will allow you to avoid duplicate writes. The target date for <code>0.10.2</code> release is <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/Time+Based+Release+Plan\" rel=\"nofollow noreferrer\">beginning 2017</a>.</p>\n"}],"owner":{"account_id":1509295,"reputation":3758,"user_id":1411812,"accept_rate":63,"display_name":"Vinod Jayachandran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41033356,"answer_count":3,"score":1,"last_activity_date":1693873823,"creation_date":1481111550,"question_id":41016748,"body_markdown":"I wish to avoid sending duplicate messages to a Kafka topic. \r\n\r\nWhat is the ideal way to achieve it ?\r\n\r\nUsing Java client for Apache Kafka, is there anyway to verify if a message exists before invoking **KafkaProducer.send**\r\n\r\nI am referring to this [doc][1]\r\n\r\n\r\n  [1]: https://kafka.apache.org/090/javadoc/index.html?org/apache/kafka/clients/producer/KafkaProducer.html","title":"Verify existence of message in a Kafka topic","body":"<p>I wish to avoid sending duplicate messages to a Kafka topic. </p>\n\n<p>What is the ideal way to achieve it ?</p>\n\n<p>Using Java client for Apache Kafka, is there anyway to verify if a message exists before invoking <strong>KafkaProducer.send</strong></p>\n\n<p>I am referring to this <a href=\"https://kafka.apache.org/090/javadoc/index.html?org/apache/kafka/clients/producer/KafkaProducer.html\" rel=\"nofollow noreferrer\">doc</a></p>\n"},{"tags":["java","hibernate","jpa","many-to-many","one-to-many"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693748409,"creation_date":1693748409,"answer_id":77032538,"question_id":77032410,"body_markdown":"It complains the class that `@OneTomany` is annotated on which is `InstructorSocial` is not an entity. Entity is a class that is annotated with `@Entity`. \r\n\r\nSo think that it should be :\r\n\r\n``` java\r\n@OneToMany(....)\r\n@JoinTable(.....)\r\nprivate List&lt;InstructorSocialEntity &gt; socials = new ArrayList&lt;&gt;();\r\n\r\n```\r\n\r\n","title":"Java | JPA | Hibernate | AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class","body":"<p>It complains the class that <code>@OneTomany</code> is annotated on which is <code>InstructorSocial</code> is not an entity. Entity is a class that is annotated with <code>@Entity</code>.</p>\n<p>So think that it should be :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(....)\n@JoinTable(.....)\nprivate List&lt;InstructorSocialEntity &gt; socials = new ArrayList&lt;&gt;();\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8273410,"reputation":95,"user_id":6220437,"accept_rate":17,"display_name":"hawkinside_out"},"score":0,"creation_date":1693770622,"post_id":77032593,"comment_id":135801233,"body_markdown":"So I have a question. This worked as you&#39;ve typed it and I was able to run by app, but now when I try to save InstructorSocial to my Instructor, it doesn&#39;t show up in my list of Instructor.socials list, but it DOES show up in the database. What am I doing wrong?\n\n\n`InstructorSocial social = new InstructorSocial();\nsocial.setUuid();\nsocial.setName(instructorSocial.getName());\nsocial.setImage(instructorSocial.getImage());\nsocial.setInstructor(foundInstructor);\n\nfoundInstructor.getSocials().add(social);\ninstructorRepository.save(foundInstructor);`","body":"So I have a question. This worked as you&#39;ve typed it and I was able to run by app, but now when I try to save InstructorSocial to my Instructor, it doesn&#39;t show up in my list of Instructor.socials list, but it DOES show up in the database. What am I doing wrong?   <code>InstructorSocial social = new InstructorSocial(); social.setUuid(); social.setName(instructorSocial.getName()); social.setImage(instructorSocial.getImage()); social.setInstructor(foundInstructor);  foundInstructor.getSocials().add(social); instructorRepository.save(foundInstructor);</code>"},{"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"score":0,"creation_date":1693774005,"post_id":77032593,"comment_id":135801569,"body_markdown":"It is best to enable debug level on the generated hibernate SQL queries to see what&#39;s going on behind the scenes. Just look up how to set `hibernate.show_sql` flag to true in the environment you&#39;re doing the development.","body":"It is best to enable debug level on the generated hibernate SQL queries to see what&#39;s going on behind the scenes. Just look up how to set <code>hibernate.show_sql</code> flag to true in the environment you&#39;re doing the development."},{"owner":{"account_id":8273410,"reputation":95,"user_id":6220437,"accept_rate":17,"display_name":"hawkinside_out"},"score":0,"creation_date":1693777083,"post_id":77032593,"comment_id":135801852,"body_markdown":"Already had it set when I first started on the app. There&#39;s only a mention of the INSERT INTO instructor_social table.\n\n`Hibernate: insert into instructor_social (image, instructor_uuid, name, uuid) values (?, ?, ?, ?)`\n\nAll the data in that table is getting set, but the record isn&#39;t being added into the instructor&#39;s list of socials using the .add() method","body":"Already had it set when I first started on the app. There&#39;s only a mention of the INSERT INTO instructor_social table.  <code>Hibernate: insert into instructor_social (image, instructor_uuid, name, uuid) values (?, ?, ?, ?)</code>  All the data in that table is getting set, but the record isn&#39;t being added into the instructor&#39;s list of socials using the .add() method"},{"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"score":0,"creation_date":1693836238,"post_id":77032593,"comment_id":135808990,"body_markdown":"That is weird. Have you replaced your `@JoinTable` annotation with `@JoinColumn` as I showed in the example ? Because your configuration implies a many-to-many relation where two columns of this table being `instructor_id` and `instructor_social_id` which both referencing the `id` column in their respective tables. This is not what you want. You only need a column in the owning table (instructor_social) that has a foreign key to the `instructor` table. Let&#39;s modify the code to satisfy that and retry.","body":"That is weird. Have you replaced your <code>@JoinTable</code> annotation with <code>@JoinColumn</code> as I showed in the example ? Because your configuration implies a many-to-many relation where two columns of this table being <code>instructor_id</code> and <code>instructor_social_id</code> which both referencing the <code>id</code> column in their respective tables. This is not what you want. You only need a column in the owning table (instructor_social) that has a foreign key to the <code>instructor</code> table. Let&#39;s modify the code to satisfy that and retry."},{"owner":{"account_id":8273410,"reputation":95,"user_id":6220437,"accept_rate":17,"display_name":"hawkinside_out"},"score":0,"creation_date":1693852941,"post_id":77032593,"comment_id":135811838,"body_markdown":"Yup, did that already as well. I updated my original post to be more concise, plus I added a section underneath the title &quot;Updated Working Code&quot; that included all of your recommendations.","body":"Yup, did that already as well. I updated my original post to be more concise, plus I added a section underneath the title &quot;Updated Working Code&quot; that included all of your recommendations."},{"owner":{"account_id":8273410,"reputation":95,"user_id":6220437,"accept_rate":17,"display_name":"hawkinside_out"},"score":0,"creation_date":1693873669,"post_id":77032593,"comment_id":135813938,"body_markdown":"Never mind @alegria. I figured it out. Refer to my edited original post.","body":"Never mind @alegria. I figured it out. Refer to my edited original post."},{"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"score":0,"creation_date":1693948240,"post_id":77032593,"comment_id":135826365,"body_markdown":"That&#39;s intersting, anyways, glad you figured it out!","body":"That&#39;s intersting, anyways, glad you figured it out!"}],"tags":[],"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693749136,"creation_date":1693749136,"answer_id":77032593,"question_id":77032410,"body_markdown":"Annotations like `@JoinTable` ,`@JoinColumn` are applied to the owning side of \r\na relationship, i.e. the table that owns the foreign key to the other table.\r\n\r\nHere, have a look at the [javadocs of the annotation][1].\r\n\r\nIn the relationship between your tables, the owning side is the `instructor_social` table, so, it is the one that should have the `@JoinXXX` annotation on the field that represents the related table/Entity, i.e. instructor/InstructorEntity.\r\n\r\nAnother thing that is missing in your code, that the Hibernate(JPA) complains of, is that the lack of `mappedBy` attribute in your `@OneToMany` annotation.\r\n\r\nAgain, as per the [docs][2],\r\n\r\n&gt; If the relationship is bidirectional, the mappedBy element must be used to specify the relationship field or property of the entity that is the owner of the relationship.\r\n\r\nMeaning, you have to update your `@OneToMany` annotation like so:\r\n\r\n    @OneToMany(\r\n            mappedBy = &quot;instructor&quot;,\r\n            cascade = CascadeType.ALL,\r\n            orphanRemoval = true\r\n    )\r\n    private List&lt;InstructorSocial&gt; socials = new ArrayList&lt;&gt;();\r\n\r\nHere, `mappedBy` indicates how this entity (Instructor) is referenced from the owning entity (InstructorSocial).\r\n\r\nThat means, you have to update your InstructorSocial entity to include the reference to the Instructor entity:\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;instructor_id&quot;)\r\n    private InstructorEntity instructor;\r\n\r\n\r\nNotice the **field name** in the owning entity is the same as the value of the `mappedBy` attribute in the referenced entity, i.e &quot;instructor&quot;. That specifies the bidirectional relation of these two entities.\r\n\r\n___ \r\n\r\nAs a side note, you might consider refining the naming of your entities. Appending them with the suffix &#39;xxxEntity&#39; can appear overly explanatory and may not enhance readability when sorted. Plus, Hibernate has the ability of generating the table and relation names from entities and their mapping configurations by the widely accepted RDBMS naming conventions. By allowing Hibernate to handle table organization, you can effectively address many trivial issues that may arise, especially if you are new to this field.\r\n\r\n[1]: https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/JoinTable.html\r\n[2]: https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/OneToMany.html\r\n\r\n\r\n","title":"Java | JPA | Hibernate | AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class","body":"<p>Annotations like <code>@JoinTable</code> ,<code>@JoinColumn</code> are applied to the owning side of\na relationship, i.e. the table that owns the foreign key to the other table.</p>\n<p>Here, have a look at the <a href=\"https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/JoinTable.html\" rel=\"nofollow noreferrer\">javadocs of the annotation</a>.</p>\n<p>In the relationship between your tables, the owning side is the <code>instructor_social</code> table, so, it is the one that should have the <code>@JoinXXX</code> annotation on the field that represents the related table/Entity, i.e. instructor/InstructorEntity.</p>\n<p>Another thing that is missing in your code, that the Hibernate(JPA) complains of, is that the lack of <code>mappedBy</code> attribute in your <code>@OneToMany</code> annotation.</p>\n<p>Again, as per the <a href=\"https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/OneToMany.html\" rel=\"nofollow noreferrer\">docs</a>,</p>\n<blockquote>\n<p>If the relationship is bidirectional, the mappedBy element must be used to specify the relationship field or property of the entity that is the owner of the relationship.</p>\n</blockquote>\n<p>Meaning, you have to update your <code>@OneToMany</code> annotation like so:</p>\n<pre><code>@OneToMany(\n        mappedBy = &quot;instructor&quot;,\n        cascade = CascadeType.ALL,\n        orphanRemoval = true\n)\nprivate List&lt;InstructorSocial&gt; socials = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Here, <code>mappedBy</code> indicates how this entity (Instructor) is referenced from the owning entity (InstructorSocial).</p>\n<p>That means, you have to update your InstructorSocial entity to include the reference to the Instructor entity:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;instructor_id&quot;)\nprivate InstructorEntity instructor;\n</code></pre>\n<p>Notice the <strong>field name</strong> in the owning entity is the same as the value of the <code>mappedBy</code> attribute in the referenced entity, i.e &quot;instructor&quot;. That specifies the bidirectional relation of these two entities.</p>\n<hr />\n<p>As a side note, you might consider refining the naming of your entities. Appending them with the suffix 'xxxEntity' can appear overly explanatory and may not enhance readability when sorted. Plus, Hibernate has the ability of generating the table and relation names from entities and their mapping configurations by the widely accepted RDBMS naming conventions. By allowing Hibernate to handle table organization, you can effectively address many trivial issues that may arise, especially if you are new to this field.</p>\n"}],"owner":{"account_id":8273410,"reputation":95,"user_id":6220437,"accept_rate":17,"display_name":"hawkinside_out"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77032593,"answer_count":2,"score":0,"last_activity_date":1693873447,"creation_date":1693746457,"question_id":77032410,"body_markdown":"I&#39;m getting my feet wet with Java Spring Boot 2.7.15 and I&#39;m having a bit of trouble. I&#39;ve applied several solutions but they all lead back to the same error in the title.\r\n\r\nSome background:\r\nI&#39;m building a pet project learning management application where instructors have social media contact links. For this, I&#39;m attempting to use a OneToMany relationship for Instructors to Socials.\r\n\r\nHere&#39;s my code:\r\n\r\n**InstructorEntity.java**\r\n```\r\n@Entity\r\n@Table(name = &quot;instructor&quot;, uniqueConstraints = @UniqueConstraint(columnNames = {&quot;email&quot;}))\r\npublic class InstructorEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    private String uuid;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String profession;\r\n    @Column(columnDefinition = &quot;longtext&quot;, length = 65555)\r\n    private String bio;\r\n    @Column(unique = true)\r\n    private String email;\r\n    private String phone;\r\n    private String website;\r\n\r\n    @OneToMany(\r\n            cascade = CascadeType.ALL,\r\n            orphanRemoval = true\r\n    )\r\n    @JoinTable(\r\n            name = &quot;instructor_social&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;instructor_id&quot;, referencedColumnName = &quot;id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;instructor_social_id&quot;, referencedColumnName = &quot;id&quot;)}\r\n    )\r\n    private List&lt;InstructorSocial&gt; socials = new ArrayList&lt;&gt;();\r\n\r\n    public InstructorEntity() {\r\n    }\r\n\r\n    public InstructorEntity(long id, String uuid, String firstName, String lastName, String profession, String bio, String email, String phone, String website) {\r\n        this.id = id;\r\n        this.uuid = uuid;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.profession = profession;\r\n        this.bio = bio;\r\n        this.email = email;\r\n        this.phone = phone;\r\n        this.website = website;\r\n    }\r\n\r\n    // Getters and Setters\r\n}\r\n```\r\n**InstructorSocialEntity.java**\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;instructor_social&quot;)\r\npublic class InstructorSocialEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    private String uuid;\r\n    private String name;\r\n    private String image;\r\n\r\n    public InstructorSocialEntity() {\r\n    }\r\n\r\n    public InstructorSocialEntity(long id, String uuid, String name, String image) {\r\n        this.id = id;\r\n        this.uuid = uuid;\r\n        this.name = name;\r\n        this.image = image;\r\n    }\r\n\r\n    // Getters and Setters\r\n}\r\n```\r\n\r\n**Updated Working Code**\r\n\r\n**Instructor.java**\r\n```\r\n@Entity\r\n@Table(name = &quot;instructor&quot;, uniqueConstraints = @UniqueConstraint(columnNames = {&quot;email&quot;}))\r\npublic class Instructor {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    private String uuid;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String profession;\r\n    @Column(columnDefinition = &quot;longtext&quot;, length = 65555)\r\n    private String bio;\r\n    @Column(unique = true)\r\n    private String email;\r\n    private String phone;\r\n    private String website;\r\n\r\n    @OneToMany(\r\n            mappedBy = &quot;instructor&quot;,\r\n            cascade = CascadeType.ALL,\r\n            orphanRemoval = true\r\n    )\r\n    private List&lt;InstructorSocial&gt; socials = new ArrayList&lt;&gt;();\r\n\r\n    public Instructor() {\r\n    }\r\n\r\n    public Instructor(long id, String uuid, String firstName, String lastName, String profession, String bio, String email, String phone, String website) {\r\n        this.id = id;\r\n        this.uuid = uuid;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.profession = profession;\r\n        this.bio = bio;\r\n        this.email = email;\r\n        this.phone = phone;\r\n        this.website = website;\r\n    }\r\n```\r\n\r\n**InstructorSocial.java**\r\n```\r\n@Entity\r\n@Table(name = &quot;instructor_social&quot;)\r\npublic class InstructorSocial {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    private String uuid;\r\n    private String name;\r\n    private String image;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;instructor_id&quot;)\r\n    private Instructor instructor;\r\n\r\n    public InstructorSocial() {\r\n    }\r\n\r\n    public InstructorSocial(long id, String uuid, String name, String image) {\r\n        this.id = id;\r\n        this.uuid = uuid;\r\n        this.name = name;\r\n        this.image = image;\r\n    }\r\n```\r\n--------------------------------------------\r\n**Edit**\r\nPer one of the comments, I&#39;m able to successfully run the app, but now I&#39;m having a problem adding a Social to a list of the Instructor&#39;s Socials (i.e. Instructor.socials). The following code does, however, add the Social record into the instructor_social table in my database. Here&#39;s my code:\r\n\r\n**InstructorService.java**\r\n```\r\nInstructorSocial social = new InstructorSocial();\r\nsocial.setUuid();\r\nsocial.setName(instructorSocial.getName());\r\nsocial.setImage(instructorSocial.getImage());\r\n\r\nfoundInstructor.getSocials().add(social);\r\ninstructorRepository.save(foundInstructor);\r\n```\r\n**Solution to the edit**\r\nFor full transparency, I figured out why my Instructor.socials lists weren&#39;t being populated... It was because of my Instructor.socials Model. Long story short, it had everything to do with me not setting up my Service without even defining what the InstructerService.getAllInstructors() method should return. Here is what I used:\r\n\r\n**service/InstructorServiceImpl.java**\r\n```\r\n@Override\r\n    public List&lt;Instructor&gt; getAllInstructors() {\r\n        return instructorRepository\r\n                .findAll().stream()\r\n                .map(instructorEntity -&gt; new Instructor(\r\n                        instructorEntity.getId(),\r\n                        instructorEntity.getUuid(),\r\n                        instructorEntity.getFirstName(),\r\n                        instructorEntity.getLastName(),\r\n                        instructorEntity.getProfession(),\r\n                        instructorEntity.getBio(),\r\n                        instructorEntity.getEmail(),\r\n                        instructorEntity.getPhone(),\r\n                        instructorEntity.getWebsite(),\r\n                        instructorEntity.getSocials()\r\n                                .stream()\r\n                                .map(instructorSocialEntity -&gt; new InstructorSocial(\r\n                                        instructorSocialEntity.getId(),\r\n                                        instructorSocialEntity.getUuid(),\r\n                                        instructorSocialEntity.getName(),\r\n                                        instructorSocialEntity.getImage()\r\n                                ))\r\n                                .collect(Collectors.toList())\r\n                ))\r\n                .collect(Collectors.toList());\r\n    }\r\n```","title":"Java | JPA | Hibernate | AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class","body":"<p>I'm getting my feet wet with Java Spring Boot 2.7.15 and I'm having a bit of trouble. I've applied several solutions but they all lead back to the same error in the title.</p>\n<p>Some background:\nI'm building a pet project learning management application where instructors have social media contact links. For this, I'm attempting to use a OneToMany relationship for Instructors to Socials.</p>\n<p>Here's my code:</p>\n<p><strong>InstructorEntity.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;instructor&quot;, uniqueConstraints = @UniqueConstraint(columnNames = {&quot;email&quot;}))\npublic class InstructorEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    private String uuid;\n    private String firstName;\n    private String lastName;\n    private String profession;\n    @Column(columnDefinition = &quot;longtext&quot;, length = 65555)\n    private String bio;\n    @Column(unique = true)\n    private String email;\n    private String phone;\n    private String website;\n\n    @OneToMany(\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n    )\n    @JoinTable(\n            name = &quot;instructor_social&quot;,\n            joinColumns = {@JoinColumn(name = &quot;instructor_id&quot;, referencedColumnName = &quot;id&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;instructor_social_id&quot;, referencedColumnName = &quot;id&quot;)}\n    )\n    private List&lt;InstructorSocial&gt; socials = new ArrayList&lt;&gt;();\n\n    public InstructorEntity() {\n    }\n\n    public InstructorEntity(long id, String uuid, String firstName, String lastName, String profession, String bio, String email, String phone, String website) {\n        this.id = id;\n        this.uuid = uuid;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.profession = profession;\n        this.bio = bio;\n        this.email = email;\n        this.phone = phone;\n        this.website = website;\n    }\n\n    // Getters and Setters\n}\n</code></pre>\n<p><strong>InstructorSocialEntity.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;instructor_social&quot;)\npublic class InstructorSocialEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    private String uuid;\n    private String name;\n    private String image;\n\n    public InstructorSocialEntity() {\n    }\n\n    public InstructorSocialEntity(long id, String uuid, String name, String image) {\n        this.id = id;\n        this.uuid = uuid;\n        this.name = name;\n        this.image = image;\n    }\n\n    // Getters and Setters\n}\n</code></pre>\n<p><strong>Updated Working Code</strong></p>\n<p><strong>Instructor.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;instructor&quot;, uniqueConstraints = @UniqueConstraint(columnNames = {&quot;email&quot;}))\npublic class Instructor {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    private String uuid;\n    private String firstName;\n    private String lastName;\n    private String profession;\n    @Column(columnDefinition = &quot;longtext&quot;, length = 65555)\n    private String bio;\n    @Column(unique = true)\n    private String email;\n    private String phone;\n    private String website;\n\n    @OneToMany(\n            mappedBy = &quot;instructor&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n    )\n    private List&lt;InstructorSocial&gt; socials = new ArrayList&lt;&gt;();\n\n    public Instructor() {\n    }\n\n    public Instructor(long id, String uuid, String firstName, String lastName, String profession, String bio, String email, String phone, String website) {\n        this.id = id;\n        this.uuid = uuid;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.profession = profession;\n        this.bio = bio;\n        this.email = email;\n        this.phone = phone;\n        this.website = website;\n    }\n</code></pre>\n<p><strong>InstructorSocial.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;instructor_social&quot;)\npublic class InstructorSocial {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    private String uuid;\n    private String name;\n    private String image;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;instructor_id&quot;)\n    private Instructor instructor;\n\n    public InstructorSocial() {\n    }\n\n    public InstructorSocial(long id, String uuid, String name, String image) {\n        this.id = id;\n        this.uuid = uuid;\n        this.name = name;\n        this.image = image;\n    }\n</code></pre>\n<hr />\n<p><strong>Edit</strong>\nPer one of the comments, I'm able to successfully run the app, but now I'm having a problem adding a Social to a list of the Instructor's Socials (i.e. Instructor.socials). The following code does, however, add the Social record into the instructor_social table in my database. Here's my code:</p>\n<p><strong>InstructorService.java</strong></p>\n<pre><code>InstructorSocial social = new InstructorSocial();\nsocial.setUuid();\nsocial.setName(instructorSocial.getName());\nsocial.setImage(instructorSocial.getImage());\n\nfoundInstructor.getSocials().add(social);\ninstructorRepository.save(foundInstructor);\n</code></pre>\n<p><strong>Solution to the edit</strong>\nFor full transparency, I figured out why my Instructor.socials lists weren't being populated... It was because of my Instructor.socials Model. Long story short, it had everything to do with me not setting up my Service without even defining what the InstructerService.getAllInstructors() method should return. Here is what I used:</p>\n<p><strong>service/InstructorServiceImpl.java</strong></p>\n<pre><code>@Override\n    public List&lt;Instructor&gt; getAllInstructors() {\n        return instructorRepository\n                .findAll().stream()\n                .map(instructorEntity -&gt; new Instructor(\n                        instructorEntity.getId(),\n                        instructorEntity.getUuid(),\n                        instructorEntity.getFirstName(),\n                        instructorEntity.getLastName(),\n                        instructorEntity.getProfession(),\n                        instructorEntity.getBio(),\n                        instructorEntity.getEmail(),\n                        instructorEntity.getPhone(),\n                        instructorEntity.getWebsite(),\n                        instructorEntity.getSocials()\n                                .stream()\n                                .map(instructorSocialEntity -&gt; new InstructorSocial(\n                                        instructorSocialEntity.getId(),\n                                        instructorSocialEntity.getUuid(),\n                                        instructorSocialEntity.getName(),\n                                        instructorSocialEntity.getImage()\n                                ))\n                                .collect(Collectors.toList())\n                ))\n                .collect(Collectors.toList());\n    }\n</code></pre>\n"},{"tags":["java","arrays","collections","aggregate"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1693636528,"post_id":77027197,"comment_id":135789576,"body_markdown":"Are you talking about their time complexity when you say &quot;optimal&quot;? They are both O(n).","body":"Are you talking about their time complexity when you say &quot;optimal&quot;? They are both O(n)."},{"owner":{"account_id":4192655,"reputation":341,"user_id":3434906,"display_name":"Dec0de"},"score":0,"creation_date":1693637525,"post_id":77027197,"comment_id":135789639,"body_markdown":"Yes, I used the word optimal in the meaning of complexity. Sorry for unclearness.","body":"Yes, I used the word optimal in the meaning of complexity. Sorry for unclearness."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693845142,"post_id":77027413,"comment_id":135810680,"body_markdown":"Or `for (var person: personList) { personAgg.merge(person.getName(), person.getAge(), Math::max); }` By the way, the OP never created new `Person` instances in the original code. The supplier `Person::new` was the fallback for a case that never happens here.","body":"Or <code>for (var person: personList) { personAgg.merge(person.getName(), person.getAge(), Math::max); }</code> By the way, the OP never created new <code>Person</code> instances in the original code. The supplier <code>Person::new</code> was the fallback for a case that never happens here."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693845647,"post_id":77027413,"comment_id":135810778,"body_markdown":"With original code, I mean the Stream solution. To do the same with a loop, one could use `var personAgg = new HashMap&lt;String, Person&gt;(); for (var person: personList) { personAgg.merge(person.getName(), Function.identity(), BinaryOperator.maxBy(Comparator.comparing(Person::getAge))); } var resultList = new ArrayList&lt;&gt;(personAgg.values());`","body":"With original code, I mean the Stream solution. To do the same with a loop, one could use <code>var personAgg = new HashMap&lt;String, Person&gt;(); for (var person: personList) { personAgg.merge(person.getName(), Function.identity(), BinaryOperator.maxBy(Comparator.comparing(Person::getAge))); } var resultList = new ArrayList&lt;&gt;(personAgg.values());</code>"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1693872983,"post_id":77027413,"comment_id":135813878,"body_markdown":"@Holger thanks. I must have thought the `personAgg.forEach(…)` like was part of the stream code too.","body":"@Holger thanks. I must have thought the <code>personAgg.forEach(…)</code> like was part of the stream code too."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693901762,"post_id":77027413,"comment_id":135817007,"body_markdown":"In the OP’s second variant, it is. This variant creates a temporary `Map&lt;String, Integer&gt;` to create the intended `List&lt;Person&gt;` with new `Person` instances. In contrast, the Stream variant creates a temporary `Map&lt;String, Person&gt;` with the original `Person` instances and transfers them to the result `List`. My first comment shows a simplification of the OP’s second variant/your answer which would requires the `forEach` as well, to create the final `List`. My second comment is like the OP’s first variant, passing the original `Person` instances to the result `List`.","body":"In the OP’s second variant, it is. This variant creates a temporary <code>Map&lt;String, Integer&gt;</code> to create the intended <code>List&lt;Person&gt;</code> with new <code>Person</code> instances. In contrast, the Stream variant creates a temporary <code>Map&lt;String, Person&gt;</code> with the original <code>Person</code> instances and transfers them to the result <code>List</code>. My first comment shows a simplification of the OP’s second variant/your answer which would requires the <code>forEach</code> as well, to create the final <code>List</code>. My second comment is like the OP’s first variant, passing the original <code>Person</code> instances to the result <code>List</code>."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693872793,"creation_date":1693640855,"answer_id":77027413,"question_id":77027197,"body_markdown":"The time complexity of doing this has to be at least O(n), where n is the number of elements in `personList`. To find the max age of each person, you have to check *every* person.\r\n\r\nThere is very little to no time complexity guarantees on stream operations, so here I will assume the OpenJDK 17 implementation which I have on my machine. That said, it&#39;s hard to imagine anyone would write a non-optimal implementation.\r\n\r\nYour solution using streams is O(n). Each element is processed first by the `groupingBy` collector to be put in one of the groups, then gets consumed by the `maxBy` collector, which operates on each group. The things that both collectors do are done in constant time. `groupingBy` just checks if it matches any existing group (this is done by a `HashMap` lookup), and `maxBy` compares it with the current max using the comparator provided. \r\n\r\nYour solution not using streams is also O(n) - you do a bunch of constant time things (reading and writing to `personAgg`) for each element in `personList`. So it is optimal as far as time complexity is concerned.\r\n\r\nNote that you could also rewrite the loop body to just one call to `compute`:\r\n\r\n```\r\nfor (var person: personList) {\r\n    personAgg.compute(\r\n        person.getMame(),\r\n        (k, v) -&gt; Math.max(\r\n            Objects.requireNonNullElse(v, Integer.MIN_VALUE),\r\n            person.getAge()\r\n        )\r\n    );\r\n}\r\n```\r\n\r\nOf course, this only avoids accessing the map multiple times, and change the time complexity.","title":"Collection GroupBy Aggregates without Stream API","body":"<p>The time complexity of doing this has to be at least O(n), where n is the number of elements in <code>personList</code>. To find the max age of each person, you have to check <em>every</em> person.</p>\n<p>There is very little to no time complexity guarantees on stream operations, so here I will assume the OpenJDK 17 implementation which I have on my machine. That said, it's hard to imagine anyone would write a non-optimal implementation.</p>\n<p>Your solution using streams is O(n). Each element is processed first by the <code>groupingBy</code> collector to be put in one of the groups, then gets consumed by the <code>maxBy</code> collector, which operates on each group. The things that both collectors do are done in constant time. <code>groupingBy</code> just checks if it matches any existing group (this is done by a <code>HashMap</code> lookup), and <code>maxBy</code> compares it with the current max using the comparator provided.</p>\n<p>Your solution not using streams is also O(n) - you do a bunch of constant time things (reading and writing to <code>personAgg</code>) for each element in <code>personList</code>. So it is optimal as far as time complexity is concerned.</p>\n<p>Note that you could also rewrite the loop body to just one call to <code>compute</code>:</p>\n<pre><code>for (var person: personList) {\n    personAgg.compute(\n        person.getMame(),\n        (k, v) -&gt; Math.max(\n            Objects.requireNonNullElse(v, Integer.MIN_VALUE),\n            person.getAge()\n        )\n    );\n}\n</code></pre>\n<p>Of course, this only avoids accessing the map multiple times, and change the time complexity.</p>\n"}],"owner":{"account_id":4192655,"reputation":341,"user_id":3434906,"display_name":"Dec0de"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77027413,"answer_count":1,"score":1,"last_activity_date":1693872793,"creation_date":1693636031,"question_id":77027197,"body_markdown":"I have a simple ArrayList with people&#39;s name and their ages (Person object).\r\n\r\n```\r\nclass Person {\r\n\tString name;\r\n\tint age;\r\n}\r\n\r\nList&lt;Person&gt; personList = new ArrayList&lt;&gt;();\r\npersonList.add(new Person(&quot;john&quot;, 47));\r\npersonList.add(new Person(&quot;john&quot;, 35));\r\npersonList.add(new Person(&quot;john&quot;, 12));\r\npersonList.add(new Person(&quot;britney&quot;, 27));\r\npersonList.add(new Person(&quot;britney&quot;, 16));\r\n```\r\n\r\nThe goal is to produce **ArrayList** with people, who has max age for every name, but without using Stream API. Similar to SQL&#39;s `SELECT name, max(AGE) FROM P GROUP BY name`:\r\n&gt; [Person(&quot;john&quot;, 47), Person(&quot;britney&quot;, 27)]\r\n\r\nWith Stream API I did it that way:\r\n```\r\npersonList.stream()\r\n        .collect(Collectors\r\n            .groupingBy(Person::getName,\r\n                    Collectors.maxBy(Comparator.comparing(Person::getAge))))\r\n            .values().stream()\r\n            .map(s -&gt; s.orElseGet(Person::new))\r\n            .collect(Collectors.toList());\r\n```\r\nBut I doubt, whether I did it optimally without Stream API (the code is below). \r\n\r\n**The question:** Is the code below an optimal way? If not, please describe yours with mentioning O-complexity.\r\n\r\n**Second question:** Which O-complexity the solution with Stream API above has? Surprisingly, using functional approach I can&#39;t grasp it.\r\n```\r\nMap&lt;String, Integer&gt; personAgg = new HashMap&lt;&gt;();\r\npersonList.forEach(personAdd -&gt; {\r\n    var currentKey=personAdd.getName();\r\n    var currentValue=personAdd.getAge();\r\n    if (personAgg.containsKey(currentKey)) {\r\n        if (personAgg.get(currentKey) &lt; currentValue)\r\n            personAgg.put(currentKey, currentValue);\r\n    } else {\r\n        personAgg.put(currentKey, currentValue);\r\n    }\r\n});\r\n\r\nList&lt;Person&gt; personAggArray = new ArrayList&lt;&gt;();\r\npersonAgg.forEach((k,v) -&gt; personAggArray.add(new Person(k,v)));\r\n```\r\n","title":"Collection GroupBy Aggregates without Stream API","body":"<p>I have a simple ArrayList with people's name and their ages (Person object).</p>\n<pre><code>class Person {\n    String name;\n    int age;\n}\n\nList&lt;Person&gt; personList = new ArrayList&lt;&gt;();\npersonList.add(new Person(&quot;john&quot;, 47));\npersonList.add(new Person(&quot;john&quot;, 35));\npersonList.add(new Person(&quot;john&quot;, 12));\npersonList.add(new Person(&quot;britney&quot;, 27));\npersonList.add(new Person(&quot;britney&quot;, 16));\n</code></pre>\n<p>The goal is to produce <strong>ArrayList</strong> with people, who has max age for every name, but without using Stream API. Similar to SQL's <code>SELECT name, max(AGE) FROM P GROUP BY name</code>:</p>\n<blockquote>\n<p>[Person(&quot;john&quot;, 47), Person(&quot;britney&quot;, 27)]</p>\n</blockquote>\n<p>With Stream API I did it that way:</p>\n<pre><code>personList.stream()\n        .collect(Collectors\n            .groupingBy(Person::getName,\n                    Collectors.maxBy(Comparator.comparing(Person::getAge))))\n            .values().stream()\n            .map(s -&gt; s.orElseGet(Person::new))\n            .collect(Collectors.toList());\n</code></pre>\n<p>But I doubt, whether I did it optimally without Stream API (the code is below).</p>\n<p><strong>The question:</strong> Is the code below an optimal way? If not, please describe yours with mentioning O-complexity.</p>\n<p><strong>Second question:</strong> Which O-complexity the solution with Stream API above has? Surprisingly, using functional approach I can't grasp it.</p>\n<pre><code>Map&lt;String, Integer&gt; personAgg = new HashMap&lt;&gt;();\npersonList.forEach(personAdd -&gt; {\n    var currentKey=personAdd.getName();\n    var currentValue=personAdd.getAge();\n    if (personAgg.containsKey(currentKey)) {\n        if (personAgg.get(currentKey) &lt; currentValue)\n            personAgg.put(currentKey, currentValue);\n    } else {\n        personAgg.put(currentKey, currentValue);\n    }\n});\n\nList&lt;Person&gt; personAggArray = new ArrayList&lt;&gt;();\npersonAgg.forEach((k,v) -&gt; personAggArray.add(new Person(k,v)));\n</code></pre>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":1,"creation_date":1693869380,"post_id":77040942,"comment_id":135813635,"body_markdown":"Can you clarify why you believe that `java.lang.reflect.Field` should have a field named `signature`? Did you get that from an article somewhere, or something?","body":"Can you clarify why you believe that <code>java.lang.reflect.Field</code> should have a field named <code>signature</code>? Did you get that from an article somewhere, or something?"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1693870007,"post_id":77040942,"comment_id":135813677,"body_markdown":"`Field field = Field.class.getDeclaredField(&quot;signature&quot;);` does not refer to anything in your code.  This is asking `Class&lt;Field&gt;` to return a reference to some internal member called `signature`.  I don&#39;t think that&#39;s what you intended.","body":"<code>Field field = Field.class.getDeclaredField(&quot;signature&quot;);</code> does not refer to anything in your code.  This is asking <code>Class&lt;Field&gt;</code> to return a reference to some internal member called <code>signature</code>.  I don&#39;t think that&#39;s what you intended."},{"owner":{"account_id":19121633,"reputation":125,"user_id":13965488,"display_name":"Derek Li"},"score":0,"creation_date":1693870267,"post_id":77040942,"comment_id":135813694,"body_markdown":"@ruakh the `Field` class has a field called `signature` declared like this:\n`private final transient String    signature;`","body":"@ruakh the <code>Field</code> class has a field called <code>signature</code> declared like this: <code>private final transient String    signature;</code>"},{"owner":{"account_id":19121633,"reputation":125,"user_id":13965488,"display_name":"Derek Li"},"score":0,"creation_date":1693870402,"post_id":77040942,"comment_id":135813699,"body_markdown":"@JimGarrison yes this is what I intended.","body":"@JimGarrison yes this is what I intended."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1693877252,"post_id":77040942,"comment_id":135814187,"body_markdown":"See https://bugs.openjdk.org/browse/JDK-8210522 for an explanation.","body":"See <a href=\"https://bugs.openjdk.org/browse/JDK-8210522\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8210522</a> for an explanation."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1693877656,"post_id":77040942,"comment_id":135814221,"body_markdown":"As always, it needs to be mentioned that private fields of Java SE are private for a reason.  Programmers are not entitled to have access to them, and Java is under no obligation to keep them in future versions.  If a private field in a Java SE class changes or gets removed, it’s not a defect in Java, it’s a defect in your code, for making assumptions that were never safe to make.","body":"As always, it needs to be mentioned that private fields of Java SE are private for a reason.  Programmers are not entitled to have access to them, and Java is under no obligation to keep them in future versions.  If a private field in a Java SE class changes or gets removed, it’s not a defect in Java, it’s a defect in your code, for making assumptions that were never safe to make."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694000220,"post_id":77040942,"comment_id":135832941,"body_markdown":"The `signature` field will be predictably `null` in your case. Why do you think you needed access to that field?","body":"The <code>signature</code> field will be predictably <code>null</code> in your case. Why do you think you needed access to that field?"},{"owner":{"account_id":19121633,"reputation":125,"user_id":13965488,"display_name":"Derek Li"},"score":0,"creation_date":1694062751,"post_id":77040942,"comment_id":135842352,"body_markdown":"@Holger I&#39;m doing JNI stuff and too lazy to manually get signature","body":"@Holger I&#39;m doing JNI stuff and too lazy to manually get signature"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1694071042,"post_id":77040942,"comment_id":135843450,"body_markdown":"Ahh, a classic [xy problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378). First of all, this field holds the signature for *generic types*. That’s why this field will be `null` in the example above. Which demonstrates why it is a bad idea to use internals whose purpose you don’t understand, especially not to serve your laziness. Solving your actual problem is not that hard, `field.getType().descriptorString()` will give you what you want, at least in Java&#160;12 and newer. If it does not work for you, ask a question about your problem, not attempted solution.","body":"Ahh, a classic <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378\">xy problem</a>. First of all, this field holds the signature for <i>generic types</i>. That’s why this field will be <code>null</code> in the example above. Which demonstrates why it is a bad idea to use internals whose purpose you don’t understand, especially not to serve your laziness. Solving your actual problem is not that hard, <code>field.getType().descriptorString()</code> will give you what you want, at least in Java 12 and newer. If it does not work for you, ask a question about your problem, not attempted solution."},{"owner":{"account_id":19121633,"reputation":125,"user_id":13965488,"display_name":"Derek Li"},"score":0,"creation_date":1694137423,"post_id":77040942,"comment_id":135855133,"body_markdown":"@Holger Thanks. I didn&#39;t know about `descriptorString()` before. I didn&#39;t post my original problem because there was another answer on stack overflow about something similar [here](https://stackoverflow.com/questions/45072268/how-can-i-get-the-signature-field-of-java-reflection-method-object).","body":"@Holger Thanks. I didn&#39;t know about <code>descriptorString()</code> before. I didn&#39;t post my original problem because there was another answer on stack overflow about something similar <a href=\"https://stackoverflow.com/questions/45072268/how-can-i-get-the-signature-field-of-java-reflection-method-object\">here</a>."}],"answers":[{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":4,"creation_date":1693876270,"post_id":77041070,"comment_id":135814117,"body_markdown":"What is here at play has nothing to do with modules, and is reflection filtering, which did already exist in Java 8 and earlier. (Try to find the `security` field of the `System` class in Java 8 - you won&#39;t find it).","body":"What is here at play has nothing to do with modules, and is reflection filtering, which did already exist in Java 8 and earlier. (Try to find the <code>security</code> field of the <code>System</code> class in Java 8 - you won&#39;t find it)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1693876956,"post_id":77041070,"comment_id":135814166,"body_markdown":"For more information: https://bugs.openjdk.org/browse/JDK-8210522","body":"For more information: <a href=\"https://bugs.openjdk.org/browse/JDK-8210522\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8210522</a>"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1693872499,"creation_date":1693871716,"answer_id":77041070,"question_id":77040942,"body_markdown":"JDK9 introduced [modules][1] and with every release OpenJDK has been breaking backwards compatibility and removing abilities to introspect other modules. That&#39;s what you&#39;re running into. If you want to do this, downgrade to at least JDK11, possibly JDK8, and know that you can&#39;t upgrade. Alternatively, you can try `--add-opens` to open up the relevant modules but whomever runs your code will have to know what bevy of `--add-opens` switches you need to pass to the java executable. And I&#39;m not even sure if that actually lets you introspect into private members of `java.lang` stuff.\r\n\r\nIt _sounds_ like you are attempting to read the generics out of a field. You can do that without resorting to reflecting on `private` stuff in the `java.base` module which requires hacks on modern JVMs.\r\n\r\nYou use [`field.getGenericType()`][2] for that.\r\n\r\nThere is nothing in `field.signature` that I&#39;m aware of that you can&#39;t also get with `getGenericType()`, so, just use that. I don&#39;t think it&#39;s worthwhile extending this answer to explain how to use `--add-opens` here, as it&#39;s clearly the inferior solution.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Platform_Module_System\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/Field.html#getGenericType()","title":"Field exists but NoSuchFieldException","body":"<p>JDK9 introduced <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">modules</a> and with every release OpenJDK has been breaking backwards compatibility and removing abilities to introspect other modules. That's what you're running into. If you want to do this, downgrade to at least JDK11, possibly JDK8, and know that you can't upgrade. Alternatively, you can try <code>--add-opens</code> to open up the relevant modules but whomever runs your code will have to know what bevy of <code>--add-opens</code> switches you need to pass to the java executable. And I'm not even sure if that actually lets you introspect into private members of <code>java.lang</code> stuff.</p>\n<p>It <em>sounds</em> like you are attempting to read the generics out of a field. You can do that without resorting to reflecting on <code>private</code> stuff in the <code>java.base</code> module which requires hacks on modern JVMs.</p>\n<p>You use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/Field.html#getGenericType()\" rel=\"nofollow noreferrer\"><code>field.getGenericType()</code></a> for that.</p>\n<p>There is nothing in <code>field.signature</code> that I'm aware of that you can't also get with <code>getGenericType()</code>, so, just use that. I don't think it's worthwhile extending this answer to explain how to use <code>--add-opens</code> here, as it's clearly the inferior solution.</p>\n"}],"owner":{"account_id":19121633,"reputation":125,"user_id":13965488,"display_name":"Derek Li"},"comment_count":10,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1693896732,"answer_count":1,"score":3,"last_activity_date":1693872499,"creation_date":1693867967,"question_id":77040942,"body_markdown":"I have simple code where I try to get the signature of a field:\r\n```java\r\nimport java.lang.reflect.Field;\r\nimport java.lang.reflect.Method;\r\n\r\npublic class Main {\r\n\r\n    static class Test {\r\n        int hi =  1;\r\n    }\r\n\r\n    public static void main(String[] args) throws NoSuchFieldException, NoSuchMethodException, IllegalAccessException {\r\n        Field hi = Test.class.getDeclaredField(&quot;hi&quot;);\r\n\r\n        // getting &quot;signature&quot; field from Field\r\n        Field field = Field.class.getDeclaredField(&quot;signature&quot;);\r\n        field.setAccessible(true);\r\n        String signature = (String) field.get(hi);\r\n\r\n        System.out.println(signature);\r\n    }\r\n}\r\n```\r\n\r\nhowever, I am getting this exception:\r\n```java\r\nException in thread &quot;main&quot; java.lang.NoSuchFieldException: signature\r\n\tat java.base/java.lang.Class.getDeclaredField(Class.java:2663)\r\n\tat Main.main(Main.java:13)\r\n```","title":"Field exists but NoSuchFieldException","body":"<p>I have simple code where I try to get the signature of a field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Field;\nimport java.lang.reflect.Method;\n\npublic class Main {\n\n    static class Test {\n        int hi =  1;\n    }\n\n    public static void main(String[] args) throws NoSuchFieldException, NoSuchMethodException, IllegalAccessException {\n        Field hi = Test.class.getDeclaredField(&quot;hi&quot;);\n\n        // getting &quot;signature&quot; field from Field\n        Field field = Field.class.getDeclaredField(&quot;signature&quot;);\n        field.setAccessible(true);\n        String signature = (String) field.get(hi);\n\n        System.out.println(signature);\n    }\n}\n</code></pre>\n<p>however, I am getting this exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NoSuchFieldException: signature\n    at java.base/java.lang.Class.getDeclaredField(Class.java:2663)\n    at Main.main(Main.java:13)\n</code></pre>\n"},{"tags":["java","xml","xml-parsing","woodstox"],"answers":[{"comments":[{"owner":{"account_id":56888,"reputation":11998,"user_id":170383,"accept_rate":71,"display_name":"David R Tribble"},"score":1,"creation_date":1357937867,"post_id":14284917,"comment_id":19838933,"body_markdown":"Don&#39;t forget the other XML character entities: `&amp;lt;` `&amp;gt;` `&amp;apos;` `&amp;quot;`.","body":"Don&#39;t forget the other XML character entities: <code>&amp;lt;</code> <code>&amp;gt;</code> <code>&amp;apos;</code> <code>&amp;quot;</code>."},{"owner":{"account_id":2553856,"reputation":121,"user_id":2216296,"display_name":"mikaelovi"},"score":0,"creation_date":1593216357,"post_id":14284917,"comment_id":110711516,"body_markdown":"CDATA came to my rescue. Thanks for this solution","body":"CDATA came to my rescue. Thanks for this solution"}],"tags":[],"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1357934803,"creation_date":1357930866,"answer_id":14284917,"question_id":14284307,"body_markdown":"`&amp;` is an invalid character and should appear escaped as `&amp;amp;` or enclosed in a CDATA section.\r\n\r\n    &lt;teams&gt;\r\n        &lt;team id=&quot;team1&quot;&gt;Mom &amp;amp; Dad&lt;/team&gt;\r\n        &lt;team id=&quot;team2&quot;&gt;&lt;![CDATA[Son &amp; Daughter]]&gt;&lt;/team&gt;\r\n    &lt;/teams&gt;\r\n\r\nFrom:  http://www.w3.org/TR/REC-xml/#syntax\r\n\r\n&gt; The ampersand character (&amp;) and the left angle bracket (&lt;) MUST NOT\r\n&gt; appear in their literal form, except when used as markup delimiters,\r\n&gt; or within a comment, a processing instruction, or a CDATA section. If\r\n&gt; they are needed elsewhere, they MUST be escaped using either numeric\r\n&gt; character references or the strings &quot; `&amp;amp;` &quot; and &quot; `&amp;lt;` &quot;\r\n&gt; respectively.","title":"Error Parsing &#39;&amp;&#39; Character Using Woodstox Parser","body":"<p><code>&amp;</code> is an invalid character and should appear escaped as <code>&amp;amp;</code> or enclosed in a CDATA section.</p>\n\n<pre><code>&lt;teams&gt;\n    &lt;team id=\"team1\"&gt;Mom &amp;amp; Dad&lt;/team&gt;\n    &lt;team id=\"team2\"&gt;&lt;![CDATA[Son &amp; Daughter]]&gt;&lt;/team&gt;\n&lt;/teams&gt;\n</code></pre>\n\n<p>From:  <a href=\"http://www.w3.org/TR/REC-xml/#syntax\" rel=\"noreferrer\">http://www.w3.org/TR/REC-xml/#syntax</a></p>\n\n<blockquote>\n  <p>The ampersand character (&amp;) and the left angle bracket (&lt;) MUST NOT\n  appear in their literal form, except when used as markup delimiters,\n  or within a comment, a processing instruction, or a CDATA section. If\n  they are needed elsewhere, they MUST be escaped using either numeric\n  character references or the strings \" <code>&amp;amp;</code> \" and \" <code>&amp;lt;</code> \"\n  respectively.</p>\n</blockquote>\n"}],"owner":{"account_id":2092433,"reputation":1135,"user_id":1861929,"accept_rate":54,"display_name":"Hubert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10725,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":14284917,"answer_count":1,"score":4,"last_activity_date":1693872432,"creation_date":1357928469,"question_id":14284307,"body_markdown":"Java: 1.6&lt;br/&gt;\r\nWoodstox: 4.1.4\r\n\r\nI&#39;m currently trying to make Woodstox xml parser my friend. But beginning is really hard :)\r\nI have a small? problem when parsing xml like this one:\r\n\r\n\r\n    &lt;teams&gt;\r\n    \t&lt;team id=&quot;team1&quot;&gt;Mom &amp; Dad&lt;/team&gt;\r\n    \t&lt;team id=&quot;team2&quot;&gt;Son &amp; Daughter&lt;/team&gt;\r\n    &lt;/teams&gt;\r\n\r\nIt is simple, but unfortunately I&#39;m getting this exception:\r\n\r\n    Exception in thread &quot;main&quot; [com.ctc.wstx.exc.WstxLazyException] com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character &#39; &#39; (code 32) (missing name?)\r\n     at [row,col {unknown-source}]: [2,24]\r\n\r\nThis happens because of character &amp;. \r\n\r\nIs it possible to read xml successfully without getting this exception?\r\n","title":"Error Parsing &#39;&amp;&#39; Character Using Woodstox Parser","body":"<p>Java: 1.6<br/>\nWoodstox: 4.1.4</p>\n<p>I'm currently trying to make Woodstox xml parser my friend. But beginning is really hard :)\nI have a small? problem when parsing xml like this one:</p>\n<pre><code>&lt;teams&gt;\n    &lt;team id=&quot;team1&quot;&gt;Mom &amp; Dad&lt;/team&gt;\n    &lt;team id=&quot;team2&quot;&gt;Son &amp; Daughter&lt;/team&gt;\n&lt;/teams&gt;\n</code></pre>\n<p>It is simple, but unfortunately I'm getting this exception:</p>\n<pre><code>Exception in thread &quot;main&quot; [com.ctc.wstx.exc.WstxLazyException] com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character ' ' (code 32) (missing name?)\n at [row,col {unknown-source}]: [2,24]\n</code></pre>\n<p>This happens because of character &amp;.</p>\n<p>Is it possible to read xml successfully without getting this exception?</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1693860397,"post_id":77040468,"comment_id":135812758,"body_markdown":"Do you mean the XML parser is not escaping it correctly by itself? Please share a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"Do you mean the XML parser is not escaping it correctly by itself? Please share a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1693860644,"post_id":77040468,"comment_id":135812800,"body_markdown":"https://stackoverflow.com/questions/2265966/xml-carriage-return-encoding#:~:text=To%20insert%20a%20CR%20into,of%20the%20XML%201.0%20specification.","body":"<a href=\"https://stackoverflow.com/questions/2265966/xml-carriage-return-encoding#:~:text=To%20insert%20a%20CR%20into,of%20the%20XML%201.0%20specification\" title=\"xml carriage return encoding%23%3a%7e%3atext%3dTo%2520insert%2520a%2520CR%2520into%2cof%2520the%2520XML%25201.0%2520specification\">stackoverflow.com/questions/2265966/&hellip;</a>."},{"owner":{"account_id":1528963,"reputation":6211,"user_id":1426683,"display_name":"ShortFuse"},"score":0,"creation_date":1693862658,"post_id":77040468,"comment_id":135813035,"body_markdown":"@aled I added the sample. It doesn&#39;t escape `\\r`. And I found no way to do so myself.","body":"@aled I added the sample. It doesn&#39;t escape <code>\\r</code>. And I found no way to do so myself."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1693863024,"post_id":77040468,"comment_id":135813084,"body_markdown":"Maybe https://stackoverflow.com/questions/29675481/xmlstreamwriter-java-8-writecharacters-xd can be related.","body":"Maybe <a href=\"https://stackoverflow.com/questions/29675481/xmlstreamwriter-java-8-writecharacters-xd\" title=\"xmlstreamwriter java 8 writecharacters xd\">stackoverflow.com/questions/29675481/&hellip;</a> can be related."},{"owner":{"account_id":1528963,"reputation":6211,"user_id":1426683,"display_name":"ShortFuse"},"score":0,"creation_date":1693863275,"post_id":77040468,"comment_id":135813115,"body_markdown":"@OldProgrammer Yes `&amp;#13`; and `&amp;#xD`; are the same (one decimal, one hex). But the question is how do I do that with Java?","body":"@OldProgrammer Yes <code>&amp;#13</code>; and <code>&amp;#xD</code>; are the same (one decimal, one hex). But the question is how do I do that with Java?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1693863689,"post_id":77040468,"comment_id":135813159,"body_markdown":"@ShortFuse Your code already produce the value 0x0D inside the attribute `attr-with-cr`, what is the problem you have?","body":"@ShortFuse Your code already produce the value 0x0D inside the attribute <code>attr-with-cr</code>, what is the problem you have?"},{"owner":{"account_id":1528963,"reputation":6211,"user_id":1426683,"display_name":"ShortFuse"},"score":0,"creation_date":1693863906,"post_id":77040468,"comment_id":135813182,"body_markdown":"@Progman Java (`XMLStreamReader`) won&#39;t parse anything with `0x0D`. It&#39;ll throw an error about an invalid character. It **has to** be escaped. I don&#39;t know why it would write something it can&#39;t read, but here we are.","body":"@Progman Java (<code>XMLStreamReader</code>) won&#39;t parse anything with <code>0x0D</code>. It&#39;ll throw an error about an invalid character. It <b>has to</b> be escaped. I don&#39;t know why it would write something it can&#39;t read, but here we are."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1693866833,"post_id":77040468,"comment_id":135813449,"body_markdown":"Due to [attribute value normalization](https://www.w3.org/TR/xml/#AVNormalize) in XML, any line break characters in an attribute value will be replaced with ASCII spaces eventually anyway.","body":"Due to <a href=\"https://www.w3.org/TR/xml/#AVNormalize\" rel=\"nofollow noreferrer\">attribute value normalization</a> in XML, any line break characters in an attribute value will be replaced with ASCII spaces eventually anyway."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1693867544,"post_id":77040468,"comment_id":135813503,"body_markdown":"I was able to confirm @VGR comment with libxml2 related implementations (xmllint and lxml in python). Even manually writing a new line, it&#39;s converted to space when reading.","body":"I was able to confirm @VGR comment with libxml2 related implementations (xmllint and lxml in python). Even manually writing a new line, it&#39;s converted to space when reading."},{"owner":{"account_id":1528963,"reputation":6211,"user_id":1426683,"display_name":"ShortFuse"},"score":0,"creation_date":1693868760,"post_id":77040468,"comment_id":135813592,"body_markdown":"It&#39;s interesting Java lets me write 0xD, which means I can go in and do a second pass and change it. That *works* and if I state XML `1.1` then `XMLStreamReader` won&#39;t complain about a `&amp;#xD;` sequence. I think that&#39;s compatible?","body":"It&#39;s interesting Java lets me write 0xD, which means I can go in and do a second pass and change it. That <i>works</i> and if I state XML <code>1.1</code> then <code>XMLStreamReader</code> won&#39;t complain about a <code>&amp;#xD;</code> sequence. I think that&#39;s compatible?"},{"owner":{"account_id":1528963,"reputation":6211,"user_id":1426683,"display_name":"ShortFuse"},"score":0,"creation_date":1693872437,"post_id":77040468,"comment_id":135813840,"body_markdown":"Well, the question was improperly closed, but thanks anyway guys. I think I have it figured though by doing a second pass and using XML 1.1 in the header.","body":"Well, the question was improperly closed, but thanks anyway guys. I think I have it figured though by doing a second pass and using XML 1.1 in the header."}],"owner":{"account_id":1528963,"reputation":6211,"user_id":1426683,"display_name":"ShortFuse"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693871170,"answer_count":0,"score":0,"last_activity_date":1693871651,"creation_date":1693859582,"question_id":77040468,"body_markdown":"I need to serialize some data into XML and one piece of data is a string that has a carriage return (0x0D). I can&#39;t find a way to write this attribute with escaped syntax `&amp;#xD;` syntax. When calling the `writeAttribute` method of `XMLStreamWriter`, it&#39;ll mangle the output as `&amp;amp;#xd;` which is incorrect.\r\n\r\n\r\n```java\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport javax.xml.stream.XMLOutputFactory;\r\nimport javax.xml.stream.XMLStreamException;\r\nimport javax.xml.stream.XMLStreamWriter;\r\nimport javax.xml.stream.XMLStreamException;\r\nimport java.io.OutputStreamWriter;\r\n\r\npublic class MyClass {\r\n    public static void main(String args[]) throws IOException, XMLStreamException {\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        XMLOutputFactory xmlFactory = XMLOutputFactory.newInstance();\r\n        OutputStreamWriter osw = new OutputStreamWriter(outputStream, &quot;utf-8&quot;);\r\n        XMLStreamWriter writer = xmlFactory.createXMLStreamWriter(osw);\r\n        writer.writeStartDocument();\r\n        writer.writeStartElement(&quot;root&quot;);\r\n        writer.writeAttribute(&quot;attr-with-cr&quot;, &quot;foo\\r&quot;);\r\n        writer.writeAttribute(&quot;attr-escaped-cr&quot;, &quot;foo&amp;#x0d;&quot;);\r\n        writer.writeEndElement();\r\n        writer.writeEndDocument();\r\n        writer.flush();\r\n        writer.close();\r\n        String s = outputStream.toString(&quot;UTF-8&quot;);\r\n        System.out.println(s);\r\n    }\r\n}\r\n```\r\n\r\n--------------\r\n\r\nEdit: XML 1.1 is okay, since the serializer can deserialize back. I kinda got somewhere with: \r\n\r\n```java\r\nxmlWriter.writeStartDocument(&quot;1.1&quot;);\r\n// snip\r\ns = s.replaceAll(&quot;\\r&quot;, &quot;&amp;#xD;&quot;);\r\n```\r\n\r\nIt seems okay, but I&#39;m not entirely sure the repercussions.\r\n\r\nEdit2:\r\n\r\n-----------\r\n\r\nWhy this isn&#39;t a duplicate of:\r\n\r\n&gt; https://stackoverflow.com/questions/29675481/xmlstreamwriter-java-8-writecharacters-xd\r\n\r\nThis is for writing characters (inner node text), not attributes. Not applicable here.\r\n\r\n\r\n&gt; https://stackoverflow.com/questions/2265966/xml-carriage-return-encoding\r\n\r\nThe question asks what to do. The answer is the insert an escaped carriage return, which is the point of this question. *HOW* do you do this in Java?","title":"In Java, how can I write an escaped Carriage Return in an XML Attribute?","body":"<p>I need to serialize some data into XML and one piece of data is a string that has a carriage return (0x0D). I can't find a way to write this attribute with escaped syntax <code>&amp;#xD;</code> syntax. When calling the <code>writeAttribute</code> method of <code>XMLStreamWriter</code>, it'll mangle the output as <code>&amp;amp;#xd;</code> which is incorrect.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport javax.xml.stream.XMLOutputFactory;\nimport javax.xml.stream.XMLStreamException;\nimport javax.xml.stream.XMLStreamWriter;\nimport javax.xml.stream.XMLStreamException;\nimport java.io.OutputStreamWriter;\n\npublic class MyClass {\n    public static void main(String args[]) throws IOException, XMLStreamException {\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        XMLOutputFactory xmlFactory = XMLOutputFactory.newInstance();\n        OutputStreamWriter osw = new OutputStreamWriter(outputStream, &quot;utf-8&quot;);\n        XMLStreamWriter writer = xmlFactory.createXMLStreamWriter(osw);\n        writer.writeStartDocument();\n        writer.writeStartElement(&quot;root&quot;);\n        writer.writeAttribute(&quot;attr-with-cr&quot;, &quot;foo\\r&quot;);\n        writer.writeAttribute(&quot;attr-escaped-cr&quot;, &quot;foo&amp;#x0d;&quot;);\n        writer.writeEndElement();\n        writer.writeEndDocument();\n        writer.flush();\n        writer.close();\n        String s = outputStream.toString(&quot;UTF-8&quot;);\n        System.out.println(s);\n    }\n}\n</code></pre>\n<hr />\n<p>Edit: XML 1.1 is okay, since the serializer can deserialize back. I kinda got somewhere with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>xmlWriter.writeStartDocument(&quot;1.1&quot;);\n// snip\ns = s.replaceAll(&quot;\\r&quot;, &quot;&amp;#xD;&quot;);\n</code></pre>\n<p>It seems okay, but I'm not entirely sure the repercussions.</p>\n<p>Edit2:</p>\n<hr />\n<p>Why this isn't a duplicate of:</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/29675481/xmlstreamwriter-java-8-writecharacters-xd\">XMLStreamWriter - Java 8 - writeCharacters - &amp;#xd;</a></p>\n</blockquote>\n<p>This is for writing characters (inner node text), not attributes. Not applicable here.</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/2265966/xml-carriage-return-encoding\">XML Carriage return encoding</a></p>\n</blockquote>\n<p>The question asks what to do. The answer is the insert an escaped carriage return, which is the point of this question. <em>HOW</em> do you do this in Java?</p>\n"},{"tags":["java","liquibase","spring-boot-test"],"comments":[{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1613561461,"post_id":66239263,"comment_id":117110592,"body_markdown":"are you using jpa? Isn&#39;t the jpa creating automatically the fields?","body":"are you using jpa? Isn&#39;t the jpa creating automatically the fields?"},{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1613561942,"post_id":66239263,"comment_id":117110795,"body_markdown":"This is forbidden.  spring.jpa.hibernate.ddl-auto=none. This is specifically done so that spring data does not affect the operation of liquibase.","body":"This is forbidden.  spring.jpa.hibernate.ddl-auto=none. This is specifically done so that spring data does not affect the operation of liquibase."}],"answers":[{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613626196,"creation_date":1613567616,"answer_id":66242645,"question_id":66239263,"body_markdown":"At the moment, I did this\r\n\r\n```java\r\n@Slf4j\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic abstract class AbstractTestcontainers extends ContainerConfig{\r\n\r\n    @DynamicPropertySource\r\n    private static void dynamicProperties(DynamicPropertyRegistry registry) {\r\n        \r\n        registry.add(&quot;spring.datasource.url&quot;, postgreSQLContainer::getJdbcUrl);\r\n        registry.add(&quot;spring.datasource.username&quot;, postgreSQLContainer::getUsername);\r\n        registry.add(&quot;spring.datasource.password&quot;, postgreSQLContainer::getPassword);\r\n    }\r\n}\r\n```\r\n\r\nI had to give up on:\r\n\r\n@DirtiesContext(classMode = ClassMode.BEFORE_CLASS)\r\n\r\n```java\r\npublic abstract class ContainerConfig {\r\n\r\n    protected static final PostgreSQLContainer postgreSQLContainer;\r\n\r\n    static {\r\n\r\n        DockerImageName postgres = DockerImageName.parse(&quot;postgres:11.7&quot;);\r\n\r\n        postgreSQLContainer = (PostgreSQLContainer) new PostgreSQLContainer(postgres)\r\n                .withDatabaseName(&quot;test&quot;)\r\n                .withPassword(&quot;root&quot;)\r\n                .withUsername(&quot;root&quot;)\r\n                .withReuse(true);\r\n\r\n        postgreSQLContainer.start();\r\n    }\r\n\r\n}\r\n```\r\nI had to leave over some classes \r\n\r\n```java\r\n@Sql(executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD, scripts = &quot;classpath:createUsers.sql&quot;)\r\npublic class SomeClassRestTest extends AbstractTestcontainers {\r\n```\r\n\r\nto clear the tables and fill them with new data.\r\n\r\n**Liquibase** configuration is run once, I at least didn&#39;t see any more conflicts. Since we have made one class that raises the context and all the other integration tests are performed using this context. Of course, the test classes themselves are incorrectly made, there it was necessary, using the **@AfterClass** or **@AfterMethod** annotations, to clear data from the databases. But nevertheless, now the execution of about 300 tests has been reduced by about 4 times.\r\n\r\nIf there are other solutions to this problem, please write.","title":"liquibase.exception.MigrationFailedException: Migration failed for change set - Error during database initialization for all integration tests","body":"<p>At the moment, I did this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic abstract class AbstractTestcontainers extends ContainerConfig{\n\n    @DynamicPropertySource\n    private static void dynamicProperties(DynamicPropertyRegistry registry) {\n        \n        registry.add(&quot;spring.datasource.url&quot;, postgreSQLContainer::getJdbcUrl);\n        registry.add(&quot;spring.datasource.username&quot;, postgreSQLContainer::getUsername);\n        registry.add(&quot;spring.datasource.password&quot;, postgreSQLContainer::getPassword);\n    }\n}\n</code></pre>\n<p>I had to give up on:</p>\n<p>@DirtiesContext(classMode = ClassMode.BEFORE_CLASS)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class ContainerConfig {\n\n    protected static final PostgreSQLContainer postgreSQLContainer;\n\n    static {\n\n        DockerImageName postgres = DockerImageName.parse(&quot;postgres:11.7&quot;);\n\n        postgreSQLContainer = (PostgreSQLContainer) new PostgreSQLContainer(postgres)\n                .withDatabaseName(&quot;test&quot;)\n                .withPassword(&quot;root&quot;)\n                .withUsername(&quot;root&quot;)\n                .withReuse(true);\n\n        postgreSQLContainer.start();\n    }\n\n}\n</code></pre>\n<p>I had to leave over some classes</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Sql(executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD, scripts = &quot;classpath:createUsers.sql&quot;)\npublic class SomeClassRestTest extends AbstractTestcontainers {\n</code></pre>\n<p>to clear the tables and fill them with new data.</p>\n<p><strong>Liquibase</strong> configuration is run once, I at least didn't see any more conflicts. Since we have made one class that raises the context and all the other integration tests are performed using this context. Of course, the test classes themselves are incorrectly made, there it was necessary, using the <strong>@AfterClass</strong> or <strong>@AfterMethod</strong> annotations, to clear data from the databases. But nevertheless, now the execution of about 300 tests has been reduced by about 4 times.</p>\n<p>If there are other solutions to this problem, please write.</p>\n"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16416,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693868670,"creation_date":1613554704,"question_id":66239263,"body_markdown":"I have a lot of integration tests and I have set up liquibase so that the database can be initialized. But each test class initializes a new initialization. In this case, duplicate data errors are unavoidable. I found a few recommendations to avoid this, but ran into a problem.\r\n\r\n- changelog-1.xml\r\n\r\n```xml\r\n&lt;databaseChangeLog\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n  xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd&quot;&gt;\r\n\r\n  &lt;changeSet author=&quot;n&quot; context=&quot;test&quot; id=&quot;1&quot; runOnChange=&quot;false&quot;&gt;\r\n    &lt;sqlFile encoding=&quot;utf8&quot; endDelimiter=&quot;\\nGO&quot; path=&quot;classpath:dump.sql&quot; relativeToChangelogFile=&quot;false&quot;/&gt;\r\n  &lt;/changeSet&gt;\r\n&lt;/databaseChangeLog&gt;\r\n```\r\n\r\n- master\r\n\r\n```xml\r\n&lt;databaseChangeLog\r\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\r\n      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd&quot;&gt;\r\n\r\n    &lt;include file=&quot;xml/changelog-1.xml&quot; relativeToChangelogFile=&quot;true&quot;/&gt;\r\n\r\n\r\n&lt;/databaseChangeLog&gt;\r\n\r\n```\r\n\r\nI have also written a configuration class .\r\n\r\nIn the package :\r\n\r\n- liquibase.ext\r\n\r\n```java\r\npublic class CleanUpDatabaseTestExecutionListener extends AbstractTestExecutionListener {\r\n\r\n    @Autowired\r\n    SpringLiquibase liquibase;\r\n\r\n    @Override\r\n    public int getOrder() {\r\n        return Ordered.HIGHEST_PRECEDENCE;\r\n    }\r\n\r\n    @Override\r\n    public void afterTestClass(TestContext testContext) throws Exception {\r\n        testContext.getApplicationContext()\r\n                .getAutowireCapableBeanFactory()\r\n                .autowireBean(this);\r\n        liquibase.afterPropertiesSet();\r\n    }\r\n}\r\n```\r\n- context\r\n\r\n```java\r\n@Slf4j\r\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n@TestExecutionListeners(listeners = {\r\n        DependencyInjectionTestExecutionListener.class,\r\n        TransactionalTestExecutionListener.class,\r\n        CleanUpDatabaseTestExecutionListener.class,\r\n})\r\npublic abstract class AbstractTestcontainers extends ContainerConfig {\r\n```\r\n\r\n&gt; I get an error: liquibase.exception.MigrationFailedException:\r\n&gt; Migration failed for change set\r\n&gt; db/changelog/test/liquibase-initdb.xml::1::n:\r\n&gt;      Reason: liquibase.exception.DatabaseException: ERROR: type &quot;calc_types&quot; already exists [Failed SQL: (0) --\r\n&gt; -- PostgreSQL database dump\r\n&gt; --\r\n\r\nspring.liquibase.drop-first=true - It doesn&#39;t work.\r\n\r\n\r\nMaybe who know how can i correct this ?","title":"liquibase.exception.MigrationFailedException: Migration failed for change set - Error during database initialization for all integration tests","body":"<p>I have a lot of integration tests and I have set up liquibase so that the database can be initialized. But each test class initializes a new initialization. In this case, duplicate data errors are unavoidable. I found a few recommendations to avoid this, but ran into a problem.</p>\n<ul>\n<li>changelog-1.xml</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;databaseChangeLog\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n  xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd&quot;&gt;\n\n  &lt;changeSet author=&quot;n&quot; context=&quot;test&quot; id=&quot;1&quot; runOnChange=&quot;false&quot;&gt;\n    &lt;sqlFile encoding=&quot;utf8&quot; endDelimiter=&quot;\\nGO&quot; path=&quot;classpath:dump.sql&quot; relativeToChangelogFile=&quot;false&quot;/&gt;\n  &lt;/changeSet&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<ul>\n<li>master</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;databaseChangeLog\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\n      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd&quot;&gt;\n\n    &lt;include file=&quot;xml/changelog-1.xml&quot; relativeToChangelogFile=&quot;true&quot;/&gt;\n\n\n&lt;/databaseChangeLog&gt;\n\n</code></pre>\n<p>I have also written a configuration class .</p>\n<p>In the package :</p>\n<ul>\n<li>liquibase.ext</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class CleanUpDatabaseTestExecutionListener extends AbstractTestExecutionListener {\n\n    @Autowired\n    SpringLiquibase liquibase;\n\n    @Override\n    public int getOrder() {\n        return Ordered.HIGHEST_PRECEDENCE;\n    }\n\n    @Override\n    public void afterTestClass(TestContext testContext) throws Exception {\n        testContext.getApplicationContext()\n                .getAutowireCapableBeanFactory()\n                .autowireBean(this);\n        liquibase.afterPropertiesSet();\n    }\n}\n</code></pre>\n<ul>\n<li>context</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n@TestExecutionListeners(listeners = {\n        DependencyInjectionTestExecutionListener.class,\n        TransactionalTestExecutionListener.class,\n        CleanUpDatabaseTestExecutionListener.class,\n})\npublic abstract class AbstractTestcontainers extends ContainerConfig {\n</code></pre>\n<blockquote>\n<h2>I get an error: liquibase.exception.MigrationFailedException:\nMigration failed for change set\ndb/changelog/test/liquibase-initdb.xml::1::n:\nReason: liquibase.exception.DatabaseException: ERROR: type &quot;calc_types&quot; already exists [Failed SQL: (0) --\n-- PostgreSQL database dump</h2>\n</blockquote>\n<p>spring.liquibase.drop-first=true - It doesn't work.</p>\n<p>Maybe who know how can i correct this ?</p>\n"},{"tags":["java","apache","http-status-code-404","cxf"],"answers":[{"tags":[],"owner":{"account_id":231405,"reputation":1568,"user_id":495623,"accept_rate":45,"display_name":"BenMansourNizar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376904982,"creation_date":1376904982,"answer_id":18310647,"question_id":18310403,"body_markdown":"found it and i hope that it helps someone\r\njust replace the localhost with the ip address and evreything will be good\r\nhave a look at a similar post\r\nhttp://cxf.547215.n5.nabble.com/404-from-web-service-client-td5710925.html","title":"How can i connect to Apache Cxf web service hosted on Apache Tomcat(Ws security enabled )?","body":"<p>found it and i hope that it helps someone\njust replace the localhost with the ip address and evreything will be good\nhave a look at a similar post\n<a href=\"http://cxf.547215.n5.nabble.com/404-from-web-service-client-td5710925.html\" rel=\"nofollow\">http://cxf.547215.n5.nabble.com/404-from-web-service-client-td5710925.html</a></p>\n"},{"tags":[],"owner":{"account_id":3648325,"reputation":1,"user_id":3041030,"display_name":"nina71"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385545299,"creation_date":1385543623,"answer_id":20238142,"question_id":18310403,"body_markdown":"The solution is the following: update your cxf-beans.xml using:\r\n\r\n    &lt;cxf:bus&gt;\r\n            &lt;cxf:inInterceptors&gt;\r\n                &lt;ref bean=&quot;inIntercTest&quot;/&gt;\r\n            &lt;/cxf:inInterceptors&gt;\r\n            &lt;cxf:outInterceptors&gt;            \r\n                &lt;ref bean=&quot;outIntercTest&quot;/&gt;        \r\n            &lt;/cxf:outInterceptors&gt;\r\n        &lt;/cxf:bus&gt;\r\ninstead of:\r\n\r\n    &lt;cxf:bus&gt;\r\n            &lt;cxf:features&gt;\r\n                &lt;cxf:logging /&gt;\r\n                &lt;wsa:addressing /&gt;\r\n            &lt;/cxf:features&gt;\r\n        &lt;/cxf:bus&gt;\r\n\r\n\r\n","title":"How can i connect to Apache Cxf web service hosted on Apache Tomcat(Ws security enabled )?","body":"<p>The solution is the following: update your cxf-beans.xml using:</p>\n\n<pre><code>&lt;cxf:bus&gt;\n        &lt;cxf:inInterceptors&gt;\n            &lt;ref bean=\"inIntercTest\"/&gt;\n        &lt;/cxf:inInterceptors&gt;\n        &lt;cxf:outInterceptors&gt;            \n            &lt;ref bean=\"outIntercTest\"/&gt;        \n        &lt;/cxf:outInterceptors&gt;\n    &lt;/cxf:bus&gt;\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>&lt;cxf:bus&gt;\n        &lt;cxf:features&gt;\n            &lt;cxf:logging /&gt;\n            &lt;wsa:addressing /&gt;\n        &lt;/cxf:features&gt;\n    &lt;/cxf:bus&gt;\n</code></pre>\n"}],"owner":{"account_id":231405,"reputation":1568,"user_id":495623,"accept_rate":45,"display_name":"BenMansourNizar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693868670,"creation_date":1376904185,"question_id":18310403,"body_markdown":"i&#39;m using the wssec_sign_enc example in ws security samples in apacheCxf jar deployed under apache tomcat 7.0.29.\r\nMy web.xml is :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n      &lt;display-name&gt;TestingWebWsSecurity&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n    \r\n      &lt;/welcome-file-list&gt;\r\n      &lt;servlet&gt;\r\n        &lt;description&gt;Apache CXF Endpoint&lt;/description&gt;\r\n        &lt;display-name&gt;cxf&lt;/display-name&gt;\r\n        &lt;servlet-name&gt;cxf&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;cxf&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n      &lt;session-config&gt;\r\n        &lt;session-timeout&gt;60&lt;/session-timeout&gt;\r\n      &lt;/session-config&gt;\r\n      &lt;context-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;WEB-INF/cxf-beans.xml&lt;/param-value&gt;\r\n      &lt;/context-param&gt;\r\n      &lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n       &lt;/web-app&gt;\r\n\r\nmy cxf-beans.xml is\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jaxws=&quot;http://cxf.apache.org/jaxws&quot;\r\n    \txmlns:cxf=&quot;http://cxf.apache.org/core&quot; xmlns:wsa=&quot;http://cxf.apache.org/ws/addressing&quot;\r\n    \txmlns:http=&quot;http://cxf.apache.org/transports/http/configuration&quot;\r\n    \txmlns:wsrm-policy=&quot;http://schemas.xmlsoap.org/ws/2005/02/rm/policy&quot;\r\n    \txmlns:wsrm-mgr=&quot;http://cxf.apache.org/ws/rm/manager&quot;\r\n    \txsi:schemaLocation=&quot;        http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd        http://cxf.apache.org/transports/http/configuration http://cxf.apache.org/schemas/configuration/http-conf.xsd        http://schemas.xmlsoap.org/ws/2005/02/rm/policy http://schemas.xmlsoap.org/ws/2005/02/rm/wsrm-policy.xsd        http://cxf.apache.org/ws/rm/manager http://cxf.apache.org/schemas/configuration/wsrm-manager.xsd        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd     http://cxf.apache.org/jaxws     http://cxf.apache.org/schemas/jaxws.xsd &quot;&gt;\r\n    \t&lt;import resource=&quot;classpath:META-INF/cxf/cxf.xml&quot; /&gt;\r\n    \t&lt;import resource=&quot;classpath:META-INF/cxf/cxf-extension-soap.xml&quot; /&gt;\r\n    \t&lt;import resource=&quot;classpath:META-INF/cxf/cxf-servlet.xml&quot; /&gt;\r\n    \t&lt;import resource=&quot;classpath:META-INF/cxf/cxf.xml&quot; /&gt;\r\n    \t&lt;import resource=&quot;classpath*:META-INF/cxf/cxf-extension-*.xml&quot; /&gt;\r\n    \r\n    \r\n    \t&lt;cxf:bus&gt;\r\n    \t\t&lt;cxf:features&gt;\r\n    \t\t\t&lt;cxf:logging /&gt;\r\n    \t\t\t&lt;wsa:addressing /&gt;\r\n    \t\t&lt;/cxf:features&gt;\r\n    \t&lt;/cxf:bus&gt;\r\n    \r\n    \t&lt;http:conduit\r\n    \t\tname=&quot;{http://cxf.apache.org/hello_world_soap_http}GreeterPort.http-conduit&quot;&gt;\r\n    \t\t&lt;http:client DecoupledEndpoint=&quot;http://localhost:12000/decoupled_endpoint&quot; /&gt;\r\n    \t&lt;/http:conduit&gt;\r\n    \r\n    \t&lt;jaxws:endpoint xmlns:tns=&quot;http://cxf.apache.org/hello_world_soap_http&quot;\r\n    \t\tid=&quot;greeter&quot; implementor=&quot;org.apache.cxf.hello_world_soap_http.GreeterImpl&quot;\r\n    \t\twsdlLocation=&quot;wsdl/hello_world_wssec.wsdl&quot; endpointName=&quot;tns:GreeterPort&quot;\r\n    \t\tserviceName=&quot;tns:GreeterService&quot; address=&quot;/GreeterPort&quot;&gt;\r\n    \t\t&lt;jaxws:features&gt;\r\n    \t\t\t&lt;bean class=&quot;org.apache.cxf.feature.LoggingFeature&quot; /&gt;\r\n    \t\t&lt;/jaxws:features&gt;\r\n    \t\t&lt;jaxws:outInterceptors&gt;\r\n    \t\t\t&lt;bean class=&quot;org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor&quot;&gt;\r\n    \t\t\t\t&lt;constructor-arg&gt;\r\n    \t\t\t\t\t&lt;map&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;action&quot; value=&quot;UsernameToken Timestamp Signature Encrypt&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;passwordType&quot; value=&quot;PasswordText&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;passwordCallbackClass&quot; value=&quot;demo.wssec.server.UTPasswordCallback&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;user&quot; value=&quot;Alice&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;signatureUser&quot; value=&quot;serverx509v1&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;encryptionUser&quot; value=&quot;clientx509v1&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;encryptionPropFile&quot; value=&quot;etc/Server_SignVerf.properties&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;encryptionKeyIdentifier&quot; value=&quot;IssuerSerial&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;encryptionParts&quot;\r\n    \t\t\t\t\t\t\tvalue=&quot;{Element}{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd}Timestamp;{Content}{http://schemas.xmlsoap.org/soap/envelope/}Body&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;signaturePropFile&quot; value=&quot;etc/Server_Decrypt.properties&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;signatureParts&quot;\r\n    \t\t\t\t\t\t\tvalue=&quot;{Element}{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd}Timestamp;{Element}{http://schemas.xmlsoap.org/soap/envelope/}Body&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;signatureKeyIdentifier&quot; value=&quot;DirectReference&quot; /&gt;\r\n    \r\n    \t\t\t\t\t\t&lt;entry key=&quot;encryptionKeyTransportAlgorithm&quot; value=&quot;http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;signatureAlgorithm&quot; value=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\r\n    \t\t\t\t\t&lt;/map&gt;\r\n    \t\t\t\t&lt;/constructor-arg&gt;\r\n    \t\t\t&lt;/bean&gt;\r\n    \t\t&lt;/jaxws:outInterceptors&gt;\r\n    \t\t&lt;jaxws:inInterceptors&gt;\r\n    \t\t\t&lt;bean class=&quot;org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor&quot;&gt;\r\n    \t\t\t\t&lt;constructor-arg&gt;\r\n    \t\t\t\t\t&lt;map&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;action&quot; value=&quot;UsernameToken Timestamp Signature Encrypt&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;passwordType&quot; value=&quot;PasswordDigest&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;passwordCallbackClass&quot; value=&quot;demo.wssec.server.UTPasswordCallback&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;!-- &lt;entry key=&quot;user&quot; value=&quot;server&quot; /&gt; --&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;decryptionPropFile&quot; value=&quot;etc/Server_Decrypt.properties&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;encryptionKeyIdentifier&quot; value=&quot;IssuerSerial&quot; /&gt;\r\n    \r\n    \t\t\t\t\t\t&lt;entry key=&quot;signaturePropFile&quot; value=&quot;etc/Server_SignVerf.properties&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;signatureKeyIdentifier&quot; value=&quot;DirectReference&quot; /&gt;\r\n    \r\n    \t\t\t\t\t\t&lt;entry key=&quot;encryptionKeyTransportAlgorithm&quot; value=&quot;http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;entry key=&quot;signatureAlgorithm&quot; value=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\r\n    \t\t\t\t\t&lt;/map&gt;\r\n    \t\t\t\t&lt;/constructor-arg&gt;\r\n    \t\t\t&lt;/bean&gt;\r\n    \t\t&lt;/jaxws:inInterceptors&gt;\r\n    \t&lt;/jaxws:endpoint&gt;\r\n    \r\n    &lt;/beans&gt;\r\nMy wsdl file is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;wsdl:definitions name=&quot;HelloWorld&quot; targetNamespace=&quot;http://cxf.apache.org/hello_world_soap_http&quot; \r\n        xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot; \r\n        xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; \r\n        xmlns:tns=&quot;http://cxf.apache.org/hello_world_soap_http&quot;\r\n        xmlns:x1=&quot;http://cxf.apache.org/hello_world_soap_http/types&quot;\r\n        xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; \r\n        xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n        &lt;wsdl:types&gt;\r\n            &lt;schema targetNamespace=&quot;http://cxf.apache.org/hello_world_soap_http/types&quot; \r\n                xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot;&gt;\r\n                &lt;element name=&quot;sayHi&quot;&gt;\r\n                    &lt;complexType/&gt;\r\n                &lt;/element&gt;\r\n                &lt;element name=&quot;sayHiResponse&quot;&gt;\r\n                    &lt;complexType&gt;\r\n                        &lt;sequence&gt;\r\n                            &lt;element name=&quot;responseType&quot; type=&quot;xsd:string&quot;/&gt;\r\n                        &lt;/sequence&gt;\r\n                    &lt;/complexType&gt;\r\n                &lt;/element&gt;\r\n                &lt;element name=&quot;greetMe&quot;&gt;\r\n                    &lt;complexType&gt;\r\n                        &lt;sequence&gt;\r\n                            &lt;element name=&quot;requestType&quot; type=&quot;xsd:string&quot;/&gt;\r\n                        &lt;/sequence&gt;\r\n                    &lt;/complexType&gt;\r\n                &lt;/element&gt;\r\n                &lt;element name=&quot;greetMeResponse&quot;&gt;\r\n                    &lt;complexType&gt;\r\n                        &lt;sequence&gt;\r\n                            &lt;element name=&quot;responseType&quot; type=&quot;xsd:string&quot;/&gt;\r\n                        &lt;/sequence&gt;\r\n                    &lt;/complexType&gt;\r\n                &lt;/element&gt;\r\n                &lt;element name=&quot;greetMeOneWay&quot;&gt;\r\n                    &lt;complexType&gt;\r\n                        &lt;sequence&gt;\r\n                            &lt;element name=&quot;requestType&quot; type=&quot;xsd:string&quot;/&gt;\r\n                        &lt;/sequence&gt;\r\n                    &lt;/complexType&gt;\r\n                &lt;/element&gt;\r\n            &lt;/schema&gt;\r\n        &lt;/wsdl:types&gt;\r\n    \r\n        &lt;wsdl:message name=&quot;sayHiRequest&quot;&gt;\r\n            &lt;wsdl:part element=&quot;x1:sayHi&quot; name=&quot;in&quot;/&gt;\r\n        &lt;/wsdl:message&gt;\r\n        &lt;wsdl:message name=&quot;sayHiResponse&quot;&gt;\r\n            &lt;wsdl:part element=&quot;x1:sayHiResponse&quot; name=&quot;out&quot;/&gt;\r\n        &lt;/wsdl:message&gt;\r\n        &lt;wsdl:message name=&quot;greetMeRequest&quot;&gt;\r\n            &lt;wsdl:part element=&quot;x1:greetMe&quot; name=&quot;in&quot;/&gt;\r\n        &lt;/wsdl:message&gt;\r\n        &lt;wsdl:message name=&quot;greetMeResponse&quot;&gt;\r\n            &lt;wsdl:part element=&quot;x1:greetMeResponse&quot; name=&quot;out&quot;/&gt;\r\n        &lt;/wsdl:message&gt;\r\n        &lt;wsdl:message name=&quot;greetMeOneWayRequest&quot;&gt;\r\n            &lt;wsdl:part element=&quot;x1:greetMeOneWay&quot; name=&quot;in&quot;/&gt;\r\n        &lt;/wsdl:message&gt;\r\n        \r\n        &lt;wsdl:portType name=&quot;Greeter&quot;&gt;\r\n            &lt;wsdl:operation name=&quot;sayHi&quot;&gt;\r\n                &lt;wsdl:input message=&quot;tns:sayHiRequest&quot; name=&quot;sayHiRequest&quot;/&gt;\r\n                &lt;wsdl:output message=&quot;tns:sayHiResponse&quot; name=&quot;sayHiResponse&quot;/&gt;\r\n            &lt;/wsdl:operation&gt;\r\n            \r\n            &lt;wsdl:operation name=&quot;greetMe&quot;&gt;\r\n                &lt;wsdl:input message=&quot;tns:greetMeRequest&quot; name=&quot;greetMeRequest&quot;/&gt;\r\n                &lt;wsdl:output message=&quot;tns:greetMeResponse&quot; name=&quot;greetMeResponse&quot;/&gt;\r\n            &lt;/wsdl:operation&gt;\r\n            \r\n            &lt;wsdl:operation name=&quot;greetMeOneWay&quot;&gt;\r\n                &lt;wsdl:input message=&quot;tns:greetMeOneWayRequest&quot; name=&quot;greetMeOneWayRequest&quot;/&gt;\r\n            &lt;/wsdl:operation&gt;\r\n    \r\n        &lt;/wsdl:portType&gt;\r\n    \r\n        &lt;wsdl:binding name=&quot;Greeter_SOAPBinding&quot; type=&quot;tns:Greeter&quot;&gt;\r\n            &lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n            \r\n            &lt;wsdl:operation name=&quot;sayHi&quot;&gt;\r\n                &lt;soap:operation soapAction=&quot;&quot; style=&quot;document&quot;/&gt;\r\n                &lt;wsdl:input name=&quot;sayHiRequest&quot;&gt;\r\n                    &lt;soap:body use=&quot;literal&quot;/&gt;\r\n                &lt;/wsdl:input&gt;\r\n                &lt;wsdl:output name=&quot;sayHiResponse&quot;&gt;\r\n                    &lt;soap:body use=&quot;literal&quot;/&gt;\r\n                &lt;/wsdl:output&gt;\r\n            &lt;/wsdl:operation&gt;\r\n            \r\n            &lt;wsdl:operation name=&quot;greetMe&quot;&gt;\r\n                &lt;soap:operation soapAction=&quot;&quot; style=&quot;document&quot;/&gt;\r\n                &lt;wsdl:input name=&quot;greetMeRequest&quot;&gt;\r\n                    &lt;soap:body use=&quot;literal&quot;/&gt;\r\n                &lt;/wsdl:input&gt;\r\n                &lt;wsdl:output name=&quot;greetMeResponse&quot;&gt;\r\n                    &lt;soap:body use=&quot;literal&quot;/&gt;\r\n                &lt;/wsdl:output&gt;\r\n            &lt;/wsdl:operation&gt;\r\n            \r\n            &lt;wsdl:operation name=&quot;greetMeOneWay&quot;&gt;\r\n                &lt;soap:operation soapAction=&quot;&quot; style=&quot;document&quot;/&gt;\r\n                &lt;wsdl:input name=&quot;greetMeOneWayRequest&quot;&gt;\r\n                    &lt;soap:body use=&quot;literal&quot;/&gt;\r\n                &lt;/wsdl:input&gt;\r\n            &lt;/wsdl:operation&gt;\r\n        &lt;/wsdl:binding&gt;\r\n    \r\n        &lt;wsdl:service name=&quot;GreeterService&quot;&gt;\r\n            &lt;wsdl:port binding=&quot;tns:Greeter_SOAPBinding&quot; name=&quot;GreeterPort&quot;&gt;\r\n                &lt;soap:address location=&quot;http://localhost:12000/TestingWebWsSecurity/services/GreeterPort&quot;/&gt;\r\n                &lt;wswa:UsingAddressing xmlns:wswa=&quot;http://www.w3.org/2005/02/addressing/wsdl&quot;/&gt;\r\n            &lt;/wsdl:port&gt;\r\n        &lt;/wsdl:service&gt;\r\n    &lt;/wsdl:definitions&gt;\r\n\r\nThe client code is :\r\n\r\n    package demo.wssec.client;\r\n    \r\n    import java.io.Closeable;\r\n    \r\n    import java.lang.reflect.UndeclaredThrowableException;\r\n    import java.net.URL;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.apache.cxf.Bus;\r\n    import org.apache.cxf.BusFactory;\r\n    import org.apache.cxf.bus.spring.SpringBusFactory;\r\n    import org.apache.cxf.hello_world_soap_http.Greeter;\r\n    import org.apache.cxf.hello_world_soap_http.GreeterService;\r\n    \r\n    import org.apache.cxf.ws.security.wss4j.DefaultCryptoCoverageChecker;\r\n    import org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor;\r\n    import org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor;\r\n    \r\n    \r\n    public final class Client {\r\n    \r\n        private static final String WSU_NS\r\n            = &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;;\r\n    \r\n        private Client() {\r\n        }\r\n    \r\n        public static void main(String args[]) throws Exception {\r\n            try {\r\n    \r\n                SpringBusFactory bf = new SpringBusFactory();\r\n                URL busFile = Client.class.getResource(&quot;wssec.xml&quot;);\r\n                Bus bus = bf.createBus(busFile.toString());\r\n                BusFactory.setDefaultBus(bus);\r\n    \r\n                Map&lt;String, Object&gt; outProps = new HashMap&lt;String, Object&gt;();\r\n                outProps.put(&quot;action&quot;, &quot;UsernameToken Timestamp Signature Encrypt&quot;);\r\n    \r\n                outProps.put(&quot;passwordType&quot;, &quot;PasswordDigest&quot;);\r\n    \r\n                outProps.put(&quot;user&quot;, &quot;abcd&quot;);\r\n                outProps.put(&quot;password&quot;, &quot;storepassword&quot;);\r\n                outProps.put(&quot;signatureUser&quot;, &quot;clientx509v1&quot;);\r\n    \r\n                outProps.put(&quot;passwordCallbackClass&quot;, &quot;demo.wssec.client.UTPasswordCallback&quot;);\r\n    \r\n                outProps.put(&quot;encryptionUser&quot;, &quot;serverx509v1&quot;);\r\n                outProps.put(&quot;encryptionPropFile&quot;, &quot;etc/Client_Encrypt.properties&quot;);\r\n                outProps.put(&quot;encryptionKeyIdentifier&quot;, &quot;IssuerSerial&quot;);\r\n                outProps.put(&quot;encryptionParts&quot;,\r\n                             &quot;{Element}{&quot; + WSU_NS + &quot;}Timestamp;&quot;\r\n                             + &quot;{Content}{http://schemas.xmlsoap.org/soap/envelope/}Body&quot;);\r\n    \r\n                outProps.put(&quot;signaturePropFile&quot;, &quot;etc/Client_Sign.properties&quot;);\r\n                outProps.put(&quot;signatureKeyIdentifier&quot;, &quot;DirectReference&quot;);\r\n                outProps.put(&quot;signatureParts&quot;,\r\n                             &quot;{Element}{&quot; + WSU_NS + &quot;}Timestamp;&quot;\r\n                             + &quot;{Element}{http://schemas.xmlsoap.org/soap/envelope/}Body;&quot;\r\n                             + &quot;{}{http://www.w3.org/2005/08/addressing}ReplyTo;&quot;);\r\n    \r\n                outProps.put(&quot;encryptionKeyTransportAlgorithm&quot;, \r\n                             &quot;http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p&quot;);\r\n                outProps.put(&quot;signatureAlgorithm&quot;, &quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;);\r\n    \r\n                bus.getOutInterceptors().add(new WSS4JOutInterceptor(outProps));\r\n    \r\n                Map&lt;String, Object&gt; inProps = new HashMap&lt;String, Object&gt;();\r\n    \r\n                inProps.put(&quot;action&quot;, &quot;UsernameToken Timestamp Signature Encrypt&quot;);\r\n                inProps.put(&quot;passwordType&quot;, &quot;PasswordText&quot;);\r\n                inProps.put(&quot;passwordCallbackClass&quot;, &quot;demo.wssec.client.UTPasswordCallback&quot;);\r\n    \r\n                inProps.put(&quot;decryptionPropFile&quot;, &quot;etc/Client_Sign.properties&quot;);\r\n                inProps.put(&quot;encryptionKeyIdentifier&quot;, &quot;IssuerSerial&quot;);\r\n    \r\n                inProps.put(&quot;signaturePropFile&quot;, &quot;etc/Client_Encrypt.properties&quot;);\r\n                inProps.put(&quot;signatureKeyIdentifier&quot;, &quot;DirectReference&quot;);\r\n    \r\n                inProps.put(&quot;encryptionKeyTransportAlgorithm&quot;, \r\n                             &quot;http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p&quot;);\r\n                inProps.put(&quot;signatureAlgorithm&quot;, &quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;);\r\n    \r\n                bus.getInInterceptors().add(new WSS4JInInterceptor(inProps));\r\n    \r\n                // Check to make sure that the SOAP Body and Timestamp were signed,\r\n                // and that the SOAP Body was encrypted\r\n                DefaultCryptoCoverageChecker coverageChecker = new DefaultCryptoCoverageChecker();\r\n                coverageChecker.setSignBody(true);\r\n                coverageChecker.setSignTimestamp(true);\r\n                coverageChecker.setEncryptBody(true);\r\n                bus.getInInterceptors().add(coverageChecker);\r\n    \r\n                GreeterService service = new GreeterService();\r\n                Greeter port = service.getGreeterPort();\r\n    \r\n                String[] names = new String[] {&quot;Anne&quot;, &quot;Bill&quot;, &quot;Chris&quot;, &quot;Sachin Tendulkar&quot;};\r\n                // make a sequence of 4 invocations\r\n                for (int i = 0; i &lt; 4; i++) {\r\n                    System.out.println(&quot;Invoking greetMe...&quot;);\r\n                    String response = port.greetMe(names[i]);\r\n                    System.out.println(&quot;response: &quot; + response + &quot;\\n&quot;);\r\n                }\r\n    \r\n                // allow asynchronous resends to occur\r\n                Thread.sleep(30 * 1000);\r\n    \r\n                if (port instanceof Closeable) {\r\n                    ((Closeable)port).close();\r\n                }\r\n    \r\n                bus.shutdown(true);\r\n    \r\n            } catch (UndeclaredThrowableException ex) {\r\n                ex.getUndeclaredThrowable().printStackTrace();\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            } finally {\r\n                System.exit(0);\r\n            }\r\n        }\r\n    }\r\nWhen i execute the client code it said:\r\n\r\n    Caused by: org.apache.cxf.transport.http.HTTPException: HTTP response &#39;404: Not Found&#39; when communicating with http://localhost:12000/TestingWebWsSecurity/services/GreeterPort\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1526)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1486)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1305)\r\n    \tat org.apache.cxf.io.CacheAndWriteOutputStream.postClose(CacheAndWriteOutputStream.java:50)\r\n    \tat org.apache.cxf.io.CachedOutputStream.close(CachedOutputStream.java:223)\r\n    \tat org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:623)\r\n    \tat org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)\r\n    \t... 9 more\r\n    \r\n    javax.xml.ws.WebServiceException: Could not send Message.\r\n    \tat org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)\r\n    \tat com.sun.proxy.$Proxy40.greetMe(Unknown Source)\r\n    \tat demo.wssec.client.Client.main(Client.java:120)\r\n    Caused by: org.apache.cxf.transport.http.HTTPException: HTTP response &#39;404: Not Found&#39; when communicating with http://localhost:12000/TestingWebWsSecurity/services/GreeterPort\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1526)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1486)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1305)\r\n    \tat org.apache.cxf.io.CacheAndWriteOutputStream.postClose(CacheAndWriteOutputStream.java:50)\r\n    \tat org.apache.cxf.io.CachedOutputStream.close(CachedOutputStream.java:223)\r\n    \tat org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:623)\r\n    \tat org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:271)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:541)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:474)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:377)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:330)\r\n    \tat org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)\r\n    \tat org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:134)\r\n    \t... 2 more\r\n\r\n","title":"How can i connect to Apache Cxf web service hosted on Apache Tomcat(Ws security enabled )?","body":"<p>i'm using the wssec_sign_enc example in ws security samples in apacheCxf jar deployed under apache tomcat 7.0.29.\nMy web.xml is :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" id=\"WebApp_ID\" version=\"3.0\"&gt;\n  &lt;display-name&gt;TestingWebWsSecurity&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n\n  &lt;/welcome-file-list&gt;\n  &lt;servlet&gt;\n    &lt;description&gt;Apache CXF Endpoint&lt;/description&gt;\n    &lt;display-name&gt;cxf&lt;/display-name&gt;\n    &lt;servlet-name&gt;cxf&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;cxf&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n  &lt;session-config&gt;\n    &lt;session-timeout&gt;60&lt;/session-timeout&gt;\n  &lt;/session-config&gt;\n  &lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;WEB-INF/cxf-beans.xml&lt;/param-value&gt;\n  &lt;/context-param&gt;\n  &lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n  &lt;/listener&gt;\n   &lt;/web-app&gt;\n</code></pre>\n\n<p>my cxf-beans.xml is</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:jaxws=\"http://cxf.apache.org/jaxws\"\n    xmlns:cxf=\"http://cxf.apache.org/core\" xmlns:wsa=\"http://cxf.apache.org/ws/addressing\"\n    xmlns:http=\"http://cxf.apache.org/transports/http/configuration\"\n    xmlns:wsrm-policy=\"http://schemas.xmlsoap.org/ws/2005/02/rm/policy\"\n    xmlns:wsrm-mgr=\"http://cxf.apache.org/ws/rm/manager\"\n    xsi:schemaLocation=\"        http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd        http://cxf.apache.org/transports/http/configuration http://cxf.apache.org/schemas/configuration/http-conf.xsd        http://schemas.xmlsoap.org/ws/2005/02/rm/policy http://schemas.xmlsoap.org/ws/2005/02/rm/wsrm-policy.xsd        http://cxf.apache.org/ws/rm/manager http://cxf.apache.org/schemas/configuration/wsrm-manager.xsd        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd     http://cxf.apache.org/jaxws     http://cxf.apache.org/schemas/jaxws.xsd \"&gt;\n    &lt;import resource=\"classpath:META-INF/cxf/cxf.xml\" /&gt;\n    &lt;import resource=\"classpath:META-INF/cxf/cxf-extension-soap.xml\" /&gt;\n    &lt;import resource=\"classpath:META-INF/cxf/cxf-servlet.xml\" /&gt;\n    &lt;import resource=\"classpath:META-INF/cxf/cxf.xml\" /&gt;\n    &lt;import resource=\"classpath*:META-INF/cxf/cxf-extension-*.xml\" /&gt;\n\n\n    &lt;cxf:bus&gt;\n        &lt;cxf:features&gt;\n            &lt;cxf:logging /&gt;\n            &lt;wsa:addressing /&gt;\n        &lt;/cxf:features&gt;\n    &lt;/cxf:bus&gt;\n\n    &lt;http:conduit\n        name=\"{http://cxf.apache.org/hello_world_soap_http}GreeterPort.http-conduit\"&gt;\n        &lt;http:client DecoupledEndpoint=\"http://localhost:12000/decoupled_endpoint\" /&gt;\n    &lt;/http:conduit&gt;\n\n    &lt;jaxws:endpoint xmlns:tns=\"http://cxf.apache.org/hello_world_soap_http\"\n        id=\"greeter\" implementor=\"org.apache.cxf.hello_world_soap_http.GreeterImpl\"\n        wsdlLocation=\"wsdl/hello_world_wssec.wsdl\" endpointName=\"tns:GreeterPort\"\n        serviceName=\"tns:GreeterService\" address=\"/GreeterPort\"&gt;\n        &lt;jaxws:features&gt;\n            &lt;bean class=\"org.apache.cxf.feature.LoggingFeature\" /&gt;\n        &lt;/jaxws:features&gt;\n        &lt;jaxws:outInterceptors&gt;\n            &lt;bean class=\"org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor\"&gt;\n                &lt;constructor-arg&gt;\n                    &lt;map&gt;\n                        &lt;entry key=\"action\" value=\"UsernameToken Timestamp Signature Encrypt\" /&gt;\n                        &lt;entry key=\"passwordType\" value=\"PasswordText\" /&gt;\n                        &lt;entry key=\"passwordCallbackClass\" value=\"demo.wssec.server.UTPasswordCallback\" /&gt;\n                        &lt;entry key=\"user\" value=\"Alice\" /&gt;\n                        &lt;entry key=\"signatureUser\" value=\"serverx509v1\" /&gt;\n                        &lt;entry key=\"encryptionUser\" value=\"clientx509v1\" /&gt;\n                        &lt;entry key=\"encryptionPropFile\" value=\"etc/Server_SignVerf.properties\" /&gt;\n                        &lt;entry key=\"encryptionKeyIdentifier\" value=\"IssuerSerial\" /&gt;\n                        &lt;entry key=\"encryptionParts\"\n                            value=\"{Element}{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd}Timestamp;{Content}{http://schemas.xmlsoap.org/soap/envelope/}Body\" /&gt;\n                        &lt;entry key=\"signaturePropFile\" value=\"etc/Server_Decrypt.properties\" /&gt;\n                        &lt;entry key=\"signatureParts\"\n                            value=\"{Element}{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd}Timestamp;{Element}{http://schemas.xmlsoap.org/soap/envelope/}Body\" /&gt;\n                        &lt;entry key=\"signatureKeyIdentifier\" value=\"DirectReference\" /&gt;\n\n                        &lt;entry key=\"encryptionKeyTransportAlgorithm\" value=\"http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p\" /&gt;\n                        &lt;entry key=\"signatureAlgorithm\" value=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\" /&gt;\n                    &lt;/map&gt;\n                &lt;/constructor-arg&gt;\n            &lt;/bean&gt;\n        &lt;/jaxws:outInterceptors&gt;\n        &lt;jaxws:inInterceptors&gt;\n            &lt;bean class=\"org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor\"&gt;\n                &lt;constructor-arg&gt;\n                    &lt;map&gt;\n                        &lt;entry key=\"action\" value=\"UsernameToken Timestamp Signature Encrypt\" /&gt;\n                        &lt;entry key=\"passwordType\" value=\"PasswordDigest\" /&gt;\n                        &lt;entry key=\"passwordCallbackClass\" value=\"demo.wssec.server.UTPasswordCallback\" /&gt;\n                        &lt;!-- &lt;entry key=\"user\" value=\"server\" /&gt; --&gt;\n                        &lt;entry key=\"decryptionPropFile\" value=\"etc/Server_Decrypt.properties\" /&gt;\n                        &lt;entry key=\"encryptionKeyIdentifier\" value=\"IssuerSerial\" /&gt;\n\n                        &lt;entry key=\"signaturePropFile\" value=\"etc/Server_SignVerf.properties\" /&gt;\n                        &lt;entry key=\"signatureKeyIdentifier\" value=\"DirectReference\" /&gt;\n\n                        &lt;entry key=\"encryptionKeyTransportAlgorithm\" value=\"http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p\" /&gt;\n                        &lt;entry key=\"signatureAlgorithm\" value=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\" /&gt;\n                    &lt;/map&gt;\n                &lt;/constructor-arg&gt;\n            &lt;/bean&gt;\n        &lt;/jaxws:inInterceptors&gt;\n    &lt;/jaxws:endpoint&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>My wsdl file is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;wsdl:definitions name=\"HelloWorld\" targetNamespace=\"http://cxf.apache.org/hello_world_soap_http\" \n    xmlns=\"http://schemas.xmlsoap.org/wsdl/\" \n    xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" \n    xmlns:tns=\"http://cxf.apache.org/hello_world_soap_http\"\n    xmlns:x1=\"http://cxf.apache.org/hello_world_soap_http/types\"\n    xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" \n    xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;\n    &lt;wsdl:types&gt;\n        &lt;schema targetNamespace=\"http://cxf.apache.org/hello_world_soap_http/types\" \n            xmlns=\"http://www.w3.org/2001/XMLSchema\" elementFormDefault=\"qualified\"&gt;\n            &lt;element name=\"sayHi\"&gt;\n                &lt;complexType/&gt;\n            &lt;/element&gt;\n            &lt;element name=\"sayHiResponse\"&gt;\n                &lt;complexType&gt;\n                    &lt;sequence&gt;\n                        &lt;element name=\"responseType\" type=\"xsd:string\"/&gt;\n                    &lt;/sequence&gt;\n                &lt;/complexType&gt;\n            &lt;/element&gt;\n            &lt;element name=\"greetMe\"&gt;\n                &lt;complexType&gt;\n                    &lt;sequence&gt;\n                        &lt;element name=\"requestType\" type=\"xsd:string\"/&gt;\n                    &lt;/sequence&gt;\n                &lt;/complexType&gt;\n            &lt;/element&gt;\n            &lt;element name=\"greetMeResponse\"&gt;\n                &lt;complexType&gt;\n                    &lt;sequence&gt;\n                        &lt;element name=\"responseType\" type=\"xsd:string\"/&gt;\n                    &lt;/sequence&gt;\n                &lt;/complexType&gt;\n            &lt;/element&gt;\n            &lt;element name=\"greetMeOneWay\"&gt;\n                &lt;complexType&gt;\n                    &lt;sequence&gt;\n                        &lt;element name=\"requestType\" type=\"xsd:string\"/&gt;\n                    &lt;/sequence&gt;\n                &lt;/complexType&gt;\n            &lt;/element&gt;\n        &lt;/schema&gt;\n    &lt;/wsdl:types&gt;\n\n    &lt;wsdl:message name=\"sayHiRequest\"&gt;\n        &lt;wsdl:part element=\"x1:sayHi\" name=\"in\"/&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:message name=\"sayHiResponse\"&gt;\n        &lt;wsdl:part element=\"x1:sayHiResponse\" name=\"out\"/&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:message name=\"greetMeRequest\"&gt;\n        &lt;wsdl:part element=\"x1:greetMe\" name=\"in\"/&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:message name=\"greetMeResponse\"&gt;\n        &lt;wsdl:part element=\"x1:greetMeResponse\" name=\"out\"/&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:message name=\"greetMeOneWayRequest\"&gt;\n        &lt;wsdl:part element=\"x1:greetMeOneWay\" name=\"in\"/&gt;\n    &lt;/wsdl:message&gt;\n\n    &lt;wsdl:portType name=\"Greeter\"&gt;\n        &lt;wsdl:operation name=\"sayHi\"&gt;\n            &lt;wsdl:input message=\"tns:sayHiRequest\" name=\"sayHiRequest\"/&gt;\n            &lt;wsdl:output message=\"tns:sayHiResponse\" name=\"sayHiResponse\"/&gt;\n        &lt;/wsdl:operation&gt;\n\n        &lt;wsdl:operation name=\"greetMe\"&gt;\n            &lt;wsdl:input message=\"tns:greetMeRequest\" name=\"greetMeRequest\"/&gt;\n            &lt;wsdl:output message=\"tns:greetMeResponse\" name=\"greetMeResponse\"/&gt;\n        &lt;/wsdl:operation&gt;\n\n        &lt;wsdl:operation name=\"greetMeOneWay\"&gt;\n            &lt;wsdl:input message=\"tns:greetMeOneWayRequest\" name=\"greetMeOneWayRequest\"/&gt;\n        &lt;/wsdl:operation&gt;\n\n    &lt;/wsdl:portType&gt;\n\n    &lt;wsdl:binding name=\"Greeter_SOAPBinding\" type=\"tns:Greeter\"&gt;\n        &lt;soap:binding style=\"document\" transport=\"http://schemas.xmlsoap.org/soap/http\"/&gt;\n\n        &lt;wsdl:operation name=\"sayHi\"&gt;\n            &lt;soap:operation soapAction=\"\" style=\"document\"/&gt;\n            &lt;wsdl:input name=\"sayHiRequest\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n            &lt;/wsdl:input&gt;\n            &lt;wsdl:output name=\"sayHiResponse\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n            &lt;/wsdl:output&gt;\n        &lt;/wsdl:operation&gt;\n\n        &lt;wsdl:operation name=\"greetMe\"&gt;\n            &lt;soap:operation soapAction=\"\" style=\"document\"/&gt;\n            &lt;wsdl:input name=\"greetMeRequest\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n            &lt;/wsdl:input&gt;\n            &lt;wsdl:output name=\"greetMeResponse\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n            &lt;/wsdl:output&gt;\n        &lt;/wsdl:operation&gt;\n\n        &lt;wsdl:operation name=\"greetMeOneWay\"&gt;\n            &lt;soap:operation soapAction=\"\" style=\"document\"/&gt;\n            &lt;wsdl:input name=\"greetMeOneWayRequest\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n            &lt;/wsdl:input&gt;\n        &lt;/wsdl:operation&gt;\n    &lt;/wsdl:binding&gt;\n\n    &lt;wsdl:service name=\"GreeterService\"&gt;\n        &lt;wsdl:port binding=\"tns:Greeter_SOAPBinding\" name=\"GreeterPort\"&gt;\n            &lt;soap:address location=\"http://localhost:12000/TestingWebWsSecurity/services/GreeterPort\"/&gt;\n            &lt;wswa:UsingAddressing xmlns:wswa=\"http://www.w3.org/2005/02/addressing/wsdl\"/&gt;\n        &lt;/wsdl:port&gt;\n    &lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n</code></pre>\n\n<p>The client code is :</p>\n\n<pre><code>package demo.wssec.client;\n\nimport java.io.Closeable;\n\nimport java.lang.reflect.UndeclaredThrowableException;\nimport java.net.URL;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.apache.cxf.Bus;\nimport org.apache.cxf.BusFactory;\nimport org.apache.cxf.bus.spring.SpringBusFactory;\nimport org.apache.cxf.hello_world_soap_http.Greeter;\nimport org.apache.cxf.hello_world_soap_http.GreeterService;\n\nimport org.apache.cxf.ws.security.wss4j.DefaultCryptoCoverageChecker;\nimport org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor;\nimport org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor;\n\n\npublic final class Client {\n\n    private static final String WSU_NS\n        = \"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\";\n\n    private Client() {\n    }\n\n    public static void main(String args[]) throws Exception {\n        try {\n\n            SpringBusFactory bf = new SpringBusFactory();\n            URL busFile = Client.class.getResource(\"wssec.xml\");\n            Bus bus = bf.createBus(busFile.toString());\n            BusFactory.setDefaultBus(bus);\n\n            Map&lt;String, Object&gt; outProps = new HashMap&lt;String, Object&gt;();\n            outProps.put(\"action\", \"UsernameToken Timestamp Signature Encrypt\");\n\n            outProps.put(\"passwordType\", \"PasswordDigest\");\n\n            outProps.put(\"user\", \"abcd\");\n            outProps.put(\"password\", \"storepassword\");\n            outProps.put(\"signatureUser\", \"clientx509v1\");\n\n            outProps.put(\"passwordCallbackClass\", \"demo.wssec.client.UTPasswordCallback\");\n\n            outProps.put(\"encryptionUser\", \"serverx509v1\");\n            outProps.put(\"encryptionPropFile\", \"etc/Client_Encrypt.properties\");\n            outProps.put(\"encryptionKeyIdentifier\", \"IssuerSerial\");\n            outProps.put(\"encryptionParts\",\n                         \"{Element}{\" + WSU_NS + \"}Timestamp;\"\n                         + \"{Content}{http://schemas.xmlsoap.org/soap/envelope/}Body\");\n\n            outProps.put(\"signaturePropFile\", \"etc/Client_Sign.properties\");\n            outProps.put(\"signatureKeyIdentifier\", \"DirectReference\");\n            outProps.put(\"signatureParts\",\n                         \"{Element}{\" + WSU_NS + \"}Timestamp;\"\n                         + \"{Element}{http://schemas.xmlsoap.org/soap/envelope/}Body;\"\n                         + \"{}{http://www.w3.org/2005/08/addressing}ReplyTo;\");\n\n            outProps.put(\"encryptionKeyTransportAlgorithm\", \n                         \"http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p\");\n            outProps.put(\"signatureAlgorithm\", \"http://www.w3.org/2000/09/xmldsig#rsa-sha1\");\n\n            bus.getOutInterceptors().add(new WSS4JOutInterceptor(outProps));\n\n            Map&lt;String, Object&gt; inProps = new HashMap&lt;String, Object&gt;();\n\n            inProps.put(\"action\", \"UsernameToken Timestamp Signature Encrypt\");\n            inProps.put(\"passwordType\", \"PasswordText\");\n            inProps.put(\"passwordCallbackClass\", \"demo.wssec.client.UTPasswordCallback\");\n\n            inProps.put(\"decryptionPropFile\", \"etc/Client_Sign.properties\");\n            inProps.put(\"encryptionKeyIdentifier\", \"IssuerSerial\");\n\n            inProps.put(\"signaturePropFile\", \"etc/Client_Encrypt.properties\");\n            inProps.put(\"signatureKeyIdentifier\", \"DirectReference\");\n\n            inProps.put(\"encryptionKeyTransportAlgorithm\", \n                         \"http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p\");\n            inProps.put(\"signatureAlgorithm\", \"http://www.w3.org/2000/09/xmldsig#rsa-sha1\");\n\n            bus.getInInterceptors().add(new WSS4JInInterceptor(inProps));\n\n            // Check to make sure that the SOAP Body and Timestamp were signed,\n            // and that the SOAP Body was encrypted\n            DefaultCryptoCoverageChecker coverageChecker = new DefaultCryptoCoverageChecker();\n            coverageChecker.setSignBody(true);\n            coverageChecker.setSignTimestamp(true);\n            coverageChecker.setEncryptBody(true);\n            bus.getInInterceptors().add(coverageChecker);\n\n            GreeterService service = new GreeterService();\n            Greeter port = service.getGreeterPort();\n\n            String[] names = new String[] {\"Anne\", \"Bill\", \"Chris\", \"Sachin Tendulkar\"};\n            // make a sequence of 4 invocations\n            for (int i = 0; i &lt; 4; i++) {\n                System.out.println(\"Invoking greetMe...\");\n                String response = port.greetMe(names[i]);\n                System.out.println(\"response: \" + response + \"\\n\");\n            }\n\n            // allow asynchronous resends to occur\n            Thread.sleep(30 * 1000);\n\n            if (port instanceof Closeable) {\n                ((Closeable)port).close();\n            }\n\n            bus.shutdown(true);\n\n        } catch (UndeclaredThrowableException ex) {\n            ex.getUndeclaredThrowable().printStackTrace();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        } finally {\n            System.exit(0);\n        }\n    }\n}\n</code></pre>\n\n<p>When i execute the client code it said:</p>\n\n<pre><code>Caused by: org.apache.cxf.transport.http.HTTPException: HTTP response '404: Not Found' when communicating with http://localhost:12000/TestingWebWsSecurity/services/GreeterPort\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1526)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1486)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1305)\n    at org.apache.cxf.io.CacheAndWriteOutputStream.postClose(CacheAndWriteOutputStream.java:50)\n    at org.apache.cxf.io.CachedOutputStream.close(CachedOutputStream.java:223)\n    at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)\n    at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:623)\n    at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)\n    ... 9 more\n\njavax.xml.ws.WebServiceException: Could not send Message.\n    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)\n    at com.sun.proxy.$Proxy40.greetMe(Unknown Source)\n    at demo.wssec.client.Client.main(Client.java:120)\nCaused by: org.apache.cxf.transport.http.HTTPException: HTTP response '404: Not Found' when communicating with http://localhost:12000/TestingWebWsSecurity/services/GreeterPort\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1526)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1486)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1305)\n    at org.apache.cxf.io.CacheAndWriteOutputStream.postClose(CacheAndWriteOutputStream.java:50)\n    at org.apache.cxf.io.CachedOutputStream.close(CachedOutputStream.java:223)\n    at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)\n    at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:623)\n    at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:271)\n    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:541)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:474)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:377)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:330)\n    at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)\n    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:134)\n    ... 2 more\n</code></pre>\n"},{"tags":["java","keyset"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":5,"creation_date":1693862679,"post_id":77040628,"comment_id":135813038,"body_markdown":"It is not a good idea to use mutable objects as keys (unless of course you don&#39;t mutate them).","body":"It is not a good idea to use mutable objects as keys (unless of course you don&#39;t mutate them)."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693869762,"post_id":77040628,"comment_id":135813661,"body_markdown":"Try it like this. `tickets = tickets.keySet().stream().map(set-&gt;{\nset.retainAll(winningNumbers);return set;}).collect(Collectors.toMap(set-&gt;set, set-&gt;set.size()));`","body":"Try it like this. <code>tickets = tickets.keySet().stream().map(set-&gt;{ set.retainAll(winningNumbers);return set;}).collect(Collectors.toMap(set-&gt;set, set-&gt;set.size()));</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1693877879,"post_id":77040628,"comment_id":135814244,"body_markdown":"[Don’t use double brace initialization.](https://stackoverflow.com/questions/1958636/what-is-double-brace-initialization-in-java)  (And I’m surprised you would use it, since if you know about the Set.of methods, you probably know about the Map.of methods.)","body":"<a href=\"https://stackoverflow.com/questions/1958636/what-is-double-brace-initialization-in-java\">Don’t use double brace initialization.</a>  (And I’m surprised you would use it, since if you know about the Set.of methods, you probably know about the Map.of methods.)"},{"owner":{"account_id":24764960,"reputation":11,"user_id":18648894,"display_name":"bebo969"},"score":1,"creation_date":1693897866,"post_id":77040628,"comment_id":135816220,"body_markdown":"Thanks for the helpful comments. The stream solution works perfectly!","body":"Thanks for the helpful comments. The stream solution works perfectly!"}],"owner":{"account_id":24764960,"reputation":11,"user_id":18648894,"display_name":"bebo969"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693862754,"answer_count":0,"score":0,"last_activity_date":1693868480,"creation_date":1693861839,"question_id":77040628,"body_markdown":"There is a map (tickets), where the key is the players&#39; tips (as a set) and the value, which is 0 before checking the ticket and should update after checking the tips with the hits.\r\nI make an intersection on the tips and the winning numbers for each ticket lines. The new size of the set gives the hit result and should replace in the map.\r\nAs the result shows below, the key updates well, but the value not. What is the problem?\r\n\r\n\r\n\r\n    public void ticketCheck() {\r\n    \t\t\r\n    \t// tickets and winningNumbers will come as parameters, now it is only an example:\r\n    \tMap&lt;Set&lt;Integer&gt;,Integer&gt; tickets = new HashMap&lt;Set&lt;Integer&gt;,Integer&gt;(){\r\n    \t\t{\r\n    \t\t\tput(new HashSet&lt;Integer&gt;(Set.of(5,21,25,32,38,40)) ,0); \r\n    \t\t\tput(new HashSet&lt;Integer&gt;(Set.of(8,11,17,29,32,45)) ,0); \r\n    \t\t};\r\n    \t};\r\n    \t\t\r\n    \tSet&lt;Integer&gt; winningNumbers = new HashSet&lt;Integer&gt;(Set.of(11,20,32,33,36,45));\r\n    \t\t\r\n    \tIterator&lt;Set&lt;Integer&gt;&gt; itr = tickets.keySet().iterator();\r\n    \twhile (itr.hasNext()) {\t    \t\r\n    \t        Set&lt;Integer&gt; oneTicket = itr.next();\r\n    \t        oneTicket.retainAll(winningNumbers); // intersection of the tips and winning numbers\r\n    \t        int result = oneTicket.size();\t\r\n    \t        tickets.replace(oneTicket,result);\r\n    \t}\r\n    \t\t    \t\r\n    \tfor (Map.Entry&lt;Set&lt;Integer&gt;, Integer&gt; item : tickets.entrySet()) {\r\n    \t\tSystem.out.println(item.getKey() + &quot; hits: &quot;+item.getValue());\r\n    \t}\t\t\t\t\r\n    }\r\n\r\nThe result:\r\n```\r\n[32] hits: 0\r\n[32, 11, 45] hits: 0\r\n```\r\nbut should be:\r\n```\r\n[32] hits: 1\r\n[32, 11, 45] hits: 3\r\n```","title":"Why the method &#39;replace&#39; does not work properly, using keySet for a Map?","body":"<p>There is a map (tickets), where the key is the players' tips (as a set) and the value, which is 0 before checking the ticket and should update after checking the tips with the hits.\nI make an intersection on the tips and the winning numbers for each ticket lines. The new size of the set gives the hit result and should replace in the map.\nAs the result shows below, the key updates well, but the value not. What is the problem?</p>\n<pre><code>public void ticketCheck() {\n        \n    // tickets and winningNumbers will come as parameters, now it is only an example:\n    Map&lt;Set&lt;Integer&gt;,Integer&gt; tickets = new HashMap&lt;Set&lt;Integer&gt;,Integer&gt;(){\n        {\n            put(new HashSet&lt;Integer&gt;(Set.of(5,21,25,32,38,40)) ,0); \n            put(new HashSet&lt;Integer&gt;(Set.of(8,11,17,29,32,45)) ,0); \n        };\n    };\n        \n    Set&lt;Integer&gt; winningNumbers = new HashSet&lt;Integer&gt;(Set.of(11,20,32,33,36,45));\n        \n    Iterator&lt;Set&lt;Integer&gt;&gt; itr = tickets.keySet().iterator();\n    while (itr.hasNext()) {         \n            Set&lt;Integer&gt; oneTicket = itr.next();\n            oneTicket.retainAll(winningNumbers); // intersection of the tips and winning numbers\n            int result = oneTicket.size();  \n            tickets.replace(oneTicket,result);\n    }\n                \n    for (Map.Entry&lt;Set&lt;Integer&gt;, Integer&gt; item : tickets.entrySet()) {\n        System.out.println(item.getKey() + &quot; hits: &quot;+item.getValue());\n    }               \n}\n</code></pre>\n<p>The result:</p>\n<pre><code>[32] hits: 0\n[32, 11, 45] hits: 0\n</code></pre>\n<p>but should be:</p>\n<pre><code>[32] hits: 1\n[32, 11, 45] hits: 3\n</code></pre>\n"},{"tags":["javascript","java","v8","j2v8"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1693883486,"post_id":77040903,"comment_id":135814674,"body_markdown":"What is the error log?","body":"What is the error log?"},{"owner":{"account_id":20179889,"reputation":1,"user_id":22294057,"display_name":"jimm2"},"score":0,"creation_date":1693911148,"post_id":77040903,"comment_id":135818762,"body_markdown":"@JRichardsz None. Im just trying to find a way on how to do this. If youre asking about the import keyword its was an unexpected token error.","body":"@JRichardsz None. Im just trying to find a way on how to do this. If youre asking about the import keyword its was an unexpected token error."}],"owner":{"account_id":20179889,"reputation":1,"user_id":22294057,"display_name":"jimm2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693866900,"creation_date":1693866900,"question_id":77040903,"body_markdown":"I&#39;m in need of guidance for executing methods from Java classes using J2V8. While I can register a JS method with a Java callback, there are a lot of methods to define and thats is boring. Your expertise and any code examples would be greatly appreciated. \r\n\r\nExample of what  I am trying to do\r\n```java\r\npackage com.example;\r\n\r\npublic class Main {\r\n public static record Cat(String name, int age) {\r\n  public void greet() {\r\n   System.out.println(&quot;hello &quot; + name + &quot;!&quot;);\r\n  }\r\n }\r\n\r\n public static int square(int number) {\r\n  return number*number;\r\n }\r\n\r\n public static void main(String[] args) {\r\n  V8 v8 = V8.createV8Runtime();\r\n  v8.executeVoidScript(&quot;&lt;javascript code below&gt;&quot;);\r\n }\r\n}\r\n```\r\n\r\n\r\n```javascript\r\n\r\nvar myCat = new com.example.Main.Cat(&quot;bob&quot;, 2);\r\nmyCat.greet() // hello bob!\r\n\r\njava.lang.System.out.println(com.example.Main.square(10));\r\n\r\n```\r\n\r\nOr something like that.\r\n\r\nThank you!\r\n\r\nI also tried to use the `import` keyword in V8 but that did not work.","title":"Run methods from Java Classes using J2V8","body":"<p>I'm in need of guidance for executing methods from Java classes using J2V8. While I can register a JS method with a Java callback, there are a lot of methods to define and thats is boring. Your expertise and any code examples would be greatly appreciated.</p>\n<p>Example of what  I am trying to do</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\npublic class Main {\n public static record Cat(String name, int age) {\n  public void greet() {\n   System.out.println(&quot;hello &quot; + name + &quot;!&quot;);\n  }\n }\n\n public static int square(int number) {\n  return number*number;\n }\n\n public static void main(String[] args) {\n  V8 v8 = V8.createV8Runtime();\n  v8.executeVoidScript(&quot;&lt;javascript code below&gt;&quot;);\n }\n}\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>\nvar myCat = new com.example.Main.Cat(&quot;bob&quot;, 2);\nmyCat.greet() // hello bob!\n\njava.lang.System.out.println(com.example.Main.square(10));\n\n</code></pre>\n<p>Or something like that.</p>\n<p>Thank you!</p>\n<p>I also tried to use the <code>import</code> keyword in V8 but that did not work.</p>\n"},{"tags":["java","apache-kafka","spring-kafka","apache-kafka-streams"],"owner":{"account_id":2202754,"reputation":627,"user_id":1946741,"accept_rate":83,"display_name":"Raja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693866370,"creation_date":1693827296,"question_id":77037374,"body_markdown":"Let&#39;s say the Kafka stream emit Events 1,2,3,4,5 in a sequence. When Event 5 errored out, the kafka stream processor quits as expected. However it fails to commit until Event 4. When I restart the Spring boot stream application, the stream once again start from Event 1,2,3,4 and then fails at 5.\r\n\r\nJust for more clarity, I am reading &quot;latest&quot; messages from the stream. The topic has 10s of messages, so it is not streaming from the beginning.\r\n\r\nWhat is the appropriate way to commit until Event 4, when the 5th event fails before my stream processor thread quits ?\r\n\r\nMy Kafka Streams Configuration:\r\n\r\n   \r\n\r\n     @Bean(name = KafkaStreamsDefaultConfiguration.DEFAULT_STREAMS_CONFIG_BEAN_NAME)\r\n      KafkaStreamsConfiguration kStreamsConfig() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;ms-orders-app&quot;);\r\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n        props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 10000);\r\n        props.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG, 3000);\r\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\r\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, GenericAvroSerde.class.getName());\r\n        return new KafkaStreamsConfiguration(props);\r\n\r\n\r\nMy Topology code:\r\n\r\n    @Autowired\r\n      public Topology buildTopology(StreamsBuilder streamsBuilder) {\r\n    \r\n        Map&lt;String, String&gt; serdeConfig = Collections.singletonMap(&quot;schema.registry.url&quot;,\r\n            schemaRegistryUrl);\r\n    \r\n        Serde valueGenericAvroSerde = new GenericAvroSerde();\r\n        valueGenericAvroSerde.configure(serdeConfig, false);\r\n    \r\n        var crmOrderStream = streamsBuilder.stream(S_ORDERS,\r\n            Consumed.with(Serdes.String(), valueGenericAvroSerde));\r\n    \r\n        crmOrderStream\r\n            .mapValues(orderValueMapper())\r\n            .filter(orderCompletePredicate())\r\n            .mapValues(enrichedOrderValueMapper());\r\n        return streamsBuilder.build();\r\n      }","title":"Kafka Stateless KStream : How to commit until failure point upon exception?","body":"<p>Let's say the Kafka stream emit Events 1,2,3,4,5 in a sequence. When Event 5 errored out, the kafka stream processor quits as expected. However it fails to commit until Event 4. When I restart the Spring boot stream application, the stream once again start from Event 1,2,3,4 and then fails at 5.</p>\n<p>Just for more clarity, I am reading &quot;latest&quot; messages from the stream. The topic has 10s of messages, so it is not streaming from the beginning.</p>\n<p>What is the appropriate way to commit until Event 4, when the 5th event fails before my stream processor thread quits ?</p>\n<p>My Kafka Streams Configuration:</p>\n<pre><code> @Bean(name = KafkaStreamsDefaultConfiguration.DEFAULT_STREAMS_CONFIG_BEAN_NAME)\n  KafkaStreamsConfiguration kStreamsConfig() {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;ms-orders-app&quot;);\n    props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n    props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n    props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 10000);\n    props.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG, 3000);\n    props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n    props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, GenericAvroSerde.class.getName());\n    return new KafkaStreamsConfiguration(props);\n</code></pre>\n<p>My Topology code:</p>\n<pre><code>@Autowired\n  public Topology buildTopology(StreamsBuilder streamsBuilder) {\n\n    Map&lt;String, String&gt; serdeConfig = Collections.singletonMap(&quot;schema.registry.url&quot;,\n        schemaRegistryUrl);\n\n    Serde valueGenericAvroSerde = new GenericAvroSerde();\n    valueGenericAvroSerde.configure(serdeConfig, false);\n\n    var crmOrderStream = streamsBuilder.stream(S_ORDERS,\n        Consumed.with(Serdes.String(), valueGenericAvroSerde));\n\n    crmOrderStream\n        .mapValues(orderValueMapper())\n        .filter(orderCompletePredicate())\n        .mapValues(enrichedOrderValueMapper());\n    return streamsBuilder.build();\n  }\n</code></pre>\n"},{"tags":["java","json","datetime","serialization","date-format"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1693869920,"post_id":77035366,"comment_id":135813671,"body_markdown":"Tip: Educate the publisher of your data about using only standard ISO 8601 formats for date-time values.","body":"Tip: Educate the publisher of your data about using only standard ISO 8601 formats for date-time values."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1693929175,"post_id":77035366,"comment_id":135822986,"body_markdown":"You should not use `Date`. That class was always poorly designed and exactly for that reason was supplanted by [java.time, the modern Java datre and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html) a decade ago. Perhaps `LocalDateTme` is the right type for your use case.","body":"You should not use <code>Date</code>. That class was always poorly designed and exactly for that reason was supplanted by <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java datre and time API</a> a decade ago. Perhaps <code>LocalDateTme</code> is the right type for your use case."}],"answers":[{"comments":[{"owner":{"account_id":18079451,"reputation":19,"user_id":13142012,"display_name":"PersonuNique"},"score":1,"creation_date":1693920484,"post_id":77040690,"comment_id":135820899,"body_markdown":"Thank you Avinash, this really helped me.","body":"Thank you Avinash, this really helped me."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693862895,"creation_date":1693862895,"answer_id":77040690,"question_id":77035366,"body_markdown":"java.time\r\n--\r\nThe `java.util` date-time API and their corresponding parsing/formatting type, `SimpleDateFormat` are outdated and error-prone. In March 2014, the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) supplanted the legacy date-time API. Since then, it has been strongly recommended to switch to `java.time`, the modern date-time API.\r\n\r\nThe format corresponding to your date-time string is `MMM dd, uuuu h:m:s a` in the `en_US` locale.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;MMM dd, uuuu h:m:s a&quot;, new Locale(&quot;en_US&quot;));\r\n            System.out.println(LocalDateTime.parse(&quot;Aug 29, 2023 5:48:51 PM&quot;, parser));\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    2023-08-29T17:48:51\r\n\r\n[Online Demo](https://ideone.com/gb9QfT)\r\n\r\nBased on this description, you can make the following changes in your code:\r\n\r\n    @JsonFormat(pattern = &quot;MMM dd, uuuu h:m:s a&quot;, shape = JsonFormat.Shape.STRING, locale = &quot;en_US&quot;)\r\n    @Column(name = &quot;createdOn&quot;)\r\n    private LocalDateTime createdOn;\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**","title":"Can not deserialize value of type java.util.Date from String &quot;Aug 29, 2023 5:48:51 PM&quot;: expected format &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;","body":"<h2>java.time</h2>\n<p>The <code>java.util</code> date-time API and their corresponding parsing/formatting type, <code>SimpleDateFormat</code> are outdated and error-prone. In March 2014, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> supplanted the legacy date-time API. Since then, it has been strongly recommended to switch to <code>java.time</code>, the modern date-time API.</p>\n<p>The format corresponding to your date-time string is <code>MMM dd, uuuu h:m:s a</code> in the <code>en_US</code> locale.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\nclass Main {\n    public static void main(String[] args) {\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;MMM dd, uuuu h:m:s a&quot;, new Locale(&quot;en_US&quot;));\n        System.out.println(LocalDateTime.parse(&quot;Aug 29, 2023 5:48:51 PM&quot;, parser));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2023-08-29T17:48:51\n</code></pre>\n<p><a href=\"https://ideone.com/gb9QfT\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n<p>Based on this description, you can make the following changes in your code:</p>\n<pre><code>@JsonFormat(pattern = &quot;MMM dd, uuuu h:m:s a&quot;, shape = JsonFormat.Shape.STRING, locale = &quot;en_US&quot;)\n@Column(name = &quot;createdOn&quot;)\nprivate LocalDateTime createdOn;\n</code></pre>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong></p>\n"}],"owner":{"account_id":18079451,"reputation":19,"user_id":13142012,"display_name":"PersonuNique"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77040690,"answer_count":1,"score":0,"last_activity_date":1693863440,"creation_date":1693807128,"question_id":77035366,"body_markdown":"I am trying to parse this data &quot;Aug 29, 2023 5:48:51 PM&quot; which is in String format to JSON but getting the below error\r\n\r\n*Can not deserialize value of type java.util.Date from String &quot;Aug 29, 2023 5:48:51 PM&quot;: expected format &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;*\r\n\r\n\r\nThe POJO declaration of the corresponding field is given below:\r\n```\r\n@JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\r\n\t@Column(name = &quot;createdOn&quot;)\r\n\tprivate Date createdOn;\r\n```\r\n\r\nPls help\r\n\r\n\r\nI have tried to modify the pojo declaration of the field to this\r\n\r\n\r\n```\r\n@JsonFormat(pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\r\n@Column(name = &quot;createdOn&quot;)\r\nprivate Date createdOn;\r\n```\r\n","title":"Can not deserialize value of type java.util.Date from String &quot;Aug 29, 2023 5:48:51 PM&quot;: expected format &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;","body":"<p>I am trying to parse this data &quot;Aug 29, 2023 5:48:51 PM&quot; which is in String format to JSON but getting the below error</p>\n<p><em>Can not deserialize value of type java.util.Date from String &quot;Aug 29, 2023 5:48:51 PM&quot;: expected format &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;</em></p>\n<p>The POJO declaration of the corresponding field is given below:</p>\n<pre><code>@JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\n    @Column(name = &quot;createdOn&quot;)\n    private Date createdOn;\n</code></pre>\n<p>Pls help</p>\n<p>I have tried to modify the pojo declaration of the field to this</p>\n<pre><code>@JsonFormat(pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\n@Column(name = &quot;createdOn&quot;)\nprivate Date createdOn;\n</code></pre>\n"},{"tags":["java","android","android-studio","accessibility","talkback"],"comments":[{"owner":{"account_id":28647,"reputation":16447,"user_id":76714,"accept_rate":0,"display_name":"slugolicious"},"score":1,"creation_date":1690936744,"post_id":76815716,"comment_id":135421528,"body_markdown":"Android uses TalkBack and iPhone uses Voiceover so I&#39;m guessing you&#39;re asking how to detect if TalkBack is running?  Perhaps https://stackoverflow.com/questions/5116867/how-to-know-if-android-talkback-is-active","body":"Android uses TalkBack and iPhone uses Voiceover so I&#39;m guessing you&#39;re asking how to detect if TalkBack is running?  Perhaps <a href=\"https://stackoverflow.com/questions/5116867/how-to-know-if-android-talkback-is-active\" title=\"how to know if android talkback is active\">stackoverflow.com/questions/5116867/&hellip;</a>"},{"owner":{"account_id":20140273,"reputation":892,"user_id":14770245,"display_name":"James S"},"score":0,"creation_date":1690938133,"post_id":76815716,"comment_id":135421643,"body_markdown":"Yes, those answers discuss checking for TalkBack status but I&#39;d like to be notified via a callback event if the status change.","body":"Yes, those answers discuss checking for TalkBack status but I&#39;d like to be notified via a callback event if the status change."}],"answers":[{"tags":[],"owner":{"account_id":20140273,"reputation":892,"user_id":14770245,"display_name":"James S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693862360,"creation_date":1693861613,"answer_id":77040609,"question_id":76815716,"body_markdown":"I was able to get the Talkback active/inactive status notification using AccessibilityManager.addTouchExplorationStateChangeListener. This resolved the issue I had with Android mobile.\r\n\r\n        try {\r\n            am = (AccessibilityManager) context.getSystemService(Context.ACCESSIBILITY_SERVICE);\r\n\r\n            am.addTouchExplorationStateChangeListener(new AccessibilityManager.TouchExplorationStateChangeListener () {\r\n                @Override\r\n                public void onTouchExplorationStateChanged(boolean enabled) {\r\n                    onTalkbackStatusChanged(enabled);\r\n                }\r\n            });\r\n        } catch(Exception ex) {\r\n           ...\r\n        }\r\n ","title":"How to check TalkBack on/off status and get change notifications in Android mobile?","body":"<p>I was able to get the Talkback active/inactive status notification using AccessibilityManager.addTouchExplorationStateChangeListener. This resolved the issue I had with Android mobile.</p>\n<pre><code>    try {\n        am = (AccessibilityManager) context.getSystemService(Context.ACCESSIBILITY_SERVICE);\n\n        am.addTouchExplorationStateChangeListener(new AccessibilityManager.TouchExplorationStateChangeListener () {\n            @Override\n            public void onTouchExplorationStateChanged(boolean enabled) {\n                onTalkbackStatusChanged(enabled);\n            }\n        });\n    } catch(Exception ex) {\n       ...\n    }\n</code></pre>\n"}],"owner":{"account_id":20140273,"reputation":892,"user_id":14770245,"display_name":"James S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77040609,"answer_count":1,"score":0,"last_activity_date":1693862360,"creation_date":1690931989,"question_id":76815716,"body_markdown":"I&#39;m working on an Android mobile application and need to know if TalkBack is active on startup and detect TalkBack off/on state changes while application is running.\r\n\r\nPreviously the code used JavaScript accessibility component and called  C++ and then Java. Now we only want Java code.\r\n\r\nHow can I implement this functionality?","title":"How to check TalkBack on/off status and get change notifications in Android mobile?","body":"<p>I'm working on an Android mobile application and need to know if TalkBack is active on startup and detect TalkBack off/on state changes while application is running.</p>\n<p>Previously the code used JavaScript accessibility component and called  C++ and then Java. Now we only want Java code.</p>\n<p>How can I implement this functionality?</p>\n"},{"tags":["java","google-app-engine"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1693854143,"post_id":77039973,"comment_id":135812037,"body_markdown":"You can set `min_instances: 1` in your *automatic_scaling* I guess.","body":"You can set <code>min_instances: 1</code> in your <i>automatic_scaling</i> I guess."},{"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"score":0,"creation_date":1693854386,"post_id":77039973,"comment_id":135812077,"body_markdown":"@DiegoBorba Yes, but the documentation states: &quot;*For this feature to function properly, you must make sure that warmup requests are enabled and that your application handles warmup requests.*&quot;, so I&#39;m not sure what to do about that.","body":"@DiegoBorba Yes, but the documentation states: &quot;<i>For this feature to function properly, you must make sure that warmup requests are enabled and that your application handles warmup requests.</i>&quot;, so I&#39;m not sure what to do about that."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1693854583,"post_id":77039973,"comment_id":135812103,"body_markdown":"In my opinion, you can implement the [warmup requests](https://cloud.google.com/appengine/docs/standard/configuring-warmup-requests?tab=python#top) and then use it, it will just improve your code.","body":"In my opinion, you can implement the <a href=\"https://cloud.google.com/appengine/docs/standard/configuring-warmup-requests?tab=python#top\" rel=\"nofollow noreferrer\">warmup requests</a> and then use it, it will just improve your code."}],"answers":[{"tags":[],"owner":{"account_id":2358516,"reputation":1085,"user_id":2065799,"display_name":"Vivek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693861198,"creation_date":1693861198,"answer_id":77040577,"question_id":77039973,"body_markdown":"There are couple of ways to achieve the same and of course each comes with its own implications, primarily *the cost*.\r\n\r\nSince you are using scaling type : `automatic`, in that case: \r\n\r\n1. You can use \r\n\r\n```\r\nautomatic_scaling:\r\n  min_instances: 1\r\n```\r\n\r\nThis will keep at least *one* instance running at all times, which can help reduce the startup time for users when they access your application.\r\n\r\n**Please note** this setting defines the **minimum number of instances** that should be **running and serving traffic at all times**, regardless of the current level of incoming requests or traffic. \r\n\r\nIt ensures that there are always at least `min_instances` instances running, which can help reduce startup latency when requests arrive. Use this if you want to ensure a baseline level of availability and responsiveness.\r\n\r\nAlso, good to know that it is **different** from \r\n\r\n```\r\nmin_idle_instances\r\n```\r\n\r\nwhich basically defines the **minimum number of instances** that should be kept **in an idle state** (not serving any traffic) during periods of low activity. \r\n\r\nThese idle instances are ready to handle incoming requests but aren&#39;t actively serving any. You can read [this SO post][1], to know difference in detail.\r\n\r\n\r\n\r\n&gt; Important to consider, you will need to implement **Warmup** requests\r\n\r\n**Warmup requests** `/_ah/warmup` are a specific type of loading request that load application code into an instance ahead of time, before any live requests are made.\r\n\r\nI know in the `java8` world of App engine runtime, these are enabled by default, [as also stated][2].\r\n\r\nHowever, following the [latest documentation][3] \r\n\r\nFirst you have to add below in `app.yaml`:\r\n\r\n```\r\ninbound_services:\r\n- warmup\r\n```\r\n\r\nFollowed by defining a *handler* in you application and that could be as simple as:\r\n\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/_ah/warmup&quot;)\r\npublic class WarmupController {\r\n\r\n    @GetMapping\r\n    @ResponseBody\r\n    public String warmup() {\r\n        // Perform any initialization or warming up tasks here.\r\n        // This code will be executed when a warmup request is received.\r\n        \r\n        // For example, you can potentially initialize database connections, cache, or other resources, depending on your application features.\r\n        // If there is nothing needed to be initiliased, you may just return &quot;Ok&quot;\r\n\r\n        return &quot;Ok! Warmup completed successfully.&quot;;\r\n    }\r\n}\r\n```\r\n To learn more about how to use warmup requests, [see Configuring warmup requests][4].\r\n\r\n\r\nLastly, also good to mention, since not sure what your application does, but if you want to have a **defined number of instances** , and not use the `automatic` scaling offering, there is also an option of `manual` scaling:\r\n\r\n\r\n```\r\nruntime: java17\r\ninstance_class: F1\r\n\r\nmanual_scaling:\r\n  instances: 1\r\n```\r\n\r\nWith manual scaling, you have more control over the number of instances and can ensure that only one or 2 or 3 instance(s) is/are running if that&#39;s your requirement. \r\n\r\nHowever, it also means you need to manually manage the scaling and potentially monitor your application&#39;s resource utilisation to prevent overloading a single instance.\r\n\r\nHope this information can help you decide what to choose based on your application usage/usecase etc.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52092432/what-is-the-difference-between-min-instances-and-min-idle-instances-in-google-ap\r\n  [2]: https://cloud.google.com/appengine/docs/legacy/standard/java/configuring-warmup-requests\r\n  [3]: https://cloud.google.com/appengine/docs/standard/configuring-warmup-requests?tab=java#top\r\n  [4]: https://cloud.google.com/appengine/docs/legacy/standard/java/warmup-requests/configuring","title":"How to prevent Google Engine app to be shutdown when inactive?","body":"<p>There are couple of ways to achieve the same and of course each comes with its own implications, primarily <em>the cost</em>.</p>\n<p>Since you are using scaling type : <code>automatic</code>, in that case:</p>\n<ol>\n<li>You can use</li>\n</ol>\n<pre><code>automatic_scaling:\n  min_instances: 1\n</code></pre>\n<p>This will keep at least <em>one</em> instance running at all times, which can help reduce the startup time for users when they access your application.</p>\n<p><strong>Please note</strong> this setting defines the <strong>minimum number of instances</strong> that should be <strong>running and serving traffic at all times</strong>, regardless of the current level of incoming requests or traffic.</p>\n<p>It ensures that there are always at least <code>min_instances</code> instances running, which can help reduce startup latency when requests arrive. Use this if you want to ensure a baseline level of availability and responsiveness.</p>\n<p>Also, good to know that it is <strong>different</strong> from</p>\n<pre><code>min_idle_instances\n</code></pre>\n<p>which basically defines the <strong>minimum number of instances</strong> that should be kept <strong>in an idle state</strong> (not serving any traffic) during periods of low activity.</p>\n<p>These idle instances are ready to handle incoming requests but aren't actively serving any. You can read <a href=\"https://stackoverflow.com/questions/52092432/what-is-the-difference-between-min-instances-and-min-idle-instances-in-google-ap\">this SO post</a>, to know difference in detail.</p>\n<blockquote>\n<p>Important to consider, you will need to implement <strong>Warmup</strong> requests</p>\n</blockquote>\n<p><strong>Warmup requests</strong> <code>/_ah/warmup</code> are a specific type of loading request that load application code into an instance ahead of time, before any live requests are made.</p>\n<p>I know in the <code>java8</code> world of App engine runtime, these are enabled by default, <a href=\"https://cloud.google.com/appengine/docs/legacy/standard/java/configuring-warmup-requests\" rel=\"nofollow noreferrer\">as also stated</a>.</p>\n<p>However, following the <a href=\"https://cloud.google.com/appengine/docs/standard/configuring-warmup-requests?tab=java#top\" rel=\"nofollow noreferrer\">latest documentation</a></p>\n<p>First you have to add below in <code>app.yaml</code>:</p>\n<pre><code>inbound_services:\n- warmup\n</code></pre>\n<p>Followed by defining a <em>handler</em> in you application and that could be as simple as:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/_ah/warmup&quot;)\npublic class WarmupController {\n\n    @GetMapping\n    @ResponseBody\n    public String warmup() {\n        // Perform any initialization or warming up tasks here.\n        // This code will be executed when a warmup request is received.\n        \n        // For example, you can potentially initialize database connections, cache, or other resources, depending on your application features.\n        // If there is nothing needed to be initiliased, you may just return &quot;Ok&quot;\n\n        return &quot;Ok! Warmup completed successfully.&quot;;\n    }\n}\n</code></pre>\n<p>To learn more about how to use warmup requests, <a href=\"https://cloud.google.com/appengine/docs/legacy/standard/java/warmup-requests/configuring\" rel=\"nofollow noreferrer\">see Configuring warmup requests</a>.</p>\n<p>Lastly, also good to mention, since not sure what your application does, but if you want to have a <strong>defined number of instances</strong> , and not use the <code>automatic</code> scaling offering, there is also an option of <code>manual</code> scaling:</p>\n<pre><code>runtime: java17\ninstance_class: F1\n\nmanual_scaling:\n  instances: 1\n</code></pre>\n<p>With manual scaling, you have more control over the number of instances and can ensure that only one or 2 or 3 instance(s) is/are running if that's your requirement.</p>\n<p>However, it also means you need to manually manage the scaling and potentially monitor your application's resource utilisation to prevent overloading a single instance.</p>\n<p>Hope this information can help you decide what to choose based on your application usage/usecase etc.</p>\n"}],"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77040577,"answer_count":1,"score":0,"last_activity_date":1693861198,"creation_date":1693852783,"question_id":77039973,"body_markdown":"I have a Java / Spring app running on the standard environment. When inactive, the app is shut down and the next time someone wants to use it he has to wait for a few seconds. I would like to avoid this situation.\r\n\r\nMy app.yaml:\r\n```\r\nruntime: java17\r\ninstance_class: F1\r\n\r\nautomatic_scaling:\r\n  max_idle_instances: 1\r\n```","title":"How to prevent Google Engine app to be shutdown when inactive?","body":"<p>I have a Java / Spring app running on the standard environment. When inactive, the app is shut down and the next time someone wants to use it he has to wait for a few seconds. I would like to avoid this situation.</p>\n<p>My app.yaml:</p>\n<pre><code>runtime: java17\ninstance_class: F1\n\nautomatic_scaling:\n  max_idle_instances: 1\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":24163521,"reputation":1,"user_id":18126722,"display_name":"user18126722"},"score":0,"creation_date":1693891811,"post_id":77040523,"comment_id":135815321,"body_markdown":"Understand. But then, if I can&#39;t use this to refer to the outer class, then how it worked in first case? There, I also used this inside onClick method.","body":"Understand. But then, if I can&#39;t use this to refer to the outer class, then how it worked in first case? There, I also used this inside onClick method."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1693896004,"post_id":77040523,"comment_id":135815870,"body_markdown":"In the first case you use `this` inside goToSecondActivity which is outside the anonymous `View.OnClickListener`.","body":"In the first case you use <code>this</code> inside goToSecondActivity which is outside the anonymous <code>View.OnClickListener</code>."},{"owner":{"account_id":24163521,"reputation":1,"user_id":18126722,"display_name":"user18126722"},"score":0,"creation_date":1693907425,"post_id":77040523,"comment_id":135818032,"body_markdown":"Thanks a lot. I understand now completely.","body":"Thanks a lot. I understand now completely."}],"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693860315,"creation_date":1693860315,"answer_id":77040523,"question_id":77038588,"body_markdown":"If you used `this` in your code as below:\r\n\r\n    btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String userName = editText.getText().toString();\r\n   \r\n                Intent i = new Intent(this, SecondActivity.class);\r\n                                      ^^^^\r\n            }\r\n        });\r\n\r\nthen it produced compilation error because `this` inside the `onClick()` method refers to the instance of the anonymous inner class `View.OnClickListener`, not the outer `Activity` class. You can&#39;t use `this` to refer to the outer class from within an inner class. You have to use `getApplicationContext()` or `SomeActivity.this` (assuming your actiity is named SomeActivity) to refer to the context of the outer `Activity` class.","title":"When using explicit intent, why doesn&#39;t sometimes work (as first parameter) this, but works getApplicationContext() instead? What is the difference?","body":"<p>If you used <code>this</code> in your code as below:</p>\n<pre><code>btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String userName = editText.getText().toString();\n\n            Intent i = new Intent(this, SecondActivity.class);\n                                  ^^^^\n        }\n    });\n</code></pre>\n<p>then it produced compilation error because <code>this</code> inside the <code>onClick()</code> method refers to the instance of the anonymous inner class <code>View.OnClickListener</code>, not the outer <code>Activity</code> class. You can't use <code>this</code> to refer to the outer class from within an inner class. You have to use <code>getApplicationContext()</code> or <code>SomeActivity.this</code> (assuming your actiity is named SomeActivity) to refer to the context of the outer <code>Activity</code> class.</p>\n"}],"owner":{"account_id":24163521,"reputation":1,"user_id":18126722,"display_name":"user18126722"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693860315,"creation_date":1693837780,"question_id":77038588,"body_markdown":"In android studio, I want to use different component when click on some button. \r\nFirst, I did like this and it worked:\r\n\r\n   \r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        txt = findViewById((R.id.textView));\r\n        editText = findViewById(R.id.edit_text);\r\n        btn = findViewById(R.id.btn);\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String userName = editText.getText().toString();\r\n\r\n                goToSecondActivity();\r\n            }\r\n        });\r\n    }\r\n\tpublic void goToSecondActivity()\r\n\t{\r\n\tIntent intent = new Intent(this,SecondActivity.class);\r\n\r\n\t}\r\n\r\n\r\n\r\nBut in this case, for some reason **this** didn&#39;t work and I had to use getApplicationContext() instead, but why didn&#39;t work with **this**? As far as I know (correct me if I&#39;m wrong), this is referencing to the current context i.e mainActivity.\r\n\r\nCorrect:\r\n\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        txt = findViewById((R.id.textView));\r\n        editText = findViewById(R.id.edit_text);\r\n        btn = findViewById(R.id.btn);\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String userName = editText.getText().toString();\r\n\r\n                //Explicit intent\r\n\r\n                 //Part where error was\r\n                Intent i = new Intent(getApplicationContext(), SecondActivity.class);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n","title":"When using explicit intent, why doesn&#39;t sometimes work (as first parameter) this, but works getApplicationContext() instead? What is the difference?","body":"<p>In android studio, I want to use different component when click on some button.\nFirst, I did like this and it worked:</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    txt = findViewById((R.id.textView));\n    editText = findViewById(R.id.edit_text);\n    btn = findViewById(R.id.btn);\n\n    btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String userName = editText.getText().toString();\n\n            goToSecondActivity();\n        }\n    });\n}\npublic void goToSecondActivity()\n{\nIntent intent = new Intent(this,SecondActivity.class);\n\n}\n</code></pre>\n<p>But in this case, for some reason <strong>this</strong> didn't work and I had to use getApplicationContext() instead, but why didn't work with <strong>this</strong>? As far as I know (correct me if I'm wrong), this is referencing to the current context i.e mainActivity.</p>\n<p>Correct:</p>\n<pre><code>    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    txt = findViewById((R.id.textView));\n    editText = findViewById(R.id.edit_text);\n    btn = findViewById(R.id.btn);\n\n    btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String userName = editText.getText().toString();\n\n            //Explicit intent\n\n             //Part where error was\n            Intent i = new Intent(getApplicationContext(), SecondActivity.class);\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","spring","junit","mockito","spring-test"],"comments":[{"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"score":1,"creation_date":1650384898,"post_id":71927460,"comment_id":127100232,"body_markdown":"Why your autowired constructor does not assign the parameter to the instance variable? this.mapper = mapper?","body":"Why your autowired constructor does not assign the parameter to the instance variable? this.mapper = mapper?"},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1650453150,"post_id":71927460,"comment_id":127118348,"body_markdown":"@office.aizaz thank you I have fixed it","body":"@office.aizaz thank you I have fixed it"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693860256,"creation_date":1650381974,"question_id":71927460,"body_markdown":"I need to mock some class that contains ```@PostConstruct``` method, but I get ```NullPointerException``` inside ```@PostConstruct``` method. \r\n\r\nMy code looks like the following:\r\n```\r\n@SpringJUnitConfig(MyTestClass.Config.class)\r\nclass MyTestClass {\r\n    @Autowired\r\n    MyClass myClass;\r\n\r\n    @Autowired\r\n    MyService service;\r\n\r\n    @Test\r\n    void testService() {\r\n        assertNotNull(myClass);\r\n    }\r\n\r\n    @Configuration\r\n    static class Config {\r\n        @Bean\r\n        MyService service(MyClass myClass) {\r\n             return Mockito.spy(new MyService(myClass));\r\n        }\r\n\r\n        @Bean\r\n        MyClass myClass() {\r\n            return mock(MyClass.class);\r\n        }\r\n\r\n        @Bean\r\n        ObjectMapper mapper() {\r\n            return new ObjectMapper();\r\n        }\r\n\r\n    }\r\n}\r\n\r\npublic class MyClass {\r\n    private ObjectMapper mapper;\r\n\r\n    @Autowired\r\n    public MyClass(ObjectMapper mapper) {\r\n          this.mapper = mapper;\r\n    }\r\n    \r\n    @PostConstruct\r\n    void init() {\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true); // I get NPE because mapper is null.\r\n    }\r\n}\r\n```\r\nHow can I avoid this exception? I can&#39;t use @MockBean, because I have to inject this mock into another bean.","title":"How to mock bean with @PostConstruct method","body":"<p>I need to mock some class that contains <code>@PostConstruct</code> method, but I get <code>NullPointerException</code> inside <code>@PostConstruct</code> method.</p>\n<p>My code looks like the following:</p>\n<pre><code>@SpringJUnitConfig(MyTestClass.Config.class)\nclass MyTestClass {\n    @Autowired\n    MyClass myClass;\n\n    @Autowired\n    MyService service;\n\n    @Test\n    void testService() {\n        assertNotNull(myClass);\n    }\n\n    @Configuration\n    static class Config {\n        @Bean\n        MyService service(MyClass myClass) {\n             return Mockito.spy(new MyService(myClass));\n        }\n\n        @Bean\n        MyClass myClass() {\n            return mock(MyClass.class);\n        }\n\n        @Bean\n        ObjectMapper mapper() {\n            return new ObjectMapper();\n        }\n\n    }\n}\n\npublic class MyClass {\n    private ObjectMapper mapper;\n\n    @Autowired\n    public MyClass(ObjectMapper mapper) {\n          this.mapper = mapper;\n    }\n    \n    @PostConstruct\n    void init() {\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true); // I get NPE because mapper is null.\n    }\n}\n</code></pre>\n<p>How can I avoid this exception? I can't use @MockBean, because I have to inject this mock into another bean.</p>\n"},{"tags":["java","windows","amazon-kinesis"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1693860117,"post_id":77040384,"comment_id":135812729,"body_markdown":"The first line of your error literally says what the error is. The native part of the SDK (KinesisVideoProducerJNI.dll) requires some DLLs that are not present on your system. use dependencies.exe or dependency walker to see which ones.","body":"The first line of your error literally says what the error is. The native part of the SDK (KinesisVideoProducerJNI.dll) requires some DLLs that are not present on your system. use dependencies.exe or dependency walker to see which ones."},{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1693860596,"post_id":77040384,"comment_id":135812793,"body_markdown":"See `ailed loading native library StatusCode: 0xd`. One of the DLL  can not be found at `src/main/resources/lib/windows`","body":"See <code>ailed loading native library StatusCode: 0xd</code>. One of the DLL  can not be found at <code>src&#47;main&#47;resources&#47;lib&#47;windows</code>"},{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1693860671,"post_id":77040384,"comment_id":135812804,"body_markdown":"BTW This is duplicate of https://stackoverflow.com/questions/69614197/aws-kinesis-video-streams-producer-sdk-java-jni-exception","body":"BTW This is duplicate of <a href=\"https://stackoverflow.com/questions/69614197/aws-kinesis-video-streams-producer-sdk-java-jni-exception\" title=\"aws kinesis video streams producer sdk java jni exception\">stackoverflow.com/questions/69614197/&hellip;</a>"},{"owner":{"account_id":29102975,"reputation":19,"user_id":22294397,"display_name":"Manish Taneja"},"score":0,"creation_date":1693910087,"post_id":77040384,"comment_id":135818568,"body_markdown":"@VictorGUbin In that questin, the guy didn&#39;t specify the correct path, and I can&#39;t figure out which DLLs are missing. It&#39;s not a duplicate.","body":"@VictorGUbin In that questin, the guy didn&#39;t specify the correct path, and I can&#39;t figure out which DLLs are missing. It&#39;s not a duplicate."},{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1694028325,"post_id":77040384,"comment_id":135839014,"body_markdown":"Check your stack trace `KinesisVideoProducerJNI.dll`. If DLL it there check that this DLL have same architecture as your JVM, I.e. if you Java for Windows x64 -  KinesisVideoProducerJNI.dll must be x64 not x32, ARM or what ever else.","body":"Check your stack trace <code>KinesisVideoProducerJNI.dll</code>. If DLL it there check that this DLL have same architecture as your JVM, I.e. if you Java for Windows x64 -  KinesisVideoProducerJNI.dll must be x64 not x32, ARM or what ever else."}],"owner":{"account_id":29102975,"reputation":19,"user_id":22294397,"display_name":"Manish Taneja"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693860125,"creation_date":1693858419,"question_id":77040384,"body_markdown":"I&#39;ve followed this [tutorial](https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/producer-sdk-javaapi.html) but I&#39;m not able to build this sdk, I&#39;m getting the following error:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; 01:34:40.783 [main] ERROR com.amazonaws.kinesisvideo.java.client.KinesisVideoJavaClientFactory - Unsatisfied link error.\r\njava.lang.UnsatisfiedLinkError: C:\\Users\\Username\\amazon-kinesis-video-streams-producer-sdk-java\\src\\main\\resources\\lib\\windows\\KinesisVideoProducerJNI.dll: Can&#39;t find dependent libraries\r\n\tat jdk.internal.loader.NativeLibraries.load(Native Method) ~[?:?]\r\n\tat jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388) ~[?:?]\r\n\tat jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232) ~[?:?]\r\n\tat jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:174) ~[?:?]\r\n\tat jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:315) ~[?:?]\r\n\tat jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:287) ~[?:?]\r\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:2427) ~[?:?]\r\n\tat java.lang.Runtime.loadLibrary0(Runtime.java:818) ~[?:?]\r\n\tat java.lang.System.loadLibrary(System.java:1989) ~[?:?]\r\n\tat com.amazonaws.kinesisvideo.internal.producer.jni.NativeLibraryLoader.loadNativeLibraryIndirect(NativeLibraryLoader.java:76) [classes/:?]\r\n\tat com.amazonaws.kinesisvideo.internal.producer.jni.NativeLibraryLoader.loadNativeLibrary(NativeLibraryLoader.java:44) [classes/:?]\r\n\tat com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.initializeLibrary(NativeKinesisVideoProducerJni.java:1175) [classes/:?]\r\n\tat com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.create(NativeKinesisVideoProducerJni.java:228) [classes/:?]\r\n\tat com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.createSync(NativeKinesisVideoProducerJni.java:246) [classes/:?]\r\n\tat com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.createSync(NativeKinesisVideoProducerJni.java:211) [classes/:?]\r\n\tat com.amazonaws.kinesisvideo.internal.client.NativeKinesisVideoClient.initializeNewKinesisVideoProducer(NativeKinesisVideoClient.java:239) [classes/:?]\r\n\tat com.amazonaws.kinesisvideo.internal.client.NativeKinesisVideoClient.initialize(NativeKinesisVideoClient.java:119) [classes/:?]\r\n\tat com.amazonaws.kinesisvideo.java.client.KinesisVideoJavaClientFactory.createKinesisVideoClient(KinesisVideoJavaClientFactory.java:111) [classes/:?]\r\n\tat com.amazonaws.kinesisvideo.java.client.KinesisVideoJavaClientFactory.createKinesisVideoClient(KinesisVideoJavaClientFactory.java:84) [classes/:?]\r\n\tat com.amazonaws.kinesisvideo.demoapp.DemoAppMain.main(DemoAppMain.java:42) [classes/:?]\r\njava.lang.RuntimeException: com.amazonaws.kinesisvideo.producer.ProducerException: Failed loading native library StatusCode: 0xd\r\n\tat com.amazonaws.kinesisvideo.demoapp.DemoAppMain.main(DemoAppMain.java:59)\r\nCaused by: com.amazonaws.kinesisvideo.producer.ProducerException: Failed loading native library StatusCode: 0xd\r\n\tat com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.initializeLibrary(NativeKinesisVideoProducerJni.java:1176)\r\n\tat com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.create(NativeKinesisVideoProducerJni.java:228)\r\n\tat com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.createSync(NativeKinesisVideoProducerJni.java:246)\r\n\tat com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.createSync(NativeKinesisVideoProducerJni.java:211)\r\n\tat com.amazonaws.kinesisvideo.internal.client.NativeKinesisVideoClient.initializeNewKinesisVideoProducer(NativeKinesisVideoClient.java:239)\r\n\tat com.amazonaws.kinesisvideo.internal.client.NativeKinesisVideoClient.initialize(NativeKinesisVideoClient.java:119)\r\n\tat com.amazonaws.kinesisvideo.java.client.KinesisVideoJavaClientFactory.createKinesisVideoClient(KinesisVideoJavaClientFactory.java:111)\r\n\tat com.amazonaws.kinesisvideo.java.client.KinesisVideoJavaClientFactory.createKinesisVideoClient(KinesisVideoJavaClientFactory.java:84)\r\n\tat com.amazonaws.kinesisvideo.demoapp.DemoAppMain.main(DemoAppMain.java:42)\r\n\r\n```\r\n\r\nVM arguments set by me: \r\n```\r\n-Daws.accessKeyId=fake_key -Daws.secretKey=fake_secret_key -Djava.library.path=src/main/resources/lib/windows\r\n```\r\n\r\n\r\nI dont understand where the problem could be..","title":"Unable to install Amazon Kinesis Video Streams Producer SDK Java","body":"<p>I've followed this <a href=\"https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/producer-sdk-javaapi.html\" rel=\"nofollow noreferrer\">tutorial</a> but I'm not able to build this sdk, I'm getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; 01:34:40.783 [main] ERROR com.amazonaws.kinesisvideo.java.client.KinesisVideoJavaClientFactory - Unsatisfied link error.\njava.lang.UnsatisfiedLinkError: C:\\Users\\Username\\amazon-kinesis-video-streams-producer-sdk-java\\src\\main\\resources\\lib\\windows\\KinesisVideoProducerJNI.dll: Can't find dependent libraries\n    at jdk.internal.loader.NativeLibraries.load(Native Method) ~[?:?]\n    at jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388) ~[?:?]\n    at jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232) ~[?:?]\n    at jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:174) ~[?:?]\n    at jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:315) ~[?:?]\n    at jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:287) ~[?:?]\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:2427) ~[?:?]\n    at java.lang.Runtime.loadLibrary0(Runtime.java:818) ~[?:?]\n    at java.lang.System.loadLibrary(System.java:1989) ~[?:?]\n    at com.amazonaws.kinesisvideo.internal.producer.jni.NativeLibraryLoader.loadNativeLibraryIndirect(NativeLibraryLoader.java:76) [classes/:?]\n    at com.amazonaws.kinesisvideo.internal.producer.jni.NativeLibraryLoader.loadNativeLibrary(NativeLibraryLoader.java:44) [classes/:?]\n    at com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.initializeLibrary(NativeKinesisVideoProducerJni.java:1175) [classes/:?]\n    at com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.create(NativeKinesisVideoProducerJni.java:228) [classes/:?]\n    at com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.createSync(NativeKinesisVideoProducerJni.java:246) [classes/:?]\n    at com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.createSync(NativeKinesisVideoProducerJni.java:211) [classes/:?]\n    at com.amazonaws.kinesisvideo.internal.client.NativeKinesisVideoClient.initializeNewKinesisVideoProducer(NativeKinesisVideoClient.java:239) [classes/:?]\n    at com.amazonaws.kinesisvideo.internal.client.NativeKinesisVideoClient.initialize(NativeKinesisVideoClient.java:119) [classes/:?]\n    at com.amazonaws.kinesisvideo.java.client.KinesisVideoJavaClientFactory.createKinesisVideoClient(KinesisVideoJavaClientFactory.java:111) [classes/:?]\n    at com.amazonaws.kinesisvideo.java.client.KinesisVideoJavaClientFactory.createKinesisVideoClient(KinesisVideoJavaClientFactory.java:84) [classes/:?]\n    at com.amazonaws.kinesisvideo.demoapp.DemoAppMain.main(DemoAppMain.java:42) [classes/:?]\njava.lang.RuntimeException: com.amazonaws.kinesisvideo.producer.ProducerException: Failed loading native library StatusCode: 0xd\n    at com.amazonaws.kinesisvideo.demoapp.DemoAppMain.main(DemoAppMain.java:59)\nCaused by: com.amazonaws.kinesisvideo.producer.ProducerException: Failed loading native library StatusCode: 0xd\n    at com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.initializeLibrary(NativeKinesisVideoProducerJni.java:1176)\n    at com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.create(NativeKinesisVideoProducerJni.java:228)\n    at com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.createSync(NativeKinesisVideoProducerJni.java:246)\n    at com.amazonaws.kinesisvideo.internal.producer.jni.NativeKinesisVideoProducerJni.createSync(NativeKinesisVideoProducerJni.java:211)\n    at com.amazonaws.kinesisvideo.internal.client.NativeKinesisVideoClient.initializeNewKinesisVideoProducer(NativeKinesisVideoClient.java:239)\n    at com.amazonaws.kinesisvideo.internal.client.NativeKinesisVideoClient.initialize(NativeKinesisVideoClient.java:119)\n    at com.amazonaws.kinesisvideo.java.client.KinesisVideoJavaClientFactory.createKinesisVideoClient(KinesisVideoJavaClientFactory.java:111)\n    at com.amazonaws.kinesisvideo.java.client.KinesisVideoJavaClientFactory.createKinesisVideoClient(KinesisVideoJavaClientFactory.java:84)\n    at com.amazonaws.kinesisvideo.demoapp.DemoAppMain.main(DemoAppMain.java:42)\n\n</code></pre>\n<p>VM arguments set by me:</p>\n<pre><code>-Daws.accessKeyId=fake_key -Daws.secretKey=fake_secret_key -Djava.library.path=src/main/resources/lib/windows\n</code></pre>\n<p>I dont understand where the problem could be..</p>\n"},{"tags":["java","react-native","android-activity","react-native-gesture-handler"],"owner":{"account_id":2271116,"reputation":48,"user_id":1998495,"accept_rate":50,"display_name":"superyarik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693860102,"creation_date":1693860102,"question_id":77040514,"body_markdown":"code to modify:\r\n```lang-java\r\n@Override\r\n  protected ReactActivityDelegate createReactActivityDelegate() {\r\n    return new ReactActivityDelegateWrapper(this, BuildConfig.IS_NEW_ARCHITECTURE_ENABLED, new DefaultReactActivityDelegate(\r\n        this,\r\n        getMainComponentName(),\r\n        // If you opted-in for the New Architecture, we enable the Fabric Renderer.\r\n        DefaultNewArchitectureEntryPoint.getFabricEnabled(), // fabricEnabled\r\n        // If you opted-in for the New Architecture, we enable Concurrent React (i.e. React 18).\r\n        DefaultNewArchitectureEntryPoint.getConcurrentReactEnabled() // concurrentRootEnabled\r\n        ));\r\n  }\r\n```\r\nneed to modify **new DefaultReactActivityDelegate** call to include curly brackets with @Override like here:\r\n\r\n\r\n```lang-java\r\n@Override\r\n     protected ReactActivityDelegate createReactActivityDelegate() {\r\n       return new DefaultReactActivityDelegate(\r\n           this,\r\n           getMainComponentName(),\r\n           // If you opted-in for the New Architecture, we enable the Fabric Renderer.\r\n           DefaultNewArchitectureEntryPoint.getFabricEnabled(), // fabricEnabled\r\n           // If you opted-in for the New Architecture, we enable Concurrent React (i.e. React 18).\r\n           DefaultNewArchitectureEntryPoint.getConcurrentReactEnabled() // concurrentRootEnabled\r\n       ) {\r\n         @Override\r\n         protected ReactRootView createRootView() {\r\n           return new RNGestureHandlerEnabledRootView(MainActivity.this);\r\n         }\r\n       };\r\n     }\r\n```","title":"React Native MainActivity.java ReactActivityDelegateWrapper() how to merge two necessary methods","body":"<p>code to modify:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n  protected ReactActivityDelegate createReactActivityDelegate() {\n    return new ReactActivityDelegateWrapper(this, BuildConfig.IS_NEW_ARCHITECTURE_ENABLED, new DefaultReactActivityDelegate(\n        this,\n        getMainComponentName(),\n        // If you opted-in for the New Architecture, we enable the Fabric Renderer.\n        DefaultNewArchitectureEntryPoint.getFabricEnabled(), // fabricEnabled\n        // If you opted-in for the New Architecture, we enable Concurrent React (i.e. React 18).\n        DefaultNewArchitectureEntryPoint.getConcurrentReactEnabled() // concurrentRootEnabled\n        ));\n  }\n</code></pre>\n<p>need to modify <strong>new DefaultReactActivityDelegate</strong> call to include curly brackets with @Override like here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n     protected ReactActivityDelegate createReactActivityDelegate() {\n       return new DefaultReactActivityDelegate(\n           this,\n           getMainComponentName(),\n           // If you opted-in for the New Architecture, we enable the Fabric Renderer.\n           DefaultNewArchitectureEntryPoint.getFabricEnabled(), // fabricEnabled\n           // If you opted-in for the New Architecture, we enable Concurrent React (i.e. React 18).\n           DefaultNewArchitectureEntryPoint.getConcurrentReactEnabled() // concurrentRootEnabled\n       ) {\n         @Override\n         protected ReactRootView createRootView() {\n           return new RNGestureHandlerEnabledRootView(MainActivity.this);\n         }\n       };\n     }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","h2"],"comments":[{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":2,"creation_date":1693786225,"post_id":77034179,"comment_id":135802485,"body_markdown":"https://stackoverflow.com/questions/72402946/h2-auto-increment-not-working-after-update-from-1-4-200-to-2-1-212/72405103#72405103","body":"<a href=\"https://stackoverflow.com/questions/72402946/h2-auto-increment-not-working-after-update-from-1-4-200-to-2-1-212/72405103#72405103\" title=\"h2 auto increment not working after update from 1 4 200 to 2 1 212\">stackoverflow.com/questions/72402946/&hellip;</a>"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1693858997,"post_id":77034179,"comment_id":135812596,"body_markdown":"Does this answer your question? [H2 auto-increment not working after update from 1.4.200 to 2.1.212](https://stackoverflow.com/questions/72402946/h2-auto-increment-not-working-after-update-from-1-4-200-to-2-1-212)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72402946/h2-auto-increment-not-working-after-update-from-1-4-200-to-2-1-212\">H2 auto-increment not working after update from 1.4.200 to 2.1.212</a>"},{"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"score":0,"creation_date":1693859372,"post_id":77034179,"comment_id":135812649,"body_markdown":"Just tried first solution and it works, the problem was in my data.sql file, i needed to remove id insertion there and everything started to work. Thank you for the help guys!","body":"Just tried first solution and it works, the problem was in my data.sql file, i needed to remove id insertion there and everything started to work. Thank you for the help guys!"}],"answers":[{"tags":[],"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693859716,"creation_date":1693859716,"answer_id":77040482,"question_id":77034179,"body_markdown":"Thanks to Evgenij Ryazanov and Mar-Z for helpfull links ([first][1], [second][2]). As i said in comments, the problem was in my data.sql file, in short - i needed to remove id insertion from there because it did not allow to generate correct ids.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72402946/h2-auto-increment-not-working-after-update-from-1-4-200-to-2-1-212/72405103#72405103\r\n  [2]: https://stackoverflow.com/questions/72402946/h2-auto-increment-not-working-after-update-from-1-4-200-to-2-1-212","title":"Hibernate not generating correct id","body":"<p>Thanks to Evgenij Ryazanov and Mar-Z for helpfull links (<a href=\"https://stackoverflow.com/questions/72402946/h2-auto-increment-not-working-after-update-from-1-4-200-to-2-1-212/72405103#72405103\">first</a>, <a href=\"https://stackoverflow.com/questions/72402946/h2-auto-increment-not-working-after-update-from-1-4-200-to-2-1-212\">second</a>). As i said in comments, the problem was in my data.sql file, in short - i needed to remove id insertion from there because it did not allow to generate correct ids.</p>\n"}],"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77040482,"answer_count":1,"score":0,"last_activity_date":1693859716,"creation_date":1693775384,"question_id":77034179,"body_markdown":"I am developing my spring boot project and using data.sql file to load some test data to my DB. I am using H2 in-memory DB for this. The problem is, that when i am trying to add some data using my application, hibernate set `default` paramentr in the place where id shoul be. Because of this i have this exception:\r\n\r\n    Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.COMPANY_BRANCH(ID) ( /* key:1 */ CAST(1 AS BIGINT), &#39;500000 RUB&#39;, &#39;Rosebank&#39;, &#39;South Africa&#39;, &#39;987-364-9956&#39;, &#39;Bultman&#39;, &#39;7945&#39;)&quot;; SQL statement:\r\n    insert into company_branch (company_branch_budget,company_branch_city,company_branch_country,company_branch_street,company_branch_zip_code,company_branch_phone_number,id) values (?,?,?,?,?,?,default) [23505-214]\r\n\r\nThis is the query hibernate generating\r\n\r\n    insert \r\n        into\r\n            company_branch\r\n            (company_branch_budget,company_branch_city,company_branch_country,company_branch_street,company_branch_zip_code,company_branch_phone_number,id) \r\n        values\r\n            (?,?,?,?,?,?,default)\r\n\r\nLooks like it setting as default id 1, but this id is already taken by the first row in data.sql file.\r\n\r\nHere is my EntityClass:\r\n\r\n    @Entity\r\n    @Table(name = &quot;COMPANY_BRANCH&quot;)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class CompanyBranch {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotNull\r\n        @Convert(\r\n                converter = MoneyConverter.class\r\n        )\r\n        @Column(name = &quot;COMPANY_BRANCH_BUDGET&quot;, length = 63)\r\n        private Money budget;\r\n    \r\n        @Embedded\r\n        @NotNull\r\n        @AttributeOverrides({\r\n                @AttributeOverride(name = &quot;city&quot;,\r\n                    column = @Column(name = &quot;COMPANY_BRANCH_CITY&quot;)),\r\n                @AttributeOverride(name = &quot;zipCode&quot;,\r\n                    column = @Column(name = &quot;COMPANY_BRANCH_ZIP_CODE&quot;)),\r\n                @AttributeOverride(name = &quot;street&quot;,\r\n                    column = @Column(name = &quot;COMPANY_BRANCH_STREET&quot;)),\r\n                @AttributeOverride(name = &quot;country&quot;,\r\n                column = @Column(name = &quot;COMPANY_BRANCH_COUNTRY&quot;))\r\n        })\r\n        private Address companyBranchAddress;\r\n    \r\n        @NotNull\r\n        @NotBlank(message = &quot;Номер телефона не должен быть пустым&quot;)\r\n        @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\r\n                message = &quot;Неверный формат номера!&quot;)\r\n        @Column(name = &quot;COMPANY_BRANCH_PHONE_NUMBER&quot;)\r\n        private String phoneNumber;\r\n    \r\n    \r\n        @OneToMany(mappedBy = &quot;companyBranch&quot;, cascade = CascadeType.ALL)\r\n        private Set&lt;Department&gt; departments = new HashSet&lt;&gt;();\r\n    \r\n        public void addDepartment(Department department) {\r\n            this.departments.add(department);\r\n            department.setCompanyBranch(this);\r\n        }\r\n    \r\n        public void removeDepartment(Department department) {\r\n            this.departments.remove(department);\r\n            department.setCompanyBranch(null);\r\n        }\r\n    }\r\n\r\nHere is my dto class\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    public class CompanyBranchDTO {\r\n        private Long id;\r\n    \r\n        @NotNull\r\n        @Valid\r\n        private Money budget;\r\n    \r\n        @NotNull\r\n        @Valid\r\n        private Address companyBranchAddress;\r\n    \r\n        @NotNull\r\n        @NotBlank(message = &quot;Номер телефона не должен быть пустым&quot;)\r\n        @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\r\n                message = &quot;Неверный формат номера!&quot;)\r\n        private String phoneNumber;\r\n        private Set&lt;DepartmentDTO&gt; departments;\r\n    }\r\n\r\nThis is how my controller works\r\n\r\n    @GetMapping(&quot;/new&quot;)\r\n        public String createBranch(Model model) {\r\n            CompanyBranchDTO companyBranchDTO = new CompanyBranchDTO();\r\n    \r\n            model.addAttribute(&quot;companyBranchDTO&quot;, companyBranchDTO);\r\n            return &quot;createCompanyBranch&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/new&quot;)\r\n        public String createBranchPost(@ModelAttribute(&quot;companyBranchDTO&quot;) @Valid CompanyBranchDTO companyBranchDTO,\r\n                                       BindingResult bindingResult) {\r\n            if (bindingResult.hasErrors()) return &quot;createCompanyBranch&quot;;\r\n    \r\n            CompanyBranch companyBranchEntity = companyBranchMapper.toEntity(companyBranchDTO);\r\n            companyBranchService.createOrUpdateCompanyBranch(companyBranchEntity);\r\n    \r\n            return &quot;redirect:/companyBranches&quot;;\r\n        }\r\n\r\nIt is getting dto from html form and then converting it into entity. This is how entity is being saved in my service class\r\n\r\n    public CompanyBranch createOrUpdateCompanyBranch(CompanyBranch companyBranch) {\r\n            return  companyBranchRepository.saveAndFlush(companyBranch);\r\n        }\r\n\r\nI thin the problem is connected to my data.sql file somehow, but i dont know how. Maybe someone knows the answer? I would be very thankful.","title":"Hibernate not generating correct id","body":"<p>I am developing my spring boot project and using data.sql file to load some test data to my DB. I am using H2 in-memory DB for this. The problem is, that when i am trying to add some data using my application, hibernate set <code>default</code> paramentr in the place where id shoul be. Because of this i have this exception:</p>\n<pre><code>Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.COMPANY_BRANCH(ID) ( /* key:1 */ CAST(1 AS BIGINT), '500000 RUB', 'Rosebank', 'South Africa', '987-364-9956', 'Bultman', '7945')&quot;; SQL statement:\ninsert into company_branch (company_branch_budget,company_branch_city,company_branch_country,company_branch_street,company_branch_zip_code,company_branch_phone_number,id) values (?,?,?,?,?,?,default) [23505-214]\n</code></pre>\n<p>This is the query hibernate generating</p>\n<pre><code>insert \n    into\n        company_branch\n        (company_branch_budget,company_branch_city,company_branch_country,company_branch_street,company_branch_zip_code,company_branch_phone_number,id) \n    values\n        (?,?,?,?,?,?,default)\n</code></pre>\n<p>Looks like it setting as default id 1, but this id is already taken by the first row in data.sql file.</p>\n<p>Here is my EntityClass:</p>\n<pre><code>@Entity\n@Table(name = &quot;COMPANY_BRANCH&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CompanyBranch {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @Convert(\n            converter = MoneyConverter.class\n    )\n    @Column(name = &quot;COMPANY_BRANCH_BUDGET&quot;, length = 63)\n    private Money budget;\n\n    @Embedded\n    @NotNull\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;city&quot;,\n                column = @Column(name = &quot;COMPANY_BRANCH_CITY&quot;)),\n            @AttributeOverride(name = &quot;zipCode&quot;,\n                column = @Column(name = &quot;COMPANY_BRANCH_ZIP_CODE&quot;)),\n            @AttributeOverride(name = &quot;street&quot;,\n                column = @Column(name = &quot;COMPANY_BRANCH_STREET&quot;)),\n            @AttributeOverride(name = &quot;country&quot;,\n            column = @Column(name = &quot;COMPANY_BRANCH_COUNTRY&quot;))\n    })\n    private Address companyBranchAddress;\n\n    @NotNull\n    @NotBlank(message = &quot;Номер телефона не должен быть пустым&quot;)\n    @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\n            message = &quot;Неверный формат номера!&quot;)\n    @Column(name = &quot;COMPANY_BRANCH_PHONE_NUMBER&quot;)\n    private String phoneNumber;\n\n\n    @OneToMany(mappedBy = &quot;companyBranch&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Department&gt; departments = new HashSet&lt;&gt;();\n\n    public void addDepartment(Department department) {\n        this.departments.add(department);\n        department.setCompanyBranch(this);\n    }\n\n    public void removeDepartment(Department department) {\n        this.departments.remove(department);\n        department.setCompanyBranch(null);\n    }\n}\n</code></pre>\n<p>Here is my dto class</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class CompanyBranchDTO {\n    private Long id;\n\n    @NotNull\n    @Valid\n    private Money budget;\n\n    @NotNull\n    @Valid\n    private Address companyBranchAddress;\n\n    @NotNull\n    @NotBlank(message = &quot;Номер телефона не должен быть пустым&quot;)\n    @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\n            message = &quot;Неверный формат номера!&quot;)\n    private String phoneNumber;\n    private Set&lt;DepartmentDTO&gt; departments;\n}\n</code></pre>\n<p>This is how my controller works</p>\n<pre><code>@GetMapping(&quot;/new&quot;)\n    public String createBranch(Model model) {\n        CompanyBranchDTO companyBranchDTO = new CompanyBranchDTO();\n\n        model.addAttribute(&quot;companyBranchDTO&quot;, companyBranchDTO);\n        return &quot;createCompanyBranch&quot;;\n    }\n\n    @PostMapping(&quot;/new&quot;)\n    public String createBranchPost(@ModelAttribute(&quot;companyBranchDTO&quot;) @Valid CompanyBranchDTO companyBranchDTO,\n                                   BindingResult bindingResult) {\n        if (bindingResult.hasErrors()) return &quot;createCompanyBranch&quot;;\n\n        CompanyBranch companyBranchEntity = companyBranchMapper.toEntity(companyBranchDTO);\n        companyBranchService.createOrUpdateCompanyBranch(companyBranchEntity);\n\n        return &quot;redirect:/companyBranches&quot;;\n    }\n</code></pre>\n<p>It is getting dto from html form and then converting it into entity. This is how entity is being saved in my service class</p>\n<pre><code>public CompanyBranch createOrUpdateCompanyBranch(CompanyBranch companyBranch) {\n        return  companyBranchRepository.saveAndFlush(companyBranch);\n    }\n</code></pre>\n<p>I thin the problem is connected to my data.sql file somehow, but i dont know how. Maybe someone knows the answer? I would be very thankful.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1693895905,"post_id":77040473,"comment_id":135815855,"body_markdown":"I think you misunderstand how `@Qualifier` works. If you use `@Qualifier` when you autowire the `AnimalProcessor`, then Spring expects that there are two separate Spring beans of type `AnimalProcessor` with the names `&quot;Cat&quot;` and `&quot;Dog&quot;`. But you have only one `AnimalProcessor` and you expect it to somehow know if it has been called by class `CatController` or class `DogController`. You should setup your app context with two instances of `AnimalController`, each with the appropriate `Fetcher`.","body":"I think you misunderstand how <code>@Qualifier</code> works. If you use <code>@Qualifier</code> when you autowire the <code>AnimalProcessor</code>, then Spring expects that there are two separate Spring beans of type <code>AnimalProcessor</code> with the names <code>&quot;Cat&quot;</code> and <code>&quot;Dog&quot;</code>. But you have only one <code>AnimalProcessor</code> and you expect it to somehow know if it has been called by class <code>CatController</code> or class <code>DogController</code>. You should setup your app context with two instances of <code>AnimalController</code>, each with the appropriate <code>Fetcher</code>."},{"owner":{"account_id":11957370,"reputation":59,"user_id":8749307,"display_name":"sss"},"score":0,"creation_date":1693925170,"post_id":77040473,"comment_id":135822041,"body_markdown":"I&#39;m aware that manually creating the instances is an option as a bean. What I was hoping was that I could apply a Qualifier to nested properties. The benefit is that I could use AutoWired rather than needing to manually instantiate everything as a bean.","body":"I&#39;m aware that manually creating the instances is an option as a bean. What I was hoping was that I could apply a Qualifier to nested properties. The benefit is that I could use AutoWired rather than needing to manually instantiate everything as a bean."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1693926818,"post_id":77040473,"comment_id":135822431,"body_markdown":"Spring does not support applying qualifiers to nested properties in that way.","body":"Spring does not support applying qualifiers to nested properties in that way."}],"owner":{"account_id":11957370,"reputation":59,"user_id":8749307,"display_name":"sss"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693859614,"creation_date":1693859614,"question_id":77040473,"body_markdown":"I am having trouble trying to leverage AutoWired while using multiple implementations\r\n\r\nSuppose I have the class structure below. How could I use autowired to somehow was the qualifier down to the AnimalProcessor class to then select which Fetcher I want. There is no need for a Factory here as this would be static.\r\n\r\nThanks,\r\n\r\nI know I could potentially solve this with generics but suppose the needs are similar. I&#39;m also aware that perhaps this means my class structure is improper - I don&#39;t believe it is as this would be fairly simple with dagger2.\r\n\r\n\r\n```\r\nCatController {\r\n\r\n@Qualifier(&quot;Cat&quot;) @NonNull private final AnimalProcessor processor;\r\n\r\n} \r\n```\r\n\r\n```\r\nDogController {\r\n\r\n@Qualifier(&quot;Dog&quot;) @NonNull private final AnimalProcessor processor;\r\n\r\n} \r\n\r\n```\r\nAnimalProcessor implements Processor {\r\n@NonNull private final Fetcher fetcher;\r\n\r\npublic void doSomething() {\r\n}\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n```\r\npublic class CatFetcher implements Fetcher {\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class DogFetcher implements Fetcher {\r\n}\r\n\r\n```","title":"Do Spring Qualifier annotations get passed down dependency chain?","body":"<p>I am having trouble trying to leverage AutoWired while using multiple implementations</p>\n<p>Suppose I have the class structure below. How could I use autowired to somehow was the qualifier down to the AnimalProcessor class to then select which Fetcher I want. There is no need for a Factory here as this would be static.</p>\n<p>Thanks,</p>\n<p>I know I could potentially solve this with generics but suppose the needs are similar. I'm also aware that perhaps this means my class structure is improper - I don't believe it is as this would be fairly simple with dagger2.</p>\n<pre><code>CatController {\n\n@Qualifier(&quot;Cat&quot;) @NonNull private final AnimalProcessor processor;\n\n} \n</code></pre>\n<pre><code>DogController {\n\n@Qualifier(&quot;Dog&quot;) @NonNull private final AnimalProcessor processor;\n\n} \n\n</code></pre>\n<p>AnimalProcessor implements Processor {\n@NonNull private final Fetcher fetcher;</p>\n<p>public void doSomething() {\n}</p>\n<p>}</p>\n<pre><code>\n\n</code></pre>\n<p>public class CatFetcher implements Fetcher {\n}</p>\n<pre><code>\n</code></pre>\n<p>public class DogFetcher implements Fetcher {\n}</p>\n<pre><code></code></pre>\n"},{"tags":["java","intellij-idea","junit5"],"comments":[{"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"score":1,"creation_date":1694104206,"post_id":77038456,"comment_id":135850574,"body_markdown":"Currently it&#39;s not possible for JUnit in IDEA. And if gradle is used, then it&#39;s even less possible:\nhttps://github.com/gradle/gradle/issues/19897; \nhttps://youtrack.jetbrains.com/issue/IDEA-325859","body":"Currently it&#39;s not possible for JUnit in IDEA. And if gradle is used, then it&#39;s even less possible: <a href=\"https://github.com/gradle/gradle/issues/19897\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/19897</a>;  <a href=\"https://youtrack.jetbrains.com/issue/IDEA-325859\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-325859</a>"}],"answers":[{"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693859537,"creation_date":1693859537,"answer_id":77040466,"question_id":77038456,"body_markdown":"A simple and straightforward solution is to create another test method that calls the parameterized method with the parameters of your choice. ","title":"How do I run a single variant of a parametrized JUnit5 test from the code pane?","body":"<p>A simple and straightforward solution is to create another test method that calls the parameterized method with the parameters of your choice.</p>\n"}],"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693859537,"creation_date":1693836717,"question_id":77038456,"body_markdown":"IntelliJ/GoLand has a [feature to run a single test from a table test][1] through a gutter icon:\r\n\r\n[![IntelliJ Go tests screenshot][2]][2]\r\n\r\nIn Java, I am using JUnit5. Can I write a parameterized test (which is JUnit equivalent of a table test) so that IntelliJ allows me to directly run it from the code pane with a specified combination of parameters?\r\n\r\nCurrently, the best I can do is to trigger running all versions of the parameterized test (one by one) and then select and rerun the variant I need from the results window. This is discussed in Q: https://stackoverflow.com/questions/16517300/junit-parameterized-tests-how-do-i-run-only-1-specific-test-from-intellij-eclip.\r\n\r\n  [1]: https://www.jetbrains.com/go/guide/tips/run-test-in-table-test/\r\n  [2]: https://i.stack.imgur.com/jK0xr.png","title":"How do I run a single variant of a parametrized JUnit5 test from the code pane?","body":"<p>IntelliJ/GoLand has a <a href=\"https://www.jetbrains.com/go/guide/tips/run-test-in-table-test/\" rel=\"nofollow noreferrer\">feature to run a single test from a table test</a> through a gutter icon:</p>\n<p><a href=\"https://i.stack.imgur.com/jK0xr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jK0xr.png\" alt=\"IntelliJ Go tests screenshot\" /></a></p>\n<p>In Java, I am using JUnit5. Can I write a parameterized test (which is JUnit equivalent of a table test) so that IntelliJ allows me to directly run it from the code pane with a specified combination of parameters?</p>\n<p>Currently, the best I can do is to trigger running all versions of the parameterized test (one by one) and then select and rerun the variant I need from the results window. This is discussed in Q: <a href=\"https://stackoverflow.com/questions/16517300/junit-parameterized-tests-how-do-i-run-only-1-specific-test-from-intellij-eclip\">JUnit parameterized tests: how do I run only 1 specific test from IntelliJ/Eclipse?</a>.</p>\n"},{"tags":["java","azure","intellij-idea","azure-functions","spring-cloud-function"],"answers":[{"tags":[],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693858851,"creation_date":1693858851,"answer_id":77040415,"question_id":77039763,"body_markdown":"Add in JAVA_OPTS in `local.settings.json`\r\n\r\n    {\r\n      &quot;IsEncrypted&quot;: false,\r\n      &quot;Values&quot;: {\r\n        &quot;AzureWebJobsStorage&quot;: &quot;&quot;,\r\n        &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;,\r\n        &quot;JAVA_OPTS&quot;: &quot;-Dspring.profiles.active=local&quot;\r\n      }\r\n    }\r\n\r\n","title":"Java - Azure Functions How can I pass VM arguments?","body":"<p>Add in JAVA_OPTS in <code>local.settings.json</code></p>\n<pre><code>{\n  &quot;IsEncrypted&quot;: false,\n  &quot;Values&quot;: {\n    &quot;AzureWebJobsStorage&quot;: &quot;&quot;,\n    &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;,\n    &quot;JAVA_OPTS&quot;: &quot;-Dspring.profiles.active=local&quot;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693858851,"creation_date":1693849750,"question_id":77039763,"body_markdown":"Hi I need to pass the VM argument `-Dspring.profiles.active` to an Azure Function App written in Java.\r\n\r\nHow can I do that via IntelliJ ?\r\n\r\nThe change needs to be only for this project. **I don&#39;t want to make it global.**\r\n\r\nThanks.","title":"Java - Azure Functions How can I pass VM arguments?","body":"<p>Hi I need to pass the VM argument <code>-Dspring.profiles.active</code> to an Azure Function App written in Java.</p>\n<p>How can I do that via IntelliJ ?</p>\n<p>The change needs to be only for this project. <strong>I don't want to make it global.</strong></p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","hibernate","jackson","geospatial"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1693732666,"post_id":77026240,"comment_id":135797046,"body_markdown":"this is a problem with the library you use. -&gt; https://github.com/GeoLatte/geolatte-common/issues/29 There is a cycle reference so Jackson can&#39;t serialize/deserialize this DTO.","body":"this is a problem with the library you use. -&gt; <a href=\"https://github.com/GeoLatte/geolatte-common/issues/29\" rel=\"nofollow noreferrer\">github.com/GeoLatte/geolatte-common/issues/29</a> There is a cycle reference so Jackson can&#39;t serialize/deserialize this DTO."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1693765619,"post_id":77026240,"comment_id":135800658,"body_markdown":"@PanagiotisBougioukos nice find. Its closed? Which if my attempts looks closest? I never hit a breakpoint in the geolatte module so not sure I am calling it right.","body":"@PanagiotisBougioukos nice find. Its closed? Which if my attempts looks closest? I never hit a breakpoint in the geolatte module so not sure I am calling it right."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1693770405,"post_id":77026240,"comment_id":135801212,"body_markdown":"Not the self reference in Try one objectMapper() referes back to its own method name - hence self ref error","body":"Not the self reference in Try one objectMapper() referes back to its own method name - hence self ref error"}],"answers":[{"comments":[{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1693851965,"post_id":77037625,"comment_id":135811712,"body_markdown":"Thanks I tried.  Failed to complete request: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Class org.geolatte.geom.json.GeometrySerializer has no default (no arg) constructor\n2023-09-05 06:24:22 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Class org.geolatte.geom.json.GeometrySerializer has no default (no arg) constructor","body":"Thanks I tried.  Failed to complete request: com.fasterxml.jackson.databind.exc.InvalidDefinitionExceptio&zwnj;&#8203;n: Class org.geolatte.geom.json.GeometrySerializer has no default (no arg) constructor 2023-09-05 06:24:22 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception com.fasterxml.jackson.databind.exc.InvalidDefinitionExceptio&zwnj;&#8203;n: Class org.geolatte.geom.json.GeometrySerializer has no default (no arg) constructor"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1693852000,"post_id":77037625,"comment_id":135811720,"body_markdown":"The serializer/deserializer module should register and that kick in when needed on a point property automatically","body":"The serializer/deserializer module should register and that kick in when needed on a point property automatically"},{"owner":{"account_id":4577330,"reputation":761,"user_id":3715449,"display_name":"Karel Maesen"},"score":0,"creation_date":1693852839,"post_id":77037625,"comment_id":135811827,"body_markdown":"You should NOT use the @JsonSerialize/@Deserialize annotations. They&#39;re not necessary. This answer is the correct way to use the Geolatte Geojson module","body":"You should NOT use the @JsonSerialize/@Deserialize annotations. They&#39;re not necessary. This answer is the correct way to use the Geolatte Geojson module"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1693853246,"post_id":77037625,"comment_id":135811895,"body_markdown":"@KarelMaesen thanks for update on annotations. If I try the way above : with /String json = myCustomMapper.writeValueAsString(hcDto); - I am having to put the json vary in the response body (rather than the object.","body":"@KarelMaesen thanks for update on annotations. If I try the way above : with /String json = myCustomMapper.writeValueAsString(hcDto); - I am having to put the json vary in the response body (rather than the object."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1693853316,"post_id":77037625,"comment_id":135811909,"body_markdown":"Maybe Jackson2HttpMessageConverter is the better `@Bean` to register? Like here https://stackoverflow.com/questions/49454849/how-can-i-register-and-use-the-jackson-afterburnermodule-in-spring-boot","body":"Maybe Jackson2HttpMessageConverter is the better <code>@Bean</code> to register? Like here <a href=\"https://stackoverflow.com/questions/49454849/how-can-i-register-and-use-the-jackson-afterburnermodule-in-spring-boot\" title=\"how can i register and use the jackson afterburnermodule in spring boot\">stackoverflow.com/questions/49454849/&hellip;</a>"}],"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1693829692,"creation_date":1693829692,"answer_id":77037625,"question_id":77026240,"body_markdown":"In your example you don&#39;t use Auto-wire at all.\r\n\r\nIn your first code better change function name: \r\n\r\n    @Bean\r\n    @Primary\r\n    public ObjectMapper myCustomMapper() {\r\n        CoordinateReferenceSystem&lt;G2D&gt; crs = WGS84;\r\n        ObjectMapper gMapper = new ObjectMapper();\r\n        gMapper.registerModule(new GeolatteGeomModule(crs));\r\n        return gMapper;\r\n    }\r\n\r\nWhenever you need it Autowire it like this: \r\n\r\n    @Autowired\r\n    ObjectMapper myCustomMapper;\r\n\r\nIn controller remove this: \r\n\r\n    // register the GeoLatteGeomModule\r\n    public ObjectMapper mapper() {\r\n        CoordinateReferenceSystem&lt;G2D&gt; crs = WGS84;\r\n        ObjectMapper gMapper = new ObjectMapper();\r\n        gMapper.registerModule(new GeolatteGeomModule(crs));\r\n        gMapper.registerModule(new JavaTimeModule());\r\n        return gMapper;\r\n    }\r\n\r\nand this: \r\n\r\n    ObjectMapper objectMapper = mapper();\r\n\r\nand autowire like this\r\n\r\n    @Autowired\r\n    ObjectMapper myCustomMapper;\r\n\r\n","title":"Register Geolatte Jackson module in Spring Boot 3.2","body":"<p>In your example you don't use Auto-wire at all.</p>\n<p>In your first code better change function name:</p>\n<pre><code>@Bean\n@Primary\npublic ObjectMapper myCustomMapper() {\n    CoordinateReferenceSystem&lt;G2D&gt; crs = WGS84;\n    ObjectMapper gMapper = new ObjectMapper();\n    gMapper.registerModule(new GeolatteGeomModule(crs));\n    return gMapper;\n}\n</code></pre>\n<p>Whenever you need it Autowire it like this:</p>\n<pre><code>@Autowired\nObjectMapper myCustomMapper;\n</code></pre>\n<p>In controller remove this:</p>\n<pre><code>// register the GeoLatteGeomModule\npublic ObjectMapper mapper() {\n    CoordinateReferenceSystem&lt;G2D&gt; crs = WGS84;\n    ObjectMapper gMapper = new ObjectMapper();\n    gMapper.registerModule(new GeolatteGeomModule(crs));\n    gMapper.registerModule(new JavaTimeModule());\n    return gMapper;\n}\n</code></pre>\n<p>and this:</p>\n<pre><code>ObjectMapper objectMapper = mapper();\n</code></pre>\n<p>and autowire like this</p>\n<pre><code>@Autowired\nObjectMapper myCustomMapper;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1693875423,"post_id":77040408,"comment_id":135814045,"body_markdown":"I copied your example closely - There was an unexpected error (type=Internal Server Error, status=500).\nType definition error: [simple type, class org.geolatte.geom.crs.AngularUnit]\norg.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.geolatte.geom.crs.AngularUnit] at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:489)","body":"I copied your example closely - There was an unexpected error (type=Internal Server Error, status=500). Type definition error: [simple type, class org.geolatte.geom.crs.AngularUnit] org.springframework.http.converter.HttpMessageConversionExce&zwnj;&#8203;ption: Type definition error: [simple type, class org.geolatte.geom.crs.AngularUnit] at org.springframework.http.converter.json.AbstractJackson2Http&zwnj;&#8203;MessageConverter.wri&zwnj;&#8203;teInternal(AbstractJ&zwnj;&#8203;ackson2HttpMessageCo&zwnj;&#8203;nverter.java:489)"},{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1693899471,"post_id":77040408,"comment_id":135816555,"body_markdown":"Well, as I mentioned, the example I provided is tested and working as expected with the specified versions of libs. Apparently, you&#39;re doing something differently, so I&#39;d suggest you to share a minimal reproducible example with your issue somewhere so that I can take a closer look. Without that I doubt it will be possible to get to the cause of the problem.","body":"Well, as I mentioned, the example I provided is tested and working as expected with the specified versions of libs. Apparently, you&#39;re doing something differently, so I&#39;d suggest you to share a minimal reproducible example with your issue somewhere so that I can take a closer look. Without that I doubt it will be possible to get to the cause of the problem."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1693902251,"post_id":77040408,"comment_id":135817102,"body_markdown":"I agree it is somewhere else with in the project. Thank you for your excellent answer,","body":"I agree it is somewhere else with in the project. Thank you for your excellent answer,"}],"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693858772,"creation_date":1693858772,"answer_id":77040408,"question_id":77026240,"body_markdown":"Instead of creating your own Object Mapper it&#39;s easier to customize the one that Spring Boot creates automatically for webapps.\r\n\r\nThere are multiple ways this can be done as described here: https://www.baeldung.com/spring-boot-customize-jackson-objectmapper\r\n\r\nIn your case this should be sufficient:\r\n```java\r\n@Bean\r\npublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\r\n    CoordinateReferenceSystem&lt;G2D&gt; crs = WGS84;\r\n    return builder -&gt; builder\r\n            .serializationInclusion(JsonInclude.Include.NON_NULL)\r\n            .modules(new GeolatteGeomModule(crs),\r\n                    new JavaTimeModule());\r\n}\r\n```\r\n\r\nWith this customizer and the following sample controller and DTO:\r\n```java\r\n@RestController\r\nclass GeolatteTestController {\r\n    @GetMapping(value = &quot;/custom5/{id}&quot;, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;?&gt; BirdSummaryDTOCustom5(@PathVariable Long id) {\r\n        return ResponseEntity.ok()\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .header(&quot;Custom-Header&quot;, &quot;birdApp&quot;)\r\n                .body(new CheckDto(id, point(WGS84, g(4.33, 53.21))));\r\n    }\r\n}\r\n\r\n@Data\r\n@AllArgsConstructor\r\nclass CheckDto implements Serializable {\r\n    Long id;\r\n\r\n    Point&lt;G2D&gt; location;\r\n    // getters setters etc\r\n}\r\n```\r\n\r\nhitting `localhost:8080/custom5/123` will produce the following result:\r\n```json\r\n{\r\n  &quot;id&quot;: 123,\r\n  &quot;location&quot;: {\r\n    &quot;type&quot;: &quot;Point&quot;,\r\n    &quot;crs&quot;: {\r\n      &quot;type&quot;: &quot;name&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;name&quot;: &quot;EPSG:4326&quot;\r\n      }\r\n    },\r\n    &quot;coordinates&quot;: [\r\n      4.33,\r\n      53.21\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nTested with Spring Boot 3.2.0-M2 and `org.geolatte:geolatte-geojson:1.9.1`.","title":"Register Geolatte Jackson module in Spring Boot 3.2","body":"<p>Instead of creating your own Object Mapper it's easier to customize the one that Spring Boot creates automatically for webapps.</p>\n<p>There are multiple ways this can be done as described here: <a href=\"https://www.baeldung.com/spring-boot-customize-jackson-objectmapper\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-customize-jackson-objectmapper</a></p>\n<p>In your case this should be sufficient:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\n    CoordinateReferenceSystem&lt;G2D&gt; crs = WGS84;\n    return builder -&gt; builder\n            .serializationInclusion(JsonInclude.Include.NON_NULL)\n            .modules(new GeolatteGeomModule(crs),\n                    new JavaTimeModule());\n}\n</code></pre>\n<p>With this customizer and the following sample controller and DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\nclass GeolatteTestController {\n    @GetMapping(value = &quot;/custom5/{id}&quot;, produces = &quot;application/json&quot;)\n    public ResponseEntity&lt;?&gt; BirdSummaryDTOCustom5(@PathVariable Long id) {\n        return ResponseEntity.ok()\n                .contentType(MediaType.APPLICATION_JSON)\n                .header(&quot;Custom-Header&quot;, &quot;birdApp&quot;)\n                .body(new CheckDto(id, point(WGS84, g(4.33, 53.21))));\n    }\n}\n\n@Data\n@AllArgsConstructor\nclass CheckDto implements Serializable {\n    Long id;\n\n    Point&lt;G2D&gt; location;\n    // getters setters etc\n}\n</code></pre>\n<p>hitting <code>localhost:8080/custom5/123</code> will produce the following result:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 123,\n  &quot;location&quot;: {\n    &quot;type&quot;: &quot;Point&quot;,\n    &quot;crs&quot;: {\n      &quot;type&quot;: &quot;name&quot;,\n      &quot;properties&quot;: {\n        &quot;name&quot;: &quot;EPSG:4326&quot;\n      }\n    },\n    &quot;coordinates&quot;: [\n      4.33,\n      53.21\n    ]\n  }\n}\n</code></pre>\n<p>Tested with Spring Boot 3.2.0-M2 and <code>org.geolatte:geolatte-geojson:1.9.1</code>.</p>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77040408,"answer_count":2,"score":1,"last_activity_date":1693858772,"creation_date":1693607241,"question_id":77026240,"body_markdown":"Would like to be able to deserialize a [Geolatte Geometry][1] Point in Spring Boot 3.2 by registering the [Geolatte JSON][2] module successfuly and use its deserializers\r\n\r\nI can manually register the `GeolatteGeomModule` in the controller but not get Spring Boot to pick it up automatically.\r\n\r\n**Entity**\r\n\r\nMy Entity with the point data is:\r\n\r\n\t@Value\r\n\t@Data\r\n\tpublic class CheckDto implements Serializable {\r\n\r\n\t\tLong id;\r\n\t\t@JsonSerialize(using = GeometrySerializer.class)\r\n\t\t@JsonDeserialize(using = GeometryDeserializer.class)\r\n\t\tPoint&lt;G2D&gt; location;\r\n\t\t// getters setters etc\r\n\t}\r\n\r\nThen my `AppConfig` to auto register the custom `GeolatterGeomModule` for Jackson:\r\n\r\n**AppConfig**\r\n\r\n\t@Configuration\r\n\t@EnableEntityViews(&quot;com.nz.kiwi.model&quot;)\r\n\t@ComponentScan(&quot;com.nz.kiwi&quot;)\r\n\tpublic class AppConfig {\r\n\t@Bean\r\n\tpublic ObjectMapper mapper() {\r\n\t\tCoordinateReferenceSystem&lt;G2D&gt; crs = WGS84;\r\n\t\tObjectMapper gMapper = new ObjectMapper();\r\n\t\tgMapper.registerModule(new GeolatteGeomModule(crs));\r\n\t\treturn gMapper;\r\n\t}\r\n\t\r\nWhen I try the endpoint for this class I get stack trace:\r\n\r\n\tMon Sep 04 18:45:46 NZST 2023\r\n\tThere was an unexpected error (type=Internal Server Error, status=500).\r\n\tNo converter for [class com.nz.kiwi.view.HealthCheckDto] with preset Content-Type &#39;application/json&#39;\r\n\torg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.nz.kiwi.view.HealthCheckDto] with preset Content-Type &#39;application/json&#39;\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:319)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)\r\n\t\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\t\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\t\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\t\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\t\r\n\t\t\r\nIt appears from the above the `GeolatteGeomModule` is not picked up.\r\n\r\nIf I modify my controller to call the `GeolatteGeomModule` manually and remove the `@JsonDeserialize(using = GeometryDeserializer.class)` from the entity so that I have:\r\n\r\n**Entity**\r\n\r\n\t@Value\r\n\t@Data\r\n\tpublic class CheckDto implements Serializable {\r\n\r\n\t\tLong id;\r\n\t\t//@JsonSerialize(using = GeometrySerializer.class)\r\n\t\t//@JsonDeserialize(using = GeometryDeserializer.class)\r\n\t\tPoint&lt;G2D&gt; location;\r\n\t\t// getters setters etc\r\n\t}\r\n\r\nAnd my controller to:\r\n\r\n**Controller**\r\n\r\n    @Autowired\r\n    private final ObjectMapper objectMapper;\r\n\r\n\t// register the GeoLatteGeomModule\r\n    public ObjectMapper mapper() {\r\n        CoordinateReferenceSystem&lt;G2D&gt; crs = WGS84;\r\n        ObjectMapper gMapper = new ObjectMapper();\r\n        gMapper.registerModule(new GeolatteGeomModule(crs));\r\n        gMapper.registerModule(new JavaTimeModule());\r\n        return gMapper;\r\n    }\r\n\r\n\t// Get test data with location\r\n    @GetMapping(value = &quot;/custom5/{id}&quot;, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;?&gt; BirdSummaryDTOCustom5(@PathVariable Long id) throws JsonProcessingException {\r\n        HealthCheckDto hcDto = customBirdRepository.customQuery5(id);\r\n        ObjectMapper objectMapper = mapper();\r\n        String json = objectMapper.writeValueAsString(hcDto);\r\n        return ResponseEntity.ok()\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .header(&quot;Custom-Header&quot;, &quot;birdApp&quot;)\r\n                .body(json);\r\n    }\r\n\r\n \t\t\r\nI get the expected result:\r\n\r\n\t\t{\r\n\t\t\t&quot;id&quot;: 5,\r\n\t\t\t&quot;catchDateTime&quot;: &quot;2023-06-05 11:18&quot;,\r\n\t\t\t&quot;releaseDateTime&quot;: &quot;2023-06-05 11:45&quot;,\r\n\t\t\t&quot;location&quot;: {\r\n\t\t\t\t&quot;type&quot;: &quot;Point&quot;,\r\n\t\t\t\t&quot;crs&quot;: {\r\n\t\t\t\t\t&quot;type&quot;: &quot;name&quot;,\r\n\t\t\t\t\t&quot;properties&quot;: {\r\n\t\t\t\t\t\t&quot;name&quot;: &quot;EPSG:4326&quot;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t&quot;coordinates&quot;: [\r\n\t\t\t\t173.5,\r\n\t\t\t\t-35.5\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n\t\r\nHow can I make spring register the module so it does this automagically?\t\r\n\r\n\r\n  [1]: https://github.com/GeoLatte/geolatte-geom\r\n  [2]: https://github.com/GeoLatte/geolatte-geom/blob/master/json/README.md","title":"Register Geolatte Jackson module in Spring Boot 3.2","body":"<p>Would like to be able to deserialize a <a href=\"https://github.com/GeoLatte/geolatte-geom\" rel=\"nofollow noreferrer\">Geolatte Geometry</a> Point in Spring Boot 3.2 by registering the <a href=\"https://github.com/GeoLatte/geolatte-geom/blob/master/json/README.md\" rel=\"nofollow noreferrer\">Geolatte JSON</a> module successfuly and use its deserializers</p>\n<p>I can manually register the <code>GeolatteGeomModule</code> in the controller but not get Spring Boot to pick it up automatically.</p>\n<p><strong>Entity</strong></p>\n<p>My Entity with the point data is:</p>\n<pre><code>@Value\n@Data\npublic class CheckDto implements Serializable {\n\n    Long id;\n    @JsonSerialize(using = GeometrySerializer.class)\n    @JsonDeserialize(using = GeometryDeserializer.class)\n    Point&lt;G2D&gt; location;\n    // getters setters etc\n}\n</code></pre>\n<p>Then my <code>AppConfig</code> to auto register the custom <code>GeolatterGeomModule</code> for Jackson:</p>\n<p><strong>AppConfig</strong></p>\n<pre><code>@Configuration\n@EnableEntityViews(&quot;com.nz.kiwi.model&quot;)\n@ComponentScan(&quot;com.nz.kiwi&quot;)\npublic class AppConfig {\n@Bean\npublic ObjectMapper mapper() {\n    CoordinateReferenceSystem&lt;G2D&gt; crs = WGS84;\n    ObjectMapper gMapper = new ObjectMapper();\n    gMapper.registerModule(new GeolatteGeomModule(crs));\n    return gMapper;\n}\n</code></pre>\n<p>When I try the endpoint for this class I get stack trace:</p>\n<pre><code>Mon Sep 04 18:45:46 NZST 2023\nThere was an unexpected error (type=Internal Server Error, status=500).\nNo converter for [class com.nz.kiwi.view.HealthCheckDto] with preset Content-Type 'application/json'\norg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.nz.kiwi.view.HealthCheckDto] with preset Content-Type 'application/json'\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:319)\n    at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)  \n    \n</code></pre>\n<p>It appears from the above the <code>GeolatteGeomModule</code> is not picked up.</p>\n<p>If I modify my controller to call the <code>GeolatteGeomModule</code> manually and remove the <code>@JsonDeserialize(using = GeometryDeserializer.class)</code> from the entity so that I have:</p>\n<p><strong>Entity</strong></p>\n<pre><code>@Value\n@Data\npublic class CheckDto implements Serializable {\n\n    Long id;\n    //@JsonSerialize(using = GeometrySerializer.class)\n    //@JsonDeserialize(using = GeometryDeserializer.class)\n    Point&lt;G2D&gt; location;\n    // getters setters etc\n}\n</code></pre>\n<p>And my controller to:</p>\n<p><strong>Controller</strong></p>\n<pre><code>@Autowired\nprivate final ObjectMapper objectMapper;\n\n// register the GeoLatteGeomModule\npublic ObjectMapper mapper() {\n    CoordinateReferenceSystem&lt;G2D&gt; crs = WGS84;\n    ObjectMapper gMapper = new ObjectMapper();\n    gMapper.registerModule(new GeolatteGeomModule(crs));\n    gMapper.registerModule(new JavaTimeModule());\n    return gMapper;\n}\n\n// Get test data with location\n@GetMapping(value = &quot;/custom5/{id}&quot;, produces = &quot;application/json&quot;)\npublic ResponseEntity&lt;?&gt; BirdSummaryDTOCustom5(@PathVariable Long id) throws JsonProcessingException {\n    HealthCheckDto hcDto = customBirdRepository.customQuery5(id);\n    ObjectMapper objectMapper = mapper();\n    String json = objectMapper.writeValueAsString(hcDto);\n    return ResponseEntity.ok()\n            .contentType(MediaType.APPLICATION_JSON)\n            .header(&quot;Custom-Header&quot;, &quot;birdApp&quot;)\n            .body(json);\n}\n\n    \n</code></pre>\n<p>I get the expected result:</p>\n<pre><code>    {\n        &quot;id&quot;: 5,\n        &quot;catchDateTime&quot;: &quot;2023-06-05 11:18&quot;,\n        &quot;releaseDateTime&quot;: &quot;2023-06-05 11:45&quot;,\n        &quot;location&quot;: {\n            &quot;type&quot;: &quot;Point&quot;,\n            &quot;crs&quot;: {\n                &quot;type&quot;: &quot;name&quot;,\n                &quot;properties&quot;: {\n                    &quot;name&quot;: &quot;EPSG:4326&quot;\n                }\n            },\n        &quot;coordinates&quot;: [\n            173.5,\n            -35.5\n        ]\n    }\n}\n</code></pre>\n<p>How can I make spring register the module so it does this automagically?</p>\n"},{"tags":["java","python","jupyter-notebook"],"answers":[{"tags":[],"owner":{"account_id":14690937,"reputation":3398,"user_id":10609635,"display_name":"SpencerPark"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588998352,"creation_date":1588998352,"answer_id":61691802,"question_id":61676773,"body_markdown":"Since you are using a java kernel, there is no need to compile and run the program with shell commands. Instead just put the contents of the `day#main` method directly in a cell!\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd just like the Python kernel, the state is preserved between cell. This means that after evaluating the one above, there are variables `year`, `month`, etc. that you can use in subsequent cells. Also like in the Python kernel, you can write an expression on the last line which will become the output (`Out[*]`) of the cell.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nLastly, for completeness, the approach you&#39;ve originally taken with the `%%file` and `%%shell` cell magics is one that is popular when using the Python kernel to run java on the system. i.e. your original notebook would work fine if switching your notebook&#39;s kernel to IPython.\r\n\r\n  [1]: https://i.stack.imgur.com/WlcRl.png\r\n  [2]: https://i.stack.imgur.com/vNYHj.png","title":"How to compile and run java program on jupyter","body":"<p>Since you are using a java kernel, there is no need to compile and run the program with shell commands. Instead just put the contents of the <code>day#main</code> method directly in a cell!</p>\n\n<p><a href=\"https://i.stack.imgur.com/WlcRl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WlcRl.png\" alt=\"enter image description here\"></a></p>\n\n<p>And just like the Python kernel, the state is preserved between cell. This means that after evaluating the one above, there are variables <code>year</code>, <code>month</code>, etc. that you can use in subsequent cells. Also like in the Python kernel, you can write an expression on the last line which will become the output (<code>Out[*]</code>) of the cell.</p>\n\n<p><a href=\"https://i.stack.imgur.com/vNYHj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vNYHj.png\" alt=\"enter image description here\"></a></p>\n\n<p>Lastly, for completeness, the approach you've originally taken with the <code>%%file</code> and <code>%%shell</code> cell magics is one that is popular when using the Python kernel to run java on the system. i.e. your original notebook would work fine if switching your notebook's kernel to IPython.</p>\n"}],"owner":{"account_id":18525687,"reputation":51,"user_id":13497639,"display_name":"Zainul1114"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2424,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":1,"score":4,"last_activity_date":1693858727,"creation_date":1588932744,"question_id":61676773,"body_markdown":"[![enter image description here][1]][1]\r\n[1]: https://i.stack.imgur.com/pjU0A.png\r\n\r\nI am trying to run a java program on Jupyter but am seeing mutliple `UndefinedMagicException`s.\r\n\r\nUsing the java kernel `IJava` version `1.3.0`, and trying to run the following cell:\r\n\r\n```java\r\n%%file day.java\r\nimport java.util.Calendar;\r\n\t\r\nclass day {\r\n\tpublic static void main(String[] args) {\r\n\t\tCalendar cal = Calendar.getInstance();\r\n\t\tint year = cal.get(Calendar.YEAR);\r\n\t\tint month = cal.get(Calendar.MONTH) + 1;\r\n\t\tint day = cal.get(Calendar.DATE);\r\n\t\tint hour = cal.get(Calendar.HOUR_OF_DAY);\r\n\t\tint minute = cal.get(Calendar.MINUTE);\r\n\t\tSystem.out.println(year + &quot;/&quot; + month + &quot;/&quot; + day + &quot; &quot; + hour + &quot;:&quot; + minute);\r\n\t}\r\n}\r\n```\r\n\r\nbut does not create `day.java` file and raises the error:\r\n\r\n&gt;     io.github.spencerpark.jupyter.kernel.magic.registry.UndefinedMagicException: Undefined cell magic &#39;file&#39;\r\n&gt;\t  at io.github.spencerpark.jupyter.kernel.magic.registry.Magics.applyCellMagic(Magics.java:34)\r\n&gt;\t  at io.github.spencerpark.ijava.runtime.Magics.cellMagic(Magics.java:31)\r\n&gt;\t  at .(#12:1)\r\n\r\nHow can I fix the notebook?\r\n","title":"How to compile and run java program on jupyter","body":"<p><a href=\"https://i.stack.imgur.com/pjU0A.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pjU0A.png\" alt=\"enter image description here\"></a>\nI am trying to run a java program on Jupyter but am seeing mutliple <code>UndefinedMagicException</code>s.</p>\n\n<p>Using the java kernel <code>IJava</code> version <code>1.3.0</code>, and trying to run the following cell:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>%%file day.java\nimport java.util.Calendar;\n\nclass day {\n    public static void main(String[] args) {\n        Calendar cal = Calendar.getInstance();\n        int year = cal.get(Calendar.YEAR);\n        int month = cal.get(Calendar.MONTH) + 1;\n        int day = cal.get(Calendar.DATE);\n        int hour = cal.get(Calendar.HOUR_OF_DAY);\n        int minute = cal.get(Calendar.MINUTE);\n        System.out.println(year + \"/\" + month + \"/\" + day + \" \" + hour + \":\" + minute);\n    }\n}\n</code></pre>\n\n<p>but does not create <code>day.java</code> file and raises the error:</p>\n\n<blockquote>\n<pre><code>io.github.spencerpark.jupyter.kernel.magic.registry.UndefinedMagicException: Undefined cell magic 'file'\nat io.github.spencerpark.jupyter.kernel.magic.registry.Magics.applyCellMagic(Magics.java:34)\nat io.github.spencerpark.ijava.runtime.Magics.cellMagic(Magics.java:31)\nat .(#12:1)\n</code></pre>\n</blockquote>\n\n<p>How can I fix the notebook?</p>\n"},{"tags":["java","sorting","datetime"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":2,"creation_date":1493654397,"post_id":43722150,"comment_id":74487809,"body_markdown":"Why do you put Thursday before Friday? What if they are on different weeks?","body":"Why do you put Thursday before Friday? What if they are on different weeks?"},{"owner":{"account_id":2910172,"reputation":1318,"user_id":2494599,"accept_rate":97,"display_name":"Sebastien"},"score":0,"creation_date":1493654403,"post_id":43722150,"comment_id":74487813,"body_markdown":"This link should help you figure it out: https://www.google.ca/search?q=how+to+compare+day+of+the+week+and+time+in+java&amp;oq=how+to+compare+day+of+the+week+and+time+in+java&amp;aqs=chrome..69i57.5385j0j7&amp;sourceid=chrome&amp;ie=UTF-8","body":"This link should help you figure it out: <a href=\"https://www.google.ca/search?q=how+to+compare+day+of+the+week+and+time+in+java&amp;oq=how+to+compare+day+of+the+week+and+time+in+java&amp;aqs=chrome..69i57.5385j0j7&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">google.ca/&hellip;</a>"},{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":1,"creation_date":1493654499,"post_id":43722150,"comment_id":74487861,"body_markdown":"Parse the `Strings` into either a `Calendar` object or `LocalDateTime` object then use `.compareTo()`...","body":"Parse the <code>Strings</code> into either a <code>Calendar</code> object or <code>LocalDateTime</code> object then use <code>.compareTo()</code>..."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":4,"creation_date":1493654864,"post_id":43722150,"comment_id":74488075,"body_markdown":"Start with the [Java Time API](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html). Here&#39;s the [Oracle tutorial](https://docs.oracle.com/javase/tutorial/datetime/). Note that LocalDateTime instances are Comparable.","body":"Start with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">Java Time API</a>. Here&#39;s the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial</a>. Note that LocalDateTime instances are Comparable."},{"owner":{"account_id":2474942,"reputation":541,"user_id":2155762,"display_name":"Amit Garg"},"score":0,"creation_date":1493656391,"post_id":43722150,"comment_id":74488785,"body_markdown":"@Lashane - The input data is for just 1 week always, so that&#39;s why need to be sorted that way.","body":"@Lashane - The input data is for just 1 week always, so that&#39;s why need to be sorted that way."},{"owner":{"account_id":7599408,"reputation":2752,"user_id":5764553,"display_name":"Andrew Myers"},"score":0,"creation_date":1493669474,"post_id":43722150,"comment_id":74495268,"body_markdown":"Possible duplicate of [Time comparison](http://stackoverflow.com/questions/2309558/time-comparison)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2309558/time-comparison\">Time comparison</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1493698819,"post_id":43722150,"comment_id":74503414,"body_markdown":"Which day is the first day of your week? The international standard says the week begins on Monday, but not all countries observe it,","body":"Which day is the first day of your week? The international standard says the week begins on Monday, but not all countries observe it,"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1493703033,"post_id":43722150,"comment_id":74504560,"body_markdown":"@AmitGarg Please take more care in drafting your post. As it reads now your Question does not make sense. And post further information as edits to the Question rather than as Comments. Do not make your readers work so hard as to trawl through the threads of comments to understand your issue.","body":"@AmitGarg Please take more care in drafting your post. As it reads now your Question does not make sense. And post further information as edits to the Question rather than as Comments. Do not make your readers work so hard as to trawl through the threads of comments to understand your issue."}],"answers":[{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1693855709,"post_id":43730208,"comment_id":135812251,"body_markdown":"All good suggestions! A bit more explanation is required to suggest how to handle the input string e.g. `Friday 2:00 PM Thursday 2:00 AM Saturday 4:00 PM`. There can be many ways (e.g. regex) to separate them into combinations of weekday and time.","body":"All good suggestions! A bit more explanation is required to suggest how to handle the input string e.g. <code>Friday 2:00 PM Thursday 2:00 AM Saturday 4:00 PM</code>. There can be many ways (e.g. regex) to separate them into combinations of weekday and time."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693857962,"creation_date":1493700049,"answer_id":43730208,"question_id":43722150,"body_markdown":"My solution would be to build a little class to represent the times. We could call it `TimeOfWeek` or `WeeklyRecurringEvent` or whatever fits your domain, please try to choose wisely. The class would have two instance fields, a `DayOfWeek` for the weekday and a `LocalTime` for the time. `DayOfWeek` and `LocalTime` are in `java.time` (introduced in Java 8 and backported to Java 6 and 7). My class would have a constructor accepting a `String` argument like `&quot;Friday 2:00 PM&quot;` and would parse it into the two instance fields. The same `DateTimeFormatter` could be used for both, so this could be a class constant (private static final field). `DayOfWeek` does not have a `parse` method, so you would need something like `DayOfWeek.from(yourDateTimeFormatter.parse(yourString))`. There’s a short demonstration in code below.\r\n\r\nYour class should implement `Comparable` so you can sort your objects by their natural order. In your `compareTo` method compare day of week first, then time if day is the same. `DayOfWeek`are sorted naturally from Monday to Sunday; if your week begins on another day than Monday, you will need to handle it specially.\r\n\r\nYour class could also have a `ZoneId` field for time zone, but assuming all your times are in the same time zone, there’s probably no reason.\r\n\r\nYou may also see if you can find a class that fits your requirements somewhere out there; use your search engine. I don’t know of one, but you can never tell.\r\n\r\nThe classes in `java.time` are very often good for funny requirements about day and time. You can obviously have a date without a time or a time without a date. You can have a day of the year without a year (good for remembering your anniversary) and as mentioned a day of week without a week, and more. Unfortunately there isn’t a class to match your requirement of day of week and time exactly, which is why I suggest putting it together from two of the existing classes.\r\n\r\nIf programming for older Android (API level under 26/Oreo), use java.time through desugaring (link below).\r\n\r\n### Code\r\n\r\nEdit: Parsing your strings into both a `DayOfWeek` and a `LocalTime` can be done in many ways. Here’s one:\r\n\r\n        DateTimeFormatter weekTimeFormatter\r\n                = DateTimeFormatter.ofPattern(&quot;EEEE h:mm a&quot;, Locale.ENGLISH);\r\n\r\n        TemporalAccessor parsed = weekTimeFormatter.parse(&quot;Friday 2:00 PM&quot;);\r\n        DayOfWeek dow = DayOfWeek.from(parsed);\r\n        LocalTime time = LocalTime.from(parsed);\r\n\r\n        System.out.format(Locale.US, &quot;Day: %s; time: %s.%n&quot;, dow, time);\r\n\r\nOutput from the snippet is:\r\n\r\n&gt; Day: FRIDAY; time: 14:00.\r\n\r\n### Links\r\n\r\n - [Trail: Date Time (The Java™ Tutorials)](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) in Android developer documentation.\r\n","title":"How do you compare Day of week and Time in Java","body":"<p>My solution would be to build a little class to represent the times. We could call it <code>TimeOfWeek</code> or <code>WeeklyRecurringEvent</code> or whatever fits your domain, please try to choose wisely. The class would have two instance fields, a <code>DayOfWeek</code> for the weekday and a <code>LocalTime</code> for the time. <code>DayOfWeek</code> and <code>LocalTime</code> are in <code>java.time</code> (introduced in Java 8 and backported to Java 6 and 7). My class would have a constructor accepting a <code>String</code> argument like <code>&quot;Friday 2:00 PM&quot;</code> and would parse it into the two instance fields. The same <code>DateTimeFormatter</code> could be used for both, so this could be a class constant (private static final field). <code>DayOfWeek</code> does not have a <code>parse</code> method, so you would need something like <code>DayOfWeek.from(yourDateTimeFormatter.parse(yourString))</code>. There’s a short demonstration in code below.</p>\n<p>Your class should implement <code>Comparable</code> so you can sort your objects by their natural order. In your <code>compareTo</code> method compare day of week first, then time if day is the same. <code>DayOfWeek</code>are sorted naturally from Monday to Sunday; if your week begins on another day than Monday, you will need to handle it specially.</p>\n<p>Your class could also have a <code>ZoneId</code> field for time zone, but assuming all your times are in the same time zone, there’s probably no reason.</p>\n<p>You may also see if you can find a class that fits your requirements somewhere out there; use your search engine. I don’t know of one, but you can never tell.</p>\n<p>The classes in <code>java.time</code> are very often good for funny requirements about day and time. You can obviously have a date without a time or a time without a date. You can have a day of the year without a year (good for remembering your anniversary) and as mentioned a day of week without a week, and more. Unfortunately there isn’t a class to match your requirement of day of week and time exactly, which is why I suggest putting it together from two of the existing classes.</p>\n<p>If programming for older Android (API level under 26/Oreo), use java.time through desugaring (link below).</p>\n<h3>Code</h3>\n<p>Edit: Parsing your strings into both a <code>DayOfWeek</code> and a <code>LocalTime</code> can be done in many ways. Here’s one:</p>\n<pre><code>    DateTimeFormatter weekTimeFormatter\n            = DateTimeFormatter.ofPattern(&quot;EEEE h:mm a&quot;, Locale.ENGLISH);\n\n    TemporalAccessor parsed = weekTimeFormatter.parse(&quot;Friday 2:00 PM&quot;);\n    DayOfWeek dow = DayOfWeek.from(parsed);\n    LocalTime time = LocalTime.from(parsed);\n\n    System.out.format(Locale.US, &quot;Day: %s; time: %s.%n&quot;, dow, time);\n</code></pre>\n<p>Output from the snippet is:</p>\n<blockquote>\n<p>Day: FRIDAY; time: 14:00.</p>\n</blockquote>\n<h3>Links</h3>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Trail: Date Time (The Java™ Tutorials)</a> explaining how to use java.time.</li>\n<li><a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> in Android developer documentation.</li>\n</ul>\n"}],"owner":{"account_id":2474942,"reputation":541,"user_id":2155762,"display_name":"Amit Garg"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2902,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"answer_count":1,"score":-6,"last_activity_date":1693857962,"creation_date":1493654293,"question_id":43722150,"body_markdown":"How do you compare &quot;Friday 2:00 PM&quot; against &quot;Thursday 4:00 PM&quot; in Java?\r\n\r\nInput array:\r\nFriday 2:00 PM\r\nThursday 2:00 AM\r\nSaturday 4:00 PM\r\n\r\nOutput:\r\nThursday 2:00 AM\r\nFriday 2:00 PM\r\nSaturday 4:00 PM","title":"How do you compare Day of week and Time in Java","body":"<p>How do you compare \"Friday 2:00 PM\" against \"Thursday 4:00 PM\" in Java?</p>\n\n<p>Input array:\nFriday 2:00 PM\nThursday 2:00 AM\nSaturday 4:00 PM</p>\n\n<p>Output:\nThursday 2:00 AM\nFriday 2:00 PM\nSaturday 4:00 PM</p>\n"},{"tags":["java","apache-axis","wsdl2java"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1693855275,"post_id":77036163,"comment_id":135812183,"body_markdown":"Although the ability to vote anonymously sometimes leads to hasty downvotes, in this case, the reason _might_ have been that you have provided no way for someone else to reproduce the problem. You would have a better chance of an answer if you created a minimal, reproducible example. Post your WSDL, the exact command you’re running (and the base directory), and the output directory structure.","body":"Although the ability to vote anonymously sometimes leads to hasty downvotes, in this case, the reason <i>might</i> have been that you have provided no way for someone else to reproduce the problem. You would have a better chance of an answer if you created a minimal, reproducible example. Post your WSDL, the exact command you’re running (and the base directory), and the output directory structure."},{"owner":{"account_id":458949,"reputation":872,"user_id":859141,"accept_rate":44,"display_name":"Byte Insight"},"score":0,"creation_date":1693857944,"post_id":77036163,"comment_id":135812489,"body_markdown":"Thank you @AbhijitSarkar, I have hopefully added more details and hopefully given the ability to reproduce the problem.","body":"Thank you @AbhijitSarkar, I have hopefully added more details and hopefully given the ability to reproduce the problem."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1693873690,"post_id":77036163,"comment_id":135813940,"body_markdown":"I&#39;ve not tried running your sample, but I noticed that you&#39;re using Java 20. A quick check failed to locate a compatibility matrix for Axis, but it won&#39;t be unlikely that they didn&#39;t support the latest version, especially given that hardly anyone uses SOAP these days. I&#39;d try with Java 17, or even 11.","body":"I&#39;ve not tried running your sample, but I noticed that you&#39;re using Java 20. A quick check failed to locate a compatibility matrix for Axis, but it won&#39;t be unlikely that they didn&#39;t support the latest version, especially given that hardly anyone uses SOAP these days. I&#39;d try with Java 17, or even 11."}],"owner":{"account_id":458949,"reputation":872,"user_id":859141,"accept_rate":44,"display_name":"Byte Insight"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693857853,"creation_date":1693815733,"question_id":77036163,"body_markdown":"I&#39;m trying to use the WSDL2Java script to create the client classes as per [the user guide][1] but my output is limited to the following and no source is produced:\r\n\r\n    Using AXIS2_HOME:   C:\\Users\\...\\axis2\\axis2-1.8.2\r\n    Using JAVA_HOME:    C:\\Users\\...\\.jdks\\openjdk-20.0.2\r\n\r\nIn a command prompt and running from the axis2\\axis2-1.8.2\\bin folder I have tried the following command.   (Other variants have been tried but give the same result)\r\n\r\n   wsdl2java.bat -uri perf.wsdl -p org.companyname -d adb -s\r\n\r\nI&#39;m not in a position to share the actual WSDL but have seen [wsdl2java-doesnt-produce-any-output][3] and have tried both local and url versions with the same result. For the purposes of testing I have also tried the /axis2/samples/wdsl/perf.wdsl file from the samples folder provided below.\r\n\r\n    &lt;wsdl:definitions xmlns:apachesoap=&quot;http://xml.apache.org/xml-soap&quot; xmlns:impl=&quot;http://perf.samples&quot; xmlns:intf=&quot;http://perf.samples&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:wsdlsoap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=&quot;http://perf.samples&quot;&gt;\r\n\t&lt;wsdl:types&gt;\r\n\t\t&lt;schema elementFormDefault=&quot;qualified&quot; targetNamespace=&quot;http://perf.samples&quot; xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n\t\t\t&lt;element name=&quot;inputElement&quot;&gt;\r\n\t\t\t\t&lt;complexType&gt;\r\n\t\t\t\t\t&lt;sequence&gt;\r\n\t\t\t\t\t\t&lt;element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;item&quot; type=&quot;xsd:string&quot;/&gt;\r\n\t\t\t\t\t&lt;/sequence&gt;\r\n\t\t\t\t&lt;/complexType&gt;\r\n\t\t\t&lt;/element&gt;\r\n\t\t\t&lt;element name=&quot;outputElement&quot; type=&quot;xsd:string&quot;/&gt;\r\n\t\t&lt;/schema&gt;\r\n\t&lt;/wsdl:types&gt;\r\n\t&lt;wsdl:message name=&quot;handleStringArrayResponse&quot;&gt;\r\n\t\t&lt;wsdl:part name=&quot;output&quot; element=&quot;impl:outputElement&quot;/&gt;\r\n\t&lt;/wsdl:message&gt;\r\n\t&lt;wsdl:message name=&quot;handleStringArrayRequest&quot;&gt;\r\n\t\t&lt;wsdl:part name=&quot;input&quot; element=&quot;impl:inputElement&quot;/&gt;\r\n\t&lt;/wsdl:message&gt;\r\n\t&lt;wsdl:portType name=&quot;PerfPortType&quot;&gt;\r\n\t\t&lt;wsdl:operation name=&quot;handleStringArray&quot; parameterOrder=&quot;input&quot;&gt;\r\n\t\t\t&lt;wsdl:input name=&quot;handleStringArrayRequest&quot; message=&quot;impl:handleStringArrayRequest&quot;/&gt;\r\n\t\t\t&lt;wsdl:output name=&quot;handleStringArrayResponse&quot; message=&quot;impl:handleStringArrayResponse&quot;/&gt;\r\n\t\t&lt;/wsdl:operation&gt;\r\n\t&lt;/wsdl:portType&gt;\r\n\t&lt;wsdl:binding name=&quot;PerformanceSoapBinding&quot; type=&quot;impl:PerfPortType&quot;&gt;\r\n\t\t&lt;wsdlsoap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n\t\t&lt;wsdl:operation name=&quot;handleStringArray&quot;&gt;\r\n\t\t\t&lt;wsdlsoap:operation soapAction=&quot;handleStringArray&quot;/&gt;\r\n\t\t\t&lt;wsdl:input&gt;\r\n\t\t\t\t&lt;wsdlsoap:body use=&quot;literal&quot;/&gt;\r\n\t\t\t&lt;/wsdl:input&gt;\r\n\t\t\t&lt;wsdl:output&gt;\r\n\t\t\t\t&lt;wsdlsoap:body use=&quot;literal&quot;/&gt;\r\n\t\t\t&lt;/wsdl:output&gt;\r\n\t\t&lt;/wsdl:operation&gt;\r\n\t&lt;/wsdl:binding&gt;\r\n\t&lt;wsdl:service name=&quot;PerfSoapService&quot;&gt;\r\n\t\t&lt;wsdl:port name=&quot;Performance&quot; binding=&quot;impl:PerformanceSoapBinding&quot;&gt;\r\n\t\t\t&lt;wsdlsoap:address location=&quot;http://localhost:8080/axis2/services/PerfPortType&quot;/&gt;\r\n\t\t&lt;/wsdl:port&gt;\r\n\t&lt;/wsdl:service&gt;\r\n\t&lt;/wsdl:definitions&gt;\r\n\r\nAccording to [axis2-generate-a-soap-client-from-wsdl][2] I should expect the code to appear in a src folder with I assume the package names within.  This doesn&#39;t happen.  \r\n\r\n\r\n\r\nThere is no error message and the [documentation here][4] suggests no verbose flag.  \r\n\r\nAm I missing something?  Should the output name be a specific format or can it be anything?  \r\n\r\n\r\n  [1]: https://axis.apache.org/axis2/java/core/docs/userguide-creatingclients.html\r\n  [2]: https://initialcommit.com/blog/axis2-generate-a-soap-client-from-wsdl\r\n  [3]: https://stackoverflow.com/questions/7362458/wsdl2java-doesnt-produce-any-output\r\n  [4]: https://axis.apache.org/axis2/java/core/docs/reference.html","title":"WSDL2Java not producing source client","body":"<p>I'm trying to use the WSDL2Java script to create the client classes as per <a href=\"https://axis.apache.org/axis2/java/core/docs/userguide-creatingclients.html\" rel=\"nofollow noreferrer\">the user guide</a> but my output is limited to the following and no source is produced:</p>\n<pre><code>Using AXIS2_HOME:   C:\\Users\\...\\axis2\\axis2-1.8.2\nUsing JAVA_HOME:    C:\\Users\\...\\.jdks\\openjdk-20.0.2\n</code></pre>\n<p>In a command prompt and running from the axis2\\axis2-1.8.2\\bin folder I have tried the following command.   (Other variants have been tried but give the same result)</p>\n<p>wsdl2java.bat -uri perf.wsdl -p org.companyname -d adb -s</p>\n<p>I'm not in a position to share the actual WSDL but have seen <a href=\"https://stackoverflow.com/questions/7362458/wsdl2java-doesnt-produce-any-output\">wsdl2java-doesnt-produce-any-output</a> and have tried both local and url versions with the same result. For the purposes of testing I have also tried the /axis2/samples/wdsl/perf.wdsl file from the samples folder provided below.</p>\n<pre><code>&lt;wsdl:definitions xmlns:apachesoap=&quot;http://xml.apache.org/xml-soap&quot; xmlns:impl=&quot;http://perf.samples&quot; xmlns:intf=&quot;http://perf.samples&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:wsdlsoap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=&quot;http://perf.samples&quot;&gt;\n&lt;wsdl:types&gt;\n    &lt;schema elementFormDefault=&quot;qualified&quot; targetNamespace=&quot;http://perf.samples&quot; xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n        &lt;element name=&quot;inputElement&quot;&gt;\n            &lt;complexType&gt;\n                &lt;sequence&gt;\n                    &lt;element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;item&quot; type=&quot;xsd:string&quot;/&gt;\n                &lt;/sequence&gt;\n            &lt;/complexType&gt;\n        &lt;/element&gt;\n        &lt;element name=&quot;outputElement&quot; type=&quot;xsd:string&quot;/&gt;\n    &lt;/schema&gt;\n&lt;/wsdl:types&gt;\n&lt;wsdl:message name=&quot;handleStringArrayResponse&quot;&gt;\n    &lt;wsdl:part name=&quot;output&quot; element=&quot;impl:outputElement&quot;/&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:message name=&quot;handleStringArrayRequest&quot;&gt;\n    &lt;wsdl:part name=&quot;input&quot; element=&quot;impl:inputElement&quot;/&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:portType name=&quot;PerfPortType&quot;&gt;\n    &lt;wsdl:operation name=&quot;handleStringArray&quot; parameterOrder=&quot;input&quot;&gt;\n        &lt;wsdl:input name=&quot;handleStringArrayRequest&quot; message=&quot;impl:handleStringArrayRequest&quot;/&gt;\n        &lt;wsdl:output name=&quot;handleStringArrayResponse&quot; message=&quot;impl:handleStringArrayResponse&quot;/&gt;\n    &lt;/wsdl:operation&gt;\n&lt;/wsdl:portType&gt;\n&lt;wsdl:binding name=&quot;PerformanceSoapBinding&quot; type=&quot;impl:PerfPortType&quot;&gt;\n    &lt;wsdlsoap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\n    &lt;wsdl:operation name=&quot;handleStringArray&quot;&gt;\n        &lt;wsdlsoap:operation soapAction=&quot;handleStringArray&quot;/&gt;\n        &lt;wsdl:input&gt;\n            &lt;wsdlsoap:body use=&quot;literal&quot;/&gt;\n        &lt;/wsdl:input&gt;\n        &lt;wsdl:output&gt;\n            &lt;wsdlsoap:body use=&quot;literal&quot;/&gt;\n        &lt;/wsdl:output&gt;\n    &lt;/wsdl:operation&gt;\n&lt;/wsdl:binding&gt;\n&lt;wsdl:service name=&quot;PerfSoapService&quot;&gt;\n    &lt;wsdl:port name=&quot;Performance&quot; binding=&quot;impl:PerformanceSoapBinding&quot;&gt;\n        &lt;wsdlsoap:address location=&quot;http://localhost:8080/axis2/services/PerfPortType&quot;/&gt;\n    &lt;/wsdl:port&gt;\n&lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n</code></pre>\n<p>According to <a href=\"https://initialcommit.com/blog/axis2-generate-a-soap-client-from-wsdl\" rel=\"nofollow noreferrer\">axis2-generate-a-soap-client-from-wsdl</a> I should expect the code to appear in a src folder with I assume the package names within.  This doesn't happen.</p>\n<p>There is no error message and the <a href=\"https://axis.apache.org/axis2/java/core/docs/reference.html\" rel=\"nofollow noreferrer\">documentation here</a> suggests no verbose flag.</p>\n<p>Am I missing something?  Should the output name be a specific format or can it be anything?</p>\n"},{"tags":["java","reflection","java-8","default-method"],"comments":[{"owner":{"account_id":3614660,"reputation":10861,"user_id":3014866,"accept_rate":96,"display_name":"Rudziankoŭ"},"score":1,"creation_date":1465909220,"post_id":37812393,"comment_id":63089615,"body_markdown":"Isn&#39;t it a duplicate of this http://stackoverflow.com/questions/22614746/how-do-i-invoke-java-8-default-methods-refletively","body":"Isn&#39;t it a duplicate of this <a href=\"http://stackoverflow.com/questions/22614746/how-do-i-invoke-java-8-default-methods-refletively\" title=\"how do i invoke java 8 default methods refletively\">stackoverflow.com/questions/22614746/&hellip;</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1465912735,"post_id":37812393,"comment_id":63092393,"body_markdown":"&quot;*I&#39;m looking for an &quot;official&quot; way to do it*&quot; I may be mistaken but I am afraid that officially you are not supposed to be able to invoke method from supertype if your subtype overridden it. Lets say that your supertype have `acceptSquare` method which can accept any Squares, but your subtype is *specializing* in handling only red squares so it overriden it accordingly to add test for color (after that it invokes `super.addSquare`). So allowing someone to invoke from outside implementation from supertype (even via reflection) of such method could be big security hole.","body":"&quot;<i>I&#39;m looking for an &quot;official&quot; way to do it</i>&quot; I may be mistaken but I am afraid that officially you are not supposed to be able to invoke method from supertype if your subtype overridden it. Lets say that your supertype have <code>acceptSquare</code> method which can accept any Squares, but your subtype is <i>specializing</i> in handling only red squares so it overriden it accordingly to add test for color (after that it invokes <code>super.addSquare</code>). So allowing someone to invoke from outside implementation from supertype (even via reflection) of such method could be big security hole."},{"owner":{"account_id":4951801,"reputation":10812,"user_id":3985482,"accept_rate":86,"display_name":"Gerald M&#252;cke"},"score":0,"creation_date":1465913081,"post_id":37812393,"comment_id":63092658,"body_markdown":"How about mixins - adding functionality to an existing class using a dynamic proxy? i.e. I have an instance and want to add additional functionality by &quot;adding&quot; interfaces with default methods to the instance at runtime. There must be a way","body":"How about mixins - adding functionality to an existing class using a dynamic proxy? i.e. I have an instance and want to add additional functionality by &quot;adding&quot; interfaces with default methods to the instance at runtime. There must be a way"},{"owner":{"account_id":4951801,"reputation":10812,"user_id":3985482,"accept_rate":86,"display_name":"Gerald M&#252;cke"},"score":0,"creation_date":1465914080,"post_id":37812393,"comment_id":63093421,"body_markdown":"I updated the example accordingly, wanted to have it as simple as possible in the first place, but hopefully my intent is getting clearer now","body":"I updated the example accordingly, wanted to have it as simple as possible in the first place, but hopefully my intent is getting clearer now"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1465914556,"post_id":37812393,"comment_id":63093833,"body_markdown":"The invocation target for a `default` method must be an instance of that `interface`. In your example code, it’s an `Object`—how is that supposed to work?","body":"The invocation target for a <code>default</code> method must be an instance of that <code>interface</code>. In your example code, it’s an <code>Object</code>—how is that supposed to work?"},{"owner":{"account_id":4951801,"reputation":10812,"user_id":3985482,"accept_rate":86,"display_name":"Gerald M&#252;cke"},"score":0,"creation_date":1465914749,"post_id":37812393,"comment_id":63094002,"body_markdown":"It&#39;s not even getting that far, the exception is thrown in `unreflectedSpecial`, so currently the `bindTo()` can be `null`, `proxy`, anonymous instance of `ExampleMixin` or anything else","body":"It&#39;s not even getting that far, the exception is thrown in <code>unreflectedSpecial</code>, so currently the <code>bindTo()</code> can be <code>null</code>, <code>proxy</code>, anonymous instance of <code>ExampleMixin</code> or anything else"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1465915514,"post_id":37812393,"comment_id":63094610,"body_markdown":"I see. The problem is that [this example](http://stackoverflow.com/q/26206614/2711488) only works, because the interface is an inner class (which reduces the usefulness of a proxy)…","body":"I see. The problem is that <a href=\"http://stackoverflow.com/q/26206614/2711488\">this example</a> only works, because the interface is an inner class (which reduces the usefulness of a proxy)…"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1465917647,"post_id":37812393,"comment_id":63096436,"body_markdown":"But what’s the point of delivering the “mixins” via `default` methods of an interface, when you end up invoking them all via Reflection?","body":"But what’s the point of delivering the “mixins” via <code>default</code> methods of an interface, when you end up invoking them all via Reflection?"},{"owner":{"account_id":4951801,"reputation":10812,"user_id":3985482,"accept_rate":86,"display_name":"Gerald M&#252;cke"},"score":0,"creation_date":1465918892,"post_id":37812393,"comment_id":63097394,"body_markdown":"given the above example I can add behavior to anaemic domains models such as generated by JAXB and provide either default behavior (from the interfaces) or dynamic behavior (exchangeable functions, scripts, whatever - not talking about security here :) )","body":"given the above example I can add behavior to anaemic domains models such as generated by JAXB and provide either default behavior (from the interfaces) or dynamic behavior (exchangeable functions, scripts, whatever - not talking about security here :) )"}],"answers":[{"comments":[{"owner":{"account_id":4951801,"reputation":10812,"user_id":3985482,"accept_rate":86,"display_name":"Gerald M&#252;cke"},"score":6,"creation_date":1465908770,"post_id":37812516,"comment_id":63089253,"body_markdown":"I tried that, gave me `Caused by: java.lang.IllegalAccessException: no private access for invokespecial: interface example.IExample, from example.IExample/package`","body":"I tried that, gave me <code>Caused by: java.lang.IllegalAccessException: no private access for invokespecial: interface example.IExample, from example.IExample&#47;package</code>"}],"tags":[],"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Krasoń"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465908514,"creation_date":1465908514,"answer_id":37812516,"question_id":37812393,"body_markdown":"Use:\r\n\r\n    Object result = MethodHandles.lookup()\r\n        .in(method.getDeclaringClass())\r\n        .unreflectSpecial(method, method.getDeclaringClass())\r\n        .bindTo(target)\r\n        .invokeWithArguments();","title":"How to explicitly invoke default method from a dynamic Proxy?","body":"<p>Use:</p>\n\n<pre><code>Object result = MethodHandles.lookup()\n    .in(method.getDeclaringClass())\n    .unreflectSpecial(method, method.getDeclaringClass())\n    .bindTo(target)\n    .invokeWithArguments();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4951801,"reputation":10812,"user_id":3985482,"accept_rate":86,"display_name":"Gerald M&#252;cke"},"score":1,"creation_date":1465919027,"post_id":37816247,"comment_id":63097490,"body_markdown":"hm, this also works with anonymous classes ... but given, I don&#39;t know the interfaces before (i.e. because it&#39;s a parameter), could I creates instances of anonymous classes dynamically? (proxy seems not to work, byte code generation is not an option either)","body":"hm, this also works with anonymous classes ... but given, I don&#39;t know the interfaces before (i.e. because it&#39;s a parameter), could I creates instances of anonymous classes dynamically? (proxy seems not to work, byte code generation is not an option either)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1465922005,"post_id":37816247,"comment_id":63099327,"body_markdown":"What is `ex` in this example? It must be an instance of `Example` here, so why not just use the `target` instance? Besides that, it has the same restriction as using `ExampleMixin` directly; it only works, if the specified class has an inner class relationship with the surrounding code (the code which invokes `lookup()`).","body":"What is <code>ex</code> in this example? It must be an instance of <code>Example</code> here, so why not just use the <code>target</code> instance? Besides that, it has the same restriction as using <code>ExampleMixin</code> directly; it only works, if the specified class has an inner class relationship with the surrounding code (the code which invokes <code>lookup()</code>)."},{"owner":{"account_id":4673462,"reputation":6110,"user_id":3784643,"display_name":"T. Neidhart"},"score":0,"creation_date":1465922125,"post_id":37816247,"comment_id":63099392,"body_markdown":"This was a mistake, ex should indeed be replaced by target.","body":"This was a mistake, ex should indeed be replaced by target."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1465922579,"post_id":37816247,"comment_id":63099680,"body_markdown":"@Gerald M&#252;cke: there is no point in trying to generate an implementation, regardless of which method you use. When you invoke `MethodHandles.lookup()`, you get a context allowing private access to yourself. As soon as you invoke `in(someOtherClass)` on it with a class which has no inner class relationship to yourself, which includes all kinds of generated classes, you’ll lose the private access property, which is required for `unreflectSpecial`.","body":"@Gerald M&#252;cke: there is no point in trying to generate an implementation, regardless of which method you use. When you invoke <code>MethodHandles.lookup()</code>, you get a context allowing private access to yourself. As soon as you invoke <code>in(someOtherClass)</code> on it with a class which has no inner class relationship to yourself, which includes all kinds of generated classes, you’ll lose the private access property, which is required for <code>unreflectSpecial</code>."},{"owner":{"account_id":4673462,"reputation":6110,"user_id":3784643,"display_name":"T. Neidhart"},"score":0,"creation_date":1465924538,"post_id":37816247,"comment_id":63100833,"body_markdown":"@Holger: I guess you are right after checking the Java 8 source code for MethodHandles. So there will be no work-around that does not involve some reflection hacks?","body":"@Holger: I guess you are right after checking the Java 8 source code for MethodHandles. So there will be no work-around that does not involve some reflection hacks?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1465924691,"post_id":37816247,"comment_id":63100926,"body_markdown":"When it comes to arbitrary interfaces, not known at compile-time, there seems to be no solution without hacking.","body":"When it comes to arbitrary interfaces, not known at compile-time, there seems to be no solution without hacking."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1469447825,"post_id":37816247,"comment_id":64523905,"body_markdown":"Hmm, this works only if the interface is well known and can be implemented in source code. If the interface is just a `Class`, it won&#39;t work","body":"Hmm, this works only if the interface is well known and can be implemented in source code. If the interface is just a <code>Class</code>, it won&#39;t work"},{"owner":{"account_id":1518645,"reputation":381,"user_id":1418999,"display_name":"krevelen"},"score":0,"creation_date":1475521201,"post_id":37816247,"comment_id":66966715,"body_markdown":"A solution involving reflection was provided a month earlier in May 2014 in [this blog comment](https://rmannibucau.wordpress.com/2014/03/27/java-8-default-interface-methods-and-jdk-dynamic-proxies/#comment-1333) and is applied in [the Java8 support extension](https://github.com/lviggiano/owner/blob/master/owner-java8/src/main/java/org/aeonbits/owner/util/Java8SupportImpl.java) of the OWNER API as well","body":"A solution involving reflection was provided a month earlier in May 2014 in <a href=\"https://rmannibucau.wordpress.com/2014/03/27/java-8-default-interface-methods-and-jdk-dynamic-proxies/#comment-1333\" rel=\"nofollow noreferrer\">this blog comment</a> and is applied in <a href=\"https://github.com/lviggiano/owner/blob/master/owner-java8/src/main/java/org/aeonbits/owner/util/Java8SupportImpl.java\" rel=\"nofollow noreferrer\">the Java8 support extension</a> of the OWNER API as well"},{"owner":{"account_id":214894,"reputation":9047,"user_id":469153,"accept_rate":71,"display_name":"iirekm"},"score":0,"creation_date":1485874832,"post_id":37816247,"comment_id":71100168,"body_markdown":"java.lang.IllegalAccessException: no private access for invokespecial","body":"java.lang.IllegalAccessException: no private access for invokespecial"},{"owner":{"account_id":214894,"reputation":9047,"user_id":469153,"accept_rate":71,"display_name":"iirekm"},"score":0,"creation_date":1485875397,"post_id":37816247,"comment_id":71100583,"body_markdown":"the proper solution is here: https://zeroturnaround.com/rebellabs/recognize-and-conquer-java-proxies-default-methods-and-method-handles/","body":"the proper solution is here: <a href=\"https://zeroturnaround.com/rebellabs/recognize-and-conquer-java-proxies-default-methods-and-method-handles/\" rel=\"nofollow noreferrer\">zeroturnaround.com/rebellabs/&hellip;</a>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1640654242,"post_id":37816247,"comment_id":124626137,"body_markdown":"In Java 16+, this no longer works due to JEP 396.","body":"In Java 16+, this no longer works due to JEP 396."}],"tags":[],"owner":{"account_id":4673462,"reputation":6110,"user_id":3784643,"display_name":"T. Neidhart"},"comment_count":11,"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1465993222,"creation_date":1465918056,"answer_id":37816247,"question_id":37812393,"body_markdown":"If you use a concrete impl class as lookupClass and caller for the invokeSpecial it should correctly invoke the default implementation of the interface (no hack for private access needed):\r\n\r\n    Example target = new Example();\r\n    ...\r\n\r\n    Class targetClass = target.getClass();\r\n    return MethodHandles.lookup()\r\n                        .in(targetClass)\r\n                        .unreflectSpecial(method, targetClass)\r\n                        .bindTo(target)\r\n                        .invokeWithArguments();\r\n\r\nThis of course only works if you have a reference to a concrete object implementing the interface.\r\n\r\nEdit: this solution will only work if the class in question (Example in the code above), is private accessible from the caller code, e.g. an anonymous inner class.\r\n\r\nThe current implementation of the MethodHandles/Lookup class will not allow to call invokeSpecial on any class that is not private accessible from the current caller class. There are various work-arounds available, but all of them require the use of reflection to make constructors/methods accessible, which will probably fail in case a SecurityManager is installed.","title":"How to explicitly invoke default method from a dynamic Proxy?","body":"<p>If you use a concrete impl class as lookupClass and caller for the invokeSpecial it should correctly invoke the default implementation of the interface (no hack for private access needed):</p>\n\n<pre><code>Example target = new Example();\n...\n\nClass targetClass = target.getClass();\nreturn MethodHandles.lookup()\n                    .in(targetClass)\n                    .unreflectSpecial(method, targetClass)\n                    .bindTo(target)\n                    .invokeWithArguments();\n</code></pre>\n\n<p>This of course only works if you have a reference to a concrete object implementing the interface.</p>\n\n<p>Edit: this solution will only work if the class in question (Example in the code above), is private accessible from the caller code, e.g. an anonymous inner class.</p>\n\n<p>The current implementation of the MethodHandles/Lookup class will not allow to call invokeSpecial on any class that is not private accessible from the current caller class. There are various work-arounds available, but all of them require the use of reflection to make constructors/methods accessible, which will probably fail in case a SecurityManager is installed.</p>\n"},{"comments":[{"owner":{"account_id":1155117,"reputation":126,"user_id":1135940,"display_name":"user1135940"},"score":0,"creation_date":1515939170,"post_id":42459136,"comment_id":83483342,"body_markdown":"MethodHandles.Lookup gives &quot;illegal reflective access&quot;, same as reported above.","body":"MethodHandles.Lookup gives &quot;illegal reflective access&quot;, same as reported above."}],"tags":[],"owner":{"account_id":2218957,"reputation":179,"user_id":1958909,"display_name":"junkgui"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488043081,"creation_date":1488043081,"answer_id":42459136,"question_id":37812393,"body_markdown":"If all you have is an interface, and all you have access to is a class object is an interface that extends your base interface, and you want to call the default method without a real instance of a class that implements the interface, you can:\r\n\r\n    \r\n    Object target = Proxy.newProxyInstance(classLoader,\r\n          new Class[]{exampleInterface}, (Object p, Method m, Object[] a) -&gt; null);\r\n\r\nCreate an instance of the interface, and then construct the MethodHandles.Lookup using reflection:\r\n\r\n    Constructor&lt;MethodHandles.Lookup&gt; lookupConstructor = \r\n        MethodHandles.Lookup.class.getDeclaredConstructor(Class.class, Integer.TYPE);\r\n    if (!lookupConstructor.isAccessible()) {\r\n        lookupConstructor.setAccessible(true);\r\n    }\r\n\r\nAnd then use that `lookupConstructor` to create a new instance of your interface that will allow private access to `invokespecial`.  Then invoke the method on the fake proxy `target` you made earlier.\r\n\r\n    lookupConstructor.newInstance(exampleInterface,\r\n            MethodHandles.Lookup.PRIVATE)\r\n            .unreflectSpecial(method, declaringClass)\r\n            .bindTo(target)\r\n            .invokeWithArguments(args);\r\n\r\n","title":"How to explicitly invoke default method from a dynamic Proxy?","body":"<p>If all you have is an interface, and all you have access to is a class object is an interface that extends your base interface, and you want to call the default method without a real instance of a class that implements the interface, you can:</p>\n\n<pre><code>Object target = Proxy.newProxyInstance(classLoader,\n      new Class[]{exampleInterface}, (Object p, Method m, Object[] a) -&gt; null);\n</code></pre>\n\n<p>Create an instance of the interface, and then construct the MethodHandles.Lookup using reflection:</p>\n\n<pre><code>Constructor&lt;MethodHandles.Lookup&gt; lookupConstructor = \n    MethodHandles.Lookup.class.getDeclaredConstructor(Class.class, Integer.TYPE);\nif (!lookupConstructor.isAccessible()) {\n    lookupConstructor.setAccessible(true);\n}\n</code></pre>\n\n<p>And then use that <code>lookupConstructor</code> to create a new instance of your interface that will allow private access to <code>invokespecial</code>.  Then invoke the method on the fake proxy <code>target</code> you made earlier.</p>\n\n<pre><code>lookupConstructor.newInstance(exampleInterface,\n        MethodHandles.Lookup.PRIVATE)\n        .unreflectSpecial(method, declaringClass)\n        .bindTo(target)\n        .invokeWithArguments(args);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1757981,"reputation":2086,"user_id":2245107,"accept_rate":90,"display_name":"Mygod"},"score":0,"creation_date":1590876369,"post_id":49532463,"comment_id":109848934,"body_markdown":"Unfortunately neither method works for Android since Android blocks reflection access to the Java 8 method. :(","body":"Unfortunately neither method works for Android since Android blocks reflection access to the Java 8 method. :("},{"owner":{"account_id":1757981,"reputation":2086,"user_id":2245107,"accept_rate":90,"display_name":"Mygod"},"score":0,"creation_date":1590879990,"post_id":49532463,"comment_id":109849763,"body_markdown":"It seems like for Android 8+, you need to call the constructor with the integer parameter set to (`ALL_MODES`) as the other API is greylisted and unusable if you target API 28+.","body":"It seems like for Android 8+, you need to call the constructor with the integer parameter set to (<code>ALL_MODES</code>) as the other API is greylisted and unusable if you target API 28+."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1591028107,"post_id":49532463,"comment_id":109894974,"body_markdown":"@Mygod: This was mostly a JDK question and answer. Feel free to provide an Android specific answer, I&#39;m sure it will be useful for others...","body":"@Mygod: This was mostly a JDK question and answer. Feel free to provide an Android specific answer, I&#39;m sure it will be useful for others..."},{"owner":{"account_id":2184058,"reputation":1185,"user_id":1932890,"accept_rate":67,"display_name":"raner"},"score":0,"creation_date":1627761187,"post_id":49532463,"comment_id":121244399,"body_markdown":"To be clear, the approach outlined for Java 8 will only fail on Java 9, 10, 11 if the JVM is started with `--illegal-access=deny` (which, by default, it is not). Otherwise, this solution will print a warning message on the console, but it will still work.","body":"To be clear, the approach outlined for Java 8 will only fail on Java 9, 10, 11 if the JVM is started with <code>--illegal-access=deny</code> (which, by default, it is not). Otherwise, this solution will print a warning message on the console, but it will still work."},{"owner":{"account_id":1632626,"reputation":850,"user_id":1506881,"display_name":"J&#246;rg"},"score":0,"creation_date":1641325065,"post_id":49532463,"comment_id":124774837,"body_markdown":"You seemed to miss out that the context of the actual question is the Java Platform Module System (JPMS). In this context none of your suggested solutions work as you always get an IllegalAccessException. However, if you can see the Interface from a module, you should be able to invoke default methods (esp. for dynamic proxies) as otherwise the basic concepts of Java are flawed. Seems that users need to upgrade to Java 16/17 and use InvocationHandler.invokeDefault as suggested by @John","body":"You seemed to miss out that the context of the actual question is the Java Platform Module System (JPMS). In this context none of your suggested solutions work as you always get an IllegalAccessException. However, if you can see the Interface from a module, you should be able to invoke default methods (esp. for dynamic proxies) as otherwise the basic concepts of Java are flawed. Seems that users need to upgrade to Java 16/17 and use InvocationHandler.invokeDefault as suggested by @John"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":5,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1583851910,"creation_date":1522233942,"answer_id":49532463,"question_id":37812393,"body_markdown":"I&#39;ve been troubled by similar issues as well when using `MethodHandle.Lookup` in JDK 8 - 10, which behave differently. [I&#39;ve blogged about the correct solution here in detail][1].\r\n\r\n### This approach works in Java 8\r\n\r\nIn Java 8, the ideal approach uses a hack that accesses a package-private constructor from `Lookup`:\r\n\r\n    import java.lang.invoke.MethodHandles.Lookup;\r\n    import java.lang.reflect.Constructor;\r\n    import java.lang.reflect.Proxy;\r\n     \r\n    interface Duck {\r\n        default void quack() {\r\n            System.out.println(&quot;Quack&quot;);\r\n        }\r\n    }\r\n     \r\n    public class ProxyDemo {\r\n        public static void main(String[] a) {\r\n            Duck duck = (Duck) Proxy.newProxyInstance(\r\n                Thread.currentThread().getContextClassLoader(),\r\n                new Class[] { Duck.class },\r\n                (proxy, method, args) -&gt; {\r\n                    Constructor&lt;Lookup&gt; constructor = Lookup.class\r\n                        .getDeclaredConstructor(Class.class);\r\n                    constructor.setAccessible(true);\r\n                    constructor.newInstance(Duck.class)\r\n                        .in(Duck.class)\r\n                        .unreflectSpecial(method, Duck.class)\r\n                        .bindTo(proxy)\r\n                        .invokeWithArguments(args);\r\n                    return null;\r\n                }\r\n            );\r\n     \r\n            duck.quack();\r\n        }\r\n    }\r\n\r\nThis is the only approach that works with both private-accessible and private-inaccessible interfaces. However, the above approach does illegal reflective access to JDK internals, which will no longer work in a future JDK version, or if `--illegal-access=deny` is specified on the JVM.\r\n\r\n### This approach works on Java 9 and 10, but not 8\r\n\r\n    import java.lang.invoke.MethodHandles;\r\n    import java.lang.invoke.MethodType;\r\n    import java.lang.reflect.Proxy;\r\n     \r\n    interface Duck {\r\n        default void quack() {\r\n            System.out.println(&quot;Quack&quot;);\r\n        }\r\n    }\r\n     \r\n    public class ProxyDemo {\r\n        public static void main(String[] a) {\r\n            Duck duck = (Duck) Proxy.newProxyInstance(\r\n                Thread.currentThread().getContextClassLoader(),\r\n                new Class[] { Duck.class },\r\n                (proxy, method, args) -&gt; {\r\n                    MethodHandles.lookup()\r\n                        .findSpecial( \r\n                             Duck.class, \r\n                             &quot;quack&quot;,  \r\n                             MethodType.methodType(void.class, new Class[0]),  \r\n                             Duck.class)\r\n                        .bindTo(proxy)\r\n                        .invokeWithArguments(args);\r\n                    return null;\r\n                }\r\n            );\r\n     \r\n            duck.quack();\r\n        }\r\n    }\r\n\r\n### Solution\r\n\r\nSimply implement both of the above solutions and check if your code is running on JDK 8 or on a later JDK and you&#39;ll be fine. Until you&#39;re not :)\r\n\r\n  [1]: https://blog.jooq.org/2018/03/28/correct-reflective-access-to-interface-default-methods-in-java-8-9-10/","title":"How to explicitly invoke default method from a dynamic Proxy?","body":"<p>I've been troubled by similar issues as well when using <code>MethodHandle.Lookup</code> in JDK 8 - 10, which behave differently. <a href=\"https://blog.jooq.org/2018/03/28/correct-reflective-access-to-interface-default-methods-in-java-8-9-10/\" rel=\"noreferrer\">I've blogged about the correct solution here in detail</a>.</p>\n\n<h3>This approach works in Java 8</h3>\n\n<p>In Java 8, the ideal approach uses a hack that accesses a package-private constructor from <code>Lookup</code>:</p>\n\n<pre><code>import java.lang.invoke.MethodHandles.Lookup;\nimport java.lang.reflect.Constructor;\nimport java.lang.reflect.Proxy;\n\ninterface Duck {\n    default void quack() {\n        System.out.println(\"Quack\");\n    }\n}\n\npublic class ProxyDemo {\n    public static void main(String[] a) {\n        Duck duck = (Duck) Proxy.newProxyInstance(\n            Thread.currentThread().getContextClassLoader(),\n            new Class[] { Duck.class },\n            (proxy, method, args) -&gt; {\n                Constructor&lt;Lookup&gt; constructor = Lookup.class\n                    .getDeclaredConstructor(Class.class);\n                constructor.setAccessible(true);\n                constructor.newInstance(Duck.class)\n                    .in(Duck.class)\n                    .unreflectSpecial(method, Duck.class)\n                    .bindTo(proxy)\n                    .invokeWithArguments(args);\n                return null;\n            }\n        );\n\n        duck.quack();\n    }\n}\n</code></pre>\n\n<p>This is the only approach that works with both private-accessible and private-inaccessible interfaces. However, the above approach does illegal reflective access to JDK internals, which will no longer work in a future JDK version, or if <code>--illegal-access=deny</code> is specified on the JVM.</p>\n\n<h3>This approach works on Java 9 and 10, but not 8</h3>\n\n<pre><code>import java.lang.invoke.MethodHandles;\nimport java.lang.invoke.MethodType;\nimport java.lang.reflect.Proxy;\n\ninterface Duck {\n    default void quack() {\n        System.out.println(\"Quack\");\n    }\n}\n\npublic class ProxyDemo {\n    public static void main(String[] a) {\n        Duck duck = (Duck) Proxy.newProxyInstance(\n            Thread.currentThread().getContextClassLoader(),\n            new Class[] { Duck.class },\n            (proxy, method, args) -&gt; {\n                MethodHandles.lookup()\n                    .findSpecial( \n                         Duck.class, \n                         \"quack\",  \n                         MethodType.methodType(void.class, new Class[0]),  \n                         Duck.class)\n                    .bindTo(proxy)\n                    .invokeWithArguments(args);\n                return null;\n            }\n        );\n\n        duck.quack();\n    }\n}\n</code></pre>\n\n<h3>Solution</h3>\n\n<p>Simply implement both of the above solutions and check if your code is running on JDK 8 or on a later JDK and you'll be fine. Until you're not :)</p>\n"},{"comments":[{"owner":{"account_id":1632626,"reputation":850,"user_id":1506881,"display_name":"J&#246;rg"},"score":0,"creation_date":1641580822,"post_id":56374371,"comment_id":124850167,"body_markdown":"spring does not support Java modules at all. Therefore the error `IllegalAccessException: no private access for invokespecial: interface example.ExampleMixin, from example.ExampleMixin/package` will not go away when springs &quot;solution&quot; is used.","body":"spring does not support Java modules at all. Therefore the error <code>IllegalAccessException: no private access for invokespecial: interface example.ExampleMixin, from example.ExampleMixin&#47;package</code> will not go away when springs &quot;solution&quot; is used."}],"tags":[],"owner":{"account_id":6493251,"reputation":519,"user_id":5026611,"display_name":"martian"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559204457,"creation_date":1559204457,"answer_id":56374371,"question_id":37812393,"body_markdown":"We can see how spring process default method.\r\n\r\n 1. try invoke public method `MethodHandles.privateLookupIn(Class,Lookup)` first. This should success on jdk9+.\r\n 2. try create a Lookup with package private constructor `MethodHandles.Lookup(Class)`.\r\n 3. fallback to MethodHandles.lookup().findSpecial(...)\r\n\r\nhttps://github.com/spring-projects/spring-data-commons/blob/2.1.8.RELEASE/src/main/java/org/springframework/data/projection/DefaultMethodInvokingMethodInterceptor.java","title":"How to explicitly invoke default method from a dynamic Proxy?","body":"<p>We can see how spring process default method.</p>\n\n<ol>\n<li>try invoke public method <code>MethodHandles.privateLookupIn(Class,Lookup)</code> first. This should success on jdk9+.</li>\n<li>try create a Lookup with package private constructor <code>MethodHandles.Lookup(Class)</code>.</li>\n<li>fallback to MethodHandles.lookup().findSpecial(...)</li>\n</ol>\n\n<p><a href=\"https://github.com/spring-projects/spring-data-commons/blob/2.1.8.RELEASE/src/main/java/org/springframework/data/projection/DefaultMethodInvokingMethodInterceptor.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-commons/blob/2.1.8.RELEASE/src/main/java/org/springframework/data/projection/DefaultMethodInvokingMethodInterceptor.java</a></p>\n"},{"comments":[{"owner":{"account_id":1757981,"reputation":2086,"user_id":2245107,"accept_rate":90,"display_name":"Mygod"},"score":1,"creation_date":1590877371,"post_id":61620329,"comment_id":109849175,"body_markdown":"Requires Java 9 it seems.","body":"Requires Java 9 it seems."}],"tags":[],"owner":{"account_id":5786048,"reputation":1847,"user_id":4565235,"display_name":"David Lilljegren"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693857426,"creation_date":1588703221,"answer_id":61620329,"question_id":37812393,"body_markdown":"T. Neidhart answer almost worked but I got the *java.lang.IllegalAccessException: no private access for invokespecial* \r\n\r\nChanging to use `MethodHandles.privateLookupIn(...)` solved it  \r\n\r\n    return MethodHandles.privateLookupIn(clazz,MethodHandles.lookup())\r\n                            .in(clazz)\r\n                            .unreflectSpecial(method, clazz)\r\n                            .bindTo(proxy)\r\n                            .invokeWithArguments(args);\r\n\r\nHere&#39;s a full example, the idea is that a user that extends a provided IMap can access nested nested map&#39;s with he&#39;s custom interface\r\n\r\n    interface IMap {\r\n        Object get(String key);\r\n\r\n        default &lt;T&gt; T getAsAny(String key){\r\n            return (T)get(key);\r\n        }\r\n\r\n\r\n        default &lt;T extends IMap&gt; T getNestedAs(String key, Class&lt;T&gt; clazz) {\r\n            Map&lt;String,Object&gt; nested = getAsAny(key);\r\n            return (T)Proxy.newProxyInstance(this.getClass().getClassLoader(), new Class[]{clazz},  (proxy, method, args) -&gt; {\r\n                        if (method.getName().equals(&quot;get&quot;)){\r\n                            return nested.get(args[0]);\r\n                        }\r\n                        return MethodHandles.privateLookupIn(clazz, MethodHandles.lookup())\r\n                                .in(clazz)\r\n                                .unreflectSpecial(method, clazz)\r\n                                .bindTo(proxy)\r\n                                .invokeWithArguments(args);\r\n                    }\r\n            );\r\n        }\r\n    }\r\n\r\n    interface IMyMap extends IMap{\r\n\r\n        default Integer getAsInt(String key){\r\n            return getAsAny(key);\r\n        }\r\n        default IMyMap getNested(String key){\r\n            return getNestedAs(key,IMyMap.class);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void test(){\r\n        var data =Map.of(&quot;strKey&quot;,&quot;strValue&quot;, &quot;nstKey&quot;, Map.of(&quot;intKey&quot;,42));\r\n        IMyMap base = data::get;\r\n\r\n        IMyMap myMap = base.getNested(&quot;nstKey&quot;);\r\n        System.out.println( myMap.getAsInt(&quot;intKey&quot;));\r\n    }","title":"How to explicitly invoke default method from a dynamic Proxy?","body":"<p>T. Neidhart answer almost worked but I got the <em>java.lang.IllegalAccessException: no private access for invokespecial</em></p>\n<p>Changing to use <code>MethodHandles.privateLookupIn(...)</code> solved it</p>\n<pre><code>return MethodHandles.privateLookupIn(clazz,MethodHandles.lookup())\n                        .in(clazz)\n                        .unreflectSpecial(method, clazz)\n                        .bindTo(proxy)\n                        .invokeWithArguments(args);\n</code></pre>\n<p>Here's a full example, the idea is that a user that extends a provided IMap can access nested nested map's with he's custom interface</p>\n<pre><code>interface IMap {\n    Object get(String key);\n\n    default &lt;T&gt; T getAsAny(String key){\n        return (T)get(key);\n    }\n\n\n    default &lt;T extends IMap&gt; T getNestedAs(String key, Class&lt;T&gt; clazz) {\n        Map&lt;String,Object&gt; nested = getAsAny(key);\n        return (T)Proxy.newProxyInstance(this.getClass().getClassLoader(), new Class[]{clazz},  (proxy, method, args) -&gt; {\n                    if (method.getName().equals(&quot;get&quot;)){\n                        return nested.get(args[0]);\n                    }\n                    return MethodHandles.privateLookupIn(clazz, MethodHandles.lookup())\n                            .in(clazz)\n                            .unreflectSpecial(method, clazz)\n                            .bindTo(proxy)\n                            .invokeWithArguments(args);\n                }\n        );\n    }\n}\n\ninterface IMyMap extends IMap{\n\n    default Integer getAsInt(String key){\n        return getAsAny(key);\n    }\n    default IMyMap getNested(String key){\n        return getNestedAs(key,IMyMap.class);\n    }\n}\n\n@Test\npublic void test(){\n    var data =Map.of(&quot;strKey&quot;,&quot;strValue&quot;, &quot;nstKey&quot;, Map.of(&quot;intKey&quot;,42));\n    IMyMap base = data::get;\n\n    IMyMap myMap = base.getNested(&quot;nstKey&quot;);\n    System.out.println( myMap.getAsInt(&quot;intKey&quot;));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1632626,"reputation":850,"user_id":1506881,"display_name":"J&#246;rg"},"score":0,"creation_date":1641580673,"post_id":66912425,"comment_id":124850120,"body_markdown":"Thanks - this really helped me to rescue my project vision. See https://github.com/m-m-m/bean/issues/4 for further details.","body":"Thanks - this really helped me to rescue my project vision. See <a href=\"https://github.com/m-m-m/bean/issues/4\" rel=\"nofollow noreferrer\">github.com/m-m-m/bean/issues/4</a> for further details."}],"tags":[],"owner":{"account_id":3272586,"reputation":251,"user_id":5599820,"display_name":"John"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1617316921,"creation_date":1617316921,"answer_id":66912425,"question_id":37812393,"body_markdown":"In Java 16 (from the [documentation](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/reflect/InvocationHandler.html), which also has more complex examples):\r\n\r\n```java\r\nObject proxy = Proxy.newProxyInstance(loader, new Class[] { A.class },\r\n        (o, m, params) -&gt; {\r\n            if (m.isDefault()) {\r\n                // if it&#39;s a default method, invoke it\r\n                return InvocationHandler.invokeDefault(o, m, params);\r\n            }\r\n        });\r\n}\r\n```\r\n\r\n","title":"How to explicitly invoke default method from a dynamic Proxy?","body":"<p>In Java 16 (from the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/reflect/InvocationHandler.html\" rel=\"noreferrer\">documentation</a>, which also has more complex examples):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object proxy = Proxy.newProxyInstance(loader, new Class[] { A.class },\n        (o, m, params) -&gt; {\n            if (m.isDefault()) {\n                // if it's a default method, invoke it\n                return InvocationHandler.invokeDefault(o, m, params);\n            }\n        });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1757981,"reputation":2086,"user_id":2245107,"accept_rate":90,"display_name":"Mygod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629239231,"creation_date":1629239231,"answer_id":68824695,"question_id":37812393,"body_markdown":"Lukas&#39; answer works on Android 8+ (earlier releases do not have default methods) but relies on a private API that was blocked in later Android releases. Fortunately, the alternative constructor also works and is in grey list (unsupported) for now. The example (written in Kotlin) can be seen here.\r\n\r\n```kotlin\r\n@get:RequiresApi(26)\r\nprivate val newLookup by lazy @TargetApi(26) {\r\n    MethodHandles.Lookup::class.java.getDeclaredConstructor(Class::class.java, Int::class.java).apply {\r\n        isAccessible = true\r\n    }\r\n}\r\n\r\n@RequiresApi(26)\r\nfun InvocationHandler.invokeDefault(proxy: Any, method: Method, vararg args: Any?) =\r\n    newLookup.newInstance(method.declaringClass, 0xf)   // ALL_MODES\r\n        .unreflectSpecial(method, method.declaringClass)\r\n        .bindTo(proxy)\r\n        .invokeWithArguments(*args)\r\n```","title":"How to explicitly invoke default method from a dynamic Proxy?","body":"<p>Lukas' answer works on Android 8+ (earlier releases do not have default methods) but relies on a private API that was blocked in later Android releases. Fortunately, the alternative constructor also works and is in grey list (unsupported) for now. The example (written in Kotlin) can be seen here.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@get:RequiresApi(26)\nprivate val newLookup by lazy @TargetApi(26) {\n    MethodHandles.Lookup::class.java.getDeclaredConstructor(Class::class.java, Int::class.java).apply {\n        isAccessible = true\n    }\n}\n\n@RequiresApi(26)\nfun InvocationHandler.invokeDefault(proxy: Any, method: Method, vararg args: Any?) =\n    newLookup.newInstance(method.declaringClass, 0xf)   // ALL_MODES\n        .unreflectSpecial(method, method.declaringClass)\n        .bindTo(proxy)\n        .invokeWithArguments(*args)\n</code></pre>\n"}],"owner":{"account_id":4951801,"reputation":10812,"user_id":3985482,"accept_rate":86,"display_name":"Gerald M&#252;cke"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6732,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":37816247,"answer_count":8,"score":37,"last_activity_date":1693857426,"creation_date":1465908174,"question_id":37812393,"body_markdown":"Since Java 8 interfaces could have default methods. \r\nI know how to invoke the method explicitly from the implementing method, i.e.\r\n(see [Explicitly calling a default method in Java][1])\r\n\r\nBut how do I *explicitly* invoke the default method using reflection for example on a proxy?\r\n\r\nExample:\r\n\r\n    interface ExampleMixin {\r\n\r\n      String getText();\r\n\r\n      default void printInfo(){\r\n        System.out.println(getText());\r\n      }\r\n    }\r\n\r\n    class Example {\r\n\r\n      public static void main(String... args) throws Exception {\r\n        \r\n        Object target = new Object();\r\n\r\n        Map&lt;String, BiFunction&lt;Object, Object[], Object&gt;&gt; behavior = new HashMap&lt;&gt;();\r\n\r\n        ExampleMixin dynamic =\r\n                (ExampleMixin) Proxy.newProxyInstance(Thread.currentThread().getContextClassLoader(),new Class[]{ExampleMixin.class}, (Object proxy, Method method, Object[] arguments) -&gt; {\r\n\r\n                    //custom mixin behavior\r\n                    if(behavior.containsKey(method.getName())) {\r\n                        return behavior.get(method.getName()).apply(target, arguments);\r\n                    //default mixin behavior\r\n                    } else if (method.isDefault()) {\r\n                        //this block throws java.lang.IllegalAccessException: no private access for invokespecial\r\n                        return MethodHandles.lookup()\r\n                                            .in(method.getDeclaringClass())\r\n                                            .unreflectSpecial(method, method.getDeclaringClass())\r\n                                            .bindTo(target)\r\n                                            .invokeWithArguments();\r\n                    //no mixin behavior\r\n                    } else if (ExampleMixin.class == method.getDeclaringClass()) {\r\n                        throw new UnsupportedOperationException(method.getName() + &quot; is not supported&quot;);\r\n                    //base class behavior\r\n                    } else{\r\n                        return method.invoke(target, arguments);\r\n                    }\r\n                });\r\n\r\n        //define behavior for abstract method getText()\r\n        behavior.put(&quot;getText&quot;, (o, a) -&gt; o.toString() + &quot; myText&quot;);\r\n\r\n        System.out.println(dynamic.getClass());\r\n        System.out.println(dynamic.toString());\r\n        System.out.println(dynamic.getText());\r\n\r\n        //print info should by default implementation\r\n        dynamic.printInfo();\r\n      }\r\n    }\r\n\r\n--- \r\n**Edit:** I know a similar question has been asked in [How do I invoke Java 8 default methods refletively][2], but this has not solved my problem for two reasons:\r\n\r\n - the problem described in that question aimed on how to invoked it via reflection *in general* - so no distinction between default and overriden method was made - and this is simple, you only need an instance.\r\n - one of the answers - using method handles - does only work with nasty hack (imho) like changing access modifiers to fields of the lookup class, which is the same category of &quot;solutions&quot; like this: [Change private static final field using Java reflection][3]: *it&#39;s good to know it&#39;s possible, but I wouldn&#39;t use it in production* - I&#39;m looking for an &quot;official&quot; way to do it.\r\n\r\nThe `IllegalAccessException` is thrown in `unreflectSpecial`\r\n\r\n    Caused by: java.lang.IllegalAccessException: no private access for invokespecial: interface example.ExampleMixin, from example.ExampleMixin/package\r\n\tat java.lang.invoke.MemberName.makeAccessException(MemberName.java:852)\r\n\tat java.lang.invoke.MethodHandles$Lookup.checkSpecialCaller(MethodHandles.java:1568)\r\n\tat java.lang.invoke.MethodHandles$Lookup.unreflectSpecial(MethodHandles.java:1227)\r\n\tat example.Example.lambda$main$0(Example.java:30)\r\n\tat example.Example$$Lambda$1/1342443276.invoke(Unknown Source)\r\n \r\n\r\n  [1]: https://stackoverflow.com/questions/19976487/explicitly-calling-a-default-method-in-java\r\n  [2]: https://stackoverflow.com/questions/22614746/how-do-i-invoke-java-8-default-methods-refletively\r\n  [3]: https://stackoverflow.com/questions/3301635/change-private-static-final-field-using-java-reflection","title":"How to explicitly invoke default method from a dynamic Proxy?","body":"<p>Since Java 8 interfaces could have default methods. \nI know how to invoke the method explicitly from the implementing method, i.e.\n(see <a href=\"https://stackoverflow.com/questions/19976487/explicitly-calling-a-default-method-in-java\">Explicitly calling a default method in Java</a>)</p>\n\n<p>But how do I <em>explicitly</em> invoke the default method using reflection for example on a proxy?</p>\n\n<p>Example:</p>\n\n<pre><code>interface ExampleMixin {\n\n  String getText();\n\n  default void printInfo(){\n    System.out.println(getText());\n  }\n}\n\nclass Example {\n\n  public static void main(String... args) throws Exception {\n\n    Object target = new Object();\n\n    Map&lt;String, BiFunction&lt;Object, Object[], Object&gt;&gt; behavior = new HashMap&lt;&gt;();\n\n    ExampleMixin dynamic =\n            (ExampleMixin) Proxy.newProxyInstance(Thread.currentThread().getContextClassLoader(),new Class[]{ExampleMixin.class}, (Object proxy, Method method, Object[] arguments) -&gt; {\n\n                //custom mixin behavior\n                if(behavior.containsKey(method.getName())) {\n                    return behavior.get(method.getName()).apply(target, arguments);\n                //default mixin behavior\n                } else if (method.isDefault()) {\n                    //this block throws java.lang.IllegalAccessException: no private access for invokespecial\n                    return MethodHandles.lookup()\n                                        .in(method.getDeclaringClass())\n                                        .unreflectSpecial(method, method.getDeclaringClass())\n                                        .bindTo(target)\n                                        .invokeWithArguments();\n                //no mixin behavior\n                } else if (ExampleMixin.class == method.getDeclaringClass()) {\n                    throw new UnsupportedOperationException(method.getName() + \" is not supported\");\n                //base class behavior\n                } else{\n                    return method.invoke(target, arguments);\n                }\n            });\n\n    //define behavior for abstract method getText()\n    behavior.put(\"getText\", (o, a) -&gt; o.toString() + \" myText\");\n\n    System.out.println(dynamic.getClass());\n    System.out.println(dynamic.toString());\n    System.out.println(dynamic.getText());\n\n    //print info should by default implementation\n    dynamic.printInfo();\n  }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Edit:</strong> I know a similar question has been asked in <a href=\"https://stackoverflow.com/questions/22614746/how-do-i-invoke-java-8-default-methods-refletively\">How do I invoke Java 8 default methods refletively</a>, but this has not solved my problem for two reasons:</p>\n\n<ul>\n<li>the problem described in that question aimed on how to invoked it via reflection <em>in general</em> - so no distinction between default and overriden method was made - and this is simple, you only need an instance.</li>\n<li>one of the answers - using method handles - does only work with nasty hack (imho) like changing access modifiers to fields of the lookup class, which is the same category of \"solutions\" like this: <a href=\"https://stackoverflow.com/questions/3301635/change-private-static-final-field-using-java-reflection\">Change private static final field using Java reflection</a>: <em>it's good to know it's possible, but I wouldn't use it in production</em> - I'm looking for an \"official\" way to do it.</li>\n</ul>\n\n<p>The <code>IllegalAccessException</code> is thrown in <code>unreflectSpecial</code></p>\n\n<pre><code>Caused by: java.lang.IllegalAccessException: no private access for invokespecial: interface example.ExampleMixin, from example.ExampleMixin/package\nat java.lang.invoke.MemberName.makeAccessException(MemberName.java:852)\nat java.lang.invoke.MethodHandles$Lookup.checkSpecialCaller(MethodHandles.java:1568)\nat java.lang.invoke.MethodHandles$Lookup.unreflectSpecial(MethodHandles.java:1227)\nat example.Example.lambda$main$0(Example.java:30)\nat example.Example$$Lambda$1/1342443276.invoke(Unknown Source)\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-connect"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1693699984,"post_id":77028962,"comment_id":135795212,"body_markdown":"The file stream source is not recommended for production usage. You can instead try tools like fluentbit, vector, or flume for log file ingesting into Kafka","body":"The file stream source is not recommended for production usage. You can instead try tools like fluentbit, vector, or flume for log file ingesting into Kafka"}],"answers":[{"comments":[{"owner":{"account_id":21638179,"reputation":55,"user_id":15960826,"display_name":"Oyindamola Victor"},"score":0,"creation_date":1693856907,"post_id":77030476,"comment_id":135812382,"body_markdown":"Thanks for this, but there were a lot of discrepancies with the external guide I was using, so I just downgraded my kafka to 2.6.1 and everything worked including the command I was trying to run","body":"Thanks for this, but there were a lot of discrepancies with the external guide I was using, so I just downgraded my kafka to 2.6.1 and everything worked including the command I was trying to run"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1693865804,"post_id":77030476,"comment_id":135813357,"body_markdown":"Why not use the official documentation? Downgrading isn&#39;t necessary. The file connector is not recommended for production usage, therefore was removed from the default connect classpath","body":"Why not use the official documentation? Downgrading isn&#39;t necessary. The file connector is not recommended for production usage, therefore was removed from the default connect classpath"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693700050,"creation_date":1693700050,"answer_id":77030476,"question_id":77028962,"body_markdown":"The error is saying your `plugin.path` doesn&#39;t include the filesystem directory that includes the `connect-file` JAR that comes with Kafka\r\n\r\nSee step 6 - https://kafka.apache.org/quickstart ","title":"StreamSource: ERROR Stopping after connector error (org.apache.kafka.connect.cli.ConnectStandalone:84)","body":"<p>The error is saying your <code>plugin.path</code> doesn't include the filesystem directory that includes the <code>connect-file</code> JAR that comes with Kafka</p>\n<p>See step 6 - <a href=\"https://kafka.apache.org/quickstart\" rel=\"nofollow noreferrer\">https://kafka.apache.org/quickstart</a></p>\n"},{"tags":[],"owner":{"account_id":21638179,"reputation":55,"user_id":15960826,"display_name":"Oyindamola Victor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693857014,"creation_date":1693857014,"answer_id":77040285,"question_id":77028962,"body_markdown":"I just downgraded my kafka to 2.6.1, turns out there were some discrepancies with using the latest kafka update which as at this post is 3.5.1","title":"StreamSource: ERROR Stopping after connector error (org.apache.kafka.connect.cli.ConnectStandalone:84)","body":"<p>I just downgraded my kafka to 2.6.1, turns out there were some discrepancies with using the latest kafka update which as at this post is 3.5.1</p>\n"}],"owner":{"account_id":21638179,"reputation":55,"user_id":15960826,"display_name":"Oyindamola Victor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77040285,"answer_count":2,"score":-1,"last_activity_date":1693857014,"creation_date":1693669920,"question_id":77028962,"body_markdown":"so I am trying to run the connect-standalone.sh to produce the data from log file as messages into Kafka topic by passing both the properties files\r\n\r\n```\r\nINFO Kafka Connect started (org.apache.kafka.connect.runtime.Connect:57)\r\n[2023-09-02 15:50:12,527] ERROR Failed to create connector for retail_logs_file_source.properties (org.apache.kafka.connect.cli.ConnectStandalone:74)\r\n[2023-09-02 15:50:12,528] ERROR Stopping after connector error (org.apache.kafka.connect.cli.ConnectStandalone:84)\r\njava.util.concurrent.ExecutionException: org.apache.kafka.connect.errors.ConnectException: Failed to find any class that implements Connector and which name matches FileStreamSource, available connectors are: PluginDesc{klass=class org.apache.kafka.connect.mirror.MirrorCheckpointConnector, name=&#39;org.apache.kafka.connect.mirror.MirrorCheckpointConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=source, typeName=&#39;source&#39;, location=&#39;classpath&#39;}, PluginDesc{klass=class org.apache.kafka.connect.mirror.MirrorHeartbeatConnector, name=&#39;org.apache.kafka.connect.mirror.MirrorHeartbeatConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=source, typeName=&#39;source&#39;, location=&#39;classpath&#39;}, PluginDesc{klass=class org.apache.kafka.connect.mirror.MirrorSourceConnector, name=&#39;org.apache.kafka.connect.mirror.MirrorSourceConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=source, typeName=&#39;source&#39;, location=&#39;classpath&#39;}, PluginDesc{klass=class org.apache.kafka.connect.tools.MockSinkConnector, name=&#39;org.apache.kafka.connect.tools.MockSinkConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=sink, typeName=&#39;sink&#39;, location=&#39;classpath&#39;}, PluginDesc{klass=class org.apache.kafka.connect.tools.MockSourceConnector, name=&#39;org.apache.kafka.connect.tools.MockSourceConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=source, typeName=&#39;source&#39;, location=&#39;classpath&#39;}, PluginDesc{klass=class org.apache.kafka.connect.tools.SchemaSourceConnector, name=&#39;org.apache.kafka.connect.tools.SchemaSourceConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=source, typeName=&#39;source&#39;, location=&#39;classpath&#39;}, PluginDesc{klass=class org.apache.kafka.connect.tools.VerifiableSinkConnector, name=&#39;org.apache.kafka.connect.tools.VerifiableSinkConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=sink, typeName=&#39;sink&#39;, location=&#39;classpath&#39;}, PluginDesc{klass=class org.apache.kafka.connect.tools.VerifiableSourceConnector, name=&#39;org.apache.kafka.connect.tools.VerifiableSourceConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=source, typeName=&#39;source&#39;, location=&#39;classpath&#39;}\r\n\tat org.apache.kafka.connect.util.ConvertingFutureCallback.result(ConvertingFutureCallback.java:123)\r\n\tat org.apache.kafka.connect.util.ConvertingFutureCallback.get(ConvertingFutureCallback.java:107)\r\n\tat org.apache.kafka.connect.cli.ConnectStandalone.processExtraArgs(ConnectStandalone.java:81)\r\n\tat org.apache.kafka.connect.cli.AbstractConnectCli.startConnect(AbstractConnectCli.java:150)\r\n\tat org.apache.kafka.connect.cli.AbstractConnectCli.run(AbstractConnectCli.java:94)\r\n\tat org.apache.kafka.connect.cli.ConnectStandalone.main(ConnectStandalone.java:112)\r\nCaused by: org.apache.kafka.connect.errors.ConnectException: Failed to find any class that implements Connector and which name matches FileStreamSource, available connectors are: PluginDesc{klass=class org.apache.kafka.connect.mirror.MirrorCheckpointConnector, name=&#39;org.apache.kafka.connect.mirror.MirrorCheckpointConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=source, typeName=&#39;source&#39;, location=&#39;classpath&#39;}, PluginDesc{klass=class org.apache.kafka.connect.mirror.MirrorHeartbeatConnector, name=&#39;org.apache.kafka.connect.mirror.MirrorHeartbeatConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=source, typeName=&#39;source&#39;, location=&#39;classpath&#39;}, PluginDesc{klass=class org.apache.kafka.connect.mirror.MirrorSourceConnector, name=&#39;org.apache.kafka.connect.mirror.MirrorSourceConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=source, typeName=&#39;source&#39;, location=&#39;classpath&#39;}, PluginDesc{klass=class org.apache.kafka.connect.tools.MockSinkConnector, name=&#39;org.apache.kafka.connect.tools.MockSinkConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=sink, typeName=&#39;sink&#39;, location=&#39;classpath&#39;}, PluginDesc{klass=class org.apache.kafka.connect.tools.MockSourceConnector, name=&#39;org.apache.kafka.connect.tools.MockSourceConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=source, typeName=&#39;source&#39;, location=&#39;classpath&#39;}, PluginDesc{klass=class org.apache.kafka.connect.tools.SchemaSourceConnector, name=&#39;org.apache.kafka.connect.tools.SchemaSourceConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=source, typeName=&#39;source&#39;, location=&#39;classpath&#39;}, PluginDesc{klass=class org.apache.kafka.connect.tools.VerifiableSinkConnector, name=&#39;org.apache.kafka.connect.tools.VerifiableSinkConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=sink, typeName=&#39;sink&#39;, location=&#39;classpath&#39;}, PluginDesc{klass=class org.apache.kafka.connect.tools.VerifiableSourceConnector, name=&#39;org.apache.kafka.connect.tools.VerifiableSourceConnector&#39;, version=&#39;3.5.1&#39;, encodedVersion=3.5.1, type=source, typeName=&#39;source&#39;, location=&#39;classpath&#39;}\r\n\tat org.apache.kafka.connect.runtime.isolation.Plugins.connectorClass(Plugins.java:253)\r\n\tat org.apache.kafka.connect.runtime.isolation.Plugins.newConnector(Plugins.java:224)\r\n\tat org.apache.kafka.connect.runtime.AbstractHerder.lambda$getConnector$6(AbstractHerder.java:702)\r\n\tat java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1660)\r\n\tat org.apache.kafka.connect.runtime.AbstractHerder.getConnector(AbstractHerder.java:702)\r\n\tat org.apache.kafka.connect.runtime.AbstractHerder.validateConnectorConfig(AbstractHerder.java:470)\r\n\tat org.apache.kafka.connect.runtime.AbstractHerder.lambda$validateConnectorConfig$2(AbstractHerder.java:390)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n[2023-09-02 15:50:12,533] INFO Kafka Connect stopping (org.apache.kafka.connect.runtime.Connect:67)\r\n[2023-09-02 15:50:12,534] INFO Stopping REST server (org.apache.kafka.connect.runtime.rest.RestServer:348)\r\n[2023-09-02 15:50:12,541] INFO Stopped http_8083@64712be{HTTP/1.1, (http/1.1)}{0.0.0.0:8083} (org.eclipse.jetty.server.AbstractConnector:383)\r\n[2023-09-02 15:50:12,541] INFO node0 Stopped scavenging (org.eclipse.jetty.server.session:149)\r\n[2023-09-02 15:50:12,546] INFO REST server stopped (org.apache.kafka.connect.runtime.rest.RestServer:365)\r\n[2023-09-02 15:50:12,546] INFO Herder stopping (org.apache.kafka.connect.runtime.standalone.StandaloneHerder:107)\r\n[2023-09-02 15:50:12,547] INFO Worker stopping (org.apache.kafka.connect.runtime.Worker:223)\r\n[2023-09-02 15:50:12,549] INFO Stopped FileOffsetBackingStore (org.apache.kafka.connect.storage.FileOffsetBackingStore:71)\r\n[2023-09-02 15:50:12,549] INFO Metrics scheduler closed (org.apache.kafka.common.metrics.Metrics:693)\r\n[2023-09-02 15:50:12,549] INFO Closing reporter org.apache.kafka.common.metrics.JmxReporter (org.apache.kafka.common.metrics.Metrics:697)\r\n[2023-09-02 15:50:12,550] INFO Metrics reporters closed (org.apache.kafka.common.metrics.Metrics:703)\r\n[2023-09-02 15:50:12,550] INFO App info kafka.connect for 10.172.0.3:8083 unregistered (org.apache.kafka.common.utils.AppInfoParser:83)\r\n[2023-09-02 15:50:12,550] INFO Worker stopped (org.apache.kafka.connect.runtime.Worker:244)\r\n[2023-09-02 15:50:12,552] INFO Herder stopped (org.apache.kafka.connect.runtime.standalone.StandaloneHerder:125)\r\n[2023-09-02 15:50:12,552] INFO Kafka Connect stopped (org.apache.kafka.connect.runtime.Connect:72)\r\n```\r\n\r\nI am running the command: \r\n```\r\n/opt/kafka/bin/connect-standalone.sh \\\r\n    retail_logs_standalone.properties \\\r\n    retail_logs_file_source.properties\r\n```\r\n\r\nMy retail_logs_file_source.properties contains the following configuration:\r\n\r\n```\r\nname=dee-retail-file-source\r\nconnector.class=FileStreamSource\r\ntasks.max=1\r\nfile=/opt/gen_logs/logs/access.log\r\ntopic=dee_retail\r\n```\r\nWhile My retail_logs_standalone.properties contains the following configuration:\r\n\r\n```\r\nbootstrap.servers=localhost:9092\r\n\r\n# The converters specify the format of data in Kafka and how to translate it into Connect data. Every Connect user will\r\n# need to configure these based on the format they want their data in when loaded from or stored into Kafka\r\nkey.converter=org.apache.kafka.connect.storage.StringConverter\r\nvalue.converter=org.apache.kafka.connect.storage.StringConverter\r\n# Converter-specific settings can be passed in by prefixing the Converter&#39;s setting with the converter we want to apply\r\n# it to\r\nkey.converter.schemas.enable=true\r\nvalue.converter.schemas.enable=true\r\n\r\noffset.storage.file.filename=/home/dee/kafka_connect/retail_logs_produce/retail.offsets\r\n# Flush much faster than normal, which is useful for testing/debugging\r\noffset.flush.interval.ms=10000\r\n\r\nrest.port=18083\r\n# Set to a list of filesystem paths separated by commas (,) to enable class loading isolation for plugins\r\n# (connectors, converters, transformations). The list should consist of top level directories that include \r\n# any combination of: \r\n# a) directories immediately containing jars with plugins and their dependencies\r\n# b) uber-jars with plugins and their dependencies\r\n# c) directories immediately containing the package directory structure of classes of plugins and their dependencies\r\n# Note: symlinks will be followed to discover dependencies or plugins.\r\n# Examples: \r\n# plugin.path=/usr/local/share/java,/usr/local/share/kafka/plugins,/opt/connectors,\r\n#plugin.path=\r\n\r\n```\r\n\r\nPlease Help","title":"StreamSource: ERROR Stopping after connector error (org.apache.kafka.connect.cli.ConnectStandalone:84)","body":"<p>so I am trying to run the connect-standalone.sh to produce the data from log file as messages into Kafka topic by passing both the properties files</p>\n<pre><code>INFO Kafka Connect started (org.apache.kafka.connect.runtime.Connect:57)\n[2023-09-02 15:50:12,527] ERROR Failed to create connector for retail_logs_file_source.properties (org.apache.kafka.connect.cli.ConnectStandalone:74)\n[2023-09-02 15:50:12,528] ERROR Stopping after connector error (org.apache.kafka.connect.cli.ConnectStandalone:84)\njava.util.concurrent.ExecutionException: org.apache.kafka.connect.errors.ConnectException: Failed to find any class that implements Connector and which name matches FileStreamSource, available connectors are: PluginDesc{klass=class org.apache.kafka.connect.mirror.MirrorCheckpointConnector, name='org.apache.kafka.connect.mirror.MirrorCheckpointConnector', version='3.5.1', encodedVersion=3.5.1, type=source, typeName='source', location='classpath'}, PluginDesc{klass=class org.apache.kafka.connect.mirror.MirrorHeartbeatConnector, name='org.apache.kafka.connect.mirror.MirrorHeartbeatConnector', version='3.5.1', encodedVersion=3.5.1, type=source, typeName='source', location='classpath'}, PluginDesc{klass=class org.apache.kafka.connect.mirror.MirrorSourceConnector, name='org.apache.kafka.connect.mirror.MirrorSourceConnector', version='3.5.1', encodedVersion=3.5.1, type=source, typeName='source', location='classpath'}, PluginDesc{klass=class org.apache.kafka.connect.tools.MockSinkConnector, name='org.apache.kafka.connect.tools.MockSinkConnector', version='3.5.1', encodedVersion=3.5.1, type=sink, typeName='sink', location='classpath'}, PluginDesc{klass=class org.apache.kafka.connect.tools.MockSourceConnector, name='org.apache.kafka.connect.tools.MockSourceConnector', version='3.5.1', encodedVersion=3.5.1, type=source, typeName='source', location='classpath'}, PluginDesc{klass=class org.apache.kafka.connect.tools.SchemaSourceConnector, name='org.apache.kafka.connect.tools.SchemaSourceConnector', version='3.5.1', encodedVersion=3.5.1, type=source, typeName='source', location='classpath'}, PluginDesc{klass=class org.apache.kafka.connect.tools.VerifiableSinkConnector, name='org.apache.kafka.connect.tools.VerifiableSinkConnector', version='3.5.1', encodedVersion=3.5.1, type=sink, typeName='sink', location='classpath'}, PluginDesc{klass=class org.apache.kafka.connect.tools.VerifiableSourceConnector, name='org.apache.kafka.connect.tools.VerifiableSourceConnector', version='3.5.1', encodedVersion=3.5.1, type=source, typeName='source', location='classpath'}\n    at org.apache.kafka.connect.util.ConvertingFutureCallback.result(ConvertingFutureCallback.java:123)\n    at org.apache.kafka.connect.util.ConvertingFutureCallback.get(ConvertingFutureCallback.java:107)\n    at org.apache.kafka.connect.cli.ConnectStandalone.processExtraArgs(ConnectStandalone.java:81)\n    at org.apache.kafka.connect.cli.AbstractConnectCli.startConnect(AbstractConnectCli.java:150)\n    at org.apache.kafka.connect.cli.AbstractConnectCli.run(AbstractConnectCli.java:94)\n    at org.apache.kafka.connect.cli.ConnectStandalone.main(ConnectStandalone.java:112)\nCaused by: org.apache.kafka.connect.errors.ConnectException: Failed to find any class that implements Connector and which name matches FileStreamSource, available connectors are: PluginDesc{klass=class org.apache.kafka.connect.mirror.MirrorCheckpointConnector, name='org.apache.kafka.connect.mirror.MirrorCheckpointConnector', version='3.5.1', encodedVersion=3.5.1, type=source, typeName='source', location='classpath'}, PluginDesc{klass=class org.apache.kafka.connect.mirror.MirrorHeartbeatConnector, name='org.apache.kafka.connect.mirror.MirrorHeartbeatConnector', version='3.5.1', encodedVersion=3.5.1, type=source, typeName='source', location='classpath'}, PluginDesc{klass=class org.apache.kafka.connect.mirror.MirrorSourceConnector, name='org.apache.kafka.connect.mirror.MirrorSourceConnector', version='3.5.1', encodedVersion=3.5.1, type=source, typeName='source', location='classpath'}, PluginDesc{klass=class org.apache.kafka.connect.tools.MockSinkConnector, name='org.apache.kafka.connect.tools.MockSinkConnector', version='3.5.1', encodedVersion=3.5.1, type=sink, typeName='sink', location='classpath'}, PluginDesc{klass=class org.apache.kafka.connect.tools.MockSourceConnector, name='org.apache.kafka.connect.tools.MockSourceConnector', version='3.5.1', encodedVersion=3.5.1, type=source, typeName='source', location='classpath'}, PluginDesc{klass=class org.apache.kafka.connect.tools.SchemaSourceConnector, name='org.apache.kafka.connect.tools.SchemaSourceConnector', version='3.5.1', encodedVersion=3.5.1, type=source, typeName='source', location='classpath'}, PluginDesc{klass=class org.apache.kafka.connect.tools.VerifiableSinkConnector, name='org.apache.kafka.connect.tools.VerifiableSinkConnector', version='3.5.1', encodedVersion=3.5.1, type=sink, typeName='sink', location='classpath'}, PluginDesc{klass=class org.apache.kafka.connect.tools.VerifiableSourceConnector, name='org.apache.kafka.connect.tools.VerifiableSourceConnector', version='3.5.1', encodedVersion=3.5.1, type=source, typeName='source', location='classpath'}\n    at org.apache.kafka.connect.runtime.isolation.Plugins.connectorClass(Plugins.java:253)\n    at org.apache.kafka.connect.runtime.isolation.Plugins.newConnector(Plugins.java:224)\n    at org.apache.kafka.connect.runtime.AbstractHerder.lambda$getConnector$6(AbstractHerder.java:702)\n    at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1660)\n    at org.apache.kafka.connect.runtime.AbstractHerder.getConnector(AbstractHerder.java:702)\n    at org.apache.kafka.connect.runtime.AbstractHerder.validateConnectorConfig(AbstractHerder.java:470)\n    at org.apache.kafka.connect.runtime.AbstractHerder.lambda$validateConnectorConfig$2(AbstractHerder.java:390)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:750)\n[2023-09-02 15:50:12,533] INFO Kafka Connect stopping (org.apache.kafka.connect.runtime.Connect:67)\n[2023-09-02 15:50:12,534] INFO Stopping REST server (org.apache.kafka.connect.runtime.rest.RestServer:348)\n[2023-09-02 15:50:12,541] INFO Stopped http_8083@64712be{HTTP/1.1, (http/1.1)}{0.0.0.0:8083} (org.eclipse.jetty.server.AbstractConnector:383)\n[2023-09-02 15:50:12,541] INFO node0 Stopped scavenging (org.eclipse.jetty.server.session:149)\n[2023-09-02 15:50:12,546] INFO REST server stopped (org.apache.kafka.connect.runtime.rest.RestServer:365)\n[2023-09-02 15:50:12,546] INFO Herder stopping (org.apache.kafka.connect.runtime.standalone.StandaloneHerder:107)\n[2023-09-02 15:50:12,547] INFO Worker stopping (org.apache.kafka.connect.runtime.Worker:223)\n[2023-09-02 15:50:12,549] INFO Stopped FileOffsetBackingStore (org.apache.kafka.connect.storage.FileOffsetBackingStore:71)\n[2023-09-02 15:50:12,549] INFO Metrics scheduler closed (org.apache.kafka.common.metrics.Metrics:693)\n[2023-09-02 15:50:12,549] INFO Closing reporter org.apache.kafka.common.metrics.JmxReporter (org.apache.kafka.common.metrics.Metrics:697)\n[2023-09-02 15:50:12,550] INFO Metrics reporters closed (org.apache.kafka.common.metrics.Metrics:703)\n[2023-09-02 15:50:12,550] INFO App info kafka.connect for 10.172.0.3:8083 unregistered (org.apache.kafka.common.utils.AppInfoParser:83)\n[2023-09-02 15:50:12,550] INFO Worker stopped (org.apache.kafka.connect.runtime.Worker:244)\n[2023-09-02 15:50:12,552] INFO Herder stopped (org.apache.kafka.connect.runtime.standalone.StandaloneHerder:125)\n[2023-09-02 15:50:12,552] INFO Kafka Connect stopped (org.apache.kafka.connect.runtime.Connect:72)\n</code></pre>\n<p>I am running the command:</p>\n<pre><code>/opt/kafka/bin/connect-standalone.sh \\\n    retail_logs_standalone.properties \\\n    retail_logs_file_source.properties\n</code></pre>\n<p>My retail_logs_file_source.properties contains the following configuration:</p>\n<pre><code>name=dee-retail-file-source\nconnector.class=FileStreamSource\ntasks.max=1\nfile=/opt/gen_logs/logs/access.log\ntopic=dee_retail\n</code></pre>\n<p>While My retail_logs_standalone.properties contains the following configuration:</p>\n<pre><code>bootstrap.servers=localhost:9092\n\n# The converters specify the format of data in Kafka and how to translate it into Connect data. Every Connect user will\n# need to configure these based on the format they want their data in when loaded from or stored into Kafka\nkey.converter=org.apache.kafka.connect.storage.StringConverter\nvalue.converter=org.apache.kafka.connect.storage.StringConverter\n# Converter-specific settings can be passed in by prefixing the Converter's setting with the converter we want to apply\n# it to\nkey.converter.schemas.enable=true\nvalue.converter.schemas.enable=true\n\noffset.storage.file.filename=/home/dee/kafka_connect/retail_logs_produce/retail.offsets\n# Flush much faster than normal, which is useful for testing/debugging\noffset.flush.interval.ms=10000\n\nrest.port=18083\n# Set to a list of filesystem paths separated by commas (,) to enable class loading isolation for plugins\n# (connectors, converters, transformations). The list should consist of top level directories that include \n# any combination of: \n# a) directories immediately containing jars with plugins and their dependencies\n# b) uber-jars with plugins and their dependencies\n# c) directories immediately containing the package directory structure of classes of plugins and their dependencies\n# Note: symlinks will be followed to discover dependencies or plugins.\n# Examples: \n# plugin.path=/usr/local/share/java,/usr/local/share/kafka/plugins,/opt/connectors,\n#plugin.path=\n\n</code></pre>\n<p>Please Help</p>\n"},{"tags":["java","spring","encoding","utf-8","spring-boot"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1464181021,"post_id":37436927,"comment_id":62378307,"body_markdown":"I remember reading somewhere that Java expects that `*.properties` files are encoded in ISO-8859-1 and that&#39;s why Spring treats `application.properties` as if it&#39;s in ISO-8859-1. See this question: [Spring Boot default properties encoding change?](http://stackoverflow.com/questions/27882191/spring-boot-default-properties-encoding-change). Possible solution: Use YAML instead of properties files.","body":"I remember reading somewhere that Java expects that <code>*.properties</code> files are encoded in ISO-8859-1 and that&#39;s why Spring treats <code>application.properties</code> as if it&#39;s in ISO-8859-1. See this question: <a href=\"http://stackoverflow.com/questions/27882191/spring-boot-default-properties-encoding-change\">Spring Boot default properties encoding change?</a>. Possible solution: Use YAML instead of properties files."},{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1464181759,"post_id":37436927,"comment_id":62378951,"body_markdown":"@Jesper yes, I checked this answer, too. Still hoping there is maybe another solution for properties files.","body":"@Jesper yes, I checked this answer, too. Still hoping there is maybe another solution for properties files."}],"answers":[{"comments":[{"owner":{"account_id":3608976,"reputation":413,"user_id":3010484,"display_name":"hipokito"},"score":3,"creation_date":1554890881,"post_id":37438330,"comment_id":97914326,"body_markdown":"Awesome, thank you, but this answer would be better with an example of how the encoded characters should look like in application.properties:\ncustom.mail.property.subject-message=This is a \\u00E4 \\u00F6 \\u00FC \\u00DF problem","body":"Awesome, thank you, but this answer would be better with an example of how the encoded characters should look like in application.properties: custom.mail.property.subject-message=This is a \\u00E4 \\u00F6 \\u00FC \\u00DF problem"},{"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"score":2,"creation_date":1623265742,"post_id":37438330,"comment_id":120033331,"body_markdown":"Find a online conversion tool here: https://native2ascii.net/","body":"Find a online conversion tool here: <a href=\"https://native2ascii.net/\" rel=\"nofollow noreferrer\">native2ascii.net</a>"},{"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"score":0,"creation_date":1627013962,"post_id":37438330,"comment_id":121049624,"body_markdown":"Sure, if you need to add an odd &quot;M&#246;tley Cr&#252;e&quot; here or there conversion works. If, like most of the world, you find yourself not speaking English as a mother tongue, you need something more stable... I opted to use `application.xml` and Java&#39;s XML format for properties (https://www.baeldung.com/java-properties). Also see other answers here where, hopefully, we&#39;ve been able to establish where the `@PropertySource` attribute should go...","body":"Sure, if you need to add an odd &quot;M&#246;tley Cr&#252;e&quot; here or there conversion works. If, like most of the world, you find yourself not speaking English as a mother tongue, you need something more stable... I opted to use <code>application.xml</code> and Java&#39;s XML format for properties (<a href=\"https://www.baeldung.com/java-properties\" rel=\"nofollow noreferrer\">baeldung.com/java-properties</a>). Also see other answers here where, hopefully, we&#39;ve been able to establish where the <code>@PropertySource</code> attribute should go..."},{"owner":{"account_id":6290431,"reputation":1187,"user_id":4888323,"accept_rate":20,"display_name":"Bilgehan"},"score":0,"creation_date":1641373083,"post_id":37438330,"comment_id":124785180,"body_markdown":"Is it only way to convert asci our special character like İ Ş to use properties file or is there another way to that?","body":"Is it only way to convert asci our special character like İ Ş to use properties file or is there another way to that?"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1643380748,"post_id":37438330,"comment_id":125331507,"body_markdown":"You should update since that isn&#39;t true anymore with recents version of Java","body":"You should update since that isn&#39;t true anymore with recents version of Java"}],"tags":[],"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"comment_count":5,"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1681985223,"creation_date":1464182048,"answer_id":37438330,"question_id":37436927,"body_markdown":"As already mentioned in the comments .properties files are expected to be encoded in ISO 8859-1. One can use unicode escapes to specify other characters. There is also a [tool][1] available to do the conversion. This can for instance be used in the automatic build so that you still can use your favorite encoding in the source.\r\n\r\nBe sure to read also the other answers for some alternatives. There are ways to specify the encoding for properties.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/native2ascii.html","title":"UTF-8 encoding of application.properties attributes in Spring-Boot","body":"<p>As already mentioned in the comments .properties files are expected to be encoded in ISO 8859-1. One can use unicode escapes to specify other characters. There is also a <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/native2ascii.html\" rel=\"nofollow noreferrer\">tool</a> available to do the conversion. This can for instance be used in the automatic build so that you still can use your favorite encoding in the source.</p>\n<p>Be sure to read also the other answers for some alternatives. There are ways to specify the encoding for properties.</p>\n"},{"tags":[],"owner":{"account_id":2442097,"reputation":208,"user_id":2130300,"display_name":"merz"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1693856482,"creation_date":1465268085,"answer_id":37669777,"question_id":37436927,"body_markdown":"I&#39;ve faced with the same problem.\r\nIn Spring Boot there are 2 PropertySourceLoader which are used to load properties in application:\r\n\r\n - **PropertiesPropertySourceLoader** - supports UTF-8 only when load from XML\r\n - **YamlPropertySourceLoader** - supports UTF-8, but you have to change configuration format to use it\r\n\r\nThey&#39;re listed in the file https://github.com/spring-projects/spring-boot/blob/master/spring-boot/src/main/resources/META-INF/spring.factories\r\n\r\nSo we decided to write our own implementation of PropertySourceLoader which would be able to load properties from UTF-8 file correctly. The idea is from answer @BalusC - https://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle/4660195#4660195\r\n\r\nOur PropertySourceLoader implementation:\r\n\r\n    import org.springframework.core.Ordered;\r\n    import org.springframework.core.annotation.Order;\r\n\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class UnicodePropertiesPropertySourceLoader implements PropertySourceLoader {\r\n\r\n    @Override\r\n    public String[] getFileExtensions() {\r\n        return new String[]{&quot;properties&quot;};\r\n    }\r\n\r\n    @Override\r\n    public PropertySource&lt;?&gt; load(String name, Resource resource, String profile) throws IOException {\r\n        if (profile == null) {\r\n            Properties properties = new Properties();\r\n            PropertyResourceBundle bundle = new PropertyResourceBundle(new InputStreamReader(resource.getInputStream(), &quot;UTF-8&quot;));\r\n            Enumeration&lt;String&gt; keys = bundle.getKeys();\r\n            while (keys.hasMoreElements()) {\r\n                String key = keys.nextElement();\r\n                properties.setProperty(key, bundle.getString(key));\r\n            }\r\n            if (!properties.isEmpty()) {\r\n                return new PropertiesPropertySource(name, properties);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    }\r\n\r\nThen we created file **resources/META-INF/spring.factories** with content:\r\n\r\n    # Custom PropertySource Loaders\r\n    org.springframework.boot.env.PropertySourceLoader=\\\r\n    your.own.package.UnicodePropertiesPropertySourceLoader\r\n\r\nNow we have 3 PropertySourceLoader in our application in following order:\r\n\r\n - UnicodePropertiesPropertySourceLoader\r\n - PropertiesPropertySourceLoader\r\n - YamlPropertySourceLoader\r\n\r\nNOTES!\r\n\r\n 1. I&#39;m not sure that it is proper usage of PropertyResourceBundle\r\n 2. I&#39;m not sure that order of PropertySourceLoaders in Spring Boot will be the same if you make a dedicated library to reuse it in other projects.\r\n\r\nIn our project this solution works fine.\r\n\r\nUPDATE!\r\n\r\nIt&#39;s better to implement load method of UnicodePropertiesPropertySourceLoader without PropertyResourceBundle:\r\n\r\n    @Override\r\n    public PropertySource&lt;?&gt; load(String name, Resource resource, String profile) throws IOException {\r\n        if (profile == null) {\r\n            Properties properties = new Properties();\r\n            properties.load(new InputStreamReader(resource.getInputStream(), &quot;UTF-8&quot;));\r\n            if (!properties.isEmpty()) {\r\n                return new PropertiesPropertySource(name, properties);\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"UTF-8 encoding of application.properties attributes in Spring-Boot","body":"<p>I've faced with the same problem.\nIn Spring Boot there are 2 PropertySourceLoader which are used to load properties in application:</p>\n<ul>\n<li><strong>PropertiesPropertySourceLoader</strong> - supports UTF-8 only when load from XML</li>\n<li><strong>YamlPropertySourceLoader</strong> - supports UTF-8, but you have to change configuration format to use it</li>\n</ul>\n<p>They're listed in the file <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot/src/main/resources/META-INF/spring.factories\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/blob/master/spring-boot/src/main/resources/META-INF/spring.factories</a></p>\n<p>So we decided to write our own implementation of PropertySourceLoader which would be able to load properties from UTF-8 file correctly. The idea is from answer @BalusC - <a href=\"https://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle/4660195#4660195\">How to use UTF-8 in resource properties with ResourceBundle</a></p>\n<p>Our PropertySourceLoader implementation:</p>\n<pre><code>import org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\n\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class UnicodePropertiesPropertySourceLoader implements PropertySourceLoader {\n\n@Override\npublic String[] getFileExtensions() {\n    return new String[]{&quot;properties&quot;};\n}\n\n@Override\npublic PropertySource&lt;?&gt; load(String name, Resource resource, String profile) throws IOException {\n    if (profile == null) {\n        Properties properties = new Properties();\n        PropertyResourceBundle bundle = new PropertyResourceBundle(new InputStreamReader(resource.getInputStream(), &quot;UTF-8&quot;));\n        Enumeration&lt;String&gt; keys = bundle.getKeys();\n        while (keys.hasMoreElements()) {\n            String key = keys.nextElement();\n            properties.setProperty(key, bundle.getString(key));\n        }\n        if (!properties.isEmpty()) {\n            return new PropertiesPropertySource(name, properties);\n        }\n    }\n    return null;\n}\n\n}\n</code></pre>\n<p>Then we created file <strong>resources/META-INF/spring.factories</strong> with content:</p>\n<pre><code># Custom PropertySource Loaders\norg.springframework.boot.env.PropertySourceLoader=\\\nyour.own.package.UnicodePropertiesPropertySourceLoader\n</code></pre>\n<p>Now we have 3 PropertySourceLoader in our application in following order:</p>\n<ul>\n<li>UnicodePropertiesPropertySourceLoader</li>\n<li>PropertiesPropertySourceLoader</li>\n<li>YamlPropertySourceLoader</li>\n</ul>\n<p>NOTES!</p>\n<ol>\n<li>I'm not sure that it is proper usage of PropertyResourceBundle</li>\n<li>I'm not sure that order of PropertySourceLoaders in Spring Boot will be the same if you make a dedicated library to reuse it in other projects.</li>\n</ol>\n<p>In our project this solution works fine.</p>\n<p>UPDATE!</p>\n<p>It's better to implement load method of UnicodePropertiesPropertySourceLoader without PropertyResourceBundle:</p>\n<pre><code>@Override\npublic PropertySource&lt;?&gt; load(String name, Resource resource, String profile) throws IOException {\n    if (profile == null) {\n        Properties properties = new Properties();\n        properties.load(new InputStreamReader(resource.getInputStream(), &quot;UTF-8&quot;));\n        if (!properties.isEmpty()) {\n            return new PropertiesPropertySource(name, properties);\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":294991,"reputation":1348,"user_id":599164,"accept_rate":91,"display_name":"Frankie Drake"},"score":1,"creation_date":1540371754,"post_id":47389354,"comment_id":92836400,"body_markdown":"Absolutely fits)","body":"Absolutely fits)"},{"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"score":0,"creation_date":1627013662,"post_id":47389354,"comment_id":121049577,"body_markdown":"And where, pray tell, do you add this annotation?","body":"And where, pray tell, do you add this annotation?"},{"owner":{"account_id":236518,"reputation":3191,"user_id":504060,"accept_rate":71,"display_name":"kiltek"},"score":2,"creation_date":1659008916,"post_id":47389354,"comment_id":129196422,"body_markdown":"@Erk good question. the dark magic alchemy of the spring boot docs says the following: Add it to the `@Configuration`-class: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html","body":"@Erk good question. the dark magic alchemy of the spring boot docs says the following: Add it to the <code>@Configuration</code>-class: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"}],"tags":[],"owner":{"account_id":1354333,"reputation":2440,"user_id":1293060,"accept_rate":49,"display_name":"May12"},"comment_count":3,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1511172112,"creation_date":1511172112,"answer_id":47389354,"question_id":37436927,"body_markdown":"Please, try to add `PropertySource` annotation with encoding parameter into your Configuaration file: \r\n\r\n    @PropertySource(value = &quot;classpath:application-${env}.properties&quot;, encoding = &quot;UTF-8&quot;)\r\n\r\nHope it helps. ","title":"UTF-8 encoding of application.properties attributes in Spring-Boot","body":"<p>Please, try to add <code>PropertySource</code> annotation with encoding parameter into your Configuaration file: </p>\n\n<pre><code>@PropertySource(value = \"classpath:application-${env}.properties\", encoding = \"UTF-8\")\n</code></pre>\n\n<p>Hope it helps. </p>\n"},{"comments":[{"owner":{"account_id":351024,"reputation":1066,"user_id":687251,"display_name":"Jidehem"},"score":1,"creation_date":1536844727,"post_id":52218631,"comment_id":91576357,"body_markdown":"I don&#39;t think this is that simple, especially before Java 9","body":"I don&#39;t think this is that simple, especially before Java 9"},{"owner":{"account_id":14290121,"reputation":51,"user_id":10322362,"display_name":"Aleksey"},"score":0,"creation_date":1536911033,"post_id":52218631,"comment_id":91601282,"body_markdown":"Yes, it is. I use this flag for Spring to read application.properties and system environment variables in unicode with Java 8. For example IDEA adds this flag automatically.\n\n```/usr/java/jdk1.8.0_181/bin/java ... -Dfile.encoding=UTF-8 -classpath ... test.hello.TestHello```","body":"Yes, it is. I use this flag for Spring to read application.properties and system environment variables in unicode with Java 8. For example IDEA adds this flag automatically.  <code>&#47;usr&#47;java&#47;jdk1.8.0_181&#47;bin&#47;java ... -Dfile.encoding=UTF-8 -classpath ... test.hello.TestHello</code>"},{"owner":{"account_id":14290121,"reputation":51,"user_id":10322362,"display_name":"Aleksey"},"score":2,"creation_date":1536911632,"post_id":52218631,"comment_id":91601594,"body_markdown":"As a side effect Java application running in Docker container with ```-Dfile.encoding=UTF-8``` produces readable output in unicode instead of question marks. So, this magic flag fixes both problems without any line on code.\n\nThere is a related topic explaining some details https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding","body":"As a side effect Java application running in Docker container with <code>-Dfile.encoding=UTF-8</code> produces readable output in unicode instead of question marks. So, this magic flag fixes both problems without any line on code.  There is a related topic explaining some details <a href=\"https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding\" title=\"setting the default java character encoding\">stackoverflow.com/questions/361975/&hellip;</a>"}],"tags":[],"owner":{"account_id":14290121,"reputation":51,"user_id":10322362,"display_name":"Aleksey"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1536563164,"creation_date":1536309495,"answer_id":52218631,"question_id":37436927,"body_markdown":"To set the UTF-8 encoding for the text in the application.properties (and any other Java properties as well as environment variables) add `-Dfile.encoding=UTF-8` to java command line agrs.","title":"UTF-8 encoding of application.properties attributes in Spring-Boot","body":"<p>To set the UTF-8 encoding for the text in the application.properties (and any other Java properties as well as environment variables) add <code>-Dfile.encoding=UTF-8</code> to java command line agrs.</p>\n"},{"tags":[],"owner":{"account_id":3427226,"reputation":154,"user_id":2872686,"display_name":"gischy"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1570824310,"creation_date":1570824310,"answer_id":58347813,"question_id":37436927,"body_markdown":"just converted the text with the special chars with https://native2ascii.net/ ","title":"UTF-8 encoding of application.properties attributes in Spring-Boot","body":"<p>just converted the text with the special chars with <a href=\"https://native2ascii.net/\" rel=\"noreferrer\">https://native2ascii.net/</a> </p>\n"}],"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83257,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":37438330,"answer_count":5,"score":38,"last_activity_date":1693856482,"creation_date":1464178777,"question_id":37436927,"body_markdown":"In my `application.properties` I add some custom attributes.\r\n\r\n    custom.mail.property.subject-message=This is a &#228; &#246; &#252; &#223; problem\r\n\r\nIn this class I have the representation of the custom attributes.\r\n\r\n    @Component\r\n    @ConfigurationProperties(prefix=&quot;custom.mail.property&quot;)\r\n    public class MailProperties {\r\n    \tprivate String subjectMessage;\r\n    \tpublic String getSubjectMessage() {\r\n    \t\treturn subjectMessage;\r\n    \t}\r\n    \tpublic void setSubjectMessage(String subjectMessage) {\r\n    \t\tthis.subjectMessage = subjectMessage;\r\n    \t}\r\n\r\nAnd here I use my `MailProperties`:\r\n\r\n    @Service\r\n    public class SimpleUnknownResponseMessage extends MailProperties implements UnknownResponseMessage{\r\n    \t\r\n    \tprivate JavaMailSender javaMailSender;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic SimpleUnknownResponseMessage(JavaMailSender javaMailSender) {\r\n    \t\tthis.javaMailSender = javaMailSender;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void placeUnknownResponse(BookResponse bookResponse) {\r\n    \t\tMimeMessage message = javaMailSender.createMimeMessage();\r\n    \t\ttry {\r\n    \t\t\tMimeMessageHelper helper = new MimeMessageHelper(message, &quot;UTF-8&quot;);\r\n    \t\t\thelper.setSubject(this.getSubjectMessage()); \t\t\t\r\n    \t\t\tjavaMailSender.send(message);\r\n    \t\t\t\r\n    \t\t} catch (MessagingException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n**While debugging I can see that my `this.getSubjectMessage()` variable has this value inside: `This is a &#195;&#164; &#195;&#182; &#195;&#188; &#195; problem`. So before sending my mail I already have an UTF-8 encoding problem.** \r\n\r\nI already checked the encoding of the `application.properties` file and its UTF-8. \r\n\r\nMy IDE(STS/Eclipse) and the project properties are also set on UTF-8. \r\n\r\n**How can I set the UTF-8 encoding for the text of my custom attributes in the `application.properties` file?**\r\n","title":"UTF-8 encoding of application.properties attributes in Spring-Boot","body":"<p>In my <code>application.properties</code> I add some custom attributes.</p>\n\n<pre><code>custom.mail.property.subject-message=This is a ä ö ü ß problem\n</code></pre>\n\n<p>In this class I have the representation of the custom attributes.</p>\n\n<pre><code>@Component\n@ConfigurationProperties(prefix=\"custom.mail.property\")\npublic class MailProperties {\n    private String subjectMessage;\n    public String getSubjectMessage() {\n        return subjectMessage;\n    }\n    public void setSubjectMessage(String subjectMessage) {\n        this.subjectMessage = subjectMessage;\n    }\n</code></pre>\n\n<p>And here I use my <code>MailProperties</code>:</p>\n\n<pre><code>@Service\npublic class SimpleUnknownResponseMessage extends MailProperties implements UnknownResponseMessage{\n\n    private JavaMailSender javaMailSender;\n\n    @Autowired\n    public SimpleUnknownResponseMessage(JavaMailSender javaMailSender) {\n        this.javaMailSender = javaMailSender;\n    }\n\n    @Override\n    public void placeUnknownResponse(BookResponse bookResponse) {\n        MimeMessage message = javaMailSender.createMimeMessage();\n        try {\n            MimeMessageHelper helper = new MimeMessageHelper(message, \"UTF-8\");\n            helper.setSubject(this.getSubjectMessage());            \n            javaMailSender.send(message);\n\n        } catch (MessagingException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p><strong>While debugging I can see that my <code>this.getSubjectMessage()</code> variable has this value inside: <code>This is a Ã¤ Ã¶ Ã¼ Ã problem</code>. So before sending my mail I already have an UTF-8 encoding problem.</strong> </p>\n\n<p>I already checked the encoding of the <code>application.properties</code> file and its UTF-8. </p>\n\n<p>My IDE(STS/Eclipse) and the project properties are also set on UTF-8. </p>\n\n<p><strong>How can I set the UTF-8 encoding for the text of my custom attributes in the <code>application.properties</code> file?</strong></p>\n"},{"tags":["java","outputstream"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1693734033,"post_id":77031706,"comment_id":135797187,"body_markdown":"What kind of stream are you writing to? Generally you can output as many bytes as you want.","body":"What kind of stream are you writing to? Generally you can output as many bytes as you want."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1693734795,"post_id":77031706,"comment_id":135797259,"body_markdown":"What is your motivation for asking?","body":"What is your motivation for asking?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":6,"creation_date":1693734844,"post_id":77031706,"comment_id":135797261,"body_markdown":"If an output stream is closed, it will throw an exception. Otherwise, you can assume you can continue to write.","body":"If an output stream is closed, it will throw an exception. Otherwise, you can assume you can continue to write."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693736384,"post_id":77031706,"comment_id":135797405,"body_markdown":"@marcinj That is about sockets.","body":"@marcinj That is about sockets."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":1,"creation_date":1693736933,"post_id":77031706,"comment_id":135797449,"body_markdown":"@MarkRotteveel right, that was wrong link. OutputStream implementation should throw exception if stream is closed, or any timeout for it is over (if it allows for timeouts).","body":"@MarkRotteveel right, that was wrong link. OutputStream implementation should throw exception if stream is closed, or any timeout for it is over (if it allows for timeouts)."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693752773,"post_id":77031706,"comment_id":135799106,"body_markdown":"By definition, an InputStream reaches its end when there is no more data, and an OutputStream has no more data when the sender determines it has nothing left to send.  The receiver doesn’t decide that;  the sender decides it.","body":"By definition, an InputStream reaches its end when there is no more data, and an OutputStream has no more data when the sender determines it has nothing left to send.  The receiver doesn’t decide that;  the sender decides it."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1693762589,"post_id":77031706,"comment_id":135800289,"body_markdown":"You can use this function to determine if you can still write to an OutputStream: `return true`.  This may look like a silly function, but it is correct.","body":"You can use this function to determine if you can still write to an OutputStream: <code>return true</code>.  This may look like a silly function, but it is correct."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1693857530,"post_id":77031706,"comment_id":135812444,"body_markdown":"Like others have said: write and check for an exception. `ByteArrayOutputStream` lets you write until you&#39;re out of memory, and then throws a `java.lang.OutOfMemoryError`. A network output stream may have a buffer and may block until the network is ready to send the next packet. If you write your own buffer or byte array based stream you could manage the buffer and block when it&#39;s full (probably expected), or throw when the buffer is full. Guess it depends on your actual use case.","body":"Like others have said: write and check for an exception. <code>ByteArrayOutputStream</code> lets you write until you&#39;re out of memory, and then throws a <code>java.lang.OutOfMemoryError</code>. A network output stream may have a buffer and may block until the network is ready to send the next packet. If you write your own buffer or byte array based stream you could manage the buffer and block when it&#39;s full (probably expected), or throw when the buffer is full. Guess it depends on your actual use case."}],"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1693856272,"creation_date":1693733685,"question_id":77031706,"body_markdown":"How to know if an `OutputStream` can continue writing in Java?\r\n\r\nFor `InputStream`, we can check whether `return` equals `-1` to know if the input stream has ended, but how do I check for `OutputStream`?\r\n\r\n-------------------------------\r\n\r\nWhy do I ask this question? For example, I need to write data into a byte array or a buffer, but the methods provided by the API only have parameters of `OutputStream` type. How can I make my `OutputStream` implementation tell the API that the array/buffer has been full?","title":"How to know if an OutputStream can continue writing in Java?","body":"<p>How to know if an <code>OutputStream</code> can continue writing in Java?</p>\n<p>For <code>InputStream</code>, we can check whether <code>return</code> equals <code>-1</code> to know if the input stream has ended, but how do I check for <code>OutputStream</code>?</p>\n<hr />\n<p>Why do I ask this question? For example, I need to write data into a byte array or a buffer, but the methods provided by the API only have parameters of <code>OutputStream</code> type. How can I make my <code>OutputStream</code> implementation tell the API that the array/buffer has been full?</p>\n"},{"tags":["java","multithreading","threadpoolexecutor"],"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1693809137,"post_id":77035478,"comment_id":135804262,"body_markdown":"What syntax is `HashMap&lt;String,String&gt; packet = new HashMap&lt;String,String&gt; packetQueue.take();`? Is it compilable?","body":"What syntax is <code>HashMap&lt;String,String&gt; packet = new HashMap&lt;String,String&gt; packetQueue.take();</code>? Is it compilable?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":2,"creation_date":1693809340,"post_id":77035478,"comment_id":135804284,"body_markdown":"Please provide an [mcve]. This doesn&#39;t compile (see @HonzaZidek&#39;s comment), and it&#39;s hard to tell where data is coming from or how you decide that you &quot;lose threads&quot; - not sure what you mean by that either.","body":"Please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. This doesn&#39;t compile (see @HonzaZidek&#39;s comment), and it&#39;s hard to tell where data is coming from or how you decide that you &quot;lose threads&quot; - not sure what you mean by that either."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1693809594,"post_id":77035478,"comment_id":135804314,"body_markdown":"I wouldn&#39;t pass `Thread` to `execute`, rather just `exe.submit(() -&gt; myTask(packet));`.","body":"I wouldn&#39;t pass <code>Thread</code> to <code>execute</code>, rather just <code>exe.submit(() -&gt; myTask(packet));</code>."},{"owner":{"account_id":6931114,"reputation":1,"user_id":6108505,"display_name":"nguvi"},"score":0,"creation_date":1693809620,"post_id":77035478,"comment_id":135804316,"body_markdown":"@Honza Zidek, so sorry! Forgot to add that it comes from blocking queue.","body":"@Honza Zidek, so sorry! Forgot to add that it comes from blocking queue."},{"owner":{"account_id":6931114,"reputation":1,"user_id":6108505,"display_name":"nguvi"},"score":0,"creation_date":1693810002,"post_id":77035478,"comment_id":135804364,"body_markdown":"@daniu should I poste the whole code for the capture of the interface? I thought it may be too much. I edited how I noticed that some tasks where not executed.","body":"@daniu should I poste the whole code for the capture of the interface? I thought it may be too much. I edited how I noticed that some tasks where not executed."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1693810017,"post_id":77035478,"comment_id":135804372,"body_markdown":"Why do you create a `new HashMap` every time you take out a packet? Why do you put packets into a blocking queue in the first place, rather than immediately adding the processing task to the queue the executor service already provides? Are you only counting threads or keeping track of how many packets are processed as opposed to received?","body":"Why do you create a <code>new HashMap</code> every time you take out a packet? Why do you put packets into a blocking queue in the first place, rather than immediately adding the processing task to the queue the executor service already provides? Are you only counting threads or keeping track of how many packets are processed as opposed to received?"},{"owner":{"account_id":6931114,"reputation":1,"user_id":6108505,"display_name":"nguvi"},"score":0,"creation_date":1693810333,"post_id":77035478,"comment_id":135804421,"body_markdown":"@Kayaman omg! I sat with this problem for days! Thank you very very much! That was the key. Could you help me understand this further to why it made such a big difference? I saw some other questions here regarding sumit() and execute() (ie https://stackoverflow.com/questions/18730290/what-is-the-difference-between-executorservice-submit-and-executorservice-execut) but couldn&#39;t see the relevance to my issue.","body":"@Kayaman omg! I sat with this problem for days! Thank you very very much! That was the key. Could you help me understand this further to why it made such a big difference? I saw some other questions here regarding sumit() and execute() (ie <a href=\"https://stackoverflow.com/questions/18730290/what-is-the-difference-between-executorservice-submit-and-executorservice-execut\" title=\"what is the difference between executorservice submit and executorservice execut\">stackoverflow.com/questions/18730290/&hellip;</a>) but couldn&#39;t see the relevance to my issue."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693814747,"post_id":77035478,"comment_id":135805079,"body_markdown":"“i&#39;m loosing 15 Percent” — Losing 15% of *what*?","body":"“i&#39;m loosing 15 Percent” — Losing 15% of <i>what</i>?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1693830760,"post_id":77035478,"comment_id":135807911,"body_markdown":"It’s a huge historical design mistake that `Thread` implements the `Runnable` interface. I don’t know any place where a `Runnable` is expected and passing a `Thread` would be appropriate. The whole point of a `ThreadPoolExecutor` is that you should not deal with instances of `Thread` yourself.","body":"It’s a huge historical design mistake that <code>Thread</code> implements the <code>Runnable</code> interface. I don’t know any place where a <code>Runnable</code> is expected and passing a <code>Thread</code> would be appropriate. The whole point of a <code>ThreadPoolExecutor</code> is that you should not deal with instances of <code>Thread</code> yourself."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1693834058,"post_id":77035478,"comment_id":135808574,"body_markdown":"If you are monitoring by observing `count` and `countTh`, don’t expect those fields to be accurate unless you make them `volatile`.  See [the Java Language Specification](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.3) for an explanation.","body":"If you are monitoring by observing <code>count</code> and <code>countTh</code>, don’t expect those fields to be accurate unless you make them <code>volatile</code>.  See <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.3\" rel=\"nofollow noreferrer\">the Java Language Specification</a> for an explanation."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":2,"creation_date":1693843079,"post_id":77035478,"comment_id":135810312,"body_markdown":"You are conflating threads with _tasks._ A thread (represented by a `Thread` instance) is an entity that does work. A task (represented by anything that `implements Runnable`) is a piece of work that needs to be done. Don&#39;t mix them up. Like @Holger said, it&#39;s a minor tragedy that Java designers allowed you to use the same class `Thread` in either role, but if you keep those ideas separate—use `Runnable` for tasks, and only use `Thread` when you&#39;re going to call `t.start()`—then your code will be easier to read, and other developers will be more likely to want to help you with it.","body":"You are conflating threads with <i>tasks.</i> A thread (represented by a <code>Thread</code> instance) is an entity that does work. A task (represented by anything that <code>implements Runnable</code>) is a piece of work that needs to be done. Don&#39;t mix them up. Like @Holger said, it&#39;s a minor tragedy that Java designers allowed you to use the same class <code>Thread</code> in either role, but if you keep those ideas separate—use <code>Runnable</code> for tasks, and only use <code>Thread</code> when you&#39;re going to call <code>t.start()</code>—then your code will be easier to read, and other developers will be more likely to want to help you with it."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693843094,"post_id":77035478,"comment_id":135810317,"body_markdown":"@VGR even declaring the counters `volatile` will not make the `++` operator atomic, hence, does not solve the problem.","body":"@VGR even declaring the counters <code>volatile</code> will not make the <code>++</code> operator atomic, hence, does not solve the problem."},{"owner":{"account_id":6931114,"reputation":1,"user_id":6108505,"display_name":"nguvi"},"score":0,"creation_date":1693901482,"post_id":77035478,"comment_id":135816938,"body_markdown":"Thank you all very much for your comments! A lot to learn for me!","body":"Thank you all very much for your comments! A lot to learn for me!"}],"answers":[{"comments":[{"owner":{"account_id":6931114,"reputation":1,"user_id":6108505,"display_name":"nguvi"},"score":0,"creation_date":1693828263,"post_id":77036111,"comment_id":135807420,"body_markdown":"Thank you so much for your hints! I will look into each remark! wrt &quot;losing&quot; tasks, I just counted the incomming packets and how often the process within the Thread was called.","body":"Thank you so much for your hints! I will look into each remark! wrt &quot;losing&quot; tasks, I just counted the incomming packets and how often the process within the Thread was called."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693855927,"creation_date":1693815258,"answer_id":77036111,"question_id":77035478,"body_markdown":"## Limit your use of expensive platform threads\r\n\r\nWay too many threads. Generally, the rule of thumb is to limit all your active threads to less than the number of cores on the host machine. All threads used in Java 20 and earlier are “platform threads” meaning each is a wrapper around a host OS thread. Platform threads are expensive, and you should use few of them. \r\n\r\nDo not instantiate a thread for each task. Submit your tasks as [`Runnable`][1] or [`Callable`][2] to a `ExecutorService` that you instantiate once and then keep around. \r\n\r\n## Use `ExecutorService`\r\n\r\nWhy the cast to `ThreadPoolExecutor`? Just use [`ExecutorService`][3]. \r\n\r\nIn modern Java, we rarely need to deal explicitly with [`Thread`][4]. Instead of instantiating `Thread`, let an executor service manage threads on your behalf. See [Comment by Holger][5]. \r\n\r\n## Avoid `execute` if you want threading\r\n\r\nThe [`Executor#execute`][6] method is clearly documented saying the execution may or **may not** happen on another thread. To quote the Javadoc, my emphasis:\r\n\r\n&gt;Executes the given command at some time in the future. The command may execute in a new thread, in a pooled thread, *or in the calling thread*, at the discretion of the Executor implementation.\r\n\r\nSo, if you want threading, use the other methods such as `submit` or `invokeAll`.\r\n\r\n## Virtual threads\r\n\r\nSounds like your app is a good candidate to use the new [virtual threads][7] feature in Java 21. With virtual threads, you can reasonably run millions of threads at a time. They are vastly cheaper than platform threads. \r\n\r\n```Java\r\nBlockingQueue &lt; Map &lt; String , String &gt; &gt; packetQueue = … ;\r\ntry (\r\n    ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\r\n) {\r\n    while ( someCondition ) \r\n    {\r\n        Map &lt; String , String &gt; map = packetQueue.take() ;\r\n        Runnable task = ()-&gt;{\r\n            myMapProcessor.process( map ) ;\r\n        };\r\n        executorService.submit( task ) ;\r\n    }\r\n}\r\n```\r\n\r\n## Thread-safe count of executions\r\n\r\nAs for “losing tasks”, you’ve not defined what you mean. Perhaps you mean counting each task execution. \r\n\r\nIf you want to count executions of your task method, establish an [`AtomicLong`][8] instance up front. [Increment][9] that count in your executing task code. Being atomic means the count will be accurate across threads. As Commented [by VGR][10] and [by Holger][11], your attempt to count executions was done incorrectly, in a manner not thread-safe. Your non-thread-safe counting may very well  account for your “losing tasks”. \r\n\r\n\r\n```java\r\nfinal AtomicLong countTaskExecutions = new AtomicLong( 0 ) ;\r\nBlockingQueue &lt; Map &lt; String , String &gt; &gt; packetQueue = … ;\r\ntry (\r\n    ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\r\n) {\r\n    while ( someCondition ) \r\n    {\r\n        Map &lt; String , String &gt; map = packetQueue.take() ;\r\n        Runnable task = ()-&gt;{\r\n            countTaskExecutions.incrementAndGet() ;\r\n            myMapProcessor.process( map ) ;\r\n        };\r\n        executorService.submit( task ) ;\r\n    }\r\n}\r\nSystem.out.println( &quot;countTaskExecutions = &quot; + countTaskExecutions.get() ) ;\r\n```\r\n\r\n## Setting a flag across threads\r\n\r\nLikewise, if your `someCondition` is set and accessed across threads, make it an [`AtomicBoolean`][12]. \r\n\r\n```java\r\nfinal AtomicBoolean continueToProcessPackets = new AtomicBoolean( true ) ;\r\nfinal AtomicLong countTaskExecutions = new AtomicLong( 0 ) ;\r\nBlockingQueue &lt; Map &lt; String , String &gt; &gt; packetQueue = … ;\r\ntry (\r\n    ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\r\n) {\r\n    while ( continueToProcessPackets.get() ) \r\n    {\r\n        Map &lt; String , String &gt; map = packetQueue.take() ;\r\n        Runnable task = ()-&gt;{\r\n            countTaskExecutions.incrementAndGet() ;\r\n            myMapProcessor.process( map ) ;\r\n        };\r\n        executorService.submit( task ) ;\r\n    }\r\n}\r\nSystem.out.println( &quot;countTaskExecutions = &quot; + countTaskExecutions.get() ) ;\r\n```\r\n\r\nNotice how we mark the atomic variables as\r\n`final` to ensure no other reference is substituted. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Callable.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html\r\n  [5]: https://stackoverflow.com/questions/77035478/java-multithreading-with-threadpools-loosing-tasks/77036111#comment135807911_77035478\r\n  [6]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Executor.html#execute(java.lang.Runnable)\r\n  [7]: https://openjdk.org/jeps/444\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html\r\n  [9]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html#incrementAndGet()\r\n  [10]: https://stackoverflow.com/questions/77035478/java-multithreading-with-threadpools-loosing-tasks#comment135808574_77035478\r\n  [11]: https://stackoverflow.com/questions/77035478/java-multithreading-with-threadpools-loosing-tasks#comment135810317_77035478\r\n  [12]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html","title":"Java Multithreading with ThreadPools loosing Tasks","body":"<h2>Limit your use of expensive platform threads</h2>\n<p>Way too many threads. Generally, the rule of thumb is to limit all your active threads to less than the number of cores on the host machine. All threads used in Java 20 and earlier are “platform threads” meaning each is a wrapper around a host OS thread. Platform threads are expensive, and you should use few of them.</p>\n<p>Do not instantiate a thread for each task. Submit your tasks as <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>Callable</code></a> to a <code>ExecutorService</code> that you instantiate once and then keep around.</p>\n<h2>Use <code>ExecutorService</code></h2>\n<p>Why the cast to <code>ThreadPoolExecutor</code>? Just use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a>.</p>\n<p>In modern Java, we rarely need to deal explicitly with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html\" rel=\"nofollow noreferrer\"><code>Thread</code></a>. Instead of instantiating <code>Thread</code>, let an executor service manage threads on your behalf. See <a href=\"https://stackoverflow.com/questions/77035478/java-multithreading-with-threadpools-loosing-tasks/77036111#comment135807911_77035478\">Comment by Holger</a>.</p>\n<h2>Avoid <code>execute</code> if you want threading</h2>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Executor.html#execute(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>Executor#execute</code></a> method is clearly documented saying the execution may or <strong>may not</strong> happen on another thread. To quote the Javadoc, my emphasis:</p>\n<blockquote>\n<p>Executes the given command at some time in the future. The command may execute in a new thread, in a pooled thread, <em>or in the calling thread</em>, at the discretion of the Executor implementation.</p>\n</blockquote>\n<p>So, if you want threading, use the other methods such as <code>submit</code> or <code>invokeAll</code>.</p>\n<h2>Virtual threads</h2>\n<p>Sounds like your app is a good candidate to use the new <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">virtual threads</a> feature in Java 21. With virtual threads, you can reasonably run millions of threads at a time. They are vastly cheaper than platform threads.</p>\n<pre><code>BlockingQueue &lt; Map &lt; String , String &gt; &gt; packetQueue = … ;\ntry (\n    ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\n) {\n    while ( someCondition ) \n    {\n        Map &lt; String , String &gt; map = packetQueue.take() ;\n        Runnable task = ()-&gt;{\n            myMapProcessor.process( map ) ;\n        };\n        executorService.submit( task ) ;\n    }\n}\n</code></pre>\n<h2>Thread-safe count of executions</h2>\n<p>As for “losing tasks”, you’ve not defined what you mean. Perhaps you mean counting each task execution.</p>\n<p>If you want to count executions of your task method, establish an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html\" rel=\"nofollow noreferrer\"><code>AtomicLong</code></a> instance up front. <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html#incrementAndGet()\" rel=\"nofollow noreferrer\">Increment</a> that count in your executing task code. Being atomic means the count will be accurate across threads. As Commented <a href=\"https://stackoverflow.com/questions/77035478/java-multithreading-with-threadpools-loosing-tasks#comment135808574_77035478\">by VGR</a> and <a href=\"https://stackoverflow.com/questions/77035478/java-multithreading-with-threadpools-loosing-tasks#comment135810317_77035478\">by Holger</a>, your attempt to count executions was done incorrectly, in a manner not thread-safe. Your non-thread-safe counting may very well  account for your “losing tasks”.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final AtomicLong countTaskExecutions = new AtomicLong( 0 ) ;\nBlockingQueue &lt; Map &lt; String , String &gt; &gt; packetQueue = … ;\ntry (\n    ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\n) {\n    while ( someCondition ) \n    {\n        Map &lt; String , String &gt; map = packetQueue.take() ;\n        Runnable task = ()-&gt;{\n            countTaskExecutions.incrementAndGet() ;\n            myMapProcessor.process( map ) ;\n        };\n        executorService.submit( task ) ;\n    }\n}\nSystem.out.println( &quot;countTaskExecutions = &quot; + countTaskExecutions.get() ) ;\n</code></pre>\n<h2>Setting a flag across threads</h2>\n<p>Likewise, if your <code>someCondition</code> is set and accessed across threads, make it an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html\" rel=\"nofollow noreferrer\"><code>AtomicBoolean</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final AtomicBoolean continueToProcessPackets = new AtomicBoolean( true ) ;\nfinal AtomicLong countTaskExecutions = new AtomicLong( 0 ) ;\nBlockingQueue &lt; Map &lt; String , String &gt; &gt; packetQueue = … ;\ntry (\n    ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\n) {\n    while ( continueToProcessPackets.get() ) \n    {\n        Map &lt; String , String &gt; map = packetQueue.take() ;\n        Runnable task = ()-&gt;{\n            countTaskExecutions.incrementAndGet() ;\n            myMapProcessor.process( map ) ;\n        };\n        executorService.submit( task ) ;\n    }\n}\nSystem.out.println( &quot;countTaskExecutions = &quot; + countTaskExecutions.get() ) ;\n</code></pre>\n<p>Notice how we mark the atomic variables as\n<code>final</code> to ensure no other reference is substituted.</p>\n"}],"owner":{"account_id":6931114,"reputation":1,"user_id":6108505,"display_name":"nguvi"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693855927,"creation_date":1693808698,"question_id":77035478,"body_markdown":"I&#39;m still new to the multithreading topic and am loosing tasks.\r\n\r\nI have an application which reads as an input packets from the network interface (6400 packts per seconds). On each packet a task shall be executed which takes in average of 0.00045s. The processing time is varies and can be sometime 0,001s. When im Monitoring how often the task is executed (comparing of the counts) I notice that i&#39;m loosing 15 Percent. \r\n\r\n\r\n```\r\nThreadPoolExecutor exe;\r\nBlockingQueue&lt;HashMap&lt;String,String&gt;&gt; packetQueue;\r\nint count, countTh;\r\n\r\npublic MyClass(){\r\n     this.exe = (ThreadPoolExecutor) Executors.newFixedThreadPool(4);\r\n     this.count = 0;\r\n     this.count = countTh;\r\n}\r\n\r\npublic void myFunction(){\r\n     while(true){\r\n          HashMap&lt;String,String&gt; packet = new HashMap&lt;String,String&gt; packetQueue.take();\r\n          count++;\r\n          Thread th = new Thread(){\r\n               @Override\r\n               public void run(){\r\n                  countTh++;\r\n                  myTask(packet);\r\n               }\r\n          };\r\n          this.exe.execute(th);                   \r\n}\r\n```\r\n\r\n\r\nWhat I tried to fix the issue:\r\n1. Did some simple Math to calculate how many Thread I would need and got 3 Threads. -&gt; Still loosing Threads\r\n2. Monitored the Threads in the ThreadPool with getActiveCount() and was very surprised that the threads were always active, never waiting\r\n3. Monitored the ThreadPool queue with getQueue() and found out that the Queue is sometimes ob to 10k high.\r\n4. I changed the ThreadPool to a Cached Thread Pool to monitor with how many Threads are used and it was up to 15k threads! Still it was no option to leave it like this, because it kind of destroyed the overall performance. I guess there were not enough threads left for other processes within the application\r\n\r\nDoes anyone have any suggestions how I can fix this issue? Or point me to where the issue may lay? \r\n\r\n","title":"Java Multithreading with ThreadPools loosing Tasks","body":"<p>I'm still new to the multithreading topic and am loosing tasks.</p>\n<p>I have an application which reads as an input packets from the network interface (6400 packts per seconds). On each packet a task shall be executed which takes in average of 0.00045s. The processing time is varies and can be sometime 0,001s. When im Monitoring how often the task is executed (comparing of the counts) I notice that i'm loosing 15 Percent.</p>\n<pre><code>ThreadPoolExecutor exe;\nBlockingQueue&lt;HashMap&lt;String,String&gt;&gt; packetQueue;\nint count, countTh;\n\npublic MyClass(){\n     this.exe = (ThreadPoolExecutor) Executors.newFixedThreadPool(4);\n     this.count = 0;\n     this.count = countTh;\n}\n\npublic void myFunction(){\n     while(true){\n          HashMap&lt;String,String&gt; packet = new HashMap&lt;String,String&gt; packetQueue.take();\n          count++;\n          Thread th = new Thread(){\n               @Override\n               public void run(){\n                  countTh++;\n                  myTask(packet);\n               }\n          };\n          this.exe.execute(th);                   \n}\n</code></pre>\n<p>What I tried to fix the issue:</p>\n<ol>\n<li>Did some simple Math to calculate how many Thread I would need and got 3 Threads. -&gt; Still loosing Threads</li>\n<li>Monitored the Threads in the ThreadPool with getActiveCount() and was very surprised that the threads were always active, never waiting</li>\n<li>Monitored the ThreadPool queue with getQueue() and found out that the Queue is sometimes ob to 10k high.</li>\n<li>I changed the ThreadPool to a Cached Thread Pool to monitor with how many Threads are used and it was up to 15k threads! Still it was no option to leave it like this, because it kind of destroyed the overall performance. I guess there were not enough threads left for other processes within the application</li>\n</ol>\n<p>Does anyone have any suggestions how I can fix this issue? Or point me to where the issue may lay?</p>\n"},{"tags":["java","maven","spring-boot","jpa"],"comments":[{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":0,"creation_date":1524371929,"post_id":49962364,"comment_id":86941113,"body_markdown":"please add other relevant classes as well. your POM works perfectly fine for me. Also, no need for explicit dependency for jackson that&#39;s included by default.","body":"please add other relevant classes as well. your POM works perfectly fine for me. Also, no need for explicit dependency for jackson that&#39;s included by default."},{"owner":{"account_id":8450263,"reputation":11,"user_id":6339305,"display_name":"Nandita Dube"},"score":0,"creation_date":1524372876,"post_id":49962364,"comment_id":86941242,"body_markdown":"@VinayPrajapati I have added other classes in the main post","body":"@VinayPrajapati I have added other classes in the main post"}],"answers":[{"tags":[],"owner":{"account_id":463588,"reputation":746,"user_id":866586,"accept_rate":62,"display_name":"Aravind R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524370184,"creation_date":1524370184,"answer_id":49962409,"question_id":49962364,"body_markdown":"Can you try adding the correct version of the below\r\n\r\n \r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.4&lt;/version&gt;","title":"Spring boot java.lang.IllegalStateException","body":"<p>Can you try adding the correct version of the below</p>\n\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.7.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.7.4&lt;/version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16121117,"reputation":147,"user_id":11637083,"display_name":"Serhat Yıldırım"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638917753,"creation_date":1638917753,"answer_id":70267949,"question_id":49962364,"body_markdown":"Can you add the this config class ? \r\n\r\n    @Configuration\r\n    public class JacksonConfiguration {\r\n    \r\n        @Bean\r\n        public ObjectReader messageObjectReader(ObjectMapper objectMapper) {\r\n            return objectMapper.readerFor(ServerConfig.class);\r\n        }\r\n    }","title":"Spring boot java.lang.IllegalStateException","body":"<p>Can you add the this config class ?</p>\n<pre><code>@Configuration\npublic class JacksonConfiguration {\n\n    @Bean\n    public ObjectReader messageObjectReader(ObjectMapper objectMapper) {\n        return objectMapper.readerFor(ServerConfig.class);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8450263,"reputation":11,"user_id":6339305,"display_name":"Nandita Dube"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8742,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1693854280,"creation_date":1524369595,"question_id":49962364,"body_markdown":"I am making a Spring Boot app to fetch data from an Oracle Db and display as a String. Here is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.mygit.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;sampleBoot&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;sampleBoot&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n   \t\t &lt;/dependency&gt;\r\n   \t\t &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n   \t\t &lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- HTTP Core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n\r\nCan someone help on this, please? ServerConfig is my Entity class and my Controller just calls the getAllConfigurationData() method and prints the returned list as a String.\r\n\r\n    package com.mygit.boot.dao.impl;\r\n    import java.util.List;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    import com.mygit.boot.dao.IFetchDao;\r\n    import com.mygit.boot.entity.ServerConfig;\r\n\r\n    @Repository\r\n    @Transactional\r\n    public class FetchDaoImpl implements IFetchDao {\r\n\r\n\t@PersistenceContext\r\n\tprivate EntityManager entityManger;\r\n\r\n\t@Override\r\n\tpublic List&lt;ServerConfig&gt; getAllConfigurationData() {\r\n\t\ttry {\r\n\t\t\treturn entityManger.createQuery(&quot;select c from ServerConfig c&quot;, ServerConfig.class).getResultList();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Exception while fetching server config !!!&quot;);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n    }\r\nHere is my error:\r\n\r\n    java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration.pageableCustomizer\r\n\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ObjectMapper\r\n\r\nThe controller:\r\n\r\n    package com.mygit.boot.controller;\r\n\r\n    import java.util.List;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import com.mygit.boot.dao.IFetchDao;\r\n    import com.mygit.boot.entity.ServerConfig;\r\n\r\n    @RestController\r\n    public class TestController {\r\n\t\r\n\t@Autowired\r\n\tprivate IFetchDao fetchDao;\r\n\t\r\n\t@RequestMapping(&quot;/test&quot;)\r\n\tpublic String print() {\r\n\t\t\r\n\t\tList&lt;ServerConfig&gt; l=fetchDao.getAllConfigurationData();\r\n\t\treturn l.toString();\r\n\t}\r\n    }\r\n\r\nEntity class:\r\n     package com.mygit.boot.entity;\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.SequenceGenerator;\r\n    import javax.persistence.Table;\r\n\r\n    import org.hibernate.annotations.NamedNativeQueries;\r\n    import org.hibernate.annotations.NamedNativeQuery;\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;serverconfig&quot;)\r\n    @NamedNativeQueries({ @NamedNativeQuery(name = &quot;getMaxLoginAttemptsQuery&quot;, query = &quot;SELECT * FROM serverconfig sconfig where sconfig.confKey=? and sconfig.configuration=?&quot;, resultClass = ServerConfig.class),\r\n                      @NamedNativeQuery(name = &quot;getPwdConfigProperties&quot;, query = &quot;SELECT * FROM serverconfig sconfig WHERE sconfig.confKey IN (&#39;&quot;+Constants.NO_OF_UPPERCASES+&quot;&#39;,&#39;&quot;+Constants.NO_OF_LOWERCASES+&quot;&#39;,&#39;&quot;+Constants.NO_OF_DIGIT+&quot;&#39;,&#39;&quot;+Constants.NO_OF_SPECIALCHARS+&quot;&#39;,&#39;&quot;+Constants.PWD_MIN_LENGTH+&quot;&#39;,&#39;&quot;+Constants.PWD_MAX_LENGTH+&quot;&#39;)&quot;, resultClass = ServerConfig.class)})\r\n\r\n    public class ServerConfig implements java.io.Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_SERVERCONFIG&quot;)\r\n    @SequenceGenerator(name = &quot;SEQ_SERVERCONFIG&quot;, sequenceName = &quot;SEQ_SERVERCONFIG&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;CONFIGURATION&quot;, length = 45)\r\n    private String configuration;\r\n\r\n    @Column(name = &quot;CONFKEY&quot;, length = 128)\r\n    private String confKey;\r\n\r\n    @Column(name = &quot;CONFVALUE&quot;, length = 4000)\r\n    private String confValue;\r\n\r\n    public ServerConfig() {\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getConfiguration() {\r\n        return configuration;\r\n    }\r\n\r\n    public void setConfiguration(String configuration) {\r\n        this.configuration = configuration;\r\n    }\r\n\r\n    public String getConfKey() {\r\n        return confKey;\r\n    }\r\n\r\n    public void setConfKey(String confKey) {\r\n        this.confKey = confKey;\r\n    }\r\n\r\n    public String getConfValue() {\r\n        return confValue;\r\n    }\r\n\r\n    public void setConfValue(String confValue) {\r\n        this.confValue = confValue;\r\n    }\r\n\r\n}\r\n\r\nMain application class:\r\n\r\n    package com.mygit.boot.main;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan({&quot;com.mygit.boot.controller&quot;, &quot;com.mygit.boot.dao&quot;, &quot;com.mygit.boot.dao.impl&quot;, &quot;com.mygit.boot.entity&quot;})\r\n    public class SampleBootApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SampleBootApplication.class, args);\r\n\t}\r\n    }\r\n","title":"Spring boot java.lang.IllegalStateException","body":"<p>I am making a Spring Boot app to fetch data from an Oracle Db and display as a String. Here is my pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n</code></pre>\n\n<p>http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    4.0.0</p>\n\n<pre><code>&lt;groupId&gt;com.mygit.boot&lt;/groupId&gt;\n&lt;artifactId&gt;sampleBoot&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;sampleBoot&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n\n    &lt;!-- HTTP Core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>Can someone help on this, please? ServerConfig is my Entity class and my Controller just calls the getAllConfigurationData() method and prints the returned list as a String.</p>\n\n<pre><code>package com.mygit.boot.dao.impl;\nimport java.util.List;\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\nimport com.mygit.boot.dao.IFetchDao;\nimport com.mygit.boot.entity.ServerConfig;\n\n@Repository\n@Transactional\npublic class FetchDaoImpl implements IFetchDao {\n\n@PersistenceContext\nprivate EntityManager entityManger;\n\n@Override\npublic List&lt;ServerConfig&gt; getAllConfigurationData() {\n    try {\n        return entityManger.createQuery(\"select c from ServerConfig c\", ServerConfig.class).getResultList();\n\n    } catch (Exception e) {\n        System.out.println(\"Exception while fetching server config !!!\");\n    }\n    return null;\n}\n}\n</code></pre>\n\n<p>Here is my error:</p>\n\n<pre><code>java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration.pageableCustomizer\n\n\nCaused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ObjectMapper\n</code></pre>\n\n<p>The controller:</p>\n\n<pre><code>package com.mygit.boot.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.mygit.boot.dao.IFetchDao;\nimport com.mygit.boot.entity.ServerConfig;\n\n@RestController\npublic class TestController {\n\n@Autowired\nprivate IFetchDao fetchDao;\n\n@RequestMapping(\"/test\")\npublic String print() {\n\n    List&lt;ServerConfig&gt; l=fetchDao.getAllConfigurationData();\n    return l.toString();\n}\n}\n</code></pre>\n\n<p>Entity class:\n     package com.mygit.boot.entity;</p>\n\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.SequenceGenerator;\nimport javax.persistence.Table;\n\nimport org.hibernate.annotations.NamedNativeQueries;\nimport org.hibernate.annotations.NamedNativeQuery;\n\n\n@Entity\n@Table(name = \"serverconfig\")\n@NamedNativeQueries({ @NamedNativeQuery(name = \"getMaxLoginAttemptsQuery\", query = \"SELECT * FROM serverconfig sconfig where sconfig.confKey=? and sconfig.configuration=?\", resultClass = ServerConfig.class),\n                  @NamedNativeQuery(name = \"getPwdConfigProperties\", query = \"SELECT * FROM serverconfig sconfig WHERE sconfig.confKey IN ('\"+Constants.NO_OF_UPPERCASES+\"','\"+Constants.NO_OF_LOWERCASES+\"','\"+Constants.NO_OF_DIGIT+\"','\"+Constants.NO_OF_SPECIALCHARS+\"','\"+Constants.PWD_MIN_LENGTH+\"','\"+Constants.PWD_MAX_LENGTH+\"')\", resultClass = ServerConfig.class)})\n\npublic class ServerConfig implements java.io.Serializable {\n\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@Column(name = \"ID\")\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"SEQ_SERVERCONFIG\")\n@SequenceGenerator(name = \"SEQ_SERVERCONFIG\", sequenceName = \"SEQ_SERVERCONFIG\")\nprivate Long id;\n\n@Column(name = \"CONFIGURATION\", length = 45)\nprivate String configuration;\n\n@Column(name = \"CONFKEY\", length = 128)\nprivate String confKey;\n\n@Column(name = \"CONFVALUE\", length = 4000)\nprivate String confValue;\n\npublic ServerConfig() {\n}\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getConfiguration() {\n    return configuration;\n}\n\npublic void setConfiguration(String configuration) {\n    this.configuration = configuration;\n}\n\npublic String getConfKey() {\n    return confKey;\n}\n\npublic void setConfKey(String confKey) {\n    this.confKey = confKey;\n}\n\npublic String getConfValue() {\n    return confValue;\n}\n\npublic void setConfValue(String confValue) {\n    this.confValue = confValue;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Main application class:</p>\n\n<pre><code>package com.mygit.boot.main;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan({\"com.mygit.boot.controller\", \"com.mygit.boot.dao\", \"com.mygit.boot.dao.impl\", \"com.mygit.boot.entity\"})\npublic class SampleBootApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(SampleBootApplication.class, args);\n}\n}\n</code></pre>\n"},{"tags":["java","algorithm","timezone","java-time","epoch"],"answers":[{"comments":[{"owner":{"account_id":4309202,"reputation":441,"user_id":3520791,"display_name":"Alan"},"score":0,"creation_date":1693774584,"post_id":77034129,"comment_id":135801630,"body_markdown":"Thanks! I only want the eligibility to be considered that day. For example, if the last event happened two days ago in that time zone then this algorithm still prints `Before`? I want it to return True if only the event happens in that day.","body":"Thanks! I only want the eligibility to be considered that day. For example, if the last event happened two days ago in that time zone then this algorithm still prints <code>Before</code>? I want it to return True if only the event happens in that day."},{"owner":{"account_id":4309202,"reputation":441,"user_id":3520791,"display_name":"Alan"},"score":0,"creation_date":1693774789,"post_id":77034129,"comment_id":135801649,"body_markdown":"ZonedDateTime startOfDay = LocalDate.now(userZone).atStartOfDay(userZone);\n\nif (zdtGiven.isBefore(startOfNextDay) &amp;&amp; zdtGiven.isAfter(startOfDay)) return True?","body":"ZonedDateTime startOfDay = LocalDate.now(userZone).atStartOfDay(userZone);  if (zdtGiven.isBefore(startOfNextDay) &amp;&amp; zdtGiven.isAfter(startOfDay)) return True?"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1693774944,"post_id":77034129,"comment_id":135801659,"body_markdown":"@Alan I hope the updated code meets your requirements.","body":"@Alan I hope the updated code meets your requirements."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1693832568,"post_id":77034129,"comment_id":135808266,"body_markdown":"@OleV.V. Thanks for your feedback. I agree with you. I have also added more scenarios.","body":"@OleV.V. Thanks for your feedback. I agree with you. I have also added more scenarios."},{"owner":{"account_id":4309202,"reputation":441,"user_id":3520791,"display_name":"Alan"},"score":0,"creation_date":1693852299,"post_id":77034129,"comment_id":135811768,"body_markdown":"I suggest the main code to only answer the main question in the OP and then add the extra logic separately. Now it&#39;s confusing for future reader and for myself, since there are unrelate logic to the main question. Also I liked the previous answer as this new one uses another library (LocalDate) which is not needed","body":"I suggest the main code to only answer the main question in the OP and then add the extra logic separately. Now it&#39;s confusing for future reader and for myself, since there are unrelate logic to the main question. Also I liked the previous answer as this new one uses another library (LocalDate) which is not needed"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1693853985,"post_id":77034129,"comment_id":135812013,"body_markdown":"@Alan I have reposted the original answer and added the update in a new section.","body":"@Alan I have reposted the original answer and added the update in a new section."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":6,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693853886,"creation_date":1693774256,"answer_id":77034129,"question_id":77034059,"body_markdown":"Original answer\r\n---\r\n\r\nYou can get the start of the next day so that any time before that will be counted as the end of today.\r\n\r\n**Demo:**\r\n\r\n\tclass Main {\r\n\t    public static void main(String[] args) {\r\n\t        // A sample epoch\r\n\t        long epoch = 1693773531L;\r\n\r\n\t        // Note: Change the timezone as per your requirement\r\n\t        ZoneId userZone = ZoneId.of(&quot;America/New_York&quot;);\r\n\r\n\t        ZonedDateTime zdtGiven = Instant.ofEpochSecond(epoch).atZone(userZone);\r\n\r\n\t        // Today\r\n\t        LocalDate today = LocalDate.now(userZone);\r\n\r\n\t        // Get start of today\r\n\t        ZonedDateTime startOfToday = today.atStartOfDay(userZone);\r\n\r\n\t        // Get start of the next day\r\n\t        ZonedDateTime startOfNextDay = today.plusDays(1).atStartOfDay(userZone);\r\n\r\n\t        if (zdtGiven.isAfter(startOfToday) &amp;&amp; zdtGiven.isBefore(startOfNextDay))\r\n\t            // Do this e.g.\r\n\t            System.out.println(&quot;Before&quot;);\r\n\t    }\r\n\t}\r\n\r\n**Output:**\r\n\r\n    Before\r\n\r\n[Online Demo](https://ideone.com/UEnsTx)\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**\r\n\r\nUpdate:\r\n---\r\n\r\nThe expression, `zdtGiven.isAfter(startOfToday) &amp;&amp; zdtGiven.isBefore(startOfNextDay)` can be reduced to `zdtGiven.toLocalDate().isEqual(today)`. This update also covers some more scenarios.\r\n\r\n\r\n**Demo:**\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            // A sample epoch\r\n            long epoch = 1693832142L;\r\n    \r\n            // Note: change the timezone as per your requirement\r\n            ZoneId userZone = ZoneId.of(&quot;America/New_York&quot;);\r\n    \r\n            // ZonedDateTime at the given epoch\r\n            ZonedDateTime zdtGiven = Instant.ofEpochSecond(epoch).atZone(userZone);\r\n    \r\n            // LocalDate at the given epoch\r\n            LocalDate localDateGiven = zdtGiven.toLocalDate();\r\n    \r\n            // Today\r\n            LocalDate today = LocalDate.now(userZone);\r\n    \r\n            // Get start of today\r\n            ZonedDateTime startOfToday = today.atStartOfDay(userZone);\r\n    \r\n            // Get start of the next day\r\n            ZonedDateTime startOfNextDay = today.plusDays(1).atStartOfDay(userZone);\r\n    \r\n            // Current ZonedDateTime\r\n            ZonedDateTime zdtNow = ZonedDateTime.now(userZone);\r\n    \r\n            // Anything happening before a given time e.g. 10 am today\r\n            if (zdtGiven.isAfter(startOfToday) &amp;&amp; zdtGiven.isBefore(zdtNow.with(LocalTime.of(10, 0))))\r\n                // Do this e.g.\r\n                System.out.println(&quot;Before 10 am today&quot;);\r\n    \r\n            // Alternatively\r\n            if (localDateGiven.isEqual(today) &amp;&amp; zdtGiven.isBefore(zdtNow.with(LocalTime.of(10, 0))))\r\n                // Do this e.g.\r\n                System.out.println(&quot;Before 10 am today&quot;);\r\n    \r\n            // Anything happening after a given time e.g. 10 am today\r\n            if (zdtGiven.isAfter(zdtNow.with(LocalTime.of(10, 0))) &amp;&amp; zdtGiven.isBefore(startOfNextDay))\r\n                // Do this e.g.\r\n                System.out.println(&quot;After 10 am today&quot;);\r\n    \r\n            // Alternatively\r\n            if (zdtGiven.isAfter(zdtNow.with(LocalTime.of(10, 0))) &amp;&amp; localDateGiven.isEqual(today))\r\n                // Do this e.g.\r\n                System.out.println(&quot;After 10 am today&quot;);\r\n    \r\n            // Anything happening today\r\n            if (localDateGiven.isEqual(today))\r\n                // Do this e.g.\r\n                System.out.println(&quot;Today&quot;);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    Before 10 am today\r\n    Before 10 am today\r\n    Today\r\n\r\n[Online Demo](https://ideone.com/PuZ7vI)\r\n\r\n\r\n","title":"How to find end of the day using epoch time and zone in Java","body":"<h2>Original answer</h2>\n<p>You can get the start of the next day so that any time before that will be counted as the end of today.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        // A sample epoch\n        long epoch = 1693773531L;\n\n        // Note: Change the timezone as per your requirement\n        ZoneId userZone = ZoneId.of(&quot;America/New_York&quot;);\n\n        ZonedDateTime zdtGiven = Instant.ofEpochSecond(epoch).atZone(userZone);\n\n        // Today\n        LocalDate today = LocalDate.now(userZone);\n\n        // Get start of today\n        ZonedDateTime startOfToday = today.atStartOfDay(userZone);\n\n        // Get start of the next day\n        ZonedDateTime startOfNextDay = today.plusDays(1).atStartOfDay(userZone);\n\n        if (zdtGiven.isAfter(startOfToday) &amp;&amp; zdtGiven.isBefore(startOfNextDay))\n            // Do this e.g.\n            System.out.println(&quot;Before&quot;);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Before\n</code></pre>\n<p><a href=\"https://ideone.com/UEnsTx\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong></p>\n<h2>Update:</h2>\n<p>The expression, <code>zdtGiven.isAfter(startOfToday) &amp;&amp; zdtGiven.isBefore(startOfNextDay)</code> can be reduced to <code>zdtGiven.toLocalDate().isEqual(today)</code>. This update also covers some more scenarios.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        // A sample epoch\n        long epoch = 1693832142L;\n\n        // Note: change the timezone as per your requirement\n        ZoneId userZone = ZoneId.of(&quot;America/New_York&quot;);\n\n        // ZonedDateTime at the given epoch\n        ZonedDateTime zdtGiven = Instant.ofEpochSecond(epoch).atZone(userZone);\n\n        // LocalDate at the given epoch\n        LocalDate localDateGiven = zdtGiven.toLocalDate();\n\n        // Today\n        LocalDate today = LocalDate.now(userZone);\n\n        // Get start of today\n        ZonedDateTime startOfToday = today.atStartOfDay(userZone);\n\n        // Get start of the next day\n        ZonedDateTime startOfNextDay = today.plusDays(1).atStartOfDay(userZone);\n\n        // Current ZonedDateTime\n        ZonedDateTime zdtNow = ZonedDateTime.now(userZone);\n\n        // Anything happening before a given time e.g. 10 am today\n        if (zdtGiven.isAfter(startOfToday) &amp;&amp; zdtGiven.isBefore(zdtNow.with(LocalTime.of(10, 0))))\n            // Do this e.g.\n            System.out.println(&quot;Before 10 am today&quot;);\n\n        // Alternatively\n        if (localDateGiven.isEqual(today) &amp;&amp; zdtGiven.isBefore(zdtNow.with(LocalTime.of(10, 0))))\n            // Do this e.g.\n            System.out.println(&quot;Before 10 am today&quot;);\n\n        // Anything happening after a given time e.g. 10 am today\n        if (zdtGiven.isAfter(zdtNow.with(LocalTime.of(10, 0))) &amp;&amp; zdtGiven.isBefore(startOfNextDay))\n            // Do this e.g.\n            System.out.println(&quot;After 10 am today&quot;);\n\n        // Alternatively\n        if (zdtGiven.isAfter(zdtNow.with(LocalTime.of(10, 0))) &amp;&amp; localDateGiven.isEqual(today))\n            // Do this e.g.\n            System.out.println(&quot;After 10 am today&quot;);\n\n        // Anything happening today\n        if (localDateGiven.isEqual(today))\n            // Do this e.g.\n            System.out.println(&quot;Today&quot;);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Before 10 am today\nBefore 10 am today\nToday\n</code></pre>\n<p><a href=\"https://ideone.com/PuZ7vI\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n"}],"owner":{"account_id":4309202,"reputation":441,"user_id":3520791,"display_name":"Alan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77034129,"answer_count":1,"score":1,"last_activity_date":1693853886,"creation_date":1693772796,"question_id":77034059,"body_markdown":"I have the epoch time of an event, as `eventTime` in seconds and the zone (location of the event) as `userZone`. \r\nI need to check if an event is eligible. An event is only eligible if it happens before the end of the day considering the zone of the user. \r\nSince epoch time is in UTC it needs to be converted to the zone time and then in that zone find the beginning and end of the day. There is a library in Java `ZonedDateTime`.\r\n\r\nWhat I need to implement is:\r\n       \r\n       - Get eventTime in epoch (UTC) =&gt; getEventTime(event)\r\n       - Get the userZone (for example CDT or EST) =&gt; getUserZone(user)\r\n       - Convert eventTime to the local time of the user  =&gt; getEventInLocalTime(eventTime, userZone)\r\n       - Get end of the day time for userZone =&gt; getEndOfToday(userZone)\r\n       - if (0 &lt;= eventLocalTime &lt;= endOfToday) return True\r\n\r\nHas anyone used `ZonedDateTime` to help with this logic? I implemented some logic but not sure about it as the object returned for `ZonedDateTime` for the end of the day is not clear to me. Basically, what I am trying to reach is if two users in two different time zones trigger an event at the same epoch time the user with an earlier time zone will be eligible for less amount of time, obviously.\r\n\r\n \r\n\r\n","title":"How to find end of the day using epoch time and zone in Java","body":"<p>I have the epoch time of an event, as <code>eventTime</code> in seconds and the zone (location of the event) as <code>userZone</code>.\nI need to check if an event is eligible. An event is only eligible if it happens before the end of the day considering the zone of the user.\nSince epoch time is in UTC it needs to be converted to the zone time and then in that zone find the beginning and end of the day. There is a library in Java <code>ZonedDateTime</code>.</p>\n<p>What I need to implement is:</p>\n<pre><code>   - Get eventTime in epoch (UTC) =&gt; getEventTime(event)\n   - Get the userZone (for example CDT or EST) =&gt; getUserZone(user)\n   - Convert eventTime to the local time of the user  =&gt; getEventInLocalTime(eventTime, userZone)\n   - Get end of the day time for userZone =&gt; getEndOfToday(userZone)\n   - if (0 &lt;= eventLocalTime &lt;= endOfToday) return True\n</code></pre>\n<p>Has anyone used <code>ZonedDateTime</code> to help with this logic? I implemented some logic but not sure about it as the object returned for <code>ZonedDateTime</code> for the end of the day is not clear to me. Basically, what I am trying to reach is if two users in two different time zones trigger an event at the same epoch time the user with an earlier time zone will be eligible for less amount of time, obviously.</p>\n"},{"tags":["javascript","java","android","ios","react-native"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1579526974,"post_id":59824310,"comment_id":105785524,"body_markdown":"Does this answer your question? [Detect power button long press](https://stackoverflow.com/questions/39064523/detect-power-button-long-press)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39064523/detect-power-button-long-press\">Detect power button long press</a>"}],"answers":[{"tags":[],"owner":{"account_id":10511761,"reputation":2710,"user_id":12368797,"display_name":"William Brochensque junior"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1579531755,"creation_date":1579531246,"answer_id":59825565,"question_id":59824310,"body_markdown":"You can use this library to run a code when the home button is pressed\r\n\r\n[react-native-home-pressed][1]\r\n\r\n\r\nYou can change the keycode creating a fork of the [repository][2]\r\n\r\n\r\nand, check the long press with a timer.\r\n\r\nUPDATE:\r\n\r\nYou can use this [library][3] to get a keycode event of key up and key down event.\r\n\r\nExample:\r\n\r\n```javascript\r\ncomponentDidMount() {\r\n    KeyEvent.onKeyDownListener((keyEvent) =&gt; {\r\n        if (keyEvent.keyCode === &#39;Keycode of the power button&#39;){\r\n            this.timeout = setTimeout(() =&gt; {\r\n                //Your SOS Function here\r\n            }, 1000)\r\n        }\r\n    });\r\n\r\n    KeyEvent.onKeyUpListener((keyEvent) =&gt; {\r\n        if (keyEvent.keyCode === &#39;Keycode of the power button&#39;){\r\n            clearTimeout(this.timeout)\r\n        }\r\n    })\r\n}\r\n\r\ncomponentWillUnmount() {\r\n    KeyEvent.removeKeyDownListener();\r\n    KeyEvent.removeKeyUpListener();\r\n}\r\n```\r\n\r\n  [1]: https://www.npmjs.com/package/react-native-home-pressed\r\n  [2]: https://github.com/evanjmg/react-native-home-pressed\r\n  [3]: https://www.npmjs.com/package/react-native-keyevent","title":"React native power button long press listener when app is running in background","body":"<p>You can use this library to run a code when the home button is pressed</p>\n\n<p><a href=\"https://www.npmjs.com/package/react-native-home-pressed\" rel=\"nofollow noreferrer\">react-native-home-pressed</a></p>\n\n<p>You can change the keycode creating a fork of the <a href=\"https://github.com/evanjmg/react-native-home-pressed\" rel=\"nofollow noreferrer\">repository</a></p>\n\n<p>and, check the long press with a timer.</p>\n\n<p>UPDATE:</p>\n\n<p>You can use this <a href=\"https://www.npmjs.com/package/react-native-keyevent\" rel=\"nofollow noreferrer\">library</a> to get a keycode event of key up and key down event.</p>\n\n<p>Example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>componentDidMount() {\n    KeyEvent.onKeyDownListener((keyEvent) =&gt; {\n        if (keyEvent.keyCode === 'Keycode of the power button'){\n            this.timeout = setTimeout(() =&gt; {\n                //Your SOS Function here\n            }, 1000)\n        }\n    });\n\n    KeyEvent.onKeyUpListener((keyEvent) =&gt; {\n        if (keyEvent.keyCode === 'Keycode of the power button'){\n            clearTimeout(this.timeout)\n        }\n    })\n}\n\ncomponentWillUnmount() {\n    KeyEvent.removeKeyDownListener();\n    KeyEvent.removeKeyUpListener();\n}\n</code></pre>\n"}],"owner":{"display_name":"user12748196"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1709,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59825565,"answer_count":1,"score":1,"last_activity_date":1693853437,"creation_date":1579526840,"question_id":59824310,"body_markdown":"I want to call a SOS function when user long press the power button.\r\nIf there is no library to do this, is there any native method to do so?","title":"React native power button long press listener when app is running in background","body":"<p>I want to call a SOS function when user long press the power button.\nIf there is no library to do this, is there any native method to do so?</p>\n"},{"tags":["java","spring-security","spring-cloud-gateway"],"comments":[{"owner":{"account_id":9544054,"reputation":71,"user_id":7090887,"display_name":"user7090887"},"score":0,"creation_date":1696015747,"post_id":74408486,"comment_id":136104853,"body_markdown":"Hi, I am having the same issue. How you fixed it?","body":"Hi, I am having the same issue. How you fixed it?"},{"owner":{"account_id":17386179,"reputation":105,"user_id":12597444,"display_name":"benblan"},"score":0,"creation_date":1697893755,"post_id":74408486,"comment_id":136338209,"body_markdown":"Hi, I didn&#39;t fix it for the moment. I need to try ch4amp solution to see if it works","body":"Hi, I didn&#39;t fix it for the moment. I need to try ch4amp solution to see if it works"}],"answers":[{"comments":[{"owner":{"account_id":17386179,"reputation":105,"user_id":12597444,"display_name":"benblan"},"score":0,"creation_date":1668247405,"post_id":74409603,"comment_id":131362429,"body_markdown":"Hi, thanks for your answer but it doesn&#39;t seems to work : I still get a redirect to the login page. As far as I know, isn&#39;t the  AccessDeniedHandler called too late in the process for my purpose (https://docs.spring.io/spring-security/reference/servlet/architecture.html#servlet-exceptiontranslationfilter) ? The XHR call is not denied, it is unauthenticated so I should return a AuthenticationEntryPoint that return a 401.","body":"Hi, thanks for your answer but it doesn&#39;t seems to work : I still get a redirect to the login page. As far as I know, isn&#39;t the  AccessDeniedHandler called too late in the process for my purpose (<a href=\"https://docs.spring.io/spring-security/reference/servlet/architecture.html#servlet-exceptiontranslationfilter\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/&hellip;</a>) ? The XHR call is not denied, it is unauthenticated so I should return a AuthenticationEntryPoint that return a 401."},{"owner":{"account_id":17386179,"reputation":105,"user_id":12597444,"display_name":"benblan"},"score":0,"creation_date":1668247688,"post_id":74409603,"comment_id":131362477,"body_markdown":"It may works with the resource-server but my BFF is configured as a client.","body":"It may works with the resource-server but my BFF is configured as a client."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668272558,"post_id":74409603,"comment_id":131367216,"body_markdown":"Are you sure that the HTTP status was not returned by a resource-server behind the gateway? I configure gateway to just forward authorization haeder to resource-server and response status from it. Access decision is, in my opinion, better placed where I can unit-test it.","body":"Are you sure that the HTTP status was not returned by a resource-server behind the gateway? I configure gateway to just forward authorization haeder to resource-server and response status from it. Access decision is, in my opinion, better placed where I can unit-test it."},{"owner":{"account_id":17386179,"reputation":105,"user_id":12597444,"display_name":"benblan"},"score":0,"creation_date":1668350861,"post_id":74409603,"comment_id":131378839,"body_markdown":"Well I&#39;m sure because I have 2 resource servers behing the gateway and none of them were running when I made the test. In fact I have implemented the Oauthclient pattern which is described in this article : https://www.baeldung.com/spring-cloud-gateway-oauth2. So with this pattern, it is the gateway which &quot;generates&quot; the authorization header. It is not sent by the user agent.","body":"Well I&#39;m sure because I have 2 resource servers behing the gateway and none of them were running when I made the test. In fact I have implemented the Oauthclient pattern which is described in this article : <a href=\"https://www.baeldung.com/spring-cloud-gateway-oauth2\" rel=\"nofollow noreferrer\">baeldung.com/spring-cloud-gateway-oauth2</a>. So with this pattern, it is the gateway which &quot;generates&quot; the authorization header. It is not sent by the user agent."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668354492,"post_id":74409603,"comment_id":131379653,"body_markdown":"Well, there is a 3rd alternative for gateway OAuth2 configuration this article does not talk about: **be transparent** (do nothing) . In your &quot;client&quot; configuration, what if the &quot;real&quot; client can&#39;t login using forms (programmatic client with client-credentials)? What if there are several authorizion-servers to choose from? What if knowing the actual client is important? There are good OAuth2 client libs for all mainstream frameworks, just authorize requests on &quot;real&quot; clients.","body":"Well, there is a 3rd alternative for gateway OAuth2 configuration this article does not talk about: <b>be transparent</b> (do nothing) . In your &quot;client&quot; configuration, what if the &quot;real&quot; client can&#39;t login using forms (programmatic client with client-credentials)? What if there are several authorizion-servers to choose from? What if knowing the actual client is important? There are good OAuth2 client libs for all mainstream frameworks, just authorize requests on &quot;real&quot; clients."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668370337,"post_id":74409603,"comment_id":131383195,"body_markdown":"See my updated answer: when configuring oauth2Login, you explicitely ask the gateway to redirect unauthorized users to authorization-server (this is how authorization-code flow starts). Don&#39;t do that. Configure your Angular app as OAuth2 client, not the gateway.","body":"See my updated answer: when configuring oauth2Login, you explicitely ask the gateway to redirect unauthorized users to authorization-server (this is how authorization-code flow starts). Don&#39;t do that. Configure your Angular app as OAuth2 client, not the gateway."},{"owner":{"account_id":17386179,"reputation":105,"user_id":12597444,"display_name":"benblan"},"score":0,"creation_date":1668803770,"post_id":74409603,"comment_id":131503283,"body_markdown":"A very interesting answer with valid points! I will respond in several comments.\nI would say that my first thought on using the gateway as the client was about security.\nWhen I look at the oauth spec on browser based application (https://www.ietf.org/archive/id/draft-ietf-oauth-browser-based-apps-11.html), it seems that the pattern where javascript applications obtain tokens directly is the slightly less secured pattern. The token is stored in the application which is then exposed to token exfiltration. But I agree that there&#39;s still the XSS attack that is possible.","body":"A very interesting answer with valid points! I will respond in several comments. I would say that my first thought on using the gateway as the client was about security. When I look at the oauth spec on browser based application (<a href=\"https://www.ietf.org/archive/id/draft-ietf-oauth-browser-based-apps-11.html\" rel=\"nofollow noreferrer\">ietf.org/archive/id/draft-ietf-oauth-browser-based-apps-11.&zwnj;&#8203;html</a>), it seems that the pattern where javascript applications obtain tokens directly is the slightly less secured pattern. The token is stored in the application which is then exposed to token exfiltration. But I agree that there&#39;s still the XSS attack that is possible."},{"owner":{"account_id":17386179,"reputation":105,"user_id":12597444,"display_name":"benblan"},"score":0,"creation_date":1668803814,"post_id":74409603,"comment_id":131503297,"body_markdown":"Regarding the drawbacks you pointed :\n\n1/ Session management : I have not experienced yet but I thought I could resolved horizontal scalability using a service like Redis. CSRF is important I agree, I have deactivated only for testing purpose.\n\n2/ In the application I designed, the gateway is a BFF so it has a clear purpose and is dedicated to a specific front end application. In my idea, other clients like an external application would not use this BFF but have another client.","body":"Regarding the drawbacks you pointed :  1/ Session management : I have not experienced yet but I thought I could resolved horizontal scalability using a service like Redis. CSRF is important I agree, I have deactivated only for testing purpose.  2/ In the application I designed, the gateway is a BFF so it has a clear purpose and is dedicated to a specific front end application. In my idea, other clients like an external application would not use this BFF but have another client."},{"owner":{"account_id":17386179,"reputation":105,"user_id":12597444,"display_name":"benblan"},"score":0,"creation_date":1668803850,"post_id":74409603,"comment_id":131503302,"body_markdown":"3/ if multiple flow need to be supported, it seems that I can register multiple clients within the same gateway with spring security oauth client.\n\n4/ for the last point, to me this is handle by spring security login. I can register multiple clients with different authorization servers. It is up to the user to decide what to use. Even if in my case, I did not intend to offer multiples auth server. And if I did, as I use Keycloak I think it is possible to manage this through Keycloak and not spring security.","body":"3/ if multiple flow need to be supported, it seems that I can register multiple clients within the same gateway with spring security oauth client.  4/ for the last point, to me this is handle by spring security login. I can register multiple clients with different authorization servers. It is up to the user to decide what to use. Even if in my case, I did not intend to offer multiples auth server. And if I did, as I use Keycloak I think it is possible to manage this through Keycloak and not spring security."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668807400,"post_id":74409603,"comment_id":131504155,"body_markdown":"Setting up and maintaining a redis cache for sessions is clearly additional complexity. That&#39;s sad for something you can so easily avoid.","body":"Setting up and maintaining a redis cache for sessions is clearly additional complexity. That&#39;s sad for something you can so easily avoid."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668807405,"post_id":74409603,"comment_id":131504158,"body_markdown":"Incoming traffic through the gateway and as direct connection depending on the client will be a challenge to maintain on firewall (you&#39;ll have dangerous breaches sooner or later)","body":"Incoming traffic through the gateway and as direct connection depending on the client will be a challenge to maintain on firewall (you&#39;ll have dangerous breaches sooner or later)"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668807588,"post_id":74409603,"comment_id":131504205,"body_markdown":"You are thinking of a single Keycloak instance with a single realm. On the last project I worked on, they were two: one for corporate users (local network) and an other one for the public (from the Internet)","body":"You are thinking of a single Keycloak instance with a single realm. On the last project I worked on, they were two: one for corporate users (local network) and an other one for the public (from the Internet)"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1668807909,"post_id":74409603,"comment_id":131504270,"body_markdown":"Last, regarding security (as well as scalability), why do you think Google, Facebook, Whatsapp and basically any modern Javascript based app editor authorize requests from the client? If there is no authorization sent with the request, server has to maintain a session. Session can be stolen too and are longer lived than correctly configured access-token. Longer =&gt; more consequences for identy usurpation","body":"Last, regarding security (as well as scalability), why do you think Google, Facebook, Whatsapp and basically any modern Javascript based app editor authorize requests from the client? If there is no authorization sent with the request, server has to maintain a session. Session can be stolen too and are longer lived than correctly configured access-token. Longer =&gt; more consequences for identy usurpation"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1693853380,"post_id":74409603,"comment_id":135811920,"body_markdown":"Since my original answer and the comments we exchanged (almost a year ago) I shifted on the &quot;BFF configured as OAuth2 client with TokenRelay filter&quot; side of the force and adapted my answer accordingly.","body":"Since my original answer and the comments we exchanged (almost a year ago) I shifted on the &quot;BFF configured as OAuth2 client with TokenRelay filter&quot; side of the force and adapted my answer accordingly."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":14,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693853060,"creation_date":1668214838,"answer_id":74409603,"question_id":74408486,"body_markdown":"#### EDIT\r\nMy original answer with references to Javascript based web apps (or mobile apps) configured as &quot;public&quot; OAuth2 client and `spring-cloud-gateway` transparent to security was going against [latest recommendations][1]. Here is a solution to return the status code from downstream resource servers, behind a gateway configured as an OAuth2 client with `TokenRelay` filter (as wisely done in the question).\r\n\r\nThe REST APIs behind your gateway should be configured as resource servers and implement their own access control, in which case it would return 401 for unauthorized request to protected resource.\r\n\r\nIn such case, just `permitAll()` on the gateway:\r\n- if the user session is authorized, the `TokenRelay` will set the `Authorization` header before forwarding the request and the resource server should answer with 2xx\r\n- if the user session is not authorized, then the `TokenRelay` won&#39;t set the `Authorization` header before forwarding the request and the resource server should answer with 401\r\n\r\nI have a [working sample][2] of a system with an Angular front-end, a Spring REST API configured as stateless resource server and a BFF in between (`spring-cloud-gateway` with `spring-boot-starter-oauth2-client`, `oauth2Login` and the `TokenRelay=` filter). The code source is in [this tutorial][3].\r\n\r\nIn this application, the redirection to login does not happen because an unauthorized request to a protected resource: Angular app explicitly triggers this redirection. All routes configured with `TokenRelay` filter are configured with `permitAll()`.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-authorization-server/issues/297#issue-896744390\r\n  [2]: https://bff.demo.c4-soft.com/ui/\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff","title":"Spring security oauth2 login / spring cloud gateway sends 302 with XHR","body":"<h4>EDIT</h4>\n<p>My original answer with references to Javascript based web apps (or mobile apps) configured as &quot;public&quot; OAuth2 client and <code>spring-cloud-gateway</code> transparent to security was going against <a href=\"https://github.com/spring-projects/spring-authorization-server/issues/297#issue-896744390\" rel=\"nofollow noreferrer\">latest recommendations</a>. Here is a solution to return the status code from downstream resource servers, behind a gateway configured as an OAuth2 client with <code>TokenRelay</code> filter (as wisely done in the question).</p>\n<p>The REST APIs behind your gateway should be configured as resource servers and implement their own access control, in which case it would return 401 for unauthorized request to protected resource.</p>\n<p>In such case, just <code>permitAll()</code> on the gateway:</p>\n<ul>\n<li>if the user session is authorized, the <code>TokenRelay</code> will set the <code>Authorization</code> header before forwarding the request and the resource server should answer with 2xx</li>\n<li>if the user session is not authorized, then the <code>TokenRelay</code> won't set the <code>Authorization</code> header before forwarding the request and the resource server should answer with 401</li>\n</ul>\n<p>I have a <a href=\"https://bff.demo.c4-soft.com/ui/\" rel=\"nofollow noreferrer\">working sample</a> of a system with an Angular front-end, a Spring REST API configured as stateless resource server and a BFF in between (<code>spring-cloud-gateway</code> with <code>spring-boot-starter-oauth2-client</code>, <code>oauth2Login</code> and the <code>TokenRelay=</code> filter). The code source is in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<p>In this application, the redirection to login does not happen because an unauthorized request to a protected resource: Angular app explicitly triggers this redirection. All routes configured with <code>TokenRelay</code> filter are configured with <code>permitAll()</code>.</p>\n"}],"owner":{"account_id":17386179,"reputation":105,"user_id":12597444,"display_name":"benblan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1918,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693853060,"creation_date":1668203464,"question_id":74408486,"body_markdown":"I&#39;m developing a SPA application (angular) with a BFF using spring cloud gateway configured as an oauth2 client with spring security and a keycloak server as the authorization server.\r\nI&#39;ve made a classic configuration of spring security : \r\n\r\n    @Configuration\r\n    @EnableWebFluxSecurity\r\n    public class SecurityConfiguration {\r\n    \t@Bean\r\n    \tpublic SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n    \t\thttp.authorizeExchange(exchanges -&gt; exchanges.anyExchange().authenticated())\r\n    \t\t.oauth2Login(withDefaults())\r\n    \t\t\t.csrf().disable()\r\n    \t\t\t;\r\n    \t\treturn http.build();\r\n    \t}\r\n    }\r\n\r\nThe Gateway is configured with TokenRelay as a default filter. It works fine.\r\n\r\nThe problem I get is that when I make a XHR request, to call an API mainly, if no session exists or is expired, the gateway will respond with a redirect to the login page.\r\nThis is fine when the request is made using the browser but not with an ajax request as I can&#39;t distinguish a 302 because I&#39;m not authenticated from a regular 302.\r\n\r\nI know that it&#39;s the expected behavior from spring security (see https://github.com/spring-projects/spring-security/issues/9266). But how can I change this behavior to send at least a 401 for an non authenticated XHR?\r\n\r\nThanks!\r\n","title":"Spring security oauth2 login / spring cloud gateway sends 302 with XHR","body":"<p>I'm developing a SPA application (angular) with a BFF using spring cloud gateway configured as an oauth2 client with spring security and a keycloak server as the authorization server.\nI've made a classic configuration of spring security :</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\npublic class SecurityConfiguration {\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n        http.authorizeExchange(exchanges -&gt; exchanges.anyExchange().authenticated())\n        .oauth2Login(withDefaults())\n            .csrf().disable()\n            ;\n        return http.build();\n    }\n}\n</code></pre>\n<p>The Gateway is configured with TokenRelay as a default filter. It works fine.</p>\n<p>The problem I get is that when I make a XHR request, to call an API mainly, if no session exists or is expired, the gateway will respond with a redirect to the login page.\nThis is fine when the request is made using the browser but not with an ajax request as I can't distinguish a 302 because I'm not authenticated from a regular 302.</p>\n<p>I know that it's the expected behavior from spring security (see <a href=\"https://github.com/spring-projects/spring-security/issues/9266\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/issues/9266</a>). But how can I change this behavior to send at least a 401 for an non authenticated XHR?</p>\n<p>Thanks!</p>\n"},{"tags":["java","database","mongodb","spring-boot","mongotemplate"],"answers":[{"comments":[{"owner":{"account_id":1122347,"reputation":35187,"user_id":1110423,"accept_rate":70,"display_name":"Alex Blex"},"score":0,"creation_date":1693837358,"post_id":77038148,"comment_id":135809212,"body_markdown":"Worth mentioning that [mongodump](https://www.mongodb.com/docs/database-tools/mongodump/) will make a binary dump - great for restoring data, but is not exactly a text file as OP asked. mongoexport would be more suitable. It will lose bson types but will produce a text-ish json file.","body":"Worth mentioning that <a href=\"https://www.mongodb.com/docs/database-tools/mongodump/\" rel=\"nofollow noreferrer\">mongodump</a> will make a binary dump - great for restoring data, but is not exactly a text file as OP asked. mongoexport would be more suitable. It will lose bson types but will produce a text-ish json file."},{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1693862313,"post_id":77038148,"comment_id":135812997,"body_markdown":"Is there a java implementation of ```mongoexport``` ? I am trying to do this in spring boot&#39;s mongoTemplate. I could not find any direct implementations of it","body":"Is there a java implementation of <code>mongoexport</code> ? I am trying to do this in spring boot&#39;s mongoTemplate. I could not find any direct implementations of it"},{"owner":{"account_id":10179875,"reputation":452,"user_id":7517101,"display_name":"Waged"},"score":0,"creation_date":1693863190,"post_id":77038148,"comment_id":135813104,"body_markdown":"have a look here may be it&#39;s helpful : https://stackoverflow.com/questions/43979638/how-to-use-mongoexport-command-in-a-java-program","body":"have a look here may be it&#39;s helpful : <a href=\"https://stackoverflow.com/questions/43979638/how-to-use-mongoexport-command-in-a-java-program\" title=\"how to use mongoexport command in a java program\">stackoverflow.com/questions/43979638/&hellip;</a>"},{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1694005880,"post_id":77038148,"comment_id":135834277,"body_markdown":"This requires the mongoexport executable file installed on the server. Since the app I am working on needs to be deployed, I need a more flexible solution for the same. Is there any way to dynamically create connection to mongo collections by using just the collection name?","body":"This requires the mongoexport executable file installed on the server. Since the app I am working on needs to be deployed, I need a more flexible solution for the same. Is there any way to dynamically create connection to mongo collections by using just the collection name?"}],"tags":[],"owner":{"account_id":10179875,"reputation":452,"user_id":7517101,"display_name":"Waged"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693852257,"creation_date":1693834155,"answer_id":77038148,"question_id":77038106,"body_markdown":"Backups of MongoDB collections can be done in several ways, all depend on your specific requirements and how big the project is and the tools you prefer to use.\r\nHere&#39;s my approach to achieve this task:\r\n\r\nUse MongoDB Utilities:\r\n You can run it from the command line to create backups of specified collections or the entire database.\r\n\r\n    mongodump --db your_database_name --collection collectionX --out /path/to/backup/directory\r\n\r\nYou can write a script in your preferred language to automate this process by iterating over the list of collections to back up.\r\n\r\ni use python script like this : \r\n\r\n\r\n    from pymongo import MongoClient\r\n    \r\n    client = MongoClient(&#39;mongodb://localhost:27017&#39;)\r\n    db = client.your_database_name\r\n    \r\n    collections_to_backup = [&quot;collection1&quot;, &quot;collection2&quot;, &quot;collection3&quot;]\r\n    \r\n    for collection_name in collections_to_backup:\r\n        collection = db[collection_name]\r\n        cursor = collection.find()\r\n    \r\n        with open(f&quot;{collection_name}.txt&quot;, &quot;w&quot;) as file:\r\n            for document in cursor:\r\n                file.write(str(document) + &quot;\\n&quot;)","title":"What is the best way to take backups of mongo collections?","body":"<p>Backups of MongoDB collections can be done in several ways, all depend on your specific requirements and how big the project is and the tools you prefer to use.\nHere's my approach to achieve this task:</p>\n<p>Use MongoDB Utilities:\nYou can run it from the command line to create backups of specified collections or the entire database.</p>\n<pre><code>mongodump --db your_database_name --collection collectionX --out /path/to/backup/directory\n</code></pre>\n<p>You can write a script in your preferred language to automate this process by iterating over the list of collections to back up.</p>\n<p>i use python script like this :</p>\n<pre><code>from pymongo import MongoClient\n\nclient = MongoClient('mongodb://localhost:27017')\ndb = client.your_database_name\n\ncollections_to_backup = [&quot;collection1&quot;, &quot;collection2&quot;, &quot;collection3&quot;]\n\nfor collection_name in collections_to_backup:\n    collection = db[collection_name]\n    cursor = collection.find()\n\n    with open(f&quot;{collection_name}.txt&quot;, &quot;w&quot;) as file:\n        for document in cursor:\n            file.write(str(document) + &quot;\\n&quot;)\n</code></pre>\n"}],"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693852257,"creation_date":1693833853,"question_id":77038106,"body_markdown":"I need to write a function to take up a backup of mongo collections that would be in a configurable list. \r\n\r\n```String listOfCollectionsToBackup = &quot;collection1,collection2,collection3&quot;;```\r\n\r\nI need a way to fetch all the data from these tables and write it in a text file. The current way I am doing this is checking for the collection name and having a switch case to access various classes defined.\r\n\r\n```\r\n@Autowired\r\nMongoTemplate mongoTemplate;\r\n\r\n// some code\r\n\r\nfor(String collection : listOfCollectionsToBackup.split(&quot;,&quot;){\r\n   switch(collection){\r\n      case &quot;collection1&quot; : \r\n         mongoTemplate.findAll(Collection1.class); \r\n         //write data to file\r\n\r\n      case &quot;collection2&quot; : \r\n         mongoTemplate.findAll(Collection2.class); \r\n         //write data to file\r\n\r\n      case &quot;collection3&quot; : \r\n         mongoTemplate.findAll(Collection1.class); \r\n         //write data to file\r\n\r\n      case &quot;collection3&quot; : \r\n         //error message\r\n   }\r\n}\r\n```\r\nSince  I indend to have the `listOfCollectionsToBackup` is intended to be configurable and I plan to have new collections not yet created, I want a way to do it as generically as possible. \r\n\r\nI am using Springboot version 2.4.2\r\nAnd I am using spring-boot&#39;s MongoTemplate to access the DB.\r\n\r\nWhat is the most efficient way to do this? Any help is appreciated. Thanks! ","title":"What is the best way to take backups of mongo collections?","body":"<p>I need to write a function to take up a backup of mongo collections that would be in a configurable list.</p>\n<p><code>String listOfCollectionsToBackup = &quot;collection1,collection2,collection3&quot;;</code></p>\n<p>I need a way to fetch all the data from these tables and write it in a text file. The current way I am doing this is checking for the collection name and having a switch case to access various classes defined.</p>\n<pre><code>@Autowired\nMongoTemplate mongoTemplate;\n\n// some code\n\nfor(String collection : listOfCollectionsToBackup.split(&quot;,&quot;){\n   switch(collection){\n      case &quot;collection1&quot; : \n         mongoTemplate.findAll(Collection1.class); \n         //write data to file\n\n      case &quot;collection2&quot; : \n         mongoTemplate.findAll(Collection2.class); \n         //write data to file\n\n      case &quot;collection3&quot; : \n         mongoTemplate.findAll(Collection1.class); \n         //write data to file\n\n      case &quot;collection3&quot; : \n         //error message\n   }\n}\n</code></pre>\n<p>Since  I indend to have the <code>listOfCollectionsToBackup</code> is intended to be configurable and I plan to have new collections not yet created, I want a way to do it as generically as possible.</p>\n<p>I am using Springboot version 2.4.2\nAnd I am using spring-boot's MongoTemplate to access the DB.</p>\n<p>What is the most efficient way to do this? Any help is appreciated. Thanks!</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1693832809,"post_id":77037923,"comment_id":135808308,"body_markdown":"If this code is outside of the TableModel class, then you should not be calling `fireTableDataChanged()` directly. This should only be called from within the model itself.","body":"If this code is outside of the TableModel class, then you should not be calling <code>fireTableDataChanged()</code> directly. This should only be called from within the model itself."},{"owner":{"account_id":27566231,"reputation":27,"user_id":21038368,"display_name":"wydra__"},"score":0,"creation_date":1693832870,"post_id":77037923,"comment_id":135808321,"body_markdown":"It is in subclass of AbstractTableModel class","body":"It is in subclass of AbstractTableModel class"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1693835281,"post_id":77037923,"comment_id":135808801,"body_markdown":"Note that the answer to your question may have been generated by ChatGPT. Be wary of it.","body":"Note that the answer to your question may have been generated by ChatGPT. Be wary of it."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1693836707,"post_id":77037923,"comment_id":135809095,"body_markdown":"@wydra__ *It is in subclass of AbstractTableModel class * - then your subclass must be invoking the appropriate fireXXX(...) method.","body":"@wydra__ *It is in subclass of AbstractTableModel class * - then your subclass must be invoking the appropriate fireXXX(...) method."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693850722,"creation_date":1693850722,"answer_id":77039835,"question_id":77037923,"body_markdown":"A table model should always call the appropriate fire method (fireTableDataChanged, fireTableRowsUpdated, fireTableRowsInserted, etc.).  Doing so will tell the JTable to repaint the affected cells.\r\n\r\nHowever, JTable (and all Swing components) may repaint themselves for other reasons.  Mouse events, including just moving the mouse over the table, may trigger repainting.  Moving or deiconifying the window may cause it repaint.  Scrolling a JTable may cause it to repaint.\r\n\r\nWhile you have found a specific set of conditions where calling fireTableDataChanged was not needed, other users will not be so lucky.  If you call fireTableDataChanged, your table will update properly for everyone who runs your program.\r\n","title":"fireTableDataChanged() java","body":"<p>A table model should always call the appropriate fire method (fireTableDataChanged, fireTableRowsUpdated, fireTableRowsInserted, etc.).  Doing so will tell the JTable to repaint the affected cells.</p>\n<p>However, JTable (and all Swing components) may repaint themselves for other reasons.  Mouse events, including just moving the mouse over the table, may trigger repainting.  Moving or deiconifying the window may cause it repaint.  Scrolling a JTable may cause it to repaint.</p>\n<p>While you have found a specific set of conditions where calling fireTableDataChanged was not needed, other users will not be so lucky.  If you call fireTableDataChanged, your table will update properly for everyone who runs your program.</p>\n"}],"owner":{"account_id":27566231,"reputation":27,"user_id":21038368,"display_name":"wydra__"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77039835,"answer_count":1,"score":0,"last_activity_date":1693852142,"creation_date":1693832448,"question_id":77037923,"body_markdown":"Why does my model update the JTable view even if I do not call the fireTableDataChanged() ? Is this normal behaviour?\r\n\r\n    @Override\r\n    public void updateGUI(GUIUpdateEvent obj)\r\n    {\r\n        System.out.println(&quot;updategui&quot;);\r\n        for (int i = 0; i &lt; 8; i++)\r\n        {\r\n            for (int j = 0; j &lt; 8; j++)\r\n            {\r\n                data[i][j] = obj.getBoard()[i][j].getCurrentPawnOnField().getChessIcon();\r\n            }\r\n        }\r\n        //fireTableDataChanged();\r\n    }","title":"fireTableDataChanged() java","body":"<p>Why does my model update the JTable view even if I do not call the fireTableDataChanged() ? Is this normal behaviour?</p>\n<pre><code>@Override\npublic void updateGUI(GUIUpdateEvent obj)\n{\n    System.out.println(&quot;updategui&quot;);\n    for (int i = 0; i &lt; 8; i++)\n    {\n        for (int j = 0; j &lt; 8; j++)\n        {\n            data[i][j] = obj.getBoard()[i][j].getCurrentPawnOnField().getChessIcon();\n        }\n    }\n    //fireTableDataChanged();\n}\n</code></pre>\n"},{"tags":["java","appium","adb","emulation","bluestacks"],"owner":{"account_id":29356147,"reputation":3,"user_id":22492048,"display_name":"duta chaligava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693851673,"creation_date":1693851673,"question_id":77039898,"body_markdown":"I&#39;m trying to run my appium test on Bluestacks, but it does not runs, not by code not even appium inspector can connect,\r\n\r\nhere are my desired capcabilities\r\n\r\n```\r\n\r\n\t\tdc.setCapability(&quot;deviceName&quot;, &quot;ONEPLUS 10 PRO&quot;);\r\n\t\t\r\n\t\tdc.setCapability(&quot;udid&quot;, &quot;emulator-5554&quot;);\r\n\t\t\r\n\t\tdc.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\n\r\n//\t\tdc.setCapability(&quot;androidVersion&quot;, &quot;14&quot;);\r\n\t\t\r\n\t\tdc.setCapability(&quot;appPackage&quot;, &quot;com.applisto.appcloner&quot;);\r\n\t\t\r\n\t\tdc.setCapability(&quot;appActivity&quot;, &quot;com.applisto.appcloner.activity.MainActivity&quot;);\t\r\n\t\t\r\n\t\tdc.setCapability(&quot;autoGrantPermissions&quot;, &quot;true&quot;);\r\n\t\t\r\n\t\t//dc.setCapability(&quot;noReset&quot;,true);\r\n\t\t\r\n\t\tCheck();\r\n\t\t\r\n\t\tdriver = new AndroidDriver(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;) , dc);\r\n```\r\n\r\nAndroid Debug Bridge is enabled in Bluestacks emulator.\r\n\r\n\r\nhere is log \r\n\r\n```\r\nFAILED CONFIGURATION: @BeforeTest appiumtests.appiumtest.setup\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: zipAlignApk failed. Original error: Command &#39;C:\\\\Users\\\\chali\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\build-tools\\\\33.0.1\\\\zipalign.exe -f 4 C:\\\\Users\\\\chali\\\\AppData\\\\Local\\\\Programs\\\\Appium\\\\resources\\\\app\\\\node_modules\\\\appium\\\\node_modules\\\\appium-uiautomator2-server\\\\apks\\\\appium-uiautomator2-server-debug-androidTest.apk C:\\\\Users\\\\chali\\\\AppData\\\\Local\\\\Temp\\\\202384-3480-1esyamz.mmuh\\\\appium.tmp&#39; exited with code 1. Stdout: &#39;&#39;; Stderr: &#39;Unable to open &#39;C:\\Users\\chali\\AppData\\Local\\Programs\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-uiautomator2-server\\apks\\appium-uiautomator2-server-debug-androidTest.apk&#39; as zip archive\r\n&#39; \r\nHost info: host: &#39;DESKTOP-UO09GDH&#39;, ip: &#39;172.20.10.5&#39;\r\nBuild info: version: &#39;4.11.0&#39;, revision: &#39;040bc5406b&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;19.0.2&#39;\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCommand: [null, newSession {capabilities=[{appium:appActivity=com.applisto.appcloner.activity.MainActivity, appium:appPackage=com.applisto.appcloner, appium:autoGrantPermissions=true, appium:deviceName=ONEPLUS 10 PRO, platformName=ANDROID, appium:udid=localhost:5555}], desiredCapabilities=Capabilities {appActivity: com.applisto.appcloner.acti..., appPackage: com.applisto.appcloner, autoGrantPermissions: true, deviceName: ONEPLUS 10 PRO, platformName: ANDROID, udid: localhost:5555}}]\r\nCapabilities {appActivity: com.applisto.appcloner.acti..., appPackage: com.applisto.appcloner, autoGrantPermissions: true, deviceName: ONEPLUS 10 PRO, platformName: ANDROID, udid: localhost:5555}\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:140)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:133)\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:182)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:250)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\r\n\tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:274)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:159)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:89)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:101)\r\n\tat io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:113)\r\n\tat appiumtests.appiumtest.setup(appiumtest.java:53)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\r\n\tat org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:390)\r\n\tat org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:325)\r\n\tat org.testng.TestRunner.invokeTestConfigurations(TestRunner.java:663)\r\n\tat org.testng.TestRunner.beforeRun(TestRunner.java:652)\r\n\tat org.testng.TestRunner.run(TestRunner.java:614)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:336)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1114)\r\n\tat org.testng.TestNG.run(TestNG.java:1082)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\nSKIPPED: appiumtests.appiumtest.testAppCloner\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: zipAlignApk failed. Original error: Command &#39;C:\\\\Users\\\\chali\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\build-tools\\\\33.0.1\\\\zipalign.exe -f 4 C:\\\\Users\\\\chali\\\\AppData\\\\Local\\\\Programs\\\\Appium\\\\resources\\\\app\\\\node_modules\\\\appium\\\\node_modules\\\\appium-uiautomator2-server\\\\apks\\\\appium-uiautomator2-server-debug-androidTest.apk C:\\\\Users\\\\chali\\\\AppData\\\\Local\\\\Temp\\\\202384-3480-1esyamz.mmuh\\\\appium.tmp&#39; exited with code 1. Stdout: &#39;&#39;; Stderr: &#39;Unable to open &#39;C:\\Users\\chali\\AppData\\Local\\Programs\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-uiautomator2-server\\apks\\appium-uiautomator2-server-debug-androidTest.apk&#39; as zip archive\r\n&#39; \r\nHost info: host: &#39;DESKTOP-UO09GDH&#39;, ip: &#39;172.20.10.5&#39;\r\nBuild info: version: &#39;4.11.0&#39;, revision: &#39;040bc5406b&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;19.0.2&#39;\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCommand: [null, newSession {capabilities=[{appium:appActivity=com.applisto.appcloner.activity.MainActivity, appium:appPackage=com.applisto.appcloner, appium:autoGrantPermissions=true, appium:deviceName=ONEPLUS 10 PRO, platformName=ANDROID, appium:udid=localhost:5555}], desiredCapabilities=Capabilities {appActivity: com.applisto.appcloner.acti..., appPackage: com.applisto.appcloner, autoGrantPermissions: true, deviceName: ONEPLUS 10 PRO, platformName: ANDROID, udid: localhost:5555}}]\r\nCapabilities {appActivity: com.applisto.appcloner.acti..., appPackage: com.applisto.appcloner, autoGrantPermissions: true, deviceName: ONEPLUS 10 PRO, platformName: ANDROID, udid: localhost:5555}\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:140)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:133)\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:182)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:250)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\r\n\tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:274)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:159)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:89)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:101)\r\n\tat io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:113)\r\n\tat appiumtests.appiumtest.setup(appiumtest.java:53)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\r\n\tat org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:390)\r\n\tat org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:325)\r\n\tat org.testng.TestRunner.invokeTestConfigurations(TestRunner.java:663)\r\n\tat org.testng.TestRunner.beforeRun(TestRunner.java:652)\r\n\tat org.testng.TestRunner.run(TestRunner.java:614)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:336)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1114)\r\n\tat org.testng.TestNG.run(TestNG.java:1082)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\n```\r\n\r\n\r\n\r\nI checked adb connect and it&#39;s working.\r\nadb devices shows bluestacks but still cannot connect","title":"Appium Java Test On BlueStacks 10","body":"<p>I'm trying to run my appium test on Bluestacks, but it does not runs, not by code not even appium inspector can connect,</p>\n<p>here are my desired capcabilities</p>\n<pre><code>\n        dc.setCapability(&quot;deviceName&quot;, &quot;ONEPLUS 10 PRO&quot;);\n        \n        dc.setCapability(&quot;udid&quot;, &quot;emulator-5554&quot;);\n        \n        dc.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\n\n//      dc.setCapability(&quot;androidVersion&quot;, &quot;14&quot;);\n        \n        dc.setCapability(&quot;appPackage&quot;, &quot;com.applisto.appcloner&quot;);\n        \n        dc.setCapability(&quot;appActivity&quot;, &quot;com.applisto.appcloner.activity.MainActivity&quot;);    \n        \n        dc.setCapability(&quot;autoGrantPermissions&quot;, &quot;true&quot;);\n        \n        //dc.setCapability(&quot;noReset&quot;,true);\n        \n        Check();\n        \n        driver = new AndroidDriver(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;) , dc);\n</code></pre>\n<p>Android Debug Bridge is enabled in Bluestacks emulator.</p>\n<p>here is log</p>\n<pre><code>FAILED CONFIGURATION: @BeforeTest appiumtests.appiumtest.setup\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: zipAlignApk failed. Original error: Command 'C:\\\\Users\\\\chali\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\build-tools\\\\33.0.1\\\\zipalign.exe -f 4 C:\\\\Users\\\\chali\\\\AppData\\\\Local\\\\Programs\\\\Appium\\\\resources\\\\app\\\\node_modules\\\\appium\\\\node_modules\\\\appium-uiautomator2-server\\\\apks\\\\appium-uiautomator2-server-debug-androidTest.apk C:\\\\Users\\\\chali\\\\AppData\\\\Local\\\\Temp\\\\202384-3480-1esyamz.mmuh\\\\appium.tmp' exited with code 1. Stdout: ''; Stderr: 'Unable to open 'C:\\Users\\chali\\AppData\\Local\\Programs\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-uiautomator2-server\\apks\\appium-uiautomator2-server-debug-androidTest.apk' as zip archive\n' \nHost info: host: 'DESKTOP-UO09GDH', ip: '172.20.10.5'\nBuild info: version: '4.11.0', revision: '040bc5406b'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '19.0.2'\nDriver info: io.appium.java_client.android.AndroidDriver\nCommand: [null, newSession {capabilities=[{appium:appActivity=com.applisto.appcloner.activity.MainActivity, appium:appPackage=com.applisto.appcloner, appium:autoGrantPermissions=true, appium:deviceName=ONEPLUS 10 PRO, platformName=ANDROID, appium:udid=localhost:5555}], desiredCapabilities=Capabilities {appActivity: com.applisto.appcloner.acti..., appPackage: com.applisto.appcloner, autoGrantPermissions: true, deviceName: ONEPLUS 10 PRO, platformName: ANDROID, udid: localhost:5555}}]\nCapabilities {appActivity: com.applisto.appcloner.acti..., appPackage: com.applisto.appcloner, autoGrantPermissions: true, deviceName: ONEPLUS 10 PRO, platformName: ANDROID, udid: localhost:5555}\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:140)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:133)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\n    at io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:182)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:250)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:274)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:159)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:89)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:101)\n    at io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:113)\n    at appiumtests.appiumtest.setup(appiumtest.java:53)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:390)\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:325)\n    at org.testng.TestRunner.invokeTestConfigurations(TestRunner.java:663)\n    at org.testng.TestRunner.beforeRun(TestRunner.java:652)\n    at org.testng.TestRunner.run(TestRunner.java:614)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:336)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\n    at org.testng.TestNG.runSuites(TestNG.java:1114)\n    at org.testng.TestNG.run(TestNG.java:1082)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n\nSKIPPED: appiumtests.appiumtest.testAppCloner\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: zipAlignApk failed. Original error: Command 'C:\\\\Users\\\\chali\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\build-tools\\\\33.0.1\\\\zipalign.exe -f 4 C:\\\\Users\\\\chali\\\\AppData\\\\Local\\\\Programs\\\\Appium\\\\resources\\\\app\\\\node_modules\\\\appium\\\\node_modules\\\\appium-uiautomator2-server\\\\apks\\\\appium-uiautomator2-server-debug-androidTest.apk C:\\\\Users\\\\chali\\\\AppData\\\\Local\\\\Temp\\\\202384-3480-1esyamz.mmuh\\\\appium.tmp' exited with code 1. Stdout: ''; Stderr: 'Unable to open 'C:\\Users\\chali\\AppData\\Local\\Programs\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-uiautomator2-server\\apks\\appium-uiautomator2-server-debug-androidTest.apk' as zip archive\n' \nHost info: host: 'DESKTOP-UO09GDH', ip: '172.20.10.5'\nBuild info: version: '4.11.0', revision: '040bc5406b'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '19.0.2'\nDriver info: io.appium.java_client.android.AndroidDriver\nCommand: [null, newSession {capabilities=[{appium:appActivity=com.applisto.appcloner.activity.MainActivity, appium:appPackage=com.applisto.appcloner, appium:autoGrantPermissions=true, appium:deviceName=ONEPLUS 10 PRO, platformName=ANDROID, appium:udid=localhost:5555}], desiredCapabilities=Capabilities {appActivity: com.applisto.appcloner.acti..., appPackage: com.applisto.appcloner, autoGrantPermissions: true, deviceName: ONEPLUS 10 PRO, platformName: ANDROID, udid: localhost:5555}}]\nCapabilities {appActivity: com.applisto.appcloner.acti..., appPackage: com.applisto.appcloner, autoGrantPermissions: true, deviceName: ONEPLUS 10 PRO, platformName: ANDROID, udid: localhost:5555}\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:140)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:133)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\n    at io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:182)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:250)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:274)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:159)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:89)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:101)\n    at io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:113)\n    at appiumtests.appiumtest.setup(appiumtest.java:53)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:390)\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:325)\n    at org.testng.TestRunner.invokeTestConfigurations(TestRunner.java:663)\n    at org.testng.TestRunner.beforeRun(TestRunner.java:652)\n    at org.testng.TestRunner.run(TestRunner.java:614)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:336)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\n    at org.testng.TestNG.runSuites(TestNG.java:1114)\n    at org.testng.TestNG.run(TestNG.java:1082)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n\n</code></pre>\n<p>I checked adb connect and it's working.\nadb devices shows bluestacks but still cannot connect</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1693785144,"post_id":77034415,"comment_id":135802421,"body_markdown":"Why are you linking to Spring security Version 4 documentation, Spring Security 4 was released 2015, thats 8 years ago. Second, you clearly have no understanding of the purpose of the different classes, we cant teach you spring security so i suggest you actually read the official docs located on spring securitys webpage before asking here. Good luck, downvoted","body":"Why are you linking to Spring security Version 4 documentation, Spring Security 4 was released 2015, thats 8 years ago. Second, you clearly have no understanding of the purpose of the different classes, we cant teach you spring security so i suggest you actually read the official docs located on spring securitys webpage before asking here. Good luck, downvoted"},{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":0,"creation_date":1693819024,"post_id":77034415,"comment_id":135805773,"body_markdown":"Don&#39;t try to do that. The principal should be the unique username for this style of authentication. Spring will create a `UserDetails` implementation for you. You may then inject an `Authentication` object as a parameter to your REST controller method and use the `getDetails()` method to get the `UserDetails` in your service code (it will need to be cast to `UserDetails` because the API returns an `Object`).","body":"Don&#39;t try to do that. The principal should be the unique username for this style of authentication. Spring will create a <code>UserDetails</code> implementation for you. You may then inject an <code>Authentication</code> object as a parameter to your REST controller method and use the <code>getDetails()</code> method to get the <code>UserDetails</code> in your service code (it will need to be cast to <code>UserDetails</code> because the API returns an <code>Object</code>)."},{"owner":{"account_id":3570177,"reputation":199,"user_id":3085387,"display_name":"Prabagaran Sellamuthu"},"score":0,"creation_date":1693824339,"post_id":77034415,"comment_id":135806700,"body_markdown":"In my tool for Authentication  and Authorization, I use this class UsernamePasswordAuthenticationToken now. using onceperfliter I use spring security as to set the authticaiotn object in secuirtycontext. its working fine. but how to send all user details and receive in tool to set the profile. like email, first name and last name","body":"In my tool for Authentication  and Authorization, I use this class UsernamePasswordAuthenticationToken now. using onceperfliter I use spring security as to set the authticaiotn object in secuirtycontext. its working fine. but how to send all user details and receive in tool to set the profile. like email, first name and last name"},{"owner":{"account_id":3570177,"reputation":199,"user_id":3085387,"display_name":"Prabagaran Sellamuthu"},"score":0,"creation_date":1693824620,"post_id":77034415,"comment_id":135806759,"body_markdown":"how to set email , lastnmae and first name to user pro\npublic TokenTransfer authenticate(@RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String password) {\n  UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, password);\n  Authentication authentication = authManager.authenticate(authenticationToken);\n  SecurityContextHolder.getContext().setAuthentication(authentication);\n  UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n  return new TokenTransfer(TokenUtils.createToken(userDetails));","body":"how to set email , lastnmae and first name to user pro public TokenTransfer authenticate(@RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String password) {   UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, password);   Authentication authentication = authManager.authenticate(authenticationToken);   SecurityContextHolder.getContext().setAuthentication(authent&zwnj;&#8203;ication);   UserDetails userDetails = userDetailsService.loadUserByUsername(username);   return new TokenTransfer(TokenUtils.createToken(userDetails));"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1693840642,"post_id":77034415,"comment_id":135809894,"body_markdown":"please do NOT post code in comments, cant you see that is unreadable? if you wish to post code, edit your question and use the code formatting tools.","body":"please do NOT post code in comments, cant you see that is unreadable? if you wish to post code, edit your question and use the code formatting tools."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1693840704,"post_id":77034415,"comment_id":135809907,"body_markdown":"Also you are aware that giving out JWTs to browsers is a huge security risk and should never be done?","body":"Also you are aware that giving out JWTs to browsers is a huge security risk and should never be done?"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693851240,"creation_date":1693851240,"answer_id":77039864,"question_id":77034415,"body_markdown":"I don&#39;t see any problem. Internally spring security also does the same as what you are doing in `DaoAuthenticationProvider`.\r\n\r\nTo verify , you can see the code details starting from [this][1]. The `principalToReturn` is actually a `UserDetails` object which will be finally used as the `principal` parameter to create a  `UsernamePasswordAuthenticationToken`\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/1a45602dbb7b71ddb66bb975bd83a12ee1e1a4de/core/src/main/java/org/springframework/security/authentication/dao/AbstractUserDetailsAuthenticationProvider.java#L164C10-L164C27","title":"How to Send UserDetails Instead of Principal in UsernamePasswordAuthenticationToken","body":"<p>I don't see any problem. Internally spring security also does the same as what you are doing in <code>DaoAuthenticationProvider</code>.</p>\n<p>To verify , you can see the code details starting from <a href=\"https://github.com/spring-projects/spring-security/blob/1a45602dbb7b71ddb66bb975bd83a12ee1e1a4de/core/src/main/java/org/springframework/security/authentication/dao/AbstractUserDetailsAuthenticationProvider.java#L164C10-L164C27\" rel=\"nofollow noreferrer\">this</a>. The <code>principalToReturn</code> is actually a <code>UserDetails</code> object which will be finally used as the <code>principal</code> parameter to create a  <code>UsernamePasswordAuthenticationToken</code></p>\n"}],"owner":{"account_id":3570177,"reputation":199,"user_id":3085387,"display_name":"Prabagaran Sellamuthu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1693851240,"creation_date":1693781788,"question_id":77034415,"body_markdown":"I&#39;m currently working on implementing authentication in my application, and I&#39;m using the UsernamePasswordAuthenticationToken class to create an authentication object. However, I&#39;m wondering how I can send the UserDetails object instead of the principal parameter in the UsernamePasswordAuthenticationToken constructor.\r\nhttps://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/authentication/UsernamePasswordAuthenticationToken.html\r\n\r\n\r\n\r\npublic Authentication createAuthentication() {\r\n\r\n    public Authentication createAuthentication() {\r\n        UserDetails userDetails = // Get the UserDetails for the authenticated user\r\n        Object credentials = // Get the user&#39;s credentials\r\n    \r\n        Collection&lt;? extends GrantedAuthority&gt; authorities = // Get the user&#39;s authorities\r\n    \r\n        return new UsernamePasswordAuthenticationToken(userDetails, credentials, authorities);\r\n    }\r\n\r\n\r\nIn the code above, I&#39;m trying to pass the UserDetails object as the principal. Is this the correct way to send the user details, or should I be doing something differently? I want to make sure I&#39;m following best practices for authentication in my application.\r\n\r\nAny guidance or suggestions on how to properly send the UserDetails object in place of the principal would be greatly appreciated. Thank you!\r\n","title":"How to Send UserDetails Instead of Principal in UsernamePasswordAuthenticationToken","body":"<p>I'm currently working on implementing authentication in my application, and I'm using the UsernamePasswordAuthenticationToken class to create an authentication object. However, I'm wondering how I can send the UserDetails object instead of the principal parameter in the UsernamePasswordAuthenticationToken constructor.\n<a href=\"https://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/authentication/UsernamePasswordAuthenticationToken.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/authentication/UsernamePasswordAuthenticationToken.html</a></p>\n<p>public Authentication createAuthentication() {</p>\n<pre><code>public Authentication createAuthentication() {\n    UserDetails userDetails = // Get the UserDetails for the authenticated user\n    Object credentials = // Get the user's credentials\n\n    Collection&lt;? extends GrantedAuthority&gt; authorities = // Get the user's authorities\n\n    return new UsernamePasswordAuthenticationToken(userDetails, credentials, authorities);\n}\n</code></pre>\n<p>In the code above, I'm trying to pass the UserDetails object as the principal. Is this the correct way to send the user details, or should I be doing something differently? I want to make sure I'm following best practices for authentication in my application.</p>\n<p>Any guidance or suggestions on how to properly send the UserDetails object in place of the principal would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":5880135,"reputation":10334,"user_id":4629810,"accept_rate":88,"display_name":"Mircea"},"score":0,"creation_date":1454561586,"post_id":35192402,"comment_id":58102557,"body_markdown":"http://docs.aws.amazon.com/lambda/latest/dg/java-create-jar-pkg-maven-no-ide.html","body":"<a href=\"http://docs.aws.amazon.com/lambda/latest/dg/java-create-jar-pkg-maven-no-ide.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/lambda/latest/dg/&hellip;</a>"},{"owner":{"account_id":5880135,"reputation":10334,"user_id":4629810,"accept_rate":88,"display_name":"Mircea"},"score":1,"creation_date":1454561651,"post_id":35192402,"comment_id":58102586,"body_markdown":"http://docs.aws.amazon.com/lambda/latest/dg/create-deployment-pkg-zip-java.html","body":"<a href=\"http://docs.aws.amazon.com/lambda/latest/dg/create-deployment-pkg-zip-java.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/lambda/latest/dg/&hellip;</a>"},{"owner":{"account_id":5880135,"reputation":10334,"user_id":4629810,"accept_rate":88,"display_name":"Mircea"},"score":0,"creation_date":1454561682,"post_id":35192402,"comment_id":58102592,"body_markdown":"so basically you can either have a jar or a zip with a special structure","body":"so basically you can either have a jar or a zip with a special structure"},{"owner":{"account_id":3061137,"reputation":11230,"user_id":2593745,"accept_rate":58,"display_name":"Arafat Nalkhande"},"score":0,"creation_date":1454564574,"post_id":35192402,"comment_id":58103588,"body_markdown":"Thanks Mircea. I was exactly looking out for http://docs.aws.amazon.com/lambda/latest/dg/create-deployment-pkg-zip-java.html","body":"Thanks Mircea. I was exactly looking out for <a href=\"http://docs.aws.amazon.com/lambda/latest/dg/create-deployment-pkg-zip-java.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/lambda/latest/dg/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":64432,"reputation":65199,"user_id":190201,"accept_rate":83,"display_name":"ataylor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1454608550,"creation_date":1454608550,"answer_id":35208183,"question_id":35192402,"body_markdown":"You should include the dependency jars in a `lib` subdirectory.  If you have a class `mypackage.LambdaFunctionHandler`, the zip file should have this basic structure:\r\n\r\n    .\r\n    |-- mypackage\r\n    |   +-- LambdaFunctionHandler.class\r\n    +-- lib\r\n        |-- myjar1.jar\r\n        +-- myjar2.jar\r\n\r\n","title":"Building AWS Lambda jar","body":"<p>You should include the dependency jars in a <code>lib</code> subdirectory.  If you have a class <code>mypackage.LambdaFunctionHandler</code>, the zip file should have this basic structure:</p>\n\n<pre><code>.\n|-- mypackage\n|   +-- LambdaFunctionHandler.class\n+-- lib\n    |-- myjar1.jar\n    +-- myjar2.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26159163,"reputation":81,"user_id":19845996,"display_name":"The_Real_Epk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693849334,"creation_date":1693846485,"answer_id":77039494,"question_id":35192402,"body_markdown":"You can use the [maven shade plugin](https://maven.apache.org/plugins/maven-shade-plugin/) to build a shaded jar containing all your code and its external dependencies.\r\n\r\nSimply add the following to the build plugins to your pom.xml:\r\n\r\n```xml\r\n\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;!-- Build. --&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.shade.plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n                &lt;filters&gt;\r\n                    &lt;filter&gt;\r\n                        &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;!-- Suppress module-info.class warning--&gt;\r\n                            &lt;exclude&gt;module-info.class&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/filter&gt;\r\n                &lt;/filters&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;shade&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;plugins&gt;\r\n&lt;build&gt;\r\n```\r\n\r\nIf you set &#39;minimizeJar = true&#39;, it will also filter out anything unnecessary for the jar execution, resulting in a smaller file size (which in theory, results in a shorter cold start time when the function is first invoked).","title":"Building AWS Lambda jar","body":"<p>You can use the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">maven shade plugin</a> to build a shaded jar containing all your code and its external dependencies.</p>\n<p>Simply add the following to the build plugins to your pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- Build. --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.shade.plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n                &lt;filters&gt;\n                    &lt;filter&gt;\n                        &lt;artifact&gt;*:*&lt;/artifact&gt;\n                        &lt;excludes&gt;\n                            &lt;!-- Suppress module-info.class warning--&gt;\n                            &lt;exclude&gt;module-info.class&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/filter&gt;\n                &lt;/filters&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;plugins&gt;\n&lt;build&gt;\n</code></pre>\n<p>If you set 'minimizeJar = true', it will also filter out anything unnecessary for the jar execution, resulting in a smaller file size (which in theory, results in a shorter cold start time when the function is first invoked).</p>\n"}],"owner":{"account_id":3061137,"reputation":11230,"user_id":2593745,"accept_rate":58,"display_name":"Arafat Nalkhande"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2343,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35208183,"answer_count":2,"score":3,"last_activity_date":1693849334,"creation_date":1454559351,"question_id":35192402,"body_markdown":"What is the standard practice for creating AWS Lambda jar.\r\n\r\nShould we bundle the dependencies as jars within the zip file or should the dependencies be unjarred and included as classes.\r\n\r\nAs far as I know it is the first option that holds true, but this doubt came to mind when I was following the AWS Tutorial of thumbnails and it eventually created a jar that had classes for dependencies (like Jackson) rather than bundling Jackson jar in the artifact.\r\n\r\nIs there a sample AWS Lambda zip file that I can download and try (the one that has dependencies bundled as .jar files and not as .class files)","title":"Building AWS Lambda jar","body":"<p>What is the standard practice for creating AWS Lambda jar.</p>\n\n<p>Should we bundle the dependencies as jars within the zip file or should the dependencies be unjarred and included as classes.</p>\n\n<p>As far as I know it is the first option that holds true, but this doubt came to mind when I was following the AWS Tutorial of thumbnails and it eventually created a jar that had classes for dependencies (like Jackson) rather than bundling Jackson jar in the artifact.</p>\n\n<p>Is there a sample AWS Lambda zip file that I can download and try (the one that has dependencies bundled as .jar files and not as .class files)</p>\n"},{"tags":["java","spring-boot","redis","spring-cloud-gateway"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1693849740,"post_id":77039703,"comment_id":135811383,"body_markdown":"Spring 2.5 was released in November 2007. I don&#39;t think it supported Java 8.","body":"Spring 2.5 was released in November 2007. I don&#39;t think it supported Java 8."},{"owner":{"account_id":3406665,"reputation":1692,"user_id":2857556,"accept_rate":11,"display_name":"Alpesh Jikadra"},"score":0,"creation_date":1693887150,"post_id":77039703,"comment_id":135814919,"body_markdown":"Yes it supports, because everything else is working with java8","body":"Yes it supports, because everything else is working with java8"}],"owner":{"account_id":3406665,"reputation":1692,"user_id":2857556,"accept_rate":11,"display_name":"Alpesh Jikadra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693848964,"creation_date":1693848964,"question_id":77039703,"body_markdown":"I am trying to implement Request rate limit using Springboot cloud gateway and Redis.\r\n\r\nMy Spring version is **2.5.12**\r\n\r\nspring-data-redis : 2.7.13\r\n\r\nHere is my keyResolver\r\n\r\n    @Override\r\n      public Mono&lt;String&gt; resolve(ServerWebExchange exchange) {\r\n        return Optional.ofNullable(exchange.getRequest().getRemoteAddress())\r\n            .map(InetSocketAddress::getAddress)\r\n            .map(InetAddress::getHostAddress)\r\n            .map(Mono::just)\r\n            .orElse(Mono.empty());\r\n      }\r\n \r\nReactiveStringRedisTemplate as \r\n\r\n    @Bean\r\n      public ReactiveStringRedisTemplate reactiveStringRedisTemplate(){\r\n        return new ReactiveStringRedisTemplate(lettuceConnectionFactory);\r\n      }\r\n\r\nRedisRateLimiter as \r\n\r\n    @Bean\r\n      public RedisRateLimiter redisRateLimiter() {\r\n        return new RedisRateLimiter(10,10,60);//defaultReplenishRate,defaultBurstCapacity,\r\n      }\r\n\r\nNow I am trying to understand what is RedisRateLimiter and how it&#39;s work.\r\n\r\nI want to achieve following things. I tried many things, but not able to understand how it calculate this requests.\r\n\r\n\r\n1. 5 request / minute\r\n2. 7 request / minute\r\n3. 20 request / minute\r\n\r\nCan someone please help me to understand this RedisRatelimiter with example in context of above 3 scenarios ?\r\n\r\nThanks,\r\nAlpesh ","title":"Spring Cloud Implement RateLimit using redis","body":"<p>I am trying to implement Request rate limit using Springboot cloud gateway and Redis.</p>\n<p>My Spring version is <strong>2.5.12</strong></p>\n<p>spring-data-redis : 2.7.13</p>\n<p>Here is my keyResolver</p>\n<pre><code>@Override\n  public Mono&lt;String&gt; resolve(ServerWebExchange exchange) {\n    return Optional.ofNullable(exchange.getRequest().getRemoteAddress())\n        .map(InetSocketAddress::getAddress)\n        .map(InetAddress::getHostAddress)\n        .map(Mono::just)\n        .orElse(Mono.empty());\n  }\n</code></pre>\n<p>ReactiveStringRedisTemplate as</p>\n<pre><code>@Bean\n  public ReactiveStringRedisTemplate reactiveStringRedisTemplate(){\n    return new ReactiveStringRedisTemplate(lettuceConnectionFactory);\n  }\n</code></pre>\n<p>RedisRateLimiter as</p>\n<pre><code>@Bean\n  public RedisRateLimiter redisRateLimiter() {\n    return new RedisRateLimiter(10,10,60);//defaultReplenishRate,defaultBurstCapacity,\n  }\n</code></pre>\n<p>Now I am trying to understand what is RedisRateLimiter and how it's work.</p>\n<p>I want to achieve following things. I tried many things, but not able to understand how it calculate this requests.</p>\n<ol>\n<li>5 request / minute</li>\n<li>7 request / minute</li>\n<li>20 request / minute</li>\n</ol>\n<p>Can someone please help me to understand this RedisRatelimiter with example in context of above 3 scenarios ?</p>\n<p>Thanks,\nAlpesh</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1554052777,"post_id":55443351,"comment_id":97602388,"body_markdown":"What command are you using to compile &amp; run with?","body":"What command are you using to compile &amp; run with?"}],"answers":[{"comments":[{"owner":{"account_id":15649173,"reputation":61,"user_id":11290896,"display_name":"mjuchi"},"score":0,"creation_date":1554193457,"post_id":55455633,"comment_id":97651050,"body_markdown":"Already fixed in extension **Language Support for Java(TM) by Red Hat** [link](https://marketplace.visualstudio.com/items?itemName=redhat.java)","body":"Already fixed in extension <b>Language Support for Java(TM) by Red Hat</b> <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":424735,"reputation":1918,"user_id":804898,"display_name":"Beygi"},"score":1,"creation_date":1555593135,"post_id":55455633,"comment_id":98170364,"body_markdown":"Just installed the latest VSCode and Java extention, ran into the same problem; Adding &quot;vmArgs&quot;: &quot;--enable-preview&quot; in launch.json &gt; configuration, fixed the problem.","body":"Just installed the latest VSCode and Java extention, ran into the same problem; Adding &quot;vmArgs&quot;: &quot;--enable-preview&quot; in launch.json &gt; configuration, fixed the problem."}],"tags":[],"owner":{"account_id":15649173,"reputation":61,"user_id":11290896,"display_name":"mjuchi"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1554123265,"creation_date":1554123265,"answer_id":55455633,"question_id":55443351,"body_markdown":"The issue is connected with Java Debugger extension. I had the same problem and it has been logged in issue log: https://github.com/Microsoft/vscode-java-debug/issues/555\r\n\r\nProblem is only with single file applications like HelloWorld. It is ok if you run maven project.\r\n\r\nMedsonk&#39;s instruction worked for me: https://github.com/Microsoft/vscode-java-debug/issues/555#issuecomment-478464496\r\n\r\n&gt;*summary:&lt;br&gt;\r\n&gt; 1. make sure uninstall jdk8 clean&lt;br&gt;\r\n&gt; 2. install jdk11&lt;br&gt;\r\n&gt; 3. add &quot;vmArgs&quot;: &quot;--enable-preview&quot; in launch.json&lt;br&gt;\r\n&gt; 4. F1, &quot;Java: Clean ……&quot; and &quot;Java: Force ……&quot;&lt;br&gt;\r\n&gt; 5. run standalone file again*&lt;br&gt;","title":"How to solve VScode UnsupportedClassVersionError?","body":"<p>The issue is connected with Java Debugger extension. I had the same problem and it has been logged in issue log: <a href=\"https://github.com/Microsoft/vscode-java-debug/issues/555\" rel=\"noreferrer\">https://github.com/Microsoft/vscode-java-debug/issues/555</a></p>\n\n<p>Problem is only with single file applications like HelloWorld. It is ok if you run maven project.</p>\n\n<p>Medsonk's instruction worked for me: <a href=\"https://github.com/Microsoft/vscode-java-debug/issues/555#issuecomment-478464496\" rel=\"noreferrer\">https://github.com/Microsoft/vscode-java-debug/issues/555#issuecomment-478464496</a></p>\n\n<blockquote>\n  <p><em>summary:<br>\n  1. make sure uninstall jdk8 clean<br>\n  2. install jdk11<br>\n  3. add \"vmArgs\": \"--enable-preview\" in launch.json<br>\n  4. F1, \"Java: Clean ……\" and \"Java: Force ……\"<br>\n  5. run standalone file again</em><br></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":139298,"reputation":25,"user_id":344814,"display_name":"beimuaihui"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1632115238,"creation_date":1632018326,"answer_id":69239837,"question_id":55443351,"body_markdown":"My situation is version conflict between java and javac on Ubuntu;  \r\njust run this code:\r\n```\r\nsudo update-alternatives --config javac\r\n```","title":"How to solve VScode UnsupportedClassVersionError?","body":"<p>My situation is version conflict between java and javac on Ubuntu;<br />\njust run this code:</p>\n<pre><code>sudo update-alternatives --config javac\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21390278,"reputation":1,"user_id":15754475,"display_name":"Kutanagi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693848608,"creation_date":1693848359,"answer_id":77039649,"question_id":55443351,"body_markdown":"1. Uninstall your old Java version. \r\n2. Update JDK Development Kit https://www.oracle.com/java/technologies/downloads\r\n3. Install the new Java version. \r\n\r\nIt&#39;s work for me (I&#39;m using Windows).","title":"How to solve VScode UnsupportedClassVersionError?","body":"<ol>\n<li>Uninstall your old Java version.</li>\n<li>Update JDK Development Kit <a href=\"https://www.oracle.com/java/technologies/downloads\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads</a></li>\n<li>Install the new Java version.</li>\n</ol>\n<p>It's work for me (I'm using Windows).</p>\n"}],"owner":{"account_id":15643214,"reputation":81,"user_id":11286053,"display_name":"rui yang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9262,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1693848608,"creation_date":1554052130,"question_id":55443351,"body_markdown":"### Problem\r\n\r\nWhen i run my HelloWorld, it returns:\r\n\r\n&gt; &quot;java.lang.UnsupportedClassVersionError: HelloWorld has been compiled\r\n&gt; by a more recent version of the Java Runtime (class file version\r\n&gt; 52.65535), this version of the Java Runtime only recognizes class file versions up to 52.0 &quot;\r\n\r\nHow do I solve this problem?\r\n\r\n### Screenshot\r\n\r\n[![enter image description here][1]][1]\r\n\r\n### Code\r\n\r\n    public class HelloWorld{\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;123&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E5L4B.png","title":"How to solve VScode UnsupportedClassVersionError?","body":"<h3>Problem</h3>\n\n<p>When i run my HelloWorld, it returns:</p>\n\n<blockquote>\n  <p>\"java.lang.UnsupportedClassVersionError: HelloWorld has been compiled\n  by a more recent version of the Java Runtime (class file version\n  52.65535), this version of the Java Runtime only recognizes class file versions up to 52.0 \"</p>\n</blockquote>\n\n<p>How do I solve this problem?</p>\n\n<h3>Screenshot</h3>\n\n<p><a href=\"https://i.stack.imgur.com/E5L4B.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/E5L4B.png\" alt=\"enter image description here\"></a></p>\n\n<h3>Code</h3>\n\n<pre><code>public class HelloWorld{\n    public static void main(String[] args) {\n        System.out.println(\"123\");\n    }\n}\n</code></pre>\n"},{"tags":["java","date","datetime","jodatime","date-difference"],"comments":[{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":4,"creation_date":1505496691,"post_id":46244778,"comment_id":79453749,"body_markdown":"What you want is impossible for mathematical reasons. Months have different lengths. So if the addition of one month to either 2017-01-28 or to 2017-01-30 yields the same result 2017-02-28 then the way back is necessarily ambivalent.","body":"What you want is impossible for mathematical reasons. Months have different lengths. So if the addition of one month to either 2017-01-28 or to 2017-01-30 yields the same result 2017-02-28 then the way back is necessarily ambivalent."},{"owner":{"account_id":5730548,"reputation":45,"user_id":6427442,"display_name":"Jay Kelner"},"score":0,"creation_date":1505497452,"post_id":46244778,"comment_id":79454127,"body_markdown":"That&#39;s why the jodatime Interval doesn&#39;t work. A Duration, however, should at least be calculable as absolute time which can be added to any date.","body":"That&#39;s why the jodatime Interval doesn&#39;t work. A Duration, however, should at least be calculable as absolute time which can be added to any date."},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":1,"creation_date":1505497757,"post_id":46244778,"comment_id":79454253,"body_markdown":"Yes, a duration only in precise units like seconds or minutes (I neglect here leap secs) should do the job. But you also use years and months (imprecise units) in your examples. The class `Period` is not a suitable choice for your requirement.","body":"Yes, a duration only in precise units like seconds or minutes (I neglect here leap secs) should do the job. But you also use years and months (imprecise units) in your examples. The class <code>Period</code> is not a suitable choice for your requirement."},{"owner":{"account_id":5730548,"reputation":45,"user_id":6427442,"display_name":"Jay Kelner"},"score":1,"creation_date":1505498070,"post_id":46244778,"comment_id":79454421,"body_markdown":"Right you are, Meno. I will try with joda.time.Duration instead of Period. I&#39;ll answer my question if it works. Thanks for your help.","body":"Right you are, Meno. I will try with joda.time.Duration instead of Period. I&#39;ll answer my question if it works. Thanks for your help."},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1505499953,"post_id":46244778,"comment_id":79455243,"body_markdown":"&quot;I tried to use the solution from a similar StackOverflow question, subtracting one date&#39;s milliseconds from the other, but this can result in an incorrect difference between dates.&quot; Can you give an example?","body":"&quot;I tried to use the solution from a similar StackOverflow question, subtracting one date&#39;s milliseconds from the other, but this can result in an incorrect difference between dates.&quot; Can you give an example?"},{"owner":{"account_id":5730548,"reputation":45,"user_id":6427442,"display_name":"Jay Kelner"},"score":0,"creation_date":1505502702,"post_id":46244778,"comment_id":79456434,"body_markdown":"@RalfKleberhoff, my first code snippet is an example of this.","body":"@RalfKleberhoff, my first code snippet is an example of this."},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1505589639,"post_id":46244778,"comment_id":79478695,"body_markdown":"As far as I see, all your code has in common that you try to express the delta in calendar units like year / month / day / hour and so on. I&#39;d leave the difference as linear seconds or similar, then things are MUCH easier.","body":"As far as I see, all your code has in common that you try to express the delta in calendar units like year / month / day / hour and so on. I&#39;d leave the difference as linear seconds or similar, then things are MUCH easier."}],"answers":[{"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1505498180,"post_id":46245197,"comment_id":79454485,"body_markdown":"Upvote for suggestion of ThreeTen Backport. However, question is technically about full date+time (e.g. `2015-08-29T00:00:00.000Z`), so a more on-point answer would include example of using `Instant` and `Duration`.","body":"Upvote for suggestion of ThreeTen Backport. However, question is technically about full date+time (e.g. <code>2015-08-29T00:00:00.000Z</code>), so a more on-point answer would include example of using <code>Instant</code> and <code>Duration</code>."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1693848353,"creation_date":1505498100,"answer_id":46245197,"question_id":46244778,"body_markdown":"## ThreeTen Backport\r\n\r\nThere are a couple of possibilities using the modern Java date and time API known as JSR-310 or `java.time`. Can you use this with Java 7? Certainly! Get [ThreeTen Backport](http://www.threeten.org/threetenbp/) and start coding.\r\n\r\n## Difference between date-times\r\n\r\n**EDIT:** If you want to perceive your `a` and `b` as points in time, in other words, both dates and times of day, you may use either a suitably small time unit for the difference, or the `Duration` class. Both will work the same. Since `Instant`s have nanosecond precision, calculating a difference in nanos will make sure we don’t lose any precision:\r\n\r\n\t\tInstant a = Instant.parse(&quot;2015-08-29T00:00:00.000Z&quot;);\r\n\t\tInstant b = Instant.parse(&quot;2040-01-01T00:00:00.000Z&quot;);\r\n\t\tlong delta = ChronoUnit.NANOS.between(a, b);\r\n\t\ta = a.plusNanos(delta);\r\n\t\tSystem.out.println(&quot;a = &quot; + a);\r\n\t\tSystem.out.println(&quot;b = &quot; + b);\r\n\t\tSystem.out.println(&quot;delta = &quot; + delta);\r\n\t\tSystem.out.println(&quot;a.equals(b) = &quot; + a.equals(b));\r\n\r\nThis prints\r\n\r\n```none\r\na = 2040-01-01T00:00:00Z\r\nb = 2040-01-01T00:00:00Z\r\ndelta = 768182400000000000\r\na.equals(b) = true\r\n```\r\n\r\nThe `Duration` class is meant for durations in hours, minutes, seconds and fraction of second. You can use it for longer durations, but it doesn’t know about weeks, months or years.\r\n\r\n\t\tDuration delta = Duration.between(a, b);\r\n\t\ta = a.plus(delta);\r\n\r\nOtherwise as before. This time the output is\r\n\r\n```none\r\na = 2040-01-01T00:00:00Z\r\nb = 2040-01-01T00:00:00Z\r\ndelta = PT213384H\r\na.equals(b) = true\r\n```\r\n\r\nSo the difference is 213384 hours. Only because the minutes and seconds are 0 in this case, they are not printed, otherwise they would be; `Duration` too has nanosecond precision.\r\n\r\n## Difference between dates\r\n\r\nTaking your title more literally and noticing that your example dates fall on midnight UTC. If you don’t care about the time of day and only want to count days, months and years, you may use either the `Period` class or simply count days. The `Period` class is for periods of days, months and years and has 1 day precision (that means, cannot be used for hours and smaller units).\r\n\r\n\t\tLocalDate a = LocalDate.of(2015, Month.AUGUST, 29);\r\n\t\tLocalDate b = LocalDate.of(2040, Month.JANUARY, 1);\r\n\t\tPeriod delta = Period.between(a, b);\r\n\t\ta = a.plus(delta);\r\n\r\nThe printing goes as before, but now it prints\r\n\r\n```none\r\na = 2040-01-01\r\nb = 2040-01-01\r\ndelta = P24Y4M3D\r\na.equals(b) = true\r\n```\r\n\r\nCounting days goes just like nanoseconds above, only with days instead:\r\n\r\n\t\tlong delta = ChronoUnit.DAYS.between(a, b);\r\n\t\ta = a.plusDays(delta);\r\n\r\nThis time the output contains:\r\n\r\n```none\r\ndelta = 8891\r\na.equals(b) = true\r\n```\r\n\r\nPlease note that because months haven’t got the same length, even though 24 years 4 months 3 days seems to equal 8891 days, this will more often not be the exact case. This is explained in more detail in [@Meno Hochschild’s comment](https://stackoverflow.com/questions/46244778/finding-the-real-difference-between-dates-in-jdk7#comment79453749_46244778) and [Hugo’s answer](https://stackoverflow.com/a/46245454/5772882). So the choice between a `Period` and a number of days will make a difference, and you should choose based on your more exact requirements.\r\n\r\n## Combining Period and Duration\r\n\r\nIt’s a bit funny that Java doesn’t offer a class for a period or duration of years, months, days, hour, minutes and seconds. If you wanted, you might use a `Period` instance for the years, months and days, and then a `Duration` for the hours, minutes and seconds. It’s a little bit complicated but viable.\r\n\r\nThe [**ThreeTen-extra**](http://www.threeten.org/threeten-extra/) project includes a `PeriodDuration` class that combines the two. I haven’t got any experience with it myself.\r\n","title":"Finding the real difference between dates in JDK7","body":"<h2>ThreeTen Backport</h2>\n<p>There are a couple of possibilities using the modern Java date and time API known as JSR-310 or <code>java.time</code>. Can you use this with Java 7? Certainly! Get <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport</a> and start coding.</p>\n<h2>Difference between date-times</h2>\n<p><strong>EDIT:</strong> If you want to perceive your <code>a</code> and <code>b</code> as points in time, in other words, both dates and times of day, you may use either a suitably small time unit for the difference, or the <code>Duration</code> class. Both will work the same. Since <code>Instant</code>s have nanosecond precision, calculating a difference in nanos will make sure we don’t lose any precision:</p>\n<pre><code>    Instant a = Instant.parse(&quot;2015-08-29T00:00:00.000Z&quot;);\n    Instant b = Instant.parse(&quot;2040-01-01T00:00:00.000Z&quot;);\n    long delta = ChronoUnit.NANOS.between(a, b);\n    a = a.plusNanos(delta);\n    System.out.println(&quot;a = &quot; + a);\n    System.out.println(&quot;b = &quot; + b);\n    System.out.println(&quot;delta = &quot; + delta);\n    System.out.println(&quot;a.equals(b) = &quot; + a.equals(b));\n</code></pre>\n<p>This prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>a = 2040-01-01T00:00:00Z\nb = 2040-01-01T00:00:00Z\ndelta = 768182400000000000\na.equals(b) = true\n</code></pre>\n<p>The <code>Duration</code> class is meant for durations in hours, minutes, seconds and fraction of second. You can use it for longer durations, but it doesn’t know about weeks, months or years.</p>\n<pre><code>    Duration delta = Duration.between(a, b);\n    a = a.plus(delta);\n</code></pre>\n<p>Otherwise as before. This time the output is</p>\n<pre class=\"lang-none prettyprint-override\"><code>a = 2040-01-01T00:00:00Z\nb = 2040-01-01T00:00:00Z\ndelta = PT213384H\na.equals(b) = true\n</code></pre>\n<p>So the difference is 213384 hours. Only because the minutes and seconds are 0 in this case, they are not printed, otherwise they would be; <code>Duration</code> too has nanosecond precision.</p>\n<h2>Difference between dates</h2>\n<p>Taking your title more literally and noticing that your example dates fall on midnight UTC. If you don’t care about the time of day and only want to count days, months and years, you may use either the <code>Period</code> class or simply count days. The <code>Period</code> class is for periods of days, months and years and has 1 day precision (that means, cannot be used for hours and smaller units).</p>\n<pre><code>    LocalDate a = LocalDate.of(2015, Month.AUGUST, 29);\n    LocalDate b = LocalDate.of(2040, Month.JANUARY, 1);\n    Period delta = Period.between(a, b);\n    a = a.plus(delta);\n</code></pre>\n<p>The printing goes as before, but now it prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>a = 2040-01-01\nb = 2040-01-01\ndelta = P24Y4M3D\na.equals(b) = true\n</code></pre>\n<p>Counting days goes just like nanoseconds above, only with days instead:</p>\n<pre><code>    long delta = ChronoUnit.DAYS.between(a, b);\n    a = a.plusDays(delta);\n</code></pre>\n<p>This time the output contains:</p>\n<pre class=\"lang-none prettyprint-override\"><code>delta = 8891\na.equals(b) = true\n</code></pre>\n<p>Please note that because months haven’t got the same length, even though 24 years 4 months 3 days seems to equal 8891 days, this will more often not be the exact case. This is explained in more detail in <a href=\"https://stackoverflow.com/questions/46244778/finding-the-real-difference-between-dates-in-jdk7#comment79453749_46244778\">@Meno Hochschild’s comment</a> and <a href=\"https://stackoverflow.com/a/46245454/5772882\">Hugo’s answer</a>. So the choice between a <code>Period</code> and a number of days will make a difference, and you should choose based on your more exact requirements.</p>\n<h2>Combining Period and Duration</h2>\n<p>It’s a bit funny that Java doesn’t offer a class for a period or duration of years, months, days, hour, minutes and seconds. If you wanted, you might use a <code>Period</code> instance for the years, months and days, and then a <code>Duration</code> for the hours, minutes and seconds. It’s a little bit complicated but viable.</p>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-extra</strong></a> project includes a <code>PeriodDuration</code> class that combines the two. I haven’t got any experience with it myself.</p>\n"},{"comments":[{"owner":{"account_id":5730548,"reputation":45,"user_id":6427442,"display_name":"Jay Kelner"},"score":0,"creation_date":1505505140,"post_id":46245454,"comment_id":79457483,"body_markdown":"Worth noting here for future readers: in the question, I used java.xml.datatype.Duration whereas I should have been trying with org.joda.time.Duration (although neither can entirely alleviate occasional unexpected results)","body":"Worth noting here for future readers: in the question, I used java.xml.datatype.Duration whereas I should have been trying with org.joda.time.Duration (although neither can entirely alleviate occasional unexpected results)"}],"tags":[],"owner":{"display_name":"user7605325"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1505500928,"creation_date":1505499900,"answer_id":46245454,"question_id":46244778,"body_markdown":"As [@Meno explained in the comments][1], date arithmetic is weird, because months and years can have different lenghts. In our ISO calendar, a month can have 28, 29, 30 or 31 days, and a year can have 365 or 366 days.\r\n\r\nSo, a `Period` like `P24Y4M5D` (24 years, 4 months and 5 days) can represent a totally different number of days, depending on **when** you start counting it.\r\n\r\nIf I start at `2017-01-01T00:00Z`, for example. If I add 24 years, I get `2041-01-01`, then adding 4 months, I get `2041-05-01`, then adding 5 days I get `2041-05-06`. The total difference is equivalent to **8891** days.\r\n\r\nBut if I start at `2016-01-01T00:00Z` and add the same period (24 years, 4 months and 5 days): adding 24 years I get `2040-01-01`, then adding for 4 months I get `2040-05-01`, then adding 5 days I get `2040-05-06`. But if I add 8891 days, I get `2040-05-05`.\r\n\r\nThat&#39;s because a month and year don&#39;t have fixed lenghts, so the equivalent total in days will always depend on the dates involved (not to mention Daylight Saving Time and leap seconds effects, which also changes the total of hours, minutes, seconds and milliseconds).\r\n\r\nTo not rely on that, you must calculate using the duration in milliseconds (and not in non-fixed-length variables such as years and months). In Joda-Time, you can use the `org.joda.time.Duration` class:\r\n\r\n    public void makeTwoDatesEqual(GregorianCalendar a, GregorianCalendar b) {\r\n        DateTime date1 = new DateTime(a);\r\n        DateTime date2 = new DateTime(b);\r\n        System.out.println(&quot;date1=&quot; + date1);\r\n        System.out.println(&quot;date2=&quot; + date2);\r\n        \r\n        Duration duration = new Duration(date1, date2);\r\n        DateTime date3 = date1.plus(duration);\r\n        System.out.println(&quot;date3=&quot; + date3);\r\n        System.out.println(date3.equals(date2));\r\n    }\r\n\r\nAssuming that `a` is equivalent to `2015-08-29T00:00:00Z` and `b` is `2040-01-01T00:00:00Z`, this code will output:\r\n\r\n&gt; date1=2015-08-29T00:00:00.000Z&lt;br&gt;\r\ndate2=2040-01-01T00:00:00.000Z&lt;br&gt;\r\ndate3=2040-01-01T00:00:00.000Z&lt;br&gt;\r\ntrue\r\n\r\n---\r\n# ThreeTen Backport\r\n\r\nJoda-Time is in maintainance mode and is being replaced by the new APIs, so I don&#39;t recommend start a new project with it. Even in [joda&#39;s website](http://www.joda.org/joda-time) it says: **&quot;Note that Joda-Time is considered to be a largely “finished” project. No major enhancements are planned. If using Java SE 8, please migrate to java.time (JSR-310).&quot;**.\r\n\r\n*If you can&#39;t (or don&#39;t want to) migrate from Joda-Time to the new API, you can ignore this section.*\r\n\r\nIf you&#39;re using **Java 6 or 7**, you can use the [ThreeTen Backport](http://www.threeten.org/threetenbp), a great backport for Java 8&#39;s new date/time classes. And for **Android**, you&#39;ll also need the [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) (more on how to use it [here](https://stackoverflow.com/a/38922755/7605325)).\r\n\r\nYou can use the `org.threeten.bp.DateTimeUtils` class to convert the `GregorianCalendar` to `org.threeten.bp.Instant` and then calculate the difference between them, resulting in a `org.threeten.bp.Duration`:\r\n\r\n    public void makeTwoDatesEqual(GregorianCalendar a, GregorianCalendar b) {\r\n        Instant instantA = DateTimeUtils.toInstant(a);\r\n        Instant instantB = DateTimeUtils.toInstant(b);\r\n        System.out.println(instantA);\r\n        System.out.println(instantB);\r\n\r\n        Duration duration = Duration.between(instantA, instantB);\r\n\r\n        Instant instantC = instantA.plus(duration);\r\n        System.out.println(instantC);\r\n        System.out.println(instantC.equals(instantB)); // true\r\n    }\r\n\r\nAssuming that `a` is equivalent to `2015-08-29T00:00:00Z` and `b` is `2040-01-01T00:00:00Z`, this code will output:\r\n\r\n&gt; 2015-08-29T00:00:00Z&lt;br&gt;\r\n2040-01-01T00:00:00Z&lt;br&gt;\r\n2040-01-01T00:00:00Z&lt;br&gt;\r\ntrue\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46244778/finding-the-real-difference-between-dates-in-jdk7#comment79453749_46244778","title":"Finding the real difference between dates in JDK7","body":"<p>As <a href=\"https://stackoverflow.com/questions/46244778/finding-the-real-difference-between-dates-in-jdk7#comment79453749_46244778\">@Meno explained in the comments</a>, date arithmetic is weird, because months and years can have different lenghts. In our ISO calendar, a month can have 28, 29, 30 or 31 days, and a year can have 365 or 366 days.</p>\n\n<p>So, a <code>Period</code> like <code>P24Y4M5D</code> (24 years, 4 months and 5 days) can represent a totally different number of days, depending on <strong>when</strong> you start counting it.</p>\n\n<p>If I start at <code>2017-01-01T00:00Z</code>, for example. If I add 24 years, I get <code>2041-01-01</code>, then adding 4 months, I get <code>2041-05-01</code>, then adding 5 days I get <code>2041-05-06</code>. The total difference is equivalent to <strong>8891</strong> days.</p>\n\n<p>But if I start at <code>2016-01-01T00:00Z</code> and add the same period (24 years, 4 months and 5 days): adding 24 years I get <code>2040-01-01</code>, then adding for 4 months I get <code>2040-05-01</code>, then adding 5 days I get <code>2040-05-06</code>. But if I add 8891 days, I get <code>2040-05-05</code>.</p>\n\n<p>That's because a month and year don't have fixed lenghts, so the equivalent total in days will always depend on the dates involved (not to mention Daylight Saving Time and leap seconds effects, which also changes the total of hours, minutes, seconds and milliseconds).</p>\n\n<p>To not rely on that, you must calculate using the duration in milliseconds (and not in non-fixed-length variables such as years and months). In Joda-Time, you can use the <code>org.joda.time.Duration</code> class:</p>\n\n<pre><code>public void makeTwoDatesEqual(GregorianCalendar a, GregorianCalendar b) {\n    DateTime date1 = new DateTime(a);\n    DateTime date2 = new DateTime(b);\n    System.out.println(\"date1=\" + date1);\n    System.out.println(\"date2=\" + date2);\n\n    Duration duration = new Duration(date1, date2);\n    DateTime date3 = date1.plus(duration);\n    System.out.println(\"date3=\" + date3);\n    System.out.println(date3.equals(date2));\n}\n</code></pre>\n\n<p>Assuming that <code>a</code> is equivalent to <code>2015-08-29T00:00:00Z</code> and <code>b</code> is <code>2040-01-01T00:00:00Z</code>, this code will output:</p>\n\n<blockquote>\n  <p>date1=2015-08-29T00:00:00.000Z<br>\n  date2=2040-01-01T00:00:00.000Z<br>\n  date3=2040-01-01T00:00:00.000Z<br>\n  true</p>\n</blockquote>\n\n<hr>\n\n<h1>ThreeTen Backport</h1>\n\n<p>Joda-Time is in maintainance mode and is being replaced by the new APIs, so I don't recommend start a new project with it. Even in <a href=\"http://www.joda.org/joda-time\" rel=\"nofollow noreferrer\">joda's website</a> it says: <strong>\"Note that Joda-Time is considered to be a largely “finished” project. No major enhancements are planned. If using Java SE 8, please migrate to java.time (JSR-310).\"</strong>.</p>\n\n<p><em>If you can't (or don't want to) migrate from Joda-Time to the new API, you can ignore this section.</em></p>\n\n<p>If you're using <strong>Java 6 or 7</strong>, you can use the <a href=\"http://www.threeten.org/threetenbp\" rel=\"nofollow noreferrer\">ThreeTen Backport</a>, a great backport for Java 8's new date/time classes. And for <strong>Android</strong>, you'll also need the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> (more on how to use it <a href=\"https://stackoverflow.com/a/38922755/7605325\">here</a>).</p>\n\n<p>You can use the <code>org.threeten.bp.DateTimeUtils</code> class to convert the <code>GregorianCalendar</code> to <code>org.threeten.bp.Instant</code> and then calculate the difference between them, resulting in a <code>org.threeten.bp.Duration</code>:</p>\n\n<pre><code>public void makeTwoDatesEqual(GregorianCalendar a, GregorianCalendar b) {\n    Instant instantA = DateTimeUtils.toInstant(a);\n    Instant instantB = DateTimeUtils.toInstant(b);\n    System.out.println(instantA);\n    System.out.println(instantB);\n\n    Duration duration = Duration.between(instantA, instantB);\n\n    Instant instantC = instantA.plus(duration);\n    System.out.println(instantC);\n    System.out.println(instantC.equals(instantB)); // true\n}\n</code></pre>\n\n<p>Assuming that <code>a</code> is equivalent to <code>2015-08-29T00:00:00Z</code> and <code>b</code> is <code>2040-01-01T00:00:00Z</code>, this code will output:</p>\n\n<blockquote>\n  <p>2015-08-29T00:00:00Z<br>\n  2040-01-01T00:00:00Z<br>\n  2040-01-01T00:00:00Z<br>\n  true</p>\n</blockquote>\n"}],"owner":{"account_id":5730548,"reputation":45,"user_id":6427442,"display_name":"Jay Kelner"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46245454,"answer_count":2,"score":3,"last_activity_date":1693848353,"creation_date":1505496323,"question_id":46244778,"body_markdown":"How can I find the difference between two dates in JDK7, **such that the difference can be added back to make the two dates equal?**\r\n\r\n\r\nI tried to use the solution from a [similar StackOverflow question][1], subtracting one date&#39;s milliseconds from the other, but this can result in an incorrect difference between dates.\r\n\r\nIn this example, I try to make `a` equal to `b` by setting `a = (b-a) + a`\r\n\r\n    private void makeTwoDatesEqual(GregorianCalendar a, GregorianCalendar b, DatatypeFactory datatypeFactory) {\r\n        long b_minus_a = b.getTimeInMillis() - a.getTimeInMillis();\r\n        Duration delta = datatypeFactory.newDuration(b_minus_a);\r\n        delta.addTo(a);\r\n    }\r\n\r\nBut the results are unexpected:\r\n\r\n**Before**\r\n\r\n    a = &quot;2015-08-29T00:00:00.000Z&quot;\r\n    b = &quot;2040-01-01T00:00:00.000Z&quot;\r\n    delta = &quot;P24Y4M5DT0H0M0.000S&quot; // 2 days longer than it should be.\r\n\r\n**After**\r\n\r\n    a = &quot;2040-01-03T00:00:00.000Z&quot;\r\n    b = &quot;2040-01-01T00:00:00.000Z&quot;\r\n    delta = &quot;P24Y4M5DT0H0M0.000S&quot;\r\n    a.equals(b) = false\r\n\r\nJoda-Time has this same issue:\r\n\r\n    private void makeTwoDatesEqual(GregorianCalendar a, GregorianCalendar b) {\r\n\t\tDateTime date1 = new DateTime(a);\r\n\t\tDateTime date2 = new DateTime(b);\r\n\t\tInterval interval = new Interval(a.getTimeInMillis(), b.getTimeInMillis());\r\n\t\tPeriod offsetPeriod = interval.toPeriod();\r\n\t\tdate1 = date1.plus(offsetPeriod);\r\n\t\tdate1.equals(date2); // false in my example\r\n    }\r\n\t\r\n**Before**\r\n\r\n    date1 = &quot;2015-08-29T00:00:00.000-05:00&quot;\r\n    date2 = &quot;2040-01-01T00:00:00.000-05:00&quot;\r\n    offsetPeriod = &quot;P24Y4M2DT23H&quot;\r\n    date1.equals(date2) = false\r\n\r\n**After**\r\n\r\n    date1 = &quot;2039-12-31T23:00:00.000-05:00&quot;\r\n    date2 = &quot;2040-01-01T00:00:00.000-05:00&quot;\r\n    offsetPeriod = &quot;P24Y4M2DT23H&quot;\r\n    date1.equals(date2) = false\r\n\r\nBefore it&#39;s asked, there should be no need to account for daylight savings or leap years because in each example I&#39;m adding the interval back over the exact same time period from which it was derived.\r\n\r\n  [1]: https://stackoverflow.com/questions/10654946/how-do-i-substract-two-xmlgregoriancalendar-to-create-one-duration-object\r\n\r\n\r\n","title":"Finding the real difference between dates in JDK7","body":"<p>How can I find the difference between two dates in JDK7, <strong>such that the difference can be added back to make the two dates equal?</strong></p>\n\n<p>I tried to use the solution from a <a href=\"https://stackoverflow.com/questions/10654946/how-do-i-substract-two-xmlgregoriancalendar-to-create-one-duration-object\">similar StackOverflow question</a>, subtracting one date's milliseconds from the other, but this can result in an incorrect difference between dates.</p>\n\n<p>In this example, I try to make <code>a</code> equal to <code>b</code> by setting <code>a = (b-a) + a</code></p>\n\n<pre><code>private void makeTwoDatesEqual(GregorianCalendar a, GregorianCalendar b, DatatypeFactory datatypeFactory) {\n    long b_minus_a = b.getTimeInMillis() - a.getTimeInMillis();\n    Duration delta = datatypeFactory.newDuration(b_minus_a);\n    delta.addTo(a);\n}\n</code></pre>\n\n<p>But the results are unexpected:</p>\n\n<p><strong>Before</strong></p>\n\n<pre><code>a = \"2015-08-29T00:00:00.000Z\"\nb = \"2040-01-01T00:00:00.000Z\"\ndelta = \"P24Y4M5DT0H0M0.000S\" // 2 days longer than it should be.\n</code></pre>\n\n<p><strong>After</strong></p>\n\n<pre><code>a = \"2040-01-03T00:00:00.000Z\"\nb = \"2040-01-01T00:00:00.000Z\"\ndelta = \"P24Y4M5DT0H0M0.000S\"\na.equals(b) = false\n</code></pre>\n\n<p>Joda-Time has this same issue:</p>\n\n<pre><code>private void makeTwoDatesEqual(GregorianCalendar a, GregorianCalendar b) {\n    DateTime date1 = new DateTime(a);\n    DateTime date2 = new DateTime(b);\n    Interval interval = new Interval(a.getTimeInMillis(), b.getTimeInMillis());\n    Period offsetPeriod = interval.toPeriod();\n    date1 = date1.plus(offsetPeriod);\n    date1.equals(date2); // false in my example\n}\n</code></pre>\n\n<p><strong>Before</strong></p>\n\n<pre><code>date1 = \"2015-08-29T00:00:00.000-05:00\"\ndate2 = \"2040-01-01T00:00:00.000-05:00\"\noffsetPeriod = \"P24Y4M2DT23H\"\ndate1.equals(date2) = false\n</code></pre>\n\n<p><strong>After</strong></p>\n\n<pre><code>date1 = \"2039-12-31T23:00:00.000-05:00\"\ndate2 = \"2040-01-01T00:00:00.000-05:00\"\noffsetPeriod = \"P24Y4M2DT23H\"\ndate1.equals(date2) = false\n</code></pre>\n\n<p>Before it's asked, there should be no need to account for daylight savings or leap years because in each example I'm adding the interval back over the exact same time period from which it was derived.</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693757081,"post_id":77032938,"comment_id":135799567,"body_markdown":"Is that backtick in front of `public` and `protected` a typo here or a typo in your code?","body":"Is that backtick in front of <code>public</code> and <code>protected</code> a typo here or a typo in your code?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693757671,"post_id":77032938,"comment_id":135799632,"body_markdown":"By the way, variable names begin with a lowercase letter. And, `Utilisateurs` should be singular, `Utilisateur`.","body":"By the way, variable names begin with a lowercase letter. And, <code>Utilisateurs</code> should be singular, <code>Utilisateur</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693757815,"post_id":77032938,"comment_id":135799655,"body_markdown":"Dump the contents of `Utilisateurs` object passed to `updateUser` method to verify you do indeed have changed data in hand.","body":"Dump the contents of <code>Utilisateurs</code> object passed to <code>updateUser</code> method to verify you do indeed have changed data in hand."},{"owner":{"account_id":29357353,"reputation":3,"user_id":22492953,"display_name":"mikasa akerman"},"score":0,"creation_date":1693759249,"post_id":77032938,"comment_id":135799847,"body_markdown":"that backtick is just a typo when i copied it to stackoverflow. it doest exist in my code,  and i didnt understand the third comment, how would i dupm the contents of `Utilisateurs` object ?","body":"that backtick is just a typo when i copied it to stackoverflow. it doest exist in my code,  and i didnt understand the third comment, how would i dupm the contents of <code>Utilisateurs</code> object ?"},{"owner":{"account_id":29357353,"reputation":3,"user_id":22492953,"display_name":"mikasa akerman"},"score":0,"creation_date":1693761069,"post_id":77032938,"comment_id":135800083,"body_markdown":"when i try dumping the contents of `Utilisateurs` object , i see on the console that all the informations are updated. but why arent it updated in the database ?","body":"when i try dumping the contents of <code>Utilisateurs</code> object , i see on the console that all the informations are updated. but why arent it updated in the database ?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1693776078,"post_id":77032938,"comment_id":135801770,"body_markdown":"Your code isn&#39;t sufficient to just know it, it depends on what `Conx` does and your database engine. But, wild stab in dark? You have to `connection.commit()` or the transaction is aborted when the connection object is closed.","body":"Your code isn&#39;t sufficient to just know it, it depends on what <code>Conx</code> does and your database engine. But, wild stab in dark? You have to <code>connection.commit()</code> or the transaction is aborted when the connection object is closed."},{"owner":{"account_id":29357353,"reputation":3,"user_id":22492953,"display_name":"mikasa akerman"},"score":0,"creation_date":1693779970,"post_id":77032938,"comment_id":135802069,"body_markdown":"i&#39;ve added `connection.commit()` in the if block. And for the `conx` i&#39;m using mysql connector. Here is the code for the Conx : \tprotected static Connection Conx() {\n\t\tConnection connection = null;\n\t String jdbcURL = &quot;jdbc:mysql://localhost:3306/gestion_ecommerce&quot;;\n\t\tString username = &quot;root&quot;;\n\t String pw = &quot;&quot;;\n\t\t\n\t\ttry {\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;); \n\t\t\t\tconnection  = DriverManager.getConnection(jdbcURL, username, pw);\n\t\t\tSystem.out.println(&quot;connection ok&quot;);\n\t\t}\n\t\tcatch(Exception e) {\n\t\t\te.printStackTrace();\n\t\t}\t\n\t\treturn connection;\n\t}","body":"i&#39;ve added <code>connection.commit()</code> in the if block. And for the <code>conx</code> i&#39;m using mysql connector. Here is the code for the Conx : \tprotected static Connection Conx() { \t\tConnection connection = null; \t String jdbcURL = &quot;jdbc:mysql://localhost:3306/gestion_ecommerce&quot;; \t\tString username = &quot;root&quot;; \t String pw = &quot;&quot;; \t\t \t\ttry { \t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);  \t\t\t\tconnection  = DriverManager.getConnection(jdbcURL, username, pw); \t\t\tSystem.out.println(&quot;connection ok&quot;); \t\t} \t\tcatch(Exception e) { \t\t\te.printStackTrace(); \t\t}\t \t\treturn connection; \t}"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693802366,"post_id":77032938,"comment_id":135803455,"body_markdown":"Method names start with a lowercase letter, per Java conventions.","body":"Method names start with a lowercase letter, per Java conventions."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1693848591,"post_id":77032938,"comment_id":135811213,"body_markdown":"Column `idutilisateur` appears in both the SET clause and the WHERE clause of your UPDATE statement. This seems strange to me. I&#39;m only guessing but this may cause problems. I think you need to remove `idutilisateur` from the SET clause. Also, you wrote (in your question): _when i check my database i found that the same infos that i had before remained the same and nothing changed_ How did you check? Maybe your check is the wrong way to check. By the way, it is no longer required to call `Class.forName` in order to register the JDBC driver.","body":"Column <code>idutilisateur</code> appears in both the SET clause and the WHERE clause of your UPDATE statement. This seems strange to me. I&#39;m only guessing but this may cause problems. I think you need to remove <code>idutilisateur</code> from the SET clause. Also, you wrote (in your question): <i>when i check my database i found that the same infos that i had before remained the same and nothing changed</i> How did you check? Maybe your check is the wrong way to check. By the way, it is no longer required to call <code>Class.forName</code> in order to register the JDBC driver."}],"owner":{"account_id":29357353,"reputation":3,"user_id":22492953,"display_name":"mikasa akerman"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693848310,"creation_date":1693754240,"question_id":77032938,"body_markdown":"When i insert the datas in the form and submit it, no error is returned, but when i check my database i found that the same infos that i had before remained the same and nothing changed and the message &quot;No user was updated &quot; pops up on the console. \r\n\r\nI tried checking my database fields and servlet but i still can&#39;t find the problem.\r\nhere is what happens when i modify my form : \r\n    \r\n(ID 7  NOM doe PRENOM jhon AGE 25 PASSWORD jhon123 EMAIL jhon@gmail.com IDROLE 2 User updated successfully!)\r\n\r\nSo where is the problem please ? \r\n\r\nHere is the DAO : \r\n\r\n     private static final String Update_user = &quot;UPDATE utilisateur SET \r\n     idutilisateur = ? ,nom = ? ,prenom=?  , age = ?,email = ? , mot_de_pass = ? , idrole = ?&quot;\r\n    \t\t\t+ &quot; WHERE  idutilisateur = ?&quot;;\r\n    \t`public static void updateUser(Utilisateurs u) throws SQLException {\r\n    \t    try (Connection connection = Conx();\r\n    \t         PreparedStatement preparedStatement = connection.prepareStatement(Update_user)) {\r\n    \r\n    \t    \tpreparedStatement.setInt(1, u.getIdUtilisateurs());\r\n    \t        preparedStatement.setString(2, u.getNom());\r\n    \t        preparedStatement.setString(3, u.getPrenom());\r\n    \t        preparedStatement.setInt(4, u.getAge());\r\n    \t        preparedStatement.setString(5, u.getEmail());\r\n    \t        preparedStatement.setString(6, u.getPassword());\r\n    \t        preparedStatement.setInt(7, u.getRole().getIdRole());\r\n    \t        preparedStatement.setInt(8, u.getIdUtilisateurs());\r\n    \r\n    \t        int rowsUpdated = preparedStatement.executeUpdate();\r\n    \r\n    \t        if (rowsUpdated &gt; 0) {\r\n    \t            connection.commit(); \r\n    \t            System.out.println(&quot;User updated successfully!&quot;);\r\n    \t        } else {\r\n    \t            System.out.println(&quot;No user was updated.&quot;);\r\n    \t        }\r\n    \t    } catch (SQLException e) {\r\n    \t        e.printStackTrace();\r\n    \t    }\r\n    \t}\r\n\r\n--------------------\r\n```java\r\nprotected static Connection Conx() {\r\n    Connection connection = null;\r\n    String jdbcURL = &quot;jdbc:mysql://localhost:3306/gestion_ecommerce&quot;;\r\n    String username = &quot;root&quot;;\r\n    String pw = &quot;&quot;;\r\n    try {\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n        connection = DriverManager.getConnection(jdbcURL, username, pw);\r\n        System.out.println(&quot;connection ok&quot;);\r\n    } catch(Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    return connection;\r\n}\r\n```\r\n","title":"preparedStatement.executeUpdate() did not return a value larger than 0","body":"<p>When i insert the datas in the form and submit it, no error is returned, but when i check my database i found that the same infos that i had before remained the same and nothing changed and the message &quot;No user was updated &quot; pops up on the console.</p>\n<p>I tried checking my database fields and servlet but i still can't find the problem.\nhere is what happens when i modify my form :</p>\n<p>(ID 7  NOM doe PRENOM jhon AGE 25 PASSWORD jhon123 EMAIL jhon@gmail.com IDROLE 2 User updated successfully!)</p>\n<p>So where is the problem please ?</p>\n<p>Here is the DAO :</p>\n<pre><code> private static final String Update_user = &quot;UPDATE utilisateur SET \n idutilisateur = ? ,nom = ? ,prenom=?  , age = ?,email = ? , mot_de_pass = ? , idrole = ?&quot;\n            + &quot; WHERE  idutilisateur = ?&quot;;\n    `public static void updateUser(Utilisateurs u) throws SQLException {\n        try (Connection connection = Conx();\n             PreparedStatement preparedStatement = connection.prepareStatement(Update_user)) {\n\n            preparedStatement.setInt(1, u.getIdUtilisateurs());\n            preparedStatement.setString(2, u.getNom());\n            preparedStatement.setString(3, u.getPrenom());\n            preparedStatement.setInt(4, u.getAge());\n            preparedStatement.setString(5, u.getEmail());\n            preparedStatement.setString(6, u.getPassword());\n            preparedStatement.setInt(7, u.getRole().getIdRole());\n            preparedStatement.setInt(8, u.getIdUtilisateurs());\n\n            int rowsUpdated = preparedStatement.executeUpdate();\n\n            if (rowsUpdated &gt; 0) {\n                connection.commit(); \n                System.out.println(&quot;User updated successfully!&quot;);\n            } else {\n                System.out.println(&quot;No user was updated.&quot;);\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>protected static Connection Conx() {\n    Connection connection = null;\n    String jdbcURL = &quot;jdbc:mysql://localhost:3306/gestion_ecommerce&quot;;\n    String username = &quot;root&quot;;\n    String pw = &quot;&quot;;\n    try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        connection = DriverManager.getConnection(jdbcURL, username, pw);\n        System.out.println(&quot;connection ok&quot;);\n    } catch(Exception e) {\n        e.printStackTrace();\n    }\n    return connection;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1693850279,"post_id":77039620,"comment_id":135811485,"body_markdown":"What database are you using?","body":"What database are you using?"},{"owner":{"account_id":23289673,"reputation":3,"user_id":17371944,"display_name":"FJ97"},"score":0,"creation_date":1693857973,"post_id":77039620,"comment_id":135812492,"body_markdown":"Postgres @Diego Borba","body":"Postgres @Diego Borba"}],"owner":{"account_id":23289673,"reputation":3,"user_id":17371944,"display_name":"FJ97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693848061,"creation_date":1693848061,"question_id":77039620,"body_markdown":"I got the following structure: \r\n\r\n**SimpleSectionConfig.java**\r\n\r\nThis Entity contains\r\n\r\n    @OneToMany(mappedBy = &quot;layout&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    private List&lt;SimpleSection&gt; sections;\r\n\r\n\r\n**SimpleSection.java**\r\n\r\nThe SimpleSection Entity then contains \r\n\r\n    @OneToMany(mappedBy = &quot;section&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    private List&lt;Seat&gt; seats;\r\n\r\n\r\nWhen I delete by Id it seems like it tries to delete the sections which makes sense because of CascadeType.ALL.\r\n\r\nHowever there is also CascadeType.ALL for the attribute seats but the seats do not get removed\r\n\r\nI get the following Exception: \r\n\r\n&gt; Caused by: org.postgresql.util.PSQLException: FEHLER: Aktualisieren oder L&#246;schen in Tabelle &#187;simple_section&#171; verletzt Fremdschl&#252;ssel-Constraint &#187;fk_seat_section&#171; von Tabelle &#187;seat&#171;\r\n  Detail: Auf Schl&#252;ssel (id)=(1) wird noch aus Tabelle &#187;seat&#171; verwiesen.\r\n\r\nWhich translates to: \r\n\r\n&gt; Caused by: org.postgresql.util.PSQLException: ERROR: Refreshing or Removal in Table &#187;simple_section&#171; hurt foreign key constraint &#187;fk_seat_section&#171;  of Table &#187;seat&#171;\r\n  Detail: To Key(id)=(1) is still pointed from table &#187;seat&#171;\r\n\r\nHow can I get the seats removed as well?\r\n\r\nAny help will be appreciated","title":"CascadeType.ALL not deleting Children of Children","body":"<p>I got the following structure:</p>\n<p><strong>SimpleSectionConfig.java</strong></p>\n<p>This Entity contains</p>\n<pre><code>@OneToMany(mappedBy = &quot;layout&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\nprivate List&lt;SimpleSection&gt; sections;\n</code></pre>\n<p><strong>SimpleSection.java</strong></p>\n<p>The SimpleSection Entity then contains</p>\n<pre><code>@OneToMany(mappedBy = &quot;section&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\nprivate List&lt;Seat&gt; seats;\n</code></pre>\n<p>When I delete by Id it seems like it tries to delete the sections which makes sense because of CascadeType.ALL.</p>\n<p>However there is also CascadeType.ALL for the attribute seats but the seats do not get removed</p>\n<p>I get the following Exception:</p>\n<blockquote>\n<p>Caused by: org.postgresql.util.PSQLException: FEHLER: Aktualisieren oder Löschen in Tabelle »simple_section« verletzt Fremdschlüssel-Constraint »fk_seat_section« von Tabelle »seat«\nDetail: Auf Schlüssel (id)=(1) wird noch aus Tabelle »seat« verwiesen.</p>\n</blockquote>\n<p>Which translates to:</p>\n<blockquote>\n<p>Caused by: org.postgresql.util.PSQLException: ERROR: Refreshing or Removal in Table »simple_section« hurt foreign key constraint »fk_seat_section«  of Table »seat«\nDetail: To Key(id)=(1) is still pointed from table »seat«</p>\n</blockquote>\n<p>How can I get the seats removed as well?</p>\n<p>Any help will be appreciated</p>\n"},{"tags":["java","spring-boot","logging","logback"],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693848051,"creation_date":1693848051,"question_id":77039617,"body_markdown":"We have a simple spring boot 3.1 app.\r\n\r\nThe application.properties has:\r\n\r\n    logging.level.root=INFO\r\n\r\nStill, the following loggers are being logged at DEBUG level:\r\n\r\n    org.springframework.web.servlet.DispatcherServlet\r\n    org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor\r\n    com.events.debeziumconnectorservice.controllers.HealthCheckController\r\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping\r\n    org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping\r\n\r\nAny ideas?\r\n\r\nThe dependency tree looks like:\r\n\r\n    [INFO] --- dependency:3.5.0:tree (default-cli) @ events-cdc-connector ---\r\n    [INFO] com.mycompany.myproject.events:events-cdc-connector:jar:0.0.1-SNAPSHOT\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.1.0:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.1.0:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.1.0:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.0:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.1.0:compile\r\n    [INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.7:compile\r\n    [INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.7:compile\r\n    [INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.20.0:compile\r\n    [INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\r\n    [INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.7:compile\r\n    [INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.0:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.15.0:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.15.0:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.0:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.15.0:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.0:compile\r\n    [INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.8:compile\r\n    [INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.8:compile\r\n    [INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.8:compile\r\n    [INFO] |  +- org.springframework:spring-web:jar:6.0.9:compile\r\n    [INFO] |  |  \\- org.springframework:spring-beans:jar:6.0.9:compile\r\n    [INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.9:compile\r\n    [INFO] |     +- org.springframework:spring-aop:jar:6.0.9:compile\r\n    [INFO] |     \\- org.springframework:spring-expression:jar:6.0.9:compile\r\n    [INFO] +- org.springframework.kafka:spring-kafka:jar:3.0.5:compile\r\n    [INFO] |  +- org.springframework:spring-context:jar:6.0.9:compile\r\n    [INFO] |  +- org.springframework:spring-messaging:jar:6.0.9:compile\r\n    [INFO] |  +- org.springframework:spring-tx:jar:6.0.9:compile\r\n    [INFO] |  +- org.springframework.retry:spring-retry:jar:2.0.1:compile\r\n    [INFO] |  +- org.apache.kafka:kafka-clients:jar:3.4.0:compile\r\n    [INFO] |  |  +- com.github.luben:zstd-jni:jar:1.5.2-1:compile\r\n    [INFO] |  |  +- org.lz4:lz4-java:jar:1.8.0:runtime\r\n    [INFO] |  |  \\- org.xerial.snappy:snappy-java:jar:1.1.8.4:runtime\r\n    [INFO] |  +- io.micrometer:micrometer-observation:jar:1.11.0:compile\r\n    [INFO] |  |  \\- io.micrometer:micrometer-commons:jar:1.11.0:compile\r\n    [INFO] |  \\- com.google.code.findbugs:jsr305:jar:3.0.2:runtime\r\n    [INFO] +- org.projectlombok:lombok:jar:1.18.24:provided\r\n    [INFO] +- com.mysql:mysql-connector-j:jar:8.0.32:compile\r\n    [INFO] +- org.antlr:antlr4-runtime:jar:4.8:compile\r\n    [INFO] +- io.debezium:debezium-api:jar:2.1.4.Final:compile\r\n    [INFO] |  \\- org.slf4j:slf4j-api:jar:2.0.7:compile\r\n    [INFO] +- io.debezium:debezium-embedded:jar:2.1.4.Final:compile\r\n    [INFO] |  +- io.debezium:debezium-core:jar:2.1.4.Final:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.15.0:compile\r\n    [INFO] |  +- org.apache.kafka:connect-api:jar:3.4.0:compile\r\n    [INFO] |  |  \\- javax.ws.rs:javax.ws.rs-api:jar:2.1.1:runtime\r\n    [INFO] |  +- org.apache.kafka:connect-runtime:jar:3.4.0:compile\r\n    [INFO] |  |  +- org.apache.kafka:connect-transforms:jar:3.4.0:compile\r\n    [INFO] |  |  +- org.apache.kafka:kafka-tools:jar:3.4.0:runtime\r\n    [INFO] |  |  |  +- org.apache.kafka:kafka-server-common:jar:3.4.0:runtime\r\n    [INFO] |  |  |  |  \\- com.yammer.metrics:metrics-core:jar:2.2.0:runtime\r\n    [INFO] |  |  |  \\- net.sourceforge.argparse4j:argparse4j:jar:0.7.0:runtime\r\n    [INFO] |  |  +- ch.qos.reload4j:reload4j:jar:1.2.19:runtime\r\n    [INFO] |  |  +- org.bitbucket.b_c:jose4j:jar:0.7.9:runtime\r\n    [INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.15.0:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.15.0:runtime\r\n    [INFO] |  |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.15.0:runtime\r\n    [INFO] |  |  |  \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.15.0:runtime\r\n    [INFO] |  |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:3.1.1:runtime\r\n    [INFO] |  |  |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:3.1.1:runtime\r\n    [INFO] |  |  |  |  \\- jakarta.inject:jakarta.inject-api:jar:2.0.1:runtime\r\n    [INFO] |  |  |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.1:runtime\r\n    [INFO] |  |  |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:runtime\r\n    [INFO] |  |  |  +- org.glassfish.jersey.core:jersey-server:jar:3.1.1:runtime\r\n    [INFO] |  |  |  |  \\- org.glassfish.jersey.core:jersey-client:jar:3.1.1:runtime\r\n    [INFO] |  |  |  \\- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:runtime\r\n    [INFO] |  |  +- org.glassfish.jersey.inject:jersey-hk2:jar:3.1.1:runtime\r\n    [INFO] |  |  |  +- org.glassfish.hk2:hk2-locator:jar:3.0.3:runtime\r\n    [INFO] |  |  |  |  +- org.glassfish.hk2.external:aopalliance-repackaged:jar:3.0.3:runtime\r\n    [INFO] |  |  |  |  +- org.glassfish.hk2:hk2-api:jar:3.0.3:runtime\r\n    [INFO] |  |  |  |  \\- org.glassfish.hk2:hk2-utils:jar:3.0.3:runtime\r\n    [INFO] |  |  |  \\- org.javassist:javassist:jar:3.29.0-GA:runtime\r\n    [INFO] |  |  +- javax.xml.bind:jaxb-api:jar:2.3.0:runtime\r\n    [INFO] |  |  +- javax.activation:activation:jar:1.1.1:runtime\r\n    [INFO] |  |  +- org.eclipse.jetty:jetty-server:jar:11.0.15:runtime\r\n    [INFO] |  |  |  +- org.eclipse.jetty.toolchain:jetty-jakarta-servlet-api:jar:5.0.2:runtime\r\n    [INFO] |  |  |  +- org.eclipse.jetty:jetty-http:jar:11.0.15:runtime\r\n    [INFO] |  |  |  \\- org.eclipse.jetty:jetty-io:jar:11.0.15:runtime\r\n    [INFO] |  |  +- org.eclipse.jetty:jetty-servlet:jar:11.0.15:runtime\r\n    [INFO] |  |  |  \\- org.eclipse.jetty:jetty-security:jar:11.0.15:runtime\r\n    [INFO] |  |  +- org.eclipse.jetty:jetty-servlets:jar:11.0.15:runtime\r\n    [INFO] |  |  |  \\- org.eclipse.jetty:jetty-util:jar:11.0.15:runtime\r\n    [INFO] |  |  +- org.eclipse.jetty:jetty-client:jar:11.0.15:runtime\r\n    [INFO] |  |  |  \\- org.eclipse.jetty:jetty-alpn-client:jar:11.0.15:runtime\r\n    [INFO] |  |  +- org.reflections:reflections:jar:0.9.12:runtime\r\n    [INFO] |  |  +- org.apache.maven:maven-artifact:jar:3.8.4:runtime\r\n    [INFO] |  |  |  +- org.codehaus.plexus:plexus-utils:jar:3.3.0:runtime\r\n    [INFO] |  |  |  \\- org.apache.commons:commons-lang3:jar:3.12.0:runtime\r\n    [INFO] |  |  \\- io.swagger.core.v3:swagger-annotations:jar:2.2.0:runtime\r\n    [INFO] |  +- org.apache.kafka:connect-json:jar:3.4.0:compile\r\n    [INFO] |  \\- org.apache.kafka:connect-file:jar:3.4.0:compile\r\n    [INFO] +- io.debezium:debezium-connector-mysql:jar:2.1.4.Final:compile\r\n    [INFO] |  +- io.debezium:debezium-storage-kafka:jar:2.1.4.Final:compile\r\n    [INFO] |  +- io.debezium:debezium-storage-file:jar:2.1.4.Final:compile\r\n    [INFO] |  +- io.debezium:debezium-ddl-parser:jar:2.1.4.Final:compile\r\n    [INFO] |  \\- com.zendesk:mysql-binlog-connector-java:jar:0.27.2:compile\r\n    [INFO] +- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\r\n    [INFO] |  +- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\r\n    [INFO] |  +- org.jboss.logging:jboss-logging:jar:3.5.0.Final:compile\r\n    [INFO] |  \\- com.fasterxml:classmate:jar:1.5.1:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.1.0:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.1.0:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.0:test\r\n    [INFO] |  +- com.jayway.jsonpath:json-path:jar:2.8.0:test\r\n    [INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:runtime\r\n    [INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.2:runtime\r\n    [INFO] |  +- net.minidev:json-smart:jar:2.4.10:test\r\n    [INFO] |  |  \\- net.minidev:accessors-smart:jar:2.4.9:test\r\n    [INFO] |  |     \\- org.ow2.asm:asm:jar:9.3:compile\r\n    [INFO] |  +- org.assertj:assertj-core:jar:3.24.2:test\r\n    [INFO] |  |  \\- net.bytebuddy:byte-buddy:jar:1.14.4:test\r\n    [INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n    [INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.3:test\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.3:test\r\n    [INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n    [INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.3:test\r\n    [INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.3:test\r\n    [INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.3:test\r\n    [INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.3:test\r\n    [INFO] |  +- org.mockito:mockito-core:jar:5.3.1:test\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.4:test\r\n    [INFO] |  |  \\- org.objenesis:objenesis:jar:3.3:test\r\n    [INFO] |  +- org.mockito:mockito-junit-jupiter:jar:5.3.1:test\r\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n    [INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n    [INFO] |  +- org.springframework:spring-core:jar:6.0.9:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.9:compile\r\n    [INFO] |  +- org.springframework:spring-test:jar:6.0.9:test\r\n    [INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:3.1.0:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.1.0:compile\r\n    [INFO] |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.1.0:compile\r\n    [INFO] |  \\- io.micrometer:micrometer-core:jar:1.11.0:compile\r\n    [INFO] |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:runtime\r\n    [INFO] |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\r\n    [INFO] +- io.micrometer:micrometer-registry-datadog:jar:1.11.0:compile\r\n    [INFO] \\- com.datadoghq:java-dogstatsd-client:jar:4.2.0:compile\r\n    [INFO]    \\- com.github.jnr:jnr-unixsocket:jar:0.36:compile\r\n    [INFO]       +- com.github.jnr:jnr-ffi:jar:2.1.16:compile\r\n    [INFO]       |  +- com.github.jnr:jffi:jar:1.2.23:compile\r\n    [INFO]       |  +- com.github.jnr:jffi:jar:native:1.2.23:runtime\r\n    [INFO]       |  +- org.ow2.asm:asm-commons:jar:7.1:compile\r\n    [INFO]       |  +- org.ow2.asm:asm-analysis:jar:7.1:compile\r\n    [INFO]       |  +- org.ow2.asm:asm-tree:jar:7.1:compile\r\n    [INFO]       |  +- org.ow2.asm:asm-util:jar:7.1:compile\r\n    [INFO]       |  +- com.github.jnr:jnr-a64asm:jar:1.0.0:compile\r\n    [INFO]       |  \\- com.github.jnr:jnr-x86asm:jar:1.0.2:compile\r\n    [INFO]       +- com.github.jnr:jnr-constants:jar:0.9.17:compile\r\n    [INFO]       +- com.github.jnr:jnr-enxio:jar:0.30:compile\r\n    [INFO]       \\- com.github.jnr:jnr-posix:jar:3.0.61:compile\r\n","title":"spring boot logging some loggers at DEBUG even though root logger is at INFO","body":"<p>We have a simple spring boot 3.1 app.</p>\n<p>The application.properties has:</p>\n<pre><code>logging.level.root=INFO\n</code></pre>\n<p>Still, the following loggers are being logged at DEBUG level:</p>\n<pre><code>org.springframework.web.servlet.DispatcherServlet\norg.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor\ncom.events.debeziumconnectorservice.controllers.HealthCheckController\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping\norg.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping\n</code></pre>\n<p>Any ideas?</p>\n<p>The dependency tree looks like:</p>\n<pre><code>[INFO] --- dependency:3.5.0:tree (default-cli) @ events-cdc-connector ---\n[INFO] com.mycompany.myproject.events:events-cdc-connector:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.1.0:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.1.0:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.1.0:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.0:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.1.0:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.7:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.7:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.20.0:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.7:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.0:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.15.0:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.15.0:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.0:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.15.0:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.0:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.8:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.8:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.8:compile\n[INFO] |  +- org.springframework:spring-web:jar:6.0.9:compile\n[INFO] |  |  \\- org.springframework:spring-beans:jar:6.0.9:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.9:compile\n[INFO] |     +- org.springframework:spring-aop:jar:6.0.9:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.9:compile\n[INFO] +- org.springframework.kafka:spring-kafka:jar:3.0.5:compile\n[INFO] |  +- org.springframework:spring-context:jar:6.0.9:compile\n[INFO] |  +- org.springframework:spring-messaging:jar:6.0.9:compile\n[INFO] |  +- org.springframework:spring-tx:jar:6.0.9:compile\n[INFO] |  +- org.springframework.retry:spring-retry:jar:2.0.1:compile\n[INFO] |  +- org.apache.kafka:kafka-clients:jar:3.4.0:compile\n[INFO] |  |  +- com.github.luben:zstd-jni:jar:1.5.2-1:compile\n[INFO] |  |  +- org.lz4:lz4-java:jar:1.8.0:runtime\n[INFO] |  |  \\- org.xerial.snappy:snappy-java:jar:1.1.8.4:runtime\n[INFO] |  +- io.micrometer:micrometer-observation:jar:1.11.0:compile\n[INFO] |  |  \\- io.micrometer:micrometer-commons:jar:1.11.0:compile\n[INFO] |  \\- com.google.code.findbugs:jsr305:jar:3.0.2:runtime\n[INFO] +- org.projectlombok:lombok:jar:1.18.24:provided\n[INFO] +- com.mysql:mysql-connector-j:jar:8.0.32:compile\n[INFO] +- org.antlr:antlr4-runtime:jar:4.8:compile\n[INFO] +- io.debezium:debezium-api:jar:2.1.4.Final:compile\n[INFO] |  \\- org.slf4j:slf4j-api:jar:2.0.7:compile\n[INFO] +- io.debezium:debezium-embedded:jar:2.1.4.Final:compile\n[INFO] |  +- io.debezium:debezium-core:jar:2.1.4.Final:compile\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.15.0:compile\n[INFO] |  +- org.apache.kafka:connect-api:jar:3.4.0:compile\n[INFO] |  |  \\- javax.ws.rs:javax.ws.rs-api:jar:2.1.1:runtime\n[INFO] |  +- org.apache.kafka:connect-runtime:jar:3.4.0:compile\n[INFO] |  |  +- org.apache.kafka:connect-transforms:jar:3.4.0:compile\n[INFO] |  |  +- org.apache.kafka:kafka-tools:jar:3.4.0:runtime\n[INFO] |  |  |  +- org.apache.kafka:kafka-server-common:jar:3.4.0:runtime\n[INFO] |  |  |  |  \\- com.yammer.metrics:metrics-core:jar:2.2.0:runtime\n[INFO] |  |  |  \\- net.sourceforge.argparse4j:argparse4j:jar:0.7.0:runtime\n[INFO] |  |  +- ch.qos.reload4j:reload4j:jar:1.2.19:runtime\n[INFO] |  |  +- org.bitbucket.b_c:jose4j:jar:0.7.9:runtime\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.15.0:compile\n[INFO] |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.15.0:runtime\n[INFO] |  |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.15.0:runtime\n[INFO] |  |  |  \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.15.0:runtime\n[INFO] |  |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:3.1.1:runtime\n[INFO] |  |  |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:3.1.1:runtime\n[INFO] |  |  |  |  \\- jakarta.inject:jakarta.inject-api:jar:2.0.1:runtime\n[INFO] |  |  |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.1:runtime\n[INFO] |  |  |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:runtime\n[INFO] |  |  |  +- org.glassfish.jersey.core:jersey-server:jar:3.1.1:runtime\n[INFO] |  |  |  |  \\- org.glassfish.jersey.core:jersey-client:jar:3.1.1:runtime\n[INFO] |  |  |  \\- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:runtime\n[INFO] |  |  +- org.glassfish.jersey.inject:jersey-hk2:jar:3.1.1:runtime\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-locator:jar:3.0.3:runtime\n[INFO] |  |  |  |  +- org.glassfish.hk2.external:aopalliance-repackaged:jar:3.0.3:runtime\n[INFO] |  |  |  |  +- org.glassfish.hk2:hk2-api:jar:3.0.3:runtime\n[INFO] |  |  |  |  \\- org.glassfish.hk2:hk2-utils:jar:3.0.3:runtime\n[INFO] |  |  |  \\- org.javassist:javassist:jar:3.29.0-GA:runtime\n[INFO] |  |  +- javax.xml.bind:jaxb-api:jar:2.3.0:runtime\n[INFO] |  |  +- javax.activation:activation:jar:1.1.1:runtime\n[INFO] |  |  +- org.eclipse.jetty:jetty-server:jar:11.0.15:runtime\n[INFO] |  |  |  +- org.eclipse.jetty.toolchain:jetty-jakarta-servlet-api:jar:5.0.2:runtime\n[INFO] |  |  |  +- org.eclipse.jetty:jetty-http:jar:11.0.15:runtime\n[INFO] |  |  |  \\- org.eclipse.jetty:jetty-io:jar:11.0.15:runtime\n[INFO] |  |  +- org.eclipse.jetty:jetty-servlet:jar:11.0.15:runtime\n[INFO] |  |  |  \\- org.eclipse.jetty:jetty-security:jar:11.0.15:runtime\n[INFO] |  |  +- org.eclipse.jetty:jetty-servlets:jar:11.0.15:runtime\n[INFO] |  |  |  \\- org.eclipse.jetty:jetty-util:jar:11.0.15:runtime\n[INFO] |  |  +- org.eclipse.jetty:jetty-client:jar:11.0.15:runtime\n[INFO] |  |  |  \\- org.eclipse.jetty:jetty-alpn-client:jar:11.0.15:runtime\n[INFO] |  |  +- org.reflections:reflections:jar:0.9.12:runtime\n[INFO] |  |  +- org.apache.maven:maven-artifact:jar:3.8.4:runtime\n[INFO] |  |  |  +- org.codehaus.plexus:plexus-utils:jar:3.3.0:runtime\n[INFO] |  |  |  \\- org.apache.commons:commons-lang3:jar:3.12.0:runtime\n[INFO] |  |  \\- io.swagger.core.v3:swagger-annotations:jar:2.2.0:runtime\n[INFO] |  +- org.apache.kafka:connect-json:jar:3.4.0:compile\n[INFO] |  \\- org.apache.kafka:connect-file:jar:3.4.0:compile\n[INFO] +- io.debezium:debezium-connector-mysql:jar:2.1.4.Final:compile\n[INFO] |  +- io.debezium:debezium-storage-kafka:jar:2.1.4.Final:compile\n[INFO] |  +- io.debezium:debezium-storage-file:jar:2.1.4.Final:compile\n[INFO] |  +- io.debezium:debezium-ddl-parser:jar:2.1.4.Final:compile\n[INFO] |  \\- com.zendesk:mysql-binlog-connector-java:jar:0.27.2:compile\n[INFO] +- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\n[INFO] |  +- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.5.0.Final:compile\n[INFO] |  \\- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.1.0:test\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.1.0:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.0:test\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.8.0:test\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:runtime\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.2:runtime\n[INFO] |  +- net.minidev:json-smart:jar:2.4.10:test\n[INFO] |  |  \\- net.minidev:accessors-smart:jar:2.4.9:test\n[INFO] |  |     \\- org.ow2.asm:asm:jar:9.3:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.24.2:test\n[INFO] |  |  \\- net.bytebuddy:byte-buddy:jar:1.14.4:test\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.3:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.3:test\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.3:test\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.3:test\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.3:test\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.3:test\n[INFO] |  +- org.mockito:mockito-core:jar:5.3.1:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.4:test\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.3:test\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:5.3.1:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO] |  +- org.springframework:spring-core:jar:6.0.9:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.9:compile\n[INFO] |  +- org.springframework:spring-test:jar:6.0.9:test\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n[INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:3.1.0:compile\n[INFO] |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.1.0:compile\n[INFO] |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.1.0:compile\n[INFO] |  \\- io.micrometer:micrometer-core:jar:1.11.0:compile\n[INFO] |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:runtime\n[INFO] |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\n[INFO] +- io.micrometer:micrometer-registry-datadog:jar:1.11.0:compile\n[INFO] \\- com.datadoghq:java-dogstatsd-client:jar:4.2.0:compile\n[INFO]    \\- com.github.jnr:jnr-unixsocket:jar:0.36:compile\n[INFO]       +- com.github.jnr:jnr-ffi:jar:2.1.16:compile\n[INFO]       |  +- com.github.jnr:jffi:jar:1.2.23:compile\n[INFO]       |  +- com.github.jnr:jffi:jar:native:1.2.23:runtime\n[INFO]       |  +- org.ow2.asm:asm-commons:jar:7.1:compile\n[INFO]       |  +- org.ow2.asm:asm-analysis:jar:7.1:compile\n[INFO]       |  +- org.ow2.asm:asm-tree:jar:7.1:compile\n[INFO]       |  +- org.ow2.asm:asm-util:jar:7.1:compile\n[INFO]       |  +- com.github.jnr:jnr-a64asm:jar:1.0.0:compile\n[INFO]       |  \\- com.github.jnr:jnr-x86asm:jar:1.0.2:compile\n[INFO]       +- com.github.jnr:jnr-constants:jar:0.9.17:compile\n[INFO]       +- com.github.jnr:jnr-enxio:jar:0.30:compile\n[INFO]       \\- com.github.jnr:jnr-posix:jar:3.0.61:compile\n</code></pre>\n"},{"tags":["java","gzip","chunks"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1693819806,"post_id":77036447,"comment_id":135805902,"body_markdown":"Change your expectations?","body":"Change your expectations?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693821657,"post_id":77036447,"comment_id":135806231,"body_markdown":"After `startTime = System.currentTimeMillis()` you are loading two inner classes (and their dependencies), initializing the backend for lambda expressions, starting a new thread, etc., all adding to the time. Further, you are using the single-byte write method no serious application should ever use. Btw, `FlushableGZIPOutputStream` is obsolete since Java&#160;7 and when you use `GZIPOutputStream` directly [you can specify the buffer size](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/zip/GZIPOutputStream.html#%3Cinit%3E(java.io.OutputStream,int,boolean)) without subclassing","body":"After <code>startTime = System.currentTimeMillis()</code> you are loading two inner classes (and their dependencies), initializing the backend for lambda expressions, starting a new thread, etc., all adding to the time. Further, you are using the single-byte write method no serious application should ever use. Btw, <code>FlushableGZIPOutputStream</code> is obsolete since Java 7 and when you use <code>GZIPOutputStream</code> directly <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/zip/GZIPOutputStream.html#%3Cinit%3E(java.io.OutputStream,int,boolean)\" rel=\"nofollow noreferrer\">you can specify the buffer size</a> without subclassing"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1693825187,"post_id":77036447,"comment_id":135806847,"body_markdown":"@Holger Not jdk7 but coyote. Starting the new thread, initializing lambda, load inner clases and their dependencies, all of this took 0ms as you can see in the first line of output. The buffer-size can be ignored but helps in visiualizing as I wrote.","body":"@Holger Not jdk7 but coyote. Starting the new thread, initializing lambda, load inner clases and their dependencies, all of this took 0ms as you can see in the first line of output. The buffer-size can be ignored but helps in visiualizing as I wrote."},{"owner":{"account_id":9995852,"reputation":6086,"user_id":7393478,"display_name":"Kaddath"},"score":0,"creation_date":1693825634,"post_id":77036447,"comment_id":135806913,"body_markdown":"Have you an absolute need for constant speed for your compression stream? If so what is it? It looks like an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem) to me, synchronizing things is an extremely hard problem, even if the data is uniform, that&#39;s why many systems use buffers. Can a buffer solve your primary need?","body":"Have you an absolute need for constant speed for your compression stream? If so what is it? It looks like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a> to me, synchronizing things is an extremely hard problem, even if the data is uniform, that&#39;s why many systems use buffers. Can a buffer solve your primary need?"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1693826332,"post_id":77036447,"comment_id":135807044,"body_markdown":"@Kaddath AFAIK a buffer is alreay used. It might matter for energy-efficiency because if I calculate correctly a 1.2kb file (throu a 64kb/s bandwidth) is transported 200ms without compression but 400ms with compression. So you loose speed and electricity if you use compression.","body":"@Kaddath AFAIK a buffer is alreay used. It might matter for energy-efficiency because if I calculate correctly a 1.2kb file (throu a 64kb/s bandwidth) is transported 200ms without compression but 400ms with compression. So you loose speed and electricity if you use compression."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693826760,"post_id":77036447,"comment_id":135807114,"body_markdown":"You are assuming that `System.currentTimeMillis()` was a reliable way to measure elapsed time which it is not. But even if we assume that the time is spent after the first milestone, the first time you’re doing a string concatenation and a `System.out.println` is between the first and second milestone. I don’t know what you want to tell me with “Not jdk7 but coyote”. I know that the class `FlushableGZIPOutputStream` is from a 3rd party library. Still, it’s only purpose is to work-around a limitation that doesn’t exist anymore in Java&#160;7, which makes this class obsolete.","body":"You are assuming that <code>System.currentTimeMillis()</code> was a reliable way to measure elapsed time which it is not. But even if we assume that the time is spent after the first milestone, the first time you’re doing a string concatenation and a <code>System.out.println</code> is between the first and second milestone. I don’t know what you want to tell me with “Not jdk7 but coyote”. I know that the class <code>FlushableGZIPOutputStream</code> is from a 3rd party library. Still, it’s only purpose is to work-around a limitation that doesn’t exist anymore in Java 7, which makes this class obsolete."},{"owner":{"account_id":9995852,"reputation":6086,"user_id":7393478,"display_name":"Kaddath"},"score":0,"creation_date":1693826898,"post_id":77036447,"comment_id":135807140,"body_markdown":"Yes there is a threshold under which compression adds time, when I had to implement a compression tool we realized that it was better to disable it under a certain length, which you probably have to test yourself (and it won&#39;t be universally consistent, in our case it was not vital so an average threshold was fine). I fear constant timing will not be your solution, as you can only slow things down to enforce a certain rate","body":"Yes there is a threshold under which compression adds time, when I had to implement a compression tool we realized that it was better to disable it under a certain length, which you probably have to test yourself (and it won&#39;t be universally consistent, in our case it was not vital so an average threshold was fine). I fear constant timing will not be your solution, as you can only slow things down to enforce a certain rate"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1693827222,"post_id":77036447,"comment_id":135807203,"body_markdown":"@Holger Ah, now I got your point. As the FlushableGZIPOutputStream documentation points out the reason are unsolved bugs, since all the bugs that justify the existence of the FlushableGZIPOutputStream-class are solved, I should not use FlushableGZIPOutputStream anymore. That is a perfect answer from my point of view. could you write this as an answer? Ill mark that as the solution. Oh, let me check if the problem is solved then first.","body":"@Holger Ah, now I got your point. As the FlushableGZIPOutputStream documentation points out the reason are unsolved bugs, since all the bugs that justify the existence of the FlushableGZIPOutputStream-class are solved, I should not use FlushableGZIPOutputStream anymore. That is a perfect answer from my point of view. could you write this as an answer? Ill mark that as the solution. Oh, let me check if the problem is solved then first."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693827924,"post_id":77036447,"comment_id":135807346,"body_markdown":"That doesn’t mean that it solves your timing problem. It just means you can simplify your code and eliminate one potential problem source. The actual issue seems to be that GZIP buffers far more than you think, so your loop is far ahead of what the `ByteArrayOutputStream` received, then, a large number of small write requests are issued. Add a `System.out.print(&quot;.&quot;);` at the `sleep` call (which is by the way a `static` method, so you can [and should] write `Thread.sleep(1)`) and you’ll see where the time is spent.","body":"That doesn’t mean that it solves your timing problem. It just means you can simplify your code and eliminate one potential problem source. The actual issue seems to be that GZIP buffers far more than you think, so your loop is far ahead of what the <code>ByteArrayOutputStream</code> received, then, a large number of small write requests are issued. Add a <code>System.out.print(&quot;.&quot;);</code> at the <code>sleep</code> call (which is by the way a <code>static</code> method, so you can [and should] write <code>Thread.sleep(1)</code>) and you’ll see where the time is spent."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1693828310,"post_id":77036447,"comment_id":135807430,"body_markdown":"@Holger I changed the code according to your suggestions. It looks cleaner now, the problem might remain. I mean at some point, the deflator decide to extract a chunk from a couple of 2048-buffers and write multiple 2048-buffers in a bulk update.","body":"@Holger I changed the code according to your suggestions. It looks cleaner now, the problem might remain. I mean at some point, the deflator decide to extract a chunk from a couple of 2048-buffers and write multiple 2048-buffers in a bulk update."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693829073,"post_id":77036447,"comment_id":135807575,"body_markdown":"That’s close to what I said; the GZIP compression operates on a much larger buffer. If you specify a buffer size of, e.g. 13000 to `GZIPOutputStream`, you get a steady sequence of write requests at almost fixed rate. Well, if the data is large enough…","body":"That’s close to what I said; the GZIP compression operates on a much larger buffer. If you specify a buffer size of, e.g. 13000 to <code>GZIPOutputStream</code>, you get a steady sequence of write requests at almost fixed rate. Well, if the data is large enough…"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1693829435,"post_id":77036447,"comment_id":135807647,"body_markdown":"@Holger Ok, and can we reduce that 13000?","body":"@Holger Ok, and can we reduce that 13000?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693830154,"post_id":77036447,"comment_id":135807783,"body_markdown":"I think, you are simply using the wrong tool for your job. The delays are caused by the `sleep` calls. If you want to reduce the bandwidth and can’t configure the socket to have a reduced bandwidth in the first place, implement a kind of `ThrottlingOutputStream` to operate between the `GZIPOutputStream` and the target `OutputStream` rather than trying to control the timing before passing data to the `GZIPOutputStream`.","body":"I think, you are simply using the wrong tool for your job. The delays are caused by the <code>sleep</code> calls. If you want to reduce the bandwidth and can’t configure the socket to have a reduced bandwidth in the first place, implement a kind of <code>ThrottlingOutputStream</code> to operate between the <code>GZIPOutputStream</code> and the target <code>OutputStream</code> rather than trying to control the timing before passing data to the <code>GZIPOutputStream</code>."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1693832056,"post_id":77036447,"comment_id":135808162,"body_markdown":"@Holger If I remove the sleep I got: 1ms for the header, **8**ms for the first line of the first chunk and **9**ms for the first line of the second chunk. That might be constant for the chunks but is not constant for the first lines of every chunk. I introduced the sleep to have others - who may have a faster pc than me - be able to reproduce the problem. Others, having a faster pc than me, might have all-0-timings and downvote and close the question for not-reproducable.","body":"@Holger If I remove the sleep I got: 1ms for the header, <b>8</b>ms for the first line of the first chunk and <b>9</b>ms for the first line of the second chunk. That might be constant for the chunks but is not constant for the first lines of every chunk. I introduced the sleep to have others - who may have a faster pc than me - be able to reproduce the problem. Others, having a faster pc than me, might have all-0-timings and downvote and close the question for not-reproducable."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1693992556,"post_id":77039606,"comment_id":135831458,"body_markdown":"Mind that the timing mostly originates from the 172 `Thread.sleep(1)` calls performed by the writing thread when writing 17200 bytes. By all what we know about the precision of a `sleep(1)` call, getting ~400&#160;ms total for a block is very realistic. For the OP’s concern about write speed, only the ratio between the number of source `write` calls and backend `write` calls matters.","body":"Mind that the timing mostly originates from the 172 <code>Thread.sleep(1)</code> calls performed by the writing thread when writing 17200 bytes. By all what we know about the precision of a <code>sleep(1)</code> call, getting ~400 ms total for a block is very realistic. For the OP’s concern about write speed, only the ratio between the number of source <code>write</code> calls and backend <code>write</code> calls matters."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693847946,"creation_date":1693847946,"answer_id":77039606,"question_id":77036447,"body_markdown":"The jitter in the output timing is due to the fact that to compress the data the `GZIPOutputStream` (actually, the deflater code in [deflate.c](https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/native/libzip/zlib/deflate.c)) needs to buffer the data written into it and only emits a block of compressed data when a certain amount of input data has been added to it.\r\n\r\nI&#39;ve modified your code to get a better understanding of this behaviour:\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.util.Random;\r\n    import java.util.zip.GZIPOutputStream;\r\n    \r\n    public class Snippet {\r\n    \r\n        private static long bytesUncompressed = 0;\r\n        private static long prevMilestone = 0;\r\n    \r\n        public static void main(final String[] args) throws Exception {\r\n            Random r = new Random();\r\n            long startTime = System.currentTimeMillis();\r\n            ByteArrayOutputStream verboseBAOS = new ByteArrayOutputStream() {\r\n                @Override\r\n                public synchronized void write(final byte[] b, final int off, final int len) {\r\n                    long milestone = System.currentTimeMillis() - startTime;\r\n                    System.out.printf(&quot;%n   Wrote (%d bytes, uncompressed: %d, timediff=%d) at ms: %d%n&quot;, len, bytesUncompressed, milestone- prevMilestone, milestone);\r\n                    prevMilestone = milestone;\r\n                    bytesUncompressed = 0;\r\n                }\r\n            };\r\n            GZIPOutputStream bigChunkOs = new GZIPOutputStream(verboseBAOS, 16384);\r\n            new Thread(() -&gt; {\r\n                try {\r\n                    for (int i = 0; i &lt; 2048000; i++) {\r\n                        bytesUncompressed++;\r\n                        bigChunkOs.write(r.nextInt(&#39;A&#39;, &#39;z&#39;));\r\n                        if (i % 100 == 0) {\r\n                            Thread.sleep(1);\r\n                        }\r\n                    }\r\n                    bigChunkOs.close();\r\n                } catch (Exception e) {\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\n\r\nThis code produces on my machine the following output (only the first few lines):\r\n\r\n    Wrote (10 bytes, uncompressed: 0, timediff=1) at ms: 1\r\n    Wrote (12599 bytes, uncompressed: 17287, timediff=461) at ms: 462\r\n    Wrote (12776 bytes, uncompressed: 17251, timediff=475) at ms: 937\r\n    Wrote (12737 bytes, uncompressed: 17191, timediff=434) at ms: 1371\r\n    Wrote (12805 bytes, uncompressed: 17292, timediff=439) at ms: 1810\r\n    Wrote (12768 bytes, uncompressed: 17240, timediff=450) at ms: 2260\r\n    Wrote (12740 bytes, uncompressed: 17201, timediff=442) at ms: 2702\r\n    Wrote (12755 bytes, uncompressed: 17217, timediff=439) at ms: 3141\r\n    Wrote (12742 bytes, uncompressed: 17203, timediff=429) at ms: 3570\r\n    Wrote (12754 bytes, uncompressed: 17216, timediff=431) at ms: 4001\r\n\r\nFrom this it seems that you need to add about 17000 bytes until the deflater writes the first block of compressed data into the underlying OutputStream (the very first block of 10 bytes is the GZIP header) and continues to do so every time you add about 17000 more bytes.\r\n\r\nThe timing for each block is about 430ms - 460ms (this may be due to load on my machine and other factors).\r\n\r\nWhen I compare these numbers with your sample code then the timing your observe actually makes sense:\r\n\r\n- a first block is written into the OutputStream after 207ms, after you&#39;ve added about 17000 bytes of input data and this first block is about 12000 bytes (actually 6*2048 + 367 bytes of output data)\r\n- the second block is written into the OutputStream after 243ms when you close the GZIPOutputStream. This block is from about 3000 bytes of input data and is 2048+483 bytes of output data.","title":"How to have constant streamspeed of a GZIP compression?","body":"<p>The jitter in the output timing is due to the fact that to compress the data the <code>GZIPOutputStream</code> (actually, the deflater code in <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/native/libzip/zlib/deflate.c\" rel=\"nofollow noreferrer\">deflate.c</a>) needs to buffer the data written into it and only emits a block of compressed data when a certain amount of input data has been added to it.</p>\n<p>I've modified your code to get a better understanding of this behaviour:</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.util.Random;\nimport java.util.zip.GZIPOutputStream;\n\npublic class Snippet {\n\n    private static long bytesUncompressed = 0;\n    private static long prevMilestone = 0;\n\n    public static void main(final String[] args) throws Exception {\n        Random r = new Random();\n        long startTime = System.currentTimeMillis();\n        ByteArrayOutputStream verboseBAOS = new ByteArrayOutputStream() {\n            @Override\n            public synchronized void write(final byte[] b, final int off, final int len) {\n                long milestone = System.currentTimeMillis() - startTime;\n                System.out.printf(&quot;%n   Wrote (%d bytes, uncompressed: %d, timediff=%d) at ms: %d%n&quot;, len, bytesUncompressed, milestone- prevMilestone, milestone);\n                prevMilestone = milestone;\n                bytesUncompressed = 0;\n            }\n        };\n        GZIPOutputStream bigChunkOs = new GZIPOutputStream(verboseBAOS, 16384);\n        new Thread(() -&gt; {\n            try {\n                for (int i = 0; i &lt; 2048000; i++) {\n                    bytesUncompressed++;\n                    bigChunkOs.write(r.nextInt('A', 'z'));\n                    if (i % 100 == 0) {\n                        Thread.sleep(1);\n                    }\n                }\n                bigChunkOs.close();\n            } catch (Exception e) {\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>This code produces on my machine the following output (only the first few lines):</p>\n<pre><code>Wrote (10 bytes, uncompressed: 0, timediff=1) at ms: 1\nWrote (12599 bytes, uncompressed: 17287, timediff=461) at ms: 462\nWrote (12776 bytes, uncompressed: 17251, timediff=475) at ms: 937\nWrote (12737 bytes, uncompressed: 17191, timediff=434) at ms: 1371\nWrote (12805 bytes, uncompressed: 17292, timediff=439) at ms: 1810\nWrote (12768 bytes, uncompressed: 17240, timediff=450) at ms: 2260\nWrote (12740 bytes, uncompressed: 17201, timediff=442) at ms: 2702\nWrote (12755 bytes, uncompressed: 17217, timediff=439) at ms: 3141\nWrote (12742 bytes, uncompressed: 17203, timediff=429) at ms: 3570\nWrote (12754 bytes, uncompressed: 17216, timediff=431) at ms: 4001\n</code></pre>\n<p>From this it seems that you need to add about 17000 bytes until the deflater writes the first block of compressed data into the underlying OutputStream (the very first block of 10 bytes is the GZIP header) and continues to do so every time you add about 17000 more bytes.</p>\n<p>The timing for each block is about 430ms - 460ms (this may be due to load on my machine and other factors).</p>\n<p>When I compare these numbers with your sample code then the timing your observe actually makes sense:</p>\n<ul>\n<li>a first block is written into the OutputStream after 207ms, after you've added about 17000 bytes of input data and this first block is about 12000 bytes (actually 6*2048 + 367 bytes of output data)</li>\n<li>the second block is written into the OutputStream after 243ms when you close the GZIPOutputStream. This block is from about 3000 bytes of input data and is 2048+483 bytes of output data.</li>\n</ul>\n"}],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693847946,"creation_date":1693818676,"question_id":77036447,"body_markdown":"I try to compress-stream a long running process&#39;s output. The process is streaming by a constant speed. The compressed output is at a inconstant speed but I do not know why.\r\n\r\nExample: \r\n\r\n\t\r\n\timport java.io.ByteArrayOutputStream;\r\n\timport java.util.Random;\r\n\timport java.util.zip.GZIPOutputStream;\r\n\t\r\n\tpublic class Snippet {\r\n\t\r\n\t\tpublic static void main(final String[] args) throws Exception {\r\n\t\t\tlong startTime = System.currentTimeMillis();\r\n\t\t\tByteArrayOutputStream verboseBAOS = new ByteArrayOutputStream() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic synchronized void write(final byte[] b, final int off, final int len) {\r\n\t\t\t\t\tlong milestone = System.currentTimeMillis() - startTime;\r\n\t\t\t\t\tSystem.out.println(&quot;   Wrote (&quot; + len + &quot; bytes) at ms: &quot; + milestone);\r\n\t\t\t\t\tsuper.write(b, off, len);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tGZIPOutputStream bigChunkOs = new GZIPOutputStream(verboseBAOS, 2048);\r\n\t\t\tnew Thread(() -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor (int i = 0; i &lt; 20480; i++) {\r\n\t\t\t\t\t\tbigChunkOs.write(new Random().nextInt(&#39;A&#39;, &#39;z&#39;));\r\n\t\t\t\t\t\tif (i % 100 == 0) {\r\n\t\t\t\t\t\t\tSystem.out.print(&quot;.&quot;);\r\n\t\t\t\t\t\t\tThread.sleep(1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbigChunkOs.close();\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t}\r\n\t\t\t}).start();\r\n\t\t}\r\n\t}\r\n\r\nThis is my output:\r\n\r\n\t       Wrote (10 bytes) at ms: 1\r\n\t..............................................................................................................................................................................   Wrote (2048 bytes) at ms: 207\r\n\t      Wrote (2048 bytes) at ms: 207\r\n\t      Wrote (2048 bytes) at ms: 207\r\n\t      Wrote (2048 bytes) at ms: 207\r\n\t      Wrote (2048 bytes) at ms: 207\r\n\t      Wrote (2048 bytes) at ms: 207\r\n\t      Wrote (367 bytes) at ms: 207\r\n\t   ...............................   Wrote (2048 bytes) at ms: 243\r\n\t      Wrote (483 bytes) at ms: 243\r\n\r\nAs you can see, we have 3 steps.\r\n\r\n1. Header (~10ms)\r\n2. First block (~207ms)\r\n3. Second block (~243ms)\r\n\r\nBut I expect more balanced blocks without that ~203ms gap. \r\n\r\nWhat to do?","title":"How to have constant streamspeed of a GZIP compression?","body":"<p>I try to compress-stream a long running process's output. The process is streaming by a constant speed. The compressed output is at a inconstant speed but I do not know why.</p>\n<p>Example:</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.util.Random;\nimport java.util.zip.GZIPOutputStream;\n\npublic class Snippet {\n\n    public static void main(final String[] args) throws Exception {\n        long startTime = System.currentTimeMillis();\n        ByteArrayOutputStream verboseBAOS = new ByteArrayOutputStream() {\n            @Override\n            public synchronized void write(final byte[] b, final int off, final int len) {\n                long milestone = System.currentTimeMillis() - startTime;\n                System.out.println(&quot;   Wrote (&quot; + len + &quot; bytes) at ms: &quot; + milestone);\n                super.write(b, off, len);\n            }\n        };\n        GZIPOutputStream bigChunkOs = new GZIPOutputStream(verboseBAOS, 2048);\n        new Thread(() -&gt; {\n            try {\n                for (int i = 0; i &lt; 20480; i++) {\n                    bigChunkOs.write(new Random().nextInt('A', 'z'));\n                    if (i % 100 == 0) {\n                        System.out.print(&quot;.&quot;);\n                        Thread.sleep(1);\n                    }\n                }\n                bigChunkOs.close();\n            } catch (Exception e) {\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>This is my output:</p>\n<pre><code>       Wrote (10 bytes) at ms: 1\n..............................................................................................................................................................................   Wrote (2048 bytes) at ms: 207\n      Wrote (2048 bytes) at ms: 207\n      Wrote (2048 bytes) at ms: 207\n      Wrote (2048 bytes) at ms: 207\n      Wrote (2048 bytes) at ms: 207\n      Wrote (2048 bytes) at ms: 207\n      Wrote (367 bytes) at ms: 207\n   ...............................   Wrote (2048 bytes) at ms: 243\n      Wrote (483 bytes) at ms: 243\n</code></pre>\n<p>As you can see, we have 3 steps.</p>\n<ol>\n<li>Header (~10ms)</li>\n<li>First block (~207ms)</li>\n<li>Second block (~243ms)</li>\n</ol>\n<p>But I expect more balanced blocks without that ~203ms gap.</p>\n<p>What to do?</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1693847964,"post_id":77039545,"comment_id":135811114,"body_markdown":"You could use reflection or create an `ItemObject` class that holds an `Object` and a `Class`,  The application program would pass a `List` of `ItemObject` instances to your library.","body":"You could use reflection or create an <code>ItemObject</code> class that holds an <code>Object</code> and a <code>Class</code>,  The application program would pass a <code>List</code> of <code>ItemObject</code> instances to your library."},{"owner":{"account_id":397984,"reputation":537,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"score":1,"creation_date":1693849637,"post_id":77039545,"comment_id":135811370,"body_markdown":"@GilbertLeBlanc - Considering creating a Interface in Library `Recordable` and a method inside it - `Recordable getObjectState()` and let the application code use the interface to provide an implementation of what needs to be recorded.","body":"@GilbertLeBlanc - Considering creating a Interface in Library <code>Recordable</code> and a method inside it - <code>Recordable getObjectState()</code> and let the application code use the interface to provide an implementation of what needs to be recorded."}],"owner":{"account_id":397984,"reputation":537,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693847183,"creation_date":1693847183,"question_id":77039545,"body_markdown":"I am working on creating a library in Java for recording arguments of a method before and after the execution, as below:\r\n\r\nLibrary code:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface RecordArgs {\r\n    }\r\n\r\n    @Aspect\r\n    public class RecordMethodArgsAspect {\r\n    \r\n        @Before(&quot;@annotation(RecordArgs)&quot;)\r\n        public Object logMethod(ProceedingJoinPoint joinPoint) throws Throwable {\r\n             //record method arguments i.e. Item object in below example\r\n        }\r\n    }\r\n\r\n\r\nApplication code (client of library)\r\n\r\n    class Item {\r\n        private String name;\r\n        private String id;\r\n        // mutable private fields\r\n    \r\n        public Item(String name, String id) {\r\n            this.name=name;\r\n            this.id=id;\r\n        }\r\n    \r\n        // getter and setters\r\n    \r\n    }\r\n\r\n    class ItemVisitor {\r\n        @RecordArgs\r\n        public void visit(Item item) {\r\n            // export item object\r\n        \r\n            // business logic which mutates item\r\n    \r\n            // export item object\r\n        }\r\n    }\r\n\r\n**Question**: I want to provide a way to the application code i.e. class &#39;Item&#39; in this case to specify what field values or what data should be recorded when &#39;logMethod&#39; is invoked, the idea being that in future if the structure of &#39;Item&#39; class changes then there shouldn&#39;t be a need to change the library. How can I achieve this?","title":"Java - Building a contract between a library and its client","body":"<p>I am working on creating a library in Java for recording arguments of a method before and after the execution, as below:</p>\n<p>Library code:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface RecordArgs {\n}\n\n@Aspect\npublic class RecordMethodArgsAspect {\n\n    @Before(&quot;@annotation(RecordArgs)&quot;)\n    public Object logMethod(ProceedingJoinPoint joinPoint) throws Throwable {\n         //record method arguments i.e. Item object in below example\n    }\n}\n</code></pre>\n<p>Application code (client of library)</p>\n<pre><code>class Item {\n    private String name;\n    private String id;\n    // mutable private fields\n\n    public Item(String name, String id) {\n        this.name=name;\n        this.id=id;\n    }\n\n    // getter and setters\n\n}\n\nclass ItemVisitor {\n    @RecordArgs\n    public void visit(Item item) {\n        // export item object\n    \n        // business logic which mutates item\n\n        // export item object\n    }\n}\n</code></pre>\n<p><strong>Question</strong>: I want to provide a way to the application code i.e. class 'Item' in this case to specify what field values or what data should be recorded when 'logMethod' is invoked, the idea being that in future if the structure of 'Item' class changes then there shouldn't be a need to change the library. How can I achieve this?</p>\n"},{"tags":["java","apache","apache2","tomcat7"],"comments":[{"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"score":0,"creation_date":1396014604,"post_id":22714650,"comment_id":34614084,"body_markdown":"Take a look at this - http://stackoverflow.com/questions/2659952/maximum-length-of-http-get-request and http://stackoverflow.com/questions/2943477/is-there-a-max-size-for-post-parameter-content","body":"Take a look at this - <a href=\"http://stackoverflow.com/questions/2659952/maximum-length-of-http-get-request\" title=\"maximum length of http get request\">stackoverflow.com/questions/2659952/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/2943477/is-there-a-max-size-for-post-parameter-content\" title=\"is there a max size for post parameter content\">stackoverflow.com/questions/2943477/&hellip;</a>"},{"owner":{"account_id":3370660,"reputation":69,"user_id":2829944,"accept_rate":14,"display_name":"Priya"},"score":0,"creation_date":1396016196,"post_id":22714650,"comment_id":34615192,"body_markdown":"@Octopus thanks for your link. i have tried it but still is not helpful. Can u provide some other soln???","body":"@Octopus thanks for your link. i have tried it but still is not helpful. Can u provide some other soln???"},{"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"score":0,"creation_date":1396018569,"post_id":22714650,"comment_id":34616878,"body_markdown":"Since you are using the AJP connector you must have a reverse proxy such as Apache httpd. You&#39;ll need to raise the limits in httpd.conf as well.","body":"Since you are using the AJP connector you must have a reverse proxy such as Apache httpd. You&#39;ll need to raise the limits in httpd.conf as well."}],"answers":[{"tags":[],"owner":{"account_id":7764887,"reputation":111,"user_id":5876356,"display_name":"Mathew Augustine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478782458,"creation_date":1475728205,"answer_id":39887549,"question_id":22714650,"body_markdown":"This may be a bit old thread, but just in case if anyone come across this one.\r\n\r\n&gt; 413 request entity too large\r\n\r\nIf your url encounter this error when trying to download large files, modify the configuration as below.\r\n\r\nEdit your **workers.properties** file for the site.\r\n\r\nOn Ubuntu, this could be typically at \r\n\r\n&gt; /etc/libapache2-mod-jk/workers.properties\r\n\r\nAdd\r\n\r\n&gt; worker.&amp;lt;yoursite&amp;gt;.max_packet_size=65536","title":"Request entity too large error","body":"<p>This may be a bit old thread, but just in case if anyone come across this one.</p>\n\n<blockquote>\n  <p>413 request entity too large</p>\n</blockquote>\n\n<p>If your url encounter this error when trying to download large files, modify the configuration as below.</p>\n\n<p>Edit your <strong>workers.properties</strong> file for the site.</p>\n\n<p>On Ubuntu, this could be typically at </p>\n\n<blockquote>\n  <p>/etc/libapache2-mod-jk/workers.properties</p>\n</blockquote>\n\n<p>Add</p>\n\n<blockquote>\n  <p>worker.&lt;yoursite&gt;.max_packet_size=65536</p>\n</blockquote>\n"}],"owner":{"account_id":3370660,"reputation":69,"user_id":2829944,"accept_rate":14,"display_name":"Priya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693847075,"creation_date":1396014431,"question_id":22714650,"body_markdown":"Currently in my project, I am getting the following errors \r\n\r\n    1) Request entity too large error, The requested resource does not allow request Data with GET Requests, or the amount of the data provided in the request exceeds the capacity limit\r\n    2) Request entity too large error, The requested resource does not allow request Data with POST Requests, or the amount of the data provided in the request exceeds the capacity limit**\r\n\r\nI get these error while I submit my pages at different modules. I use tomcat 7 and apache in my project. I have made changes in tomcats server.xml as \r\n\r\n    &lt;Connector port=&quot;8109&quot; protocol=&quot;AJP/1.3&quot; redirectPort=&quot;8443&quot; maxPostSize=&quot;-1&quot; packetSize=&quot;65536&quot;/&gt;\r\n\r\nBut I am still getting the same error. Can anyone guide me where else I need to make changes to avoid this problem?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Request entity too large error","body":"<p>Currently in my project, I am getting the following errors </p>\n\n<pre><code>1) Request entity too large error, The requested resource does not allow request Data with GET Requests, or the amount of the data provided in the request exceeds the capacity limit\n2) Request entity too large error, The requested resource does not allow request Data with POST Requests, or the amount of the data provided in the request exceeds the capacity limit**\n</code></pre>\n\n<p>I get these error while I submit my pages at different modules. I use tomcat 7 and apache in my project. I have made changes in tomcats server.xml as </p>\n\n<pre><code>&lt;Connector port=\"8109\" protocol=\"AJP/1.3\" redirectPort=\"8443\" maxPostSize=\"-1\" packetSize=\"65536\"/&gt;\n</code></pre>\n\n<p>But I am still getting the same error. Can anyone guide me where else I need to make changes to avoid this problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":4,"creation_date":1693845140,"post_id":77039329,"comment_id":135810679,"body_markdown":"You say `customerList[]`, but I read that as an array of `customerList`. Posting real code examples instead of pseudo-code might help clarify that. That said, I would be remiss to mix the functionality of the `Customer` with the container that holds it. Unless there&#39;s a reason to have Customers linked to other customers, the container for them need not be involved at all. If you do keep those references, then there&#39;s no need for a separate container for the customers in the end, the `Customer` object can simply hold them.","body":"You say <code>customerList[]</code>, but I read that as an array of <code>customerList</code>. Posting real code examples instead of pseudo-code might help clarify that. That said, I would be remiss to mix the functionality of the <code>Customer</code> with the container that holds it. Unless there&#39;s a reason to have Customers linked to other customers, the container for them need not be involved at all. If you do keep those references, then there&#39;s no need for a separate container for the customers in the end, the <code>Customer</code> object can simply hold them."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1693845178,"post_id":77039329,"comment_id":135810688,"body_markdown":"(It sounds like you&#39;re perhaps trying to implement a linked list, but I&#39;ll wait for more info)","body":"(It sounds like you&#39;re perhaps trying to implement a linked list, but I&#39;ll wait for more info)"},{"owner":{"account_id":26018579,"reputation":1,"user_id":19726583,"display_name":"fdhl"},"score":0,"creation_date":1693846280,"post_id":77039329,"comment_id":135810867,"body_markdown":"Hi rogue, tq for answering. Ive updated the code to be more nicely. I dont actually have a code, since this is only a theoritical question. That being said, i realize how to do this. instead of using a ref to another object, i can simply clone the object, thus creating a new copy. then if i need to identify them back, i can just use method customer.equal() to trace back which is which. doesnt feel like this is good practice however. tq regardless!","body":"Hi rogue, tq for answering. Ive updated the code to be more nicely. I dont actually have a code, since this is only a theoritical question. That being said, i realize how to do this. instead of using a ref to another object, i can simply clone the object, thus creating a new copy. then if i need to identify them back, i can just use method customer.equal() to trace back which is which. doesnt feel like this is good practice however. tq regardless!"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1693846412,"post_id":77039329,"comment_id":135810888,"body_markdown":"@fdhl Why does a customer reference another customer? What is the purpose of the `upline` field? Also, why is the phone number an `int` value? It should be something like a string instead (or maybe even a new class with &quot;local number&quot; and &quot;area code&quot;, if necessary...).","body":"@fdhl Why does a customer reference another customer? What is the purpose of the <code>upline</code> field? Also, why is the phone number an <code>int</code> value? It should be something like a string instead (or maybe even a new class with &quot;local number&quot; and &quot;area code&quot;, if necessary...)."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":3,"creation_date":1693847246,"post_id":77039329,"comment_id":135811004,"body_markdown":"Don&#39;t confuse ArrayLists for arrays, those are two _completely_ different things. Arrays are language primitives for fixed sized, typed slot lists that must be (pre)allocated to a specific number of slots, indexed using square brackets. ArrayLists are a datastructure _object_ that is not sized and allows arbitrary content (unless restricted via generics) and that you interact with using methods, just like any other object. If you show ArrayList code first, and then array code after, the only proper answer is &quot;if this is the level you&#39;re at right now, learn the rest of Java basics first&quot;.","body":"Don&#39;t confuse ArrayLists for arrays, those are two <i>completely</i> different things. Arrays are language primitives for fixed sized, typed slot lists that must be (pre)allocated to a specific number of slots, indexed using square brackets. ArrayLists are a datastructure <i>object</i> that is not sized and allows arbitrary content (unless restricted via generics) and that you interact with using methods, just like any other object. If you show ArrayList code first, and then array code after, the only proper answer is &quot;if this is the level you&#39;re at right now, learn the rest of Java basics first&quot;."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1693847424,"post_id":77039329,"comment_id":135811037,"body_markdown":"Short answers: `Do i need to reupdate everything?`: Probably, if you don&#39;t want customer 3 to refer to customer 2 anymore after it&#39;s removed from the list; but you know your requirements better than we do. — `Is there a smarter way of doing this?`: No","body":"Short answers: <code>Do i need to reupdate everything?</code>: Probably, if you don&#39;t want customer 3 to refer to customer 2 anymore after it&#39;s removed from the list; but you know your requirements better than we do. — <code>Is there a smarter way of doing this?</code>: No"},{"owner":{"account_id":397984,"reputation":537,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"score":0,"creation_date":1693848091,"post_id":77039329,"comment_id":135811130,"body_markdown":"Tough to say without knowing the exact requirements but probably having some  abstraction on Customer class which provides the ability to specify if the customer is active or not in the list.","body":"Tough to say without knowing the exact requirements but probably having some  abstraction on Customer class which provides the ability to specify if the customer is active or not in the list."}],"owner":{"account_id":26018579,"reputation":1,"user_id":19726583,"display_name":"fdhl"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693847051,"creation_date":1693844568,"question_id":77039329,"body_markdown":"Lets say i have\r\n\r\n```java\r\nclass Customer{\r\n  int phone; //unique for each customer\r\n  Customer upline; //ref to another customer object\r\n}\r\n```\r\n\r\nand i have an arraylist of customer,\r\n\r\n```java\r\nArrayList&lt;Customer&gt; customerList = new ArrayList&lt;&gt;();\r\n```\r\n\r\nassume customerList[3] is the following\r\n\r\n```java\r\ncustomerList[3]{\r\n  //013-456789\r\n  //customerList[2]\r\n}\r\n```\r\n\r\nI understand on how to implement this. when registering customer, i will enter the uplineCustomer phone number and get the array number.\r\n\r\nAfter that, use `customerList[3].setUplineCustomer(customerList[2])`\r\n\r\nBut what if later im removing a object from customerList array? eg `customerList.remove(1)`\r\n\r\nDo i need to reupdate everything? Is there a smarter way of doing this?","title":"How do i link an object inside another object, assuming both are the same class and both are in an arraylist?","body":"<p>Lets say i have</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Customer{\n  int phone; //unique for each customer\n  Customer upline; //ref to another customer object\n}\n</code></pre>\n<p>and i have an arraylist of customer,</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Customer&gt; customerList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>assume customerList[3] is the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>customerList[3]{\n  //013-456789\n  //customerList[2]\n}\n</code></pre>\n<p>I understand on how to implement this. when registering customer, i will enter the uplineCustomer phone number and get the array number.</p>\n<p>After that, use <code>customerList[3].setUplineCustomer(customerList[2])</code></p>\n<p>But what if later im removing a object from customerList array? eg <code>customerList.remove(1)</code></p>\n<p>Do i need to reupdate everything? Is there a smarter way of doing this?</p>\n"},{"tags":["java","android","json","jackson"],"comments":[{"owner":{"account_id":4326511,"reputation":8441,"user_id":3533191,"accept_rate":62,"display_name":"Syam S"},"score":2,"creation_date":1406126404,"post_id":24912992,"comment_id":38707472,"body_markdown":"Why not use a similar approach as mentioned in this GSon solution with just one custom deserializer?","body":"Why not use a similar approach as mentioned in this GSon solution with just one custom deserializer?"},{"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"score":1,"creation_date":1406129306,"post_id":24912992,"comment_id":38709849,"body_markdown":"http://wiki.fasterxml.com/JacksonFAQDateHandling","body":"<a href=\"http://wiki.fasterxml.com/JacksonFAQDateHandling\" rel=\"nofollow noreferrer\">wiki.fasterxml.com/JacksonFAQDateHandling</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1694667619,"post_id":24912992,"comment_id":135921939,"body_markdown":"For new readers to the answers below I recommend you use java.time, the modern Java date and time API, and not the outdated and poorly designed `Date` class used in most answers. There is [one answer using java.time](https://stackoverflow.com/a/77039528/5772882).","body":"For new readers to the answers below I recommend you use java.time, the modern Java date and time API, and not the outdated and poorly designed <code>Date</code> class used in most answers. There is <a href=\"https://stackoverflow.com/a/77039528/5772882\">one answer using java.time</a>."}],"answers":[{"comments":[{"owner":{"account_id":1729017,"reputation":1654,"user_id":1610553,"display_name":"bernard paulus"},"score":7,"creation_date":1562771582,"post_id":32869454,"comment_id":100483691,"body_markdown":"@Keno right, but as of now (jackson 2.9.9), this does neither support muliple `@JsonFormat` annotations nor [DateTimeFormatter](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html)-style optional parts. @rouble &#39;s answer is currently the way to go for multiple formats :)","body":"@Keno right, but as of now (jackson 2.9.9), this does neither support muliple <code>@JsonFormat</code> annotations nor <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a>-style optional parts. @rouble &#39;s answer is currently the way to go for multiple formats :)"}],"tags":[],"owner":{"account_id":1022577,"reputation":307,"user_id":1032558,"accept_rate":100,"display_name":"Keno"},"comment_count":1,"down_vote_count":5,"up_vote_count":10,"is_accepted":false,"score":5,"last_activity_date":1443625250,"creation_date":1443625250,"answer_id":32869454,"question_id":24912992,"body_markdown":"In the meanwhile, an annotation became available for a much simpler solution: \r\n\r\n    public class DateStuff {\r\n        @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd,HH:00&quot;, timezone=&quot;CET&quot;)\r\n        public Date creationTime;\r\n    }","title":"Configure Jackson to parse multiple date formats","body":"<p>In the meanwhile, an annotation became available for a much simpler solution: </p>\n\n<pre><code>public class DateStuff {\n    @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=\"yyyy-MM-dd,HH:00\", timezone=\"CET\")\n    public Date creationTime;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4457605,"reputation":225,"user_id":3627364,"display_name":"WhiteWolfza"},"score":1,"creation_date":1660203511,"post_id":42567051,"comment_id":129478618,"body_markdown":"can also be implemented as follows:\n SimpleModule module = new SimpleModule();\n        module.addDeserializer(Date.class,new MultiDateDeserializer());\n        mapper.registerModule(module);","body":"can also be implemented as follows:  SimpleModule module = new SimpleModule();         module.addDeserializer(Date.class,new MultiDateDeserializer());         mapper.registerModule(module);"},{"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"score":0,"creation_date":1666214444,"post_id":42567051,"comment_id":130885971,"body_markdown":"DO NOT create instance of SimpleDateFormat on each parsing. Save them pre-created similarly like DATE_FORMATS. (I would edit code, if queue was not full).","body":"DO NOT create instance of SimpleDateFormat on each parsing. Save them pre-created similarly like DATE_FORMATS. (I would edit code, if queue was not full)."},{"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"score":0,"creation_date":1677689865,"post_id":42567051,"comment_id":133388909,"body_markdown":"This is an awesome answer, but if someone needs to do this but with LocalDateTime, there are some great options. You can use a DateTimeFormatterBuilder to add optional conditions. More info on that here:\nhttps://stackoverflow.com/a/40175568/6477292","body":"This is an awesome answer, but if someone needs to do this but with LocalDateTime, there are some great options. You can use a DateTimeFormatterBuilder to add optional conditions. More info on that here: <a href=\"https://stackoverflow.com/a/40175568/6477292\">stackoverflow.com/a/40175568/6477292</a>"}],"tags":[],"owner":{"account_id":74948,"reputation":16753,"user_id":215120,"accept_rate":72,"display_name":"rouble"},"comment_count":3,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1666296624,"creation_date":1488492939,"answer_id":42567051,"question_id":24912992,"body_markdown":"Here is a Jackson Multi Date Format Serializer. \r\n\r\n    import com.fasterxml.jackson.core.JsonParseException;\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n    \r\n    import java.io.IOException;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.Instant;\r\n    import java.util.Arrays;\r\n    import java.util.stream.Collectors;\r\n    \r\n    /**\r\n     * https://stackoverflow.com/a/42567051/11152683\r\n     */\r\n    public class MultiDateDeserializer extends StdDeserializer&lt;Date&gt; {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        private static final SimpleDateFormat[] DATE_FORMATTERS = new SimpleDateFormat[]{\r\n                new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss Z&quot;),\r\n                new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&#39; UTC&#39;&quot;)\r\n        };\r\n    \r\n        public MultiDateDeserializer() {\r\n            this(null);\r\n        }\r\n    \r\n        public MultiDateDeserializer(Class&lt;?&gt; vc) {\r\n            super(vc);\r\n        }\r\n    \r\n        @Override\r\n        public Date deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n            JsonNode node = jp.getCodec().readTree(jp);\r\n            final String date = node.textValue();\r\n    \r\n            for (SimpleDateFormat formatter : DATE_FORMATTERS) {\r\n                try {\r\n                    return formatter.parse(date); //.toInstant();\r\n                } catch (ParseException e) {\r\n                }\r\n            }\r\n            throw new JsonParseException(jp, &quot;Unparseable date: \\&quot;&quot; + date + &quot;\\&quot;. Supported formats: &quot; +\r\n                    Arrays.stream(DATE_FORMATTERS).map(SimpleDateFormat::toPattern).collect(Collectors.joining(&quot;; &quot;)));\r\n        }\r\n    }\r\n\r\nYou can use this simply by annotating a field as follows:\r\n\r\n    @JsonProperty(&quot;date&quot;) @JsonDeserialize(using = MultiDateDeserializer.class) final Date date,","title":"Configure Jackson to parse multiple date formats","body":"<p>Here is a Jackson Multi Date Format Serializer.</p>\n<pre><code>import com.fasterxml.jackson.core.JsonParseException;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\n\nimport java.io.IOException;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.Instant;\nimport java.util.Arrays;\nimport java.util.stream.Collectors;\n\n/**\n * https://stackoverflow.com/a/42567051/11152683\n */\npublic class MultiDateDeserializer extends StdDeserializer&lt;Date&gt; {\n    private static final long serialVersionUID = 1L;\n\n    private static final SimpleDateFormat[] DATE_FORMATTERS = new SimpleDateFormat[]{\n            new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss Z&quot;),\n            new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm' UTC'&quot;)\n    };\n\n    public MultiDateDeserializer() {\n        this(null);\n    }\n\n    public MultiDateDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public Date deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        JsonNode node = jp.getCodec().readTree(jp);\n        final String date = node.textValue();\n\n        for (SimpleDateFormat formatter : DATE_FORMATTERS) {\n            try {\n                return formatter.parse(date); //.toInstant();\n            } catch (ParseException e) {\n            }\n        }\n        throw new JsonParseException(jp, &quot;Unparseable date: \\&quot;&quot; + date + &quot;\\&quot;. Supported formats: &quot; +\n                Arrays.stream(DATE_FORMATTERS).map(SimpleDateFormat::toPattern).collect(Collectors.joining(&quot;; &quot;)));\n    }\n}\n</code></pre>\n<p>You can use this simply by annotating a field as follows:</p>\n<pre><code>@JsonProperty(&quot;date&quot;) @JsonDeserialize(using = MultiDateDeserializer.class) final Date date,\n</code></pre>\n"},{"comments":[{"owner":{"account_id":465553,"reputation":4572,"user_id":869702,"accept_rate":40,"display_name":"Jason White"},"score":0,"creation_date":1635288588,"post_id":65763247,"comment_id":123256349,"body_markdown":"The `StdDateFormat` is already the default `DateFormat` in `ObjectMapper`","body":"The <code>StdDateFormat</code> is already the default <code>DateFormat</code> in <code>ObjectMapper</code>"}],"tags":[],"owner":{"account_id":4856729,"reputation":4150,"user_id":3917465,"accept_rate":29,"display_name":"Code_Worm"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610901480,"creation_date":1610901480,"answer_id":65763247,"question_id":24912992,"body_markdown":"A better solution is to use `StdDateFormat` instead. It&#39;s Jackson&#39;s built-in Date formatter and supports most of the variations of Date formats. Use it like below\r\n\r\n    StdDateFormat isoDate = new StdDateFormat();\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.setDateFormat(isoDate);\r\n","title":"Configure Jackson to parse multiple date formats","body":"<p>A better solution is to use <code>StdDateFormat</code> instead. It's Jackson's built-in Date formatter and supports most of the variations of Date formats. Use it like below</p>\n<pre><code>StdDateFormat isoDate = new StdDateFormat();\nObjectMapper mapper = new ObjectMapper();\nmapper.setDateFormat(isoDate);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6275086,"reputation":1003,"user_id":4877989,"accept_rate":56,"display_name":"piuspbd"},"score":0,"creation_date":1699260957,"post_id":73800491,"comment_id":136504498,"body_markdown":"Beware that pattern in `@JsonFormat` is not only used for deserialization, but also serialization. On serialization, all pattern inside `[` and `]` will be evaluated. The above pattern will produce `&quot;Nov 01, 2023 00:00:00Nov 01, 20232023-11-01T00:00:00+0700&quot;`.","body":"Beware that pattern in <code>@JsonFormat</code> is not only used for deserialization, but also serialization. On serialization, all pattern inside <code>[</code> and <code>]</code> will be evaluated. The above pattern will produce <code>&quot;Nov 01, 2023 00:00:00Nov 01, 20232023-11-01T00:00:00+0700&quot;</code>."}],"tags":[],"owner":{"account_id":83082,"reputation":666,"user_id":233163,"display_name":"SPee"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1663762232,"creation_date":1663762232,"answer_id":73800491,"question_id":24912992,"body_markdown":"You can use the optional section to define multiple formats:\r\n\r\n    public class DateStuff {\r\n        @JsonFormat(pattern=&quot;[MMM dd, yyyy HH:mm:ss][MMM dd, yyyy][yyyy-MM-dd&#39;T&#39;HH:mm:ssZ]&quot;)\r\n        public Date creationTime;\r\n        @JsonFormat(pattern=&quot;MMM dd, yyyy[ HH:mm:ss]&quot;)\r\n        public Date anotherCreationTime;\r\n    }\r\n\r\nThe first defines two completely different formats. The second where only a small portion is optional.","title":"Configure Jackson to parse multiple date formats","body":"<p>You can use the optional section to define multiple formats:</p>\n<pre><code>public class DateStuff {\n    @JsonFormat(pattern=&quot;[MMM dd, yyyy HH:mm:ss][MMM dd, yyyy][yyyy-MM-dd'T'HH:mm:ssZ]&quot;)\n    public Date creationTime;\n    @JsonFormat(pattern=&quot;MMM dd, yyyy[ HH:mm:ss]&quot;)\n    public Date anotherCreationTime;\n}\n</code></pre>\n<p>The first defines two completely different formats. The second where only a small portion is optional.</p>\n"},{"tags":[],"owner":{"account_id":1437465,"reputation":6412,"user_id":1358536,"accept_rate":90,"display_name":"kavai77"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693846950,"creation_date":1693846950,"answer_id":77039528,"question_id":24912992,"body_markdown":"If you want to deserialize `LocalDateTime`, here is a similar solution to `@rouble&#39;s`\r\n\r\n```\r\nimport com.fasterxml.jackson.core.JsonParseException;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.core.TreeNode;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\nimport com.fasterxml.jackson.databind.node.TextNode;\r\n\r\nimport java.io.IOException;\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.format.DateTimeParseException;\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class MultiDateDeserializer extends StdDeserializer&lt;LocalDateTime&gt; {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    private static final DateTimeFormatter[] DATE_FORMATTERS = new DateTimeFormatter[]{\r\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;),\r\n            DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm&quot;)\r\n    };\r\n\r\n    public MultiDateDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public MultiDateDeserializer(Class&lt;?&gt; vc) {\r\n        super(vc);\r\n    }\r\n\r\n    @Override\r\n    public LocalDateTime deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n        TreeNode treeNode = jp.getCodec().readTree(jp);\r\n        TextNode textNode = treeNode instanceof TextNode\r\n                ? (TextNode) treeNode\r\n                : ((TextNode) treeNode.get(&quot;&quot;));\r\n        final String date = textNode.textValue();\r\n\r\n        for (var formatter : DATE_FORMATTERS) {\r\n            try {\r\n                return LocalDateTime.parse(date, formatter);\r\n            } catch (DateTimeParseException e) {\r\n            }\r\n        }\r\n        throw new JsonParseException(jp, &quot;Unparseable date: \\&quot;&quot; + date + &quot;\\&quot;. Supported formats: &quot; +\r\n                Arrays.stream(DATE_FORMATTERS).map(DateTimeFormatter::toString).collect(Collectors.joining(&quot;; &quot;)));\r\n    }\r\n}\r\n```","title":"Configure Jackson to parse multiple date formats","body":"<p>If you want to deserialize <code>LocalDateTime</code>, here is a similar solution to <code>@rouble's</code></p>\n<pre><code>import com.fasterxml.jackson.core.JsonParseException;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.TreeNode;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\nimport com.fasterxml.jackson.databind.node.TextNode;\n\nimport java.io.IOException;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeParseException;\nimport java.util.Arrays;\nimport java.util.stream.Collectors;\n\npublic class MultiDateDeserializer extends StdDeserializer&lt;LocalDateTime&gt; {\n    private static final long serialVersionUID = 1L;\n\n    private static final DateTimeFormatter[] DATE_FORMATTERS = new DateTimeFormatter[]{\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;),\n            DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm&quot;)\n    };\n\n    public MultiDateDeserializer() {\n        this(null);\n    }\n\n    public MultiDateDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public LocalDateTime deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        TreeNode treeNode = jp.getCodec().readTree(jp);\n        TextNode textNode = treeNode instanceof TextNode\n                ? (TextNode) treeNode\n                : ((TextNode) treeNode.get(&quot;&quot;));\n        final String date = textNode.textValue();\n\n        for (var formatter : DATE_FORMATTERS) {\n            try {\n                return LocalDateTime.parse(date, formatter);\n            } catch (DateTimeParseException e) {\n            }\n        }\n        throw new JsonParseException(jp, &quot;Unparseable date: \\&quot;&quot; + date + &quot;\\&quot;. Supported formats: &quot; +\n                Arrays.stream(DATE_FORMATTERS).map(DateTimeFormatter::toString).collect(Collectors.joining(&quot;; &quot;)));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3436939,"reputation":807,"user_id":2879847,"accept_rate":50,"display_name":"Kurian Vithayathil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27709,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1693846950,"creation_date":1406125062,"question_id":24912992,"body_markdown":"I am working on a project where the date formats returned in JSON payloads aren&#39;t consistent (that&#39;s another issue all together). The project I&#39;m working on uses Jackson to parse the JSON responses. Right now I&#39;ve written a few de/serializers to handle it but it&#39;s not elegant.\r\n\r\nI want to know whether there&#39;s a way to configure Jackson with a set of possible date formats to parse for a particular response rather than writing several separate deserializers for each format. Similar to [how GSON handles the problem in this question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18337283","title":"Configure Jackson to parse multiple date formats","body":"<p>I am working on a project where the date formats returned in JSON payloads aren't consistent (that's another issue all together). The project I'm working on uses Jackson to parse the JSON responses. Right now I've written a few de/serializers to handle it but it's not elegant.</p>\n\n<p>I want to know whether there's a way to configure Jackson with a set of possible date formats to parse for a particular response rather than writing several separate deserializers for each format. Similar to <a href=\"https://stackoverflow.com/a/18337283\">how GSON handles the problem in this question</a></p>\n"},{"tags":["java","xml","xslt","solaris"],"answers":[{"tags":[],"owner":{"account_id":430557,"reputation":3444,"user_id":814074,"accept_rate":50,"display_name":"Sachin"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1363349830,"creation_date":1363349830,"answer_id":15432253,"question_id":15432145,"body_markdown":"Try to execute below code:\r\n\r\n    DOMSource sourcexml = new DOMSource(doc);\r\n    StreamResult resultxml = new StreamResult(new File(&quot;file.xml&quot;).getAbsolutePath());\r\n    transformer.transform(sourcexml, resultxml); ","title":"XML Transform results in FileNotFoundException","body":"<p>Try to execute below code:</p>\n\n<pre><code>DOMSource sourcexml = new DOMSource(doc);\nStreamResult resultxml = new StreamResult(new File(\"file.xml\").getAbsolutePath());\ntransformer.transform(sourcexml, resultxml); \n</code></pre>\n"}],"owner":{"account_id":429903,"reputation":8152,"user_id":813040,"accept_rate":97,"display_name":"roymustang86"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2948,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":15432253,"answer_count":1,"score":3,"last_activity_date":1693846566,"creation_date":1363349495,"question_id":15432145,"body_markdown":"The earlier question I posted is closed because of lack of information.&lt;br/&gt; Please let me know if I am missing something here. The transformer seems to be adding file:/ to the beginning of my file path.\r\n\r\nI am working in a Solaris environment, and here is what happens when the transform gets applied:\r\n\r\n    DOMSource sourcexml = new DOMSource(doc);\r\n    StreamResult resultxml = new StreamResult(new File(&quot;file.xml&quot;));\r\n    transformer.transform(sourcexml, resultxml); \r\n\r\nThe exception I get is:\r\n\r\n    javax.xml.transform.TransformerException: java.io.FileNotFoundException: file:/opt/origenate/or_dev87/apps/documentarchive/file.xml (No such file or directory)\r\n\r\nNote, the file exists in /opt/origenate/or_dev87/apps/documentarchive/file.xml, but the transformer object is looking for file:/opt/origenate/or_dev87/apps/documentarchive/file.xml.\r\n\r\nWhy does it append the file:/? Is there anyway I can remove it?","title":"XML Transform results in FileNotFoundException","body":"<p>The earlier question I posted is closed because of lack of information.<br/> Please let me know if I am missing something here. The transformer seems to be adding file:/ to the beginning of my file path.</p>\n\n<p>I am working in a Solaris environment, and here is what happens when the transform gets applied:</p>\n\n<pre><code>DOMSource sourcexml = new DOMSource(doc);\nStreamResult resultxml = new StreamResult(new File(\"file.xml\"));\ntransformer.transform(sourcexml, resultxml); \n</code></pre>\n\n<p>The exception I get is:</p>\n\n<pre><code>javax.xml.transform.TransformerException: java.io.FileNotFoundException: file:/opt/origenate/or_dev87/apps/documentarchive/file.xml (No such file or directory)\n</code></pre>\n\n<p>Note, the file exists in /opt/origenate/or_dev87/apps/documentarchive/file.xml, but the transformer object is looking for file:/opt/origenate/or_dev87/apps/documentarchive/file.xml.</p>\n\n<p>Why does it append the file:/? Is there anyway I can remove it?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","entitymanager"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1693832074,"post_id":77037806,"comment_id":135808168,"body_markdown":"I wouldn&#39;t involve JPA at all if I were reading CSV data into a database.","body":"I wouldn&#39;t involve JPA at all if I were reading CSV data into a database."},{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":0,"creation_date":1693832574,"post_id":77037806,"comment_id":135808267,"body_markdown":"@Kayaman what would be your preferred way to go in this case?","body":"@Kayaman what would be your preferred way to go in this case?"},{"owner":{"account_id":5363666,"reputation":1950,"user_id":4274223,"display_name":"Gregorio Palam&#224;"},"score":2,"creation_date":1693833350,"post_id":77037806,"comment_id":135808430,"body_markdown":"I would use jdbcTemplate for this use case","body":"I would use jdbcTemplate for this use case"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1693833570,"post_id":77037806,"comment_id":135808478,"body_markdown":"Exactly, there&#39;s no point in using an ORM framework since you won&#39;t have any classes to map to as the whole thing is dynamic.","body":"Exactly, there&#39;s no point in using an ORM framework since you won&#39;t have any classes to map to as the whole thing is dynamic."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693834989,"post_id":77037806,"comment_id":135808754,"body_markdown":"&quot;Exactly, there&#39;s no point in using an ORM framework&quot; would have been enough.","body":"&quot;Exactly, there&#39;s no point in using an ORM framework&quot; would have been enough."},{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":0,"creation_date":1693846406,"post_id":77037806,"comment_id":135810885,"body_markdown":"Thank you, I was able to address this by using an appropriately configured `JdbcTemplate` instance.","body":"Thank you, I was able to address this by using an appropriately configured <code>JdbcTemplate</code> instance."}],"answers":[{"tags":[],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693846468,"creation_date":1693846468,"answer_id":77039491,"question_id":77037806,"body_markdown":"As mentioned in the comments, this is best addressed without an ORM framework, since I don&#39;t a-priori know which class is mapped to which table. I was able to address this by using an appropriately configured `JdbcTemplate` instance.","title":"Automatically create db entities based on external list","body":"<p>As mentioned in the comments, this is best addressed without an ORM framework, since I don't a-priori know which class is mapped to which table. I was able to address this by using an appropriately configured <code>JdbcTemplate</code> instance.</p>\n"}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693846468,"creation_date":1693831376,"question_id":77037806,"body_markdown":"Relatively new to Spring Data JPA. I have a use case of a Spring app which, upon startup, reads CSVs from a directory:\r\n\r\n```text\r\nFile1.csv, File2.csv, ..., FileN.csv\r\n```\r\n\r\nAll the CSVs are guaranteed to have the same 3-column format consisting of a UNIX timestamp, a string and an integer.\r\n\r\nFor every one of those CSVs, the app needs to create a new table in a MySQL database and insert all the data that is in the CSV in the table. Since I do not know ahead of time how big `N` is, I can&#39;t go into my code and create `N` `@Entity` classes and map every CSV row into an instance of such a class. \r\n\r\nAdditionally, based on the top voted answer [here](https://stackoverflow.com/questions/40956013/how-to-replace-table-name-with-parameter-value-while-using-spring-data-jpa-nativ), it is NOT possible to have a `@Query` - annotated insertion method where I pass the table name as a parameter, so it doesn&#39;t _look_ like I can use the traditional pattern of a `JpaRepository` - implementing interface with a `@Query` annotated method like so:\r\n\r\n```java\r\npublic interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt;{\r\n\r\n     @Modifying\r\n     @Query(value = \r\n           &quot;insert into SOME_TABLE (name, age, email, status) VALUES (:col1, :col2, \r\n                  :col3)&quot;, nativeQuery = true)\r\n      void insertRow(@Param(&quot;col1&quot;) Timestamp tstamp, @Param(&quot;col2&quot;) String name, @Param(&quot;col3&quot;) Integer status)\r\n```\r\nIn the example code above, and based on the linked answer, it doesn&#39;t look like I can pass `SOME_TABLE` as a parameter to my query.\r\n\r\nWhat other pattern can I use in this situation? Should I perhaps directly use an `EntityManager` field? I have only used JPARepositories so far in my Spring apps, and find myself stuck here.","title":"Automatically create db entities based on external list","body":"<p>Relatively new to Spring Data JPA. I have a use case of a Spring app which, upon startup, reads CSVs from a directory:</p>\n<pre><code>File1.csv, File2.csv, ..., FileN.csv\n</code></pre>\n<p>All the CSVs are guaranteed to have the same 3-column format consisting of a UNIX timestamp, a string and an integer.</p>\n<p>For every one of those CSVs, the app needs to create a new table in a MySQL database and insert all the data that is in the CSV in the table. Since I do not know ahead of time how big <code>N</code> is, I can't go into my code and create <code>N</code> <code>@Entity</code> classes and map every CSV row into an instance of such a class.</p>\n<p>Additionally, based on the top voted answer <a href=\"https://stackoverflow.com/questions/40956013/how-to-replace-table-name-with-parameter-value-while-using-spring-data-jpa-nativ\">here</a>, it is NOT possible to have a <code>@Query</code> - annotated insertion method where I pass the table name as a parameter, so it doesn't <em>look</em> like I can use the traditional pattern of a <code>JpaRepository</code> - implementing interface with a <code>@Query</code> annotated method like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt;{\n\n     @Modifying\n     @Query(value = \n           &quot;insert into SOME_TABLE (name, age, email, status) VALUES (:col1, :col2, \n                  :col3)&quot;, nativeQuery = true)\n      void insertRow(@Param(&quot;col1&quot;) Timestamp tstamp, @Param(&quot;col2&quot;) String name, @Param(&quot;col3&quot;) Integer status)\n</code></pre>\n<p>In the example code above, and based on the linked answer, it doesn't look like I can pass <code>SOME_TABLE</code> as a parameter to my query.</p>\n<p>What other pattern can I use in this situation? Should I perhaps directly use an <code>EntityManager</code> field? I have only used JPARepositories so far in my Spring apps, and find myself stuck here.</p>\n"},{"tags":["java","htmlunit"],"comments":[{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1693893042,"post_id":77036409,"comment_id":135815456,"body_markdown":"To find the reason and fix it i need more details. Please one an issue at https://github.com/HtmlUnit/htmlunit/issues and i will try to help.","body":"To find the reason and fix it i need more details. Please one an issue at <a href=\"https://github.com/HtmlUnit/htmlunit/issues\" rel=\"nofollow noreferrer\">github.com/HtmlUnit/htmlunit/issues</a> and i will try to help."}],"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693846171,"creation_date":1693818201,"question_id":77036409,"body_markdown":"I&#39;m using a htmlunit to scrapping a webpage.\r\n\r\n    HtmlPage p = webClient.getPage(URL);\r\n    HtmlElement b = p.getFirstByXPath(&quot;xpath selector1&quot;);\r\n    HtmlPage a = b.click();\r\n    a.executeJavaScript(&quot;window.scrollTo(0, 6000);&quot;);\r\n    webClient.waitForBackgroundJavaScript(2000);\r\n\r\nMy requirement is when open a page I have to do a click on a filtering button.\r\nThe data is updated but the page is lazy loading, so I need to simulate scrolling to the bottom of the page to get more items. When a scroll is done a background request is executed by the server and retrieve more data.\r\n\r\nI have a `WebConnectionWrapper` where catch the background request/response.\r\n\r\nBut an `400 Bad Request for URL` error appear when I add this line on my code because I need to wait for a javascript scroll execution.\r\n\r\n     webClient.waitForBackgroundJavaScript(2000);\r\n\r\nAnd without this line the request is done without any problem.\r\n\r\nWhat could be the problem when add a `waitForBackgroundJavaScript()` ?\r\n","title":"Bad Request Error when execute waitForBackgroundJavaScript() method with HtmlUnit","body":"<p>I'm using a htmlunit to scrapping a webpage.</p>\n<pre><code>HtmlPage p = webClient.getPage(URL);\nHtmlElement b = p.getFirstByXPath(&quot;xpath selector1&quot;);\nHtmlPage a = b.click();\na.executeJavaScript(&quot;window.scrollTo(0, 6000);&quot;);\nwebClient.waitForBackgroundJavaScript(2000);\n</code></pre>\n<p>My requirement is when open a page I have to do a click on a filtering button.\nThe data is updated but the page is lazy loading, so I need to simulate scrolling to the bottom of the page to get more items. When a scroll is done a background request is executed by the server and retrieve more data.</p>\n<p>I have a <code>WebConnectionWrapper</code> where catch the background request/response.</p>\n<p>But an <code>400 Bad Request for URL</code> error appear when I add this line on my code because I need to wait for a javascript scroll execution.</p>\n<pre><code> webClient.waitForBackgroundJavaScript(2000);\n</code></pre>\n<p>And without this line the request is done without any problem.</p>\n<p>What could be the problem when add a <code>waitForBackgroundJavaScript()</code> ?</p>\n"},{"tags":["java","final"],"comments":[{"owner":{"account_id":26048,"reputation":7945,"user_id":67476,"accept_rate":67,"display_name":"harshit"},"score":6,"creation_date":1343335316,"post_id":11677670,"comment_id":15480611,"body_markdown":"when defining string as constant ..","body":"when defining string as constant .."},{"owner":{"account_id":544301,"reputation":1209,"user_id":903904,"display_name":"Mavelo"},"score":0,"creation_date":1420031493,"post_id":11677670,"comment_id":43854870,"body_markdown":"Regarding the update, it&#39;s just good practice (IMO). If you come back later and need to reuse the same value, you don&#39;t then need to define it and update the previous code.","body":"Regarding the update, it&#39;s just good practice (IMO). If you come back later and need to reuse the same value, you don&#39;t then need to define it and update the previous code."},{"owner":{"account_id":4870650,"reputation":14042,"user_id":3927314,"accept_rate":100,"display_name":"kgf3JfUtW"},"score":2,"creation_date":1504038757,"post_id":11677670,"comment_id":78854246,"body_markdown":"Sure doing so has its benefits. But code such as `public static final String TILDE_EQUAL = &quot;~=&quot;;` really upsets me. When can &quot;tilde-equal&quot; be anything other than `~=`?","body":"Sure doing so has its benefits. But code such as <code>public static final String TILDE_EQUAL = &quot;~=&quot;;</code> really upsets me. When can &quot;tilde-equal&quot; be anything other than <code>~=</code>?"},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1633274172,"post_id":11677670,"comment_id":122710665,"body_markdown":"@kgf3JfUtW - any generally-good guideline can be misused by people who don&#39;t understand the rationale, or who follow rules blindly because someone cursed them by incanting the magic spell &quot;it&#39;s a best practice&quot;.","body":"@kgf3JfUtW - any generally-good guideline can be misused by people who don&#39;t understand the rationale, or who follow rules blindly because someone cursed them by incanting the magic spell &quot;it&#39;s a best practice&quot;."},{"owner":{"account_id":4616092,"reputation":111,"user_id":3946362,"display_name":"Trixie Wolf"},"score":0,"creation_date":1639442921,"post_id":11677670,"comment_id":124345105,"body_markdown":"@kgf3JfUtW Given how the JVM concatenates and optimizes String literals I&#39;m not sure it&#39;s necessary to use a String constant rather than a literal in the first place. That said, making something like BigInteger BIG_ONE = new BigInteger(1); isn&#39;t necessarily bad practice. It isn&#39;t necessary in Java for Strings due to how the language provides special support for them, but if every &quot;~=&quot; invocation created a separate String object and you did it in a bunch of loops, TILDE_EQUAL might be justified. In short, constants can have valid uses even when the identifier makes the value obvious.","body":"@kgf3JfUtW Given how the JVM concatenates and optimizes String literals I&#39;m not sure it&#39;s necessary to use a String constant rather than a literal in the first place. That said, making something like BigInteger BIG_ONE = new BigInteger(1); isn&#39;t necessarily bad practice. It isn&#39;t necessary in Java for Strings due to how the language provides special support for them, but if every &quot;~=&quot; invocation created a separate String object and you did it in a bunch of loops, TILDE_EQUAL might be justified. In short, constants can have valid uses even when the identifier makes the value obvious."}],"answers":[{"comments":[{"owner":{"account_id":132300,"reputation":2222,"user_id":332897,"accept_rate":76,"display_name":"Enrique San Mart&#237;n"},"score":6,"creation_date":1343335405,"post_id":11677688,"comment_id":15480639,"body_markdown":"and also the Static means that can be access in an static way (that not need to instanced the class like new ExampleClass).","body":"and also the Static means that can be access in an static way (that not need to instanced the class like new ExampleClass)."},{"owner":{"account_id":446466,"reputation":1135,"user_id":839527,"accept_rate":86,"display_name":"JProgrammer"},"score":6,"creation_date":1343335481,"post_id":11677688,"comment_id":15480659,"body_markdown":"Does compiler makes any optimization using final static variables? Like replacing references of final static variables with actual values.","body":"Does compiler makes any optimization using final static variables? Like replacing references of final static variables with actual values."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":1,"creation_date":1633274261,"post_id":11677688,"comment_id":122710690,"body_markdown":"Only use &#39;public&#39; if it needs to be public.  Prefer &quot;not public&quot; where that meets your needs.","body":"Only use &#39;public&#39; if it needs to be public.  Prefer &quot;not public&quot; where that meets your needs."},{"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"score":0,"creation_date":1633356374,"post_id":11677688,"comment_id":122730976,"body_markdown":"@user16632363 thanks for the comment, I&#39;ve edited my answer to include your point in the list in the answer","body":"@user16632363 thanks for the comment, I&#39;ve edited my answer to include your point in the list in the answer"},{"owner":{"account_id":4616092,"reputation":111,"user_id":3946362,"display_name":"Trixie Wolf"},"score":0,"creation_date":1639443211,"post_id":11677688,"comment_id":124345157,"body_markdown":"@JProgrammer I know Java makes optimizations for Strings by serializing them into the same location in memory in some cases so it doesn&#39;t create a million String objects with the exact same value. I don&#39;t expect object creation to be inlined (this would generally hurt performance, not help it), but I don&#39;t know if the optimizer will turn primitive constants into literals or not. This seems within the capabilities of the optimizer to me, so I&#39;d actually be surprised if it didn&#39;t auto-inline primitives.","body":"@JProgrammer I know Java makes optimizations for Strings by serializing them into the same location in memory in some cases so it doesn&#39;t create a million String objects with the exact same value. I don&#39;t expect object creation to be inlined (this would generally hurt performance, not help it), but I don&#39;t know if the optimizer will turn primitive constants into literals or not. This seems within the capabilities of the optimizer to me, so I&#39;d actually be surprised if it didn&#39;t auto-inline primitives."},{"owner":{"account_id":4616092,"reputation":111,"user_id":3946362,"display_name":"Trixie Wolf"},"score":0,"creation_date":1639443434,"post_id":11677688,"comment_id":124345209,"body_markdown":"It may be worth mentioning that &quot;final&quot; only makes primitive types and pointers to immutable objects effectively constant in Java. For pointers to mutable objects, the variable (the pointer) is constant in that it will always point to the object you assigned it, but the object&#39;s value can still change. A final Set pointing to a HashSet is not &quot;constant&quot; in the usual meaning as the object&#39;s value can still change. In that case &quot;final&quot; only means that the Set variable will always point to that particular HashSet object (rather than another object, a TreeSet, null, etc.).","body":"It may be worth mentioning that &quot;final&quot; only makes primitive types and pointers to immutable objects effectively constant in Java. For pointers to mutable objects, the variable (the pointer) is constant in that it will always point to the object you assigned it, but the object&#39;s value can still change. A final Set pointing to a HashSet is not &quot;constant&quot; in the usual meaning as the object&#39;s value can still change. In that case &quot;final&quot; only means that the Set variable will always point to that particular HashSet object (rather than another object, a TreeSet, null, etc.)."},{"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"score":1,"creation_date":1639517325,"post_id":11677688,"comment_id":124367918,"body_markdown":"Thanks @TrixieWolf it&#39;s a good addition to an old answer, I&#39;ll add the detail","body":"Thanks @TrixieWolf it&#39;s a good addition to an old answer, I&#39;ll add the detail"},{"owner":{"account_id":4616092,"reputation":111,"user_id":3946362,"display_name":"Trixie Wolf"},"score":0,"creation_date":1663783977,"post_id":11677688,"comment_id":130323088,"body_markdown":"@pb2q Not to nitpick, but there are many immutable object types other than String. Instead of &quot;and String which is immutable&quot; I think what you mean is, &quot;and immutable objects (e.g. String, Integer, BigDecimal, enums)&quot;. (Though technically enum fields could be changed, object equality for an enum is immutable.)","body":"@pb2q Not to nitpick, but there are many immutable object types other than String. Instead of &quot;and String which is immutable&quot; I think what you mean is, &quot;and immutable objects (e.g. String, Integer, BigDecimal, enums)&quot;. (Though technically enum fields could be changed, object equality for an enum is immutable.)"}],"tags":[],"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"comment_count":8,"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1686905241,"creation_date":1343335251,"answer_id":11677688,"question_id":11677670,"body_markdown":"`final` indicates that the value of the variable won&#39;t change - in other words, a *constant* whose value can&#39;t be modified after it is declared.\r\n\r\nUse `public final static String` when you want to create a `String` that:\r\n\r\n1. belongs to the class (`static`: no instance necessary to use it), that\r\n2. won&#39;t change (`final`), for instance when you want to define a `String` constant that will be available to all instances of the class, and to other objects using the class, and that\r\n3. will be a publicly accessible part of the interface that the class shows the world.\r\n\r\nExample:\r\n\r\n    public final static String MY_CONSTANT = &quot;SomeValue&quot;;\r\n\r\n    // ... in some other code, possibly in another object, use the constant:\r\n    if (input.equals(MyClass.MY_CONSTANT))\r\n\r\nSimilarly:\r\n\r\n    public static final int ERROR_CODE = 127;\r\n\r\nIt isn&#39;t _required_ to use `final`, but it keeps a constant from being changed inadvertently during program execution, and serves as an indicator that the variable is a constant.\r\n\r\nEven if the constant will only be used - read - in the current class and/or in only one place, it&#39;s good practice to declare all constants as `final`: it&#39;s clearer, and during the lifetime of the code the constant may end up being used in more than one place.\r\n\r\nFurthermore using `final` may allow the implementation to perform some optimization, e.g. by inlining an actual value where the constant is used. \r\n\r\nFinally note that `final` will only make truly constant values out of primitive types, `String` which is immutable, or other immutable types. Applying `final` to an object (for instance a `HashMap`) will make the *reference* immutable, but not the state of the object: for instance data members of the object can be changed, array elements can be changed, and collections can be manipulated and changed.","title":"when exactly are we supposed to use &quot;public static final String&quot;?","body":"<p><code>final</code> indicates that the value of the variable won't change - in other words, a <em>constant</em> whose value can't be modified after it is declared.</p>\n<p>Use <code>public final static String</code> when you want to create a <code>String</code> that:</p>\n<ol>\n<li>belongs to the class (<code>static</code>: no instance necessary to use it), that</li>\n<li>won't change (<code>final</code>), for instance when you want to define a <code>String</code> constant that will be available to all instances of the class, and to other objects using the class, and that</li>\n<li>will be a publicly accessible part of the interface that the class shows the world.</li>\n</ol>\n<p>Example:</p>\n<pre><code>public final static String MY_CONSTANT = &quot;SomeValue&quot;;\n\n// ... in some other code, possibly in another object, use the constant:\nif (input.equals(MyClass.MY_CONSTANT))\n</code></pre>\n<p>Similarly:</p>\n<pre><code>public static final int ERROR_CODE = 127;\n</code></pre>\n<p>It isn't <em>required</em> to use <code>final</code>, but it keeps a constant from being changed inadvertently during program execution, and serves as an indicator that the variable is a constant.</p>\n<p>Even if the constant will only be used - read - in the current class and/or in only one place, it's good practice to declare all constants as <code>final</code>: it's clearer, and during the lifetime of the code the constant may end up being used in more than one place.</p>\n<p>Furthermore using <code>final</code> may allow the implementation to perform some optimization, e.g. by inlining an actual value where the constant is used.</p>\n<p>Finally note that <code>final</code> will only make truly constant values out of primitive types, <code>String</code> which is immutable, or other immutable types. Applying <code>final</code> to an object (for instance a <code>HashMap</code>) will make the <em>reference</em> immutable, but not the state of the object: for instance data members of the object can be changed, array elements can be changed, and collections can be manipulated and changed.</p>\n"},{"tags":[],"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1343335325,"creation_date":1343335325,"answer_id":11677703,"question_id":11677670,"body_markdown":"`final` indicates that the value cannot be changed once set.  `static` allows you to set the value, and that value will be the same for ALL instances of the class which utilize it.  Also, you may access the value of a `public static` string w/o having an instance of a class.","title":"when exactly are we supposed to use &quot;public static final String&quot;?","body":"<p><code>final</code> indicates that the value cannot be changed once set.  <code>static</code> allows you to set the value, and that value will be the same for ALL instances of the class which utilize it.  Also, you may access the value of a <code>public static</code> string w/o having an instance of a class.</p>\n"},{"tags":[],"owner":{"account_id":1270084,"reputation":5416,"user_id":1226605,"accept_rate":86,"display_name":"devang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343335370,"creation_date":1343335370,"answer_id":11677716,"question_id":11677670,"body_markdown":"Usually for defining constants, that you reuse at many places making it single point for change, used within single class or shared across packages. Making a variable final avoid accidental changes.","title":"when exactly are we supposed to use &quot;public static final String&quot;?","body":"<p>Usually for defining constants, that you reuse at many places making it single point for change, used within single class or shared across packages. Making a variable final avoid accidental changes.</p>\n"},{"comments":[{"owner":{"account_id":178568,"reputation":1722,"user_id":410624,"accept_rate":84,"display_name":"krizajb"},"score":0,"creation_date":1540128822,"post_id":11677725,"comment_id":92741687,"body_markdown":"You can re-create a static member at any given time.","body":"You can re-create a static member at any given time."}],"tags":[],"owner":{"account_id":430036,"reputation":905,"user_id":813240,"display_name":"Carl"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1343335976,"creation_date":1343335414,"answer_id":11677725,"question_id":11677670,"body_markdown":"`static` means that the object will only be created once, and does not have an instance object containing it. The way you have written is best used when you have something that is common for all objects of the class and will never change. It even could be used without creating an object at all.\r\n\r\nUsually it&#39;s best to use final when you expect it to be `final` so that the compiler will enforce that rule and you know for sure. `static` ensures that you don&#39;t waste memory creating many of the same thing if it will be the same value for all objects.","title":"when exactly are we supposed to use &quot;public static final String&quot;?","body":"<p><code>static</code> means that the object will only be created once, and does not have an instance object containing it. The way you have written is best used when you have something that is common for all objects of the class and will never change. It even could be used without creating an object at all.</p>\n\n<p>Usually it's best to use final when you expect it to be <code>final</code> so that the compiler will enforce that rule and you know for sure. <code>static</code> ensures that you don't waste memory creating many of the same thing if it will be the same value for all objects.</p>\n"},{"tags":[],"owner":{"account_id":1381345,"reputation":1170,"user_id":1314262,"accept_rate":83,"display_name":"Fyre"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1343336848,"creation_date":1343336848,"answer_id":11678064,"question_id":11677670,"body_markdown":"The keyword _final_ means that the value is constant(it cannot be changed). It is analogous to const in C.\r\n\r\n\r\nAnd you can treat _static_ as a global variable which has scope. It basically means if you change it for one object it will be changed for all just like a global variable(limited by scope).\r\n\r\nHope it helps.\r\n","title":"when exactly are we supposed to use &quot;public static final String&quot;?","body":"<p>The keyword <em>final</em> means that the value is constant(it cannot be changed). It is analogous to const in C.</p>\n\n<p>And you can treat <em>static</em> as a global variable which has scope. It basically means if you change it for one object it will be changed for all just like a global variable(limited by scope).</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":3939784,"reputation":2549,"user_id":3254692,"accept_rate":83,"display_name":"Omar Faroque Anik"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1396738158,"creation_date":1396738158,"answer_id":22887865,"question_id":11677670,"body_markdown":"1. Static means..You can use it without instantiate of the class or using any object.\r\n2. final..It is a keyword which is used for make the string constant. You can not change the value of that string. Look at the example below:\r\n\r\n          public class StringTest { \r\n                   static final String str = &quot;Hello&quot;; \r\n          public static void main(String args[]) { \r\n                   // str = &quot;world&quot;; // gives error \r\n                   System.out.println(str); // called without the help of an object                       \r\n                   System.out.println(StringTest.str);// called with class name  \r\n                     } \r\n                 } \r\n\r\n\r\nThanks","title":"when exactly are we supposed to use &quot;public static final String&quot;?","body":"<ol>\n<li>Static means..You can use it without instantiate of the class or using any object.</li>\n<li><p>final..It is a keyword which is used for make the string constant. You can not change the value of that string. Look at the example below:</p>\n\n<pre><code>  public class StringTest { \n           static final String str = \"Hello\"; \n  public static void main(String args[]) { \n           // str = \"world\"; // gives error \n           System.out.println(str); // called without the help of an object                       \n           System.out.println(StringTest.str);// called with class name  \n             } \n         } \n</code></pre></li>\n</ol>\n\n<p>Thanks</p>\n"},{"comments":[{"owner":{"account_id":208183,"reputation":7392,"user_id":458509,"accept_rate":71,"display_name":"storm_buster"},"score":0,"creation_date":1424206099,"post_id":28569205,"comment_id":45451488,"body_markdown":"you are not answering the question. if you were told to create a class, why would you use that? once again, we all understand the key public,static, final... we all understand that we can access it ... . but in practise its not what is happening. the variable is declared and used in the class. i don&#39;t see why and how it s the best way to do it","body":"you are not answering the question. if you were told to create a class, why would you use that? once again, we all understand the key public,static, final... we all understand that we can access it ... . but in practise its not what is happening. the variable is declared and used in the class. i don&#39;t see why and how it s the best way to do it"}],"tags":[],"owner":{"account_id":4684736,"reputation":150,"user_id":3792421,"display_name":"Sachin Tiwari"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424201250,"creation_date":1424200055,"answer_id":28569205,"question_id":11677670,"body_markdown":"`public` makes it accessible across other classes.\r\n`static` makes it uniform value across all the class instances.\r\n`final` makes it non-modifiable value.\r\nSo basically it&#39;s a &quot;**constant**&quot; value which is same across all the class instances and which cannot be modified.\r\nWith respect to your concern &quot;What I don&#39;t understand is why people use that even if the constant will be used only in one place and only in the same class. Why declaring it? Why don&#39;t we just use the variable?&quot;\r\nI would say since it is a public field the constant value can also be used elsewhere in some other class using ClassName.value. eg: a class named Math may have PI as final static long value which can be accessed as Math.PI.","title":"when exactly are we supposed to use &quot;public static final String&quot;?","body":"<p><code>public</code> makes it accessible across other classes.\n<code>static</code> makes it uniform value across all the class instances.\n<code>final</code> makes it non-modifiable value.\nSo basically it's a \"<strong>constant</strong>\" value which is same across all the class instances and which cannot be modified.\nWith respect to your concern \"What I don't understand is why people use that even if the constant will be used only in one place and only in the same class. Why declaring it? Why don't we just use the variable?\"\nI would say since it is a public field the constant value can also be used elsewhere in some other class using ClassName.value. eg: a class named Math may have PI as final static long value which can be accessed as Math.PI.</p>\n"},{"comments":[{"owner":{"account_id":178568,"reputation":1722,"user_id":410624,"accept_rate":84,"display_name":"krizajb"},"score":3,"creation_date":1540128582,"post_id":30498220,"comment_id":92741609,"body_markdown":"I wouldn&#39;t agree with this part &quot;You can use it without instantiate of the class or using any object.&quot; That&#39;s what static keyword is for.","body":"I wouldn&#39;t agree with this part &quot;You can use it without instantiate of the class or using any object.&quot; That&#39;s what static keyword is for."},{"owner":{"account_id":209889,"reputation":1,"user_id":461191,"display_name":"hakki"},"score":0,"creation_date":1632488798,"post_id":30498220,"comment_id":122513274,"body_markdown":"&quot; public makes it accessible across the other classes. You can use it without instantiate of the class or using any object.&quot; can you show an example for this part?","body":"&quot; public makes it accessible across the other classes. You can use it without instantiate of the class or using any object.&quot; can you show an example for this part?"},{"owner":{"account_id":458201,"reputation":3678,"user_id":857958,"display_name":"nico gawenda"},"score":0,"creation_date":1658686852,"post_id":30498220,"comment_id":129107338,"body_markdown":"Can we group-downvote that total misinformed answer? Or after all those years @nikhil learned enough to actually give advice and edit the answer?","body":"Can we group-downvote that total misinformed answer? Or after all those years @nikhil learned enough to actually give advice and edit the answer?"}],"tags":[],"owner":{"account_id":5611329,"reputation":307,"user_id":4443948,"display_name":"Nikhil Kotak"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1540137692,"creation_date":1432792343,"answer_id":30498220,"question_id":11677670,"body_markdown":"\t**public** makes it accessible across the other classes. You can use it without instantiate of the class or using any object.\r\n\r\n\t**static** makes it uniform value across all the class instances.\r\nIt ensures that you don&#39;t waste memory creating many of the same thing if it will be the same value for all the objects.\r\n\r\n\t**final** makes it non-modifiable value. It&#39;s a &quot;constant&quot; value which is same across all the class instances and cannot be modified.\r\n","title":"when exactly are we supposed to use &quot;public static final String&quot;?","body":"<p>   <strong>public</strong> makes it accessible across the other classes. You can use it without instantiate of the class or using any object.</p>\n\n<p>   <strong>static</strong> makes it uniform value across all the class instances.\nIt ensures that you don't waste memory creating many of the same thing if it will be the same value for all the objects.</p>\n\n<p>   <strong>final</strong> makes it non-modifiable value. It's a \"constant\" value which is same across all the class instances and cannot be modified.</p>\n"},{"comments":[{"owner":{"account_id":458201,"reputation":3678,"user_id":857958,"display_name":"nico gawenda"},"score":0,"creation_date":1658687050,"post_id":39552677,"comment_id":129107371,"body_markdown":"the comedy is hard in this, nice:)","body":"the comedy is hard in this, nice:)"}],"tags":[],"owner":{"account_id":2727238,"reputation":1563,"user_id":2351948,"accept_rate":65,"display_name":"kiwicomb123"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474154785,"creation_date":1474154785,"answer_id":39552677,"question_id":11677670,"body_markdown":"Why do people use constants in classes instead of a variable?\r\n\r\nreadability and maintainability,  \r\n\r\nhaving some number like 40.023 in your code doesn&#39;t say much about what the number represents, so we replace it by a word in capitals like &quot;USER_AGE_YEARS&quot;. Later when we look at the code its clear what that number represents. \r\n\r\nWhy do we not just use a variable?  Well we would if we knew the number would change, but if its some number that wont change, like 3.14159.. we make it final.\r\n\r\nBut what if its not a number like a String?  In that case its mostly for maintainability, if you are using a String multiple times in your code, (and it wont be changing at runtime) it is convenient to have it as a final string at the top of the class.  That way when you want to change it, there is only one place to change it rather than many.  \r\n\r\nFor example if you have an error message that get printed many times in your code, having final String ERROR_MESSAGE = &quot;Something went bad.&quot; is easier to maintain,  if you want to change it from &quot;Something went bad.&quot; to &quot;It&#39;s too late jim he&#39;s already dead&quot;,  you would only need to change that one line, rather than all the places you would use that comment.","title":"when exactly are we supposed to use &quot;public static final String&quot;?","body":"<p>Why do people use constants in classes instead of a variable?</p>\n\n<p>readability and maintainability,  </p>\n\n<p>having some number like 40.023 in your code doesn't say much about what the number represents, so we replace it by a word in capitals like \"USER_AGE_YEARS\". Later when we look at the code its clear what that number represents. </p>\n\n<p>Why do we not just use a variable?  Well we would if we knew the number would change, but if its some number that wont change, like 3.14159.. we make it final.</p>\n\n<p>But what if its not a number like a String?  In that case its mostly for maintainability, if you are using a String multiple times in your code, (and it wont be changing at runtime) it is convenient to have it as a final string at the top of the class.  That way when you want to change it, there is only one place to change it rather than many.  </p>\n\n<p>For example if you have an error message that get printed many times in your code, having final String ERROR_MESSAGE = \"Something went bad.\" is easier to maintain,  if you want to change it from \"Something went bad.\" to \"It's too late jim he's already dead\",  you would only need to change that one line, rather than all the places you would use that comment.</p>\n"},{"tags":[],"owner":{"account_id":7220692,"reputation":723,"user_id":5511336,"display_name":"KumarAnkit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550643220,"creation_date":1550643220,"answer_id":54779930,"question_id":11677670,"body_markdown":"It is kind of standard/best practice.\r\nThere are already answers listing scenarios, but for your second question:\r\n\r\n&gt; Why do they have to do that? Why do they have to initialize the value as final prior to using it?\r\n\r\nPublic constants and fields initialized at declaration should be &quot;static final&quot; rather than merely &quot;final&quot;\r\n\r\nThese are some of the reasons why it should be like this:\r\n\r\n1. Making a public constant just final as opposed to static final leads to duplicating its value for every instance of the class, uselessly increasing the amount of memory required to execute the application.\r\n\r\n2. Further, when a non-public, final field isn&#39;t also static, it implies that different instances can have different values. However, initializing a non-static final field in its declaration forces every instance to have the same value owing to the behavior of the [final][1] field.\r\n\r\n  [1]: https://stackoverflow.com/a/15655032/5511336","title":"when exactly are we supposed to use &quot;public static final String&quot;?","body":"<p>It is kind of standard/best practice.\nThere are already answers listing scenarios, but for your second question:</p>\n\n<blockquote>\n  <p>Why do they have to do that? Why do they have to initialize the value as final prior to using it?</p>\n</blockquote>\n\n<p>Public constants and fields initialized at declaration should be \"static final\" rather than merely \"final\"</p>\n\n<p>These are some of the reasons why it should be like this:</p>\n\n<ol>\n<li><p>Making a public constant just final as opposed to static final leads to duplicating its value for every instance of the class, uselessly increasing the amount of memory required to execute the application.</p></li>\n<li><p>Further, when a non-public, final field isn't also static, it implies that different instances can have different values. However, initializing a non-static final field in its declaration forces every instance to have the same value owing to the behavior of the <a href=\"https://stackoverflow.com/a/15655032/5511336\">final</a> field.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":458201,"reputation":3678,"user_id":857958,"display_name":"nico gawenda"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565605136,"creation_date":1565323307,"answer_id":57423344,"question_id":11677670,"body_markdown":"You do not *have to* use `final`, but the `final` is making clear to everyone else - including the compiler - that this is a constant, and that&#39;s the good practice in it.\r\n\r\nWhy people doe that *even if the constant will be used only in one place and only in the same class*: Because in many cases it still makes sense. If you for example know it will be final during program run, but you intend to change the value later and recompile (easier to find), and also might use it more often later-on. It is also informing other programmers about the core values in the program flow at a prominent and combined place.\r\n\r\n\r\nAn aspect the other answers are missing out unfortunately, is that using the combination of `public final` needs to be done **very carefully**, especially if other classes or packages will use your class (which can be assumed because it is `public`).\r\n\r\nHere&#39;s why:\r\n\r\n 1. Because it is declared as `final`, the compiler will inline this field during compile time into any compilation unit reading this field. So far, so good.\r\n 2. What people tend to forget is, because the field is also declared `public`, the compiler will also inline this value into any other compile unit. That means *other* classes using this field.\r\n\r\nWhat are the consequences?\r\n\r\nImagine you have this:\r\n\r\n    class Foo {\r\n      public static final String VERSION = &quot;1.0&quot;;\r\n    }\r\n\r\n    class Bar {\r\n      public static void main(String[] args) {\r\n        System.out.println(&quot;I am using version &quot; + Foo.VERSION);\r\n      }\r\n    }\r\n\r\nAfter compiling and running `Bar`, you&#39;ll get:\r\n\r\n    I am using version 1.0\r\n\r\nNow, you improve `Foo` and change the version to &quot;1.1&quot;.\r\nAfter recompiling `Foo`, you run `Bar` and get this wrong output:\r\n\r\n    I am using version 1.0\r\n\r\nThis happens, because `VERSION` is declared `final`, so the actual value of it was already in-lined in `Bar` during the first compile run. As a consequence, to let the example of a `public static final ...` field propagate properly after actually changing what was declared `final` (you lied!;), you&#39;d need to *recompile every class using it*.\r\n\r\nI&#39;ve seen this a couple of times and it is really hard to debug.\r\n\r\nIf by `final` you mean a constant that *might* change in later versions of your program, a better solution would be this:\r\n\r\n    class Foo {\r\n      private static String version = &quot;1.0&quot;;\r\n      public static final String getVersion() {\r\n        return version;\r\n      }\r\n    }\r\n\r\nThe performance penalty of this is negligible, since JIT code generator will inline it at run-time.\r\n\r\n","title":"when exactly are we supposed to use &quot;public static final String&quot;?","body":"<p>You do not <em>have to</em> use <code>final</code>, but the <code>final</code> is making clear to everyone else - including the compiler - that this is a constant, and that's the good practice in it.</p>\n\n<p>Why people doe that <em>even if the constant will be used only in one place and only in the same class</em>: Because in many cases it still makes sense. If you for example know it will be final during program run, but you intend to change the value later and recompile (easier to find), and also might use it more often later-on. It is also informing other programmers about the core values in the program flow at a prominent and combined place.</p>\n\n<p>An aspect the other answers are missing out unfortunately, is that using the combination of <code>public final</code> needs to be done <strong>very carefully</strong>, especially if other classes or packages will use your class (which can be assumed because it is <code>public</code>).</p>\n\n<p>Here's why:</p>\n\n<ol>\n<li>Because it is declared as <code>final</code>, the compiler will inline this field during compile time into any compilation unit reading this field. So far, so good.</li>\n<li>What people tend to forget is, because the field is also declared <code>public</code>, the compiler will also inline this value into any other compile unit. That means <em>other</em> classes using this field.</li>\n</ol>\n\n<p>What are the consequences?</p>\n\n<p>Imagine you have this:</p>\n\n<pre><code>class Foo {\n  public static final String VERSION = \"1.0\";\n}\n\nclass Bar {\n  public static void main(String[] args) {\n    System.out.println(\"I am using version \" + Foo.VERSION);\n  }\n}\n</code></pre>\n\n<p>After compiling and running <code>Bar</code>, you'll get:</p>\n\n<pre><code>I am using version 1.0\n</code></pre>\n\n<p>Now, you improve <code>Foo</code> and change the version to \"1.1\".\nAfter recompiling <code>Foo</code>, you run <code>Bar</code> and get this wrong output:</p>\n\n<pre><code>I am using version 1.0\n</code></pre>\n\n<p>This happens, because <code>VERSION</code> is declared <code>final</code>, so the actual value of it was already in-lined in <code>Bar</code> during the first compile run. As a consequence, to let the example of a <code>public static final ...</code> field propagate properly after actually changing what was declared <code>final</code> (you lied!;), you'd need to <em>recompile every class using it</em>.</p>\n\n<p>I've seen this a couple of times and it is really hard to debug.</p>\n\n<p>If by <code>final</code> you mean a constant that <em>might</em> change in later versions of your program, a better solution would be this:</p>\n\n<pre><code>class Foo {\n  private static String version = \"1.0\";\n  public static final String getVersion() {\n    return version;\n  }\n}\n</code></pre>\n\n<p>The performance penalty of this is negligible, since JIT code generator will inline it at run-time.</p>\n"},{"comments":[{"owner":{"account_id":59649,"reputation":651,"user_id":178419,"accept_rate":100,"display_name":"Wonko"},"score":0,"creation_date":1610106639,"post_id":65627652,"comment_id":116033487,"body_markdown":"Not sure why this was down-voted. I think the answer is valid, but maybe confusing some terms - e.g. I think with &quot;constant values&quot; they mean &quot;literal&quot;, and indeed it is a good practice to avoid using not-obvious literals, and instead use a variable (or constant) with a meaningful name.","body":"Not sure why this was down-voted. I think the answer is valid, but maybe confusing some terms - e.g. I think with &quot;constant values&quot; they mean &quot;literal&quot;, and indeed it is a good practice to avoid using not-obvious literals, and instead use a variable (or constant) with a meaningful name."}],"tags":[],"owner":{"account_id":7592041,"reputation":11,"user_id":5759410,"display_name":"Stefan K"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1610103104,"creation_date":1610103104,"answer_id":65627652,"question_id":11677670,"body_markdown":"This is related to the semantics of the code. By naming the value assigning it to a variable that has a meaningful name (even if it is used only at one place) you give it a meaning. When somebody is reading the code that person will know what that value means.\r\n\r\nIn general is not a good practice to use constant values across the code. Imagine a code full of string, integer, etc. values. After a time nobody will know what those constants are. Also a typo in a value can be a problem when the value is used on more than one place.","title":"when exactly are we supposed to use &quot;public static final String&quot;?","body":"<p>This is related to the semantics of the code. By naming the value assigning it to a variable that has a meaningful name (even if it is used only at one place) you give it a meaning. When somebody is reading the code that person will know what that value means.</p>\n<p>In general is not a good practice to use constant values across the code. Imagine a code full of string, integer, etc. values. After a time nobody will know what those constants are. Also a typo in a value can be a problem when the value is used on more than one place.</p>\n"},{"tags":[],"owner":{"account_id":9297761,"reputation":139,"user_id":6904202,"display_name":"Monu chandramohan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633273956,"creation_date":1633273956,"answer_id":69426146,"question_id":11677670,"body_markdown":"I think these are all clear explanations. But, Let me clarify it by giving a java inbuild example.\r\n\r\nIn java, most would have used System.out.println()\r\n\r\nThe **system** is a class and **out** is a PrintStream class.\r\n\r\nSo what java says is I will take care of the initialization of the out object(PrintStream) and keep the initialization private to myself in the System class.\r\n\r\n    public final class System {\r\n\r\n        public final static PrintStream out = null;\r\n\r\n        //Some initialization done by system class which cannot be changed as it is final.\r\n    }\r\n\r\nYou just access the **println** method statically without worrying about its initialization.\r\n\r\n","title":"when exactly are we supposed to use &quot;public static final String&quot;?","body":"<p>I think these are all clear explanations. But, Let me clarify it by giving a java inbuild example.</p>\n<p>In java, most would have used System.out.println()</p>\n<p>The <strong>system</strong> is a class and <strong>out</strong> is a PrintStream class.</p>\n<p>So what java says is I will take care of the initialization of the out object(PrintStream) and keep the initialization private to myself in the System class.</p>\n<pre><code>public final class System {\n\n    public final static PrintStream out = null;\n\n    //Some initialization done by system class which cannot be changed as it is final.\n}\n</code></pre>\n<p>You just access the <strong>println</strong> method statically without worrying about its initialization.</p>\n"},{"tags":[],"owner":{"account_id":12695956,"reputation":97,"user_id":9224380,"display_name":"greeneley"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693845744,"creation_date":1693845744,"answer_id":77039428,"question_id":11677670,"body_markdown":"Besides all the above reason, `static final` use a naming convention: all uppercase letters with underscores between words.\r\n\r\nFor example:\r\n\r\n```java\r\nprivate static final int NUM_BRACKETS = 45;\r\nprivate static final String TEMPLATE = &quot;Hello&quot;;\r\n```\r\n","title":"when exactly are we supposed to use &quot;public static final String&quot;?","body":"<p>Besides all the above reason, <code>static final</code> use a naming convention: all uppercase letters with underscores between words.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final int NUM_BRACKETS = 45;\nprivate static final String TEMPLATE = &quot;Hello&quot;;\n</code></pre>\n"}],"owner":{"account_id":208183,"reputation":7392,"user_id":458509,"accept_rate":71,"display_name":"storm_buster"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202867,"favorite_count":0,"down_vote_count":1,"up_vote_count":63,"accepted_answer_id":11677688,"answer_count":14,"score":62,"last_activity_date":1693845744,"creation_date":1343335167,"question_id":11677670,"body_markdown":"I have seen much code where people write `public static final String mystring = ...`\r\nand then just use a value.\r\n\r\nWhy do they have to do that? Why do they have to initialize the value as `final` prior to using it?\r\n\r\n**UPDATE**\r\n\r\nOk, thanks all for all your answers, I understand the meaning of those key (public static final). What I dont understand is why people use that even if the constant will be used only in one place and only in the same class. why declaring it? why dont we just use the variable? \r\n","title":"when exactly are we supposed to use &quot;public static final String&quot;?","body":"<p>I have seen much code where people write <code>public static final String mystring = ...</code>\nand then just use a value.</p>\n\n<p>Why do they have to do that? Why do they have to initialize the value as <code>final</code> prior to using it?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Ok, thanks all for all your answers, I understand the meaning of those key (public static final). What I dont understand is why people use that even if the constant will be used only in one place and only in the same class. why declaring it? why dont we just use the variable? </p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2005971,"reputation":536,"user_id":1795860,"accept_rate":91,"display_name":"TheNytangel"},"score":0,"creation_date":1693768760,"post_id":77033764,"comment_id":135800995,"body_markdown":"Have you tried `jakarta.servlet.Filter` instead? Spring Boot 3 made the switch from javax to the jakarta dependencies: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0.0-M1-Release-Notes","body":"Have you tried <code>jakarta.servlet.Filter</code> instead? Spring Boot 3 made the switch from javax to the jakarta dependencies: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0.0-M1-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"},{"owner":{"account_id":11649558,"reputation":217,"user_id":14359173,"display_name":"Alexey"},"score":0,"creation_date":1693769110,"post_id":77033764,"comment_id":135801051,"body_markdown":"oh, that was the exact problem, You can write it as an anster if you want","body":"oh, that was the exact problem, You can write it as an anster if you want"}],"answers":[{"tags":[],"owner":{"account_id":2005971,"reputation":536,"user_id":1795860,"accept_rate":91,"display_name":"TheNytangel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693769176,"creation_date":1693769176,"answer_id":77033870,"question_id":77033764,"body_markdown":"Spring Boot 3 switched from using `javax` packages to `jakarta` packages and dependencies: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0.0-M1-Release-Notes\r\n\r\nSpring should be able to load the filter if you implement the `jakarta.servlet.Filter` class.","title":"Cannot add filter to SpringBootApplication","body":"<p>Spring Boot 3 switched from using <code>javax</code> packages to <code>jakarta</code> packages and dependencies: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0.0-M1-Release-Notes\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0.0-M1-Release-Notes</a></p>\n<p>Spring should be able to load the filter if you implement the <code>jakarta.servlet.Filter</code> class.</p>\n"}],"owner":{"account_id":11649558,"reputation":217,"user_id":14359173,"display_name":"Alexey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77033870,"answer_count":1,"score":1,"last_activity_date":1693845054,"creation_date":1693767160,"question_id":77033764,"body_markdown":"I&#39;ve read some answers on the internet, but nothing helps to me. Cannot add filter to my springbootapplication. The guides say that if I need a filter that worked for all endpoints, that I need to use the Filter interface. I used it, but nothing has changed. Is there something wrong with my dependencies?\r\n\r\n\r\n    ##### com.foo.core Main.java\r\n    package com.foo.core;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Main.class, args);\r\n        }\r\n\r\n    }\r\n\r\n    ##### com.foo.core AuthorizationRequiredFilter.java\r\n    package com.foo.core;\r\n    \r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.core.annotation.Order;\r\n    import javax.servlet.*;\r\n    import javax.servlet.Filter;\r\n    import javax.servlet.http.Cookie;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import java.io.IOException;\r\n    import org.slf4j.Logger;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    @Order(0)\r\n    public class AuthorizationRequiredFilter implements Filter {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(AuthorizationRequiredFilter.class);\r\n    \r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n    \r\n        }\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            log.debug(&quot;doFilter() method is invoked&quot;);\r\n            HttpServletRequest httpRequest = (HttpServletRequest) request;\r\n            System.out.println(httpRequest.getHeader(&quot;Authorization&quot;));\r\n            chain.doFilter(request, response);\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n    ##### com.foo.core PingController .java\r\n    package com.foo.core.controllers;\r\n    \r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    @RestController\r\n    public class PingController extends ResponseFormat {\r\n    \r\n        @RequestMapping(value = &quot;ping&quot;, method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public String ping() throws JSONException {\r\n            JSONObject response = new JSONObject();\r\n            response.put(&quot;message&quot;, &quot;pong&quot;);\r\n            return this.ok(response);\r\n        }\r\n    \r\n    }\r\n\r\n \r\n    ####### pom.xml\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t\t&lt;/parent&gt;\r\n\t\t&lt;groupId&gt;com.businessdynamics&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;name&gt;core&lt;/name&gt;\r\n\t\t&lt;description&gt;Businessdynamics core&lt;/description&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;java.version&gt;20&lt;/java.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;20190722&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.18.8&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t\r\n\t&lt;/project&gt;\r\n\r\nI use `@SpringBootApplication` so componentscan is not required as I understand. When I `POST /ping` - I get server response, but I have no logs in my terminal. What I do wrong, why filter is not working?","title":"Cannot add filter to SpringBootApplication","body":"<p>I've read some answers on the internet, but nothing helps to me. Cannot add filter to my springbootapplication. The guides say that if I need a filter that worked for all endpoints, that I need to use the Filter interface. I used it, but nothing has changed. Is there something wrong with my dependencies?</p>\n<pre><code>##### com.foo.core Main.java\npackage com.foo.core;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Main {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class, args);\n    }\n\n}\n\n##### com.foo.core AuthorizationRequiredFilter.java\npackage com.foo.core;\n\nimport org.slf4j.LoggerFactory;\nimport org.springframework.core.annotation.Order;\nimport javax.servlet.*;\nimport javax.servlet.Filter;\nimport javax.servlet.http.Cookie;\nimport javax.servlet.http.HttpServletRequest;\nimport java.io.IOException;\nimport org.slf4j.Logger;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Order(0)\npublic class AuthorizationRequiredFilter implements Filter {\n\n    private static final Logger log = LoggerFactory.getLogger(AuthorizationRequiredFilter.class);\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        log.debug(&quot;doFilter() method is invoked&quot;);\n        HttpServletRequest httpRequest = (HttpServletRequest) request;\n        System.out.println(httpRequest.getHeader(&quot;Authorization&quot;));\n        chain.doFilter(request, response);\n    }\n\n    @Override\n    public void destroy() {\n\n    }\n\n}\n\n\n##### com.foo.core PingController .java\npackage com.foo.core.controllers;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\npublic class PingController extends ResponseFormat {\n\n    @RequestMapping(value = &quot;ping&quot;, method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE)\n    public String ping() throws JSONException {\n        JSONObject response = new JSONObject();\n        response.put(&quot;message&quot;, &quot;pong&quot;);\n        return this.ok(response);\n    }\n\n}\n\n\n####### pom.xml\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.businessdynamics&lt;/groupId&gt;\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;core&lt;/name&gt;\n    &lt;description&gt;Businessdynamics core&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20190722&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.8&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I use <code>@SpringBootApplication</code> so componentscan is not required as I understand. When I <code>POST /ping</code> - I get server response, but I have no logs in my terminal. What I do wrong, why filter is not working?</p>\n"},{"tags":["java","spring-boot","intellij-idea","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":16338499,"reputation":180,"user_id":11799970,"display_name":"Orfeas Magoulas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664560799,"creation_date":1664560799,"answer_id":73912399,"question_id":73912290,"body_markdown":"This article explains how to build an interactive web application using Web Sockets.\r\n\r\nhttps://spring.io/guides/gs/messaging-stomp-websocket/\r\n\r\nThis establishes a continuous 2-way connection allowing client-side javascript to recieve updates and dynamically update the webpage.\r\n\r\nEdit: \r\n\r\nHere is a link to a full example project.\r\n\r\nhttps://github.com/spring-guides/gs-messaging-stomp-websocket","title":"Is it possible to show dynamic data in real time in an html with spring boot?","body":"<p>This article explains how to build an interactive web application using Web Sockets.</p>\n<p><a href=\"https://spring.io/guides/gs/messaging-stomp-websocket/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/messaging-stomp-websocket/</a></p>\n<p>This establishes a continuous 2-way connection allowing client-side javascript to recieve updates and dynamically update the webpage.</p>\n<p>Edit:</p>\n<p>Here is a link to a full example project.</p>\n<p><a href=\"https://github.com/spring-guides/gs-messaging-stomp-websocket\" rel=\"nofollow noreferrer\">https://github.com/spring-guides/gs-messaging-stomp-websocket</a></p>\n"}],"owner":{"account_id":26159616,"reputation":11,"user_id":20121848,"display_name":"Hipolito Matias Miguel Angel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693845045,"creation_date":1664559960,"question_id":73912290,"body_markdown":"\r\nI am developing with spring boot in Intellij, implement a service that is a class of the telegram api that receives messages through a bot, what I would like to do is show those messages that arrive in real time in a datatable and as they arrive the message is seen in the table.","title":"Is it possible to show dynamic data in real time in an html with spring boot?","body":"<p>I am developing with spring boot in Intellij, implement a service that is a class of the telegram api that receives messages through a bot, what I would like to do is show those messages that arrive in real time in a datatable and as they arrive the message is seen in the table.</p>\n"},{"tags":["java","spring","spring-data","spring-data-rest"],"answers":[{"tags":[],"owner":{"account_id":4025902,"reputation":1561,"user_id":3314194,"accept_rate":87,"display_name":"Kevin Vasko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1480956451,"creation_date":1480956451,"answer_id":40979194,"question_id":40942177,"body_markdown":"I found the solution. \r\n\r\nI was running into this bug. https://jira.spring.io/browse/DATAREST-906\r\n\r\nI was using Spring Boot 1.4.1, upgrading to 1.4.2 solves the problem. \r\n\r\n","title":"Spring @RepositoryRestController causes @PageableDefault to stop working","body":"<p>I found the solution. </p>\n\n<p>I was running into this bug. <a href=\"https://jira.spring.io/browse/DATAREST-906\" rel=\"nofollow noreferrer\">https://jira.spring.io/browse/DATAREST-906</a></p>\n\n<p>I was using Spring Boot 1.4.1, upgrading to 1.4.2 solves the problem. </p>\n"},{"tags":[],"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693844656,"creation_date":1693844656,"answer_id":77039340,"question_id":40942177,"body_markdown":"For anyone who comes across `@PageableDefault` and is wondering why it is null (and thus doesn&#39;t work). Check whether you&#39;re also using `@RequestParam` for the same attribute; if you do, remove it.\r\n\r\nSo, this:\r\n```java\r\n@GetMapping(produces = { MimeTypes.HALJSON_VALUE, MediaType.APPLICATION_JSON_VALUE })\r\nResponseEntity&lt;PagedModel&lt;EntityModel&lt;Thing&gt;&gt;&gt; getAllThings(\r\n        @PageableDefault(size = 20, sort = { &quot;name&quot; })\r\n        @RequestParam(name = &quot;pageable&quot;, required = false) final Pageable pageable) {\r\n        ...\r\n}\r\n```\r\n\r\nbecomes this:\r\n\r\n```java\r\n@GetMapping(produces = { MimeTypes.HALJSON_VALUE, MediaType.APPLICATION_JSON_VALUE })\r\nResponseEntity&lt;PagedModel&lt;EntityModel&lt;Thing&gt;&gt;&gt; getAllThings(\r\n        @PageableDefault(size = 20, sort = { &quot;name&quot; }) final Pageable pageable) {\r\n        ...\r\n}\r\n```\r\n","title":"Spring @RepositoryRestController causes @PageableDefault to stop working","body":"<p>For anyone who comes across <code>@PageableDefault</code> and is wondering why it is null (and thus doesn't work). Check whether you're also using <code>@RequestParam</code> for the same attribute; if you do, remove it.</p>\n<p>So, this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(produces = { MimeTypes.HALJSON_VALUE, MediaType.APPLICATION_JSON_VALUE })\nResponseEntity&lt;PagedModel&lt;EntityModel&lt;Thing&gt;&gt;&gt; getAllThings(\n        @PageableDefault(size = 20, sort = { &quot;name&quot; })\n        @RequestParam(name = &quot;pageable&quot;, required = false) final Pageable pageable) {\n        ...\n}\n</code></pre>\n<p>becomes this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(produces = { MimeTypes.HALJSON_VALUE, MediaType.APPLICATION_JSON_VALUE })\nResponseEntity&lt;PagedModel&lt;EntityModel&lt;Thing&gt;&gt;&gt; getAllThings(\n        @PageableDefault(size = 20, sort = { &quot;name&quot; }) final Pageable pageable) {\n        ...\n}\n</code></pre>\n"}],"owner":{"account_id":4025902,"reputation":1561,"user_id":3314194,"accept_rate":87,"display_name":"Kevin Vasko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40979194,"answer_count":2,"score":0,"last_activity_date":1693844656,"creation_date":1480719895,"question_id":40942177,"body_markdown":"I have a custom controller that is using the @PageableDefault annotation. I was using @Controller annotation on my class, however, I wanted to make this controller respond with the HATEOAS response. I added the @RepositoryRestController changed my method to \r\n\r\n```java\r\npublic HttpEntity&lt;PagedResources&lt;Resource&lt;Books&gt;&gt;&gt; search(\r\n                      @RequestParam(value = &quot;q&quot;, required = false) String query,\r\n                      @PageableDefault(page = 0, size = 20) Pageable pageable)\r\n```\r\n\r\n\r\nand then the return to \r\n\r\n```java\r\nreturn new ResponseEntity&lt;PagedResources&lt;Resource&lt;Books&gt;&gt;&gt; booksAssembler\r\n                                               .toResource(queryResult), HttpStatus.OK);\r\n```\r\n\r\nNow my @PageableDefault doesn&#39;t work. But when a client make a request (e.g. explicitly adding (or without) &amp;page=0&amp;size=20 to the URL) the endpoint from the controller, pageable is always null. I don&#39;t get why it stop working after changing the annotation? Is there any way to fix it other than changing back to @Controller?","title":"Spring @RepositoryRestController causes @PageableDefault to stop working","body":"<p>I have a custom controller that is using the @PageableDefault annotation. I was using @Controller annotation on my class, however, I wanted to make this controller respond with the HATEOAS response. I added the @RepositoryRestController changed my method to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public HttpEntity&lt;PagedResources&lt;Resource&lt;Books&gt;&gt;&gt; search(\n                      @RequestParam(value = &quot;q&quot;, required = false) String query,\n                      @PageableDefault(page = 0, size = 20) Pageable pageable)\n</code></pre>\n<p>and then the return to</p>\n<pre class=\"lang-java prettyprint-override\"><code>return new ResponseEntity&lt;PagedResources&lt;Resource&lt;Books&gt;&gt;&gt; booksAssembler\n                                               .toResource(queryResult), HttpStatus.OK);\n</code></pre>\n<p>Now my @PageableDefault doesn't work. But when a client make a request (e.g. explicitly adding (or without) &amp;page=0&amp;size=20 to the URL) the endpoint from the controller, pageable is always null. I don't get why it stop working after changing the annotation? Is there any way to fix it other than changing back to @Controller?</p>\n"},{"tags":["java","spring-boot","xss","json-deserialization","html-escape-characters"],"owner":{"account_id":27683979,"reputation":11,"user_id":21132113,"display_name":"Rajoli Hemanth Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693844640,"creation_date":1693844640,"question_id":77039336,"body_markdown":"lets consider this scenario.&lt;br/&gt;\r\n1.I have created a deserializer class\r\n&lt;br/&gt;\r\n2.used JsonDeserilizer anotation in POJO class.\r\n&lt;br/&gt;\r\n----------up to now everything is going good----------\r\n\r\nwhen request come to controller which accepts POJO. &lt;br/&gt;\r\n          &amp;nbsp; &amp;nbsp; -- here one deserialization is happening &lt;br/&gt;\r\nAgain if we send this same POJO to another method then &lt;br/&gt;\r\n&amp;nbsp; &amp;nbsp; -- then here also deserialization is happening(which i don&#39;t want)\r\n\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\nAny Suggestion or help it would save my time.&lt;br/&gt;\r\n","title":"Trying to escapeHtml Characters with Jsondeserializer in spring boot, But when ever it is persisting html escaping is happening more than once","body":"<p>lets consider this scenario.<br/>\n1.I have created a deserializer class\n<br/>\n2.used JsonDeserilizer anotation in POJO class.\n<br/>\n----------up to now everything is going good----------</p>\n<p>when request come to controller which accepts POJO. <br/>\n    -- here one deserialization is happening <br/>\nAgain if we send this same POJO to another method then <br/>\n    -- then here also deserialization is happening(which i don't want)</p>\n<br/>\n<br/>\nAny Suggestion or help it would save my time.<br/>\n"},{"tags":["java","fxml","directory-structure"],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1693916399,"post_id":77038273,"comment_id":135819868,"body_markdown":"Please don&#39;t post [images of code](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors).","body":"Please don&#39;t post <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">images of code</a>."}],"tags":[],"owner":{"account_id":29363814,"reputation":1,"user_id":22497968,"display_name":"flackode"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693835205,"creation_date":1693835205,"answer_id":77038273,"question_id":77038081,"body_markdown":"I also had this problem when I started to approach java. I propose this solution (with me it worked) but I am convinced there is a solution that does not increase the complexity of the method. So try this\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VRzfa.png","title":"Intelij Idea - Loading fxml resource from nested directories","body":"<p>I also had this problem when I started to approach java. I propose this solution (with me it worked) but I am convinced there is a solution that does not increase the complexity of the method. So try this\n<a href=\"https://i.stack.imgur.com/VRzfa.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":28852866,"reputation":35,"user_id":22098389,"display_name":"vperse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693844401,"creation_date":1693844401,"answer_id":77039315,"question_id":77038081,"body_markdown":"I managed to make it work by excluding the &#39;/&#39; before views/...","title":"Intelij Idea - Loading fxml resource from nested directories","body":"<p>I managed to make it work by excluding the '/' before views/...</p>\n"}],"owner":{"account_id":28852866,"reputation":35,"user_id":22098389,"display_name":"vperse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693844401,"creation_date":1693833632,"question_id":77038081,"body_markdown":"I&#39;m having trouble loading the fxml files from my resource views directory.\r\n\r\nI can load it normally without the nested directories but would like to solve it this way for more structural organization.\r\n\r\nThis is the project structure I modified from Intelij&#39;s default.\r\n\r\n[![project_structure](https://i.stack.imgur.com/MYvPU.png)](https://i.stack.imgur.com/MYvPU.png)\r\n\r\nThis is the command I use to load the resource.\r\n\r\n``` Java\r\nFXMLLoader homeSceneFXMLLoader = new FXMLLoader(SASAApplication.class.getResource(&quot;/views/home-view.fxml&quot;));\r\n```\r\n\r\nThis command triggers InvocationTargetException and says Location is not set.\r\n\r\nI&#39;ve searched the web for some solutions but my project structure is different so they don&#39;t seem to solve my issue.\r\n\r\nI want to know how I can correctly access the paths within my project structures so I can have a smooth coding experience.\r\n\r\nThank you in advance!","title":"Intelij Idea - Loading fxml resource from nested directories","body":"<p>I'm having trouble loading the fxml files from my resource views directory.</p>\n<p>I can load it normally without the nested directories but would like to solve it this way for more structural organization.</p>\n<p>This is the project structure I modified from Intelij's default.</p>\n<p><a href=\"https://i.stack.imgur.com/MYvPU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MYvPU.png\" alt=\"project_structure\" /></a></p>\n<p>This is the command I use to load the resource.</p>\n<pre><code>FXMLLoader homeSceneFXMLLoader = new FXMLLoader(SASAApplication.class.getResource(&quot;/views/home-view.fxml&quot;));\n</code></pre>\n<p>This command triggers InvocationTargetException and says Location is not set.</p>\n<p>I've searched the web for some solutions but my project structure is different so they don't seem to solve my issue.</p>\n<p>I want to know how I can correctly access the paths within my project structures so I can have a smooth coding experience.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","angular"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1693844382,"post_id":77037458,"comment_id":135810558,"body_markdown":"Welcome to stackoverflow. Your question has way too much code. Can you [edit] your question and reduce it to a [mcve]? You&#39;ll have better chances that someone takes a look when they don&#39;t have to dig through all that code.","body":"Welcome to stackoverflow. Your question has way too much code. Can you <a href=\"https://stackoverflow.com/posts/77037458/edit\">edit</a> your question and reduce it to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? You&#39;ll have better chances that someone takes a look when they don&#39;t have to dig through all that code."}],"owner":{"account_id":29361172,"reputation":1,"user_id":22495866,"display_name":"Akash Chauhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693844304,"creation_date":1693828218,"question_id":77037458,"body_markdown":"Current Result - I am getting result on different page after applying filter like 2 result in page 1 and 3 result on page 2 and 1 result on page 3 so on.\r\n\r\nExpected result - All filtered result should come on page 1 as it can hold max 10 results and then if it increases it should go on page 2 and 3 so on.\r\n\r\n``` \r\npublic _onPageChange({ page, pageSizeOptions: { current } }: UxPageChangeEvent): void {\r\n        if (this._pagingModel.currentPage === page &amp;&amp; this._pagingModel.pageSizeOptions.current === current) {\r\n            return;\r\n        }\r\n\r\n        this._pagingModel.currentPage = page;\r\n        this._pagingModel.pageSizeOptions.current = current;\r\n\r\n        this._isLoading = true;\r\n        this._statusVisibleLoaders.clear();\r\n        this._failureReasonVisibleLoaders.clear();\r\n        this.loadTablePageData();\r\n    }\r\n\r\n    public _onStatusChange(event: UxValueChangeEvent&lt;UxDropdownListItem&gt;, id: string): void {\r\n        this._statusVisibleLoaders.add(id);\r\n        this.testRunService\r\n            .updateRamTestRun(id, { testingStatus: event.newValue.value })\r\n            .pipe(takeUntil(this.unsubscribe$))\r\n            .subscribe(() =&gt; {\r\n                this._statusVisibleLoaders.delete(id);\r\n                this.cdr.detectChanges();\r\n            });\r\n    }\r\n\r\n    public _onFailureReasonChange(\r\n        failureReason: RamRootCauseModel,\r\n        contentModel: FailureReasonDropDownContentModel\r\n    ): void {\r\n        const testRunId = contentModel.testRunId;\r\n        this._failureReasonVisibleLoaders.add(testRunId);\r\n        this._failurePopoverVisible = false;\r\n        this.testRunService\r\n            .setTestRunsFailureReason([testRunId], failureReason)\r\n            .pipe(takeUntil(this.unsubscribe$))\r\n            .subscribe(() =&gt; {\r\n                contentModel.selectedItem = { id: failureReason.id, label: failureReason.caption };\r\n                this.uxTable.update();\r\n                this._failureReasonVisibleLoaders.delete(testRunId);\r\n                this.cdr.detectChanges();\r\n            });\r\n    }\r\n\r\n    public _onFailureReasonDropdownFocus(contentModel: FailureReasonDropDownContentModel): void {\r\n        this._failurePopoverVisible = true;\r\n        this._failureReasonChangingModel = contentModel;\r\n        this._failureReasonChangingNode = {\r\n            id: contentModel.selectedItem &amp;&amp; contentModel.selectedItem.id,\r\n            caption: contentModel.selectedItem &amp;&amp; contentModel.selectedItem.label,\r\n        };\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    public updateTestRunComments(\r\n        { text, html }: RamTestCaseCommentContentEditedEvent,\r\n        contentModel: TestCaseCommentContentModel\r\n    ): void {\r\n        this._commentVisibleLoaders.add(contentModel.testRunId);\r\n        this.testRunService\r\n            .updateTestRunsComments(\r\n                {\r\n                    text,\r\n                    html,\r\n                },\r\n                [contentModel.testRunId]\r\n            )\r\n            .pipe(takeUntil(this.unsubscribe$))\r\n            .subscribe(\r\n                () =&gt; {\r\n                    contentModel.comment = html;\r\n                    this._commentVisibleLoaders.delete(contentModel.testRunId);\r\n                    this.cdr.detectChanges();\r\n                },\r\n                () =&gt; {\r\n                    this._commentVisibleLoaders.delete(contentModel.testRunId);\r\n                    this.cdr.detectChanges();\r\n                    this.notificationService.push(\r\n                        NotificationHelper.error(\r\n                            &#39;Unable to send comment. Please try again or contact your system administrator&#39;\r\n                        )\r\n                    );\r\n                }\r\n            );\r\n    }\r\n\r\n    public _onFilterClick(event: UxTableFilterEvent): void {\r\n        const columnName: RamAnalyzedSummaryTestCasesColumnName = event.column.value;\r\n        const filterNewParentElement = AtpTableFilterHelper.getFilterElement(&lt;HTMLElement&gt;event.originalEvent.target);\r\n\r\n        if (this._filterPopoverVisible &amp;&amp; this._filterParentElement === filterNewParentElement) {\r\n            this._filterParentElement = null;\r\n            this._filterPopoverVisible = false;\r\n            return;\r\n        }\r\n\r\n        this._selectedFilter = this._tableFilteringParams.get(columnName);\r\n        this._selectedColumnName = columnName;\r\n\r\n        this.lazyLoadItemsForFilter(columnName);\r\n\r\n        this._filterParentElement = filterNewParentElement;\r\n        this._filterPopoverVisible = true;\r\n    }\r\n\r\n    public _onFilterApplyOrClear(): void {\r\n        this._pagingModel.currentPage = 1;\r\n        // Update filtermodel\r\n        this._tableFilteringParams.set(this._selectedColumnName, this._selectedFilter);\r\n        this.loadTablePageData(true);\r\n        this._filterPopoverVisible = false;\r\n    }\r\n\r\n    private initTableFilteringParams(): void {\r\n        const filters: [RamAnalyzedSummaryTestCasesColumnName, FilterModelsType][] = [\r\n            [\r\n                RamAnalyzedSummaryTestCasesColumnName.TEST_CASE,\r\n                {\r\n                    type: FilterType.TEXT_FILTER,\r\n                    applied: false,\r\n                    caption: &#39;Filter by Name&#39;,\r\n                    filterTypeHidden: true,\r\n                    caseSensitiveHidden: true,\r\n                },\r\n            ],\r\n            [\r\n                RamAnalyzedSummaryTestCasesColumnName.LABEL,\r\n                {\r\n                    type: FilterType.REFERENCE_FILTER,\r\n                    applied: false,\r\n                    caption: &#39;Filter by Label&#39;,\r\n                    label: &#39;Label&#39;,\r\n                    existingItemsOnly: false,\r\n                    multiple: true,\r\n                    loading: true,\r\n                },\r\n            ],\r\n            [\r\n                RamAnalyzedSummaryTestCasesColumnName.STATUS,\r\n                {\r\n                    type: FilterType.CHECKBOX_FILTER,\r\n                    applied: true,\r\n                    caption: &#39;Filter by Status&#39;,\r\n                    items: [\r\n                        { id: RamTestingStatuses.PASSED, caption: RamTestingStatusesNames.PASSED },\r\n                        { id: RamTestingStatuses.FAILED, caption: RamTestingStatusesNames.FAILED },\r\n                        { id: RamTestingStatuses.WARNING, caption: RamTestingStatusesNames.WARNING },\r\n                        { id: RamTestingStatuses.STOPPED, caption: RamTestingStatusesNames.STOPPED },\r\n                        { id: RamTestingStatuses.SKIPPED, caption: RamTestingStatusesNames.SKIPPED },\r\n                        { id: RamTestingStatuses.BLOCKED, caption: RamTestingStatusesNames.BLOCKED },\r\n                        { id: RamTestingStatuses.UNKNOWN, caption: RamTestingStatusesNames.UNKNOWN },\r\n                        { id: RamTestingStatuses.NOT_STARTED, caption: RamTestingStatusesNames.NOT_STARTED },\r\n                    ],\r\n                    value: [\r\n                        { id: RamTestingStatuses.FAILED, caption: RamTestingStatusesNames.FAILED },\r\n                        { id: RamTestingStatuses.WARNING, caption: RamTestingStatusesNames.WARNING },\r\n                        { id: RamTestingStatuses.STOPPED, caption: RamTestingStatusesNames.STOPPED },\r\n                        { id: RamTestingStatuses.SKIPPED, caption: RamTestingStatusesNames.SKIPPED },\r\n                        { id: RamTestingStatuses.BLOCKED, caption: RamTestingStatusesNames.BLOCKED },\r\n                        { id: RamTestingStatuses.UNKNOWN, caption: RamTestingStatusesNames.UNKNOWN },\r\n                        { id: RamTestingStatuses.NOT_STARTED, caption: RamTestingStatusesNames.NOT_STARTED },\r\n                    ],\r\n                },\r\n            ],\r\n            [\r\n                RamAnalyzedSummaryTestCasesColumnName.FAILURE_REASON,\r\n                {\r\n                    type: FilterType.REFERENCE_FILTER,\r\n                    applied: false,\r\n                    caption: &#39;Filter by Fail Reason&#39;,\r\n                    label: &#39;Failure Reason&#39;,\r\n                    multiple: true,\r\n                    items: this.failureReasons.map(({ id, label }) =&gt; ({ id, caption: label })),\r\n                },\r\n            ],\r\n        ];\r\n\r\n        this._tableFilteringParams = new Map(filters);\r\n    }\r\n\r\n    private loadTablePageData(resetPage: boolean = true): void {\r\n        const sortType = this.currentSortingType;\r\n        const sortingColumnType = this.currentSortingColumn;\r\n    \r\n        if (resetPage) {\r\n            this._pagingModel.currentPage = 1;\r\n        }\r\n    \r\n        const {\r\n            currentPage: page,\r\n            pageSizeOptions: { current: size },\r\n        } = this._pagingModel;\r\n        const request: SearchTestRunsRequestFilters = this.getFiltersRequestModel();\r\n    \r\n        this.testRunService\r\n            .getRamTestRunsFilteredPage(page, size, sortType, sortingColumnType, request)\r\n            .pipe(takeUntil(this.unsubscribe$))\r\n            .subscribe(({ totalNumberOfEntities, testRuns: tablePageRows }) =&gt; {\r\n                this._testCasesUrls = [];\r\n                this._tableRowsTotalCount = totalNumberOfEntities;\r\n                this._tableModel.body.rows = tablePageRows.map(tableRowData =&gt; {\r\n                    return this.formTableRow(tableRowData);\r\n                });\r\n                this._tableModel = { ...this._tableModel };\r\n                this._isLoading = false;\r\n                this.updateFilterIcons();\r\n                this.cdr.detectChanges();\r\n                this.loaded.emit(this._tableRowsTotalCount);\r\n            });\r\n    }\r\n\r\n    private formTableRow(ramTestRun: RamTestRunAnalyzedDataModel): UxTableRow {\r\n        let jiraSystemUrl = this._jiraSystemUrl;\r\n        if (this._jiraSystemUrl &amp;&amp; this._jiraSystemUrl[this._jiraSystemUrl.length - 1] === &#39;/&#39;) {\r\n            jiraSystemUrl = this._jiraSystemUrl.slice(0, this._jiraSystemUrl.length - 1);\r\n        }\r\n        const editorLink = `/project/${ramTestRun.projectId}/plan/${ramTestRun.testPlanId}/case/${ramTestRun.testCaseId}/scenario/${ramTestRun.scenarioId}/editor`;\r\n        this._testCasesUrls.push({ id: ramTestRun.testCaseId, link: editorLink, testRunId: ramTestRun.uuid });\r\n\r\n        return {\r\n            id: ramTestRun.uuid,\r\n            columns: [\r\n                {\r\n                    type: &#39;checkbox&#39;,\r\n                    value: false,\r\n                },\r\n                {\r\n                    type: &#39;link&#39;,\r\n                    value: ramTestRun.name,\r\n                    url: editorLink,\r\n                    unclickable: true,\r\n                },\r\n                {\r\n                    type: &#39;content&#39;,\r\n                    contentModel: {\r\n                        tooltipData: ramTestRun.labels ? ramTestRun.labels.map(label =&gt; label.name).join(&#39;, &#39;) : &#39;&#39;,\r\n                        columnContent: ramTestRun.labels ? `${ramTestRun.labels.length} Label(s)` : &#39;No Labels&#39;,\r\n                    },\r\n                    value: this.testRunLabels,\r\n                    unclickable: true,\r\n                },\r\n                {\r\n                    type: &#39;content&#39;,\r\n                    contentModel: {\r\n                        selectedItem: this.testRunsStatuses.find((listItem: UxDropdownListItem) =&gt; {\r\n                            return listItem.value === ramTestRun.testingStatus;\r\n                        }),\r\n                        listItems: this.testRunsStatuses,\r\n                        testRunId: ramTestRun.uuid,\r\n                    },\r\n                    value: this.testRunStatusesDropdown,\r\n                    unclickable: true,\r\n                },\r\n                {\r\n                    type: &#39;content&#39;,\r\n                    contentModel: {\r\n                        selectedItem: this.failureReasons.find(\r\n                            failureReason =&gt; failureReason.id === ramTestRun.failureReasonId\r\n                        ),\r\n                        listItems: this.failureReasons,\r\n                        testRunId: ramTestRun.uuid,\r\n                    },\r\n                    value: this.testRunFailureReasonDropdown,\r\n                    unclickable: true,\r\n                },\r\n                {\r\n                    type: &#39;link&#39;,\r\n                    value: ramTestRun.jiraTicket,\r\n                    url: jiraSystemUrl ? `${jiraSystemUrl}/browse/${ramTestRun.jiraTicket}` : &#39;&#39;,\r\n                    unclickable: true,\r\n                },\r\n                {\r\n                    type: &#39;link&#39;,\r\n                    value: ramTestRun.testRunJiraTicket,\r\n                    url: jiraSystemUrl ? `${jiraSystemUrl}/browse/${ramTestRun.testRunJiraTicket}` : &#39;&#39;,\r\n                    unclickable: true,\r\n                },\r\n                {\r\n                    type: &#39;content&#39;,\r\n                    contentModel: {\r\n                        comment: ramTestRun.comment ? ramTestRun.comment.html : &#39;&#39;,\r\n                        jiraSystemUrl: jiraSystemUrl,\r\n                        testRunId: ramTestRun.uuid,\r\n                    },\r\n                    value: this.testCaseComment,\r\n                    unclickable: true,\r\n                },\r\n            ],\r\n        };\r\n    }\r\n\r\n    private getFiltersRequestModel(): SearchTestRunsRequestFilters {\r\n        const request: SearchTestRunsRequestFilters = { executionRequestId: this.executionRequestId };\r\n\r\n        Array.from(this._tableFilteringParams.entries())\r\n            .filter(([, filter]) =&gt; filter.applied)\r\n            .forEach(([columnName, filter]) =&gt; {\r\n                switch (columnName) {\r\n                    case RamAnalyzedSummaryTestCasesColumnName.TEST_CASE:\r\n                        request.testCaseName = (&lt;TextFilterModel&gt;filter).value;\r\n                        break;\r\n                    case RamAnalyzedSummaryTestCasesColumnName.LABEL:\r\n                        const selectedLabelsNames = (&lt;ReferenceFilterModel&gt;filter).values\r\n                            .filter(({ customData }: { customData?: { existed: boolean } }) =&gt; customData?.existed)\r\n                            .map(({ caption }: { caption: string }) =&gt; caption);\r\n\r\n                        const searchTexts = (&lt;ReferenceFilterModel&gt;filter).values\r\n                            .filter(({ customData }: { customData?: { existed: boolean } }) =&gt; !customData?.existed)\r\n                            .map(({ caption }: { caption: string }) =&gt; caption);\r\n\r\n                        if (selectedLabelsNames.length) {\r\n                            request.labelNames = selectedLabelsNames;\r\n                        }\r\n\r\n                        if (searchTexts.length) {\r\n                            request.labelNameContains = searchTexts;\r\n                        }\r\n                        break;\r\n                    case RamAnalyzedSummaryTestCasesColumnName.STATUS:\r\n                        request.inTestingStatuses = (&lt;CheckboxFilterModel&gt;filter).value.map(\r\n                            ({ id }) =&gt; &lt;RamTestingStatuses&gt;id\r\n                        );\r\n                        break;\r\n                    case RamAnalyzedSummaryTestCasesColumnName.FAILURE_REASON:\r\n                        request.failureReasons = (&lt;ReferenceFilterModel&gt;filter).values.map(({ id }) =&gt; id);\r\n                        break;\r\n                }\r\n            });\r\n\r\n        return request;\r\n    }\r\n\r\n    private updateFilterIcons(): void {\r\n        requestAnimationFrame(() =&gt; {\r\n            const filterElements = (&lt;HTMLElement&gt;this.uxTable.elementRef.nativeElement).querySelectorAll(\r\n                &#39;.ux-table__filter&#39;\r\n            );\r\n\r\n            this._tableModel.header.rows[0].columns.forEach((column, i) =&gt; {\r\n                if (\r\n                    this._tableFilteringParams.get(column.value) &amp;&amp;\r\n                    this._tableFilteringParams.get(column.value).applied\r\n                ) {\r\n                    filterElements[i - 1].classList.add(&#39;_filtered&#39;);\r\n                }\r\n            });\r\n        });\r\n    }\r\n```","title":"Filtered results are staying in their respective page not starting from page 1","body":"<p>Current Result - I am getting result on different page after applying filter like 2 result in page 1 and 3 result on page 2 and 1 result on page 3 so on.</p>\n<p>Expected result - All filtered result should come on page 1 as it can hold max 10 results and then if it increases it should go on page 2 and 3 so on.</p>\n<pre><code>public _onPageChange({ page, pageSizeOptions: { current } }: UxPageChangeEvent): void {\n        if (this._pagingModel.currentPage === page &amp;&amp; this._pagingModel.pageSizeOptions.current === current) {\n            return;\n        }\n\n        this._pagingModel.currentPage = page;\n        this._pagingModel.pageSizeOptions.current = current;\n\n        this._isLoading = true;\n        this._statusVisibleLoaders.clear();\n        this._failureReasonVisibleLoaders.clear();\n        this.loadTablePageData();\n    }\n\n    public _onStatusChange(event: UxValueChangeEvent&lt;UxDropdownListItem&gt;, id: string): void {\n        this._statusVisibleLoaders.add(id);\n        this.testRunService\n            .updateRamTestRun(id, { testingStatus: event.newValue.value })\n            .pipe(takeUntil(this.unsubscribe$))\n            .subscribe(() =&gt; {\n                this._statusVisibleLoaders.delete(id);\n                this.cdr.detectChanges();\n            });\n    }\n\n    public _onFailureReasonChange(\n        failureReason: RamRootCauseModel,\n        contentModel: FailureReasonDropDownContentModel\n    ): void {\n        const testRunId = contentModel.testRunId;\n        this._failureReasonVisibleLoaders.add(testRunId);\n        this._failurePopoverVisible = false;\n        this.testRunService\n            .setTestRunsFailureReason([testRunId], failureReason)\n            .pipe(takeUntil(this.unsubscribe$))\n            .subscribe(() =&gt; {\n                contentModel.selectedItem = { id: failureReason.id, label: failureReason.caption };\n                this.uxTable.update();\n                this._failureReasonVisibleLoaders.delete(testRunId);\n                this.cdr.detectChanges();\n            });\n    }\n\n    public _onFailureReasonDropdownFocus(contentModel: FailureReasonDropDownContentModel): void {\n        this._failurePopoverVisible = true;\n        this._failureReasonChangingModel = contentModel;\n        this._failureReasonChangingNode = {\n            id: contentModel.selectedItem &amp;&amp; contentModel.selectedItem.id,\n            caption: contentModel.selectedItem &amp;&amp; contentModel.selectedItem.label,\n        };\n        this.cdr.detectChanges();\n    }\n\n    public updateTestRunComments(\n        { text, html }: RamTestCaseCommentContentEditedEvent,\n        contentModel: TestCaseCommentContentModel\n    ): void {\n        this._commentVisibleLoaders.add(contentModel.testRunId);\n        this.testRunService\n            .updateTestRunsComments(\n                {\n                    text,\n                    html,\n                },\n                [contentModel.testRunId]\n            )\n            .pipe(takeUntil(this.unsubscribe$))\n            .subscribe(\n                () =&gt; {\n                    contentModel.comment = html;\n                    this._commentVisibleLoaders.delete(contentModel.testRunId);\n                    this.cdr.detectChanges();\n                },\n                () =&gt; {\n                    this._commentVisibleLoaders.delete(contentModel.testRunId);\n                    this.cdr.detectChanges();\n                    this.notificationService.push(\n                        NotificationHelper.error(\n                            'Unable to send comment. Please try again or contact your system administrator'\n                        )\n                    );\n                }\n            );\n    }\n\n    public _onFilterClick(event: UxTableFilterEvent): void {\n        const columnName: RamAnalyzedSummaryTestCasesColumnName = event.column.value;\n        const filterNewParentElement = AtpTableFilterHelper.getFilterElement(&lt;HTMLElement&gt;event.originalEvent.target);\n\n        if (this._filterPopoverVisible &amp;&amp; this._filterParentElement === filterNewParentElement) {\n            this._filterParentElement = null;\n            this._filterPopoverVisible = false;\n            return;\n        }\n\n        this._selectedFilter = this._tableFilteringParams.get(columnName);\n        this._selectedColumnName = columnName;\n\n        this.lazyLoadItemsForFilter(columnName);\n\n        this._filterParentElement = filterNewParentElement;\n        this._filterPopoverVisible = true;\n    }\n\n    public _onFilterApplyOrClear(): void {\n        this._pagingModel.currentPage = 1;\n        // Update filtermodel\n        this._tableFilteringParams.set(this._selectedColumnName, this._selectedFilter);\n        this.loadTablePageData(true);\n        this._filterPopoverVisible = false;\n    }\n\n    private initTableFilteringParams(): void {\n        const filters: [RamAnalyzedSummaryTestCasesColumnName, FilterModelsType][] = [\n            [\n                RamAnalyzedSummaryTestCasesColumnName.TEST_CASE,\n                {\n                    type: FilterType.TEXT_FILTER,\n                    applied: false,\n                    caption: 'Filter by Name',\n                    filterTypeHidden: true,\n                    caseSensitiveHidden: true,\n                },\n            ],\n            [\n                RamAnalyzedSummaryTestCasesColumnName.LABEL,\n                {\n                    type: FilterType.REFERENCE_FILTER,\n                    applied: false,\n                    caption: 'Filter by Label',\n                    label: 'Label',\n                    existingItemsOnly: false,\n                    multiple: true,\n                    loading: true,\n                },\n            ],\n            [\n                RamAnalyzedSummaryTestCasesColumnName.STATUS,\n                {\n                    type: FilterType.CHECKBOX_FILTER,\n                    applied: true,\n                    caption: 'Filter by Status',\n                    items: [\n                        { id: RamTestingStatuses.PASSED, caption: RamTestingStatusesNames.PASSED },\n                        { id: RamTestingStatuses.FAILED, caption: RamTestingStatusesNames.FAILED },\n                        { id: RamTestingStatuses.WARNING, caption: RamTestingStatusesNames.WARNING },\n                        { id: RamTestingStatuses.STOPPED, caption: RamTestingStatusesNames.STOPPED },\n                        { id: RamTestingStatuses.SKIPPED, caption: RamTestingStatusesNames.SKIPPED },\n                        { id: RamTestingStatuses.BLOCKED, caption: RamTestingStatusesNames.BLOCKED },\n                        { id: RamTestingStatuses.UNKNOWN, caption: RamTestingStatusesNames.UNKNOWN },\n                        { id: RamTestingStatuses.NOT_STARTED, caption: RamTestingStatusesNames.NOT_STARTED },\n                    ],\n                    value: [\n                        { id: RamTestingStatuses.FAILED, caption: RamTestingStatusesNames.FAILED },\n                        { id: RamTestingStatuses.WARNING, caption: RamTestingStatusesNames.WARNING },\n                        { id: RamTestingStatuses.STOPPED, caption: RamTestingStatusesNames.STOPPED },\n                        { id: RamTestingStatuses.SKIPPED, caption: RamTestingStatusesNames.SKIPPED },\n                        { id: RamTestingStatuses.BLOCKED, caption: RamTestingStatusesNames.BLOCKED },\n                        { id: RamTestingStatuses.UNKNOWN, caption: RamTestingStatusesNames.UNKNOWN },\n                        { id: RamTestingStatuses.NOT_STARTED, caption: RamTestingStatusesNames.NOT_STARTED },\n                    ],\n                },\n            ],\n            [\n                RamAnalyzedSummaryTestCasesColumnName.FAILURE_REASON,\n                {\n                    type: FilterType.REFERENCE_FILTER,\n                    applied: false,\n                    caption: 'Filter by Fail Reason',\n                    label: 'Failure Reason',\n                    multiple: true,\n                    items: this.failureReasons.map(({ id, label }) =&gt; ({ id, caption: label })),\n                },\n            ],\n        ];\n\n        this._tableFilteringParams = new Map(filters);\n    }\n\n    private loadTablePageData(resetPage: boolean = true): void {\n        const sortType = this.currentSortingType;\n        const sortingColumnType = this.currentSortingColumn;\n    \n        if (resetPage) {\n            this._pagingModel.currentPage = 1;\n        }\n    \n        const {\n            currentPage: page,\n            pageSizeOptions: { current: size },\n        } = this._pagingModel;\n        const request: SearchTestRunsRequestFilters = this.getFiltersRequestModel();\n    \n        this.testRunService\n            .getRamTestRunsFilteredPage(page, size, sortType, sortingColumnType, request)\n            .pipe(takeUntil(this.unsubscribe$))\n            .subscribe(({ totalNumberOfEntities, testRuns: tablePageRows }) =&gt; {\n                this._testCasesUrls = [];\n                this._tableRowsTotalCount = totalNumberOfEntities;\n                this._tableModel.body.rows = tablePageRows.map(tableRowData =&gt; {\n                    return this.formTableRow(tableRowData);\n                });\n                this._tableModel = { ...this._tableModel };\n                this._isLoading = false;\n                this.updateFilterIcons();\n                this.cdr.detectChanges();\n                this.loaded.emit(this._tableRowsTotalCount);\n            });\n    }\n\n    private formTableRow(ramTestRun: RamTestRunAnalyzedDataModel): UxTableRow {\n        let jiraSystemUrl = this._jiraSystemUrl;\n        if (this._jiraSystemUrl &amp;&amp; this._jiraSystemUrl[this._jiraSystemUrl.length - 1] === '/') {\n            jiraSystemUrl = this._jiraSystemUrl.slice(0, this._jiraSystemUrl.length - 1);\n        }\n        const editorLink = `/project/${ramTestRun.projectId}/plan/${ramTestRun.testPlanId}/case/${ramTestRun.testCaseId}/scenario/${ramTestRun.scenarioId}/editor`;\n        this._testCasesUrls.push({ id: ramTestRun.testCaseId, link: editorLink, testRunId: ramTestRun.uuid });\n\n        return {\n            id: ramTestRun.uuid,\n            columns: [\n                {\n                    type: 'checkbox',\n                    value: false,\n                },\n                {\n                    type: 'link',\n                    value: ramTestRun.name,\n                    url: editorLink,\n                    unclickable: true,\n                },\n                {\n                    type: 'content',\n                    contentModel: {\n                        tooltipData: ramTestRun.labels ? ramTestRun.labels.map(label =&gt; label.name).join(', ') : '',\n                        columnContent: ramTestRun.labels ? `${ramTestRun.labels.length} Label(s)` : 'No Labels',\n                    },\n                    value: this.testRunLabels,\n                    unclickable: true,\n                },\n                {\n                    type: 'content',\n                    contentModel: {\n                        selectedItem: this.testRunsStatuses.find((listItem: UxDropdownListItem) =&gt; {\n                            return listItem.value === ramTestRun.testingStatus;\n                        }),\n                        listItems: this.testRunsStatuses,\n                        testRunId: ramTestRun.uuid,\n                    },\n                    value: this.testRunStatusesDropdown,\n                    unclickable: true,\n                },\n                {\n                    type: 'content',\n                    contentModel: {\n                        selectedItem: this.failureReasons.find(\n                            failureReason =&gt; failureReason.id === ramTestRun.failureReasonId\n                        ),\n                        listItems: this.failureReasons,\n                        testRunId: ramTestRun.uuid,\n                    },\n                    value: this.testRunFailureReasonDropdown,\n                    unclickable: true,\n                },\n                {\n                    type: 'link',\n                    value: ramTestRun.jiraTicket,\n                    url: jiraSystemUrl ? `${jiraSystemUrl}/browse/${ramTestRun.jiraTicket}` : '',\n                    unclickable: true,\n                },\n                {\n                    type: 'link',\n                    value: ramTestRun.testRunJiraTicket,\n                    url: jiraSystemUrl ? `${jiraSystemUrl}/browse/${ramTestRun.testRunJiraTicket}` : '',\n                    unclickable: true,\n                },\n                {\n                    type: 'content',\n                    contentModel: {\n                        comment: ramTestRun.comment ? ramTestRun.comment.html : '',\n                        jiraSystemUrl: jiraSystemUrl,\n                        testRunId: ramTestRun.uuid,\n                    },\n                    value: this.testCaseComment,\n                    unclickable: true,\n                },\n            ],\n        };\n    }\n\n    private getFiltersRequestModel(): SearchTestRunsRequestFilters {\n        const request: SearchTestRunsRequestFilters = { executionRequestId: this.executionRequestId };\n\n        Array.from(this._tableFilteringParams.entries())\n            .filter(([, filter]) =&gt; filter.applied)\n            .forEach(([columnName, filter]) =&gt; {\n                switch (columnName) {\n                    case RamAnalyzedSummaryTestCasesColumnName.TEST_CASE:\n                        request.testCaseName = (&lt;TextFilterModel&gt;filter).value;\n                        break;\n                    case RamAnalyzedSummaryTestCasesColumnName.LABEL:\n                        const selectedLabelsNames = (&lt;ReferenceFilterModel&gt;filter).values\n                            .filter(({ customData }: { customData?: { existed: boolean } }) =&gt; customData?.existed)\n                            .map(({ caption }: { caption: string }) =&gt; caption);\n\n                        const searchTexts = (&lt;ReferenceFilterModel&gt;filter).values\n                            .filter(({ customData }: { customData?: { existed: boolean } }) =&gt; !customData?.existed)\n                            .map(({ caption }: { caption: string }) =&gt; caption);\n\n                        if (selectedLabelsNames.length) {\n                            request.labelNames = selectedLabelsNames;\n                        }\n\n                        if (searchTexts.length) {\n                            request.labelNameContains = searchTexts;\n                        }\n                        break;\n                    case RamAnalyzedSummaryTestCasesColumnName.STATUS:\n                        request.inTestingStatuses = (&lt;CheckboxFilterModel&gt;filter).value.map(\n                            ({ id }) =&gt; &lt;RamTestingStatuses&gt;id\n                        );\n                        break;\n                    case RamAnalyzedSummaryTestCasesColumnName.FAILURE_REASON:\n                        request.failureReasons = (&lt;ReferenceFilterModel&gt;filter).values.map(({ id }) =&gt; id);\n                        break;\n                }\n            });\n\n        return request;\n    }\n\n    private updateFilterIcons(): void {\n        requestAnimationFrame(() =&gt; {\n            const filterElements = (&lt;HTMLElement&gt;this.uxTable.elementRef.nativeElement).querySelectorAll(\n                '.ux-table__filter'\n            );\n\n            this._tableModel.header.rows[0].columns.forEach((column, i) =&gt; {\n                if (\n                    this._tableFilteringParams.get(column.value) &amp;&amp;\n                    this._tableFilteringParams.get(column.value).applied\n                ) {\n                    filterElements[i - 1].classList.add('_filtered');\n                }\n            });\n        });\n    }\n</code></pre>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":3983019,"reputation":513,"user_id":3284482,"display_name":"Mauricio"},"score":4,"creation_date":1693787296,"post_id":77034557,"comment_id":135802556,"body_markdown":"Take a look at &quot;Java Generics&quot;: https://www.baeldung.com/java-generics","body":"Take a look at &quot;Java Generics&quot;: <a href=\"https://www.baeldung.com/java-generics\" rel=\"nofollow noreferrer\">baeldung.com/java-generics</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1693788370,"post_id":77034557,"comment_id":135802632,"body_markdown":"You won&#39;t be able to use generics to create a linked list of `int`. You could, however, create a linked list of [`Integer`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html) using generics. You can use [Autoboxing and unboxing](https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html) of primitives.","body":"You won&#39;t be able to use generics to create a linked list of <code>int</code>. You could, however, create a linked list of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html\" rel=\"nofollow noreferrer\"><code>Integer</code></a> using generics. You can use <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\">Autoboxing and unboxing</a> of primitives."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693789048,"post_id":77034557,"comment_id":135802665,"body_markdown":"@OldDogProgrammer Once Valhalla gets here, that will finally change. I&#39;m hoping we can reach that point in the next 3-4 years.","body":"@OldDogProgrammer Once Valhalla gets here, that will finally change. I&#39;m hoping we can reach that point in the next 3-4 years."},{"owner":{"account_id":25109400,"reputation":3,"user_id":18959232,"display_name":"d1zyz"},"score":2,"creation_date":1693789467,"post_id":77034557,"comment_id":135802691,"body_markdown":"@Mauricio this link has opened an entire concept I did not know existed lol. Thank you","body":"@Mauricio this link has opened an entire concept I did not know existed lol. Thank you"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693791017,"post_id":77034557,"comment_id":135802779,"body_markdown":"@d1zyz Java is a powerful language. Keep digging.","body":"@d1zyz Java is a powerful language. Keep digging."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693843786,"creation_date":1693790611,"answer_id":77034685,"question_id":77034557,"body_markdown":"As I find the baeldung article nod sufficient enough for beginners, I quickly re-wrote your code to support generics.\r\n\r\nStep 1: Make the inner workings generic, in this case your Node class:\r\n-\r\nIn simple terms, instead of giving Node a fixed content like `BufferedImage`, we introduce our own type parameter. Usually that is simply called `&lt;T&gt;`, but here I go with `&lt;MyGenericType&gt;` to show that it can be handled like any other type.\r\n\r\nThe little downside is that we have to explicitly type `Node&lt;MyGenericType&gt;` wherever we use it, so this makes the code a bit longer.\r\n\r\n\r\n\r\n    package stackoverflow.linkedlist;\r\n    \r\n    public class Node&lt;MyGenericType&gt; {\r\n    \tprivate MyGenericType\t\tdata;\r\n    \tprivate Node&lt;MyGenericType&gt;\tlink;\r\n    \r\n    \tpublic Node&lt;MyGenericType&gt; getLink() {\r\n    \t\treturn link;\r\n    \t}\r\n    \r\n    \tpublic void setLink(final Node&lt;MyGenericType&gt; link) {\r\n    \t\tthis.link = link;\r\n    \t}\r\n    \r\n    \tpublic MyGenericType getData() {\r\n    \t\treturn data;\r\n    \t}\r\n    \r\n    \tpublic void setData(final MyGenericType data) {\r\n    \t\tthis.data = data;\r\n    \t}\r\n    \r\n    }\r\n\r\nStep 2: Make the main class generic, your LinkedList:\r\n-\r\nSame here, introduce generics\r\n\r\n    package stackoverflow.linkedlist;\r\n    \r\n    public class LinkedList&lt;MyGenericType&gt; {\r\n    \r\n    \tprivate Node&lt;MyGenericType&gt; root;\r\n    \tpublic Node&lt;MyGenericType&gt; getRoot() {\r\n    \t\treturn root;\r\n    \t}\r\n    \r\n    \tpublic void add(final MyGenericType data) {\r\n    \t\tif (root == null) {\r\n    \t\t\troot = new Node&lt;&gt;();\r\n    \t\t\troot.setData(data);\r\n    \t\t} else {\r\n    \t\t\tNode&lt;MyGenericType&gt; tmp = root;\r\n    \t\t\twhile (tmp.getLink() != null) {\r\n    \t\t\t\ttmp = tmp.getLink();\r\n    \t\t\t}\r\n    \t\t\tfinal Node&lt;MyGenericType&gt; n = new Node&lt;&gt;();\r\n    \t\t\tn.setData(data);\r\n    \t\t\ttmp.setLink(n);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic int size() {\r\n    \t\tif (root == null) {\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \t\tint count = 0;\r\n    \t\tNode&lt;MyGenericType&gt; tmp = root;\r\n    \t\twhile (tmp != null) {\r\n    \t\t\tcount++;\r\n    \t\t\ttmp = tmp.getLink();\r\n    \t\t}\r\n    \t\treturn count;\r\n    \t}\r\n    \r\n    \tpublic MyGenericType get(final int pos) {\r\n    \t\tif (pos &lt; 0 || pos &gt;= size()) {\r\n    \t\t\tthrow new IndexOutOfBoundsException(&quot;The index &quot; + pos + &quot; is out of bounds.&quot;);\r\n    \t\t}\r\n    \r\n    \t\tNode&lt;MyGenericType&gt; tmp = root;\r\n    \t\tfor (int i = 0; i &lt; pos; i++) {\r\n    \t\t\ttmp = tmp.getLink();\r\n    \t\t}\r\n    \t\treturn tmp.getData();\r\n    \t}\r\n    \r\n    \tpublic void set(final int pos, final MyGenericType data) {\r\n    \t\tif (pos &lt; 0 || pos &gt;= size()) {\r\n    \t\t\tthrow new IndexOutOfBoundsException(&quot;The index &quot; + pos + &quot; is out of bounds.&quot;);\r\n    \t\t}\r\n    \t\tNode&lt;MyGenericType&gt; tmp = root;\r\n    \t\tfor (int i = 0; i &lt; pos; i++) {\r\n    \t\t\ttmp = tmp.getLink();\r\n    \t\t}\r\n    \t\ttmp.setData(data);\r\n    \t}\r\n    \r\n    \t//DELETES LAST DATA\r\n    \tpublic void delete() {\r\n    \t\tif (root != null) {\r\n    \t\t\tNode&lt;MyGenericType&gt; tmp = root;\r\n    \t\t\tfor (int i = 0; i &lt; size() - 2; i++) {\r\n    \t\t\t\ttmp = tmp.getLink();\r\n    \t\t\t}\r\n    \t\t\ttmp.setLink(null);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nStep 3: Showcase some examples\r\n-\r\nHere I show you how to use the list. As you can see, we now have to define/introduce the &#39;concept&#39; (aka Type) of BufferedImage from the outside, when we tell our list what type it should handle: `LinkedList&lt;BufferedImage&gt; imageList = new LinkedList&lt;&gt;();`\r\n\r\n    package stackoverflow.linkedlist;\r\n    \r\n    import java.awt.image.BufferedImage;\r\n    \r\n    \r\n    public class Usage {\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal LinkedList&lt;BufferedImage&gt; imageList = new LinkedList&lt;&gt;();\r\n    \t\tfinal BufferedImage bi1 = new BufferedImage(640, 480, BufferedImage.TYPE_INT_ARGB);\r\n    \t\tfinal BufferedImage bi2 = new BufferedImage(640, 480, BufferedImage.TYPE_INT_ARGB);\r\n    \t\timageList.add(bi1);\r\n    \t\timageList.add(bi2);\r\n    \t\tSystem.out.println(&quot;Size of image list is now: &quot; + imageList.size());\r\n    \r\n    \r\n    \r\n    \t\tfinal LinkedList&lt;Integer&gt; intList = new LinkedList&lt;&gt;();\r\n    \t\tintList.add(Integer.valueOf(667));\r\n    \t\tintList.add(Integer.valueOf(668));\r\n    \t\tintList.add(Integer.valueOf(669));\r\n    \t\tSystem.out.println(&quot;Size of Integer is now: &quot; + intList.size());\r\n    \r\n    \r\n    \r\n    \t\tfinal LinkedList&lt;DemoCombo&gt; mixedList = new LinkedList&lt;&gt;();\r\n    \t\tmixedList.add(new DemoCombo(bi1, 667));\r\n    \t\tmixedList.add(new DemoCombo(bi2, 668));\r\n    \t\tSystem.out.println(&quot;Size of mixed list is now: &quot; + mixedList.size());\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tstatic private class DemoCombo {\r\n    \t\tpublic final BufferedImage\timage;\r\n    \t\tpublic final int\t\t\tvalue;\r\n    \t\tpublic DemoCombo(final BufferedImage pImage, final int pValue) {\r\n    \t\t\timage = pImage;\r\n    \t\t\tvalue = pValue;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\nI also included the DemoCombo class, because I was unsure why you wanted to have a list of BufferedImage and one of int.\r\nNormally, if you have data that is related, like BufferedImage has a direct relation to the int, you should not have 2 different lists to store them in. In this case, it&#39;s a lot better to write a simple wrapper class, DemoCombo, so all data that belongs to each other is always together, and you do not have the pitfalls of having to manage 2 lists independently.","title":"Efficient way to store different data types","body":"<p>As I find the baeldung article nod sufficient enough for beginners, I quickly re-wrote your code to support generics.</p>\n<h2>Step 1: Make the inner workings generic, in this case your Node class:</h2>\n<p>In simple terms, instead of giving Node a fixed content like <code>BufferedImage</code>, we introduce our own type parameter. Usually that is simply called <code>&lt;T&gt;</code>, but here I go with <code>&lt;MyGenericType&gt;</code> to show that it can be handled like any other type.</p>\n<p>The little downside is that we have to explicitly type <code>Node&lt;MyGenericType&gt;</code> wherever we use it, so this makes the code a bit longer.</p>\n<pre><code>package stackoverflow.linkedlist;\n\npublic class Node&lt;MyGenericType&gt; {\n    private MyGenericType       data;\n    private Node&lt;MyGenericType&gt; link;\n\n    public Node&lt;MyGenericType&gt; getLink() {\n        return link;\n    }\n\n    public void setLink(final Node&lt;MyGenericType&gt; link) {\n        this.link = link;\n    }\n\n    public MyGenericType getData() {\n        return data;\n    }\n\n    public void setData(final MyGenericType data) {\n        this.data = data;\n    }\n\n}\n</code></pre>\n<h2>Step 2: Make the main class generic, your LinkedList:</h2>\n<p>Same here, introduce generics</p>\n<pre><code>package stackoverflow.linkedlist;\n\npublic class LinkedList&lt;MyGenericType&gt; {\n\n    private Node&lt;MyGenericType&gt; root;\n    public Node&lt;MyGenericType&gt; getRoot() {\n        return root;\n    }\n\n    public void add(final MyGenericType data) {\n        if (root == null) {\n            root = new Node&lt;&gt;();\n            root.setData(data);\n        } else {\n            Node&lt;MyGenericType&gt; tmp = root;\n            while (tmp.getLink() != null) {\n                tmp = tmp.getLink();\n            }\n            final Node&lt;MyGenericType&gt; n = new Node&lt;&gt;();\n            n.setData(data);\n            tmp.setLink(n);\n        }\n    }\n\n    public int size() {\n        if (root == null) {\n            return 0;\n        }\n        int count = 0;\n        Node&lt;MyGenericType&gt; tmp = root;\n        while (tmp != null) {\n            count++;\n            tmp = tmp.getLink();\n        }\n        return count;\n    }\n\n    public MyGenericType get(final int pos) {\n        if (pos &lt; 0 || pos &gt;= size()) {\n            throw new IndexOutOfBoundsException(&quot;The index &quot; + pos + &quot; is out of bounds.&quot;);\n        }\n\n        Node&lt;MyGenericType&gt; tmp = root;\n        for (int i = 0; i &lt; pos; i++) {\n            tmp = tmp.getLink();\n        }\n        return tmp.getData();\n    }\n\n    public void set(final int pos, final MyGenericType data) {\n        if (pos &lt; 0 || pos &gt;= size()) {\n            throw new IndexOutOfBoundsException(&quot;The index &quot; + pos + &quot; is out of bounds.&quot;);\n        }\n        Node&lt;MyGenericType&gt; tmp = root;\n        for (int i = 0; i &lt; pos; i++) {\n            tmp = tmp.getLink();\n        }\n        tmp.setData(data);\n    }\n\n    //DELETES LAST DATA\n    public void delete() {\n        if (root != null) {\n            Node&lt;MyGenericType&gt; tmp = root;\n            for (int i = 0; i &lt; size() - 2; i++) {\n                tmp = tmp.getLink();\n            }\n            tmp.setLink(null);\n        }\n    }\n\n}\n</code></pre>\n<h2>Step 3: Showcase some examples</h2>\n<p>Here I show you how to use the list. As you can see, we now have to define/introduce the 'concept' (aka Type) of BufferedImage from the outside, when we tell our list what type it should handle: <code>LinkedList&lt;BufferedImage&gt; imageList = new LinkedList&lt;&gt;();</code></p>\n<pre><code>package stackoverflow.linkedlist;\n\nimport java.awt.image.BufferedImage;\n\n\npublic class Usage {\n\n\n\n    public static void main(final String[] args) {\n        final LinkedList&lt;BufferedImage&gt; imageList = new LinkedList&lt;&gt;();\n        final BufferedImage bi1 = new BufferedImage(640, 480, BufferedImage.TYPE_INT_ARGB);\n        final BufferedImage bi2 = new BufferedImage(640, 480, BufferedImage.TYPE_INT_ARGB);\n        imageList.add(bi1);\n        imageList.add(bi2);\n        System.out.println(&quot;Size of image list is now: &quot; + imageList.size());\n\n\n\n        final LinkedList&lt;Integer&gt; intList = new LinkedList&lt;&gt;();\n        intList.add(Integer.valueOf(667));\n        intList.add(Integer.valueOf(668));\n        intList.add(Integer.valueOf(669));\n        System.out.println(&quot;Size of Integer is now: &quot; + intList.size());\n\n\n\n        final LinkedList&lt;DemoCombo&gt; mixedList = new LinkedList&lt;&gt;();\n        mixedList.add(new DemoCombo(bi1, 667));\n        mixedList.add(new DemoCombo(bi2, 668));\n        System.out.println(&quot;Size of mixed list is now: &quot; + mixedList.size());\n    }\n\n\n\n    static private class DemoCombo {\n        public final BufferedImage  image;\n        public final int            value;\n        public DemoCombo(final BufferedImage pImage, final int pValue) {\n            image = pImage;\n            value = pValue;\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>I also included the DemoCombo class, because I was unsure why you wanted to have a list of BufferedImage and one of int.\nNormally, if you have data that is related, like BufferedImage has a direct relation to the int, you should not have 2 different lists to store them in. In this case, it's a lot better to write a simple wrapper class, DemoCombo, so all data that belongs to each other is always together, and you do not have the pitfalls of having to manage 2 lists independently.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693794286,"creation_date":1693794286,"answer_id":77034792,"question_id":77034557,"body_markdown":"&gt; _&quot;... I can only create lists with a single data type, in this instance being BufferedImages, but I want to be able to create one LinkedList for a BufferedImage and another for an int. Is there a better way to do this than making separate Node and LinkedList classes for each data type or overloading each class? ...&quot;_\r\n\r\nYes, you can use a _generic type_.\r\n\r\n_[Lesson: Generics (Updated) (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language)](https://docs.oracle.com/javase/tutorial/java/generics/)_.\r\n\r\n```java\r\nLinkedList&lt;BufferedImage&gt; a = new LinkedList&lt;&gt;();\r\nLinkedList&lt;Integer&gt; b = new LinkedList&lt;&gt;();\r\n```\r\n\r\n```java\r\n//Node class:\r\npublic class Node&lt;T&gt; {\r\n    private T data;\r\n    private Node&lt;T&gt; link;\r\n\r\n    public Node&lt;T&gt; getLink() {\r\n        return link;\r\n    }\r\n\r\n    public void setLink(Node&lt;T&gt; link){\r\n        this.link = link;\r\n    }\r\n\r\n    public T getData(){\r\n        return data;\r\n    }\r\n\r\n    public void setData(T data) {\r\n        this.data = data;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\n//LinkedList class:\r\npublic class LinkedList&lt;T&gt; {\r\n\r\n    private Node&lt;T&gt; root;\r\n    public Node&lt;T&gt; getRoot(){\r\n        return root;\r\n    }\r\n\r\n    public void add(T data) {\r\n        if (root == null) {\r\n            root = new Node&lt;T&gt;();\r\n            root.setData(data);\r\n        } else {\r\n            Node&lt;T&gt; tmp = root;\r\n            while (tmp.getLink() != null) {\r\n                tmp = tmp.getLink();\r\n            }\r\n            Node&lt;T&gt; n = new Node&lt;T&gt;();\r\n            n.setData(data);\r\n            tmp.setLink(n);\r\n        }\r\n    }\r\n\r\n    public int size() {\r\n        if (root == null) {\r\n            return 0;\r\n        }\r\n        int count = 0;\r\n        Node&lt;T&gt; tmp = root;\r\n        while (tmp != null) {\r\n            count++;\r\n            tmp = tmp.getLink();\r\n        }\r\n        return count;\r\n    }\r\n\r\n    public T get(int pos) {\r\n        if (pos &lt; 0 || pos &gt;= size()) {\r\n            throw new IndexOutOfBoundsException(&quot;The index &quot; + pos + &quot; is out of bounds.&quot;);\r\n        }\r\n\r\n        Node&lt;T&gt; tmp = root;\r\n        for (int i = 0; i &lt; pos; i++) {\r\n            tmp = tmp.getLink();\r\n        }\r\n        return tmp.getData();\r\n    }\r\n\r\n    public void set(int pos, T data) {\r\n        if (pos &lt; 0 || pos &gt;= size()) {\r\n            throw new IndexOutOfBoundsException(&quot;The index &quot; + pos + &quot; is out of bounds.&quot;);\r\n        }\r\n        Node&lt;T&gt; tmp = root;\r\n        for (int i = 0; i &lt; pos; i++) {\r\n            tmp = tmp.getLink();\r\n        }\r\n        tmp.setData(data);\r\n    }\r\n\r\n    //DELETES LAST DATA\r\n    public void delete(){\r\n        if(root != null){\r\n            Node&lt;T&gt; tmp = root;\r\n            for(int i=0; i &lt; size()-2; i++){\r\n                tmp = tmp.getLink();\r\n            }\r\n            tmp.setLink(null);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Efficient way to store different data types","body":"<blockquote>\n<p><em>&quot;... I can only create lists with a single data type, in this instance being BufferedImages, but I want to be able to create one LinkedList for a BufferedImage and another for an int. Is there a better way to do this than making separate Node and LinkedList classes for each data type or overloading each class? ...&quot;</em></p>\n</blockquote>\n<p>Yes, you can use a <em>generic type</em>.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/\" rel=\"nofollow noreferrer\">Lesson: Generics (Updated) (The Java™ Tutorials &gt; Learning the Java Language)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinkedList&lt;BufferedImage&gt; a = new LinkedList&lt;&gt;();\nLinkedList&lt;Integer&gt; b = new LinkedList&lt;&gt;();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//Node class:\npublic class Node&lt;T&gt; {\n    private T data;\n    private Node&lt;T&gt; link;\n\n    public Node&lt;T&gt; getLink() {\n        return link;\n    }\n\n    public void setLink(Node&lt;T&gt; link){\n        this.link = link;\n    }\n\n    public T getData(){\n        return data;\n    }\n\n    public void setData(T data) {\n        this.data = data;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//LinkedList class:\npublic class LinkedList&lt;T&gt; {\n\n    private Node&lt;T&gt; root;\n    public Node&lt;T&gt; getRoot(){\n        return root;\n    }\n\n    public void add(T data) {\n        if (root == null) {\n            root = new Node&lt;T&gt;();\n            root.setData(data);\n        } else {\n            Node&lt;T&gt; tmp = root;\n            while (tmp.getLink() != null) {\n                tmp = tmp.getLink();\n            }\n            Node&lt;T&gt; n = new Node&lt;T&gt;();\n            n.setData(data);\n            tmp.setLink(n);\n        }\n    }\n\n    public int size() {\n        if (root == null) {\n            return 0;\n        }\n        int count = 0;\n        Node&lt;T&gt; tmp = root;\n        while (tmp != null) {\n            count++;\n            tmp = tmp.getLink();\n        }\n        return count;\n    }\n\n    public T get(int pos) {\n        if (pos &lt; 0 || pos &gt;= size()) {\n            throw new IndexOutOfBoundsException(&quot;The index &quot; + pos + &quot; is out of bounds.&quot;);\n        }\n\n        Node&lt;T&gt; tmp = root;\n        for (int i = 0; i &lt; pos; i++) {\n            tmp = tmp.getLink();\n        }\n        return tmp.getData();\n    }\n\n    public void set(int pos, T data) {\n        if (pos &lt; 0 || pos &gt;= size()) {\n            throw new IndexOutOfBoundsException(&quot;The index &quot; + pos + &quot; is out of bounds.&quot;);\n        }\n        Node&lt;T&gt; tmp = root;\n        for (int i = 0; i &lt; pos; i++) {\n            tmp = tmp.getLink();\n        }\n        tmp.setData(data);\n    }\n\n    //DELETES LAST DATA\n    public void delete(){\n        if(root != null){\n            Node&lt;T&gt; tmp = root;\n            for(int i=0; i &lt; size()-2; i++){\n                tmp = tmp.getLink();\n            }\n            tmp.setLink(null);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25109400,"reputation":3,"user_id":18959232,"display_name":"d1zyz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77034685,"answer_count":2,"score":0,"last_activity_date":1693843786,"creation_date":1693786669,"question_id":77034557,"body_markdown":"This is more of a conceptual question about how to most efficiently approach this issue, I&#39;m utilizing LinkedLists created in a form I recently learned in class. I&#39;ll paste in both the node class I created as well as the LinkedList class itself. As I have the code set up now, I can only create lists with a single data type, in this instance being BufferedImages, but I want to be able to create one LinkedList for a BufferedImage and another for an int. Is there a better way to do this than making separate Node and LinkedList classes for each data type or overloading each class?\r\n\r\nI want to be able to efficiently have two LinkedList objects storing different data types\r\n\r\n\r\n\r\n\r\n\r\n```\r\n//Node class:\r\nimport java.awt.image.BufferedImage;\r\n\r\npublic class Node {\r\n    private BufferedImage data;\r\n    private Node link;\r\n\r\n    public Node getLink() {\r\n        return link;\r\n    }\r\n\r\n    public void setLink(Node link){\r\n        this.link = link;\r\n    }\r\n\r\n    public BufferedImage getData(){\r\n        return data;\r\n    }\r\n\r\n    public void setData(BufferedImage data) {\r\n        this.data = data;\r\n    }\r\n\r\n}\r\n\r\n//LinkedList class:\r\nimport java.awt.image.BufferedImage;\r\n\r\npublic class LinkedList {\r\n\r\n    private Node root;\r\n    public Node getRoot(){\r\n        return root;\r\n    }\r\n\r\n    public void add(BufferedImage data) {\r\n        if (root == null) {\r\n            root = new Node();\r\n            root.setData(data);\r\n        } else {\r\n            Node tmp = root;\r\n            while (tmp.getLink() != null) {\r\n                tmp = tmp.getLink();\r\n            }\r\n            Node n = new Node();\r\n            n.setData(data);\r\n            tmp.setLink(n);\r\n        }\r\n    }\r\n\r\n    public int size() {\r\n        if (root == null) {\r\n            return 0;\r\n        }\r\n        int count = 0;\r\n        Node tmp = root;\r\n        while (tmp != null) {\r\n            count++;\r\n            tmp = tmp.getLink();\r\n        }\r\n        return count;\r\n    }\r\n\r\n    public BufferedImage get(int pos) {\r\n        if (pos &lt; 0 || pos &gt;= size()) {\r\n            throw new IndexOutOfBoundsException(&quot;The index &quot; + pos + &quot; is out of bounds.&quot;);\r\n        }\r\n\r\n        Node tmp = root;\r\n        for (int i = 0; i &lt; pos; i++) {\r\n            tmp = tmp.getLink();\r\n        }\r\n        return tmp.getData();\r\n    }\r\n\r\n    public void set(int pos, BufferedImage data) {\r\n        if (pos &lt; 0 || pos &gt;= size()) {\r\n            throw new IndexOutOfBoundsException(&quot;The index &quot; + pos + &quot; is out of bounds.&quot;);\r\n        }\r\n        Node tmp = root;\r\n        for (int i = 0; i &lt; pos; i++) {\r\n            tmp = tmp.getLink();\r\n        }\r\n        tmp.setData(data);\r\n    }\r\n\r\n    //DELETES LAST DATA\r\n    public void delete(){\r\n        if(root != null){\r\n            Node tmp = root;\r\n            for(int i=0; i &lt; size()-2; i++){\r\n                tmp = tmp.getLink();\r\n            }\r\n            tmp.setLink(null);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"Efficient way to store different data types","body":"<p>This is more of a conceptual question about how to most efficiently approach this issue, I'm utilizing LinkedLists created in a form I recently learned in class. I'll paste in both the node class I created as well as the LinkedList class itself. As I have the code set up now, I can only create lists with a single data type, in this instance being BufferedImages, but I want to be able to create one LinkedList for a BufferedImage and another for an int. Is there a better way to do this than making separate Node and LinkedList classes for each data type or overloading each class?</p>\n<p>I want to be able to efficiently have two LinkedList objects storing different data types</p>\n<pre><code>//Node class:\nimport java.awt.image.BufferedImage;\n\npublic class Node {\n    private BufferedImage data;\n    private Node link;\n\n    public Node getLink() {\n        return link;\n    }\n\n    public void setLink(Node link){\n        this.link = link;\n    }\n\n    public BufferedImage getData(){\n        return data;\n    }\n\n    public void setData(BufferedImage data) {\n        this.data = data;\n    }\n\n}\n\n//LinkedList class:\nimport java.awt.image.BufferedImage;\n\npublic class LinkedList {\n\n    private Node root;\n    public Node getRoot(){\n        return root;\n    }\n\n    public void add(BufferedImage data) {\n        if (root == null) {\n            root = new Node();\n            root.setData(data);\n        } else {\n            Node tmp = root;\n            while (tmp.getLink() != null) {\n                tmp = tmp.getLink();\n            }\n            Node n = new Node();\n            n.setData(data);\n            tmp.setLink(n);\n        }\n    }\n\n    public int size() {\n        if (root == null) {\n            return 0;\n        }\n        int count = 0;\n        Node tmp = root;\n        while (tmp != null) {\n            count++;\n            tmp = tmp.getLink();\n        }\n        return count;\n    }\n\n    public BufferedImage get(int pos) {\n        if (pos &lt; 0 || pos &gt;= size()) {\n            throw new IndexOutOfBoundsException(&quot;The index &quot; + pos + &quot; is out of bounds.&quot;);\n        }\n\n        Node tmp = root;\n        for (int i = 0; i &lt; pos; i++) {\n            tmp = tmp.getLink();\n        }\n        return tmp.getData();\n    }\n\n    public void set(int pos, BufferedImage data) {\n        if (pos &lt; 0 || pos &gt;= size()) {\n            throw new IndexOutOfBoundsException(&quot;The index &quot; + pos + &quot; is out of bounds.&quot;);\n        }\n        Node tmp = root;\n        for (int i = 0; i &lt; pos; i++) {\n            tmp = tmp.getLink();\n        }\n        tmp.setData(data);\n    }\n\n    //DELETES LAST DATA\n    public void delete(){\n        if(root != null){\n            Node tmp = root;\n            for(int i=0; i &lt; size()-2; i++){\n                tmp = tmp.getLink();\n            }\n            tmp.setLink(null);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","java-6"],"comments":[{"owner":{"account_id":203758,"reputation":14587,"user_id":451600,"accept_rate":91,"display_name":"Captain Giraffe"},"score":2,"creation_date":1315482100,"post_id":7347442,"comment_id":8863309,"body_markdown":"If it is printing null you have a problem before this code is executed; hidden in the &quot;from source ...&quot;","body":"If it is printing null you have a problem before this code is executed; hidden in the &quot;from source ...&quot;"},{"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"score":0,"creation_date":1315482420,"post_id":7347442,"comment_id":8863382,"body_markdown":"what the error you are getting, to me its working fine. Also give more details, Object obj2 = from some source . . ;\nfor above obj2 what you are assiging","body":"what the error you are getting, to me its working fine. Also give more details, Object obj2 = from some source . . ; for above obj2 what you are assiging"},{"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"score":0,"creation_date":1315482466,"post_id":7347442,"comment_id":8863391,"body_markdown":"below is the code i tried, its working fine.ArrayList al11 = new ArrayList();\n\t\tal11.add(&quot;a&quot;);\n\t\tal11.add(&quot;b&quot;);\n\t\tObject obj2 =al11;\n        ArrayList al1 = new ArrayList();\n        al1 = (ArrayList) obj2;\n        System.out.println(&quot;List2 Value: &quot;+al1);","body":"below is the code i tried, its working fine.ArrayList al11 = new ArrayList(); \t\tal11.add(&quot;a&quot;); \t\tal11.add(&quot;b&quot;); \t\tObject obj2 =al11;         ArrayList al1 = new ArrayList();         al1 = (ArrayList) obj2;         System.out.println(&quot;List2 Value: &quot;+al1);"},{"owner":{"account_id":150901,"reputation":1675,"user_id":364414,"accept_rate":79,"display_name":"sjain"},"score":0,"creation_date":1315483486,"post_id":7347442,"comment_id":8863678,"body_markdown":"@Damodar Your second comment worked fine for me too. But my hidden method returns an String in form of Object, because of that i am getting following exception: Exception in thread &quot;main&quot; java.lang.ClassCastException: java.lang.String cannot be cast to java.util.ArrayList","body":"@Damodar Your second comment worked fine for me too. But my hidden method returns an String in form of Object, because of that i am getting following exception: Exception in thread &quot;main&quot; java.lang.ClassCastException: java.lang.String cannot be cast to java.util.ArrayList"},{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1633454123,"post_id":7347442,"comment_id":122762332,"body_markdown":"[Answer updated for java 8+](https://stackoverflow.com/a/69454694/8430155)","body":"<a href=\"https://stackoverflow.com/a/69454694/8430155\">Answer updated for java 8+</a>"}],"answers":[{"comments":[{"owner":{"account_id":150901,"reputation":1675,"user_id":364414,"accept_rate":79,"display_name":"sjain"},"score":0,"creation_date":1315482710,"post_id":7347487,"comment_id":8863455,"body_markdown":"obj2 is not null. I got the value of obj2 printed.","body":"obj2 is not null. I got the value of obj2 printed."},{"owner":{"account_id":150901,"reputation":1675,"user_id":364414,"accept_rate":79,"display_name":"sjain"},"score":0,"creation_date":1315482798,"post_id":7347487,"comment_id":8863479,"body_markdown":"Actually obj2 is in form of string.","body":"Actually obj2 is in form of string."}],"tags":[],"owner":{"account_id":95151,"reputation":14008,"user_id":259310,"accept_rate":25,"display_name":"Kilian Foth"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1315482179,"creation_date":1315482179,"answer_id":7347487,"question_id":7347442,"body_markdown":"This only results in `null` if `obj2` was already `null` before the cast, so your problem is earlier than you think. (Also, you need not construct a new ArrayList to initialize `al1` if you&#39;re going to assign to it immediately. Just say `ArrayList al1 = (ArrayList) obj2;`.)","title":"How to convert java.lang.Object to ArrayList?","body":"<p>This only results in <code>null</code> if <code>obj2</code> was already <code>null</code> before the cast, so your problem is earlier than you think. (Also, you need not construct a new ArrayList to initialize <code>al1</code> if you're going to assign to it immediately. Just say <code>ArrayList al1 = (ArrayList) obj2;</code>.)</p>\n"},{"tags":[],"owner":{"account_id":1382722,"reputation":1111,"user_id":1315392,"accept_rate":50,"display_name":"vinay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404899785,"creation_date":1404899785,"answer_id":24650561,"question_id":7347442,"body_markdown":"Rather Cast It to an Object Array.\r\n\r\n    Object obj2 = from some source . . ;\r\n    Object[] objects=(Object[])obj2;","title":"How to convert java.lang.Object to ArrayList?","body":"<p>Rather Cast It to an Object Array.</p>\n\n<pre><code>Object obj2 = from some source . . ;\nObject[] objects=(Object[])obj2;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2510606,"reputation":73,"user_id":2183189,"display_name":"khadre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437560145,"creation_date":1437560145,"answer_id":31560260,"question_id":7347442,"body_markdown":"The conversion fails (*java.lang.ClassCastException: java.lang.String cannot be cast to java.util.ArrayList*) because you have surely some objects that are not ***ArrayList***. verify the types of your different objects.","title":"How to convert java.lang.Object to ArrayList?","body":"<p>The conversion fails (<em>java.lang.ClassCastException: java.lang.String cannot be cast to java.util.ArrayList</em>) because you have surely some objects that are not <strong><em>ArrayList</em></strong>. verify the types of your different objects.</p>\n"},{"tags":[],"owner":{"account_id":3335571,"reputation":3834,"user_id":2809294,"accept_rate":56,"display_name":"ARK"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1592320138,"creation_date":1501875020,"answer_id":45514210,"question_id":7347442,"body_markdown":"Converting from `java.lang.Object` directly to `ArrayList&lt;T&gt;` which has elements of T is not recommended as it can lead to casting Exceptions. The recommended way is to first convert to a primitive array of `T` and then use `Arrays.asList(T[])`\r\nOne of the ways how you get entity from a java `javax.ws.rs.core.Response` is as follows - \r\n```\r\n    T[] t_array = response.readEntity(object);\r\n    ArrayList&lt;T&gt; t_arraylist = Arrays.asList(t_array);\r\n```\r\nYou will still get *Unchecked cast* warnings.","title":"How to convert java.lang.Object to ArrayList?","body":"<p>Converting from <code>java.lang.Object</code> directly to <code>ArrayList&lt;T&gt;</code> which has elements of T is not recommended as it can lead to casting Exceptions. The recommended way is to first convert to a primitive array of <code>T</code> and then use <code>Arrays.asList(T[])</code>\nOne of the ways how you get entity from a java <code>javax.ws.rs.core.Response</code> is as follows - </p>\n\n<pre><code>    T[] t_array = response.readEntity(object);\n    ArrayList&lt;T&gt; t_arraylist = Arrays.asList(t_array);\n</code></pre>\n\n<p>You will still get <em>Unchecked cast</em> warnings.</p>\n"},{"tags":[],"owner":{"account_id":4539223,"reputation":1311,"user_id":3687575,"accept_rate":78,"display_name":"Lucas Pires"},"comment_count":0,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1616179959,"creation_date":1539704709,"answer_id":52839327,"question_id":7347442,"body_markdown":"You can create a static util method that converts any collection to a Java **List**\r\n\r\n    public static List&lt;?&gt; convertObjectToList(Object obj) {\r\n        List&lt;?&gt; list = new ArrayList&lt;&gt;();\r\n        if (obj.getClass().isArray()) {\r\n            list = Arrays.asList((Object[])obj);\r\n        } else if (obj instanceof Collection) {\r\n            list = new ArrayList&lt;&gt;((Collection&lt;?&gt;)obj);\r\n        }\r\n        return list;\r\n    }\r\n\r\nyou can also mix the validation below:\r\n\r\n    public static boolean isCollection(Object obj) {\r\n      return obj.getClass().isArray() || obj instanceof Collection;\r\n    }","title":"How to convert java.lang.Object to ArrayList?","body":"<p>You can create a static util method that converts any collection to a Java <strong>List</strong></p>\n<pre><code>public static List&lt;?&gt; convertObjectToList(Object obj) {\n    List&lt;?&gt; list = new ArrayList&lt;&gt;();\n    if (obj.getClass().isArray()) {\n        list = Arrays.asList((Object[])obj);\n    } else if (obj instanceof Collection) {\n        list = new ArrayList&lt;&gt;((Collection&lt;?&gt;)obj);\n    }\n    return list;\n}\n</code></pre>\n<p>you can also mix the validation below:</p>\n<pre><code>public static boolean isCollection(Object obj) {\n  return obj.getClass().isArray() || obj instanceof Collection;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17984106,"reputation":193,"user_id":13069770,"display_name":"matt_frangakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584442304,"creation_date":1584442304,"answer_id":60720851,"question_id":7347442,"body_markdown":"An interesting note: it appears that attempting to cast from an object to a list on the JavaFX Application thread always results in a ClassCastException.\r\n\r\nI had the same issue as you, and no answer helped. After playing around for a while, the only thing I could narrow it down to was the thread. Running the code to cast on any other thread other than the UI thread succeeds as expected, and as the other answers in this section suggest.\r\n\r\nThus, be careful that your source isn&#39;t running on the JavaFX application thread.","title":"How to convert java.lang.Object to ArrayList?","body":"<p>An interesting note: it appears that attempting to cast from an object to a list on the JavaFX Application thread always results in a ClassCastException.</p>\n\n<p>I had the same issue as you, and no answer helped. After playing around for a while, the only thing I could narrow it down to was the thread. Running the code to cast on any other thread other than the UI thread succeeds as expected, and as the other answers in this section suggest.</p>\n\n<p>Thus, be careful that your source isn't running on the JavaFX application thread.</p>\n"},{"tags":[],"owner":{"account_id":1197629,"reputation":875,"user_id":1169009,"display_name":"dimuthu"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1595397731,"creation_date":1595397376,"answer_id":63027801,"question_id":7347442,"body_markdown":"\n\r\n        Object object = new Object();\r\n\r\n        // First way\r\n        List objects1 = new ArrayList&lt;Object&gt;();\r\n        objects1.add(object);\r\n\r\n        // second way\r\n        List&lt;Object&gt; objects2 = Arrays.asList(object);\r\n\r\n        // Third way\r\n        List&lt;Object&gt; objects3 = Collections.singletonList(object);\r\n","title":"How to convert java.lang.Object to ArrayList?","body":"<pre><code>    Object object = new Object();\n\n    // First way\n    List objects1 = new ArrayList&lt;Object&gt;();\n    objects1.add(object);\n\n    // second way\n    List&lt;Object&gt; objects2 = Arrays.asList(object);\n\n    // Third way\n    List&lt;Object&gt; objects3 = Collections.singletonList(object);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19103689,"reputation":295,"user_id":13951359,"display_name":"Daham Akalanka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595432487,"creation_date":1595398695,"answer_id":63028054,"question_id":7347442,"body_markdown":"I hope this will be help you\r\n\r\n    import java.util.ArrayList; \r\n    public class Demo {\r\n\r\n     public static void main(String[] args) {\r\n        Object obj2 =null;\r\n        ArrayList al1 = (ArrayList) obj2;\r\n        al1 = (ArrayList) obj2;\r\n        System.out.println(&quot;List2 Value: &quot; + al1);\r\n        }\r\n     }\r\nobj2 Object is default null before you cast it to ArrayList. That&#39;s why print &#39;al1&#39; as null.","title":"How to convert java.lang.Object to ArrayList?","body":"<p>I hope this will be help you</p>\n<pre><code>import java.util.ArrayList; \npublic class Demo {\n\n public static void main(String[] args) {\n    Object obj2 =null;\n    ArrayList al1 = (ArrayList) obj2;\n    al1 = (ArrayList) obj2;\n    System.out.println(&quot;List2 Value: &quot; + al1);\n    }\n }\n</code></pre>\n<p>obj2 Object is default null before you cast it to ArrayList. That's why print 'al1' as null.</p>\n"},{"tags":[],"owner":{"account_id":22035053,"reputation":51,"user_id":16301715,"display_name":"Raghavendra Shruti Rao"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1627410931,"creation_date":1627410931,"answer_id":68550165,"question_id":7347442,"body_markdown":"You can also do something like this:\r\n\r\n  \r\n\r\n      new ObjectMapper().convertValue(sourceObject, new TypeReference&lt;List&lt;YourTargetClass&gt;&gt;() {});","title":"How to convert java.lang.Object to ArrayList?","body":"<p>You can also do something like this:</p>\n<pre><code>  new ObjectMapper().convertValue(sourceObject, new TypeReference&lt;List&lt;YourTargetClass&gt;&gt;() {});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11043595,"reputation":3277,"user_id":8110607,"accept_rate":67,"display_name":"Soheil Pourbafrani"},"score":0,"creation_date":1657537033,"post_id":69454694,"comment_id":128825527,"body_markdown":"The solution didn&#39;t work for me. See the object is a list (and not array), so `Stream.of` will return one single element. Example `Object list = Arrays.asList(1, 2); Stream.of(list).forEach(System.out::println); =&gt; `actual result `[1, 2]`, expected result `1\\n2`","body":"The solution didn&#39;t work for me. See the object is a list (and not array), so <code>Stream.of</code> will return one single element. Example <code>Object list = Arrays.asList(1, 2); Stream.of(list).forEach(System.out::println); =&gt; </code>actual result <code>[1, 2]</code>, expected result <code>1\\n2</code>"}],"tags":[],"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1657560869,"creation_date":1633454050,"answer_id":69454694,"question_id":7347442,"body_markdown":"#### Answer from 2021 (Java 8+)\r\n\r\nAssuming that your object is a valid List object and if you want it in a specific datatype, use [`Stream.of(object)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#of-T-):\r\n\r\n    Object o = Arrays.asList(1, 2);\r\n    ((List&lt;Object&gt;) o).stream().map(String::valueOf).forEach(System.out::println);\r\n\r\nSimilarly, you can change the method in the map to convert to the datatype you need.\r\n\r\n----------\r\n\r\n**Note:** This will lead to `Type safety: Unchecked cast`. This happens because the cast is a runtime check and the type has been erased when you receive it from some source. You can use `@SuppressWarnings(&quot;unchecked&quot;)` and live with it.\r\n\r\n----------\r\n\r\nThis could be a good article on this topic: [Reified Generics for Java](http://gafter.blogspot.com/2006/11/reified-generics-for-java.html)","title":"How to convert java.lang.Object to ArrayList?","body":"<h4>Answer from 2021 (Java 8+)</h4>\n<p>Assuming that your object is a valid List object and if you want it in a specific datatype, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#of-T-\" rel=\"nofollow noreferrer\"><code>Stream.of(object)</code></a>:</p>\n<pre><code>Object o = Arrays.asList(1, 2);\n((List&lt;Object&gt;) o).stream().map(String::valueOf).forEach(System.out::println);\n</code></pre>\n<p>Similarly, you can change the method in the map to convert to the datatype you need.</p>\n<hr />\n<p><strong>Note:</strong> This will lead to <code>Type safety: Unchecked cast</code>. This happens because the cast is a runtime check and the type has been erased when you receive it from some source. You can use <code>@SuppressWarnings(&quot;unchecked&quot;)</code> and live with it.</p>\n<hr />\n<p>This could be a good article on this topic: <a href=\"http://gafter.blogspot.com/2006/11/reified-generics-for-java.html\" rel=\"nofollow noreferrer\">Reified Generics for Java</a></p>\n"},{"comments":[{"owner":{"account_id":6765293,"reputation":929,"user_id":5210482,"display_name":"vlatko606"},"score":1,"creation_date":1660838601,"post_id":73219012,"comment_id":129633388,"body_markdown":"live saver :) I was trying 3 days to fix this!","body":"live saver :) I was trying 3 days to fix this!"}],"tags":[],"owner":{"account_id":7263023,"reputation":447,"user_id":5538923,"display_name":"marcor92"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659517393,"creation_date":1659517393,"answer_id":73219012,"question_id":7347442,"body_markdown":"To convert the object to an immutable list of strings, no matter if it is a String or a collection of String, I used the following method:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static List&lt;String&gt; convertObjectToListOfStrings(Object obj) {\r\n        return obj == null ? null : (obj instanceof String ? List.of((String) obj)\r\n                : (obj.getClass().isArray() ? Arrays.asList((Object[])obj)\r\n                        : (obj instanceof Collection ? ((Collection&lt;?&gt;) obj) : List.of()))\r\n                .stream().map(String::valueOf).toList());\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nNote: This code was elaborated by combining two of the answers already posted: https://stackoverflow.com/a/52839327/5538923 and https://stackoverflow.com/a/69454694/5538923 .","title":"How to convert java.lang.Object to ArrayList?","body":"<p>To convert the object to an immutable list of strings, no matter if it is a String or a collection of String, I used the following method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; convertObjectToListOfStrings(Object obj) {\n    return obj == null ? null : (obj instanceof String ? List.of((String) obj)\n            : (obj.getClass().isArray() ? Arrays.asList((Object[])obj)\n                    : (obj instanceof Collection ? ((Collection&lt;?&gt;) obj) : List.of()))\n            .stream().map(String::valueOf).toList());\n}\n</code></pre>\n<p>Note: This code was elaborated by combining two of the answers already posted: <a href=\"https://stackoverflow.com/a/52839327/5538923\">https://stackoverflow.com/a/52839327/5538923</a> and <a href=\"https://stackoverflow.com/a/69454694/5538923\">https://stackoverflow.com/a/69454694/5538923</a> .</p>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693843504,"creation_date":1693843504,"answer_id":77039230,"question_id":7347442,"body_markdown":"Something simple like this should work:\r\n\r\n```java\r\nObject obj = new ArrayList&lt;&gt;(); // your object\r\n\r\nif (obj instanceof ArrayList&lt;?&gt; list) {\r\n  System.out.println(list.isEmpty()); // true\r\n} else {\r\n  System.out.println(&quot;Not a list!&quot;);\r\n}\r\n```","title":"How to convert java.lang.Object to ArrayList?","body":"<p>Something simple like this should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object obj = new ArrayList&lt;&gt;(); // your object\n\nif (obj instanceof ArrayList&lt;?&gt; list) {\n  System.out.println(list.isEmpty()); // true\n} else {\n  System.out.println(&quot;Not a list!&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":150901,"reputation":1675,"user_id":364414,"accept_rate":79,"display_name":"sjain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269893,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"answer_count":12,"score":51,"last_activity_date":1693843504,"creation_date":1315481921,"question_id":7347442,"body_markdown":"I have a valid `ArrayList` object in the form of `java.lang.Object`. I have to again convert the `Object` to an `ArrayList`. I tried this:\r\n\r\n&lt;pre&gt;Object obj2 = from some source . . ;\r\nArrayList al1 = new ArrayList();\r\nal1 = (ArrayList) obj2;\r\nSystem.out.println(&quot;List2 Value: &quot;+al1);\r\n&lt;/pre&gt;\r\n\r\nBut it is printing `null`.\r\nHow can I do this? ","title":"How to convert java.lang.Object to ArrayList?","body":"<p>I have a valid <code>ArrayList</code> object in the form of <code>java.lang.Object</code>. I have to again convert the <code>Object</code> to an <code>ArrayList</code>. I tried this:</p>\n\n<pre>Object obj2 = from some source . . ;\nArrayList al1 = new ArrayList();\nal1 = (ArrayList) obj2;\nSystem.out.println(\"List2 Value: \"+al1);\n</pre>\n\n<p>But it is printing <code>null</code>.\nHow can I do this? </p>\n"},{"tags":["java","itext","pdfbox","adobe-sign","adobe-pdfservices"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1693349676,"post_id":77002400,"comment_id":135748472,"body_markdown":"When you say &quot;image&quot;, you appear to think only of *bitmap images*. But there also are other kinds of images, in particular *vector graphics images* which are very well suited to show signatures. What you found in that file are vector graphics instructions laying out a path and stroking it.","body":"When you say &quot;image&quot;, you appear to think only of <i>bitmap images</i>. But there also are other kinds of images, in particular <i>vector graphics images</i> which are very well suited to show signatures. What you found in that file are vector graphics instructions laying out a path and stroking it."},{"owner":{"account_id":6275061,"reputation":95,"user_id":4877969,"accept_rate":60,"display_name":"krillov"},"score":0,"creation_date":1693376777,"post_id":77002400,"comment_id":135750724,"body_markdown":"@mkl Yes, I came to the same conclusion. I understood they are vector graphics. Is it possible to extract and convert them to bitmap format?","body":"@mkl Yes, I came to the same conclusion. I understood they are vector graphics. Is it possible to extract and convert them to bitmap format?"},{"owner":{"account_id":6275061,"reputation":95,"user_id":4877969,"accept_rate":60,"display_name":"krillov"},"score":0,"creation_date":1693376958,"post_id":77002400,"comment_id":135750746,"body_markdown":"@KJ I would like to do all this in Java with PDFBox or iText.","body":"@KJ I would like to do all this in Java with PDFBox or iText."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1693378798,"post_id":77002400,"comment_id":135751023,"body_markdown":"Does the `AnnotationDrawer` for pdfbox from [this old answer](https://stackoverflow.com/a/17145649/1729265) help? It&#39;s being implemented based on pdfbox 1.8.2 but the concept should still be usable with the current pdfbox 3.","body":"Does the <code>AnnotationDrawer</code> for pdfbox from <a href=\"https://stackoverflow.com/a/17145649/1729265\">this old answer</a> help? It&#39;s being implemented based on pdfbox 1.8.2 but the concept should still be usable with the current pdfbox 3."},{"owner":{"account_id":6275061,"reputation":95,"user_id":4877969,"accept_rate":60,"display_name":"krillov"},"score":0,"creation_date":1693378934,"post_id":77002400,"comment_id":135751041,"body_markdown":"@mkl I have tried that but that code is really outdated. I can maybe test it again. I missed that they have released 3.0.","body":"@mkl I have tried that but that code is really outdated. I can maybe test it again. I missed that they have released 3.0."},{"owner":{"account_id":6275061,"reputation":95,"user_id":4877969,"accept_rate":60,"display_name":"krillov"},"score":0,"creation_date":1693389742,"post_id":77002400,"comment_id":135753291,"body_markdown":"@mkl I have tested with PDFBox version 1.82 just to see if it works at all but unfortunately no. `PDAppearanceDictionary appearDictionary = annotation.getAppearance();` is null.","body":"@mkl I have tested with PDFBox version 1.82 just to see if it works at all but unfortunately no. <code>PDAppearanceDictionary appearDictionary = annotation.getAppearance();</code> is null."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1693403774,"post_id":77002400,"comment_id":135756412,"body_markdown":"*&quot;I have tested with PDFBox version 1.82 just to see if it works at all but unfortunately no.&quot;* - Well, apparently the signature appearances you are after are not annotation appearances but generic XObjects. Thus, you&#39;ll have to change the code to work on XObject resources of the page (maybe even recursively) instead on annotation appearances. As you don&#39;t share an example file, this is a bit of guesswork for me...","body":"<i>&quot;I have tested with PDFBox version 1.82 just to see if it works at all but unfortunately no.&quot;</i> - Well, apparently the signature appearances you are after are not annotation appearances but generic XObjects. Thus, you&#39;ll have to change the code to work on XObject resources of the page (maybe even recursively) instead on annotation appearances. As you don&#39;t share an example file, this is a bit of guesswork for me..."},{"owner":{"account_id":6275061,"reputation":95,"user_id":4877969,"accept_rate":60,"display_name":"krillov"},"score":0,"creation_date":1693409534,"post_id":77002400,"comment_id":135757840,"body_markdown":"@mkl I have uploaded a test file here: https://file.io/5UQcJejlOWzQ","body":"@mkl I have uploaded a test file here: <a href=\"https://file.io/5UQcJejlOWzQ\" rel=\"nofollow noreferrer\">file.io/5UQcJejlOWzQ</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1693414968,"post_id":77002400,"comment_id":135759033,"body_markdown":"Ok, nested XObjects, so recursing through page XObject Resources is necessary. I&#39;ll take a look later this week.","body":"Ok, nested XObjects, so recursing through page XObject Resources is necessary. I&#39;ll take a look later this week."},{"owner":{"account_id":6275061,"reputation":95,"user_id":4877969,"accept_rate":60,"display_name":"krillov"},"score":0,"creation_date":1693415888,"post_id":77002400,"comment_id":135759237,"body_markdown":"Thanks! They are nested but they always have the same id Xi3 and Xf2 so a really ugly solution is like: `COSDictionary t = (COSDictionary) document.getDocument().getObjectsByType(COSName.ANNOT).get(0).getDictionaryObject(COSName.P); COSDictionary resources = (COSDictionary) t.getItem(COSName.RESOURCES); COSDictionary xObject = (COSDictionary) resources.getItem(COSName.XOBJECT); COSObject xObjectXi3 = (COSObject) xObject.getItem(&quot;Xi3&quot;); COSDictionary resourcesXi3 = (COSDictionary) xObjectXi3.getItem(COSName.RESOURCES);...` But yes this would stop working if they change their implementation.","body":"Thanks! They are nested but they always have the same id Xi3 and Xf2 so a really ugly solution is like: <code>COSDictionary t = (COSDictionary) document.getDocument().getObjectsByType(COSName.ANNOT).get(0&zwnj;&#8203;).getDictionaryObjec&zwnj;&#8203;t(COSName.P); COSDictionary resources = (COSDictionary) t.getItem(COSName.RESOURCES); COSDictionary xObject = (COSDictionary) resources.getItem(COSName.XOBJECT); COSObject xObjectXi3 = (COSObject) xObject.getItem(&quot;Xi3&quot;); COSDictionary resourcesXi3 = (COSDictionary) xObjectXi3.getItem(COSName.RESOURCES);...</code> But yes this would stop working if they change their implementation."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1693547478,"post_id":77002400,"comment_id":135778052,"body_markdown":"*&quot;But yes this would stop working if they change their implementation&quot;* - These scribbles are not marked in a distinct, standardized manner. Thus, no matter how you extract them, it will always be possible that Adobe changes the implementation in a way that breaks your extraction. (Unless you train some AI to recognize where the signature scribbles are and render exactly those regions. But then the AI may sometimes err...)","body":"<i>&quot;But yes this would stop working if they change their implementation&quot;</i> - These scribbles are not marked in a distinct, standardized manner. Thus, no matter how you extract them, it will always be possible that Adobe changes the implementation in a way that breaks your extraction. (Unless you train some AI to recognize where the signature scribbles are and render exactly those regions. But then the AI may sometimes err...)"}],"answers":[{"comments":[{"owner":{"account_id":6275061,"reputation":95,"user_id":4877969,"accept_rate":60,"display_name":"krillov"},"score":0,"creation_date":1693839478,"post_id":77020167,"comment_id":135809656,"body_markdown":"Thanks! Really helpful ideas! I will experiment a little bit more with the SVG idea because if I understand right it isn&#39;t enough to just copy to an SVG editor but translate it to SVG format and even though it isn&#39;t that simple. I went with the to PDF and then to image idea right now. Added a sample code to my question. I will try to make it more intelligent but it works as it is know.","body":"Thanks! Really helpful ideas! I will experiment a little bit more with the SVG idea because if I understand right it isn&#39;t enough to just copy to an SVG editor but translate it to SVG format and even though it isn&#39;t that simple. I went with the to PDF and then to image idea right now. Added a sample code to my question. I will try to make it more intelligent but it works as it is know."}],"tags":[],"owner":{"account_id":14313923,"reputation":8868,"user_id":10802527,"display_name":"K J"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693535457,"creation_date":1693535078,"answer_id":77020167,"question_id":77002400,"body_markdown":"Your Question was can a signature squiggle (vector graphic) be extracted as an image?\r\n\r\nSo there are more unknows than answers, in such a question, like where do you need the extraction to be or converted into?\r\n\r\nHere on left we can see the multiple components of a signature annotation. and once we know what nested object is the artwork (here number 14 0 obj) we can copy the stream data into another PDF. As seen on the right.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nsince it is a screen graphic we can copy and paste to any graphics application and save in any image format you wish. However to maintain the simplicity of the source it is best copied into an SVG editor like Inkscape.\r\n\r\nOr simpler yet since it is now an isolated PDF object simply convert to SVG for forensic use in a web page, or on the bosses debit account,  etc. `mutool convert -o output.svg input.pdf`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b6hBB.png\r\n  [2]: https://i.stack.imgur.com/kgOGc.png","title":"Extract signature image from PDF signed with Adobe Sign","body":"<p>Your Question was can a signature squiggle (vector graphic) be extracted as an image?</p>\n<p>So there are more unknows than answers, in such a question, like where do you need the extraction to be or converted into?</p>\n<p>Here on left we can see the multiple components of a signature annotation. and once we know what nested object is the artwork (here number 14 0 obj) we can copy the stream data into another PDF. As seen on the right.</p>\n<p><a href=\"https://i.stack.imgur.com/b6hBB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b6hBB.png\" alt=\"enter image description here\" /></a></p>\n<p>since it is a screen graphic we can copy and paste to any graphics application and save in any image format you wish. However to maintain the simplicity of the source it is best copied into an SVG editor like Inkscape.</p>\n<p>Or simpler yet since it is now an isolated PDF object simply convert to SVG for forensic use in a web page, or on the bosses debit account,  etc. <code>mutool convert -o output.svg input.pdf</code></p>\n<p><a href=\"https://i.stack.imgur.com/kgOGc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kgOGc.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":6275061,"reputation":95,"user_id":4877969,"accept_rate":60,"display_name":"krillov"},"score":0,"creation_date":1694422276,"post_id":77039195,"comment_id":135884018,"body_markdown":"Thanks! I have tested it and it works fine. Also compatible with PDFBox 2.x the only difference is how you load the PDDocument.","body":"Thanks! I have tested it and it works fine. Also compatible with PDFBox 2.x the only difference is how you load the PDDocument."}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693843149,"creation_date":1693843149,"answer_id":77039195,"question_id":77002400,"body_markdown":"As discussed in the comments, the `AnnotationDrawer` from [this old answer][1], generalized to work for arbitrary form XObjects, could be used to render the pen signatures from Adobe Acrobat Sign signed documents to separate bitmap images.\r\n\r\nThat annotation drawer can be generalized (and ported to PDFBox 3) as follows:\r\n\r\n```lang-java\r\npublic class ContentStreamRenderer extends PDFRenderer {\r\n    public ContentStreamRenderer(PDDocument document) throws NoSuchFieldException, SecurityException {\r\n        super(document);\r\n        pageImageField = PDFRenderer.class.getDeclaredField(&quot;pageImage&quot;);\r\n        pageImageField.setAccessible(true);\r\n        pageDrawerParametersConstructor = (Constructor&lt;PageDrawerParameters&gt;) PageDrawerParameters.class.getDeclaredConstructors()[0];\r\n        pageDrawerParametersConstructor.setAccessible(true);\r\n    }\r\n\r\n    @Override\r\n    protected PageDrawer createPageDrawer(PageDrawerParameters parameters) throws IOException {\r\n        PageDrawer pageDrawer = new ContentStreamPageDrawer(parameters);\r\n        pageDrawer.setAnnotationFilter(getAnnotationsFilter());\r\n        return pageDrawer;\r\n    }\r\n\r\n    public BufferedImage renderImage(PDPage page, PDContentStream contentStream, float scale, ImageType imageType, RenderDestination destination) throws IOException, IllegalArgumentException, IllegalAccessException, InstantiationException, InvocationTargetException {\r\n        try {\r\n            PDRectangle bBox = contentStream.getBBox();\r\n            Rectangle2D bounds = bBox.transform(contentStream.getMatrix()).getBounds2D();\r\n            bBox = new PDRectangle((float)bounds.getMinX(), (float)bounds.getMinY(), (float)bounds.getWidth(), (float)bounds.getHeight());\r\n            \r\n            float widthPt = bBox.getWidth();\r\n            float heightPt = bBox.getHeight();\r\n\r\n            // PDFBOX-4306 avoid single blank pixel line on the right or on the bottom\r\n            int widthPx = (int) Math.max(Math.floor(widthPt * scale), 1);\r\n            int heightPx = (int) Math.max(Math.floor(heightPt * scale), 1);\r\n\r\n            BufferedImage image = new BufferedImage(widthPx, heightPx, BufferedImage.TYPE_INT_ARGB);\r\n            pageImageField.set(this, image);\r\n\r\n            // use a transparent background if the image type supports alpha\r\n            Graphics2D g = image.createGraphics();\r\n            g.setBackground(new Color(0, 0, 0, 0));\r\n            g.clearRect(0, 0, image.getWidth(), image.getHeight());\r\n            g.scale(scale, scale);\r\n\r\n            RenderingHints actualRenderingHints =\r\n                    getRenderingHints() == null ? createDefaultRenderingHints(g) : getRenderingHints();\r\n            PageDrawerParameters parameters =\r\n                    pageDrawerParametersConstructor.newInstance(this, page, isSubsamplingAllowed(), destination,\r\n                            actualRenderingHints, getImageDownscalingOptimizationThreshold());\r\n            PageDrawer drawer = createPageDrawer(parameters);\r\n            if (drawer instanceof ContentStreamPageDrawer) {\r\n                ((ContentStreamPageDrawer)drawer).setContentStream(contentStream);\r\n            }\r\n            drawer.drawPage(g, bBox);\r\n\r\n            g.dispose();\r\n\r\n            if (imageType != ImageType.ARGB)\r\n            {\r\n                int biType = -1;\r\n                switch (imageType) {\r\n                case ARGB:   biType = BufferedImage.TYPE_INT_ARGB; break;\r\n                case BGR:    biType = BufferedImage.TYPE_3BYTE_BGR; break;\r\n                case BINARY: biType = BufferedImage.TYPE_BYTE_BINARY; break;\r\n                case GRAY:   biType = BufferedImage.TYPE_BYTE_GRAY; break;\r\n                case RGB:    biType = BufferedImage.TYPE_INT_RGB; break;\r\n                }\r\n                BufferedImage newImage = \r\n                        new BufferedImage(image.getWidth(), image.getHeight(), biType);\r\n                Graphics2D dstGraphics = newImage.createGraphics();\r\n                dstGraphics.setBackground(Color.WHITE);\r\n                dstGraphics.clearRect(0, 0, image.getWidth(), image.getHeight());\r\n                dstGraphics.drawImage(image, 0, 0, null);\r\n                dstGraphics.dispose();\r\n                image = newImage;\r\n            }\r\n\r\n            return image;\r\n        } finally {\r\n            pageImageField.set(this, null);\r\n        }\r\n    }\r\n\r\n    private RenderingHints createDefaultRenderingHints(Graphics2D graphics)\r\n    {\r\n        RenderingHints r = new RenderingHints(null);\r\n        r.put(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\r\n        r.put(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n        r.put(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        return r;\r\n    }\r\n\r\n    final Field pageImageField;\r\n    final Constructor&lt;PageDrawerParameters&gt; pageDrawerParametersConstructor;\r\n}\r\n```\r\n*([ContentStreamRenderer][2] class derived from `PDFRenderer`)*\r\n\r\nwith this helper class\r\n\r\n```lang-java\r\npublic class ContentStreamPageDrawer extends PageDrawer {\r\n    public ContentStreamPageDrawer(PageDrawerParameters parameters) throws IOException {\r\n        super(parameters);\r\n    }\r\n\r\n    public PDContentStream getContentStream() {\r\n        return contentStream;\r\n    }\r\n\r\n    public void setContentStream(PDContentStream contentStream) {\r\n        this.contentStream = contentStream;\r\n    }\r\n\r\n    //\r\n    // Overrides that make drawPage only draw the set content stream\r\n    // if one is set. Otherwise, these overrides delegate to PageDrawer.\r\n    //\r\n    @Override\r\n    public void processPage(PDPage page) throws IOException {\r\n        if (contentStream == null) {\r\n            super.processPage(page);\r\n        } else {\r\n            processChildStream(contentStream, page);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void showAnnotation(PDAnnotation annotation) throws IOException {\r\n        if (contentStream == null) {\r\n            super.showAnnotation(annotation);\r\n        }\r\n    }\r\n\r\n    PDContentStream contentStream = null;\r\n}\r\n```\r\n*([ContentStreamPageDrawer][3] helper of `ContentStreamRenderer`)*\r\n\r\nThese classes constitute a customization of the standard PDFBox PDF renderer and page drawer, a generalization to render individual content streams of a PDF.\r\n\r\nUnfortunately PDFBox has made many member variables and methods private or at least package protected. As I didn&#39;t want to copy the whole classes, I, therefore, had to use reflection which will not work in some contexts. (Keeping members hidden away like that really is a PITA...)\r\n\r\nTo render the form XObjects in the example PDF signed using Adobe Acrobat Sign, you can use those classes like this:\r\n\r\n```lang-java\r\nPDDocument pdDocument = Loader.loadPDF(PDF_SOURCE)\r\nContentStreamRenderer renderer = new ContentStreamRenderer(pdDocument);\r\nPDPage pdPage = pdDocument.getPage(0);\r\nPDResources pdResources = pdPage.getResources();\r\n\r\nfor (COSName xObjectName : pdResources.getXObjectNames()) {\r\n    PDXObject pdXObject = pdResources.getXObject(xObjectName);\r\n    if (pdXObject instanceof PDFormXObject) {\r\n        PDFormXObject pdFormXObject = (PDFormXObject) pdXObject;\r\n        BufferedImage image = renderer.renderImage(pdPage, pdFormXObject, 4, ImageType.RGB, RenderDestination.VIEW);\r\n        ImageIO.write(image, &quot;png&quot;, new File(&quot;test_document_signed-1-&quot; + xObjectName.getName() + &quot;.png&quot;));\r\n\r\n        PDResources innerResources = pdFormXObject.getResources();\r\n        for (COSName innerXObjectName : innerResources.getXObjectNames()) {\r\n            PDXObject innerXObject = innerResources.getXObject(innerXObjectName);\r\n            if (innerXObject instanceof PDFormXObject) {\r\n                PDFormXObject innerFormXObject = (PDFormXObject) innerXObject;\r\n                image = renderer.renderImage(pdPage, innerFormXObject, 4, ImageType.RGB, RenderDestination.VIEW);\r\n                ImageIO.write(image, &quot;png&quot;, new File(&quot;test_document_signed-1-&quot; + xObjectName.getName() + &quot;-&quot; + innerXObjectName.getName() + &quot;.png&quot;));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n*([RenderAcrobatSignSignatures][4] test `testRenderTestDocumentSigned`)*\r\n\r\nThe results:\r\n\r\n[![test_document_signed-1-Xi3.png][5]][5]\r\n\r\n[![test_document_signed-1-Xi3-Xf2.png][6]][6]\r\n\r\n[![test_document_signed-1-Xi4.png][7]][7]\r\n\r\n----\r\n\r\nIn your proof of concept you extract the form XObjects and draw them on pages of temporary PDFs. That approach has the advantage of not needing reflection (or copying the whole PDFBox rendering classes). It may have the disadvantage, though, of requiring more resources.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17145649/1729265\r\n  [2]: https://github.com/mkl-public/testarea-pdfbox3/blob/master/src/main/java/mkl/testarea/pdfbox3/render/ContentStreamRenderer.java#L33\r\n  [3]: https://github.com/mkl-public/testarea-pdfbox3/blob/master/src/main/java/mkl/testarea/pdfbox3/render/ContentStreamPageDrawer.java#L23C1-L57C2\r\n  [4]: https://github.com/mkl-public/testarea-pdfbox3/blob/master/src/test/java/mkl/testarea/pdfbox3/render/RenderAcrobatSignSignatures.java#L47\r\n  [5]: https://i.stack.imgur.com/gZkbA.png\r\n  [6]: https://i.stack.imgur.com/uC82h.png\r\n  [7]: https://i.stack.imgur.com/VJeP0.png","title":"Extract signature image from PDF signed with Adobe Sign","body":"<p>As discussed in the comments, the <code>AnnotationDrawer</code> from <a href=\"https://stackoverflow.com/a/17145649/1729265\">this old answer</a>, generalized to work for arbitrary form XObjects, could be used to render the pen signatures from Adobe Acrobat Sign signed documents to separate bitmap images.</p>\n<p>That annotation drawer can be generalized (and ported to PDFBox 3) as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ContentStreamRenderer extends PDFRenderer {\n    public ContentStreamRenderer(PDDocument document) throws NoSuchFieldException, SecurityException {\n        super(document);\n        pageImageField = PDFRenderer.class.getDeclaredField(&quot;pageImage&quot;);\n        pageImageField.setAccessible(true);\n        pageDrawerParametersConstructor = (Constructor&lt;PageDrawerParameters&gt;) PageDrawerParameters.class.getDeclaredConstructors()[0];\n        pageDrawerParametersConstructor.setAccessible(true);\n    }\n\n    @Override\n    protected PageDrawer createPageDrawer(PageDrawerParameters parameters) throws IOException {\n        PageDrawer pageDrawer = new ContentStreamPageDrawer(parameters);\n        pageDrawer.setAnnotationFilter(getAnnotationsFilter());\n        return pageDrawer;\n    }\n\n    public BufferedImage renderImage(PDPage page, PDContentStream contentStream, float scale, ImageType imageType, RenderDestination destination) throws IOException, IllegalArgumentException, IllegalAccessException, InstantiationException, InvocationTargetException {\n        try {\n            PDRectangle bBox = contentStream.getBBox();\n            Rectangle2D bounds = bBox.transform(contentStream.getMatrix()).getBounds2D();\n            bBox = new PDRectangle((float)bounds.getMinX(), (float)bounds.getMinY(), (float)bounds.getWidth(), (float)bounds.getHeight());\n            \n            float widthPt = bBox.getWidth();\n            float heightPt = bBox.getHeight();\n\n            // PDFBOX-4306 avoid single blank pixel line on the right or on the bottom\n            int widthPx = (int) Math.max(Math.floor(widthPt * scale), 1);\n            int heightPx = (int) Math.max(Math.floor(heightPt * scale), 1);\n\n            BufferedImage image = new BufferedImage(widthPx, heightPx, BufferedImage.TYPE_INT_ARGB);\n            pageImageField.set(this, image);\n\n            // use a transparent background if the image type supports alpha\n            Graphics2D g = image.createGraphics();\n            g.setBackground(new Color(0, 0, 0, 0));\n            g.clearRect(0, 0, image.getWidth(), image.getHeight());\n            g.scale(scale, scale);\n\n            RenderingHints actualRenderingHints =\n                    getRenderingHints() == null ? createDefaultRenderingHints(g) : getRenderingHints();\n            PageDrawerParameters parameters =\n                    pageDrawerParametersConstructor.newInstance(this, page, isSubsamplingAllowed(), destination,\n                            actualRenderingHints, getImageDownscalingOptimizationThreshold());\n            PageDrawer drawer = createPageDrawer(parameters);\n            if (drawer instanceof ContentStreamPageDrawer) {\n                ((ContentStreamPageDrawer)drawer).setContentStream(contentStream);\n            }\n            drawer.drawPage(g, bBox);\n\n            g.dispose();\n\n            if (imageType != ImageType.ARGB)\n            {\n                int biType = -1;\n                switch (imageType) {\n                case ARGB:   biType = BufferedImage.TYPE_INT_ARGB; break;\n                case BGR:    biType = BufferedImage.TYPE_3BYTE_BGR; break;\n                case BINARY: biType = BufferedImage.TYPE_BYTE_BINARY; break;\n                case GRAY:   biType = BufferedImage.TYPE_BYTE_GRAY; break;\n                case RGB:    biType = BufferedImage.TYPE_INT_RGB; break;\n                }\n                BufferedImage newImage = \n                        new BufferedImage(image.getWidth(), image.getHeight(), biType);\n                Graphics2D dstGraphics = newImage.createGraphics();\n                dstGraphics.setBackground(Color.WHITE);\n                dstGraphics.clearRect(0, 0, image.getWidth(), image.getHeight());\n                dstGraphics.drawImage(image, 0, 0, null);\n                dstGraphics.dispose();\n                image = newImage;\n            }\n\n            return image;\n        } finally {\n            pageImageField.set(this, null);\n        }\n    }\n\n    private RenderingHints createDefaultRenderingHints(Graphics2D graphics)\n    {\n        RenderingHints r = new RenderingHints(null);\n        r.put(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\n        r.put(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n        r.put(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        return r;\n    }\n\n    final Field pageImageField;\n    final Constructor&lt;PageDrawerParameters&gt; pageDrawerParametersConstructor;\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox3/blob/master/src/main/java/mkl/testarea/pdfbox3/render/ContentStreamRenderer.java#L33\" rel=\"nofollow noreferrer\">ContentStreamRenderer</a> class derived from <code>PDFRenderer</code>)</em></p>\n<p>with this helper class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ContentStreamPageDrawer extends PageDrawer {\n    public ContentStreamPageDrawer(PageDrawerParameters parameters) throws IOException {\n        super(parameters);\n    }\n\n    public PDContentStream getContentStream() {\n        return contentStream;\n    }\n\n    public void setContentStream(PDContentStream contentStream) {\n        this.contentStream = contentStream;\n    }\n\n    //\n    // Overrides that make drawPage only draw the set content stream\n    // if one is set. Otherwise, these overrides delegate to PageDrawer.\n    //\n    @Override\n    public void processPage(PDPage page) throws IOException {\n        if (contentStream == null) {\n            super.processPage(page);\n        } else {\n            processChildStream(contentStream, page);\n        }\n    }\n\n    @Override\n    public void showAnnotation(PDAnnotation annotation) throws IOException {\n        if (contentStream == null) {\n            super.showAnnotation(annotation);\n        }\n    }\n\n    PDContentStream contentStream = null;\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox3/blob/master/src/main/java/mkl/testarea/pdfbox3/render/ContentStreamPageDrawer.java#L23C1-L57C2\" rel=\"nofollow noreferrer\">ContentStreamPageDrawer</a> helper of <code>ContentStreamRenderer</code>)</em></p>\n<p>These classes constitute a customization of the standard PDFBox PDF renderer and page drawer, a generalization to render individual content streams of a PDF.</p>\n<p>Unfortunately PDFBox has made many member variables and methods private or at least package protected. As I didn't want to copy the whole classes, I, therefore, had to use reflection which will not work in some contexts. (Keeping members hidden away like that really is a PITA...)</p>\n<p>To render the form XObjects in the example PDF signed using Adobe Acrobat Sign, you can use those classes like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PDDocument pdDocument = Loader.loadPDF(PDF_SOURCE)\nContentStreamRenderer renderer = new ContentStreamRenderer(pdDocument);\nPDPage pdPage = pdDocument.getPage(0);\nPDResources pdResources = pdPage.getResources();\n\nfor (COSName xObjectName : pdResources.getXObjectNames()) {\n    PDXObject pdXObject = pdResources.getXObject(xObjectName);\n    if (pdXObject instanceof PDFormXObject) {\n        PDFormXObject pdFormXObject = (PDFormXObject) pdXObject;\n        BufferedImage image = renderer.renderImage(pdPage, pdFormXObject, 4, ImageType.RGB, RenderDestination.VIEW);\n        ImageIO.write(image, &quot;png&quot;, new File(&quot;test_document_signed-1-&quot; + xObjectName.getName() + &quot;.png&quot;));\n\n        PDResources innerResources = pdFormXObject.getResources();\n        for (COSName innerXObjectName : innerResources.getXObjectNames()) {\n            PDXObject innerXObject = innerResources.getXObject(innerXObjectName);\n            if (innerXObject instanceof PDFormXObject) {\n                PDFormXObject innerFormXObject = (PDFormXObject) innerXObject;\n                image = renderer.renderImage(pdPage, innerFormXObject, 4, ImageType.RGB, RenderDestination.VIEW);\n                ImageIO.write(image, &quot;png&quot;, new File(&quot;test_document_signed-1-&quot; + xObjectName.getName() + &quot;-&quot; + innerXObjectName.getName() + &quot;.png&quot;));\n            }\n        }\n    }\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox3/blob/master/src/test/java/mkl/testarea/pdfbox3/render/RenderAcrobatSignSignatures.java#L47\" rel=\"nofollow noreferrer\">RenderAcrobatSignSignatures</a> test <code>testRenderTestDocumentSigned</code>)</em></p>\n<p>The results:</p>\n<p><a href=\"https://i.stack.imgur.com/gZkbA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gZkbA.png\" alt=\"test_document_signed-1-Xi3.png\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/uC82h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uC82h.png\" alt=\"test_document_signed-1-Xi3-Xf2.png\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/VJeP0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VJeP0.png\" alt=\"test_document_signed-1-Xi4.png\" /></a></p>\n<hr />\n<p>In your proof of concept you extract the form XObjects and draw them on pages of temporary PDFs. That approach has the advantage of not needing reflection (or copying the whole PDFBox rendering classes). It may have the disadvantage, though, of requiring more resources.</p>\n"}],"owner":{"account_id":6275061,"reputation":95,"user_id":4877969,"accept_rate":60,"display_name":"krillov"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693843149,"creation_date":1693329729,"question_id":77002400,"body_markdown":"I&#39;m trying to extract the signature image from a PDF signed with Adobe Sign. Not sure how Adobe adds this image. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI have tested in Java with iText and PDFBox. Normally when you traverse through the PDF structure with some tools e.g iText RUPS you can find the images like the visible signature and even download it directly in the tool. I didn&#39;t find it in this case. I did find though the XObject what I think holds the signature image.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe stream looks like this:\r\n\r\n    q\r\n        q\r\n            0.07843 0.45098 0.90196 RG\r\n            0.07843 0.45098 0.90196 rg\r\n            1 w\r\n            q\r\n                BT\r\n                    1 0 0 1 0 1.78 Tm\r\n                    /F1 6 Tf\r\n                    0.07843 0.45098 0.90196 rg\r\n                    ({0009002000270027002a00010018002a002d0027001f00010497000200300022000104400443047600010441043f044104420001044004410477043f044300010008000e001506d404410498}) Tj\r\n                    0 g\r\n                ET\r\n            Q\r\n            0 8.28 m\r\n                103.55 8.28 l\r\n            S\r\n        Q\r\n        0 0 0 RG\r\n        0 0 0 rg\r\n        q\r\n            1 0 0 1 0 0 cm\r\n            /Xf2 Do\r\n        Q\r\n    Q\r\n\r\nAnd has a reference to Xf2 which looks like this:\r\n\r\n    1 J\r\n    1 j\r\n    1.000 w\r\n    30.315 10.580 m\r\n        30.315 10.580 30.315 10.580 30.315 10.587 c\r\n    S\r\n    1.000 w\r\n    30.315 10.587 m\r\n        30.315 10.594 30.315 10.608 30.315 10.627 c\r\n    S\r\n    1.000 w\r\n    30.315 10.627 m\r\n        30.315 10.646 30.315 10.670 30.315 10.683 c\r\n    S\r\n    ...\r\n\r\nCan this be extracted as an image?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8xTai.png\r\n  [2]: https://i.stack.imgur.com/mkYBu.png\r\n\r\n--------------------------------------------------------------------\r\n\r\nProof of concept with PDFBox:\r\n\r\n    try (PDDocument document = PDDocument.load(pdf)) {\r\n    \r\n                PDAnnotation annotation = document.getPage(0).getAnnotations().get(0);\r\n                PDResources resources = annotation.getPage().getResources();\r\n                Iterator&lt;COSName&gt; names = resources.getXObjectNames().iterator();\r\n                PDXObject xi3Object = resources.getXObject(names.next());\r\n                PDStream xi3Stream = xi3Object.getStream();\r\n    \r\n    // OR \r\n    \r\n                COSDictionary page = (COSDictionary) document.getDocument().getObjectsByType(COSName.ANNOT).get(0)\r\n                        .getDictionaryObject(COSName.P);\r\n                COSDictionary resources = (COSDictionary) page.getItem(COSName.RESOURCES);\r\n                COSDictionary xObject = (COSDictionary) resources.getItem(COSName.XOBJECT);\r\n                COSObject xi3Object = (COSObject) xObject.getItem(&quot;Xi3&quot;);\r\n                COSStream xi3Stream = (COSStream) xi3Object.getObject();\r\n    \r\n                PDFormXObject pdFormXObject = new PDFormXObject(xi3Stream);\r\n    \r\n                PDPage page = new PDPage(new PDRectangle(pdFormXObject.getBBox().getWidth(),\r\n                        pdFormXObject.getBBox().getHeight()));\r\n    \r\n                try (PDDocument tempDocument = new PDDocument()) {\r\n    \r\n                    PDPageContentStream contents = new PDPageContentStream(tempDocument, page);\r\n                    AffineTransform affineTransform = new AffineTransform();\r\n                    affineTransform.setToTranslation(0, 0);\r\n                    affineTransform.setToScale(0.75d, 0.75d);\r\n                    pdFormXObject.setMatrix(affineTransform);\r\n                    contents.drawForm(pdFormXObject);\r\n                    contents.restoreGraphicsState();\r\n                    contents.close();\r\n                    tempDocument.addPage(page);\r\n                    PDFRenderer renderer = new PDFRenderer(tempDocument);\r\n                    BufferedImage image = renderer.renderImageWithDPI(0, 600);\r\n                    try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\r\n                        ImageIO.write(image, &quot;png&quot;, baos);\r\n                        return baos.toByteArray();\r\n                    }\r\n                }\r\n            }","title":"Extract signature image from PDF signed with Adobe Sign","body":"<p>I'm trying to extract the signature image from a PDF signed with Adobe Sign. Not sure how Adobe adds this image.</p>\n<p><a href=\"https://i.stack.imgur.com/8xTai.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8xTai.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tested in Java with iText and PDFBox. Normally when you traverse through the PDF structure with some tools e.g iText RUPS you can find the images like the visible signature and even download it directly in the tool. I didn't find it in this case. I did find though the XObject what I think holds the signature image.</p>\n<p><a href=\"https://i.stack.imgur.com/mkYBu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mkYBu.png\" alt=\"enter image description here\" /></a></p>\n<p>The stream looks like this:</p>\n<pre><code>q\n    q\n        0.07843 0.45098 0.90196 RG\n        0.07843 0.45098 0.90196 rg\n        1 w\n        q\n            BT\n                1 0 0 1 0 1.78 Tm\n                /F1 6 Tf\n                0.07843 0.45098 0.90196 rg\n                ({0009002000270027002a00010018002a002d0027001f00010497000200300022000104400443047600010441043f044104420001044004410477043f044300010008000e001506d404410498}) Tj\n                0 g\n            ET\n        Q\n        0 8.28 m\n            103.55 8.28 l\n        S\n    Q\n    0 0 0 RG\n    0 0 0 rg\n    q\n        1 0 0 1 0 0 cm\n        /Xf2 Do\n    Q\nQ\n</code></pre>\n<p>And has a reference to Xf2 which looks like this:</p>\n<pre><code>1 J\n1 j\n1.000 w\n30.315 10.580 m\n    30.315 10.580 30.315 10.580 30.315 10.587 c\nS\n1.000 w\n30.315 10.587 m\n    30.315 10.594 30.315 10.608 30.315 10.627 c\nS\n1.000 w\n30.315 10.627 m\n    30.315 10.646 30.315 10.670 30.315 10.683 c\nS\n...\n</code></pre>\n<p>Can this be extracted as an image?</p>\n<hr />\n<p>Proof of concept with PDFBox:</p>\n<pre><code>try (PDDocument document = PDDocument.load(pdf)) {\n\n            PDAnnotation annotation = document.getPage(0).getAnnotations().get(0);\n            PDResources resources = annotation.getPage().getResources();\n            Iterator&lt;COSName&gt; names = resources.getXObjectNames().iterator();\n            PDXObject xi3Object = resources.getXObject(names.next());\n            PDStream xi3Stream = xi3Object.getStream();\n\n// OR \n\n            COSDictionary page = (COSDictionary) document.getDocument().getObjectsByType(COSName.ANNOT).get(0)\n                    .getDictionaryObject(COSName.P);\n            COSDictionary resources = (COSDictionary) page.getItem(COSName.RESOURCES);\n            COSDictionary xObject = (COSDictionary) resources.getItem(COSName.XOBJECT);\n            COSObject xi3Object = (COSObject) xObject.getItem(&quot;Xi3&quot;);\n            COSStream xi3Stream = (COSStream) xi3Object.getObject();\n\n            PDFormXObject pdFormXObject = new PDFormXObject(xi3Stream);\n\n            PDPage page = new PDPage(new PDRectangle(pdFormXObject.getBBox().getWidth(),\n                    pdFormXObject.getBBox().getHeight()));\n\n            try (PDDocument tempDocument = new PDDocument()) {\n\n                PDPageContentStream contents = new PDPageContentStream(tempDocument, page);\n                AffineTransform affineTransform = new AffineTransform();\n                affineTransform.setToTranslation(0, 0);\n                affineTransform.setToScale(0.75d, 0.75d);\n                pdFormXObject.setMatrix(affineTransform);\n                contents.drawForm(pdFormXObject);\n                contents.restoreGraphicsState();\n                contents.close();\n                tempDocument.addPage(page);\n                PDFRenderer renderer = new PDFRenderer(tempDocument);\n                BufferedImage image = renderer.renderImageWithDPI(0, 600);\n                try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\n                    ImageIO.write(image, &quot;png&quot;, baos);\n                    return baos.toByteArray();\n                }\n            }\n        }\n</code></pre>\n"},{"tags":["java","events","solidity","smartcontracts","web3-java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1630852962,"post_id":69025408,"comment_id":122062924,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":14983790,"reputation":1238,"user_id":11269158,"display_name":"MrFrenzoid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630615351,"creation_date":1630615351,"answer_id":69036786,"question_id":69025408,"body_markdown":"```\r\n// Our local test network.\r\nvar service = new BeaconNodeService(&quot;http://localhost:19601/&quot;);\r\nvar client = BeaconNodeClientFactory.build(service);\r\n\r\n// We want to receive at least one event\r\nvar latch = new CountDownLatch(1);\r\n\r\n// At the moment we are interested in any topic\r\nvar topics = EnumSet.allOf(BeaconEventType.class);\r\n\r\n// Then subscribe to each event\r\nclient.getEvents().onEvent(topics, event -&gt; {\r\n    System.out.println(&quot;Received event: &quot; + event);\r\n    latch.countDown();\r\n});\r\n\r\n// Wait for the event\r\nlatch.await();\r\n```\r\n\r\nMore info [here][1].\r\n\r\n\r\n  [1]: https://docs.web3j.io/4.8.7/web3j_eth2_client/#listen-for-events","title":"Listening to events emmited from smart contracts using web3j library","body":"<pre><code>// Our local test network.\nvar service = new BeaconNodeService(&quot;http://localhost:19601/&quot;);\nvar client = BeaconNodeClientFactory.build(service);\n\n// We want to receive at least one event\nvar latch = new CountDownLatch(1);\n\n// At the moment we are interested in any topic\nvar topics = EnumSet.allOf(BeaconEventType.class);\n\n// Then subscribe to each event\nclient.getEvents().onEvent(topics, event -&gt; {\n    System.out.println(&quot;Received event: &quot; + event);\n    latch.countDown();\n});\n\n// Wait for the event\nlatch.await();\n</code></pre>\n<p>More info <a href=\"https://docs.web3j.io/4.8.7/web3j_eth2_client/#listen-for-events\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":9424862,"reputation":41,"user_id":7010164,"accept_rate":0,"display_name":"Sravan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639211535,"creation_date":1639211535,"answer_id":70313683,"question_id":69025408,"body_markdown":"Lets consider Contract name as &quot;SampleContract&quot;. It includes a method &quot;getSellerAddress()&quot;, at the end of the method an event is emitted, which is named as &quot;emitSellerAddress&quot;.\r\n \r\nAfter calling the method getSellerAddress, create a filter that provides latest block details and add a topic with the Event Name. This event will be registered in the filter, which is passed into logFlowable. Subscribing to this method will provide the event information and eventString in the below code will provide complete log information. Based on the event emitting either it will be in the topic or data section.  \r\n\r\n    TransactionReceipt transactionReceiptData = sampleContract.getSellerAddress().send();\r\n\r\n    EthFilter filter = new EthFilter(DefaultBlockParameterName.LATEST, DefaultBlockParameterName.LATEST, sampleContract.getContractAddress());\r\n\r\n\tString encodedEventSignature = EventEncoder.encode(sampleContract.EVENT_NAME);\r\n\r\n\tfilter.addSingleTopic(encodedEventSignature);\r\n\t\t\t\t\t\r\n    System.out.println(&quot;subscribing to event with filter&quot;);\r\n\t\t\t\t\t\r\n\tWeb3j.ethLogFlowable(filter).subscribe(eventString -&gt; eventString.toString());\r\n\t\t\t\t\t","title":"Listening to events emmited from smart contracts using web3j library","body":"<p>Lets consider Contract name as &quot;SampleContract&quot;. It includes a method &quot;getSellerAddress()&quot;, at the end of the method an event is emitted, which is named as &quot;emitSellerAddress&quot;.</p>\n<p>After calling the method getSellerAddress, create a filter that provides latest block details and add a topic with the Event Name. This event will be registered in the filter, which is passed into logFlowable. Subscribing to this method will provide the event information and eventString in the below code will provide complete log information. Based on the event emitting either it will be in the topic or data section.</p>\n<pre><code>TransactionReceipt transactionReceiptData = sampleContract.getSellerAddress().send();\n\nEthFilter filter = new EthFilter(DefaultBlockParameterName.LATEST, DefaultBlockParameterName.LATEST, sampleContract.getContractAddress());\n\nString encodedEventSignature = EventEncoder.encode(sampleContract.EVENT_NAME);\n\nfilter.addSingleTopic(encodedEventSignature);\n                \nSystem.out.println(&quot;subscribing to event with filter&quot;);\n                \nWeb3j.ethLogFlowable(filter).subscribe(eventString -&gt; eventString.toString());\n                \n</code></pre>\n"},{"tags":[],"owner":{"account_id":22650899,"reputation":355,"user_id":16825573,"display_name":"Lejdi Prifti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693842968,"creation_date":1693842968,"answer_id":77039172,"question_id":69025408,"body_markdown":"You could also implement a solution that listens and logs all types of events that occur using `web3j`.\r\n\r\nIn the code below, you pass the contract address and initialize the filter after the construction of the blockchainConfig bean. \r\n\r\nThe solution is implemented in Spring Boot, using web3j. \r\n\r\n    @Slf4j\r\n    @Configuration\r\n    public class BlockchainConfig {\r\n\r\n\t@Value(&quot;${blockchain.rpcnode.url}&quot;)\r\n\tprivate String blockchainUrl;\r\n\r\n\t@Value(&quot;${blockchain.smart.contract.address}&quot;)\r\n\tprivate String contractAddress;\r\n\r\n\t@PostConstruct\r\n\tpublic void postConstruct() {\r\n\t\tthis.initFilter(contractAddress);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Web3j web3j() {\r\n\t\treturn Web3j.build(new HttpService(blockchainUrl));\r\n\t}\r\n\r\n\tprivate void initFilter(String contractAddress) {\r\n\t\tEthFilter filter = new EthFilter(DefaultBlockParameterName.LATEST, DefaultBlockParameterName.LATEST,\r\n\t\t\t\tcontractAddress);\r\n\t\tweb3j().ethLogFlowable(filter).subscribe(eventLog -&gt; {\r\n\t\t\tLogUtil.debug(log, &quot;event of type %s occured on contract %s with topics %s&quot;, eventLog.getType(),\r\n\t\t\t\t\teventLog.getAddress(), eventLog.getTopics());\r\n\t\t});\r\n\t  }\r\n    }","title":"Listening to events emmited from smart contracts using web3j library","body":"<p>You could also implement a solution that listens and logs all types of events that occur using <code>web3j</code>.</p>\n<p>In the code below, you pass the contract address and initialize the filter after the construction of the blockchainConfig bean.</p>\n<p>The solution is implemented in Spring Boot, using web3j.</p>\n<pre><code>@Slf4j\n@Configuration\npublic class BlockchainConfig {\n\n@Value(&quot;${blockchain.rpcnode.url}&quot;)\nprivate String blockchainUrl;\n\n@Value(&quot;${blockchain.smart.contract.address}&quot;)\nprivate String contractAddress;\n\n@PostConstruct\npublic void postConstruct() {\n    this.initFilter(contractAddress);\n}\n\n@Bean\npublic Web3j web3j() {\n    return Web3j.build(new HttpService(blockchainUrl));\n}\n\nprivate void initFilter(String contractAddress) {\n    EthFilter filter = new EthFilter(DefaultBlockParameterName.LATEST, DefaultBlockParameterName.LATEST,\n            contractAddress);\n    web3j().ethLogFlowable(filter).subscribe(eventLog -&gt; {\n        LogUtil.debug(log, &quot;event of type %s occured on contract %s with topics %s&quot;, eventLog.getType(),\n                eventLog.getAddress(), eventLog.getTopics());\n    });\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":22635132,"reputation":21,"user_id":16812023,"display_name":"shaikh47"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1119,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1693842968,"creation_date":1630565400,"question_id":69025408,"body_markdown":"How it is possible to listen to events emitted from smart contract using web3j library based on java?","title":"Listening to events emmited from smart contracts using web3j library","body":"<p>How it is possible to listen to events emitted from smart contract using web3j library based on java?</p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":4881147,"reputation":340,"user_id":3934903,"display_name":"Joseph Sang"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693841755,"creation_date":1693841755,"answer_id":77039061,"question_id":75954769,"body_markdown":"Check your build.gradle (module-level) file, in my case (I was mixing Java &amp; Kotlin) I had  both\r\n\r\n    annotationProcessor &#39;androidx.room:room-compiler:2.5.2&#39;\r\nand\r\n\r\n    ksp &#39;androidx.room:room-compiler:2.5.2&#39;\r\nRemoving whichever I didn&#39;t need solved the problem for me. Refer to the accepted answer in this question\r\nhttps://stackoverflow.com/questions/68688349/trying-to-create-room-database-with-android-but-keep-getting-dependency-error\r\nfor more information.","title":"Java Android Room &#39;Attempt to recreate a file for type [Dao_Impl]&#39;","body":"<p>Check your build.gradle (module-level) file, in my case (I was mixing Java &amp; Kotlin) I had  both</p>\n<pre><code>annotationProcessor 'androidx.room:room-compiler:2.5.2'\n</code></pre>\n<p>and</p>\n<pre><code>ksp 'androidx.room:room-compiler:2.5.2'\n</code></pre>\n<p>Removing whichever I didn't need solved the problem for me. Refer to the accepted answer in this question\n<a href=\"https://stackoverflow.com/questions/68688349/trying-to-create-room-database-with-android-but-keep-getting-dependency-error\">Trying to create room database with android, but keep getting dependency error</a>\nfor more information.</p>\n"}],"owner":{"account_id":15775988,"reputation":41,"user_id":11383767,"display_name":"Alex Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1693841755,"creation_date":1680829266,"question_id":75954769,"body_markdown":"I am very much at a loss. I am simply trying to implement the Android Room tutorial found [here](https://developer.android.com/training/data-storage/room). I keep receiving this error:\r\n\r\n```\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; javax.annotation.processing.FilerException: Attempt to recreate a file for type com.example...dao.UserDao_Impl\r\n```\r\n\r\nDespite retrying the tutorial three times. If it helps:  \r\nMy DAO:\r\n\r\n```\r\n@Dao\r\npublic interface UserDao {\r\n    // LiveData&lt;&gt; respects app lifecycle\r\n    @Query(&quot;SELECT * FROM user&quot;)\r\n    LiveData&lt;List&lt;User&gt;&gt; getAll();\r\n\r\n    @Query(&quot;SELECT * FROM user WHERE id IN (:userIds)&quot;)\r\n    List&lt;User&gt; loadAllByIds(int[] userIds);\r\n\r\n    @Query(&quot;SELECT * FROM user WHERE first_name LIKE :first AND &quot; +\r\n            &quot;last_name LIKE :last LIMIT 1&quot;)\r\n    User findByName(String first, String last);\r\n\r\n    @Insert\r\n    void insert(User planetEntity);\r\n\r\n    @Insert\r\n    void insertAll(User... users);\r\n\r\n    @Delete\r\n    void delete(User user);\r\n}\r\n```\r\n\r\nMy database:\r\n\r\n```\r\n@Database(entities = {User.class}, version = 1, exportSchema = false)\r\n@TypeConverters({Converters.class})\r\npublic abstract class AppRoomDatabase extends RoomDatabase {\r\n    private static final String DATABASE_NAME = &quot;climbing_app_database&quot;;\r\n    private static AppRoomDatabase INSTANCE;\r\n\r\n    public abstract UserDao userDao();\r\n\r\n    public static AppRoomDatabase getDatabase(final Context context) {\r\n        if (INSTANCE == null) {\r\n            synchronized (AppRoomDatabase.class) {\r\n                if (INSTANCE == null) {\r\n                    //Creates the DB here\r\n                    INSTANCE = Room.databaseBuilder(context.getApplicationContext(),\r\n                            AppRoomDatabase.class, DATABASE_NAME)\r\n                            .fallbackToDestructiveMigration()\r\n                            .addCallback(new AppRoomDatabase.Callback() {\r\n                                @Override\r\n                                public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n                                    super.onCreate(db);\r\n\r\n                                }\r\n                            })\r\n                            .build();\r\n                }\r\n            }\r\n        }\r\n        return INSTANCE;\r\n    }\r\n}\r\n```\r\n\r\nWould really appreciate anyone able to tell me how much of a sausage I am being.\r\n\r\nI tried to repeat the tutorial 3 times, but I have to be skipping something on autopilot because I just want to curl into a ball","title":"Java Android Room &#39;Attempt to recreate a file for type [Dao_Impl]&#39;","body":"<p>I am very much at a loss. I am simply trying to implement the Android Room tutorial found <a href=\"https://developer.android.com/training/data-storage/room\" rel=\"nofollow noreferrer\">here</a>. I keep receiving this error:</p>\n<pre><code>Execution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; javax.annotation.processing.FilerException: Attempt to recreate a file for type com.example...dao.UserDao_Impl\n</code></pre>\n<p>Despite retrying the tutorial three times. If it helps:<br />\nMy DAO:</p>\n<pre><code>@Dao\npublic interface UserDao {\n    // LiveData&lt;&gt; respects app lifecycle\n    @Query(&quot;SELECT * FROM user&quot;)\n    LiveData&lt;List&lt;User&gt;&gt; getAll();\n\n    @Query(&quot;SELECT * FROM user WHERE id IN (:userIds)&quot;)\n    List&lt;User&gt; loadAllByIds(int[] userIds);\n\n    @Query(&quot;SELECT * FROM user WHERE first_name LIKE :first AND &quot; +\n            &quot;last_name LIKE :last LIMIT 1&quot;)\n    User findByName(String first, String last);\n\n    @Insert\n    void insert(User planetEntity);\n\n    @Insert\n    void insertAll(User... users);\n\n    @Delete\n    void delete(User user);\n}\n</code></pre>\n<p>My database:</p>\n<pre><code>@Database(entities = {User.class}, version = 1, exportSchema = false)\n@TypeConverters({Converters.class})\npublic abstract class AppRoomDatabase extends RoomDatabase {\n    private static final String DATABASE_NAME = &quot;climbing_app_database&quot;;\n    private static AppRoomDatabase INSTANCE;\n\n    public abstract UserDao userDao();\n\n    public static AppRoomDatabase getDatabase(final Context context) {\n        if (INSTANCE == null) {\n            synchronized (AppRoomDatabase.class) {\n                if (INSTANCE == null) {\n                    //Creates the DB here\n                    INSTANCE = Room.databaseBuilder(context.getApplicationContext(),\n                            AppRoomDatabase.class, DATABASE_NAME)\n                            .fallbackToDestructiveMigration()\n                            .addCallback(new AppRoomDatabase.Callback() {\n                                @Override\n                                public void onCreate(@NonNull SupportSQLiteDatabase db) {\n                                    super.onCreate(db);\n\n                                }\n                            })\n                            .build();\n                }\n            }\n        }\n        return INSTANCE;\n    }\n}\n</code></pre>\n<p>Would really appreciate anyone able to tell me how much of a sausage I am being.</p>\n<p>I tried to repeat the tutorial 3 times, but I have to be skipping something on autopilot because I just want to curl into a ball</p>\n"},{"tags":["java","eclipse","maven","xtext"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1693841798,"post_id":77038957,"comment_id":135810092,"body_markdown":"You should not use `&lt;scope&gt;import&lt;/scope&gt;` you should remove that simply.","body":"You should not use <code>&lt;scope&gt;import&lt;&#47;scope&gt;</code> you should remove that simply."},{"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"score":0,"creation_date":1693841893,"post_id":77038957,"comment_id":135810115,"body_markdown":"sorry I was just fooling around. Even after removing it I get the same error","body":"sorry I was just fooling around. Even after removing it I get the same error"},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1693847896,"post_id":77038957,"comment_id":135811102,"body_markdown":"Am I right assuming the nature of your project is an OSGI bundle? My experiences with OSGI are limited and I never found out how Maven and OSGI go well together. I remember that besides adding a dependency to the MANIFEST the JAR itself has to be added to a specific directory. Check whether you find that directory and try adding your JAR to this directory. If this works maybe you&#39;ll find a mechanism that this happens automatically.","body":"Am I right assuming the nature of your project is an OSGI bundle? My experiences with OSGI are limited and I never found out how Maven and OSGI go well together. I remember that besides adding a dependency to the MANIFEST the JAR itself has to be added to a specific directory. Check whether you find that directory and try adding your JAR to this directory. If this works maybe you&#39;ll find a mechanism that this happens automatically."},{"owner":{"account_id":899065,"reputation":11808,"user_id":935687,"display_name":"Christian Dietrich"},"score":0,"creation_date":1693854536,"post_id":77038957,"comment_id":135812095,"body_markdown":"if you want to use maven artifacts in eclipse code you need to do this one:\nhttps://l&#228;ubisoft.gmbh/en/articles/using-maven-artifacts-in-pde-rcp-and-tycho-builds/","body":"if you want to use maven artifacts in eclipse code you need to do this one: <a href=\"https://l&#228;ubisoft.gmbh/en/articles/using-maven-artifacts-in-pde-rcp-and-tycho-builds/\" rel=\"nofollow noreferrer\">l&#228;ubisoft.gmbh/en/articles/&hellip;</a>"},{"owner":{"account_id":899065,"reputation":11808,"user_id":935687,"display_name":"Christian Dietrich"},"score":1,"creation_date":1693854646,"post_id":77038957,"comment_id":135812111,"body_markdown":"but as commons math is already there: https://download.eclipse.org/tools/orbit/simrel/orbit-aggregation/2023-09/ you can use that one in your target directly","body":"but as commons math is already there: <a href=\"https://download.eclipse.org/tools/orbit/simrel/orbit-aggregation/2023-09/\" rel=\"nofollow noreferrer\">download.eclipse.org/tools/orbit/simrel/orbit-aggregation/&hellip;</a> you can use that one in your target directly"},{"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"score":0,"creation_date":1693946591,"post_id":77038957,"comment_id":135826090,"body_markdown":"Thanks! &quot;nature of your project is an OSGI bundle&quot; where can I find that out? Are xtext projects by nature OSGi bundle?","body":"Thanks! &quot;nature of your project is an OSGI bundle&quot; where can I find that out? Are xtext projects by nature OSGi bundle?"},{"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"score":0,"creation_date":1693947880,"post_id":77038957,"comment_id":135826290,"body_markdown":"added the following in my xtext.target file \n```\n&lt;location includeAllPlatforms=&quot;false&quot; includeConfigurePhase=&quot;false&quot; includeMode=&quot;planner&quot; includeSource=&quot;true&quot; type=&quot;InstallableUnit&quot;&gt;\n\t\t\t&lt;unit id=&quot;org.apache.commons.math3&quot; version=&quot;3.6.1.v20221112-0806&quot;/&gt;\n\t\t\t&lt;repository location=&quot;https://download.eclipse.org/tools/orbit/simrel/orbit-aggregation/release/4.29.0&quot;/&gt;\n\t\t&lt;/location&gt;\n```","body":"added the following in my xtext.target file  ``` &lt;location includeAllPlatforms=&quot;false&quot; includeConfigurePhase=&quot;false&quot; includeMode=&quot;planner&quot; includeSource=&quot;true&quot; type=&quot;InstallableUnit&quot;&gt; \t\t\t&lt;unit id=&quot;org.apache.commons.math3&quot; version=&quot;3.6.1.v20221112-0806&quot;/&gt; \t\t\t&lt;repository location=&quot;<a href=\"https://download.eclipse.org/tools/orbit/simrel/orbit-aggregation/release/4.29.0&quot;/\" rel=\"nofollow noreferrer\">download.eclipse.org/tools/orbit/simrel/orbit-aggr&zwnj;&#8203;egation/&hellip;</a>&gt; \t\t&lt;/location&gt; ```"},{"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"score":0,"creation_date":1693951151,"post_id":77038957,"comment_id":135826760,"body_markdown":"finally works after adding the bundles to MANIFEST.mf as well and &lt;repository&gt; to pom.xml","body":"finally works after adding the bundles to MANIFEST.mf as well and &lt;repository&gt; to pom.xml"},{"owner":{"account_id":899065,"reputation":11808,"user_id":935687,"display_name":"Christian Dietrich"},"score":0,"creation_date":1694027483,"post_id":77038957,"comment_id":135838865,"body_markdown":"if you use manifest then adding to target should be sufficient without adding anything in the pom. the nature of your project depends on what you select in the new xtext project wizard","body":"if you use manifest then adding to target should be sufficient without adding anything in the pom. the nature of your project depends on what you select in the new xtext project wizard"}],"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693841574,"creation_date":1693840733,"question_id":77038957,"body_markdown":"I have xtext language server project configured to build with maven. With the default dependencies, the project build is working fine with\r\n\r\n```bash\r\nmvn clean install -U -Dmaven.test.skip=true\r\n```\r\nBut now I need to add [commons-math3](https://mvnrepository.com/artifact/org.apache.commons/commons-math3) as a dependency. I have added the following to xtext&#39;s pom.xml\r\n```xml\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\nWhen I run the above maven command, I see that the jar files are downloaded in `~/.m2/repositories` folder\r\n```bash\r\n./org/apache/commons/commons-math3\r\n./org/apache/commons/commons-math3/3.6.1/commons-math3-3.6.1.pom\r\n./org/apache/commons/commons-math3/3.6.1/commons-math3-3.6.1.jar.sha1\r\n./org/apache/commons/commons-math3/3.6.1/commons-math3-3.6.1.pom.sha1\r\n./org/apache/commons/commons-math3/3.6.1/commons-math3-3.6.1.jar\r\n```\r\nBut when I try to use it in my code, the imports are not resolved:\r\n```java\r\nimport org.apache.commons.math3.geometry.euclidean.threed.Rotation;\r\nimport org.apache.commons.math3.geometry.euclidean.threed.RotationOrder;\r\nimport org.apache.commons.math3.geometry.euclidean.threed.Vector3D;\r\n```\r\nI need to &quot;search repositories &quot;org.apache.commons.math3.geometry.euclidean.threed&#39;&quot; and select the found artifact to the target platform (though I am not sure what does this actually do -- `git status` does not show changes in any of the files). \r\n[![enter image description here][1]][1]\r\n\r\nAfter this, I need to add the package to `MANIFEST.MF` file\r\n\r\n```\r\nRequire-Bundle: org.apache.commons.math3;bundle-version=&quot;3.6.1&quot;\r\n...\r\nImport-Package: org.apache.commons.math3;bundle-version=&quot;3.6.1&quot;\r\n```\r\nAfter this I am able to run the IDE project from Eclipse with &quot;run as Eclipse application&quot;, and everything works as expected. But at this stage if I run the maven command, I get the error:\r\n```bash\r\n[ERROR] Cannot resolve project dependencies:\r\n[ERROR]   Software being installed: com.example.xtext 1.0.0.qualifier\r\n[ERROR]   Missing requirement: org.example.xtext 1.0.0.qualifier requires &#39;osgi.bundle; org.apache.commons.math3 3.6.1&#39; but it could not be found\r\n```\r\nDo I need to add `&lt;repository&gt;` in pom.xml? But the jar is downloaded, meaning it has been properly located. Or am I missing something in the `&lt;build&gt;` stage in pom.xml? \r\n\r\n**Edit 1:** If I start with a clean maven project (without xtext), adding the dependency works without any additional steps. So some configuration in xtext is not allowing the dependency to be found.\r\n\r\n**Edit 2:** In some old project I found that the external dependencies have be installed in `~/.m2/repository/p2/osgi/bundle/` folder. Is that the only way for a dependency to be found?\r\n\r\n  [1]: https://i.stack.imgur.com/sWVqV.png","title":"Add commons-math3 dependency to xtext maven project","body":"<p>I have xtext language server project configured to build with maven. With the default dependencies, the project build is working fine with</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean install -U -Dmaven.test.skip=true\n</code></pre>\n<p>But now I need to add <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-math3\" rel=\"nofollow noreferrer\">commons-math3</a> as a dependency. I have added the following to xtext's pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\n            &lt;version&gt;3.6.1&lt;/version&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>When I run the above maven command, I see that the jar files are downloaded in <code>~/.m2/repositories</code> folder</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./org/apache/commons/commons-math3\n./org/apache/commons/commons-math3/3.6.1/commons-math3-3.6.1.pom\n./org/apache/commons/commons-math3/3.6.1/commons-math3-3.6.1.jar.sha1\n./org/apache/commons/commons-math3/3.6.1/commons-math3-3.6.1.pom.sha1\n./org/apache/commons/commons-math3/3.6.1/commons-math3-3.6.1.jar\n</code></pre>\n<p>But when I try to use it in my code, the imports are not resolved:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.math3.geometry.euclidean.threed.Rotation;\nimport org.apache.commons.math3.geometry.euclidean.threed.RotationOrder;\nimport org.apache.commons.math3.geometry.euclidean.threed.Vector3D;\n</code></pre>\n<p>I need to &quot;search repositories &quot;org.apache.commons.math3.geometry.euclidean.threed'&quot; and select the found artifact to the target platform (though I am not sure what does this actually do -- <code>git status</code> does not show changes in any of the files).\n<a href=\"https://i.stack.imgur.com/sWVqV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sWVqV.png\" alt=\"enter image description here\" /></a></p>\n<p>After this, I need to add the package to <code>MANIFEST.MF</code> file</p>\n<pre><code>Require-Bundle: org.apache.commons.math3;bundle-version=&quot;3.6.1&quot;\n...\nImport-Package: org.apache.commons.math3;bundle-version=&quot;3.6.1&quot;\n</code></pre>\n<p>After this I am able to run the IDE project from Eclipse with &quot;run as Eclipse application&quot;, and everything works as expected. But at this stage if I run the maven command, I get the error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[ERROR] Cannot resolve project dependencies:\n[ERROR]   Software being installed: com.example.xtext 1.0.0.qualifier\n[ERROR]   Missing requirement: org.example.xtext 1.0.0.qualifier requires 'osgi.bundle; org.apache.commons.math3 3.6.1' but it could not be found\n</code></pre>\n<p>Do I need to add <code>&lt;repository&gt;</code> in pom.xml? But the jar is downloaded, meaning it has been properly located. Or am I missing something in the <code>&lt;build&gt;</code> stage in pom.xml?</p>\n<p><strong>Edit 1:</strong> If I start with a clean maven project (without xtext), adding the dependency works without any additional steps. So some configuration in xtext is not allowing the dependency to be found.</p>\n<p><strong>Edit 2:</strong> In some old project I found that the external dependencies have be installed in <code>~/.m2/repository/p2/osgi/bundle/</code> folder. Is that the only way for a dependency to be found?</p>\n"},{"tags":["java","spring-boot","logback","slf4j"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1693086112,"post_id":76984804,"comment_id":135714308,"body_markdown":"It is very difficult to help you without any related information. Do you have a lot of dependencies in your build script? Can you try to find any .xml file in your project and dependencies to see the `line 43`?","body":"It is very difficult to help you without any related information. Do you have a lot of dependencies in your build script? Can you try to find any .xml file in your project and dependencies to see the <code>line 43</code>?"}],"answers":[{"tags":[],"owner":{"account_id":8149551,"reputation":11,"user_id":6137062,"display_name":"Alexander G"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693841067,"creation_date":1693841054,"answer_id":77038991,"question_id":76984804,"body_markdown":"I had the same problem. To solve the problem, just set the &quot;name&quot;-Tag for your appender in the resources/logback.xml. (line 43) There might be something like \r\n\r\n    &lt;appender class=&quot;...&quot;&gt;\r\n\r\nI still don&#39;t understand what exactly changed in Spring and Logback making the name required","title":"logback error after upgrading springboot and java to latest version","body":"<p>I had the same problem. To solve the problem, just set the &quot;name&quot;-Tag for your appender in the resources/logback.xml. (line 43) There might be something like</p>\n<pre><code>&lt;appender class=&quot;...&quot;&gt;\n</code></pre>\n<p>I still don't understand what exactly changed in Spring and Logback making the name required</p>\n"}],"owner":{"account_id":15180363,"reputation":1087,"user_id":10953785,"display_name":"user190245"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693841067,"creation_date":1693083061,"question_id":76984804,"body_markdown":"After upgrading springboot to 3.0.7 version and java to 17 in the project, following error started appearing, though the project is working fine before the upgrade. \r\n\r\n```\r\nLogging system failed to initialize using configuration from &#39;null&#39;\r\njava.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.action.AppenderAction - Missing attribute [name] in element [appender] near line 43\r\nERROR in ch.qos.logback.classic.AsyncAppender[LOGSTASH] - No attached appenders found.\r\n```\r\n\r\nI tried many ways to include and exclude slf4j/log4j dependencies but the issue persists.","title":"logback error after upgrading springboot and java to latest version","body":"<p>After upgrading springboot to 3.0.7 version and java to 17 in the project, following error started appearing, though the project is working fine before the upgrade.</p>\n<pre><code>Logging system failed to initialize using configuration from 'null'\njava.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.action.AppenderAction - Missing attribute [name] in element [appender] near line 43\nERROR in ch.qos.logback.classic.AsyncAppender[LOGSTASH] - No attached appenders found.\n</code></pre>\n<p>I tried many ways to include and exclude slf4j/log4j dependencies but the issue persists.</p>\n"},{"tags":["java","spotbugs"],"answers":[{"comments":[{"owner":{"account_id":29359839,"reputation":13,"user_id":22494808,"display_name":"Ilia"},"score":0,"creation_date":1693906787,"post_id":77038893,"comment_id":135817924,"body_markdown":"In first example SpotBugs is right because a value from getter can be null.\nYou right about 2 &amp; 3 examples. Thanks a lot. By the way here&#39;s answer from SpotBugs contributor if someone needs it:\n&quot;@Nullable Integer getPort() means that it is nullable, here SpotBugs is not smart enough to know that it can&#39;t be null, because it is not guaranteed that calling getPort() twice will yield the same return.\nMaybe some class is extending it, maybe there&#39;s another thread somewhere modifying the value, etc.&quot;.\nhttps://github.com/spotbugs/spotbugs/issues/2548","body":"In first example SpotBugs is right because a value from getter can be null. You right about 2 &amp; 3 examples. Thanks a lot. By the way here&#39;s answer from SpotBugs contributor if someone needs it: &quot;@Nullable Integer getPort() means that it is nullable, here SpotBugs is not smart enough to know that it can&#39;t be null, because it is not guaranteed that calling getPort() twice will yield the same return. Maybe some class is extending it, maybe there&#39;s another thread somewhere modifying the value, etc.&quot;. <a href=\"https://github.com/spotbugs/spotbugs/issues/2548\" rel=\"nofollow noreferrer\">github.com/spotbugs/spotbugs/issues/2548</a>"}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693840094,"creation_date":1693840094,"answer_id":77038893,"question_id":77038859,"body_markdown":"Example 1: `connectAndBind` probably takes an `int`, not an `Integer`, so Spotbugs is correct.\r\n\r\nExample 2 &amp; 3: Spotbugs doesn&#39;t know that both `gateway.getPort()` invocations return the same value. Fix it by using `Integer port = gateway.getPort();`, a null check, then just `port` everywhere else, and the warning should go away. That&#39;s basically what you&#39;ve done in your last example.\r\n\r\n","title":"SpotBugs NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE triggers in strange cases","body":"<p>Example 1: <code>connectAndBind</code> probably takes an <code>int</code>, not an <code>Integer</code>, so Spotbugs is correct.</p>\n<p>Example 2 &amp; 3: Spotbugs doesn't know that both <code>gateway.getPort()</code> invocations return the same value. Fix it by using <code>Integer port = gateway.getPort();</code>, a null check, then just <code>port</code> everywhere else, and the warning should go away. That's basically what you've done in your last example.</p>\n"}],"owner":{"account_id":29359839,"reputation":13,"user_id":22494808,"display_name":"Ilia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77038893,"answer_count":1,"score":0,"last_activity_date":1693840094,"creation_date":1693839862,"question_id":77038859,"body_markdown":"Have a problem with SpotBugs &quot;Possible null pointer dereference due to return value of called method (NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE)&quot;.&lt;br&gt;\r\nWith Lombok getter:&lt;br&gt;\r\n```\r\n@Generated\r\npublic @Nullable Integer getPort() {\r\n    return this.port;\r\n}\r\n```\r\nWhen i try to get value from object using getPort() and produce it to another method where it can&#39;t be null spotbugs shows an error &quot;NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE&quot; in strange cases.&lt;br&gt;\r\n\r\nExample 1.&lt;br&gt;\r\nOk here a value possible null.\r\n```\r\nsession.connectAndBind(gateway.getHost(), gateway.getPort()); // &lt;--- Error\r\n```\r\nExample 2.&lt;br&gt;\r\nGet same error on unboxing.\r\n```\r\nint port = gateway.getPort() != null ? gateway.getPort() : 0; // &lt;--- Error\r\nsession.connectAndBind(gateway.getHost(), port);\r\n```\r\nExample 3.&lt;br&gt;\r\nStill get error on unboxing.\r\n```\r\nint port = 0;\r\nif (gateway.getPort() != null) { // &lt;--- Error\r\n    port = gateway.getPort();\r\n}\r\nsession.connectAndBind(gateway.getHost(), port);\r\n```\r\nSo why i getting the error?&lt;br&gt;\r\nFind one case when veryfi pass with no errors. Code below.\r\n```\r\n// Pass\r\nInteger port1 = gateway.getPort();\r\nint port = port1 != null ? port1 : 0;\r\nsession.connectAndBind(gateway.getHost(), port);\r\n```\r\n","title":"SpotBugs NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE triggers in strange cases","body":"<p>Have a problem with SpotBugs &quot;Possible null pointer dereference due to return value of called method (NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE)&quot;.<br>\nWith Lombok getter:<br></p>\n<pre><code>@Generated\npublic @Nullable Integer getPort() {\n    return this.port;\n}\n</code></pre>\n<p>When i try to get value from object using getPort() and produce it to another method where it can't be null spotbugs shows an error &quot;NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE&quot; in strange cases.<br></p>\n<p>Example 1.<br>\nOk here a value possible null.</p>\n<pre><code>session.connectAndBind(gateway.getHost(), gateway.getPort()); // &lt;--- Error\n</code></pre>\n<p>Example 2.<br>\nGet same error on unboxing.</p>\n<pre><code>int port = gateway.getPort() != null ? gateway.getPort() : 0; // &lt;--- Error\nsession.connectAndBind(gateway.getHost(), port);\n</code></pre>\n<p>Example 3.<br>\nStill get error on unboxing.</p>\n<pre><code>int port = 0;\nif (gateway.getPort() != null) { // &lt;--- Error\n    port = gateway.getPort();\n}\nsession.connectAndBind(gateway.getHost(), port);\n</code></pre>\n<p>So why i getting the error?<br>\nFind one case when veryfi pass with no errors. Code below.</p>\n<pre><code>// Pass\nInteger port1 = gateway.getPort();\nint port = port1 != null ? port1 : 0;\nsession.connectAndBind(gateway.getHost(), port);\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9930,"page":204,"page_size":100}
