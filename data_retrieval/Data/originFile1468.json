{"items":[{"tags":["java","gurobi","absolute-value","objective-function"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1648817171,"post_id":71706938,"comment_id":126726726,"body_markdown":"Edit your question and show the code you have tried to write.  Without seeing that, we don’t know what your knowledge level is, so any answer would require starting with the basics of Java itself, which would make it a very long answer.","body":"Edit your question and show the code you have tried to write.  Without seeing that, we don’t know what your knowledge level is, so any answer would require starting with the basics of Java itself, which would make it a very long answer."}],"answers":[{"tags":[],"owner":{"account_id":342225,"reputation":6377,"user_id":673271,"accept_rate":91,"display_name":"mattmilten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648819752,"creation_date":1648819752,"answer_id":71707696,"question_id":71706938,"body_markdown":"You need to add an auxiliary variable that takes the value of the objective term. Then, you can define a new general constraint for the absolute value of this auxiliary variable: [GRBModel.addGenConstrAbs](https://www.gurobi.com/documentation/9.5/refman/java_model_agc_abs.html#javamethod:GRBModel.addGenConstrAbs)\r\n\r\nThe resultant of this constraint (which is yet another auxiliary variable) can then be put into the objective function to be minimized.\r\n\r\n```\r\nGRBVar objvar = model.addVar(-GRB.INFINITY, GRB.INFINITY, 0.0, GRB.CONTINUOUS);\r\nGRBVar absobj = model.addVar(0.0, GRB.INFINITY, 1.0, GRB.CONTINUOUS);\r\nGRBLinExpr obj = new GRBLinExpr();\r\n\r\nfor(int y=1; y&lt;=4; y++) {\r\n    for(int i=0; i&lt;10; i++) {\r\n        obj.addTerm(pij[i][y], xij[i][y]);\r\n    }\r\n}\r\nfor(int k=5; k&lt;=8; k++) {\r\n    for(int i=0; i&lt;10; i++) {\r\n        obj.addTerm(-pij[i][k], xij[i][k]);\r\n    }\r\n}\r\n\r\nmodel.addConstr(objvar, GRB.EQUAL, obj, &quot;obj constraint&quot;);\r\nmodel.addGenConstrAbs(absobj, objvar, &quot;abs obj&quot;);\r\n```\r\n\r\nHere, you don&#39;t even need to set the objective anymore, because the only objective coefficient is already defined when adding variable `absobj` (the third argument).","title":"How do I insert the objective function with absolute value in Gurobi using Java language?","body":"<p>You need to add an auxiliary variable that takes the value of the objective term. Then, you can define a new general constraint for the absolute value of this auxiliary variable: <a href=\"https://www.gurobi.com/documentation/9.5/refman/java_model_agc_abs.html#javamethod:GRBModel.addGenConstrAbs\" rel=\"nofollow noreferrer\">GRBModel.addGenConstrAbs</a></p>\n<p>The resultant of this constraint (which is yet another auxiliary variable) can then be put into the objective function to be minimized.</p>\n<pre><code>GRBVar objvar = model.addVar(-GRB.INFINITY, GRB.INFINITY, 0.0, GRB.CONTINUOUS);\nGRBVar absobj = model.addVar(0.0, GRB.INFINITY, 1.0, GRB.CONTINUOUS);\nGRBLinExpr obj = new GRBLinExpr();\n\nfor(int y=1; y&lt;=4; y++) {\n    for(int i=0; i&lt;10; i++) {\n        obj.addTerm(pij[i][y], xij[i][y]);\n    }\n}\nfor(int k=5; k&lt;=8; k++) {\n    for(int i=0; i&lt;10; i++) {\n        obj.addTerm(-pij[i][k], xij[i][k]);\n    }\n}\n\nmodel.addConstr(objvar, GRB.EQUAL, obj, &quot;obj constraint&quot;);\nmodel.addGenConstrAbs(absobj, objvar, &quot;abs obj&quot;);\n</code></pre>\n<p>Here, you don't even need to set the objective anymore, because the only objective coefficient is already defined when adding variable <code>absobj</code> (the third argument).</p>\n"}],"owner":{"account_id":24779378,"reputation":21,"user_id":18662868,"display_name":"Paolo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648819752,"creation_date":1648816258,"question_id":71706938,"body_markdown":"My objective function is like min|XyPiy-XkPik| i=1...10, j=1...4, k=5...8\r\n\r\nI tried to write the code like this, but I don&#39;t know what to do with the module\r\n\r\n    GRBLinExpr obj = new GRBLinExpr();\r\n    for(int y=1; y&lt;=4; y++) {\r\n\t\t\tfor(int i=0; i&lt;10; i++) {\r\n\t\t\t\tobj.addTerm(pij[i][y], xij[i][y]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(int k=5; k&lt;=8; k++) {\r\n\t\t\tfor(int i=0; i&lt;10; i++) {\r\n\t\t\t\tobj.addTerm(-pij[i][k], xij[i][k]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tmodel.setObjective(obj);\r\n\t\tmodel.set(GRB.IntAttr.ModelSense, GRB.MINIMIZE);\r\n\r\nIt&#39;s one of my first exercises and I don&#39;t know how to do it, I hope someone can help me","title":"How do I insert the objective function with absolute value in Gurobi using Java language?","body":"<p>My objective function is like min|XyPiy-XkPik| i=1...10, j=1...4, k=5...8</p>\n<p>I tried to write the code like this, but I don't know what to do with the module</p>\n<pre><code>GRBLinExpr obj = new GRBLinExpr();\nfor(int y=1; y&lt;=4; y++) {\n        for(int i=0; i&lt;10; i++) {\n            obj.addTerm(pij[i][y], xij[i][y]);\n        }\n    }\n    for(int k=5; k&lt;=8; k++) {\n        for(int i=0; i&lt;10; i++) {\n            obj.addTerm(-pij[i][k], xij[i][k]);\n        }\n    }\n    model.setObjective(obj);\n    model.set(GRB.IntAttr.ModelSense, GRB.MINIMIZE);\n</code></pre>\n<p>It's one of my first exercises and I don't know how to do it, I hope someone can help me</p>\n"},{"tags":["java","apache-kafka","apache-flink","flink-sql"],"owner":{"account_id":24776040,"reputation":21,"user_id":18659626,"display_name":"SOBER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1648819595,"creation_date":1648809253,"question_id":71705545,"body_markdown":"\r\n    package FlinkAPI;\r\n    \r\n    \r\n    import org.apache.flink.api.common.functions.FilterFunction;\r\n    import org.apache.flink.api.common.functions.MapFunction;\r\n    import org.apache.flink.api.java.tuple.Tuple2;\r\n    import org.apache.flink.streaming.api.datastream.DataStream;\r\n    import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\n    import org.apache.flink.table.api.EnvironmentSettings;\r\n    import org.apache.flink.table.api.Table;\r\n    import org.apache.flink.table.api.bridge.java.StreamTableEnvironment;\r\n    import org.apache.flink.types.Row;\r\n    \r\n    \r\n    public class Ecs2KafkaSource {\r\n        public static void main(String[] args) throws Exception {\r\n    \r\n    \r\n             //build ExecutionEnvironment\r\n            StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n    \r\n    \r\n            EnvironmentSettings bsSettings = EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build();\r\n    \r\n            //build table API ExecutionEnvironment\r\n            StreamTableEnvironment tenv = StreamTableEnvironment.create(env, bsSettings);\r\n    \r\n    \r\n            String sourceDDL =\r\n                    &quot;create table dws_base_wms_inv_data_dd (         \\n &quot; +\r\n                            &quot;  id STRING,                           \\n &quot; +\r\n                            &quot;  virtual_warehouse_id STRING,         \\n &quot; +\r\n                            &quot;  commodity_code STRING,               \\n &quot; +\r\n                            &quot;  product_key STRING,                  \\n &quot; +\r\n                            &quot;  size_code STRING,                    \\n &quot; +\r\n                            &quot;  inventory_quantity INT,              \\n &quot; +\r\n                            &quot;  stored_number INT,                    \\n &quot; +\r\n                            &quot;  sal_inv INT,                          \\n &quot; +\r\n                            &quot;  etl_time timestamp(3),                        \\n &quot; +\r\n                            &quot;  PRIMARY KEY (id) NOT ENFORCED                 \\n &quot; +\r\n                            &quot;) with (                                        \\n &quot; +\r\n                            &quot; &#39;connector&#39; = &#39;upsert-kafka&#39;,                  \\n &quot; +\r\n                            &quot; &#39;properties.bootstrap.servers&#39; = &#39;10.251.xx.xx:9092,10.251.xx.xx:9092,10.251.xx.xx:9092&#39;, \\n &quot; +\r\n                            &quot; &#39;topic&#39; = &#39;bdcr_dws.dws_base_wms_inv_data_dd&#39;, \\n &quot; +\r\n                            &quot; &#39;key.json.ignore-parse-errors&#39; = &#39;true&#39;, \\n &quot; +\r\n                            &quot; &#39;value.json.fail-on-missing-field&#39; = &#39;false&#39;, \\n &quot; +\r\n                            &quot; &#39;value.json.ignore-parse-errors&#39; = &#39;true&#39;, \\n &quot; +\r\n                            &quot; &#39;key.format&#39; = &#39;json&#39;, \\n &quot; +\r\n                            &quot; &#39;value.format&#39; = &#39;json&#39; \\n &quot; +\r\n                            &quot;) &quot;;\r\n    \r\n            System.out.println(sourceDDL);\r\n    \r\n            tenv.executeSql(&quot;sourceDDL&quot;);\r\n    \r\n            Table table = tenv.sqlQuery(&quot;select * from dws_base_wms_inv_data_dd &quot;);\r\n    \r\n    \r\n            DataStream&lt;Tuple2&lt;Boolean, Row&gt;&gt; dataStream = tenv.toRetractStream(table, Row.class);\r\n            dataStream.map(new MapFunction&lt;Tuple2&lt;Boolean, Row&gt;, Row&gt;() {\r\n                @Override\r\n                public Row map(Tuple2&lt;Boolean, Row&gt; booleanRowTuple2) throws Exception {\r\n                    if (booleanRowTuple2.f0) {\r\n                        return booleanRowTuple2.f1;\r\n                    } else {\r\n    \r\n                    }\r\n                    return null;\r\n                }\r\n            }).filter(new FilterFunction&lt;Row&gt;() {\r\n                @Override\r\n                public boolean filter(Row row) throws Exception {\r\n                    return row != null;\r\n                }\r\n            }).print(&quot;dws_base_wms_inv_data_dd &quot;).setParallelism(1);\r\n    \r\n    \t\t\r\n    \t\t\r\n            try {\r\n                env.execute(&quot;Ecs2KafkaSource&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    } \r\n\r\nThe following error was reported：\r\n    \r\n   \r\n```\r\nException in thread &quot;main&quot; org.apache.flink.table.api.SqlParserException: SQL parse failed. Non-query expression encountered in illegal context\r\n\tat org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:56)\r\n\tat org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:74)\r\n\tat org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:660)\r\n\tat FlinkAPI.Ecs2KafkaSource.main(Ecs2KafkaSource.java:77)\r\nCaused by: org.apache.calcite.sql.parser.SqlParseException: Non-query expression encountered in illegal context\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.convertException(FlinkSqlParserImpl.java:442)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.normalizeException(FlinkSqlParserImpl.java:205)\r\n\tat org.apache.calcite.sql.parser.SqlParser.handleException(SqlParser.java:140)\r\n\tat org.apache.calcite.sql.parser.SqlParser.parseQuery(SqlParser.java:155)\r\n\tat org.apache.calcite.sql.parser.SqlParser.parseStmt(SqlParser.java:180)\r\n\tat org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:54)\r\n\t... 3 more\r\nCaused by: org.apache.calcite.runtime.CalciteException: Non-query expression encountered in illegal context\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.apache.calcite.runtime.Resources$ExInstWithCause.ex(Resources.java:467)\r\n\tat org.apache.calcite.runtime.Resources$ExInst.ex(Resources.java:560)\r\n\tat org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:883)\r\n\tat org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:868)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.checkNonQueryExpression(FlinkSqlParserImpl.java:365)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression3(FlinkSqlParserImpl.java:19011)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression2b(FlinkSqlParserImpl.java:18680)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression2(FlinkSqlParserImpl.java:18721)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression(FlinkSqlParserImpl.java:18652)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.LeafQueryOrExpr(FlinkSqlParserImpl.java:18629)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.QueryOrExpr(FlinkSqlParserImpl.java:18089)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.OrderedQueryOrExpr(FlinkSqlParserImpl.java:558)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.SqlStmt(FlinkSqlParserImpl.java:3843)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.SqlStmtEof(FlinkSqlParserImpl.java:3882)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.parseSqlStmtEof(FlinkSqlParserImpl.java:253)\r\n\tat org.apache.calcite.sql.parser.SqlParser.parseQuery(SqlParser.java:153)\r\n\t... 5 more\r\n\r\nProcess finished with exit code 1\r\n```\r\n","title":"Use FlinkSQL to read Kafka&#39;s data to the console","body":"<pre><code>package FlinkAPI;\n\n\nimport org.apache.flink.api.common.functions.FilterFunction;\nimport org.apache.flink.api.common.functions.MapFunction;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.table.api.EnvironmentSettings;\nimport org.apache.flink.table.api.Table;\nimport org.apache.flink.table.api.bridge.java.StreamTableEnvironment;\nimport org.apache.flink.types.Row;\n\n\npublic class Ecs2KafkaSource {\n    public static void main(String[] args) throws Exception {\n\n\n         //build ExecutionEnvironment\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n\n        EnvironmentSettings bsSettings = EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build();\n\n        //build table API ExecutionEnvironment\n        StreamTableEnvironment tenv = StreamTableEnvironment.create(env, bsSettings);\n\n\n        String sourceDDL =\n                &quot;create table dws_base_wms_inv_data_dd (         \\n &quot; +\n                        &quot;  id STRING,                           \\n &quot; +\n                        &quot;  virtual_warehouse_id STRING,         \\n &quot; +\n                        &quot;  commodity_code STRING,               \\n &quot; +\n                        &quot;  product_key STRING,                  \\n &quot; +\n                        &quot;  size_code STRING,                    \\n &quot; +\n                        &quot;  inventory_quantity INT,              \\n &quot; +\n                        &quot;  stored_number INT,                    \\n &quot; +\n                        &quot;  sal_inv INT,                          \\n &quot; +\n                        &quot;  etl_time timestamp(3),                        \\n &quot; +\n                        &quot;  PRIMARY KEY (id) NOT ENFORCED                 \\n &quot; +\n                        &quot;) with (                                        \\n &quot; +\n                        &quot; 'connector' = 'upsert-kafka',                  \\n &quot; +\n                        &quot; 'properties.bootstrap.servers' = '10.251.xx.xx:9092,10.251.xx.xx:9092,10.251.xx.xx:9092', \\n &quot; +\n                        &quot; 'topic' = 'bdcr_dws.dws_base_wms_inv_data_dd', \\n &quot; +\n                        &quot; 'key.json.ignore-parse-errors' = 'true', \\n &quot; +\n                        &quot; 'value.json.fail-on-missing-field' = 'false', \\n &quot; +\n                        &quot; 'value.json.ignore-parse-errors' = 'true', \\n &quot; +\n                        &quot; 'key.format' = 'json', \\n &quot; +\n                        &quot; 'value.format' = 'json' \\n &quot; +\n                        &quot;) &quot;;\n\n        System.out.println(sourceDDL);\n\n        tenv.executeSql(&quot;sourceDDL&quot;);\n\n        Table table = tenv.sqlQuery(&quot;select * from dws_base_wms_inv_data_dd &quot;);\n\n\n        DataStream&lt;Tuple2&lt;Boolean, Row&gt;&gt; dataStream = tenv.toRetractStream(table, Row.class);\n        dataStream.map(new MapFunction&lt;Tuple2&lt;Boolean, Row&gt;, Row&gt;() {\n            @Override\n            public Row map(Tuple2&lt;Boolean, Row&gt; booleanRowTuple2) throws Exception {\n                if (booleanRowTuple2.f0) {\n                    return booleanRowTuple2.f1;\n                } else {\n\n                }\n                return null;\n            }\n        }).filter(new FilterFunction&lt;Row&gt;() {\n            @Override\n            public boolean filter(Row row) throws Exception {\n                return row != null;\n            }\n        }).print(&quot;dws_base_wms_inv_data_dd &quot;).setParallelism(1);\n\n        \n        \n        try {\n            env.execute(&quot;Ecs2KafkaSource&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n\n\n\n    }\n} \n</code></pre>\n<p>The following error was reported：</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.flink.table.api.SqlParserException: SQL parse failed. Non-query expression encountered in illegal context\n    at org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:56)\n    at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:74)\n    at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:660)\n    at FlinkAPI.Ecs2KafkaSource.main(Ecs2KafkaSource.java:77)\nCaused by: org.apache.calcite.sql.parser.SqlParseException: Non-query expression encountered in illegal context\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.convertException(FlinkSqlParserImpl.java:442)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.normalizeException(FlinkSqlParserImpl.java:205)\n    at org.apache.calcite.sql.parser.SqlParser.handleException(SqlParser.java:140)\n    at org.apache.calcite.sql.parser.SqlParser.parseQuery(SqlParser.java:155)\n    at org.apache.calcite.sql.parser.SqlParser.parseStmt(SqlParser.java:180)\n    at org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:54)\n    ... 3 more\nCaused by: org.apache.calcite.runtime.CalciteException: Non-query expression encountered in illegal context\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.apache.calcite.runtime.Resources$ExInstWithCause.ex(Resources.java:467)\n    at org.apache.calcite.runtime.Resources$ExInst.ex(Resources.java:560)\n    at org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:883)\n    at org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:868)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.checkNonQueryExpression(FlinkSqlParserImpl.java:365)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression3(FlinkSqlParserImpl.java:19011)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression2b(FlinkSqlParserImpl.java:18680)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression2(FlinkSqlParserImpl.java:18721)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression(FlinkSqlParserImpl.java:18652)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.LeafQueryOrExpr(FlinkSqlParserImpl.java:18629)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.QueryOrExpr(FlinkSqlParserImpl.java:18089)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.OrderedQueryOrExpr(FlinkSqlParserImpl.java:558)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.SqlStmt(FlinkSqlParserImpl.java:3843)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.SqlStmtEof(FlinkSqlParserImpl.java:3882)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.parseSqlStmtEof(FlinkSqlParserImpl.java:253)\n    at org.apache.calcite.sql.parser.SqlParser.parseQuery(SqlParser.java:153)\n    ... 5 more\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","video","youtube","youtube-api","google-oauth"],"comments":[{"owner":{"account_id":3187884,"reputation":3146,"user_id":2693006,"accept_rate":43,"display_name":"Ceiling Gecko"},"score":0,"creation_date":1422030569,"post_id":28114248,"comment_id":44602692,"body_markdown":"This is a limitation when using the Google API, Google wants to ensure user safety by performing auth related things on **their** side. Used to be you could do things differently but as far as I know you **have** to do it on their side now.","body":"This is a limitation when using the Google API, Google wants to ensure user safety by performing auth related things on <b>their</b> side. Used to be you could do things differently but as far as I know you <b>have</b> to do it on their side now."}],"answers":[{"tags":[],"owner":{"account_id":3998647,"reputation":307,"user_id":3295357,"accept_rate":50,"display_name":"mindw0rk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1425410530,"creation_date":1425410530,"answer_id":28840178,"question_id":28114248,"body_markdown":"You can copy class \r\n\r\n&gt; AuthorizationCodeInstalledApp\r\n \r\nand override the method \r\n&gt; browse(String url)\r\n\r\nYou need to realize, go to a url programmatically, like this(I use htmlunit):\r\n\r\n   \r\n\r\n    public void browse(String url) throws IOException {\r\n        WebClient webClient =  initWebClient();        \r\n        HtmlPage htmlPage = webClient.getPage(url);\r\n\r\n        //first you need login with your email and password \r\n        final HtmlTextInput login = (HtmlTextInput) htmlPage.getByXPath(&quot;//input[@type=&#39;email&#39;]&quot;).get(0);\r\n        final HtmlPasswordInput pass = (HtmlPasswordInput) htmlPage.getByXPath(&quot;//input[@type=&#39;password&#39;]&quot;).get(0);\r\n        HtmlSubmitInput button = (HtmlSubmitInput) htmlPage.getByXPath(&quot;//input[@type=&#39;submit&#39;]&quot;).get(0);\r\n        //set input login and passwd\r\n        login.setText(this.login);\r\n        pass.setText(this.passwd);\r\n        //press submit button\r\n        button.click();\r\n\r\n        //next need select account\r\n        htmlPage = webClient.getPage(url);\r\n        DomNodeList&lt;HtmlElement&gt; list = htmlPage.getElementById(&quot;account-list&quot;).getElementsByTagName(&quot;li&quot;);\r\n        String account = list.get(0).getElementsByTagName(&quot;a&quot;).get(0).getAttribute(&quot;href&quot;);\r\n        System.out.println(account);\r\n        htmlPage = webClient.getPage(account);\r\n        \r\n        //and click submit button for approve \r\n        System.out.println(&quot;Wait 10sec.&quot;);\r\n        webClient.waitForBackgroundJavaScript(10000);\r\n        HtmlButton submitInput = (HtmlButton) htmlPage.getElementById(&quot;submit_approve_access&quot;);\r\n        submitInput.click();\r\n    }\r\n\r\nthat&#39;s fine works for me.","title":"upload video to youtube without signing-in in the browser","body":"<p>You can copy class </p>\n\n<blockquote>\n  <p>AuthorizationCodeInstalledApp</p>\n</blockquote>\n\n<p>and override the method </p>\n\n<blockquote>\n  <p>browse(String url)</p>\n</blockquote>\n\n<p>You need to realize, go to a url programmatically, like this(I use htmlunit):</p>\n\n<pre><code>public void browse(String url) throws IOException {\n    WebClient webClient =  initWebClient();        \n    HtmlPage htmlPage = webClient.getPage(url);\n\n    //first you need login with your email and password \n    final HtmlTextInput login = (HtmlTextInput) htmlPage.getByXPath(\"//input[@type='email']\").get(0);\n    final HtmlPasswordInput pass = (HtmlPasswordInput) htmlPage.getByXPath(\"//input[@type='password']\").get(0);\n    HtmlSubmitInput button = (HtmlSubmitInput) htmlPage.getByXPath(\"//input[@type='submit']\").get(0);\n    //set input login and passwd\n    login.setText(this.login);\n    pass.setText(this.passwd);\n    //press submit button\n    button.click();\n\n    //next need select account\n    htmlPage = webClient.getPage(url);\n    DomNodeList&lt;HtmlElement&gt; list = htmlPage.getElementById(\"account-list\").getElementsByTagName(\"li\");\n    String account = list.get(0).getElementsByTagName(\"a\").get(0).getAttribute(\"href\");\n    System.out.println(account);\n    htmlPage = webClient.getPage(account);\n\n    //and click submit button for approve \n    System.out.println(\"Wait 10sec.\");\n    webClient.waitForBackgroundJavaScript(10000);\n    HtmlButton submitInput = (HtmlButton) htmlPage.getElementById(\"submit_approve_access\");\n    submitInput.click();\n}\n</code></pre>\n\n<p>that's fine works for me.</p>\n"}],"owner":{"account_id":5615416,"reputation":51,"user_id":4446930,"display_name":"nat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2195,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1648819157,"creation_date":1422030213,"question_id":28114248,"body_markdown":"i built java application on desktop that allows sharing video to youtube to specific google acount.\r\nI used the suggested code from example for uploading a video from:\r\n[https://developers.google.com/youtube/v3/code_samples/java#upload_a_video][1]\r\n\r\n\r\n  [1]: https://developers.google.com/youtube/v3/code_samples/java#upload_a_video\r\n\r\n\r\nwith the json token of the user.\r\nBut when i&#39;m trying to upload it opens a web page of google and askes me to log-in and approve uploading videos with my user.\r\n\r\nIs there a way to skip this level and do it from the java code?\r\nI don&#39;t want to make the user log-in in a web page to his google acount and only use the GUI i made with java.\r\n","title":"upload video to youtube without signing-in in the browser","body":"<p>i built java application on desktop that allows sharing video to youtube to specific google acount.\nI used the suggested code from example for uploading a video from:\n<a href=\"https://developers.google.com/youtube/v3/code_samples/java#upload_a_video\" rel=\"noreferrer\">https://developers.google.com/youtube/v3/code_samples/java#upload_a_video</a></p>\n\n<p>with the json token of the user.\nBut when i'm trying to upload it opens a web page of google and askes me to log-in and approve uploading videos with my user.</p>\n\n<p>Is there a way to skip this level and do it from the java code?\nI don't want to make the user log-in in a web page to his google acount and only use the GUI i made with java.</p>\n"},{"tags":["java","spring","jpa","crud"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1648820006,"post_id":71707416,"comment_id":126727903,"body_markdown":"Does this answer your question? [Order By Date ASC with Spring Data](https://stackoverflow.com/questions/19733464/order-by-date-asc-with-spring-data)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19733464/order-by-date-asc-with-spring-data\">Order By Date ASC with Spring Data</a>"}],"owner":{"account_id":15567040,"reputation":71,"user_id":11230458,"display_name":"tooFastForSatan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648818916,"creation_date":1648818492,"question_id":71707416,"body_markdown":"I have an Entity(lets consider Workplace ) with an type field and  Embedded field\r\neg.\r\n```\r\n@Embedded\r\nprivate WorkplaceAddress workplaceAddress;\r\n```\r\nand it contains fields\r\n```\r\n@Embeddable\r\nclass WorkplaceAddress {\r\n\r\nprivate String street;\r\n\r\nprivate String city;\r\n}\r\n```\r\n//etc\r\n\r\nAnd now I would like make a query in the methodSignature:\r\nI tried:\r\n```\r\nList&lt;Workplace&gt; findAllOrderByWorkplaceAddressStreetAscWorkplaceAddressCityAsc \r\nList&lt;Workplace&gt; findAllOrderByWorkplaceAddress_StreetAscWorkplaceAddress_CityAsc //considered as field not Ascending\r\nList&lt;Workplace&gt; findAllOrderByWorkplaceAddress_Street_AscWorkplaceAddress_City_Asc\r\nList&lt;Workplace&gt; findAllByTypeOrderByWorkplaceAddress_StreetAscWorkplaceAddress_CityAsc \r\n```\r\n\r\nIs this feature available yet?\r\n","title":"@Embedded in OrderBy query in method signature","body":"<p>I have an Entity(lets consider Workplace ) with an type field and  Embedded field\neg.</p>\n<pre><code>@Embedded\nprivate WorkplaceAddress workplaceAddress;\n</code></pre>\n<p>and it contains fields</p>\n<pre><code>@Embeddable\nclass WorkplaceAddress {\n\nprivate String street;\n\nprivate String city;\n}\n</code></pre>\n<p>//etc</p>\n<p>And now I would like make a query in the methodSignature:\nI tried:</p>\n<pre><code>List&lt;Workplace&gt; findAllOrderByWorkplaceAddressStreetAscWorkplaceAddressCityAsc \nList&lt;Workplace&gt; findAllOrderByWorkplaceAddress_StreetAscWorkplaceAddress_CityAsc //considered as field not Ascending\nList&lt;Workplace&gt; findAllOrderByWorkplaceAddress_Street_AscWorkplaceAddress_City_Asc\nList&lt;Workplace&gt; findAllByTypeOrderByWorkplaceAddress_StreetAscWorkplaceAddress_CityAsc \n</code></pre>\n<p>Is this feature available yet?</p>\n"},{"tags":["java","java-8","switch-statement"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":1,"creation_date":1648804031,"post_id":71704108,"comment_id":126722076,"body_markdown":"Your question is hard to understand, can you please rephrase the question also provide a better code example? https://stackoverflow.com/help/minimal-reproducible-example","body":"Your question is hard to understand, can you please rephrase the question also provide a better code example? <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":4384860,"reputation":1333,"user_id":3575360,"accept_rate":64,"display_name":"Ranjitsinh"},"score":0,"creation_date":1648804049,"post_id":71704108,"comment_id":126722082,"body_markdown":"I think you can use java enums to compare case labels and also you can get all enum values dynamially","body":"I think you can use java enums to compare case labels and also you can get all enum values dynamially"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1648805193,"post_id":71704108,"comment_id":126722483,"body_markdown":"It&#39;s not clear what your `switch` statement is actually doing or should do, because you have left it out. Could you add more details?","body":"It&#39;s not clear what your <code>switch</code> statement is actually doing or should do, because you have left it out. Could you add more details?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1648805603,"post_id":71704108,"comment_id":126722641,"body_markdown":"This is totally an [XY problem](https://xyproblem.info). Looks like you should use a `Map` to store these strings, plus perhaps also polymorphism, instead of trying to get the case labels of a switch statement.","body":"This is totally an <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">XY problem</a>. Looks like you should use a <code>Map</code> to store these strings, plus perhaps also polymorphism, instead of trying to get the case labels of a switch statement."},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1648806831,"post_id":71704108,"comment_id":126723057,"body_markdown":"I am really sorry. I really can&#39;t be think of a better way to put if :(","body":"I am really sorry. I really can&#39;t be think of a better way to put if :("},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648810712,"post_id":71704108,"comment_id":126724377,"body_markdown":"In addition to Sweeper’s alternative, you could use an `enum`. Then, you can’t add a `case` to the `switch` without adding the constant to the `enum` type, which will be reflected by the `enum` types `values()` return value.","body":"In addition to Sweeper’s alternative, you could use an <code>enum</code>. Then, you can’t add a <code>case</code> to the <code>switch</code> without adding the constant to the <code>enum</code> type, which will be reflected by the <code>enum</code> types <code>values()</code> return value."}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648818340,"creation_date":1648804536,"answer_id":71704566,"question_id":71704108,"body_markdown":"**From the Java Language specification** :  `14.11. The switch Statement` &lt;a href=&quot;https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#:~:text=of%20throw%20statements.-,14.11.%C2%A0The%20switch%20Statement,-The%20switch%20statement&quot;&gt;click the link &lt;/a&gt; , you can see that cases of the Switch can be a **ConstantExpression** or an **EnumConstantName** and following the definition of the ConstantExpression here &lt;a href=&quot;https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#:~:text=A%20compile%2Dtime%20constant%20expression%20is%20an%20expression%20denoting%20a%20value%20of%20primitive%20type%20or%20a%20String%20that%20does%20not%20complete%20abruptly%20and%20is%20composed%20using%20only%20the%20following%3A&quot;&gt;click the link &lt;/a&gt;.\r\n\r\nSo the values in each case statement must be compile-time constant values of the same data type as the switch value (**literals**, **enum constants**, or **final constant variables** : marked with the final modifier and initialized).\r\n\r\n-------------\r\n**You are looking for the answer of the question : can the number of cases be known At Runtime** ? **No it cannot because the cases must be a compile time constants .**\r\n\r\n    public class Swith {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;String&gt; lst = new ArrayList&lt;&gt;();\r\n      \t\tswitch (lst.get(0)) {\r\n    \t\tcase lst.get(0): //Compilation error : case expressions must be constant expressions\r\n     \t\t\tbreak;\r\n     \t\tdefault:\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t}\r\n    }","title":"Is there any way to retrieve the Case Labels of a Switch Statement as a Collection in Java 8?","body":"<p><strong>From the Java Language specification</strong> :  <code>14.11. The switch Statement</code> <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#:~:text=of%20throw%20statements.-,14.11.%C2%A0The%20switch%20Statement,-The%20switch%20statement\" rel=\"nofollow noreferrer\">click the link </a> , you can see that cases of the Switch can be a <strong>ConstantExpression</strong> or an <strong>EnumConstantName</strong> and following the definition of the ConstantExpression here <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#:~:text=A%20compile%2Dtime%20constant%20expression%20is%20an%20expression%20denoting%20a%20value%20of%20primitive%20type%20or%20a%20String%20that%20does%20not%20complete%20abruptly%20and%20is%20composed%20using%20only%20the%20following%3A\" rel=\"nofollow noreferrer\">click the link </a>.</p>\n<p>So the values in each case statement must be compile-time constant values of the same data type as the switch value (<strong>literals</strong>, <strong>enum constants</strong>, or <strong>final constant variables</strong> : marked with the final modifier and initialized).</p>\n<hr />\n<p><strong>You are looking for the answer of the question : can the number of cases be known At Runtime</strong> ? <strong>No it cannot because the cases must be a compile time constants .</strong></p>\n<pre><code>public class Swith {\n    public static void main(String[] args) {\n        List&lt;String&gt; lst = new ArrayList&lt;&gt;();\n        switch (lst.get(0)) {\n        case lst.get(0): //Compilation error : case expressions must be constant expressions\n            break;\n        default:\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648806600,"creation_date":1648806030,"answer_id":71704883,"question_id":71704108,"body_markdown":"It&#39;s not possible to list the `case` labels from a `switch`.\r\n\r\nHowever, you could maintain a `Map` which maps function names to their corresponding actions-to-be-performed:\r\n\r\n```java\r\nMap&lt;String, Runnable&gt; functions = Map.of(\r\n    &quot;func1&quot;, () -&gt; doSomething(),\r\n    &quot;func2&quot;, () -&gt; doSomethingElse(),\r\n    ...\r\n);\r\n```\r\n\r\nTo get the function names, you could just use `keySet()` to get all function names (or use `containsKey` to check whether a function name exists). And instead of the switch statement, you could just use\r\n\r\n```java\r\nfunctions.get(functionName).run();\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;Note that I used a `Runnable` as map value, which allows to perform some code, without input. That is because you have not shown what actions your switch cases are actually doing, or what *&quot;mutate the parameters and/or their position in the call&quot;* actually looks like. You may want to replace `Runnable` with something more appropriate.&lt;/sup&gt;","title":"Is there any way to retrieve the Case Labels of a Switch Statement as a Collection in Java 8?","body":"<p>It's not possible to list the <code>case</code> labels from a <code>switch</code>.</p>\n<p>However, you could maintain a <code>Map</code> which maps function names to their corresponding actions-to-be-performed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Runnable&gt; functions = Map.of(\n    &quot;func1&quot;, () -&gt; doSomething(),\n    &quot;func2&quot;, () -&gt; doSomethingElse(),\n    ...\n);\n</code></pre>\n<p>To get the function names, you could just use <code>keySet()</code> to get all function names (or use <code>containsKey</code> to check whether a function name exists). And instead of the switch statement, you could just use</p>\n<pre class=\"lang-java prettyprint-override\"><code>functions.get(functionName).run();\n</code></pre>\n<hr />\n<p><sup>Note that I used a <code>Runnable</code> as map value, which allows to perform some code, without input. That is because you have not shown what actions your switch cases are actually doing, or what <em>&quot;mutate the parameters and/or their position in the call&quot;</em> actually looks like. You may want to replace <code>Runnable</code> with something more appropriate.</sup></p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648812284,"creation_date":1648812284,"answer_id":71706165,"question_id":71704108,"body_markdown":"You cannot dynamically derive the collection of case statements from the switch.  However, you can create an enum of the functions and use that in the switch and to assemble your List.  For example...\r\n\r\n    public enum Function {\r\n      FUNC1(&quot;func1&quot;), FUNC2(&quot;func2&quot;), ... ;\r\n      private String functionName;\r\n      private Function(String functionName) { ... }\r\n      public String functionName() { ... }\r\n      public static Function byFunctionName(String functionName) { ... }\r\n    }\r\n\r\nFind the Function instance that matches the String you are currently switching on and switch on the Function.\r\n\r\n    Function function = Function.byFunctionName(functionName);\r\n    switch (function) {\r\n      case FUNCT1: ...\r\n      case FUNCT2: ...\r\n      ... etc ...\r\n    }\r\n\r\nAnd the List&lt;String&gt; of function names can be created from the same enum.\r\n\r\n    List&lt;String&gt; functionNames = Arrays.stream(Function.values())\r\n            .map(e -&gt; e.functionName())\r\n            .collect(Collectors.toList());\r\n\r\n","title":"Is there any way to retrieve the Case Labels of a Switch Statement as a Collection in Java 8?","body":"<p>You cannot dynamically derive the collection of case statements from the switch.  However, you can create an enum of the functions and use that in the switch and to assemble your List.  For example...</p>\n<pre><code>public enum Function {\n  FUNC1(&quot;func1&quot;), FUNC2(&quot;func2&quot;), ... ;\n  private String functionName;\n  private Function(String functionName) { ... }\n  public String functionName() { ... }\n  public static Function byFunctionName(String functionName) { ... }\n}\n</code></pre>\n<p>Find the Function instance that matches the String you are currently switching on and switch on the Function.</p>\n<pre><code>Function function = Function.byFunctionName(functionName);\nswitch (function) {\n  case FUNCT1: ...\n  case FUNCT2: ...\n  ... etc ...\n}\n</code></pre>\n<p>And the List of function names can be created from the same enum.</p>\n<pre><code>List&lt;String&gt; functionNames = Arrays.stream(Function.values())\n        .map(e -&gt; e.functionName())\n        .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":71704566,"answer_count":3,"score":-3,"last_activity_date":1648818340,"creation_date":1648802424,"question_id":71704108,"body_markdown":"I have written a parser for a typical format (proprietary) of text in a text file. One of the primary tasks of the parser is to convert function name in the call, secondary being to mutate the parameters and/or their position in the call.\r\n\r\nExample:\r\n```\r\nFunc1(bla1,bla2,bla3)\r\n```\r\nbecomes\r\n```\r\nFunc2(bla1) // again, licensing issues, so cannot show the actual file\r\n```\r\n\r\nThere&#39;s a minimum of 50 separate such functions. The program is working fine. The only problem is that if some new functions are added in the future, I will have to alter 2 things, an ArrayList which holds the name of all the functions whose calls need to be modified, and a switch statement which actually modifies the calls. It might happen so that, a particular function name is present as a case in the switch statement, but me being the forgetful freak that I am, the function name is not present in the ArrayList.  \r\nWhat I was thinking was that if I could instead ask Java to generate that ArrayList for me (its just a List of strings, with each entry being a case label), it might help.\r\nIs there any way in Java 8 to do this?\r\n\r\nExample:\r\n\r\n```lang-java\r\nString functionName = &quot;&quot;;\r\nswitch(functionName) {\r\ncase &quot;Func1&quot;:\r\n    break;\r\ncase &quot;Func2&quot;:\r\n    break;\r\n//bla bla bla\r\ndefault:\r\n    //whatever\r\n} \r\n\r\nList&lt;String&gt; functionNames = &lt;some code which returns a Collection of all case names&gt;;\r\n```","title":"Is there any way to retrieve the Case Labels of a Switch Statement as a Collection in Java 8?","body":"<p>I have written a parser for a typical format (proprietary) of text in a text file. One of the primary tasks of the parser is to convert function name in the call, secondary being to mutate the parameters and/or their position in the call.</p>\n<p>Example:</p>\n<pre><code>Func1(bla1,bla2,bla3)\n</code></pre>\n<p>becomes</p>\n<pre><code>Func2(bla1) // again, licensing issues, so cannot show the actual file\n</code></pre>\n<p>There's a minimum of 50 separate such functions. The program is working fine. The only problem is that if some new functions are added in the future, I will have to alter 2 things, an ArrayList which holds the name of all the functions whose calls need to be modified, and a switch statement which actually modifies the calls. It might happen so that, a particular function name is present as a case in the switch statement, but me being the forgetful freak that I am, the function name is not present in the ArrayList.<br />\nWhat I was thinking was that if I could instead ask Java to generate that ArrayList for me (its just a List of strings, with each entry being a case label), it might help.\nIs there any way in Java 8 to do this?</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String functionName = &quot;&quot;;\nswitch(functionName) {\ncase &quot;Func1&quot;:\n    break;\ncase &quot;Func2&quot;:\n    break;\n//bla bla bla\ndefault:\n    //whatever\n} \n\nList&lt;String&gt; functionNames = &lt;some code which returns a Collection of all case names&gt;;\n</code></pre>\n"},{"tags":["javascript","java","spring","spring-boot","fetch"],"comments":[{"owner":{"account_id":24778773,"reputation":1,"user_id":18662291,"display_name":"Sean Laughlin"},"score":0,"creation_date":1648816924,"post_id":71706868,"comment_id":126726633,"body_markdown":"Thanks, I can view the response object okay, the problem is that Spring Boot isn&#39;t able to create an object from the data I&#39;m sending.","body":"Thanks, I can view the response object okay, the problem is that Spring Boot isn&#39;t able to create an object from the data I&#39;m sending."}],"answers":[{"tags":[],"owner":{"account_id":24778773,"reputation":1,"user_id":18662291,"display_name":"Sean Laughlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648818215,"creation_date":1648817908,"answer_id":71707299,"question_id":71706868,"body_markdown":"I had to create a null JS object and add the values to that before submission.\r\nI believe it&#39;s to do with the javascript object prototype being stored within the created object.\r\n\r\n    let nullEntry = Object.create(null);\r\n    nullEntry.entryHeartRate = entry.entryHeartRate;\r\n    nullEntry.entryHeartRate = entry.dateOfEntry;\r\n    saveEntryToDB(nullEntry);\r\n\r\n\r\n","title":"Spring Boot - Unable to De-serialize JSON Object Sent by Fetch","body":"<p>I had to create a null JS object and add the values to that before submission.\nI believe it's to do with the javascript object prototype being stored within the created object.</p>\n<pre><code>let nullEntry = Object.create(null);\nnullEntry.entryHeartRate = entry.entryHeartRate;\nnullEntry.entryHeartRate = entry.dateOfEntry;\nsaveEntryToDB(nullEntry);\n</code></pre>\n"}],"owner":{"account_id":24778773,"reputation":1,"user_id":18662291,"display_name":"Sean Laughlin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648818215,"creation_date":1648815829,"question_id":71706868,"body_markdown":"I&#39;m trying to send a JSON object from the front-end js to Spring Boot.\r\nI keep getting the following error in Spring Boot\r\n\r\n&gt; Resolved \\[org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `com.c3.healthapp.model.HeartRateEntry` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `com.c3.healthapp.model.HeartRateEntry` from Array value (token `JsonToken.START_ARRAY`)\\&lt;EOL\\&gt; at \\[Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1\\]\\]\r\n\r\nand a status 400 on the client side.\r\n\r\nThe Javascript function being used to send is\r\n\r\n```\r\nfunction saveEntryToDB(entry){\r\n    fetch(&quot;/customer/heartrate/save&quot;, {\r\n      method: &quot;POST&quot;,\r\n      headers: {&#39;Content-Type&#39;: &#39;application/json&#39;},\r\n      body: JSON.stringify(entry)\r\n    }).then(res =&gt; {\r\n      console.log(&quot;User saved. response:&quot;, res);\r\n    });\r\n}\r\n```\r\n\r\nThe object being sent\r\n\r\n```\r\n{\r\nentryHeartRate: 55, \r\ndateOfEntry: Tue Mar 01 2022 00:00:00 GMT+0000 (Greenwich Mean Time)\r\n}\r\n```\r\n\r\nSpring boot controller method\r\n\r\n```\r\n    @PostMapping(&quot;/heartrate/save&quot;)\r\n    public ResponseEntity&lt;String&gt; saveHeartRate(@RequestBody HeartRateEntry heartRateEntry) {\r\n        String username = SecurityContextHolder.getContext().getAuthentication().getPrincipal().toString();\r\n        Customer customer = customerService.getCustomer(username);\r\n        customer.getHeartRateEntries().add(heartRateEntry);\r\n        customerService.saveCustomer(customer);\r\n        URI uri = URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/heartrate/save&quot;).toUriString());\r\n        return ResponseEntity.created(uri).body(&quot;Saved!&quot;);\r\n    }\r\n```\r\n\r\nand HeartRateEntry class\r\n\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class HeartRateEntry {\r\n    @Id\r\n    @GeneratedValue(strategy = IDENTITY)\r\n    private Long entryId;\r\n    private int entryHeartRate;\r\n    private Date dateOfEntry;\r\n\r\n    @Override\r\n    public String toString() {\r\n\r\n        return &quot;Entry Id: &quot; + entryId + &quot; Entry Heart Rate: &quot; + entryHeartRate + &quot; Date Of Entry : &quot; + dateOfEntry;\r\n\r\n    }\r\n}\r\n```\r\n\r\nSo far, I&#39;ve been able to submit other entities from HTML forms and get values (including an array of heart rate entries) returned from Spring Boot with no issues.\r\n\r\nI have tried formatting the date as dd/mm/yy and adding the annotation &#39;@JsonFormat(pattern=&quot;dd/mm/yyyy&quot;)&#39; to the dateOfEntry attribute in the HeartRateEntry class, in case it was somehow an issue with date parsing, but this doesn&#39;t seem to make a difference.\r\n\r\nI have also tried adding an id attribute to the JSON object prior to sending.\r\nThis doesn&#39;t seem to make a difference either.","title":"Spring Boot - Unable to De-serialize JSON Object Sent by Fetch","body":"<p>I'm trying to send a JSON object from the front-end js to Spring Boot.\nI keep getting the following error in Spring Boot</p>\n<blockquote>\n<p>Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type <code>com.c3.healthapp.model.HeartRateEntry</code> from Array value (token <code>JsonToken.START_ARRAY</code>); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type <code>com.c3.healthapp.model.HeartRateEntry</code> from Array value (token <code>JsonToken.START_ARRAY</code>)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]]</p>\n</blockquote>\n<p>and a status 400 on the client side.</p>\n<p>The Javascript function being used to send is</p>\n<pre><code>function saveEntryToDB(entry){\n    fetch(&quot;/customer/heartrate/save&quot;, {\n      method: &quot;POST&quot;,\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify(entry)\n    }).then(res =&gt; {\n      console.log(&quot;User saved. response:&quot;, res);\n    });\n}\n</code></pre>\n<p>The object being sent</p>\n<pre><code>{\nentryHeartRate: 55, \ndateOfEntry: Tue Mar 01 2022 00:00:00 GMT+0000 (Greenwich Mean Time)\n}\n</code></pre>\n<p>Spring boot controller method</p>\n<pre><code>    @PostMapping(&quot;/heartrate/save&quot;)\n    public ResponseEntity&lt;String&gt; saveHeartRate(@RequestBody HeartRateEntry heartRateEntry) {\n        String username = SecurityContextHolder.getContext().getAuthentication().getPrincipal().toString();\n        Customer customer = customerService.getCustomer(username);\n        customer.getHeartRateEntries().add(heartRateEntry);\n        customerService.saveCustomer(customer);\n        URI uri = URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/heartrate/save&quot;).toUriString());\n        return ResponseEntity.created(uri).body(&quot;Saved!&quot;);\n    }\n</code></pre>\n<p>and HeartRateEntry class</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class HeartRateEntry {\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    private Long entryId;\n    private int entryHeartRate;\n    private Date dateOfEntry;\n\n    @Override\n    public String toString() {\n\n        return &quot;Entry Id: &quot; + entryId + &quot; Entry Heart Rate: &quot; + entryHeartRate + &quot; Date Of Entry : &quot; + dateOfEntry;\n\n    }\n}\n</code></pre>\n<p>So far, I've been able to submit other entities from HTML forms and get values (including an array of heart rate entries) returned from Spring Boot with no issues.</p>\n<p>I have tried formatting the date as dd/mm/yy and adding the annotation '@JsonFormat(pattern=&quot;dd/mm/yyyy&quot;)' to the dateOfEntry attribute in the HeartRateEntry class, in case it was somehow an issue with date parsing, but this doesn't seem to make a difference.</p>\n<p>I have also tried adding an id attribute to the JSON object prior to sending.\nThis doesn't seem to make a difference either.</p>\n"},{"tags":["java","android","storage","android-external-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648818654,"post_id":71707308,"comment_id":126727338,"body_markdown":"If you try to read a file from external storage it makes no sense to create directories then.","body":"If you try to read a file from external storage it makes no sense to create directories then."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648818722,"post_id":71707308,"comment_id":126727367,"body_markdown":"Please make two functions. One for writing a file. The other for reading a file.","body":"Please make two functions. One for writing a file. The other for reading a file."},{"owner":{"account_id":24603658,"reputation":85,"user_id":18506174,"display_name":"Amirhussein"},"score":0,"creation_date":1648819105,"post_id":71707308,"comment_id":126727519,"body_markdown":"add this to your manifest.xml          &#39;android:requestLegacyExternalStorage=&quot;true&quot;&#39;","body":"add this to your manifest.xml          &#39;android:requestLegacyExternalStorage=&quot;true&quot;&#39;"}],"owner":{"account_id":8085372,"reputation":37,"user_id":6093095,"display_name":"Muhammad Hamza Ishtiaq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648817941,"creation_date":1648817941,"question_id":71707308,"body_markdown":"**Here I am using this code for saving file to external storage and also get that file after Re Install application**\r\n\r\nI am testing it on Android 12 and also help me about the access restrictions in Android after OS 10\r\n \r\n\r\n```   \r\npublic static String read_file_from_external_storage(Context mContext, String FileName) {\r\n    \r\n            // start main . sa android od is folder ko hidden kr data hai\r\n    \r\n            String FileData = &quot;&quot;;\r\n            int ch = 0;\r\n            StringBuffer strContent = new StringBuffer(&quot;&quot;);\r\n    \r\n            try {\r\n    \r\n                java.io.File root = new java.io.File(android.os.Environment.getExternalStorageDirectory(),\r\n                        mContext.getResources().getString(R.string.app_name));\r\n                if (!root.exists()) {\r\n                    root.mkdirs();\r\n                }\r\n                java.io.File dataFolder = new java.io.File(root, &quot;Data&quot;);\r\n                if (!dataFolder.exists()) {\r\n                    dataFolder.mkdirs();\r\n                }\r\n    \r\n                java.io.File jsonFile = new java.io.File(dataFolder, FileName);\r\n                Global.ShowLog(&quot;save_file_external_storage-jsonFile = &quot; + jsonFile.getAbsolutePath());\r\n    \r\n                java.io.FileInputStream fin = null;\r\n                fin = new java.io.FileInputStream(jsonFile);\r\n    \r\n                while ((ch = fin.read()) != -1)\r\n                    strContent.append((char) ch);\r\n    \r\n                fin.close();\r\n    \r\n            } catch (Exception e) {\r\n                Global.ShowLog(&quot;save_file_external_storage-error = &quot; + e.getMessage());\r\n            }\r\n    \r\n            try {\r\n                FileData = java.net.URLDecoder.decode(strContent.toString(), &quot;UTF-8&quot;);\r\n            } catch (java.io.UnsupportedEncodingException uee) {\r\n            }\r\n    \r\n            return FileData;\r\n        }\r\n     \r\n```  \r\n\r\n \r\n   \r\n\r\n    \r\n\r\n","title":"Getting file from external storage after re-Install app","body":"<p><strong>Here I am using this code for saving file to external storage and also get that file after Re Install application</strong></p>\n<p>I am testing it on Android 12 and also help me about the access restrictions in Android after OS 10</p>\n<pre><code>public static String read_file_from_external_storage(Context mContext, String FileName) {\n    \n            // start main . sa android od is folder ko hidden kr data hai\n    \n            String FileData = &quot;&quot;;\n            int ch = 0;\n            StringBuffer strContent = new StringBuffer(&quot;&quot;);\n    \n            try {\n    \n                java.io.File root = new java.io.File(android.os.Environment.getExternalStorageDirectory(),\n                        mContext.getResources().getString(R.string.app_name));\n                if (!root.exists()) {\n                    root.mkdirs();\n                }\n                java.io.File dataFolder = new java.io.File(root, &quot;Data&quot;);\n                if (!dataFolder.exists()) {\n                    dataFolder.mkdirs();\n                }\n    \n                java.io.File jsonFile = new java.io.File(dataFolder, FileName);\n                Global.ShowLog(&quot;save_file_external_storage-jsonFile = &quot; + jsonFile.getAbsolutePath());\n    \n                java.io.FileInputStream fin = null;\n                fin = new java.io.FileInputStream(jsonFile);\n    \n                while ((ch = fin.read()) != -1)\n                    strContent.append((char) ch);\n    \n                fin.close();\n    \n            } catch (Exception e) {\n                Global.ShowLog(&quot;save_file_external_storage-error = &quot; + e.getMessage());\n            }\n    \n            try {\n                FileData = java.net.URLDecoder.decode(strContent.toString(), &quot;UTF-8&quot;);\n            } catch (java.io.UnsupportedEncodingException uee) {\n            }\n    \n            return FileData;\n        }\n     \n</code></pre>\n"},{"tags":["java","dataframe","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648817935,"creation_date":1648817935,"answer_id":71707306,"question_id":71675820,"body_markdown":"`set.take(1)` will return the first row only\r\n\r\nThen run `select(&quot;B&quot;)` or `where(&quot;B == 1&quot;)` and compare the content/size of the dataframe to get &quot;present&quot;","title":"How to check if the particular value is present in a dataframe (First row) using Java?","body":"<p><code>set.take(1)</code> will return the first row only</p>\n<p>Then run <code>select(&quot;B&quot;)</code> or <code>where(&quot;B == 1&quot;)</code> and compare the content/size of the dataframe to get &quot;present&quot;</p>\n"}],"owner":{"account_id":24554361,"reputation":95,"user_id":18463160,"display_name":"George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1648817935,"creation_date":1648637305,"question_id":71675820,"body_markdown":"I want to check if the Dataframe which i have evaluated has the value &#39;1&#39; in the first row.\r\n\r\nBelow is the dataframe I have developed in Java\r\n\r\n    Dataset&lt;Row&gt; set = spark.sql(sample); \r\n    set.show();\r\n\r\n    +--------------------+\r\n    ||A|B|C|D|E|\r\n    +--------------------+\r\n    ||0|1|0|0|0|\r\n    ||2|3|5|3|5|\r\n    ----------+----------+\r\n\r\nI tried using the first() and head() but couldn&#39;t arrive at the solution.\r\n\r\nOnly requirement is I need to read the 1st row of the above dataframe and check if the value &#39;1&#39; is present or not.. if yes print &quot;present&quot; else &quot;not present&quot;. Could anyone suggest solution using Java. TIA","title":"How to check if the particular value is present in a dataframe (First row) using Java?","body":"<p>I want to check if the Dataframe which i have evaluated has the value '1' in the first row.</p>\n<p>Below is the dataframe I have developed in Java</p>\n<pre><code>Dataset&lt;Row&gt; set = spark.sql(sample); \nset.show();\n\n+--------------------+\n||A|B|C|D|E|\n+--------------------+\n||0|1|0|0|0|\n||2|3|5|3|5|\n----------+----------+\n</code></pre>\n<p>I tried using the first() and head() but couldn't arrive at the solution.</p>\n<p>Only requirement is I need to read the 1st row of the above dataframe and check if the value '1' is present or not.. if yes print &quot;present&quot; else &quot;not present&quot;. Could anyone suggest solution using Java. TIA</p>\n"},{"tags":["java","dataframe","apache-spark"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":3,"creation_date":1648714129,"post_id":71688560,"comment_id":126696044,"body_markdown":"Use break; And also, normally in a switch statement you should have a break; ending each case, otherwise all the remaining cases will run.","body":"Use break; And also, normally in a switch statement you should have a break; ending each case, otherwise all the remaining cases will run."},{"owner":{"account_id":24554361,"reputation":95,"user_id":18463160,"display_name":"George"},"score":0,"creation_date":1648714455,"post_id":71688560,"comment_id":126696165,"body_markdown":"@JustanotherJavaprogrammer yes if i use break it will stop right there and come out of the loop nah? In my case it should skip that particular case and continue with the rest of the statements.","body":"@JustanotherJavaprogrammer yes if i use break it will stop right there and come out of the loop nah? In my case it should skip that particular case and continue with the rest of the statements."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1648715154,"post_id":71688560,"comment_id":126696416,"body_markdown":"`break` only breaks out of the innermost context, in your case the `switch`. You need that otherwise you&#39;ll fall through all following cases. Also it is good practice to include the `default` case, which is used when none of the other cases match.","body":"<code>break</code> only breaks out of the innermost context, in your case the <code>switch</code>. You need that otherwise you&#39;ll fall through all following cases. Also it is good practice to include the <code>default</code> case, which is used when none of the other cases match."},{"owner":{"account_id":24554361,"reputation":95,"user_id":18463160,"display_name":"George"},"score":0,"creation_date":1648717399,"post_id":71688560,"comment_id":126697300,"body_markdown":"@QBrute even after including break in all case statement it doesn&#39;t skip the case &quot;c&quot; which is not present in the dataframe. It throughs error like cannot resolve column &quot;c&quot;.","body":"@QBrute even after including break in all case statement it doesn&#39;t skip the case &quot;c&quot; which is not present in the dataframe. It throughs error like cannot resolve column &quot;c&quot;."},{"owner":{"account_id":24554361,"reputation":95,"user_id":18463160,"display_name":"George"},"score":0,"creation_date":1648717471,"post_id":71688560,"comment_id":126697321,"body_markdown":"@QBrute and ive used default statement too like &quot; defaut: System.out.println(&quot;Column doesn&#39;t exist&quot;);","body":"@QBrute and ive used default statement too like &quot; defaut: System.out.println(&quot;Column doesn&#39;t exist&quot;);"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1648818715,"post_id":71688560,"comment_id":126727364,"body_markdown":"@George, just to be sure, do spark load the file as you expect it to be? some have problems with trailing space, others have issue with csv separators. i&#39;d bet, `break` is mandatory and even though you add it and still got errors, it must be other factor, the file input. `default` in `switch-case` statement is used as fallback behavior should none of the provided `case` match. it doesnt handle errors from spark. there is too little information to work on your question.","body":"@George, just to be sure, do spark load the file as you expect it to be? some have problems with trailing space, others have issue with csv separators. i&#39;d bet, <code>break</code> is mandatory and even though you add it and still got errors, it must be other factor, the file input. <code>default</code> in <code>switch-case</code> statement is used as fallback behavior should none of the provided <code>case</code> match. it doesnt handle errors from spark. there is too little information to work on your question."}],"owner":{"account_id":24554361,"reputation":95,"user_id":18463160,"display_name":"George"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1648817823,"creation_date":1648711796,"question_id":71688560,"body_markdown":"I have written a code which fetches the input file as a dataframe.\r\n\r\nI need to copy the value of the particular columns which are present in the dataframe to a new column. for creating a new column i&#39;ve used &#39;withcolumn&#39;.\r\n\r\n        Dataset&lt;Row&gt; df1 = spark.read().format(&quot;com.databricks.spark.csv&quot;).option(&quot;header&quot;, &quot;true&quot;).load(FilePath);\r\n    \t\t\t\r\n    \t\t\tList&lt;String&gt; h1 = new ArrayList&lt;String&gt;();\r\n    \t\t\th1 = Arrays.asList(df1.columns());\r\n    \t\t\tDataset&lt;Row&gt; df;\r\n    \t\t\tdf = df1;\r\n    \r\n    for(String field:h1) \r\n    \t\t{\r\n    \t\tswitch (field) \r\n    \t\t{\r\n    \t\tcase &quot;A&quot;:\r\n    \t\tdf = df1.withColumn(&quot;first&quot;,df1.col(&quot;A&quot;)); \r\n    \t    case &quot;B&quot;: \r\n    \t    df = df.withColumn(&quot;second&quot;,df1.col(&quot;B&quot;)); \r\n    \t    case &quot;C&quot;: \r\n    \t\tdf = df.withColumn(&quot;third&quot;,df1.col(&quot;C&quot;)); \r\n    \t\tcase &quot;D&quot;: \r\n    \t\tdf = df.withColumn(&quot;fourth&quot;,df1.col(&quot;D&quot;));\r\n\r\nMy concern is how to skip the value case statement if the particular column name is not present.\r\n\r\nFor example in the above code if case &quot;C&quot; is not present in the dataframe it should skip and go to the next case. In my case it is throwing error like &quot;cannot resolve &quot;c&quot;.\r\n\r\nPlease share some suggestion on how to skip the case or is there any other way to do so. TIA","title":"How to skip the case statement if condition fails (using Java)?","body":"<p>I have written a code which fetches the input file as a dataframe.</p>\n<p>I need to copy the value of the particular columns which are present in the dataframe to a new column. for creating a new column i've used 'withcolumn'.</p>\n<pre><code>    Dataset&lt;Row&gt; df1 = spark.read().format(&quot;com.databricks.spark.csv&quot;).option(&quot;header&quot;, &quot;true&quot;).load(FilePath);\n            \n            List&lt;String&gt; h1 = new ArrayList&lt;String&gt;();\n            h1 = Arrays.asList(df1.columns());\n            Dataset&lt;Row&gt; df;\n            df = df1;\n\nfor(String field:h1) \n        {\n        switch (field) \n        {\n        case &quot;A&quot;:\n        df = df1.withColumn(&quot;first&quot;,df1.col(&quot;A&quot;)); \n        case &quot;B&quot;: \n        df = df.withColumn(&quot;second&quot;,df1.col(&quot;B&quot;)); \n        case &quot;C&quot;: \n        df = df.withColumn(&quot;third&quot;,df1.col(&quot;C&quot;)); \n        case &quot;D&quot;: \n        df = df.withColumn(&quot;fourth&quot;,df1.col(&quot;D&quot;));\n</code></pre>\n<p>My concern is how to skip the value case statement if the particular column name is not present.</p>\n<p>For example in the above code if case &quot;C&quot; is not present in the dataframe it should skip and go to the next case. In my case it is throwing error like &quot;cannot resolve &quot;c&quot;.</p>\n<p>Please share some suggestion on how to skip the case or is there any other way to do so. TIA</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1648761964,"post_id":71699264,"comment_id":126713950,"body_markdown":"Does this answer your question? [hibernate persist method - &quot;called outside of transaction&quot; meaning](https://stackoverflow.com/questions/23874895/hibernate-persist-method-called-outside-of-transaction-meaning)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23874895/hibernate-persist-method-called-outside-of-transaction-meaning\">hibernate persist method - &quot;called outside of transaction&quot; meaning</a>"},{"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"score":0,"creation_date":1648804752,"post_id":71699264,"comment_id":126722327,"body_markdown":"@Lesiak It is similar , but i am not clear","body":"@Lesiak It is similar , but i am not clear"}],"answers":[{"tags":[],"owner":{"account_id":24762589,"reputation":23,"user_id":18646791,"display_name":"YoavK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648761782,"creation_date":1648761782,"answer_id":71699300,"question_id":71699264,"body_markdown":"A transaction boundary it&#39;s where the transaction starts or is committed/rollbacked.","title":"What is a transaction boundary in hibernate","body":"<p>A transaction boundary it's where the transaction starts or is committed/rollbacked.</p>\n"},{"tags":[],"owner":{"account_id":24762589,"reputation":23,"user_id":18646791,"display_name":"YoavK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648762483,"creation_date":1648762483,"answer_id":71699404,"question_id":71699264,"body_markdown":"When a transaction is started, the transaction context is bound to the current thread. So regardless of how many endpoints and channels you have in your Message flow your transaction context will be preserved as long as you are ensuring that the flow continues on the same thread. As soon as you break it by introducing a Pollable Channel or Executor Channel or initiate a new thread manually in some service, the Transactional boundary will be broken as well.\r\n                                                                             \r\n- some other people ask about it - look it up.\r\n\r\nIf you do not understand something write to me again more accurately and I will explain.\r\nI really hope I helped!","title":"What is a transaction boundary in hibernate","body":"<p>When a transaction is started, the transaction context is bound to the current thread. So regardless of how many endpoints and channels you have in your Message flow your transaction context will be preserved as long as you are ensuring that the flow continues on the same thread. As soon as you break it by introducing a Pollable Channel or Executor Channel or initiate a new thread manually in some service, the Transactional boundary will be broken as well.</p>\n<ul>\n<li>some other people ask about it - look it up.</li>\n</ul>\n<p>If you do not understand something write to me again more accurately and I will explain.\nI really hope I helped!</p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648817808,"creation_date":1648817808,"answer_id":71707270,"question_id":71699264,"body_markdown":"A transaction is a unit of work that is either executed completely or not at all.\r\n\r\nTransactions are fairly simple to use in a typical relational database.\r\nYou start a transaction by modifying some data. Every modification starts a transaction, you typically can&#39;t avoid it. You end the transaction by executing a `commit` or `rollback`. \r\n\r\nBefore your transaction is finished your changes can&#39;t be seen in other transactions (there are exceptions, variations and details). If you `rollback` your transaction all your changes in the database are undone. \r\nIf you `commit` your changes your changes become visible to other transactions, i.e. for other users connected to the same database. Implementations vary among many other things if changes become visible only for new transactions or also for already running transactions.\r\n\r\nA transaction in JPA is a database transaction plus additional stuff.\r\nYou can start and end a transaction by getting a `Transaction` object and calling methods on it. But nobody does that anymore since it is error prone. Instead you annotate methods with `@Transaction` and entering the method will start a transaction and exiting the method will end the transaction.\r\nThe details are taken care of by Spring.\r\n\r\nThe tricky part with JPAs transactions is that within a JPA transaction JPA might (and will) choose to delay or even avoid read and write operations as long as possible. For example when you load an entity, and load it again in the same JPA transaction, JPA won&#39;t load it from the database but return the same instance it returned during the first load operation. If you want to learn more about this I recommend looking into JPAs first level cache.","title":"What is a transaction boundary in hibernate","body":"<p>A transaction is a unit of work that is either executed completely or not at all.</p>\n<p>Transactions are fairly simple to use in a typical relational database.\nYou start a transaction by modifying some data. Every modification starts a transaction, you typically can't avoid it. You end the transaction by executing a <code>commit</code> or <code>rollback</code>.</p>\n<p>Before your transaction is finished your changes can't be seen in other transactions (there are exceptions, variations and details). If you <code>rollback</code> your transaction all your changes in the database are undone.\nIf you <code>commit</code> your changes your changes become visible to other transactions, i.e. for other users connected to the same database. Implementations vary among many other things if changes become visible only for new transactions or also for already running transactions.</p>\n<p>A transaction in JPA is a database transaction plus additional stuff.\nYou can start and end a transaction by getting a <code>Transaction</code> object and calling methods on it. But nobody does that anymore since it is error prone. Instead you annotate methods with <code>@Transaction</code> and entering the method will start a transaction and exiting the method will end the transaction.\nThe details are taken care of by Spring.</p>\n<p>The tricky part with JPAs transactions is that within a JPA transaction JPA might (and will) choose to delay or even avoid read and write operations as long as possible. For example when you load an entity, and load it again in the same JPA transaction, JPA won't load it from the database but return the same instance it returned during the first load operation. If you want to learn more about this I recommend looking into JPAs first level cache.</p>\n"}],"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71707270,"answer_count":3,"score":1,"last_activity_date":1648817808,"creation_date":1648761575,"question_id":71699264,"body_markdown":"I have 2 questions related to each other\r\n\r\nQ1 What exactly is a transaction boundary in hibernate/Spring Data JPA.\r\nI am new to JPA , so please give a very basic example so I can understand as I tried to read multiple blogs but still not very clear.\r\n\r\nQ2 And on top of it, what does this mean-\r\n\r\nIn hibernate, persist() method guarantees that it will not execute an INSERT statement if it is called outside of transaction boundaries, save() method does not guarantee the same.\r\n\r\n**What is** **outside and inside of a transaction boundary** and how executions are performed outside boundaries?","title":"What is a transaction boundary in hibernate","body":"<p>I have 2 questions related to each other</p>\n<p>Q1 What exactly is a transaction boundary in hibernate/Spring Data JPA.\nI am new to JPA , so please give a very basic example so I can understand as I tried to read multiple blogs but still not very clear.</p>\n<p>Q2 And on top of it, what does this mean-</p>\n<p>In hibernate, persist() method guarantees that it will not execute an INSERT statement if it is called outside of transaction boundaries, save() method does not guarantee the same.</p>\n<p><strong>What is</strong> <strong>outside and inside of a transaction boundary</strong> and how executions are performed outside boundaries?</p>\n"},{"tags":["java","spring-boot","logging"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1648817770,"creation_date":1648817770,"answer_id":71707260,"question_id":71706306,"body_markdown":"When you set debug=true a bunch of &quot;core&quot; loggers used under the hood by spring boot will be set to debug: web container (like a tomcat), spring boot itself, hibernate.\r\n\r\nIt won&#39;t affect the loggers of your application though - they&#39;ll still be at INFO severity level.\r\n\r\nHowever, if you set something like `logging.level.root=debug` probably all the loggers will be set to DEBUG, so yes, technically there is a difference.\r\n\r\nFrom the spring boot documentation:\r\n\r\n&gt;When the debug mode is enabled, a selection of core loggers (embedded container, Hibernate, and Spring Boot) are configured to output more information. Enabling the debug mode does not configure your application to log all messages with DEBUG level.","title":"Spring boot properties difference between `debug=true` and `logging.level.root=debug`","body":"<p>When you set debug=true a bunch of &quot;core&quot; loggers used under the hood by spring boot will be set to debug: web container (like a tomcat), spring boot itself, hibernate.</p>\n<p>It won't affect the loggers of your application though - they'll still be at INFO severity level.</p>\n<p>However, if you set something like <code>logging.level.root=debug</code> probably all the loggers will be set to DEBUG, so yes, technically there is a difference.</p>\n<p>From the spring boot documentation:</p>\n<blockquote>\n<p>When the debug mode is enabled, a selection of core loggers (embedded container, Hibernate, and Spring Boot) are configured to output more information. Enabling the debug mode does not configure your application to log all messages with DEBUG level.</p>\n</blockquote>\n"}],"owner":{"account_id":3493556,"reputation":4931,"user_id":2922515,"accept_rate":70,"display_name":"Vipin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5990,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71707260,"answer_count":1,"score":2,"last_activity_date":1648817770,"creation_date":1648813055,"question_id":71706306,"body_markdown":"is there any difference between `debug=true` and `logging.level.root=debug` , both are specified in application.properties file of spring boot application.\r\n\r\n\r\nBelow are references for both from spring boot documentation, unfortunately there they don&#39;t show any link between them but it looks like they serve same purpose.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.6.6/reference/htmlsingle/#features.logging.console-output\r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.6.6/reference/htmlsingle/#features.logging.log-levels\r\n","title":"Spring boot properties difference between `debug=true` and `logging.level.root=debug`","body":"<p>is there any difference between <code>debug=true</code> and <code>logging.level.root=debug</code> , both are specified in application.properties file of spring boot application.</p>\n<p>Below are references for both from spring boot documentation, unfortunately there they don't show any link between them but it looks like they serve same purpose.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.6.6/reference/htmlsingle/#features.logging.console-output\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.6.6/reference/htmlsingle/#features.logging.console-output</a></p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.6.6/reference/htmlsingle/#features.logging.log-levels\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.6.6/reference/htmlsingle/#features.logging.log-levels</a></p>\n"},{"tags":["java","android","linux"],"comments":[{"owner":{"account_id":24779341,"reputation":11,"user_id":18662830,"display_name":"Blue"},"score":0,"creation_date":1648864082,"post_id":71707158,"comment_id":126738839,"body_markdown":"Found this at Android Developer https://developer.android.com/reference/android/os/HardwarePropertiesManager#getCpuUsages() might help","body":"Found this at Android Developer <a href=\"https://developer.android.com/reference/android/os/HardwarePropertiesManager#getCpuUsages()\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/&hellip;</a> might help"}],"owner":{"account_id":24779341,"reputation":11,"user_id":18662830,"display_name":"Blue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648817262,"creation_date":1648817262,"question_id":71707158,"body_markdown":"\r\nI want to get my app CPU USAGE per sec at runtime. \r\n\r\nAfter Googling, access ***/proc/stat*** to get the cpu usage works before Android 8.0 , we just need some permission from the user.\r\n\r\nHowever, above way can&#39;t work because Android has strict limits of authority after Android 8.0.\r\n\r\nI just try to exec **&quot;top command&quot;** with shell to read cpu situation in my code.\r\nlike this :\r\n\r\n    public static float getProcessCpuUsageFromTopCmd(String pid){\r\n        try{\r\n            String[] cmd = {&quot;sh&quot;,&quot;-c&quot;,&quot;top -n 1 &quot;};\r\n            //String cmd = &quot;top -p  &quot;+ pid;\r\n            String line = &quot;&quot;;\r\n            Process process = Runtime.getRuntime().exec(cmd);\r\n\r\n            InputStreamReader input = new InputStreamReader(process.getInputStream());\r\n            BufferedReader reader = new BufferedReader(input);\r\n            System.out.println(&quot; command: &quot;+cmd);\r\n            //System.out.println(&quot;cpu output:&quot;+reader.read());\r\n            while((line = reader.readLine())!=null){\r\n                line = line.trim();\r\n                System.out.println(&quot;cpu output:&quot;+line);\r\n            }\r\n            reader.close();\r\n            input.close();\r\n            process.destroy();\r\n        }\r\n        catch (IOException e){\r\n            e.getStackTrace();\r\n        }\r\n        return 0.0f;\r\n    }\r\n\r\n\r\nBut the &#39;top&#39; process is inside my app, it can&#39;t spy its father process which is my app.\r\n\r\nAm I miss some permission from user? (I just want to get my own app cpu usage...)\r\n\r\nor Any other way to get the cpu usage after Android 8.0 ? \r\n\r\n: ) Thanks a lot to check these...","title":"Get Cpu Usage After Android 8.0 at runtime","body":"<p>I want to get my app CPU USAGE per sec at runtime.</p>\n<p>After Googling, access <em><strong>/proc/stat</strong></em> to get the cpu usage works before Android 8.0 , we just need some permission from the user.</p>\n<p>However, above way can't work because Android has strict limits of authority after Android 8.0.</p>\n<p>I just try to exec <strong>&quot;top command&quot;</strong> with shell to read cpu situation in my code.\nlike this :</p>\n<pre><code>public static float getProcessCpuUsageFromTopCmd(String pid){\n    try{\n        String[] cmd = {&quot;sh&quot;,&quot;-c&quot;,&quot;top -n 1 &quot;};\n        //String cmd = &quot;top -p  &quot;+ pid;\n        String line = &quot;&quot;;\n        Process process = Runtime.getRuntime().exec(cmd);\n\n        InputStreamReader input = new InputStreamReader(process.getInputStream());\n        BufferedReader reader = new BufferedReader(input);\n        System.out.println(&quot; command: &quot;+cmd);\n        //System.out.println(&quot;cpu output:&quot;+reader.read());\n        while((line = reader.readLine())!=null){\n            line = line.trim();\n            System.out.println(&quot;cpu output:&quot;+line);\n        }\n        reader.close();\n        input.close();\n        process.destroy();\n    }\n    catch (IOException e){\n        e.getStackTrace();\n    }\n    return 0.0f;\n}\n</code></pre>\n<p>But the 'top' process is inside my app, it can't spy its father process which is my app.</p>\n<p>Am I miss some permission from user? (I just want to get my own app cpu usage...)</p>\n<p>or Any other way to get the cpu usage after Android 8.0 ?</p>\n<p>: ) Thanks a lot to check these...</p>\n"},{"tags":["java","datetime","mocking","java-8","java-time"],"answers":[{"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"down_vote_count":0,"up_vote_count":86,"is_accepted":true,"score":86,"last_activity_date":1404136639,"creation_date":1404136639,"answer_id":24491814,"question_id":24491260,"body_markdown":"The closest thing is the `Clock` object. You can create a Clock object using any time you want (or from the System current time).  All date.time objects have overloaded `now` methods that take a clock object instead for the current time.  So you can use dependency injection to inject a Clock with a specific time:\r\n\r\n    public class MyBean {\r\n        private Clock clock;  // dependency inject\r\n        ...\r\n        public void process(LocalDate eventDate) {\r\n          if (eventDate.isBefore(LocalDate.now(clock)) {\r\n            ...\r\n          }\r\n        }\r\n      }\r\n\r\nSee [Clock JavaDoc][1] for more details\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html","title":"Mocking time in Java 8&#39;s java.time API","body":"<p>The closest thing is the <code>Clock</code> object. You can create a Clock object using any time you want (or from the System current time).  All date.time objects have overloaded <code>now</code> methods that take a clock object instead for the current time.  So you can use dependency injection to inject a Clock with a specific time:</p>\n\n<pre><code>public class MyBean {\n    private Clock clock;  // dependency inject\n    ...\n    public void process(LocalDate eventDate) {\n      if (eventDate.isBefore(LocalDate.now(clock)) {\n        ...\n      }\n    }\n  }\n</code></pre>\n\n<p>See <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\">Clock JavaDoc</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":1195690,"reputation":1411,"user_id":1167483,"display_name":"LuizSignorelli"},"down_vote_count":2,"up_vote_count":33,"is_accepted":false,"score":31,"last_activity_date":1530715030,"creation_date":1427775393,"answer_id":29360514,"question_id":24491260,"body_markdown":"I used a new class to hide the `Clock.fixed` creation and simplify the tests:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class TimeMachine {\r\n    \r\n    \tprivate static Clock clock = Clock.systemDefaultZone();\r\n    \tprivate static ZoneId zoneId = ZoneId.systemDefault();\r\n    \r\n    \tpublic static LocalDateTime now() {\r\n    \t\treturn LocalDateTime.now(getClock());\r\n    \t}\r\n    \t\r\n    \tpublic static void useFixedClockAt(LocalDateTime date){\r\n    \t\tclock = Clock.fixed(date.atZone(zoneId).toInstant(), zoneId);\r\n    \t}\r\n    \t\r\n    \tpublic static void useSystemDefaultZoneClock(){\r\n    \t\tclock = Clock.systemDefaultZone();\r\n    \t}\r\n    \r\n    \tprivate static Clock getClock() {\r\n    \t\treturn clock ;\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class MyClass {\r\n    \r\n    \tpublic void doSomethingWithTime() {\r\n            LocalDateTime now = TimeMachine.now();\r\n            ...\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Test\r\n\tpublic void test() {\r\n\t\tLocalDateTime twoWeeksAgo = LocalDateTime.now().minusWeeks(2);\r\n\r\n\t\tMyClass myClass = new MyClass();\r\n\r\n\t\tTimeMachine.useFixedClockAt(twoWeeksAgo);\r\n\t\tmyClass.doSomethingWithTime();\r\n\t\t\r\n\t\tTimeMachine.useSystemDefaultZoneClock();\r\n\t\tmyClass.doSomethingWithTime();\r\n\r\n        ...\r\n\t}","title":"Mocking time in Java 8&#39;s java.time API","body":"<p>I used a new class to hide the <code>Clock.fixed</code> creation and simplify the tests:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class TimeMachine {\n\n    private static Clock clock = Clock.systemDefaultZone();\n    private static ZoneId zoneId = ZoneId.systemDefault();\n\n    public static LocalDateTime now() {\n        return LocalDateTime.now(getClock());\n    }\n\n    public static void useFixedClockAt(LocalDateTime date){\n        clock = Clock.fixed(date.atZone(zoneId).toInstant(), zoneId);\n    }\n\n    public static void useSystemDefaultZoneClock(){\n        clock = Clock.systemDefaultZone();\n    }\n\n    private static Clock getClock() {\n        return clock ;\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n    public void doSomethingWithTime() {\n        LocalDateTime now = TimeMachine.now();\n        ...\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test() {\n    LocalDateTime twoWeeksAgo = LocalDateTime.now().minusWeeks(2);\n\n    MyClass myClass = new MyClass();\n\n    TimeMachine.useFixedClockAt(twoWeeksAgo);\n    myClass.doSomethingWithTime();\n\n    TimeMachine.useSystemDefaultZoneClock();\n    myClass.doSomethingWithTime();\n\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"down_vote_count":4,"up_vote_count":12,"is_accepted":false,"score":8,"last_activity_date":1561971742,"creation_date":1429011754,"answer_id":29626399,"question_id":24491260,"body_markdown":"&lt;strike&gt;I find using `Clock` clutters your production code.&lt;/strike&gt;\r\n\r\nYou can use [JMockit][1] or [PowerMock][2] to mock static method invocations in your test code.\r\nExample with JMockit:\r\n\r\n    @Test\r\n    public void testSth() {\r\n      LocalDate today = LocalDate.of(2000, 6, 1);\r\n\r\n      new Expectations(LocalDate.class) {{\r\n          LocalDate.now(); result = today;\r\n      }};\r\n\r\n      Assert.assertEquals(LocalDate.now(), today);\r\n    }\r\n\r\n**EDIT**: After reading the comments on Jon Skeet&#39;s answer to a similar [question here on SO][3] I disagree with my past self. More than anything else the argument convinced me that you cannot parallize tests when you mock static methods.\r\n\r\nYou can/must still use static mocking if you have to deal with legacy code, though.\r\n\r\n\r\n  [1]: https://jmockit.github.io/\r\n  [2]: http://www.powermock.org\r\n  [3]: https://stackoverflow.com/a/5622222/287138","title":"Mocking time in Java 8&#39;s java.time API","body":"<p><strike>I find using <code>Clock</code> clutters your production code.</strike></p>\n\n<p>You can use <a href=\"https://jmockit.github.io/\" rel=\"nofollow noreferrer\">JMockit</a> or <a href=\"http://www.powermock.org\" rel=\"nofollow noreferrer\">PowerMock</a> to mock static method invocations in your test code.\nExample with JMockit:</p>\n\n<pre><code>@Test\npublic void testSth() {\n  LocalDate today = LocalDate.of(2000, 6, 1);\n\n  new Expectations(LocalDate.class) {{\n      LocalDate.now(); result = today;\n  }};\n\n  Assert.assertEquals(LocalDate.now(), today);\n}\n</code></pre>\n\n<p><strong>EDIT</strong>: After reading the comments on Jon Skeet's answer to a similar <a href=\"https://stackoverflow.com/a/5622222/287138\">question here on SO</a> I disagree with my past self. More than anything else the argument convinced me that you cannot parallize tests when you mock static methods.</p>\n\n<p>You can/must still use static mocking if you have to deal with legacy code, though.</p>\n"},{"tags":[],"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471007013,"creation_date":1471007013,"answer_id":38918703,"question_id":24491260,"body_markdown":"This example even shows how to combine Instant and LocalTime ([detailed explanation of issues with the conversion][1])\r\n\r\nA class under test\r\n\r\n    import java.time.Clock;\r\n    import java.time.LocalTime;\r\n    \r\n    public class TimeMachine {\r\n    \r\n        private LocalTime from = LocalTime.MIDNIGHT;\r\n    \r\n        private LocalTime until = LocalTime.of(6, 0);\r\n    \r\n        private Clock clock = Clock.systemDefaultZone();\r\n    \r\n        public boolean isInInterval() {\r\n    \r\n            LocalTime now = LocalTime.now(clock);\r\n    \r\n            return now.isAfter(from) &amp;&amp; now.isBefore(until);\r\n        }\r\n    \r\n    }\r\n\r\nA Groovy test\r\n\r\n    import org.junit.Test\r\n    import org.junit.runner.RunWith\r\n    import org.junit.runners.Parameterized\r\n    \r\n    import java.time.Clock\r\n    import java.time.Instant\r\n    \r\n    import static java.time.ZoneOffset.UTC\r\n    import static org.junit.runners.Parameterized.Parameters\r\n    \r\n    @RunWith(Parameterized)\r\n    class TimeMachineTest {\r\n    \r\n        @Parameters(name = &quot;{0} - {2}&quot;)\r\n        static data() {\r\n            [\r\n                [&quot;01:22:00&quot;, true,  &quot;in interval&quot;],\r\n                [&quot;23:59:59&quot;, false, &quot;before&quot;],\r\n                [&quot;06:01:00&quot;, false, &quot;after&quot;],\r\n            ]*.toArray()\r\n        }\r\n    \r\n        String time\r\n        boolean expected\r\n    \r\n        TimeMachineTest(String time, boolean expected, String testName) {\r\n            this.time = time\r\n            this.expected = expected\r\n        }\r\n    \r\n        @Test\r\n        void test() {\r\n            TimeMachine timeMachine = new TimeMachine()\r\n            timeMachine.clock = Clock.fixed(Instant.parse(&quot;2010-01-01T${time}Z&quot;), UTC)\r\n            def result = timeMachine.isInInterval()\r\n            assert result == expected\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23641846/java-se-8-temporalaccessor-from-issues-when-used-with-a-java-time-instant-object/23656930#23656930","title":"Mocking time in Java 8&#39;s java.time API","body":"<p>This example even shows how to combine Instant and LocalTime (<a href=\"https://stackoverflow.com/questions/23641846/java-se-8-temporalaccessor-from-issues-when-used-with-a-java-time-instant-object/23656930#23656930\">detailed explanation of issues with the conversion</a>)</p>\n\n<p>A class under test</p>\n\n<pre><code>import java.time.Clock;\nimport java.time.LocalTime;\n\npublic class TimeMachine {\n\n    private LocalTime from = LocalTime.MIDNIGHT;\n\n    private LocalTime until = LocalTime.of(6, 0);\n\n    private Clock clock = Clock.systemDefaultZone();\n\n    public boolean isInInterval() {\n\n        LocalTime now = LocalTime.now(clock);\n\n        return now.isAfter(from) &amp;&amp; now.isBefore(until);\n    }\n\n}\n</code></pre>\n\n<p>A Groovy test</p>\n\n<pre><code>import org.junit.Test\nimport org.junit.runner.RunWith\nimport org.junit.runners.Parameterized\n\nimport java.time.Clock\nimport java.time.Instant\n\nimport static java.time.ZoneOffset.UTC\nimport static org.junit.runners.Parameterized.Parameters\n\n@RunWith(Parameterized)\nclass TimeMachineTest {\n\n    @Parameters(name = \"{0} - {2}\")\n    static data() {\n        [\n            [\"01:22:00\", true,  \"in interval\"],\n            [\"23:59:59\", false, \"before\"],\n            [\"06:01:00\", false, \"after\"],\n        ]*.toArray()\n    }\n\n    String time\n    boolean expected\n\n    TimeMachineTest(String time, boolean expected, String testName) {\n        this.time = time\n        this.expected = expected\n    }\n\n    @Test\n    void test() {\n        TimeMachine timeMachine = new TimeMachine()\n        timeMachine.clock = Clock.fixed(Instant.parse(\"2010-01-01T${time}Z\"), UTC)\n        def result = timeMachine.isInInterval()\n        assert result == expected\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1164311,"reputation":1961,"user_id":1143246,"accept_rate":43,"display_name":"Claas Wilke"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1498634235,"creation_date":1498634235,"answer_id":44795939,"question_id":24491260,"body_markdown":"I used a field\r\n\r\n    private Clock clock;\r\n\r\nand then\r\n\r\n    LocalDate.now(clock);\r\n\r\nin my production code. Then I used Mockito in my unit tests to mock the Clock using Clock.fixed():\r\n\r\n    @Mock\r\n    private Clock clock;\r\n    private Clock fixedClock;\r\n\r\nMocking:\r\n\r\n    fixedClock = Clock.fixed(Instant.now(), ZoneId.systemDefault());\r\n    doReturn(fixedClock.instant()).when(clock).instant();\r\n    doReturn(fixedClock.getZone()).when(clock).getZone();\r\n\r\nAssertion:\r\n\r\n    assertThat(expectedLocalDateTime, is(LocalDate.now(fixedClock)));\r\n","title":"Mocking time in Java 8&#39;s java.time API","body":"<p>I used a field</p>\n\n<pre><code>private Clock clock;\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>LocalDate.now(clock);\n</code></pre>\n\n<p>in my production code. Then I used Mockito in my unit tests to mock the Clock using Clock.fixed():</p>\n\n<pre><code>@Mock\nprivate Clock clock;\nprivate Clock fixedClock;\n</code></pre>\n\n<p>Mocking:</p>\n\n<pre><code>fixedClock = Clock.fixed(Instant.now(), ZoneId.systemDefault());\ndoReturn(fixedClock.instant()).when(clock).instant();\ndoReturn(fixedClock.getZone()).when(clock).getZone();\n</code></pre>\n\n<p>Assertion:</p>\n\n<pre><code>assertThat(expectedLocalDateTime, is(LocalDate.now(fixedClock)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6282997,"reputation":995,"user_id":4883320,"display_name":"KiriSakow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594248659,"creation_date":1503472875,"answer_id":45833128,"question_id":24491260,"body_markdown":"## Here&#39;s a working way to override current system time to a specific date for JUnit testing purposes in a Java 8 web application with EasyMock ##\r\n\r\nJoda Time is sure nice (thank you Stephen, Brian, you&#39;ve made our world a better place) but I wasn&#39;t allowed to use it. \r\n\r\nAfter some experimenting, I eventually came up with a way to mock time to a specific date in Java 8&#39;s java.time API with EasyMock\r\n\r\n* Without Joda Time API\r\n* Without PowerMock.\r\n\r\nHere&#39;s what needs to be done:\r\n\r\n## What needs to be done in the tested class ##\r\n\r\n### Step 1 ###\r\nAdd a new `java.time.Clock` attribute to the tested class `MyService` and make sure the new attribute will be initialized properly at default values with an instantiation block or a constructor:\r\n\r\n    import java.time.Clock;\r\n    import java.time.LocalDateTime;\r\n\r\n    public class MyService {\r\n      // (...)\r\n      private Clock clock;\r\n      public Clock getClock() { return clock; }\r\n      public void setClock(Clock newClock) { clock = newClock; }\r\n    \r\n      public void initDefaultClock() {\r\n        setClock(\r\n          Clock.system(\r\n            Clock.systemDefaultZone().getZone() \r\n            // You can just as well use\r\n            // java.util.TimeZone.getDefault().toZoneId() instead\r\n          )\r\n        );\r\n      }\r\n      { initDefaultClock(); } // initialisation in an instantiation block, but \r\n                              // it can be done in a constructor just as well\r\n      // (...)\r\n    }\r\n\r\n### Step 2 ###\r\nInject the new attribute `clock` into the method which calls for a current date-time. For instance, in my case I had to perform a check of whether a date stored in database happened before `LocalDateTime.now()`, which I replaced with `LocalDateTime.now(clock)`, like so:\r\n\r\n    import java.time.Clock;\r\n    import java.time.LocalDateTime;\r\n\r\n    public class MyService {\r\n      // (...)\r\n      protected void doExecute() {\r\n        LocalDateTime dateToBeCompared = someLogic.whichReturns().aDate().fromDB();\r\n        while (dateToBeCompared.isBefore(LocalDateTime.now(clock))) {\r\n          someOtherLogic();\r\n        }\r\n      }\r\n      // (...) \r\n    }\r\n\r\n## What needs to be done in the test class ##\r\n\r\n### Step 3 ###\r\nIn the test class, create a mock clock object and inject it into the tested class&#39;s instance just before you call the tested method `doExecute()`, then reset it back right afterwards, like so:\r\n\r\n    import java.time.Clock;\r\n    import java.time.LocalDateTime;\r\n    import java.time.OffsetDateTime;\r\n    import org.junit.Test;\r\n \r\n    public class MyServiceTest {\r\n      // (...)\r\n      private int year = 2017;  // Be this a specific \r\n      private int month = 2;    // date we need \r\n      private int day = 3;      // to simulate.\r\n \r\n      @Test\r\n      public void doExecuteTest() throws Exception {\r\n        // (...) EasyMock stuff like mock(..), expect(..), replay(..) and whatnot\r\n     \r\n        MyService myService = new MyService();\r\n        Clock mockClock =\r\n          Clock.fixed(\r\n            LocalDateTime.of(year, month, day, 0, 0).toInstant(OffsetDateTime.now().getOffset()),\r\n            Clock.systemDefaultZone().getZone() // or java.util.TimeZone.getDefault().toZoneId()\r\n          );\r\n        myService.setClock(mockClock); // set it before calling the tested method\r\n     \r\n        myService.doExecute(); // calling tested method \r\n \r\n        myService.initDefaultClock(); // reset the clock to default right afterwards with our own previously created method\r\n \r\n        // (...) remaining EasyMock stuff: verify(..) and assertEquals(..)\r\n        }\r\n      }\r\n\r\nCheck it in debug mode and you will see the date of 2017 Feb 3 has been correctly injected into `myService` instance and used in the comparison instruction, and then has been properly reset to current date with `initDefaultClock()`.","title":"Mocking time in Java 8&#39;s java.time API","body":"<h2>Here's a working way to override current system time to a specific date for JUnit testing purposes in a Java 8 web application with EasyMock</h2>\n<p>Joda Time is sure nice (thank you Stephen, Brian, you've made our world a better place) but I wasn't allowed to use it.</p>\n<p>After some experimenting, I eventually came up with a way to mock time to a specific date in Java 8's java.time API with EasyMock</p>\n<ul>\n<li>Without Joda Time API</li>\n<li>Without PowerMock.</li>\n</ul>\n<p>Here's what needs to be done:</p>\n<h2>What needs to be done in the tested class</h2>\n<h3>Step 1</h3>\n<p>Add a new <code>java.time.Clock</code> attribute to the tested class <code>MyService</code> and make sure the new attribute will be initialized properly at default values with an instantiation block or a constructor:</p>\n<pre><code>import java.time.Clock;\nimport java.time.LocalDateTime;\n\npublic class MyService {\n  // (...)\n  private Clock clock;\n  public Clock getClock() { return clock; }\n  public void setClock(Clock newClock) { clock = newClock; }\n\n  public void initDefaultClock() {\n    setClock(\n      Clock.system(\n        Clock.systemDefaultZone().getZone() \n        // You can just as well use\n        // java.util.TimeZone.getDefault().toZoneId() instead\n      )\n    );\n  }\n  { initDefaultClock(); } // initialisation in an instantiation block, but \n                          // it can be done in a constructor just as well\n  // (...)\n}\n</code></pre>\n<h3>Step 2</h3>\n<p>Inject the new attribute <code>clock</code> into the method which calls for a current date-time. For instance, in my case I had to perform a check of whether a date stored in database happened before <code>LocalDateTime.now()</code>, which I replaced with <code>LocalDateTime.now(clock)</code>, like so:</p>\n<pre><code>import java.time.Clock;\nimport java.time.LocalDateTime;\n\npublic class MyService {\n  // (...)\n  protected void doExecute() {\n    LocalDateTime dateToBeCompared = someLogic.whichReturns().aDate().fromDB();\n    while (dateToBeCompared.isBefore(LocalDateTime.now(clock))) {\n      someOtherLogic();\n    }\n  }\n  // (...) \n}\n</code></pre>\n<h2>What needs to be done in the test class</h2>\n<h3>Step 3</h3>\n<p>In the test class, create a mock clock object and inject it into the tested class's instance just before you call the tested method <code>doExecute()</code>, then reset it back right afterwards, like so:</p>\n<pre><code>import java.time.Clock;\nimport java.time.LocalDateTime;\nimport java.time.OffsetDateTime;\nimport org.junit.Test;\n\npublic class MyServiceTest {\n  // (...)\n  private int year = 2017;  // Be this a specific \n  private int month = 2;    // date we need \n  private int day = 3;      // to simulate.\n\n  @Test\n  public void doExecuteTest() throws Exception {\n    // (...) EasyMock stuff like mock(..), expect(..), replay(..) and whatnot\n \n    MyService myService = new MyService();\n    Clock mockClock =\n      Clock.fixed(\n        LocalDateTime.of(year, month, day, 0, 0).toInstant(OffsetDateTime.now().getOffset()),\n        Clock.systemDefaultZone().getZone() // or java.util.TimeZone.getDefault().toZoneId()\n      );\n    myService.setClock(mockClock); // set it before calling the tested method\n \n    myService.doExecute(); // calling tested method \n\n    myService.initDefaultClock(); // reset the clock to default right afterwards with our own previously created method\n\n    // (...) remaining EasyMock stuff: verify(..) and assertEquals(..)\n    }\n  }\n</code></pre>\n<p>Check it in debug mode and you will see the date of 2017 Feb 3 has been correctly injected into <code>myService</code> instance and used in the comparison instruction, and then has been properly reset to current date with <code>initDefaultClock()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582755729,"creation_date":1546544304,"answer_id":54028738,"question_id":24491260,"body_markdown":"I need `LocalDate` instance instead of `LocalDateTime`.  \r\nWith such reason I created following utility class:\r\n\r\n    public final class Clock {\r\n        private static long time;\r\n    \r\n        private Clock() {\r\n        }\r\n    \r\n        public static void setCurrentDate(LocalDate date) {\r\n            Clock.time = date.toEpochDay();\r\n        }\r\n    \r\n        public static LocalDate getCurrentDate() {\r\n            return LocalDate.ofEpochDay(getDateMillis());\r\n        }\r\n    \r\n        public static void resetDate() {\r\n            Clock.time = 0;\r\n        }\r\n    \r\n        private static long getDateMillis() {\r\n            return (time == 0 ? LocalDate.now().toEpochDay() : time);\r\n        }\r\n    }\r\n\r\nAnd usage for it is like:\r\n\r\n    class ClockDemo {\r\n        public static void main(String[] args) {\r\n            System.out.println(Clock.getCurrentDate());\r\n    \r\n            Clock.setCurrentDate(LocalDate.of(1998, 12, 12));\r\n            System.out.println(Clock.getCurrentDate());\r\n    \r\n            Clock.resetDate();\r\n            System.out.println(Clock.getCurrentDate());\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    2019-01-03\r\n    1998-12-12\r\n    2019-01-03\r\n\r\nReplaced all creation `LocalDate.now()` to `Clock.getCurrentDate()` in project.  \r\n\r\nBecause it is ***spring boot*** application. Before `test` profile execution just set a predefined date for all tests:\r\n\r\n    public class TestProfileConfigurer implements ApplicationListener&lt;ApplicationPreparedEvent&gt; {\r\n        private static final LocalDate TEST_DATE_MOCK = LocalDate.of(...);\r\n    \r\n        @Override\r\n        public void onApplicationEvent(ApplicationPreparedEvent event) {\r\n            ConfigurableEnvironment environment = event.getApplicationContext().getEnvironment();\r\n            if (environment.acceptsProfiles(Profiles.of(&quot;test&quot;))) {\r\n                Clock.setCurrentDate(TEST_DATE_MOCK);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd add to ***spring.factories***:\r\n\r\n&gt;org.springframework.context.ApplicationListener=com.init.TestProfileConfigurer","title":"Mocking time in Java 8&#39;s java.time API","body":"<p>I need <code>LocalDate</code> instance instead of <code>LocalDateTime</code>.<br>\nWith such reason I created following utility class:</p>\n\n<pre><code>public final class Clock {\n    private static long time;\n\n    private Clock() {\n    }\n\n    public static void setCurrentDate(LocalDate date) {\n        Clock.time = date.toEpochDay();\n    }\n\n    public static LocalDate getCurrentDate() {\n        return LocalDate.ofEpochDay(getDateMillis());\n    }\n\n    public static void resetDate() {\n        Clock.time = 0;\n    }\n\n    private static long getDateMillis() {\n        return (time == 0 ? LocalDate.now().toEpochDay() : time);\n    }\n}\n</code></pre>\n\n<p>And usage for it is like:</p>\n\n<pre><code>class ClockDemo {\n    public static void main(String[] args) {\n        System.out.println(Clock.getCurrentDate());\n\n        Clock.setCurrentDate(LocalDate.of(1998, 12, 12));\n        System.out.println(Clock.getCurrentDate());\n\n        Clock.resetDate();\n        System.out.println(Clock.getCurrentDate());\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2019-01-03\n1998-12-12\n2019-01-03\n</code></pre>\n\n<p>Replaced all creation <code>LocalDate.now()</code> to <code>Clock.getCurrentDate()</code> in project.  </p>\n\n<p>Because it is <strong><em>spring boot</em></strong> application. Before <code>test</code> profile execution just set a predefined date for all tests:</p>\n\n<pre><code>public class TestProfileConfigurer implements ApplicationListener&lt;ApplicationPreparedEvent&gt; {\n    private static final LocalDate TEST_DATE_MOCK = LocalDate.of(...);\n\n    @Override\n    public void onApplicationEvent(ApplicationPreparedEvent event) {\n        ConfigurableEnvironment environment = event.getApplicationContext().getEnvironment();\n        if (environment.acceptsProfiles(Profiles.of(\"test\"))) {\n            Clock.setCurrentDate(TEST_DATE_MOCK);\n        }\n    }\n}\n</code></pre>\n\n<p>And add to <strong><em>spring.factories</em></strong>:</p>\n\n<blockquote>\n  <p>org.springframework.context.ApplicationListener=com.init.TestProfileConfigurer</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3123026,"reputation":489,"user_id":2642447,"display_name":"pasquale"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1552914287,"creation_date":1552914287,"answer_id":55222088,"question_id":24491260,"body_markdown":"With the help of PowerMockito for a spring boot test you can mock the `ZonedDateTime`.\r\nYou need the following.\r\n## Annotations ##\r\nOn the test class **you need to prepare the service** which uses the the `ZonedDateTime`.\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PowerMockRunnerDelegate(SpringRunner.class)\r\n@PrepareForTest({EscalationService.class})\r\n@SpringBootTest\r\npublic class TestEscalationCases {\r\n  @Autowired\r\n  private EscalationService escalationService;\r\n  //...\r\n}\r\n```\r\n## Test case ##\r\nIn the test you can prepare a desired time, and get it in response of the method call.\r\n```\r\n  @Test\r\n  public void escalateOnMondayAt14() throws Exception {\r\n    ZonedDateTime preparedTime = ZonedDateTime.now();\r\n    preparedTime = preparedTime.with(DayOfWeek.MONDAY);\r\n    preparedTime = preparedTime.withHour(14);\r\n    PowerMockito.mockStatic(ZonedDateTime.class);\r\n    PowerMockito.when(ZonedDateTime.now(ArgumentMatchers.any(ZoneId.class))).thenReturn(preparedTime);\r\n    // ... Assertions \r\n}\r\n```\r\n","title":"Mocking time in Java 8&#39;s java.time API","body":"<p>With the help of PowerMockito for a spring boot test you can mock the <code>ZonedDateTime</code>.\nYou need the following.</p>\n\n<h2>Annotations</h2>\n\n<p>On the test class <strong>you need to prepare the service</strong> which uses the the <code>ZonedDateTime</code>.</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PowerMockRunnerDelegate(SpringRunner.class)\n@PrepareForTest({EscalationService.class})\n@SpringBootTest\npublic class TestEscalationCases {\n  @Autowired\n  private EscalationService escalationService;\n  //...\n}\n</code></pre>\n\n<h2>Test case</h2>\n\n<p>In the test you can prepare a desired time, and get it in response of the method call.</p>\n\n<pre><code>  @Test\n  public void escalateOnMondayAt14() throws Exception {\n    ZonedDateTime preparedTime = ZonedDateTime.now();\n    preparedTime = preparedTime.with(DayOfWeek.MONDAY);\n    preparedTime = preparedTime.withHour(14);\n    PowerMockito.mockStatic(ZonedDateTime.class);\n    PowerMockito.when(ZonedDateTime.now(ArgumentMatchers.any(ZoneId.class))).thenReturn(preparedTime);\n    // ... Assertions \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2575902,"reputation":2290,"user_id":2329437,"accept_rate":80,"display_name":"Alex Facciorusso"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613760187,"creation_date":1613760187,"answer_id":66283307,"question_id":24491260,"body_markdown":"A bit late, but here it is what I use to mock time using the `java.date` API in Kotlin:\r\n    \r\n    val now = LocalDate.of(2021, Month.FEBRUARY, 19)\r\n    val clock = Clock.fixed(Instant.ofEpochSecond(\r\n        now.atStartOfDay().toEpochSecond(ZoneOffset.UTC)\r\n    ), ZoneId.systemDefault())\r\n\r\nand then you can pass your clock to the class to test\r\n\r\n    val classToTest = MyClass(clock)\r\n\r\nOf course, inside your testable class you will use the clock to retrieve dates or times:\r\n\r\n    class MyClass(private val clock: Clock = Clock.systemDefaultZone()) {\r\n        // ...\r\n        fun doSomething() = LocalDate.now(clock)...","title":"Mocking time in Java 8&#39;s java.time API","body":"<p>A bit late, but here it is what I use to mock time using the <code>java.date</code> API in Kotlin:</p>\n<pre><code>val now = LocalDate.of(2021, Month.FEBRUARY, 19)\nval clock = Clock.fixed(Instant.ofEpochSecond(\n    now.atStartOfDay().toEpochSecond(ZoneOffset.UTC)\n), ZoneId.systemDefault())\n</code></pre>\n<p>and then you can pass your clock to the class to test</p>\n<pre><code>val classToTest = MyClass(clock)\n</code></pre>\n<p>Of course, inside your testable class you will use the clock to retrieve dates or times:</p>\n<pre><code>class MyClass(private val clock: Clock = Clock.systemDefaultZone()) {\n    // ...\n    fun doSomething() = LocalDate.now(clock)...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13313741,"reputation":805,"user_id":9610893,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624604146,"creation_date":1624604146,"answer_id":68126716,"question_id":24491260,"body_markdown":"Use jmockit:\r\n\r\nCode:\r\n\r\n```\r\n// Mocking time as 9am\r\nfinal String mockTime = &quot;09:00:00&quot;\r\nnew MockUp&lt;LocalTime&gt;() {\r\n       @Mock\r\n       public LocalTime now() {\r\n           return LocalTime.parse(mockTime);\r\n       }\r\n};\r\n```\r\n\r\nImports:\r\n```\r\nimport mockit.MockUp;\r\nimport mockit.Mock;\r\n```\r\nDependency:\r\n```\r\n&lt;groupId&gt;org.jmockit&lt;/groupId&gt;\r\n&lt;artifactId&gt;jmockit&lt;/artifactId&gt;\r\n&lt;version&gt;1.41&lt;/version&gt;\r\n```","title":"Mocking time in Java 8&#39;s java.time API","body":"<p>Use jmockit:</p>\n<p>Code:</p>\n<pre><code>// Mocking time as 9am\nfinal String mockTime = &quot;09:00:00&quot;\nnew MockUp&lt;LocalTime&gt;() {\n       @Mock\n       public LocalTime now() {\n           return LocalTime.parse(mockTime);\n       }\n};\n</code></pre>\n<p>Imports:</p>\n<pre><code>import mockit.MockUp;\nimport mockit.Mock;\n</code></pre>\n<p>Dependency:</p>\n<pre><code>&lt;groupId&gt;org.jmockit&lt;/groupId&gt;\n&lt;artifactId&gt;jmockit&lt;/artifactId&gt;\n&lt;version&gt;1.41&lt;/version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648817021,"creation_date":1631359305,"answer_id":69142499,"question_id":24491260,"body_markdown":"I used `java.time.Clock` with mockito dependency\r\n```\r\ntestImplementation(&quot;org.mockito:mockito-core&quot;)\r\ntestImplementation(&quot;org.mockito:mockito-inline&quot;)\r\n```\r\nThe service class uses a `Clock` field which will be mocked on the test.\r\n```\r\n@Service\r\npublic class TimeTestWithDateService {\r\n    private final Clock clock = Clock.systemUTC();\r\n\r\n    public TimeTest plan(UUID orderId) {\r\n        return TimeTest.builder()\r\n                .id(UUID.randomUUID())\r\n                .orderId(orderId)\r\n                .createdAt(ZonedDateTime.now(clock))\r\n                .plannedAt(ZonedDateTime.now(clock)\r\n                        .plusDays(1)\r\n                        .withHour(8)\r\n                        .truncatedTo(ChronoUnit.HOURS))\r\n                .build();\r\n    }\r\n\r\n    public TimeTest ship(TimeTest timeTest) {\r\n        return TimeTest.builder()\r\n                .id(timeTest.getId())\r\n                .orderId(timeTest.getOrderId())\r\n                .createdAt(timeTest.getCreatedAt())\r\n                .shippedAt(ZonedDateTime.now(clock))\r\n                .build();\r\n    }\r\n}\r\n\r\n@Value\r\n@Builder\r\npublic class TimeTest {\r\n    private UUID id;\r\n    private UUID orderId;\r\n    private ZonedDateTime createdAt;\r\n    private ZonedDateTime plannedAt;\r\n    private ZonedDateTime shippedAt;\r\n}\r\n```\r\n\r\nThe unit test uses the `Mockito.mockStatic` to mock the `Clock`.\r\n```\r\n@SpringBootTest\r\npublic class TimeTestWithDateServiceTest {\r\n    @Autowired\r\n    private TimeTestWithDateService timeTestService;\r\n\r\n    private static Clock clock;\r\n    private static ZonedDateTime now;\r\n\r\n    @BeforeAll\r\n    static void setupClock() {\r\n        clock = Clock.fixed(\r\n                Instant.parse(&quot;2020-12-01T10:05:23.653Z&quot;),\r\n                ZoneId.of(&quot;Europe/Prague&quot;));\r\n        now = ZonedDateTime.now(clock);\r\n\r\n        var clockMock = Mockito.mockStatic(Clock.class);\r\n        clockMock.when(Clock::systemUTC).thenReturn(clock);\r\n    }\r\n\r\n    @Test\r\n    void timeTest_is_planned() {\r\n        var orderId = UUID.randomUUID();\r\n        var timeTest = timeTestService.plan(orderId);\r\n\r\n        var tomorrowAt8am = now.plusDays(1).withHour(8).truncatedTo(ChronoUnit.HOURS);\r\n\r\n        assertAll(\r\n                () -&gt; assertThat(timeTest).isNotNull(),\r\n                () -&gt; assertThat(timeTest.getId()).isNotNull(),\r\n                () -&gt; assertThat(timeTest.getOrderId()).isEqualTo(orderId),\r\n                () -&gt; assertThat(timeTest.getCreatedAt()).isEqualTo(now),\r\n                () -&gt; assertThat(timeTest.getPlannedAt()).isEqualTo(tomorrowAt8am),\r\n                () -&gt; assertThat(timeTest.getShippedAt()).isNull()\r\n        );\r\n    }\r\n\r\n    @Test\r\n    void timeTest_is_shipped() {\r\n        var timeTest = timeTestService.plan(UUID.randomUUID());\r\n        var shipped = timeTestService.ship(timeTest);\r\n        assertAll(\r\n                () -&gt; assertThat(shipped).isNotNull(),\r\n                () -&gt; assertThat(shipped.getId()).isEqualTo(timeTest.getId()),\r\n                () -&gt; assertThat(shipped.getOrderId()).isEqualTo(timeTest.getOrderId()),\r\n                () -&gt; assertThat(shipped.getCreatedAt()).isEqualTo(timeTest.getCreatedAt()),\r\n                () -&gt; assertThat(shipped.getShippedAt()).isEqualTo(now)\r\n        );\r\n    }\r\n}\r\n```","title":"Mocking time in Java 8&#39;s java.time API","body":"<p>I used <code>java.time.Clock</code> with mockito dependency</p>\n<pre><code>testImplementation(&quot;org.mockito:mockito-core&quot;)\ntestImplementation(&quot;org.mockito:mockito-inline&quot;)\n</code></pre>\n<p>The service class uses a <code>Clock</code> field which will be mocked on the test.</p>\n<pre><code>@Service\npublic class TimeTestWithDateService {\n    private final Clock clock = Clock.systemUTC();\n\n    public TimeTest plan(UUID orderId) {\n        return TimeTest.builder()\n                .id(UUID.randomUUID())\n                .orderId(orderId)\n                .createdAt(ZonedDateTime.now(clock))\n                .plannedAt(ZonedDateTime.now(clock)\n                        .plusDays(1)\n                        .withHour(8)\n                        .truncatedTo(ChronoUnit.HOURS))\n                .build();\n    }\n\n    public TimeTest ship(TimeTest timeTest) {\n        return TimeTest.builder()\n                .id(timeTest.getId())\n                .orderId(timeTest.getOrderId())\n                .createdAt(timeTest.getCreatedAt())\n                .shippedAt(ZonedDateTime.now(clock))\n                .build();\n    }\n}\n\n@Value\n@Builder\npublic class TimeTest {\n    private UUID id;\n    private UUID orderId;\n    private ZonedDateTime createdAt;\n    private ZonedDateTime plannedAt;\n    private ZonedDateTime shippedAt;\n}\n</code></pre>\n<p>The unit test uses the <code>Mockito.mockStatic</code> to mock the <code>Clock</code>.</p>\n<pre><code>@SpringBootTest\npublic class TimeTestWithDateServiceTest {\n    @Autowired\n    private TimeTestWithDateService timeTestService;\n\n    private static Clock clock;\n    private static ZonedDateTime now;\n\n    @BeforeAll\n    static void setupClock() {\n        clock = Clock.fixed(\n                Instant.parse(&quot;2020-12-01T10:05:23.653Z&quot;),\n                ZoneId.of(&quot;Europe/Prague&quot;));\n        now = ZonedDateTime.now(clock);\n\n        var clockMock = Mockito.mockStatic(Clock.class);\n        clockMock.when(Clock::systemUTC).thenReturn(clock);\n    }\n\n    @Test\n    void timeTest_is_planned() {\n        var orderId = UUID.randomUUID();\n        var timeTest = timeTestService.plan(orderId);\n\n        var tomorrowAt8am = now.plusDays(1).withHour(8).truncatedTo(ChronoUnit.HOURS);\n\n        assertAll(\n                () -&gt; assertThat(timeTest).isNotNull(),\n                () -&gt; assertThat(timeTest.getId()).isNotNull(),\n                () -&gt; assertThat(timeTest.getOrderId()).isEqualTo(orderId),\n                () -&gt; assertThat(timeTest.getCreatedAt()).isEqualTo(now),\n                () -&gt; assertThat(timeTest.getPlannedAt()).isEqualTo(tomorrowAt8am),\n                () -&gt; assertThat(timeTest.getShippedAt()).isNull()\n        );\n    }\n\n    @Test\n    void timeTest_is_shipped() {\n        var timeTest = timeTestService.plan(UUID.randomUUID());\n        var shipped = timeTestService.ship(timeTest);\n        assertAll(\n                () -&gt; assertThat(shipped).isNotNull(),\n                () -&gt; assertThat(shipped.getId()).isEqualTo(timeTest.getId()),\n                () -&gt; assertThat(shipped.getOrderId()).isEqualTo(timeTest.getOrderId()),\n                () -&gt; assertThat(shipped.getCreatedAt()).isEqualTo(timeTest.getCreatedAt()),\n                () -&gt; assertThat(shipped.getShippedAt()).isEqualTo(now)\n        );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13906730,"reputation":190,"user_id":10040903,"display_name":"kokojustin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636507119,"creation_date":1636507119,"answer_id":69906919,"question_id":24491260,"body_markdown":"here is the answer : https://gabstory.com/70?category=933660\r\n\r\n\r\n\r\n```\r\nimport com.nhaarman.mockitokotlin2.given\r\nimport org.junit.jupiter.api.Assertions.assertEquals\r\nimport org.junit.jupiter.api.BeforeEach\r\nimport org.junit.jupiter.api.Test\r\nimport org.junit.jupiter.api.extension.ExtendWith\r\nimport org.mockito.Mock\r\nimport org.mockito.Mockito.mockStatic\r\nimport org.mockito.junit.jupiter.MockitoExtension\r\nimport org.springframework.data.projection.ProjectionFactory\r\nimport org.springframework.data.projection.SpelAwareProxyProjectionFactory\r\nimport java.time.Clock\r\nimport java.time.ZonedDateTime\r\n\r\n@ExtendWith(MockitoExtension::class)\r\nclass MyTest {\r\n   private val clock = Clock.fixed(ZonedDateTime.parse(&quot;2021-10-25T00:00:00.000+09:00[Asia/Seoul]&quot;).toInstant(), SEOUL_ZONE_ID)\r\n   \r\n    @BeforeEach\r\n    fun setup() {\r\n        runCatching {\r\n            val clockMock = mockStatic(Clock::class.java)\r\n            clockMock.`when`&lt;Clock&gt;(Clock::systemDefaultZone).thenReturn(clock)\r\n        }\r\n    }\r\n    \r\n    @Test\r\n    fun today(){\r\n      assertEquals(&quot;2021-10-25T00:00+09:00[Asia/Seoul]&quot;, ZonedDateTime.now().toString())\r\n    }\r\n}\r\n```","title":"Mocking time in Java 8&#39;s java.time API","body":"<p>here is the answer : <a href=\"https://gabstory.com/70?category=933660\" rel=\"nofollow noreferrer\">https://gabstory.com/70?category=933660</a></p>\n<pre><code>import com.nhaarman.mockitokotlin2.given\nimport org.junit.jupiter.api.Assertions.assertEquals\nimport org.junit.jupiter.api.BeforeEach\nimport org.junit.jupiter.api.Test\nimport org.junit.jupiter.api.extension.ExtendWith\nimport org.mockito.Mock\nimport org.mockito.Mockito.mockStatic\nimport org.mockito.junit.jupiter.MockitoExtension\nimport org.springframework.data.projection.ProjectionFactory\nimport org.springframework.data.projection.SpelAwareProxyProjectionFactory\nimport java.time.Clock\nimport java.time.ZonedDateTime\n\n@ExtendWith(MockitoExtension::class)\nclass MyTest {\n   private val clock = Clock.fixed(ZonedDateTime.parse(&quot;2021-10-25T00:00:00.000+09:00[Asia/Seoul]&quot;).toInstant(), SEOUL_ZONE_ID)\n   \n    @BeforeEach\n    fun setup() {\n        runCatching {\n            val clockMock = mockStatic(Clock::class.java)\n            clockMock.`when`&lt;Clock&gt;(Clock::systemDefaultZone).thenReturn(clock)\n        }\n    }\n    \n    @Test\n    fun today(){\n      assertEquals(&quot;2021-10-25T00:00+09:00[Asia/Seoul]&quot;, ZonedDateTime.now().toString())\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7660,"reputation":15986,"user_id":13365,"accept_rate":70,"display_name":"neu242"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125782,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":24491814,"answer_count":12,"score":113,"last_activity_date":1648817021,"creation_date":1404134958,"question_id":24491260,"body_markdown":"Joda Time has a nice [DateTimeUtils.setCurrentMillisFixed()][1] to mock time.  \r\n\r\nIt&#39;s very practical in tests.  \r\n\r\nIs there an equivalent in [Java 8&#39;s java.time API][2]?\r\n\r\n\r\n  [1]: https://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeUtils.html#setCurrentMillisFixed-long-\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"Mocking time in Java 8&#39;s java.time API","body":"<p>Joda Time has a nice <a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeUtils.html#setCurrentMillisFixed-long-\" rel=\"noreferrer\">DateTimeUtils.setCurrentMillisFixed()</a> to mock time.  </p>\n\n<p>It's very practical in tests.  </p>\n\n<p>Is there an equivalent in <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">Java 8's java.time API</a>?</p>\n"},{"tags":["java","c++","c","algorithm","josephus"],"answers":[{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1290939584,"creation_date":1290939584,"answer_id":4296322,"question_id":4296180,"body_markdown":"the index is zero-based as opposed to the value itself (letters would be better values).  \r\nExample of removing the value `5`: before removing, next index of the node with value `4` is 4, which points to value `5`; after removing, next index is changed to 5, pointing to value `6` (next changed from 4 to 5).  \r\n\r\nOr, using the prefix `v` to indicate values:  \r\n\r\n**before**  \r\n\r\n        index ...  3  4  5 ...\r\n        ----------------------\r\n        value     v4 v5 v6\r\n        next       4  5  6\r\n  \r\n\r\n**after**  \r\n\r\n        index ...  3  4  5 ...\r\n        ----------------------\r\n        value     v4 v5 v6\r\n        next       5  5  6  \r\n\r\nas you can see the node `v4` is followed by `v6` (index 5) practically removing `v5` from the chain.","title":"Regarding representation of Josephus puzzle using arrays","body":"<p>the index is zero-based as opposed to the value itself (letters would be better values).<br>\nExample of removing the value <code>5</code>: before removing, next index of the node with value <code>4</code> is 4, which points to value <code>5</code>; after removing, next index is changed to 5, pointing to value <code>6</code> (next changed from 4 to 5).  </p>\n\n<p>Or, using the prefix <code>v</code> to indicate values:  </p>\n\n<p><strong>before</strong>  </p>\n\n<pre><code>    index ...  3  4  5 ...\n    ----------------------\n    value     v4 v5 v6\n    next       4  5  6\n</code></pre>\n\n<p><strong>after</strong>  </p>\n\n<pre><code>    index ...  3  4  5 ...\n    ----------------------\n    value     v4 v5 v6\n    next       5  5  6  \n</code></pre>\n\n<p>as you can see the node <code>v4</code> is followed by <code>v6</code> (index 5) practically removing <code>v5</code> from the chain.</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648816979,"creation_date":1648816979,"answer_id":71707111,"question_id":4296180,"body_markdown":"The values in the `next` array are the index of the next value in the chain. If you want to remove the value 5, which sits at index 4, you have to change `next[3]` from 4 to 5, so that the value at index 4 is effectively removed from the circle and will be skipped on later traversals.\r\n\r\n[![Josephus array implementation][1]][1]\r\n\r\nAfter the update highlighted, the &quot;node&quot; with a value of 4 points to the &quot;node&quot; with a value of 6.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tdewK.gif","title":"Regarding representation of Josephus puzzle using arrays","body":"<p>The values in the <code>next</code> array are the index of the next value in the chain. If you want to remove the value 5, which sits at index 4, you have to change <code>next[3]</code> from 4 to 5, so that the value at index 4 is effectively removed from the circle and will be skipped on later traversals.</p>\n<p><a href=\"https://i.stack.imgur.com/tdewK.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tdewK.gif\" alt=\"Josephus array implementation\" /></a></p>\n<p>After the update highlighted, the &quot;node&quot; with a value of 4 points to the &quot;node&quot; with a value of 6.</p>\n"}],"owner":{"account_id":246015,"reputation":11137,"user_id":519882,"accept_rate":62,"display_name":"venkysmarty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4296322,"answer_count":2,"score":1,"last_activity_date":1648816979,"creation_date":1290936858,"question_id":4296180,"body_markdown":"Algorithms by Robert Sedwick, It was mentioned that linked list can be represented using Arrays, at following link \r\n \r\n  http://flylib.com/books/en/3.55.1.34/1/ \r\n\r\n Fig 3.8, here if 5 is removed from my understanding next 4 should be changed to index 6 as val 5 is removed, as we go thourgh the figure at item 4 is removed  next of val 3 is chaned. I am not following the logic of the figure. can aany one please help me.\r\n\r\nThanks!","title":"Regarding representation of Josephus puzzle using arrays","body":"<p>Algorithms by Robert Sedwick, It was mentioned that linked list can be represented using Arrays, at following link </p>\n\n<p><a href=\"http://flylib.com/books/en/3.55.1.34/1/\" rel=\"nofollow\">http://flylib.com/books/en/3.55.1.34/1/</a> </p>\n\n<p>Fig 3.8, here if 5 is removed from my understanding next 4 should be changed to index 6 as val 5 is removed, as we go thourgh the figure at item 4 is removed  next of val 3 is chaned. I am not following the logic of the figure. can aany one please help me.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","oop","encapsulation","data-hiding"],"comments":[{"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"score":0,"creation_date":1648798990,"post_id":71702997,"comment_id":126720434,"body_markdown":"I hope https://docstore.mik.ua/orelly/java-ent/jnut/ch03_05.htm will answer your question.","body":"I hope <a href=\"https://docstore.mik.ua/orelly/java-ent/jnut/ch03_05.htm\" rel=\"nofollow noreferrer\">docstore.mik.ua/orelly/java-ent/jnut/ch03_05.htm</a> will answer your question."},{"owner":{"account_id":17924121,"reputation":95,"user_id":13023168,"display_name":"SMValiAli"},"score":0,"creation_date":1648802067,"post_id":71702997,"comment_id":126721465,"body_markdown":"Thank you but I need two or three users who tries to access same data . I have read many tutorials but couldnot understand.","body":"Thank you but I need two or three users who tries to access same data . I have read many tutorials but couldnot understand."},{"owner":{"account_id":17924121,"reputation":95,"user_id":13023168,"display_name":"SMValiAli"},"score":0,"creation_date":1648802134,"post_id":71702997,"comment_id":126721480,"body_markdown":"Want a sample example of banking with and without data hiding please help me to understad.","body":"Want a sample example of banking with and without data hiding please help me to understad."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648805596,"post_id":71702997,"comment_id":126722634,"body_markdown":"I am not sure what you are asking for. Imagine you walk into your bank, you show your passport, and then the guy behind the counter tells how much money you got in your account, and allows you to take some of it. Would he tell you whether your neighbour has an account there, or how much money is in that account, or to take money from that account? Nope. And any real IT system does the same. But note: &quot;data hiding&quot; is a much more &quot;low level&quot; concept. There we simply talk about the HIDING of &quot;internal status&quot; of objects of some class. That doesn&#39;t really correlate to your request about ...","body":"I am not sure what you are asking for. Imagine you walk into your bank, you show your passport, and then the guy behind the counter tells how much money you got in your account, and allows you to take some of it. Would he tell you whether your neighbour has an account there, or how much money is in that account, or to take money from that account? Nope. And any real IT system does the same. But note: &quot;data hiding&quot; is a much more &quot;low level&quot; concept. There we simply talk about the HIDING of &quot;internal status&quot; of objects of some class. That doesn&#39;t really correlate to your request about ..."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648805651,"post_id":71702997,"comment_id":126722653,"body_markdown":"multiple users and such. You are somehow over- and underthinking this at the same time.","body":"multiple users and such. You are somehow over- and underthinking this at the same time."}],"answers":[{"tags":[],"owner":{"account_id":24760146,"reputation":1,"user_id":18644659,"display_name":"mukta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648802826,"creation_date":1648802826,"answer_id":71704196,"question_id":71702997,"body_markdown":"Data Hiding is hiding internal data from outside users. This is achieved by making the attributes of your class private and not letting the objects of the class access it directly, instead we create getters and setters to access the private attributes.\r\nExample:\r\n\r\n//Without Data Hiding \r\n\r\n    public class Model{\r\n    public String name;\r\n    }\r\n    \r\n    public class JavaApp{\r\n    public static void main(String args[]){\r\n    Model mObj = new Model();\r\n    mObj.name=&quot;abc&quot;;     // name = &quot;abc&quot;\r\n    \r\n    }\r\n    }\r\n    \r\n//With Data Hiding\r\n    \r\n    public class Model{\r\n    private String name;   //private name\r\n    }\r\n    \r\n    public class JavaApp{\r\n    public static void main(String args[]){\r\n    Model mObj = new Model();\r\n    mObj.name=&quot;abc&quot;;     // Error\r\n    }\r\n    }","title":"Program without and with data hiding in java","body":"<p>Data Hiding is hiding internal data from outside users. This is achieved by making the attributes of your class private and not letting the objects of the class access it directly, instead we create getters and setters to access the private attributes.\nExample:</p>\n<p>//Without Data Hiding</p>\n<pre><code>public class Model{\npublic String name;\n}\n\npublic class JavaApp{\npublic static void main(String args[]){\nModel mObj = new Model();\nmObj.name=&quot;abc&quot;;     // name = &quot;abc&quot;\n\n}\n}\n</code></pre>\n<p>//With Data Hiding</p>\n<pre><code>public class Model{\nprivate String name;   //private name\n}\n\npublic class JavaApp{\npublic static void main(String args[]){\nModel mObj = new Model();\nmObj.name=&quot;abc&quot;;     // Error\n}\n}\n</code></pre>\n"}],"owner":{"account_id":17924121,"reputation":95,"user_id":13023168,"display_name":"SMValiAli"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648816834,"creation_date":1648796463,"question_id":71702997,"body_markdown":"I have studied data hiding in java theoretically but don&#39;t know what is happening inside. Every tutorial, states that unauthorized persons cant access the data of others.\r\n\r\nCan anyone please give an example of what will happen without and with data hiding with two or three users programmatically?","title":"Program without and with data hiding in java","body":"<p>I have studied data hiding in java theoretically but don't know what is happening inside. Every tutorial, states that unauthorized persons cant access the data of others.</p>\n<p>Can anyone please give an example of what will happen without and with data hiding with two or three users programmatically?</p>\n"},{"tags":["java","matlab","julia","bufferedreader"],"comments":[{"owner":{"account_id":13796662,"reputation":40668,"user_id":9957710,"display_name":"Przemyslaw Szufel"},"score":1,"creation_date":1629242177,"post_id":68822890,"comment_id":121634074,"body_markdown":"Calling Matlab directly from Julia works really well via Matlab.jl. Would that work for you? And calling Julia from Matlab is also possible via Mex.jl https://github.com/jebej/Mex.jl/.","body":"Calling Matlab directly from Julia works really well via Matlab.jl. Would that work for you? And calling Julia from Matlab is also possible via Mex.jl <a href=\"https://github.com/jebej/Mex.jl/\" rel=\"nofollow noreferrer\">github.com/jebej/Mex.jl</a>."},{"owner":{"account_id":1181917,"reputation":390,"user_id":1156675,"accept_rate":40,"display_name":"bardo"},"score":0,"creation_date":1629261372,"post_id":68822890,"comment_id":121636756,"body_markdown":"In some applications, I have to call Julia from Matlab because of existing frameworks. Julia then could replace the work-intensive Mex files. I had no luck getting Mex.jl (and others using the API) to work. The discourse postings and issue trackers give the impression that an interface has changed. These posts are already a couple of years old. Please let me know if you are more successful! - Thats why I choose the (stable) command-line interface. The bulk of IO is then done via files, pipes, sockets or memory maps.  The CLI is merely used to signal function call completion.","body":"In some applications, I have to call Julia from Matlab because of existing frameworks. Julia then could replace the work-intensive Mex files. I had no luck getting Mex.jl (and others using the API) to work. The discourse postings and issue trackers give the impression that an interface has changed. These posts are already a couple of years old. Please let me know if you are more successful! - Thats why I choose the (stable) command-line interface. The bulk of IO is then done via files, pipes, sockets or memory maps.  The CLI is merely used to signal function call completion."},{"owner":{"account_id":1390247,"reputation":1111,"user_id":1321247,"display_name":"X Zhang"},"score":0,"creation_date":1629702002,"post_id":68822890,"comment_id":121746294,"body_markdown":"The call() stops updating at the first false in.ready(), which could happen well before the completion of the external program. Potential fix could be (1) keep updating until a keyword returns (2) keep updating until multiple false in.ready() accumulation (e.g. for 500 ms)","body":"The call() stops updating at the first false in.ready(), which could happen well before the completion of the external program. Potential fix could be (1) keep updating until a keyword returns (2) keep updating until multiple false in.ready() accumulation (e.g. for 500 ms)"},{"owner":{"account_id":1181917,"reputation":390,"user_id":1156675,"accept_rate":40,"display_name":"bardo"},"score":0,"creation_date":1629788851,"post_id":68822890,"comment_id":121772531,"body_markdown":"Yes, the keyword solution appears the most stable.","body":"Yes, the keyword solution appears the most stable."}],"answers":[{"tags":[],"owner":{"account_id":1390247,"reputation":1111,"user_id":1321247,"display_name":"X Zhang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648816569,"creation_date":1648816569,"answer_id":71707012,"question_id":68822890,"body_markdown":"The call() function in this script stops updating at the first false in.ready(), which could happen well before the completion of the external program. Potential fix could be (1) keep updating until a keyword returns (2) keep updating until multiple false in.ready() accumulation (e.g. for 500 ms).","title":"A Java Matlab/Julia Interface","body":"<p>The call() function in this script stops updating at the first false in.ready(), which could happen well before the completion of the external program. Potential fix could be (1) keep updating until a keyword returns (2) keep updating until multiple false in.ready() accumulation (e.g. for 500 ms).</p>\n"}],"owner":{"account_id":1181917,"reputation":390,"user_id":1156675,"accept_rate":40,"display_name":"bardo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1648816569,"creation_date":1629227737,"question_id":68822890,"body_markdown":"In the Matlab code below I use Java to create a command-line interface to the external Julia program.\r\nWorking in principle, I can experience (timing?) problems where the output is garbled, not complete, or delayed.\r\n\r\nAre there better methods, how to assure the completion of the external program?\r\n\r\n \r\n    function obj = JuliaServer\r\n    \r\n    % Use:\r\n    % jl = JuliaServer\r\n    % jl.start()\r\n    % jl.call(&#39;cos.(randn(3,3))&#39;)\r\n    % ...\r\n    % jl.stop()\r\n    \r\n    import java.io.*\r\n    import java.net.*\r\n    \r\n    %% properties\r\n    \r\n    in = 0;\r\n    out = 0;\r\n    err = 0;\r\n    \r\n    %% public methods\r\n    \r\n    obj.start = @start;\r\n    obj.call = @call;\r\n    obj.stop = @stop;\r\n    \r\n    %% methods\r\n    \r\n        function start\r\n            rt = java.lang.Runtime.getRuntime();\r\n            pr = rt.exec(&#39;julia -iq&#39;);\r\n            in = BufferedReader(InputStreamReader(pr.getInputStream()));\r\n            out = PrintWriter(pr.getOutputStream());\r\n            err = BufferedReader(InputStreamReader(pr.getErrorStream()));\r\n        end\r\n    \r\n        function [res, errmsg] = call(cmd)\r\n            println(out, cmd);\r\n            flush(out);\r\n            while ~(ready(in) || ready(err)), end\r\n            res = &#39;&#39;;\r\n            while (ready(in))\r\n                res = append(res, sprintf(&#39;%s\\n&#39;, strtrim(char(readLine(in)))));\r\n            end\r\n            errmsg = &#39;&#39;;\r\n            if ready(err)\r\n                errmsg = sprintf(&#39;cmd: &#39;&#39;%s&#39;&#39;\\n&#39;, cmd);\r\n                while (ready(err))\r\n                    errmsg = append(errmsg, sprintf(&#39;%s\\n&#39;, strtrim(char(readLine(err)))));\r\n                end\r\n                error(errmsg)\r\n            end\r\n        end\r\n    \r\n        function stop\r\n            println(out, &#39;exit()&#39;);\r\n            out.flush();\r\n        end\r\n    \r\n    end\r\n\r\n","title":"A Java Matlab/Julia Interface","body":"<p>In the Matlab code below I use Java to create a command-line interface to the external Julia program.\nWorking in principle, I can experience (timing?) problems where the output is garbled, not complete, or delayed.</p>\n<p>Are there better methods, how to assure the completion of the external program?</p>\n<pre><code>function obj = JuliaServer\n\n% Use:\n% jl = JuliaServer\n% jl.start()\n% jl.call('cos.(randn(3,3))')\n% ...\n% jl.stop()\n\nimport java.io.*\nimport java.net.*\n\n%% properties\n\nin = 0;\nout = 0;\nerr = 0;\n\n%% public methods\n\nobj.start = @start;\nobj.call = @call;\nobj.stop = @stop;\n\n%% methods\n\n    function start\n        rt = java.lang.Runtime.getRuntime();\n        pr = rt.exec('julia -iq');\n        in = BufferedReader(InputStreamReader(pr.getInputStream()));\n        out = PrintWriter(pr.getOutputStream());\n        err = BufferedReader(InputStreamReader(pr.getErrorStream()));\n    end\n\n    function [res, errmsg] = call(cmd)\n        println(out, cmd);\n        flush(out);\n        while ~(ready(in) || ready(err)), end\n        res = '';\n        while (ready(in))\n            res = append(res, sprintf('%s\\n', strtrim(char(readLine(in)))));\n        end\n        errmsg = '';\n        if ready(err)\n            errmsg = sprintf('cmd: ''%s''\\n', cmd);\n            while (ready(err))\n                errmsg = append(errmsg, sprintf('%s\\n', strtrim(char(readLine(err)))));\n            end\n            error(errmsg)\n        end\n    end\n\n    function stop\n        println(out, 'exit()');\n        out.flush();\n    end\n\nend\n</code></pre>\n"},{"tags":["java","parsing","kubernetes","multiline","fluent-bit"],"comments":[{"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"score":0,"creation_date":1617027291,"post_id":64371039,"comment_id":118179011,"body_markdown":"fluent-bit now has an article about this that you can reference: https://fluentbit.io/blog/2020/12/15/multiline-logging-with-fluent-bit/","body":"fluent-bit now has an article about this that you can reference: <a href=\"https://fluentbit.io/blog/2020/12/15/multiline-logging-with-fluent-bit/\" rel=\"nofollow noreferrer\">fluentbit.io/blog/2020/12/15/multiline-logging-with-fluent-b&zwnj;&#8203;it</a>"},{"owner":{"account_id":9883159,"reputation":2122,"user_id":7391331,"display_name":"trallnag"},"score":0,"creation_date":1648637224,"post_id":64371039,"comment_id":126673465,"body_markdown":"@takanuva15, the link is dead by now","body":"@takanuva15, the link is dead by now"},{"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"score":0,"creation_date":1648731738,"post_id":64371039,"comment_id":126702792,"body_markdown":"@trallnag thanks for the notification. I was able to find [a snapshot](http://web.archive.org/web/20210613140544/https://fluentbit.io/blog/2020/12/15/multiline-logging-with-fluent-bit/) of the website at webarchive. It may not be relevant for newer versions of fluent-bit though, so [this google search](https://www.google.com/search?q=multiline-logging-with-fluent-bit&amp;rlz=1C1CHBF_enUS950US950&amp;oq=multiline-logging-with-fluent-bit&amp;aqs=chrome..69i57.760j0j4&amp;sourceid=chrome&amp;ie=UTF-8) may prove to be more useful for others who have this question.","body":"@trallnag thanks for the notification. I was able to find <a href=\"http://web.archive.org/web/20210613140544/https://fluentbit.io/blog/2020/12/15/multiline-logging-with-fluent-bit/\" rel=\"nofollow noreferrer\">a snapshot</a> of the website at webarchive. It may not be relevant for newer versions of fluent-bit though, so <a href=\"https://www.google.com/search?q=multiline-logging-with-fluent-bit&amp;rlz=1C1CHBF_enUS950US950&amp;oq=multiline-logging-with-fluent-bit&amp;aqs=chrome..69i57.760j0j4&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">this google search</a> may prove to be more useful for others who have this question."}],"answers":[{"tags":[],"owner":{"account_id":16625137,"reputation":3499,"user_id":12014434,"display_name":"Piotr Malec"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1602774460,"creation_date":1602774460,"answer_id":64374573,"question_id":64371039,"body_markdown":"According to fluentd [documentation][1]:\r\n\r\n## \r\n\r\n&gt;Additional Step 2: Concatenate Multiple Lines Log Messages[](#additional-step-2-concatenate-multiple-lines-log-messages)\r\n&gt;\r\n&gt;The application log is stored in the `log` field of the record. You can concatenate these logs by using [`fluent-plugin-concat`](https://github.com/fluent-plugins-nursery/fluent-plugin-concat) filter before sending it to the destinations.\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt;     &lt;filter docker.**&gt;\r\n&gt;       @type concat\r\n&gt;       key log\r\n&gt;       stream_identity_key container_id\r\n&gt;       multiline_start_regexp /^-e:2:in `\\/&#39;/\r\n&gt;       multiline_end_regexp /^-e:4:in/\r\n&gt;     &lt;/filter&gt;\r\n\r\nOriginal Events:\r\n\r\n&gt;     2016-04-13 14:45:55 +0900 docker.28cf38e21204: {&quot;container_id&quot;:&quot;28cf38e212042225f5f80a56fac08f34c8f0b235e738900c4e0abcf39253a702&quot;,&quot;container_name&quot;:&quot;/romantic_dubinsky&quot;,&quot;source&quot;:&quot;stdout&quot;,&quot;log&quot;:&quot;-e:2:in `/&#39;&quot;}\r\n&gt;     2016-04-13 14:45:55 +0900 docker.28cf38e21204: {&quot;source&quot;:&quot;stdout&quot;,&quot;log&quot;:&quot;-e:2:in `do_division_by_zero&#39;&quot;,&quot;container_id&quot;:&quot;28cf38e212042225f5f80a56fac08f34c8f0b235e738900c4e0abcf39253a702&quot;,&quot;container_name&quot;:&quot;/romantic_dubinsky&quot;}\r\n&gt;     2016-04-13 14:45:55 +0900 docker.28cf38e21204: {&quot;source&quot;:&quot;stdout&quot;,&quot;log&quot;:&quot;-e:4:in `&lt;main&gt;&#39;&quot;,&quot;container_id&quot;:&quot;28cf38e212042225f5f80a56fac08f34c8f0b235e738900c4e0abcf39253a702&quot;,&quot;container_name&quot;:&quot;/romantic_dubinsky&quot;}\r\n&gt; \r\n&gt; Filtered Events:\r\n&gt; \r\n&gt;     2016-04-13 14:45:55 +0900 docker.28cf38e21204: {&quot;container_id&quot;:&quot;28cf38e212042225f5f80a56fac08f34c8f0b235e738900c4e0abcf39253a702&quot;,&quot;container_name&quot;:&quot;/romantic_dubinsky&quot;,&quot;source&quot;:&quot;stdout&quot;,&quot;log&quot;:&quot;-e:2:in `/&#39;\\n-e:2:in `do_division_by_zero&#39;\\n-e:4:in `&lt;main&gt;&#39;&quot;}\r\n&gt; \r\n&gt; If the logs are typical stacktraces, consider using\r\n&gt; [`detect-exceptions`](https://github.com/GoogleCloudPlatform/fluent-plugin-detect-exceptions)\r\n&gt; plugin instead.\r\n\r\n\r\n  [1]: https://docs.fluentd.org/container-deployment/docker-logging-driver#additional-step-2-concatenate-multiple-lines-log-messages","title":"fluentbit reporting each line of the java stacktrace log as new log event","body":"<p>According to fluentd <a href=\"https://docs.fluentd.org/container-deployment/docker-logging-driver#additional-step-2-concatenate-multiple-lines-log-messages\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<h2></h2>\n<blockquote>\n<p>Additional Step 2: Concatenate Multiple Lines Log Messages</p>\n<p>The application log is stored in the <code>log</code> field of the record. You can concatenate these logs by using <a href=\"https://github.com/fluent-plugins-nursery/fluent-plugin-concat\" rel=\"nofollow noreferrer\"><code>fluent-plugin-concat</code></a> filter before sending it to the destinations.</p>\n<pre><code>&lt;filter docker.**&gt;\n  @type concat\n  key log\n  stream_identity_key container_id\n  multiline_start_regexp /^-e:2:in `\\/'/\n  multiline_end_regexp /^-e:4:in/\n&lt;/filter&gt;\n</code></pre>\n</blockquote>\n<p>Original Events:</p>\n<blockquote>\n<pre><code>2016-04-13 14:45:55 +0900 docker.28cf38e21204: {&quot;container_id&quot;:&quot;28cf38e212042225f5f80a56fac08f34c8f0b235e738900c4e0abcf39253a702&quot;,&quot;container_name&quot;:&quot;/romantic_dubinsky&quot;,&quot;source&quot;:&quot;stdout&quot;,&quot;log&quot;:&quot;-e:2:in `/'&quot;}\n2016-04-13 14:45:55 +0900 docker.28cf38e21204: {&quot;source&quot;:&quot;stdout&quot;,&quot;log&quot;:&quot;-e:2:in `do_division_by_zero'&quot;,&quot;container_id&quot;:&quot;28cf38e212042225f5f80a56fac08f34c8f0b235e738900c4e0abcf39253a702&quot;,&quot;container_name&quot;:&quot;/romantic_dubinsky&quot;}\n2016-04-13 14:45:55 +0900 docker.28cf38e21204: {&quot;source&quot;:&quot;stdout&quot;,&quot;log&quot;:&quot;-e:4:in `&lt;main&gt;'&quot;,&quot;container_id&quot;:&quot;28cf38e212042225f5f80a56fac08f34c8f0b235e738900c4e0abcf39253a702&quot;,&quot;container_name&quot;:&quot;/romantic_dubinsky&quot;}\n</code></pre>\n<p>Filtered Events:</p>\n<pre><code>2016-04-13 14:45:55 +0900 docker.28cf38e21204: {&quot;container_id&quot;:&quot;28cf38e212042225f5f80a56fac08f34c8f0b235e738900c4e0abcf39253a702&quot;,&quot;container_name&quot;:&quot;/romantic_dubinsky&quot;,&quot;source&quot;:&quot;stdout&quot;,&quot;log&quot;:&quot;-e:2:in `/'\\n-e:2:in `do_division_by_zero'\\n-e:4:in `&lt;main&gt;'&quot;}\n</code></pre>\n<p>If the logs are typical stacktraces, consider using\n<a href=\"https://github.com/GoogleCloudPlatform/fluent-plugin-detect-exceptions\" rel=\"nofollow noreferrer\"><code>detect-exceptions</code></a>\nplugin instead.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9883159,"reputation":2122,"user_id":7391331,"display_name":"trallnag"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648816394,"creation_date":1648816394,"answer_id":71706970,"question_id":64371039,"body_markdown":"Here is how I got it to work in AWS EKS with containerd:\r\n\r\n```\r\n[INPUT]\r\n  name              tail\r\n  tag               kube.*\r\n  path              /var/log/containers/*.log\r\n  multiline.parser  cri\r\n  ...\r\n\r\n[FILTER]\r\n  name                   multiline\r\n  match                  kube.*\r\n  multiline.parser       java\r\n  multiline.key_content  log\r\n  buffer                 off\r\n\r\n[FILTER]\r\n  name                 kubernetes\r\n  match                kube.*\r\n  kube_tag_prefix      kube.var.log.containers.\r\n  merge_log            on\r\n  keep_log             off\r\n  k8s-logging.parser   on\r\n  k8s-logging.exclude  on\r\n  labels               off\r\n  annotations          off\r\n  use_kubelet          true\r\n  buffer_size          0\r\n```\r\n","title":"fluentbit reporting each line of the java stacktrace log as new log event","body":"<p>Here is how I got it to work in AWS EKS with containerd:</p>\n<pre><code>[INPUT]\n  name              tail\n  tag               kube.*\n  path              /var/log/containers/*.log\n  multiline.parser  cri\n  ...\n\n[FILTER]\n  name                   multiline\n  match                  kube.*\n  multiline.parser       java\n  multiline.key_content  log\n  buffer                 off\n\n[FILTER]\n  name                 kubernetes\n  match                kube.*\n  kube_tag_prefix      kube.var.log.containers.\n  merge_log            on\n  keep_log             off\n  k8s-logging.parser   on\n  k8s-logging.exclude  on\n  labels               off\n  annotations          off\n  use_kubelet          true\n  buffer_size          0\n</code></pre>\n"}],"owner":{"account_id":10614964,"reputation":61,"user_id":7817619,"display_name":"Ishvar "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6357,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1648816394,"creation_date":1602762855,"question_id":64371039,"body_markdown":"any help is greatly appreciated.\r\n\r\nI have fluentd running on kubernetes. I have logs coming from java application. The stack trace is multiline and the issue is each line of the multiline log is reported as a new log event. \r\n\r\nbelow is my config. can someone advice what is wrong with the config? additionally, I am using containerd and not docker for running containers.\r\n\r\n  \r\n\r\n    input-kubernetes.conf: |\r\n        [INPUT]\r\n            Name              tail\r\n            Tag               kube.*\r\n            Path              /var/log/containers/*.log\r\n            DB                /var/log/flb_kube.db\r\n            Mem_Buf_Limit     5MB\r\n            Skip_Long_Lines   On\r\n            Refresh_Interval  10\r\n            Multiline         On\r\n            Parser_Firstline  multiline\r\n            Parser_1          cri\r\n    \r\n      filter-kubernetes.conf: |\r\n        [FILTER]\r\n            Name                kubernetes\r\n            Match               kube.*\r\n            Kube_URL            https://k3s-master.test.com:6443\r\n            Kube_CA_File        /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\r\n            Kube_Token_File     /var/run/secrets/kubernetes.io/serviceaccount/token\r\n            Kube_Tag_Prefix     kube.var.log.containers.\r\n            K8S-Logging.Parser  On\r\n            K8S-Logging.Exclude Off\r\n        [FILTER]\r\n            Name      parser\r\n            Match     kube.*\r\n            Key_Name  log\r\n            Parser    cri\r\n            Reserve_Data On\r\n        [FILTER]\r\n            Name      parser\r\n            Match     kube.*\r\n            Key_Name  message\r\n            Parser    json\r\n            Reserve_Data On\r\n            Preserve_Key On\r\n    \r\n      output-elasticsearch.conf: |\r\n        [OUTPUT]\r\n            Name            es\r\n            Match           *\r\n            Host            ${FLUENT_ELASTICSEARCH_HOST}\r\n            Port            ${FLUENT_ELASTICSEARCH_PORT}\r\n            Logstash_Format On\r\n            Logstash_Prefix logstash-k3s-test\r\n            Replace_Dots    On\r\n            Retry_Limit     False\r\n            Type            flb_type\r\n\r\n  \r\n\r\n    parsers.conf: |\r\n        [PARSER]\r\n            Name   json\r\n            Format json\r\n\r\n    [PARSER]\r\n        Name cri\r\n        Format regex\r\n        Regex ^(?&lt;time&gt;[^ ]+) (?&lt;stream&gt;stdout|stderr) (?&lt;logtag&gt;[^ ]*) (?&lt;message&gt;.*)$\r\n        Time_Key    time\r\n        Time_Format %Y-%m-%dT%H:%M:%S.%L%z\r\n        Time_Keep   On\r\n\r\n    [PARSER]\r\n        Name        multiline\r\n        Format      regex\r\n        Regex       ^(?&lt;time&gt;\\d{4}[-\\/]\\d{2}[-\\/]\\d{2}.*) (?&lt;stream&gt;stdout|stderr) . (?&lt;message&gt;(\\{|(ts=)?\\[?\\d{4}[-\\/]\\d{2}[-\\/]\\d{2}).*)$\r\n\r\n\r\nsample log:\r\n\r\n    2020-10-15T08:48:37.932000736+02:00 stdout F 2020-10-15 08:48:37.923 ERROR [Service,a1793c4339d3f230,a1793c4339d3f230,true] 1 --- [nio-8080-exec-2] c.k.m.i.rest.GlobalExceptionHandler      : Status Response Error: 304 NOT_MODIFIED\r\n    2020-10-15T08:48:37.932050633+02:00 stdout F\r\n    2020-10-15T08:48:37.932061926+02:00 stdout F org.springframework.web.server.ResponseStatusException: 304 NOT_MODIFIED\r\n    2020-10-15T08:48:37.932071245+02:00 stdout F    at com.kobo.microservice.rest.InventoryController.queryInventory(InventoryController.java:70) ~[classes!/:1.197.1]\r\n    2020-10-15T08:48:37.932080389+02:00 stdout F    at jdk.internal.reflect.GeneratedMethodAccessor280.invoke(Unknown Source) ~[na:na]\r\n    2020-10-15T08:48:37.932088907+02:00 stdout F    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n    2020-10-15T08:48:37.932096876+02:00 stdout F    at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\r\n    2020-10-15T08:48:37.932113131+02:00 stdout F    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n    2020-10-15T08:48:37.932121817+02:00 stdout F    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n    2020-10-15T08:48:37.932131116+02:00 stdout F    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n    2020-10-15T08:48:37.932140307+02:00 stdout F    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n","title":"fluentbit reporting each line of the java stacktrace log as new log event","body":"<p>any help is greatly appreciated.</p>\n<p>I have fluentd running on kubernetes. I have logs coming from java application. The stack trace is multiline and the issue is each line of the multiline log is reported as a new log event.</p>\n<p>below is my config. can someone advice what is wrong with the config? additionally, I am using containerd and not docker for running containers.</p>\n<pre><code>input-kubernetes.conf: |\n    [INPUT]\n        Name              tail\n        Tag               kube.*\n        Path              /var/log/containers/*.log\n        DB                /var/log/flb_kube.db\n        Mem_Buf_Limit     5MB\n        Skip_Long_Lines   On\n        Refresh_Interval  10\n        Multiline         On\n        Parser_Firstline  multiline\n        Parser_1          cri\n\n  filter-kubernetes.conf: |\n    [FILTER]\n        Name                kubernetes\n        Match               kube.*\n        Kube_URL            https://k3s-master.test.com:6443\n        Kube_CA_File        /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n        Kube_Token_File     /var/run/secrets/kubernetes.io/serviceaccount/token\n        Kube_Tag_Prefix     kube.var.log.containers.\n        K8S-Logging.Parser  On\n        K8S-Logging.Exclude Off\n    [FILTER]\n        Name      parser\n        Match     kube.*\n        Key_Name  log\n        Parser    cri\n        Reserve_Data On\n    [FILTER]\n        Name      parser\n        Match     kube.*\n        Key_Name  message\n        Parser    json\n        Reserve_Data On\n        Preserve_Key On\n\n  output-elasticsearch.conf: |\n    [OUTPUT]\n        Name            es\n        Match           *\n        Host            ${FLUENT_ELASTICSEARCH_HOST}\n        Port            ${FLUENT_ELASTICSEARCH_PORT}\n        Logstash_Format On\n        Logstash_Prefix logstash-k3s-test\n        Replace_Dots    On\n        Retry_Limit     False\n        Type            flb_type\n\n\n\nparsers.conf: |\n    [PARSER]\n        Name   json\n        Format json\n\n[PARSER]\n    Name cri\n    Format regex\n    Regex ^(?&lt;time&gt;[^ ]+) (?&lt;stream&gt;stdout|stderr) (?&lt;logtag&gt;[^ ]*) (?&lt;message&gt;.*)$\n    Time_Key    time\n    Time_Format %Y-%m-%dT%H:%M:%S.%L%z\n    Time_Keep   On\n\n[PARSER]\n    Name        multiline\n    Format      regex\n    Regex       ^(?&lt;time&gt;\\d{4}[-\\/]\\d{2}[-\\/]\\d{2}.*) (?&lt;stream&gt;stdout|stderr) . (?&lt;message&gt;(\\{|(ts=)?\\[?\\d{4}[-\\/]\\d{2}[-\\/]\\d{2}).*)$\n</code></pre>\n<p>sample log:</p>\n<pre><code>2020-10-15T08:48:37.932000736+02:00 stdout F 2020-10-15 08:48:37.923 ERROR [Service,a1793c4339d3f230,a1793c4339d3f230,true] 1 --- [nio-8080-exec-2] c.k.m.i.rest.GlobalExceptionHandler      : Status Response Error: 304 NOT_MODIFIED\n2020-10-15T08:48:37.932050633+02:00 stdout F\n2020-10-15T08:48:37.932061926+02:00 stdout F org.springframework.web.server.ResponseStatusException: 304 NOT_MODIFIED\n2020-10-15T08:48:37.932071245+02:00 stdout F    at com.kobo.microservice.rest.InventoryController.queryInventory(InventoryController.java:70) ~[classes!/:1.197.1]\n2020-10-15T08:48:37.932080389+02:00 stdout F    at jdk.internal.reflect.GeneratedMethodAccessor280.invoke(Unknown Source) ~[na:na]\n2020-10-15T08:48:37.932088907+02:00 stdout F    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n2020-10-15T08:48:37.932096876+02:00 stdout F    at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\n2020-10-15T08:48:37.932113131+02:00 stdout F    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n2020-10-15T08:48:37.932121817+02:00 stdout F    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n2020-10-15T08:48:37.932131116+02:00 stdout F    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n2020-10-15T08:48:37.932140307+02:00 stdout F    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n</code></pre>\n"},{"tags":["java","wildfly","jmc"],"comments":[{"owner":{"account_id":938600,"reputation":566,"user_id":967088,"display_name":"Will Tatam"},"score":0,"creation_date":1558280896,"post_id":56207317,"comment_id":99040092,"body_markdown":"I normally take a copy of the jconsole script and then update for jmc. As you have found, the parameter to set the classpath is different, but the jars used are the same","body":"I normally take a copy of the jconsole script and then update for jmc. As you have found, the parameter to set the classpath is different, but the jars used are the same"},{"owner":{"account_id":2695441,"reputation":1011,"user_id":2327630,"accept_rate":100,"display_name":"MyWay"},"score":0,"creation_date":1558290269,"post_id":56207317,"comment_id":99042740,"body_markdown":"@WillT Do you have any example ?","body":"@WillT Do you have any example ?"},{"owner":{"account_id":185127,"reputation":2955,"user_id":2471311,"display_name":"Klara"},"score":0,"creation_date":1558337482,"post_id":56207317,"comment_id":99052931,"body_markdown":"`jmc -cp...`will not work. Does any of these links help? - https://community.oracle.com/thread/2592885?tstart=0 - http://sattish-performanceengg.blogspot.com/2016/01/configure-java-mission-control-for.html  - https://gautric.github.io/blog/2016/07/19/JConsole-JavaMissionControl-JBoss-EAP-7.html - https://access.redhat.com/solutions/700283","body":"<code>jmc -cp...</code>will not work. Does any of these links help? - <a href=\"https://community.oracle.com/thread/2592885?tstart=0\" rel=\"nofollow noreferrer\">community.oracle.com/thread/2592885?tstart=0</a> - <a href=\"http://sattish-performanceengg.blogspot.com/2016/01/configure-java-mission-control-for.html\" rel=\"nofollow noreferrer\">sattish-performanceengg.blogspot.com/2016/01/&hellip;</a>  - <a href=\"https://gautric.github.io/blog/2016/07/19/JConsole-JavaMissionControl-JBoss-EAP-7.html\" rel=\"nofollow noreferrer\">gautric.github.io/blog/2016/07/19/&hellip;</a> - <a href=\"https://access.redhat.com/solutions/700283\" rel=\"nofollow noreferrer\">access.redhat.com/solutions/700283</a>"},{"owner":{"account_id":2695441,"reputation":1011,"user_id":2327630,"accept_rate":100,"display_name":"MyWay"},"score":0,"creation_date":1558888460,"post_id":56207317,"comment_id":99239957,"body_markdown":"@Klara Finnaly I was able to setup this connection, I done it by usage of the jmc from jdk 8, as all tutorials refers to this older jmc. I can&#39;t find any way to do it for higher versions :(","body":"@Klara Finnaly I was able to setup this connection, I done it by usage of the jmc from jdk 8, as all tutorials refers to this older jmc. I can&#39;t find any way to do it for higher versions :("},{"owner":{"account_id":185127,"reputation":2955,"user_id":2471311,"display_name":"Klara"},"score":0,"creation_date":1559028632,"post_id":56207317,"comment_id":99279854,"body_markdown":"@MyWay Which JMC version/build are you using? I assume this is on Windows?","body":"@MyWay Which JMC version/build are you using? I assume this is on Windows?"},{"owner":{"account_id":2695441,"reputation":1011,"user_id":2327630,"accept_rate":100,"display_name":"MyWay"},"score":0,"creation_date":1559031124,"post_id":56207317,"comment_id":99281172,"body_markdown":"@Klara JMC 6 from jdk 1.8.0_121. Yes, I did it on windows. I described here ( https://github.com/ThisIsMyWay/BookShopProject ), how I was able to connect it,","body":"@Klara JMC 6 from jdk 1.8.0_121. Yes, I did it on windows. I described here ( <a href=\"https://github.com/ThisIsMyWay/BookShopProject\" rel=\"nofollow noreferrer\">github.com/ThisIsMyWay/BookShopProject</a> ), how I was able to connect it,"}],"answers":[{"tags":[],"owner":{"account_id":5809282,"reputation":76,"user_id":4580926,"display_name":"kriffer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1573666370,"creation_date":1573666370,"answer_id":58842594,"question_id":56207317,"body_markdown":"1. In %WILDFLY_HOME%\\bin\\standalone.conf.bat\r\nput:\r\n\r\n    set &quot;JAVA_OPTS=%JAVA_OPTS% -XX:+FlightRecorder&quot;    \r\n     \r\n2. In jmc.ini  below -vmargs put\r\n\r\n    -Xbootclasspath/a:C:\\%wildfly_home%\\bin\\client\\jboss-cli-client.jar    \r\n      \r\n(%wildfly_home% is different of course, or just copy jboss-cli-client.jar to another directory and correct the path)\r\n3. Run JMC, then Create New Connection - in Connection Properties pane push the button &quot;Custom JMX service URL&quot;, put:\r\n\r\n    service:jmx:http-remoting-jmx://localhost:9990    \r\n    \r\nIn the credentials fields just put user and password, they should be created for Realm Management (e.g. using %wildfly_home%\\bin\\add-user.bat)\r\nHope this helps someone.","title":"Connect Java Mission Control to Wildfly 16","body":"<ol>\n<li><p>In %WILDFLY_HOME%\\bin\\standalone.conf.bat\nput:</p>\n\n<p>set \"JAVA_OPTS=%JAVA_OPTS% -XX:+FlightRecorder\"    </p></li>\n<li><p>In jmc.ini  below -vmargs put</p>\n\n<p>-Xbootclasspath/a:C:\\%wildfly_home%\\bin\\client\\jboss-cli-client.jar    </p></li>\n</ol>\n\n<p>(%wildfly_home% is different of course, or just copy jboss-cli-client.jar to another directory and correct the path)\n3. Run JMC, then Create New Connection - in Connection Properties pane push the button \"Custom JMX service URL\", put:</p>\n\n<pre><code>service:jmx:http-remoting-jmx://localhost:9990    \n</code></pre>\n\n<p>In the credentials fields just put user and password, they should be created for Realm Management (e.g. using %wildfly_home%\\bin\\add-user.bat)\nHope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":5321414,"reputation":122,"user_id":4244752,"display_name":"pavel_barbashov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648815301,"creation_date":1648809052,"answer_id":71705503,"question_id":56207317,"body_markdown":"Solution doesn&#39;t work on java 11 for me. Mission control fails on connect to wildfly with error:\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: org/ietf/jgss/GSSManager\r\n\tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3342)\r\n\tat java.base/java.lang.Class.getConstructor(Class.java:2151)\r\n\tat java.base/java.security.Provider.newInstanceUtil(Provider.java:152)\r\n\tat java.base/java.security.Provider$Service.newInstance(Provider.java:1824)\r\n\tat org.wildfly.security.WildFlyElytronBaseProvider$ProviderService.newInstance(WildFlyElytronBaseProvider.java:218)\r\n\tat org.wildfly.security.sasl.util.SecurityProviderSaslClientFactory.createSaslClient(SecurityProviderSaslClientFactory.java:94)\r\n\tat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\r\n\tat org.wildfly.security.sasl.util.ProtocolSaslClientFactory.createSaslClient(ProtocolSaslClientFactory.java:50)\r\n\tat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\r\n\tat org.wildfly.security.sasl.util.ServerNameSaslClientFactory.createSaslClient(ServerNameSaslClientFactory.java:50)\r\n\tat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\r\n\tat org.wildfly.security.sasl.util.ServerNameSaslClientFactory.createSaslClient(ServerNameSaslClientFactory.java:50)\r\n\tat org.wildfly.security.sasl.util.FilterMechanismSaslClientFactory.createSaslClient(FilterMechanismSaslClientFactory.java:102)\r\n\tat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\r\n\tat org.wildfly.security.sasl.util.LocalPrincipalSaslClientFactory.createSaslClient(LocalPrincipalSaslClientFactory.java:76)\r\n\tat org.wildfly.security.sasl.util.PrivilegedSaslClientFactory.lambda$createSaslClient$0(PrivilegedSaslClientFactory.java:64)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat org.wildfly.security.sasl.util.PrivilegedSaslClientFactory.createSaslClient(PrivilegedSaslClientFactory.java:64)\r\n\tat org.wildfly.security.auth.client.AuthenticationConfiguration.createSaslClient(AuthenticationConfiguration.java:1545)\r\n\tat org.wildfly.security.auth.client.AuthenticationContextConfigurationClient.createSaslClient(AuthenticationContextConfigurationClient.java:430)\r\n\tat org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:419)\r\n\tat org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:244)\r\n\tat org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n\tat org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\r\n\tat org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\r\n\tat org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\r\n\r\nBesides, jmc that was embedded to jdk 8 isn&#39;t able to start flight recording for java 11 process. \r\nSo after investigation i found out that this class is loaded with bootstrap classloader. According to https://openjdk.java.net/jeps/261\r\njdk.security.jgss module isn&#39;t defined to bootstrap classloader. But classes in jboss-cli-client.jar(it originates from wildfly-elytron project) need jgss  classes in runtime.\r\nSo i found out dirty workaround for this problem: bootstrap needed classes from jre 8 in jmc.ini. Full option for linux is:\r\n\r\n    -vmargs -Xbootclasspath/a:&lt;path_to_wildfly&gt;/jboss-cli-client.jar:&lt;path_to_jdk8&gt;/jre/lib/rt.jar\r\n\r\nAnd for windows:\r\n\r\n    -vmargs -Xbootclasspath/a:&lt;path_to_wildfly&gt;\\jboss-cli-client.jar;&lt;path_to_jdk8&gt;\\jre\\lib\\rt.jar\r\n\r\nafter this jmc(run on 11 jdk) succesfully connects to wildfly(run on 11 jdk) and can start and analyze flight recordings.","title":"Connect Java Mission Control to Wildfly 16","body":"<p>Solution doesn't work on java 11 for me. Mission control fails on connect to wildfly with error:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: org/ietf/jgss/GSSManager\nat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\nat java.base/java.lang.Class.getConstructor0(Class.java:3342)\nat java.base/java.lang.Class.getConstructor(Class.java:2151)\nat java.base/java.security.Provider.newInstanceUtil(Provider.java:152)\nat java.base/java.security.Provider$Service.newInstance(Provider.java:1824)\nat org.wildfly.security.WildFlyElytronBaseProvider$ProviderService.newInstance(WildFlyElytronBaseProvider.java:218)\nat org.wildfly.security.sasl.util.SecurityProviderSaslClientFactory.createSaslClient(SecurityProviderSaslClientFactory.java:94)\nat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\nat org.wildfly.security.sasl.util.ProtocolSaslClientFactory.createSaslClient(ProtocolSaslClientFactory.java:50)\nat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\nat org.wildfly.security.sasl.util.ServerNameSaslClientFactory.createSaslClient(ServerNameSaslClientFactory.java:50)\nat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\nat org.wildfly.security.sasl.util.ServerNameSaslClientFactory.createSaslClient(ServerNameSaslClientFactory.java:50)\nat org.wildfly.security.sasl.util.FilterMechanismSaslClientFactory.createSaslClient(FilterMechanismSaslClientFactory.java:102)\nat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\nat org.wildfly.security.sasl.util.LocalPrincipalSaslClientFactory.createSaslClient(LocalPrincipalSaslClientFactory.java:76)\nat org.wildfly.security.sasl.util.PrivilegedSaslClientFactory.lambda$createSaslClient$0(PrivilegedSaslClientFactory.java:64)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat org.wildfly.security.sasl.util.PrivilegedSaslClientFactory.createSaslClient(PrivilegedSaslClientFactory.java:64)\nat org.wildfly.security.auth.client.AuthenticationConfiguration.createSaslClient(AuthenticationConfiguration.java:1545)\nat org.wildfly.security.auth.client.AuthenticationContextConfigurationClient.createSaslClient(AuthenticationContextConfigurationClient.java:430)\nat org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:419)\nat org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:244)\nat org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\nat org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\nat org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\nat org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\n</code></pre>\n<p>Besides, jmc that was embedded to jdk 8 isn't able to start flight recording for java 11 process.\nSo after investigation i found out that this class is loaded with bootstrap classloader. According to <a href=\"https://openjdk.java.net/jeps/261\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/261</a>\njdk.security.jgss module isn't defined to bootstrap classloader. But classes in jboss-cli-client.jar(it originates from wildfly-elytron project) need jgss  classes in runtime.\nSo i found out dirty workaround for this problem: bootstrap needed classes from jre 8 in jmc.ini. Full option for linux is:</p>\n<pre><code>-vmargs -Xbootclasspath/a:&lt;path_to_wildfly&gt;/jboss-cli-client.jar:&lt;path_to_jdk8&gt;/jre/lib/rt.jar\n</code></pre>\n<p>And for windows:</p>\n<pre><code>-vmargs -Xbootclasspath/a:&lt;path_to_wildfly&gt;\\jboss-cli-client.jar;&lt;path_to_jdk8&gt;\\jre\\lib\\rt.jar\n</code></pre>\n<p>after this jmc(run on 11 jdk) succesfully connects to wildfly(run on 11 jdk) and can start and analyze flight recordings.</p>\n"}],"owner":{"account_id":2695441,"reputation":1011,"user_id":2327630,"accept_rate":100,"display_name":"MyWay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1683,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":58842594,"answer_count":2,"score":7,"last_activity_date":1648815301,"creation_date":1558265212,"question_id":56207317,"body_markdown":"I try to connect Java Mission Control (JMC) with [Wildfly][1] 16. Application server lays on Docker. \r\n\r\nI successfully connected to wildfly via jconsole, to manage it I followed steps described [here][2].  \r\n\r\nUnfortunately, I have no luck to connect via JMC. The URL which I use looks like this: \r\n\r\n&gt; service:jmx:remoting-jmx://192.168.99.100:9990\r\n\r\n - I tried to set Xbootclasspath to jboss-cli-client.jar as it was described [here][3], but I just get `Unable to connect` error. \r\n - I set the same jars, which are used for jconsole, but still I got `Unable to connect`. \r\n - I gave a try to adding flags on container site, as it was shown [here][4], but with these flags, even wildfly haven&#39;t started. \r\n\r\nThen, I found [here][5] the idea to hardcode some jboss classes to enable connection via remoting-jmx. I changed version of jars, according to these provided by wildfly16 and put it to jmc.ini like this.\r\n\r\n    -Xbootclasspath/a:&quot;C:/Program Files/Java/jdk-10.0.2/lib/missioncontrol/dropins/jboss-cli-client.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/remoting-jmx/main/remoting-jmx-3.0.1.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/remoting/main/jboss-remoting-5.0.8.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/logging/main/jboss-logging-3.3.2.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/xnio/main/xnio-api-3.6.5.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/xnio/nio/main/xnio-nio-3.6.5.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/marshalling/main/jboss-marshalling-2.0.6.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/marshalling/river/main/jboss-marshalling-river-2.0.6.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/as/cli/main/wildfly-cli-8.0.0.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/staxmapper/main/staxmapper-1.3.0.Final;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/as/protocol/main/wildfly-protocol-8.0.0.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/dmr/main/jboss-dmr-1.5.0.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/as/controller-client/main/wildfly-controller-client-8.0.0.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/threads/main/jboss-threads-2.3.3.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.1.7.Final.jar&quot;\r\n\r\nAfter that, finally, I have another error, which is \r\n\r\n&gt; Could not initialize class org.jboss.remotingjmx.RemotingConnector\r\n\r\nI added dependencies of `remoting-jmx-3.0.1.Final` to Xbootclasspath, but I got still the same error.  \r\n\r\nMy question is, have you got any idea, how to make this connection works ? Maybe someone have done it in different way ?\r\n\r\nAny advices how can i debug this problem, will be priceless? Because I&#39;m lack of ideas how to solve it. \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/WildFly\r\n  [2]: https://www.perftactique.com/2017/03/11/how-to-activate-jmx-access-to-wildfly-using-jconsole-and-hp-sitescope/\r\n  [3]: https://stackoverflow.com/questions/36750032/how-to-connect-to-remote-wildfly-using-jmc\r\n  [4]: https://stackoverflow.com/questions/151238/has-anyone-ever-got-a-remote-jmx-jconsole-to-work\r\n  [5]: https://community.oracle.com/thread/2592885?start=0&amp;tstart=0","title":"Connect Java Mission Control to Wildfly 16","body":"<p>I try to connect Java Mission Control (JMC) with <a href=\"https://en.m.wikipedia.org/wiki/WildFly\" rel=\"noreferrer\">Wildfly</a> 16. Application server lays on Docker. </p>\n\n<p>I successfully connected to wildfly via jconsole, to manage it I followed steps described <a href=\"https://www.perftactique.com/2017/03/11/how-to-activate-jmx-access-to-wildfly-using-jconsole-and-hp-sitescope/\" rel=\"noreferrer\">here</a>.  </p>\n\n<p>Unfortunately, I have no luck to connect via JMC. The URL which I use looks like this: </p>\n\n<blockquote>\n  <p>service:jmx:remoting-jmx://192.168.99.100:9990</p>\n</blockquote>\n\n<ul>\n<li>I tried to set Xbootclasspath to jboss-cli-client.jar as it was described <a href=\"https://stackoverflow.com/questions/36750032/how-to-connect-to-remote-wildfly-using-jmc\">here</a>, but I just get <code>Unable to connect</code> error. </li>\n<li>I set the same jars, which are used for jconsole, but still I got <code>Unable to connect</code>. </li>\n<li>I gave a try to adding flags on container site, as it was shown <a href=\"https://stackoverflow.com/questions/151238/has-anyone-ever-got-a-remote-jmx-jconsole-to-work\">here</a>, but with these flags, even wildfly haven't started. </li>\n</ul>\n\n<p>Then, I found <a href=\"https://community.oracle.com/thread/2592885?start=0&amp;tstart=0\" rel=\"noreferrer\">here</a> the idea to hardcode some jboss classes to enable connection via remoting-jmx. I changed version of jars, according to these provided by wildfly16 and put it to jmc.ini like this.</p>\n\n<pre><code>-Xbootclasspath/a:\"C:/Program Files/Java/jdk-10.0.2/lib/missioncontrol/dropins/jboss-cli-client.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/remoting-jmx/main/remoting-jmx-3.0.1.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/remoting/main/jboss-remoting-5.0.8.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/logging/main/jboss-logging-3.3.2.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/xnio/main/xnio-api-3.6.5.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/xnio/nio/main/xnio-nio-3.6.5.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/marshalling/main/jboss-marshalling-2.0.6.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/marshalling/river/main/jboss-marshalling-river-2.0.6.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/as/cli/main/wildfly-cli-8.0.0.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/staxmapper/main/staxmapper-1.3.0.Final;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/as/protocol/main/wildfly-protocol-8.0.0.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/dmr/main/jboss-dmr-1.5.0.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/as/controller-client/main/wildfly-controller-client-8.0.0.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/threads/main/jboss-threads-2.3.3.Final.jar;C:/wildfly-16.0.0.Final/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.1.7.Final.jar\"\n</code></pre>\n\n<p>After that, finally, I have another error, which is </p>\n\n<blockquote>\n  <p>Could not initialize class org.jboss.remotingjmx.RemotingConnector</p>\n</blockquote>\n\n<p>I added dependencies of <code>remoting-jmx-3.0.1.Final</code> to Xbootclasspath, but I got still the same error.  </p>\n\n<p>My question is, have you got any idea, how to make this connection works ? Maybe someone have done it in different way ?</p>\n\n<p>Any advices how can i debug this problem, will be priceless? Because I'm lack of ideas how to solve it. </p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1648675794,"post_id":71684136,"comment_id":126688264,"body_markdown":"Using the latest lombok 1.18.22, manually implementing the `@SuperBuilder` constructor should work. There&#39;s even an explicit test case for that in lombok&#39;s unit tests. Please show your code so that we can figure out what&#39;s wrong.","body":"Using the latest lombok 1.18.22, manually implementing the <code>@SuperBuilder</code> constructor should work. There&#39;s even an explicit test case for that in lombok&#39;s unit tests. Please show your code so that we can figure out what&#39;s wrong."},{"owner":{"account_id":46213,"reputation":2690,"user_id":136449,"accept_rate":84,"display_name":"Steve"},"score":0,"creation_date":1648677014,"post_id":71684136,"comment_id":126688557,"body_markdown":"I&#39;m currently running lombok 1.18.8. Should it work in that version or do I need to upgrade?","body":"I&#39;m currently running lombok 1.18.8. Should it work in that version or do I need to upgrade?"},{"owner":{"account_id":46213,"reputation":2690,"user_id":136449,"accept_rate":84,"display_name":"Steve"},"score":0,"creation_date":1648679679,"post_id":71684136,"comment_id":126689199,"body_markdown":"I&#39;ve also updated to 1.18.22 and still no joy. I&#39;ll edit my original question to show some of the code.","body":"I&#39;ve also updated to 1.18.22 and still no joy. I&#39;ll edit my original question to show some of the code."}],"answers":[{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648815224,"creation_date":1648815224,"answer_id":71706771,"question_id":71684136,"body_markdown":"Customizing `@SuperBuilder` only works in more recent lombok version; you should always use the most recent one, which is v1.18.22 at the time of the writing of this answer.\r\n\r\nWith that version, customizing a `@SuperBuilder` constructor is possible. However, you are using code as a basis for your constructor that has been delomboked with v1.18.8. That does not work any more with current lombok versions. lombok v1.18.10 introduced that the actual field value for `@Default` fields are stored in the builder in fields like `fieldName$value`, not simply `fieldName`.\r\n\r\nThus, your customized constructor has to look as follows:\r\n\r\n    protected ApplicationUser(final ApplicationUserBuilder&lt;?, ?&gt; b) {\r\n        super(b);\r\n        this.application = b.application;\r\n        if (b.groups$set) this.setGroups(b.groups$value);\r\n        else this.setGroups(ApplicationUser.$default$groups());\r\n    }\r\n","title":"How to customize lombok&#39;s superbuilder?","body":"<p>Customizing <code>@SuperBuilder</code> only works in more recent lombok version; you should always use the most recent one, which is v1.18.22 at the time of the writing of this answer.</p>\n<p>With that version, customizing a <code>@SuperBuilder</code> constructor is possible. However, you are using code as a basis for your constructor that has been delomboked with v1.18.8. That does not work any more with current lombok versions. lombok v1.18.10 introduced that the actual field value for <code>@Default</code> fields are stored in the builder in fields like <code>fieldName$value</code>, not simply <code>fieldName</code>.</p>\n<p>Thus, your customized constructor has to look as follows:</p>\n<pre><code>protected ApplicationUser(final ApplicationUserBuilder&lt;?, ?&gt; b) {\n    super(b);\n    this.application = b.application;\n    if (b.groups$set) this.setGroups(b.groups$value);\n    else this.setGroups(ApplicationUser.$default$groups());\n}\n</code></pre>\n"}],"owner":{"account_id":46213,"reputation":2690,"user_id":136449,"accept_rate":84,"display_name":"Steve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71706771,"answer_count":1,"score":1,"last_activity_date":1648815224,"creation_date":1648674200,"question_id":71684136,"body_markdown":"I have an existing data model which was (unfortunately) written with bidirectional relationships. Currently, I&#39;m trying to refactor it using Lombok. I&#39;ve added the @SuperBuilder annotation, but the generated builder does not call my custom setter methods (the ones that ensure that the bidirectionality remain intact).\r\n\r\nAfter running delombok and investigating the resulting code, it appears that a constructor is created on the class being built that takes an instance of the builder to use to set the values. Unfortunately, it simply assigns the field values directly. So I thought maybe I could just implement that constructor myself, and make the calls to the setters as required. Of course, this does not work. When I build I get an error because there are now apparently two implementations of that same method in my class (in other words SuperBuilder implemented it even though it was already implemented in the class).\r\n\r\nDoes anyone know how to override that constructor (or any other mechanism that would allow me to get the setters called when constructing my object using the SuperBuilder annotation)?\r\n\r\nEdit: added code as requested\r\n\r\nThe entity class I&#39;m trying to refactor to using lombok is:\r\n&lt;pre&gt;&lt;code&gt;\r\n@Entity\r\n@Table(name = &quot;APPLICATION_USER&quot;, uniqueConstraints = @UniqueConstraint(columnNames = { &quot;PRINCIPAL_NAME&quot;, &quot;APPLICATION&quot;, &quot;SITE_ID&quot; }))\r\n@AttributeOverrides(@AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;APP_USER_ID&quot;)))\r\n@Filters({ @Filter(name = FilterQueryConstants.SITE_ID_FILTER_NAME, condition = FilterQueryConstants.SITE_ID_FILTER) })\r\n@SuperBuilder\r\npublic class ApplicationUser extends User\r\n{\r\n    private static final long serialVersionUID = -4160907033349418248L;\r\n\r\n    @Column(name = &quot;APPLICATION&quot;, nullable=false)\r\n    private String application;\r\n\r\n    @ManyToMany(mappedBy = &quot;applicationUsers&quot;, targetEntity = Group.class)\r\n    @Filters({ @Filter(name = FilterQueryConstants.GROUP_FILTER_NAME, condition = FilterQueryConstants.GROUP_FILTER),\r\n            @Filter(name = FilterQueryConstants.SITE_ID_FILTER_NAME, condition = FilterQueryConstants.SITE_ID_FILTER) })\r\n    @MappingTransform(operation = DTOSecurityOperation.ASSIGN_GROUP)\r\n    @Builder.Default\r\n    private Set&lt;Group&gt; groups = new HashSet&lt;Group&gt; ( );\r\n\r\n    // Other methods omitted for brevity\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nWhen I run the delombok, the resulting constructor looks like the following:\r\n&lt;pre&gt;&lt;code&gt;protected ApplicationUser(final ApplicationUserBuilder&lt;?, ?&gt; b) {\r\n    super(b);\r\n    this.application = b.application;\r\n    if (b.groups$set) this.groups = b.groups;\r\n    else this.groups = ApplicationUser.$default$groups();\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nSo I thought I could just basically copy this code into my ApplicationUser class and modify it to call my setter method when it sets the value for groups (rather than just doing a direct assignment). I was thinking of something like this:\r\n&lt;pre&gt;&lt;code&gt;protected ApplicationUser(final ApplicationUserBuilder&lt;?, ?&gt; b) {\r\n    super(b);\r\n    this.application = b.application;\r\n    if (b.groups$set) this.setGroups(b.groups);\r\n    else this.setGroups(ApplicationUser.$default$groups());\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nOriginally, when using 1.18.8, I was getting an error stating that this constructor already exists. Since updating to 1.18.22, I now get this:\r\n&lt;pre&gt;error: cannot find symbol\r\n        if (b.groups$set) this.setGroups(b.groups);\r\n                                          ^\r\n  symbol:   variable groups\r\n  location: variable b of type ApplicationUserBuilder&lt;?,?&gt;&lt;/pre&gt;","title":"How to customize lombok&#39;s superbuilder?","body":"<p>I have an existing data model which was (unfortunately) written with bidirectional relationships. Currently, I'm trying to refactor it using Lombok. I've added the @SuperBuilder annotation, but the generated builder does not call my custom setter methods (the ones that ensure that the bidirectionality remain intact).</p>\n<p>After running delombok and investigating the resulting code, it appears that a constructor is created on the class being built that takes an instance of the builder to use to set the values. Unfortunately, it simply assigns the field values directly. So I thought maybe I could just implement that constructor myself, and make the calls to the setters as required. Of course, this does not work. When I build I get an error because there are now apparently two implementations of that same method in my class (in other words SuperBuilder implemented it even though it was already implemented in the class).</p>\n<p>Does anyone know how to override that constructor (or any other mechanism that would allow me to get the setters called when constructing my object using the SuperBuilder annotation)?</p>\n<p>Edit: added code as requested</p>\n<p>The entity class I'm trying to refactor to using lombok is:</p>\n<pre><code>\n@Entity\n@Table(name = \"APPLICATION_USER\", uniqueConstraints = @UniqueConstraint(columnNames = { \"PRINCIPAL_NAME\", \"APPLICATION\", \"SITE_ID\" }))\n@AttributeOverrides(@AttributeOverride(name = \"id\", column = @Column(name = \"APP_USER_ID\")))\n@Filters({ @Filter(name = FilterQueryConstants.SITE_ID_FILTER_NAME, condition = FilterQueryConstants.SITE_ID_FILTER) })\n@SuperBuilder\npublic class ApplicationUser extends User\n{\n    private static final long serialVersionUID = -4160907033349418248L;\n\n    @Column(name = \"APPLICATION\", nullable=false)\n    private String application;\n\n    @ManyToMany(mappedBy = \"applicationUsers\", targetEntity = Group.class)\n    @Filters({ @Filter(name = FilterQueryConstants.GROUP_FILTER_NAME, condition = FilterQueryConstants.GROUP_FILTER),\n            @Filter(name = FilterQueryConstants.SITE_ID_FILTER_NAME, condition = FilterQueryConstants.SITE_ID_FILTER) })\n    @MappingTransform(operation = DTOSecurityOperation.ASSIGN_GROUP)\n    @Builder.Default\n    private Set groups = new HashSet ( );\n\n    // Other methods omitted for brevity\n\n</code></pre>\n<p>When I run the delombok, the resulting constructor looks like the following:</p>\n<pre><code>protected ApplicationUser(final ApplicationUserBuilder b) {\n    super(b);\n    this.application = b.application;\n    if (b.groups$set) this.groups = b.groups;\n    else this.groups = ApplicationUser.$default$groups();\n}\n</code></pre>\n<p>So I thought I could just basically copy this code into my ApplicationUser class and modify it to call my setter method when it sets the value for groups (rather than just doing a direct assignment). I was thinking of something like this:</p>\n<pre><code>protected ApplicationUser(final ApplicationUserBuilder b) {\n    super(b);\n    this.application = b.application;\n    if (b.groups$set) this.setGroups(b.groups);\n    else this.setGroups(ApplicationUser.$default$groups());\n}\n</code></pre>\n<p>Originally, when using 1.18.8, I was getting an error stating that this constructor already exists. Since updating to 1.18.22, I now get this:</p>\n<pre>error: cannot find symbol\n        if (b.groups$set) this.setGroups(b.groups);\n                                          ^\n  symbol:   variable groups\n  location: variable b of type ApplicationUserBuilder</pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1648800534,"post_id":71703711,"comment_id":126720952,"body_markdown":"&quot;I have tried all ways I could think of but they are not working&quot; - in what *way* is what you&#39;ve tried not working?","body":"&quot;I have tried all ways I could think of but they are not working&quot; - in what <i>way</i> is what you&#39;ve tried not working?"},{"owner":{"account_id":17656975,"reputation":145,"user_id":12816336,"display_name":"Dan Serb"},"score":0,"creation_date":1648800673,"post_id":71703711,"comment_id":126721002,"body_markdown":"Does the class RegistrationForm has actual data inside it when you instantiate it?","body":"Does the class RegistrationForm has actual data inside it when you instantiate it?"},{"owner":{"account_id":19420843,"reputation":1,"user_id":14203410,"display_name":"Wachira Martin"},"score":0,"creation_date":1648801484,"post_id":71703711,"comment_id":126721264,"body_markdown":"Yes, the registration has text fields where the data will be collected","body":"Yes, the registration has text fields where the data will be collected"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1648801825,"post_id":71703711,"comment_id":126721391,"body_markdown":"That&#39;s not what Dan Serb asked. They asked if it has __actual data__. Having text fields is meaningless when you create the form and then read those text fields without giving a user the slightest chance to write something in those text fields.","body":"That&#39;s not what Dan Serb asked. They asked if it has <b>actual data</b>. Having text fields is meaningless when you create the form and then read those text fields without giving a user the slightest chance to write something in those text fields."}],"answers":[{"tags":[],"owner":{"account_id":24527925,"reputation":129,"user_id":18440149,"display_name":"Abdelkader Chhaibi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648801391,"creation_date":1648801391,"answer_id":71703898,"question_id":71703711,"body_markdown":"you can print it by this simple code:\r\n\r\n    \r\n    data.getUserData().entrySet().forEach(entry -&gt; {\r\n    System.out.println(entry.getKey() + &quot;\\n&quot; + \r\n    Arrays.deepToString(entry.getValue().toArray()));\r\n    });\r\n\r\n\r\n","title":"Store user Data in a Hashmap","body":"<p>you can print it by this simple code:</p>\n<pre><code>data.getUserData().entrySet().forEach(entry -&gt; {\nSystem.out.println(entry.getKey() + &quot;\\n&quot; + \nArrays.deepToString(entry.getValue().toArray()));\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8585666,"reputation":41,"user_id":6431897,"display_name":"A_xay Queuemar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648804274,"creation_date":1648804274,"answer_id":71704506,"question_id":71703711,"body_markdown":"Add a toString function in **userRegistrationData** class:\r\n\r\n    public void toString(String id) {\r\n            System.out.println(userData.get(id));\r\n    }\r\n\r\nIn your **actionPerformed** function, simply call\r\n\r\n    data.toString(String.toValue(getUserIdField()));\r\n\r\nInstead of printing the object in toString function, you can also return it to the actionPerformed function as String.","title":"Store user Data in a Hashmap","body":"<p>Add a toString function in <strong>userRegistrationData</strong> class:</p>\n<pre><code>public void toString(String id) {\n        System.out.println(userData.get(id));\n}\n</code></pre>\n<p>In your <strong>actionPerformed</strong> function, simply call</p>\n<pre><code>data.toString(String.toValue(getUserIdField()));\n</code></pre>\n<p>Instead of printing the object in toString function, you can also return it to the actionPerformed function as String.</p>\n"}],"owner":{"account_id":19420843,"reputation":1,"user_id":14203410,"display_name":"Wachira Martin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1648814925,"creation_date":1648800436,"question_id":71703711,"body_markdown":"I have created a form that will collect user data, store it in a `HashMap` and print the `HashMap` in the console. I have tried all ways I could think of but they are not working.\r\nHere is what I&#39;ve tried so far.\r\n\r\n    //This is the class that will store user data in a hashmap\r\n    public class userRegistrationData {\r\n    \t\r\n    \tHashMap&lt;String, ArrayList&lt;String&gt;&gt; userData;\r\n    \t\r\n    \tpublic userRegistrationData() {\r\n    \t\tRegistrationForm form = new RegistrationForm();\r\n    \t\tuserData = new HashMap&lt;String,ArrayList&lt;String&gt;&gt;();\r\n    \t\t\r\n    \t\tString id = String.valueOf(form.getUserIdField());\r\n    \t\tString firstName = String.valueOf(form.getFirstNameTextField());\r\n    \t\tString lastName = String.valueOf(form.getLastNameTextField());\r\n    \t\tString phone = String.valueOf(form.getPhoneTextField());\r\n    \t\tString city = String.valueOf(form.getCityTextField());\r\n    \t\tString createPassword = String.valueOf(form.getCreatePasswordField());\r\n    \t\tString confirmPassword = String.valueOf(form.getConfirmPasswordField());\r\n    \t\t\r\n    \t\tuserData.put(id, new ArrayList&lt;String&gt;());\r\n    \t\tuserData.get(id).add(id);\r\n    \t\tuserData.get(id).add(firstName);\r\n    \t\tuserData.get(id).add(lastName);\r\n    \t\tuserData.get(id).add(lastName);\r\n    \t\tuserData.get(id).add(phone);\r\n    \t\tuserData.get(id).add(city);\r\n    \t\tuserData.get(id).add(createPassword);\r\n    \t\tuserData.get(id).add(confirmPassword);\r\n    \t}\r\n    \tprivate HashMap&lt;String, ArrayList&lt;String&gt;&gt; formData() {\r\n    \t\treturn userData;\t\r\n    \t}\r\n    \tpublic HashMap&lt;String, ArrayList&lt;String&gt;&gt; getUserData() {\r\n    \t\treturn userData;\r\n    \t}\r\n        public void setUserData(HashMap&lt;String, ArrayList&lt;String&gt;&gt; userData) {\r\n    \t\tthis.userData = userData;\r\n    \t}\r\n    \r\n    \t\r\n    }\r\n    //The action performed method which will listen to the submit button \r\n        \t\r\n    \r\n        @Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tuserRegistrationData data = new userRegistrationData();\r\n    \t\tif(e.getSource().equals(submitBtn)) {\r\n    \t\t\tif(data.getUserData().containsKey(getUserIdField())) {\r\n    \t\t\t\tSystem.out.println(data.getUserData());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n\r\n","title":"Store user Data in a Hashmap","body":"<p>I have created a form that will collect user data, store it in a <code>HashMap</code> and print the <code>HashMap</code> in the console. I have tried all ways I could think of but they are not working.\nHere is what I've tried so far.</p>\n<pre><code>//This is the class that will store user data in a hashmap\npublic class userRegistrationData {\n    \n    HashMap&lt;String, ArrayList&lt;String&gt;&gt; userData;\n    \n    public userRegistrationData() {\n        RegistrationForm form = new RegistrationForm();\n        userData = new HashMap&lt;String,ArrayList&lt;String&gt;&gt;();\n        \n        String id = String.valueOf(form.getUserIdField());\n        String firstName = String.valueOf(form.getFirstNameTextField());\n        String lastName = String.valueOf(form.getLastNameTextField());\n        String phone = String.valueOf(form.getPhoneTextField());\n        String city = String.valueOf(form.getCityTextField());\n        String createPassword = String.valueOf(form.getCreatePasswordField());\n        String confirmPassword = String.valueOf(form.getConfirmPasswordField());\n        \n        userData.put(id, new ArrayList&lt;String&gt;());\n        userData.get(id).add(id);\n        userData.get(id).add(firstName);\n        userData.get(id).add(lastName);\n        userData.get(id).add(lastName);\n        userData.get(id).add(phone);\n        userData.get(id).add(city);\n        userData.get(id).add(createPassword);\n        userData.get(id).add(confirmPassword);\n    }\n    private HashMap&lt;String, ArrayList&lt;String&gt;&gt; formData() {\n        return userData;    \n    }\n    public HashMap&lt;String, ArrayList&lt;String&gt;&gt; getUserData() {\n        return userData;\n    }\n    public void setUserData(HashMap&lt;String, ArrayList&lt;String&gt;&gt; userData) {\n        this.userData = userData;\n    }\n\n    \n}\n//The action performed method which will listen to the submit button \n        \n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        userRegistrationData data = new userRegistrationData();\n        if(e.getSource().equals(submitBtn)) {\n            if(data.getUserData().containsKey(getUserIdField())) {\n                System.out.println(data.getUserData());\n            }\n        }\n        \n        \n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648801218,"creation_date":1648801218,"answer_id":71703861,"question_id":71703103,"body_markdown":"It is possible that your hibernate.hbm2ddl.auto property in application.properties is set to **none** . What none does is that no action is performed. The schema will not be generated. Hence your changes will appear as a new table in your database. What you should do then is to set the property to **update** and then run the application. What update does is that the database schema will be updated by comparing the existing database schema with the entity mappings.\r\n\r\nPS: If no property is defined, the default property is none. You should add the property and set to **update**","title":"Spring Data JPA creates two tables after renaming entity","body":"<p>It is possible that your hibernate.hbm2ddl.auto property in application.properties is set to <strong>none</strong> . What none does is that no action is performed. The schema will not be generated. Hence your changes will appear as a new table in your database. What you should do then is to set the property to <strong>update</strong> and then run the application. What update does is that the database schema will be updated by comparing the existing database schema with the entity mappings.</p>\n<p>PS: If no property is defined, the default property is none. You should add the property and set to <strong>update</strong></p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648814875,"creation_date":1648814875,"answer_id":71706691,"question_id":71703103,"body_markdown":"I strongly doubt that Hibernate creates a `blog_post_comment` table after you renamed the entity. I suspect this is just still around from the previous run.\r\n\r\nHibernate (or any other JPA implementation) does not know about you renaming the entity. It has no knowledge what so ever about the entities present during the last start of the application. Therefore it doesn&#39;t know that there is a relationship between the existing `blog_post_comment` table in the database and the not yet present `comment` table it is about to create.\r\n\r\nWhen Hibernate &quot;updates&quot; a schema it checks if a required table already exists and if so it modifies it to match what is required by the entities. But even then it won&#39;t rename columns, it would just create new ones. \r\n\r\nIn generally you should use Hibernates schema creation feature only during development and never for actually deploying a schema into production or even worse, updating a schema in production. For this you should use specialised tools like `Flyway` or `Liquibase` which exist for exactly this purpose.","title":"Spring Data JPA creates two tables after renaming entity","body":"<p>I strongly doubt that Hibernate creates a <code>blog_post_comment</code> table after you renamed the entity. I suspect this is just still around from the previous run.</p>\n<p>Hibernate (or any other JPA implementation) does not know about you renaming the entity. It has no knowledge what so ever about the entities present during the last start of the application. Therefore it doesn't know that there is a relationship between the existing <code>blog_post_comment</code> table in the database and the not yet present <code>comment</code> table it is about to create.</p>\n<p>When Hibernate &quot;updates&quot; a schema it checks if a required table already exists and if so it modifies it to match what is required by the entities. But even then it won't rename columns, it would just create new ones.</p>\n<p>In generally you should use Hibernates schema creation feature only during development and never for actually deploying a schema into production or even worse, updating a schema in production. For this you should use specialised tools like <code>Flyway</code> or <code>Liquibase</code> which exist for exactly this purpose.</p>\n"}],"owner":{"account_id":14299814,"reputation":11,"user_id":10329393,"display_name":"Alan29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648814875,"creation_date":1648797086,"question_id":71703103,"body_markdown":"I&#39;m using Spring Boot 2.6.4 and Java 17. And I previously had an Entity called `BlogPostComment` but recently decided that just `Comment` is more concise. I don&#39;t have a data.sql file to explicitly create tables and let Hibernate handle all the database operations for me. So I&#39;m expecting that the table previously named `blog_post_comment` would be renamed as `comment`. However, when I rerun my application after renaming the entity, Hibernate creates two tables `blog_post_comment` and `comment` instead of just the latter.\r\n\r\nBefore renaming:\r\n\r\n```java\r\n@Entity\r\npublic class BlogPostComment { ... }\r\n```\r\n\r\nAfter renaming:\r\n\r\n```java\r\n@Entity\r\npublic class Comment { ... }\r\n```\r\n\r\nI&#39;ve tried adding `@Table(name = &quot;comment&quot;)` annotation to this entity, but Hibernate created the table with the old name all the same. And I&#39;ve also tried invalidating IntelliJ IDEA caches, still did not solve this problem. Please help me identify the cause of this error, thank you.","title":"Spring Data JPA creates two tables after renaming entity","body":"<p>I'm using Spring Boot 2.6.4 and Java 17. And I previously had an Entity called <code>BlogPostComment</code> but recently decided that just <code>Comment</code> is more concise. I don't have a data.sql file to explicitly create tables and let Hibernate handle all the database operations for me. So I'm expecting that the table previously named <code>blog_post_comment</code> would be renamed as <code>comment</code>. However, when I rerun my application after renaming the entity, Hibernate creates two tables <code>blog_post_comment</code> and <code>comment</code> instead of just the latter.</p>\n<p>Before renaming:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class BlogPostComment { ... }\n</code></pre>\n<p>After renaming:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Comment { ... }\n</code></pre>\n<p>I've tried adding <code>@Table(name = &quot;comment&quot;)</code> annotation to this entity, but Hibernate created the table with the old name all the same. And I've also tried invalidating IntelliJ IDEA caches, still did not solve this problem. Please help me identify the cause of this error, thank you.</p>\n"},{"tags":["java","multithreading","schedule"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":6,"creation_date":1648804752,"post_id":71704471,"comment_id":126722326,"body_markdown":"It&#39;s not &quot;executing lots of threads&quot;. It&#39;s just executing the scheduled events that were missed due to your 10 second sleep.","body":"It&#39;s not &quot;executing lots of threads&quot;. It&#39;s just executing the scheduled events that were missed due to your 10 second sleep."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1648805271,"post_id":71704471,"comment_id":126722517,"body_markdown":"In fact the reason you are seeing that is because you&#39;re using a single thread which gets blocked by your 10s sleep and prevents other scheduled events from being executed. If you want the events to be executed in time, you should be using more threads, not less. Maybe you want `scheduleWithFixedDelay` instead?","body":"In fact the reason you are seeing that is because you&#39;re using a single thread which gets blocked by your 10s sleep and prevents other scheduled events from being executed. If you want the events to be executed in time, you should be using more threads, not less. Maybe you want <code>scheduleWithFixedDelay</code> instead?"},{"owner":{"display_name":"user9978661"},"score":1,"creation_date":1648805404,"post_id":71704471,"comment_id":126722564,"body_markdown":"Or you have to make another `scheduleAtFixedRate` for `10s` thread","body":"Or you have to make another <code>scheduleAtFixedRate</code> for <code>10s</code> thread"},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1648815461,"post_id":71704471,"comment_id":126726076,"body_markdown":"Documentation: &quot;If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute.&quot;. (From question) *and then, there will exclude 5 thread immediately* - they won&#39;t, you can see the 200ms delay between the logs.","body":"Documentation: &quot;If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute.&quot;. (From question) <i>and then, there will exclude 5 thread immediately</i> - they won&#39;t, you can see the 200ms delay between the logs."},{"owner":{"account_id":24774785,"reputation":11,"user_id":18658416,"display_name":"user18658416"},"score":0,"creation_date":1649213754,"post_id":71704471,"comment_id":126816637,"body_markdown":"Thank you for your answers, I just want 1 thread, and the time the thread finished is not the same. The normal operation is 1s, the abnormal one is maybe 10s, I dont want the thread run 5 times after the abnormal one finished, I just want run 1 times and after 2s run anather one, what should I do, thank you very much.","body":"Thank you for your answers, I just want 1 thread, and the time the thread finished is not the same. The normal operation is 1s, the abnormal one is maybe 10s, I dont want the thread run 5 times after the abnormal one finished, I just want run 1 times and after 2s run anather one, what should I do, thank you very much."}],"owner":{"account_id":24774785,"reputation":11,"user_id":18658416,"display_name":"user18658416"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648814854,"creation_date":1648804129,"question_id":71704471,"body_markdown":"I created a schedule work with scheduleAtFixedRate, and the thread I set 2 ways to execute, 1、\r\n\r\n 1. Thread.sleep(10000); \r\n 2. Thread.sleep(200); &lt;br/&gt;\r\n \r\n\r\nwhen I run this code, it will execute with a 2s delay, but when `a==3`, the thread sleep 10s, and then, there will exclude 5 thread immediately， How can I just run 1 thread but not 5?\r\n\r\n```\r\npublic class Words {\r\n    private int a =0;\r\n\r\n    public void init(){\r\n        ScheduledExecutorService executor \t= Executors.newScheduledThreadPool(1);\r\n        executor.scheduleAtFixedRate(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                Date d = new Date();\r\n                SimpleDateFormat sbf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss:SSS&quot;);\r\n                System.out.println(sbf.format(d));\r\n                try {\r\n                    if (a == 3) {\r\n                        Thread.sleep(10000);\r\n                    } else {\r\n                        Thread.sleep(200);\r\n                    }\r\n                    a += 1;\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }, 0, 2, TimeUnit.SECONDS);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Words words = new Words();\r\n        words.init();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/bYFU2.png)\r\n\r\nMaybe the thread will execute very long, but I don&#39;t want the `scheduleAtFixedRate` to execute a lot of threads like the phenomenon I&#39;ve said, How can the scheduleAtFixedRate just run 1 thread? thank you","title":"How can scheduleAtFixedRate run with just 1 thread?","body":"<p>I created a schedule work with scheduleAtFixedRate, and the thread I set 2 ways to execute, 1、</p>\n<ol>\n<li>Thread.sleep(10000);</li>\n<li>Thread.sleep(200); <br/></li>\n</ol>\n<p>when I run this code, it will execute with a 2s delay, but when <code>a==3</code>, the thread sleep 10s, and then, there will exclude 5 thread immediately， How can I just run 1 thread but not 5?</p>\n<pre><code>public class Words {\n    private int a =0;\n\n    public void init(){\n        ScheduledExecutorService executor   = Executors.newScheduledThreadPool(1);\n        executor.scheduleAtFixedRate(new Runnable() {\n\n            @Override\n            public void run() {\n                Date d = new Date();\n                SimpleDateFormat sbf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss:SSS&quot;);\n                System.out.println(sbf.format(d));\n                try {\n                    if (a == 3) {\n                        Thread.sleep(10000);\n                    } else {\n                        Thread.sleep(200);\n                    }\n                    a += 1;\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, 0, 2, TimeUnit.SECONDS);\n    }\n\n    public static void main(String[] args) {\n        Words words = new Words();\n        words.init();\n\n    }\n\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/bYFU2.png\" alt=\"enter image description here\" /></p>\n<p>Maybe the thread will execute very long, but I don't want the <code>scheduleAtFixedRate</code> to execute a lot of threads like the phenomenon I've said, How can the scheduleAtFixedRate just run 1 thread? thank you</p>\n"},{"tags":["java","json","kotlin","yaml"],"comments":[{"owner":{"account_id":9635091,"reputation":12808,"user_id":7151494,"display_name":"Fureeish"},"score":0,"creation_date":1648758147,"post_id":71698562,"comment_id":126712910,"body_markdown":"What are you using to parse that YAML?","body":"What are you using to parse that YAML?"},{"owner":{"display_name":"user4093955"},"score":0,"creation_date":1648758825,"post_id":71698562,"comment_id":126713116,"body_markdown":"@Fureeish [Jackson](https://github.com/FasterXML/jackson)","body":"@Fureeish <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a>"}],"answers":[{"tags":[],"owner":{"account_id":20928711,"reputation":3225,"user_id":15375588,"display_name":"Karsten Gabriel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648814779,"creation_date":1648758974,"answer_id":71698871,"question_id":71698562,"body_markdown":"I assume you are using Jackson object mapper with [support for yaml dataformat](https://github.com/FasterXML/jackson-dataformats-text) (`com.fasterxml.jackson.dataformat:jackson-dataformat-yaml`), \r\nand the [Kotlin module](https://github.com/FasterXML/jackson-module-kotlin) (`com.fasterxml.jackson.module:jackson-module-kotlin`).\r\n\r\nThe data class `Values` in your example does not match all objects, because for instance it does not contain `t` and `z` which are contained in the `base.baz` value. \r\n\r\nOne possibility is to broaden the definition of `Values` to contain all possible values there can be, ignoring any values that are not there:\r\n```kotlin\r\ndata class Values(\r\n    val a: String?,\r\n    val b: String?,\r\n    val c: String?,\r\n    val t: String?,\r\n    val z: String?,\r\n)\r\n```\r\nAll values are nullable to allow them to be absent.\r\n\r\nIf you do not need all the values, you could also add a `@JsonIgnoreProperties(ignoreUnknown = true)` annotation, to tell Jackson that it is not a problem if there are values in the yaml that are not declared in your data class:\r\n```kotlin\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\ndata class Values(...\r\n```\r\n\r\nIf this is not flexible enough, you can deserialize everything as a map:\r\n```kotlin\r\nval objectMapper = ObjectMapper(YAMLFactory()).registerKotlinModule()\r\nval content: Map&lt;String, *&gt;  = objectMapper.readValue(theYaml)\r\n```\r\nPlease note that in this case you gave Jackson no type information, and thus any non-trivial objects (i.e. not a `String`, `Int`, ...) in your yaml are deserialized as maps. Also, you don&#39;t have any type information yourself and you need to check every element if it is an instance of an expected type, and have to cast it manually.\r\nFor instance, to obtain element `base.foo.b` you can then write:\r\n```\r\nval base = content[&quot;base&quot;]\r\nval foo = (base as Map&lt;String, *&gt;)[&quot;foo&quot;]\r\nval b = (foo as Map&lt;String, *&gt;)[&quot;b&quot;]\r\n```\r\nIf `b` is of the non-trivial type, let&#39;s say `Something`, it can converted to the right type using\r\n```\r\nval bWithType: Something = objectMapper.convertValue(b)\r\n```\r\nBut note that this means that `b` is again serialized and then deserialized to get it with the right type. So the better solution would be the approach with the more flexible `Values` class above. The alternative should only be used if it is necessary.","title":"How can I deserialize a YAML where not all keys have the same subkeys?","body":"<p>I assume you are using Jackson object mapper with <a href=\"https://github.com/FasterXML/jackson-dataformats-text\" rel=\"nofollow noreferrer\">support for yaml dataformat</a> (<code>com.fasterxml.jackson.dataformat:jackson-dataformat-yaml</code>),\nand the <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"nofollow noreferrer\">Kotlin module</a> (<code>com.fasterxml.jackson.module:jackson-module-kotlin</code>).</p>\n<p>The data class <code>Values</code> in your example does not match all objects, because for instance it does not contain <code>t</code> and <code>z</code> which are contained in the <code>base.baz</code> value.</p>\n<p>One possibility is to broaden the definition of <code>Values</code> to contain all possible values there can be, ignoring any values that are not there:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Values(\n    val a: String?,\n    val b: String?,\n    val c: String?,\n    val t: String?,\n    val z: String?,\n)\n</code></pre>\n<p>All values are nullable to allow them to be absent.</p>\n<p>If you do not need all the values, you could also add a <code>@JsonIgnoreProperties(ignoreUnknown = true)</code> annotation, to tell Jackson that it is not a problem if there are values in the yaml that are not declared in your data class:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JsonIgnoreProperties(ignoreUnknown = true)\ndata class Values(...\n</code></pre>\n<p>If this is not flexible enough, you can deserialize everything as a map:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val objectMapper = ObjectMapper(YAMLFactory()).registerKotlinModule()\nval content: Map&lt;String, *&gt;  = objectMapper.readValue(theYaml)\n</code></pre>\n<p>Please note that in this case you gave Jackson no type information, and thus any non-trivial objects (i.e. not a <code>String</code>, <code>Int</code>, ...) in your yaml are deserialized as maps. Also, you don't have any type information yourself and you need to check every element if it is an instance of an expected type, and have to cast it manually.\nFor instance, to obtain element <code>base.foo.b</code> you can then write:</p>\n<pre><code>val base = content[&quot;base&quot;]\nval foo = (base as Map&lt;String, *&gt;)[&quot;foo&quot;]\nval b = (foo as Map&lt;String, *&gt;)[&quot;b&quot;]\n</code></pre>\n<p>If <code>b</code> is of the non-trivial type, let's say <code>Something</code>, it can converted to the right type using</p>\n<pre><code>val bWithType: Something = objectMapper.convertValue(b)\n</code></pre>\n<p>But note that this means that <code>b</code> is again serialized and then deserialized to get it with the right type. So the better solution would be the approach with the more flexible <code>Values</code> class above. The alternative should only be used if it is necessary.</p>\n"}],"owner":{"display_name":"user4093955"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71698871,"answer_count":1,"score":1,"last_activity_date":1648814779,"creation_date":1648757125,"question_id":71698562,"body_markdown":"Assume this YAML:\r\n\r\n```yaml\r\nbase:\r\n  foo:\r\n    a: &#39;a&#39;\r\n    b: &#39;b&#39;\r\n    c: &#39;c&#39;\r\n  bar:\r\n    a: &#39;a&#39;\r\n    b: &#39;b&#39;\r\n    c: &#39;c&#39;\r\n  baz:\r\n    a: &#39;a&#39;\r\n    t: &#39;t&#39;\r\n    z: &#39;z&#39;\r\n```\r\nAll the documentation I have found about deserializing a YAML imply that every key holds the same data.\r\n\r\nSo, for example, ignoring `baz`, I would use these data classes:\r\n\r\n```kotlin\r\ndata class Base(val base: Data)\r\ndata class Data(val foo: Values, val bar: Values)\r\ndata class Values(val a: String, val b: String, val c :String)\r\n```\r\n\r\nMy file actually has over 50 keys at the level of `foo,bar,baz`, and many of them don&#39;t share the same keys (not even the same number), so how could I define my data classes to be able to serialize it?\r\n\r\nI tried the following:\r\n\r\n```kotlin\r\ndata class Base(val base: Data)\r\ndata class Data(val d: List&lt;Map&lt;String, Values&gt;&gt;)\r\ndata class Values(val v: List&lt;Map&lt;String, String&gt;&gt;)\r\n```\r\n\r\nBut it complains because it&#39;s looking for an exact match for the keys.","title":"How can I deserialize a YAML where not all keys have the same subkeys?","body":"<p>Assume this YAML:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>base:\n  foo:\n    a: 'a'\n    b: 'b'\n    c: 'c'\n  bar:\n    a: 'a'\n    b: 'b'\n    c: 'c'\n  baz:\n    a: 'a'\n    t: 't'\n    z: 'z'\n</code></pre>\n<p>All the documentation I have found about deserializing a YAML imply that every key holds the same data.</p>\n<p>So, for example, ignoring <code>baz</code>, I would use these data classes:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Base(val base: Data)\ndata class Data(val foo: Values, val bar: Values)\ndata class Values(val a: String, val b: String, val c :String)\n</code></pre>\n<p>My file actually has over 50 keys at the level of <code>foo,bar,baz</code>, and many of them don't share the same keys (not even the same number), so how could I define my data classes to be able to serialize it?</p>\n<p>I tried the following:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Base(val base: Data)\ndata class Data(val d: List&lt;Map&lt;String, Values&gt;&gt;)\ndata class Values(val v: List&lt;Map&lt;String, String&gt;&gt;)\n</code></pre>\n<p>But it complains because it's looking for an exact match for the keys.</p>\n"},{"tags":["java","jpa","spring-data-jpa","immutability","final"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1648801330,"post_id":71703831,"comment_id":126721209,"body_markdown":"https://stackoverflow.com/questions/15655012/how-does-the-final-keyword-in-java-work-i-can-still-modify-an-object Might help","body":"<a href=\"https://stackoverflow.com/questions/15655012/how-does-the-final-keyword-in-java-work-i-can-still-modify-an-object\" title=\"how does the final keyword in java work i can still modify an object\">stackoverflow.com/questions/15655012/&hellip;</a> Might help"},{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1648801579,"post_id":71703831,"comment_id":126721291,"body_markdown":"Why would you want to use final here, for the list?","body":"Why would you want to use final here, for the list?"},{"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"score":0,"creation_date":1648803006,"post_id":71703831,"comment_id":126721769,"body_markdown":"@Pawan.Java yes that&#39;s the question I also had, I added an answer so it will clear out things.","body":"@Pawan.Java yes that&#39;s the question I also had, I added an answer so it will clear out things."}],"answers":[{"tags":[],"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648802902,"creation_date":1648802902,"answer_id":71704211,"question_id":71703831,"body_markdown":"I think you have understood immutability concept wrong. Immutability is a concept being forced by the Java language. For example String class is immutable because of the security, caching etc. But in your case Product is an entity class and if you save it in a persistent layer, it is already unique on it&#39;s own. So even if you make the Product class immutable, how are you going to keep that consistency during two application loads?. If you are trying to make a Product having owned by only one owner, then do a db check rather than trying to make it immutable in memory. ","title":"Why can&#39;t we make a relationship attribute in spring data JPA final as well?","body":"<p>I think you have understood immutability concept wrong. Immutability is a concept being forced by the Java language. For example String class is immutable because of the security, caching etc. But in your case Product is an entity class and if you save it in a persistent layer, it is already unique on it's own. So even if you make the Product class immutable, how are you going to keep that consistency during two application loads?. If you are trying to make a Product having owned by only one owner, then do a db check rather than trying to make it immutable in memory.</p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648814435,"creation_date":1648814435,"answer_id":71706600,"question_id":71703831,"body_markdown":"JPA does not support immutability. A JPA entity does require a default constructor and getters and setters for properties.\r\nAnd the fields must not be final.\r\n\r\nTechnically it would be possible to implement an ORM that ignores final attributes but why should it?\r\n\r\nThe keyword final says: This gets assigned a value at construction time and never changes after that. This is just not true for JPA entities which get constructed via no-args-constructor and then populated in second step.\r\n\r\nIf you are looking for an ORM that has better support for immutable classes (constructor with arguments, &quot;wither&quot; methods) you might want to check out Spring Data JDBC.\r\n\r\n_Full disclosure: I&#39;m Spring Data developer working on both Spring Data JPA and Spring Data JDBC._","title":"Why can&#39;t we make a relationship attribute in spring data JPA final as well?","body":"<p>JPA does not support immutability. A JPA entity does require a default constructor and getters and setters for properties.\nAnd the fields must not be final.</p>\n<p>Technically it would be possible to implement an ORM that ignores final attributes but why should it?</p>\n<p>The keyword final says: This gets assigned a value at construction time and never changes after that. This is just not true for JPA entities which get constructed via no-args-constructor and then populated in second step.</p>\n<p>If you are looking for an ORM that has better support for immutable classes (constructor with arguments, &quot;wither&quot; methods) you might want to check out Spring Data JDBC.</p>\n<p><em>Full disclosure: I'm Spring Data developer working on both Spring Data JPA and Spring Data JDBC.</em></p>\n"}],"owner":{"account_id":16665452,"reputation":13,"user_id":12044248,"display_name":"Yelderiny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648814452,"creation_date":1648801019,"question_id":71703831,"body_markdown":"An Owner entity has a `@ManyToOne` - `@OneToMany` relationship with the teacher entity. When I annotate each like this\r\n\r\n```\r\n@Entity\r\npublic class Product {\r\n\r\n... \r\n\r\n@ManyToOne(cascade = MERGE)\r\nprivate final Owner owner;\r\n```\r\n\r\nOn the other side, in the Owner Class,\r\n\r\n```\r\n@Entity \r\npublic class Owner {\r\n\r\n...\r\n\r\n@OneToMany(mappedBy = &quot;owner&quot;, cascade = MERGE)\r\nprivate final List&lt;Product&gt; products;\r\n```\r\n\r\nWhat happens now is that `&quot;owner&quot;` in the line `mappedBy = &quot;owner&quot;` turns red. Hovering over it, I get the error that the owner attribute cannot be found.\r\n\r\nThe error: *Cannot find inverse attribute*\r\n\r\nThe solution was simply to remove the `final` keyword in the attribute owner in the Product class.\r\n\r\nIt becomes `private Owner owner` and the error disappears. I don&#39;t understand why adding the keyword `final` causes this problem.\r\n\r\nWhy does this happen?\r\nIs there a workaround? Can I still make the owner attribute final?\r\n\r\nThe main idea from the getgo was to make the product class immutable. While this is a challenge, I&#39;ve managed to find a workaround for most things, but I didn&#39;t know how to fix this problem.","title":"Why can&#39;t we make a relationship attribute in spring data JPA final as well?","body":"<p>An Owner entity has a <code>@ManyToOne</code> - <code>@OneToMany</code> relationship with the teacher entity. When I annotate each like this</p>\n<pre><code>@Entity\npublic class Product {\n\n... \n\n@ManyToOne(cascade = MERGE)\nprivate final Owner owner;\n</code></pre>\n<p>On the other side, in the Owner Class,</p>\n<pre><code>@Entity \npublic class Owner {\n\n...\n\n@OneToMany(mappedBy = &quot;owner&quot;, cascade = MERGE)\nprivate final List&lt;Product&gt; products;\n</code></pre>\n<p>What happens now is that <code>&quot;owner&quot;</code> in the line <code>mappedBy = &quot;owner&quot;</code> turns red. Hovering over it, I get the error that the owner attribute cannot be found.</p>\n<p>The error: <em>Cannot find inverse attribute</em></p>\n<p>The solution was simply to remove the <code>final</code> keyword in the attribute owner in the Product class.</p>\n<p>It becomes <code>private Owner owner</code> and the error disappears. I don't understand why adding the keyword <code>final</code> causes this problem.</p>\n<p>Why does this happen?\nIs there a workaround? Can I still make the owner attribute final?</p>\n<p>The main idea from the getgo was to make the product class immutable. While this is a challenge, I've managed to find a workaround for most things, but I didn't know how to fix this problem.</p>\n"},{"tags":["java","micronaut","micronaut-data"],"answers":[{"tags":[],"owner":{"account_id":2524916,"reputation":40766,"user_id":2194470,"accept_rate":100,"display_name":"Szymon Stepniak"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1648813715,"creation_date":1606991989,"answer_id":65124341,"question_id":65123204,"body_markdown":"You can implement an integration test in a similar fashion in Micronaut using the official [Micronaut Test](https://micronaut-projects.github.io/micronaut-test/latest/guide/#introduction) module.\r\n\r\nAssuming you are using JUnit 5, here is a [code sample from the Micronaut Test documentation page](https://micronaut-projects.github.io/micronaut-test/latest/guide/#junit5). _(There are similar examples for Spock, KotlinTest, and Kotest, just in case you use a different testing framework.)_\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package io.micronaut.test.junit5;\r\n\r\n    import io.micronaut.test.extensions.junit5.annotation.MicronautTest;\r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.params.ParameterizedTest;\r\n    import org.junit.jupiter.params.provider.CsvSource;\r\n\r\n    import javax.inject.Inject;\r\n\r\n    @MicronautTest \r\n    class MathServiceTest {\r\n\r\n        @Inject\r\n        MathService mathService; \r\n\r\n        @ParameterizedTest\r\n        @CsvSource({&quot;2,8&quot;, &quot;3,12&quot;})\r\n        void testComputeNumToSquare(Integer num, Integer square) {\r\n            final Integer result = mathService.compute(num); \r\n\r\n            Assertions.assertEquals(\r\n                    square,\r\n                    result\r\n            );\r\n        }\r\n    }\r\n\r\nThe `@MicronautTest` annotation instructs the test runner to start up a Micronaut application for the test purpose. Then the `@Inject` annotation injects the `MathService` bean (similarly to the `@Autowired` annotation.) Now it&#39;s up to you to call the injected service to initialize the desired state before you run your assertions.\r\n\r\nAlso, take a look at this [test example](https://guides.micronaut.io/micronaut-data-access-jpa-hibernate/guide/index.html#tests) from the official [&quot;Access a database with JPA and Hibernate&quot;](https://guides.micronaut.io/micronaut-data-access-jpa-hibernate/guide/index.html) user guide. It shows how you can use the declarative HTTP client (the one injected as `@Inject @Client(&quot;/&quot;) HttpClient client`) to test your endpoints against the application started with the `@MicronautTest` annotation. You can benefit from both styles. For instance, you can inject service (or repository) and call it to prepare the desired initial state for the integration test, or you can do exactly that by calling specific endpoints (if they exist) that can create the data you want to retrieve from the controller with the real REST API call.\r\n\r\nUPDATE: As [Sascha Frinken](https://stackoverflow.com/users/3388069/sascha-frinken) mentioned in the comment below, `@MicronautTest` wraps the test execution with the transaction by default. In this case, when you call `repository.save(t)` method inside the test method, it won&#39;t get committed until the transaction is completed. You can turn off this behavior with:\r\n\r\n```java\r\n@MicronautTest(transactional = false)\r\n```","title":"How to write integration tests for Micronaut APIs?","body":"<p>You can implement an integration test in a similar fashion in Micronaut using the official <a href=\"https://micronaut-projects.github.io/micronaut-test/latest/guide/#introduction\" rel=\"nofollow noreferrer\">Micronaut Test</a> module.</p>\n<p>Assuming you are using JUnit 5, here is a <a href=\"https://micronaut-projects.github.io/micronaut-test/latest/guide/#junit5\" rel=\"nofollow noreferrer\">code sample from the Micronaut Test documentation page</a>. <em>(There are similar examples for Spock, KotlinTest, and Kotest, just in case you use a different testing framework.)</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.micronaut.test.junit5;\n\nimport io.micronaut.test.extensions.junit5.annotation.MicronautTest;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.CsvSource;\n\nimport javax.inject.Inject;\n\n@MicronautTest \nclass MathServiceTest {\n\n    @Inject\n    MathService mathService; \n\n    @ParameterizedTest\n    @CsvSource({&quot;2,8&quot;, &quot;3,12&quot;})\n    void testComputeNumToSquare(Integer num, Integer square) {\n        final Integer result = mathService.compute(num); \n\n        Assertions.assertEquals(\n                square,\n                result\n        );\n    }\n}\n</code></pre>\n<p>The <code>@MicronautTest</code> annotation instructs the test runner to start up a Micronaut application for the test purpose. Then the <code>@Inject</code> annotation injects the <code>MathService</code> bean (similarly to the <code>@Autowired</code> annotation.) Now it's up to you to call the injected service to initialize the desired state before you run your assertions.</p>\n<p>Also, take a look at this <a href=\"https://guides.micronaut.io/micronaut-data-access-jpa-hibernate/guide/index.html#tests\" rel=\"nofollow noreferrer\">test example</a> from the official <a href=\"https://guides.micronaut.io/micronaut-data-access-jpa-hibernate/guide/index.html\" rel=\"nofollow noreferrer\">&quot;Access a database with JPA and Hibernate&quot;</a> user guide. It shows how you can use the declarative HTTP client (the one injected as <code>@Inject @Client(&quot;/&quot;) HttpClient client</code>) to test your endpoints against the application started with the <code>@MicronautTest</code> annotation. You can benefit from both styles. For instance, you can inject service (or repository) and call it to prepare the desired initial state for the integration test, or you can do exactly that by calling specific endpoints (if they exist) that can create the data you want to retrieve from the controller with the real REST API call.</p>\n<p>UPDATE: As <a href=\"https://stackoverflow.com/users/3388069/sascha-frinken\">Sascha Frinken</a> mentioned in the comment below, <code>@MicronautTest</code> wraps the test execution with the transaction by default. In this case, when you call <code>repository.save(t)</code> method inside the test method, it won't get committed until the transaction is completed. You can turn off this behavior with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MicronautTest(transactional = false)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20122912,"reputation":140,"user_id":14757065,"display_name":"Joxebus"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1607007740,"creation_date":1607007740,"answer_id":65128504,"question_id":65123204,"body_markdown":"Seems we don&#39;t have a piece of code that can help us to tell you where your problem could be it&#39;s a little bit complicated to give a solid solution, even tho I think this could help you.\r\n\r\nEvery time you run your test on a micronaut app you will have available on your context the services and repositories, if you want to test that your **controller &gt; service** communicates correctly you can create a `@Client`\r\n\r\nI&#39;ll give you an example of a test with `Spock Framework`\r\n\r\n```\r\nclass PersonControllerSpec extends Specification {\r\n\r\n    @Shared @AutoCleanup EmbeddedServer embeddedServer = ApplicationContext.run(EmbeddedServer)\r\n    @Shared PersonClient client\r\n    @Shared PersonService service\r\n\r\n    void setupSpec(){\r\n        client = embeddedServer.applicationContext.getBean(PersonClient)\r\n        service = embeddedServer.applicationContext.getBean(PersonService)\r\n    }\r\n\r\n\r\n    @Transactional\r\n    void cleanup(){\r\n        Person.list()*.delete()\r\n    }\r\n\r\n    def &quot;/people should return 2 elements&quot; (){\r\n        given:\r\n        service.save(new Person(name: &quot;Daniel&quot;, lastName: &quot;Araiza&quot;, age: 22, phone: &quot;235-547-8761&quot; ))\r\n        service.save(new Person(name: &quot;Omar&quot;, lastName: &quot;Bautista&quot;, age: 32, phone: &quot;765-234-8623&quot;))\r\n        when:\r\n        List&lt;Person&gt; people = client.list()\r\n        then:\r\n        people.size() == 2\r\n    }\r\n}\r\n\r\n```\r\n\r\nYou can see more examples on my repository [a link](https://github.com/Joxebus/MicronautGroovy/tree/deploy/src/test/groovy/io/github/joxebus/micronaut)! ","title":"How to write integration tests for Micronaut APIs?","body":"<p>Seems we don't have a piece of code that can help us to tell you where your problem could be it's a little bit complicated to give a solid solution, even tho I think this could help you.</p>\n<p>Every time you run your test on a micronaut app you will have available on your context the services and repositories, if you want to test that your <strong>controller &gt; service</strong> communicates correctly you can create a <code>@Client</code></p>\n<p>I'll give you an example of a test with <code>Spock Framework</code></p>\n<pre><code>class PersonControllerSpec extends Specification {\n\n    @Shared @AutoCleanup EmbeddedServer embeddedServer = ApplicationContext.run(EmbeddedServer)\n    @Shared PersonClient client\n    @Shared PersonService service\n\n    void setupSpec(){\n        client = embeddedServer.applicationContext.getBean(PersonClient)\n        service = embeddedServer.applicationContext.getBean(PersonService)\n    }\n\n\n    @Transactional\n    void cleanup(){\n        Person.list()*.delete()\n    }\n\n    def &quot;/people should return 2 elements&quot; (){\n        given:\n        service.save(new Person(name: &quot;Daniel&quot;, lastName: &quot;Araiza&quot;, age: 22, phone: &quot;235-547-8761&quot; ))\n        service.save(new Person(name: &quot;Omar&quot;, lastName: &quot;Bautista&quot;, age: 32, phone: &quot;765-234-8623&quot;))\n        when:\n        List&lt;Person&gt; people = client.list()\n        then:\n        people.size() == 2\n    }\n}\n\n</code></pre>\n<p>You can see more examples on my repository <a href=\"https://github.com/Joxebus/MicronautGroovy/tree/deploy/src/test/groovy/io/github/joxebus/micronaut\" rel=\"nofollow noreferrer\">a link</a>!</p>\n"}],"owner":{"account_id":5870080,"reputation":425,"user_id":4622647,"accept_rate":75,"display_name":"AmitB10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5702,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65124341,"answer_count":2,"score":5,"last_activity_date":1648813715,"creation_date":1606987900,"question_id":65123204,"body_markdown":"Let&#39;s say I have an API to GET list of users. Controller -&gt; Service -&gt; Repository.\r\nComing from Spring background, where for writing test for this API, in test, we could declare the repository with @Autowired and insert the user data using this repository(in data setup part). Then make that API call and then assert the response.\r\nHow to do this in Micronaut?","title":"How to write integration tests for Micronaut APIs?","body":"<p>Let's say I have an API to GET list of users. Controller -&gt; Service -&gt; Repository.\nComing from Spring background, where for writing test for this API, in test, we could declare the repository with @Autowired and insert the user data using this repository(in data setup part). Then make that API call and then assert the response.\nHow to do this in Micronaut?</p>\n"},{"tags":["java","gwt","jetty"],"comments":[{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1638885400,"post_id":70214652,"comment_id":124202500,"body_markdown":"Can you share the generated compilation-mappings.txt file, and the build log to confirm what is happening here?","body":"Can you share the generated compilation-mappings.txt file, and the build log to confirm what is happening here?"},{"owner":{"account_id":12451769,"reputation":142,"user_id":9987894,"display_name":"Alays"},"score":0,"creation_date":1638946582,"post_id":70214652,"comment_id":124220026,"body_markdown":"Hi where can I find this file ? In the code server html page when I click on the link with the module&#39;s name I only have 3 files MyModule.nocache.js\nMyModule.recompile.nocache.js\nclear.cache.gif","body":"Hi where can I find this file ? In the code server html page when I click on the link with the module&#39;s name I only have 3 files MyModule.nocache.js MyModule.recompile.nocache.js clear.cache.gif"},{"owner":{"account_id":12451769,"reputation":142,"user_id":9987894,"display_name":"Alays"},"score":0,"creation_date":1638946773,"post_id":70214652,"comment_id":124220075,"body_markdown":"@ColinAlworth I think my problem is the same problem than this person in 2014 https://groups.google.com/g/google-web-toolkit/c/p9BGyLxiLkE","body":"@ColinAlworth I think my problem is the same problem than this person in 2014 <a href=\"https://groups.google.com/g/google-web-toolkit/c/p9BGyLxiLkE\" rel=\"nofollow noreferrer\">groups.google.com/g/google-web-toolkit/c/p9BGyLxiLkE</a>"},{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1638981675,"post_id":70214652,"comment_id":124233353,"body_markdown":"The file is built to the same output directory as your MyModule.nocache.js when you do a build. Start your jetty as you describe above, then share the file that is generated. With that said, you should not need to generate GWT production JS when starting your own jetty - how are you starting jetty that this is a requirement, and what does &quot;I am stuck&quot; actually mean about why super dev mode isn&#39;t working?","body":"The file is built to the same output directory as your MyModule.nocache.js when you do a build. Start your jetty as you describe above, then share the file that is generated. With that said, you should not need to generate GWT production JS when starting your own jetty - how are you starting jetty that this is a requirement, and what does &quot;I am stuck&quot; actually mean about why super dev mode isn&#39;t working?"},{"owner":{"account_id":12451769,"reputation":142,"user_id":9987894,"display_name":"Alays"},"score":0,"creation_date":1639033220,"post_id":70214652,"comment_id":124246006,"body_markdown":"@ColinAlworth The thing is the MyModule directory, with MyModule.nocache.js and others files, is not generated. If I remove the parameter -Dgwt.compiler.skip=true it&#39;s ok but it runs permutations ... I build my module using this command clean install -Dgwt.compiler.skip=true -Dgwt.draftCompile=true -Dgwt.compiler.localWorkers=8 in Intellij","body":"@ColinAlworth The thing is the MyModule directory, with MyModule.nocache.js and others files, is not generated. If I remove the parameter -Dgwt.compiler.skip=true it&#39;s ok but it runs permutations ... I build my module using this command clean install -Dgwt.compiler.skip=true -Dgwt.draftCompile=true -Dgwt.compiler.localWorkers=8 in Intellij"},{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1639073360,"post_id":70214652,"comment_id":124261758,"body_markdown":"If it is compiling, it goes somewhere, you just don&#39;t know where it is yet. If you tell it to skip, you don&#39;t need draft or localworkers, so try not telling it to skip, and see what the output. If you skip, there can be no generated output. It looks like you have two problems &quot;why are my permutations not limited as i expect&quot; and &quot;why is my dev mode building when i try to turn on the non-gwt server&quot;.","body":"If it is compiling, it goes somewhere, you just don&#39;t know where it is yet. If you tell it to skip, you don&#39;t need draft or localworkers, so try not telling it to skip, and see what the output. If you skip, there can be no generated output. It looks like you have two problems &quot;why are my permutations not limited as i expect&quot; and &quot;why is my dev mode building when i try to turn on the non-gwt server&quot;."}],"answers":[{"tags":[],"owner":{"account_id":2480204,"reputation":1014,"user_id":2159821,"display_name":"Ahmad Bawaneh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638616906,"creation_date":1638616906,"answer_id":70225137,"question_id":70214652,"body_markdown":"You can avoid multiple permutation by collapsing all properties in the gwt.xml\r\nwhich will merge all permutations into one\r\n\r\n    &lt;collapse-all-properties/&gt;","title":"Intellij/GWT Starting a gwt application without permutations","body":"<p>You can avoid multiple permutation by collapsing all properties in the gwt.xml\nwhich will merge all permutations into one</p>\n<pre><code>&lt;collapse-all-properties/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2168226,"reputation":1449,"user_id":1920835,"display_name":"Robert Newton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638749794,"creation_date":1638749377,"answer_id":70239668,"question_id":70214652,"body_markdown":"This sounds like your project is not set up correctly.  What version of GWT are you using.  Is this dev mode &quot;Super Dev Mode&quot; or the old dev mode? \r\n\r\n&gt; Is it possible to avoid permutations while launching the jetty ?\r\n\r\nThere should not be permuations being generated when the web server (jetty) launches.  Only when you open the page in your browser should the code server run the GWT compiler to compile the module and then bind to *one* user agent based on your browser type, and that 1 permutation is then compiled.\r\n","title":"Intellij/GWT Starting a gwt application without permutations","body":"<p>This sounds like your project is not set up correctly.  What version of GWT are you using.  Is this dev mode &quot;Super Dev Mode&quot; or the old dev mode?</p>\n<blockquote>\n<p>Is it possible to avoid permutations while launching the jetty ?</p>\n</blockquote>\n<p>There should not be permuations being generated when the web server (jetty) launches.  Only when you open the page in your browser should the code server run the GWT compiler to compile the module and then bind to <em>one</em> user agent based on your browser type, and that 1 permutation is then compiled.</p>\n"},{"tags":[],"owner":{"account_id":12451769,"reputation":142,"user_id":9987894,"display_name":"Alays"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648813597,"creation_date":1648813597,"answer_id":71706416,"question_id":70214652,"body_markdown":"I finally found a solution to my problem,\r\n\r\nThe problem was the -war property didn&#39;t point on the good directory \r\n\r\n**PATH_TO_MY_DEV_DIRECTORY/MY_GWT_MODULE/target/v2** \r\n\r\ninstead of\r\n\r\n**PATH_TO_MY_DEV_DIRECTORY/MY_PROJECT/MY_GWT_MODULE/target/v2** \r\n\r\nSo now, in Intellij I have 3 Configurations :\r\n\r\n - The compilation server (GWT configuration) with Dev Mode Parameters as : -noserver -war &quot;PATH_TO_MY_DEV_DIRECTORY/MY_PROJECT/MY_GWT_MODULE/target/v2&quot;/\r\n\r\n - a maven which builds my war, with Run as : clean install -Dgwt.compiler.skip=true\r\n\r\n - a jetty configuration with before launch parameter with my maven configuration\r\n\r\nAnd it works fine now\r\n ","title":"Intellij/GWT Starting a gwt application without permutations","body":"<p>I finally found a solution to my problem,</p>\n<p>The problem was the -war property didn't point on the good directory</p>\n<p><strong>PATH_TO_MY_DEV_DIRECTORY/MY_GWT_MODULE/target/v2</strong></p>\n<p>instead of</p>\n<p><strong>PATH_TO_MY_DEV_DIRECTORY/MY_PROJECT/MY_GWT_MODULE/target/v2</strong></p>\n<p>So now, in Intellij I have 3 Configurations :</p>\n<ul>\n<li><p>The compilation server (GWT configuration) with Dev Mode Parameters as : -noserver -war &quot;PATH_TO_MY_DEV_DIRECTORY/MY_PROJECT/MY_GWT_MODULE/target/v2&quot;/</p>\n</li>\n<li><p>a maven which builds my war, with Run as : clean install -Dgwt.compiler.skip=true</p>\n</li>\n<li><p>a jetty configuration with before launch parameter with my maven configuration</p>\n</li>\n</ul>\n<p>And it works fine now</p>\n"}],"owner":{"account_id":12451769,"reputation":142,"user_id":9987894,"display_name":"Alays"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71706416,"answer_count":3,"score":1,"last_activity_date":1648813597,"creation_date":1638536080,"question_id":70214652,"body_markdown":"I want to start my gwt application on dev mode using an external jetty and the gwt compilation server (using -noserver).\r\n\r\nStarting the webserver (jetty + gwt war) with 3 permutations (user.agent=safari) takes 250s with options :\r\n\r\n - -Dgwt.compiler.skip=true\r\n - -Dgwt.draftCompile=true \r\n - -Dgwt.compiler.localWorkers=8 \r\n - -Dgwt.compiler.optimizationLevel=0\r\n\r\nand in the file MyProject.gwt.xml\r\n\r\n    &lt;set-property name=&quot;user.agent&quot; value=&quot;safari&quot; /&gt;\r\n\r\nThen I start the dev mode, and the gwt compilation server does 2 more permutations when I want to refresh the client.\r\n\r\nIs it possible to avoid permutations while launching the jetty ? \r\n\r\nI know that -Dgwt.compiler.skip=true avoid permutations but it doesn&#39;t generate the minimum js needed by the gwt compilation server, MyProject directory containing files like MyProject.nocache.js or MyProject.devmode.js is missing so I can&#39;t ask the compilation server to do his job while on my browser.\r\n\r\nIf I use the option -Dgwt.compiler.skip=true, my webserver starts in 30s but I am stuck.\r\n\r\nI don&#39;t know why gwt needs to do permutations while launching the webserver, isn&#39;t that the gwt compilation server&#39;s job on dev mode ?\r\n\r\nedit : I think I have the same problem than this person in 2014 https://groups.google.com/g/google-web-toolkit/c/p9BGyLxiLkE\r\n\r\nExcept I am using gwt 2.9","title":"Intellij/GWT Starting a gwt application without permutations","body":"<p>I want to start my gwt application on dev mode using an external jetty and the gwt compilation server (using -noserver).</p>\n<p>Starting the webserver (jetty + gwt war) with 3 permutations (user.agent=safari) takes 250s with options :</p>\n<ul>\n<li>-Dgwt.compiler.skip=true</li>\n<li>-Dgwt.draftCompile=true</li>\n<li>-Dgwt.compiler.localWorkers=8</li>\n<li>-Dgwt.compiler.optimizationLevel=0</li>\n</ul>\n<p>and in the file MyProject.gwt.xml</p>\n<pre><code>&lt;set-property name=&quot;user.agent&quot; value=&quot;safari&quot; /&gt;\n</code></pre>\n<p>Then I start the dev mode, and the gwt compilation server does 2 more permutations when I want to refresh the client.</p>\n<p>Is it possible to avoid permutations while launching the jetty ?</p>\n<p>I know that -Dgwt.compiler.skip=true avoid permutations but it doesn't generate the minimum js needed by the gwt compilation server, MyProject directory containing files like MyProject.nocache.js or MyProject.devmode.js is missing so I can't ask the compilation server to do his job while on my browser.</p>\n<p>If I use the option -Dgwt.compiler.skip=true, my webserver starts in 30s but I am stuck.</p>\n<p>I don't know why gwt needs to do permutations while launching the webserver, isn't that the gwt compilation server's job on dev mode ?</p>\n<p>edit : I think I have the same problem than this person in 2014 <a href=\"https://groups.google.com/g/google-web-toolkit/c/p9BGyLxiLkE\" rel=\"nofollow noreferrer\">https://groups.google.com/g/google-web-toolkit/c/p9BGyLxiLkE</a></p>\n<p>Except I am using gwt 2.9</p>\n"},{"tags":["java","spring-boot","rest","response-entity"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1648718527,"post_id":71689927,"comment_id":126697731,"body_markdown":"`ResponseEntity.status(HttpStatus. BAD_REQUEST).body(&quot;Custom Message&quot;);` should do","body":"<code>ResponseEntity.status(HttpStatus. BAD_REQUEST).body(&quot;Custom Message&quot;);</code> should do"},{"owner":{"account_id":24565516,"reputation":5,"user_id":18472714,"display_name":"tuniodu33"},"score":0,"creation_date":1648735851,"post_id":71689927,"comment_id":126704603,"body_markdown":"Thanks for the comment @HariHaravelan, the problem is i use an List&lt;Object&gt; return, but it work now ;)","body":"Thanks for the comment @HariHaravelan, the problem is i use an List&lt;Object&gt; return, but it work now ;)"}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648718627,"creation_date":1648718627,"answer_id":71690036,"question_id":71689927,"body_markdown":"You need to create a custom [`@ControllerAdvice`][1]:\r\n\r\n\r\n&gt; **Specialization of @Component for classes that declare @ExceptionHandler**, @InitBinder, or @ModelAttribute **methods to be shared across multiple @Controller classes**.\r\n\r\nextending [`ResponseEntityExceptionHandler`][2]:\r\n\r\n&gt; **A convenient base class for @ControllerAdvice** classes **that** wish to **provide centralized exception handling** across all @RequestMapping methods through @ExceptionHandler methods.\r\n\r\nBasically something like:\r\n\r\n    @ControllerAdvice\r\n    public class CustomExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n            return new ResponseEntity&lt;&gt;(&quot;my custom message&quot;, status);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.html","title":"Easiest way to return a custom ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST) with custom message?","body":"<p>You need to create a custom <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html\" rel=\"nofollow noreferrer\"><code>@ControllerAdvice</code></a>:</p>\n<blockquote>\n<p><strong>Specialization of @Component for classes that declare @ExceptionHandler</strong>, @InitBinder, or @ModelAttribute <strong>methods to be shared across multiple @Controller classes</strong>.</p>\n</blockquote>\n<p>extending <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.html\" rel=\"nofollow noreferrer\"><code>ResponseEntityExceptionHandler</code></a>:</p>\n<blockquote>\n<p><strong>A convenient base class for @ControllerAdvice</strong> classes <strong>that</strong> wish to <strong>provide centralized exception handling</strong> across all @RequestMapping methods through @ExceptionHandler methods.</p>\n</blockquote>\n<p>Basically something like:</p>\n<pre><code>@ControllerAdvice\npublic class CustomExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n        return new ResponseEntity&lt;&gt;(&quot;my custom message&quot;, status);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24565516,"reputation":5,"user_id":18472714,"display_name":"tuniodu33"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648813236,"accepted_answer_id":71690036,"answer_count":1,"score":0,"last_activity_date":1648813208,"creation_date":1648718187,"question_id":71689927,"body_markdown":"This is the first time I develop a REST API with Spring Boot. I want to return a custom message when I have a Bad Request 400 error.\r\n\r\nI have my controller:\r\n\r\n```\r\n@GetMapping(&quot;/DetailDossier/{id},{parameters}/&quot;)\r\npublic ResponseEntity&lt;List&lt;DetailDossierRspn&gt;&gt; DetailDossierQstn(\r\n        @PathVariable(value = &quot;id&quot;) String[] id, @PathVariable(value = &quot;parameters&quot;) String parameters,\r\n         throws ParseException {\r\n    List&lt;DetailDossierRspn&gt; rspn = new ArrayList&lt;&gt;();\r\n\r\n    WSDetailDossierService mainDAO = new WSDetailDossierService();\r\n\r\n// If Sql result return -&gt; List&lt;DetailDossierRspn&gt;\r\n\r\n// If no sql result return null\r\n\r\n    rspn = mainDAO.initialiserDAO(identifiant, coetb, null);\r\n    if (rspn == null) {\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n    } else {\r\n        return ResponseEntity.ok(rspn);\r\n    }\r\n}\r\n```\r\n\r\nI want the easiest way to return a 400 error:\r\n\r\n```java\r\nResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST)\r\n```\r\n\r\nwith a custom message.\r\n\r\nI tried to create a @ControllerAdvice, but it didn&#39;t work because my my controller return a List\\&lt;Object\\&gt;\r\n\r\nIs there a way to easily create a custom message?\r\n","title":"Easiest way to return a custom ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST) with custom message?","body":"<p>This is the first time I develop a REST API with Spring Boot. I want to return a custom message when I have a Bad Request 400 error.</p>\n<p>I have my controller:</p>\n<pre><code>@GetMapping(&quot;/DetailDossier/{id},{parameters}/&quot;)\npublic ResponseEntity&lt;List&lt;DetailDossierRspn&gt;&gt; DetailDossierQstn(\n        @PathVariable(value = &quot;id&quot;) String[] id, @PathVariable(value = &quot;parameters&quot;) String parameters,\n         throws ParseException {\n    List&lt;DetailDossierRspn&gt; rspn = new ArrayList&lt;&gt;();\n\n    WSDetailDossierService mainDAO = new WSDetailDossierService();\n\n// If Sql result return -&gt; List&lt;DetailDossierRspn&gt;\n\n// If no sql result return null\n\n    rspn = mainDAO.initialiserDAO(identifiant, coetb, null);\n    if (rspn == null) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n    } else {\n        return ResponseEntity.ok(rspn);\n    }\n}\n</code></pre>\n<p>I want the easiest way to return a 400 error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST)\n</code></pre>\n<p>with a custom message.</p>\n<p>I tried to create a @ControllerAdvice, but it didn't work because my my controller return a List&lt;Object&gt;</p>\n<p>Is there a way to easily create a custom message?</p>\n"},{"tags":["java","list","hashmap","java-stream"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1648746459,"post_id":71696496,"comment_id":126709094,"body_markdown":"What do you want as your key and value?  Your current stream would return `Map&lt;String,String&gt;`.  Note that `e-&gt;e` and `Function.identity()` do the same thing.","body":"What do you want as your key and value?  Your current stream would return <code>Map&lt;String,String&gt;</code>.  Note that <code>e-&gt;e</code> and <code>Function.identity()</code> do the same thing."},{"owner":{"account_id":23778005,"reputation":57,"user_id":17791152,"display_name":"G T"},"score":0,"creation_date":1648747054,"post_id":71696496,"comment_id":126709334,"body_markdown":"If we have List.of(&quot;5&quot;, &quot;7&quot;, &#39;&#39;5&quot;, &quot;8&quot;, &quot;9,&quot;8&quot;) , as key - String, and about value -maybe, character frequency","body":"If we have List.of(&quot;5&quot;, &quot;7&quot;, &#39;&#39;5&quot;, &quot;8&quot;, &quot;9,&quot;8&quot;) , as key - String, and about value -maybe, character frequency"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1648747561,"post_id":71696496,"comment_id":126709501,"body_markdown":"&quot;String, and value- converted string to integer&quot;  You realize you lose data doing this right since the key is unique and will overwrite whatever was previously there.  You would only have one `5 = 5` value in your map, not two.","body":"&quot;String, and value- converted string to integer&quot;  You realize you lose data doing this right since the key is unique and will overwrite whatever was previously there.  You would only have one <code>5 = 5</code> value in your map, not two."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648776396,"creation_date":1648747374,"answer_id":71696787,"question_id":71696496,"body_markdown":"Try it like this for a frequency.  Note that a map can&#39;t have duplicate keys.\r\n```\r\nList&lt;String&gt; list2 = List.of(&quot;5&quot;, &quot;7&quot;, &quot;5&quot;, &quot;8&quot;, &quot;9&quot;,&quot;8&quot;);\r\n```\r\n- the `key` is the `String`.\r\n- the `value` starts a `1`.\r\n- the `Integers::sum` adds `1` for every occurrence.\r\n``` \r\nMap&lt;String, Integer&gt; freq = list2.stream().collect(Collectors.toMap(\r\n\t\t e-&gt;e, (a)-&gt;1, Integer::sum));\r\n\r\nfreq.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n5=2\r\n7=1\r\n8=2\r\n9=1\r\n```\r\nfor the second task, to convert the strings to `ints` is trivial.  But remember that dups can&#39;t exist so they have to be properly merged. This is similar to the first task except instead of counting we&#39;re just converting to an integer.  Since you have duplicate integers, you need to provide *instructions* on what to do.  That is the `merge` function `(a,b)-&gt;a` which says for existing value `a` and new value `b`, just  keep `a`\r\n```\r\nList&lt;String&gt; list2 = List.of(&quot;5&quot;, &quot;7&quot;, &quot;5&quot;, &quot;8&quot;, &quot;9&quot;,&quot;8&quot;);\r\nMap&lt;String, Integer&gt; map = list2.stream().collectCollectors.toMap(e-&gt;e,\r\n              Integer::valueOf,\r\n              (a,b)-&gt;a); // just keep the first one\r\n```\r\nprints\r\n```\r\n5=5\r\n7=7\r\n8=8\r\n9=9\r\n","title":"How to convert data from the List of strings into a Map&lt;String, Integer&gt; with Stream API?","body":"<p>Try it like this for a frequency.  Note that a map can't have duplicate keys.</p>\n<pre><code>List&lt;String&gt; list2 = List.of(&quot;5&quot;, &quot;7&quot;, &quot;5&quot;, &quot;8&quot;, &quot;9&quot;,&quot;8&quot;);\n</code></pre>\n<ul>\n<li>the <code>key</code> is the <code>String</code>.</li>\n<li>the <code>value</code> starts a <code>1</code>.</li>\n<li>the <code>Integers::sum</code> adds <code>1</code> for every occurrence.</li>\n</ul>\n<pre><code>Map&lt;String, Integer&gt; freq = list2.stream().collect(Collectors.toMap(\n         e-&gt;e, (a)-&gt;1, Integer::sum));\n\nfreq.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>5=2\n7=1\n8=2\n9=1\n</code></pre>\n<p>for the second task, to convert the strings to <code>ints</code> is trivial.  But remember that dups can't exist so they have to be properly merged. This is similar to the first task except instead of counting we're just converting to an integer.  Since you have duplicate integers, you need to provide <em>instructions</em> on what to do.  That is the <code>merge</code> function <code>(a,b)-&gt;a</code> which says for existing value <code>a</code> and new value <code>b</code>, just  keep <code>a</code></p>\n<pre><code>List&lt;String&gt; list2 = List.of(&quot;5&quot;, &quot;7&quot;, &quot;5&quot;, &quot;8&quot;, &quot;9&quot;,&quot;8&quot;);\nMap&lt;String, Integer&gt; map = list2.stream().collectCollectors.toMap(e-&gt;e,\n              Integer::valueOf,\n              (a,b)-&gt;a); // just keep the first one\n</code></pre>\n<p>prints</p>\n<pre><code>5=5\n7=7\n8=8\n9=9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648813171,"creation_date":1648775612,"answer_id":71700736,"question_id":71696496,"body_markdown":"&gt; **task №1** as key - String, and value - ***character frequency***\r\n\r\nIn order to obtain the frequency of every **character**, you need to *flatten* each string in a list (i.e. split every *string* into *characters*). \r\n\r\nSince **Java 9** we can use method [`chars()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#chars()) which returns a stream of characters represented with `int` primitives.\r\n\r\n`flatMapToInt(String::chars)` will produce an `IntStream`, containing characters from every string in the given list. \r\n\r\nThen `mapToObj()` creates a single-character string for every stream element.\r\n\r\nTo generate the map of frequencies, we can utilize collector `Collectors.groupingBy()`. `Function.identity()` is used as the first argument is an equivalent of `e -&gt; e`, it&#39;s just a way to tell that stream elements will be used as a *key* without any changes. The second argument is a *downstream collector* `Collectors.counting()`, that generates the number of elements mapped to a particular *key*.\r\n\r\n    public static Map&lt;String, Long&gt; getCharacterFrequency(List&lt;String&gt; list) {\r\n        return list.stream()                               // Stream&lt;String&gt;\r\n                .flatMapToInt(String::chars)               // IntStream\r\n                .mapToObj(ch -&gt; String.valueOf((char) ch)) // String&lt;String&gt;\r\n                .collect(Collectors.groupingBy(Function.identity(),\r\n                                               Collectors.counting()));\r\n    }\r\n\r\n&gt; **task №2** as key - String, and value - **string** converted to **integer**\r\n\r\nYou can do it by using a flavor of *collector* `Collectors.toMap()` that expects three arguments: \r\n* *keyMapper* - a function that produces the *key* from a stream element;\r\n* *valueMapper* - a function that produces the *value* from a stream element;\r\n* *mergeFunction* - a function that determines how to resolve a situation when two values happens to be mapped to the same key.\r\n\r\nAlthough, the *mergeFunction* in the code below is not doing anything special, it needs to be provided, otherwise the first encountered duplicate will cause an `IllegalStateException`.\r\n\r\n    public static Map&lt;String, Integer&gt; getStringValuesMappedToInts(List&lt;String&gt; list) {\r\n        return list.stream()\r\n                .collect(Collectors.toMap(Function.identity(), // key (String)\r\n                                          Integer::valueOf,   // value (Integer)\r\n                                          (v1, v2) -&gt; v1));    // function that resolves collisions\r\n    }\r\n\r\n`main()` - demo\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; source = List.of(&quot;5&quot;, &quot;7&quot;, &quot;57&quot;, &quot;59&quot;, &quot;5&quot;, &quot;8&quot;, &quot;99&quot;, &quot;9&quot;, &quot;8&quot;);\r\n        // task 1\r\n        System.out.println(&quot;task 1:\\n&quot; + getCharacterFrequency(source));\r\n        // task 2\r\n        System.out.println(&quot;task 2:\\n&quot; + getStringValuesMappedToInts(source));\r\n    }\r\n\r\n**Output**\r\n```\r\ntask 1:\r\n{5=4, 7=2, 8=2, 9=4}\r\ntask 2:\r\n{99=99, 57=57, 59=59, 5=5, 7=7, 8=8, 9=9}\r\n```","title":"How to convert data from the List of strings into a Map&lt;String, Integer&gt; with Stream API?","body":"<blockquote>\n<p><strong>task №1</strong> as key - String, and value - <em><strong>character frequency</strong></em></p>\n</blockquote>\n<p>In order to obtain the frequency of every <strong>character</strong>, you need to <em>flatten</em> each string in a list (i.e. split every <em>string</em> into <em>characters</em>).</p>\n<p>Since <strong>Java 9</strong> we can use method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#chars()\" rel=\"nofollow noreferrer\"><code>chars()</code></a> which returns a stream of characters represented with <code>int</code> primitives.</p>\n<p><code>flatMapToInt(String::chars)</code> will produce an <code>IntStream</code>, containing characters from every string in the given list.</p>\n<p>Then <code>mapToObj()</code> creates a single-character string for every stream element.</p>\n<p>To generate the map of frequencies, we can utilize collector <code>Collectors.groupingBy()</code>. <code>Function.identity()</code> is used as the first argument is an equivalent of <code>e -&gt; e</code>, it's just a way to tell that stream elements will be used as a <em>key</em> without any changes. The second argument is a <em>downstream collector</em> <code>Collectors.counting()</code>, that generates the number of elements mapped to a particular <em>key</em>.</p>\n<pre><code>public static Map&lt;String, Long&gt; getCharacterFrequency(List&lt;String&gt; list) {\n    return list.stream()                               // Stream&lt;String&gt;\n            .flatMapToInt(String::chars)               // IntStream\n            .mapToObj(ch -&gt; String.valueOf((char) ch)) // String&lt;String&gt;\n            .collect(Collectors.groupingBy(Function.identity(),\n                                           Collectors.counting()));\n}\n</code></pre>\n<blockquote>\n<p><strong>task №2</strong> as key - String, and value - <strong>string</strong> converted to <strong>integer</strong></p>\n</blockquote>\n<p>You can do it by using a flavor of <em>collector</em> <code>Collectors.toMap()</code> that expects three arguments:</p>\n<ul>\n<li><em>keyMapper</em> - a function that produces the <em>key</em> from a stream element;</li>\n<li><em>valueMapper</em> - a function that produces the <em>value</em> from a stream element;</li>\n<li><em>mergeFunction</em> - a function that determines how to resolve a situation when two values happens to be mapped to the same key.</li>\n</ul>\n<p>Although, the <em>mergeFunction</em> in the code below is not doing anything special, it needs to be provided, otherwise the first encountered duplicate will cause an <code>IllegalStateException</code>.</p>\n<pre><code>public static Map&lt;String, Integer&gt; getStringValuesMappedToInts(List&lt;String&gt; list) {\n    return list.stream()\n            .collect(Collectors.toMap(Function.identity(), // key (String)\n                                      Integer::valueOf,   // value (Integer)\n                                      (v1, v2) -&gt; v1));    // function that resolves collisions\n}\n</code></pre>\n<p><code>main()</code> - demo</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; source = List.of(&quot;5&quot;, &quot;7&quot;, &quot;57&quot;, &quot;59&quot;, &quot;5&quot;, &quot;8&quot;, &quot;99&quot;, &quot;9&quot;, &quot;8&quot;);\n    // task 1\n    System.out.println(&quot;task 1:\\n&quot; + getCharacterFrequency(source));\n    // task 2\n    System.out.println(&quot;task 2:\\n&quot; + getStringValuesMappedToInts(source));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>task 1:\n{5=4, 7=2, 8=2, 9=4}\ntask 2:\n{99=99, 57=57, 59=59, 5=5, 7=7, 8=8, 9=9}\n</code></pre>\n"}],"owner":{"account_id":23778005,"reputation":57,"user_id":17791152,"display_name":"G T"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71700736,"answer_count":2,"score":1,"last_activity_date":1648813171,"creation_date":1648745925,"question_id":71696496,"body_markdown":"I tried to convert data from the *list* of strings into a `Map&lt;String, Integer&gt;` with the Stream API. \r\n\r\nBut the way I did it is not correct:\r\n\r\n    public static Map&lt;String, Integer&gt; converter (List&lt;String&gt; data){\r\n            return data.stream().collect(Collectors.toMap(e-&gt;e, Function.identity()));\r\n\r\nIf we have `List.of(&quot;5&quot;, &quot;7&quot;, &quot;5&quot;, &quot;8&quot;, &quot;9&quot;, &quot;8&quot;)` \r\n\r\n***task №1***  as key - `String`, and  value - *character frequency*\r\n\r\n***task №2***  as key - `String`, and  value - *string converted to integer*","title":"How to convert data from the List of strings into a Map&lt;String, Integer&gt; with Stream API?","body":"<p>I tried to convert data from the <em>list</em> of strings into a <code>Map&lt;String, Integer&gt;</code> with the Stream API.</p>\n<p>But the way I did it is not correct:</p>\n<pre><code>public static Map&lt;String, Integer&gt; converter (List&lt;String&gt; data){\n        return data.stream().collect(Collectors.toMap(e-&gt;e, Function.identity()));\n</code></pre>\n<p>If we have <code>List.of(&quot;5&quot;, &quot;7&quot;, &quot;5&quot;, &quot;8&quot;, &quot;9&quot;, &quot;8&quot;)</code></p>\n<p><em><strong>task №1</strong></em>  as key - <code>String</code>, and  value - <em>character frequency</em></p>\n<p><em><strong>task №2</strong></em>  as key - <code>String</code>, and  value - <em>string converted to integer</em></p>\n"},{"tags":["java","android","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":2,"creation_date":1648651168,"post_id":71678983,"comment_id":126679349,"body_markdown":"Does this answer your question? [how to parse JSON file with GSON](https://stackoverflow.com/questions/29965764/how-to-parse-json-file-with-gson)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29965764/how-to-parse-json-file-with-gson\">how to parse JSON file with GSON</a>"}],"answers":[{"tags":[],"owner":{"account_id":6456422,"reputation":29,"user_id":5001658,"accept_rate":100,"display_name":"Tjidde Nieuwenhuizen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648651574,"creation_date":1648651574,"answer_id":71679435,"question_id":71678983,"body_markdown":"You can use a JsonReader with a FileReader. \r\n    \r\n    JsonReader reader = new JsonReader(new FileReader(filename));\r\n    SlovickoS slovos = gson().fromJson(reader, SlovickoS.class); \r\n    list.add(slovos);\r\n\r\n","title":"How to read one Json string from file?","body":"<p>You can use a JsonReader with a FileReader.</p>\n<pre><code>JsonReader reader = new JsonReader(new FileReader(filename));\nSlovickoS slovos = gson().fromJson(reader, SlovickoS.class); \nlist.add(slovos);\n</code></pre>\n"}],"owner":{"account_id":24746758,"reputation":11,"user_id":18632833,"display_name":"BIBI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1648812509,"creation_date":1648650030,"question_id":71678983,"body_markdown":"I need to save objects in one file. I use Gson library. Writing to file is easy, but reading is complicated. I read whole file char by char, but this solution is inefficient. How to read only one JSON string? I have no idea how to do it better.\r\n\r\n```java\r\nFile file = new File(getContext().getFilesDir(), &quot;slovicka.json&quot;);\r\ntry (BufferedReader br = new BufferedReader(new FileReader(file))) {\r\n    char s;\r\n    char z = &#39;{&#39;;\r\n    char z2 = &#39;}&#39;;\r\n    int zavorky = 0;\r\n    String j = &quot;&quot;;\r\n    p = 0;\r\n    while (true) {\r\n        s = (char) br.read();\r\n        if (s == z) {\r\n            zavorky++;\r\n        }\r\n        if (s == z2) {\r\n            zavorky--;\r\n        }\r\n        j = j + s;\r\n        if (zavorky == 0) {\r\n            Gson gson = new Gson();\r\n            SlovickoS slovos = gson.fromJson(j, SlovickoS.class);\r\n            list.add(slovo);\r\n            j = &quot;&quot;;\r\n\r\n        }\r\n        \r\n    }\r\n} catch (Exception e) {\r\n    System.out.println(&quot;Chyba při čten&#237; ze souboru.&quot;);\r\n}\r\n```","title":"How to read one Json string from file?","body":"<p>I need to save objects in one file. I use Gson library. Writing to file is easy, but reading is complicated. I read whole file char by char, but this solution is inefficient. How to read only one JSON string? I have no idea how to do it better.</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(getContext().getFilesDir(), &quot;slovicka.json&quot;);\ntry (BufferedReader br = new BufferedReader(new FileReader(file))) {\n    char s;\n    char z = '{';\n    char z2 = '}';\n    int zavorky = 0;\n    String j = &quot;&quot;;\n    p = 0;\n    while (true) {\n        s = (char) br.read();\n        if (s == z) {\n            zavorky++;\n        }\n        if (s == z2) {\n            zavorky--;\n        }\n        j = j + s;\n        if (zavorky == 0) {\n            Gson gson = new Gson();\n            SlovickoS slovos = gson.fromJson(j, SlovickoS.class);\n            list.add(slovo);\n            j = &quot;&quot;;\n\n        }\n        \n    }\n} catch (Exception e) {\n    System.out.println(&quot;Chyba při čtení ze souboru.&quot;);\n}\n</code></pre>\n"},{"tags":["java","bouncycastle","pem","dsa"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1637645927,"post_id":70067679,"comment_id":123875139,"body_markdown":"Please recheck what you&#39;re running. I get this problem with _any_ version of Java but _only_ if the `addProvider` call is omitted (or reversed with `removeProvider`) and using Bouncy 1.53 up.","body":"Please recheck what you&#39;re running. I get this problem with <i>any</i> version of Java but <i>only</i> if the <code>addProvider</code> call is omitted (or reversed with <code>removeProvider</code>) and using Bouncy 1.53 up."}],"answers":[{"tags":[],"owner":{"account_id":15925779,"reputation":81,"user_id":11491431,"display_name":"Michał Rejkowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648812364,"creation_date":1648809420,"answer_id":71705575,"question_id":70067679,"body_markdown":"I had the same error when I was using incorrect **Bouncy Castle Security Provider**:\r\n```Java\r\nSecurity.getProvider(&quot;BC&quot;); //or Security.getProvider(BouncyCastleProvider.PROVIDER_NAME);\r\n```\r\nReturned a Bouncy Castle Security Provider that was registered by a JDBC driver (*jdbc.internal.org.bouncycastle.jcajce.provider*) and was containing **2727 parameters**. \r\n\r\nBut when I removed existing, mentioned Provider and registered a new one, provided by **bcprov** library (*org.bouncycastle.jcajce.provider*).  \r\nI got a Bouncy Castle Provider containing proper **2944** parameters and it started working without the error:\r\n```Java\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n\r\nSecurity.removeProvider(&quot;BC&quot;);\r\nSecurity.addProvider(new BouncyCastleProvider());\r\n```\r\n\r\n*To sum up*: Please compare your Bouncy Castle providers for both Java versions and make sure you&#39;re using a correct one.\r\n\r\nDependencies from my pom file:\r\n```Java\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;1.70&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;1.70&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"InvalidAlgorithmParameterException When Loading Encrypted Private Key With Bouncycastle","body":"<p>I had the same error when I was using incorrect <strong>Bouncy Castle Security Provider</strong>:</p>\n<pre><code>Security.getProvider(&quot;BC&quot;); //or Security.getProvider(BouncyCastleProvider.PROVIDER_NAME);\n</code></pre>\n<p>Returned a Bouncy Castle Security Provider that was registered by a JDBC driver (<em>jdbc.internal.org.bouncycastle.jcajce.provider</em>) and was containing <strong>2727 parameters</strong>.</p>\n<p>But when I removed existing, mentioned Provider and registered a new one, provided by <strong>bcprov</strong> library (<em>org.bouncycastle.jcajce.provider</em>).<br />\nI got a Bouncy Castle Provider containing proper <strong>2944</strong> parameters and it started working without the error:</p>\n<pre><code>import org.bouncycastle.jce.provider.BouncyCastleProvider;\n\nSecurity.removeProvider(&quot;BC&quot;);\nSecurity.addProvider(new BouncyCastleProvider());\n</code></pre>\n<p><em>To sum up</em>: Please compare your Bouncy Castle providers for both Java versions and make sure you're using a correct one.</p>\n<p>Dependencies from my pom file:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;1.70&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;1.70&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648812364,"creation_date":1637592511,"question_id":70067679,"body_markdown":"I&#39;m trying to read an encrypted DSA private key file with Bouncycastle using this code:\r\n\r\n        Security.addProvider(new BouncyCastleProvider());\r\n\r\n        ...    \r\n\r\n\t\tpublic PrivateKey loadKey(String fileName, String password) {\r\n\r\n\t\t\ttry (PEMParser pemParser = new PEMParser(new InputStreamReader(new FileInputStream(fileName), StandardCharsets.UTF_8))) {\r\n\r\n\t\t\t\tPKCS8EncryptedPrivateKeyInfo encryptedKeyInfo = (PKCS8EncryptedPrivateKeyInfo) pemParser.readObject();\r\n\r\n\t\t\t\tInputDecryptorProvider decryptorProvider = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(password.toCharArray());\r\n\t\t\t\tPrivateKeyInfo keyInfo = encryptedKeyInfo.decryptPrivateKeyInfo(decryptorProvider);\r\n\r\n\t\t\t\tJcaPEMKeyConverter converter = new JcaPEMKeyConverter();\r\n\t\t\t\treturn converter.getPrivateKey(keyInfo);\r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\nBut the method `encryptedKeyInfo.decryptPrivateKeyInfo` fails with the following exception:\r\n\r\n    org.bouncycastle.pkcs.PKCSException: unable to read encrypted data: 1.2.840.113549.1.5.3 not available: requires PBE parameters\r\n        at com.psc.bouncycastle@1.57.0//org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo.decryptPrivateKeyInfo(Unknown Source)\r\n        at com.my.app.MyClass.loadKey(MyClass.java:96)\r\n        ... 182 more\r\n    Caused by: org.bouncycastle.operator.OperatorCreationException: 1.2.840.113549.1.5.3 not available: requires PBE parameters\r\n        at com.psc.bouncycastle@1.57.0//org.bouncycastle.openssl.jcajce.JceOpenSSLPKCS8DecryptorProviderBuilder$1.get(Unknown Source)\r\n        ... 184 more\r\n    Caused by: java.security.InvalidKeyException: requires PBE parameters\r\n        at java.base/com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineInit(PBEWithMD5AndDESCipher.java:187)\r\n        at java.base/javax.crypto.Cipher.implInit(Cipher.java:839)\r\n        at java.base/javax.crypto.Cipher.chooseProvider(Cipher.java:901)\r\n        at java.base/javax.crypto.Cipher.init(Cipher.java:1286)\r\n        at java.base/javax.crypto.Cipher.init(Cipher.java:1223)\r\n        ... 185 more\r\n    Caused by: java.security.InvalidAlgorithmParameterException: Parameters missing\r\n        at java.base/com.sun.crypto.provider.PBES1Core.init(PBES1Core.java:214)\r\n        at java.base/com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineInit(PBEWithMD5AndDESCipher.java:221)\r\n        at java.base/com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineInit(PBEWithMD5AndDESCipher.java:185)\r\n        ... 189 more\r\n\r\nThe code seems to work on Java 8, but fails on Java 11. Any ideas?\r\n","title":"InvalidAlgorithmParameterException When Loading Encrypted Private Key With Bouncycastle","body":"<p>I'm trying to read an encrypted DSA private key file with Bouncycastle using this code:</p>\n<pre><code>    Security.addProvider(new BouncyCastleProvider());\n\n    ...    \n\n    public PrivateKey loadKey(String fileName, String password) {\n\n        try (PEMParser pemParser = new PEMParser(new InputStreamReader(new FileInputStream(fileName), StandardCharsets.UTF_8))) {\n\n            PKCS8EncryptedPrivateKeyInfo encryptedKeyInfo = (PKCS8EncryptedPrivateKeyInfo) pemParser.readObject();\n\n            InputDecryptorProvider decryptorProvider = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(password.toCharArray());\n            PrivateKeyInfo keyInfo = encryptedKeyInfo.decryptPrivateKeyInfo(decryptorProvider);\n\n            JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\n            return converter.getPrivateKey(keyInfo);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>But the method <code>encryptedKeyInfo.decryptPrivateKeyInfo</code> fails with the following exception:</p>\n<pre><code>org.bouncycastle.pkcs.PKCSException: unable to read encrypted data: 1.2.840.113549.1.5.3 not available: requires PBE parameters\n    at com.psc.bouncycastle@1.57.0//org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo.decryptPrivateKeyInfo(Unknown Source)\n    at com.my.app.MyClass.loadKey(MyClass.java:96)\n    ... 182 more\nCaused by: org.bouncycastle.operator.OperatorCreationException: 1.2.840.113549.1.5.3 not available: requires PBE parameters\n    at com.psc.bouncycastle@1.57.0//org.bouncycastle.openssl.jcajce.JceOpenSSLPKCS8DecryptorProviderBuilder$1.get(Unknown Source)\n    ... 184 more\nCaused by: java.security.InvalidKeyException: requires PBE parameters\n    at java.base/com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineInit(PBEWithMD5AndDESCipher.java:187)\n    at java.base/javax.crypto.Cipher.implInit(Cipher.java:839)\n    at java.base/javax.crypto.Cipher.chooseProvider(Cipher.java:901)\n    at java.base/javax.crypto.Cipher.init(Cipher.java:1286)\n    at java.base/javax.crypto.Cipher.init(Cipher.java:1223)\n    ... 185 more\nCaused by: java.security.InvalidAlgorithmParameterException: Parameters missing\n    at java.base/com.sun.crypto.provider.PBES1Core.init(PBES1Core.java:214)\n    at java.base/com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineInit(PBEWithMD5AndDESCipher.java:221)\n    at java.base/com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineInit(PBEWithMD5AndDESCipher.java:185)\n    ... 189 more\n</code></pre>\n<p>The code seems to work on Java 8, but fails on Java 11. Any ideas?</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":10659657,"reputation":23,"user_id":11802346,"display_name":"pankaj gulia"},"score":0,"creation_date":1648803623,"post_id":71704350,"comment_id":126721927,"body_markdown":"That Json data is the existing account","body":"That Json data is the existing account"},{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":1,"creation_date":1648803687,"post_id":71704350,"comment_id":126721947,"body_markdown":"what do you mean by raw JSON?","body":"what do you mean by raw JSON?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1648803988,"post_id":71704350,"comment_id":126722055,"body_markdown":"@pankajgulia Note: giving back the full information about an existing account is a BAD idea. Why would you tell a potential new user about the phone number of an existing user? If at all, return a message that says &quot;user name (or email or phone) is already taken&quot;. Don&#39;t create APIs that disclose information that doesn&#39;t need to be disclosed!","body":"@pankajgulia Note: giving back the full information about an existing account is a BAD idea. Why would you tell a potential new user about the phone number of an existing user? If at all, return a message that says &quot;user name (or email or phone) is already taken&quot;. Don&#39;t create APIs that disclose information that doesn&#39;t need to be disclosed!"},{"owner":{"account_id":10659657,"reputation":23,"user_id":11802346,"display_name":"pankaj gulia"},"score":0,"creation_date":1648804372,"post_id":71704350,"comment_id":126722210,"body_markdown":"@GhostCat its just practice exercise later i will check on the level of information to be released for now just focus is on how?","body":"@GhostCat its just practice exercise later i will check on the level of information to be released for now just focus is on how?"},{"owner":{"account_id":10659657,"reputation":23,"user_id":11802346,"display_name":"pankaj gulia"},"score":0,"creation_date":1648804458,"post_id":71704350,"comment_id":126722238,"body_markdown":"@HariHaravelan raw JSOn as in return ok(Json.tojson(object))","body":"@HariHaravelan raw JSOn as in return ok(Json.tojson(object))"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648805127,"post_id":71704350,"comment_id":126722460,"body_markdown":"Please dont give such information in comments. Always update your question instead. And note: so you are using some framework method `ok()` that probably emits a HTTP 200 OKAY response with the given response body. Most likely, that framework has OTHER methods that allow you to emit say a 409 CONFLICT ... with some response body.","body":"Please dont give such information in comments. Always update your question instead. And note: so you are using some framework method <code>ok()</code> that probably emits a HTTP 200 OKAY response with the given response body. Most likely, that framework has OTHER methods that allow you to emit say a 409 CONFLICT ... with some response body."}],"owner":{"account_id":10659657,"reputation":23,"user_id":11802346,"display_name":"pankaj gulia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648812121,"creation_date":1648803572,"question_id":71704350,"body_markdown":"A table entity of Account containing username and userEmail and phone number and no repetition is allowed. What I did is I passed a query every time when an API that creates account is called. That query basically checks if the username, email or phone number already exist or not and throws a validationException if it exists.\r\n\r\nWhat I want to do is to give raw JSON data when a bad request is made. How do I achieve that? \r\n\r\nedit 1. I am using PlayFrameWork, raw JSON data means as in `return ok(Json.tojson()object);`","title":"How do I give JSON raw data when there is a bad request?","body":"<p>A table entity of Account containing username and userEmail and phone number and no repetition is allowed. What I did is I passed a query every time when an API that creates account is called. That query basically checks if the username, email or phone number already exist or not and throws a validationException if it exists.</p>\n<p>What I want to do is to give raw JSON data when a bad request is made. How do I achieve that?</p>\n<p>edit 1. I am using PlayFrameWork, raw JSON data means as in <code>return ok(Json.tojson()object);</code></p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":13706467,"reputation":64,"user_id":9889920,"display_name":"Fl0r3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648812005,"creation_date":1648812005,"answer_id":71706095,"question_id":71704613,"body_markdown":"Have you already noticed the `@BigDecimal` Annotation?\r\nhttps://www.baeldung.com/javax-bigdecimal-validation\r\nAlso there&#39;s the posibility to use Annotations directly without `field:` as prefix. You may want to try this.","title":"javax.validation.constraints to validate fraction number of digits of float variable","body":"<p>Have you already noticed the <code>@BigDecimal</code> Annotation?\n<a href=\"https://www.baeldung.com/javax-bigdecimal-validation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/javax-bigdecimal-validation</a>\nAlso there's the posibility to use Annotations directly without <code>field:</code> as prefix. You may want to try this.</p>\n"}],"owner":{"account_id":9587021,"reputation":1169,"user_id":7482710,"accept_rate":79,"display_name":"John P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71706095,"answer_count":1,"score":0,"last_activity_date":1648812005,"creation_date":1648804793,"question_id":71704613,"body_markdown":"I would like to validate a float number so that it would be in the format: `XXX.XX`. Which javax validation constraint could be used? Digits doesn&#39;t seem to support float data type\r\n\r\n    @field:NotNull\r\n    @field:Digits(fraction = 2, integer = 3)\r\n    var enrollmentPercentage: Float? = null","title":"javax.validation.constraints to validate fraction number of digits of float variable","body":"<p>I would like to validate a float number so that it would be in the format: <code>XXX.XX</code>. Which javax validation constraint could be used? Digits doesn't seem to support float data type</p>\n<pre><code>@field:NotNull\n@field:Digits(fraction = 2, integer = 3)\nvar enrollmentPercentage: Float? = null\n</code></pre>\n"},{"tags":["java","validation","constraints","lombok","builder"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1638379245,"post_id":70185259,"comment_id":124074232,"body_markdown":"Is `User` an EJB / Spring bean or a regular object?","body":"Is <code>User</code> an EJB / Spring bean or a regular object?"},{"owner":{"account_id":16993901,"reputation":57,"user_id":12292849,"display_name":"rubengonzalez96"},"score":0,"creation_date":1638433486,"post_id":70185259,"comment_id":124087974,"body_markdown":"Its a regular object","body":"Its a regular object"}],"answers":[{"tags":[],"owner":{"account_id":18275525,"reputation":70,"user_id":15392604,"display_name":"Fastaca Girasol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638379313,"creation_date":1638378795,"answer_id":70188473,"question_id":70185259,"body_markdown":"if you are using a java version of `9` or above @PostConstruct is deprecated, so you might need to add a dependency manually. could you add which java version are you using? \r\n\r\nanother reason why it is not working is because you did not apply `@Component` annotation and `@PostConstruct` only works with beans managed by spring container.\r\n\r\nref: https://stackoverflow.com/questions/18161682/why-is-postconstruct-not-called\r\n\r\nI would recommend you to look at `BeanPostProccessor` for `AOP` since it is more flexible and will allow you to do validations on your bean. this is also `pure` aop.","title":"Constraints validation in a postconstruct method","body":"<p>if you are using a java version of <code>9</code> or above @PostConstruct is deprecated, so you might need to add a dependency manually. could you add which java version are you using?</p>\n<p>another reason why it is not working is because you did not apply <code>@Component</code> annotation and <code>@PostConstruct</code> only works with beans managed by spring container.</p>\n<p>ref: <a href=\"https://stackoverflow.com/questions/18161682/why-is-postconstruct-not-called\">Why is PostConstruct not called?</a></p>\n<p>I would recommend you to look at <code>BeanPostProccessor</code> for <code>AOP</code> since it is more flexible and will allow you to do validations on your bean. this is also <code>pure</code> aop.</p>\n"},{"tags":[],"owner":{"account_id":16993901,"reputation":57,"user_id":12292849,"display_name":"rubengonzalez96"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648811923,"creation_date":1648811923,"answer_id":71706086,"question_id":70185259,"body_markdown":"Finally I found the behavour I was looking for.\r\n\r\n    @Setter\r\n    @Getter\r\n    public class User {\r\n      \r\n      @Pattern(regexp = &quot;[a-zA-Z]*&quot;)\r\n      private String username;\r\n    \r\n      @Builder\r\n      public User(String username){\r\n        this.username = username;\r\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n        Set&lt;ConstraintValidation&lt;User&gt;&gt; violations = factory.getValidator().validate(this);\r\n        if(!violations.isEmpty) throw new ConstraintViolationExcetion(violations);\r\n    }\r\n\r\nFurthermore, I would implement a self validable class to be reusable.\r\n\r\n    public abstract class SelfValidating &lt; T &gt; {\r\n        private Validator validator;\r\n        public SelfValidating() {\r\n            ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n            validator = factory.getValidator();\r\n        }\r\n        protected void validateSelf() {\r\n            Set &lt; ConstraintViolation &lt; T &gt;&gt; violations = validator.validate((T) this);\r\n            if (!violations.isEmpty()) {\r\n                throw new ConstraintViolationException(violations);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd then, my User class just would:\r\n\r\n    @Setter\r\n    @Getter\r\n    public class User extends SelfValidating&lt;User&gt; {\r\n      \r\n      @Pattern(regexp = &quot;[a-zA-Z]*&quot;)\r\n      private String username;\r\n    \r\n      @Builder\r\n      public User(String username){\r\n        this.username = username;\r\n        this.validateSelf();\r\n    }\r\n\r\nThis idea is taken from [Get Your Hands Dirty on Clean Architecture][1]\r\n\r\n\r\n  [1]: https://reflectoring.io/book/","title":"Constraints validation in a postconstruct method","body":"<p>Finally I found the behavour I was looking for.</p>\n<pre><code>@Setter\n@Getter\npublic class User {\n  \n  @Pattern(regexp = &quot;[a-zA-Z]*&quot;)\n  private String username;\n\n  @Builder\n  public User(String username){\n    this.username = username;\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    Set&lt;ConstraintValidation&lt;User&gt;&gt; violations = factory.getValidator().validate(this);\n    if(!violations.isEmpty) throw new ConstraintViolationExcetion(violations);\n}\n</code></pre>\n<p>Furthermore, I would implement a self validable class to be reusable.</p>\n<pre><code>public abstract class SelfValidating &lt; T &gt; {\n    private Validator validator;\n    public SelfValidating() {\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n        validator = factory.getValidator();\n    }\n    protected void validateSelf() {\n        Set &lt; ConstraintViolation &lt; T &gt;&gt; violations = validator.validate((T) this);\n        if (!violations.isEmpty()) {\n            throw new ConstraintViolationException(violations);\n        }\n    }\n}\n</code></pre>\n<p>And then, my User class just would:</p>\n<pre><code>@Setter\n@Getter\npublic class User extends SelfValidating&lt;User&gt; {\n  \n  @Pattern(regexp = &quot;[a-zA-Z]*&quot;)\n  private String username;\n\n  @Builder\n  public User(String username){\n    this.username = username;\n    this.validateSelf();\n}\n</code></pre>\n<p>This idea is taken from <a href=\"https://reflectoring.io/book/\" rel=\"nofollow noreferrer\">Get Your Hands Dirty on Clean Architecture</a></p>\n"}],"owner":{"account_id":16993901,"reputation":57,"user_id":12292849,"display_name":"rubengonzalez96"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71706086,"answer_count":2,"score":0,"last_activity_date":1648811923,"creation_date":1638366041,"question_id":70185259,"body_markdown":"Hello I have the next piece of code:\r\n\r\n    @Setter\r\n    @Getter\r\n    @Builder\r\n    public class User {\r\n      \r\n      @Pattern(regexp = &quot;[a-zA-Z]*&quot;)\r\n      private String username;\r\n    \r\n      public User(String username){\r\n        this.username = username;\r\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n        Set&lt;ConstraintValidation&lt;User&gt;&gt; violations = factory.getValidator().validate(this);\r\n        if(!violations.isEmpty) throw new ConstraintViolationExcetion(violations);\r\n    }\r\n\r\nIt is working, and when I try to create an User it always check the constraints (also with builder pattern), but i would like to avoid to generate the constructor and use the lombok anotation @AllArgsConstructor and use the PostConstruct from javax to validate.\r\n\r\n    @Setter\r\n    @Getter\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class User {\r\n      \r\n      @Pattern(regexp = &quot;[a-zA-Z]*&quot;)\r\n      private String username;\r\n    \r\n      @PostConstruct\r\n      public void valid() {\r\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n        Set&lt;ConstraintValidation&lt;User&gt;&gt; violations = factory.getValidator().validate(this);\r\n        if(!violations.isEmpty) throw new ConstraintViolationExcetion(violations);\r\n    }\r\n    \r\nI&#39;m using JAVA11 including javax.annotation dependency. User is a regular object, not a bean of spring.\r\nBut this way is not working... How can I make it work? Thanks.","title":"Constraints validation in a postconstruct method","body":"<p>Hello I have the next piece of code:</p>\n<pre><code>@Setter\n@Getter\n@Builder\npublic class User {\n  \n  @Pattern(regexp = &quot;[a-zA-Z]*&quot;)\n  private String username;\n\n  public User(String username){\n    this.username = username;\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    Set&lt;ConstraintValidation&lt;User&gt;&gt; violations = factory.getValidator().validate(this);\n    if(!violations.isEmpty) throw new ConstraintViolationExcetion(violations);\n}\n</code></pre>\n<p>It is working, and when I try to create an User it always check the constraints (also with builder pattern), but i would like to avoid to generate the constructor and use the lombok anotation @AllArgsConstructor and use the PostConstruct from javax to validate.</p>\n<pre><code>@Setter\n@Getter\n@AllArgsConstructor\n@Builder\npublic class User {\n  \n  @Pattern(regexp = &quot;[a-zA-Z]*&quot;)\n  private String username;\n\n  @PostConstruct\n  public void valid() {\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    Set&lt;ConstraintValidation&lt;User&gt;&gt; violations = factory.getValidator().validate(this);\n    if(!violations.isEmpty) throw new ConstraintViolationExcetion(violations);\n}\n</code></pre>\n<p>I'm using JAVA11 including javax.annotation dependency. User is a regular object, not a bean of spring.\nBut this way is not working... How can I make it work? Thanks.</p>\n"},{"tags":["java","encryption","snowflake-cloud-data-platform","snowflake-connector"],"comments":[{"owner":{"account_id":5900987,"reputation":371,"user_id":4644514,"display_name":"EdwinCab"},"score":0,"creation_date":1646943730,"post_id":71430016,"comment_id":126255375,"body_markdown":"thanks, yes is something like that: -----BEGIN ENCRYPTED PRIVATE KEY-----\n................................/EO/BzIYbeK7YF2HLOO5LTA3/vtRqqyB\n0msrCvdErtC5di23AyfGUhEU9IqaGW/FsJs20YShK48R4FAfkd+ttsBDkx9dQoU6\nH5BEvN7iyu2aeLj/GLT/IXVRzXsZ02uWH/PSAkI9g0Ff2mn028nBtwb5Xk3hE57n\n3GQbLu1r0Il6lyC2...........\n-----END ENCRYPTED PRIVATE KEY-----","body":"thanks, yes is something like that: -----BEGIN ENCRYPTED PRIVATE KEY----- ................................/EO/BzIYbeK7YF2HLOO5LTA3/vtR&zwnj;&#8203;qqyB 0msrCvdErtC5di23AyfGUhEU9IqaGW/FsJs20YShK48R4FAfkd+ttsBDkx9d&zwnj;&#8203;QoU6 H5BEvN7iyu2aeLj/GLT/IXVRzXsZ02uWH/PSAkI9g0Ff2mn028nBtwb5Xk3h&zwnj;&#8203;E57n 3GQbLu1r0Il6lyC2........... -----END ENCRYPTED PRIVATE KEY-----"},{"owner":{"account_id":5900987,"reputation":371,"user_id":4644514,"display_name":"EdwinCab"},"score":0,"creation_date":1646947132,"post_id":71430016,"comment_id":126256400,"body_markdown":"No, I can&#39;t, the company can fire me :(","body":"No, I can&#39;t, the company can fire me :("},{"owner":{"account_id":5900987,"reputation":371,"user_id":4644514,"display_name":"EdwinCab"},"score":0,"creation_date":1646950158,"post_id":71430016,"comment_id":126257182,"body_markdown":"I checked the key with: openssl rsa -in app_rsa_key.p8 -pubout and the response is: \n\n-----BEGIN PUBLIC KEY-----\n......pM0AOY1w4Glf5JVk3ZILIAdDG51IQOXtYuirCmyk1mYQr5hRIVTHlZ/s5kREh5LB\nhepnuXpLicszjPOeNb502U+ZWNBN/7H10zbGVjeVWMgJc7AXAtE/OOTf4cEDHHKL\nWwIDAQAB\n-----END PUBLIC KEY-----","body":"I checked the key with: openssl rsa -in app_rsa_key.p8 -pubout and the response is:   -----BEGIN PUBLIC KEY----- ......pM0AOY1w4Glf5JVk3ZILIAdDG51IQOXtYuirCmyk1mYQr5hRIVTHlZ&zwnj;&#8203;/s5kREh5LB hepnuXpLicszjPOeNb502U+ZWNBN/7H10zbGVjeVWMgJc7AXAtE/OOTf4cED&zwnj;&#8203;HHKL WwIDAQAB -----END PUBLIC KEY-----"},{"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"score":0,"creation_date":1646985656,"post_id":71430016,"comment_id":126263355,"body_markdown":"Try to test the key/pair using [SnowSQL](https://docs.snowflake.com/en/user-guide/snowsql-start.html#using-key-pair-authentication-key-pair-rotation) and see if they work.","body":"Try to test the key/pair using <a href=\"https://docs.snowflake.com/en/user-guide/snowsql-start.html#using-key-pair-authentication-key-pair-rotation\" rel=\"nofollow noreferrer\">SnowSQL</a> and see if they work."},{"owner":{"account_id":5900987,"reputation":371,"user_id":4644514,"display_name":"EdwinCab"},"score":0,"creation_date":1647284205,"post_id":71430016,"comment_id":126328171,"body_markdown":"After the psvm i&#39;m using Security.addProvider(new BouncyCastleProvider());","body":"After the psvm i&#39;m using Security.addProvider(new BouncyCastleProvider());"}],"answers":[{"tags":[],"owner":{"account_id":5900987,"reputation":371,"user_id":4644514,"display_name":"EdwinCab"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647293314,"creation_date":1647293314,"answer_id":71474455,"question_id":71430016,"body_markdown":"I found the fix changing the imports: \r\n\r\nPreviously: \r\n\r\n    import net.snowflake.client.jdbc.internal.org.bouncycastle.asn1.pkcs.PrivateKeyInfo;\r\n    import net.snowflake.client.jdbc.internal.org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import net.snowflake.client.jdbc.internal.org.bouncycastle.openssl.PEMParser;\r\n    import net.snowflake.client.jdbc.internal.org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\r\n    import net.snowflake.client.jdbc.internal.org.bouncycastle.openssl.jcajce.JceOpenSSLPKCS8DecryptorProviderBuilder;\r\n    import net.snowflake.client.jdbc.internal.org.bouncycastle.operator.InputDecryptorProvider;\r\n    import net.snowflake.client.jdbc.internal.org.bouncycastle.operator.OperatorCreationException;\r\n    import net.snowflake.client.jdbc.internal.org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo;\r\n    import net.snowflake.client.jdbc.internal.org.bouncycastle.pkcs.PKCSException;\r\n\r\nnew: \r\n\r\n    import org.bouncycastle.asn1.pkcs.PrivateKeyInfo;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.openssl.PEMParser;\r\n    import org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\r\n    import org.bouncycastle.openssl.jcajce.JceOpenSSLPKCS8DecryptorProviderBuilder;\r\n    import org.bouncycastle.operator.InputDecryptorProvider;\r\n    import org.bouncycastle.operator.OperatorCreationException;\r\n    import org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo;\r\n    import org.bouncycastle.pkcs.PKCSException;\r\n\r\nAnd the pom: \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcprov-ext-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;1.70&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;1.70&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Error connecting to Snowflake through Java JDBC with PEM file","body":"<p>I found the fix changing the imports:</p>\n<p>Previously:</p>\n<pre><code>import net.snowflake.client.jdbc.internal.org.bouncycastle.asn1.pkcs.PrivateKeyInfo;\nimport net.snowflake.client.jdbc.internal.org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport net.snowflake.client.jdbc.internal.org.bouncycastle.openssl.PEMParser;\nimport net.snowflake.client.jdbc.internal.org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\nimport net.snowflake.client.jdbc.internal.org.bouncycastle.openssl.jcajce.JceOpenSSLPKCS8DecryptorProviderBuilder;\nimport net.snowflake.client.jdbc.internal.org.bouncycastle.operator.InputDecryptorProvider;\nimport net.snowflake.client.jdbc.internal.org.bouncycastle.operator.OperatorCreationException;\nimport net.snowflake.client.jdbc.internal.org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo;\nimport net.snowflake.client.jdbc.internal.org.bouncycastle.pkcs.PKCSException;\n</code></pre>\n<p>new:</p>\n<pre><code>import org.bouncycastle.asn1.pkcs.PrivateKeyInfo;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openssl.PEMParser;\nimport org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\nimport org.bouncycastle.openssl.jcajce.JceOpenSSLPKCS8DecryptorProviderBuilder;\nimport org.bouncycastle.operator.InputDecryptorProvider;\nimport org.bouncycastle.operator.OperatorCreationException;\nimport org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo;\nimport org.bouncycastle.pkcs.PKCSException;\n</code></pre>\n<p>And the pom:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcprov-ext-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;1.70&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;1.70&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15925779,"reputation":81,"user_id":11491431,"display_name":"Michał Rejkowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648811723,"creation_date":1648811723,"answer_id":71706049,"question_id":71430016,"body_markdown":"Besides having correct imports as in the accepted answer, it&#39;s also worth checking if the **Security provider** registered from the **Snowflake jdbc driver** is not saved in the Java Security Providers, as it contains different parameters and amount of them - for me it was:\r\n\r\n - **2727** parameters for *net.snowflake.client.jdbc.internal.org.bouncycastle.jcajce.provider*\r\n - **2944** parameters for *org.bouncycastle.jcajce.provider*\r\n\r\nChecking Bouncy Castle Security Provider:\r\n```Java\r\nSecurity.getProvider(&quot;BC&quot;); //or Security.getProvider(BouncyCastleProvider.PROVIDER_NAME);\r\n```\r\n\r\nRemoving existing and registering a new Bouncy Castle Provider from the **bcprov-ext-jdk15on** library:\r\n```Java\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n\r\nSecurity.removeProvider(&quot;BC&quot;);\r\nSecurity.addProvider(new BouncyCastleProvider());\r\n```\r\n","title":"Error connecting to Snowflake through Java JDBC with PEM file","body":"<p>Besides having correct imports as in the accepted answer, it's also worth checking if the <strong>Security provider</strong> registered from the <strong>Snowflake jdbc driver</strong> is not saved in the Java Security Providers, as it contains different parameters and amount of them - for me it was:</p>\n<ul>\n<li><strong>2727</strong> parameters for <em>net.snowflake.client.jdbc.internal.org.bouncycastle.jcajce.provider</em></li>\n<li><strong>2944</strong> parameters for <em>org.bouncycastle.jcajce.provider</em></li>\n</ul>\n<p>Checking Bouncy Castle Security Provider:</p>\n<pre><code>Security.getProvider(&quot;BC&quot;); //or Security.getProvider(BouncyCastleProvider.PROVIDER_NAME);\n</code></pre>\n<p>Removing existing and registering a new Bouncy Castle Provider from the <strong>bcprov-ext-jdk15on</strong> library:</p>\n<pre><code>import org.bouncycastle.jce.provider.BouncyCastleProvider;\n\nSecurity.removeProvider(&quot;BC&quot;);\nSecurity.addProvider(new BouncyCastleProvider());\n</code></pre>\n"}],"owner":{"account_id":5900987,"reputation":371,"user_id":4644514,"display_name":"EdwinCab"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":949,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71474455,"answer_count":2,"score":1,"last_activity_date":1648811723,"creation_date":1646941981,"question_id":71430016,"body_markdown":"I need to connect to Snowflake using Java using Key File in format P8\r\n\r\n    class JustTheCode {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n        String path = &quot;/&lt;path&gt;/app_rsa_key.p8&quot;;\r\n        String passphrase = &quot;myKey&quot;;//System.getenv(&quot;PRIVATE_KEY_PASSPHRASE&quot;);\r\n        bcParcer(path,passphrase);\r\n    }\r\n\r\n    private static PrivateKey bcParcer(String keyFilePath, String password)\r\n        throws IOException, OperatorCreationException, PKCSException, Exception {\r\n        PEMParser pemParser = new PEMParser(new FileReader(Paths.get(keyFilePath).toFile()));\r\n        PKCS8EncryptedPrivateKeyInfo encryptedPrivateKeyInfo = (PKCS8EncryptedPrivateKeyInfo) pemParser.readObject();\r\n        pemParser.close();\r\n        InputDecryptorProvider pkcs8Prov = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(\r\n            password.toCharArray());\r\n        JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(\r\n            BouncyCastleProvider.PROVIDER_NAME);\r\n        PrivateKeyInfo decryptedPrivateKeyInfo = encryptedPrivateKeyInfo.decryptPrivateKeyInfo(\r\n            pkcs8Prov);\r\n        PrivateKey privateKey = converter.getPrivateKey(decryptedPrivateKeyInfo);\r\n        System.out.println(privateKey);\r\n        return privateKey;\r\n    }\r\n}\r\n\r\nWhen I run the code, I&#39;m getting the error: \r\n\r\n        Exception in thread &quot;main&quot; net.snowflake.client.jdbc.internal.org.bouncycastle.pkcs.PKCSException: unable to read encrypted data: 1.2.840.113549.1.5.3 not available: requires PBE parameters\r\n    \tat net.snowflake.client.jdbc.internal.org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo.decryptPrivateKeyInfo(Unknown Source)\r\n    \tat configmgmt.snowflake.reader.impl.JustTheCode.bcParcer(PrivateKeyReader.java:122)\r\n    \tat configmgmt.snowflake.reader.impl.JustTheCode.main(PrivateKeyReader.java:102)\r\n    Caused by: net.snowflake.client.jdbc.internal.org.bouncycastle.operator.OperatorCreationException: 1.2.840.113549.1.5.3 not available: requires PBE parameters\r\n    \tat net.snowflake.client.jdbc.internal.org.bouncycastle.openssl.jcajce.JceOpenSSLPKCS8DecryptorProviderBuilder$1.get(Unknown Source)\r\n    \t... 3 more\r\n    Caused by: java.security.InvalidKeyException: requires PBE parameters\r\n    \tat java.base/com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineInit(PBEWithMD5AndDESCipher.java:186)\r\n    \tat java.base/javax.crypto.Cipher.implInit(Cipher.java:867)\r\n    \tat java.base/javax.crypto.Cipher.chooseProvider(Cipher.java:929)\r\n    \tat java.base/javax.crypto.Cipher.init(Cipher.java:1299)\r\n    \tat java.base/javax.crypto.Cipher.init(Cipher.java:1236)\r\n    \t... 4 more\r\n    Caused by: java.security.InvalidAlgorithmParameterException: Parameters missing\r\n    \tat java.base/com.sun.crypto.provider.PBES1Core.init(PBES1Core.java:214)\r\n    \tat java.base/com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineInit(PBEWithMD5AndDESCipher.java:220)\r\n    \tat java.base/com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineInit(PBEWithMD5AndDESCipher.java:184)\r\n    \t... 8 more\r\n\r\nI am searching but in the documentation there is no information about this configuration:     **Caused by: java.security.InvalidKeyException: requires PBE parameters**\r\n\r\n","title":"Error connecting to Snowflake through Java JDBC with PEM file","body":"<p>I need to connect to Snowflake using Java using Key File in format P8</p>\n<pre><code>class JustTheCode {\n\npublic static void main(String[] args) throws Exception {\n    Security.addProvider(new BouncyCastleProvider());\n    String path = &quot;/&lt;path&gt;/app_rsa_key.p8&quot;;\n    String passphrase = &quot;myKey&quot;;//System.getenv(&quot;PRIVATE_KEY_PASSPHRASE&quot;);\n    bcParcer(path,passphrase);\n}\n\nprivate static PrivateKey bcParcer(String keyFilePath, String password)\n    throws IOException, OperatorCreationException, PKCSException, Exception {\n    PEMParser pemParser = new PEMParser(new FileReader(Paths.get(keyFilePath).toFile()));\n    PKCS8EncryptedPrivateKeyInfo encryptedPrivateKeyInfo = (PKCS8EncryptedPrivateKeyInfo) pemParser.readObject();\n    pemParser.close();\n    InputDecryptorProvider pkcs8Prov = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(\n        password.toCharArray());\n    JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(\n        BouncyCastleProvider.PROVIDER_NAME);\n    PrivateKeyInfo decryptedPrivateKeyInfo = encryptedPrivateKeyInfo.decryptPrivateKeyInfo(\n        pkcs8Prov);\n    PrivateKey privateKey = converter.getPrivateKey(decryptedPrivateKeyInfo);\n    System.out.println(privateKey);\n    return privateKey;\n}\n</code></pre>\n<p>}</p>\n<p>When I run the code, I'm getting the error:</p>\n<pre><code>    Exception in thread &quot;main&quot; net.snowflake.client.jdbc.internal.org.bouncycastle.pkcs.PKCSException: unable to read encrypted data: 1.2.840.113549.1.5.3 not available: requires PBE parameters\n    at net.snowflake.client.jdbc.internal.org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo.decryptPrivateKeyInfo(Unknown Source)\n    at configmgmt.snowflake.reader.impl.JustTheCode.bcParcer(PrivateKeyReader.java:122)\n    at configmgmt.snowflake.reader.impl.JustTheCode.main(PrivateKeyReader.java:102)\nCaused by: net.snowflake.client.jdbc.internal.org.bouncycastle.operator.OperatorCreationException: 1.2.840.113549.1.5.3 not available: requires PBE parameters\n    at net.snowflake.client.jdbc.internal.org.bouncycastle.openssl.jcajce.JceOpenSSLPKCS8DecryptorProviderBuilder$1.get(Unknown Source)\n    ... 3 more\nCaused by: java.security.InvalidKeyException: requires PBE parameters\n    at java.base/com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineInit(PBEWithMD5AndDESCipher.java:186)\n    at java.base/javax.crypto.Cipher.implInit(Cipher.java:867)\n    at java.base/javax.crypto.Cipher.chooseProvider(Cipher.java:929)\n    at java.base/javax.crypto.Cipher.init(Cipher.java:1299)\n    at java.base/javax.crypto.Cipher.init(Cipher.java:1236)\n    ... 4 more\nCaused by: java.security.InvalidAlgorithmParameterException: Parameters missing\n    at java.base/com.sun.crypto.provider.PBES1Core.init(PBES1Core.java:214)\n    at java.base/com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineInit(PBEWithMD5AndDESCipher.java:220)\n    at java.base/com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineInit(PBEWithMD5AndDESCipher.java:184)\n    ... 8 more\n</code></pre>\n<p>I am searching but in the documentation there is no information about this configuration:     <strong>Caused by: java.security.InvalidKeyException: requires PBE parameters</strong></p>\n"},{"tags":["java","alpha","webp","vp8","riff"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1649057519,"post_id":71705695,"comment_id":126770416,"body_markdown":"Have you tried simply changing to `chunk.payload = readPayload(chunkSize);` instead of hardcoding to `null`?","body":"Have you tried simply changing to <code>chunk.payload = readPayload(chunkSize);</code> instead of hardcoding to <code>null</code>?"},{"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"score":0,"creation_date":1656872127,"post_id":71705695,"comment_id":128671793,"body_markdown":"@Harald K\n yeah I have tried that but it shows next FourCC chunks which is not readable characters. So it required to read proper length so that next chunk show the readable chunkheader like EXIF, XMP","body":"@Harald K  yeah I have tried that but it shows next FourCC chunks which is not readable characters. So it required to read proper length so that next chunk show the readable chunkheader like EXIF, XMP"}],"owner":{"account_id":17544324,"reputation":654,"user_id":12732411,"display_name":"UHS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648811703,"creation_date":1648810055,"question_id":71705695,"body_markdown":"Encoding webp image with transparency cause the no vp8 error. I came to know that if there is no transparent area then there is no error at all and Also the author of the encoder have added the Alpha channle as TODO. \r\n\r\nBut using the encoder in its original form was throwing errors related to ALPH and ICCP and I saw someone shared the code for ICCP and I used that method for both ALPH and ICCP.\r\n\r\nNow the encoder works fine but for images not having Transparency.\r\n\r\nThis might be the reason:\r\n&gt; I used that method for both ALPH and ...\r\n\r\n\r\nHow would I read the ALPH chunks?\r\n\r\nHere is the main code where reading takes place. \r\n\r\n\r\n```\r\n\r\npublic class WebpContainerReader {\r\n\r\n\tprivate final InputStream _inputStream;\r\n\tprivate final boolean _debug;\r\n\tprivate int _fileSize;\r\n\tprivate int _offset;\r\n\r\n\tpublic WebpContainerReader(InputStream inputStream, boolean debug) {\r\n\t\t_inputStream = inputStream;\r\n\t\t_debug = debug;\r\n\t}\r\n\r\n\tpublic void close() throws IOException {\r\n\t}\r\n\r\n\tpublic void readHeader() throws IOException {\r\n\t\tbyte[] fcc = new byte[4];\r\n\r\n\t\tread(fcc, 4);\r\n\t\tif (!isFourCc(fcc, &#39;R&#39;, &#39;I&#39;, &#39;F&#39;, &#39;F&#39;))\r\n\t\t\tthrow new IOException(&quot;Expected RIFF file.&quot;);\r\n\r\n\t\t_fileSize = readUInt32() + 8 - 1;\r\n\r\n\t\tread(fcc, 4);\r\n\t\tif (!isFourCc(fcc, &#39;W&#39;, &#39;E&#39;, &#39;B&#39;, &#39;P&#39;))\r\n\t\t\tthrow new IOException(&quot;Expected Webp file.&quot;);\r\n\t}\r\n\r\n\tpublic WebpChunk read() throws IOException {\r\n\t\tbyte[] fcc = new byte[4];\r\n\r\n\t\tif (read(fcc, 4) &gt; 0) {\r\n\t\t\tif (isFourCc(fcc, &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39; &#39;))\r\n\t\t\t\treturn readVp8();\r\n\t\t\tif (isFourCc(fcc, &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39;L&#39;))\r\n\t\t\t\treturn readVp8l();\r\n\t\t\tif (isFourCc(fcc, &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39;X&#39;))\r\n\t\t\t\treturn readVp8x();\r\n\t\t\tif (isFourCc(fcc, &#39;A&#39;, &#39;N&#39;, &#39;I&#39;, &#39;M&#39;))\r\n\t\t\t\treturn readAnim();\r\n\t\t\tif (isFourCc(fcc, &#39;A&#39;, &#39;N&#39;, &#39;M&#39;, &#39;F&#39;))\r\n\t\t\t\treturn readAnmf();\r\n\t\t\tif (isFourCc(fcc, &#39;I&#39;, &#39;C&#39;, &#39;C&#39;, &#39;P&#39;))\r\n                return readIccp();\r\n\t\t\tif (isFourCc(fcc, &#39;A&#39;, &#39;L&#39;, &#39;P&#39;, &#39;H&#39;))  \r\n\t\t\t\treturn readAlph();\r\n                // calling readAlph() which has same coe as Iccp\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\tthrow new IOException(String.format(&quot;Not supported FourCC: %c.%c.%c.%c.&quot;,\r\n\t\t\t\t\tfcc[0], fcc[1], fcc[2], fcc[3]));\r\n\t\t}\r\n\r\n\t\tif (_fileSize != _offset)\r\n\t\t\tthrow new IOException(String.format(&quot;Header has wrong file size: %d, expected: %d&quot;, \r\n\t\t\t\t\t_fileSize, _offset));\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate WebpChunk readVp8x() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n\t\tif (chunkSize != 10)\r\n\t\t\tthrow new IOException(&quot;Expected 10 bytes for VP8X.&quot;);\r\n\r\n\t\tWebpChunk chunk = new WebpChunk(WebpChunkType.VP8X);\r\n\r\n\t\tbyte[] flags = new byte[4];\r\n\t\tread(flags, 4);\r\n\t\tBitSet bs = BitSet.valueOf(flags);\r\n\r\n\t\tchunk.hasIccp = bs.get(0);\r\n\t\tchunk.hasAnim = bs.get(1);\r\n\t\tchunk.hasExif = bs.get(2);\r\n\t\tchunk.hasXmp = bs.get(3);\r\n\t\tchunk.hasAlpha = bs.get(4);\r\n\r\n\t\tchunk.width = readUInt24();\r\n\t\tchunk.height = readUInt24();\r\n\r\n\t\tdebug(String.format(&quot;VP8X: size = %dx%d&quot;, chunk.width, chunk.height));\r\n\t\treturn chunk;\r\n\t}\r\n\r\n\tprivate byte[] readPayload(int bytes) throws IOException {\r\n\t\tbyte[] payload = new byte[bytes];\r\n\t\tif (read(payload, bytes) != bytes)\r\n\t\t\tthrow new IOException(&quot;Can not read all bytes.&quot;);\r\n\t\treturn payload;\r\n\t}\r\n\r\n\tprivate WebpChunk readVp8() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n\r\n\t\tWebpChunk chunk = new WebpChunk(WebpChunkType.VP8);\r\n\t\tchunk.isLossless = false;\r\n\t\tchunk.payload = readPayload(chunkSize);\r\n\r\n\t\tdebug(String.format(&quot;VP8: bytes = %d&quot;, chunkSize));\r\n\t\treturn chunk;\r\n\t}\r\n\r\n\tprivate WebpChunk readVp8l() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n\r\n\t\tWebpChunk chunk = new WebpChunk(WebpChunkType.VP8L);\r\n\t\tchunk.isLossless = true;\r\n\t\tchunk.payload = readPayload(chunkSize);\r\n\r\n\t\tdebug(String.format(&quot;VP8L: bytes = %d&quot;, chunkSize));\r\n\t\treturn chunk;\r\n\t}\r\n\r\n\tprivate WebpChunk readAnim() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n\t\tif (chunkSize != 6)\r\n\t\t\tthrow new IOException(&quot;Expected 6 bytes for ANIM.&quot;);\r\n\r\n\t\tWebpChunk chunk = new WebpChunk(WebpChunkType.ANIM);\r\n\t\tchunk.background = readUInt32();\r\n\t\tchunk.loops = readUInt16();\r\n\r\n\t\tdebug(String.format(&quot;ANIM: loops = %d&quot;, chunk.loops));\r\n\t\treturn chunk;\r\n\t}\r\n\r\n\tprivate WebpChunk readAnmf() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n\r\n\t\tWebpChunk chunk = new WebpChunk(WebpChunkType.ANMF);\r\n\t\tchunk.x = readUInt24();\r\n\t\tchunk.y = readUInt24();\r\n\t\tchunk.width = readUInt24();\r\n\t\tchunk.height = readUInt24();\r\n\t\tchunk.duration = readUInt24();\r\n\r\n\t\tbyte[] flags = new byte[1];\r\n\t\tread(flags, 1);\r\n\t\tBitSet bs = BitSet.valueOf(flags);\r\n\t\tchunk.useAlphaBlending = bs.get(1);\r\n\t\tchunk.disposeToBackgroundColor = bs.get(0);\r\n\r\n\t\tbyte[] cch = new byte[4];\r\n\t\tread(cch, 4);\r\n\t\tif (isFourCc(cch, &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39;L&#39;))\r\n\t\t\tchunk.isLossless = true;\r\n\t\telse if (isFourCc(cch, &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39; &#39;))\r\n\t\t\tchunk.isLossless = false;\r\n\t\telse\r\n\t\t\tthrow new IOException(&quot;Not supported ANMF payload.&quot;);\r\n\r\n\t\treadUInt32(); // Payload size.\r\n\t\tint payloadSize = chunkSize - 24;\r\n\t\tchunk.payload = readPayload(payloadSize);\r\n\r\n\t\tdebug(String.format(&quot;ANMF: size = %dx%d, offset = %dx%d, duration = %d, bytes = %d&quot;,\r\n\t\t\t\tchunk.width, chunk.height, chunk.x, chunk.y, chunk.duration, payloadSize));\r\n\t\treturn chunk;\r\n\t}\r\n\r\n\tprivate WebpChunk readIccp() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8);\r\n        chunk.isLossless = false;\r\n        readPayload(chunkSize);\r\n        chunk.payload = null;\r\n        debug(String.format(&quot;iccp: bytes = %d&quot;, chunkSize));\r\n        return chunk;\r\n\t}\r\n\r\n\tprivate WebpChunk readAlph() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8);\r\n        chunk.isLossless = false;\r\n        readPayload(chunkSize);\r\n        chunk.payload = null;\r\n        debug(String.format(&quot;alph: bytes = %d&quot;, chunkSize));\r\n        return chunk;\r\n\t}\r\n\t//\r\n\r\n\tprivate final int read(byte[] buffer, int bytes) throws IOException {\r\n\t\tint count = _inputStream.read(buffer, 0, bytes);\r\n\t\t_offset += count;\r\n\t\treturn count;\r\n\t}\r\n\r\n\tprivate final int readUint(int bytes) throws IOException {\r\n\t\tbyte[] b = new byte[] { 0, 0, 0, 0 };\r\n\t\tread(b, bytes);\r\n\t\treturn ByteBuffer.wrap(b, 0, 4).order(ByteOrder.LITTLE_ENDIAN).getInt();\r\n\t}\r\n\r\n\tprivate final int readUInt32() throws IOException {\r\n\t\treturn readUint(4);\r\n\t}\r\n\r\n\tprivate final int readUInt24() throws IOException {\r\n\t\treturn readUint(3);\r\n\t}\r\n\r\n\tprivate final int readUInt16() throws IOException {\r\n\t\treturn readUint(2);\r\n\t}\r\n\r\n\tprivate boolean isFourCc(byte[] h, char a, char b, char c, char d) {\r\n\t\treturn h[0] == a &amp;&amp; h[1] == b &amp;&amp; h[2] == c &amp;&amp; h[3] == d;\r\n\t}\r\n\r\n\tprivate void debug(String message) {\r\n\t\tif (_debug)\r\n\t\t\tSystem.out.println(message);\r\n\t}\r\n}\r\n```\r\n\r\nYou can see ``` readAlph() ``` is same as ```readIccp()```. I read [specification][1] but could not get how to implement that.\r\n\r\nAll classes are here on sandbox for ease of access.\r\nhttps://codesandbox.io/s/polished-water-hl32ud?file=/app/muxer/WebpMuxer.java\r\n\r\nPlease tell me how to fix this. Thanks in advance\r\n\r\n\r\n  [1]: https://developers.google.com/speed/webp/docs/riff_container#alpha","title":"How to read alpha A.L.P.H. chunks for webp having transparency?","body":"<p>Encoding webp image with transparency cause the no vp8 error. I came to know that if there is no transparent area then there is no error at all and Also the author of the encoder have added the Alpha channle as TODO.</p>\n<p>But using the encoder in its original form was throwing errors related to ALPH and ICCP and I saw someone shared the code for ICCP and I used that method for both ALPH and ICCP.</p>\n<p>Now the encoder works fine but for images not having Transparency.</p>\n<p>This might be the reason:</p>\n<blockquote>\n<p>I used that method for both ALPH and ...</p>\n</blockquote>\n<p>How would I read the ALPH chunks?</p>\n<p>Here is the main code where reading takes place.</p>\n<pre><code>\npublic class WebpContainerReader {\n\n    private final InputStream _inputStream;\n    private final boolean _debug;\n    private int _fileSize;\n    private int _offset;\n\n    public WebpContainerReader(InputStream inputStream, boolean debug) {\n        _inputStream = inputStream;\n        _debug = debug;\n    }\n\n    public void close() throws IOException {\n    }\n\n    public void readHeader() throws IOException {\n        byte[] fcc = new byte[4];\n\n        read(fcc, 4);\n        if (!isFourCc(fcc, 'R', 'I', 'F', 'F'))\n            throw new IOException(&quot;Expected RIFF file.&quot;);\n\n        _fileSize = readUInt32() + 8 - 1;\n\n        read(fcc, 4);\n        if (!isFourCc(fcc, 'W', 'E', 'B', 'P'))\n            throw new IOException(&quot;Expected Webp file.&quot;);\n    }\n\n    public WebpChunk read() throws IOException {\n        byte[] fcc = new byte[4];\n\n        if (read(fcc, 4) &gt; 0) {\n            if (isFourCc(fcc, 'V', 'P', '8', ' '))\n                return readVp8();\n            if (isFourCc(fcc, 'V', 'P', '8', 'L'))\n                return readVp8l();\n            if (isFourCc(fcc, 'V', 'P', '8', 'X'))\n                return readVp8x();\n            if (isFourCc(fcc, 'A', 'N', 'I', 'M'))\n                return readAnim();\n            if (isFourCc(fcc, 'A', 'N', 'M', 'F'))\n                return readAnmf();\n            if (isFourCc(fcc, 'I', 'C', 'C', 'P'))\n                return readIccp();\n            if (isFourCc(fcc, 'A', 'L', 'P', 'H'))  \n                return readAlph();\n                // calling readAlph() which has same coe as Iccp\n            \n                \n            throw new IOException(String.format(&quot;Not supported FourCC: %c.%c.%c.%c.&quot;,\n                    fcc[0], fcc[1], fcc[2], fcc[3]));\n        }\n\n        if (_fileSize != _offset)\n            throw new IOException(String.format(&quot;Header has wrong file size: %d, expected: %d&quot;, \n                    _fileSize, _offset));\n        return null;\n    }\n\n    private WebpChunk readVp8x() throws IOException {\n        int chunkSize = readUInt32();\n        if (chunkSize != 10)\n            throw new IOException(&quot;Expected 10 bytes for VP8X.&quot;);\n\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8X);\n\n        byte[] flags = new byte[4];\n        read(flags, 4);\n        BitSet bs = BitSet.valueOf(flags);\n\n        chunk.hasIccp = bs.get(0);\n        chunk.hasAnim = bs.get(1);\n        chunk.hasExif = bs.get(2);\n        chunk.hasXmp = bs.get(3);\n        chunk.hasAlpha = bs.get(4);\n\n        chunk.width = readUInt24();\n        chunk.height = readUInt24();\n\n        debug(String.format(&quot;VP8X: size = %dx%d&quot;, chunk.width, chunk.height));\n        return chunk;\n    }\n\n    private byte[] readPayload(int bytes) throws IOException {\n        byte[] payload = new byte[bytes];\n        if (read(payload, bytes) != bytes)\n            throw new IOException(&quot;Can not read all bytes.&quot;);\n        return payload;\n    }\n\n    private WebpChunk readVp8() throws IOException {\n        int chunkSize = readUInt32();\n\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8);\n        chunk.isLossless = false;\n        chunk.payload = readPayload(chunkSize);\n\n        debug(String.format(&quot;VP8: bytes = %d&quot;, chunkSize));\n        return chunk;\n    }\n\n    private WebpChunk readVp8l() throws IOException {\n        int chunkSize = readUInt32();\n\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8L);\n        chunk.isLossless = true;\n        chunk.payload = readPayload(chunkSize);\n\n        debug(String.format(&quot;VP8L: bytes = %d&quot;, chunkSize));\n        return chunk;\n    }\n\n    private WebpChunk readAnim() throws IOException {\n        int chunkSize = readUInt32();\n        if (chunkSize != 6)\n            throw new IOException(&quot;Expected 6 bytes for ANIM.&quot;);\n\n        WebpChunk chunk = new WebpChunk(WebpChunkType.ANIM);\n        chunk.background = readUInt32();\n        chunk.loops = readUInt16();\n\n        debug(String.format(&quot;ANIM: loops = %d&quot;, chunk.loops));\n        return chunk;\n    }\n\n    private WebpChunk readAnmf() throws IOException {\n        int chunkSize = readUInt32();\n\n        WebpChunk chunk = new WebpChunk(WebpChunkType.ANMF);\n        chunk.x = readUInt24();\n        chunk.y = readUInt24();\n        chunk.width = readUInt24();\n        chunk.height = readUInt24();\n        chunk.duration = readUInt24();\n\n        byte[] flags = new byte[1];\n        read(flags, 1);\n        BitSet bs = BitSet.valueOf(flags);\n        chunk.useAlphaBlending = bs.get(1);\n        chunk.disposeToBackgroundColor = bs.get(0);\n\n        byte[] cch = new byte[4];\n        read(cch, 4);\n        if (isFourCc(cch, 'V', 'P', '8', 'L'))\n            chunk.isLossless = true;\n        else if (isFourCc(cch, 'V', 'P', '8', ' '))\n            chunk.isLossless = false;\n        else\n            throw new IOException(&quot;Not supported ANMF payload.&quot;);\n\n        readUInt32(); // Payload size.\n        int payloadSize = chunkSize - 24;\n        chunk.payload = readPayload(payloadSize);\n\n        debug(String.format(&quot;ANMF: size = %dx%d, offset = %dx%d, duration = %d, bytes = %d&quot;,\n                chunk.width, chunk.height, chunk.x, chunk.y, chunk.duration, payloadSize));\n        return chunk;\n    }\n\n    private WebpChunk readIccp() throws IOException {\n        int chunkSize = readUInt32();\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8);\n        chunk.isLossless = false;\n        readPayload(chunkSize);\n        chunk.payload = null;\n        debug(String.format(&quot;iccp: bytes = %d&quot;, chunkSize));\n        return chunk;\n    }\n\n    private WebpChunk readAlph() throws IOException {\n        int chunkSize = readUInt32();\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8);\n        chunk.isLossless = false;\n        readPayload(chunkSize);\n        chunk.payload = null;\n        debug(String.format(&quot;alph: bytes = %d&quot;, chunkSize));\n        return chunk;\n    }\n    //\n\n    private final int read(byte[] buffer, int bytes) throws IOException {\n        int count = _inputStream.read(buffer, 0, bytes);\n        _offset += count;\n        return count;\n    }\n\n    private final int readUint(int bytes) throws IOException {\n        byte[] b = new byte[] { 0, 0, 0, 0 };\n        read(b, bytes);\n        return ByteBuffer.wrap(b, 0, 4).order(ByteOrder.LITTLE_ENDIAN).getInt();\n    }\n\n    private final int readUInt32() throws IOException {\n        return readUint(4);\n    }\n\n    private final int readUInt24() throws IOException {\n        return readUint(3);\n    }\n\n    private final int readUInt16() throws IOException {\n        return readUint(2);\n    }\n\n    private boolean isFourCc(byte[] h, char a, char b, char c, char d) {\n        return h[0] == a &amp;&amp; h[1] == b &amp;&amp; h[2] == c &amp;&amp; h[3] == d;\n    }\n\n    private void debug(String message) {\n        if (_debug)\n            System.out.println(message);\n    }\n}\n</code></pre>\n<p>You can see <code>readAlph()</code> is same as <code>readIccp()</code>. I read <a href=\"https://developers.google.com/speed/webp/docs/riff_container#alpha\" rel=\"nofollow noreferrer\">specification</a> but could not get how to implement that.</p>\n<p>All classes are here on sandbox for ease of access.\n<a href=\"https://codesandbox.io/s/polished-water-hl32ud?file=/app/muxer/WebpMuxer.java\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/polished-water-hl32ud?file=/app/muxer/WebpMuxer.java</a></p>\n<p>Please tell me how to fix this. Thanks in advance</p>\n"},{"tags":["java","recursion"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648811265,"creation_date":1648692667,"answer_id":71686107,"question_id":71685337,"body_markdown":"A brute-force, recursive way of solving the problem would be to take ball n and try to put it into each box. If the ball fits into the current box, recurse into using the next ball, otherwise try the next box.\r\n\r\n```java\r\npublic boolean canBallsFitInBoxes(int[] boxes, int[] balls) {\r\n  return fits(boxes, balls, 0);\r\n}\r\n\r\nprivate boolean fits(int[] boxes, int[] balls, int currentBall) {\r\n  // More balls available?\r\n  if (currentBall &gt;= balls.length)\r\n    // No -&gt; all balls are inside boxes already -&gt; success\r\n    return true;\r\n  // Check each box, trying to insert current ball\r\n  for (int currentBox = 0; currentBox &lt; boxes.length; currentBox++) {\r\n    // Does ball fit into box?\r\n    if (boxes[currentBox] &gt;= balls[currentBall]) {\r\n      // Yes -&gt; put ball into box\r\n      boxes[currentBox] -= balls[currentBall];\r\n      // Proceed to remaining balls (recursively)\r\n      if (fits(boxes, balls, currentBall + 1))\r\n        // All remaining balls fit -&gt; success\r\n        return true;\r\n      else\r\n        // At least one of the remaining balls does not fit -&gt; remove current ball from box again\r\n        boxes[currentBox] += balls[currentBall];\r\n    }\r\n  }\r\n  // All tries for this ball failed -&gt; back-trace\r\n  return false;\r\n}\r\n```\r\n\r\nIf you do not like the success check at the beginning of the recursive method and would rather prefer to check before recursing, you could also use:\r\n\r\n```java\r\nprivate boolean fits(int[] boxes, int[] balls, int currentBall) {\r\n  // Check each box, trying to insert current ball\r\n  for (int currentBox = 0; currentBox &lt; boxes.length; currentBox++) {\r\n    // Does ball fit into box?\r\n    if (boxes[currentBox] &gt;= balls[currentBall]) {\r\n      // Yes -&gt; put ball into box\r\n      boxes[currentBox] -= balls[currentBall];\r\n      // If more balls are available, proceed to remaining balls (recursively)\r\n      if (currentBall + 1 &gt;= balls.length || fits(boxes, balls, currentBall + 1))\r\n        // All remaining balls fit -&gt; success\r\n        return true;\r\n      else\r\n        // At least one of the remaining balls does not fit -&gt; remove current ball from box again\r\n        boxes[currentBox] += balls[currentBall];\r\n    }\r\n  }\r\n  // All tries for this ball failed -&gt; back-trace\r\n  return false;\r\n}\r\n```\r\n\r\nFeel free to ask, if you do not understand the algorithm.\r\n\r\n","title":"How do I solve m boxes and n balls of different size problem recursively without sorting?","body":"<p>A brute-force, recursive way of solving the problem would be to take ball n and try to put it into each box. If the ball fits into the current box, recurse into using the next ball, otherwise try the next box.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean canBallsFitInBoxes(int[] boxes, int[] balls) {\n  return fits(boxes, balls, 0);\n}\n\nprivate boolean fits(int[] boxes, int[] balls, int currentBall) {\n  // More balls available?\n  if (currentBall &gt;= balls.length)\n    // No -&gt; all balls are inside boxes already -&gt; success\n    return true;\n  // Check each box, trying to insert current ball\n  for (int currentBox = 0; currentBox &lt; boxes.length; currentBox++) {\n    // Does ball fit into box?\n    if (boxes[currentBox] &gt;= balls[currentBall]) {\n      // Yes -&gt; put ball into box\n      boxes[currentBox] -= balls[currentBall];\n      // Proceed to remaining balls (recursively)\n      if (fits(boxes, balls, currentBall + 1))\n        // All remaining balls fit -&gt; success\n        return true;\n      else\n        // At least one of the remaining balls does not fit -&gt; remove current ball from box again\n        boxes[currentBox] += balls[currentBall];\n    }\n  }\n  // All tries for this ball failed -&gt; back-trace\n  return false;\n}\n</code></pre>\n<p>If you do not like the success check at the beginning of the recursive method and would rather prefer to check before recursing, you could also use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean fits(int[] boxes, int[] balls, int currentBall) {\n  // Check each box, trying to insert current ball\n  for (int currentBox = 0; currentBox &lt; boxes.length; currentBox++) {\n    // Does ball fit into box?\n    if (boxes[currentBox] &gt;= balls[currentBall]) {\n      // Yes -&gt; put ball into box\n      boxes[currentBox] -= balls[currentBall];\n      // If more balls are available, proceed to remaining balls (recursively)\n      if (currentBall + 1 &gt;= balls.length || fits(boxes, balls, currentBall + 1))\n        // All remaining balls fit -&gt; success\n        return true;\n      else\n        // At least one of the remaining balls does not fit -&gt; remove current ball from box again\n        boxes[currentBox] += balls[currentBall];\n    }\n  }\n  // All tries for this ball failed -&gt; back-trace\n  return false;\n}\n</code></pre>\n<p>Feel free to ask, if you do not understand the algorithm.</p>\n"}],"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71686107,"answer_count":1,"score":1,"last_activity_date":1648811265,"creation_date":1648683954,"question_id":71685337,"body_markdown":"I&#39;ve m boxes and n balls, each of different size. To give a simple example, let&#39;s say we have boxes of size: [10, 50, 20] and balls of size: [20, 10, 30, 10]. It can solved as follows,\r\n\r\nBox 0 (Size 10) can store Ball 1 (Size 10) or Ball 3, but let&#39;s take Ball 1 for simplicity.\r\n\r\nBox 1 (Size 50) can store Ball 0 (size 20) and Ball 2 (size 30)\r\n\r\nBox 2 (Size 20) can store Ball 3 (size 10)\r\n\r\nTo solve this problem, I wrote following is the java code which is solved using sorting and in iterative way,\r\n\r\n```\r\nboolean canBallsFitInBoxes(int [] boxes, int [] balls) {\r\n    Arrays.sort(boxes);\r\n    Arrays.sort(balls);\r\n    int j = 0;\r\n    int i = 0;\r\n    for(; i &lt; balls.length &amp;&amp; j &lt; boxes.length;) {\r\n      if(boxes[j] &gt;= balls[i]){\r\n        boxes[j] -= balls[i];\r\n        i++;\r\n      } else {\r\n        j++;\r\n      }\r\n      \r\n    }\r\n    \r\n    return i == balls.length;\r\n}\r\n```\r\n\r\nI tested for few cases and above iterative solution works. I might have missed edge cases, happy to hear them correct it. \r\n\r\nI tried recursive version by myself, but it works only if given arrays are already sorted or when boxes and arrays can be mapped easily like (boxes: [10, 50, 20] and balls: [10, 20, 30, 10]). Basically, when the order of boxes or balls is jumbled, I&#39;m struggling to find a solution using recursion.\r\n\r\nBut I&#39;m trying to find a generic way to solve this problem. Any suggestions how can I solve it recursively without explicit sorting?\r\n","title":"How do I solve m boxes and n balls of different size problem recursively without sorting?","body":"<p>I've m boxes and n balls, each of different size. To give a simple example, let's say we have boxes of size: [10, 50, 20] and balls of size: [20, 10, 30, 10]. It can solved as follows,</p>\n<p>Box 0 (Size 10) can store Ball 1 (Size 10) or Ball 3, but let's take Ball 1 for simplicity.</p>\n<p>Box 1 (Size 50) can store Ball 0 (size 20) and Ball 2 (size 30)</p>\n<p>Box 2 (Size 20) can store Ball 3 (size 10)</p>\n<p>To solve this problem, I wrote following is the java code which is solved using sorting and in iterative way,</p>\n<pre><code>boolean canBallsFitInBoxes(int [] boxes, int [] balls) {\n    Arrays.sort(boxes);\n    Arrays.sort(balls);\n    int j = 0;\n    int i = 0;\n    for(; i &lt; balls.length &amp;&amp; j &lt; boxes.length;) {\n      if(boxes[j] &gt;= balls[i]){\n        boxes[j] -= balls[i];\n        i++;\n      } else {\n        j++;\n      }\n      \n    }\n    \n    return i == balls.length;\n}\n</code></pre>\n<p>I tested for few cases and above iterative solution works. I might have missed edge cases, happy to hear them correct it.</p>\n<p>I tried recursive version by myself, but it works only if given arrays are already sorted or when boxes and arrays can be mapped easily like (boxes: [10, 50, 20] and balls: [10, 20, 30, 10]). Basically, when the order of boxes or balls is jumbled, I'm struggling to find a solution using recursion.</p>\n<p>But I'm trying to find a generic way to solve this problem. Any suggestions how can I solve it recursively without explicit sorting?</p>\n"},{"tags":["java","c#","xamarin","xamarin.android"],"comments":[{"owner":{"account_id":14270806,"reputation":10859,"user_id":10308336,"display_name":"Jessie Zhang -MSFT"},"score":0,"creation_date":1648712686,"post_id":71677596,"comment_id":126695530,"body_markdown":"Could you please post the full error log about this problem?","body":"Could you please post the full error log about this problem?"}],"answers":[{"tags":[],"owner":{"account_id":15681150,"reputation":23,"user_id":11315038,"display_name":"Axe Arcenas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648810447,"creation_date":1648810447,"answer_id":71705773,"question_id":71677596,"body_markdown":"I have already found the solution. I just followed the steps found in [here][1].\r\n\r\n\r\n  [1]: https://github.com/xamarin/xamarin-android/wiki/JDK-11-Warning?fbclid=IwAR2WnmV_cxEnb12JyurKpyPguwjWqK1FQLPErfzUHkB99vpDHlYib-qsTZM","title":"Xamarin.Android Error: class file has wrong version 55.0, should be 52.0","body":"<p>I have already found the solution. I just followed the steps found in <a href=\"https://github.com/xamarin/xamarin-android/wiki/JDK-11-Warning?fbclid=IwAR2WnmV_cxEnb12JyurKpyPguwjWqK1FQLPErfzUHkB99vpDHlYib-qsTZM\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":15681150,"reputation":23,"user_id":11315038,"display_name":"Axe Arcenas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648810447,"creation_date":1648644747,"question_id":71677596,"body_markdown":"I have tried to build a project that consumes a binding library of an Android SDK and encountered this problem. How do I resolve this issue? I am using Visual Studio Mac.","title":"Xamarin.Android Error: class file has wrong version 55.0, should be 52.0","body":"<p>I have tried to build a project that consumes a binding library of an Android SDK and encountered this problem. How do I resolve this issue? I am using Visual Studio Mac.</p>\n"},{"tags":["java","maven","elasticsearch","dependencies","elasticsearch-java-api"],"answers":[{"tags":[],"owner":{"account_id":6764799,"reputation":7550,"user_id":5210117,"display_name":"miskender"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1519457849,"creation_date":1519457849,"answer_id":48960524,"question_id":48959212,"body_markdown":"Try adding following dependencies.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\r\n        &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;elasticsearch-rest-client&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Elasticsearch RestHighLevelClient missing transitive dependencies","body":"<p>Try adding following dependencies.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\n    &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n    &lt;version&gt;6.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n    &lt;artifactId&gt;elasticsearch-rest-client&lt;/artifactId&gt;\n    &lt;version&gt;6.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1659259,"reputation":998,"user_id":1527856,"accept_rate":25,"display_name":"Rajiv Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648810398,"creation_date":1648810398,"answer_id":71705762,"question_id":48959212,"body_markdown":"Add\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;elasticsearch-rest-client&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${es.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Elasticsearch RestHighLevelClient missing transitive dependencies","body":"<p>Add</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n    &lt;artifactId&gt;elasticsearch-rest-client&lt;/artifactId&gt;\n    &lt;version&gt;${es.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5066727,"reputation":3340,"user_id":4066662,"accept_rate":38,"display_name":"Fabian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11838,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48960524,"answer_count":2,"score":4,"last_activity_date":1648810398,"creation_date":1519444556,"question_id":48959212,"body_markdown":"I&#39;m trying to use the RestHighLevelClient via this dependency\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nBut I keep getting ClassNotFoundExceptions in the `RestHighLevelClient` class. \r\n\r\nWhen I try to wire up this bean (`AwsAmsElasticsearchClientConfig.java` : \r\n\r\n    @Bean(name = &quot;elasticsearchRestClient&quot;)\r\n    public RestHighLevelClient getElasticsearchRestClient() {\r\n        RestClientBuilder restClientBuilder = RestClient.builder(\r\n                new HttpHost(HOST, PORT, SCHEME));\r\n\r\n        restClientBuilder.setHttpClientConfigCallback(\r\n                new RestClientBuilder.HttpClientConfigCallback() {\r\n                    @Override\r\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n                        httpClientBuilder.addInterceptorLast(buildAwsSigningRequestInterceptor());\r\n                        // add SSL config if needed\r\n                        //  httpClientBuilder.setSSLContext(null);\r\n                        return httpClientBuilder;\r\n                    }\r\n                }\r\n        );\r\n\r\n        return new RestHighLevelClient(restClientBuilder);\r\n    }\r\n\r\n\r\nI receive these errors: \r\n\r\n\r\n    19:51:11.026 ERROR [           main]                SpringApplication - Application startup failed\r\n    java.lang.ClassNotFoundException: org.elasticsearch.common.CheckedConsumer\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) [1 skipped]\r\n    \tat com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig.getElasticsearchRestClient(AwsAmsElasticsearchClientConfig.java:63) [2 skipped]\r\n    \tat com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig$$EnhancerBySpringCGLIB$$c8f9ed07.CGLIB$getElasticsearchRestClient$0(&lt;generated&gt;)\r\n    Wrapped by: java.lang.NoClassDefFoundError: org/elasticsearch/common/CheckedConsumer\r\n    \tat com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig.getElasticsearchRestClient(AwsAmsElasticsearchClientConfig.java:63) [2 skipped]\r\n    \tat com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig$$EnhancerBySpringCGLIB$$c8f9ed07.CGLIB$getElasticsearchRestClient$0(&lt;generated&gt;)\r\n    \tat com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig$$EnhancerBySpringCGLIB$$c8f9ed07$$FastClassBySpringCGLIB$$fba1a4f2.invoke(&lt;generated&gt;)\r\n    \tat com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig$$EnhancerBySpringCGLIB$$c8f9ed07.getElasticsearchRestClient(&lt;generated&gt;) [2 skipped]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) [3 skipped]\r\n    Wrapped by: java.lang.BootstrapMethodError: java.lang.NoClassDefFoundError: org/elasticsearch/common/CheckedConsumer\r\n    \tat com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig.getElasticsearchRestClient(AwsAmsElasticsearchClientConfig.java:63) [2 skipped]\r\n    \tat com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig$$EnhancerBySpringCGLIB$$c8f9ed07.CGLIB$getElasticsearchRestClient$0(&lt;generated&gt;)\r\n    \tat com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig$$EnhancerBySpringCGLIB$$c8f9ed07$$FastClassBySpringCGLIB$$fba1a4f2.invoke(&lt;generated&gt;)\r\n    \tat com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig$$EnhancerBySpringCGLIB$$c8f9ed07.getElasticsearchRestClient(&lt;generated&gt;) [2 skipped]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) [3 skipped]\r\n    Wrapped by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.RestHighLevelClient]: Factory method &#39;getElasticsearchRestClient&#39; threw exception; nested exception is java.lang.BootstrapMethodError: java.lang.NoClassDefFoundError: org/elasticsearch/common/CheckedConsumer\r\n    \tat io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:192) [148 skipped]\r\n    \tat io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:174)\r\n    \tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n    \tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\r\n\r\nIt looks like tons of the transitive dependencies are missing \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6M4q5.png\r\n\r\n\r\n----------------------------------------\r\n## Update\r\n\r\nTurns out there were two things going on here. \r\n\r\n1. As @miroh pointed out below I need to explicitly define the `org.elasticsearch:elasticserach:6.0.1` dependency so I don&#39;t get the wrong version pulled in. Not sure why this is necessary but it seems to indeed be necessary ... (also referenced here : https://github.com/elastic/elasticsearch/issues/26959)\r\n\r\n2. My project is a multi module Spring project with many other dependencies. Apparently, some of the Spring/Springboot dependencies were dependent on `spring-data-elasticsearch` which has a dependency on `org.elasticsearch:elasticsearch:2.4.6`. I resolved these conflicting versions of elasticsearch by adding the elasticsearch:6.0.1 version to the dependency management section of my parent `pom.xml`. This tells maven to use version 6.0.1 when dependency conflicts are present. ","title":"Elasticsearch RestHighLevelClient missing transitive dependencies","body":"<p>I'm trying to use the RestHighLevelClient via this dependency</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n        &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\n        &lt;version&gt;6.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>But I keep getting ClassNotFoundExceptions in the <code>RestHighLevelClient</code> class. </p>\n\n<p>When I try to wire up this bean (<code>AwsAmsElasticsearchClientConfig.java</code> : </p>\n\n<pre><code>@Bean(name = \"elasticsearchRestClient\")\npublic RestHighLevelClient getElasticsearchRestClient() {\n    RestClientBuilder restClientBuilder = RestClient.builder(\n            new HttpHost(HOST, PORT, SCHEME));\n\n    restClientBuilder.setHttpClientConfigCallback(\n            new RestClientBuilder.HttpClientConfigCallback() {\n                @Override\n                public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n                    httpClientBuilder.addInterceptorLast(buildAwsSigningRequestInterceptor());\n                    // add SSL config if needed\n                    //  httpClientBuilder.setSSLContext(null);\n                    return httpClientBuilder;\n                }\n            }\n    );\n\n    return new RestHighLevelClient(restClientBuilder);\n}\n</code></pre>\n\n<p>I receive these errors: </p>\n\n<pre><code>19:51:11.026 ERROR [           main]                SpringApplication - Application startup failed\njava.lang.ClassNotFoundException: org.elasticsearch.common.CheckedConsumer\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357) [1 skipped]\n    at com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig.getElasticsearchRestClient(AwsAmsElasticsearchClientConfig.java:63) [2 skipped]\n    at com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig$$EnhancerBySpringCGLIB$$c8f9ed07.CGLIB$getElasticsearchRestClient$0(&lt;generated&gt;)\nWrapped by: java.lang.NoClassDefFoundError: org/elasticsearch/common/CheckedConsumer\n    at com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig.getElasticsearchRestClient(AwsAmsElasticsearchClientConfig.java:63) [2 skipped]\n    at com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig$$EnhancerBySpringCGLIB$$c8f9ed07.CGLIB$getElasticsearchRestClient$0(&lt;generated&gt;)\n    at com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig$$EnhancerBySpringCGLIB$$c8f9ed07$$FastClassBySpringCGLIB$$fba1a4f2.invoke(&lt;generated&gt;)\n    at com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig$$EnhancerBySpringCGLIB$$c8f9ed07.getElasticsearchRestClient(&lt;generated&gt;) [2 skipped]\n    at java.lang.reflect.Method.invoke(Method.java:498) [3 skipped]\nWrapped by: java.lang.BootstrapMethodError: java.lang.NoClassDefFoundError: org/elasticsearch/common/CheckedConsumer\n    at com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig.getElasticsearchRestClient(AwsAmsElasticsearchClientConfig.java:63) [2 skipped]\n    at com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig$$EnhancerBySpringCGLIB$$c8f9ed07.CGLIB$getElasticsearchRestClient$0(&lt;generated&gt;)\n    at com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig$$EnhancerBySpringCGLIB$$c8f9ed07$$FastClassBySpringCGLIB$$fba1a4f2.invoke(&lt;generated&gt;)\n    at com.glassdoor.applicantManagement.aws.AwsAmsElasticsearchClientConfig$$EnhancerBySpringCGLIB$$c8f9ed07.getElasticsearchRestClient(&lt;generated&gt;) [2 skipped]\n    at java.lang.reflect.Method.invoke(Method.java:498) [3 skipped]\nWrapped by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.RestHighLevelClient]: Factory method 'getElasticsearchRestClient' threw exception; nested exception is java.lang.BootstrapMethodError: java.lang.NoClassDefFoundError: org/elasticsearch/common/CheckedConsumer\n    at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:192) [148 skipped]\n    at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:174)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n</code></pre>\n\n<p>It looks like tons of the transitive dependencies are missing \n<a href=\"https://i.stack.imgur.com/6M4q5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6M4q5.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<h2>Update</h2>\n\n<p>Turns out there were two things going on here. </p>\n\n<ol>\n<li><p>As @miroh pointed out below I need to explicitly define the <code>org.elasticsearch:elasticserach:6.0.1</code> dependency so I don't get the wrong version pulled in. Not sure why this is necessary but it seems to indeed be necessary ... (also referenced here : <a href=\"https://github.com/elastic/elasticsearch/issues/26959\" rel=\"nofollow noreferrer\">https://github.com/elastic/elasticsearch/issues/26959</a>)</p></li>\n<li><p>My project is a multi module Spring project with many other dependencies. Apparently, some of the Spring/Springboot dependencies were dependent on <code>spring-data-elasticsearch</code> which has a dependency on <code>org.elasticsearch:elasticsearch:2.4.6</code>. I resolved these conflicting versions of elasticsearch by adding the elasticsearch:6.0.1 version to the dependency management section of my parent <code>pom.xml</code>. This tells maven to use version 6.0.1 when dependency conflicts are present. </p></li>\n</ol>\n"},{"tags":["java","selenium","selenium-webdriver","webdrivermanager-java"],"answers":[{"tags":[],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1648810058,"creation_date":1497811995,"answer_id":44618407,"question_id":44584033,"body_markdown":"In fact WebDriverManager can help with the setup of Selenium Grid. The process would be as follows:\r\n\r\n1. Start hub and nodes. You can do it using the command line (`java -jar selenium-server-standalone-&lt;version&gt;.jar standalone`), or use a Java class with the help of WebDriverManager to download the proper drivers. Here you can find an [example][1] using Chrome and Firefox as browsers.\r\n3. Run your test, connecting to the URL&#39;s hub. Here another [example][2].\r\n\r\n\r\n  [1]: https://github.com/bonigarcia/webdrivermanager-examples/blob/master/src/main/java/io/github/bonigarcia/wdm/StartHub.java\r\n  [2]: https://github.com/bonigarcia/webdrivermanager-examples/blob/master/src/test/java/io/github/bonigarcia/wdm/test/remote/RemoteTest.java","title":"Is webdrivermanager supporting RemoteWebDriver (Selenium Grid)?","body":"<p>In fact WebDriverManager can help with the setup of Selenium Grid. The process would be as follows:</p>\n<ol>\n<li>Start hub and nodes. You can do it using the command line (<code>java -jar selenium-server-standalone-&lt;version&gt;.jar standalone</code>), or use a Java class with the help of WebDriverManager to download the proper drivers. Here you can find an <a href=\"https://github.com/bonigarcia/webdrivermanager-examples/blob/master/src/main/java/io/github/bonigarcia/wdm/StartHub.java\" rel=\"nofollow noreferrer\">example</a> using Chrome and Firefox as browsers.</li>\n<li>Run your test, connecting to the URL's hub. Here another <a href=\"https://github.com/bonigarcia/webdrivermanager-examples/blob/master/src/test/java/io/github/bonigarcia/wdm/test/remote/RemoteTest.java\" rel=\"nofollow noreferrer\">example</a>.</li>\n</ol>\n"}],"owner":{"account_id":10011868,"reputation":77,"user_id":7404484,"accept_rate":50,"display_name":"promitheus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6099,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44618407,"answer_count":1,"score":2,"last_activity_date":1648810374,"creation_date":1497600290,"question_id":44584033,"body_markdown":"I&#39;ve updated the dependency for the WebDrivermanager in my pom.xml file. \r\nwhile running the code in my local like below it seems working fine.\r\n\r\n    driver = new ChromeDriver(capability);\r\n\r\nbut when I tried to run the code Remotely with RemoteWebDriver, it failed and keep asking to add binaries for browsers\r\n\r\n    URL remote_grid = new URL(&quot;http://&quot; + seleniumHub + &quot;:&quot; + seleniumHubPort + &quot;/wd/hub&quot;);\r\n    driver = new RemoteWebDriver(remote_grid, capability);\r\n\r\nIt throws below exception.\r\n\r\n    [Invoker 1386767190] Keeping method SeleniumInit.setUp(java.lang.reflect.Method, org.testng.ITestContext)[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5] for class [TestClass name=class com.wo2.commonfucntion.index.LoginIndex]\r\n    [Invoker 1386767190] Keeping method SeleniumInit.tearDown(org.testng.ITestResult)[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5] for class [TestClass name=class com.wo2.commonfucntion.index.LoginIndex]\r\n    [Invoker 1386767190] Keeping method SeleniumInit.setUp(java.lang.reflect.Method, org.testng.ITestContext)[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5] for class [TestClass name=class com.wo2.commonfucntion.index.LoginIndex]\r\n    [Invoker 1386767190] Invoking @BeforeMethod SeleniumInit.setUp(java.lang.reflect.Method, org.testng.ITestContext)[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5]\r\n    13:27:40.503 [main] INFO  i.g.bonigarcia.wdm.BrowserManager - Reading https://chromedriver.storage.googleapis.com/ to seek [chromedriver]\r\n    13:27:41.358 [main] INFO  i.g.bonigarcia.wdm.BrowserManager - Latest version of [chromedriver] is 2.30\r\n    13:27:41.368 [main] DEBUG io.github.bonigarcia.wdm.Downloader - Using binary driver previously downloaded C:\\Users\\zara\\.m2\\repository\\webdriver\\chromedriver\\win32\\2.30\\chromedriver.exe\r\n    13:27:41.368 [main] INFO  i.g.bonigarcia.wdm.BrowserManager - Exporting webdriver.chrome.driver as C:\\Users\\zara\\.m2\\repository\\webdriver\\chromedriver\\win32\\2.30\\chromedriver.exe\r\n    ========= Google Chrome Browser ==========\r\n    Failed to invoke configuration method com.wo2.init.SeleniumInit.setUp:The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html\r\n    Command duration or timeout: 120 milliseconds\r\n    Build info: version: &#39;3.4.0&#39;, revision: &#39;unknown&#39;, time: &#39;unknown&#39;\r\n    System info: host: &#39;ICWS-1162&#39;, ip: &#39;192.168.0.42&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_111&#39;\r\n    Driver info: driver.version: RemoteWebDriver\r\n    [Invoker 1386767190] Keeping method SeleniumInit.tearDown(org.testng.ITestResult)[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5] for class [TestClass name=class com.wo2.commonfucntion.index.LoginIndex]\r\n    [Invoker 1386767190] Invoking @AfterMethod SeleniumInit.tearDown(org.testng.ITestResult)[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5]\r\n    \r\n    TEST FAILED - validLogin\r\n    \r\n    ERROR MESSAGE: null\r\n    \r\n    \r\n    message from tear downjava.lang.NullPointerException\r\n    ===== Invoked methods\r\n      SeleniumInit.fetchSuiteConfiguration(org.testng.ITestContext)[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5]org.testng.TestRunner@485e36bc  1501587365\r\n        LoginIndex.validLogin()[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5] 1501587365\r\n    =====\r\n    Creating D:\\Rahul_P-QA\\Intech_Workspace\\WO2_QA\\WO2_QA\\test-output\\Work Order - 2\\WO2_SC_001 _ To verify user can login successfully..html\r\n    Creating D:\\Rahul_P-QA\\Intech_Workspace\\WO2_QA\\WO2_QA\\test-output\\Work Order - 2\\WO2_SC_001 _ To verify user can login successfully..xml\r\n    FAILED CONFIGURATION: @BeforeMethod setUp(public void com.wo2.commonfucntion.index.LoginIndex.validLogin(), org.testng.TestRunner@485e36bc)\r\n    org.openqa.selenium.WebDriverException: The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html\r\n    Command duration or timeout: 120 milliseconds\r\n    Build info: version: &#39;3.4.0&#39;, revision: &#39;unknown&#39;, time: &#39;unknown&#39;\r\n    System info: host: &#39;ICWS-1162&#39;, ip: &#39;192.168.0.42&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_111&#39;\r\n    Driver info: driver.version: RemoteWebDriver\r\n\r\n","title":"Is webdrivermanager supporting RemoteWebDriver (Selenium Grid)?","body":"<p>I've updated the dependency for the WebDrivermanager in my pom.xml file. \nwhile running the code in my local like below it seems working fine.</p>\n\n<pre><code>driver = new ChromeDriver(capability);\n</code></pre>\n\n<p>but when I tried to run the code Remotely with RemoteWebDriver, it failed and keep asking to add binaries for browsers</p>\n\n<pre><code>URL remote_grid = new URL(\"http://\" + seleniumHub + \":\" + seleniumHubPort + \"/wd/hub\");\ndriver = new RemoteWebDriver(remote_grid, capability);\n</code></pre>\n\n<p>It throws below exception.</p>\n\n<pre><code>[Invoker 1386767190] Keeping method SeleniumInit.setUp(java.lang.reflect.Method, org.testng.ITestContext)[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5] for class [TestClass name=class com.wo2.commonfucntion.index.LoginIndex]\n[Invoker 1386767190] Keeping method SeleniumInit.tearDown(org.testng.ITestResult)[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5] for class [TestClass name=class com.wo2.commonfucntion.index.LoginIndex]\n[Invoker 1386767190] Keeping method SeleniumInit.setUp(java.lang.reflect.Method, org.testng.ITestContext)[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5] for class [TestClass name=class com.wo2.commonfucntion.index.LoginIndex]\n[Invoker 1386767190] Invoking @BeforeMethod SeleniumInit.setUp(java.lang.reflect.Method, org.testng.ITestContext)[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5]\n13:27:40.503 [main] INFO  i.g.bonigarcia.wdm.BrowserManager - Reading https://chromedriver.storage.googleapis.com/ to seek [chromedriver]\n13:27:41.358 [main] INFO  i.g.bonigarcia.wdm.BrowserManager - Latest version of [chromedriver] is 2.30\n13:27:41.368 [main] DEBUG io.github.bonigarcia.wdm.Downloader - Using binary driver previously downloaded C:\\Users\\zara\\.m2\\repository\\webdriver\\chromedriver\\win32\\2.30\\chromedriver.exe\n13:27:41.368 [main] INFO  i.g.bonigarcia.wdm.BrowserManager - Exporting webdriver.chrome.driver as C:\\Users\\zara\\.m2\\repository\\webdriver\\chromedriver\\win32\\2.30\\chromedriver.exe\n========= Google Chrome Browser ==========\nFailed to invoke configuration method com.wo2.init.SeleniumInit.setUp:The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html\nCommand duration or timeout: 120 milliseconds\nBuild info: version: '3.4.0', revision: 'unknown', time: 'unknown'\nSystem info: host: 'ICWS-1162', ip: '192.168.0.42', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_111'\nDriver info: driver.version: RemoteWebDriver\n[Invoker 1386767190] Keeping method SeleniumInit.tearDown(org.testng.ITestResult)[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5] for class [TestClass name=class com.wo2.commonfucntion.index.LoginIndex]\n[Invoker 1386767190] Invoking @AfterMethod SeleniumInit.tearDown(org.testng.ITestResult)[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5]\n\nTEST FAILED - validLogin\n\nERROR MESSAGE: null\n\n\nmessage from tear downjava.lang.NullPointerException\n===== Invoked methods\n  SeleniumInit.fetchSuiteConfiguration(org.testng.ITestContext)[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5]org.testng.TestRunner@485e36bc  1501587365\n    LoginIndex.validLogin()[pri:0, instance:com.wo2.commonfucntion.index.LoginIndex@598067a5] 1501587365\n=====\nCreating D:\\Rahul_P-QA\\Intech_Workspace\\WO2_QA\\WO2_QA\\test-output\\Work Order - 2\\WO2_SC_001 _ To verify user can login successfully..html\nCreating D:\\Rahul_P-QA\\Intech_Workspace\\WO2_QA\\WO2_QA\\test-output\\Work Order - 2\\WO2_SC_001 _ To verify user can login successfully..xml\nFAILED CONFIGURATION: @BeforeMethod setUp(public void com.wo2.commonfucntion.index.LoginIndex.validLogin(), org.testng.TestRunner@485e36bc)\norg.openqa.selenium.WebDriverException: The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html\nCommand duration or timeout: 120 milliseconds\nBuild info: version: '3.4.0', revision: 'unknown', time: 'unknown'\nSystem info: host: 'ICWS-1162', ip: '192.168.0.42', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_111'\nDriver info: driver.version: RemoteWebDriver\n</code></pre>\n"},{"tags":["java","android","android-camerax"],"comments":[{"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"score":0,"creation_date":1648808503,"post_id":71705368,"comment_id":126723663,"body_markdown":"Hi, I had trouble understanding your question PreviewViews arent listed ... can you describe more w.r.t this ? Please elaborate your question and explain what error are you getting exactly ?","body":"Hi, I had trouble understanding your question PreviewViews arent listed ... can you describe more w.r.t this ? Please elaborate your question and explain what error are you getting exactly ?"},{"owner":{"account_id":12280921,"reputation":5,"user_id":8962553,"display_name":"AB1102"},"score":0,"creation_date":1648808887,"post_id":71705368,"comment_id":126723817,"body_markdown":"@AgentP the problem is that PreviewViews are not listed in the possible layout components.","body":"@AgentP the problem is that PreviewViews are not listed in the possible layout components."}],"answers":[{"tags":[],"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648809226,"creation_date":1648809226,"answer_id":71705537,"question_id":71705368,"body_markdown":"You need to add camera-view dependency in your build.gradle file like this\r\n\r\n    implementation &#39;androidx.camera:camera-view:1.0.0-alpha26&#39;","title":"PreviewView isn&#39;t available in my AndroidStudio?","body":"<p>You need to add camera-view dependency in your build.gradle file like this</p>\n<pre><code>implementation 'androidx.camera:camera-view:1.0.0-alpha26'\n</code></pre>\n"}],"owner":{"account_id":12280921,"reputation":5,"user_id":8962553,"display_name":"AB1102"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71705537,"answer_count":1,"score":0,"last_activity_date":1648810328,"creation_date":1648808283,"question_id":71705368,"body_markdown":"I am attempting to implement a basic camera application using a PreviewView. However, in my android studio, PreviewViews aren&#39;t listed. Any suggestions as to how to find it? Or potential workarounds?\r\n\r\n[PreviewView not ][1]\r\n\r\n[Dependencies][2]\r\n\r\nMany thanks, \r\nAlex\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hLZAU.png\r\n  [2]: https://i.stack.imgur.com/B8y6n.png","title":"PreviewView isn&#39;t available in my AndroidStudio?","body":"<p>I am attempting to implement a basic camera application using a PreviewView. However, in my android studio, PreviewViews aren't listed. Any suggestions as to how to find it? Or potential workarounds?</p>\n<p><a href=\"https://i.stack.imgur.com/hLZAU.png\" rel=\"nofollow noreferrer\">PreviewView not </a></p>\n<p><a href=\"https://i.stack.imgur.com/B8y6n.png\" rel=\"nofollow noreferrer\">Dependencies</a></p>\n<p>Many thanks,\nAlex</p>\n"},{"tags":["java","kotlin","axion-release-plugin"],"owner":{"account_id":3405999,"reputation":11,"user_id":2857017,"display_name":"user2857017"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648810192,"creation_date":1648810192,"question_id":71705716,"body_markdown":"Please advise me how to fix this issue. Thank you.\r\n\r\n1. Here is the my environment information:\r\n\r\nGradle 6.8\r\nKotlin: 1.4.20\r\nGroovy: 2.5.12\r\nAnt: Apache Ant(TM) version 1.10.9 compiled on September 27 2020\r\nJVM: 11.0.11 (AdoptOpenJDK 11.0.11+9)\r\nOS: Mac OS X 11.3 x86_64\r\nplugin version &#39;pl.allegro.tech.build.axion-release&#39; version &#39;1.13.5&#39;\r\n\r\n2. I run in my local environment with cmd: ./gradle release -Prelease.customUsername=ghp_wguTZy4pTOwF************ -Prelease.versionIncrementer=incrementMinor\r\n\r\n3. I have got the error caused by: java.lang.IllegalStateException: Command org.eclipse.jgit.api.PushCommand was called in the wrong state\r\n\r\nPlease see the full log here:\r\n\r\n    &gt; Task :verifyRelease\r\n    Looking for uncommitted changes.. \r\n    Checking if branch is ahead of remote.. \r\n    Checking for snapshot versions.. \r\n    \r\n    &gt; Task :release\r\n    Working on released version 0.7.0, nothing to release\r\n    Pushing all to remote: origin\r\n    \r\n    &gt; Task :release FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:release&#39;.\r\n    &gt; Command org.eclipse.jgit.api.PushCommand was called in the wrong state\r\n    \r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:release&#39;.\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$3(ExecuteActionsTaskExecuter.java:186)\r\n            at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:268)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:184)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\r\n            at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\r\n            at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n            at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n            at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n            at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n            at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n            at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n            at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:411)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:398)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:391)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:377)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor.process(DefaultPlanExecutor.java:72)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.executeWithServices(DefaultTaskExecutionGraph.java:196)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:189)\r\n            at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:39)\r\n            at org.gradle.execution.DefaultBuildWorkExecutor.execute(DefaultBuildWorkExecutor.java:40)\r\n            at org.gradle.execution.DefaultBuildWorkExecutor.access$000(DefaultBuildWorkExecutor.java:24)\r\n            at org.gradle.execution.DefaultBuildWorkExecutor$1.proceed(DefaultBuildWorkExecutor.java:48)\r\n            at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:49)\r\n            at org.gradle.execution.DefaultBuildWorkExecutor.execute(DefaultBuildWorkExecutor.java:40)\r\n            at org.gradle.execution.DefaultBuildWorkExecutor.execute(DefaultBuildWorkExecutor.java:33)\r\n            at org.gradle.execution.IncludedBuildLifecycleBuildWorkExecutor.execute(IncludedBuildLifecycleBuildWorkExecutor.java:36)\r\n            at org.gradle.execution.DeprecateUndefinedBuildWorkExecutor.execute(DeprecateUndefinedBuildWorkExecutor.java:44)\r\n            at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.run(BuildOperationFiringBuildWorkerExecutor.java:57)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n            at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n            at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor.execute(BuildOperationFiringBuildWorkerExecutor.java:42)\r\n            at org.gradle.initialization.DefaultGradleLauncher.runWork(DefaultGradleLauncher.java:260)\r\n            at org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:172)\r\n            at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:148)\r\n            at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:124)\r\n            at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:72)\r\n            at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:67)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\r\n            at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\r\n            at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\r\n            at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\r\n            at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n            at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:63)\r\n            at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n            at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:77)\r\n            at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n            at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\r\n            at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n            at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n            at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:54)\r\n            at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:53)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:29)\r\n            at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\r\n            at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:49)\r\n            at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:32)\r\n            at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:27)\r\n            at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\r\n            at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\r\n            at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\r\n            at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\r\n            at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\r\n            at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\r\n            at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\r\n            at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\r\n            at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n            at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n            at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\r\n            at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n            at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\r\n            at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\r\n            at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n            at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n            at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n            at org.gradle.util.Swapper.swap(Swapper.java:38)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n            at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n            at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n            at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n            at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n    Caused by: java.lang.IllegalStateException: Command org.eclipse.jgit.api.PushCommand was called in the wrong state\r\n            at org.eclipse.jgit.api.GitCommand.checkCallable(GitCommand.java:123)\r\n            at org.eclipse.jgit.api.PushCommand.call(PushCommand.java:111)\r\n            at pl.allegro.tech.build.axion.release.infrastructure.git.GitRepository.callPush(GitRepository.java:153)\r\n            at pl.allegro.tech.build.axion.release.infrastructure.git.GitRepository.push(GitRepository.java:148)\r\n            at pl.allegro.tech.build.axion.release.infrastructure.git.GitRepository.push(GitRepository.java:131)\r\n            at pl.allegro.tech.build.axion.release.domain.scm.ScmService.push(ScmService.java:43)\r\n            at pl.allegro.tech.build.axion.release.domain.Releaser.pushRelease(Releaser.java:61)\r\n            at pl.allegro.tech.build.axion.release.domain.Releaser.releaseAndPush(Releaser.java:51)\r\n            at pl.allegro.tech.build.axion.release.domain.Releaser$releaseAndPush.call(Unknown Source)\r\n            at pl.allegro.tech.build.axion.release.ReleaseTask.release(ReleaseTask.groovy:24)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n            at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\r\n            at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n            at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:494)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n            at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n           \r\n\r\n","title":"axion-release-plugin: Execution failed for task &#39;:release&#39;","body":"<p>Please advise me how to fix this issue. Thank you.</p>\n<ol>\n<li>Here is the my environment information:</li>\n</ol>\n<p>Gradle 6.8\nKotlin: 1.4.20\nGroovy: 2.5.12\nAnt: Apache Ant(TM) version 1.10.9 compiled on September 27 2020\nJVM: 11.0.11 (AdoptOpenJDK 11.0.11+9)\nOS: Mac OS X 11.3 x86_64\nplugin version 'pl.allegro.tech.build.axion-release' version '1.13.5'</p>\n<ol start=\"2\">\n<li><p>I run in my local environment with cmd: ./gradle release -Prelease.customUsername=ghp_wguTZy4pTOwF************ -Prelease.versionIncrementer=incrementMinor</p>\n</li>\n<li><p>I have got the error caused by: java.lang.IllegalStateException: Command org.eclipse.jgit.api.PushCommand was called in the wrong state</p>\n</li>\n</ol>\n<p>Please see the full log here:</p>\n<pre><code>&gt; Task :verifyRelease\nLooking for uncommitted changes.. \nChecking if branch is ahead of remote.. \nChecking for snapshot versions.. \n\n&gt; Task :release\nWorking on released version 0.7.0, nothing to release\nPushing all to remote: origin\n\n&gt; Task :release FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':release'.\n&gt; Command org.eclipse.jgit.api.PushCommand was called in the wrong state\n\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':release'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$3(ExecuteActionsTaskExecuter.java:186)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:268)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:184)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:411)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:398)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:391)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:377)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n        at org.gradle.execution.plan.DefaultPlanExecutor.process(DefaultPlanExecutor.java:72)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.executeWithServices(DefaultTaskExecutionGraph.java:196)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:189)\n        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:39)\n        at org.gradle.execution.DefaultBuildWorkExecutor.execute(DefaultBuildWorkExecutor.java:40)\n        at org.gradle.execution.DefaultBuildWorkExecutor.access$000(DefaultBuildWorkExecutor.java:24)\n        at org.gradle.execution.DefaultBuildWorkExecutor$1.proceed(DefaultBuildWorkExecutor.java:48)\n        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:49)\n        at org.gradle.execution.DefaultBuildWorkExecutor.execute(DefaultBuildWorkExecutor.java:40)\n        at org.gradle.execution.DefaultBuildWorkExecutor.execute(DefaultBuildWorkExecutor.java:33)\n        at org.gradle.execution.IncludedBuildLifecycleBuildWorkExecutor.execute(IncludedBuildLifecycleBuildWorkExecutor.java:36)\n        at org.gradle.execution.DeprecateUndefinedBuildWorkExecutor.execute(DeprecateUndefinedBuildWorkExecutor.java:44)\n        at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.run(BuildOperationFiringBuildWorkerExecutor.java:57)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n        at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor.execute(BuildOperationFiringBuildWorkerExecutor.java:42)\n        at org.gradle.initialization.DefaultGradleLauncher.runWork(DefaultGradleLauncher.java:260)\n        at org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:172)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:148)\n        at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:124)\n        at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:72)\n        at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:67)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\n        at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\n        at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:63)\n        at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n        at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:77)\n        at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:54)\n        at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:53)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:29)\n        at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\n        at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:49)\n        at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:32)\n        at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:27)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\n        at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\n        at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\n        at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\n        at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: java.lang.IllegalStateException: Command org.eclipse.jgit.api.PushCommand was called in the wrong state\n        at org.eclipse.jgit.api.GitCommand.checkCallable(GitCommand.java:123)\n        at org.eclipse.jgit.api.PushCommand.call(PushCommand.java:111)\n        at pl.allegro.tech.build.axion.release.infrastructure.git.GitRepository.callPush(GitRepository.java:153)\n        at pl.allegro.tech.build.axion.release.infrastructure.git.GitRepository.push(GitRepository.java:148)\n        at pl.allegro.tech.build.axion.release.infrastructure.git.GitRepository.push(GitRepository.java:131)\n        at pl.allegro.tech.build.axion.release.domain.scm.ScmService.push(ScmService.java:43)\n        at pl.allegro.tech.build.axion.release.domain.Releaser.pushRelease(Releaser.java:61)\n        at pl.allegro.tech.build.axion.release.domain.Releaser.releaseAndPush(Releaser.java:51)\n        at pl.allegro.tech.build.axion.release.domain.Releaser$releaseAndPush.call(Unknown Source)\n        at pl.allegro.tech.build.axion.release.ReleaseTask.release(ReleaseTask.groovy:24)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:494)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n       \n</code></pre>\n"},{"tags":["java","spring","jdbc","domain-driven-design","entity"],"answers":[{"tags":[],"owner":{"account_id":8085031,"reputation":1526,"user_id":6092856,"display_name":"ArwynFr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648758690,"creation_date":1648758690,"answer_id":71698826,"question_id":71695015,"body_markdown":"You cannot *convert* that model to DDD.\r\n\r\nDDD is about creating a business model in a separate layer: the domain layer. The purpose of this layer is to verify that any state-changing operations does not violate your business rules. How you model your domain entities must be driven by the use case you are handling, not how the data is stored: the domain layer is said to be *persistence agnostic*. It doesn&#39;t matter whether the data is stored in one or multiple stores, RDBMS, nosql, files, etc ... that&#39;s ther purpose of the infrastructure layer.\r\n\r\nDomain object are read by a class called a *repository*. The repository behaves like an in memory collection of domain object, but actually re-hydrates objects from the persistence store(s). It operates as a mediator between your persistence model and your domain model. Since models may differ, the repository can flatten relations, join data from different sources, and ignore some columns if needed.\r\n\r\nWhen querying your state, you don&#39;t need to use the domain layer at all. The purpose of that layer is to validate state-changing operation, business-wise, but this is unnecessary when querying the state. In that situation, you can implement classes, called *mediators*, that will query your database and produce presentation layer DTO. Like the repositories, mediators are adapters between your persistence model and your presentation model. It can join data from multiple persistence stores, flatten relations, and ignore columns as well.\r\n\r\nWhether to use an ORM, or not, for accessing the database, is an implementation detail of your infrastructure layer. It has nothing to do with domain modeling, which is about your use cases and business rules validation.","title":"Domain vs DTO on database entity relations","body":"<p>You cannot <em>convert</em> that model to DDD.</p>\n<p>DDD is about creating a business model in a separate layer: the domain layer. The purpose of this layer is to verify that any state-changing operations does not violate your business rules. How you model your domain entities must be driven by the use case you are handling, not how the data is stored: the domain layer is said to be <em>persistence agnostic</em>. It doesn't matter whether the data is stored in one or multiple stores, RDBMS, nosql, files, etc ... that's ther purpose of the infrastructure layer.</p>\n<p>Domain object are read by a class called a <em>repository</em>. The repository behaves like an in memory collection of domain object, but actually re-hydrates objects from the persistence store(s). It operates as a mediator between your persistence model and your domain model. Since models may differ, the repository can flatten relations, join data from different sources, and ignore some columns if needed.</p>\n<p>When querying your state, you don't need to use the domain layer at all. The purpose of that layer is to validate state-changing operation, business-wise, but this is unnecessary when querying the state. In that situation, you can implement classes, called <em>mediators</em>, that will query your database and produce presentation layer DTO. Like the repositories, mediators are adapters between your persistence model and your presentation model. It can join data from multiple persistence stores, flatten relations, and ignore columns as well.</p>\n<p>Whether to use an ORM, or not, for accessing the database, is an implementation detail of your infrastructure layer. It has nothing to do with domain modeling, which is about your use cases and business rules validation.</p>\n"}],"owner":{"account_id":19259266,"reputation":1853,"user_id":14075508,"display_name":"Alex Vergara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":935,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71698826,"answer_count":1,"score":3,"last_activity_date":1648809376,"creation_date":1648739497,"question_id":71695015,"body_markdown":"I have three tables on a database, and one old and good query that joins the interesting columns for the usecase on a DTO object after use a RowMapper. Classical Java approach.\r\n\r\nBut I am wondering, how can I convert this into a DDD implementation? How can I use entities for solve the problem without having 3 separated queries to create the models with it&#39;s fields, and then create a DTO just for create the object with the desired columns?\r\n\r\nWhat I am missing? Or should be better the already implemented way? ","title":"Domain vs DTO on database entity relations","body":"<p>I have three tables on a database, and one old and good query that joins the interesting columns for the usecase on a DTO object after use a RowMapper. Classical Java approach.</p>\n<p>But I am wondering, how can I convert this into a DDD implementation? How can I use entities for solve the problem without having 3 separated queries to create the models with it's fields, and then create a DTO just for create the object with the desired columns?</p>\n<p>What I am missing? Or should be better the already implemented way?</p>\n"},{"tags":["java","time","duration","days"],"comments":[{"owner":{"account_id":2327072,"reputation":7733,"user_id":2041317,"accept_rate":100,"display_name":"cup"},"score":0,"creation_date":1648808294,"post_id":71704909,"comment_id":126723570,"body_markdown":"Make sure you do not need the software enabled in order to uninstall.  There are still quite a few packages out there which cannot be uninstalled once the licence has expired.","body":"Make sure you do not need the software enabled in order to uninstall.  There are still quite a few packages out there which cannot be uninstalled once the licence has expired."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1648808296,"post_id":71704909,"comment_id":126723571,"body_markdown":"Since you can use java.time, the modern Java date and time API — `ZoneId`, `ZonedDateTime` and `ChronoUnit` belong there — you should use java.time exclusively and not mix in the `Calendar` class, which is cumbersome and error-prone to use, poorly designed and long outdated. You may also use `Duration` from java.time for a duration.","body":"Since you can use java.time, the modern Java date and time API — <code>ZoneId</code>, <code>ZonedDateTime</code> and <code>ChronoUnit</code> belong there — you should use java.time exclusively and not mix in the <code>Calendar</code> class, which is cumbersome and error-prone to use, poorly designed and long outdated. You may also use <code>Duration</code> from java.time for a duration."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1648808309,"post_id":71704909,"comment_id":126723576,"body_markdown":"Why are you mixing `java.util.Date/Calendar` and `java.time`? Stick to one (ie `java.time`).","body":"Why are you mixing <code>java.util.Date&#47;Calendar</code> and <code>java.time</code>? Stick to one (ie <code>java.time</code>)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1648808382,"post_id":71704909,"comment_id":126723605,"body_markdown":"Isn’t this question better suited for [Code Review Stack Exchange](https://codereview.stackexchange.com/)?","body":"Isn’t this question better suited for <a href=\"https://codereview.stackexchange.com/\">Code Review Stack Exchange</a>?"},{"owner":{"account_id":24775739,"reputation":11,"user_id":18659340,"display_name":"dschreid"},"score":0,"creation_date":1648808715,"post_id":71704909,"comment_id":126723745,"body_markdown":"Sorry, I didn&#39;t know about Code Review Stack Exchange. I will use it in the future.","body":"Sorry, I didn&#39;t know about Code Review Stack Exchange. I will use it in the future."},{"owner":{"account_id":24775739,"reputation":11,"user_id":18659340,"display_name":"dschreid"},"score":0,"creation_date":1648808770,"post_id":71704909,"comment_id":126723766,"body_markdown":"I will change it up","body":"I will change it up"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1648808805,"post_id":71704909,"comment_id":126723778,"body_markdown":"Your `getDaysTillActivation` method is hard to read, and after reading it twice I still don’t think I have understood how it works. I think I’d add 1 day to `zdtStart`, and if I end up on the 1st of a month (or on an odd date, those conditions will be equivalent), add one more day.","body":"Your <code>getDaysTillActivation</code> method is hard to read, and after reading it twice I still don’t think I have understood how it works. I think I’d add 1 day to <code>zdtStart</code>, and if I end up on the 1st of a month (or on an odd date, those conditions will be equivalent), add one more day."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1648808811,"post_id":71704909,"comment_id":126723780,"body_markdown":"Also you have a potential bug from reading the clock twice: If `Calendar.getInstance()` is called just before midnight on the 4th (an enabled day), there will of course be 0 days until enabled. If `ZonedDateTime.now(z)` is then called just after midnight on the 5th, your method will tell me there is 0 time (or a small negative amount of time) until enabled, which is not true.","body":"Also you have a potential bug from reading the clock twice: If <code>Calendar.getInstance()</code> is called just before midnight on the 4th (an enabled day), there will of course be 0 days until enabled. If <code>ZonedDateTime.now(z)</code> is then called just after midnight on the 5th, your method will tell me there is 0 time (or a small negative amount of time) until enabled, which is not true."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1648811513,"post_id":71704909,"comment_id":126724685,"body_markdown":"why the loop in `getDaysTillActivation`? the method will always return only `0` or `1`, the loop will be repeated at most once... why not just `return day % 2`?","body":"why the loop in <code>getDaysTillActivation</code>? the method will always return only <code>0</code> or <code>1</code>, the loop will be repeated at most once... why not just <code>return day % 2</code>?"},{"owner":{"account_id":24775739,"reputation":11,"user_id":18659340,"display_name":"dschreid"},"score":0,"creation_date":1648814334,"post_id":71704909,"comment_id":126725653,"body_markdown":"@user16320675 That&#39;s not true, as in the example I mentioned in my thread, it is possible that it returns 2. Well that could be the new maximum as well, but the loop will not continue anyway, so I just left it there","body":"@user16320675 That&#39;s not true, as in the example I mentioned in my thread, it is possible that it returns 2. Well that could be the new maximum as well, but the loop will not continue anyway, so I just left it there"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1648814471,"post_id":71704909,"comment_id":126725710,"body_markdown":"sorry, I can not see how that method is returning `2` - if `day` is even it will return `0` from first iteration (`i=0`); if odd, `day` will be incremented and it will return `1` on second iteration (`i=1`), since now `day` is even (incrementing an odd number by one, makes it even) - can you give an example for which date it will return `2`?","body":"sorry, I can not see how that method is returning <code>2</code> - if <code>day</code> is even it will return <code>0</code> from first iteration (<code>i=0</code>); if odd, <code>day</code> will be incremented and it will return <code>1</code> on second iteration (<code>i=1</code>), since now <code>day</code> is even (incrementing an odd number by one, makes it even) - can you give an example for which date it will return <code>2</code>?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1648815299,"post_id":71704909,"comment_id":126726007,"body_markdown":"just to be clear, I meant the result of the `getDaysTillActivation()` method! I also can not see how the example in the question mentions anything about &quot;*it returns 2*&quot;","body":"just to be clear, I meant the result of the <code>getDaysTillActivation()</code> method! I also can not see how the example in the question mentions anything about &quot;<i>it returns 2</i>&quot;"},{"owner":{"account_id":24775739,"reputation":11,"user_id":18659340,"display_name":"dschreid"},"score":0,"creation_date":1648816328,"post_id":71704909,"comment_id":126726415,"body_markdown":"@user16320675 So kindly asked, you would think it only takes 1 day to get from the 30th of any month to the 1st of the next month, while having a 31th&#39;st day in the base month? 31 and 1 are both numbers not dividible by 2","body":"@user16320675 So kindly asked, you would think it only takes 1 day to get from the 30th of any month to the 1st of the next month, while having a 31th&#39;st day in the base month? 31 and 1 are both numbers not dividible by 2"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1648816633,"post_id":71704909,"comment_id":126726523,"body_markdown":"no idea what you are saying now. You stated that what I wrote is &quot;*not true*&quot;! So. please, give an example when mentioned method returns something that is not either `0` nor `1`! That it is not just returning the same as `day % 2` without the need of any loop!","body":"no idea what you are saying now. You stated that what I wrote is &quot;<i>not true</i>&quot;! So. please, give an example when mentioned method returns something that is not either <code>0</code> nor <code>1</code>! That it is not just returning the same as <code>day % 2</code> without the need of any loop!"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1656664119,"post_id":71704909,"comment_id":128632230,"body_markdown":"seems like there is no proof for &quot;*it is possible that it returns 2.*&quot; - so you called me a liar, but without proving it :-(","body":"seems like there is no proof for &quot;<i>it is possible that it returns 2.</i>&quot; - so you called me a liar, but without proving it :-("}],"owner":{"account_id":24775739,"reputation":11,"user_id":18659340,"display_name":"dschreid"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648809177,"creation_date":1648806177,"question_id":71704909,"body_markdown":"I have written the following code:\r\n\r\n    public static int getDaysTillActivation() {\r\n        ZoneId z = ZoneId.of(&quot;Europe/Berlin&quot;);\r\n        int day = ZonedDateTime.now(z).getDayOfMonth();\r\n\r\n        for (int i = 0; i &lt; 31; i++) {\r\n\r\n            if (day % 2 == 0) {\r\n                return i;\r\n            }\r\n\r\n            day++;\r\n        }\r\n\r\n        return -1;\r\n    }\r\n\r\n    public static String getTimeString() {\r\n        int daysTillActivation = getDaysTillActivation();\r\n\r\n        if (daysTillActivation == 0) {\r\n            return &quot;Active&quot;;\r\n        }\r\n\r\n        ZoneId z = ZoneId.of(&quot;Europe/Berlin&quot;);\r\n        ZonedDateTime zdtStart = ZonedDateTime.now(z);\r\n        ZonedDateTime zdtStop = ZonedDateTime.now(z).plusDays(daysTillActivation).truncatedTo(ChronoUnit.DAYS);\r\n        \r\n        long millis = ChronoUnit.MILLIS.between( zdtStart , zdtStop );\r\n        return formatDuration(millis);\r\n    }\r\n\r\nIt works, for *now*.\r\nBut before I use it in some sort of &quot;production&quot;, I would like to hear some advises on what could be better, or what it could break...\r\n\r\nHere&#39;s my general Idea:\r\nI want to have a feature be enabled only every 2 days, therefore I would like to display to the user how much time is left for it to be enabled\r\n\r\nFor Example:\r\n\r\n - Mon 30.Jan - Enabled\r\n - Thu 31.Jan - Disabled\r\n - Wed 1.Feb - Disabled\r\n - .... - Enabled\r\n\r\nAs you can see, I don&#39;t mind if they have multiple days off. That&#39;s why I went with simply checking if the current day is dividable by 2.\r\n\r\nHowever, this code will run every second and I just want to make sure I get everything right/get the best performance out of it.\r\n","title":"Time between 2 dates at the beginning of each day","body":"<p>I have written the following code:</p>\n<pre><code>public static int getDaysTillActivation() {\n    ZoneId z = ZoneId.of(&quot;Europe/Berlin&quot;);\n    int day = ZonedDateTime.now(z).getDayOfMonth();\n\n    for (int i = 0; i &lt; 31; i++) {\n\n        if (day % 2 == 0) {\n            return i;\n        }\n\n        day++;\n    }\n\n    return -1;\n}\n\npublic static String getTimeString() {\n    int daysTillActivation = getDaysTillActivation();\n\n    if (daysTillActivation == 0) {\n        return &quot;Active&quot;;\n    }\n\n    ZoneId z = ZoneId.of(&quot;Europe/Berlin&quot;);\n    ZonedDateTime zdtStart = ZonedDateTime.now(z);\n    ZonedDateTime zdtStop = ZonedDateTime.now(z).plusDays(daysTillActivation).truncatedTo(ChronoUnit.DAYS);\n    \n    long millis = ChronoUnit.MILLIS.between( zdtStart , zdtStop );\n    return formatDuration(millis);\n}\n</code></pre>\n<p>It works, for <em>now</em>.\nBut before I use it in some sort of &quot;production&quot;, I would like to hear some advises on what could be better, or what it could break...</p>\n<p>Here's my general Idea:\nI want to have a feature be enabled only every 2 days, therefore I would like to display to the user how much time is left for it to be enabled</p>\n<p>For Example:</p>\n<ul>\n<li>Mon 30.Jan - Enabled</li>\n<li>Thu 31.Jan - Disabled</li>\n<li>Wed 1.Feb - Disabled</li>\n<li>.... - Enabled</li>\n</ul>\n<p>As you can see, I don't mind if they have multiple days off. That's why I went with simply checking if the current day is dividable by 2.</p>\n<p>However, this code will run every second and I just want to make sure I get everything right/get the best performance out of it.</p>\n"},{"tags":["java","if-statement","try-catch","numberformatexception","try-catch-finally"],"comments":[{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":0,"creation_date":1648804630,"post_id":71704498,"comment_id":126722288,"body_markdown":"[JavaScript is not Java](http://javascriptisnotjava.com/)","body":"<a href=\"http://javascriptisnotjava.com/\" rel=\"nofollow noreferrer\">JavaScript is not Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":20487439,"reputation":209,"user_id":15034266,"display_name":"buzzbuzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648808938,"creation_date":1648808938,"answer_id":71705485,"question_id":71704498,"body_markdown":"`nextInt()` actually throws InputMismatchException when you input other data type so you can directly use the catch for InputMismatchException and you should add `Input.next()` so that the scanner will take in the non integer input\r\n\r\n\r\nAnother thing is that `Input.nextInt()` should always be inside the try/catch. In your code, the exception will not be catched for the first input and after you input any wrong value.\r\n\r\n     catch(InputMismatchException e) \r\n             {\r\n                System.out.println(&quot;Invalid value. Please enter a number between 1 and 50: &quot;);\r\n                JPS_NextGuess = Input.nextInt();\r\n                JPS_Guess = JPS_NextGuess;\r\n             }   \r\n  \r\n\r\nI have modified your code to be simpler. I suggest you use boolean to keep track of whether the number is guessed so you don&#39;t have to interchange the guess. Also, good indentation formatting helps reading.\r\n\r\n    import java.util.*;\r\n    \r\n    public class LabExer5A\r\n    {\r\n        public static void main(String args[])\r\n        { \r\n            Scanner Input = new Scanner (System.in); \r\n            System.out.println(&quot;Guess a number between 1 and 50&quot;);\r\n            int JPS_CorrectNum=25;\r\n            boolean isGuessed=false;  \r\n            do\r\n            {\r\n                try\r\n                {\r\n                    int JPS_Guess = Input.nextInt();\r\n                    if (JPS_Guess == JPS_CorrectNum)\r\n                    {\r\n                        System.out.println(&quot;You got it in &quot;);\r\n                        isGuessed=true;\r\n                    }\r\n                    else if (JPS_Guess &lt; JPS_CorrectNum &amp;&amp; JPS_Guess &gt;= 1)\r\n                    {\r\n                        System.out.println(&quot;Too low. Try again.&quot;);\r\n                    }\r\n                    else if (JPS_Guess &gt; JPS_CorrectNum &amp;&amp; JPS_Guess &lt;= 50)\r\n                    {\r\n                        System.out.println(&quot;Too High. Try again.&quot;);\r\n                    }\r\n                    else if(JPS_Guess &lt; 1 || JPS_Guess &gt; 50)\r\n                    {\r\n                        throw new InputMismatchException();\r\n                    }\r\n                }\r\n                catch(InputMismatchException e) \r\n                {\r\n                    System.out.println(&quot;Invalid value. Please enter a number between 1 and 50: &quot;);\r\n                    Input.next();\r\n                }   \r\n            }\r\n            while (!isGuessed);//will rerun the program until the user guess the correct number   \r\n        }\r\n    }\r\n\r\n\r\n","title":"I can&#39;t use NumberFormatExeption. The program should continue even if the user input a string or non-number","body":"<p><code>nextInt()</code> actually throws InputMismatchException when you input other data type so you can directly use the catch for InputMismatchException and you should add <code>Input.next()</code> so that the scanner will take in the non integer input</p>\n<p>Another thing is that <code>Input.nextInt()</code> should always be inside the try/catch. In your code, the exception will not be catched for the first input and after you input any wrong value.</p>\n<pre><code> catch(InputMismatchException e) \n         {\n            System.out.println(&quot;Invalid value. Please enter a number between 1 and 50: &quot;);\n            JPS_NextGuess = Input.nextInt();\n            JPS_Guess = JPS_NextGuess;\n         }   \n</code></pre>\n<p>I have modified your code to be simpler. I suggest you use boolean to keep track of whether the number is guessed so you don't have to interchange the guess. Also, good indentation formatting helps reading.</p>\n<pre><code>import java.util.*;\n\npublic class LabExer5A\n{\n    public static void main(String args[])\n    { \n        Scanner Input = new Scanner (System.in); \n        System.out.println(&quot;Guess a number between 1 and 50&quot;);\n        int JPS_CorrectNum=25;\n        boolean isGuessed=false;  \n        do\n        {\n            try\n            {\n                int JPS_Guess = Input.nextInt();\n                if (JPS_Guess == JPS_CorrectNum)\n                {\n                    System.out.println(&quot;You got it in &quot;);\n                    isGuessed=true;\n                }\n                else if (JPS_Guess &lt; JPS_CorrectNum &amp;&amp; JPS_Guess &gt;= 1)\n                {\n                    System.out.println(&quot;Too low. Try again.&quot;);\n                }\n                else if (JPS_Guess &gt; JPS_CorrectNum &amp;&amp; JPS_Guess &lt;= 50)\n                {\n                    System.out.println(&quot;Too High. Try again.&quot;);\n                }\n                else if(JPS_Guess &lt; 1 || JPS_Guess &gt; 50)\n                {\n                    throw new InputMismatchException();\n                }\n            }\n            catch(InputMismatchException e) \n            {\n                System.out.println(&quot;Invalid value. Please enter a number between 1 and 50: &quot;);\n                Input.next();\n            }   \n        }\n        while (!isGuessed);//will rerun the program until the user guess the correct number   \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23866744,"reputation":11,"user_id":17868976,"display_name":"paulo saim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1648808938,"creation_date":1648804225,"question_id":71704498,"body_markdown":"# Guessing the number\r\n\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class LabExer5A\r\n{\r\n    public static void main(String args[])\r\n    {       \r\n        Scanner Input = new Scanner (System.in); \r\n        System.out.println(&quot;Guess a number between 1 and 50&quot;);\r\n        int JPS_Guess = Input.nextInt();\r\n        int JPS_CorrectNum = 25;\r\n        int JPS_NextGuess;  \r\n    do\r\n    {\r\n    try\r\n    {\r\n            if (JPS_Guess == JPS_CorrectNum)\r\n            {\r\n                System.out.println(&quot;You got it in &quot;);\r\n            }\r\n            else if (JPS_Guess &lt; JPS_CorrectNum &amp;&amp; JPS_Guess &gt;= 1)\r\n            {\r\n                System.out.println(&quot;Too low. Try again.&quot;);\r\n                JPS_NextGuess = Input.nextInt();\r\n                JPS_Guess = JPS_NextGuess;\r\n            }\r\n            else if (JPS_Guess &gt; JPS_CorrectNum &amp;&amp; JPS_Guess &lt;= 50)\r\n            {\r\n                System.out.println(&quot;Too High. Try again.&quot;);\r\n                JPS_NextGuess = Input.nextInt();\r\n                JPS_Guess = JPS_NextGuess;\r\n            }\r\n            else if(JPS_Guess &lt; 1 || JPS_Guess &gt; 50)\r\n            {\r\n                throw new InputMismatchException();\r\n            }\r\n    }\r\n         catch(InputMismatchException e) \r\n         {\r\n            System.out.println(&quot;Invalid value. Please enter a number between 1 and 50: &quot;);\r\n            JPS_NextGuess = Input.nextInt();\r\n            JPS_Guess = JPS_NextGuess;\r\n         }   \r\n          catch (NumberFormatException ex) \r\n         {\r\n            System.out.println(&quot;Error - Enter Numerical Values Only&quot;);\r\n            JPS_NextGuess = Input.nextInt();\r\n            JPS_Guess = JPS_NextGuess;\r\n         }  \r\n    }\r\n    while (JPS_Guess != JPS_CorrectNum);//will rerun the program until the user guess the correct number   \r\n}\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n}\r\n\r\n}\r\n\r\nI&#39;m not sure where I made the mistake. Either the use of the throw catch or maybe because of the way I rerun the program. I&#39;m pretty new to using exception and try-catch Please help and be kind. Thank you.","title":"I can&#39;t use NumberFormatExeption. The program should continue even if the user input a string or non-number","body":"<h1>Guessing the number</h1>\n<pre><code>import java.util.*;\n\npublic class LabExer5A\n{\n    public static void main(String args[])\n    {       \n        Scanner Input = new Scanner (System.in); \n        System.out.println(&quot;Guess a number between 1 and 50&quot;);\n        int JPS_Guess = Input.nextInt();\n        int JPS_CorrectNum = 25;\n        int JPS_NextGuess;  \n    do\n    {\n    try\n    {\n            if (JPS_Guess == JPS_CorrectNum)\n            {\n                System.out.println(&quot;You got it in &quot;);\n            }\n            else if (JPS_Guess &lt; JPS_CorrectNum &amp;&amp; JPS_Guess &gt;= 1)\n            {\n                System.out.println(&quot;Too low. Try again.&quot;);\n                JPS_NextGuess = Input.nextInt();\n                JPS_Guess = JPS_NextGuess;\n            }\n            else if (JPS_Guess &gt; JPS_CorrectNum &amp;&amp; JPS_Guess &lt;= 50)\n            {\n                System.out.println(&quot;Too High. Try again.&quot;);\n                JPS_NextGuess = Input.nextInt();\n                JPS_Guess = JPS_NextGuess;\n            }\n            else if(JPS_Guess &lt; 1 || JPS_Guess &gt; 50)\n            {\n                throw new InputMismatchException();\n            }\n    }\n         catch(InputMismatchException e) \n         {\n            System.out.println(&quot;Invalid value. Please enter a number between 1 and 50: &quot;);\n            JPS_NextGuess = Input.nextInt();\n            JPS_Guess = JPS_NextGuess;\n         }   \n          catch (NumberFormatException ex) \n         {\n            System.out.println(&quot;Error - Enter Numerical Values Only&quot;);\n            JPS_NextGuess = Input.nextInt();\n            JPS_Guess = JPS_NextGuess;\n         }  \n    }\n    while (JPS_Guess != JPS_CorrectNum);//will rerun the program until the user guess the correct number   \n}\n}\n\n\n</code></pre>\n<p>}</p>\n<p>}</p>\n<p>I'm not sure where I made the mistake. Either the use of the throw catch or maybe because of the way I rerun the program. I'm pretty new to using exception and try-catch Please help and be kind. Thank you.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1648811777,"post_id":71705403,"comment_id":126724777,"body_markdown":"Do you mean, you want to change color state of the the imageView?","body":"Do you mean, you want to change color state of the the imageView?"},{"owner":{"account_id":20392891,"reputation":19,"user_id":14960413,"display_name":"tahoura hr"},"score":0,"creation_date":1648811911,"post_id":71705403,"comment_id":126724822,"body_markdown":"I want to fill many color in one imageView","body":"I want to fill many color in one imageView"},{"owner":{"account_id":24603658,"reputation":85,"user_id":18506174,"display_name":"Amirhussein"},"score":0,"creation_date":1648816761,"post_id":71705403,"comment_id":126726581,"body_markdown":"it&#39;s impossible","body":"it&#39;s impossible"},{"owner":{"account_id":20392891,"reputation":19,"user_id":14960413,"display_name":"tahoura hr"},"score":0,"creation_date":1648897307,"post_id":71705403,"comment_id":126742699,"body_markdown":"I find this solution https://stackoverflow.com/questions/6371999/android-fill-image-with-colors. But it leave space and point arround the picture. Have a solution. Thanks","body":"I find this solution <a href=\"https://stackoverflow.com/questions/6371999/android-fill-image-with-colors\" title=\"android fill image with colors\">stackoverflow.com/questions/6371999/&hellip;</a>. But it leave space and point arround the picture. Have a solution. Thanks"}],"owner":{"account_id":20392891,"reputation":19,"user_id":14960413,"display_name":"tahoura hr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648808893,"creation_date":1648808442,"question_id":71705403,"body_markdown":"I am trying to color the jpeg image from drawable on clicking. In my project, I have an image of a tree with fruit. I want to color a tree on click with a green color and a fruit with a red color.\r\n\r\nI  am trying this code :\r\n\r\n    ImageView chngColor = (ImageView) convertView.findViewById(R.id.imageView);\r\n                int red = Color.parseColor(&quot;#FFF53241&quot;);\r\n                chngColor.setColorFilter(red);\r\n\r\nBut this code renders all the picture red which means I have a red rectangle.\r\n\r\n\r\nThanks","title":"How to change color of different part of image in android by clicking","body":"<p>I am trying to color the jpeg image from drawable on clicking. In my project, I have an image of a tree with fruit. I want to color a tree on click with a green color and a fruit with a red color.</p>\n<p>I  am trying this code :</p>\n<pre><code>ImageView chngColor = (ImageView) convertView.findViewById(R.id.imageView);\n            int red = Color.parseColor(&quot;#FFF53241&quot;);\n            chngColor.setColorFilter(red);\n</code></pre>\n<p>But this code renders all the picture red which means I have a red rectangle.</p>\n<p>Thanks</p>\n"},{"tags":["java","jsp","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":24776990,"reputation":9,"user_id":18660559,"display_name":"Florent B"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648808873,"creation_date":1648808873,"answer_id":71705474,"question_id":71696879,"body_markdown":"You can use a Reverse proxy (Nginx/Apache) to manage access to dynamic back service and serve static files efficiently.","title":"How to put my tomcat servlet / jsp pages under the www folder?","body":"<p>You can use a Reverse proxy (Nginx/Apache) to manage access to dynamic back service and serve static files efficiently.</p>\n"}],"owner":{"account_id":24762165,"reputation":31,"user_id":18646425,"display_name":"neozero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1648808873,"creation_date":1648747834,"question_id":71696879,"body_markdown":"I don&#39;t have much experience in server side webdev and I want to ask a specific question.\r\n\r\nMy goal is to have my static html code coexist with my dynamic jsp/servlet pages without having the 8080 port. I want them both to be at 80 port.\r\n\r\n\r\nFor Instance I want to be able to type the following urls:\r\n\r\n    mywebsite.com/index.html &lt;-- static home page\r\n    \r\n    mywebsite.com/folder/page.html &lt;-- static page\r\n    \r\n    mywebsite.com/myApp/index.jsp &lt;-- dynamic jsp page (without the 8080)\r\n    \r\n    mywebsite.com/myApp/folder/ &lt;-- dynamic servlet page (without the 8080)\r\n\r\nI don&#39;t want to have the following urls:\r\n\r\n    mywebsite.com:8080/myApp/index.jsp\r\n    \r\n    mywebsite.com:8080/myApp/folder/\r\n\r\n\r\nHow do I manage to do that ? Thanks.\r\n","title":"How to put my tomcat servlet / jsp pages under the www folder?","body":"<p>I don't have much experience in server side webdev and I want to ask a specific question.</p>\n<p>My goal is to have my static html code coexist with my dynamic jsp/servlet pages without having the 8080 port. I want them both to be at 80 port.</p>\n<p>For Instance I want to be able to type the following urls:</p>\n<pre><code>mywebsite.com/index.html &lt;-- static home page\n\nmywebsite.com/folder/page.html &lt;-- static page\n\nmywebsite.com/myApp/index.jsp &lt;-- dynamic jsp page (without the 8080)\n\nmywebsite.com/myApp/folder/ &lt;-- dynamic servlet page (without the 8080)\n</code></pre>\n<p>I don't want to have the following urls:</p>\n<pre><code>mywebsite.com:8080/myApp/index.jsp\n\nmywebsite.com:8080/myApp/folder/\n</code></pre>\n<p>How do I manage to do that ? Thanks.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","validation"],"comments":[{"owner":{"account_id":15792659,"reputation":92,"user_id":11395466,"display_name":"hous"},"score":0,"creation_date":1648772304,"post_id":71700206,"comment_id":126715863,"body_markdown":"Does this answer your question? [Populating Spring @Value during Unit Test](https://stackoverflow.com/questions/17353327/populating-spring-value-during-unit-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17353327/populating-spring-value-during-unit-test\">Populating Spring @Value during Unit Test</a>"}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648808736,"creation_date":1648808431,"answer_id":71705400,"question_id":71700206,"body_markdown":"The problem is that `DATE_FORMAT` is not injected into your test class, so you get a NullPointerException.\r\n\r\nTwo way to solve it\r\n\r\n1. use `@SpringBootTest`. Check this:  https://www.baeldung.com/spring-tests-override-properties\r\n\r\n2. a more clean way: without any Spring annotation. This makes the test code much simpler. Just refactor your code:\r\n\r\n```\r\n// in your production code:\r\npublic class ReportRequestValidator {\r\n\r\n  private String DATE_FORMAT;\r\n\r\n  // package-private constructor for test \r\n  ReportRequestValidator (@Value(&quot;${sms.date.format:ddMMyyyy}&quot;) String dateFormat) {\r\n     DATE_FORMAT = dateFormat;\r\n  }\r\n\r\n  // business logic...\r\n \r\n}\r\n\r\n\r\n// in your test code\r\n\r\n@Rule\r\npublic ExpectedException expectedEx;\r\n\r\n@Before\r\npublic void init() {\r\n  expectedEx = ExpectedException.none();\r\n}\r\n\r\n@Test\r\npublic void testValidateDates() {\r\n    String DATE_FORMAT = &quot;PROVIDE_DATE_FORMAT_STRING_BY_YOURSELF&quot;;\r\n    ReportRequest reportRequest = new ReportRequest();\r\n    ReportRequest.setStartDate(&quot;0104202199&quot;);\r\n    ReportRequestValidator reportRequestValidator = new ReportRequestValidator(DATE_FORMAT);    // inject DATE_FORMAT into validator\r\n\r\n    ReportRequestValidator.validateDates(reportRequest);\r\n\r\n    expectedEx.expect(InvalidInputException.class);\r\n    expectedEx.expectMessage(&quot;Invalid start date format, must be as : 0104202199&quot;);\r\n}\r\n```\r\n","title":"How can i write unit test for ddmmYYYY validation with use java/spring?","body":"<p>The problem is that <code>DATE_FORMAT</code> is not injected into your test class, so you get a NullPointerException.</p>\n<p>Two way to solve it</p>\n<ol>\n<li><p>use <code>@SpringBootTest</code>. Check this:  <a href=\"https://www.baeldung.com/spring-tests-override-properties\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-tests-override-properties</a></p>\n</li>\n<li><p>a more clean way: without any Spring annotation. This makes the test code much simpler. Just refactor your code:</p>\n</li>\n</ol>\n<pre><code>// in your production code:\npublic class ReportRequestValidator {\n\n  private String DATE_FORMAT;\n\n  // package-private constructor for test \n  ReportRequestValidator (@Value(&quot;${sms.date.format:ddMMyyyy}&quot;) String dateFormat) {\n     DATE_FORMAT = dateFormat;\n  }\n\n  // business logic...\n \n}\n\n\n// in your test code\n\n@Rule\npublic ExpectedException expectedEx;\n\n@Before\npublic void init() {\n  expectedEx = ExpectedException.none();\n}\n\n@Test\npublic void testValidateDates() {\n    String DATE_FORMAT = &quot;PROVIDE_DATE_FORMAT_STRING_BY_YOURSELF&quot;;\n    ReportRequest reportRequest = new ReportRequest();\n    ReportRequest.setStartDate(&quot;0104202199&quot;);\n    ReportRequestValidator reportRequestValidator = new ReportRequestValidator(DATE_FORMAT);    // inject DATE_FORMAT into validator\n\n    ReportRequestValidator.validateDates(reportRequest);\n\n    expectedEx.expect(InvalidInputException.class);\n    expectedEx.expectMessage(&quot;Invalid start date format, must be as : 0104202199&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":19736773,"reputation":41,"user_id":14451075,"display_name":"stromboli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648808736,"creation_date":1648769166,"question_id":71700206,"body_markdown":"        Accepting DateFormat : 01042021\r\n\r\n 1. List item\r\n\r\n        Incorrect DateFormat : 9901042021 or 0104202199 etc.\r\n    \r\n    My date validation code blocks:\r\n        \r\n        \r\n            @Value(&quot;${sms.date.format:ddMMyyyy}&quot;)\r\n            private String DATE_FORMAT;\r\n            \r\n            public void validateDates(ReportRequest request){\r\n            \r\n                DateFormat dateFormat = new SimpleDateFormat(DATE_FORMAT);\r\n            \r\n                if(StringUtils.isNotBlank(request.getStartDate())){\r\n                    try{\r\n                        dateFormat.parse(request.getStartDate());\r\n                    }catch (Exception e){\r\n                        throw new InvalidInputException(&quot;Invalid start date format, must be as : &quot; +DATE_FORMAT);\r\n                    }\r\n                } else {\r\n                    throw new InvalidInputException(&quot;Contract start date is empty&quot;);\r\n            \r\n                }\r\n            \r\n                if(StringUtils.isNotBlank(request.getEndDate())){\r\n                    try{\r\n                        dateFormat.parse(request.getEndDate());\r\n                    }catch (Exception e){\r\n                        throw new InvalidInputException(&quot;Invalid end date format, must be as : &quot; +DATE_FORMAT);\r\n                    }\r\n                } else {\r\n                    throw new InvalidInputException(&quot;Contract end date is empty&quot;);\r\n            \r\n                }\r\n            }\r\n        \r\n    My Unit Test: \r\n    Getting error on first line because dateformat is null how can i fix it?\r\n        \r\n        @Value(&quot;${sms.date.format:ddMMyyyy}&quot;)\r\n        private String DATE_FORMAT;\r\n        \r\n        public void testValidateDates() {\r\n        \r\n          \r\n                DateFormat dateFormat = new SimpleDateFormat(DATE_FORMAT);\r\n                ReportRequest reportRequest = new ReportRequest();\r\n                ReportRequest.setStartDate(&quot;0104202199&quot;);\r\n                ReportRequestValidator reportRequestValidator = new ReportRequestValidator();\r\n                ReportRequestValidator.validateDates(reportRequest);\r\n                assertEquals(&quot;Invalid start date format, must be as : &quot;,&quot;0104202199&quot;);\r\n        \r\n            }\r\n    \r\n    How should I use the assert function, what should the condition be?","title":"How can i write unit test for ddmmYYYY validation with use java/spring?","body":"<pre><code>    Accepting DateFormat : 01042021\n</code></pre>\n<ol>\n<li><p>List item</p>\n<pre><code>Incorrect DateFormat : 9901042021 or 0104202199 etc.\n</code></pre>\n<p>My date validation code blocks:</p>\n<pre><code>    @Value(&quot;${sms.date.format:ddMMyyyy}&quot;)\n    private String DATE_FORMAT;\n\n    public void validateDates(ReportRequest request){\n\n        DateFormat dateFormat = new SimpleDateFormat(DATE_FORMAT);\n\n        if(StringUtils.isNotBlank(request.getStartDate())){\n            try{\n                dateFormat.parse(request.getStartDate());\n            }catch (Exception e){\n                throw new InvalidInputException(&quot;Invalid start date format, must be as : &quot; +DATE_FORMAT);\n            }\n        } else {\n            throw new InvalidInputException(&quot;Contract start date is empty&quot;);\n\n        }\n\n        if(StringUtils.isNotBlank(request.getEndDate())){\n            try{\n                dateFormat.parse(request.getEndDate());\n            }catch (Exception e){\n                throw new InvalidInputException(&quot;Invalid end date format, must be as : &quot; +DATE_FORMAT);\n            }\n        } else {\n            throw new InvalidInputException(&quot;Contract end date is empty&quot;);\n\n        }\n    }\n</code></pre>\n<p>My Unit Test:\nGetting error on first line because dateformat is null how can i fix it?</p>\n<pre><code>@Value(&quot;${sms.date.format:ddMMyyyy}&quot;)\nprivate String DATE_FORMAT;\n\npublic void testValidateDates() {\n\n\n        DateFormat dateFormat = new SimpleDateFormat(DATE_FORMAT);\n        ReportRequest reportRequest = new ReportRequest();\n        ReportRequest.setStartDate(&quot;0104202199&quot;);\n        ReportRequestValidator reportRequestValidator = new ReportRequestValidator();\n        ReportRequestValidator.validateDates(reportRequest);\n        assertEquals(&quot;Invalid start date format, must be as : &quot;,&quot;0104202199&quot;);\n\n    }\n</code></pre>\n<p>How should I use the assert function, what should the condition be?</p>\n</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"score":0,"creation_date":1648802465,"post_id":71704044,"comment_id":126721587,"body_markdown":"Well, the name of the compiled binary file. The name of the source code file must end in `.java`.","body":"Well, the name of the compiled binary file. The name of the source code file must end in <code>.java</code>."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1648802471,"post_id":71704044,"comment_id":126721588,"body_markdown":"afaik the classpath needs to be set to the folder that contains the `m` folder in this case. What folder are you running this command in?","body":"afaik the classpath needs to be set to the folder that contains the <code>m</code> folder in this case. What folder are you running this command in?"},{"owner":{"account_id":24529372,"reputation":320,"user_id":18441431,"display_name":"Rob"},"score":0,"creation_date":1648802518,"post_id":71704044,"comment_id":126721596,"body_markdown":"You can run it with `javac main1.java` then `java main1`","body":"You can run it with <code>javac main1.java</code> then <code>java main1</code>"},{"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"score":1,"creation_date":1648803706,"post_id":71704044,"comment_id":126721953,"body_markdown":"@f1sh I was trying to run class from the same folder where it was located. Now it works!","body":"@f1sh I was trying to run class from the same folder where it was located. Now it works!"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1648804526,"post_id":71704044,"comment_id":126722255,"body_markdown":"When I enter the title of your question in the search box at the top of this Web page, I get over 3,000 [results](https://stackoverflow.com/search?q=Run+java+class+from+command+line). Doesn&#39;t any one of them solve your problem?","body":"When I enter the title of your question in the search box at the top of this Web page, I get over 3,000 <a href=\"https://stackoverflow.com/search?q=Run+java+class+from+command+line\">results</a>. Doesn&#39;t any one of them solve your problem?"}],"answers":[{"tags":[],"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648808563,"creation_date":1648803678,"answer_id":71704374,"question_id":71704044,"body_markdown":"Java 11 and above, you can simply do  \r\n`java filename.java`  \r\n\r\nTill Java 11,  \r\n`javac filename.java`  \r\n`java filename`","title":"Run java class from command line","body":"<p>Java 11 and above, you can simply do<br />\n<code>java filename.java</code></p>\n<p>Till Java 11,<br />\n<code>javac filename.java</code><br />\n<code>java filename</code></p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648805135,"creation_date":1648805135,"answer_id":71704678,"question_id":71704044,"body_markdown":"    javac -d . main1.java\r\n    java -cp . m.main1\r\n\r\n\r\n\r\n(Your source *not* in a package tree, but in the current directory)","title":"Run java class from command line","body":"<pre><code>javac -d . main1.java\njava -cp . m.main1\n</code></pre>\n<p>(Your source <em>not</em> in a package tree, but in the current directory)</p>\n"}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1648808563,"creation_date":1648802110,"question_id":71704044,"body_markdown":"I have java class file `main1.class`, which code in `main1.java` :\r\n\r\n    package m;\r\n    \r\n    public class main1 {\r\n    \t \r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n        System.out.println(&quot;*** start ***&quot;);    \r\n    \t}\r\n    }\r\n\r\n\r\nTrying to run\r\n\r\nAttempt 1:\r\n\r\n    java -cp . main1\r\n\r\nGot error: \r\n\r\n    Error: Could not find or load main class main1\r\n    Caused by: java.lang.NoClassDefFoundError: m/main1 (wrong name: main1)\r\n\r\n\r\nAttept 2:\r\n\r\n    java -cp . m.main1\r\n\r\nGot error: \r\n\r\n    Error: Could not find or load main class m.main1\r\n    Caused by: java.lang.ClassNotFoundException: m.main1","title":"Run java class from command line","body":"<p>I have java class file <code>main1.class</code>, which code in <code>main1.java</code> :</p>\n<pre><code>package m;\n\npublic class main1 {\n     \n    public static void main(String[] args) \n    {\n    System.out.println(&quot;*** start ***&quot;);    \n    }\n}\n</code></pre>\n<p>Trying to run</p>\n<p>Attempt 1:</p>\n<pre><code>java -cp . main1\n</code></pre>\n<p>Got error:</p>\n<pre><code>Error: Could not find or load main class main1\nCaused by: java.lang.NoClassDefFoundError: m/main1 (wrong name: main1)\n</code></pre>\n<p>Attept 2:</p>\n<pre><code>java -cp . m.main1\n</code></pre>\n<p>Got error:</p>\n<pre><code>Error: Could not find or load main class m.main1\nCaused by: java.lang.ClassNotFoundException: m.main1\n</code></pre>\n"},{"tags":["java","format","zero-padding"],"comments":[{"owner":{"account_id":24365143,"reputation":5,"user_id":18298993,"display_name":"komplRX"},"score":0,"creation_date":1648808552,"post_id":71704710,"comment_id":126723683,"body_markdown":"Yes, sorry let me rephrase it","body":"Yes, sorry let me rephrase it"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648809352,"post_id":71704710,"comment_id":126723973,"body_markdown":"You want to have a **4** digit number, but for some reason decided to specify **5** in your format string…","body":"You want to have a <b>4</b> digit number, but for some reason decided to specify <b>5</b> in your format string…"},{"owner":{"account_id":24365143,"reputation":5,"user_id":18298993,"display_name":"komplRX"},"score":0,"creation_date":1648810111,"post_id":71704710,"comment_id":126724193,"body_markdown":"The user enters 1 digit should format to : 000x, 2 digits to: 00xx, 3 digits to: 0xxx, 4 digits to xxxx, 5 digits to xxxxx","body":"The user enters 1 digit should format to : 000x, 2 digits to: 00xx, 3 digits to: 0xxx, 4 digits to xxxx, 5 digits to xxxxx"}],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648808384,"creation_date":1648808048,"answer_id":71705317,"question_id":71704710,"body_markdown":"Try `%04d` instead:\r\n* `0` indicates what you&#39;re using to pad;\r\n* `4` is the width of the number (you had `5` before);\r\n* `d` represents an integer (incl. byte, short, int, long, bigint).\r\n```\r\nString.format(&quot;%04d&quot;, Integer.parseInt(something));\r\n```","title":"Left zero padded format numbers","body":"<p>Try <code>%04d</code> instead:</p>\n<ul>\n<li><code>0</code> indicates what you're using to pad;</li>\n<li><code>4</code> is the width of the number (you had <code>5</code> before);</li>\n<li><code>d</code> represents an integer (incl. byte, short, int, long, bigint).</li>\n</ul>\n<pre><code>String.format(&quot;%04d&quot;, Integer.parseInt(something));\n</code></pre>\n"}],"owner":{"account_id":24365143,"reputation":5,"user_id":18298993,"display_name":"komplRX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":846,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71705317,"answer_count":1,"score":0,"last_activity_date":1648808562,"creation_date":1648805247,"question_id":71704710,"body_markdown":"I want to format 4-digit numbers with left padded zeros and 5-digit numbers with no leading zeros so when e.g: \r\n\r\n - I insert 124 it is formatted to 0124.\r\n - 30 is formatted to 0030.\r\n - When number &gt;9999 then it has no zero padding.\r\n\r\nI tried `String.format(&quot;%05d&quot;, Integer.parseInt(something));`\r\n\r\nbut when I format 124, I get 00124\r\n\r\n","title":"Left zero padded format numbers","body":"<p>I want to format 4-digit numbers with left padded zeros and 5-digit numbers with no leading zeros so when e.g:</p>\n<ul>\n<li>I insert 124 it is formatted to 0124.</li>\n<li>30 is formatted to 0030.</li>\n<li>When number &gt;9999 then it has no zero padding.</li>\n</ul>\n<p>I tried <code>String.format(&quot;%05d&quot;, Integer.parseInt(something));</code></p>\n<p>but when I format 124, I get 00124</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1648875737,"post_id":71705422,"comment_id":126739948,"body_markdown":"Apache POI does not have that functionality. And I doubt it will have in next future, since even the more basically functionalities are not really ready until now. Microsoft develops Microsoft Office since decades, having thousands of employed developers. And the Apache POI project is trying to catch up that with just a handful of volunteers.","body":"Apache POI does not have that functionality. And I doubt it will have in next future, since even the more basically functionalities are not really ready until now. Microsoft develops Microsoft Office since decades, having thousands of employed developers. And the Apache POI project is trying to catch up that with just a handful of volunteers."},{"owner":{"account_id":8745385,"reputation":715,"user_id":6540869,"accept_rate":33,"display_name":"Oskar Woźniak"},"score":0,"creation_date":1649017906,"post_id":71705422,"comment_id":126763800,"body_markdown":"Axel, are there any replacements which allows that? - that would help a lot","body":"Axel, are there any replacements which allows that? - that would help a lot"}],"owner":{"account_id":8745385,"reputation":715,"user_id":6540869,"accept_rate":33,"display_name":"Oskar Woźniak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648808549,"creation_date":1648808549,"question_id":71705422,"body_markdown":"I have a lot of charts\r\nApache POI seems to don&#39;t be as functional as I would like it to be\r\nEach time I need to apply Chart Template to Chart in excel\r\n\r\nHow to import Chart File &quot;.crtx&quot;?","title":"Java - Apache POI - Import Chart Style from file &quot;.crtx&quot;","body":"<p>I have a lot of charts\nApache POI seems to don't be as functional as I would like it to be\nEach time I need to apply Chart Template to Chart in excel</p>\n<p>How to import Chart File &quot;.crtx&quot;?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1648323645,"post_id":71631118,"comment_id":126597022,"body_markdown":"Tip: `ContactList` class should be named `Contact`.  Descriptive naming will make your code easier to comprehend.","body":"Tip: <code>ContactList</code> class should be named <code>Contact</code>.  Descriptive naming will make your code easier to comprehend."}],"answers":[{"tags":[],"owner":{"account_id":18041877,"reputation":18,"user_id":13113770,"display_name":"vaquilina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648323781,"creation_date":1648323781,"answer_id":71631271,"question_id":71631118,"body_markdown":"Looks like you can just create a new `PersonalContact`/`BusinessContact`  object inside your `addContact()`, initialized with the data you just got from the user, and add that to the end of the ArrayList using the `add()` method.\r\n\r\nFor `BusinessContact`, the job title and organization fields are missing from the constructor parameter list, so you will need to add those.\r\n\r\nFor `PersonalContact`, you&#39;ve chosen to store the phoneNumber and dateOfBirth fields as integers, so you&#39;ll need to use the appropriate `Scanner` methods to get that data and cast it appropriately.\r\n\r\nPerhaps you should also indicate to the `addContact` method whether the contact will be a `BusinessContact` or a `PersonalContact` so you know what type of object to construct at the end:\r\n\r\n`contactLists.add(new BusinessContact(fName, lName, address, phoneNumber, email, jobTitle, organization);`\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html#add(E)","title":"How do I add new user data inside a class ArrayList","body":"<p>Looks like you can just create a new <code>PersonalContact</code>/<code>BusinessContact</code>  object inside your <code>addContact()</code>, initialized with the data you just got from the user, and add that to the end of the ArrayList using the <code>add()</code> method.</p>\n<p>For <code>BusinessContact</code>, the job title and organization fields are missing from the constructor parameter list, so you will need to add those.</p>\n<p>For <code>PersonalContact</code>, you've chosen to store the phoneNumber and dateOfBirth fields as integers, so you'll need to use the appropriate <code>Scanner</code> methods to get that data and cast it appropriately.</p>\n<p>Perhaps you should also indicate to the <code>addContact</code> method whether the contact will be a <code>BusinessContact</code> or a <code>PersonalContact</code> so you know what type of object to construct at the end:</p>\n<p><code>contactLists.add(new BusinessContact(fName, lName, address, phoneNumber, email, jobTitle, organization);</code></p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html#add(E)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html#add(E)</a></p>\n"},{"tags":[],"owner":{"account_id":16215668,"reputation":9,"user_id":11708570,"display_name":"Vladmix6"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648808545,"creation_date":1648808545,"answer_id":71705419,"question_id":71631118,"body_markdown":"There are multiple problems with your code from OOP perspective. But tring dirrectlly to answer your question you have to do 2 things:\r\n\r\n 1. In **ContactList** class you are missing all the **SETTERs** for the class private fields (which right now are default, you should make them private). Those could help you if you want to change any values related to these fields. This will allow you to set a value for each of the class atributes, which brings us to the next thing.\r\n 2. In **Main** class at the line: \r\n\r\n&gt; String data = (lName + lName + address + phoneNumber + email);\r\n\r\nYou should create a new ClientList object via it&#39;s constructor and populate it&#39;s attributes with the values that you have just read from the user:\r\n\r\n    contactLists.add(new ContactList(fName, lName, address, phoneNumber, email));\r\n","title":"How do I add new user data inside a class ArrayList","body":"<p>There are multiple problems with your code from OOP perspective. But tring dirrectlly to answer your question you have to do 2 things:</p>\n<ol>\n<li>In <strong>ContactList</strong> class you are missing all the <strong>SETTERs</strong> for the class private fields (which right now are default, you should make them private). Those could help you if you want to change any values related to these fields. This will allow you to set a value for each of the class atributes, which brings us to the next thing.</li>\n<li>In <strong>Main</strong> class at the line:</li>\n</ol>\n<blockquote>\n<p>String data = (lName + lName + address + phoneNumber + email);</p>\n</blockquote>\n<p>You should create a new ClientList object via it's constructor and populate it's attributes with the values that you have just read from the user:</p>\n<pre><code>contactLists.add(new ContactList(fName, lName, address, phoneNumber, email));\n</code></pre>\n"}],"owner":{"display_name":"user17639338"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71631271,"answer_count":2,"score":0,"last_activity_date":1648808545,"creation_date":1648322504,"question_id":71631118,"body_markdown":"Sorry if I&#39;m not explaining this correctly, but how would I add new contact information into. \r\n\r\nI&#39;m working on a personal project and trying to add data into an arraylist list. I created  input for the user to enter the information but how do I go about adding the information into the array list? \r\n\r\n ArrayList&lt;ContactList&gt; contactLists = new ArrayList&lt;&gt;();\r\n\r\n\r\nMain Class:\r\n\r\n    package com.ContactList;\r\n    \r\n    import javax.swing.*;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        ArrayList&lt;ContactList&gt; contactLists = new ArrayList&lt;&gt;();\r\n    \r\n        public static void main(String[] args) {\r\n            displayMen();\r\n        }\r\n    \r\n    \r\n        public static void displayMen() {\r\n    \r\n            do {\r\n    \r\n                System.out.println(&quot;Please choose from the following selection \\n press 2 add a business contact \\n press 2 to a personal contact \\n press 3 to display your contact list&quot;);\r\n    \r\n                Scanner sc = new Scanner(System.in);\r\n                int select = sc.nextInt();\r\n    \r\n                switch (select) {\r\n                    case 1:\r\n                        //use this to add a business contact\r\n                        // System.out.println(&quot;This is a test ot see the code is working&quot;);\r\n                        addContact();\r\n                        break;\r\n                    case 2:\r\n                        //use this to add a personal contact\r\n    \r\n                        break;\r\n                    case 3:\r\n                        //allow the user to display the contact information\r\n                        break;\r\n                    case 4:\r\n                        //this is to quit the program\r\n                }\r\n    \r\n            } while (true);\r\n        }\r\n    \r\n        public static void addContact() {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Please enter the user first name&quot;);\r\n            String fNmae = sc.next();\r\n            System.out.println(&quot;Please enter the user last name&quot;);\r\n            String lName = sc.next();\r\n            System.out.println(&quot;Please enter the user address&quot;);\r\n            String address = sc.next();\r\n            System.out.println(&quot;Please enter the user phoneNumber&quot;);\r\n            String phoneNumber = sc.next();\r\n            System.out.println(&quot;Please enter the user email&quot;);\r\n            String email = sc.next();\r\n            String data = (lName + lName + address + phoneNumber + email);\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\nContactList Class: \r\n\r\n    package com.ContactList;\r\n    \r\n    public class ContactList {\r\n    \r\n        String firstName;\r\n        String lastName;\r\n        String address;\r\n        String phoneNumber;\r\n        String email;\r\n    \r\n        public void contactList(String firstName, String lastName, String address, String phoneNumber, String email){\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.address = address;\r\n            this.phoneNumber = phoneNumber;\r\n            this.email = email;\r\n        }\r\n    \r\n    \r\n        //Getter Methods\r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public int getPhoneNumber() {\r\n            return phoneNumber;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    }\r\n\r\n\r\nBusiness Contact class:\r\n\r\n    package com.ContactList;\r\n    \r\n    public class BusinessContact extends ContactList{\r\n    \r\n        String jobTitle;\r\n        String organization;\r\n    \r\n    \r\n        public void businessContact(String firstName, String lastName, String address, String phoneNumber, String email) {\r\n            super.contactList(firstName, lastName, address, phoneNumber, email);\r\n            this.jobTitle = jobTitle;\r\n            this.organization = organization;\r\n        }\r\n    }\r\n\r\n\r\nPersonalContact class:\r\n\r\n    public class PersonalContact extends ContactList{\r\n    \r\n        int dateOfBirth;\r\n    \r\n    \r\n        public void PersonalContact(String firstName, String lastName, String address, int phoneNumber, String email, int dateOfBirth) {\r\n            super.contactList(firstName, lastName, address, phoneNumber, email);\r\n    \r\n            this.dateOfBirth = dateOfBirth;\r\n        }\r\n    \r\n        public int getDateOfBirth() {\r\n            return dateOfBirth;\r\n        }\r\n    }\r\n\r\n\r\n","title":"How do I add new user data inside a class ArrayList","body":"<p>Sorry if I'm not explaining this correctly, but how would I add new contact information into.</p>\n<p>I'm working on a personal project and trying to add data into an arraylist list. I created  input for the user to enter the information but how do I go about adding the information into the array list?</p>\n<p>ArrayList contactLists = new ArrayList&lt;&gt;();</p>\n<p>Main Class:</p>\n<pre><code>package com.ContactList;\n\nimport javax.swing.*;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n\n    ArrayList&lt;ContactList&gt; contactLists = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n        displayMen();\n    }\n\n\n    public static void displayMen() {\n\n        do {\n\n            System.out.println(&quot;Please choose from the following selection \\n press 2 add a business contact \\n press 2 to a personal contact \\n press 3 to display your contact list&quot;);\n\n            Scanner sc = new Scanner(System.in);\n            int select = sc.nextInt();\n\n            switch (select) {\n                case 1:\n                    //use this to add a business contact\n                    // System.out.println(&quot;This is a test ot see the code is working&quot;);\n                    addContact();\n                    break;\n                case 2:\n                    //use this to add a personal contact\n\n                    break;\n                case 3:\n                    //allow the user to display the contact information\n                    break;\n                case 4:\n                    //this is to quit the program\n            }\n\n        } while (true);\n    }\n\n    public static void addContact() {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Please enter the user first name&quot;);\n        String fNmae = sc.next();\n        System.out.println(&quot;Please enter the user last name&quot;);\n        String lName = sc.next();\n        System.out.println(&quot;Please enter the user address&quot;);\n        String address = sc.next();\n        System.out.println(&quot;Please enter the user phoneNumber&quot;);\n        String phoneNumber = sc.next();\n        System.out.println(&quot;Please enter the user email&quot;);\n        String email = sc.next();\n        String data = (lName + lName + address + phoneNumber + email);\n\n\n\n\n\n    }\n\n\n}\n</code></pre>\n<p>ContactList Class:</p>\n<pre><code>package com.ContactList;\n\npublic class ContactList {\n\n    String firstName;\n    String lastName;\n    String address;\n    String phoneNumber;\n    String email;\n\n    public void contactList(String firstName, String lastName, String address, String phoneNumber, String email){\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.address = address;\n        this.phoneNumber = phoneNumber;\n        this.email = email;\n    }\n\n\n    //Getter Methods\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public int getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n}\n</code></pre>\n<p>Business Contact class:</p>\n<pre><code>package com.ContactList;\n\npublic class BusinessContact extends ContactList{\n\n    String jobTitle;\n    String organization;\n\n\n    public void businessContact(String firstName, String lastName, String address, String phoneNumber, String email) {\n        super.contactList(firstName, lastName, address, phoneNumber, email);\n        this.jobTitle = jobTitle;\n        this.organization = organization;\n    }\n}\n</code></pre>\n<p>PersonalContact class:</p>\n<pre><code>public class PersonalContact extends ContactList{\n\n    int dateOfBirth;\n\n\n    public void PersonalContact(String firstName, String lastName, String address, int phoneNumber, String email, int dateOfBirth) {\n        super.contactList(firstName, lastName, address, phoneNumber, email);\n\n        this.dateOfBirth = dateOfBirth;\n    }\n\n    public int getDateOfBirth() {\n        return dateOfBirth;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":18159713,"reputation":12916,"user_id":13211263,"display_name":"lpizzinidev"},"score":0,"creation_date":1648797283,"post_id":71702655,"comment_id":126719913,"body_markdown":"As @BhoomikaPatel suggested, you can use `setOnClickListener`&#160;on it. Also, add the `android:clickable=&quot;true&quot;` and `android:focusable=&quot;true&quot;` attributes to the XML item","body":"As @BhoomikaPatel suggested, you can use <code>setOnClickListener</code> on it. Also, add the <code>android:clickable=&quot;true&quot;</code> and <code>android:focusable=&quot;true&quot;</code> attributes to the XML item"}],"answers":[{"tags":[],"owner":{"account_id":8736099,"reputation":1905,"user_id":6534707,"display_name":"Bhoomika Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648795236,"creation_date":1648795236,"answer_id":71702793,"question_id":71702655,"body_markdown":"You can manage it with `imageview.setOnClickListner` same like button&#39;s click listner.\r\n","title":"Make Image As Button With Link","body":"<p>You can manage it with <code>imageview.setOnClickListner</code> same like button's click listner.</p>\n"},{"tags":[],"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648808276,"creation_date":1648808276,"answer_id":71705365,"question_id":71702655,"body_markdown":"If you want to share your link on whatsapp. Or share anything on whatsapp from your app then you can use this code to do.\r\n\r\nFirst, add your ImageView to the ID. your id is `whatsappBtn`\r\n````\r\n&lt;ImageView\r\n        android:id=&quot;@+id/whatsappBtn&quot;\r\n        android:layout_width=&quot;20dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;12dp&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:contentDescription=&quot;@+id/imageView11&quot;\r\n        app:srcCompat=&quot;@drawable/wa&quot;\r\n        tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\r\n````\r\nand in your java code.\r\n````\r\nImageView = whatsappBtn;\r\nUri yourUrl = yourLink // here your link\r\n\r\nwhatsappBtn = findViewById(R.id.whatsappBtn);\r\n\r\nwhatsappBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent goToWhatsapp = new Intent();\r\n                        goToWhatsapp.setAction(Intent.ACTION_SEND);\r\n                        goToWhatsapp.setPackage(&quot;com.whatsapp&quot;);\r\n                        goToWhatsapp.setType(&quot;text/plain&quot;);\r\n                        goToWhatsapp.putExtra(Intent.EXTRA_TEXT,yourLink);//Extra text\r\n                        context.this.startActivity(goToWhatsapp); //context = your activity Name\r\n            }\r\n        });\r\n```` \r\nIf you have still a confusion. let me know","title":"Make Image As Button With Link","body":"<p>If you want to share your link on whatsapp. Or share anything on whatsapp from your app then you can use this code to do.</p>\n<p>First, add your ImageView to the ID. your id is <code>whatsappBtn</code></p>\n<pre><code>&lt;ImageView\n        android:id=&quot;@+id/whatsappBtn&quot;\n        android:layout_width=&quot;20dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;12dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:contentDescription=&quot;@+id/imageView11&quot;\n        app:srcCompat=&quot;@drawable/wa&quot;\n        tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\n</code></pre>\n<p>and in your java code.</p>\n<pre><code>ImageView = whatsappBtn;\nUri yourUrl = yourLink // here your link\n\nwhatsappBtn = findViewById(R.id.whatsappBtn);\n\nwhatsappBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent goToWhatsapp = new Intent();\n                        goToWhatsapp.setAction(Intent.ACTION_SEND);\n                        goToWhatsapp.setPackage(&quot;com.whatsapp&quot;);\n                        goToWhatsapp.setType(&quot;text/plain&quot;);\n                        goToWhatsapp.putExtra(Intent.EXTRA_TEXT,yourLink);//Extra text\n                        context.this.startActivity(goToWhatsapp); //context = your activity Name\n            }\n        });\n</code></pre>\n<p>If you have still a confusion. let me know</p>\n"}],"owner":{"account_id":24739897,"reputation":1,"user_id":18626775,"display_name":"Arief Krisnah Sholikhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648808276,"creation_date":1648794494,"question_id":71702655,"body_markdown":"&gt;in my .xml\r\n\r\n\r\n    &lt;ImageView\r\n            android:layout_width=&quot;20dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;12dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:contentDescription=&quot;@+id/imageView11&quot;\r\n            app:srcCompat=&quot;@drawable/wa&quot;\r\n            tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\r\n[enter image description here][1]\r\n\r\n \r\n\r\n\r\n\r\n&gt; How To Make This Image, to became Clickable and Redirect to some Url\r\nThank You\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WLYyr.png","title":"Make Image As Button With Link","body":"<blockquote>\n<p>in my .xml</p>\n</blockquote>\n<pre><code>&lt;ImageView\n        android:layout_width=&quot;20dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;12dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:contentDescription=&quot;@+id/imageView11&quot;\n        app:srcCompat=&quot;@drawable/wa&quot;\n        tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WLYyr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<blockquote>\n<p>How To Make This Image, to became Clickable and Redirect to some Url\nThank You</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","heroku"],"comments":[{"owner":{"account_id":145051,"reputation":130089,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1648533984,"post_id":71656784,"comment_id":126641147,"body_markdown":"Welcome to Stack Overflow. Unfortunately, your question isn&#39;t very clear. Please read [ask], then [edit] your question with as much detail as possible.","body":"Welcome to Stack Overflow. Unfortunately, your question isn&#39;t very clear. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, then <a href=\"https://stackoverflow.com/posts/71656784/edit\">edit</a> your question with as much detail as possible."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1648544245,"post_id":71656784,"comment_id":126644685,"body_markdown":"Also, make a [mre] by showing your code","body":"Also, make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> by showing your code"}],"answers":[{"tags":[],"owner":{"account_id":23669507,"reputation":5,"user_id":17696490,"display_name":"Semih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648808083,"creation_date":1648543277,"answer_id":71658975,"question_id":71656784,"body_markdown":"Problem solved, I made a mistake in procfile&#39;s commands\r\n\r\nBefore:\r\n```\r\njava -Dspring.profiles.active=prod -Dserver.port=$PORT -jar target/*.jar --add-opens java.base/java.time=ALL-UNNAMED\r\n```\r\nThen:\r\n```\r\njava -Dspring.profiles.active=prod -Dserver.port=$PORT --add-opens java.base/java.time=ALL-UNNAMED -jar target/*.jar\r\n```","title":"How can i use the --add-opens flag in heroku","body":"<p>Problem solved, I made a mistake in procfile's commands</p>\n<p>Before:</p>\n<pre><code>java -Dspring.profiles.active=prod -Dserver.port=$PORT -jar target/*.jar --add-opens java.base/java.time=ALL-UNNAMED\n</code></pre>\n<p>Then:</p>\n<pre><code>java -Dspring.profiles.active=prod -Dserver.port=$PORT --add-opens java.base/java.time=ALL-UNNAMED -jar target/*.jar\n</code></pre>\n"}],"owner":{"account_id":23669507,"reputation":5,"user_id":17696490,"display_name":"Semih"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71658975,"answer_count":1,"score":0,"last_activity_date":1648808083,"creation_date":1648530842,"question_id":71656784,"body_markdown":"i want to run the -- add-opens command in an application i distribute in every arrow, but i don&#39;t know where to add it in the cloud when i know where to add it in local\r\n\r\n&quot;Could not read JSON: Unable to make field private final int java.time.LocalDate.year accessible&quot;\r\n\r\ni was getting the error and\r\n\r\n&quot;https://stackoverflow.com/questions/70412805/what-does-this-error-mean-java-lang-reflect-inaccessibleobjectexception-unable&quot;\r\n\r\ni&#39;ve come to a solution with this method, but now i want to deploy my project on every arrow, but i don&#39;t know how to report the add-open command to my application on the server, i tried to add it as a procfile and environment variable, but it didn&#39;t\r\n\r\n(the application is crashed when i set the command to the environment variable)","title":"How can i use the --add-opens flag in heroku","body":"<p>i want to run the -- add-opens command in an application i distribute in every arrow, but i don't know where to add it in the cloud when i know where to add it in local</p>\n<p>&quot;Could not read JSON: Unable to make field private final int java.time.LocalDate.year accessible&quot;</p>\n<p>i was getting the error and</p>\n<p>&quot;https://stackoverflow.com/questions/70412805/what-does-this-error-mean-java-lang-reflect-inaccessibleobjectexception-unable&quot;</p>\n<p>i've come to a solution with this method, but now i want to deploy my project on every arrow, but i don't know how to report the add-open command to my application on the server, i tried to add it as a procfile and environment variable, but it didn't</p>\n<p>(the application is crashed when i set the command to the environment variable)</p>\n"},{"tags":["java","amazon-neptune"],"answers":[{"tags":[],"owner":{"account_id":14025132,"reputation":2074,"user_id":10130372,"display_name":"Taylor Riggan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647533310,"creation_date":1647533310,"answer_id":71515591,"question_id":71508973,"body_markdown":"Any easy way to validate that your IAM credentials are working correctly is to use `awscurl` [1].  `awscurl` will not pull directly from the IAM role associated with the EC2 instance, so you&#39;ll need to explicitly define the environment variables [2] for AWS_ACCESS_KEY_ID, AWS_SECRET_KEY, and AWS_SESSION_TOKEN (if using temp credentials) or define these same values as parameters in the `awscurl` call.\r\n\r\n```\r\nawscurl https://&lt;neptune_endpoint&gt;:8182/status --service neptune-db --region &lt;region_name&gt;\r\n```\r\n\r\nThis should return the status of the cluster if your credentials are defined correctly.\r\n\r\n[1] https://github.com/okigan/awscurl\r\n\r\n[2] Script to pull IAM role from EC2 instance or ECS container and define appropriate environment variables:  https://docs.aws.amazon.com/neptune/latest/userguide/iam-auth-temporary-credentials.html#iam-auth-temporary-credentials-ec2","title":"Connecting AWS-Neptune from EC2 with Signature version 4 signing","body":"<p>Any easy way to validate that your IAM credentials are working correctly is to use <code>awscurl</code> [1].  <code>awscurl</code> will not pull directly from the IAM role associated with the EC2 instance, so you'll need to explicitly define the environment variables [2] for AWS_ACCESS_KEY_ID, AWS_SECRET_KEY, and AWS_SESSION_TOKEN (if using temp credentials) or define these same values as parameters in the <code>awscurl</code> call.</p>\n<pre><code>awscurl https://&lt;neptune_endpoint&gt;:8182/status --service neptune-db --region &lt;region_name&gt;\n</code></pre>\n<p>This should return the status of the cluster if your credentials are defined correctly.</p>\n<p>[1] <a href=\"https://github.com/okigan/awscurl\" rel=\"nofollow noreferrer\">https://github.com/okigan/awscurl</a></p>\n<p>[2] Script to pull IAM role from EC2 instance or ECS container and define appropriate environment variables:  <a href=\"https://docs.aws.amazon.com/neptune/latest/userguide/iam-auth-temporary-credentials.html#iam-auth-temporary-credentials-ec2\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/neptune/latest/userguide/iam-auth-temporary-credentials.html#iam-auth-temporary-credentials-ec2</a></p>\n"},{"tags":[],"owner":{"account_id":6240198,"reputation":11,"user_id":4854064,"display_name":"Nandakishore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648807684,"creation_date":1648807684,"answer_id":71705235,"question_id":71508973,"body_markdown":"You could be missing the `neptune-db:*` IAM permission for the credentials. This permission is required for connection to Neptune clusters with IAM based authentication enabled. \r\n\r\nPlease find the permission mentioned in [Neptune documentation][1].\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/neptune/latest/userguide/iam-auth-arn.html","title":"Connecting AWS-Neptune from EC2 with Signature version 4 signing","body":"<p>You could be missing the <code>neptune-db:*</code> IAM permission for the credentials. This permission is required for connection to Neptune clusters with IAM based authentication enabled.</p>\n<p>Please find the permission mentioned in <a href=\"https://docs.aws.amazon.com/neptune/latest/userguide/iam-auth-arn.html\" rel=\"nofollow noreferrer\">Neptune documentation</a>.</p>\n"}],"owner":{"account_id":2042931,"reputation":415,"user_id":1823687,"display_name":"ibecar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648807684,"creation_date":1647504843,"question_id":71508973,"body_markdown":"I&#39;m having difficulties connecting to Amazon Neptune Cluster from EC2 instance using any of sample applications with my **IAM user**: \r\n1. https://docs.aws.amazon.com/neptune/latest/userguide/iam-auth-connecting-gremlin-java.html\r\n2. https://docs.aws.amazon.com/neptune/latest/userguide/iam-auth-connecting-python.html.\r\n\r\nI believe the **SG** is correctly setup, because if I disable IAM db authentication, my connection succeeds.\r\n\r\nI&#39;m providing my IAM credentials with env variables:\r\n```\r\nexport AWS_ACCESS_KEY_ID=access key\r\nexport AWS_SECRET_ACCESS_KEY=secret\r\nexport SERVICE_REGION=region\r\n```\r\n\r\nMy IAM User has policies applied: arn:aws:iam::aws:policy/AmazonRDSFullAccess, and arn:aws:iam::aws:policy/NeptuneFullAccess\r\n\r\nCalling sample java app (from link above) results in 403 Forbidden error:\r\n```\r\n07:54:56.274 [gremlin-driver-loop-1] ERROR o.a.t.g.d.Handler$GremlinResponseHandler - Could not process the response\r\nio.netty.handler.codec.http.websocketx.WebSocketClientHandshakeException: Invalid handshake response getStatus: 403 Forbidden\r\n\tat io.netty.handler.codec.http.websocketx.WebSocketClientHandshaker13.verify(WebSocketClientHandshaker13.java:272)\r\n\tat io.netty.handler.codec.http.websocketx.WebSocketClientHandshaker.finishHandshake(WebSocketClientHandshaker.java:302)\r\n\tat io.netty.handler.codec.http.websocketx.WebSocketClientProtocolHandshakeHandler.channelRead(WebSocketClientProtocolHandshakeHandler.java:93)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)\r\n\tat io.netty.handler.codec.http.websocketx.extensions.WebSocketClientExtensionHandler.channelRead(WebSocketClientExtensionHandler.java:128)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1504)\r\n\tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1253)\r\n\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1300)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:508)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:447)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nAny thoughts on how to debug this appreciated! Searching SO didn&#39;t help.\r\n\r\nUPDATE:\r\n\r\nAfter pointing out, that my credentials could be incorrect, I found this link https://docs.aws.amazon.com/neptune/latest/userguide/manage-console-iam-user.html, went through it, updated my user with policies from the link: \r\n\r\n\r\n    NeptuneFullAccess\r\n\r\n    NeptuneConsoleFullAccess\r\n\r\n    NeptuneServiceLinked\r\n\r\n    AmazonVPCFullAccess\r\n\r\nI still get error 403 using awscurl:\r\n```\r\n{&quot;code&quot;:&quot;AccessDeniedException&quot;,&quot;requestId&quot;:&quot;xxx&quot;,&quot;detailedMessage&quot;:&quot;You do not have sufficient access to perform this action.&quot;}\r\n```\r\nI must be missing something obvious here","title":"Connecting AWS-Neptune from EC2 with Signature version 4 signing","body":"<p>I'm having difficulties connecting to Amazon Neptune Cluster from EC2 instance using any of sample applications with my <strong>IAM user</strong>:</p>\n<ol>\n<li><a href=\"https://docs.aws.amazon.com/neptune/latest/userguide/iam-auth-connecting-gremlin-java.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/neptune/latest/userguide/iam-auth-connecting-gremlin-java.html</a></li>\n<li><a href=\"https://docs.aws.amazon.com/neptune/latest/userguide/iam-auth-connecting-python.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/neptune/latest/userguide/iam-auth-connecting-python.html</a>.</li>\n</ol>\n<p>I believe the <strong>SG</strong> is correctly setup, because if I disable IAM db authentication, my connection succeeds.</p>\n<p>I'm providing my IAM credentials with env variables:</p>\n<pre><code>export AWS_ACCESS_KEY_ID=access key\nexport AWS_SECRET_ACCESS_KEY=secret\nexport SERVICE_REGION=region\n</code></pre>\n<p>My IAM User has policies applied: arn:aws:iam::aws:policy/AmazonRDSFullAccess, and arn:aws:iam::aws:policy/NeptuneFullAccess</p>\n<p>Calling sample java app (from link above) results in 403 Forbidden error:</p>\n<pre><code>07:54:56.274 [gremlin-driver-loop-1] ERROR o.a.t.g.d.Handler$GremlinResponseHandler - Could not process the response\nio.netty.handler.codec.http.websocketx.WebSocketClientHandshakeException: Invalid handshake response getStatus: 403 Forbidden\n    at io.netty.handler.codec.http.websocketx.WebSocketClientHandshaker13.verify(WebSocketClientHandshaker13.java:272)\n    at io.netty.handler.codec.http.websocketx.WebSocketClientHandshaker.finishHandshake(WebSocketClientHandshaker.java:302)\n    at io.netty.handler.codec.http.websocketx.WebSocketClientProtocolHandshakeHandler.channelRead(WebSocketClientProtocolHandshakeHandler.java:93)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)\n    at io.netty.handler.codec.http.websocketx.extensions.WebSocketClientExtensionHandler.channelRead(WebSocketClientExtensionHandler.java:128)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1504)\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1253)\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1300)\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:508)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:447)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>Any thoughts on how to debug this appreciated! Searching SO didn't help.</p>\n<p>UPDATE:</p>\n<p>After pointing out, that my credentials could be incorrect, I found this link <a href=\"https://docs.aws.amazon.com/neptune/latest/userguide/manage-console-iam-user.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/neptune/latest/userguide/manage-console-iam-user.html</a>, went through it, updated my user with policies from the link:</p>\n<pre><code>NeptuneFullAccess\n\nNeptuneConsoleFullAccess\n\nNeptuneServiceLinked\n\nAmazonVPCFullAccess\n</code></pre>\n<p>I still get error 403 using awscurl:</p>\n<pre><code>{&quot;code&quot;:&quot;AccessDeniedException&quot;,&quot;requestId&quot;:&quot;xxx&quot;,&quot;detailedMessage&quot;:&quot;You do not have sufficient access to perform this action.&quot;}\n</code></pre>\n<p>I must be missing something obvious here</p>\n"},{"tags":["java","parameters","vaadin"],"answers":[{"tags":[],"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648807612,"creation_date":1647885070,"answer_id":71561974,"question_id":71558600,"body_markdown":"You can not use something assigned from `HasUrlParameter` in the c&#39;tor.  The c&#39;tor is run _before_ `setParameter` is called (it&#39;s the first things to create the route and then later at some point `setParameter` is called as part of the route life-cycle.\r\n\r\nYou have to do your work inside `setParameter` (or whatever makes sense for your problem inside the router life-cycle).  E.g. add an empty H2 in the c&#39;tor, hold on to it, set the text of it inside `setParameter`).\r\n","title":"Route With params","body":"<p>You can not use something assigned from <code>HasUrlParameter</code> in the c'tor.  The c'tor is run <em>before</em> <code>setParameter</code> is called (it's the first things to create the route and then later at some point <code>setParameter</code> is called as part of the route life-cycle.</p>\n<p>You have to do your work inside <code>setParameter</code> (or whatever makes sense for your problem inside the router life-cycle).  E.g. add an empty H2 in the c'tor, hold on to it, set the text of it inside <code>setParameter</code>).</p>\n"},{"tags":[],"owner":{"account_id":4154277,"reputation":9,"user_id":3405927,"display_name":"Aziz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648548592,"creation_date":1648548592,"answer_id":71660144,"question_id":71558600,"body_markdown":"    @PageTitle(&quot;Edycja rośliny doniczkowej&quot;)\r\n    @Route(value = &quot;edit-pooted-plant&quot;, layout = MainLayout.class)\r\n    @RolesAllowed(&quot;user&quot;)\r\n    public class EditPottedPlant extends VerticalLayout implements HasUrlParameter&lt;Long&gt;{\r\n\r\n        private Long plantID;\r\n        private H2 h2;\r\n        public EditPottedPlant(){\r\n            h2 = new H2(this.plantID.toString())\r\n            add(\r\n                    new H1(&quot;Hello User&quot;),\r\n                   h2)\r\n            );\r\n        }\r\n\r\n        @Override\r\n        public void setParameter(BeforeEvent beforeEvent, Long param) {\r\n            this.plantID = param;\r\n             h2.setValue(this.plantID);\r\n        }\r\n\r\n","title":"Route With params","body":"<pre><code>@PageTitle(&quot;Edycja rośliny doniczkowej&quot;)\n@Route(value = &quot;edit-pooted-plant&quot;, layout = MainLayout.class)\n@RolesAllowed(&quot;user&quot;)\npublic class EditPottedPlant extends VerticalLayout implements HasUrlParameter&lt;Long&gt;{\n\n    private Long plantID;\n    private H2 h2;\n    public EditPottedPlant(){\n        h2 = new H2(this.plantID.toString())\n        add(\n                new H1(&quot;Hello User&quot;),\n               h2)\n        );\n    }\n\n    @Override\n    public void setParameter(BeforeEvent beforeEvent, Long param) {\n        this.plantID = param;\n         h2.setValue(this.plantID);\n    }\n</code></pre>\n"}],"owner":{"account_id":24322961,"reputation":11,"user_id":18263004,"display_name":"Kacper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648807612,"creation_date":1647870039,"question_id":71558600,"body_markdown":"I can&#39;t deal with the problem of parameter transfer when changing view. I would be grateful if someone could help.\r\n\r\nThis is my code.\r\n\r\nNavigation Button;\r\n```\r\n        crud.getCrudLayout().addToolbarComponent(new Button(&quot;&quot;, new Icon(VaadinIcon.PENCIL), event -&gt; {\r\n            UI.getCurrent().navigate(&quot;edit-pooted-plant/&quot;+crud.getGrid().asSingleSelect().getValue().getId());\r\n        }));\r\n```\r\nTarget class:\r\n```\r\n@PageTitle(&quot;Edycja rośliny doniczkowej&quot;)\r\n@Route(value = &quot;edit-pooted-plant&quot;, layout = MainLayout.class)\r\n@RolesAllowed(&quot;user&quot;)\r\npublic class EditPottedPlant extends VerticalLayout implements HasUrlParameter&lt;Long&gt;{\r\n\r\n    private Long plantID;\r\n\r\n    public EditPottedPlant(){\r\n        add(\r\n                new H1(&quot;Hello User&quot;),\r\n                new H2(this.plantID.toString())\r\n        );\r\n    }\r\n\r\n    @Override\r\n    public void setParameter(BeforeEvent beforeEvent, Long param) {\r\n        this.plantID = param;\r\n    }\r\n```\r\n\r\nAnd my Error:\r\n```\r\nThere was an exception while trying to navigate to &#39;edit-pooted-plant/22&#39; with the exception message &#39;Error creating bean with name &#39;com.github.rozumek29.plantseekerpanel.views.plants.EditPottedPlant&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.github.rozumek29.plantseekerpanel.views.plants.EditPottedPlant]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Long.toString()&quot; because &quot;this.plantID&quot; is null&#39;\r\n```\r\n\r\n---\r\n\r\nConsole Error\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;com.github.rozumek29.plantseekerpanel.views.plants.EditPottedPlant&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.github.rozumek29.plantseekerpanel.views.plants.EditPottedPlant]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Long.toString()&quot; because &quot;this.plantID&quot; is null\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:332) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat com.vaadin.flow.spring.SpringInstantiator.getOrCreate(SpringInstantiator.java:117) ~[vaadin-spring-19.0.2.jar:na]\r\n\tat com.vaadin.flow.di.Instantiator.createRouteTarget(Instantiator.java:193) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.router.internal.AbstractNavigationStateRenderer.lambda$getRouteTarget$1(AbstractNavigationStateRenderer.java:135) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\r\n\tat com.vaadin.flow.router.internal.AbstractNavigationStateRenderer.getRouteTarget(AbstractNavigationStateRenderer.java:134) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.router.internal.AbstractNavigationStateRenderer.sendBeforeEnterEventAndPopulateChain(AbstractNavigationStateRenderer.java:488) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.router.internal.AbstractNavigationStateRenderer.createChainIfEmptyAndExecuteBeforeEnterNavigation(AbstractNavigationStateRenderer.java:469) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.router.internal.AbstractNavigationStateRenderer.handle(AbstractNavigationStateRenderer.java:207) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.component.internal.JavaScriptNavigationStateRenderer.handle(JavaScriptNavigationStateRenderer.java:79) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.component.internal.JavaScriptBootstrapUI.handleNavigation(JavaScriptBootstrapUI.java:315) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.component.internal.JavaScriptBootstrapUI.navigate(JavaScriptBootstrapUI.java:223) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.component.UI.navigate(UI.java:933) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.github.rozumek29.plantseekerpanel.views.plants.PottedPlantsView.lambda$new$45b659b3$1(PottedPlantsView.java:36) ~[classes/:na]\r\n\tat com.vaadin.flow.component.ComponentEventBus.fireEventForListener(ComponentEventBus.java:206) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.component.ComponentEventBus.handleDomEvent(ComponentEventBus.java:448) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.component.ComponentEventBus.lambda$addDomTrigger$dd1b7957$1(ComponentEventBus.java:265) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.internal.nodefeature.ElementListenerMap.lambda$fireEvent$2(ElementListenerMap.java:443) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat com.vaadin.flow.internal.nodefeature.ElementListenerMap.fireEvent(ElementListenerMap.java:443) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.server.communication.rpc.EventRpcHandler.handleNode(EventRpcHandler.java:62) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.server.communication.rpc.AbstractRpcInvocationHandler.handle(AbstractRpcInvocationHandler.java:66) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.server.communication.ServerRpcHandler.handleInvocationData(ServerRpcHandler.java:438) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.server.communication.ServerRpcHandler.lambda$handleInvocations$1(ServerRpcHandler.java:419) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat com.vaadin.flow.server.communication.ServerRpcHandler.handleInvocations(ServerRpcHandler.java:419) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.server.communication.ServerRpcHandler.handleRpc(ServerRpcHandler.java:320) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.server.communication.UidlRequestHandler.synchronizedHandleRequest(UidlRequestHandler.java:115) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.server.SynchronizedRequestHandler.handleRequest(SynchronizedRequestHandler.java:40) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.server.VaadinService.handleRequest(VaadinService.java:1567) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.server.VaadinServlet.service(VaadinServlet.java:299) ~[flow-server-9.0.6.jar:9.0.6]\r\n\tat com.vaadin.flow.spring.SpringServlet.service(SpringServlet.java:109) ~[vaadin-spring-19.0.2.jar:na]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:353) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.servlet.mvc.ServletForwardingController.handleRequestInternal(ServletForwardingController.java:141) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:177) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.github.rozumek29.plantseekerpanel.views.plants.EditPottedPlant]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Long.toString()&quot; because &quot;this.plantID&quot; is null\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\t... 126 common frames omitted\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Long.toString()&quot; because &quot;this.plantID&quot; is null\r\n\tat com.github.rozumek29.plantseekerpanel.views.plants.EditPottedPlant.&lt;init&gt;(EditPottedPlant.java:50) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\t... 128 common frames omitted\r\n\r\n\r\n```","title":"Route With params","body":"<p>I can't deal with the problem of parameter transfer when changing view. I would be grateful if someone could help.</p>\n<p>This is my code.</p>\n<p>Navigation Button;</p>\n<pre><code>        crud.getCrudLayout().addToolbarComponent(new Button(&quot;&quot;, new Icon(VaadinIcon.PENCIL), event -&gt; {\n            UI.getCurrent().navigate(&quot;edit-pooted-plant/&quot;+crud.getGrid().asSingleSelect().getValue().getId());\n        }));\n</code></pre>\n<p>Target class:</p>\n<pre><code>@PageTitle(&quot;Edycja rośliny doniczkowej&quot;)\n@Route(value = &quot;edit-pooted-plant&quot;, layout = MainLayout.class)\n@RolesAllowed(&quot;user&quot;)\npublic class EditPottedPlant extends VerticalLayout implements HasUrlParameter&lt;Long&gt;{\n\n    private Long plantID;\n\n    public EditPottedPlant(){\n        add(\n                new H1(&quot;Hello User&quot;),\n                new H2(this.plantID.toString())\n        );\n    }\n\n    @Override\n    public void setParameter(BeforeEvent beforeEvent, Long param) {\n        this.plantID = param;\n    }\n</code></pre>\n<p>And my Error:</p>\n<pre><code>There was an exception while trying to navigate to 'edit-pooted-plant/22' with the exception message 'Error creating bean with name 'com.github.rozumek29.plantseekerpanel.views.plants.EditPottedPlant': Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.github.rozumek29.plantseekerpanel.views.plants.EditPottedPlant]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Long.toString()&quot; because &quot;this.plantID&quot; is null'\n</code></pre>\n<hr />\n<p>Console Error</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.github.rozumek29.plantseekerpanel.views.plants.EditPottedPlant': Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.github.rozumek29.plantseekerpanel.views.plants.EditPottedPlant]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Long.toString()&quot; because &quot;this.plantID&quot; is null\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:332) ~[spring-beans-5.3.14.jar:5.3.14]\n    at com.vaadin.flow.spring.SpringInstantiator.getOrCreate(SpringInstantiator.java:117) ~[vaadin-spring-19.0.2.jar:na]\n    at com.vaadin.flow.di.Instantiator.createRouteTarget(Instantiator.java:193) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.router.internal.AbstractNavigationStateRenderer.lambda$getRouteTarget$1(AbstractNavigationStateRenderer.java:135) ~[flow-server-9.0.6.jar:9.0.6]\n    at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\n    at com.vaadin.flow.router.internal.AbstractNavigationStateRenderer.getRouteTarget(AbstractNavigationStateRenderer.java:134) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.router.internal.AbstractNavigationStateRenderer.sendBeforeEnterEventAndPopulateChain(AbstractNavigationStateRenderer.java:488) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.router.internal.AbstractNavigationStateRenderer.createChainIfEmptyAndExecuteBeforeEnterNavigation(AbstractNavigationStateRenderer.java:469) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.router.internal.AbstractNavigationStateRenderer.handle(AbstractNavigationStateRenderer.java:207) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.component.internal.JavaScriptNavigationStateRenderer.handle(JavaScriptNavigationStateRenderer.java:79) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.component.internal.JavaScriptBootstrapUI.handleNavigation(JavaScriptBootstrapUI.java:315) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.component.internal.JavaScriptBootstrapUI.navigate(JavaScriptBootstrapUI.java:223) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.component.UI.navigate(UI.java:933) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.github.rozumek29.plantseekerpanel.views.plants.PottedPlantsView.lambda$new$45b659b3$1(PottedPlantsView.java:36) ~[classes/:na]\n    at com.vaadin.flow.component.ComponentEventBus.fireEventForListener(ComponentEventBus.java:206) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.component.ComponentEventBus.handleDomEvent(ComponentEventBus.java:448) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.component.ComponentEventBus.lambda$addDomTrigger$dd1b7957$1(ComponentEventBus.java:265) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.internal.nodefeature.ElementListenerMap.lambda$fireEvent$2(ElementListenerMap.java:443) ~[flow-server-9.0.6.jar:9.0.6]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at com.vaadin.flow.internal.nodefeature.ElementListenerMap.fireEvent(ElementListenerMap.java:443) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.server.communication.rpc.EventRpcHandler.handleNode(EventRpcHandler.java:62) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.server.communication.rpc.AbstractRpcInvocationHandler.handle(AbstractRpcInvocationHandler.java:66) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.server.communication.ServerRpcHandler.handleInvocationData(ServerRpcHandler.java:438) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.server.communication.ServerRpcHandler.lambda$handleInvocations$1(ServerRpcHandler.java:419) ~[flow-server-9.0.6.jar:9.0.6]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at com.vaadin.flow.server.communication.ServerRpcHandler.handleInvocations(ServerRpcHandler.java:419) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.server.communication.ServerRpcHandler.handleRpc(ServerRpcHandler.java:320) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.server.communication.UidlRequestHandler.synchronizedHandleRequest(UidlRequestHandler.java:115) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.server.SynchronizedRequestHandler.handleRequest(SynchronizedRequestHandler.java:40) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.server.VaadinService.handleRequest(VaadinService.java:1567) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.server.VaadinServlet.service(VaadinServlet.java:299) ~[flow-server-9.0.6.jar:9.0.6]\n    at com.vaadin.flow.spring.SpringServlet.service(SpringServlet.java:109) ~[vaadin-spring-19.0.2.jar:na]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:353) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.servlet.mvc.ServletForwardingController.handleRequestInternal(ServletForwardingController.java:141) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:177) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.github.rozumek29.plantseekerpanel.views.plants.EditPottedPlant]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Long.toString()&quot; because &quot;this.plantID&quot; is null\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.14.jar:5.3.14]\n    ... 126 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Long.toString()&quot; because &quot;this.plantID&quot; is null\n    at com.github.rozumek29.plantseekerpanel.views.plants.EditPottedPlant.&lt;init&gt;(EditPottedPlant.java:50) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.14.jar:5.3.14]\n    ... 128 common frames omitted\n\n\n</code></pre>\n"},{"tags":["java","jdbc","connection","resultset"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1648794941,"post_id":71702649,"comment_id":126719277,"body_markdown":"Result uses the statement which used the connection. So if you close the connect it closes the children.","body":"Result uses the statement which used the connection. So if you close the connect it closes the children."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648807438,"creation_date":1648805513,"answer_id":71704781,"question_id":71702649,"body_markdown":"If you&#39;re using Java 7 or higher, you should use [try-with-resources][1], which will automatically result in resources getting closed in the right order.\r\n\r\nIn an ideal world, closing the connection will be sufficient to close the statement and the result set. However, we do not live in an ideal world. Your code is generally more complex: a statement is reused, multiple statements are executed on a single connection, etc. Closing resources as soon as they are no longer needed will make it easier to reason about your code, and prevent resource leaks, etc. Following this pattern will then automatically lead to closing resources in the reverse order they were opened, and it makes it possible for static analysis tools to detect potential resource leaks, where you don&#39;t have to verify if maybe it is a false-positive.\r\n\r\nIn addition, in the past there have been several bugs with connection pools or drivers that did not properly close statements or result sets when a connection was returned back to the pool. Closing as soon as possible will also guard against that type of resource leak.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Why do I have to close JDBC resources in reverse order of use?","body":"<p>If you're using Java 7 or higher, you should use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>, which will automatically result in resources getting closed in the right order.</p>\n<p>In an ideal world, closing the connection will be sufficient to close the statement and the result set. However, we do not live in an ideal world. Your code is generally more complex: a statement is reused, multiple statements are executed on a single connection, etc. Closing resources as soon as they are no longer needed will make it easier to reason about your code, and prevent resource leaks, etc. Following this pattern will then automatically lead to closing resources in the reverse order they were opened, and it makes it possible for static analysis tools to detect potential resource leaks, where you don't have to verify if maybe it is a false-positive.</p>\n<p>In addition, in the past there have been several bugs with connection pools or drivers that did not properly close statements or result sets when a connection was returned back to the pool. Closing as soon as possible will also guard against that type of resource leak.</p>\n"}],"owner":{"account_id":18282406,"reputation":3,"user_id":13311000,"display_name":"cheol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71704781,"answer_count":1,"score":0,"last_activity_date":1648807472,"creation_date":1648794463,"question_id":71702649,"body_markdown":"Why do I have to close JDBC resources in reverse order of use?\r\n\r\nWhen I close a connection object, its statement object will be closed (only not using connection pool)\r\nAnd when I close a statement object, its resultset object will be closed (only not using cached statement)\r\n\r\nSo why a resultset object should be closed before a statement object close? (on the assumption that each exceptions are handled.)\r\nAll article I&#39;ve seen say all JDBC resources should be closed in reverse order of use, but do not explain why.","title":"Why do I have to close JDBC resources in reverse order of use?","body":"<p>Why do I have to close JDBC resources in reverse order of use?</p>\n<p>When I close a connection object, its statement object will be closed (only not using connection pool)\nAnd when I close a statement object, its resultset object will be closed (only not using cached statement)</p>\n<p>So why a resultset object should be closed before a statement object close? (on the assumption that each exceptions are handled.)\nAll article I've seen say all JDBC resources should be closed in reverse order of use, but do not explain why.</p>\n"},{"tags":["java","spring-boot","spring-security","saml-2.0"],"comments":[{"owner":{"account_id":43883,"reputation":1205,"user_id":128466,"accept_rate":78,"display_name":"Chuck M"},"score":0,"creation_date":1648647445,"post_id":71622213,"comment_id":126677550,"body_markdown":"I was able to get this working with the help of this post, however this is totally not the how the documentation says to accomplish it.  Is there a downside to doing it this way?   https://stackoverflow.com/questions/70338287/saml2-authentication-with-authorization-based-on-saml-assertions","body":"I was able to get this working with the help of this post, however this is totally not the how the documentation says to accomplish it.  Is there a downside to doing it this way?   <a href=\"https://stackoverflow.com/questions/70338287/saml2-authentication-with-authorization-based-on-saml-assertions\" title=\"saml2 authentication with authorization based on saml assertions\">stackoverflow.com/questions/70338287/&hellip;</a>"},{"owner":{"account_id":43883,"reputation":1205,"user_id":128466,"accept_rate":78,"display_name":"Chuck M"},"score":0,"creation_date":1648663758,"post_id":71622213,"comment_id":126684383,"body_markdown":"Okay, I think I may found the issue.  If I follow the documentation and use OpenSaml4AuthenticationProvider then my login does not work. If I use OpenSamlAuthenticationProvider however it does work.  OpenSaml4AuthenticationProvider is deprecated and doesn&#39;t match the documentation  but it definitely is working for me.  Is there an issue with using that class?  Is the documentation just wrong?","body":"Okay, I think I may found the issue.  If I follow the documentation and use OpenSaml4AuthenticationProvider then my login does not work. If I use OpenSamlAuthenticationProvider however it does work.  OpenSaml4AuthenticationProvider is deprecated and doesn&#39;t match the documentation  but it definitely is working for me.  Is there an issue with using that class?  Is the documentation just wrong?"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648723183,"post_id":71622213,"comment_id":126699490,"body_markdown":"Check if this heps: https://stackoverflow.com/questions/71429215/customizing-opensaml4authenticationprovider-in-spring-security-saml2","body":"Check if this heps: <a href=\"https://stackoverflow.com/questions/71429215/customizing-opensaml4authenticationprovider-in-spring-security-saml2\" title=\"customizing opensaml4authenticationprovider in spring security saml2\">stackoverflow.com/questions/71429215/&hellip;</a>"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648723933,"post_id":71622213,"comment_id":126699774,"body_markdown":"Also check if spring boot is not importing version 3 and version 4 of open saml. Check this example: https://github.com/spring-projects/spring-security-samples/blob/main/servlet/spring-boot/java/saml2/login/build.gradle. Also you are not setting an assertion validator (setAssertionValidator) like in the example of Spring security (https://docs.spring.io/spring-security/reference/servlet/saml2/login/authentication.html). I guess this is the main problem.","body":"Also check if spring boot is not importing version 3 and version 4 of open saml. Check this example: <a href=\"https://github.com/spring-projects/spring-security-samples/blob/main/servlet/spring-boot/java/saml2/login/build.gradle\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security-samples/blob/main&zwnj;&#8203;/&hellip;</a>. Also you are not setting an assertion validator (setAssertionValidator) like in the example of Spring security (<a href=\"https://docs.spring.io/spring-security/reference/servlet/saml2/login/authentication.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/saml2/logi&zwnj;&#8203;n/&hellip;</a>). I guess this is the main problem."},{"owner":{"account_id":43883,"reputation":1205,"user_id":128466,"accept_rate":78,"display_name":"Chuck M"},"score":0,"creation_date":1648738164,"post_id":71622213,"comment_id":126705728,"body_markdown":"I&#39;ve never done a bounty before.  How do I assign it to you?  I think it might only work with new comments as opposed to sub-comments, right?","body":"I&#39;ve never done a bounty before.  How do I assign it to you?  I think it might only work with new comments as opposed to sub-comments, right?"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648807396,"post_id":71622213,"comment_id":126723262,"body_markdown":"I&#39;ve added as answer. If you concur can assign the bounty to it.","body":"I&#39;ve added as answer. If you concur can assign the bounty to it."}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648807335,"creation_date":1648807335,"answer_id":71705163,"question_id":71622213,"body_markdown":"Check if *Spring Boot* is importing version *3* and version *4* of *Open SAML*. If it is use only version **4**.\r\n\r\nSpring Security Samples has an example for SAML2. The build.gradle in the project contains the following:\r\n\r\n    repositories {\r\n    \tmavenCentral()\r\n    \tmaven { url &quot;https://repo.spring.io/milestone&quot; }\r\n    \tmaven { url &quot;https://repo.spring.io/snapshot&quot; }\r\n    \tmaven { url &quot;https://build.shibboleth.net/nexus/content/repositories/releases/&quot; }\r\n    }\r\n    \r\n    dependencies {\r\n    \tconstraints {\r\n    \t\timplementation &quot;org.opensaml:opensaml-core:4.1.1&quot;\r\n    \t\timplementation &quot;org.opensaml:opensaml-saml-api:4.1.1&quot;\r\n    \t\timplementation &quot;org.opensaml:opensaml-saml-impl:4.1.1&quot;\r\n    \t}\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;org.springframework.security:spring-security-saml2-service-provider&#39;\r\n    \timplementation &#39;org.thymeleaf.extras:thymeleaf-extras-springsecurity6&#39;\r\n    \r\n    \ttestImplementation &#39;net.sourceforge.htmlunit:htmlunit:2.44.0&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    \ttestImplementation &#39;org.awaitility:awaitility:4.2.0&#39;\r\n    }\r\n\r\n\r\nReferences:\r\n\r\n - https://stackoverflow.com/questions/71429215/customizing-opensaml4authenticationprovider-in-spring-security-saml2\r\n - https://github.com/spring-projects/spring-security-samples/blob/main/servlet/spring-boot/java/saml2/login/build.gradle\r\n - https://docs.spring.io/spring-security/reference/servlet/saml2/login/authentication.html","title":"Spring Security SAML and UserDetailsService","body":"<p>Check if <em>Spring Boot</em> is importing version <em>3</em> and version <em>4</em> of <em>Open SAML</em>. If it is use only version <strong>4</strong>.</p>\n<p>Spring Security Samples has an example for SAML2. The build.gradle in the project contains the following:</p>\n<pre><code>repositories {\n    mavenCentral()\n    maven { url &quot;https://repo.spring.io/milestone&quot; }\n    maven { url &quot;https://repo.spring.io/snapshot&quot; }\n    maven { url &quot;https://build.shibboleth.net/nexus/content/repositories/releases/&quot; }\n}\n\ndependencies {\n    constraints {\n        implementation &quot;org.opensaml:opensaml-core:4.1.1&quot;\n        implementation &quot;org.opensaml:opensaml-saml-api:4.1.1&quot;\n        implementation &quot;org.opensaml:opensaml-saml-impl:4.1.1&quot;\n    }\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.security:spring-security-saml2-service-provider'\n    implementation 'org.thymeleaf.extras:thymeleaf-extras-springsecurity6'\n\n    testImplementation 'net.sourceforge.htmlunit:htmlunit:2.44.0'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n    testImplementation 'org.awaitility:awaitility:4.2.0'\n}\n</code></pre>\n<p>References:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/71429215/customizing-opensaml4authenticationprovider-in-spring-security-saml2\">Customizing OpenSaml4AuthenticationProvider in Spring Security SAML2</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-security-samples/blob/main/servlet/spring-boot/java/saml2/login/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security-samples/blob/main/servlet/spring-boot/java/saml2/login/build.gradle</a></li>\n<li><a href=\"https://docs.spring.io/spring-security/reference/servlet/saml2/login/authentication.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/saml2/login/authentication.html</a></li>\n</ul>\n"}],"owner":{"account_id":43883,"reputation":1205,"user_id":128466,"accept_rate":78,"display_name":"Chuck M"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3880,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71705163,"answer_count":1,"score":3,"last_activity_date":1648807335,"creation_date":1648236727,"question_id":71622213,"body_markdown":"I am integrating SAML into a Spring Boot application using the implementation built into Spring Security 5.6.  Much of the online help references the now deprecated external library implementation (https://github.com/spring-projects/spring-security-saml) so I am following this document:\r\n\r\nhttps://docs.spring.io/spring-security/reference/servlet/saml2/login/index.html\r\n\r\nI have this interaction working and I am authenticating from SAML now.  Here is the configuration:\r\n\r\n```\r\nspring:\r\n  security:\r\n    saml2:\r\n      relyingparty:\r\n        registration:\r\n          adfs:\r\n            signing:\r\n              credentials:\r\n                - private-key-location: &quot;file:///C:/tmp/keys/private.key&quot;\r\n                  certificate-location: &quot;file:///C:/tmp/keys/public.crt&quot;\r\n            identityprovider:\r\n              entity-id: &lt;&lt; SNIPPED &gt;&gt;\r\n              verification.credentials:\r\n                - certificate-location: &quot;classpath:saml-certificate/adfs.crt&quot;\r\n              singlesignon:\r\n                url: &lt;&lt; SNIPPED &gt;&gt;\r\n                sign-request: true\r\n```\r\n\r\nThe code looks like this now:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private final RelyingPartyRegistrationRepository _relyingPartyRegistrationRepository;\r\n\r\n    @Autowired\r\n    public WebSecurityConfig(RelyingPartyRegistrationRepository relyingPartyRegistrationRepository {\r\n        _relyingPartyRegistrationRepository = relyingPartyRegistrationRepository;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        // add auto-generation of ServiceProvider Metadata at {baseUrl}/saml2/service-provider-metadata/ims-adfs\r\n        RelyingPartyRegistrationResolver relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(_relyingPartyRegistrationRepository);\r\n        Saml2MetadataFilter filter = new Saml2MetadataFilter(relyingPartyRegistrationResolver, new OpenSamlMetadataResolver());\r\n\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/seer.ico&quot;, &quot;/monitor&quot;, &quot;/**/check&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and().sessionManagement()\r\n                .and().csrf().ignoringAntMatchers(&quot;/servers/**/searches&quot;)\r\n                .and()\r\n                .saml2Login(withDefaults())\r\n                .saml2Logout(withDefaults())\r\n                .addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe issue is that I need to remap the user details to set up correct roles and also limit the logins to users who have the correct Linux permissions.  The permissions are being correcting returned in the assertion; I just need to verify they are correct or fail the login.\r\n\r\nThe Spring Security documentation has a section on coordinating with a UserDetailsService which seems like exactly what I need.  \r\n\r\nhttps://docs.spring.io/spring-security/reference/servlet/saml2/login/authentication.html#servlet-saml2login-opensamlauthenticationprovider-userdetailsservice\r\n\r\nHowever when I implement it like the example, I now get the following error from Spring:\r\n\r\n&gt; No assertions found in response.\r\n\r\nHere is the updated code:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private final RelyingPartyRegistrationRepository _relyingPartyRegistrationRepository;\r\n\r\n    private final AuthenticationService _userDetailsService;\r\n\r\n    @Autowired\r\n    public WebSecurityConfig(RelyingPartyRegistrationRepository relyingPartyRegistrationRepository, AuthenticationService userDetailsService) {\r\n        _relyingPartyRegistrationRepository = relyingPartyRegistrationRepository;\r\n        _userDetailsService = userDetailsService;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n         OpenSaml4AuthenticationProvider authenticationProvider = new OpenSaml4AuthenticationProvider();\r\n         authenticationProvider.setResponseAuthenticationConverter(responseToken -&gt; {\r\n             Saml2Authentication authentication = OpenSaml4AuthenticationProvider.createDefaultResponseAuthenticationConverter().convert(responseToken);\r\n\r\n             Assertion assertion = responseToken.getResponse().getAssertions().get(0);\r\n             String username = assertion.getSubject().getNameID().getValue();\r\n\r\n             UserDetails userDetails = _userDetailsService.loadUserByUsername(username);\r\n             authentication.setDetails(userDetails);\r\n\r\n             return authentication;\r\n         });\r\n\r\n        // add auto-generation of ServiceProvider Metadata at {baseUrl}/saml2/service-provider-metadata/ims-adfs\r\n        RelyingPartyRegistrationResolver relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(_relyingPartyRegistrationRepository);\r\n        Saml2MetadataFilter filter = new Saml2MetadataFilter(relyingPartyRegistrationResolver, new OpenSamlMetadataResolver());\r\n\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/seer.ico&quot;, &quot;/monitor&quot;, &quot;/**/check&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and().sessionManagement()\r\n                .and().csrf().ignoringAntMatchers(&quot;/servers/**/searches&quot;)\r\n                .and()\r\n                .saml2Login(saml2 -&gt; saml2.authenticationManager(new ProviderManager(authenticationProvider)))\r\n                .saml2Logout(withDefaults())\r\n                .addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class);\r\n    }\r\n}\r\n```\r\n\r\nSo basically this gets a correct response from SAML:\r\n\r\n```java\r\n.saml2Login(withDefaults())\r\n```\r\n\r\nand when I switch it to this then the SAML response is missing the Assertion:\r\n\r\n```java\r\n.saml2Login(saml2 -&gt; saml2.authenticationManager(new ProviderManager(authenticationProvider)))\r\n```\r\n\r\nI&#39;ve been looking all over for other solutions but like I said there are very few examples that don&#39;t use the old deprecated SAML library for Spring.\r\n\r\nAny thoughts?","title":"Spring Security SAML and UserDetailsService","body":"<p>I am integrating SAML into a Spring Boot application using the implementation built into Spring Security 5.6.  Much of the online help references the now deprecated external library implementation (<a href=\"https://github.com/spring-projects/spring-security-saml\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security-saml</a>) so I am following this document:</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/saml2/login/index.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/saml2/login/index.html</a></p>\n<p>I have this interaction working and I am authenticating from SAML now.  Here is the configuration:</p>\n<pre><code>spring:\n  security:\n    saml2:\n      relyingparty:\n        registration:\n          adfs:\n            signing:\n              credentials:\n                - private-key-location: &quot;file:///C:/tmp/keys/private.key&quot;\n                  certificate-location: &quot;file:///C:/tmp/keys/public.crt&quot;\n            identityprovider:\n              entity-id: &lt;&lt; SNIPPED &gt;&gt;\n              verification.credentials:\n                - certificate-location: &quot;classpath:saml-certificate/adfs.crt&quot;\n              singlesignon:\n                url: &lt;&lt; SNIPPED &gt;&gt;\n                sign-request: true\n</code></pre>\n<p>The code looks like this now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final RelyingPartyRegistrationRepository _relyingPartyRegistrationRepository;\n\n    @Autowired\n    public WebSecurityConfig(RelyingPartyRegistrationRepository relyingPartyRegistrationRepository {\n        _relyingPartyRegistrationRepository = relyingPartyRegistrationRepository;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // add auto-generation of ServiceProvider Metadata at {baseUrl}/saml2/service-provider-metadata/ims-adfs\n        RelyingPartyRegistrationResolver relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(_relyingPartyRegistrationRepository);\n        Saml2MetadataFilter filter = new Saml2MetadataFilter(relyingPartyRegistrationResolver, new OpenSamlMetadataResolver());\n\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/seer.ico&quot;, &quot;/monitor&quot;, &quot;/**/check&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and().sessionManagement()\n                .and().csrf().ignoringAntMatchers(&quot;/servers/**/searches&quot;)\n                .and()\n                .saml2Login(withDefaults())\n                .saml2Logout(withDefaults())\n                .addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class);\n    }\n\n}\n</code></pre>\n<p>The issue is that I need to remap the user details to set up correct roles and also limit the logins to users who have the correct Linux permissions.  The permissions are being correcting returned in the assertion; I just need to verify they are correct or fail the login.</p>\n<p>The Spring Security documentation has a section on coordinating with a UserDetailsService which seems like exactly what I need.</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/saml2/login/authentication.html#servlet-saml2login-opensamlauthenticationprovider-userdetailsservice\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/saml2/login/authentication.html#servlet-saml2login-opensamlauthenticationprovider-userdetailsservice</a></p>\n<p>However when I implement it like the example, I now get the following error from Spring:</p>\n<blockquote>\n<p>No assertions found in response.</p>\n</blockquote>\n<p>Here is the updated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final RelyingPartyRegistrationRepository _relyingPartyRegistrationRepository;\n\n    private final AuthenticationService _userDetailsService;\n\n    @Autowired\n    public WebSecurityConfig(RelyingPartyRegistrationRepository relyingPartyRegistrationRepository, AuthenticationService userDetailsService) {\n        _relyingPartyRegistrationRepository = relyingPartyRegistrationRepository;\n        _userDetailsService = userDetailsService;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n         OpenSaml4AuthenticationProvider authenticationProvider = new OpenSaml4AuthenticationProvider();\n         authenticationProvider.setResponseAuthenticationConverter(responseToken -&gt; {\n             Saml2Authentication authentication = OpenSaml4AuthenticationProvider.createDefaultResponseAuthenticationConverter().convert(responseToken);\n\n             Assertion assertion = responseToken.getResponse().getAssertions().get(0);\n             String username = assertion.getSubject().getNameID().getValue();\n\n             UserDetails userDetails = _userDetailsService.loadUserByUsername(username);\n             authentication.setDetails(userDetails);\n\n             return authentication;\n         });\n\n        // add auto-generation of ServiceProvider Metadata at {baseUrl}/saml2/service-provider-metadata/ims-adfs\n        RelyingPartyRegistrationResolver relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(_relyingPartyRegistrationRepository);\n        Saml2MetadataFilter filter = new Saml2MetadataFilter(relyingPartyRegistrationResolver, new OpenSamlMetadataResolver());\n\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/seer.ico&quot;, &quot;/monitor&quot;, &quot;/**/check&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and().sessionManagement()\n                .and().csrf().ignoringAntMatchers(&quot;/servers/**/searches&quot;)\n                .and()\n                .saml2Login(saml2 -&gt; saml2.authenticationManager(new ProviderManager(authenticationProvider)))\n                .saml2Logout(withDefaults())\n                .addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class);\n    }\n}\n</code></pre>\n<p>So basically this gets a correct response from SAML:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.saml2Login(withDefaults())\n</code></pre>\n<p>and when I switch it to this then the SAML response is missing the Assertion:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.saml2Login(saml2 -&gt; saml2.authenticationManager(new ProviderManager(authenticationProvider)))\n</code></pre>\n<p>I've been looking all over for other solutions but like I said there are very few examples that don't use the old deprecated SAML library for Spring.</p>\n<p>Any thoughts?</p>\n"},{"tags":["java","spring","spring-mvc","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1648803388,"post_id":71704172,"comment_id":126721858,"body_markdown":"Are you debug your code? If debug, what value you get in model for email","body":"Are you debug your code? If debug, what value you get in model for email"},{"owner":{"account_id":24132797,"reputation":29,"user_id":18100193,"display_name":"JohnNewman"},"score":0,"creation_date":1648803944,"post_id":71704172,"comment_id":126722037,"body_markdown":"I debugged it and the model contains the entry for the email address: cif and name values but thymeleaf does not render them but they exist in the debug variables","body":"I debugged it and the model contains the entry for the email address: cif and name values but thymeleaf does not render them but they exist in the debug variables"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1648804123,"post_id":71704172,"comment_id":126722112,"body_markdown":"what you get in view means any error you get in chrome console or ide console?","body":"what you get in view means any error you get in chrome console or ide console?"},{"owner":{"account_id":24132797,"reputation":29,"user_id":18100193,"display_name":"JohnNewman"},"score":0,"creation_date":1648805817,"post_id":71704172,"comment_id":126722711,"body_markdown":"I do not have any error in console on browser or in console of ide","body":"I do not have any error in console on browser or in console of ide"},{"owner":{"account_id":24132797,"reputation":29,"user_id":18100193,"display_name":"JohnNewman"},"score":0,"creation_date":1648808836,"post_id":71704172,"comment_id":126723792,"body_markdown":"I also printed the model and it prints the values correctly but they do not show in view","body":"I also printed the model and it prints the values correctly but they do not show in view"}],"owner":{"account_id":24132797,"reputation":29,"user_id":18100193,"display_name":"JohnNewman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648806567,"creation_date":1648802721,"question_id":71704172,"body_markdown":"I have built an application in Spring and Thymeleaf and I have two input one for phone and one for email. The one for phone works very well and the one for email (when I search for an email) returns only the row names but without values, but with the correct number of rows. I console.logged the list in Java and the list that I put in the model for email contains values.\r\n\r\nHere is the Controller:\r\n```\r\n@PostMapping(&quot;/&quot;)\r\npublic String postDbRequest(@RequestParam(name=&quot;text2&quot;,required = false)String telefon, Model model, @RequestParam(name=&quot;email&quot;, required = false)String email) {\r\n\r\n    if(email == null) {\r\n        List&lt;Map&lt;String,Object&gt;&gt; mapList = new ArrayList&lt;&gt;();\r\n        List&lt;Map&lt;String,Object&gt;&gt; mapList2 = new ArrayList&lt;&gt;();\r\n\r\n        mapList = service.getRaspuns(telefon.substring(1, telefon.length()));\r\n        mapList2 = service.getRaspuns2(telefon);\r\n\r\n        model.addAttribute(&quot;map_list&quot;, mapList);\r\n        model.addAttribute(&quot;map_list2&quot;, mapList2);\r\n        model.addAttribute(&quot;telefon&quot;,telefon);\r\n\r\n\r\n    }\r\n\r\n    if(telefon == null ) {\r\n\r\n        List&lt;Map&lt;String,Object&gt;&gt; mapList3 = new ArrayList&lt;&gt;();\r\n        List&lt;Map&lt;String,Object&gt;&gt; mapList4 = new ArrayList&lt;&gt;();\r\n\r\n        mapList3 = service.getRaspuns3(email);\r\n        mapList4 = service.getRaspuns4(email);\r\n\r\n        model.addAttribute(&quot;email_list&quot;, mapList3);\r\n        model.addAttribute(&quot;email_list2&quot;, mapList4);\r\n        model.addAttribute(&quot;email&quot;, email);\r\n    }\r\n\r\n    return &quot;index&quot;;\r\n}\r\n```\r\n\r\nHere is the Thymeleaf page from which you search and on which you display results:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th =&quot;http://www.thymeleaf.org&quot; &gt;\r\n&lt;head&gt;\r\n    &lt;meta charset =&quot;UTF-8&quot; &gt;&lt;/meta&gt;\r\n    &lt;meta name =&quot;viewport&quot; content =&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot; &gt;\r\n    &lt;!-- Read CSS --&gt;\r\n    &lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot; &gt;\r\n    &lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/stil.css}&quot; &gt;\r\n    &lt;!-- Read JS --&gt;\r\n    &lt;script th:src =&quot;@{/webjars/jquery/jquery.min.js}&quot; defer &gt;&lt;/script&gt;\r\n    &lt;script th:src =&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot; defer &gt;&lt;/script&gt;\r\n    &lt;title&gt; Cautare telefon sau e-mail&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body class =&quot;bg-light&quot; &gt;\r\n    &lt;h2 text-align=&quot;center&quot;&gt;Cautare telefon sau email&lt;/h2&gt;\r\n    &lt;div class =&quot;text-center&quot; &gt;\r\n        &lt;form method =&quot;post&quot; action =&quot;/&quot; &gt;\r\n            &lt;div class=&quot;form-group&quot;&gt;\r\n                &lt;input th:type=&quot;text&quot; minlength=&quot;10&quot; maxlength=&quot;10&quot; class=&quot;form-control&quot; name =&quot;text2&quot;  placeholder=&quot;Numar telefon&quot; pattern=&quot;[0-9]{10}&quot; /&gt;\r\n\r\n                &lt;input type =&quot;submit&quot; value =&quot;Cauta&quot; class =&quot;btn btn-primary&quot; margin-top=&quot;2%&quot;/&gt;\r\n            &lt;/div&gt;\r\n        &lt;/form&gt;\r\n        &lt;br&gt;&lt;/br&gt;\r\n        &lt;form method =&quot;post&quot; action =&quot;/&quot; &gt;\r\n            &lt;div class =&quot;form-group&quot; &gt;\r\n                &lt;input type =&quot;email&quot; class =&quot;form-control&quot; placeholder =&quot;Adresa email&quot; \r\n                name =&quot;email&quot; /&gt;\r\n\r\n                &lt;input type =&quot;submit&quot; value =&quot;Cauta&quot; class =&quot;btn btn-primary&quot; margin-top=&quot;2%&quot;/&gt;\r\n            &lt;/div&gt;\r\n        &lt;/form&gt;\r\n        &lt;p th:text=&quot;${telefon == null} ? &#39;&#39; : &#39;Ati cautat numarul de telefon: &#39; + ${telefon}&quot;&gt;&lt;/p&gt;\r\n        &lt;p th:text=&quot;${email == null} ? &#39;&#39; : &#39;Ati cautat adresa de email: &#39; + ${email}&quot;&gt;&lt;/p&gt;\r\n\r\n        &lt;table class=&quot;table&quot;&gt;\r\n            &lt;tbody&gt;\r\n                &lt;tr th:each=&quot;map : ${map_list}&quot; &gt;\r\n\r\n                    &lt;td th:text=&quot;${map_list == null} ? &#39;&#39; : &#39;CNP:&#39;&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text =&quot;${map.get(&#39;cif&#39;) == null} ? &#39;&#39; : ${map.get(&#39;cif&#39;)}&quot; &gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${map_list == null} ? &#39;&#39; : &#39;Nume:&#39;&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text =&quot;${map.get(&#39;den_client&#39;) == null} ? &#39;&#39; : ${map.get(&#39;den_client&#39;)}&quot; &gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n        \r\n        &lt;table class=&quot;table&quot;&gt;\r\n            &lt;tbody&gt;\r\n                &lt;tr th:each=&quot;map : ${map_list2}&quot; &gt;\r\n\r\n                    &lt;td th:text=&quot;${map_list2 == null} ? &#39;&#39; : &#39;CNP:&#39;&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text =&quot;${map.get(&#39;cnp&#39;) == null} ? &#39;&#39; : ${map.get(&#39;cnp&#39;)}&quot; &gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${map_list2 == null} ? &#39;&#39; : &#39;Nume:&#39;&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text =&quot;${map.get(&#39;nume&#39;) == null} ? &#39;&#39; : ${map.get(&#39;nume&#39;)}&quot; &gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${map_list2 == null} ? &#39;&#39; : &#39;Prenume:&#39;&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text =&quot;${map.get(&#39;prenume&#39;) == null} ? &#39;&#39; : ${map.get(&#39;prenume&#39;)}&quot; &gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n\r\n        &lt;table class=&quot;table&quot;&gt;\r\n            &lt;tbody&gt;\r\n                &lt;tr th:each=&quot;map2 : ${email_list}&quot; &gt;\r\n\r\n                    &lt;td th:text=&quot;${email_list == null} ? &#39;&#39; : &#39;CNP:&#39;&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text =&quot;${map2.get(&#39;cif&#39;) == null} ? &#39;&#39; : ${map2.get(&#39;cif&#39;)}&quot; &gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${email_list == null} ? &#39;&#39; : &#39;Nume:&#39;&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text =&quot;${map2.get(&#39;den_client&#39;) == null} ? &#39;&#39; : ${map2.get(&#39;den_client&#39;)}&quot; &gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n\r\n        &lt;table class=&quot;table&quot;&gt;\r\n            &lt;tbody&gt;\r\n                &lt;tr th:each=&quot;map2 : ${email_list2}&quot; &gt;\r\n\r\n                    &lt;td th:text=&quot;${email_list2 == null} ? &#39;&#39; : &#39;CNP:&#39;&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text =&quot;${map2.get(&#39;cnp&#39;) == null} ? &#39;&#39; : ${map2.get(&#39;cnp&#39;)}&quot; &gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${email_list2 == null} ? &#39;&#39; : &#39;Nume:&#39;&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text =&quot;${map2.get(&#39;nume&#39;) == null} ? &#39;&#39; : ${map2.get(&#39;nume&#39;)}&quot; &gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${email_list2 == null} ? &#39;&#39; : &#39;Prenume:&#39;&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text =&quot;${map2.get(&#39;prenume&#39;) == null} ? &#39;&#39; : ${map2.get(&#39;prenume&#39;)}&quot; &gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nCan someone explain to me what I am doing wrong and why the email values would not show up in the table even tough the can be console logged so they exist ? Maybe someone can give me a code example. Thanks","title":"Thymeleaf will not show values in table but shows correct number of rows","body":"<p>I have built an application in Spring and Thymeleaf and I have two input one for phone and one for email. The one for phone works very well and the one for email (when I search for an email) returns only the row names but without values, but with the correct number of rows. I console.logged the list in Java and the list that I put in the model for email contains values.</p>\n<p>Here is the Controller:</p>\n<pre><code>@PostMapping(&quot;/&quot;)\npublic String postDbRequest(@RequestParam(name=&quot;text2&quot;,required = false)String telefon, Model model, @RequestParam(name=&quot;email&quot;, required = false)String email) {\n\n    if(email == null) {\n        List&lt;Map&lt;String,Object&gt;&gt; mapList = new ArrayList&lt;&gt;();\n        List&lt;Map&lt;String,Object&gt;&gt; mapList2 = new ArrayList&lt;&gt;();\n\n        mapList = service.getRaspuns(telefon.substring(1, telefon.length()));\n        mapList2 = service.getRaspuns2(telefon);\n\n        model.addAttribute(&quot;map_list&quot;, mapList);\n        model.addAttribute(&quot;map_list2&quot;, mapList2);\n        model.addAttribute(&quot;telefon&quot;,telefon);\n\n\n    }\n\n    if(telefon == null ) {\n\n        List&lt;Map&lt;String,Object&gt;&gt; mapList3 = new ArrayList&lt;&gt;();\n        List&lt;Map&lt;String,Object&gt;&gt; mapList4 = new ArrayList&lt;&gt;();\n\n        mapList3 = service.getRaspuns3(email);\n        mapList4 = service.getRaspuns4(email);\n\n        model.addAttribute(&quot;email_list&quot;, mapList3);\n        model.addAttribute(&quot;email_list2&quot;, mapList4);\n        model.addAttribute(&quot;email&quot;, email);\n    }\n\n    return &quot;index&quot;;\n}\n</code></pre>\n<p>Here is the Thymeleaf page from which you search and on which you display results:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th =&quot;http://www.thymeleaf.org&quot; &gt;\n&lt;head&gt;\n    &lt;meta charset =&quot;UTF-8&quot; &gt;&lt;/meta&gt;\n    &lt;meta name =&quot;viewport&quot; content =&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot; &gt;\n    &lt;!-- Read CSS --&gt;\n    &lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot; &gt;\n    &lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/stil.css}&quot; &gt;\n    &lt;!-- Read JS --&gt;\n    &lt;script th:src =&quot;@{/webjars/jquery/jquery.min.js}&quot; defer &gt;&lt;/script&gt;\n    &lt;script th:src =&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot; defer &gt;&lt;/script&gt;\n    &lt;title&gt; Cautare telefon sau e-mail&lt;/title&gt;\n&lt;/head&gt;\n&lt;body class =&quot;bg-light&quot; &gt;\n    &lt;h2 text-align=&quot;center&quot;&gt;Cautare telefon sau email&lt;/h2&gt;\n    &lt;div class =&quot;text-center&quot; &gt;\n        &lt;form method =&quot;post&quot; action =&quot;/&quot; &gt;\n            &lt;div class=&quot;form-group&quot;&gt;\n                &lt;input th:type=&quot;text&quot; minlength=&quot;10&quot; maxlength=&quot;10&quot; class=&quot;form-control&quot; name =&quot;text2&quot;  placeholder=&quot;Numar telefon&quot; pattern=&quot;[0-9]{10}&quot; /&gt;\n\n                &lt;input type =&quot;submit&quot; value =&quot;Cauta&quot; class =&quot;btn btn-primary&quot; margin-top=&quot;2%&quot;/&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n        &lt;br&gt;&lt;/br&gt;\n        &lt;form method =&quot;post&quot; action =&quot;/&quot; &gt;\n            &lt;div class =&quot;form-group&quot; &gt;\n                &lt;input type =&quot;email&quot; class =&quot;form-control&quot; placeholder =&quot;Adresa email&quot; \n                name =&quot;email&quot; /&gt;\n\n                &lt;input type =&quot;submit&quot; value =&quot;Cauta&quot; class =&quot;btn btn-primary&quot; margin-top=&quot;2%&quot;/&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n        &lt;p th:text=&quot;${telefon == null} ? '' : 'Ati cautat numarul de telefon: ' + ${telefon}&quot;&gt;&lt;/p&gt;\n        &lt;p th:text=&quot;${email == null} ? '' : 'Ati cautat adresa de email: ' + ${email}&quot;&gt;&lt;/p&gt;\n\n        &lt;table class=&quot;table&quot;&gt;\n            &lt;tbody&gt;\n                &lt;tr th:each=&quot;map : ${map_list}&quot; &gt;\n\n                    &lt;td th:text=&quot;${map_list == null} ? '' : 'CNP:'&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text =&quot;${map.get('cif') == null} ? '' : ${map.get('cif')}&quot; &gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${map_list == null} ? '' : 'Nume:'&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text =&quot;${map.get('den_client') == null} ? '' : ${map.get('den_client')}&quot; &gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n        \n        &lt;table class=&quot;table&quot;&gt;\n            &lt;tbody&gt;\n                &lt;tr th:each=&quot;map : ${map_list2}&quot; &gt;\n\n                    &lt;td th:text=&quot;${map_list2 == null} ? '' : 'CNP:'&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text =&quot;${map.get('cnp') == null} ? '' : ${map.get('cnp')}&quot; &gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${map_list2 == null} ? '' : 'Nume:'&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text =&quot;${map.get('nume') == null} ? '' : ${map.get('nume')}&quot; &gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${map_list2 == null} ? '' : 'Prenume:'&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text =&quot;${map.get('prenume') == null} ? '' : ${map.get('prenume')}&quot; &gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n\n        &lt;table class=&quot;table&quot;&gt;\n            &lt;tbody&gt;\n                &lt;tr th:each=&quot;map2 : ${email_list}&quot; &gt;\n\n                    &lt;td th:text=&quot;${email_list == null} ? '' : 'CNP:'&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text =&quot;${map2.get('cif') == null} ? '' : ${map2.get('cif')}&quot; &gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${email_list == null} ? '' : 'Nume:'&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text =&quot;${map2.get('den_client') == null} ? '' : ${map2.get('den_client')}&quot; &gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n\n        &lt;table class=&quot;table&quot;&gt;\n            &lt;tbody&gt;\n                &lt;tr th:each=&quot;map2 : ${email_list2}&quot; &gt;\n\n                    &lt;td th:text=&quot;${email_list2 == null} ? '' : 'CNP:'&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text =&quot;${map2.get('cnp') == null} ? '' : ${map2.get('cnp')}&quot; &gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${email_list2 == null} ? '' : 'Nume:'&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text =&quot;${map2.get('nume') == null} ? '' : ${map2.get('nume')}&quot; &gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${email_list2 == null} ? '' : 'Prenume:'&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text =&quot;${map2.get('prenume') == null} ? '' : ${map2.get('prenume')}&quot; &gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Can someone explain to me what I am doing wrong and why the email values would not show up in the table even tough the can be console logged so they exist ? Maybe someone can give me a code example. Thanks</p>\n"},{"tags":["java","android","android-alertdialog","tablelayout"],"answers":[{"tags":[],"owner":{"account_id":17579508,"reputation":31,"user_id":12753596,"display_name":"Minh Huỳnh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648796176,"creation_date":1648796176,"answer_id":71702944,"question_id":71702737,"body_markdown":"I think you should set the fixed height for ScrollView.","title":"Child scrollable tablelayout isn&#39;t showing in my alertdialog. Why?","body":"<p>I think you should set the fixed height for ScrollView.</p>\n"},{"tags":[],"owner":{"account_id":18159713,"reputation":12916,"user_id":13211263,"display_name":"lpizzinidev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648797098,"creation_date":1648797098,"answer_id":71703106,"question_id":71702737,"body_markdown":"You should set the inflated `dialogView` as view for the dialog.&lt;br&gt;\r\nChange this line `builder.setView(R.layout.meter_entry_dialog);` to `builder.setView(dialogView);` and move it after `dialogView`&#39;s initialization.&lt;br&gt;\r\nAlso, you can use the `getContext()`&#160;method for the layout inflater.\r\n```\r\nAlertDialog.Builder builder = new AlertDialog.Builder(getContext());\r\nAlertDialog ad;\r\nbuilder.setIcon(R.drawable.ic_power);\r\n\r\nbuilder.setTitle(&quot;Meter entry&quot;);\r\nbuilder.setMessage(&quot;Please enter the details&quot;);\r\n\r\nLayoutInflater inflater = LayoutInflater.from(getContext());\r\n\r\nView dialogView = inflater.inflate(R.layout.meter_entry_dialog, null);\r\nbuilder.setView(dialogView);\r\n\r\nTableLayout tbl = dialogView.findViewById(R.id.meter_details);\r\n...\r\n```\r\n","title":"Child scrollable tablelayout isn&#39;t showing in my alertdialog. Why?","body":"<p>You should set the inflated <code>dialogView</code> as view for the dialog.<br>\nChange this line <code>builder.setView(R.layout.meter_entry_dialog);</code> to <code>builder.setView(dialogView);</code> and move it after <code>dialogView</code>'s initialization.<br>\nAlso, you can use the <code>getContext()</code> method for the layout inflater.</p>\n<pre><code>AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\nAlertDialog ad;\nbuilder.setIcon(R.drawable.ic_power);\n\nbuilder.setTitle(&quot;Meter entry&quot;);\nbuilder.setMessage(&quot;Please enter the details&quot;);\n\nLayoutInflater inflater = LayoutInflater.from(getContext());\n\nView dialogView = inflater.inflate(R.layout.meter_entry_dialog, null);\nbuilder.setView(dialogView);\n\nTableLayout tbl = dialogView.findViewById(R.id.meter_details);\n...\n</code></pre>\n"}],"owner":{"display_name":"user11452071"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71703106,"answer_count":2,"score":0,"last_activity_date":1648806391,"creation_date":1648794933,"question_id":71702737,"body_markdown":"I am trying to show a table of data in my custom alertdialog in my app.\r\n\r\n*My custom alert xml*:\r\n\r\n    &lt;TableLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:stretchColumns=&quot;*&quot;&gt;\r\n    &lt;TableRow\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;TextView\r\n            android:text=&quot;Page&quot; /&gt;\r\n        &lt;TextView\r\n            android:text=&quot;ENo&quot; /&gt;\r\n        &lt;TextView\r\n            android:text=&quot;QNo&quot; /&gt;\r\n        &lt;TextView\r\n            android:text=&quot;P_date&quot; /&gt;\r\n        &lt;TextView\r\n            android:text=&quot;P_read&quot; /&gt;\r\n        &lt;TextView\r\n            android:text=&quot;C_read&quot; /&gt;\r\n    &lt;/TableRow&gt;\r\n    &lt;TableRow&gt;\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;450dp&quot;\r\n            android:scrollbars=&quot;vertical&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            &gt;\r\n            &lt;TableLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:id=&quot;@+id/meter_details&quot;\r\n                android:stretchColumns=&quot;*&quot;&gt;\r\n            &lt;/TableLayout&gt;\r\n        &lt;/ScrollView&gt;\r\n    &lt;/TableRow&gt;\r\n    &lt;/TableLayout&gt;\r\n\r\n*My java code of populating the child table (with id: meter_details)*:\r\n\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\r\n    AlertDialog ad;\r\n    builder.setIcon(R.drawable.ic_power);\r\n    \r\n    builder.setTitle(&quot;Meter entry&quot;);\r\n    builder.setMessage(&quot;Please enter the details&quot;);\r\n    \r\n    Context dialogContext = builder.getContext();\r\n    LayoutInflater inflater = LayoutInflater.from(dialogContext);\r\n    View dialogView = inflater.inflate(R.layout.meter_entry_dialog, null);\r\n    builder.setView(dialogView);\r\n\r\n    TableLayout tbl = dialogView.findViewById(R.id.meter_details);\r\n    \r\n    for(int i=0;i&lt;arr.size();i++){\r\n       TableRow row = new TableRow(getContext());\r\n       row.setBackground(getResources().getDrawable(R.drawable.border));\r\n       TextView pg = new TextView(getContext());\r\n       TextView empno = new TextView(getContext());\r\n       TextView qtrno = new TextView(getContext());\r\n       TextView prev_date = new TextView(getContext());\r\n       EditText prev_read = new EditText(getContext());\r\n       EditText curr_read = new EditText(getContext());\r\n    \r\n       try {\r\n          pg.setText(arr.get(i).get(7).toString());\r\n          empno.setText(arr.get(i).get(1).toString());\r\n          qtrno.setText(arr.get(i).get(2).toString());\r\n          prev_date.setText(arr.get(i).get(5).toString());\r\n          prev_read.setText(arr.get(i).get(4).toString());\r\n    \r\n          row.addView(pg);\r\n          row.addView(empno);\r\n          row.addView(qtrno);\r\n          row.addView(prev_date);\r\n          row.addView(prev_read);\r\n          row.addView(curr_read);\r\n    \r\n          tbl.addView(row);\r\n      } catch (JSONException e) {\r\n          e.printStackTrace();\r\n      }\r\n    }\r\n    builder.setPositiveButton(&quot;Submit&quot;, new DialogInterface.OnClickListener() {\r\n        @Override\r\n        public void onClick(DialogInterface dialogInterface, int i) {}\r\n    });\r\n    builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n        @Override\r\n        public void onClick(DialogInterface dialogInterface, int i) {\r\n             dialogInterface.dismiss();\r\n        }\r\n    });\r\n    builder.setCancelable(false);\r\n    ad = builder.create();\r\n    ad.show();\r\n    WindowManager.LayoutParams layoutParams = new WindowManager.LayoutParams();\r\n    layoutParams.copyFrom(ad.getWindow().getAttributes());\r\n    layoutParams.width = WindowManager.LayoutParams.MATCH_PARENT;\r\n    layoutParams.height = WindowManager.LayoutParams.MATCH_PARENT;\r\n    ad.getWindow().setAttributes(layoutParams);\r\n\r\n\r\n----------\r\nOnly the first row of my parent tablelayout shows in my `alertdialog`. The rest of my data (which I am fetching from array and dynamically creating table rows and storing them) doesn&#39;t show.\r\n\r\nI have no idea as to why this is happening. I have even checked my `arr`, it has all the values which are required. Please help me","title":"Child scrollable tablelayout isn&#39;t showing in my alertdialog. Why?","body":"<p>I am trying to show a table of data in my custom alertdialog in my app.</p>\n<p><em>My custom alert xml</em>:</p>\n<pre><code>&lt;TableLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:stretchColumns=&quot;*&quot;&gt;\n&lt;TableRow\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n    &lt;TextView\n        android:text=&quot;Page&quot; /&gt;\n    &lt;TextView\n        android:text=&quot;ENo&quot; /&gt;\n    &lt;TextView\n        android:text=&quot;QNo&quot; /&gt;\n    &lt;TextView\n        android:text=&quot;P_date&quot; /&gt;\n    &lt;TextView\n        android:text=&quot;P_read&quot; /&gt;\n    &lt;TextView\n        android:text=&quot;C_read&quot; /&gt;\n&lt;/TableRow&gt;\n&lt;TableRow&gt;\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;450dp&quot;\n        android:scrollbars=&quot;vertical&quot;\n        android:layout_weight=&quot;1&quot;\n        &gt;\n        &lt;TableLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:id=&quot;@+id/meter_details&quot;\n            android:stretchColumns=&quot;*&quot;&gt;\n        &lt;/TableLayout&gt;\n    &lt;/ScrollView&gt;\n&lt;/TableRow&gt;\n&lt;/TableLayout&gt;\n</code></pre>\n<p><em>My java code of populating the child table (with id: meter_details)</em>:</p>\n<pre><code>AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\nAlertDialog ad;\nbuilder.setIcon(R.drawable.ic_power);\n\nbuilder.setTitle(&quot;Meter entry&quot;);\nbuilder.setMessage(&quot;Please enter the details&quot;);\n\nContext dialogContext = builder.getContext();\nLayoutInflater inflater = LayoutInflater.from(dialogContext);\nView dialogView = inflater.inflate(R.layout.meter_entry_dialog, null);\nbuilder.setView(dialogView);\n\nTableLayout tbl = dialogView.findViewById(R.id.meter_details);\n\nfor(int i=0;i&lt;arr.size();i++){\n   TableRow row = new TableRow(getContext());\n   row.setBackground(getResources().getDrawable(R.drawable.border));\n   TextView pg = new TextView(getContext());\n   TextView empno = new TextView(getContext());\n   TextView qtrno = new TextView(getContext());\n   TextView prev_date = new TextView(getContext());\n   EditText prev_read = new EditText(getContext());\n   EditText curr_read = new EditText(getContext());\n\n   try {\n      pg.setText(arr.get(i).get(7).toString());\n      empno.setText(arr.get(i).get(1).toString());\n      qtrno.setText(arr.get(i).get(2).toString());\n      prev_date.setText(arr.get(i).get(5).toString());\n      prev_read.setText(arr.get(i).get(4).toString());\n\n      row.addView(pg);\n      row.addView(empno);\n      row.addView(qtrno);\n      row.addView(prev_date);\n      row.addView(prev_read);\n      row.addView(curr_read);\n\n      tbl.addView(row);\n  } catch (JSONException e) {\n      e.printStackTrace();\n  }\n}\nbuilder.setPositiveButton(&quot;Submit&quot;, new DialogInterface.OnClickListener() {\n    @Override\n    public void onClick(DialogInterface dialogInterface, int i) {}\n});\nbuilder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n    @Override\n    public void onClick(DialogInterface dialogInterface, int i) {\n         dialogInterface.dismiss();\n    }\n});\nbuilder.setCancelable(false);\nad = builder.create();\nad.show();\nWindowManager.LayoutParams layoutParams = new WindowManager.LayoutParams();\nlayoutParams.copyFrom(ad.getWindow().getAttributes());\nlayoutParams.width = WindowManager.LayoutParams.MATCH_PARENT;\nlayoutParams.height = WindowManager.LayoutParams.MATCH_PARENT;\nad.getWindow().setAttributes(layoutParams);\n</code></pre>\n<hr />\n<p>Only the first row of my parent tablelayout shows in my <code>alertdialog</code>. The rest of my data (which I am fetching from array and dynamically creating table rows and storing them) doesn't show.</p>\n<p>I have no idea as to why this is happening. I have even checked my <code>arr</code>, it has all the values which are required. Please help me</p>\n"},{"tags":["java","mysql","sql","mariadb"],"comments":[{"owner":{"account_id":16197938,"reputation":3962,"user_id":11695049,"display_name":"tinazmu"},"score":1,"creation_date":1648806778,"post_id":71704948,"comment_id":126723036,"body_markdown":"For SQL 1: remove `AS temp1` and `AS temp2`; the aliases are only defined for subqueries used as tables in a FROM clause.","body":"For SQL 1: remove <code>AS temp1</code> and <code>AS temp2</code>; the aliases are only defined for subqueries used as tables in a FROM clause."},{"owner":{"account_id":8172423,"reputation":17307,"user_id":6152400,"display_name":"P.Salmon"},"score":0,"creation_date":1648806920,"post_id":71704948,"comment_id":126723076,"body_markdown":"There is no EXCEPT in mysql/mariadb search for mysql except to find alternatives. For second query WITH may not be available - what version of mariadb are you on? select version().","body":"There is no EXCEPT in mysql/mariadb search for mysql except to find alternatives. For second query WITH may not be available - what version of mariadb are you on? select version()."},{"owner":{"account_id":8172423,"reputation":17307,"user_id":6152400,"display_name":"P.Salmon"},"score":0,"creation_date":1648807774,"post_id":71704948,"comment_id":126723385,"body_markdown":"Common Table Expressions were introduced in MariaDB 10.2.1. - https://mariadb.com/kb/en/with/","body":"Common Table Expressions were introduced in MariaDB 10.2.1. - <a href=\"https://mariadb.com/kb/en/with/\" rel=\"nofollow noreferrer\">mariadb.com/kb/en/with</a>"},{"owner":{"account_id":17603008,"reputation":29,"user_id":12772562,"display_name":"Arman Engin Sucu"},"score":0,"creation_date":1648811055,"post_id":71704948,"comment_id":126724500,"body_markdown":"version is 5.5.68","body":"version is 5.5.68"},{"owner":{"account_id":8172423,"reputation":17307,"user_id":6152400,"display_name":"P.Salmon"},"score":0,"creation_date":1648812359,"post_id":71704948,"comment_id":126724971,"body_markdown":"There isn&#39;t a mariadb version 5.5.68 likely this is an elderly version of mysql and in mysql common table expression weren&#39;t introduced until version 8 - wherever you are getting this code from it&#39;s not of much value to you. The use of APPLY makes me think you are trying to lift and drop sql-server code and that just won&#39;t work in so many ways because of significant differences in the sql dialects.","body":"There isn&#39;t a mariadb version 5.5.68 likely this is an elderly version of mysql and in mysql common table expression weren&#39;t introduced until version 8 - wherever you are getting this code from it&#39;s not of much value to you. The use of APPLY makes me think you are trying to lift and drop sql-server code and that just won&#39;t work in so many ways because of significant differences in the sql dialects."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1648824065,"post_id":71704948,"comment_id":126729585,"body_markdown":"MariaDB 5.5 reached end of life 2 years ago (2020). Are you sure you are using this version? Post the result of `select version()`.","body":"MariaDB 5.5 reached end of life 2 years ago (2020). Are you sure you are using this version? Post the result of <code>select version()</code>."}],"owner":{"account_id":17603008,"reputation":29,"user_id":12772562,"display_name":"Arman Engin Sucu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648806373,"creation_date":1648806373,"question_id":71704948,"body_markdown":"I am new to sql and some of the queries that I wrote give errors. I can not find where the syntax is wrong.\r\n```\r\nString query4 = &quot;SELECT C.cname FROM company C WHERE NOT EXISTS &quot; +\r\n                    &quot;( (SELECT S.sid FROM student S WHERE year = &#39;freshman&#39;) AS temp1 EXCEPT (SELECT A.sid FROM apply A WHERE A.cid = C.cid) AS temp2 )&quot;;\r\n```\r\nThis query gives: MariaDB server version for the right syntax to use near &#39;AS temp1 EXCEPT (SELECT A.sid FROM apply A WHERE A.cid = C.cid) AS temp2 )&#39; at line 1\r\n\r\nand\r\n\r\n```\r\n&quot;WITH names_and_gpas AS (SELECT sname, cname, gpa FROM student NATURAL JOIN apply NATURAL JOIN company) &quot; +\r\n                    &quot;SELECT cname, AVG(gpa) FROM names_and_gpas GROUP BY cname&quot;;\r\n```\r\nThis query gives: MariaDB server version for the right syntax to use near &#39;names_and_gpas AS (SELECT sname, cname, gpa FROM student NATURAL JOIN apply NATU&#39; at line 1","title":"What is wrong about Syntax for the following sql queries?","body":"<p>I am new to sql and some of the queries that I wrote give errors. I can not find where the syntax is wrong.</p>\n<pre><code>String query4 = &quot;SELECT C.cname FROM company C WHERE NOT EXISTS &quot; +\n                    &quot;( (SELECT S.sid FROM student S WHERE year = 'freshman') AS temp1 EXCEPT (SELECT A.sid FROM apply A WHERE A.cid = C.cid) AS temp2 )&quot;;\n</code></pre>\n<p>This query gives: MariaDB server version for the right syntax to use near 'AS temp1 EXCEPT (SELECT A.sid FROM apply A WHERE A.cid = C.cid) AS temp2 )' at line 1</p>\n<p>and</p>\n<pre><code>&quot;WITH names_and_gpas AS (SELECT sname, cname, gpa FROM student NATURAL JOIN apply NATURAL JOIN company) &quot; +\n                    &quot;SELECT cname, AVG(gpa) FROM names_and_gpas GROUP BY cname&quot;;\n</code></pre>\n<p>This query gives: MariaDB server version for the right syntax to use near 'names_and_gpas AS (SELECT sname, cname, gpa FROM student NATURAL JOIN apply NATU' at line 1</p>\n"},{"tags":["java","android","android-intent","image-editing"],"answers":[{"tags":[],"owner":{"account_id":10974596,"reputation":74,"user_id":8063653,"display_name":"BluePine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648784344,"creation_date":1648780226,"answer_id":71701115,"question_id":71700786,"body_markdown":"You should convert absolute path to content uri.\r\n\r\nFor example\r\n\r\nBelow Android P\r\n\r\n    public static Uri getImageContentUri(Context context, File imageFile) {\r\n      String filePath = imageFile.getAbsolutePath();\r\n      Cursor cursor = context.getContentResolver().query(\r\n          MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\r\n          new String[] { MediaStore.Images.Media._ID },\r\n          MediaStore.Images.Media.DATA + &quot;=? &quot;,\r\n          new String[] { filePath }, null);\r\n      if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n        int id = cursor.getInt(cursor.getColumnIndex(MediaStore.MediaColumns._ID));\r\n        cursor.close();\r\n        return Uri.withAppendedPath(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, &quot;&quot; + id);\r\n      } else {\r\n        if (imageFile.exists()) {\r\n          ContentValues values = new ContentValues();\r\n          values.put(MediaStore.Images.Media.DATA, filePath);\r\n          return context.getContentResolver().insert(\r\n              MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n\r\nAbove Android Q\r\n\r\n    public static Uri getImageContentUri(Context context, File imageFile) {\r\n    String filePath = imageFile.getAbsolutePath();\r\n    Cursor cursor = context.getContentResolver().query(\r\n            MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\r\n            new String[]{MediaStore.Images.Media._ID},\r\n            MediaStore.Images.Media.DATA + &quot;=? &quot;,\r\n            new String[]{filePath}, null);\r\n    if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n        int id = cursor.getInt(cursor.getColumnIndex(MediaStore.MediaColumns._ID));\r\n        cursor.close();\r\n        return Uri.withAppendedPath(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, &quot;&quot; + id);\r\n    } else {\r\n        if (imageFile.exists()) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                ContentResolver resolver = context.getContentResolver();\r\n                Uri picCollection = MediaStore.Images.Media\r\n                        .getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\r\n                ContentValues picDetail = new ContentValues();\r\n                picDetail.put(MediaStore.Images.Media.DISPLAY_NAME, imageFile.getName());\r\n                picDetail.put(MediaStore.Images.Media.MIME_TYPE, &quot;image/jpg&quot;);\r\n                picDetail.put(MediaStore.Images.Media.RELATIVE_PATH,&quot;DCIM/&quot; + UUID.randomUUID().toString());\r\n                picDetail.put(MediaStore.Images.Media.IS_PENDING,1);\r\n                Uri finaluri = resolver.insert(picCollection, picDetail);\r\n                picDetail.clear();\r\n                picDetail.put(MediaStore.Images.Media.IS_PENDING, 0);\r\n                resolver.update(picCollection, picDetail, null, null);\r\n                return finaluri;\r\n            }else {\r\n                ContentValues values = new ContentValues();\r\n                values.put(MediaStore.Images.Media.DATA, filePath);\r\n                return context.getContentResolver().insert(\r\n                        MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\r\n            }\r\n    \r\n        } else {\r\n            return null;\r\n        }\r\n      }\r\n    }","title":"How to edit an image with absolute path?","body":"<p>You should convert absolute path to content uri.</p>\n<p>For example</p>\n<p>Below Android P</p>\n<pre><code>public static Uri getImageContentUri(Context context, File imageFile) {\n  String filePath = imageFile.getAbsolutePath();\n  Cursor cursor = context.getContentResolver().query(\n      MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\n      new String[] { MediaStore.Images.Media._ID },\n      MediaStore.Images.Media.DATA + &quot;=? &quot;,\n      new String[] { filePath }, null);\n  if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n    int id = cursor.getInt(cursor.getColumnIndex(MediaStore.MediaColumns._ID));\n    cursor.close();\n    return Uri.withAppendedPath(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, &quot;&quot; + id);\n  } else {\n    if (imageFile.exists()) {\n      ContentValues values = new ContentValues();\n      values.put(MediaStore.Images.Media.DATA, filePath);\n      return context.getContentResolver().insert(\n          MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\n    } else {\n      return null;\n    }\n  }\n}\n</code></pre>\n<p>Above Android Q</p>\n<pre><code>public static Uri getImageContentUri(Context context, File imageFile) {\nString filePath = imageFile.getAbsolutePath();\nCursor cursor = context.getContentResolver().query(\n        MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\n        new String[]{MediaStore.Images.Media._ID},\n        MediaStore.Images.Media.DATA + &quot;=? &quot;,\n        new String[]{filePath}, null);\nif (cursor != null &amp;&amp; cursor.moveToFirst()) {\n    int id = cursor.getInt(cursor.getColumnIndex(MediaStore.MediaColumns._ID));\n    cursor.close();\n    return Uri.withAppendedPath(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, &quot;&quot; + id);\n} else {\n    if (imageFile.exists()) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            ContentResolver resolver = context.getContentResolver();\n            Uri picCollection = MediaStore.Images.Media\n                    .getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\n            ContentValues picDetail = new ContentValues();\n            picDetail.put(MediaStore.Images.Media.DISPLAY_NAME, imageFile.getName());\n            picDetail.put(MediaStore.Images.Media.MIME_TYPE, &quot;image/jpg&quot;);\n            picDetail.put(MediaStore.Images.Media.RELATIVE_PATH,&quot;DCIM/&quot; + UUID.randomUUID().toString());\n            picDetail.put(MediaStore.Images.Media.IS_PENDING,1);\n            Uri finaluri = resolver.insert(picCollection, picDetail);\n            picDetail.clear();\n            picDetail.put(MediaStore.Images.Media.IS_PENDING, 0);\n            resolver.update(picCollection, picDetail, null, null);\n            return finaluri;\n        }else {\n            ContentValues values = new ContentValues();\n            values.put(MediaStore.Images.Media.DATA, filePath);\n            return context.getContentResolver().insert(\n                    MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\n        }\n\n    } else {\n        return null;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10974596,"reputation":74,"user_id":8063653,"display_name":"BluePine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648806146,"creation_date":1648806146,"answer_id":71704903,"question_id":71700786,"body_markdown":"Do you have the absolute path of the image?\r\n\r\nI suggest code like below, try again...\r\n\r\n    String filepath = &quot;/storage/emulated/0/image.jpg&quot;;\r\n    Uri selectedUri = getImageContentUri(context, new File(filepath));\r\n    openEditor(selectedUri);\r\n\r\nUse second getImageContentUri function in above answer.","title":"How to edit an image with absolute path?","body":"<p>Do you have the absolute path of the image?</p>\n<p>I suggest code like below, try again...</p>\n<pre><code>String filepath = &quot;/storage/emulated/0/image.jpg&quot;;\nUri selectedUri = getImageContentUri(context, new File(filepath));\nopenEditor(selectedUri);\n</code></pre>\n<p>Use second getImageContentUri function in above answer.</p>\n"}],"owner":{"account_id":18390208,"reputation":33,"user_id":13396084,"display_name":"Dan Leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648806146,"creation_date":1648776430,"question_id":71700786,"body_markdown":"I have use the pesdk library to edit an image. \r\n\r\n    public static int GALLERY_RESULT = 2;\r\n    private void selectImgtoEdit() {\r\n           Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(path));\r\n    \r\n           startActivityForResult(intent, GALLERY_RESULT);\r\n    }\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent intent) {\r\n            super.onActivityResult(requestCode, resultCode, intent);\r\n            Uri selectedImage = intent.getData();\r\n            openEditor(selectedImage);\r\n\r\n    }\r\n\r\n    public void openEditor(Uri inputImage) {\r\n            SettingsList settingsList = createPesdkSettingsList();\r\n    \r\n            // Set input image\r\n            settingsList.getSettingsModel(LoadSettings.class).setSource(inputImage);\r\n    \r\n            settingsList.getSettingsModel(PhotoEditorSaveSettings.class).setOutputToGallery(Environment.DIRECTORY_DCIM);\r\n    \r\n            new PhotoEditorBuilder(this).setSettingsList(settingsList).startActivityForResult(this, PESDK_RESULT);\r\n        }\r\n\r\nI want to use that library with the absolute path of an image. How can I setting it ?\r\n","title":"How to edit an image with absolute path?","body":"<p>I have use the pesdk library to edit an image.</p>\n<pre><code>public static int GALLERY_RESULT = 2;\nprivate void selectImgtoEdit() {\n       Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(path));\n\n       startActivityForResult(intent, GALLERY_RESULT);\n}\nprotected void onActivityResult(int requestCode, int resultCode, Intent intent) {\n        super.onActivityResult(requestCode, resultCode, intent);\n        Uri selectedImage = intent.getData();\n        openEditor(selectedImage);\n\n}\n\npublic void openEditor(Uri inputImage) {\n        SettingsList settingsList = createPesdkSettingsList();\n\n        // Set input image\n        settingsList.getSettingsModel(LoadSettings.class).setSource(inputImage);\n\n        settingsList.getSettingsModel(PhotoEditorSaveSettings.class).setOutputToGallery(Environment.DIRECTORY_DCIM);\n\n        new PhotoEditorBuilder(this).setSettingsList(settingsList).startActivityForResult(this, PESDK_RESULT);\n    }\n</code></pre>\n<p>I want to use that library with the absolute path of an image. How can I setting it ?</p>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":2558342,"reputation":1608,"user_id":2219876,"accept_rate":67,"display_name":"colmulhall"},"score":1,"creation_date":1648805520,"post_id":71704722,"comment_id":126722611,"body_markdown":"It&#39;s difficult to understand the issue without any context of the project. Could you add screenshots of your project structure to the question?","body":"It&#39;s difficult to understand the issue without any context of the project. Could you add screenshots of your project structure to the question?"},{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1648805600,"post_id":71704722,"comment_id":126722636,"body_markdown":"Please checkout https://stackoverflow.com/help/how-to-ask","body":"Please checkout <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1648807902,"post_id":71704722,"comment_id":126723422,"body_markdown":"Try to do `File | Invalidate Caches... | Invalidate and Restart`. If it doesn&#39;t help close the project `File | Close Project` and the IDE, open the project in OS file explorer and delete all .iml files and the .idea directory. After that, re-import the project in the IDE as per https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start .","body":"Try to do <code>File | Invalidate Caches... | Invalidate and Restart</code>. If it doesn&#39;t help close the project <code>File | Close Project</code> and the IDE, open the project in OS file explorer and delete all .iml files and the .idea directory. After that, re-import the project in the IDE as per <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a> ."}],"answers":[{"tags":[],"owner":{"account_id":6269879,"reputation":168,"user_id":4874430,"display_name":"Isma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1648806144,"creation_date":1648806144,"answer_id":71704902,"question_id":71704722,"body_markdown":"I&#39;m afraid it may be a problem with your IDE. \r\nCheck if you have the last version and try to run also with other (Eclipse,STS,...).\r\nI hope this help you.\r\n","title":"package does not exist when running the application","body":"<p>I'm afraid it may be a problem with your IDE.\nCheck if you have the last version and try to run also with other (Eclipse,STS,...).\nI hope this help you.</p>\n"}],"owner":{"account_id":20246829,"reputation":13,"user_id":14849040,"display_name":"A_CH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1038,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1648823857,"accepted_answer_id":71704902,"answer_count":1,"score":-2,"last_activity_date":1648806144,"creation_date":1648805287,"question_id":71704722,"body_markdown":"I have this error when tryin to run the application spring boot \r\n\r\njava: package com.example.openapi.api does not exist\r\n\r\nbut the build (mvn clean install) is successful\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X2Xiz.png\r\n\r\nI don&#39;t understand what is the problem !","title":"package does not exist when running the application","body":"<p>I have this error when tryin to run the application spring boot</p>\n<p>java: package com.example.openapi.api does not exist</p>\n<p>but the build (mvn clean install) is successful</p>\n<p><a href=\"https://i.stack.imgur.com/X2Xiz.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I don't understand what is the problem !</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1580887690,"post_id":60070791,"comment_id":106241181,"body_markdown":"**Don&#39;t ignore exceptions.** In order to call `start()`, the recorder must be in state &quot;Prepared&quot;, which is established by a *successful* call to `prepare()`, but `prepare()` likely failed (see your log), the code ignored the exception (after logging it), so the code attempted to `start()` anyway, causing that error. --- In short: Don&#39;t call `start()` if `prepare()` failed.","body":"<b>Don&#39;t ignore exceptions.</b> In order to call <code>start()</code>, the recorder must be in state &quot;Prepared&quot;, which is established by a <i>successful</i> call to <code>prepare()</code>, but <code>prepare()</code> likely failed (see your log), the code ignored the exception (after logging it), so the code attempted to <code>start()</code> anyway, causing that error. --- In short: Don&#39;t call <code>start()</code> if <code>prepare()</code> failed."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1580887754,"post_id":60070791,"comment_id":106241212,"body_markdown":"Andreas  is correct:  you should be calling `start()` *INSIDE* the try/catch block, *AFTER* you&#39;ve successfully completed `prepare()`.  ALSO: Look here:  [Why does the start() method of MediaRecorder throw an IllegalStateException?](https://stackoverflow.com/questions/5177039/why-does-the-start-method-of-mediarecorder-throw-an-illegalstateexception)","body":"Andreas  is correct:  you should be calling <code>start()</code> <i>INSIDE</i> the try/catch block, <i>AFTER</i> you&#39;ve successfully completed <code>prepare()</code>.  ALSO: Look here:  <a href=\"https://stackoverflow.com/questions/5177039/why-does-the-start-method-of-mediarecorder-throw-an-illegalstateexception\">Why does the start() method of MediaRecorder throw an IllegalStateException?</a>"}],"answers":[{"tags":[],"owner":{"account_id":17692069,"reputation":1,"user_id":12843611,"display_name":"Nahush Amane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580986664,"creation_date":1580986664,"answer_id":60093396,"question_id":60070791,"body_markdown":"Thank you all for the answers. I actually figured out where the problem was. I assigned fileName some value twice. I combined it together with a + and it worked.","title":"How to solve java.lang.IllegalStateException while recording audio in android app","body":"<p>Thank you all for the answers. I actually figured out where the problem was. I assigned fileName some value twice. I combined it together with a + and it worked.</p>\n"},{"tags":[],"owner":{"account_id":21831388,"reputation":81,"user_id":16126283,"display_name":"vaidik limbachiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648806094,"creation_date":1648806094,"answer_id":71704894,"question_id":60070791,"body_markdown":"replace fileName = &quot;/audio.3gp&quot;;\r\n\r\nwith\r\n\r\nfileName = fileName + &quot;/audio.3gp&quot;;","title":"How to solve java.lang.IllegalStateException while recording audio in android app","body":"<p>replace fileName = &quot;/audio.3gp&quot;;</p>\n<p>with</p>\n<p>fileName = fileName + &quot;/audio.3gp&quot;;</p>\n"}],"owner":{"account_id":17692069,"reputation":1,"user_id":12843611,"display_name":"Nahush Amane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":718,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1648806094,"creation_date":1580887404,"question_id":60070791,"body_markdown":"I am creating an app to record audio.\r\nI have created a fragment named &#39;Record&#39; which contains a button to record audio.\r\nThis is the code of fragment\r\n\r\n    public class Record extends Fragment {\r\n\r\n    private Button ButtonRecord;\r\n    private MediaRecorder recorder;\r\n    private  String fileName = null;\r\n    private static final String LOG_TAG = &quot;Record_Log&quot;;\r\n    private int ClickCount = 0;\r\n    private StorageReference Storage;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n\r\n        View v = inflater.inflate(R.layout.fragment_record,container,false);\r\n\r\n        ButtonRecord = v.findViewById(R.id.button_record_record);\r\n        fileName = Environment.getExternalStorageDirectory().getAbsolutePath();\r\n        fileName = &quot;/audio.3gp&quot;;\r\n        Storage = FirebaseStorage.getInstance().getReference();\r\n\r\n        ButtonRecord.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                ClickCount++;\r\n                if(ClickCount%2 == 1) {\r\n                    startRecording();\r\n                    ButtonRecord.setText(&quot;Stop&quot;);\r\n                }\r\n                else if(ClickCount%2 == 0) {\r\n                    stopRecording();\r\n                    ButtonRecord.setText(&quot;Record&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        return v;\r\n    }\r\n\r\nThis is the code for start-stop recorder.\r\n\r\n    private void startRecording() {\r\n        recorder = new MediaRecorder();\r\n        recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n        recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\r\n        recorder.setOutputFile(fileName);\r\n        recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\n\r\n        try {\r\n            recorder.prepare();\r\n        } catch (IOException e) {\r\n            Log.e(LOG_TAG, &quot;prepare() failed&quot;);\r\n        }\r\n\r\n        recorder.start();\r\n    }\r\n\r\n    private void stopRecording() {\r\n        recorder.stop();\r\n        recorder.release();\r\n        recorder = null;\r\n    }\r\n\r\nWhen I try to press the record button the app crashes and following error is shown. The error is shown in a pop-up.\r\n\r\n    java.lang.IllegalStateException\r\n\tat android.media.MediaRecorder.start(Native Method)\r\n\tat com.example.afinal.Record.startRecording(Record.java:68)\r\n\tat com.example.afinal.Record.access$100(Record.java:19)\r\n\tat com.example.afinal.Record$1.onClick(Record.java:42)\r\n\tat android.view.View.performClick(View.java:6304)\r\n\tat android.view.View$PerformClick.run(View.java:24803)\r\n\tat android.os.Handler.handleCallback(Handler.java:794)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\tat android.os.Looper.loop(Looper.java:176)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6651)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:824)   ","title":"How to solve java.lang.IllegalStateException while recording audio in android app","body":"<p>I am creating an app to record audio.\nI have created a fragment named 'Record' which contains a button to record audio.\nThis is the code of fragment</p>\n\n<pre><code>public class Record extends Fragment {\n\nprivate Button ButtonRecord;\nprivate MediaRecorder recorder;\nprivate  String fileName = null;\nprivate static final String LOG_TAG = \"Record_Log\";\nprivate int ClickCount = 0;\nprivate StorageReference Storage;\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n\n    View v = inflater.inflate(R.layout.fragment_record,container,false);\n\n    ButtonRecord = v.findViewById(R.id.button_record_record);\n    fileName = Environment.getExternalStorageDirectory().getAbsolutePath();\n    fileName = \"/audio.3gp\";\n    Storage = FirebaseStorage.getInstance().getReference();\n\n    ButtonRecord.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            ClickCount++;\n            if(ClickCount%2 == 1) {\n                startRecording();\n                ButtonRecord.setText(\"Stop\");\n            }\n            else if(ClickCount%2 == 0) {\n                stopRecording();\n                ButtonRecord.setText(\"Record\");\n            }\n        }\n    });\n\n    return v;\n}\n</code></pre>\n\n<p>This is the code for start-stop recorder.</p>\n\n<pre><code>private void startRecording() {\n    recorder = new MediaRecorder();\n    recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n    recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\n    recorder.setOutputFile(fileName);\n    recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\n\n    try {\n        recorder.prepare();\n    } catch (IOException e) {\n        Log.e(LOG_TAG, \"prepare() failed\");\n    }\n\n    recorder.start();\n}\n\nprivate void stopRecording() {\n    recorder.stop();\n    recorder.release();\n    recorder = null;\n}\n</code></pre>\n\n<p>When I try to press the record button the app crashes and following error is shown. The error is shown in a pop-up.</p>\n\n<pre><code>java.lang.IllegalStateException\nat android.media.MediaRecorder.start(Native Method)\nat com.example.afinal.Record.startRecording(Record.java:68)\nat com.example.afinal.Record.access$100(Record.java:19)\nat com.example.afinal.Record$1.onClick(Record.java:42)\nat android.view.View.performClick(View.java:6304)\nat android.view.View$PerformClick.run(View.java:24803)\nat android.os.Handler.handleCallback(Handler.java:794)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:176)\nat android.app.ActivityThread.main(ActivityThread.java:6651)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:824)   \n</code></pre>\n"},{"tags":["javascript","java","jquery","free-jqgrid"],"answers":[{"tags":[],"owner":{"account_id":5617303,"reputation":3232,"user_id":4448195,"display_name":"Tony Tomov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648805397,"creation_date":1648798669,"answer_id":71703380,"question_id":71697737,"body_markdown":"You can not do it this way in jqGrid (suppose free-jqgrid too), since the **this.value** is set when the colModel is created and it is undefined to this time. In order to do what you want you will need to use a dataUrl as function and pass the value to it like this: \r\n\r\n```js\r\ncolModel:[\r\n        {name:&#39;id&#39;, index:&#39;id&#39;, width:80, hidden: true, editable: true, editoptions:{ readonly:&#39;readonly&#39;}, editrules:{edithidden:true}, formoptions:{rowpos:1, colpos:1,label:&quot;Index#:&quot;}},\r\n        {name:&#39;crrstatus&#39;, index:&#39;crrstatus&#39;, hidden: true, editable: true, editrules:{edithidden:true}, formoptions:{rowpos:2, colpos:1,label:&quot;Current Queue:&quot;, elmsuffix: &quot; &quot;},\r\n         edittype: &quot;select&quot;,\r\n            editoptions: { dataUrl: function ( rowId, value, name) {\r\n                return &#39;/QMSWebApp/CustomerReturnRecordsControllerServletV8?lifecycle=customerReturnStatusOptionsLessInitialized&amp;currentQueue=&#39;+value,\r\n            }\r\n            selectFilled: function (options) {\r\n                $(options.elem).select2({\r\n                    dropdownCssClass: &#39;ui-widget ui-jqdialog zclassX2&#39;,\r\n                    width: 300\r\n                });\r\n        }}},\r\n```","title":"Sending Current Cell Value in dataURL","body":"<p>You can not do it this way in jqGrid (suppose free-jqgrid too), since the <strong>this.value</strong> is set when the colModel is created and it is undefined to this time. In order to do what you want you will need to use a dataUrl as function and pass the value to it like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>colModel:[\n        {name:'id', index:'id', width:80, hidden: true, editable: true, editoptions:{ readonly:'readonly'}, editrules:{edithidden:true}, formoptions:{rowpos:1, colpos:1,label:&quot;Index#:&quot;}},\n        {name:'crrstatus', index:'crrstatus', hidden: true, editable: true, editrules:{edithidden:true}, formoptions:{rowpos:2, colpos:1,label:&quot;Current Queue:&quot;, elmsuffix: &quot; &quot;},\n         edittype: &quot;select&quot;,\n            editoptions: { dataUrl: function ( rowId, value, name) {\n                return '/QMSWebApp/CustomerReturnRecordsControllerServletV8?lifecycle=customerReturnStatusOptionsLessInitialized&amp;currentQueue='+value,\n            }\n            selectFilled: function (options) {\n                $(options.elem).select2({\n                    dropdownCssClass: 'ui-widget ui-jqdialog zclassX2',\n                    width: 300\n                });\n        }}},\n</code></pre>\n"}],"owner":{"account_id":2708925,"reputation":155,"user_id":2337872,"accept_rate":60,"display_name":"Steve Dyke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71703380,"answer_count":1,"score":0,"last_activity_date":1648805397,"creation_date":1648752727,"question_id":71697737,"body_markdown":"Using jqGrid 4.15.6-pre - free jqGrid\r\n\r\nIn my colModel I am populating a cell with dataURL. I want to send the current cell value to the server with the URL. The following sends the parameter but the value(this.value) is undefined.\r\n\r\n    colModel:[\r\n   \t\t\t{name:&#39;id&#39;, index:&#39;id&#39;, width:80, hidden: true, editable: true, editoptions:{ readonly:&#39;readonly&#39;}, editrules:{edithidden:true}, formoptions:{rowpos:1, colpos:1,label:&quot;Index#:&quot;}},\r\n   \t\t\t{name:&#39;crrstatus&#39;, index:&#39;crrstatus&#39;, hidden: true, editable: true, editrules:{edithidden:true}, formoptions:{rowpos:2, colpos:1,label:&quot;Current Queue:&quot;, elmsuffix: &quot; &quot;},\r\n   \t\t\t edittype: &quot;select&quot;,\r\n   \t\t\t \teditoptions: { dataUrl: &#39;/QMSWebApp/CustomerReturnRecordsControllerServletV8?lifecycle=customerReturnStatusOptionsLessInitialized&amp;currentQueue=&#39;+this.value,\r\n\t\t\t \tselectFilled: function (options) {\r\n\t\t\t \t\t$(options.elem).select2({\r\n\t\t\t \t\t\tdropdownCssClass: &#39;ui-widget ui-jqdialog zclassX2&#39;,\r\n\t\t\t \t\t\twidth: 300\r\n\t\t\t\t\t});\r\n\t\t\t}}},","title":"Sending Current Cell Value in dataURL","body":"<p>Using jqGrid 4.15.6-pre - free jqGrid</p>\n<p>In my colModel I am populating a cell with dataURL. I want to send the current cell value to the server with the URL. The following sends the parameter but the value(this.value) is undefined.</p>\n<pre><code>colModel:[\n        {name:'id', index:'id', width:80, hidden: true, editable: true, editoptions:{ readonly:'readonly'}, editrules:{edithidden:true}, formoptions:{rowpos:1, colpos:1,label:&quot;Index#:&quot;}},\n        {name:'crrstatus', index:'crrstatus', hidden: true, editable: true, editrules:{edithidden:true}, formoptions:{rowpos:2, colpos:1,label:&quot;Current Queue:&quot;, elmsuffix: &quot; &quot;},\n         edittype: &quot;select&quot;,\n            editoptions: { dataUrl: '/QMSWebApp/CustomerReturnRecordsControllerServletV8?lifecycle=customerReturnStatusOptionsLessInitialized&amp;currentQueue='+this.value,\n            selectFilled: function (options) {\n                $(options.elem).select2({\n                    dropdownCssClass: 'ui-widget ui-jqdialog zclassX2',\n                    width: 300\n                });\n        }}},\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1648805968,"post_id":71704667,"comment_id":126722772,"body_markdown":"Static blocks are being run on class loading, which means there are locks and all sort of skullduggery involved. Take a jstack and see if it sheds a light on how many threads there are and what their state is.","body":"Static blocks are being run on class loading, which means there are locks and all sort of skullduggery involved. Take a jstack and see if it sheds a light on how many threads there are and what their state is."}],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1648806877,"answer_count":0,"score":1,"last_activity_date":1648805077,"creation_date":1648805077,"question_id":71704667,"body_markdown":"I&#39;m working on a app that has a few issues, and noticed that some threads are started in static blocks. I know this is a horrendous, vile practice which will be addressed, but the interesting thing I found is that the threads don&#39;t actually start until the static block exits.\r\n\r\nHere is an simple example that blocks indefinitely\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        new Static().sayHello();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Static {\r\n    static {\r\n        var thread = new Thread(()-&gt; System.out.println(&quot;I&#39;m running&quot;));\r\n\r\n        thread.start();\r\n\r\n        try {\r\n            thread.join(); // Hangs in here\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void sayHello() {\r\n        System.out.println(&quot;Hello&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe text *I&#39;m running* is never printed and this hangs forever.\r\n\r\nAny idea why this happens? I thought the thread should start nortmally, but it looks like being inside a static block makes a difference. I&#39;m running this on openjdk 11.0.13. ","title":"Starting a thread in static block doesn&#39;t run until it exits the static block","body":"<p>I'm working on a app that has a few issues, and noticed that some threads are started in static blocks. I know this is a horrendous, vile practice which will be addressed, but the interesting thing I found is that the threads don't actually start until the static block exits.</p>\n<p>Here is an simple example that blocks indefinitely</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        new Static().sayHello();\n    }\n}\n</code></pre>\n<pre><code>public class Static {\n    static {\n        var thread = new Thread(()-&gt; System.out.println(&quot;I'm running&quot;));\n\n        thread.start();\n\n        try {\n            thread.join(); // Hangs in here\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void sayHello() {\n        System.out.println(&quot;Hello&quot;);\n    }\n}\n</code></pre>\n<p>The text <em>I'm running</em> is never printed and this hangs forever.</p>\n<p>Any idea why this happens? I thought the thread should start nortmally, but it looks like being inside a static block makes a difference. I'm running this on openjdk 11.0.13.</p>\n"},{"tags":["java","spring-boot","junit","apache-camel"],"comments":[{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1648804843,"post_id":71696128,"comment_id":126722363,"body_markdown":"Please provide the route that you want to test","body":"Please provide the route that you want to test"},{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1648805660,"post_id":71696128,"comment_id":126722656,"body_markdown":"The init method is useless, you can remove it. The `@Test` annotation is missing on your test method. Which version of JUnit do you use 4 or 5?","body":"The init method is useless, you can remove it. The <code>@Test</code> annotation is missing on your test method. Which version of JUnit do you use 4 or 5?"},{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1648806064,"post_id":71696128,"comment_id":126722807,"body_markdown":"as example check this test class https://github.com/apache/camel-spring-boot-examples/blob/main/unit-testing/src/test/java/CamelSpringBootUnitTests.java","body":"as example check this test class <a href=\"https://github.com/apache/camel-spring-boot-examples/blob/main/unit-testing/src/test/java/CamelSpringBootUnitTests.java\" rel=\"nofollow noreferrer\">github.com/apache/camel-spring-boot-examples/blob/main/&hellip;</a>"},{"owner":{"account_id":24761450,"reputation":21,"user_id":18645810,"display_name":"Prasath"},"score":0,"creation_date":1648896749,"post_id":71696128,"comment_id":126742612,"body_markdown":"Sorry that i missed to add @Test in this question. But i am using in my project. I am using JUnit 4. I added this code by seeing the example which you shared, But no luck. Still camelContext is null","body":"Sorry that i missed to add @Test in this question. But i am using in my project. I am using JUnit 4. I added this code by seeing the example which you shared, But no luck. Still camelContext is null"},{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1648904019,"post_id":71696128,"comment_id":126743898,"body_markdown":"The example is in JUnit 5","body":"The example is in JUnit 5"},{"owner":{"account_id":24761450,"reputation":21,"user_id":18645810,"display_name":"Prasath"},"score":0,"creation_date":1649124866,"post_id":71696128,"comment_id":126791109,"body_markdown":"Can we able to achieve this in Junit 4?","body":"Can we able to achieve this in Junit 4?"},{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":1,"creation_date":1649144590,"post_id":71696128,"comment_id":126794849,"body_markdown":"JUnit 4 is much too old now, you will have to migrate to JUnit 5","body":"JUnit 4 is much too old now, you will have to migrate to JUnit 5"},{"owner":{"account_id":24761450,"reputation":21,"user_id":18645810,"display_name":"Prasath"},"score":1,"creation_date":1649237986,"post_id":71696128,"comment_id":126823008,"body_markdown":"i tried this example in Junit 5. still getting camelContext as null","body":"i tried this example in Junit 5. still getting camelContext as null"},{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1649239297,"post_id":71696128,"comment_id":126823502,"body_markdown":"If you want to get an answer to your question, you need to provide all information allowing us to reproduce which is currently not the case. Please read this https://stackoverflow.com/help/minimal-reproducible-example","body":"If you want to get an answer to your question, you need to provide all information allowing us to reproduce which is currently not the case. Please read this <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":4924,"reputation":10565,"user_id":7644,"accept_rate":75,"display_name":"SpoiledTechie.com"},"score":0,"creation_date":1651862988,"post_id":71696128,"comment_id":127474094,"body_markdown":"Ever figure it out?","body":"Ever figure it out?"}],"owner":{"account_id":24761450,"reputation":21,"user_id":18645810,"display_name":"Prasath"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":950,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1648805040,"creation_date":1648744172,"question_id":71696128,"body_markdown":"\r\nI am trying to write JUnit test case to replace my JMS camel route with direct route.\r\nI am trying to replace route &quot;myRoute&quot; with &quot;direct:start&quot;. But my camel context is coming as `null`.\r\n\r\n```\r\n@CamelSpringBootTest\r\n@SpringBootTest(class = Application.class)\r\n@ContextConfiguration\r\npublic class AppTest{\r\n    \r\n    @Autowired\r\n    CamelContext camelContext;\r\n    \r\n    \r\n    public void testMethod(){\r\n    \r\n        AdviceWith.adviceWith(camelContext, &quot;myRoute&quot;, routeBuilder -&gt; {\r\n            routeBuilder.replaceFromWith(&quot;direct:start&quot;);\r\n        });\r\n    }    \r\n}\r\n```\r\n\r\nI tried to start the camel context in an `init()` method. But getting below exception from `AdviceWith` class\r\n\r\n    @Before\r\n    public void init() throws Exception{\r\n        camelContext.start();    \r\n    }\r\n\r\n`Exception:\r\nGetting cannot AdviceRoute as there are no routes`","title":"camelContext is null in Camel Route Testing while replaceFromWith","body":"<p>I am trying to write JUnit test case to replace my JMS camel route with direct route.\nI am trying to replace route &quot;myRoute&quot; with &quot;direct:start&quot;. But my camel context is coming as <code>null</code>.</p>\n<pre><code>@CamelSpringBootTest\n@SpringBootTest(class = Application.class)\n@ContextConfiguration\npublic class AppTest{\n    \n    @Autowired\n    CamelContext camelContext;\n    \n    \n    public void testMethod(){\n    \n        AdviceWith.adviceWith(camelContext, &quot;myRoute&quot;, routeBuilder -&gt; {\n            routeBuilder.replaceFromWith(&quot;direct:start&quot;);\n        });\n    }    \n}\n</code></pre>\n<p>I tried to start the camel context in an <code>init()</code> method. But getting below exception from <code>AdviceWith</code> class</p>\n<pre><code>@Before\npublic void init() throws Exception{\n    camelContext.start();    \n}\n</code></pre>\n<p><code>Exception: Getting cannot AdviceRoute as there are no routes</code></p>\n"},{"tags":["java","log4j","jamvm"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1648838463,"post_id":71704643,"comment_id":126734459,"body_markdown":"What Java JRE are you using? The missing class appeared in Java 7.","body":"What Java JRE are you using? The missing class appeared in Java 7."},{"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"score":0,"creation_date":1648890780,"post_id":71704643,"comment_id":126741738,"body_markdown":"I&#39; not sure, I got system with already installed jamvm","body":"I&#39; not sure, I got system with already installed jamvm"}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648804972,"creation_date":1648804972,"question_id":71704643,"body_markdown":"Trying to run simple java application with log4j on jamvm virtual machine:\r\n\r\n    jamvm -cp &quot;.:log4j-api-2.11.2.jar:log4j-core-2.11.2.jar&quot; m.main\r\n\r\nGot error: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: java/util/Objects\r\n       at org.apache.logging.log4j.core.impl.Log4jContextFactory.&lt;init&gt;(Log4jContextFactory.java:90)\r\n       at org.apache.logging.log4j.core.impl.Log4jContextFactory.&lt;init&gt;(Log4jContextFactory.java:59)\r\n       at java.lang.reflect.VMConstructor.construct(Native Method)\r\n       at java.lang.reflect.Constructor.newInstance(Constructor.java:319)\r\n       at java.lang.Class.newInstance(Class.java:1154)\r\n       at org.apache.logging.log4j.LogManager.&lt;clinit&gt;(LogManager.java:94)\r\n       at m.main.&lt;clinit&gt;(main.java:7)\r\n    Caused by: java.lang.ClassNotFoundException: java.util.Objects not found in java.lang.ClassLoader$1{urls=[file:/opt/rfidSrv/./,file:/opt/rfidSrv/log4j-api-2.11.2.jar,file:/opt/rfidSrv/log4j-core-2.11.2.jar], parent=null}\r\n       at java.net.URLClassLoader.findClass(URLClassLoader.java:531)\r\n       at java.lang.ClassLoader.loadClass(ClassLoader.java:341)\r\n       at java.lang.ClassLoader$1.loadClass(ClassLoader.java:1112)\r\n       at java.lang.ClassLoader.loadClass(ClassLoader.java:293)\r\n       at org.apache.logging.log4j.core.impl.Log4jContextFactory.&lt;init&gt;(Log4jContextFactory.java:90)\r\n       ...6 more\r\n\r\nWhat is wrong there and how to fix that?\r\n\r\nThe same command on Oracle Java works fine:\r\n\r\n    java -cp &quot;.:log4j-api-2.11.2.jar:log4j-core-2.11.2.jar&quot; m.main\r\n\r\n\r\n\r\nCode:\r\n\r\npackage m;\r\n\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    \r\n    public class main {\r\n    \tprivate static final Logger LOG =  LogManager.getLogger(main.class);\r\n    \t \r\n    \tpublic static void main(String[] args) \r\n    \t\t{\r\n    \t\tLOG.info(&quot;---startting---&quot;);\r\n    \t    \r\n            LOG.debug(&quot;This Will Be Printed On Debug&quot;);\r\n            LOG.info(&quot;This Will Be Printed On Info&quot;);\r\n            LOG.warn(&quot;This Will Be Printed On Warn&quot;);\r\n            LOG.error(&quot;This Will Be Printed On Error&quot;);\r\n            LOG.fatal(&quot;This Will Be Printed On Fatal&quot;);\r\n     \r\n            LOG.info(&quot;Appending string: {}.&quot;, &quot;Hello, World&quot;);\r\n            \r\n    \t\t}\r\n    }\r\n\r\n","title":"Run log4j on jamvm","body":"<p>Trying to run simple java application with log4j on jamvm virtual machine:</p>\n<pre><code>jamvm -cp &quot;.:log4j-api-2.11.2.jar:log4j-core-2.11.2.jar&quot; m.main\n</code></pre>\n<p>Got error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: java/util/Objects\n   at org.apache.logging.log4j.core.impl.Log4jContextFactory.&lt;init&gt;(Log4jContextFactory.java:90)\n   at org.apache.logging.log4j.core.impl.Log4jContextFactory.&lt;init&gt;(Log4jContextFactory.java:59)\n   at java.lang.reflect.VMConstructor.construct(Native Method)\n   at java.lang.reflect.Constructor.newInstance(Constructor.java:319)\n   at java.lang.Class.newInstance(Class.java:1154)\n   at org.apache.logging.log4j.LogManager.&lt;clinit&gt;(LogManager.java:94)\n   at m.main.&lt;clinit&gt;(main.java:7)\nCaused by: java.lang.ClassNotFoundException: java.util.Objects not found in java.lang.ClassLoader$1{urls=[file:/opt/rfidSrv/./,file:/opt/rfidSrv/log4j-api-2.11.2.jar,file:/opt/rfidSrv/log4j-core-2.11.2.jar], parent=null}\n   at java.net.URLClassLoader.findClass(URLClassLoader.java:531)\n   at java.lang.ClassLoader.loadClass(ClassLoader.java:341)\n   at java.lang.ClassLoader$1.loadClass(ClassLoader.java:1112)\n   at java.lang.ClassLoader.loadClass(ClassLoader.java:293)\n   at org.apache.logging.log4j.core.impl.Log4jContextFactory.&lt;init&gt;(Log4jContextFactory.java:90)\n   ...6 more\n</code></pre>\n<p>What is wrong there and how to fix that?</p>\n<p>The same command on Oracle Java works fine:</p>\n<pre><code>java -cp &quot;.:log4j-api-2.11.2.jar:log4j-core-2.11.2.jar&quot; m.main\n</code></pre>\n<p>Code:</p>\n<p>package m;</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\npublic class main {\n    private static final Logger LOG =  LogManager.getLogger(main.class);\n     \n    public static void main(String[] args) \n        {\n        LOG.info(&quot;---startting---&quot;);\n        \n        LOG.debug(&quot;This Will Be Printed On Debug&quot;);\n        LOG.info(&quot;This Will Be Printed On Info&quot;);\n        LOG.warn(&quot;This Will Be Printed On Warn&quot;);\n        LOG.error(&quot;This Will Be Printed On Error&quot;);\n        LOG.fatal(&quot;This Will Be Printed On Fatal&quot;);\n \n        LOG.info(&quot;Appending string: {}.&quot;, &quot;Hello, World&quot;);\n        \n        }\n}\n</code></pre>\n"},{"tags":["java","spring","jsp","web-applications","tomcat6"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1295859947,"post_id":4780168,"comment_id":5293394,"body_markdown":"can you list out libraries you have included","body":"can you list out libraries you have included"},{"owner":{"account_id":699114,"reputation":197,"user_id":587241,"display_name":"1000Suns"},"score":0,"creation_date":1295860135,"post_id":4780168,"comment_id":5293416,"body_markdown":"I am using Hibernate so I have hibernate libraries such as hibernate-annotations.jar, hibernate3.jar etc. But according to the stacktrace, it seems I am missing one of the springframework librabries. I have these spring libraries:- spring.jar, spring-aop.jar, spring-aspects.jar, spring-beans.jar, spring-context.jar, spring-context-support.jar, spring-core.jar, spring-jdbc.jar, spring-test.jar, spring-web.jar, spring-webmvc.jar","body":"I am using Hibernate so I have hibernate libraries such as hibernate-annotations.jar, hibernate3.jar etc. But according to the stacktrace, it seems I am missing one of the springframework librabries. I have these spring libraries:- spring.jar, spring-aop.jar, spring-aspects.jar, spring-beans.jar, spring-context.jar, spring-context-support.jar, spring-core.jar, spring-jdbc.jar, spring-test.jar, spring-web.jar, spring-webmvc.jar"},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1295860374,"post_id":4780168,"comment_id":5293451,"body_markdown":"ok then there is no spring jar ,is it ?","body":"ok then there is no spring jar ,is it ?"}],"answers":[{"tags":[],"owner":{"account_id":265671,"reputation":33764,"user_id":552792,"accept_rate":43,"display_name":"jamesmortensen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1295860529,"creation_date":1295860004,"answer_id":4780222,"question_id":4780168,"body_markdown":"The org.springframework.web.util.Log4jConfigListener class is definitely not in your classpath.  \r\n\r\nThe first thing I would suggest is that you turn up the logging level in Tomcat -- in the conf folder -- to &quot;ALL&quot; or &quot;DEBUG&quot; so that you can see exactly what is going on in the container that is preventing this class from being found.\r\n\r\nSecond, I&#39;d recommend you check your JAR files for the missing class file by running grep, if on linux/mac:\r\n\r\n      # run at the root of your lib folders:\r\n      grep -ri &quot;org.springframework.web.util.Log4jConfigListener&quot; *\r\n\r\nThe above command will return all JAR files that contain that package.  Once the JAR file is isolated, then you can further troubleshoot.  \r\n\r\nThird, make sure you don&#39;t have any conflicts.  Multiple versions of Log4j being in your classpath will wreak havoc.  How is the system supposed to know **which** org.springframework.web.util.Log4jConfigListener package to load if there are 2 of them?  Tomcat has 3 different classpath folders:\r\n\r\n     shared/lib\r\n     lib\r\n     webapps/yourapp/WEB-INF/lib\r\n\r\nMake sure you have only one log4j JAR file in only one of these folders.","title":"Log4jConfigListener cannot be found -- context fails to start","body":"<p>The org.springframework.web.util.Log4jConfigListener class is definitely not in your classpath.  </p>\n\n<p>The first thing I would suggest is that you turn up the logging level in Tomcat -- in the conf folder -- to \"ALL\" or \"DEBUG\" so that you can see exactly what is going on in the container that is preventing this class from being found.</p>\n\n<p>Second, I'd recommend you check your JAR files for the missing class file by running grep, if on linux/mac:</p>\n\n<pre><code>  # run at the root of your lib folders:\n  grep -ri \"org.springframework.web.util.Log4jConfigListener\" *\n</code></pre>\n\n<p>The above command will return all JAR files that contain that package.  Once the JAR file is isolated, then you can further troubleshoot.  </p>\n\n<p>Third, make sure you don't have any conflicts.  Multiple versions of Log4j being in your classpath will wreak havoc.  How is the system supposed to know <strong>which</strong> org.springframework.web.util.Log4jConfigListener package to load if there are 2 of them?  Tomcat has 3 different classpath folders:</p>\n\n<pre><code> shared/lib\n lib\n webapps/yourapp/WEB-INF/lib\n</code></pre>\n\n<p>Make sure you have only one log4j JAR file in only one of these folders.</p>\n"},{"tags":[],"owner":{"account_id":752298,"reputation":31,"user_id":742380,"display_name":"Reticulogic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305727069,"creation_date":1304710889,"answer_id":5916241,"question_id":4780168,"body_markdown":"If you are using maven and eclipse \r\n\r\n1) Look in your web project .classpath file.  If you have a classpath entry &quot;org.maven.ide.eclipse.MAVEN2_CLASSPATH_CONTAINER&quot;, then make sure the attribute is there as well.\r\n\r\n    \r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.maven.ide.eclipse.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;org.eclipse.jst.component.dependency&quot; value=&quot;/WEB-INF/lib&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\r\n\r\n2)  If that does not work, then right click on your web project in eclipse and go to Properties--&gt;JavaEE Module dependencies.  Make sure the Maven Dependencies box is checked.\r\n\r\n\r\nThen save, build deploy yada yada","title":"Log4jConfigListener cannot be found -- context fails to start","body":"<p>If you are using maven and eclipse </p>\n\n<p>1) Look in your web project .classpath file.  If you have a classpath entry \"org.maven.ide.eclipse.MAVEN2_CLASSPATH_CONTAINER\", then make sure the attribute is there as well.</p>\n\n<pre><code>&lt;classpathentry kind=\"con\" path=\"org.maven.ide.eclipse.MAVEN2_CLASSPATH_CONTAINER\"&gt;\n    &lt;attributes&gt;\n        &lt;attribute name=\"org.eclipse.jst.component.dependency\" value=\"/WEB-INF/lib\"/&gt;\n    &lt;/attributes&gt;\n&lt;/classpathentry&gt;\n</code></pre>\n\n<p>2)  If that does not work, then right click on your web project in eclipse and go to Properties-->JavaEE Module dependencies.  Make sure the Maven Dependencies box is checked.</p>\n\n<p>Then save, build deploy yada yada</p>\n"},{"tags":[],"owner":{"account_id":611,"reputation":5077,"user_id":799,"accept_rate":100,"display_name":"Templar"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1314293170,"creation_date":1314293170,"answer_id":7194596,"question_id":4780168,"body_markdown":"Reticulogic&#39;s second suggestion is correct.  However, in Eclipse Helios, the &quot;Java EE Module Dependencies&quot; option has been removed.  The fix for Helios is as follows:\r\n\r\n 1. Right click on your project in Eclipse and go to Properties--&gt;Deployment Assembly\r\n 2. Click &quot;Add...&quot;\r\n 3. Select &quot;Java Build Path Entries&quot; and click &quot;Next&quot;\r\n 4. select &quot;Maven Dependencies&quot; and click &quot;Finish&quot;","title":"Log4jConfigListener cannot be found -- context fails to start","body":"<p>Reticulogic's second suggestion is correct.  However, in Eclipse Helios, the \"Java EE Module Dependencies\" option has been removed.  The fix for Helios is as follows:</p>\n\n<ol>\n<li>Right click on your project in Eclipse and go to Properties-->Deployment Assembly</li>\n<li>Click \"Add...\"</li>\n<li>Select \"Java Build Path Entries\" and click \"Next\"</li>\n<li>select \"Maven Dependencies\" and click \"Finish\"</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4052220,"reputation":41,"user_id":3331355,"display_name":"user3331355"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1396596670,"creation_date":1396595278,"answer_id":22855919,"question_id":4780168,"body_markdown":"A simple solution is to clean the Tomcat directory in Eclipse. It worked for me.","title":"Log4jConfigListener cannot be found -- context fails to start","body":"<p>A simple solution is to clean the Tomcat directory in Eclipse. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":6974663,"reputation":2075,"user_id":5349795,"accept_rate":93,"display_name":"LakiGeri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485850109,"creation_date":1485850109,"answer_id":41952560,"question_id":4780168,"body_markdown":"If you use, log4j2, you can find these classes in\r\n\r\n    org.apache.logging.log4j.web.*\r\npackage.\r\n\r\n","title":"Log4jConfigListener cannot be found -- context fails to start","body":"<p>If you use, log4j2, you can find these classes in</p>\n\n<pre><code>org.apache.logging.log4j.web.*\n</code></pre>\n\n<p>package.</p>\n"},{"tags":[],"owner":{"account_id":18334463,"reputation":61,"user_id":13352172,"display_name":"cbbs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609216787,"creation_date":1609216662,"answer_id":65487347,"question_id":4780168,"body_markdown":"&gt; Migrating to log4j2?\r\n\r\n \r\nDon&#39;t forget to check your webapp/WEB-INF/web.xml (Web Application Deployment Descriptor) for extraneous Event Listener definitions.","title":"Log4jConfigListener cannot be found -- context fails to start","body":"<blockquote>\n<p>Migrating to log4j2?</p>\n</blockquote>\n<p>Don't forget to check your webapp/WEB-INF/web.xml (Web Application Deployment Descriptor) for extraneous Event Listener definitions.</p>\n"},{"tags":[],"owner":{"account_id":22979597,"reputation":17,"user_id":17106737,"display_name":"Reb0rN"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648804941,"creation_date":1648804941,"answer_id":71704638,"question_id":4780168,"body_markdown":"As you can see from the class name `org.springframework.web.util.Log4jConfigListener` is part of spring framework.\r\nAnd it was depricated since spring 4.2.1 . So check your spring version.","title":"Log4jConfigListener cannot be found -- context fails to start","body":"<p>As you can see from the class name <code>org.springframework.web.util.Log4jConfigListener</code> is part of spring framework.\nAnd it was depricated since spring 4.2.1 . So check your spring version.</p>\n"}],"owner":{"account_id":699114,"reputation":197,"user_id":587241,"display_name":"1000Suns"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61858,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":4780222,"answer_count":7,"score":14,"last_activity_date":1648804941,"creation_date":1295859550,"question_id":4780168,"body_markdown":"I am trying to set up a web application on Eclipse. I am using Tomcat 6.0 and jdk 1.6.0_23.\r\nFor some reason I am getting this error: \r\n&lt;pre&gt;\r\nSEVERE: Error configuring application listener of class org.springframework.web.util.Log4jConfigListener\r\njava.lang.ClassNotFoundException: org.springframework.web.util.Log4jConfigListener\r\n at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1645)\r\n at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1491)\r\n at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4078)\r\n at org.apache.catalina.core.StandardContext.start(StandardContext.java:4630)\r\n at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)\r\n at org.apache.catalina.core.StandardHost.start(StandardHost.java:785)\r\n at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)\r\n at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:445)\r\n at org.apache.catalina.core.StandardService.start(StandardService.java:519)\r\n at org.apache.catalina.core.StandardServer.start(StandardServer.java:710)\r\n at org.apache.catalina.startup.Catalina.start(Catalina.java:581)\r\n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n at java.lang.reflect.Method.invoke(Method.java:597)\r\n at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\r\n at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\r\nJan 24, 2011 11:44:08 AM org.apache.catalina.core.StandardContext listenerStart\r\nSEVERE: Error configuring application listener of class org.springframework.web.context.ContextLoaderListener\r\njava.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener\r\n at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1645)\r\n at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1491)\r\n at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4078)\r\n at org.apache.catalina.core.StandardContext.start(StandardContext.java:4630)\r\n at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)\r\n at org.apache.catalina.core.StandardHost.start(StandardHost.java:785)\r\n at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)\r\n at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:445)\r\n at org.apache.catalina.core.StandardService.start(StandardService.java:519)\r\n at org.apache.catalina.core.StandardServer.start(StandardServer.java:710)\r\n at org.apache.catalina.startup.Catalina.start(Catalina.java:581)\r\n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n at java.lang.reflect.Method.invoke(Method.java:597)\r\n at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\r\n at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\r\n&lt;/pre&gt;\r\n\r\nI checked if all libraries have been added to the build path and everything seems correct. log4j-1.2.15.jar is included and all the necessary spring libraries.\r\n\r\nI am very confused as to what the problem especially because the project was working fine in another computer. Any help with this problem will be highly appreciated.\r\n\r\nNaftal","title":"Log4jConfigListener cannot be found -- context fails to start","body":"<p>I am trying to set up a web application on Eclipse. I am using Tomcat 6.0 and jdk 1.6.0_23.\nFor some reason I am getting this error: </p>\n\n<pre>\nSEVERE: Error configuring application listener of class org.springframework.web.util.Log4jConfigListener\njava.lang.ClassNotFoundException: org.springframework.web.util.Log4jConfigListener\n at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1645)\n at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1491)\n at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4078)\n at org.apache.catalina.core.StandardContext.start(StandardContext.java:4630)\n at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)\n at org.apache.catalina.core.StandardHost.start(StandardHost.java:785)\n at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)\n at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:445)\n at org.apache.catalina.core.StandardService.start(StandardService.java:519)\n at org.apache.catalina.core.StandardServer.start(StandardServer.java:710)\n at org.apache.catalina.startup.Catalina.start(Catalina.java:581)\n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n at java.lang.reflect.Method.invoke(Method.java:597)\n at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\n at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\nJan 24, 2011 11:44:08 AM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Error configuring application listener of class org.springframework.web.context.ContextLoaderListener\njava.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener\n at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1645)\n at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1491)\n at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4078)\n at org.apache.catalina.core.StandardContext.start(StandardContext.java:4630)\n at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)\n at org.apache.catalina.core.StandardHost.start(StandardHost.java:785)\n at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)\n at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:445)\n at org.apache.catalina.core.StandardService.start(StandardService.java:519)\n at org.apache.catalina.core.StandardServer.start(StandardServer.java:710)\n at org.apache.catalina.startup.Catalina.start(Catalina.java:581)\n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n at java.lang.reflect.Method.invoke(Method.java:597)\n at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\n at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\n</pre>\n\n<p>I checked if all libraries have been added to the build path and everything seems correct. log4j-1.2.15.jar is included and all the necessary spring libraries.</p>\n\n<p>I am very confused as to what the problem especially because the project was working fine in another computer. Any help with this problem will be highly appreciated.</p>\n\n<p>Naftal</p>\n"},{"tags":["java","android","android-studio","httpclient","okhttp"],"comments":[{"owner":{"account_id":24740824,"reputation":133,"user_id":18627591,"display_name":"AndroidE"},"score":0,"creation_date":1648799761,"post_id":71703461,"comment_id":126720692,"body_markdown":"@MatteoNNZ wait, i will edit my question to show my import statements","body":"@MatteoNNZ wait, i will edit my question to show my import statements"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1648856466,"post_id":71703461,"comment_id":126737978,"body_markdown":"For one thing, you don&#39;t seem to define a `GetText` method.","body":"For one thing, you don&#39;t seem to define a <code>GetText</code> method."},{"owner":{"account_id":24740824,"reputation":133,"user_id":18627591,"display_name":"AndroidE"},"score":0,"creation_date":1648875554,"post_id":71703461,"comment_id":126739933,"body_markdown":"@RyanM waw you deleted my comment?","body":"@RyanM waw you deleted my comment?"}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648799659,"creation_date":1648799659,"answer_id":71703562,"question_id":71703461,"body_markdown":"By the screenshots you posted, it looks like you&#39;re pointing to the classes of the package `org.apache.http`, but from the methods you use in your code, I think you rather want to use `java.net.http` classes. \r\n\r\nSo simply fix your import statements on top of your class, from:\r\n\r\n    import org.apache.http.HttpClient;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.HttpRequest;\r\n    //etc.\r\n\r\nto:\r\n\r\n    import java.net.http.HttpClient;\r\n    import java.net.http.HttpResponse;\r\n    import java.net.http.HttpRequest;\r\n    //etc.","title":"How to Solve HttpClient Error in Android Studio","body":"<p>By the screenshots you posted, it looks like you're pointing to the classes of the package <code>org.apache.http</code>, but from the methods you use in your code, I think you rather want to use <code>java.net.http</code> classes.</p>\n<p>So simply fix your import statements on top of your class, from:</p>\n<pre><code>import org.apache.http.HttpClient;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.HttpRequest;\n//etc.\n</code></pre>\n<p>to:</p>\n<pre><code>import java.net.http.HttpClient;\nimport java.net.http.HttpResponse;\nimport java.net.http.HttpRequest;\n//etc.\n</code></pre>\n"}],"owner":{"account_id":24740824,"reputation":133,"user_id":18627591,"display_name":"AndroidE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1342,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1648856474,"accepted_answer_id":71703562,"answer_count":1,"score":0,"last_activity_date":1648804751,"creation_date":1648799121,"question_id":71703461,"body_markdown":"Full code\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private Button btnTurn;\r\n    private boolean state = false;\r\n    private BluetoothAdapter bluetoothAdapter;\r\n    public static final int REQUEST_ACCESS_COARSE_LOCATION = 1;\r\n    public String mUrl = &quot;http://192.168.6.56/server_http/api/show.php/&quot;;\r\n    public String data;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        btnTurn = findViewById(R.id.btnTurn);\r\n        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    \r\n        final Handler handler = new Handler();\r\n        handler.postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                stateCheck();\r\n                Log.d(&quot;Logger&quot;, &quot;State Check&quot;);\r\n                handler.postDelayed(this, 1000);\r\n            }\r\n        }, 1000);\r\n    \r\n        btnTurn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(!state){\r\n                    btnTurn.setText(&quot;Turn Off&quot;);\r\n                    state = true;\r\n                }else{\r\n                    btnTurn.setText(&quot;Turn On&quot;);\r\n                    state = false;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    \r\n    public void stateCheck(){\r\n        if (state){\r\n            if (bluetoothAdapter!=null &amp; bluetoothAdapter.isEnabled()) {\r\n                if(checkCoarsePermission()){\r\n                    Log.d(&quot;Logger&quot;, &quot;Discover&quot;);\r\n                    bluetoothAdapter.startDiscovery();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    private boolean checkCoarsePermission(){\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION)\r\n                != PackageManager.PERMISSION_GRANTED){\r\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_COARSE_LOCATION},\r\n                    REQUEST_ACCESS_COARSE_LOCATION);\r\n            return false;\r\n        }else {\r\n            return true;\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothDevice.ACTION_FOUND));\r\n        registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_STARTED));\r\n        registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_FINISHED));\r\n    \r\n    }\r\n    \r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        unregisterReceiver(devicesFoundReceiver);\r\n    }\r\n    \r\n    private final BroadcastReceiver devicesFoundReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action= intent.getAction();\r\n    \r\n            if(BluetoothDevice.ACTION_FOUND.equals(action)){\r\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n                int  rssi = intent.getShortExtra(BluetoothDevice.EXTRA_RSSI,Short.MIN_VALUE);\r\n                String RSSI = String.valueOf(rssi);\r\n                Toast.makeText(context.getApplicationContext(),&quot;rssi &quot;+RSSI+&quot; &quot;+device.getAddress(),Toast.LENGTH_SHORT).show();\r\n                Log.d(&quot;Logger&quot;, &quot;Recive data &quot;+device.getAddress());\r\n                data = &quot;RSSI: &quot;+RSSI+&quot; MAC: &quot;+device.getAddress();\r\n                try{\r\n                    GetText(mUrl,data);\r\n                }catch (IOException e){\r\n                    Log.e(&quot;Logger&quot;,&quot;Error Function to send&quot;);\r\n                }\r\n    \r\n            }else if(BluetoothAdapter.ACTION_DISCOVERY_FINISHED.equals(action)){\r\n            }else if(BluetoothAdapter.ACTION_DISCOVERY_STARTED.equals(action)){\r\n            }\r\n        }\r\n    };\r\n    \r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    \r\n        switch (requestCode){\r\n            case REQUEST_ACCESS_COARSE_LOCATION:\r\n                if(grantResults.length&gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                    Toast.makeText(this,&quot;ALLOWED&quot;, Toast.LENGTH_SHORT).show();\r\n                }else {\r\n                    Toast.makeText(this,&quot;Forbidden&quot;,Toast.LENGTH_SHORT).show();\r\n                } break;\r\n        }\r\n    }\r\n    \r\n    public void post(String urll, String dataa) throws Exception {\r\n        HttpClient client = HttpClient.newBuilder().build();\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n                .uri(URI.create(urll))\r\n                .POST(BodyPublishers.ofString(dataa))\r\n                .build();\r\n    \r\n        HttpResponse&lt;?&gt; response = client.send(request, BodyHandlers.discarding());\r\n        System.out.println(response.statusCode());\r\n    }\r\n    }\r\n\r\nProblem of code\r\n\r\n![Picture of problem](https://i.stack.imgur.com/YyMt9.png)\r\n\r\nError\r\n\r\n![Error](https://i.stack.imgur.com/1BUOQ.png)\r\n\r\nI want send RSSI and MAC of Bluetooth scan using HTTP protocol, i used method HttpClient as plain java in Android Studio Java. But in my case, the code will error. I don&#39;t know why. I was included library and gradle in my android studio but still error. Anyone can help me how to solve it? Thanks","title":"How to Solve HttpClient Error in Android Studio","body":"<p>Full code</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate Button btnTurn;\nprivate boolean state = false;\nprivate BluetoothAdapter bluetoothAdapter;\npublic static final int REQUEST_ACCESS_COARSE_LOCATION = 1;\npublic String mUrl = &quot;http://192.168.6.56/server_http/api/show.php/&quot;;\npublic String data;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    btnTurn = findViewById(R.id.btnTurn);\n    bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n\n    final Handler handler = new Handler();\n    handler.postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            stateCheck();\n            Log.d(&quot;Logger&quot;, &quot;State Check&quot;);\n            handler.postDelayed(this, 1000);\n        }\n    }, 1000);\n\n    btnTurn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            if(!state){\n                btnTurn.setText(&quot;Turn Off&quot;);\n                state = true;\n            }else{\n                btnTurn.setText(&quot;Turn On&quot;);\n                state = false;\n            }\n        }\n    });\n}\n\npublic void stateCheck(){\n    if (state){\n        if (bluetoothAdapter!=null &amp; bluetoothAdapter.isEnabled()) {\n            if(checkCoarsePermission()){\n                Log.d(&quot;Logger&quot;, &quot;Discover&quot;);\n                bluetoothAdapter.startDiscovery();\n            }\n        }\n    }\n}\n\nprivate boolean checkCoarsePermission(){\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION)\n            != PackageManager.PERMISSION_GRANTED){\n        ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_COARSE_LOCATION},\n                REQUEST_ACCESS_COARSE_LOCATION);\n        return false;\n    }else {\n        return true;\n    }\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothDevice.ACTION_FOUND));\n    registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_STARTED));\n    registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_FINISHED));\n\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    unregisterReceiver(devicesFoundReceiver);\n}\n\nprivate final BroadcastReceiver devicesFoundReceiver = new BroadcastReceiver() {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        String action= intent.getAction();\n\n        if(BluetoothDevice.ACTION_FOUND.equals(action)){\n            BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n            int  rssi = intent.getShortExtra(BluetoothDevice.EXTRA_RSSI,Short.MIN_VALUE);\n            String RSSI = String.valueOf(rssi);\n            Toast.makeText(context.getApplicationContext(),&quot;rssi &quot;+RSSI+&quot; &quot;+device.getAddress(),Toast.LENGTH_SHORT).show();\n            Log.d(&quot;Logger&quot;, &quot;Recive data &quot;+device.getAddress());\n            data = &quot;RSSI: &quot;+RSSI+&quot; MAC: &quot;+device.getAddress();\n            try{\n                GetText(mUrl,data);\n            }catch (IOException e){\n                Log.e(&quot;Logger&quot;,&quot;Error Function to send&quot;);\n            }\n\n        }else if(BluetoothAdapter.ACTION_DISCOVERY_FINISHED.equals(action)){\n        }else if(BluetoothAdapter.ACTION_DISCOVERY_STARTED.equals(action)){\n        }\n    }\n};\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    switch (requestCode){\n        case REQUEST_ACCESS_COARSE_LOCATION:\n            if(grantResults.length&gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                Toast.makeText(this,&quot;ALLOWED&quot;, Toast.LENGTH_SHORT).show();\n            }else {\n                Toast.makeText(this,&quot;Forbidden&quot;,Toast.LENGTH_SHORT).show();\n            } break;\n    }\n}\n\npublic void post(String urll, String dataa) throws Exception {\n    HttpClient client = HttpClient.newBuilder().build();\n    HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(urll))\n            .POST(BodyPublishers.ofString(dataa))\n            .build();\n\n    HttpResponse&lt;?&gt; response = client.send(request, BodyHandlers.discarding());\n    System.out.println(response.statusCode());\n}\n}\n</code></pre>\n<p>Problem of code</p>\n<p><img src=\"https://i.stack.imgur.com/YyMt9.png\" alt=\"Picture of problem\" /></p>\n<p>Error</p>\n<p><img src=\"https://i.stack.imgur.com/1BUOQ.png\" alt=\"Error\" /></p>\n<p>I want send RSSI and MAC of Bluetooth scan using HTTP protocol, i used method HttpClient as plain java in Android Studio Java. But in my case, the code will error. I don't know why. I was included library and gradle in my android studio but still error. Anyone can help me how to solve it? Thanks</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":11762591,"reputation":141,"user_id":14436036,"display_name":"Md Irshad Sheikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648804721,"creation_date":1648624173,"answer_id":71672922,"question_id":71672868,"body_markdown":"Use \r\n\r\n    &lt;properties&gt;\r\n        &lt;tests.skip&gt;true&lt;/tests.skip&gt;\r\n    &lt;/properties&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.22.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;skipTests&gt;${tests.skip}&lt;/skipTests&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n    mvn clean install -Dtests.skip\r\nor for skip false you can use:\r\n\r\n    mvn -Dtests.skip=false\r\n\r\n","title":"I need to run the command based on the -DskipTests flag in pom.xml","body":"<p>Use</p>\n<pre><code>&lt;properties&gt;\n    &lt;tests.skip&gt;true&lt;/tests.skip&gt;\n&lt;/properties&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.22.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;skipTests&gt;${tests.skip}&lt;/skipTests&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n\nmvn clean install -Dtests.skip\n</code></pre>\n<p>or for skip false you can use:</p>\n<pre><code>mvn -Dtests.skip=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648625349,"creation_date":1648625349,"answer_id":71673189,"question_id":71672868,"body_markdown":"Then you need to put the executions into two Maven profiles and activate them based on the property.","title":"I need to run the command based on the -DskipTests flag in pom.xml","body":"<p>Then you need to put the executions into two Maven profiles and activate them based on the property.</p>\n"}],"owner":{"account_id":9959727,"reputation":106,"user_id":7369440,"display_name":"Balagoni Harish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648804721,"creation_date":1648623902,"question_id":71672868,"body_markdown":"We have an angular folder inside the java spring project. \r\n\r\nI am using the maven build tool so if the `-DskipTests` flag is true I need to trigger the `npm buildProdSkipTests` command. \r\n\r\nIf it&#39;s `false` I need to trigger the `npm buildProd` command.\r\n\r\nThis is my pom.xml file\r\n\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;artifactId&gt;mbaasportal&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;mbaasportal&lt;/name&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;xxxx&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;xxx&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.7.0.0&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;middleware.version&gt;[9.4.0.0, 9.4.0.999)&lt;/middleware.version&gt;\r\n        &lt;maven.exec.skip&gt;false&lt;/maven.exec.skip&gt;\r\n\t&lt;/properties&gt;\r\n    &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n\t\t\t\t\t&lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;npm-install&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;workingDirectory&gt;${project.basedir}/src/main/webapp&lt;/workingDirectory&gt;\r\n\t\t\t\t\t\t&lt;executable&gt;npm&lt;/executable&gt;\r\n\t\t\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t\t\t&lt;argument&gt;install&lt;/argument&gt;\r\n\t\t\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;webpack-build&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;workingDirectory&gt;${project.basedir}/src/main/webapp&lt;/workingDirectory&gt;\r\n\t\t\t\t\t\t&lt;executable&gt;npm&lt;/executable&gt;\r\n\t\t\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t\t\t&lt;argument&gt;run&lt;/argument&gt;\r\n\t\t\t\t\t\t\t&lt;argument&gt;buildProd&lt;/argument&gt;\r\n\t\t\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;","title":"I need to run the command based on the -DskipTests flag in pom.xml","body":"<p>We have an angular folder inside the java spring project.</p>\n<p>I am using the maven build tool so if the <code>-DskipTests</code> flag is true I need to trigger the <code>npm buildProdSkipTests</code> command.</p>\n<p>If it's <code>false</code> I need to trigger the <code>npm buildProd</code> command.</p>\n<p>This is my pom.xml file</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;artifactId&gt;mbaasportal&lt;/artifactId&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;name&gt;mbaasportal&lt;/name&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;xxxx&lt;/groupId&gt;\n    &lt;artifactId&gt;xxx&lt;/artifactId&gt;\n    &lt;version&gt;5.7.0.0&lt;/version&gt;\n&lt;/parent&gt;\n&lt;properties&gt;\n    &lt;middleware.version&gt;[9.4.0.0, 9.4.0.999)&lt;/middleware.version&gt;\n    &lt;maven.exec.skip&gt;false&lt;/maven.exec.skip&gt;\n&lt;/properties&gt;\n&lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;npm-install&lt;/id&gt;\n                    &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;exec&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                    &lt;workingDirectory&gt;${project.basedir}/src/main/webapp&lt;/workingDirectory&gt;\n                    &lt;executable&gt;npm&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;install&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;webpack-build&lt;/id&gt;\n                    &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;exec&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                    &lt;workingDirectory&gt;${project.basedir}/src/main/webapp&lt;/workingDirectory&gt;\n                    &lt;executable&gt;npm&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;run&lt;/argument&gt;\n                        &lt;argument&gt;buildProd&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","java-stream","max"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1648763337,"post_id":71699480,"comment_id":126714301,"body_markdown":"I don&#39;t understand what &quot;three biggest maximums&quot; means and how it gets you `apple=30`.","body":"I don&#39;t understand what &quot;three biggest maximums&quot; means and how it gets you <code>apple=30</code>."},{"owner":{"account_id":24764575,"reputation":29,"user_id":18648552,"display_name":"Kate Quinn"},"score":0,"creation_date":1648764628,"post_id":71699480,"comment_id":126714585,"body_markdown":"Sorry I made a mistake, I edited the question, to be more understandable","body":"Sorry I made a mistake, I edited the question, to be more understandable"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1648767538,"post_id":71699480,"comment_id":126715102,"body_markdown":"It still says `apple=30`.","body":"It still says <code>apple=30</code>."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1648768998,"post_id":71699480,"comment_id":126715364,"body_markdown":"I could understand if the expected output was `apple=90`, but I can&#39;t fathom why/how it would be `apple=30`. Please carefully re-read and edit as required so your question/problem is clear.","body":"I could understand if the expected output was <code>apple=90</code>, but I can&#39;t fathom why/how it would be <code>apple=30</code>. Please carefully re-read and edit as required so your question/problem is clear."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1648771259,"post_id":71699480,"comment_id":126715717,"body_markdown":"https://ideone.com/ygPHSd","body":"<a href=\"https://ideone.com/ygPHSd\" rel=\"nofollow noreferrer\">ideone.com/ygPHSd</a>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648770379,"creation_date":1648766136,"answer_id":71699855,"question_id":71699480,"body_markdown":"Here is one way to do it streaming the values.\r\nFirst, create a lambda as the `finisher` to sum the largest 3 values of a list. It will be used later.\r\n\r\n**The Finisher**\r\n- the finisher takes a list of longs and returns a long\r\n- first sort the values in reverse order\r\n- limit to 3 or less and map to a long\r\n- then sum them and return the sum\r\n```\r\nFunction&lt;List&lt;Long&gt;, Long&gt; sum =\r\n\t\tlst -&gt; lst.stream().sorted(Comparator.reverseOrder())\r\n\t\t\t\t.limit(3).mapToLong(Long::longValue).sum();\r\n```\r\n**Streaming the Entries**\r\n- stream the list of entries.\r\n- group the items keyed by `fruit` and a `value list of longs`\r\n  - the `longs` need to be extracted from their Entry via `Collectors.mapping`.\r\n  - then using `collectingAndThen` to first collect those longs in a list\r\n  - followed by the previously defined `finisher` to return the long sum\r\n```\r\nMap&lt;String,Long&gt; map =\r\n\t\tlist.stream()\r\n\t\t   .collect(Collectors.groupingBy(Entry::getKey,\r\n\t\t\t\tCollectors.mapping(Entry::getValue,\r\n\t\t\t\t\tCollectors.collectingAndThen(\r\n\t\t\t\t\t\t\tCollectors.toList(),\r\n\t\t\t\t\t\t\t\t\t\tsum::apply))));\r\n\r\n map.entrySet().forEach(System.out::println);\r\n\r\n```\r\nprints\r\n```\r\napple=90\r\ntomato=90\r\n```\r\nMy solution permits items which have less than three numbers.  It would also be possible to filter out such lists.  I chose to allow them.","title":"Summing three biggest numbers of an AbstractMap using streams","body":"<p>Here is one way to do it streaming the values.\nFirst, create a lambda as the <code>finisher</code> to sum the largest 3 values of a list. It will be used later.</p>\n<p><strong>The Finisher</strong></p>\n<ul>\n<li>the finisher takes a list of longs and returns a long</li>\n<li>first sort the values in reverse order</li>\n<li>limit to 3 or less and map to a long</li>\n<li>then sum them and return the sum</li>\n</ul>\n<pre><code>Function&lt;List&lt;Long&gt;, Long&gt; sum =\n        lst -&gt; lst.stream().sorted(Comparator.reverseOrder())\n                .limit(3).mapToLong(Long::longValue).sum();\n</code></pre>\n<p><strong>Streaming the Entries</strong></p>\n<ul>\n<li>stream the list of entries.</li>\n<li>group the items keyed by <code>fruit</code> and a <code>value list of longs</code>\n<ul>\n<li>the <code>longs</code> need to be extracted from their Entry via <code>Collectors.mapping</code>.</li>\n<li>then using <code>collectingAndThen</code> to first collect those longs in a list</li>\n<li>followed by the previously defined <code>finisher</code> to return the long sum</li>\n</ul>\n</li>\n</ul>\n<pre><code>Map&lt;String,Long&gt; map =\n        list.stream()\n           .collect(Collectors.groupingBy(Entry::getKey,\n                Collectors.mapping(Entry::getValue,\n                    Collectors.collectingAndThen(\n                            Collectors.toList(),\n                                        sum::apply))));\n\n map.entrySet().forEach(System.out::println);\n\n</code></pre>\n<p>prints</p>\n<pre><code>apple=90\ntomato=90\n</code></pre>\n<p>My solution permits items which have less than three numbers.  It would also be possible to filter out such lists.  I chose to allow them.</p>\n"}],"owner":{"account_id":24764575,"reputation":29,"user_id":18648552,"display_name":"Kate Quinn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648768660,"accepted_answer_id":71699855,"answer_count":1,"score":0,"last_activity_date":1648804715,"creation_date":1648763056,"question_id":71699480,"body_markdown":"i have a question. How can I count the three biggest maximums of this structure?\r\n```\r\npublic static AbstractMap.SimpleEntry&lt;String, Long&gt; sum3max(List&lt;AbstractMap.SimpleEntry&lt;String, Long&gt;&gt; list){... }\r\n```\r\n\r\nThe expected output should look something like this:\r\n```\r\nList&lt;AbstractMap.SimpleEntry&lt;String, Long&gt;&gt; list = new ArrayList&lt;&gt;(); \r\n\r\nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;apple&quot;, 20L));  \r\nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;tomato&quot;, 30L)); \r\nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;apple&quot;, 10L)); \r\nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;tomato&quot;, 20L)); \r\nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;tomato&quot;, 10L)); \r\nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;tomato&quot;, 40L));\r\nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;apple&quot;, 60L));\r\nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;apple&quot;, 5L));\r\n// apple = 90 because we are counting 60+20+10 (three biggest numbers of all apples)\r\n// tomato = 90 because 30+20+40 (three biggest numbers of all tomatos )\r\n\r\nSystem.out.println(sum3max(list)); // should be   apple=90, because &#39;a&#39; in apple is alphabetically smaller than &#39;t&#39; in tomato\r\n\r\n```\r\nCan you please help me? I tried sth like this, but it works just for summing all the values, not just the three biggest.\r\n```\r\nvar map = list.stream().collect(Collectors.groupingBy(AbstractMap.SimpleEntry::getKey,Collectors.summingLong(AbstractMap.SimpleEntry::getValue)));\r\nMap.Entry&lt;String, Long&gt; maxEntry = map.entrySet().stream()\r\n                .max(Map.Entry.comparingByValue()).get();\r\n\r\n\r\n        return new AbstractMap.SimpleEntry&lt;&gt;(maxEntry.getKey(), maxEntry.getValue());\r\n```","title":"Summing three biggest numbers of an AbstractMap using streams","body":"<p>i have a question. How can I count the three biggest maximums of this structure?</p>\n<pre><code>public static AbstractMap.SimpleEntry&lt;String, Long&gt; sum3max(List&lt;AbstractMap.SimpleEntry&lt;String, Long&gt;&gt; list){... }\n</code></pre>\n<p>The expected output should look something like this:</p>\n<pre><code>List&lt;AbstractMap.SimpleEntry&lt;String, Long&gt;&gt; list = new ArrayList&lt;&gt;(); \n\nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;apple&quot;, 20L));  \nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;tomato&quot;, 30L)); \nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;apple&quot;, 10L)); \nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;tomato&quot;, 20L)); \nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;tomato&quot;, 10L)); \nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;tomato&quot;, 40L));\nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;apple&quot;, 60L));\nlist.add(new AbstractMap.SimpleEntry&lt;&gt;(&quot;apple&quot;, 5L));\n// apple = 90 because we are counting 60+20+10 (three biggest numbers of all apples)\n// tomato = 90 because 30+20+40 (three biggest numbers of all tomatos )\n\nSystem.out.println(sum3max(list)); // should be   apple=90, because 'a' in apple is alphabetically smaller than 't' in tomato\n\n</code></pre>\n<p>Can you please help me? I tried sth like this, but it works just for summing all the values, not just the three biggest.</p>\n<pre><code>var map = list.stream().collect(Collectors.groupingBy(AbstractMap.SimpleEntry::getKey,Collectors.summingLong(AbstractMap.SimpleEntry::getValue)));\nMap.Entry&lt;String, Long&gt; maxEntry = map.entrySet().stream()\n                .max(Map.Entry.comparingByValue()).get();\n\n\n        return new AbstractMap.SimpleEntry&lt;&gt;(maxEntry.getKey(), maxEntry.getValue());\n</code></pre>\n"},{"tags":["java","ssl","cryptography","bouncycastle","pki"],"comments":[{"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"score":0,"creation_date":1648474990,"post_id":71639897,"comment_id":126626333,"body_markdown":"It&#39;s unlikely the tls-unique is the problem, since it&#39;s just a copy of the first Finished message, which would have to be correct for the handshake to work anyway. Can you check (show) how you are creating the ContentSigner for the (presumed) call to simpleEnrollPoP?","body":"It&#39;s unlikely the tls-unique is the problem, since it&#39;s just a copy of the first Finished message, which would have to be correct for the handshake to work anyway. Can you check (show) how you are creating the ContentSigner for the (presumed) call to simpleEnrollPoP?"},{"owner":{"account_id":1528771,"reputation":402,"user_id":1426535,"accept_rate":75,"display_name":"Rufus Buschart"},"score":0,"creation_date":1648486589,"post_id":71639897,"comment_id":126630658,"body_markdown":"I added an update to the original post. Personally, I believe there is something wrong with the Base64 encoding of the `tls-unique&#39; in https://github.com/bcgit/bc-java/blob/327e0370061dd2f5b70b52906f3c300f608cc30d/pkix/src/main/java/org/bouncycastle/est/ESTService.java#L368","body":"I added an update to the original post. Personally, I believe there is something wrong with the Base64 encoding of the `tls-unique&#39; in <a href=\"https://github.com/bcgit/bc-java/blob/327e0370061dd2f5b70b52906f3c300f608cc30d/pkix/src/main/java/org/bouncycastle/est/ESTService.java#L368\" rel=\"nofollow noreferrer\">github.com/bcgit/bc-java/blob/&hellip;</a>"},{"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"score":0,"creation_date":1648563009,"post_id":71639897,"comment_id":126652585,"body_markdown":"By my reading of http://testrfc7030.com, port 443 looks like it needs HTTP user authentication, while your example call to simpleEnrollPop does not specify any. JcaHttpAuthBuilder can be used to create a suitable auth object.","body":"By my reading of <a href=\"http://testrfc7030.com\" rel=\"nofollow noreferrer\">testrfc7030.com</a>, port 443 looks like it needs HTTP user authentication, while your example call to simpleEnrollPop does not specify any. JcaHttpAuthBuilder can be used to create a suitable auth object."},{"owner":{"account_id":1528771,"reputation":402,"user_id":1426535,"accept_rate":75,"display_name":"Rufus Buschart"},"score":0,"creation_date":1648801325,"post_id":71639897,"comment_id":126721208,"body_markdown":"Thank you! This solved the question.\n\nThe result of our test of testrfc7030.com is:\nPort 443 – requires HTTP user auth + identity POP linking (the first here was not so clear to me from their web page, thank to @PeterDettman for clearing)\nPort 8443: requires HTTP user auth but no identity POP linking\nPort 9443: requires user auth with client certificate (obtained via Port 8443 or Port 443) but no identity POP linking\n\nidentity POP linking = TLS channel binding","body":"Thank you! This solved the question.  The result of our test of testrfc7030.com is: Port 443 – requires HTTP user auth + identity POP linking (the first here was not so clear to me from their web page, thank to @PeterDettman for clearing) Port 8443: requires HTTP user auth but no identity POP linking Port 9443: requires user auth with client certificate (obtained via Port 8443 or Port 443) but no identity POP linking  identity POP linking = TLS channel binding"}],"answers":[{"tags":[],"owner":{"account_id":1528771,"reputation":402,"user_id":1426535,"accept_rate":75,"display_name":"Rufus Buschart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648804566,"creation_date":1648804566,"answer_id":71704575,"question_id":71639897,"body_markdown":"Based on the input by Peter we were able to fix this problem as following:\r\n\r\n        //just for testrfc7030.com\r\n        ESTAuth auth = new JcaHttpAuthBuilder(null, &quot;estuser&quot;, &quot;estpwd&quot;.toCharArray())\r\n                .setNonceGenerator(new SecureRandom())\r\n                .setProvider(&quot;BC&quot;)\r\n                .build();\r\n        \r\n        EnrollmentResponse resp = eSTService.simpleEnrollPoP(false, cb.csrBuilder, cb.signer, auth);\r\n\r\nIt turned out, that testrfc3070 requires the following authentication schemes:\r\n\r\n* Port 443: requires HTTP user auth + identity POP linking\r\n* Port 8443: requires HTTP user auth but no identity POP linking\r\n* Port 9443: requires user auth with client certificate (obtained via Port 8443 or Port 443) but no identity POP linking\r\n\r\nidentity POP linking = TLS channel binding","title":"EST with Bouncy Castle","body":"<p>Based on the input by Peter we were able to fix this problem as following:</p>\n<pre><code>    //just for testrfc7030.com\n    ESTAuth auth = new JcaHttpAuthBuilder(null, &quot;estuser&quot;, &quot;estpwd&quot;.toCharArray())\n            .setNonceGenerator(new SecureRandom())\n            .setProvider(&quot;BC&quot;)\n            .build();\n    \n    EnrollmentResponse resp = eSTService.simpleEnrollPoP(false, cb.csrBuilder, cb.signer, auth);\n</code></pre>\n<p>It turned out, that testrfc3070 requires the following authentication schemes:</p>\n<ul>\n<li>Port 443: requires HTTP user auth + identity POP linking</li>\n<li>Port 8443: requires HTTP user auth but no identity POP linking</li>\n<li>Port 9443: requires user auth with client certificate (obtained via Port 8443 or Port 443) but no identity POP linking</li>\n</ul>\n<p>identity POP linking = TLS channel binding</p>\n"}],"owner":{"account_id":1528771,"reputation":402,"user_id":1426535,"accept_rate":75,"display_name":"Rufus Buschart"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71704575,"answer_count":1,"score":1,"last_activity_date":1648804566,"creation_date":1648411563,"question_id":71639897,"body_markdown":"I try to request a new certificate via EST protocol from the EST test service URL “https://testrfc7030.com/”. The program uses Bouncy Castle for this.\r\n \r\nI have already configured the EST service’s TA and my client certificate obtained from them. I also use the BC JSSE provider to get access to the “tls-unique” channel binding value.\r\n\r\n    \t\teSTService = new JsseESTServiceBuilder(Config.CredAdmin.caHost, trustManagers)\r\n\t\t\t\t\t\t.withKeyManagers(keyManagers)\r\n\t\t\t\t\t\t.withProvider(BouncyCastleJsseProvider.PROVIDER_NAME)\r\n\t\t\t\t\t\t.withChannelBindingProvider(new ChannelBindingProvider() {\r\n\t\t\t\t\t\t\t//Use an anonymous binding provider that supports linking \r\n\t\t\t\t\t\t\t//Identity and POP Information (RFC7030, Section 3.5.), that\r\n\t\t\t\t\t\t\t//relies on Channel Bindings for TLS (RFC5929) using &quot;tls-unique&quot;.\r\n\t\t\t\t\t\t\tpublic boolean canAccessChannelBinding(Socket sock) {\r\n\t\t\t\t\t\t\t\tboolean ret = sock instanceof BCSSLSocket;\r\n\t\t\t\t\t\t\t\tif (!ret)\r\n\t\t\t\t\t\t\t\t\t//should never happen\r\n\t\t\t\t\t\t\t        MyUtils.LambdaLogger.error(&quot;Can&#39;t get channel binding value, check if BouncyCastleJsseProvider could be loaded.&quot;);\r\n\t\t\t\t\t\t\t\treturn ret;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tpublic byte[] getChannelBinding(Socket sock, String binding) {\r\n\t\t\t\t\t\t\t\tBCSSLConnection bcon = ((BCSSLSocket)sock).getConnection();\r\n\t\t\t\t\t\t\t\tif (bcon == null) {\r\n\t\t\t\t\t\t\t\t\t//should never happen\r\n\t\t\t\t\t\t\t        MyUtils.LambdaLogger.error(&quot;Can&#39;t get \\&quot;%s\\&quot; channel binding value, check if BouncyCastleJsseProvider could be loaded.&quot;, binding);\r\n\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbyte[] ret = bcon.getChannelBinding(binding);\r\n\t\t\t\t\t\t        MyUtils.LambdaLogger.debug(&quot;retrieved %d bytes \\&quot;%s\\&quot; channel binding value&quot;, ret.length, binding);\r\n\t\t\t\t\t\t\t\treturn ret;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.build();\r\n\r\nand\r\n\r\n    Security.addProvider(new BouncyCastleJsseProvider());\r\n\r\n \r\nWhen I configure EST service port 9443 – that requires my client cert but no TLS channel binding – I do get a new certificate:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, when I configure port 443 – that also needs TLS channel binding – although I get 12 bytes of “tls-unique” from BC JSSE, these won’t get accepted by the EST service testrfc7030.com, so it gives me an HTTP 401 – Unauthorized:\r\n\r\n[![enter image description here][2]][2]\r\n \r\nMy problem is, I don’t know, what’s wrong:\r\n* my code\r\n* the BC JSSE implementation of “tls-unique” (RFC 5929)\r\n* the EST service’s implementation of “tls-unique” (RFC 5929)?\r\n \r\nDoes someone have an implementation that works with the EST service “testrfc7030.com:443” art has at least an idea, what&#39;s wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oOJXh.png\r\n  [2]: https://i.stack.imgur.com/a68Gx.png\r\n\r\n---**Update 1**---\r\nI&#39;m creating the `ContentSigner` as following:\r\n\r\n\r\n    ContentSigner signer = \r\n        \tnew JcaContentSignerBuilder(MyUtils.Crypto.sha256WithRSAEncryption)\r\n            .setProvider(BouncyCastleProvider.PROVIDER_NAME)\r\n            .build(keyPair.getPrivate());\r\n\r\n\r\nand the `csrBuilder`:\r\n\r\n        PKCS10CertificationRequestBuilder csrBuilder =\r\n        \tnew PKCS10CertificationRequestBuilder(\r\n        \t\tnew X500Name(subjectDN),\r\n        \t\tSubjectPublicKeyInfo.getInstance(keyPair.getPublic().getEncoded()));\r\n        csrBuilder.addAttribute(PKCSObjectIdentifiers.pkcs_9_at_extensionRequest, extGen.generate());\r\n\r\n\r\nwith\r\n\r\n        ExtensionsGenerator extGen = new ExtensionsGenerator();\r\n        ...\r\n\r\nThis we then use as following:\r\n\r\n        EnrollmentResponse resp = eSTService.simpleEnrollPoP(false, cb.csrBuilder, cb.signer, null);\r\n","title":"EST with Bouncy Castle","body":"<p>I try to request a new certificate via EST protocol from the EST test service URL “https://testrfc7030.com/”. The program uses Bouncy Castle for this.</p>\n<p>I have already configured the EST service’s TA and my client certificate obtained from them. I also use the BC JSSE provider to get access to the “tls-unique” channel binding value.</p>\n<pre><code>        eSTService = new JsseESTServiceBuilder(Config.CredAdmin.caHost, trustManagers)\n                    .withKeyManagers(keyManagers)\n                    .withProvider(BouncyCastleJsseProvider.PROVIDER_NAME)\n                    .withChannelBindingProvider(new ChannelBindingProvider() {\n                        //Use an anonymous binding provider that supports linking \n                        //Identity and POP Information (RFC7030, Section 3.5.), that\n                        //relies on Channel Bindings for TLS (RFC5929) using &quot;tls-unique&quot;.\n                        public boolean canAccessChannelBinding(Socket sock) {\n                            boolean ret = sock instanceof BCSSLSocket;\n                            if (!ret)\n                                //should never happen\n                                MyUtils.LambdaLogger.error(&quot;Can't get channel binding value, check if BouncyCastleJsseProvider could be loaded.&quot;);\n                            return ret;\n                        }\n                        public byte[] getChannelBinding(Socket sock, String binding) {\n                            BCSSLConnection bcon = ((BCSSLSocket)sock).getConnection();\n                            if (bcon == null) {\n                                //should never happen\n                                MyUtils.LambdaLogger.error(&quot;Can't get \\&quot;%s\\&quot; channel binding value, check if BouncyCastleJsseProvider could be loaded.&quot;, binding);\n                                return null;\n                            }\n                            byte[] ret = bcon.getChannelBinding(binding);\n                            MyUtils.LambdaLogger.debug(&quot;retrieved %d bytes \\&quot;%s\\&quot; channel binding value&quot;, ret.length, binding);\n                            return ret;\n                        }\n                    })\n                    .build();\n</code></pre>\n<p>and</p>\n<pre><code>Security.addProvider(new BouncyCastleJsseProvider());\n</code></pre>\n<p>When I configure EST service port 9443 – that requires my client cert but no TLS channel binding – I do get a new certificate:</p>\n<p><a href=\"https://i.stack.imgur.com/oOJXh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oOJXh.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when I configure port 443 – that also needs TLS channel binding – although I get 12 bytes of “tls-unique” from BC JSSE, these won’t get accepted by the EST service testrfc7030.com, so it gives me an HTTP 401 – Unauthorized:</p>\n<p><a href=\"https://i.stack.imgur.com/a68Gx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a68Gx.png\" alt=\"enter image description here\" /></a></p>\n<p>My problem is, I don’t know, what’s wrong:</p>\n<ul>\n<li>my code</li>\n<li>the BC JSSE implementation of “tls-unique” (RFC 5929)</li>\n<li>the EST service’s implementation of “tls-unique” (RFC 5929)?</li>\n</ul>\n<p>Does someone have an implementation that works with the EST service “testrfc7030.com:443” art has at least an idea, what's wrong?</p>\n<p>---<strong>Update 1</strong>---\nI'm creating the <code>ContentSigner</code> as following:</p>\n<pre><code>ContentSigner signer = \n        new JcaContentSignerBuilder(MyUtils.Crypto.sha256WithRSAEncryption)\n        .setProvider(BouncyCastleProvider.PROVIDER_NAME)\n        .build(keyPair.getPrivate());\n</code></pre>\n<p>and the <code>csrBuilder</code>:</p>\n<pre><code>    PKCS10CertificationRequestBuilder csrBuilder =\n        new PKCS10CertificationRequestBuilder(\n            new X500Name(subjectDN),\n            SubjectPublicKeyInfo.getInstance(keyPair.getPublic().getEncoded()));\n    csrBuilder.addAttribute(PKCSObjectIdentifiers.pkcs_9_at_extensionRequest, extGen.generate());\n</code></pre>\n<p>with</p>\n<pre><code>    ExtensionsGenerator extGen = new ExtensionsGenerator();\n    ...\n</code></pre>\n<p>This we then use as following:</p>\n<pre><code>    EnrollmentResponse resp = eSTService.simpleEnrollPoP(false, cb.csrBuilder, cb.signer, null);\n</code></pre>\n"},{"tags":["java","xml","dom","xml-parsing"],"answers":[{"tags":[],"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648804439,"creation_date":1648804439,"answer_id":71704548,"question_id":71703786,"body_markdown":"The code you have written is fine, but there is small mistake while saving the updated xml to new file\r\n`new StreamResult(new File(output+filename))` here you are passing `FileOutputStream` as argument to `File()`\r\n\r\nActually you don&#39;t need to do this just `new StreamResult(output)` is enough\r\n\r\n**Complete code:**\r\n```\r\nFileOutputStream output = new FileOutputStream(&quot;/Users/XXX/Documents/New/&quot; + filename)\r\nStreamResult result = new StreamResult(output);\r\ntransformer.transform(source, result);\r\n```\r\n\r\n**Note:** \r\n&gt;Your code created xml file with filename like this `java.io.FileOutputStream@3d82c5f3&lt;filename&gt;` in classpath","title":"How to add XML Prolog to existing XML Java","body":"<p>The code you have written is fine, but there is small mistake while saving the updated xml to new file\n<code>new StreamResult(new File(output+filename))</code> here you are passing <code>FileOutputStream</code> as argument to <code>File()</code></p>\n<p>Actually you don't need to do this just <code>new StreamResult(output)</code> is enough</p>\n<p><strong>Complete code:</strong></p>\n<pre><code>FileOutputStream output = new FileOutputStream(&quot;/Users/XXX/Documents/New/&quot; + filename)\nStreamResult result = new StreamResult(output);\ntransformer.transform(source, result);\n</code></pre>\n<p><strong>Note:</strong></p>\n<blockquote>\n<p>Your code created xml file with filename like this <code>java.io.FileOutputStream@3d82c5f3&lt;filename&gt;</code> in classpath</p>\n</blockquote>\n"}],"owner":{"account_id":8751339,"reputation":168,"user_id":6544462,"accept_rate":43,"display_name":"CatiaV5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71704548,"answer_count":1,"score":1,"last_activity_date":1648804439,"creation_date":1648800829,"question_id":71703786,"body_markdown":"I have a set of XML files out of which the prolog has been deleted. In order to further process the files I need to now add this prolog programmatically. My current code is as follows but it does write an empty XML. Can anyone help please?\r\n\r\n    try(InputStream is = new FileInputStream(FILENAME + filename)){\r\n                    DocumentBuilder db = dbf.newDocumentBuilder();\r\n                    \r\n                    Document doc = db.parse(is);\r\n                    doc.appendChild(doc.createProcessingInstruction(&quot;xml&quot;, &quot;version=\\&quot;1.0\\&quot; encoding=\\&quot;ISO-8859-1\\&quot;&quot;));\r\n                 \r\n                    //print XML\r\n                    TransformerFactory tf = TransformerFactory.newInstance();\r\n                    Transformer transformer = tf.newTransformer();\r\n                    DOMSource source = new DOMSource(doc);\r\n                    \r\n                    FileOutputStream output =\r\n                    new FileOutputStream(&quot;/Users/XXX/Documents/New/&quot; + filename);\r\n                    StreamResult result = new StreamResult(new File(output+filename));\r\n                    transformer.transform(source, result);              \r\n                }","title":"How to add XML Prolog to existing XML Java","body":"<p>I have a set of XML files out of which the prolog has been deleted. In order to further process the files I need to now add this prolog programmatically. My current code is as follows but it does write an empty XML. Can anyone help please?</p>\n<pre><code>try(InputStream is = new FileInputStream(FILENAME + filename)){\n                DocumentBuilder db = dbf.newDocumentBuilder();\n                \n                Document doc = db.parse(is);\n                doc.appendChild(doc.createProcessingInstruction(&quot;xml&quot;, &quot;version=\\&quot;1.0\\&quot; encoding=\\&quot;ISO-8859-1\\&quot;&quot;));\n             \n                //print XML\n                TransformerFactory tf = TransformerFactory.newInstance();\n                Transformer transformer = tf.newTransformer();\n                DOMSource source = new DOMSource(doc);\n                \n                FileOutputStream output =\n                new FileOutputStream(&quot;/Users/XXX/Documents/New/&quot; + filename);\n                StreamResult result = new StreamResult(new File(output+filename));\n                transformer.transform(source, result);              \n            }\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":20122112,"reputation":88,"user_id":14756421,"display_name":"Maxim Bezmen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648804324,"creation_date":1648620211,"answer_id":71672236,"question_id":71671650,"body_markdown":"\r\nUse this for tests.\r\n\r\n    @Test\r\n    void test() {\r\n    \r\n        final String birthDStr = &quot;2007-02-27&quot;;\r\n        LocalDate birthD = null;\r\n    \r\n        try {\r\n            birthD = LocalDate.parse(birthDStr);\r\n        } catch (DateTimeParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n    @Test\r\n    void test() {\r\n\r\n        final String birthDStr = &quot;29/02/2007&quot;;\r\n        LocalDate birthD = null;\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;d/MM/yyyy&quot;);\r\n\r\n        try {\r\n            birthD = LocalDate.parse(birthDStr, formatter);\r\n        } catch (DateTimeParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\nYour code correct, not correct date. Text &#39;2007-02-29&#39; could not be parsed: Invalid date &#39;February 29&#39; as &#39;2007&#39; is not a leap year.","title":"Inconsistent Behaviour in Java LocalDate parse","body":"<p>Use this for tests.</p>\n<pre><code>@Test\nvoid test() {\n\n    final String birthDStr = &quot;2007-02-27&quot;;\n    LocalDate birthD = null;\n\n    try {\n        birthD = LocalDate.parse(birthDStr);\n    } catch (DateTimeParseException e) {\n        e.printStackTrace();\n    }\n\n}\n\n\n@Test\nvoid test() {\n\n    final String birthDStr = &quot;29/02/2007&quot;;\n    LocalDate birthD = null;\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;d/MM/yyyy&quot;);\n\n    try {\n        birthD = LocalDate.parse(birthDStr, formatter);\n    } catch (DateTimeParseException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>Your code correct, not correct date. Text '2007-02-29' could not be parsed: Invalid date 'February 29' as '2007' is not a leap year.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1648621256,"creation_date":1648620449,"answer_id":71672269,"question_id":71671650,"body_markdown":"You need to change the *resolver style*:\r\n\r\n```java\r\nDateTimeFormatter formatter = DateTimeFormatter\r\n    .ofPattern(&quot;dd/MM/uuuu&quot;)\r\n    .withResolverStyle(ResolverStyle.STRICT);\r\nLocalDate.parse(&quot;29/02/2007&quot;, formatter); // Throws\r\n```\r\n\r\nNote the use of `uuuu` instead of `yyyy`, to specify the year instead of year-of-era. (I&#39;m sure there&#39;s some way of getting `yyyy` to work and assume an era of AD, but I&#39;m not sure how off-hand.)\r\n\r\nNote that `LocalDate.parse` (without a formatter) is documented to use [`DateTimeFormatter.ISO_LOCAL_DATE`](https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE) which uses the STRICT resolver - so there isn&#39;t really an inconsistency here.","title":"Inconsistent Behaviour in Java LocalDate parse","body":"<p>You need to change the <em>resolver style</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = DateTimeFormatter\n    .ofPattern(&quot;dd/MM/uuuu&quot;)\n    .withResolverStyle(ResolverStyle.STRICT);\nLocalDate.parse(&quot;29/02/2007&quot;, formatter); // Throws\n</code></pre>\n<p>Note the use of <code>uuuu</code> instead of <code>yyyy</code>, to specify the year instead of year-of-era. (I'm sure there's some way of getting <code>yyyy</code> to work and assume an era of AD, but I'm not sure how off-hand.)</p>\n<p>Note that <code>LocalDate.parse</code> (without a formatter) is documented to use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter.ISO_LOCAL_DATE</code></a> which uses the STRICT resolver - so there isn't really an inconsistency here.</p>\n"}],"owner":{"account_id":18740674,"reputation":57,"user_id":13663991,"display_name":"saycchai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71672269,"answer_count":2,"score":1,"last_activity_date":1648804324,"creation_date":1648615855,"question_id":71671650,"body_markdown":"I need to parse a date which will be in the format dd/MM/yyyy when I parse an invalid date &quot;29/02/2007&quot;, it return back to me as a LocalDate 2007-02-28, code as follows:\r\n\r\n    \t\tLocalDate birthD = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tbirthD = LocalDate.parse(&quot;29/02/2007&quot;, DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\r\n\t\t} catch (DateTimeParseException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\r\n\t\tSystem.out.println(&quot;birthDStr: &quot; + birthDStr);\r\n\t\tSystem.out.println(&quot;parsed birthD: &quot; + birthD);\r\n\r\nHowever, if I parse using the ISO format (without the DateTimeFormatter), then it gives exception, code as follows:\r\n\r\n    \t\tfinal String birthDStr = &quot;2007-02-29&quot;;\r\n\t\tLocalDate birthD = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tbirthD = LocalDate.parse(birthDStr);\r\n\t\t} catch (DateTimeParseException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\r\n\t\tSystem.out.println(&quot;birthDStr: &quot; + birthDStr);\r\n\t\tSystem.out.println(&quot;parsed birthD: &quot; + birthD);\r\n\r\nException:\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;2007-02-29&#39; could not be parsed: Invalid date &#39;February 29&#39; as &#39;2007&#39; is not a leap year\r\n\tat java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1920)\r\n\tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1855)\r\n\tat java.time.LocalDate.parse(LocalDate.java:400)\r\n\tat java.time.LocalDate.parse(LocalDate.java:385)\r\n\tat com.cchaidoris.quick_test.DateTest.parseTest2(DateTest.java:65)\r\n\tat com.cchaidoris.quick_test.DateTest.main(DateTest.java:41)\r\n    Caused by: java.time.DateTimeException: Invalid date &#39;February 29&#39; as &#39;2007&#39; is not a leap year\r\n    \tat java.time.LocalDate.create(LocalDate.java:429)\r\n    \tat java.time.LocalDate.of(LocalDate.java:269)\r\n    \tat java.time.chrono.IsoChronology.resolveYMD(IsoChronology.java:560)\r\n    \tat java.time.chrono.IsoChronology.resolveYMD(IsoChronology.java:123)\r\n    \tat java.time.chrono.AbstractChronology.resolveDate(AbstractChronology.java:472)\r\n    \tat java.time.chrono.IsoChronology.resolveDate(IsoChronology.java:492)\r\n    \tat java.time.chrono.IsoChronology.resolveDate(IsoChronology.java:123)\r\n    \tat java.time.format.Parsed.resolveDateFields(Parsed.java:351)\r\n    \tat java.time.format.Parsed.resolveFields(Parsed.java:257)\r\n    \tat java.time.format.Parsed.resolve(Parsed.java:244)\r\n    \tat java.time.format.DateTimeParseContext.toResolved(DateTimeParseContext.java:331)\r\n    \tat java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1955)\r\n    \tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\r\n\r\nSo my question is, I want to regard this: \r\n\r\n    LocalDate.parse(&quot;29/02/2007&quot;, DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\r\n     \r\nas invalid, how can I do using LocalDate.parse?\r\n\r\n","title":"Inconsistent Behaviour in Java LocalDate parse","body":"<p>I need to parse a date which will be in the format dd/MM/yyyy when I parse an invalid date &quot;29/02/2007&quot;, it return back to me as a LocalDate 2007-02-28, code as follows:</p>\n<pre><code>        LocalDate birthD = null;\n    \n    try {\n        birthD = LocalDate.parse(&quot;29/02/2007&quot;, DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\n    } catch (DateTimeParseException e) {\n        e.printStackTrace();\n    }\n\n\n    System.out.println(&quot;birthDStr: &quot; + birthDStr);\n    System.out.println(&quot;parsed birthD: &quot; + birthD);\n</code></pre>\n<p>However, if I parse using the ISO format (without the DateTimeFormatter), then it gives exception, code as follows:</p>\n<pre><code>        final String birthDStr = &quot;2007-02-29&quot;;\n    LocalDate birthD = null;\n    \n    try {\n        birthD = LocalDate.parse(birthDStr);\n    } catch (DateTimeParseException e) {\n        e.printStackTrace();\n    }\n\n\n    System.out.println(&quot;birthDStr: &quot; + birthDStr);\n    System.out.println(&quot;parsed birthD: &quot; + birthD);\n</code></pre>\n<p>Exception:</p>\n<pre><code>java.time.format.DateTimeParseException: Text '2007-02-29' could not be parsed: Invalid date 'February 29' as '2007' is not a leap year\nat java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1920)\nat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1855)\nat java.time.LocalDate.parse(LocalDate.java:400)\nat java.time.LocalDate.parse(LocalDate.java:385)\nat com.cchaidoris.quick_test.DateTest.parseTest2(DateTest.java:65)\nat com.cchaidoris.quick_test.DateTest.main(DateTest.java:41)\nCaused by: java.time.DateTimeException: Invalid date 'February 29' as '2007' is not a leap year\n    at java.time.LocalDate.create(LocalDate.java:429)\n    at java.time.LocalDate.of(LocalDate.java:269)\n    at java.time.chrono.IsoChronology.resolveYMD(IsoChronology.java:560)\n    at java.time.chrono.IsoChronology.resolveYMD(IsoChronology.java:123)\n    at java.time.chrono.AbstractChronology.resolveDate(AbstractChronology.java:472)\n    at java.time.chrono.IsoChronology.resolveDate(IsoChronology.java:492)\n    at java.time.chrono.IsoChronology.resolveDate(IsoChronology.java:123)\n    at java.time.format.Parsed.resolveDateFields(Parsed.java:351)\n    at java.time.format.Parsed.resolveFields(Parsed.java:257)\n    at java.time.format.Parsed.resolve(Parsed.java:244)\n    at java.time.format.DateTimeParseContext.toResolved(DateTimeParseContext.java:331)\n    at java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1955)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\n</code></pre>\n<p>So my question is, I want to regard this:</p>\n<pre><code>LocalDate.parse(&quot;29/02/2007&quot;, DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\n \n</code></pre>\n<p>as invalid, how can I do using LocalDate.parse?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9958458,"reputation":313,"user_id":7368514,"accept_rate":44,"display_name":"Master Qiao"},"score":0,"creation_date":1648756857,"post_id":71697659,"comment_id":126712508,"body_markdown":"Of course I have searched and tried some possible ways. The question I asked involves more knowledge rather than work effort. If there really is a solution and someone happen to know, I think it would not take much effort to post it, after all, the answer has one line code only and the question needs several lines to ask. I don&#39;t know why would you connect my question with beer.","body":"Of course I have searched and tried some possible ways. The question I asked involves more knowledge rather than work effort. If there really is a solution and someone happen to know, I think it would not take much effort to post it, after all, the answer has one line code only and the question needs several lines to ask. I don&#39;t know why would you connect my question with beer."},{"owner":{"account_id":9958458,"reputation":313,"user_id":7368514,"accept_rate":44,"display_name":"Master Qiao"},"score":0,"creation_date":1648760125,"post_id":71697659,"comment_id":126713490,"body_markdown":"@matt Thanks, I just take id as an example, not real scenario. I think I was just misled by the name of function ```Stream.mapMulti()``` and to believe it is possible to map multi values parallel.","body":"@matt Thanks, I just take id as an example, not real scenario. I think I was just misled by the name of function <code>Stream.mapMulti()</code> and to believe it is possible to map multi values parallel."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1648803678,"post_id":71697659,"comment_id":126721943,"body_markdown":"I&#39;ve changed your question quite a bit, but I think it is a good question because multiMap is new and a quick search didnt&#39; come up with something. I suspect people will try similar.","body":"I&#39;ve changed your question quite a bit, but I think it is a good question because multiMap is new and a quick search didnt&#39; come up with something. I suspect people will try similar."}],"answers":[{"tags":[],"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648756687,"creation_date":1648756687,"answer_id":71698483,"question_id":71697659,"body_markdown":"You are very close to the answer in your question. Assuming loadObj and doSomething are both methods of `this`.\r\n\r\n    stream.map(this::loadObj).forEach(this::doSomething)","title":"Can I use multiMap to consume two items in a stream","body":"<p>You are very close to the answer in your question. Assuming loadObj and doSomething are both methods of <code>this</code>.</p>\n<pre><code>stream.map(this::loadObj).forEach(this::doSomething)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648804160,"creation_date":1648804160,"answer_id":71704482,"question_id":71697659,"body_markdown":"[multiMap](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)) is designed to map single items to multiple outputs. So you have one Item in and you&#39;ll get 0 or more Objects out in the next stream. \r\n\r\nThe second argument is provided by the implementation of mapMulti. Each time consume is used, the output stream will have another object. \r\n\r\nStream#mapMulti is also an **intermediate operation**, so it isn&#39;t a suitable replacement for forEach. The best is to stick with what you have, or a bit more concisely:\r\n\r\n    stream.forEach( id -&gt; doSomething( id, loadObj( id ) ) );","title":"Can I use multiMap to consume two items in a stream","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\">multiMap</a> is designed to map single items to multiple outputs. So you have one Item in and you'll get 0 or more Objects out in the next stream.</p>\n<p>The second argument is provided by the implementation of mapMulti. Each time consume is used, the output stream will have another object.</p>\n<p>Stream#mapMulti is also an <strong>intermediate operation</strong>, so it isn't a suitable replacement for forEach. The best is to stick with what you have, or a bit more concisely:</p>\n<pre><code>stream.forEach( id -&gt; doSomething( id, loadObj( id ) ) );\n</code></pre>\n"}],"owner":{"account_id":9958458,"reputation":313,"user_id":7368514,"accept_rate":44,"display_name":"Master Qiao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1648804160,"creation_date":1648752309,"question_id":71697659,"body_markdown":"I want to implement a function such like:\r\n```\r\nStream&lt;Long&gt; stream;\r\nstream.forEach(id-&gt;{\r\n    Object obj = loadObj(id);\r\n    doSomething(id, obj);\r\n});\r\n```\r\nCan I implement it using method references such as when `doSomething` only requires one parameter\r\n\r\n```\r\nStream&lt;Long&gt; stream;\r\nstream.map(this::loadObj).forEach(this::doSomething)\r\n```\r\n\r\n\r\n","title":"Can I use multiMap to consume two items in a stream","body":"<p>I want to implement a function such like:</p>\n<pre><code>Stream&lt;Long&gt; stream;\nstream.forEach(id-&gt;{\n    Object obj = loadObj(id);\n    doSomething(id, obj);\n});\n</code></pre>\n<p>Can I implement it using method references such as when <code>doSomething</code> only requires one parameter</p>\n<pre><code>Stream&lt;Long&gt; stream;\nstream.map(this::loadObj).forEach(this::doSomething)\n</code></pre>\n"},{"tags":["java","spring","mocking","mockito","integration-testing"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1648749953,"post_id":71696908,"comment_id":126710266,"body_markdown":"Use `@WebMvcTest(AgentController.class)` instead of `@SpringBootTest`. You are loading everything now which probably isn&#39;t what you want. If that is, please add the full stacktrace instead of a snippet.","body":"Use <code>@WebMvcTest(AgentController.class)</code> instead of <code>@SpringBootTest</code>. You are loading everything now which probably isn&#39;t what you want. If that is, please add the full stacktrace instead of a snippet."},{"owner":{"account_id":20683043,"reputation":35,"user_id":15186159,"display_name":"Alessia"},"score":0,"creation_date":1648751093,"post_id":71696908,"comment_id":126710668,"body_markdown":"I am getting the same error. I posted the full stacktrace","body":"I am getting the same error. I posted the full stacktrace"},{"owner":{"account_id":20683043,"reputation":35,"user_id":15186159,"display_name":"Alessia"},"score":0,"creation_date":1648797189,"post_id":71696908,"comment_id":126719878,"body_markdown":"I have updated the error I&#39;m getting now. I think this might be because of Spring Security?","body":"I have updated the error I&#39;m getting now. I think this might be because of Spring Security?"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1648801425,"post_id":71696908,"comment_id":126721245,"body_markdown":"Looks like unauthenticated request. Try `@WithMockUser` See https://www.baeldung.com/spring-security-integration-tests","body":"Looks like unauthenticated request. Try <code>@WithMockUser</code> See <a href=\"https://www.baeldung.com/spring-security-integration-tests\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-integration-tests</a>"},{"owner":{"account_id":20683043,"reputation":35,"user_id":15186159,"display_name":"Alessia"},"score":0,"creation_date":1648803722,"post_id":71696908,"comment_id":126721959,"body_markdown":"Thank you! It now works and I&#39;ve checked your suggested link out and it makes sense! I had some more errors, regarding the returned content type. I have now edited my question and everything works fine.","body":"Thank you! It now works and I&#39;ve checked your suggested link out and it makes sense! I had some more errors, regarding the returned content type. I have now edited my question and everything works fine."}],"owner":{"account_id":20683043,"reputation":35,"user_id":15186159,"display_name":"Alessia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648803775,"creation_date":1648747974,"question_id":71696908,"body_markdown":"I have done a Spring Mvc application and I have been trying to write some integration tests, but I keep getting errors. Here is my AgentService:\r\n```\r\n\r\n@Service\r\npublic class AgentService {\r\n\r\n    @Autowired\r\n    private AgentRepository agentRepository;\r\n\r\n    @Autowired\r\n    private AgencyRepository repoAg;\r\n\r\n    @Autowired\r\n    private AgentMapper mapper;\r\n\r\n    public List&lt;AgentDto&gt; listByAgency(Long id) {\r\n        List&lt;Agent&gt; agents = agentRepository.findAll().stream().filter(ag -&gt; ag.getAgency().getId().equals(id)).collect(Collectors.toList());\r\n        List&lt;AgentDto&gt; mappedAgents = agents.stream().map(agent -&gt; mapper.mapToDto(agent)).collect(Collectors.toList());\r\n        return mappedAgents;\r\n    }\r\n}\r\n```\r\nAnd my AgentController:\r\n```\r\n\r\n@Controller\r\npublic class AgentController {\r\n\r\n    @Autowired\r\n    private AgentService agentService;\r\n\r\n    @GetMapping(&quot;/viewAgentsPage/{id}&quot;)\r\n    public String viewAgentsPage(@PathVariable(value = &quot;id&quot;) Long id, Model model) {\r\n        model.addAttribute(&quot;listAgents&quot;, agentService.listByAgency(id));\r\n        return &quot;agents&quot;;\r\n    }\r\n}\r\n```\r\nThis is the test I&#39;ve written:\r\n```\r\npackage com.example.awbdproject.controller;\r\n\r\nimport com.example.awbdproject.models.Agency;\r\nimport com.example.awbdproject.models.Agent;\r\nimport com.example.awbdproject.services.AgentService;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.ui.Model;\r\n\r\nimport static org.mockito.Mockito.doReturn;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.view;\r\n\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\npublic class AgentControllerTest {\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    AgentService agentService;\r\n\r\n    @MockBean\r\n    Model model;\r\n\r\n    @Test\r\n    @WithMockUser\r\n    public void showAgentsByAgency() throws Exception {\r\n\r\n        List&lt;AgentDto&gt; savedAgents = new ArrayList&lt;AgentDto&gt;();\r\n\r\n        Long id = 1L;\r\n        Agency agencyTest = new Agency();\r\n        agencyTest.setId(id);\r\n\r\n        AgentDto agentTest = new AgentDto();\r\n        agentTest.setId(1L);\r\n        agentTest.setFirstName(&quot;test&quot;);\r\n        agentTest.setLastName(&quot;test&quot;);\r\n        agentTest.setEmail(&quot;email@gmail.com&quot;);\r\n        agentTest.setAgency(agencyTest);\r\n\r\n        savedAgents.add(agentTest);\r\n\r\n        when(agentService.listByAgency(id)).thenReturn(savedAgents);\r\n        mockMvc.perform(get(&quot;/viewAgentsPage/{id}&quot;, &quot;1&quot;))\r\n                .andExpect(status().isOk())\r\n                .andExpect(view().name(&quot;agents&quot;))\r\n                .andExpect(model().attribute(&quot;listAgents&quot;, savedAgents))\r\n                .andExpect(content().contentType(&quot;text/html;charset=UTF-8&quot;));\r\n    }\r\n\r\n```\r\n\r\nWhen I run the test I&#39;m getting this error:\r\n```\r\nMockHttpServletRequest:\r\n      HTTP Method = GET\r\n      Request URI = /viewAgentsPage/1\r\n       Parameters = {}\r\n          Headers = []\r\n             Body = null\r\n    Session Attrs = {SPRING_SECURITY_SAVED_REQUEST=DefaultSavedRequest [http://localhost/viewAgentsPage/1]}\r\n\r\nHandler:\r\n             Type = null\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 302\r\n    Error message = null\r\n          Headers = [X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;, Location:&quot;http://localhost/login&quot;]\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = http://localhost/login\r\n          Cookies = []\r\n```\r\n\r\nWhat seems to be the issue here? I have never used Mockito and can&#39;t seem to wrap my head around it. I think it might have something to do with Spring Security. If it helps, this is my security configuration:\r\n```\r\n@Override\r\n    protected void configure(HttpSecurity http) throws Exception{\r\n       http.authorizeRequests().antMatchers(\r\n               &quot;/register/**&quot;,\r\n               &quot;/js/**&quot;,\r\n               &quot;/css/**&quot;,\r\n               &quot;/img/**&quot;\r\n       ).permitAll().anyRequest().authenticated()\r\n               .and().formLogin().loginPage(&quot;/login&quot;)\r\n               .permitAll()\r\n               .and().logout().invalidateHttpSession(true).clearAuthentication(true)\r\n               .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n               .logoutSuccessUrl(&quot;/login?logout&quot;).permitAll();\r\n    }\r\n```","title":"Spring Mvc integration test failed","body":"<p>I have done a Spring Mvc application and I have been trying to write some integration tests, but I keep getting errors. Here is my AgentService:</p>\n<pre><code>\n@Service\npublic class AgentService {\n\n    @Autowired\n    private AgentRepository agentRepository;\n\n    @Autowired\n    private AgencyRepository repoAg;\n\n    @Autowired\n    private AgentMapper mapper;\n\n    public List&lt;AgentDto&gt; listByAgency(Long id) {\n        List&lt;Agent&gt; agents = agentRepository.findAll().stream().filter(ag -&gt; ag.getAgency().getId().equals(id)).collect(Collectors.toList());\n        List&lt;AgentDto&gt; mappedAgents = agents.stream().map(agent -&gt; mapper.mapToDto(agent)).collect(Collectors.toList());\n        return mappedAgents;\n    }\n}\n</code></pre>\n<p>And my AgentController:</p>\n<pre><code>\n@Controller\npublic class AgentController {\n\n    @Autowired\n    private AgentService agentService;\n\n    @GetMapping(&quot;/viewAgentsPage/{id}&quot;)\n    public String viewAgentsPage(@PathVariable(value = &quot;id&quot;) Long id, Model model) {\n        model.addAttribute(&quot;listAgents&quot;, agentService.listByAgency(id));\n        return &quot;agents&quot;;\n    }\n}\n</code></pre>\n<p>This is the test I've written:</p>\n<pre><code>package com.example.awbdproject.controller;\n\nimport com.example.awbdproject.models.Agency;\nimport com.example.awbdproject.models.Agent;\nimport com.example.awbdproject.services.AgentService;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.ui.Model;\n\nimport static org.mockito.Mockito.doReturn;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.view;\n\n@SpringBootTest\n@AutoConfigureMockMvc\npublic class AgentControllerTest {\n    @Autowired\n    MockMvc mockMvc;\n\n    @MockBean\n    AgentService agentService;\n\n    @MockBean\n    Model model;\n\n    @Test\n    @WithMockUser\n    public void showAgentsByAgency() throws Exception {\n\n        List&lt;AgentDto&gt; savedAgents = new ArrayList&lt;AgentDto&gt;();\n\n        Long id = 1L;\n        Agency agencyTest = new Agency();\n        agencyTest.setId(id);\n\n        AgentDto agentTest = new AgentDto();\n        agentTest.setId(1L);\n        agentTest.setFirstName(&quot;test&quot;);\n        agentTest.setLastName(&quot;test&quot;);\n        agentTest.setEmail(&quot;email@gmail.com&quot;);\n        agentTest.setAgency(agencyTest);\n\n        savedAgents.add(agentTest);\n\n        when(agentService.listByAgency(id)).thenReturn(savedAgents);\n        mockMvc.perform(get(&quot;/viewAgentsPage/{id}&quot;, &quot;1&quot;))\n                .andExpect(status().isOk())\n                .andExpect(view().name(&quot;agents&quot;))\n                .andExpect(model().attribute(&quot;listAgents&quot;, savedAgents))\n                .andExpect(content().contentType(&quot;text/html;charset=UTF-8&quot;));\n    }\n\n</code></pre>\n<p>When I run the test I'm getting this error:</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = GET\n      Request URI = /viewAgentsPage/1\n       Parameters = {}\n          Headers = []\n             Body = null\n    Session Attrs = {SPRING_SECURITY_SAVED_REQUEST=DefaultSavedRequest [http://localhost/viewAgentsPage/1]}\n\nHandler:\n             Type = null\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 302\n    Error message = null\n          Headers = [X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;, Location:&quot;http://localhost/login&quot;]\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = http://localhost/login\n          Cookies = []\n</code></pre>\n<p>What seems to be the issue here? I have never used Mockito and can't seem to wrap my head around it. I think it might have something to do with Spring Security. If it helps, this is my security configuration:</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception{\n       http.authorizeRequests().antMatchers(\n               &quot;/register/**&quot;,\n               &quot;/js/**&quot;,\n               &quot;/css/**&quot;,\n               &quot;/img/**&quot;\n       ).permitAll().anyRequest().authenticated()\n               .and().formLogin().loginPage(&quot;/login&quot;)\n               .permitAll()\n               .and().logout().invalidateHttpSession(true).clearAuthentication(true)\n               .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n               .logoutSuccessUrl(&quot;/login?logout&quot;).permitAll();\n    }\n</code></pre>\n"},{"tags":["java","hbase","apache-storm","apache-phoenix"],"answers":[{"tags":[],"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648803762,"creation_date":1539261129,"answer_id":52760174,"question_id":52757219,"body_markdown":"have you tried to set : \r\n\r\n*driverClassName* -&gt; org.apache.phoenix.jdbc.PhoenixDriver. The current code seems to have set the dataSourceClassName which is different i guess\r\n\r\nRefering  [this][1]\r\n\r\n\r\n  [1]: https://github.com/brettwooldridge/HikariCP","title":"Can&#39;t load Phoenix JDBC driver for Storm&#39;s JdbcInsertBolt","body":"<p>have you tried to set :</p>\n<p><em>driverClassName</em> -&gt; org.apache.phoenix.jdbc.PhoenixDriver. The current code seems to have set the dataSourceClassName which is different i guess</p>\n<p>Refering  <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">this</a></p>\n"}],"owner":{"account_id":1573267,"reputation":7512,"user_id":1460461,"accept_rate":38,"display_name":"Benvorth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648803762,"creation_date":1539251760,"question_id":52757219,"body_markdown":"During initialization of Apache&#39;s Storm `JdbcInsertBolt` I get an error \r\n\r\n\r\n    java.lang.ClassCastException: \r\n      Cannot cast org.apache.phoenix.jdbc.PhoenixDriver to javax.sql.DataSource\r\n    at com.zaxxer.hikari.util.UtilityElf.createInstance(UtilityElf.java:90)\r\n    at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:292)\r\n    at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:84)\r\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:102)\r\n    at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:71)\r\n    at org.apache.storm.jdbc.common.HikariCPConnectionProvider.prepare(HikariCPConnectionProvider.java:53)\r\n    at org.apache.storm.jdbc.mapper.SimpleJdbcMapper.&lt;init&gt;(SimpleJdbcMapper.java:43)\r\n\r\n\r\n\r\nfrom the underlying `HikariCPConnectionProvider`. Whats wrong?\r\n\r\nI am following [http://storm.apache.org/releases/1.1.2/storm-jdbc.html][1], here is what I am doing based on that:\r\n\r\nI like to write data from a Apache Storm topology to a HBase table via Phoenix. For that I downloaded the driver-file (`phoenix-4.7.0.2.6.5.3003-25-client.jar`) from my cluster-Server and added it to my local maven repository:\r\n\r\n    mvn install:install-file \r\n      -Dfile=lib\\phoenix-4.7.0.2.6.5.3003-25-client.jar \r\n      -DgroupId=org.apache.phoenix \r\n      -DartifactId=phoenix-jdbc -Dversion=4.7.0 -Dpackaging=jar\r\n\r\nAfter that I updated my `.pom`:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.phoenix&lt;/groupId&gt;\r\n        &lt;artifactId&gt;phoenix-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;4.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNow add Storm&#39;s JDBC-Bolt:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.storm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;storm-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.2&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand I am set-up to use the bolt. First: Setup Connection-Provider:\r\n\r\n    Map hikariConfigMap = new HashMap();\r\n    hikariConfigMap.put(&quot;dataSourceClassName&quot;, &quot;org.apache.phoenix.jdbc.PhoenixDriver&quot;);\r\n    hikariConfigMap.put(&quot;dataSource.url&quot;, &quot;&lt;zookeeperQuorumURI&gt;:2181:/hbase-unsecure&quot;);\r\n    this.connectionProvider = new HikariCPConnectionProvider(hikariConfigMap);\r\n\r\nNow initialize the tuple-values-to-db-columns-mapper\r\n\r\n    this.simpleJdbcMapper = new SimpleJdbcMapper(this.tablename, connectionProvider);\r\n\r\nDuring this the error mentioned above happens.\r\n\r\nJust for completeness: The `JdbcInsertBolt` gets created like this:\r\n\r\n    new JdbcInsertBolt(this.connectionProvider, this.simpleJdbcMapper)\r\n            .withTableName(this.tablename)\r\n            .withQueryTimeoutSecs(30);\r\n\r\n\r\n  [1]: http://storm.apache.org/releases/1.1.2/storm-jdbc.html","title":"Can&#39;t load Phoenix JDBC driver for Storm&#39;s JdbcInsertBolt","body":"<p>During initialization of Apache's Storm <code>JdbcInsertBolt</code> I get an error </p>\n\n<pre><code>java.lang.ClassCastException: \n  Cannot cast org.apache.phoenix.jdbc.PhoenixDriver to javax.sql.DataSource\nat com.zaxxer.hikari.util.UtilityElf.createInstance(UtilityElf.java:90)\nat com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:292)\nat com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:84)\nat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:102)\nat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:71)\nat org.apache.storm.jdbc.common.HikariCPConnectionProvider.prepare(HikariCPConnectionProvider.java:53)\nat org.apache.storm.jdbc.mapper.SimpleJdbcMapper.&lt;init&gt;(SimpleJdbcMapper.java:43)\n</code></pre>\n\n<p>from the underlying <code>HikariCPConnectionProvider</code>. Whats wrong?</p>\n\n<p>I am following <a href=\"http://storm.apache.org/releases/1.1.2/storm-jdbc.html\" rel=\"nofollow noreferrer\">http://storm.apache.org/releases/1.1.2/storm-jdbc.html</a>, here is what I am doing based on that:</p>\n\n<p>I like to write data from a Apache Storm topology to a HBase table via Phoenix. For that I downloaded the driver-file (<code>phoenix-4.7.0.2.6.5.3003-25-client.jar</code>) from my cluster-Server and added it to my local maven repository:</p>\n\n<pre><code>mvn install:install-file \n  -Dfile=lib\\phoenix-4.7.0.2.6.5.3003-25-client.jar \n  -DgroupId=org.apache.phoenix \n  -DartifactId=phoenix-jdbc -Dversion=4.7.0 -Dpackaging=jar\n</code></pre>\n\n<p>After that I updated my <code>.pom</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.phoenix&lt;/groupId&gt;\n    &lt;artifactId&gt;phoenix-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;4.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Now add Storm's JDBC-Bolt:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.storm&lt;/groupId&gt;\n    &lt;artifactId&gt;storm-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and I am set-up to use the bolt. First: Setup Connection-Provider:</p>\n\n<pre><code>Map hikariConfigMap = new HashMap();\nhikariConfigMap.put(\"dataSourceClassName\", \"org.apache.phoenix.jdbc.PhoenixDriver\");\nhikariConfigMap.put(\"dataSource.url\", \"&lt;zookeeperQuorumURI&gt;:2181:/hbase-unsecure\");\nthis.connectionProvider = new HikariCPConnectionProvider(hikariConfigMap);\n</code></pre>\n\n<p>Now initialize the tuple-values-to-db-columns-mapper</p>\n\n<pre><code>this.simpleJdbcMapper = new SimpleJdbcMapper(this.tablename, connectionProvider);\n</code></pre>\n\n<p>During this the error mentioned above happens.</p>\n\n<p>Just for completeness: The <code>JdbcInsertBolt</code> gets created like this:</p>\n\n<pre><code>new JdbcInsertBolt(this.connectionProvider, this.simpleJdbcMapper)\n        .withTableName(this.tablename)\n        .withQueryTimeoutSecs(30);\n</code></pre>\n"},{"tags":["java","sql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1648790420,"creation_date":1648790420,"answer_id":71702142,"question_id":71702084,"body_markdown":"The error could actually be caused by the semicolon at the end of the SQL statement, which should not be needed there anyway.  But in any case, you really should he using a prepared statement here.  Consider using this version:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String sql = &quot;UPDATE PLAYER SET &quot; +\r\n                 &quot;FIRST_NAME = ?, &quot;   +\r\n                 &quot;LAST_NAME = ?, &quot;    +\r\n                 &quot;ADDRESS = ?, &quot;      +\r\n                 &quot;PROVINCE = ?, &quot;     +\r\n                 &quot;POSTAL_CODE = ?, &quot;  +\r\n                 &quot;PHONE_NUMBER = ? &quot;  +\r\n                 &quot;WHERE PLAYER_ID = ?&quot;;\r\n    PreparedStatement ps = new PreparedStatement(sql);\r\n    ps.setString(1, fname);\r\n    ps.setString(2, lname);\r\n    ps.setString(3, addr);\r\n    ps.setString(4, province);\r\n    ps.setString(5, pcode);\r\n    ps.setString(6, phone);\r\n    ps.setInteger(7, update);\r\n\r\n    int rows = ps.executeUpdate();\r\n    System.out.println(&quot;num rows updated: &quot; + rows);","title":"Try to update SQL table With Java JDBC get error &quot;SQL command not properly ended&quot;","body":"<p>The error could actually be caused by the semicolon at the end of the SQL statement, which should not be needed there anyway.  But in any case, you really should he using a prepared statement here.  Consider using this version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql = &quot;UPDATE PLAYER SET &quot; +\n             &quot;FIRST_NAME = ?, &quot;   +\n             &quot;LAST_NAME = ?, &quot;    +\n             &quot;ADDRESS = ?, &quot;      +\n             &quot;PROVINCE = ?, &quot;     +\n             &quot;POSTAL_CODE = ?, &quot;  +\n             &quot;PHONE_NUMBER = ? &quot;  +\n             &quot;WHERE PLAYER_ID = ?&quot;;\nPreparedStatement ps = new PreparedStatement(sql);\nps.setString(1, fname);\nps.setString(2, lname);\nps.setString(3, addr);\nps.setString(4, province);\nps.setString(5, pcode);\nps.setString(6, phone);\nps.setInteger(7, update);\n\nint rows = ps.executeUpdate();\nSystem.out.println(&quot;num rows updated: &quot; + rows);\n</code></pre>\n"}],"owner":{"account_id":23961112,"reputation":11,"user_id":17951173,"display_name":"esokumamon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1648803633,"answer_count":1,"score":-1,"last_activity_date":1648803511,"creation_date":1648789821,"question_id":71702084,"body_markdown":"I&#39;m trying to update a SQL table using Java JDBC with the following query\r\n`UPDATE PLAYER SET FIRST_NAME =&#39;king&#39;, LAST_NAME =&#39;guy&#39;, ADDRESS =&#39;&#39;, PROVINCE =&#39;&#39;, POSTAL_CODE =&#39;&#39;, PHONE_NUMBER =&#39;&#39; WHERE PLAYER_ID=7;`\r\n\r\nBut I get the error message\r\n\r\n&gt; java.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended\r\n\r\nThis is my java code\r\n\r\n    String update= updatetf.getText();\r\n    String fname = fnametf.getText();\r\n    String lname = lnametf.getText();\r\n    String addr = addresstf.getText();\r\n    String province = provincetf.getText();\r\n    String pcode= pcodetf.getText();\r\n    String phone= phonetf.getText();\r\n\r\n            try {\r\n                Statement stm = connection.createStatement();\r\n    \r\n                String sql = &quot;UPDATE PLAYER SET &quot;+\r\n                        &quot;FIRST_NAME =&#39;&quot;+ fname + &quot;&#39;, &quot;\r\n                        +&quot;LAST_NAME =&#39;&quot; + lname + &quot;&#39;, &quot;\r\n                        +&quot;ADDRESS =&#39;&quot; + addr + &quot;&#39;, &quot;\r\n                        +&quot;PROVINCE =&#39;&quot; + province + &quot;&#39;, &quot;\r\n                        +&quot;POSTAL_CODE =&#39;&quot; + pcode + &quot;&#39;, &quot;\r\n                        +&quot;PHONE_NUMBER =&#39;&quot; + phone + &quot;&#39;&quot;\r\n                        + &quot; WHERE PLAYER_ID=&quot; + update+&quot;;&quot;;\r\n    \r\n                System.out.println(sql);\r\n                stm.executeUpdate(sql);\r\n                System.out.println(&quot;Player &quot; + update + &quot; updated.&quot;);\r\n            } catch(SQLException ex) {\r\n                ex.printStackTrace();\r\n            }`\r\n\r\nThe above code forms the following query\r\n\r\n`UPDATE PLAYER SET FIRST_NAME =&#39;king&#39;, LAST_NAME =&#39;guy&#39;, ADDRESS =&#39;&#39;, PROVINCE =&#39;&#39;, POSTAL_CODE =&#39;&#39;, PHONE_NUMBER =&#39;&#39; WHERE PLAYER_ID=7;`\r\n\r\nBut I get the error message\r\n\r\n&gt; java.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended\r\n\r\nI tried the query in SQL developer and didn&#39;t get any error","title":"Try to update SQL table With Java JDBC get error &quot;SQL command not properly ended&quot;","body":"<p>I'm trying to update a SQL table using Java JDBC with the following query\n<code>UPDATE PLAYER SET FIRST_NAME ='king', LAST_NAME ='guy', ADDRESS ='', PROVINCE ='', POSTAL_CODE ='', PHONE_NUMBER ='' WHERE PLAYER_ID=7;</code></p>\n<p>But I get the error message</p>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended</p>\n</blockquote>\n<p>This is my java code</p>\n<pre><code>String update= updatetf.getText();\nString fname = fnametf.getText();\nString lname = lnametf.getText();\nString addr = addresstf.getText();\nString province = provincetf.getText();\nString pcode= pcodetf.getText();\nString phone= phonetf.getText();\n\n        try {\n            Statement stm = connection.createStatement();\n\n            String sql = &quot;UPDATE PLAYER SET &quot;+\n                    &quot;FIRST_NAME ='&quot;+ fname + &quot;', &quot;\n                    +&quot;LAST_NAME ='&quot; + lname + &quot;', &quot;\n                    +&quot;ADDRESS ='&quot; + addr + &quot;', &quot;\n                    +&quot;PROVINCE ='&quot; + province + &quot;', &quot;\n                    +&quot;POSTAL_CODE ='&quot; + pcode + &quot;', &quot;\n                    +&quot;PHONE_NUMBER ='&quot; + phone + &quot;'&quot;\n                    + &quot; WHERE PLAYER_ID=&quot; + update+&quot;;&quot;;\n\n            System.out.println(sql);\n            stm.executeUpdate(sql);\n            System.out.println(&quot;Player &quot; + update + &quot; updated.&quot;);\n        } catch(SQLException ex) {\n            ex.printStackTrace();\n        }`\n</code></pre>\n<p>The above code forms the following query</p>\n<p><code>UPDATE PLAYER SET FIRST_NAME ='king', LAST_NAME ='guy', ADDRESS ='', PROVINCE ='', POSTAL_CODE ='', PHONE_NUMBER ='' WHERE PLAYER_ID=7;</code></p>\n<p>But I get the error message</p>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended</p>\n</blockquote>\n<p>I tried the query in SQL developer and didn't get any error</p>\n"},{"tags":["java","playframework","playframework-2.0"],"answers":[{"tags":[],"owner":{"account_id":4080957,"reputation":584,"user_id":3351458,"accept_rate":67,"display_name":"Himanshu Goel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430996856,"creation_date":1430996856,"answer_id":30099333,"question_id":30095658,"body_markdown":"You need to specify method attribute as well in form tag with value post. But helper method doesn&#39;t support method attribute. So do it this way.\r\n\r\n    @(myform: Form[model.Paper])\r\n    \r\n    &lt;form method=&quot;POST&quot; action =&quot;@routes.Application.newPaper()&quot;&gt; \r\n       query:  @helper.inputText(myform(&quot;query&quot;))  &lt;br&gt;&lt;br&gt;\r\n       &lt;br&gt;&lt;input type=&quot;submit&quot;&gt;\r\n    &lt;/form&gt;","title":"bindFromRequest() not working in play framework 2.0. Form values are always null","body":"<p>You need to specify method attribute as well in form tag with value post. But helper method doesn't support method attribute. So do it this way.</p>\n\n<pre><code>@(myform: Form[model.Paper])\n\n&lt;form method=\"POST\" action =\"@routes.Application.newPaper()\"&gt; \n   query:  @helper.inputText(myform(\"query\"))  &lt;br&gt;&lt;br&gt;\n   &lt;br&gt;&lt;input type=\"submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14615673,"reputation":1,"user_id":10555838,"display_name":"Ronak Sayta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562145976,"creation_date":1562140470,"answer_id":56865450,"question_id":30095658,"body_markdown":"I have used `formFactory` instead of `Forms`.\r\n\r\nAdd `.withDirectFieldAccess(true);` in `myApplication.java` for `bindFormRequest`.\r\n\r\nSo your code should be:\r\n\r\n    Form&lt;Paper&gt; paperForm = Form.form(Paper.class).bindFromRequest().withDirectFieldAccess(true);\r\n\r\nInstead of:\r\n\r\n    Form&lt;Paper&gt; paperForm = Form.form(Paper.class).bindFromRequest();\r\n\r\nBy this you can get all the fields.\r\nYou can find more help on this link - \r\nhttps://www.playframework.com/documentation/2.7.x/JavaForms","title":"bindFromRequest() not working in play framework 2.0. Form values are always null","body":"<p>I have used <code>formFactory</code> instead of <code>Forms</code>.</p>\n\n<p>Add <code>.withDirectFieldAccess(true);</code> in <code>myApplication.java</code> for <code>bindFormRequest</code>.</p>\n\n<p>So your code should be:</p>\n\n<pre><code>Form&lt;Paper&gt; paperForm = Form.form(Paper.class).bindFromRequest().withDirectFieldAccess(true);\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>Form&lt;Paper&gt; paperForm = Form.form(Paper.class).bindFromRequest();\n</code></pre>\n\n<p>By this you can get all the fields.\nYou can find more help on this link - \n<a href=\"https://www.playframework.com/documentation/2.7.x/JavaForms\" rel=\"nofollow noreferrer\">https://www.playframework.com/documentation/2.7.x/JavaForms</a></p>\n"},{"tags":[],"owner":{"account_id":1051623,"reputation":733,"user_id":1055416,"accept_rate":45,"display_name":"leetom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648803290,"creation_date":1648803290,"answer_id":71704295,"question_id":30095658,"body_markdown":"I had encountered this problem even in 2022.\r\n\r\nI am using version 2.8.x, and here are the solutions I had found.\r\n\r\n### Case 1.\r\n\r\nIf you have written *setters* in your model, the fields with *setters* will be filled automatically, and you should not have any problem.\r\n\r\n### Case 2.\r\n\r\nIf you don&#39;t have *setters* in your model, you should use the following line: `Form.form(Paper.class).withDirectFieldAccess(true).bindFromRequest(reqeust);`\r\n\r\nThe position where you put `withDirectFieldAccess(true)` matters in version 2.8.x, and you also have to pass the `request` object as the argument.","title":"bindFromRequest() not working in play framework 2.0. Form values are always null","body":"<p>I had encountered this problem even in 2022.</p>\n<p>I am using version 2.8.x, and here are the solutions I had found.</p>\n<h3>Case 1.</h3>\n<p>If you have written <em>setters</em> in your model, the fields with <em>setters</em> will be filled automatically, and you should not have any problem.</p>\n<h3>Case 2.</h3>\n<p>If you don't have <em>setters</em> in your model, you should use the following line: <code>Form.form(Paper.class).withDirectFieldAccess(true).bindFromRequest(reqeust);</code></p>\n<p>The position where you put <code>withDirectFieldAccess(true)</code> matters in version 2.8.x, and you also have to pass the <code>request</code> object as the argument.</p>\n"}],"owner":{"account_id":4229978,"reputation":106,"user_id":3462510,"accept_rate":40,"display_name":"user3462510"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1648803290,"creation_date":1430987168,"question_id":30095658,"body_markdown":"The problem is that, I can not read values in submitted form in play framework 2.0.  The value is always null,\r\n\r\nHere is my code:\r\n\r\n###my model file \r\n\r\n     package model;\r\n\r\n     public class Paper {\r\n        public String query;\r\n     }\r\n\r\n\r\n###my index.scala.html\r\n\r\n    @(myform: Form[model.Paper])\r\n\r\n    @helper.form(action =routes.Application.newPaper()) {\r\n       myvalue:  @helper.inputText(myform(&quot;query&quot;))  &lt;br&gt;&lt;br&gt;\r\n       &lt;br&gt;&lt;input type=&quot;submit&quot;&gt;\r\n    }\r\n\r\n###conf/routes\r\n\r\n     POST     /newkey                  controllers.Application.newPaper()\r\n     GET     /                           controllers.Application.index()\r\n\r\n###my Application.java\r\n\r\n      public static Result index() {\r\n    \tPaper paper = new Paper();\r\n    \tpaper.query = &quot;initial value&quot;;\r\n        Form&lt;Paper&gt; paperForm =  Form.form(Paper.class).fill(paper);\r\n        return ok(index.render(paperForm);\r\n      }\r\n \r\n      public static Result newPaper() {\r\n        Form&lt;Paper&gt; paperForm = Form.form(Paper.class).bindFromRequest();\r\n        if (!paperForm.hasErrors()) {\r\n            Paper paper = paperForm.get();\r\n            Logger.info(&quot;query= &quot; + paper.query); //why I always get &quot;query= null&quot; ???\r\n        }\r\n        return redirect(routes.Application.index()); \r\n     }\r\n\r\nWhen I visit the html page, I can not see &quot;initial value&quot; in the text inputbox. When I fill the inputbox and click submit button, The printed log is always: `query= null`\r\n\r\nI also monitored using chrome devtool. I saw post http request was sent. But the finial status code is 303, instead of 200.\r\n\r\nIf I use DynamicForm to process the submitted form in newPaper(), then I can read the query value as expected. But Why current code does not work? \r\n\r\nThanks for help!","title":"bindFromRequest() not working in play framework 2.0. Form values are always null","body":"<p>The problem is that, I can not read values in submitted form in play framework 2.0.  The value is always null,</p>\n\n<p>Here is my code:</p>\n\n<h3>my model file</h3>\n\n<pre><code> package model;\n\n public class Paper {\n    public String query;\n }\n</code></pre>\n\n<h3>my index.scala.html</h3>\n\n<pre><code>@(myform: Form[model.Paper])\n\n@helper.form(action =routes.Application.newPaper()) {\n   myvalue:  @helper.inputText(myform(\"query\"))  &lt;br&gt;&lt;br&gt;\n   &lt;br&gt;&lt;input type=\"submit\"&gt;\n}\n</code></pre>\n\n<h3>conf/routes</h3>\n\n<pre><code> POST     /newkey                  controllers.Application.newPaper()\n GET     /                           controllers.Application.index()\n</code></pre>\n\n<h3>my Application.java</h3>\n\n<pre><code>  public static Result index() {\n    Paper paper = new Paper();\n    paper.query = \"initial value\";\n    Form&lt;Paper&gt; paperForm =  Form.form(Paper.class).fill(paper);\n    return ok(index.render(paperForm);\n  }\n\n  public static Result newPaper() {\n    Form&lt;Paper&gt; paperForm = Form.form(Paper.class).bindFromRequest();\n    if (!paperForm.hasErrors()) {\n        Paper paper = paperForm.get();\n        Logger.info(\"query= \" + paper.query); //why I always get \"query= null\" ???\n    }\n    return redirect(routes.Application.index()); \n }\n</code></pre>\n\n<p>When I visit the html page, I can not see \"initial value\" in the text inputbox. When I fill the inputbox and click submit button, The printed log is always: <code>query= null</code></p>\n\n<p>I also monitored using chrome devtool. I saw post http request was sent. But the finial status code is 303, instead of 200.</p>\n\n<p>If I use DynamicForm to process the submitted form in newPaper(), then I can read the query value as expected. But Why current code does not work? </p>\n\n<p>Thanks for help!</p>\n"},{"tags":["java","jboss","jboss7.x","jboss-eap-7"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1648831094,"post_id":71704206,"comment_id":126732316,"body_markdown":"What kind of configuration changes have you made? That seems odd as does the log format.","body":"What kind of configuration changes have you made? That seems odd as does the log format."},{"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"score":0,"creation_date":1649051082,"post_id":71704206,"comment_id":126768837,"body_markdown":"I used the default JBoss configuration. I am really disappointed to say this but the problem was resolved by just restarting my pc.","body":"I used the default JBoss configuration. I am really disappointed to say this but the problem was resolved by just restarting my pc."}],"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648802890,"creation_date":1648802890,"question_id":71704206,"body_markdown":"My jboss EAP 7.2.7 is not able to start due to the following error:\r\n\r\n```\r\n2022-04-01 11:45:28.783)~L(:ERROR)~L(:JBOSS)~L(:org.jboss.msc.service.fail)~L(:)~L(:)~L(:)~L(:)~L(:)~L(:)~L(:MSC000001: Failed to start service jboss.serverManagement.controller.management.worker: org.jboss.msc.service.StartException in service jboss.serverManagement.controller.management.worker: Failed to start service\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731) [jboss-msc-1.4.11.Final-redhat-00001.jar:1.4.11.Final-redhat-00001]\r\n\tat org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559) [jboss-msc-1.4.11.Final-redhat-00001.jar:1.4.11.Final-redhat-00001]\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35) [jboss-threads-2.3.2.Final-redhat-1.jar:2.3.2.Final-redhat-1]\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985) [jboss-threads-2.3.2.Final-redhat-1.jar:2.3.2.Final-redhat-1]\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487) [jboss-threads-2.3.2.Final-redhat-1.jar:2.3.2.Final-redhat-1]\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378) [jboss-threads-2.3.2.Final-redhat-1.jar:2.3.2.Final-redhat-1]\r\n\tat java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_102]\r\nCaused by: java.lang.IllegalArgumentException: XNIO001001: No XNIO provider found\r\n\tat org.xnio.Xnio.doGetInstance(Xnio.java:261) [xnio-api-3.7.6.SP2-redhat-00001.jar:3.7.6.SP2-redhat-00001]\r\n\tat org.xnio.Xnio.getInstance(Xnio.java:194) [xnio-api-3.7.6.SP2-redhat-00001.jar:3.7.6.SP2-redhat-00001]\r\n\tat org.jboss.as.server.mgmt.ManagementWorkerService.start(ManagementWorkerService.java:51)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739) [jboss-msc-1.4.11.Final-redhat-00001.jar:1.4.11.Final-redhat-00001]\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701) [jboss-msc-1.4.11.Final-redhat-00001.jar:1.4.11.Final-redhat-00001]\r\n```","title":"java.lang.IllegalArgumentException: XNIO001001: No XNIO provider found","body":"<p>My jboss EAP 7.2.7 is not able to start due to the following error:</p>\n<pre><code>2022-04-01 11:45:28.783)~L(:ERROR)~L(:JBOSS)~L(:org.jboss.msc.service.fail)~L(:)~L(:)~L(:)~L(:)~L(:)~L(:)~L(:MSC000001: Failed to start service jboss.serverManagement.controller.management.worker: org.jboss.msc.service.StartException in service jboss.serverManagement.controller.management.worker: Failed to start service\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731) [jboss-msc-1.4.11.Final-redhat-00001.jar:1.4.11.Final-redhat-00001]\n    at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559) [jboss-msc-1.4.11.Final-redhat-00001.jar:1.4.11.Final-redhat-00001]\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35) [jboss-threads-2.3.2.Final-redhat-1.jar:2.3.2.Final-redhat-1]\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985) [jboss-threads-2.3.2.Final-redhat-1.jar:2.3.2.Final-redhat-1]\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487) [jboss-threads-2.3.2.Final-redhat-1.jar:2.3.2.Final-redhat-1]\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378) [jboss-threads-2.3.2.Final-redhat-1.jar:2.3.2.Final-redhat-1]\n    at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_102]\nCaused by: java.lang.IllegalArgumentException: XNIO001001: No XNIO provider found\n    at org.xnio.Xnio.doGetInstance(Xnio.java:261) [xnio-api-3.7.6.SP2-redhat-00001.jar:3.7.6.SP2-redhat-00001]\n    at org.xnio.Xnio.getInstance(Xnio.java:194) [xnio-api-3.7.6.SP2-redhat-00001.jar:3.7.6.SP2-redhat-00001]\n    at org.jboss.as.server.mgmt.ManagementWorkerService.start(ManagementWorkerService.java:51)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739) [jboss-msc-1.4.11.Final-redhat-00001.jar:1.4.11.Final-redhat-00001]\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701) [jboss-msc-1.4.11.Final-redhat-00001.jar:1.4.11.Final-redhat-00001]\n</code></pre>\n"},{"tags":["java","amazon-web-services","sdk","amazon-cloudsearch"],"answers":[{"tags":[],"owner":{"account_id":24745766,"reputation":142,"user_id":18631966,"display_name":"Goal Moal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648802813,"creation_date":1648802813,"answer_id":71704191,"question_id":71704062,"body_markdown":"You need to get the domain status and then get the search endpoint from the domain status.\r\n\r\n    AmazonCloudSearchClient csClient = new AmazonCloudSearchClient(new BasicAWSCredentials(accessKey, secretKey));\r\n        DescribeDomainsRequest describeDomainsRequest = new DescribeDomainsRequest();\r\n        describeDomainsRequest.setDomainNames(domainName);\r\n        DescribeDomainsResult describeDomainsResult = csClient.describeDomains(describeDomainsRequest);\r\n        DomainStatus domainStatus = describeDomainsResult.getDomainStatusList().get(0);\r\n        String searchEndpoint = domainStatus.getSearchService().getEndpoint();","title":"How to get aws cloudsearch domain&#39;s search endpoint using AWS Java sdk","body":"<p>You need to get the domain status and then get the search endpoint from the domain status.</p>\n<pre><code>AmazonCloudSearchClient csClient = new AmazonCloudSearchClient(new BasicAWSCredentials(accessKey, secretKey));\n    DescribeDomainsRequest describeDomainsRequest = new DescribeDomainsRequest();\n    describeDomainsRequest.setDomainNames(domainName);\n    DescribeDomainsResult describeDomainsResult = csClient.describeDomains(describeDomainsRequest);\n    DomainStatus domainStatus = describeDomainsResult.getDomainStatusList().get(0);\n    String searchEndpoint = domainStatus.getSearchService().getEndpoint();\n</code></pre>\n"}],"owner":{"account_id":24366173,"reputation":47,"user_id":18299890,"display_name":"amber_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71704191,"answer_count":1,"score":0,"last_activity_date":1648802813,"creation_date":1648802214,"question_id":71704062,"body_markdown":"hi I want to get search endpoint from cloudsearch domain using AWS Java sdk from offical documentation it is stated that we can use describeDomain method. but it not not mentioned how we use that method exactly anybody have done something similar or have any clue for this ?\r\n ","title":"How to get aws cloudsearch domain&#39;s search endpoint using AWS Java sdk","body":"<p>hi I want to get search endpoint from cloudsearch domain using AWS Java sdk from offical documentation it is stated that we can use describeDomain method. but it not not mentioned how we use that method exactly anybody have done something similar or have any clue for this ?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","junit"],"comments":[{"owner":{"account_id":18191790,"reputation":1488,"user_id":13237531,"display_name":"Vladimir Stanciu"},"score":0,"creation_date":1648198549,"post_id":71611944,"comment_id":126568594,"body_markdown":"Try flushing in between insertions.","body":"Try flushing in between insertions."},{"owner":{"account_id":15444701,"reputation":961,"user_id":11142067,"display_name":"Harsha Limaye"},"score":0,"creation_date":1648352814,"post_id":71611944,"comment_id":126600852,"body_markdown":"I have tried doing this and it seems to have no effect.","body":"I have tried doing this and it seems to have no effect."},{"owner":{"account_id":18191790,"reputation":1488,"user_id":13237531,"display_name":"Vladimir Stanciu"},"score":0,"creation_date":1648464279,"post_id":71611944,"comment_id":126622168,"body_markdown":"Can you also show us the saveOrUpdate() method and userService.save() method?","body":"Can you also show us the saveOrUpdate() method and userService.save() method?"}],"answers":[{"tags":[],"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648802525,"creation_date":1648206480,"answer_id":71615932,"question_id":71611944,"body_markdown":"The reason why that happens is that when using the @Transactional annotation, the changes are not committed to the database until the entire method is completed. Meaning, the commit to the database doesn&#39;t happen until after the assertion you make, so the DataIntegrityViolationException has not occurred yet.\r\n\r\nHence, as Vladimir mentioned in the comment, inject an EntityManager and call its flush after the entities are saved to the database. This way you force the changes to be committed to the database, and the exception should be thrown upon the flush call.\r\n\r\n```java\r\n    @Autowired private EntityManager entityManager;\r\n\r\n    @Test\r\n    @DisplayName(&quot;Trying to create a user with an email which already exists should fail&quot;)\r\n    void createAUserWithAnEmailWhichIsAlreadyTakenByAnotherUser() {\r\n        User firstUser = createDummyUser();\r\n        firstUser = saveOrUpdate(firstUser);\r\n        Assertions.assertNotNull(firstUser);\r\n\r\n        String existingEmail = firstUser.getEmail();\r\n\r\n        User secondUser = createDummyUser();\r\n        secondUser.setEmail(existingEmail);\r\n\r\n        userService.save(secondUser)\r\n        Assertions.assertThrows(DataIntegrityViolationException.class, () -&gt; entityManager.flush());\r\n    }\r\n```","title":"Does @Transactional annotation on test methods rollback every transaction in the annotated method before it gets to the end?","body":"<p>The reason why that happens is that when using the @Transactional annotation, the changes are not committed to the database until the entire method is completed. Meaning, the commit to the database doesn't happen until after the assertion you make, so the DataIntegrityViolationException has not occurred yet.</p>\n<p>Hence, as Vladimir mentioned in the comment, inject an EntityManager and call its flush after the entities are saved to the database. This way you force the changes to be committed to the database, and the exception should be thrown upon the flush call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired private EntityManager entityManager;\n\n    @Test\n    @DisplayName(&quot;Trying to create a user with an email which already exists should fail&quot;)\n    void createAUserWithAnEmailWhichIsAlreadyTakenByAnotherUser() {\n        User firstUser = createDummyUser();\n        firstUser = saveOrUpdate(firstUser);\n        Assertions.assertNotNull(firstUser);\n\n        String existingEmail = firstUser.getEmail();\n\n        User secondUser = createDummyUser();\n        secondUser.setEmail(existingEmail);\n\n        userService.save(secondUser)\n        Assertions.assertThrows(DataIntegrityViolationException.class, () -&gt; entityManager.flush());\n    }\n</code></pre>\n"}],"owner":{"account_id":15444701,"reputation":961,"user_id":11142067,"display_name":"Harsha Limaye"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648802525,"creation_date":1648179821,"question_id":71611944,"body_markdown":"I am writing a test which confirms that trying to create a user with an email which already exists results in a failure. The database has been set up to have a unique constraint on the email field. I am using an actual database to test this.\r\n```\r\n    @Test\r\n    @DisplayName(&quot;Trying to create a user with an email which already exists should fail&quot;)\r\n    void createAUserWithAnEmailWhichIsAlreadyTakenByAnotherUser() {\r\n        User firstUser = createDummyUser();\r\n        firstUser = saveOrUpdate(firstUser);\r\n        Assertions.assertNotNull(firstUser);\r\n\r\n        String existingEmail = firstUser.getEmail();\r\n\r\n        User secondUser = createDummyUser();\r\n        secondUser.setEmail(existingEmail);\r\n        Assertions.assertThrows(DataIntegrityViolationException.class, () -&gt; userService.save(secondUser));\r\n    }\r\n```\r\n---\r\nMy question is the following: \r\n\r\n 1. When I put the **@Transactional** annotation on either the test class or the test method. This test fails  and the expected exception is not thrown. Why is this ? In my mind the way transactional is supposed to work is that it will rollback all the transactions after the method has finished executing ?\r\n\r\nThe reason I want to clean the DB after every test is because I can&#39;t risk some test failing because of validations I have in place(like this unique email validation).","title":"Does @Transactional annotation on test methods rollback every transaction in the annotated method before it gets to the end?","body":"<p>I am writing a test which confirms that trying to create a user with an email which already exists results in a failure. The database has been set up to have a unique constraint on the email field. I am using an actual database to test this.</p>\n<pre><code>    @Test\n    @DisplayName(&quot;Trying to create a user with an email which already exists should fail&quot;)\n    void createAUserWithAnEmailWhichIsAlreadyTakenByAnotherUser() {\n        User firstUser = createDummyUser();\n        firstUser = saveOrUpdate(firstUser);\n        Assertions.assertNotNull(firstUser);\n\n        String existingEmail = firstUser.getEmail();\n\n        User secondUser = createDummyUser();\n        secondUser.setEmail(existingEmail);\n        Assertions.assertThrows(DataIntegrityViolationException.class, () -&gt; userService.save(secondUser));\n    }\n</code></pre>\n<hr />\n<p>My question is the following:</p>\n<ol>\n<li>When I put the <strong>@Transactional</strong> annotation on either the test class or the test method. This test fails  and the expected exception is not thrown. Why is this ? In my mind the way transactional is supposed to work is that it will rollback all the transactions after the method has finished executing ?</li>\n</ol>\n<p>The reason I want to clean the DB after every test is because I can't risk some test failing because of validations I have in place(like this unique email validation).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5632560,"reputation":1847,"user_id":4459069,"accept_rate":100,"display_name":"sleepToken"},"score":3,"creation_date":1583769858,"post_id":60604296,"comment_id":107219242,"body_markdown":"Have you considered adding the elements to an array?","body":"Have you considered adding the elements to an array?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1583769944,"post_id":60604296,"comment_id":107219289,"body_markdown":"You used the correct way: pass the result of a `Math.min` call as a parameter to another call of `Math.min`. Do more of that in case you don&#39;t know what loops and arrays/lists are.","body":"You used the correct way: pass the result of a <code>Math.min</code> call as a parameter to another call of <code>Math.min</code>. Do more of that in case you don&#39;t know what loops and arrays/lists are."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583770045,"creation_date":1583770045,"answer_id":60604366,"question_id":60604296,"body_markdown":"Your first example uses `b` instead of `c`, and [`Math.min(double, double)`](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#min-double-double-) compares two elements at a time. So you need to nest more calls. Something like,\r\n\r\n    return Math.min(Math.min(x, y), Math.min(Math.min(z, a), c));\r\n\r\nOr, if using Java 8+, you could build a [`DoubleStream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/DoubleStream.html) and take the minimum of that. Like,\r\n\r\n    return DoubleStream.of(x, y, z, a, c).min().orElse(-1);","title":"Find smallest number among five numbers","body":"<p>Your first example uses <code>b</code> instead of <code>c</code>, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#min-double-double-\" rel=\"nofollow noreferrer\"><code>Math.min(double, double)</code></a> compares two elements at a time. So you need to nest more calls. Something like,</p>\n\n<pre><code>return Math.min(Math.min(x, y), Math.min(Math.min(z, a), c));\n</code></pre>\n\n<p>Or, if using Java 8+, you could build a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/DoubleStream.html\" rel=\"nofollow noreferrer\"><code>DoubleStream</code></a> and take the minimum of that. Like,</p>\n\n<pre><code>return DoubleStream.of(x, y, z, a, c).min().orElse(-1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583837793,"creation_date":1583770141,"answer_id":60604387,"question_id":60604296,"body_markdown":"You can do it as follows:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tdouble n, min = 0.0;\r\n    \t\tSystem.out.print(&quot;Enter a number: &quot;);\r\n    \t\tn = in.nextDouble();\r\n    \t\tmin = n;\r\n    \t\tfor (int i = 1; i &lt;= 4; i++) {\r\n    \t\t\tSystem.out.print(&quot;Enter a number: &quot;);\r\n    \t\t\tn = in.nextDouble();\r\n    \t\t\tif (n &lt; min) {\r\n    \t\t\t\tmin = n;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Smallest number is: &quot; + min);\r\n    \t}\r\n    }\r\n\r\n**A sample run:**\r\n\r\n    Enter a number: 5.56\r\n    Enter a number: 3.56\r\n    Enter a number: 2000\r\n    Enter a number: 45.3\r\n    Enter a number: 90\r\n    Smallest number is: 3.56\r\n\r\n**[Update]**\r\n\r\nGiven below is another simple way as suggested by @Arnaud Denoyelle:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tdouble min = Double.MAX_VALUE;\r\n    \t\tfor (int i = 1; i &lt;= 5; i++) {\r\n    \t\t\tSystem.out.print(&quot;Enter a number: &quot;);\r\n    \t\t\tmin = Math.min(min, in.nextDouble());\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;The smallest number is:  &quot; + min);\r\n    \t}\r\n    }\r\n**A sample run:**\r\n\r\n    Enter a number: 4.5\r\n    Enter a number: 1.2\r\n    Enter a number: 6.7\r\n    Enter a number: 1.1\r\n    Enter a number: 90\r\n    The smallest number is:  1.1\r\n\r\n","title":"Find smallest number among five numbers","body":"<p>You can do it as follows:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        double n, min = 0.0;\n        System.out.print(\"Enter a number: \");\n        n = in.nextDouble();\n        min = n;\n        for (int i = 1; i &lt;= 4; i++) {\n            System.out.print(\"Enter a number: \");\n            n = in.nextDouble();\n            if (n &lt; min) {\n                min = n;\n            }\n        }\n        System.out.println(\"Smallest number is: \" + min);\n    }\n}\n</code></pre>\n\n<p><strong>A sample run:</strong></p>\n\n<pre><code>Enter a number: 5.56\nEnter a number: 3.56\nEnter a number: 2000\nEnter a number: 45.3\nEnter a number: 90\nSmallest number is: 3.56\n</code></pre>\n\n<p><strong>[Update]</strong></p>\n\n<p>Given below is another simple way as suggested by @Arnaud Denoyelle:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        double min = Double.MAX_VALUE;\n        for (int i = 1; i &lt;= 5; i++) {\n            System.out.print(\"Enter a number: \");\n            min = Math.min(min, in.nextDouble());\n        }\n        System.out.println(\"The smallest number is:  \" + min);\n    }\n}\n</code></pre>\n\n<p><strong>A sample run:</strong></p>\n\n<pre><code>Enter a number: 4.5\nEnter a number: 1.2\nEnter a number: 6.7\nEnter a number: 1.1\nEnter a number: 90\nThe smallest number is:  1.1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14549012,"reputation":140,"user_id":10508477,"display_name":"Freddy Vandalay"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1583771804,"creation_date":1583770239,"answer_id":60604424,"question_id":60604296,"body_markdown":"The min function only takes 2 values and evaluates them against each other. Try to rewrite the *smallest* function to take the 5 numbers as a list. This makes the function more dynamic too. If you are not restricted to use the min function you can then sort the list and return the smallest element of the list.\r\n\r\nIf you strictly want to use Math.min you need to to some further nesting like:\r\n\r\n    Math.min((Math.min(Math.min(x, y), Math.min(z,a))), b)\r\n\r\n","title":"Find smallest number among five numbers","body":"<p>The min function only takes 2 values and evaluates them against each other. Try to rewrite the <em>smallest</em> function to take the 5 numbers as a list. This makes the function more dynamic too. If you are not restricted to use the min function you can then sort the list and return the smallest element of the list.</p>\n\n<p>If you strictly want to use Math.min you need to to some further nesting like:</p>\n\n<pre><code>Math.min((Math.min(Math.min(x, y), Math.min(z,a))), b)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17938190,"reputation":11,"user_id":13034106,"display_name":"Simo Tukiainen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583772668,"creation_date":1583772286,"answer_id":60604977,"question_id":60604296,"body_markdown":"You&#39;ll find it easier if you use an array or a list in this kind of problems to make the same code work for any amount of elements. After all, you would find it quite difficult to keep doing it once you had 10, 100 or 1000 numbers, and more likely the number would be dynamic and static code would not work.\r\n\r\nIn Java canonical solutions would be either to use an array (`Double[]` or `double[]`) or one of the collections in the collection api of which `java.util.List` would be the most straight-forward. You need not code your `min`-function yourself either (except for practicing) because with arrays you can use `java.util.Arrays.min` and with collections `java.util.Collections.min` helper methods.\r\n\r\nHere is a simple solution using lists, but for learning you might want to do the same with arrays yourself.\r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\nimport java.util.Collections;\r\n\r\npublic class Numbers {\r\n    public static void main(String[] args) {\r\n        final int NUM = 5;\r\n        List&lt;Double&gt; list = new ArrayList&lt;&gt;();\r\n        try (Scanner in = new Scanner(System.in)) {\r\n            for (int i = 0; i &lt; NUM; ++i) {\r\n                list.add(in.nextDouble());\r\n            }\r\n        }\r\n        Double smallest = Collections.min(list);\r\n        System.out.println(&quot;The smallest number is: &quot; + smallest);\r\n    }\r\n}\r\n```\r\n\r\nNot that your idea to use `Math.min` method is wrong: you could use it in a loop if you implemented your own version of `min(List&lt;Double&gt;)` (which you shouldn&#39;t except for learning). This is because `min` is an associative operation, which can be seen from the way you wrote it: `min(x,min(y, z))`. It&#39;s more that handling a multitude of elements is best done with an array-like data structure.","title":"Find smallest number among five numbers","body":"<p>You'll find it easier if you use an array or a list in this kind of problems to make the same code work for any amount of elements. After all, you would find it quite difficult to keep doing it once you had 10, 100 or 1000 numbers, and more likely the number would be dynamic and static code would not work.</p>\n\n<p>In Java canonical solutions would be either to use an array (<code>Double[]</code> or <code>double[]</code>) or one of the collections in the collection api of which <code>java.util.List</code> would be the most straight-forward. You need not code your <code>min</code>-function yourself either (except for practicing) because with arrays you can use <code>java.util.Arrays.min</code> and with collections <code>java.util.Collections.min</code> helper methods.</p>\n\n<p>Here is a simple solution using lists, but for learning you might want to do the same with arrays yourself.</p>\n\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.util.Scanner;\nimport java.util.Collections;\n\npublic class Numbers {\n    public static void main(String[] args) {\n        final int NUM = 5;\n        List&lt;Double&gt; list = new ArrayList&lt;&gt;();\n        try (Scanner in = new Scanner(System.in)) {\n            for (int i = 0; i &lt; NUM; ++i) {\n                list.add(in.nextDouble());\n            }\n        }\n        Double smallest = Collections.min(list);\n        System.out.println(\"The smallest number is: \" + smallest);\n    }\n}\n</code></pre>\n\n<p>Not that your idea to use <code>Math.min</code> method is wrong: you could use it in a loop if you implemented your own version of <code>min(List&lt;Double&gt;)</code> (which you shouldn't except for learning). This is because <code>min</code> is an associative operation, which can be seen from the way you wrote it: <code>min(x,min(y, z))</code>. It's more that handling a multitude of elements is best done with an array-like data structure.</p>\n"},{"tags":[],"owner":{"account_id":8495234,"reputation":33,"user_id":6370017,"display_name":"KKR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583835227,"creation_date":1583835227,"answer_id":60615478,"question_id":60604296,"body_markdown":"Using Collections API you can do:\r\n\r\n    return Collections.min(Arrays.asList(x,y,z,a,b));","title":"Find smallest number among five numbers","body":"<p>Using Collections API you can do:</p>\n\n<pre><code>return Collections.min(Arrays.asList(x,y,z,a,b));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21087190,"reputation":13,"user_id":15500031,"display_name":"Sourabh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648802303,"creation_date":1648802303,"answer_id":71704081,"question_id":60604296,"body_markdown":" Code to find Smallest Number using array  (Easy and Simple)\r\n\r\n    int temp;\r\n\r\n    int [] a = {10,5,30,4,9,75,2,4,13,55,44,0,14,23,14};  // Assumed Numbers\r\n    temp = a[0];\r\n\r\n    for(int i = 1;i&lt; a.length;i++) {\r\n    \tif(temp &lt; a[i]) {\r\n    \t\t\r\n    \t}else {\r\n    \t\ttemp =a[i];\r\n    \t}\r\n    \t\r\n    }\r\n    System.out.println(&quot;Smallest Value is &quot; + temp);","title":"Find smallest number among five numbers","body":"<p>Code to find Smallest Number using array  (Easy and Simple)</p>\n<pre><code>int temp;\n\nint [] a = {10,5,30,4,9,75,2,4,13,55,44,0,14,23,14};  // Assumed Numbers\ntemp = a[0];\n\nfor(int i = 1;i&lt; a.length;i++) {\n    if(temp &lt; a[i]) {\n        \n    }else {\n        temp =a[i];\n    }\n    \n}\nSystem.out.println(&quot;Smallest Value is &quot; + temp);\n</code></pre>\n"}],"owner":{"account_id":17912668,"reputation":9,"user_id":13014410,"display_name":"wrongcode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5458,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":6,"score":0,"last_activity_date":1648802303,"creation_date":1583769797,"question_id":60604296,"body_markdown":"I need input 5 numbers and return the smallest. I try to return with Math.min but I can return just 3 arguments.\r\n\r\n   \r\n\r\n     Scanner in = new Scanner(System.in);\r\n        System.out.print(&quot;Input the first number: &quot;);\r\n        double x = in.nextDouble();\r\n        System.out.print(&quot;Input the Second number: &quot;);\r\n        double y = in.nextDouble();\r\n        System.out.print(&quot;Input the third number: &quot;);\r\n        double z = in.nextDouble();\r\n\t\t System.out.print(&quot;Input the fourth number: &quot;);\r\n        double a = in.nextDouble();\r\n\t\t System.out.print(&quot;Input the fifth number: &quot;);\r\n        double b = in.nextDouble();\r\n        System.out.print(&quot;The smallest value is &quot; + smallest(x, y, z, a, b)+ );\r\n    }\r\n\r\n    public static double smallest(double x, double y, double z, double a, double c)\r\n    {\r\n        return Math.min(Math.min(x, y, z, a, b)) // thats failed\r\n\t\treturn Math.min(Math.min(x,y), z)) //thats works\r\n    }","title":"Find smallest number among five numbers","body":"<p>I need input 5 numbers and return the smallest. I try to return with Math.min but I can return just 3 arguments.</p>\n\n<pre><code> Scanner in = new Scanner(System.in);\n    System.out.print(\"Input the first number: \");\n    double x = in.nextDouble();\n    System.out.print(\"Input the Second number: \");\n    double y = in.nextDouble();\n    System.out.print(\"Input the third number: \");\n    double z = in.nextDouble();\n     System.out.print(\"Input the fourth number: \");\n    double a = in.nextDouble();\n     System.out.print(\"Input the fifth number: \");\n    double b = in.nextDouble();\n    System.out.print(\"The smallest value is \" + smallest(x, y, z, a, b)+ );\n}\n\npublic static double smallest(double x, double y, double z, double a, double c)\n{\n    return Math.min(Math.min(x, y, z, a, b)) // thats failed\n    return Math.min(Math.min(x,y), z)) //thats works\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1493956192,"post_id":43796090,"comment_id":74632769,"body_markdown":"What prevents you from using a different key for each upload? Or am I missing something here?","body":"What prevents you from using a different key for each upload? Or am I missing something here?"}],"answers":[{"tags":[],"owner":{"account_id":6011673,"reputation":181,"user_id":4721934,"display_name":"jshcode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1493964748,"creation_date":1493964748,"answer_id":43797722,"question_id":43796090,"body_markdown":"From your code it looks like you need to use filechooser&#39;s openMultipleDialog and then you can set key to file&#39;s name (file.getName()). Here is the modified code.. \r\n\r\n    imageUpload.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\r\n            @Override\r\n            public void handle(MouseEvent event) {\r\n                FileChooser  fileChooser=new FileChooser();\r\n                fileChooser.setInitialDirectory(new File(&quot;c:\\\\&quot;));\r\n                fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;JPG Images&quot;,&quot;*.jpg&quot;),\r\n                        new FileChooser.ExtensionFilter(&quot;JPEG Images&quot;,&quot;*.jpeg&quot;),\r\n                        new FileChooser.ExtensionFilter(&quot;PNG Images&quot;,&quot;*.png&quot;));\r\n\r\n                List&lt;File&gt; selectedFiles = fileChooser.showOpenMultipleDialog(null);\r\n                if (selectedFiles != null) {\r\n                    for (File file : selectedFiles) {\r\n                        try {\r\n    \r\n                            AWSCredentials Credentials = new BasicAWSCredentials(\r\n                                    &quot;AWSAccessKeyId&quot;,\r\n                                    &quot;AWSSecretKey&quot;);\r\n    \r\n                            AmazonS3Client amazonS3Client = new AmazonS3Client(Credentials);\r\n                            String bucketName = &quot;awsimagetrading&quot;;\r\n                            String key = file.getName();\r\n                            System.out.println(&quot;Uploading a new object to S3 from a file\\n&quot;);\r\n                            AmazonS3 s3client = new AmazonS3Client(Credentials);\r\n                            s3client.putObject(new PutObjectRequest(bucketName,key,file));\r\n                            URL url = amazonS3Client.generatePresignedUrl(bucketName,key,Date.from(Instant.now().plus(5,ChronoUnit.MINUTES)));\r\n                            System.out.println(url);\r\n                            //label.setText(url.toString());\r\n    \r\n                        } catch (AmazonClientException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n            }\r\n        });\r\n","title":"Upload multiple file in amazon s3 bucket using java filechooser","body":"<p>From your code it looks like you need to use filechooser's openMultipleDialog and then you can set key to file's name (file.getName()). Here is the modified code.. </p>\n\n<pre><code>imageUpload.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\n        @Override\n        public void handle(MouseEvent event) {\n            FileChooser  fileChooser=new FileChooser();\n            fileChooser.setInitialDirectory(new File(\"c:\\\\\"));\n            fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(\"JPG Images\",\"*.jpg\"),\n                    new FileChooser.ExtensionFilter(\"JPEG Images\",\"*.jpeg\"),\n                    new FileChooser.ExtensionFilter(\"PNG Images\",\"*.png\"));\n\n            List&lt;File&gt; selectedFiles = fileChooser.showOpenMultipleDialog(null);\n            if (selectedFiles != null) {\n                for (File file : selectedFiles) {\n                    try {\n\n                        AWSCredentials Credentials = new BasicAWSCredentials(\n                                \"AWSAccessKeyId\",\n                                \"AWSSecretKey\");\n\n                        AmazonS3Client amazonS3Client = new AmazonS3Client(Credentials);\n                        String bucketName = \"awsimagetrading\";\n                        String key = file.getName();\n                        System.out.println(\"Uploading a new object to S3 from a file\\n\");\n                        AmazonS3 s3client = new AmazonS3Client(Credentials);\n                        s3client.putObject(new PutObjectRequest(bucketName,key,file));\n                        URL url = amazonS3Client.generatePresignedUrl(bucketName,key,Date.from(Instant.now().plus(5,ChronoUnit.MINUTES)));\n                        System.out.println(url);\n                        //label.setText(url.toString());\n\n                    } catch (AmazonClientException e) {\n                        e.printStackTrace();\n                    }\n                }\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":9234979,"reputation":55,"user_id":6859911,"display_name":"Sony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43797722,"answer_count":1,"score":0,"last_activity_date":1648802085,"creation_date":1493955496,"question_id":43796090,"body_markdown":"I want to upload multiple file to Amazon s3 bucket by java file chooser. This code can upload a file to s3 but next time when I upload another file the previous file is replaced.\r\n\r\nI know it is caused by the `String key = &quot;squre.jpg&quot;;` in the code. How to upload multiple file without replacing the previous one?\r\n\r\n    imageUpload.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\r\n            @Override\r\n            public void handle(MouseEvent event) {\r\n                FileChooser fileChooser=new FileChooser();\r\n                fileChooser.setInitialDirectory(new File(&quot;c:\\\\&quot;));\r\n                fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;JPG Images&quot;,&quot;*.jpg&quot;),\r\n                        new FileChooser.ExtensionFilter(&quot;JPEG Images&quot;,&quot;*.jpeg&quot;),\r\n                        new FileChooser.ExtensionFilter(&quot;PNG Images&quot;,&quot;*.png&quot;));\r\n                File file=fileChooser.showOpenDialog(null);\r\n                \r\n                if (file!=null){\r\n                    try {\r\n                         \r\n    AWSCredentials Credentials = new BasicAWSCredentials(\r\n\t\t\t\t&quot;AWSAccessKeyId&quot;, \r\n\t\t\t\t&quot;AWSSecretKey&quot;);\r\n        \r\n        AmazonS3Client amazonS3Client = new AmazonS3Client(Credentials);\r\n        String bucketName = &quot;awsimagetrading&quot;;\r\n        String key = &quot;squre.jpg&quot;;\r\n                        System.out.println(&quot;Uploading a new object to S3 from a file\\n&quot;);\r\n                        AmazonS3 s3client = new AmazonS3Client(Credentials);\r\n                        s3client.putObject(new PutObjectRequest(bucketName,key,file));\r\n                        URL url = amazonS3Client.generatePresignedUrl(bucketName,key,Date.from(Instant.now().plus(5,ChronoUnit.MINUTES)));\r\n                        System.out.println(url);\r\n                        //label.setText(url.toString());\r\n                        \r\n                    } catch (AmazonClientException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    \r\n\r\n ","title":"Upload multiple file in amazon s3 bucket using java filechooser","body":"<p>I want to upload multiple file to Amazon s3 bucket by java file chooser. This code can upload a file to s3 but next time when I upload another file the previous file is replaced.</p>\n<p>I know it is caused by the <code>String key = &quot;squre.jpg&quot;;</code> in the code. How to upload multiple file without replacing the previous one?</p>\n<pre><code>imageUpload.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\n        @Override\n        public void handle(MouseEvent event) {\n            FileChooser fileChooser=new FileChooser();\n            fileChooser.setInitialDirectory(new File(&quot;c:\\\\&quot;));\n            fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;JPG Images&quot;,&quot;*.jpg&quot;),\n                    new FileChooser.ExtensionFilter(&quot;JPEG Images&quot;,&quot;*.jpeg&quot;),\n                    new FileChooser.ExtensionFilter(&quot;PNG Images&quot;,&quot;*.png&quot;));\n            File file=fileChooser.showOpenDialog(null);\n            \n            if (file!=null){\n                try {\n                     \nAWSCredentials Credentials = new BasicAWSCredentials(\n            &quot;AWSAccessKeyId&quot;, \n            &quot;AWSSecretKey&quot;);\n    \n    AmazonS3Client amazonS3Client = new AmazonS3Client(Credentials);\n    String bucketName = &quot;awsimagetrading&quot;;\n    String key = &quot;squre.jpg&quot;;\n                    System.out.println(&quot;Uploading a new object to S3 from a file\\n&quot;);\n                    AmazonS3 s3client = new AmazonS3Client(Credentials);\n                    s3client.putObject(new PutObjectRequest(bucketName,key,file));\n                    URL url = amazonS3Client.generatePresignedUrl(bucketName,key,Date.from(Instant.now().plus(5,ChronoUnit.MINUTES)));\n                    System.out.println(url);\n                    //label.setText(url.toString());\n                    \n                } catch (AmazonClientException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    });\n</code></pre>\n"},{"tags":["java","for-loop","exception","try-catch"],"comments":[{"owner":{"account_id":18390104,"reputation":9,"user_id":13396006,"display_name":"Stellaris Ghost"},"score":0,"creation_date":1648785283,"post_id":71701609,"comment_id":126717550,"body_markdown":"What happens at the moment is that when I input letters, it continuously prints the &quot;oops&quot; sentence. when I input a number higher than 50, it just tells that the number is higher.","body":"What happens at the moment is that when I input letters, it continuously prints the &quot;oops&quot; sentence. when I input a number higher than 50, it just tells that the number is higher."},{"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"score":0,"creation_date":1648785665,"post_id":71701609,"comment_id":126717591,"body_markdown":"Break the loop when `for loop` catch the exception.","body":"Break the loop when <code>for loop</code> catch the exception."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1648785697,"post_id":71701609,"comment_id":126717595,"body_markdown":"Either put a `break;` next to the `System.out.println` or rethrow the exception.","body":"Either put a <code>break;</code> next to the <code>System.out.println</code> or rethrow the exception."},{"owner":{"account_id":18390104,"reputation":9,"user_id":13396006,"display_name":"Stellaris Ghost"},"score":0,"creation_date":1648791466,"post_id":71701609,"comment_id":126718473,"body_markdown":"putting a break; stops the program. tried the rethrow by adding &quot;throw e;&quot; after the println but it just made an error","body":"putting a break; stops the program. tried the rethrow by adding &quot;throw e;&quot; after the println but it just made an error"}],"answers":[{"tags":[],"owner":{"account_id":22028926,"reputation":26,"user_id":16296507,"display_name":"luis_ske"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648801917,"creation_date":1648796299,"answer_id":71702964,"question_id":71701609,"body_markdown":"So let&#39;s not talk about clean code, I simply want to correct your catch clause.\r\n\r\nThe main problem is, that the Scanner doesn&#39;t consume the `.nextInt()` if it&#39;s an invalid input.\r\n\r\nThat means after catching your exception the line is still there and will automatically be read again in your next iteration. Theoretically this would end in an infinite loop, but due to your structure your loop is limited by `int g = 50;`.\r\n\r\nThe only (and not that clean) solution I know is, to let the scanner simply consume the next line with `.nextLine()` or `.next()`.\r\n\r\nThe solution that [@Chaosfire][1] mentioned is way better. \r\n\r\n`guess = Integer.parseInt(s.nextLine());`\r\n\r\nYou will first read the line, no matter what its content is. Afterwards you try to parse the content to an Integer. In case the input is invalid the method will throw a `NumberFormatException`, that you catch in your catch clause.\r\n\r\n## Suggestion for loop ##\r\n\r\n    for(i = 0; i &lt; g; i++) {\r\n      System.out.println(&quot;Guess a number between 1 to 50!&quot;);\r\n      try {\r\n        guess = Integer.parseInt(s.nextLine());\r\n\r\n        if((guess &lt; 1) || (guess &gt; 50)) {\r\n          throw new Exception(&quot;Integer is not in Range between 1 and 50&quot;);\r\n        }\r\n        if(guess == number) {\r\n          System.out.println(&quot;You got it in &quot; + i + &quot; tries.&quot;);\r\n          System.out.println(&quot;The number was: &quot; + number);\r\n          break;\r\n        }\r\n        else if(guess &lt; number) {\r\n          System.out.println(&quot;Too low. Try Again.&quot;);\r\n        }\r\n        else if(guess &gt; number) {\r\n          System.out.println(&quot;Too high. Try Again.&quot;);\r\n        }\r\n      }\r\n      catch(Exception e) {\r\n        i--;\r\n        System.out.println(&quot;Oops you entered an invalid input: &quot; + e.getMessage() + &quot;\\nTry Again.&quot;);\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/17795888/chaosfire","title":"how can I resolve try-catch issue within for loop?","body":"<p>So let's not talk about clean code, I simply want to correct your catch clause.</p>\n<p>The main problem is, that the Scanner doesn't consume the <code>.nextInt()</code> if it's an invalid input.</p>\n<p>That means after catching your exception the line is still there and will automatically be read again in your next iteration. Theoretically this would end in an infinite loop, but due to your structure your loop is limited by <code>int g = 50;</code>.</p>\n<p>The only (and not that clean) solution I know is, to let the scanner simply consume the next line with <code>.nextLine()</code> or <code>.next()</code>.</p>\n<p>The solution that <a href=\"https://stackoverflow.com/users/17795888/chaosfire\">@Chaosfire</a> mentioned is way better.</p>\n<p><code>guess = Integer.parseInt(s.nextLine());</code></p>\n<p>You will first read the line, no matter what its content is. Afterwards you try to parse the content to an Integer. In case the input is invalid the method will throw a <code>NumberFormatException</code>, that you catch in your catch clause.</p>\n<h2>Suggestion for loop</h2>\n<pre><code>for(i = 0; i &lt; g; i++) {\n  System.out.println(&quot;Guess a number between 1 to 50!&quot;);\n  try {\n    guess = Integer.parseInt(s.nextLine());\n\n    if((guess &lt; 1) || (guess &gt; 50)) {\n      throw new Exception(&quot;Integer is not in Range between 1 and 50&quot;);\n    }\n    if(guess == number) {\n      System.out.println(&quot;You got it in &quot; + i + &quot; tries.&quot;);\n      System.out.println(&quot;The number was: &quot; + number);\n      break;\n    }\n    else if(guess &lt; number) {\n      System.out.println(&quot;Too low. Try Again.&quot;);\n    }\n    else if(guess &gt; number) {\n      System.out.println(&quot;Too high. Try Again.&quot;);\n    }\n  }\n  catch(Exception e) {\n    i--;\n    System.out.println(&quot;Oops you entered an invalid input: &quot; + e.getMessage() + &quot;\\nTry Again.&quot;);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":18390104,"reputation":9,"user_id":13396006,"display_name":"Stellaris Ghost"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71702964,"answer_count":1,"score":0,"last_activity_date":1648801917,"creation_date":1648785197,"question_id":71701609,"body_markdown":"My code is almost finished. It&#39;s a guessing number game. The final piece is implementing the try-catch function so that the program catches invalid inputs like a number &gt; 50 or typing in letters or any symbol.\r\n\r\nHere&#39;s the code:\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner s = new Scanner(System.in);\r\n\r\n        //number generator\r\n        int number = 1 + (int)(50 * Math.random());\r\n\r\n        int i, guess;\r\n        int g = 50;\r\n\r\n\r\n        for (i = 0; i &lt; g; i++) {\r\n            try {\r\n                System.out.println(&quot;Guess a number between 1 to 50!&quot;);\r\n\r\n                guess = s.nextInt();\r\n\r\n\r\n                if (guess == number) {\r\n                    System.out.println(&quot;You got it in &quot; + i + &quot; tries.&quot;);\r\n                    System.out.println(&quot;The number was: &quot; + number);\r\n                    break;\r\n                } else if (guess &lt; number) {\r\n                    System.out.println(&quot;Too low. Try Again.&quot;);\r\n                } else if (guess &gt; number) {\r\n                    System.out.println(&quot;Too high. Try Again.&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Oops you entered an invalid input. Try Again.&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"how can I resolve try-catch issue within for loop?","body":"<p>My code is almost finished. It's a guessing number game. The final piece is implementing the try-catch function so that the program catches invalid inputs like a number &gt; 50 or typing in letters or any symbol.</p>\n<p>Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Scanner s = new Scanner(System.in);\n\n        //number generator\n        int number = 1 + (int)(50 * Math.random());\n\n        int i, guess;\n        int g = 50;\n\n\n        for (i = 0; i &lt; g; i++) {\n            try {\n                System.out.println(&quot;Guess a number between 1 to 50!&quot;);\n\n                guess = s.nextInt();\n\n\n                if (guess == number) {\n                    System.out.println(&quot;You got it in &quot; + i + &quot; tries.&quot;);\n                    System.out.println(&quot;The number was: &quot; + number);\n                    break;\n                } else if (guess &lt; number) {\n                    System.out.println(&quot;Too low. Try Again.&quot;);\n                } else if (guess &gt; number) {\n                    System.out.println(&quot;Too high. Try Again.&quot;);\n                }\n            } catch (Exception e) {\n                System.out.println(&quot;Oops you entered an invalid input. Try Again.&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","ms-office"],"answers":[{"tags":[],"owner":{"account_id":4794181,"reputation":1694,"user_id":3872578,"accept_rate":88,"display_name":"Pushpendra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465271341,"creation_date":1465271341,"answer_id":37670137,"question_id":37670079,"body_markdown":"If you want to preview your word(**.doc**/**.docx**) document I would suggest you to use Groupdocs.Viewer [Groupdocs][1]. They provide [libraries][2] for java. Also you can find proper documentation in this [link][3].\r\n\r\n\r\n  [1]: http://www.groupdocs.com\r\n  [2]: http://www.groupdocs.com/java/total-library\r\n  [3]: http://www.groupdocs.com/docs/display/viewerjava/Developer+Guide","title":"How to show doc, docx files on android by any library?","body":"<p>If you want to preview your word(<strong>.doc</strong>/<strong>.docx</strong>) document I would suggest you to use Groupdocs.Viewer <a href=\"http://www.groupdocs.com\" rel=\"nofollow\">Groupdocs</a>. They provide <a href=\"http://www.groupdocs.com/java/total-library\" rel=\"nofollow\">libraries</a> for java. Also you can find proper documentation in this <a href=\"http://www.groupdocs.com/docs/display/viewerjava/Developer+Guide\" rel=\"nofollow\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":24479754,"reputation":41,"user_id":18398332,"display_name":"prem"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648801701,"creation_date":1648801701,"answer_id":71703954,"question_id":37670079,"body_markdown":"One can use [MuPDF][1] for viewing almost all type of documents such as pdf,.doc,ppt,xls,etc natively. Its quite fast, and they also have a open source version for non-commercial use.\r\nFind the [Documentation][2] here.\r\n\r\n\r\n  [1]: https://mupdf.com/index.html\r\n  [2]: https://mupdf.com/docs/appkit/api/2.1.0/android-getting-started.html","title":"How to show doc, docx files on android by any library?","body":"<p>One can use <a href=\"https://mupdf.com/index.html\" rel=\"nofollow noreferrer\">MuPDF</a> for viewing almost all type of documents such as pdf,.doc,ppt,xls,etc natively. Its quite fast, and they also have a open source version for non-commercial use.\nFind the <a href=\"https://mupdf.com/docs/appkit/api/2.1.0/android-getting-started.html\" rel=\"nofollow noreferrer\">Documentation</a> here.</p>\n"}],"owner":{"account_id":8584874,"reputation":1,"user_id":6431368,"display_name":"volchuni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2992,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648801701,"creation_date":1465270808,"question_id":37670079,"body_markdown":"I am trying to show doc, docx files in android serveral times, but I cannot know how to do.\r\nI have searched through the internet and found some libraries such as POI, docx4j, aspose and so on. But I don&#39;t know what to use for my app.\r\nWho can give me the whole android sample project to show doc files.\r\nBest regards","title":"How to show doc, docx files on android by any library?","body":"<p>I am trying to show doc, docx files in android serveral times, but I cannot know how to do.\nI have searched through the internet and found some libraries such as POI, docx4j, aspose and so on. But I don't know what to use for my app.\nWho can give me the whole android sample project to show doc files.\nBest regards</p>\n"},{"tags":["java","spring","spring-boot","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":17607058,"reputation":16,"user_id":12775914,"display_name":"jreb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648801260,"creation_date":1648715312,"answer_id":71689289,"question_id":63255815,"body_markdown":"I had the same problem. In my case it turns out that I had defined an `ApplicationEventMulticaster` in my project.\r\n```java\r\n    @Bean\r\n    public ApplicationEventMulticaster applicationEventMulticaster() {\r\n        var eventMulticaster = new SimpleApplicationEventMulticaster();\r\n        eventMulticaster.setTaskExecutor(new SimpleAsyncTaskExecutor());\r\n        return eventMulticaster;\r\n    }\r\n```\r\nThat make the `ApplicationListenerMethodTransactionalAdapter` to be executed in a different thread (not the one where the event was published). That&#39;s why `TransactionSynchronizationManager.isActualTransactionActive()` ends up to be false and the event do not get executed.\r\n\r\nRemoving the definition of the `ApplicationEventMulticaster` worked fine for me.","title":"Spring transaction synchronisation not working (TransactionalEventListener)","body":"<p>I had the same problem. In my case it turns out that I had defined an <code>ApplicationEventMulticaster</code> in my project.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public ApplicationEventMulticaster applicationEventMulticaster() {\n        var eventMulticaster = new SimpleApplicationEventMulticaster();\n        eventMulticaster.setTaskExecutor(new SimpleAsyncTaskExecutor());\n        return eventMulticaster;\n    }\n</code></pre>\n<p>That make the <code>ApplicationListenerMethodTransactionalAdapter</code> to be executed in a different thread (not the one where the event was published). That's why <code>TransactionSynchronizationManager.isActualTransactionActive()</code> ends up to be false and the event do not get executed.</p>\n<p>Removing the definition of the <code>ApplicationEventMulticaster</code> worked fine for me.</p>\n"}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1682,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71689289,"answer_count":1,"score":1,"last_activity_date":1648801260,"creation_date":1596579362,"question_id":63255815,"body_markdown":"I am aware this question has been asked in slightly different formats on this site but following the advices given on those posts took me nowhere. I already spent close to two days on this and I am out of ideas.\r\n\r\nWe have a spring boot micro service which does nothing more than listening for a message coming into an IBM MQ queue do a little bit of transformation and forwarding it to a Kafka topic. We want this to be transactional so there would be no message lost (critical to our business). We also want to be able to react on transaction commit and rollback events for the purpose of monitoring and support.\r\n\r\nI just followed a few &quot;how to&quot; places on the internet and I can easily achieve transactional behaviour in a declarative way using `@Transactional` annotation like below:\r\n\r\n    @Transactional(transactionManager = &quot;chainedTransactionManager&quot;, rollbackFor = Throwable.class)\r\n    @JmsListener(destination = &quot;DEV.QUEUE.1&quot;, containerFactory = &quot;mqListenerContainerFactory&quot;, concurrency = &quot;10&quot;)\r\n    public void receiveMessage(@Headers Map&lt;String, Object&gt; jmsHeaders, String message) {\r\n        // Some work here including forward to Kafka topic:\r\n        // ...\r\n        // ...\r\n\r\n        // Then publish an event which is supposed to be acted on:\r\n        applicationEventPublisher.publishEvent(new MqConsumedEvent(&quot;JMS Correlation ID&quot;, &quot;Message Payload&quot;));\r\n\r\n        // Uncommented exception below to create a rollback scenario\r\n        // or comment it out to have the processing completed\r\n        throw new RuntimeException(&quot;No good Pal!&quot;);\r\n    }\r\n\r\nAs expected when playing a message with the exception in place the processing will spin forever because of the transaction manager rollbacking again and again. This is good for us.\r\n\r\nNow we expect the MqConsumedEvent being published inside our listener method to be intercepted by the `onRollback` method below:\r\n\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class MqConsumedEventListener {\r\n        @TransactionalEventListener(phase = TransactionPhase.AFTER_COMMIT, classes = MqConsumedEvent.class)\r\n        public void onCommit(MqConsumedEvent event) {\r\n            log.info(&quot;MQ message with correlation id {} committed to Kafka&quot;, event.getCorrelationId());\r\n        }\r\n    \r\n        @TransactionalEventListener(phase = TransactionPhase.AFTER_ROLLBACK, classes = MqConsumedEvent.class)\r\n        public void onRollback(MqConsumedEvent event) {\r\n            log.info(&quot;Failed to commit MQ message with correlation id {} to Kafka&quot;, event.getCorrelationId());\r\n        }\r\n    }\r\n\r\nThis is not happening. Similar commenting out the Exception throwing in the listener makes our MQ message being passed to Kafka. However the `onCommit` method is not executed.\r\n\r\nFrom further research and spring debug I believe this is not executing because spring thinks there is no active transaction when publishing the event and such my event it is just ignored. Evaluating `TransactionSynchronizationManager.isActualTransactionActive()` and printing it in the logs shows `false` which is hard to explain because as I said the transaction rollbacks as expected when an exception is thrown on purpose.\r\n\r\nThank you in advance for your inputs. \r\n\r\n**UPDATE:**\r\n\r\nThe breakpoints I put brought me to the execution of this `ApplicationListenerMethodTransactionalAdapter` class:\r\n\r\n\t@Override\r\n\tpublic void onApplicationEvent(ApplicationEvent event) {\r\n\t\tif (TransactionSynchronizationManager.isSynchronizationActive() &amp;&amp;\r\n\t\t\t\tTransactionSynchronizationManager.isActualTransactionActive()) {\r\n\t\t\tTransactionSynchronization transactionSynchronization = createTransactionSynchronization(event);\r\n\t\t\tTransactionSynchronizationManager.registerSynchronization(transactionSynchronization);\r\n\t\t}\r\n\t\telse if (this.annotation.fallbackExecution()) {\r\n\t\t\tif (this.annotation.phase() == TransactionPhase.AFTER_ROLLBACK &amp;&amp; logger.isWarnEnabled()) {\r\n\t\t\t\tlogger.warn(&quot;Processing &quot; + event + &quot; as a fallback execution on AFTER_ROLLBACK phase&quot;);\r\n\t\t\t}\r\n\t\t\tprocessEvent(event);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// No transactional event execution at all\r\n\t\t\tif (logger.isDebugEnabled()) {\r\n\t\t\t\tlogger.debug(&quot;No transaction is active - skipping &quot; + event);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nFor reason I am not understanding the first if condition is false. Then  fallback execution is `false` as I haven&#39;t set it `true` in my `@TransactionalEventListener` usage it will end up on the else branch and just skip the event. ","title":"Spring transaction synchronisation not working (TransactionalEventListener)","body":"<p>I am aware this question has been asked in slightly different formats on this site but following the advices given on those posts took me nowhere. I already spent close to two days on this and I am out of ideas.</p>\n<p>We have a spring boot micro service which does nothing more than listening for a message coming into an IBM MQ queue do a little bit of transformation and forwarding it to a Kafka topic. We want this to be transactional so there would be no message lost (critical to our business). We also want to be able to react on transaction commit and rollback events for the purpose of monitoring and support.</p>\n<p>I just followed a few &quot;how to&quot; places on the internet and I can easily achieve transactional behaviour in a declarative way using <code>@Transactional</code> annotation like below:</p>\n<pre><code>@Transactional(transactionManager = &quot;chainedTransactionManager&quot;, rollbackFor = Throwable.class)\n@JmsListener(destination = &quot;DEV.QUEUE.1&quot;, containerFactory = &quot;mqListenerContainerFactory&quot;, concurrency = &quot;10&quot;)\npublic void receiveMessage(@Headers Map&lt;String, Object&gt; jmsHeaders, String message) {\n    // Some work here including forward to Kafka topic:\n    // ...\n    // ...\n\n    // Then publish an event which is supposed to be acted on:\n    applicationEventPublisher.publishEvent(new MqConsumedEvent(&quot;JMS Correlation ID&quot;, &quot;Message Payload&quot;));\n\n    // Uncommented exception below to create a rollback scenario\n    // or comment it out to have the processing completed\n    throw new RuntimeException(&quot;No good Pal!&quot;);\n}\n</code></pre>\n<p>As expected when playing a message with the exception in place the processing will spin forever because of the transaction manager rollbacking again and again. This is good for us.</p>\n<p>Now we expect the MqConsumedEvent being published inside our listener method to be intercepted by the <code>onRollback</code> method below:</p>\n<pre><code>@Component\n@Slf4j\npublic class MqConsumedEventListener {\n    @TransactionalEventListener(phase = TransactionPhase.AFTER_COMMIT, classes = MqConsumedEvent.class)\n    public void onCommit(MqConsumedEvent event) {\n        log.info(&quot;MQ message with correlation id {} committed to Kafka&quot;, event.getCorrelationId());\n    }\n\n    @TransactionalEventListener(phase = TransactionPhase.AFTER_ROLLBACK, classes = MqConsumedEvent.class)\n    public void onRollback(MqConsumedEvent event) {\n        log.info(&quot;Failed to commit MQ message with correlation id {} to Kafka&quot;, event.getCorrelationId());\n    }\n}\n</code></pre>\n<p>This is not happening. Similar commenting out the Exception throwing in the listener makes our MQ message being passed to Kafka. However the <code>onCommit</code> method is not executed.</p>\n<p>From further research and spring debug I believe this is not executing because spring thinks there is no active transaction when publishing the event and such my event it is just ignored. Evaluating <code>TransactionSynchronizationManager.isActualTransactionActive()</code> and printing it in the logs shows <code>false</code> which is hard to explain because as I said the transaction rollbacks as expected when an exception is thrown on purpose.</p>\n<p>Thank you in advance for your inputs.</p>\n<p><strong>UPDATE:</strong></p>\n<p>The breakpoints I put brought me to the execution of this <code>ApplicationListenerMethodTransactionalAdapter</code> class:</p>\n<pre><code>@Override\npublic void onApplicationEvent(ApplicationEvent event) {\n    if (TransactionSynchronizationManager.isSynchronizationActive() &amp;&amp;\n            TransactionSynchronizationManager.isActualTransactionActive()) {\n        TransactionSynchronization transactionSynchronization = createTransactionSynchronization(event);\n        TransactionSynchronizationManager.registerSynchronization(transactionSynchronization);\n    }\n    else if (this.annotation.fallbackExecution()) {\n        if (this.annotation.phase() == TransactionPhase.AFTER_ROLLBACK &amp;&amp; logger.isWarnEnabled()) {\n            logger.warn(&quot;Processing &quot; + event + &quot; as a fallback execution on AFTER_ROLLBACK phase&quot;);\n        }\n        processEvent(event);\n    }\n    else {\n        // No transactional event execution at all\n        if (logger.isDebugEnabled()) {\n            logger.debug(&quot;No transaction is active - skipping &quot; + event);\n        }\n    }\n}\n</code></pre>\n<p>For reason I am not understanding the first if condition is false. Then  fallback execution is <code>false</code> as I haven't set it <code>true</code> in my <code>@TransactionalEventListener</code> usage it will end up on the else branch and just skip the event.</p>\n"},{"tags":["java","spring","workflow","orchestration"],"answers":[{"tags":[],"owner":{"account_id":5454316,"reputation":1645,"user_id":12533555,"display_name":"Doug Sillars"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646677976,"creation_date":1646677976,"answer_id":71385718,"question_id":71370237,"body_markdown":"Have you considered using a workflow orchestration engine like Netflix&#39;s Conductor? [docs](https://netflix.github.io/conductor/), [Github](https://github.com/Netflix/conductor).\r\n\r\nConductor comes with a lot of the features you are looking for built in.\r\n\r\nHere&#39;s an example workflow that uses two sequential HTTP requests (where the 2nd requires a response from the first):\r\n\r\n[![sample workflow][1]][1]\r\n\r\nInput supplies an IP address (and a Accuweather API key)\r\n```\r\n{\r\n  &quot;ipaddress&quot;: &quot;98.11.11.125&quot;\r\n}\r\n```\r\n\r\n1. HTTP request 1 locates the zipCode of the IP address.\r\n\r\n2. HTTP request 2 uses the ZipCode (and the apikey) to report the weather.\r\n\r\nThe output from this workflow is: \r\n\r\n```\r\n{\r\n  &quot;zipcode&quot;: &quot;04043&quot;,\r\n  &quot;forecast&quot;: &quot;rain&quot;\r\n}\r\n\r\n```\r\n\r\nYour questions:  \r\n1. I&#39;d use an orchestration tool like Conductor.\r\n2. Each of these tasks (defined in Conductor) have retry logic built in.  How you implement will vary on expected timings etc.  Since the 2 APIs I&#39;m calling here are public (and relatively fast), I don&#39;t wait very long between retries:\r\n\r\n```\r\n &quot;retryCount&quot;: 3,\r\n &quot;retryLogic&quot;: &quot;FIXED&quot;,\r\n &quot;retryDelaySeconds&quot;: 5,\r\n\r\n```\r\n\r\nInside the connection, there are more parameters you can tweak:\r\n```\r\n          &quot;connectionTimeOut&quot;: 1600,\r\n          &quot;readTimeOut&quot;: 1600\r\n```\r\n\r\nThere is also exponential retry logic if desired.\r\n\r\n3. The event log is stored in ElasticSearch.\r\n4. You can build [error pathways](https://orkes.io/content/docs/how-tos/Workflows/handling-errors) for all your workflows.\r\n\r\nI have this workflow up and running in the [Conductor Playground](https://play.orkes.io/workflowDef/Stack_overflow_sequential_http) called &quot;Stack_overflow_sequential_http&quot;.  Create a free account.  Run the workflow - click &quot;run workflow, select &quot;Stack_overflow_sequential_http&quot; and use the JSON above to see it in action.\r\n\r\nThe get_weather connection is a *very* slow API, so it may fail a few times before succeeding.  Copy the workflow, and play with the timeout values to improve the success.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bGf37.png","title":"Java Design Pattern (Orchestration/Workflow)","body":"<p>Have you considered using a workflow orchestration engine like Netflix's Conductor? <a href=\"https://netflix.github.io/conductor/\" rel=\"nofollow noreferrer\">docs</a>, <a href=\"https://github.com/Netflix/conductor\" rel=\"nofollow noreferrer\">Github</a>.</p>\n<p>Conductor comes with a lot of the features you are looking for built in.</p>\n<p>Here's an example workflow that uses two sequential HTTP requests (where the 2nd requires a response from the first):</p>\n<p><a href=\"https://i.stack.imgur.com/bGf37.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bGf37.png\" alt=\"sample workflow\" /></a></p>\n<p>Input supplies an IP address (and a Accuweather API key)</p>\n<pre><code>{\n  &quot;ipaddress&quot;: &quot;98.11.11.125&quot;\n}\n</code></pre>\n<ol>\n<li><p>HTTP request 1 locates the zipCode of the IP address.</p>\n</li>\n<li><p>HTTP request 2 uses the ZipCode (and the apikey) to report the weather.</p>\n</li>\n</ol>\n<p>The output from this workflow is:</p>\n<pre><code>{\n  &quot;zipcode&quot;: &quot;04043&quot;,\n  &quot;forecast&quot;: &quot;rain&quot;\n}\n\n</code></pre>\n<p>Your questions:</p>\n<ol>\n<li>I'd use an orchestration tool like Conductor.</li>\n<li>Each of these tasks (defined in Conductor) have retry logic built in.  How you implement will vary on expected timings etc.  Since the 2 APIs I'm calling here are public (and relatively fast), I don't wait very long between retries:</li>\n</ol>\n<pre><code> &quot;retryCount&quot;: 3,\n &quot;retryLogic&quot;: &quot;FIXED&quot;,\n &quot;retryDelaySeconds&quot;: 5,\n\n</code></pre>\n<p>Inside the connection, there are more parameters you can tweak:</p>\n<pre><code>          &quot;connectionTimeOut&quot;: 1600,\n          &quot;readTimeOut&quot;: 1600\n</code></pre>\n<p>There is also exponential retry logic if desired.</p>\n<ol start=\"3\">\n<li>The event log is stored in ElasticSearch.</li>\n<li>You can build <a href=\"https://orkes.io/content/docs/how-tos/Workflows/handling-errors\" rel=\"nofollow noreferrer\">error pathways</a> for all your workflows.</li>\n</ol>\n<p>I have this workflow up and running in the <a href=\"https://play.orkes.io/workflowDef/Stack_overflow_sequential_http\" rel=\"nofollow noreferrer\">Conductor Playground</a> called &quot;Stack_overflow_sequential_http&quot;.  Create a free account.  Run the workflow - click &quot;run workflow, select &quot;Stack_overflow_sequential_http&quot; and use the JSON above to see it in action.</p>\n<p>The get_weather connection is a <em>very</em> slow API, so it may fail a few times before succeeding.  Copy the workflow, and play with the timeout values to improve the success.</p>\n"},{"tags":[],"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648801142,"creation_date":1648801142,"answer_id":71703850,"question_id":71370237,"body_markdown":"You describe an [Enterprise Integration Pattern][1] with enrichments/transformations from REST calls and stateful aggregation of the results over time (consequently meaning many such flows may be in progress at any one time). [Apache Camel][2] was designed for exactly these scenarios.\r\n \r\nSee https://stackoverflow.com/questions/8845186/what-exactly-is-apache-camel\r\n\r\n\r\n  [1]: https://camel.apache.org/components/3.16.x/eips/enterprise-integration-patterns.html\r\n  [2]: https://camel.apache.org/","title":"Java Design Pattern (Orchestration/Workflow)","body":"<p>You describe an <a href=\"https://camel.apache.org/components/3.16.x/eips/enterprise-integration-patterns.html\" rel=\"nofollow noreferrer\">Enterprise Integration Pattern</a> with enrichments/transformations from REST calls and stateful aggregation of the results over time (consequently meaning many such flows may be in progress at any one time). <a href=\"https://camel.apache.org/\" rel=\"nofollow noreferrer\">Apache Camel</a> was designed for exactly these scenarios.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/8845186/what-exactly-is-apache-camel\">What exactly is Apache Camel?</a></p>\n"}],"owner":{"account_id":1291890,"reputation":155,"user_id":1243833,"display_name":"sudheer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71703850,"answer_count":2,"score":0,"last_activity_date":1648801142,"creation_date":1646569532,"question_id":71370237,"body_markdown":"I need to automate the workflow after an event occurred. I do have experience in CRUD applications but not in Workflow/Batch processing. Need help in designing the system.\r\n\r\n**Requirement**\r\n\r\nThe workflow involves 5 steps. Each step is a **REST** call and are dependent on previous step.\r\nEX of Steps: (VerifyIfUserInSystem, CreateUserIfNeeded, EnrollInOpt1, EnrollInOpt2,..)\r\n\r\nMy thought process is to maintain 2 DB Tables \r\n1. WORKFLOW_STATUS Table which contains columns like\r\n   (foreign key(referring to primary table), Workflow Status: (NEW, INPROGRESS, FINISHED, FAILED), Completed Step: (STEP1, STEP2,..), Processed Time,..)\r\n\r\n2. EVENT_LOG Table to maintain the track of Events/Exceptions for a particular record\r\n(foreign key, STEP, ExceptionLog)\r\n\r\n**Question**\r\n\r\n#1. Is this a correct approach to orchestrate the system(which is not that complex)?\r\n\r\n#2. As the steps involve REST Calls, I might have to stop the process when a service is not available and resume the process in a later point of time. I am not sure for many retry attempts should be made and how to maintain the no of attempts made before marking it as FAILED. (Guessing create another column in the WORKFLOW_STATUS table called RETRY_ATTEMPT and set some limit before marking it Failed)\r\n\r\n#3 Is the EVENT_LOG Table a correct design and what datatype(clob or varchar(2048)) should I be using for exceptionlog? Every step/retry attempts will be inserted as a new record to this table.\r\n\r\n#4 How to reset/restart a FAILED entry after a dependent service is back up.\r\n\r\nPlease direct me to an blogs/videos/resources if available.\r\nThanks in advance. \r\n\r\n\r\n\r\n","title":"Java Design Pattern (Orchestration/Workflow)","body":"<p>I need to automate the workflow after an event occurred. I do have experience in CRUD applications but not in Workflow/Batch processing. Need help in designing the system.</p>\n<p><strong>Requirement</strong></p>\n<p>The workflow involves 5 steps. Each step is a <strong>REST</strong> call and are dependent on previous step.\nEX of Steps: (VerifyIfUserInSystem, CreateUserIfNeeded, EnrollInOpt1, EnrollInOpt2,..)</p>\n<p>My thought process is to maintain 2 DB Tables</p>\n<ol>\n<li><p>WORKFLOW_STATUS Table which contains columns like\n(foreign key(referring to primary table), Workflow Status: (NEW, INPROGRESS, FINISHED, FAILED), Completed Step: (STEP1, STEP2,..), Processed Time,..)</p>\n</li>\n<li><p>EVENT_LOG Table to maintain the track of Events/Exceptions for a particular record\n(foreign key, STEP, ExceptionLog)</p>\n</li>\n</ol>\n<p><strong>Question</strong></p>\n<p>#1. Is this a correct approach to orchestrate the system(which is not that complex)?</p>\n<p>#2. As the steps involve REST Calls, I might have to stop the process when a service is not available and resume the process in a later point of time. I am not sure for many retry attempts should be made and how to maintain the no of attempts made before marking it as FAILED. (Guessing create another column in the WORKFLOW_STATUS table called RETRY_ATTEMPT and set some limit before marking it Failed)</p>\n<p>#3 Is the EVENT_LOG Table a correct design and what datatype(clob or varchar(2048)) should I be using for exceptionlog? Every step/retry attempts will be inserted as a new record to this table.</p>\n<p>#4 How to reset/restart a FAILED entry after a dependent service is back up.</p>\n<p>Please direct me to an blogs/videos/resources if available.\nThanks in advance.</p>\n"},{"tags":["java","vaadin-flow","vaadin-grid"],"answers":[{"tags":[],"owner":{"account_id":16448649,"reputation":1,"user_id":11882621,"display_name":"yangzheng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648645397,"creation_date":1648645397,"answer_id":71677764,"question_id":71677555,"body_markdown":"I Don’t Know you data table design,\r\nbut you can try this\r\n\r\n&quot;select m.* from Movie m where m.isDeleted = true&quot;","title":"&quot;Show deleted&quot; checkbox not working as intended","body":"<p>I Don’t Know you data table design,\nbut you can try this</p>\n<p>&quot;select m.* from Movie m where m.isDeleted = true&quot;</p>\n"},{"tags":[],"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648801123,"creation_date":1648801123,"answer_id":71703844,"question_id":71677555,"body_markdown":"The problem lies in the implementation of your `updateList` method.\r\n\r\nNo matter if the value of the checkbox is true, at the end it always sets the items again that are returned by `service::findAllMovies`.\r\n\r\nmove the last statement into an `else` block and it should work.\r\n\r\n```\r\nprivate void updateList() {\r\n    if (showDeleted.getValue()) { // btw, if(boolValue == true) is redundant. just do if(boolValue)\r\n        grid.setItems(service.findAllDeletedMovies());\r\n    } else {\r\n        grid.setItems(service.findAllMovies(filterText.getValue()));\r\n    }\r\n}\r\n```","title":"&quot;Show deleted&quot; checkbox not working as intended","body":"<p>The problem lies in the implementation of your <code>updateList</code> method.</p>\n<p>No matter if the value of the checkbox is true, at the end it always sets the items again that are returned by <code>service::findAllMovies</code>.</p>\n<p>move the last statement into an <code>else</code> block and it should work.</p>\n<pre><code>private void updateList() {\n    if (showDeleted.getValue()) { // btw, if(boolValue == true) is redundant. just do if(boolValue)\n        grid.setItems(service.findAllDeletedMovies());\n    } else {\n        grid.setItems(service.findAllMovies(filterText.getValue()));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24328989,"reputation":35,"user_id":18268137,"display_name":"Soccan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71703844,"answer_count":2,"score":0,"last_activity_date":1648801123,"creation_date":1648644581,"question_id":71677555,"body_markdown":"I&#39;ve implemented a soft delete behavior in my imaginary Video rental app, and now I am trying to implement a way to reactivate my &quot;deleted&quot; customers, but I can&#39;t get my approach to work, surely something simple, but google did not let me find the answer, so here I am.\r\n\r\nHere is an excerpt from my repo interface (JpaRepository):\r\n```\r\n  @Query(&quot;select m from Movie m where m.isDeleted = true&quot;)\r\n  List&lt;Movie&gt; findAllIsDeleted();\r\n\r\n  @Override\r\n  @Query(&quot;select m from Movie m where m.isDeleted=false&quot;)\r\n  List&lt;Movie&gt; findAll();\r\n\r\n  @Modifying\r\n  @Transactional\r\n  @Query(&quot;update Movie m set m.isDeleted=true where id=?1&quot;)\r\n  void softDelete(Long id);\r\n```\r\n\r\nIn my service class I have:\r\n```\r\n  public List&lt;Movie&gt; findAllMovies(String filterText) {\r\n    if (filterText == null || filterText.isEmpty()) {\r\n      return movieRepository.findAll();\r\n    } else {\r\n      return movieRepository.search(filterText);\r\n    }\r\n  }\r\n\r\n  public List&lt;Movie&gt; findAllDeletedMovies() {\r\n    return movieRepository.findAllIsDeleted();\r\n  }\r\n```\r\nAnd an excerpt from my listview class looks like:\r\n```\r\n...\r\n  Checkbox showDeleted = new Checkbox(&quot;Show deleted movies&quot;, e -&gt; {\r\n    updateList();\r\n    Notification.show(e.getValue().toString());\r\n  });\r\n...\r\n  private void updateList() {\r\n    if (showDeleted.getValue() == true) {\r\n      grid.setItems(service.findAllDeletedMovies());\r\n    }\r\n    grid.setItems(service.findAllMovies(filterText.getValue()));\r\n  }\r\n```\r\nBut obviously there is something wrong in the listener part, or there is a silent &quot;sure we want to help feature&quot; that I am not aware of. Because the updateList function is not executed. What have I missed?","title":"&quot;Show deleted&quot; checkbox not working as intended","body":"<p>I've implemented a soft delete behavior in my imaginary Video rental app, and now I am trying to implement a way to reactivate my &quot;deleted&quot; customers, but I can't get my approach to work, surely something simple, but google did not let me find the answer, so here I am.</p>\n<p>Here is an excerpt from my repo interface (JpaRepository):</p>\n<pre><code>  @Query(&quot;select m from Movie m where m.isDeleted = true&quot;)\n  List&lt;Movie&gt; findAllIsDeleted();\n\n  @Override\n  @Query(&quot;select m from Movie m where m.isDeleted=false&quot;)\n  List&lt;Movie&gt; findAll();\n\n  @Modifying\n  @Transactional\n  @Query(&quot;update Movie m set m.isDeleted=true where id=?1&quot;)\n  void softDelete(Long id);\n</code></pre>\n<p>In my service class I have:</p>\n<pre><code>  public List&lt;Movie&gt; findAllMovies(String filterText) {\n    if (filterText == null || filterText.isEmpty()) {\n      return movieRepository.findAll();\n    } else {\n      return movieRepository.search(filterText);\n    }\n  }\n\n  public List&lt;Movie&gt; findAllDeletedMovies() {\n    return movieRepository.findAllIsDeleted();\n  }\n</code></pre>\n<p>And an excerpt from my listview class looks like:</p>\n<pre><code>...\n  Checkbox showDeleted = new Checkbox(&quot;Show deleted movies&quot;, e -&gt; {\n    updateList();\n    Notification.show(e.getValue().toString());\n  });\n...\n  private void updateList() {\n    if (showDeleted.getValue() == true) {\n      grid.setItems(service.findAllDeletedMovies());\n    }\n    grid.setItems(service.findAllMovies(filterText.getValue()));\n  }\n</code></pre>\n<p>But obviously there is something wrong in the listener part, or there is a silent &quot;sure we want to help feature&quot; that I am not aware of. Because the updateList function is not executed. What have I missed?</p>\n"},{"tags":["java","android","admob","admob-rewardedvideoad"],"comments":[{"owner":{"account_id":2690097,"reputation":2368,"user_id":2323607,"accept_rate":78,"display_name":"Amod Gokhale"},"score":0,"creation_date":1639558476,"post_id":70313684,"comment_id":124376674,"body_markdown":"can you please capture logs on your first click and update in your question.","body":"can you please capture logs on your first click and update in your question."},{"owner":{"account_id":2690097,"reputation":2368,"user_id":2323607,"accept_rate":78,"display_name":"Amod Gokhale"},"score":0,"creation_date":1639558496,"post_id":70313684,"comment_id":124376680,"body_markdown":"log all callback methods as well","body":"log all callback methods as well"},{"owner":{"display_name":"user15338837"},"score":0,"creation_date":1639559628,"post_id":70313684,"comment_id":124377107,"body_markdown":"@Amod Gokhale With the test unit id ad it works. But the trouble is with my unit id ad. I cannot test the ad with the normal id wich is giving the trouble because it is not allowed.","body":"@Amod Gokhale With the test unit id ad it works. But the trouble is with my unit id ad. I cannot test the ad with the normal id wich is giving the trouble because it is not allowed."},{"owner":{"account_id":2690097,"reputation":2368,"user_id":2323607,"accept_rate":78,"display_name":"Amod Gokhale"},"score":0,"creation_date":1639565683,"post_id":70313684,"comment_id":124379361,"body_markdown":"capture error logs. that is best place to start. Error code will tell you what is the error of failure. On Admob console what is fill rate on your rewarded Ad? Sometimes based on different countries there is not enough advertisements available to show.","body":"capture error logs. that is best place to start. Error code will tell you what is the error of failure. On Admob console what is fill rate on your rewarded Ad? Sometimes based on different countries there is not enough advertisements available to show."},{"owner":{"display_name":"user15338837"},"score":0,"creation_date":1639566534,"post_id":70313684,"comment_id":124379654,"body_markdown":"@Amod Gokhale I cannot show the error as I cannot test the real ad unit id. With the test id it works. On the admob console I see 20 petitions (each day) answer rate close to 100% impressions 1 or 2.","body":"@Amod Gokhale I cannot show the error as I cannot test the real ad unit id. With the test id it works. On the admob console I see 20 petitions (each day) answer rate close to 100% impressions 1 or 2."},{"owner":{"display_name":"user15338837"},"score":0,"creation_date":1639566584,"post_id":70313684,"comment_id":124379675,"body_markdown":"I am tired. I talked with a Google employer, but they just tell to me my id don&#39;t show ads. I am moving to Facebook.","body":"I am tired. I talked with a Google employer, but they just tell to me my id don&#39;t show ads. I am moving to Facebook."},{"owner":{"account_id":13802031,"reputation":1105,"user_id":9961828,"display_name":"pratik vekariya"},"score":0,"creation_date":1640153902,"post_id":70313684,"comment_id":124525385,"body_markdown":"I think your implementation is correct. For testing make sign apk with live test ids and show toast of error code and see which code is there.","body":"I think your implementation is correct. For testing make sign apk with live test ids and show toast of error code and see which code is there."},{"owner":{"account_id":13802031,"reputation":1105,"user_id":9961828,"display_name":"pratik vekariya"},"score":0,"creation_date":1640154195,"post_id":70313684,"comment_id":124525440,"body_markdown":"If you have &quot;Ads serving limit&quot; in your admob account then there will be very less time your ads will display. So I will suggest use other platform until your app get enough users. You can try FB mediation with admob.","body":"If you have &quot;Ads serving limit&quot; in your admob account then there will be very less time your ads will display. So I will suggest use other platform until your app get enough users. You can try FB mediation with admob."},{"owner":{"display_name":"user15338837"},"score":0,"creation_date":1640163095,"post_id":70313684,"comment_id":124527870,"body_markdown":"I have no limits in my ad serving. Gonna try Faacebook yeah","body":"I have no limits in my ad serving. Gonna try Faacebook yeah"},{"owner":{"account_id":13802031,"reputation":1105,"user_id":9961828,"display_name":"pratik vekariya"},"score":0,"creation_date":1640170006,"post_id":70313684,"comment_id":124530443,"body_markdown":"with facebook you must to choose one of mediation partner.","body":"with facebook you must to choose one of mediation partner."}],"answers":[{"tags":[],"owner":{"account_id":2660064,"reputation":2233,"user_id":2299978,"accept_rate":55,"display_name":"farhad.kargaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648800966,"creation_date":1648800966,"answer_id":71703814,"question_id":70313684,"body_markdown":"To make sure that your implementation is right and is working use setTestDeviceIds() function that will successfully loads a test ad for you every time, no matter if it is a reward ad or a simple banner add. this is the code:\r\n\r\n    MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n            }\r\n        });\r\n\r\n        String myTestID = &quot;6A0C784094CAEC07E49258843B0FC530&quot;;\r\n        if(App.TestMode) {\r\n            List&lt;String&gt; testDeviceIds = Arrays.asList(myTestID);\r\n            RequestConfiguration configuration = new RequestConfiguration.Builder().setTestDeviceIds(testDeviceIds).build();\r\n            MobileAds.setRequestConfiguration(configuration);\r\n        }\r\n\r\nOfcourse you should replace your test id, to find your test id:\r\n\r\n1- Load your ads-integrated app and make an ad request.\r\n\r\n2- Check the logcat output for a message that looks like the one below, which shows you your device ID and how to add it as a test device:\r\n\r\nLogCat output will be sothing like this:\r\n\r\n*I/Ads: Use RequestConfiguration.Builder.setTestDeviceIds(Arrays.asList(&quot;33BE2250B43518CCDA7DE426D04EE231&quot;))\r\nto get test ads on this device.&quot;*\r\n\r\n\r\nCopy your test device ID to your clipboard.\r\n\r\n\r\nFor more information [visit this link][1].\r\n\r\n\r\n  [1]: https://developers.google.com/ad-manager/mobile-ads-sdk/android/test-ads","title":"Admob rewarded ad not showed even if the petitions get responses","body":"<p>To make sure that your implementation is right and is working use setTestDeviceIds() function that will successfully loads a test ad for you every time, no matter if it is a reward ad or a simple banner add. this is the code:</p>\n<pre><code>MobileAds.initialize(this, new OnInitializationCompleteListener() {\n        @Override\n        public void onInitializationComplete(InitializationStatus initializationStatus) {\n        }\n    });\n\n    String myTestID = &quot;6A0C784094CAEC07E49258843B0FC530&quot;;\n    if(App.TestMode) {\n        List&lt;String&gt; testDeviceIds = Arrays.asList(myTestID);\n        RequestConfiguration configuration = new RequestConfiguration.Builder().setTestDeviceIds(testDeviceIds).build();\n        MobileAds.setRequestConfiguration(configuration);\n    }\n</code></pre>\n<p>Ofcourse you should replace your test id, to find your test id:</p>\n<p>1- Load your ads-integrated app and make an ad request.</p>\n<p>2- Check the logcat output for a message that looks like the one below, which shows you your device ID and how to add it as a test device:</p>\n<p>LogCat output will be sothing like this:</p>\n<p><em>I/Ads: Use RequestConfiguration.Builder.setTestDeviceIds(Arrays.asList(&quot;33BE2250B43518CCDA7DE426D04EE231&quot;))\nto get test ads on this device.&quot;</em></p>\n<p>Copy your test device ID to your clipboard.</p>\n<p>For more information <a href=\"https://developers.google.com/ad-manager/mobile-ads-sdk/android/test-ads\" rel=\"nofollow noreferrer\">visit this link</a>.</p>\n"}],"owner":{"display_name":"user15338837"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1648800966,"creation_date":1639211536,"question_id":70313684,"body_markdown":"I have an Android application written in Java where I give coins to use the application by watching a rewardered ad using the Admob advertising network.\r\n\r\nI have followed the [new API implementation guide][1]. My frown starts when I receive implementation instructions by email, and they link to the [old API][2]. Which of the two APIs do I have to implement?\r\n\r\nOn the other hand, I start the mediation, and upload an update with a button to see the rewarded ad and get the coins, and another to get free coins. Only the Chocolate network has accepted me, the rest rejected.\r\n\r\nIt has been published like this for a week, and every day, my first 500 users click 10 or 20 times and in Admob I get that I receive those requests and that the response rate is 100%, and only 1 or 2 ads are printed. I had to remove the ad because the app could not be used without coins.\r\n\r\nOn the other hand, I receive a rejection from a mediation in which they ask me about my traffic and they tell me that they will not be able to offer me the service because it would not generate enough ad traffic.\r\n\r\nHave I understood correctly? Does that mean that since I only have one app with only 500 users, I can&#39;t trade with Admob with rewardered ads?\r\nWould the same thing happen to me on Facebook?\r\nMy intersticial and banner ads work correctly while the rewarded no.\r\n\r\nMy implementation code in case I have programmed something wrong is the following. With the test id it works, not always on the first click but on the second (sometimes `mRewardedAd = null`).\r\n\r\n\r\nbuild.graddle (module)\r\n\r\n    dependencies {\r\n        implementation &#39;com.google.android.gms:play-services-ads:20.5.0&#39;\r\n    }\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;application&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;ca-app-pub-my-app-id&quot;/&gt;\r\n    &lt;/application&gt;\r\n\r\nMainActivity.java\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n                @Override\r\n                public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n                }\r\n        });\r\n    }\r\n\r\nShop.java\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n        RewardedAd.load(this, &quot;ca-app-pub-my-rewarded-ad-id&quot;,\r\n                adRequest, new RewardedAdLoadCallback() {\r\n                    @Override\r\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                        // Handle the error.\r\n                        mRewardedAd = null;\r\n                    }\r\n                    @Override\r\n                    public void onAdLoaded(@NonNull RewardedAd rewardedAd) {\r\n                        mRewardedAd = rewardedAd;\r\n                        mRewardedAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                            @Override\r\n                            public void onAdShowedFullScreenContent() {\r\n                                // Called when ad is shown.\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdFailedToShowFullScreenContent(AdError adError) {\r\n                                // Called when ad fails to show.\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdDismissedFullScreenContent() {\r\n                                // Called when ad is dismissed.\r\n                                // Set the ad reference to null so you don&#39;t show the ad a second time.\r\n                                mRewardedAd = null;\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n        Button btnAdd = findViewById(R.id.btnAdd);\r\n        btnAdd.setOnClickListener(v -&gt; {\r\n            if (mRewardedAd != null) {\r\n                Activity activityContext = Shop.this;\r\n                mRewardedAd.show(activityContext, new OnUserEarnedRewardListener() {\r\n                    @Override\r\n                    public void onUserEarnedReward(@NonNull RewardItem rewardItem) {\r\n                        daCoinsAdd();\r\n                    }\r\n                });\r\n            } else {\r\n                switch (languaje) {\r\n                    case &quot;es&quot;: {\r\n                        Toast toast = Toast.makeText(getApplicationContext(), &quot;No carg&#243; el anuncio.&quot;, Toast.LENGTH_SHORT);\r\n                        toast.show();\r\n                        break;\r\n                    }\r\n                    case &quot;it&quot;: {\r\n                        Toast toast = Toast.makeText(getApplicationContext(), &quot;Non ha caricato l&#39;annuncio.&quot;, Toast.LENGTH_SHORT);\r\n                        toast.show();\r\n                        break;\r\n                    }\r\n                    case &quot;fr&quot;: {\r\n                        Toast toast = Toast.makeText(getApplicationContext(), &quot;Il n&#39;a pas charg&#233; l&#39;annonce.&quot;, Toast.LENGTH_SHORT);\r\n                        toast.show();\r\n                        break;\r\n                    }\r\n                    default: {\r\n                        Toast toast = Toast.makeText(getApplicationContext(), &quot;It did not load the ad.&quot;, Toast.LENGTH_SHORT);\r\n                        toast.show();\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }    \r\n\r\nIt is normal that the ad doesn&#39;t load in the first click as my app is new and I have no traffic, or I have done something wrongly?\r\n\r\n\r\n  [1]: https://developers.google.com/admob/android/rewarded-fullscreen?hl=es\r\n  [2]: https://developers.google.com/admob/android/rewarded-video?hl=es","title":"Admob rewarded ad not showed even if the petitions get responses","body":"<p>I have an Android application written in Java where I give coins to use the application by watching a rewardered ad using the Admob advertising network.</p>\n<p>I have followed the <a href=\"https://developers.google.com/admob/android/rewarded-fullscreen?hl=es\" rel=\"nofollow noreferrer\">new API implementation guide</a>. My frown starts when I receive implementation instructions by email, and they link to the <a href=\"https://developers.google.com/admob/android/rewarded-video?hl=es\" rel=\"nofollow noreferrer\">old API</a>. Which of the two APIs do I have to implement?</p>\n<p>On the other hand, I start the mediation, and upload an update with a button to see the rewarded ad and get the coins, and another to get free coins. Only the Chocolate network has accepted me, the rest rejected.</p>\n<p>It has been published like this for a week, and every day, my first 500 users click 10 or 20 times and in Admob I get that I receive those requests and that the response rate is 100%, and only 1 or 2 ads are printed. I had to remove the ad because the app could not be used without coins.</p>\n<p>On the other hand, I receive a rejection from a mediation in which they ask me about my traffic and they tell me that they will not be able to offer me the service because it would not generate enough ad traffic.</p>\n<p>Have I understood correctly? Does that mean that since I only have one app with only 500 users, I can't trade with Admob with rewardered ads?\nWould the same thing happen to me on Facebook?\nMy intersticial and banner ads work correctly while the rewarded no.</p>\n<p>My implementation code in case I have programmed something wrong is the following. With the test id it works, not always on the first click but on the second (sometimes <code>mRewardedAd = null</code>).</p>\n<p>build.graddle (module)</p>\n<pre><code>dependencies {\n    implementation 'com.google.android.gms:play-services-ads:20.5.0'\n}\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;application&gt;\n    &lt;meta-data\n        android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n        android:value=&quot;ca-app-pub-my-app-id&quot;/&gt;\n&lt;/application&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\n            }\n    });\n}\n</code></pre>\n<p>Shop.java</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    AdRequest adRequest = new AdRequest.Builder().build();\n    RewardedAd.load(this, &quot;ca-app-pub-my-rewarded-ad-id&quot;,\n            adRequest, new RewardedAdLoadCallback() {\n                @Override\n                public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                    // Handle the error.\n                    mRewardedAd = null;\n                }\n                @Override\n                public void onAdLoaded(@NonNull RewardedAd rewardedAd) {\n                    mRewardedAd = rewardedAd;\n                    mRewardedAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n                        @Override\n                        public void onAdShowedFullScreenContent() {\n                            // Called when ad is shown.\n                        }\n\n                        @Override\n                        public void onAdFailedToShowFullScreenContent(AdError adError) {\n                            // Called when ad fails to show.\n                        }\n\n                        @Override\n                        public void onAdDismissedFullScreenContent() {\n                            // Called when ad is dismissed.\n                            // Set the ad reference to null so you don't show the ad a second time.\n                            mRewardedAd = null;\n                        }\n                    });\n                }\n            });\n    Button btnAdd = findViewById(R.id.btnAdd);\n    btnAdd.setOnClickListener(v -&gt; {\n        if (mRewardedAd != null) {\n            Activity activityContext = Shop.this;\n            mRewardedAd.show(activityContext, new OnUserEarnedRewardListener() {\n                @Override\n                public void onUserEarnedReward(@NonNull RewardItem rewardItem) {\n                    daCoinsAdd();\n                }\n            });\n        } else {\n            switch (languaje) {\n                case &quot;es&quot;: {\n                    Toast toast = Toast.makeText(getApplicationContext(), &quot;No cargó el anuncio.&quot;, Toast.LENGTH_SHORT);\n                    toast.show();\n                    break;\n                }\n                case &quot;it&quot;: {\n                    Toast toast = Toast.makeText(getApplicationContext(), &quot;Non ha caricato l'annuncio.&quot;, Toast.LENGTH_SHORT);\n                    toast.show();\n                    break;\n                }\n                case &quot;fr&quot;: {\n                    Toast toast = Toast.makeText(getApplicationContext(), &quot;Il n'a pas chargé l'annonce.&quot;, Toast.LENGTH_SHORT);\n                    toast.show();\n                    break;\n                }\n                default: {\n                    Toast toast = Toast.makeText(getApplicationContext(), &quot;It did not load the ad.&quot;, Toast.LENGTH_SHORT);\n                    toast.show();\n                    break;\n                }\n            }\n        }\n    });\n}    \n</code></pre>\n<p>It is normal that the ad doesn't load in the first click as my app is new and I have no traffic, or I have done something wrongly?</p>\n"},{"tags":["java","dto","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648646818,"creation_date":1648646818,"answer_id":71678108,"question_id":71677940,"body_markdown":"You can resolve your issue by adding an after mapping method to your mapping interface:\r\n\r\n    @Mapper\r\n    public abstract class Mapper {\r\n    \r\n        public abstract BankDto getBankDto(Bank bank);\r\n    \r\n        @AfterMapping\r\n        public void setEmployees(Bank bank, @MappingTarget BankDto bankDto) {\r\n            bankDto.setEmployeeList(new List&lt;String&gt;());\r\n            bankDto.getEmployeeList().add(bank.employee1);\r\n            bankDto.getEmployeeList().add(bank.employee2);\r\n        }\r\n    }\r\n","title":"Map several fields to List with a mapstruct","body":"<p>You can resolve your issue by adding an after mapping method to your mapping interface:</p>\n<pre><code>@Mapper\npublic abstract class Mapper {\n\n    public abstract BankDto getBankDto(Bank bank);\n\n    @AfterMapping\n    public void setEmployees(Bank bank, @MappingTarget BankDto bankDto) {\n        bankDto.setEmployeeList(new List&lt;String&gt;());\n        bankDto.getEmployeeList().add(bank.employee1);\n        bankDto.getEmployeeList().add(bank.employee2);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648800599,"creation_date":1648653789,"answer_id":71679973,"question_id":71677940,"body_markdown":"You can also use reflection if you like to make your code more dynamic, you can increase or decrease the number of employee fields and the mapper will automatically do the job for you :\r\n\r\n\r\n    import java.lang.reflect.Field;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    class Bank {\r\n    \tString name;\r\n        // you can add or remove employees here and the mapper still work as expected :\r\n    \tString employee1;\r\n    \tString employee2;\r\n    \tString employee3;\r\n    \tString employee4;\r\n    \tString employee5;\r\n    }\r\n    \r\n    class BankDto {\r\n    \tString name;\r\n    \tList&lt;String&gt; employeeList = new ArrayList&lt;&gt;();\r\n    }\r\n    \r\n    class Mapper {\r\n    \tstatic BankDto map(Bank bank) throws IllegalArgumentException, IllegalAccessException {\r\n     \t\tBankDto dto = new BankDto();\r\n    \t\tdto.name = bank.name;\r\n     \t\t\r\n    \t\tList&lt;Field&gt; fields = Stream.of(bank.getClass().getDeclaredFields()).filter(f -&gt; f.getName().startsWith(&quot;emp&quot;))\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \t\tfor (Field f : fields) {\r\n    \t\t\tif (!f.isAccessible()) {\r\n    \t\t\t\tf.setAccessible(true);\r\n    \t\t\t\tdto.employeeList.add((String) (f.get(bank)));\r\n    \t\t\t\tf.setAccessible(false);\r\n    \t\t\t}\r\n    \t\t\t// System.out.println(f.get(bank)); //print fields with reflection\r\n    \t\t}\r\n    \t\treturn dto;\r\n    \t}\r\n    }\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) throws IllegalArgumentException, IllegalAccessException {\r\n    \t\tBank b = new Bank();\r\n    \t\tb.name = &quot;BNP&quot;;\r\n    \t\tb.employee1 = &quot;Amine&quot;;\r\n    \t\tb.employee2 = &quot;SAMI&quot;;\r\n    \t\tb.employee3 = &quot;RAMI&quot;;\r\n    \t\tb.employee4 = &quot;KARIM&quot;;\r\n    \t\tb.employee5 = &quot;ZIAD&quot;;\r\n    \r\n    \t\tBankDto dto = Mapper.map(b);\r\n    \t\tSystem.out.println(&quot;********BankDTO*********&quot;);\r\n    \t\tSystem.out.println(&quot;Bank name :   &quot; + dto.name);\r\n    \t\tSystem.out.println(&quot;*****************&quot;);\r\n    \t\tSystem.out.println(dto.employeeList);\r\n    \t}\r\n    }\r\n\r\n**Output :**\r\n\r\n    ********BankDTO*********\r\n    Bank name :   BNP\r\n    *****************\r\n    [Amine, SAMI, RAMI, KARIM, ZIAD]\r\n\r\nYou should ensure encapsulation write getters setters ..","title":"Map several fields to List with a mapstruct","body":"<p>You can also use reflection if you like to make your code more dynamic, you can increase or decrease the number of employee fields and the mapper will automatically do the job for you :</p>\n<pre><code>import java.lang.reflect.Field;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nclass Bank {\n    String name;\n    // you can add or remove employees here and the mapper still work as expected :\n    String employee1;\n    String employee2;\n    String employee3;\n    String employee4;\n    String employee5;\n}\n\nclass BankDto {\n    String name;\n    List&lt;String&gt; employeeList = new ArrayList&lt;&gt;();\n}\n\nclass Mapper {\n    static BankDto map(Bank bank) throws IllegalArgumentException, IllegalAccessException {\n        BankDto dto = new BankDto();\n        dto.name = bank.name;\n        \n        List&lt;Field&gt; fields = Stream.of(bank.getClass().getDeclaredFields()).filter(f -&gt; f.getName().startsWith(&quot;emp&quot;))\n                .collect(Collectors.toList());\n        for (Field f : fields) {\n            if (!f.isAccessible()) {\n                f.setAccessible(true);\n                dto.employeeList.add((String) (f.get(bank)));\n                f.setAccessible(false);\n            }\n            // System.out.println(f.get(bank)); //print fields with reflection\n        }\n        return dto;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) throws IllegalArgumentException, IllegalAccessException {\n        Bank b = new Bank();\n        b.name = &quot;BNP&quot;;\n        b.employee1 = &quot;Amine&quot;;\n        b.employee2 = &quot;SAMI&quot;;\n        b.employee3 = &quot;RAMI&quot;;\n        b.employee4 = &quot;KARIM&quot;;\n        b.employee5 = &quot;ZIAD&quot;;\n\n        BankDto dto = Mapper.map(b);\n        System.out.println(&quot;********BankDTO*********&quot;);\n        System.out.println(&quot;Bank name :   &quot; + dto.name);\n        System.out.println(&quot;*****************&quot;);\n        System.out.println(dto.employeeList);\n    }\n}\n</code></pre>\n<p><strong>Output :</strong></p>\n<pre><code>********BankDTO*********\nBank name :   BNP\n*****************\n[Amine, SAMI, RAMI, KARIM, ZIAD]\n</code></pre>\n<p>You should ensure encapsulation write getters setters ..</p>\n"}],"owner":{"account_id":19788041,"reputation":45,"user_id":14491605,"display_name":"Andrey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71678108,"answer_count":2,"score":1,"last_activity_date":1648800599,"creation_date":1648646190,"question_id":71677940,"body_markdown":"for example, I have following entity:\r\n\r\n    class Bank\r\n    {\r\n    String name;\r\n    String employee1;\r\n    String employee2;\r\n    }\r\n\r\nAnd a Dto object:\r\n\r\n    class BankDto\r\n    {\r\n    String name;\r\n    List&lt;String&gt; employeeList;\r\n    }\r\n\r\nIs there a proper way how to map Bank to BankDto, so employee1 and employee2 fields will be added to employeeList collection?","title":"Map several fields to List with a mapstruct","body":"<p>for example, I have following entity:</p>\n<pre><code>class Bank\n{\nString name;\nString employee1;\nString employee2;\n}\n</code></pre>\n<p>And a Dto object:</p>\n<pre><code>class BankDto\n{\nString name;\nList&lt;String&gt; employeeList;\n}\n</code></pre>\n<p>Is there a proper way how to map Bank to BankDto, so employee1 and employee2 fields will be added to employeeList collection?</p>\n"},{"tags":["java","android","retrofit","worker"],"answers":[{"tags":[],"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648800591,"creation_date":1648800591,"answer_id":71703747,"question_id":71615919,"body_markdown":"I put all info in as putStrings, converted the date.\r\n\r\n```\r\nData myFeedbackMessage = new Data.Builder()\r\n                .putString(&quot;myFeedbackMessageId&quot;, message.getId())\r\n                .putString(&quot;myFeedbackMessage&quot;, message.getFeedbackMessage())\r\n                .putString(&quot;myFeedbackPerson&quot;, message.getFeedbackPersonName())\r\n                .putString(&quot;myFeedbackCreated&quot;,message.getCreated().toString())\r\n                .build();\r\n```","title":"Resend Retrofit API call with a OneTimeWorkRequest","body":"<p>I put all info in as putStrings, converted the date.</p>\n<pre><code>Data myFeedbackMessage = new Data.Builder()\n                .putString(&quot;myFeedbackMessageId&quot;, message.getId())\n                .putString(&quot;myFeedbackMessage&quot;, message.getFeedbackMessage())\n                .putString(&quot;myFeedbackPerson&quot;, message.getFeedbackPersonName())\n                .putString(&quot;myFeedbackCreated&quot;,message.getCreated().toString())\n                .build();\n</code></pre>\n"}],"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71703747,"answer_count":1,"score":1,"last_activity_date":1648800591,"creation_date":1648206433,"question_id":71615919,"body_markdown":"I am stuck and can&#39;t get my OneTimeWorkRequest to work properly.\r\n\r\nI have got this Retrofit API call I want to resend to the backend incase there&#39;s no network connectivity or similar on the phone. What I can&#39;t wrap my head around is how to pass the call to the worker.\r\n\r\nI&#39;ve got this following code:\r\n\r\nHere&#39;s the API Service:\r\n\r\n``` \r\npublic void sendMessage(Context context, Message message){\r\n\r\n    ListService listService = ServiceBuilder.getInstance(context).buildService(ListService.class);\r\n    Call&lt;Void&gt; createRequest = listService.sendMessage(message);\r\n\r\n    createRequest.enqueue(new Callback&lt;Void&gt;() {\r\n\r\n        @Override\r\n        public void onResponse(Call&lt;Void&gt; call, Response&lt;Void&gt; response) {\r\n            if(response.isSuccessful()) {\r\n                Toast toast = new Toast(context);\r\n                toast.setText(&quot;Thank you for your message!&quot;);\r\n                toast.show();\r\n\r\n            }\r\n            else{\r\n                Toast toast = new Toast(context);\r\n                toast.setText(&quot;Could not send message!&quot;);\r\n                toast.show();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Call&lt;Void&gt; call, Throwable t) {\r\n            Toast toast = new Toast(context);\r\n            toast.setText(&quot;Could not send message!&quot;);\r\n            toast.show();\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nThe worker in the main class:\r\n\r\n``` \r\nConstraints constraints4 = new Constraints.Builder()\r\n.setRequiredNetworkType(NetworkType.CONNECTED)\r\n.build();\r\n\r\nOneTimeWorkRequest sendFeedbackWorker = new OneTimeWorkRequest.Builder(SendMessageWorker.class)\r\n.setInitialDelay(15, TimeUnit.MINUTES)\r\n.setConstraints(constraints4)\r\n.build();\r\nWorkManager.getInstance().enqueue(sendMessageWorker);\r\n```\r\n\r\n\r\nThe worker class:\r\n\r\n``` \r\npublic class SendMessageWorker extends Worker {\r\n    private static final String TAG = &quot;SendMessageWorker&quot;;\r\n\r\n    public SendMessageWorker(\r\n            @NonNull\r\n                    Context context,\r\n            @NonNull\r\n                    WorkerParameters workerParams) {\r\n        super(context, workerParams);\r\n    }\r\n\r\n    @NonNull\r\n    @NotNull\r\n    @Override\r\n    public Result doWork() {\r\n\r\n        //What do I do here?\r\n        \r\n        return Result.success();\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhat am I missing, is it just the Worker class? And is it the application context I need in there? If so, how do I pass it?","title":"Resend Retrofit API call with a OneTimeWorkRequest","body":"<p>I am stuck and can't get my OneTimeWorkRequest to work properly.</p>\n<p>I have got this Retrofit API call I want to resend to the backend incase there's no network connectivity or similar on the phone. What I can't wrap my head around is how to pass the call to the worker.</p>\n<p>I've got this following code:</p>\n<p>Here's the API Service:</p>\n<pre><code>public void sendMessage(Context context, Message message){\n\n    ListService listService = ServiceBuilder.getInstance(context).buildService(ListService.class);\n    Call&lt;Void&gt; createRequest = listService.sendMessage(message);\n\n    createRequest.enqueue(new Callback&lt;Void&gt;() {\n\n        @Override\n        public void onResponse(Call&lt;Void&gt; call, Response&lt;Void&gt; response) {\n            if(response.isSuccessful()) {\n                Toast toast = new Toast(context);\n                toast.setText(&quot;Thank you for your message!&quot;);\n                toast.show();\n\n            }\n            else{\n                Toast toast = new Toast(context);\n                toast.setText(&quot;Could not send message!&quot;);\n                toast.show();\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;Void&gt; call, Throwable t) {\n            Toast toast = new Toast(context);\n            toast.setText(&quot;Could not send message!&quot;);\n            toast.show();\n        }\n    });\n}\n</code></pre>\n<p>The worker in the main class:</p>\n<pre><code>Constraints constraints4 = new Constraints.Builder()\n.setRequiredNetworkType(NetworkType.CONNECTED)\n.build();\n\nOneTimeWorkRequest sendFeedbackWorker = new OneTimeWorkRequest.Builder(SendMessageWorker.class)\n.setInitialDelay(15, TimeUnit.MINUTES)\n.setConstraints(constraints4)\n.build();\nWorkManager.getInstance().enqueue(sendMessageWorker);\n</code></pre>\n<p>The worker class:</p>\n<pre><code>public class SendMessageWorker extends Worker {\n    private static final String TAG = &quot;SendMessageWorker&quot;;\n\n    public SendMessageWorker(\n            @NonNull\n                    Context context,\n            @NonNull\n                    WorkerParameters workerParams) {\n        super(context, workerParams);\n    }\n\n    @NonNull\n    @NotNull\n    @Override\n    public Result doWork() {\n\n        //What do I do here?\n        \n        return Result.success();\n    }\n}\n\n</code></pre>\n<p>What am I missing, is it just the Worker class? And is it the application context I need in there? If so, how do I pass it?</p>\n"},{"tags":["java","android","android-studio","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1648614150,"post_id":71671279,"comment_id":126666198,"body_markdown":"What do you mean by slow? Your BLE device takes too long to be discovered? Please use a generic BLE scanner like [nRF Connect](https://www.nordicsemi.com/Products/Development-tools/nrf-connect-for-mobile) and test if it scans faster. Your BLE device is responsible for sending advertisements at a regular interval. If the device sends them every 10 seconds the worst-case scenario would be that you scan it after 10 seconds.","body":"What do you mean by slow? Your BLE device takes too long to be discovered? Please use a generic BLE scanner like <a href=\"https://www.nordicsemi.com/Products/Development-tools/nrf-connect-for-mobile\" rel=\"nofollow noreferrer\">nRF Connect</a> and test if it scans faster. Your BLE device is responsible for sending advertisements at a regular interval. If the device sends them every 10 seconds the worst-case scenario would be that you scan it after 10 seconds."},{"owner":{"account_id":24740824,"reputation":133,"user_id":18627591,"display_name":"AndroidE"},"score":0,"creation_date":1648614927,"post_id":71671279,"comment_id":126666321,"body_markdown":"@MichaelKotzjan I mean, too long to be continous discovered. How to use nRF connect in android studio? And i want to know, easier using fluuter or android studio for develop BLE scanner app?","body":"@MichaelKotzjan I mean, too long to be continous discovered. How to use nRF connect in android studio? And i want to know, easier using fluuter or android studio for develop BLE scanner app?"},{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1648615031,"post_id":71671279,"comment_id":126666340,"body_markdown":"You use nRF Connect like any other app on your phone, not in Android Studio. Regarding your other question: I personally never worked with flutter, you should choose the technology based on your requirements and skills","body":"You use nRF Connect like any other app on your phone, not in Android Studio. Regarding your other question: I personally never worked with flutter, you should choose the technology based on your requirements and skills"},{"owner":{"account_id":24740824,"reputation":133,"user_id":18627591,"display_name":"AndroidE"},"score":0,"creation_date":1648615433,"post_id":71671279,"comment_id":126666391,"body_markdown":"@MichaelKotzjan I want build my app using BLE scanner and sending to mqtt server. But BLE scanner is too slow to discover another BLE. i dont need another app, i need how to make it faster. The delay in finding other BLEs resulted in the inaccuracy of the indoor positioning system that I designed","body":"@MichaelKotzjan I want build my app using BLE scanner and sending to mqtt server. But BLE scanner is too slow to discover another BLE. i dont need another app, i need how to make it faster. The delay in finding other BLEs resulted in the inaccuracy of the indoor positioning system that I designed"},{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1648615628,"post_id":71671279,"comment_id":126666430,"body_markdown":"I understand. nRF Connect is a finished app used by many. You should simply use it as a reference. If it also takes long to scan your device using nRF Connect your own app is not at fault and you should look for the problem at the end of your BLE device","body":"I understand. nRF Connect is a finished app used by many. You should simply use it as a reference. If it also takes long to scan your device using nRF Connect your own app is not at fault and you should look for the problem at the end of your BLE device"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648629002,"post_id":71671279,"comment_id":126670160,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":23917432,"reputation":143,"user_id":17913726,"display_name":"fabik111"},"score":0,"creation_date":1649423725,"post_id":71671279,"comment_id":126878445,"body_markdown":"@AndroidE There is an error in your implementation: you are using the wrong API to scan for BLE devices, the `bluetoothAdapter.startDiscovery();` API returns the bluetooth devices not the BLE devices. In order to scan for BLE devices use this guide [guide](https://developer.android.com/guide/topics/connectivity/bluetooth/find-ble-devices)","body":"@AndroidE There is an error in your implementation: you are using the wrong API to scan for BLE devices, the <code>bluetoothAdapter.startDiscovery();</code> API returns the bluetooth devices not the BLE devices. In order to scan for BLE devices use this guide <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/find-ble-devices\" rel=\"nofollow noreferrer\">guide</a>"}],"owner":{"account_id":24740824,"reputation":133,"user_id":18627591,"display_name":"AndroidE"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648800369,"creation_date":1648612261,"question_id":71671279,"body_markdown":"I want make some application, it will scanning nearby BLE and sending to server via MQTT. But the scanning proccess to slow. I want to increase the speed of scanning. \r\n\r\nmainActivity.java\r\n\r\n    package com.example.mqtt_active;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    import android.Manifest;\r\n    import android.bluetooth.BluetoothAdapter;\r\n    import android.bluetooth.BluetoothDevice;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import org.eclipse.paho.android.service.MqttAndroidClient;\r\n    import org.eclipse.paho.client.mqttv3.IMqttActionListener;\r\n    import org.eclipse.paho.client.mqttv3.IMqttToken;\r\n    import org.eclipse.paho.client.mqttv3.MqttException;\r\n    \r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private Button turnon, changeLayout;\r\n        MqttAndroidClient client;\r\n        private boolean state=false;\r\n        private BluetoothAdapter bluetoothAdapter;\r\n        public static final int REQUEST_ACCESS_COARSE_LOCATION = 1;\r\n        public static final int REQUEST_ENABLE_BLUETOOTH = 11;\r\n        public static String mqtt_server,mqtt_port,mqtt_id;\r\n        private TextView textView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            getSupportActionBar().hide();\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            turnon = findViewById(R.id.turnon);\r\n            changeLayout = findViewById(R.id.mqttSet);\r\n            bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n            textView = findViewById(R.id.textView4);\r\n    \r\n            textView.setText(&quot;id &quot;+mqtt_id+&quot; port &quot;+mqtt_port+&quot; server &quot;+mqtt_server);\r\n            client = new MqttAndroidClient(this.getApplicationContext(), &quot;tcp://&quot;+mqtt_server+&quot;:&quot;+mqtt_port,mqtt_id);\r\n    \r\n            final Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    stateCheck();\r\n                    handler.postDelayed(this, 1000);\r\n                }\r\n            }, 1000);\r\n            final Handler handlerStop = new Handler();\r\n            handlerStop.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    bluetoothAdapter.cancelDiscovery();\r\n                    handlerStop.postDelayed(this, 2000);\r\n                }\r\n            }, 2000);\r\n    \r\n            turnon.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (!state){\r\n                        turnon.setText(&quot;Turn Off&quot;);\r\n    //                    if (bluetoothAdapter!=null &amp; bluetoothAdapter.isEnabled()) {\r\n    //                        if(checkCoarsePermission()){\r\n    //                            bluetoothAdapter.startDiscovery();\r\n    //                        }\r\n    //                    }\r\n                        if(mqtt_server!=null||mqtt_id!=null||mqtt_port!=null){\r\n                        try {\r\n                            IMqttToken token = client.connect();\r\n                            token.setActionCallback(new IMqttActionListener() {\r\n                                @Override\r\n                                public void onSuccess(IMqttToken asyncActionToken) {\r\n                                    Toast.makeText(MainActivity.this,&quot;connected!!&quot;,Toast.LENGTH_LONG).show();\r\n    \r\n                                }\r\n    \r\n                                @Override\r\n                                public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\r\n                                    Toast.makeText(MainActivity.this,&quot;connection failed!!&quot;,Toast.LENGTH_LONG).show();\r\n                                }\r\n                            });\r\n                        } catch (MqttException e) {\r\n                            e.printStackTrace();\r\n                        }}\r\n                        state = true;\r\n                    }else{\r\n                        turnon.setText(&quot;Turn On&quot;);\r\n                        state = false;\r\n    //                    bluetoothAdapter.cancelDiscovery();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            changeLayout.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    startActivity(new Intent(MainActivity.this,MqttActivity.class));\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void stateCheck(){\r\n        if (state){\r\n            if (bluetoothAdapter!=null &amp; bluetoothAdapter.isEnabled()) {\r\n                if(checkCoarsePermission()){\r\n                    bluetoothAdapter.startDiscovery();\r\n                }\r\n            }\r\n        }else {\r\n            bluetoothAdapter.cancelDiscovery();\r\n        }\r\n        }\r\n    \r\n        private boolean checkCoarsePermission(){\r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION)\r\n                    != PackageManager.PERMISSION_GRANTED){\r\n                ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_COARSE_LOCATION},\r\n                        REQUEST_ACCESS_COARSE_LOCATION);\r\n                return false;\r\n            }else {\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothDevice.ACTION_FOUND));\r\n            registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_STARTED));\r\n            registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_FINISHED));\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n            unregisterReceiver(devicesFoundReceiver);\r\n        }\r\n    \r\n        private final BroadcastReceiver devicesFoundReceiver = new BroadcastReceiver() {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                String action= intent.getAction();\r\n    \r\n                if(BluetoothDevice.ACTION_FOUND.equals(action)){\r\n                    BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n                    int  rssi = intent.getShortExtra(BluetoothDevice.EXTRA_RSSI,Short.MIN_VALUE);\r\n                    String RSSI = String.valueOf(rssi);\r\n                    Toast.makeText(context.getApplicationContext(),&quot;rssi &quot;+RSSI+&quot; &quot;+device.getAddress(),Toast.LENGTH_SHORT).show();\r\n                    if(mqtt_server!=null||mqtt_id!=null||mqtt_port!=null){\r\n                    try {\r\n                        String payload = &quot;rssi:&quot;+RSSI+&quot;mac:&quot;+device.getAddress();\r\n                        client.publish(&quot;test&quot;,payload.getBytes(),0,false);\r\n                    } catch ( MqttException e) {\r\n                        e.printStackTrace();\r\n                    }}\r\n    \r\n                }else if(BluetoothAdapter.ACTION_DISCOVERY_FINISHED.equals(action)){\r\n                }else if(BluetoothAdapter.ACTION_DISCOVERY_STARTED.equals(action)){\r\n                }\r\n            }\r\n        };\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    \r\n            switch (requestCode){\r\n                case REQUEST_ACCESS_COARSE_LOCATION:\r\n                    if(grantResults.length&gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                        Toast.makeText(this,&quot;ALLOWED&quot;, Toast.LENGTH_SHORT).show();\r\n                    }else {\r\n                        Toast.makeText(this,&quot;Forbidden&quot;,Toast.LENGTH_SHORT).show();\r\n                    } break;\r\n            }\r\n        }\r\n    }\r\n\r\nmqttActivity.java\r\n\r\n    package com.example.mqtt_active;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    public class MqttActivity extends AppCompatActivity {\r\n    \r\n        private EditText server,port,id;\r\n        private Button save;\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_mqtt);\r\n    \r\n            server = findViewById(R.id.serverMQTT);\r\n            id =  findViewById(R.id.mqttTopic);\r\n            port = findViewById(R.id.mqttPort);\r\n            save = findViewById(R.id.saveButton);\r\n    \r\n            save.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    MainActivity.mqtt_id = id.getText().toString();\r\n                    MainActivity.mqtt_port = port.getText().toString();\r\n                    MainActivity.mqtt_server = server.getText().toString();\r\n    \r\n                    startActivity(new Intent(MqttActivity.this,MainActivity.class));\r\n    \r\n                }\r\n            });\r\n    \r\n        }\r\n    }\r\n    \r\n\r\nactivity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/turnon&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Turn On&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.452&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/mqttSet&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Set MQTT&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.511&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/turnon&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.073&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView4&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;52dp&quot;\r\n            android:text=&quot;TextView&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.524&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/mqttSet&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nactivity_mqtt.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/serverMQTT&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:text=&quot;Server&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;60dp&quot;\r\n            android:text=&quot;MQTT SERVER&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;24dp&quot;\r\n            android:text=&quot;MQTT TOPIC&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/serverMQTT&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/mqttTopic&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:text=&quot;Topic&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textView2&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView3&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;24dp&quot;\r\n            android:text=&quot;MQTT PORT&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/mqttTopic&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/mqttPort&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:text=&quot;Port&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/saveButton&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textView3&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/saveButton&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Save&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/textView3&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.298&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nHow to increase speed of scanning nearby BLE? i expect from this forum, i can increase speed of scanning nearby BLE.","title":"How to increase speed of BLE scanning Android Studio?","body":"<p>I want make some application, it will scanning nearby BLE and sending to server via MQTT. But the scanning proccess to slow. I want to increase the speed of scanning.</p>\n<p>mainActivity.java</p>\n<pre><code>package com.example.mqtt_active;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport org.eclipse.paho.android.service.MqttAndroidClient;\nimport org.eclipse.paho.client.mqttv3.IMqttActionListener;\nimport org.eclipse.paho.client.mqttv3.IMqttToken;\nimport org.eclipse.paho.client.mqttv3.MqttException;\n\nimport java.nio.charset.StandardCharsets;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Button turnon, changeLayout;\n    MqttAndroidClient client;\n    private boolean state=false;\n    private BluetoothAdapter bluetoothAdapter;\n    public static final int REQUEST_ACCESS_COARSE_LOCATION = 1;\n    public static final int REQUEST_ENABLE_BLUETOOTH = 11;\n    public static String mqtt_server,mqtt_port,mqtt_id;\n    private TextView textView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getSupportActionBar().hide();\n        setContentView(R.layout.activity_main);\n\n        turnon = findViewById(R.id.turnon);\n        changeLayout = findViewById(R.id.mqttSet);\n        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n        textView = findViewById(R.id.textView4);\n\n        textView.setText(&quot;id &quot;+mqtt_id+&quot; port &quot;+mqtt_port+&quot; server &quot;+mqtt_server);\n        client = new MqttAndroidClient(this.getApplicationContext(), &quot;tcp://&quot;+mqtt_server+&quot;:&quot;+mqtt_port,mqtt_id);\n\n        final Handler handler = new Handler();\n        handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                stateCheck();\n                handler.postDelayed(this, 1000);\n            }\n        }, 1000);\n        final Handler handlerStop = new Handler();\n        handlerStop.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                bluetoothAdapter.cancelDiscovery();\n                handlerStop.postDelayed(this, 2000);\n            }\n        }, 2000);\n\n        turnon.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (!state){\n                    turnon.setText(&quot;Turn Off&quot;);\n//                    if (bluetoothAdapter!=null &amp; bluetoothAdapter.isEnabled()) {\n//                        if(checkCoarsePermission()){\n//                            bluetoothAdapter.startDiscovery();\n//                        }\n//                    }\n                    if(mqtt_server!=null||mqtt_id!=null||mqtt_port!=null){\n                    try {\n                        IMqttToken token = client.connect();\n                        token.setActionCallback(new IMqttActionListener() {\n                            @Override\n                            public void onSuccess(IMqttToken asyncActionToken) {\n                                Toast.makeText(MainActivity.this,&quot;connected!!&quot;,Toast.LENGTH_LONG).show();\n\n                            }\n\n                            @Override\n                            public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\n                                Toast.makeText(MainActivity.this,&quot;connection failed!!&quot;,Toast.LENGTH_LONG).show();\n                            }\n                        });\n                    } catch (MqttException e) {\n                        e.printStackTrace();\n                    }}\n                    state = true;\n                }else{\n                    turnon.setText(&quot;Turn On&quot;);\n                    state = false;\n//                    bluetoothAdapter.cancelDiscovery();\n                }\n            }\n        });\n\n        changeLayout.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(new Intent(MainActivity.this,MqttActivity.class));\n            }\n        });\n    }\n\n    public void stateCheck(){\n    if (state){\n        if (bluetoothAdapter!=null &amp; bluetoothAdapter.isEnabled()) {\n            if(checkCoarsePermission()){\n                bluetoothAdapter.startDiscovery();\n            }\n        }\n    }else {\n        bluetoothAdapter.cancelDiscovery();\n    }\n    }\n\n    private boolean checkCoarsePermission(){\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED){\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_COARSE_LOCATION},\n                    REQUEST_ACCESS_COARSE_LOCATION);\n            return false;\n        }else {\n            return true;\n        }\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothDevice.ACTION_FOUND));\n        registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_STARTED));\n        registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_FINISHED));\n\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        unregisterReceiver(devicesFoundReceiver);\n    }\n\n    private final BroadcastReceiver devicesFoundReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            String action= intent.getAction();\n\n            if(BluetoothDevice.ACTION_FOUND.equals(action)){\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n                int  rssi = intent.getShortExtra(BluetoothDevice.EXTRA_RSSI,Short.MIN_VALUE);\n                String RSSI = String.valueOf(rssi);\n                Toast.makeText(context.getApplicationContext(),&quot;rssi &quot;+RSSI+&quot; &quot;+device.getAddress(),Toast.LENGTH_SHORT).show();\n                if(mqtt_server!=null||mqtt_id!=null||mqtt_port!=null){\n                try {\n                    String payload = &quot;rssi:&quot;+RSSI+&quot;mac:&quot;+device.getAddress();\n                    client.publish(&quot;test&quot;,payload.getBytes(),0,false);\n                } catch ( MqttException e) {\n                    e.printStackTrace();\n                }}\n\n            }else if(BluetoothAdapter.ACTION_DISCOVERY_FINISHED.equals(action)){\n            }else if(BluetoothAdapter.ACTION_DISCOVERY_STARTED.equals(action)){\n            }\n        }\n    };\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        switch (requestCode){\n            case REQUEST_ACCESS_COARSE_LOCATION:\n                if(grantResults.length&gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                    Toast.makeText(this,&quot;ALLOWED&quot;, Toast.LENGTH_SHORT).show();\n                }else {\n                    Toast.makeText(this,&quot;Forbidden&quot;,Toast.LENGTH_SHORT).show();\n                } break;\n        }\n    }\n}\n</code></pre>\n<p>mqttActivity.java</p>\n<pre><code>package com.example.mqtt_active;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MqttActivity extends AppCompatActivity {\n\n    private EditText server,port,id;\n    private Button save;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_mqtt);\n\n        server = findViewById(R.id.serverMQTT);\n        id =  findViewById(R.id.mqttTopic);\n        port = findViewById(R.id.mqttPort);\n        save = findViewById(R.id.saveButton);\n\n        save.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                MainActivity.mqtt_id = id.getText().toString();\n                MainActivity.mqtt_port = port.getText().toString();\n                MainActivity.mqtt_server = server.getText().toString();\n\n                startActivity(new Intent(MqttActivity.this,MainActivity.class));\n\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/turnon&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Turn On&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.452&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/mqttSet&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Set MQTT&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.511&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/turnon&quot;\n        app:layout_constraintVertical_bias=&quot;0.073&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView4&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;52dp&quot;\n        android:text=&quot;TextView&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.524&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/mqttSet&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>activity_mqtt.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/serverMQTT&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:text=&quot;Server&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;60dp&quot;\n        android:text=&quot;MQTT SERVER&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:text=&quot;MQTT TOPIC&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/serverMQTT&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/mqttTopic&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:text=&quot;Topic&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView2&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView3&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:text=&quot;MQTT PORT&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/mqttTopic&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/mqttPort&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:text=&quot;Port&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/saveButton&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView3&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/saveButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Save&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/textView3&quot;\n        app:layout_constraintVertical_bias=&quot;0.298&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>How to increase speed of scanning nearby BLE? i expect from this forum, i can increase speed of scanning nearby BLE.</p>\n"},{"tags":["java","compilation","antlr","antlr4","javac"],"comments":[{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":1,"creation_date":1648738259,"post_id":71693775,"comment_id":126705772,"body_markdown":"Builds are very complicated, and are done in all sort of ways such as Maven, Ant, Gradle, Make. Javac itself looks at all source file even if you give it one .java file. I would recommend creating a tool that simply converts the purpose-annotated source to Java one file at a time, and fit it into the build tool that the user chose. The tool itself would parse source, nuke the Purpose nodes, then output source from the modified tree into a .java file. There is no &quot;pretty-printing involved&quot;. Really trivial, e.g., &quot;trparse src.pjava | trdelete &#39;//purpose&#39; | trtext &gt; src.java&quot;.","body":"Builds are very complicated, and are done in all sort of ways such as Maven, Ant, Gradle, Make. Javac itself looks at all source file even if you give it one .java file. I would recommend creating a tool that simply converts the purpose-annotated source to Java one file at a time, and fit it into the build tool that the user chose. The tool itself would parse source, nuke the Purpose nodes, then output source from the modified tree into a .java file. There is no &quot;pretty-printing involved&quot;. Really trivial, e.g., &quot;trparse src.pjava | trdelete &#39;//purpose&#39; | trtext &gt; src.java&quot;."}],"answers":[{"tags":[],"owner":{"account_id":1156784,"reputation":50182,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648800340,"creation_date":1648800340,"answer_id":71703691,"question_id":71693775,"body_markdown":"You could use `TokenStreamRewriter` to get the source code without the purpose node (or accomplish many other rewriting tasks). Here&#39;s an example from an application where I conditionally add a top level `LIMIT` clause to a MySQL query:\r\n\r\n\r\n```typescript    \r\n/**\r\n001     * Parses the query to see if there&#39;s already a top-level limit clause. If none was found, the query is\r\n002     * rewritten to include a limit clause with the given values.\r\n003     *\r\n004     * @param query The query to check and modify.\r\n005     * @param serverVersion The version of MySQL to use for checking.\r\n006     * @param sqlMode The current SQL mode in the server.\r\n007     * @param offset The limit offset to add.\r\n008     * @param count The row count value to add.\r\n009     *\r\n010     * @returns The rewritten query if the original query is error free and contained no top-level LIMIT clause.\r\n011     *          Otherwise the original query is returned.\r\n012     */\r\n013    public checkAndApplyLimits(query: string, serverVersion: number, sqlMode: string, offset: number,\r\n014        count: number): [string, boolean] {\r\n015\r\n016        this.applyServerDetails(serverVersion, sqlMode);\r\n017        const tree = this.startParsing(query, false, MySQLParseUnit.Generic);\r\n018        if (!tree || this.errors.length &gt; 0) {\r\n019            return [query, false];\r\n020        }\r\n021\r\n022        const rewriter = new TokenStreamRewriter(this.tokenStream);\r\n023        const expressions = XPath.findAll(tree, &quot;/query/simpleStatement//queryExpression&quot;, this.parser);\r\n024        let changed = false;\r\n025        if (expressions.size &gt; 0) {\r\n026            // There can only be one top-level query expression where we can add a LIMIT clause.\r\n027            const candidate: ParseTree = expressions.values().next().value;\r\n028\r\n029            // Check if the candidate comes from a subquery.\r\n030            let run: ParseTree | undefined = candidate;\r\n031            let invalid = false;\r\n032            while (run) {\r\n033                if (run instanceof SubqueryContext) {\r\n034                    invalid = true;\r\n035                    break;\r\n036                }\r\n037\r\n038                run = run.parent;\r\n039            }\r\n040\r\n041            if (!invalid) {\r\n042                // Top level query expression here. Check if there&#39;s already a LIMIT clause before adding one.\r\n043                const context = candidate as QueryExpressionContext;\r\n044                if (!context.limitClause() &amp;&amp; context.stop) {\r\n045                    // OK, ready to add an own limit clause.\r\n046                    rewriter.insertAfter(context.stop, ` LIMIT ${offset}, ${count}`);\r\n047                    changed = true;\r\n048                }\r\n049            }\r\n040        }\r\n051\r\n052        return [rewriter.getText(), changed];\r\n053    }\r\n\r\n```\r\n\r\nWhat is this code doing:\r\n\r\n- Line 017: the input is parsed to get a parse tree. If you have done that already, you can pass in the parse tree, of course, instead of parsing again.\r\n- Line 022 prepares a new TokenStreamRewriter instance with your token stream.\r\n- Line 023 uses ANTLR4&#39;s XPATH feature to get all nodes of a specific context type. This is where you can retrieve all your purpose contexts in one go. This would also be a solution for your point 2).\r\n- The following lines only check if a new LIMIT clause must be added at all. Not so interesting for you.\r\n- Line 046 is the place where you manipulate the token stream. In this case something is added, but you can also [replace or remove](https://github.com/antlr/antlr4/blob/master/runtime/Java/src/org/antlr/v4/runtime/TokenStreamRewriter.java#L295) nodes.\r\n- Line 052 contains probably what you are most interested in: it returns the original text of the input, but with all the rewrite actions applied.\r\n\r\nWith this code you can create a temporary java file for compilation. And it could be used to execute two actions from your list at the same time (collect the purposes and remove them).","title":"How to get from parse tree to Java class file","body":"<p>You could use <code>TokenStreamRewriter</code> to get the source code without the purpose node (or accomplish many other rewriting tasks). Here's an example from an application where I conditionally add a top level <code>LIMIT</code> clause to a MySQL query:</p>\n<pre class=\"lang-js prettyprint-override\"><code>/**\n001     * Parses the query to see if there's already a top-level limit clause. If none was found, the query is\n002     * rewritten to include a limit clause with the given values.\n003     *\n004     * @param query The query to check and modify.\n005     * @param serverVersion The version of MySQL to use for checking.\n006     * @param sqlMode The current SQL mode in the server.\n007     * @param offset The limit offset to add.\n008     * @param count The row count value to add.\n009     *\n010     * @returns The rewritten query if the original query is error free and contained no top-level LIMIT clause.\n011     *          Otherwise the original query is returned.\n012     */\n013    public checkAndApplyLimits(query: string, serverVersion: number, sqlMode: string, offset: number,\n014        count: number): [string, boolean] {\n015\n016        this.applyServerDetails(serverVersion, sqlMode);\n017        const tree = this.startParsing(query, false, MySQLParseUnit.Generic);\n018        if (!tree || this.errors.length &gt; 0) {\n019            return [query, false];\n020        }\n021\n022        const rewriter = new TokenStreamRewriter(this.tokenStream);\n023        const expressions = XPath.findAll(tree, &quot;/query/simpleStatement//queryExpression&quot;, this.parser);\n024        let changed = false;\n025        if (expressions.size &gt; 0) {\n026            // There can only be one top-level query expression where we can add a LIMIT clause.\n027            const candidate: ParseTree = expressions.values().next().value;\n028\n029            // Check if the candidate comes from a subquery.\n030            let run: ParseTree | undefined = candidate;\n031            let invalid = false;\n032            while (run) {\n033                if (run instanceof SubqueryContext) {\n034                    invalid = true;\n035                    break;\n036                }\n037\n038                run = run.parent;\n039            }\n040\n041            if (!invalid) {\n042                // Top level query expression here. Check if there's already a LIMIT clause before adding one.\n043                const context = candidate as QueryExpressionContext;\n044                if (!context.limitClause() &amp;&amp; context.stop) {\n045                    // OK, ready to add an own limit clause.\n046                    rewriter.insertAfter(context.stop, ` LIMIT ${offset}, ${count}`);\n047                    changed = true;\n048                }\n049            }\n040        }\n051\n052        return [rewriter.getText(), changed];\n053    }\n\n</code></pre>\n<p>What is this code doing:</p>\n<ul>\n<li>Line 017: the input is parsed to get a parse tree. If you have done that already, you can pass in the parse tree, of course, instead of parsing again.</li>\n<li>Line 022 prepares a new TokenStreamRewriter instance with your token stream.</li>\n<li>Line 023 uses ANTLR4's XPATH feature to get all nodes of a specific context type. This is where you can retrieve all your purpose contexts in one go. This would also be a solution for your point 2).</li>\n<li>The following lines only check if a new LIMIT clause must be added at all. Not so interesting for you.</li>\n<li>Line 046 is the place where you manipulate the token stream. In this case something is added, but you can also <a href=\"https://github.com/antlr/antlr4/blob/master/runtime/Java/src/org/antlr/v4/runtime/TokenStreamRewriter.java#L295\" rel=\"nofollow noreferrer\">replace or remove</a> nodes.</li>\n<li>Line 052 contains probably what you are most interested in: it returns the original text of the input, but with all the rewrite actions applied.</li>\n</ul>\n<p>With this code you can create a temporary java file for compilation. And it could be used to execute two actions from your list at the same time (collect the purposes and remove them).</p>\n"}],"owner":{"account_id":19504735,"reputation":23,"user_id":14270010,"display_name":"Mia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71703691,"answer_count":1,"score":0,"last_activity_date":1648800340,"creation_date":1648734868,"question_id":71693775,"body_markdown":"I am working on a command-line tool with the following functionality:\r\n\r\n 1. Parse modified .java files using an extended ANTLR4 Java9 grammar. The syntax in the files is Java, with one modification to the method declaration which includes a purpose, like in this example: `public void {marketing} sendEmail() {}`\r\n 2. Collect and remove all purposes using a visitor. Collection and analysis of the purposes is the main functionality of the program.\r\n 3. Compile and execute the Java files where the purposes are removed.  \r\n\r\nI am searching for the simplest and most effective way to achieve step 3. It is out of the scope of my project to build a full compiler, I would prefer to exploit the Java compiler and run javac if possible. I have considered the following approaches, but none seem optimal: \r\n - Prettyprinting (from parse tree to source code) as proposed in this post: https://stackoverflow.com/questions/5832412/compiling-an-ast-back-to-source-code. It could be a lot of work on large directories though. \r\n - Use ASM to generate byte code, though as I understand I would need valid java source code or class files for this to work (https://asm.ow2.io/asm4-guide.pdf).\r\n - Build a Java compiler plugin, to modify the AST and remove purposes at the parse step in the compilation (https://www.baeldung.com/java-build-compiler-plugin). I am unsure if the compilation would fail before I can modify the AST because the syntax is not valid.\r\n\r\nAny input is much appreciated.","title":"How to get from parse tree to Java class file","body":"<p>I am working on a command-line tool with the following functionality:</p>\n<ol>\n<li>Parse modified .java files using an extended ANTLR4 Java9 grammar. The syntax in the files is Java, with one modification to the method declaration which includes a purpose, like in this example: <code>public void {marketing} sendEmail() {}</code></li>\n<li>Collect and remove all purposes using a visitor. Collection and analysis of the purposes is the main functionality of the program.</li>\n<li>Compile and execute the Java files where the purposes are removed.</li>\n</ol>\n<p>I am searching for the simplest and most effective way to achieve step 3. It is out of the scope of my project to build a full compiler, I would prefer to exploit the Java compiler and run javac if possible. I have considered the following approaches, but none seem optimal:</p>\n<ul>\n<li>Prettyprinting (from parse tree to source code) as proposed in this post: <a href=\"https://stackoverflow.com/questions/5832412/compiling-an-ast-back-to-source-code\">Compiling an AST back to source code</a>. It could be a lot of work on large directories though.</li>\n<li>Use ASM to generate byte code, though as I understand I would need valid java source code or class files for this to work (<a href=\"https://asm.ow2.io/asm4-guide.pdf\" rel=\"nofollow noreferrer\">https://asm.ow2.io/asm4-guide.pdf</a>).</li>\n<li>Build a Java compiler plugin, to modify the AST and remove purposes at the parse step in the compilation (<a href=\"https://www.baeldung.com/java-build-compiler-plugin\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-build-compiler-plugin</a>). I am unsure if the compilation would fail before I can modify the AST because the syntax is not valid.</li>\n</ul>\n<p>Any input is much appreciated.</p>\n"},{"tags":["java","string","sorting"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1648750097,"post_id":71697147,"comment_id":126710328,"body_markdown":"[Sort a Map&lt;Key, Value&gt; by values](https://stackoverflow.com/questions/109383/sort-a-mapkey-value-by-values)","body":"<a href=\"https://stackoverflow.com/questions/109383/sort-a-mapkey-value-by-values\">Sort a Map&lt;Key, Value&gt; by values</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1648750234,"post_id":71697147,"comment_id":126710382,"body_markdown":"[TreeMap sort by value](https://stackoverflow.com/questions/2864840/treemap-sort-by-value)","body":"<a href=\"https://stackoverflow.com/questions/2864840/treemap-sort-by-value\">TreeMap sort by value</a>"},{"owner":{"account_id":24430599,"reputation":91,"user_id":18356893,"display_name":"Ernesto L&#243;pez"},"score":1,"creation_date":1648750569,"post_id":71697147,"comment_id":126710505,"body_markdown":"It doesn&#39;t exist a native structure to sort by value. So you will have to code the sorting. This is discussed on this thread: https://stackoverflow.com/questions/109383/sort-a-mapkey-value-by-values .","body":"It doesn&#39;t exist a native structure to sort by value. So you will have to code the sorting. This is discussed on this thread: <a href=\"https://stackoverflow.com/questions/109383/sort-a-mapkey-value-by-values\" title=\"sort a mapkey value by values\">stackoverflow.com/questions/109383/&hellip;</a> ."},{"owner":{"account_id":6495004,"reputation":195,"user_id":5027870,"display_name":"Leonard Klausmann"},"score":0,"creation_date":1648800765,"post_id":71697147,"comment_id":126721041,"body_markdown":"convert the entries into a stream, and use the comparator combinators from Map.Entry:\n\nStream&lt;Map.Entry&lt;K,V&gt;&gt; sorted =\n    map.entrySet().stream()\n       .sorted(Collections.reverseOrder(Map.Entry.comparingByValue()));","body":"convert the entries into a stream, and use the comparator combinators from Map.Entry:  Stream&lt;Map.Entry&lt;K,V&gt;&gt; sorted =     map.entrySet().stream()        .sorted(Collections.reverseOrder(Map.Entry.comparingByValue(&zwnj;&#8203;)));"}],"owner":{"account_id":5531291,"reputation":11,"user_id":4391190,"display_name":"Mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648800323,"creation_date":1648749366,"question_id":71697147,"body_markdown":"I need to count how many of occurrences of a char in a string and print them in descending order.\r\nI can count chars in `HashMap`, but can&#39;t understand how to print map in descending order by values.\r\n\r\nSomething like this output:\r\n\r\n    String income = &quot;abbccc&quot;;\r\n    \r\n    Output:\r\n    c : 3\r\n    b : 2\r\n    a : 1\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        HashMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n        String income = &quot;how are you?&quot;;\r\n\r\n        int tmp;\r\n\r\n        for (int i = 0; i &lt; income.length(); i++) {\r\n            if ( map.isEmpty() || !map.containsKey(income.charAt(i)) ) {\r\n                map.put( income.charAt(i), 1 );\r\n            } else if ( map.containsKey(income.charAt(i)) ) {\r\n                tmp = map.get( income.charAt(i) );\r\n                map.replace( income.charAt(i), ++tmp);\r\n            }\r\n        }\r\n\r\n        for (Map.Entry&lt;Character, Integer&gt; mapTemp: map.entrySet()) {\r\n            System.out.println(mapTemp.getKey() + &quot; &quot; + &quot;:&quot; + &quot; &quot; + mapTemp.getValue());\r\n        }\r\n}\r\n}\r\n```\r\n\r\n    Output:\r\n      : 2\r\n    a : 1\r\n    r : 1\r\n    e : 1\r\n    u : 1\r\n    w : 1\r\n    h : 1\r\n    y : 1\r\n    o : 2\r\n    ? : 1\r\n\r\n    Expected (needed) output:\r\n      : 2\r\n    o : 2\r\n    a : 1\r\n    r : 1\r\n    e : 1\r\n    u : 1\r\n    w : 1\r\n    h : 1\r\n    y : 1\r\n    ? : 1","title":"Count the occurrences of a char in a string and print them in descending order","body":"<p>I need to count how many of occurrences of a char in a string and print them in descending order.\nI can count chars in <code>HashMap</code>, but can't understand how to print map in descending order by values.</p>\n<p>Something like this output:</p>\n<pre><code>String income = &quot;abbccc&quot;;\n\nOutput:\nc : 3\nb : 2\na : 1\n</code></pre>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        HashMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n        String income = &quot;how are you?&quot;;\n\n        int tmp;\n\n        for (int i = 0; i &lt; income.length(); i++) {\n            if ( map.isEmpty() || !map.containsKey(income.charAt(i)) ) {\n                map.put( income.charAt(i), 1 );\n            } else if ( map.containsKey(income.charAt(i)) ) {\n                tmp = map.get( income.charAt(i) );\n                map.replace( income.charAt(i), ++tmp);\n            }\n        }\n\n        for (Map.Entry&lt;Character, Integer&gt; mapTemp: map.entrySet()) {\n            System.out.println(mapTemp.getKey() + &quot; &quot; + &quot;:&quot; + &quot; &quot; + mapTemp.getValue());\n        }\n}\n}\n</code></pre>\n<pre><code>Output:\n  : 2\na : 1\nr : 1\ne : 1\nu : 1\nw : 1\nh : 1\ny : 1\no : 2\n? : 1\n\nExpected (needed) output:\n  : 2\no : 2\na : 1\nr : 1\ne : 1\nu : 1\nw : 1\nh : 1\ny : 1\n? : 1\n</code></pre>\n"},{"tags":["java","rest","google-chrome","jersey-2.0","server-sent-events"],"owner":{"account_id":47700,"reputation":3323,"user_id":141408,"accept_rate":68,"display_name":"Sergey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648800155,"creation_date":1485435008,"question_id":41873841,"body_markdown":"I implemented Jersey SSE broadcasting service similar to the Jersey [example][1]:\r\n\r\n    @GET\r\n    @Produces(SseFeature.SERVER_SENT_EVENTS)\r\n    public EventOutput listenToBroadcast() {\r\n        final EventOutput eventOutput = new EventOutput();\r\n        this.broadcaster.add(eventOutput);\r\n        return eventOutput;\r\n    }\r\n\r\nThe first client connects without issues, but for all additional clients it takes at least 10 seconds to connect to the service. The delay occurs before client request reaches my code. After clients finally connects it starts to receive events normally. \r\nThere is no connection delay only if there is no already connected clients during registration.\r\n\r\nThen using Java client the connection is established immediately, but Chrome for some reason takes a very long time to connect and start receiving messages.\r\n\r\nAny ideas how to solve this issue?\r\n\r\nI am using Jersey 2.24, Tomcat 8.5.9 and Java 8\r\n\r\n  [1]: https://web.archive.org/web/20161224105423/https://jersey.java.net/documentation/latest/sse.html#d0e11862","title":"Jersey SSE service takes long time to establish connection with Chrome browser as a client","body":"<p>I implemented Jersey SSE broadcasting service similar to the Jersey <a href=\"https://web.archive.org/web/20161224105423/https://jersey.java.net/documentation/latest/sse.html#d0e11862\" rel=\"nofollow noreferrer\">example</a>:</p>\n<pre><code>@GET\n@Produces(SseFeature.SERVER_SENT_EVENTS)\npublic EventOutput listenToBroadcast() {\n    final EventOutput eventOutput = new EventOutput();\n    this.broadcaster.add(eventOutput);\n    return eventOutput;\n}\n</code></pre>\n<p>The first client connects without issues, but for all additional clients it takes at least 10 seconds to connect to the service. The delay occurs before client request reaches my code. After clients finally connects it starts to receive events normally.\nThere is no connection delay only if there is no already connected clients during registration.</p>\n<p>Then using Java client the connection is established immediately, but Chrome for some reason takes a very long time to connect and start receiving messages.</p>\n<p>Any ideas how to solve this issue?</p>\n<p>I am using Jersey 2.24, Tomcat 8.5.9 and Java 8</p>\n"},{"tags":["java","json","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2998939,"reputation":2194,"user_id":2544810,"accept_rate":33,"display_name":"Senthil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648799488,"creation_date":1648796610,"answer_id":71703015,"question_id":71702470,"body_markdown":"\r\n    import java.io.StringWriter;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import com.google.gson.*;\r\n    \r\n    public class TestJson {\r\n    \tpublic static void main(String[] args) {\r\n            String jsonString = null;\r\n            try {\r\n                jsonString = &quot;[\\n&quot;\r\n                \t\t+ &quot;    {\\n&quot;\r\n                \t\t+ &quot;        \\&quot;firstString\\&quot;: \\&quot;My Account\\&quot;,\\n&quot;\r\n                \t\t+ &quot;        \\&quot;secondString\\&quot;: \\&quot;MyAccount\\&quot;,\\n&quot;\r\n                \t\t+ &quot;        \\&quot;thirdString\\&quot;: \\&quot;Menu1\\&quot;\\n&quot;\r\n                \t\t+ &quot;    },\\n&quot;\r\n                \t\t+ &quot;    {\\n&quot;\r\n                \t\t+ &quot;        \\&quot;firstString\\&quot;: \\&quot;My Cart\\&quot;,\\n&quot;\r\n                \t\t+ &quot;        \\&quot;secondString\\&quot;: \\&quot;MyFavourites\\&quot;,\\n&quot;\r\n                \t\t+ &quot;        \\&quot;thirdString\\&quot;: \\&quot;Menu1\\&quot;\\n&quot;\r\n                \t\t+ &quot;    },\\n&quot;\r\n                \t\t+ &quot;    {\\n&quot;\r\n                \t\t+ &quot;        \\&quot;firstString\\&quot;: \\&quot;My Status\\&quot;,\\n&quot;\r\n                \t\t+ &quot;        \\&quot;secondString\\&quot;: \\&quot;Status\\&quot;,\\n&quot;\r\n                \t\t+ &quot;        \\&quot;thirdString\\&quot;: \\&quot;Menu1\\&quot;\\n&quot;\r\n                \t\t+ &quot;    },\\n&quot;\r\n                \t\t+ &quot;    {\\n&quot;\r\n                \t\t+ &quot;        \\&quot;firstString\\&quot;: \\&quot;orders\\&quot;,\\n&quot;\r\n                \t\t+ &quot;        \\&quot;secondString\\&quot;: \\&quot;orders\\&quot;,\\n&quot;\r\n                \t\t+ &quot;        \\&quot;thirdString\\&quot;: \\&quot;Menu2\\&quot;\\n&quot;\r\n                \t\t+ &quot;    },\\n&quot;\r\n                \t\t+ &quot;    {\\n&quot;\r\n                \t\t+ &quot;        \\&quot;firstString\\&quot;: \\&quot;Damage Claim\\&quot;,\\n&quot;\r\n                \t\t+ &quot;        \\&quot;secondString\\&quot;: \\&quot;DamageClaim\\&quot;,\\n&quot;\r\n                \t\t+ &quot;        \\&quot;thirdString\\&quot;: \\&quot;Menu2\\&quot;\\n&quot;\r\n                \t\t+ &quot;    }\\n&quot;\r\n                \t\t+ &quot;]&quot;;\r\n                \r\n                ObjectMapper mapper = new ObjectMapper();\r\n    \r\n    \r\n                com.google.gson.JsonArray dataArray = new JsonParser().parse(jsonString).getAsJsonArray();\r\n    \r\n                HashMap&lt;String, List&lt;CommonThreeString&gt;&gt; groupByFieldMap = new HashMap&lt;String, List&lt;CommonThreeString&gt;&gt;();\r\n    \r\n                for (JsonElement element : dataArray) {\r\n                    String groupField = element.getAsJsonObject().get(&quot;thirdString&quot;).getAsString();\r\n                    String firstStr = element.getAsJsonObject().get(&quot;firstString&quot;).getAsString();\r\n                    String secondStr = element.getAsJsonObject().get(&quot;secondString&quot;).getAsString();\r\n                    String thirdStr = element.getAsJsonObject().get(&quot;thirdString&quot;).getAsString();\r\n                    if (groupByFieldMap.containsKey(groupField)) {\r\n                        groupByFieldMap.get(groupField).add(new CommonThreeString(firstStr, secondStr, thirdStr));\r\n                    } else {\r\n                        ArrayList&lt;CommonThreeString&gt; emptyList = new ArrayList&lt;CommonThreeString&gt;();\r\n                        emptyList.add(new CommonThreeString(firstStr, secondStr, thirdStr));\r\n                        groupByFieldMap.put(groupField, emptyList);\r\n                    }\r\n                }\r\n    \r\n                StringWriter result = new StringWriter();\r\n                mapper.writeValue(result, groupByFieldMap);\r\n                System.out.println(result.toString());\r\n                \r\n                \r\n            } catch (Exception e) {\r\n            \tSystem.out.println(&quot;Exception &quot;+e.getStackTrace());\r\n            }\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nRef Here : how to do it \r\n\r\nhttps://stackoverflow.com/questions/39204438/grouping-json-response-with-keys-in-java-android-studio\r\n\r\nSeems to be a duplicate ticket\r\n","title":"Grouping elements based on common element to form a json array of objects","body":"<pre><code>import java.io.StringWriter;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport com.google.gson.*;\n\npublic class TestJson {\n    public static void main(String[] args) {\n        String jsonString = null;\n        try {\n            jsonString = &quot;[\\n&quot;\n                    + &quot;    {\\n&quot;\n                    + &quot;        \\&quot;firstString\\&quot;: \\&quot;My Account\\&quot;,\\n&quot;\n                    + &quot;        \\&quot;secondString\\&quot;: \\&quot;MyAccount\\&quot;,\\n&quot;\n                    + &quot;        \\&quot;thirdString\\&quot;: \\&quot;Menu1\\&quot;\\n&quot;\n                    + &quot;    },\\n&quot;\n                    + &quot;    {\\n&quot;\n                    + &quot;        \\&quot;firstString\\&quot;: \\&quot;My Cart\\&quot;,\\n&quot;\n                    + &quot;        \\&quot;secondString\\&quot;: \\&quot;MyFavourites\\&quot;,\\n&quot;\n                    + &quot;        \\&quot;thirdString\\&quot;: \\&quot;Menu1\\&quot;\\n&quot;\n                    + &quot;    },\\n&quot;\n                    + &quot;    {\\n&quot;\n                    + &quot;        \\&quot;firstString\\&quot;: \\&quot;My Status\\&quot;,\\n&quot;\n                    + &quot;        \\&quot;secondString\\&quot;: \\&quot;Status\\&quot;,\\n&quot;\n                    + &quot;        \\&quot;thirdString\\&quot;: \\&quot;Menu1\\&quot;\\n&quot;\n                    + &quot;    },\\n&quot;\n                    + &quot;    {\\n&quot;\n                    + &quot;        \\&quot;firstString\\&quot;: \\&quot;orders\\&quot;,\\n&quot;\n                    + &quot;        \\&quot;secondString\\&quot;: \\&quot;orders\\&quot;,\\n&quot;\n                    + &quot;        \\&quot;thirdString\\&quot;: \\&quot;Menu2\\&quot;\\n&quot;\n                    + &quot;    },\\n&quot;\n                    + &quot;    {\\n&quot;\n                    + &quot;        \\&quot;firstString\\&quot;: \\&quot;Damage Claim\\&quot;,\\n&quot;\n                    + &quot;        \\&quot;secondString\\&quot;: \\&quot;DamageClaim\\&quot;,\\n&quot;\n                    + &quot;        \\&quot;thirdString\\&quot;: \\&quot;Menu2\\&quot;\\n&quot;\n                    + &quot;    }\\n&quot;\n                    + &quot;]&quot;;\n            \n            ObjectMapper mapper = new ObjectMapper();\n\n\n            com.google.gson.JsonArray dataArray = new JsonParser().parse(jsonString).getAsJsonArray();\n\n            HashMap&lt;String, List&lt;CommonThreeString&gt;&gt; groupByFieldMap = new HashMap&lt;String, List&lt;CommonThreeString&gt;&gt;();\n\n            for (JsonElement element : dataArray) {\n                String groupField = element.getAsJsonObject().get(&quot;thirdString&quot;).getAsString();\n                String firstStr = element.getAsJsonObject().get(&quot;firstString&quot;).getAsString();\n                String secondStr = element.getAsJsonObject().get(&quot;secondString&quot;).getAsString();\n                String thirdStr = element.getAsJsonObject().get(&quot;thirdString&quot;).getAsString();\n                if (groupByFieldMap.containsKey(groupField)) {\n                    groupByFieldMap.get(groupField).add(new CommonThreeString(firstStr, secondStr, thirdStr));\n                } else {\n                    ArrayList&lt;CommonThreeString&gt; emptyList = new ArrayList&lt;CommonThreeString&gt;();\n                    emptyList.add(new CommonThreeString(firstStr, secondStr, thirdStr));\n                    groupByFieldMap.put(groupField, emptyList);\n                }\n            }\n\n            StringWriter result = new StringWriter();\n            mapper.writeValue(result, groupByFieldMap);\n            System.out.println(result.toString());\n            \n            \n        } catch (Exception e) {\n            System.out.println(&quot;Exception &quot;+e.getStackTrace());\n        }\n\n    }\n\n}\n</code></pre>\n<p>Ref Here : how to do it</p>\n<p><a href=\"https://stackoverflow.com/questions/39204438/grouping-json-response-with-keys-in-java-android-studio\">Grouping Json response with keys in java - android studio</a></p>\n<p>Seems to be a duplicate ticket</p>\n"}],"owner":{"account_id":24745891,"reputation":1,"user_id":18632072,"display_name":"uzmaki naruto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648799488,"creation_date":1648793413,"question_id":71702470,"body_markdown":"im getting my data as whole json,but i expect it to be grouped based on a common element among the result itself\r\n\r\n**Data from query**\r\n\r\n| firststring | secondstring | thirdstring |\r\n| --- | --- | --- |\r\n| My Account | MyAccount | Menu1 |\r\n| My Cart | MyFavourites | Menu1 |\r\n| My Status | Status | Menu1 |\r\n| Orders | orders | Menu2 |\r\n| Damage Claim | DamageClaim | Menu2 |\r\n\r\n**my bean class**\r\n\r\n```\r\n    public class CommonThreeString implements Serializable{\r\n\r\n    \tprivate String firstString;\r\n    \tprivate String secondString;\r\n    \tprivate String thirdString;\r\n    \t\r\n    \tpublic String getFirstString() {\r\n    \t\treturn firstString;\r\n    \t}\r\n    \tpublic void setFirstString(String firstString) {\r\n    \t\tthis.firstString = firstString;\r\n    \t}\r\n    \tpublic String getSecondString() {\r\n    \t\treturn secondString;\r\n    \t}\r\n    \tpublic void setSecondString(String secondString) {\r\n    \t\tthis.secondString = secondString;\r\n    \t}\r\n    \tpublic String getThirdString() {\r\n    \t\treturn thirdString;\r\n    \t}\r\n    \tpublic void setThirdString(String thirdString) {\r\n    \t\tthis.thirdString = thirdString;\r\n    \t}\r\n    }\r\n```\r\n\r\n**My controller**\r\n\r\n```\r\n    \t@PostMapping(&quot;getMenuList&quot;)\r\n\tpublic String getMenuList() throws ServiceException {\r\n\t\tObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n\t\tString json = null;\r\n\t\ttry {\r\n\t\t\tjson = ow.writeValueAsString(iService.getMenuList());\r\n\t\t} catch (JsonProcessingException e) {\r\n\t\t}\r\n\r\n\t\treturn json;\r\n\t}\r\n```\r\n\r\n**service implementation**\r\n\r\n```\r\n    \tpublic List&lt;CommonThreeString&gt; getMenuList() throws ServiceException {\r\n\t\r\n\t\tList&lt;CommonTwoLongThreeString&gt; menuList = null;\r\n\t\ttry {\r\n\t\t\tmenuList =  Impl.getMenuListByPortalId(Long.valueOf(&quot;input&quot;));\r\n            //query works done here//\r\n\t\t} catch (ServiceException e) {\r\n\t\t}\r\n\t\treturn menuList;\r\n\t}\r\n```\r\n\r\nhere im getting output as\r\n\r\n```\r\n [   \r\n      {\r\n        &quot;firstString&quot;: &quot;My Account&quot;,\r\n        &quot;secondString&quot;: &quot;MyAccount&quot;,\r\n        &quot;thirdString&quot;: &quot;Menu1&quot;\r\n      },\r\n      {\r\n        &quot;firstString&quot;: &quot;My Cart&quot;,\r\n        &quot;secondString&quot;: &quot;MyFavourites&quot;,\r\n        &quot;thirdString&quot;: &quot;Menu1&quot;\r\n      },\r\n      {\r\n        &quot;firstString&quot;: &quot;My Status&quot;,\r\n        &quot;secondString&quot;: &quot;Status&quot;,\r\n        &quot;thirdString&quot;: &quot;Menu1&quot;\r\n      },\r\n      {\r\n        &quot;firstString&quot;: &quot;orders&quot;,\r\n        &quot;secondString&quot;: &quot;orders&quot;,\r\n        &quot;thirdString&quot;: &quot;Menu2&quot;\r\n      },\r\n      {\r\n        &quot;firstString&quot;: &quot;Damage Claim&quot;,\r\n        &quot;secondString&quot;: &quot;DamageClaim&quot;,\r\n        &quot;thirdString&quot;: &quot;Menu2&quot;\r\n      }\r\n    ]\r\n```\r\n\r\nThe output im expecting\r\n\r\n```\r\n\tMenu1\r\n\t[   \r\n      {\r\n        &quot;firstString&quot;: &quot;My Account&quot;,\r\n        &quot;secondString&quot;: &quot;MyAccount&quot;,\r\n        --&quot;thirdString&quot;: &quot;Menu1&quot;\r\n      },\r\n      {\r\n        &quot;firstString&quot;: &quot;My Cart&quot;,\r\n        &quot;secondString&quot;: &quot;MyFavourites&quot;,\r\n        --&quot;thirdString&quot;: &quot;Menu1&quot;\r\n      },\r\n      {\r\n        &quot;firstString&quot;: &quot;My Status&quot;,\r\n        &quot;secondString&quot;: &quot;Status&quot;,\r\n        --&quot;thirdString&quot;: &quot;Menu1&quot;\r\n      }\r\n\t  ]\r\n\t  Menu2\r\n\t  [\r\n      {\r\n        &quot;firstString&quot;: &quot;orders&quot;,\r\n        &quot;secondString&quot;: &quot;orders&quot;,\r\n        --&quot;thirdString&quot;: &quot;Menu2&quot;\r\n      },\r\n      {\r\n        &quot;firstString&quot;: &quot;Damage Claim&quot;,\r\n        &quot;secondString&quot;: &quot;DamageClaim&quot;,\r\n        --&quot;thirdString&quot;: &quot;Menu2&quot;\r\n      }\r\n    ]\r\n```\r\n\r\nthe third String need to be the grouping factor\r\n\r\nim want to group properly like the above thanks in advance","title":"Grouping elements based on common element to form a json array of objects","body":"<p>im getting my data as whole json,but i expect it to be grouped based on a common element among the result itself</p>\n<p><strong>Data from query</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>firststring</th>\n<th>secondstring</th>\n<th>thirdstring</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>My Account</td>\n<td>MyAccount</td>\n<td>Menu1</td>\n</tr>\n<tr>\n<td>My Cart</td>\n<td>MyFavourites</td>\n<td>Menu1</td>\n</tr>\n<tr>\n<td>My Status</td>\n<td>Status</td>\n<td>Menu1</td>\n</tr>\n<tr>\n<td>Orders</td>\n<td>orders</td>\n<td>Menu2</td>\n</tr>\n<tr>\n<td>Damage Claim</td>\n<td>DamageClaim</td>\n<td>Menu2</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>my bean class</strong></p>\n<pre><code>    public class CommonThreeString implements Serializable{\n\n        private String firstString;\n        private String secondString;\n        private String thirdString;\n        \n        public String getFirstString() {\n            return firstString;\n        }\n        public void setFirstString(String firstString) {\n            this.firstString = firstString;\n        }\n        public String getSecondString() {\n            return secondString;\n        }\n        public void setSecondString(String secondString) {\n            this.secondString = secondString;\n        }\n        public String getThirdString() {\n            return thirdString;\n        }\n        public void setThirdString(String thirdString) {\n            this.thirdString = thirdString;\n        }\n    }\n</code></pre>\n<p><strong>My controller</strong></p>\n<pre><code>        @PostMapping(&quot;getMenuList&quot;)\n    public String getMenuList() throws ServiceException {\n        ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n        String json = null;\n        try {\n            json = ow.writeValueAsString(iService.getMenuList());\n        } catch (JsonProcessingException e) {\n        }\n\n        return json;\n    }\n</code></pre>\n<p><strong>service implementation</strong></p>\n<pre><code>        public List&lt;CommonThreeString&gt; getMenuList() throws ServiceException {\n    \n        List&lt;CommonTwoLongThreeString&gt; menuList = null;\n        try {\n            menuList =  Impl.getMenuListByPortalId(Long.valueOf(&quot;input&quot;));\n            //query works done here//\n        } catch (ServiceException e) {\n        }\n        return menuList;\n    }\n</code></pre>\n<p>here im getting output as</p>\n<pre><code> [   \n      {\n        &quot;firstString&quot;: &quot;My Account&quot;,\n        &quot;secondString&quot;: &quot;MyAccount&quot;,\n        &quot;thirdString&quot;: &quot;Menu1&quot;\n      },\n      {\n        &quot;firstString&quot;: &quot;My Cart&quot;,\n        &quot;secondString&quot;: &quot;MyFavourites&quot;,\n        &quot;thirdString&quot;: &quot;Menu1&quot;\n      },\n      {\n        &quot;firstString&quot;: &quot;My Status&quot;,\n        &quot;secondString&quot;: &quot;Status&quot;,\n        &quot;thirdString&quot;: &quot;Menu1&quot;\n      },\n      {\n        &quot;firstString&quot;: &quot;orders&quot;,\n        &quot;secondString&quot;: &quot;orders&quot;,\n        &quot;thirdString&quot;: &quot;Menu2&quot;\n      },\n      {\n        &quot;firstString&quot;: &quot;Damage Claim&quot;,\n        &quot;secondString&quot;: &quot;DamageClaim&quot;,\n        &quot;thirdString&quot;: &quot;Menu2&quot;\n      }\n    ]\n</code></pre>\n<p>The output im expecting</p>\n<pre><code>    Menu1\n    [   \n      {\n        &quot;firstString&quot;: &quot;My Account&quot;,\n        &quot;secondString&quot;: &quot;MyAccount&quot;,\n        --&quot;thirdString&quot;: &quot;Menu1&quot;\n      },\n      {\n        &quot;firstString&quot;: &quot;My Cart&quot;,\n        &quot;secondString&quot;: &quot;MyFavourites&quot;,\n        --&quot;thirdString&quot;: &quot;Menu1&quot;\n      },\n      {\n        &quot;firstString&quot;: &quot;My Status&quot;,\n        &quot;secondString&quot;: &quot;Status&quot;,\n        --&quot;thirdString&quot;: &quot;Menu1&quot;\n      }\n      ]\n      Menu2\n      [\n      {\n        &quot;firstString&quot;: &quot;orders&quot;,\n        &quot;secondString&quot;: &quot;orders&quot;,\n        --&quot;thirdString&quot;: &quot;Menu2&quot;\n      },\n      {\n        &quot;firstString&quot;: &quot;Damage Claim&quot;,\n        &quot;secondString&quot;: &quot;DamageClaim&quot;,\n        --&quot;thirdString&quot;: &quot;Menu2&quot;\n      }\n    ]\n</code></pre>\n<p>the third String need to be the grouping factor</p>\n<p>im want to group properly like the above thanks in advance</p>\n"},{"tags":["java","c++","python","linux"],"answers":[{"tags":[],"owner":{"account_id":10930,"reputation":781791,"user_id":20862,"accept_rate":50,"display_name":"Ignacio Vazquez-Abrams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1306926230,"creation_date":1306926230,"answer_id":6200117,"question_id":6200076,"body_markdown":"For C++, certainly. Either &lt;a href=&quot;http://docs.python.org/extending/index.html&quot;&gt;write a module&lt;/a&gt; that wraps the library, or use something like ctypes or SWIG.\r\n\r\nFor Java, you&#39;d be best to move to Jython (and correspondingly use django-jython).\r\n\r\nNote that using both C++ *and* Java from Python is *not* trivial.","title":"Can i access c++ or Java functions inside python","body":"<p>For C++, certainly. Either <a href=\"http://docs.python.org/extending/index.html\" rel=\"nofollow\">write a module</a> that wraps the library, or use something like ctypes or SWIG.</p>\n\n<p>For Java, you'd be best to move to Jython (and correspondingly use django-jython).</p>\n\n<p>Note that using both C++ <em>and</em> Java from Python is <em>not</em> trivial.</p>\n"},{"tags":[],"owner":{"account_id":313582,"reputation":45,"user_id":628302,"display_name":"Łukasz Klich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434030953,"creation_date":1306927172,"answer_id":6200304,"question_id":6200076,"body_markdown":"You could check the [http://www.scipy.org/Weave][1] weave package for C/C++. I didn&#39;t use it myself, but I know it exists\r\n\r\n\r\n  [1]: http://www.scipy.org/Weave &quot;weave&quot;","title":"Can i access c++ or Java functions inside python","body":"<p>You could check the <a href=\"http://www.scipy.org/Weave\" rel=\"nofollow\" title=\"weave\">http://www.scipy.org/Weave</a> weave package for C/C++. I didn't use it myself, but I know it exists</p>\n"},{"tags":[],"owner":{"account_id":113346,"reputation":6423,"user_id":298555,"accept_rate":85,"display_name":"Steve Walsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309969628,"creation_date":1309969628,"answer_id":6599820,"question_id":6200076,"body_markdown":"I&#39;ve used [Boost.Python][1] to some degree of success for accessing C++ libraries within Python/Django. \r\n\r\n\r\n  [1]: http://www.boost.org/doc/libs/1_46_1/libs/python/doc/tutorial/doc/html/index.html","title":"Can i access c++ or Java functions inside python","body":"<p>I've used <a href=\"http://www.boost.org/doc/libs/1_46_1/libs/python/doc/tutorial/doc/html/index.html\" rel=\"nofollow\">Boost.Python</a> to some degree of success for accessing C++ libraries within Python/Django. </p>\n"}],"owner":{"account_id":406699,"reputation":33,"user_id":776358,"display_name":"user776358"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648801264,"accepted_answer_id":6200117,"answer_count":3,"score":0,"last_activity_date":1648799179,"creation_date":1306925992,"question_id":6200076,"body_markdown":"I am mainly using python for extensive algorithms operations. Now i have my webiste in Django.\r\n\r\nI few libraries in c++ and few in Java which i don&#39;t have in python. Or you can say that i already have some c++ , Java files in which some algorithm is coded.\r\n\r\ncan i call those function or do some calculation in my djnago sites using those c++ or java files","title":"Can i access c++ or Java functions inside python","body":"<p>I am mainly using python for extensive algorithms operations. Now i have my webiste in Django.</p>\n\n<p>I few libraries in c++ and few in Java which i don't have in python. Or you can say that i already have some c++ , Java files in which some algorithm is coded.</p>\n\n<p>can i call those function or do some calculation in my djnago sites using those c++ or java files</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1648751092,"post_id":71697329,"comment_id":126710667,"body_markdown":"You actually have three questions here.","body":"You actually have three questions here."}],"answers":[{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648751062,"creation_date":1648751062,"answer_id":71697452,"question_id":71697329,"body_markdown":"You can get number of threads by calling static method of forkjoin pool.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#getCommonPoolParallelism--\r\n\r\nThere are other size methods as well.\r\nif you create your own pool you can also call instance method `getParallelism`.\r\n\r\nYou can also monitor forkjoinpool by getting steal count. https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#getStealCount--\r\n\r\n\r\n","title":"ForkJoinPool commonPool() in java","body":"<p>You can get number of threads by calling static method of forkjoin pool.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#getCommonPoolParallelism--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#getCommonPoolParallelism--</a></p>\n<p>There are other size methods as well.\nif you create your own pool you can also call instance method <code>getParallelism</code>.</p>\n<p>You can also monitor forkjoinpool by getting steal count. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#getStealCount--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#getStealCount--</a></p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648798361,"creation_date":1648753758,"answer_id":71697912,"question_id":71697329,"body_markdown":"1. If you want to know the number of threads that are currently running within the pool you need to invoke the &lt;i&gt;&lt;b&gt;getRunningThread()&lt;/b&gt;&lt;/i&gt; method. This method returns only an &lt;b&gt;estimation&lt;/b&gt; of the number of threads that are currently running, which implies all the threads that are not waiting in a join call or in variants of this type of invocation.\r\n\r\n2. The level of parallelism does not correspond to the number of threads created within a pool. This value is initially used to define the &lt;i&gt;&lt;b&gt;core pool size&lt;/b&gt;&lt;/i&gt; which determines how many workers can stay alive at the same time. The &lt;i&gt;&lt;b&gt;pool size&lt;/b&gt;&lt;/i&gt; instead corresponds to the number of existing workers that are either running a task or simply in idle. However, even though the parallelism level stays the same throughout the whole forkJoinPool&#39;s existence, the &lt;i&gt;&lt;b&gt;pool size&lt;/b&gt;&lt;/i&gt; value is adjusted according to its workload. In fact, if the pool continues to receive further requests, then its &lt;i&gt;&lt;b&gt;pool size&lt;/b&gt;&lt;/i&gt; is incremented up to a &lt;i&gt;&lt;b&gt;Maximum Pool Size&lt;/b&gt;&lt;/i&gt; value. Instead, if the pool does not receive any further requests for a certain period of time called &lt;i&gt;&lt;b&gt;Keep Alive Time&lt;/b&gt;&lt;/i&gt; then the workers are terminated until their number reaches the &lt;i&gt;&lt;b&gt;core pool size&lt;/b&gt;&lt;/i&gt; once again.\r\n\r\n3. By default, the level of parallelism is equal to the number of physical processors to ensure sort of an actual parallelism. However, this value can be set up manually via some of the ForkJoinPool&#39;s constructors and it cannot be changed once an instance has been produced. Furthermore, according to the documentation, the level of parallelism cannot exceed the value 32767.\r\n\r\nBy the way, I highly suggest you to give a look to the documentation of the [ThreadPoolExecutor][1] and [ForkJoinPool][2] classes. They&#39;re really well written and with in-depth clarifications of the many aspects that characterize them.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html","title":"ForkJoinPool commonPool() in java","body":"<ol>\n<li><p>If you want to know the number of threads that are currently running within the pool you need to invoke the <i><b>getRunningThread()</b></i> method. This method returns only an <b>estimation</b> of the number of threads that are currently running, which implies all the threads that are not waiting in a join call or in variants of this type of invocation.</p>\n</li>\n<li><p>The level of parallelism does not correspond to the number of threads created within a pool. This value is initially used to define the <i><b>core pool size</b></i> which determines how many workers can stay alive at the same time. The <i><b>pool size</b></i> instead corresponds to the number of existing workers that are either running a task or simply in idle. However, even though the parallelism level stays the same throughout the whole forkJoinPool's existence, the <i><b>pool size</b></i> value is adjusted according to its workload. In fact, if the pool continues to receive further requests, then its <i><b>pool size</b></i> is incremented up to a <i><b>Maximum Pool Size</b></i> value. Instead, if the pool does not receive any further requests for a certain period of time called <i><b>Keep Alive Time</b></i> then the workers are terminated until their number reaches the <i><b>core pool size</b></i> once again.</p>\n</li>\n<li><p>By default, the level of parallelism is equal to the number of physical processors to ensure sort of an actual parallelism. However, this value can be set up manually via some of the ForkJoinPool's constructors and it cannot be changed once an instance has been produced. Furthermore, according to the documentation, the level of parallelism cannot exceed the value 32767.</p>\n</li>\n</ol>\n<p>By the way, I highly suggest you to give a look to the documentation of the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ThreadPoolExecutor</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow noreferrer\">ForkJoinPool</a> classes. They're really well written and with in-depth clarifications of the many aspects that characterize them.</p>\n"}],"owner":{"account_id":22949161,"reputation":13,"user_id":17080706,"display_name":"Beedle"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1648760363,"accepted_answer_id":71697912,"answer_count":2,"score":-1,"last_activity_date":1648798361,"creation_date":1648750317,"question_id":71697329,"body_markdown":"How do I check the number of threads created by &quot;ForkJoinPool commonPool = ForkJoinPool.commonPool();&quot; in java? Is the degree of parallelism the same as number of threads created by the commonpool()? How do we create threads greater than the number of core cpu?\r\n","title":"ForkJoinPool commonPool() in java","body":"<p>How do I check the number of threads created by &quot;ForkJoinPool commonPool = ForkJoinPool.commonPool();&quot; in java? Is the degree of parallelism the same as number of threads created by the commonpool()? How do we create threads greater than the number of core cpu?</p>\n"},{"tags":["java","spring","spring-boot","log4j2","sentry"],"answers":[{"tags":[],"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648798137,"creation_date":1648798137,"answer_id":71703276,"question_id":71698995,"body_markdown":"In Log4j2 integration, properties other than &quot;dsn&quot; can be configured either using:\r\n- environment variable: &quot;SENTRY_ENVIRONMENT=qa&quot;\r\n- system property &quot;sentry.environment=qa&quot;\r\n- `sentry.properties` file with content: `environment=qa`\r\n\r\nRead more in docs: https://docs.sentry.io/platforms/java/configuration/","title":"Sentry log4j2 appender cannot add environment","body":"<p>In Log4j2 integration, properties other than &quot;dsn&quot; can be configured either using:</p>\n<ul>\n<li>environment variable: &quot;SENTRY_ENVIRONMENT=qa&quot;</li>\n<li>system property &quot;sentry.environment=qa&quot;</li>\n<li><code>sentry.properties</code> file with content: <code>environment=qa</code></li>\n</ul>\n<p>Read more in docs: <a href=\"https://docs.sentry.io/platforms/java/configuration/\" rel=\"nofollow noreferrer\">https://docs.sentry.io/platforms/java/configuration/</a></p>\n"}],"owner":{"account_id":9255465,"reputation":722,"user_id":6874531,"display_name":"Chamod Pathirana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71703276,"answer_count":1,"score":0,"last_activity_date":1648798137,"creation_date":1648759829,"question_id":71698995,"body_markdown":"I am using the Sentry log4j appender(version: 5.7.1) to send logged exceptions to Sentry. bellow is the log4j2.xml configuration.\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;warn&quot; packages=&quot;org.apache.logging.log4j.core,io.sentry.log4j2&quot;&gt;\r\n      &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n          &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n        &lt;Sentry name=&quot;Sentry&quot;\r\n                dsn=&quot;https://dsn&quot; /&gt;\r\n      &lt;/Appenders&gt;\r\n      &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Sentry&quot;/&gt;\r\n          &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n      &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nNow I need to add a specific environment in order to differentiate records based on the QA and Production environment. when I add   **environment=&quot;qa&quot;**, it gives following error. \r\n\r\n    ERROR Sentry contains an invalid element or attribute &quot;environment&quot;","title":"Sentry log4j2 appender cannot add environment","body":"<p>I am using the Sentry log4j appender(version: 5.7.1) to send logged exceptions to Sentry. bellow is the log4j2.xml configuration.</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;warn&quot; packages=&quot;org.apache.logging.log4j.core,io.sentry.log4j2&quot;&gt;\n  &lt;Appenders&gt;\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n      &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n    &lt;/Console&gt;\n    &lt;Sentry name=&quot;Sentry&quot;\n            dsn=&quot;https://dsn&quot; /&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;info&quot;&gt;\n      &lt;AppenderRef ref=&quot;Sentry&quot;/&gt;\n      &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Now I need to add a specific environment in order to differentiate records based on the QA and Production environment. when I add   <strong>environment=&quot;qa&quot;</strong>, it gives following error.</p>\n<pre><code>ERROR Sentry contains an invalid element or attribute &quot;environment&quot;\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8524,"page":1468,"page_size":100}
