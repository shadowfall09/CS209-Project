{"items":[{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1662446115,"post_id":73617624,"comment_id":130000414,"body_markdown":"remove `relativePath` tag and then run `mvn clean install`","body":"remove <code>relativePath</code> tag and then run <code>mvn clean install</code>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1662449400,"post_id":73617624,"comment_id":130001454,"body_markdown":"The first thing is: `transfer failed for`. and the second `Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be` it would really suggest to upgrade to the most recent JDK 8 version because that old version seemed to be missing some encryptions parts...apart from being insecure...using such an old version...","body":"The first thing is: <code>transfer failed for</code>. and the second <code>Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be</code> it would really suggest to upgrade to the most recent JDK 8 version because that old version seemed to be missing some encryptions parts...apart from being insecure...using such an old version..."},{"owner":{"account_id":21596581,"reputation":121,"user_id":15925446,"display_name":"Sajith dilshan"},"score":0,"creation_date":1662462364,"post_id":73617624,"comment_id":130005839,"body_markdown":"I change my java version to oracle java8 after that It solved","body":"I change my java version to oracle java8 after that It solved"}],"answers":[{"tags":[],"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662448484,"creation_date":1662448484,"answer_id":73618073,"question_id":73617624,"body_markdown":"can you test this pom instead, with **mvn clean -U** and then **mvn package**?\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**Note:** If you are using STS/Eclipse then you might require **Right click pom -&gt; Maven -&gt; Update Project**","title":"Some problems were encountered while processing the POMs:","body":"<p>can you test this pom instead, with <strong>mvn clean -U</strong> and then <strong>mvn package</strong>?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Note:</strong> If you are using STS/Eclipse then you might require <strong>Right click pom -&gt; Maven -&gt; Update Project</strong></p>\n"}],"owner":{"account_id":21596581,"reputation":121,"user_id":15925446,"display_name":"Sajith dilshan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6073,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662448484,"creation_date":1662445966,"question_id":73617624,"body_markdown":"I was created and try to build project using `mvn clean install` but It is not working. not this project I try to build my all project to build but not working in my ubuntu laptop\r\n\r\n    \r\n\r\n&gt; [INFO] Scanning for projects...\r\nDownloading from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom\r\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n[FATAL] Non-resolvable parent POM for com.example:demo:0.0.1-SNAPSHOT: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.11 from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom and &#39;parent.relativePath&#39; points at no local POM @ line 5, column 10\r\n @ \r\n[ERROR] The build could not read 1 project -&gt; [Help 1]\r\n[ERROR]   \r\n[ERROR]   The project com.example:demo:0.0.1-SNAPSHOT (/home/sajith/Downloads/demo/pom.xml) has 1 error\r\n[ERROR]     Non-resolvable parent POM for com.example:demo:0.0.1-SNAPSHOT: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.11 from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom and &#39;parent.relativePath&#39; points at no local POM @ line 5, column 10: java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty -&gt; [Help 2]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\r\n\r\n\r\nmy pom.xml:\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.11&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nmy java and mvn version:\r\n\r\nopenjdk version &quot;1.8.0_42&quot;\r\nApache Maven 3.8.6\r\n","title":"Some problems were encountered while processing the POMs:","body":"<p>I was created and try to build project using <code>mvn clean install</code> but It is not working. not this project I try to build my all project to build but not working in my ubuntu laptop</p>\n<blockquote>\n<p>[INFO] Scanning for projects...\nDownloading from central: <a href=\"https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom</a>\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[FATAL] Non-resolvable parent POM for com.example:demo:0.0.1-SNAPSHOT: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.11 from/to central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>): transfer failed for <a href=\"https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom</a> and 'parent.relativePath' points at no local POM @ line 5, column 10\n@\n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]<br />\n[ERROR]   The project com.example:demo:0.0.1-SNAPSHOT (/home/sajith/Downloads/demo/pom.xml) has 1 error\n[ERROR]     Non-resolvable parent POM for com.example:demo:0.0.1-SNAPSHOT: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.11 from/to central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>): transfer failed for <a href=\"https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom</a> and 'parent.relativePath' points at no local POM @ line 5, column 10: java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty -&gt; [Help 2]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException</a>\n[ERROR] [Help 2] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException</a></p>\n</blockquote>\n<p>my pom.xml:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.11&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>my java and mvn version:</p>\n<p>openjdk version &quot;1.8.0_42&quot;\nApache Maven 3.8.6</p>\n"},{"tags":["java","mysql","spring","spring-boot"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1662446673,"post_id":73617340,"comment_id":130000579,"body_markdown":"I would provide a method to delete multiple transactions based on id or whatever your input contains. Just use a where-condition that accepts a list of elements - of just delete all transactions for that user if that meets your requirements.","body":"I would provide a method to delete multiple transactions based on id or whatever your input contains. Just use a where-condition that accepts a list of elements - of just delete all transactions for that user if that meets your requirements."},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1662447573,"post_id":73617340,"comment_id":130000846,"body_markdown":"@Thomas Thanks for comment. I have written a logic for serviceImpl, can you please check it correct way to do or not. Then I have written query in Repository, but getting error, what would be the correct way to write repo.","body":"@Thomas Thanks for comment. I have written a logic for serviceImpl, can you please check it correct way to do or not. Then I have written query in Repository, but getting error, what would be the correct way to write repo."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1662447936,"post_id":73617340,"comment_id":130000961,"body_markdown":"Well. it&#39;s certainly one way to do it. I&#39;d probably use a different approach but let&#39;s not get sidetracked here - if it works for you that&#39;s fine. No speaking of &quot;if it works&quot;: if you&#39;re getting an error you&#39;ve made a mistake. That&#39;s it. Since I lack details, e.g. the error you get, your data model etc., I can&#39;t say more than this.","body":"Well. it&#39;s certainly one way to do it. I&#39;d probably use a different approach but let&#39;s not get sidetracked here - if it works for you that&#39;s fine. No speaking of &quot;if it works&quot;: if you&#39;re getting an error you&#39;ve made a mistake. That&#39;s it. Since I lack details, e.g. the error you get, your data model etc., I can&#39;t say more than this."},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1662448189,"post_id":73617340,"comment_id":130001053,"body_markdown":"@Thomas yes, I don&#39;t have a data model for `trans_user ` table since I am using intermediate table as `many to many relationship`. Can you please help me with different approach. and do I need to create another data model(as what i get in tutorial is no). or different repo.","body":"@Thomas yes, I don&#39;t have a data model for <code>trans_user </code> table since I am using intermediate table as <code>many to many relationship</code>. Can you please help me with different approach. and do I need to create another data model(as what i get in tutorial is no). or different repo."},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1662448296,"post_id":73617340,"comment_id":130001085,"body_markdown":"@Thomas Updated error in Question.","body":"@Thomas Updated error in Question."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1662449362,"post_id":73617340,"comment_id":130001440,"body_markdown":"&quot;Cannot resolve method &#39;removeUser&#39; in &#39;TransRepository&quot; - that looks like an error in your build or a problem with visibility. If your IDE already complains then it&#39;s probably the latter (probably missing the `public` or `protected` modifier - depending on your code structure). If it&#39;s the former then make sure your build updates all your code. If the error persists then there&#39;s probably some other error or warning being logged before that - this might hint at the cause.","body":"&quot;Cannot resolve method &#39;removeUser&#39; in &#39;TransRepository&quot; - that looks like an error in your build or a problem with visibility. If your IDE already complains then it&#39;s probably the latter (probably missing the <code>public</code> or <code>protected</code> modifier - depending on your code structure). If it&#39;s the former then make sure your build updates all your code. If the error persists then there&#39;s probably some other error or warning being logged before that - this might hint at the cause."}],"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662448085,"creation_date":1662444050,"question_id":73617340,"body_markdown":"\r\n\r\n\r\nHow to do batch delete from the sql table in spring boot. \r\n\r\n\r\nI have many to many relationship intermediate table. I want to remove few data based on the similar request payload. \r\n\r\n\r\n    {\r\n    \tuser : “SomUser”,\r\n    \ttransaction : [“A”,”B”]\r\n    }\r\n\r\nNow here is my controller and here I am able to get the request payload from the request and I am getting input and passing to service.\r\n\r\n    @PostMapping(“/remove”)\r\n    public EntityModel&lt;TrasnDTO&gt; removeByUserId(\r\n            @RequestBody TrasnDTO input\r\n    ) throws IOException {\r\n    \r\n        TrasnDTO someVar = transeService. deleteTransByUser(input);\r\n    \r\n        return  null; // will write once it complete\r\n        \r\n    }\r\n\r\n\r\nHere is my Service Interface \r\n\r\n    TrasnDTO deleteTransByUser(TrasnDTO input);\r\n\r\n\r\nImplementation :\r\n\r\n   \r\n\r\n     @Override\r\n        \r\n        public TrasnDTO deleteTransByUser(TrasnDTO input){\r\n           for(int counter=0; counter&lt;input.getTrans().size(); counter++){\r\n           UUID transVal = input.getTrans().get(counter);\r\n           transRepository.removeUser(input.getUserId(), transVal);\r\n         }\r\n            return null;\r\n        }\r\n\r\nIn My TransRepo : \r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;delete from trans_user where user_id = :user_id and trans_id = :trans_id)\r\n    void removeUser(UUID user_id, UUID trans_id);\r\n\r\nMy question is how should I write in impl method to go to repository and delete that. I am using Java 11. \r\n\r\nI am getting error as I don&#39;t have specific repo for trans_user\r\n\r\nError : Cannot resolve method &#39;removeUser&#39; in &#39;TransRepository","title":"How to do batch delete from the sql table in spring boot. Service Implementation","body":"<p>How to do batch delete from the sql table in spring boot.</p>\n<p>I have many to many relationship intermediate table. I want to remove few data based on the similar request payload.</p>\n<pre><code>{\n    user : “SomUser”,\n    transaction : [“A”,”B”]\n}\n</code></pre>\n<p>Now here is my controller and here I am able to get the request payload from the request and I am getting input and passing to service.</p>\n<pre><code>@PostMapping(“/remove”)\npublic EntityModel&lt;TrasnDTO&gt; removeByUserId(\n        @RequestBody TrasnDTO input\n) throws IOException {\n\n    TrasnDTO someVar = transeService. deleteTransByUser(input);\n\n    return  null; // will write once it complete\n    \n}\n</code></pre>\n<p>Here is my Service Interface</p>\n<pre><code>TrasnDTO deleteTransByUser(TrasnDTO input);\n</code></pre>\n<p>Implementation :</p>\n<pre><code> @Override\n    \n    public TrasnDTO deleteTransByUser(TrasnDTO input){\n       for(int counter=0; counter&lt;input.getTrans().size(); counter++){\n       UUID transVal = input.getTrans().get(counter);\n       transRepository.removeUser(input.getUserId(), transVal);\n     }\n        return null;\n    }\n</code></pre>\n<p>In My TransRepo :</p>\n<pre><code>@Modifying\n@Transactional\n@Query(&quot;delete from trans_user where user_id = :user_id and trans_id = :trans_id)\nvoid removeUser(UUID user_id, UUID trans_id);\n</code></pre>\n<p>My question is how should I write in impl method to go to repository and delete that. I am using Java 11.</p>\n<p>I am getting error as I don't have specific repo for trans_user</p>\n<p>Error : Cannot resolve method 'removeUser' in 'TransRepository</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1662387877,"post_id":73610796,"comment_id":129988849,"body_markdown":"1) Spring figures it out as long as you don&#39;t have circular dependencies. 2) Order in MyConfig doesn&#39;t mater. 3) How do you know about the destroy issue? Any log to look at? 4) Don&#39;t annotate with `@Component` AND create `@Beans` in `@Configuration`. This is just doubling up ;)","body":"1) Spring figures it out as long as you don&#39;t have circular dependencies. 2) Order in MyConfig doesn&#39;t mater. 3) How do you know about the destroy issue? Any log to look at? 4) Don&#39;t annotate with <code>@Component</code> AND create <code>@Beans</code> in <code>@Configuration</code>. This is just doubling up ;)"},{"owner":{"account_id":13010918,"reputation":452,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1662388216,"post_id":73610796,"comment_id":129988973,"body_markdown":"I think you could have two problems with this, first one, as other say, you mustn&#39;t have circular dependencies, and the second problem its, you can&#39;t control the way to destroy or create a bean if not a Singleton, if you want create and destroy in a specific order use the annotation of DependsOn https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-dependson","body":"I think you could have two problems with this, first one, as other say, you mustn&#39;t have circular dependencies, and the second problem its, you can&#39;t control the way to destroy or create a bean if not a Singleton, if you want create and destroy in a specific order use the annotation of DependsOn <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-dependson\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1662388483,"post_id":73610796,"comment_id":129989080,"body_markdown":"I think the default scope is singleton right? and above code does not have a circular dependency","body":"I think the default scope is singleton right? and above code does not have a circular dependency"},{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1662389710,"post_id":73610796,"comment_id":129989541,"body_markdown":"Mainly I want to know if this equivalent to using constructor injection/ setter injection","body":"Mainly I want to know if this equivalent to using constructor injection/ setter injection"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662447058,"post_id":73610796,"comment_id":130000676,"body_markdown":"There is no difference. The only ugly or wrong is the `demo2.getDemo1()` and inject that, but as `Demo3` depends on `Demo2` which in turn depends on `Demo1` it doesn&#39;t matter.","body":"There is no difference. The only ugly or wrong is the <code>demo2.getDemo1()</code> and inject that, but as <code>Demo3</code> depends on <code>Demo2</code> which in turn depends on <code>Demo1</code> it doesn&#39;t matter."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662447392,"post_id":73610796,"comment_id":130000792,"body_markdown":"Additionaly the `@Autowired` on a single constructor isn&#39;t need (as of Spring 4.3) but implied for beans with just a single constructor.","body":"Additionaly the <code>@Autowired</code> on a single constructor isn&#39;t need (as of Spring 4.3) but implied for beans with just a single constructor."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662448009,"creation_date":1662447324,"answer_id":73617842,"question_id":73610796,"body_markdown":"It doesn&#39;t matter if you express configuration in XML, properties (yes that is possible, see https://deinum.biz/2018-04-12-on-spring-applicationcontext-and-bean-creation/), java config or annotations. All of those are bean definitions and the relation between those. Spring will have (some kind) of dependency tree. \r\n\r\nBeans are constructed in a certain order and destroyed in the reverse order. \r\n\r\nThe only &quot;wrong&quot; thing in your code is the `demo2.getDemo1()` but in this case shouldn&#39;t make any difference as `Demo3` depends on `Demo2 which depends on `Demo1`. Ideally you would write the configuration in the following way\r\n\r\n```java\r\nConfiguration\r\nclass MyConfig {\r\n\r\n  @Bean\r\n  public Demo1 demo1(){\r\n    return new demo1()\r\n  }\r\n\r\n  @Bean\r\n  public Demo2 demo2(Demo1 demo1){\r\n    return new Demo2(demo1);\r\n  }\r\n\r\n  @Bean\r\n  public Demo3 demo3(Demo2 demo2, Demo1 demo1){\r\n   return new Demo3(demo1, demo2);\r\n  }\r\n}\r\n```\r\n\r\nThis code/config makes it easier for Spring to figure out the interdependencies. \r\n\r\nIn your case, if you are using Spring Boot **and** have declared those `@Bean` methods you will actually end up with multiple instances of the beans. \r\n\r\nRunning your sample produces, for me the following output (I added `@PostConstruct` and `@PreDestroy` methods to the classes). \r\n\r\n```\r\n2022-09-06 09:03:48.366  INFO 64364 --- [           main] b.d.d.DestructionOrderApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@2fb5fe30 - @PostConstruct\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@389562d6 - @PostConstruct\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@5a101b1c - @PostConstruct\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@2160e52a - @PostConstruct\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@29f0802c - @PostConstruct\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@3a60c416 - @PostConstruct\r\n2022-09-06 09:03:48.559  INFO 64364 --- [           main] b.d.d.DestructionOrderApplication        : Started DestructionOrderApplication in 0.311 seconds (JVM running for 0.552)\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@3a60c416 - @PreDestroy\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@29f0802c - @PreDestroy\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@2160e52a - @PreDestroy\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@5a101b1c - @PreDestroy\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@389562d6 - @PreDestroy\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@2fb5fe30 - @PreDestroy\r\n```\r\n\r\nIn which you can clearly see the `@PostConstruct` is called in the right order and the `@PreDestroy` in the reverse order. You can also see you have 2 instances. Removing the `@Component` leads to the following output:\r\n\r\n```\r\n2022-09-06 09:06:03.520  INFO 64388 --- [           main] b.d.d.DestructionOrderApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@72ab05ed - @PostConstruct\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@27e32fe4 - @PostConstruct\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@c3c4c1c - @PostConstruct\r\n2022-09-06 09:06:03.714  INFO 64388 --- [           main] b.d.d.DestructionOrderApplication        : Started DestructionOrderApplication in 0.32 seconds (JVM running for 0.561)\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@c3c4c1c - @PreDestroy\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@27e32fe4 - @PreDestroy\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@72ab05ed - @PreDestroy\r\n\r\n```","title":"Can spring handle indirect dependency injection?","body":"<p>It doesn't matter if you express configuration in XML, properties (yes that is possible, see <a href=\"https://deinum.biz/2018-04-12-on-spring-applicationcontext-and-bean-creation/\" rel=\"nofollow noreferrer\">https://deinum.biz/2018-04-12-on-spring-applicationcontext-and-bean-creation/</a>), java config or annotations. All of those are bean definitions and the relation between those. Spring will have (some kind) of dependency tree.</p>\n<p>Beans are constructed in a certain order and destroyed in the reverse order.</p>\n<p>The only &quot;wrong&quot; thing in your code is the <code>demo2.getDemo1()</code> but in this case shouldn't make any difference as <code>Demo3</code> depends on <code>Demo2 which depends on </code>Demo1`. Ideally you would write the configuration in the following way</p>\n<pre class=\"lang-java prettyprint-override\"><code>Configuration\nclass MyConfig {\n\n  @Bean\n  public Demo1 demo1(){\n    return new demo1()\n  }\n\n  @Bean\n  public Demo2 demo2(Demo1 demo1){\n    return new Demo2(demo1);\n  }\n\n  @Bean\n  public Demo3 demo3(Demo2 demo2, Demo1 demo1){\n   return new Demo3(demo1, demo2);\n  }\n}\n</code></pre>\n<p>This code/config makes it easier for Spring to figure out the interdependencies.</p>\n<p>In your case, if you are using Spring Boot <strong>and</strong> have declared those <code>@Bean</code> methods you will actually end up with multiple instances of the beans.</p>\n<p>Running your sample produces, for me the following output (I added <code>@PostConstruct</code> and <code>@PreDestroy</code> methods to the classes).</p>\n<pre><code>2022-09-06 09:03:48.366  INFO 64364 --- [           main] b.d.d.DestructionOrderApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@2fb5fe30 - @PostConstruct\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@389562d6 - @PostConstruct\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@5a101b1c - @PostConstruct\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@2160e52a - @PostConstruct\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@29f0802c - @PostConstruct\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@3a60c416 - @PostConstruct\n2022-09-06 09:03:48.559  INFO 64364 --- [           main] b.d.d.DestructionOrderApplication        : Started DestructionOrderApplication in 0.311 seconds (JVM running for 0.552)\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@3a60c416 - @PreDestroy\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@29f0802c - @PreDestroy\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@2160e52a - @PreDestroy\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@5a101b1c - @PreDestroy\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@389562d6 - @PreDestroy\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@2fb5fe30 - @PreDestroy\n</code></pre>\n<p>In which you can clearly see the <code>@PostConstruct</code> is called in the right order and the <code>@PreDestroy</code> in the reverse order. You can also see you have 2 instances. Removing the <code>@Component</code> leads to the following output:</p>\n<pre><code>2022-09-06 09:06:03.520  INFO 64388 --- [           main] b.d.d.DestructionOrderApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@72ab05ed - @PostConstruct\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@27e32fe4 - @PostConstruct\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@c3c4c1c - @PostConstruct\n2022-09-06 09:06:03.714  INFO 64388 --- [           main] b.d.d.DestructionOrderApplication        : Started DestructionOrderApplication in 0.32 seconds (JVM running for 0.561)\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@c3c4c1c - @PreDestroy\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@27e32fe4 - @PreDestroy\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@72ab05ed - @PreDestroy\n\n</code></pre>\n"}],"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73617842,"answer_count":1,"score":0,"last_activity_date":1662448009,"creation_date":1662387436,"question_id":73610796,"body_markdown":"I am currently trying to understand the way in which spring creates and destroys beans and how it comes up with the right order to do so.\r\nLets assume we have three classes\r\n```\r\n@Component\r\nclass Demo1 {\r\n\r\n}\r\n```\r\n```\r\n@Component\r\nclass Demo2{\r\n\r\n   Demo1 demo1;\r\n   \r\n   // specifically not using @Autowired\r\n   public Demo2(Demo1 demo1){\r\n      this.demo1 = demo1;\r\n   }\r\n\r\n   public Demo1 getDemo1(){\r\n     return this.demo1\r\n   }\r\n}\r\n```\r\n\r\n```\r\n@Component\r\nclass Demo3 {\r\n   \r\n   Demo1 demo1\r\n   Demo2 demo2;\r\n\r\n   public Demo3(Demo1 demo1, Demo2 demo2){\r\n     this.demo1 = demo1;\r\n     this.demo2 = demo2;\r\n   }\r\n}\r\n```\r\n\r\nConfig class\r\n\r\n```\r\n@Configuration\r\nclass MyConfig {\r\n\r\n  @Bean\r\n  public Demo1 demo1(){\r\n    return new demo1()\r\n  }\r\n\r\n  @Bean\r\n  public Demo2 demo2(){\r\n    return new Demo2(demo1());\r\n  }\r\n\r\n  @Bean\r\n  public Demo3 demo3(){\r\n   Demo2 demo2 = demo2()\r\n   return new Demo3(demo2.getDemo1(), demo2);\r\n  }\r\n}\r\n```\r\n\r\nI understand that this is not the best/right way to do it but I want to know if its equivalent to using ```@Autowired``` annotation and if spring is able to resolve the dependency among the beans while creation, that is create in order\r\n1. demo1\r\n2. demo2\r\n3. demo3\r\n\r\nand destroy in order\r\n1. demo3\r\n2. demo2\r\n3. demo1\r\n\r\nDoes changing the order of the functions in ```MyConfig``` make any difference ?\r\n\r\nCurrently I am facing an error where I believe ```demo1``` is getting destroyed before ```demo2``` or ```demo3```","title":"Can spring handle indirect dependency injection?","body":"<p>I am currently trying to understand the way in which spring creates and destroys beans and how it comes up with the right order to do so.\nLets assume we have three classes</p>\n<pre><code>@Component\nclass Demo1 {\n\n}\n</code></pre>\n<pre><code>@Component\nclass Demo2{\n\n   Demo1 demo1;\n   \n   // specifically not using @Autowired\n   public Demo2(Demo1 demo1){\n      this.demo1 = demo1;\n   }\n\n   public Demo1 getDemo1(){\n     return this.demo1\n   }\n}\n</code></pre>\n<pre><code>@Component\nclass Demo3 {\n   \n   Demo1 demo1\n   Demo2 demo2;\n\n   public Demo3(Demo1 demo1, Demo2 demo2){\n     this.demo1 = demo1;\n     this.demo2 = demo2;\n   }\n}\n</code></pre>\n<p>Config class</p>\n<pre><code>@Configuration\nclass MyConfig {\n\n  @Bean\n  public Demo1 demo1(){\n    return new demo1()\n  }\n\n  @Bean\n  public Demo2 demo2(){\n    return new Demo2(demo1());\n  }\n\n  @Bean\n  public Demo3 demo3(){\n   Demo2 demo2 = demo2()\n   return new Demo3(demo2.getDemo1(), demo2);\n  }\n}\n</code></pre>\n<p>I understand that this is not the best/right way to do it but I want to know if its equivalent to using <code>@Autowired</code> annotation and if spring is able to resolve the dependency among the beans while creation, that is create in order</p>\n<ol>\n<li>demo1</li>\n<li>demo2</li>\n<li>demo3</li>\n</ol>\n<p>and destroy in order</p>\n<ol>\n<li>demo3</li>\n<li>demo2</li>\n<li>demo1</li>\n</ol>\n<p>Does changing the order of the functions in <code>MyConfig</code> make any difference ?</p>\n<p>Currently I am facing an error where I believe <code>demo1</code> is getting destroyed before <code>demo2</code> or <code>demo3</code></p>\n"},{"tags":["java","pass-by-reference","pass-by-value"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1662442305,"post_id":73617047,"comment_id":129999597,"body_markdown":"1) Java is always pass by value.  2) If the parameter is an object, the object&#39;s reference is passed by value.  This means that the called function can *modify* the object&#39;s value, and the modification will be seen by the caller.  3) It also means that any changes to the reference (e.g. setting &quot;root = null&quot;) will *NOT* be seen by the caller. 4) Regarding Solution 1 vs. Solution 2: Q: Did you step through the code in the debugger?  What did you find?","body":"1) Java is always pass by value.  2) If the parameter is an object, the object&#39;s reference is passed by value.  This means that the called function can <i>modify</i> the object&#39;s value, and the modification will be seen by the caller.  3) It also means that any changes to the reference (e.g. setting &quot;root = null&quot;) will <i>NOT</i> be seen by the caller. 4) Regarding Solution 1 vs. Solution 2: Q: Did you step through the code in the debugger?  What did you find?"},{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1662443006,"post_id":73617047,"comment_id":129999730,"body_markdown":"Note: do yourself a favor and use consistent formatting (including indentation). It will make things easier for you, and for others trying to assist you.","body":"Note: do yourself a favor and use consistent formatting (including indentation). It will make things easier for you, and for others trying to assist you."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1662443082,"post_id":73617047,"comment_id":129999745,"body_markdown":"Does this answer your question? [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>"},{"owner":{"account_id":7674368,"reputation":417,"user_id":5815695,"accept_rate":58,"display_name":"Aman Kumar Sinha"},"score":0,"creation_date":1662443416,"post_id":73617047,"comment_id":129999800,"body_markdown":"@tgdavies I went through this answer before but wasn&#39;t able to figure out why in this specific case it isn&#39;t working as its supposed to .\nI am passing an object int the second solution so ideally it should change the original object as Object variable name is just a reference to actual object","body":"@tgdavies I went through this answer before but wasn&#39;t able to figure out why in this specific case it isn&#39;t working as its supposed to . I am passing an object int the second solution so ideally it should change the original object as Object variable name is just a reference to actual object"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1662444365,"post_id":73617047,"comment_id":129999993,"body_markdown":"@AmanKumarSinha - When I look into the requirements: you&#39;re never supposed to return null. It&#39;s required to *always* return the original tree. Reconsider your solution. In fact, it does not work.","body":"@AmanKumarSinha - When I look into the requirements: you&#39;re never supposed to return null. It&#39;s required to <i>always</i> return the original tree. Reconsider your solution. In fact, it does not work."},{"owner":{"account_id":7674368,"reputation":417,"user_id":5815695,"accept_rate":58,"display_name":"Aman Kumar Sinha"},"score":0,"creation_date":1662444487,"post_id":73617047,"comment_id":130000018,"body_markdown":"@AndreasDolk it got accepted by leetcode so not sure what you are referring to","body":"@AndreasDolk it got accepted by leetcode so not sure what you are referring to"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1662445162,"post_id":73617047,"comment_id":130000203,"body_markdown":"@AmanKumarSinha - consider a tree [0]. You&#39;d return null instead of the &#39;same&#39; tree. It&#39;s a corner case. I&#39;d expect, that you&#39;d have to return the same tree, [0], because &#39;null&#39; does not fulfill the &#39;same tree&#39; requirement. On the other hand, we could argue, that the root was supposed to be removed. In that case, the tree model was broken, because i&#39;d require some invisible root with a single child node, so that we could remove that and still return the tree model.","body":"@AmanKumarSinha - consider a tree [0]. You&#39;d return null instead of the &#39;same&#39; tree. It&#39;s a corner case. I&#39;d expect, that you&#39;d have to return the same tree, [0], because &#39;null&#39; does not fulfill the &#39;same tree&#39; requirement. On the other hand, we could argue, that the root was supposed to be removed. In that case, the tree model was broken, because i&#39;d require some invisible root with a single child node, so that we could remove that and still return the tree model."},{"owner":{"account_id":7674368,"reputation":417,"user_id":5815695,"accept_rate":58,"display_name":"Aman Kumar Sinha"},"score":1,"creation_date":1662445304,"post_id":73617047,"comment_id":130000240,"body_markdown":"@AndreasDolk Your answer makes sense to me but i guess either that case wasn&#39;t a test case for the question or the expectation was to remove a tree completely when it has only one node with value 0 . In any case I see your point . Thanks for pointing that out","body":"@AndreasDolk Your answer makes sense to me but i guess either that case wasn&#39;t a test case for the question or the expectation was to remove a tree completely when it has only one node with value 0 . In any case I see your point . Thanks for pointing that out"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662448003,"creation_date":1662443427,"answer_id":73617250,"question_id":73617047,"body_markdown":"In the second example you nowhere worked with the result of `pruneTree1()`. But the parameter of that method never got modified for its caller (due to pass-by-value).\r\n\r\n*Update* for your added example:\r\n\r\n`root.left` and `root2.left` are referring to the same object. As `root.left.val != 5` you also don&#39;t change that.\r\n\r\nYou assign `root.left` and `root.right` to the return value of the method, but return the input parameter in the most cases. So as long as you don&#39;t return `null`, the *same* objects are still referenced.","title":"Clarification regrading Java pass-by-value","body":"<p>In the second example you nowhere worked with the result of <code>pruneTree1()</code>. But the parameter of that method never got modified for its caller (due to pass-by-value).</p>\n<p><em>Update</em> for your added example:</p>\n<p><code>root.left</code> and <code>root2.left</code> are referring to the same object. As <code>root.left.val != 5</code> you also don't change that.</p>\n<p>You assign <code>root.left</code> and <code>root.right</code> to the return value of the method, but return the input parameter in the most cases. So as long as you don't return <code>null</code>, the <em>same</em> objects are still referenced.</p>\n"}],"owner":{"account_id":7674368,"reputation":417,"user_id":5815695,"accept_rate":58,"display_name":"Aman Kumar Sinha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73617250,"answer_count":1,"score":0,"last_activity_date":1662448003,"creation_date":1662441758,"question_id":73617047,"body_markdown":"I am solving a coding question where we need to remove all the sub-trees of a binary tree that only has 0 as its value . Question link https://leetcode.com/problems/binary-tree-pruning/\r\nThe solution that worked for me is this \r\n```java\r\npublic TreeNode pruneTree(TreeNode root) {\r\n    if (root == null)\r\n        return null;\r\n    root.left = pruneTree(root.left);\r\n    root.right = pruneTree(root.right);\r\n    if (root.val == 0 &amp;&amp; root.left == null &amp;&amp; root.right == null)\r\n        root = null;\r\n    else\r\n        return root;\r\n   // pruneTree1(root);\r\n //   printTree(root);\r\n    return root;\r\n}\r\n```\r\nThe solution I tried submitting earlier was this \r\n```java\r\npublic TreeNode pruneTree(TreeNode root) {\r\n    pruneTree1(root);\r\n    return root;\r\n}\r\n\r\nTreeNode pruneTree1 (TreeNode root) {\r\n    if(root ==null)\r\n        return root ;\r\n    root.left = pruneTree1(root.left);\r\n    root.right = pruneTree1(root.right);\r\n    if(root.left==null &amp;&amp; root.right==null &amp;&amp; root.val==0) {\r\n        System.out.println(root.val);\r\n        root =null;\r\n    }\r\n    return root;\r\n}\r\n```\r\nMy question/doubt is why the second solution wasn&#39;t changing the original tree. My understanding was Java is pass by value but when we pass an Object by its variable  name its a reference to original object and we can change its content.  \r\n\r\nWhy was it not working in this case. Is it because I am  trying to set the whole object as null and not just its value ?\r\n\r\n\r\nI tired recreating the scenario with another example and the code behaves differently in this case . Here&#39;s what i tried \r\n\r\n    public void run1() {\r\n            TreeNode root = new TreeNode();\r\n            root.val = 2;\r\n            TreeNode left = new TreeNode();\r\n            left.val = 3;\r\n            TreeNode right = new TreeNode();\r\n            right.val = 4;\r\n            TreeNode leftLeft = new TreeNode();\r\n            leftLeft.val = 5;\r\n            TreeNode rightRight = new TreeNode();\r\n            rightRight.val = 6;\r\n            root.left = left;\r\n            root.right = right;\r\n            left.left = leftLeft;\r\n            right.right = rightRight;\r\n            System.out.println(root.left.left.val);\r\n            TreeNode root2 = makeNull(root);\r\n            System.out.println(root.left.left);\r\n            System.out.println(root2.left.left);\r\n    \r\n        };\r\n    \r\n     public   TreeNode  makeNull (TreeNode root){\r\n            if(root ==null)\r\n                return root ;\r\n            root.left = makeNull(root.left);\r\n            root.right = makeNull(root.right);\r\n            if(root.val==5)\r\n                root=null;\r\n            //  left.left = null;\r\n            return root;\r\n        }\r\n\r\nIn the example i both root.left.left and root2.left.left is set as null when i print it . Why it acts like parameter is passed as reference in this case but not in the above example.\r\n\r\n\r\n","title":"Clarification regrading Java pass-by-value","body":"<p>I am solving a coding question where we need to remove all the sub-trees of a binary tree that only has 0 as its value . Question link <a href=\"https://leetcode.com/problems/binary-tree-pruning/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/binary-tree-pruning/</a>\nThe solution that worked for me is this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public TreeNode pruneTree(TreeNode root) {\n    if (root == null)\n        return null;\n    root.left = pruneTree(root.left);\n    root.right = pruneTree(root.right);\n    if (root.val == 0 &amp;&amp; root.left == null &amp;&amp; root.right == null)\n        root = null;\n    else\n        return root;\n   // pruneTree1(root);\n //   printTree(root);\n    return root;\n}\n</code></pre>\n<p>The solution I tried submitting earlier was this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public TreeNode pruneTree(TreeNode root) {\n    pruneTree1(root);\n    return root;\n}\n\nTreeNode pruneTree1 (TreeNode root) {\n    if(root ==null)\n        return root ;\n    root.left = pruneTree1(root.left);\n    root.right = pruneTree1(root.right);\n    if(root.left==null &amp;&amp; root.right==null &amp;&amp; root.val==0) {\n        System.out.println(root.val);\n        root =null;\n    }\n    return root;\n}\n</code></pre>\n<p>My question/doubt is why the second solution wasn't changing the original tree. My understanding was Java is pass by value but when we pass an Object by its variable  name its a reference to original object and we can change its content.</p>\n<p>Why was it not working in this case. Is it because I am  trying to set the whole object as null and not just its value ?</p>\n<p>I tired recreating the scenario with another example and the code behaves differently in this case . Here's what i tried</p>\n<pre><code>public void run1() {\n        TreeNode root = new TreeNode();\n        root.val = 2;\n        TreeNode left = new TreeNode();\n        left.val = 3;\n        TreeNode right = new TreeNode();\n        right.val = 4;\n        TreeNode leftLeft = new TreeNode();\n        leftLeft.val = 5;\n        TreeNode rightRight = new TreeNode();\n        rightRight.val = 6;\n        root.left = left;\n        root.right = right;\n        left.left = leftLeft;\n        right.right = rightRight;\n        System.out.println(root.left.left.val);\n        TreeNode root2 = makeNull(root);\n        System.out.println(root.left.left);\n        System.out.println(root2.left.left);\n\n    };\n\n public   TreeNode  makeNull (TreeNode root){\n        if(root ==null)\n            return root ;\n        root.left = makeNull(root.left);\n        root.right = makeNull(root.right);\n        if(root.val==5)\n            root=null;\n        //  left.left = null;\n        return root;\n    }\n</code></pre>\n<p>In the example i both root.left.left and root2.left.left is set as null when i print it . Why it acts like parameter is passed as reference in this case but not in the above example.</p>\n"},{"tags":["java","eclipse","stack-trace"],"answers":[{"tags":[],"owner":{"account_id":2067196,"reputation":1815,"user_id":1842490,"display_name":"TheCodeKiller"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1509030946,"creation_date":1509030946,"answer_id":46958025,"question_id":46957952,"body_markdown":"It seems you cannot found one of your class, check your classpath.","title":"How to get rid of this Java Stacktrace?","body":"<p>It seems you cannot found one of your class, check your classpath.</p>\n"}],"owner":{"account_id":8751719,"reputation":334,"user_id":6544697,"accept_rate":62,"display_name":"John_H_Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1509041477,"accepted_answer_id":46958025,"answer_count":1,"score":-1,"last_activity_date":1662447770,"creation_date":1509030732,"question_id":46957952,"body_markdown":"I wrote a **working** program with java using the [teamspeak3API][1]. I haven&#39;t changed the code or the jar, so it is exactly the same jar as before. I stopped the program and restarted it, and it caused this error:\r\n\r\n    Error: A JNI error has occurred, please check your installation and try again\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/github/theholywaf\r\n    fle/teamspeak3/api/wrapper/Client\r\n            at java.lang.Class.getDeclaredMethods0(Native Method)\r\n            at java.lang.Class.privateGetDeclaredMethods(Unknown Source)\r\n            at java.lang.Class.privateGetMethodRecursive(Unknown Source)\r\n            at java.lang.Class.getMethod0(Unknown Source)\r\n            at java.lang.Class.getMethod(Unknown Source)\r\n            at sun.launcher.LauncherHelper.validateMainClass(Unknown Source)\r\n            at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: com.github.theholywaffle.teamspeak3\r\n    .api.wrapper.Client\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            ... 7 more\r\n\r\nI use Oracle JRE v8 update 151 on Windows Server 2008.\r\nI also tried restarting the root, reinstalling java and re-import the library into the jar through eclipse.\r\n\r\nThe jar is running fine on local dev environment but don&#39;t in productive server environment.\r\n\r\n\r\n  [1]: https://github.com/TheHolyWaffle/TeamSpeak-3-Java-API","title":"How to get rid of this Java Stacktrace?","body":"<p>I wrote a <strong>working</strong> program with java using the <a href=\"https://github.com/TheHolyWaffle/TeamSpeak-3-Java-API\" rel=\"nofollow noreferrer\">teamspeak3API</a>. I haven't changed the code or the jar, so it is exactly the same jar as before. I stopped the program and restarted it, and it caused this error:</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/github/theholywaf\nfle/teamspeak3/api/wrapper/Client\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Unknown Source)\n        at java.lang.Class.privateGetMethodRecursive(Unknown Source)\n        at java.lang.Class.getMethod0(Unknown Source)\n        at java.lang.Class.getMethod(Unknown Source)\n        at sun.launcher.LauncherHelper.validateMainClass(Unknown Source)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: com.github.theholywaffle.teamspeak3\n.api.wrapper.Client\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 7 more\n</code></pre>\n<p>I use Oracle JRE v8 update 151 on Windows Server 2008.\nI also tried restarting the root, reinstalling java and re-import the library into the jar through eclipse.</p>\n<p>The jar is running fine on local dev environment but don't in productive server environment.</p>\n"},{"tags":["java","linux","azure"],"comments":[{"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"score":0,"creation_date":1662454800,"post_id":73617791,"comment_id":130003254,"body_markdown":"Is it a firewall issue?","body":"Is it a firewall issue?"},{"owner":{"account_id":25416593,"reputation":29,"user_id":19223393,"display_name":"Rajesh Gandhavarapu"},"score":0,"creation_date":1662484663,"post_id":73617791,"comment_id":130014380,"body_markdown":"Hi @Jatin, I enabled the required ports in the firewall. I think it&#39;s not a firewall issue. If in case it&#39;s a firewall issue I am not able to access the website in the browser.                       if you feel anything I am missing, Please suggest me clear this issue. It&#39;s very helpful.            Thank you.","body":"Hi @Jatin, I enabled the required ports in the firewall. I think it&#39;s not a firewall issue. If in case it&#39;s a firewall issue I am not able to access the website in the browser.                       if you feel anything I am missing, Please suggest me clear this issue. It&#39;s very helpful.            Thank you."}],"owner":{"account_id":25416593,"reputation":29,"user_id":19223393,"display_name":"Rajesh Gandhavarapu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662447024,"creation_date":1662447024,"question_id":73617791,"body_markdown":"I deployed my website in Azure Virtual Machine(RedHat8).\r\n\r\nI faced an issue while login into a website(java based), It has taken too much time to login(taken more than 950s), or while refreshing the page it can be redirected to the home page, and sometimes it has login very quickly(in 5s).\r\n\r\nThe Same project I deployed in AWS and GCP Linux servers there is no login issue. I followed the same process for every Deployment. \r\n\r\nI don&#39;t know why the login issue coming in Azure servers.\r\n\r\nPlease anyone help regarding this issue. It is very helpful to me.\r\n\r\nThanks in Advance.\r\n\r\n\r\n\r\n","title":"Website Login issue in Azure Linux Servers","body":"<p>I deployed my website in Azure Virtual Machine(RedHat8).</p>\n<p>I faced an issue while login into a website(java based), It has taken too much time to login(taken more than 950s), or while refreshing the page it can be redirected to the home page, and sometimes it has login very quickly(in 5s).</p>\n<p>The Same project I deployed in AWS and GCP Linux servers there is no login issue. I followed the same process for every Deployment.</p>\n<p>I don't know why the login issue coming in Azure servers.</p>\n<p>Please anyone help regarding this issue. It is very helpful to me.</p>\n<p>Thanks in Advance.</p>\n"},{"tags":["java","android","opencv","gradle","android-ndk"],"owner":{"account_id":5497719,"reputation":150,"user_id":4368223,"display_name":"Stanko Kovacevic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662446741,"creation_date":1481124978,"question_id":41021471,"body_markdown":"I can&#39;t use LLDB for JNI C code debugging. None of the breakpoints hit, and I can&#39;t even get into C code with debugger.\r\nGradle files:&lt;br/&gt;\r\nproject-gradle:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:2.2.2&#39;\r\n\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n\r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;br /&gt;\r\napp-module-gradle:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n        compileSdkVersion 25\r\n        buildToolsVersion &quot;25.0.0&quot;\r\n        defaultConfig {\r\n            applicationId &quot;co.bstorm.pazljivko&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 25\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n            externalNativeBuild {\r\n                cmake {\r\n                    cppFlags &quot;-frtti -fexceptions -std=c++11&quot;\r\n                    abiFilters &#39;x86&#39;, &#39;x86_64&#39;, &#39;armeabi&#39;, &#39;armeabi-v7a&#39;, &#39;arm64-v8a&#39;, &#39;mips&#39;, &#39;mips64&#39;\r\n                }\r\n            }\r\n        }\r\n\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n            debug {\r\n                debuggable true\r\n                jniDebuggable true\r\n            }\r\n        }\r\n        externalNativeBuild {\r\n            cmake {\r\n                path &quot;CMakeLists.txt&quot;\r\n            }\r\n        }\r\n        sourceSets {\r\n            main {\r\n                jni.srcDirs = [&#39;src/main/jni&#39;, &#39;src/main/jniLibs/&#39;]\r\n            }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        compile &#39;com.android.support:appcompat-v7:25.0.1&#39;\r\n        compile &#39;com.android.support:design:25.0.1&#39;\r\n        compile &#39;com.android.support:support-v4:25.0.1&#39;\r\n        compile &#39;com.squareup.okhttp3:okhttp:3.4.2&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        debugCompile project(&#39;:signrecognizer&#39;)\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;br /&gt;\r\nsignrecognizer-module-gradle:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    apply plugin: &#39;com.android.library&#39;\r\n\r\n    android {\r\n        compileSdkVersion 25\r\n        buildToolsVersion &quot;25.0.0&quot;\r\n\r\n        defaultConfig {\r\n            minSdkVersion 15\r\n            targetSdkVersion 25\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n\r\n            externalNativeBuild {\r\n                cmake {\r\n                    cppFlags &quot;-frtti -fexceptions -std=c++11 -D_DEBUG&quot;\r\n                    abiFilters &#39;x86&#39;, &#39;x86_64&#39;, &#39;armeabi&#39;, &#39;armeabi-v7a&#39;, &#39;arm64-v8a&#39;, &#39;mips&#39;, &#39;mips64&#39;\r\n                }\r\n            }\r\n        }\r\n\r\n        configurations {\r\n            debug\r\n            release\r\n        }\r\n\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n            debug {\r\n                debuggable true\r\n                jniDebuggable true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n\r\n        externalNativeBuild {\r\n            cmake {\r\n                path &quot;../CMakeLists.txt&quot;\r\n            }\r\n        }\r\n        sourceSets {\r\n            main {\r\n                jni.srcDirs = [&#39;src/main/jni&#39;, &#39;src/main/jniLibs/&#39;]\r\n                jniLibs.srcDirs = [&#39;../lib&#39;]\r\n            }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        compile &#39;com.android.support:appcompat-v7:25.0.1&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile project(&#39;:openCVLibrary310&#39;)\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy signrecognizer module is using OpenCV with CMake files. They all build successfuly, but i can&#39;t access those units too.\r\n\r\n","title":"Android Studio 2.2 Native debugging of submodule (library)","body":"<p>I can't use LLDB for JNI C code debugging. None of the breakpoints hit, and I can't even get into C code with debugger.\nGradle files:<br/>\nproject-gradle:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    repositories {\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath 'com.android.tools.build:gradle:2.2.2'\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        jcenter()\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><br />\napp-module-gradle:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>apply plugin: 'com.android.application'\r\n\r\nandroid {\r\n    compileSdkVersion 25\r\n    buildToolsVersion \"25.0.0\"\r\n    defaultConfig {\r\n        applicationId \"co.bstorm.pazljivko\"\r\n        minSdkVersion 15\r\n        targetSdkVersion 25\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\r\n        externalNativeBuild {\r\n            cmake {\r\n                cppFlags \"-frtti -fexceptions -std=c++11\"\r\n                abiFilters 'x86', 'x86_64', 'armeabi', 'armeabi-v7a', 'arm64-v8a', 'mips', 'mips64'\r\n            }\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\r\n        }\r\n        debug {\r\n            debuggable true\r\n            jniDebuggable true\r\n        }\r\n    }\r\n    externalNativeBuild {\r\n        cmake {\r\n            path \"CMakeLists.txt\"\r\n        }\r\n    }\r\n    sourceSets {\r\n        main {\r\n            jni.srcDirs = ['src/main/jni', 'src/main/jniLibs/']\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    compile fileTree(include: ['*.jar'], dir: 'libs')\r\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\r\n        exclude group: 'com.android.support', module: 'support-annotations'\r\n    })\r\n    compile 'com.android.support:appcompat-v7:25.0.1'\r\n    compile 'com.android.support:design:25.0.1'\r\n    compile 'com.android.support:support-v4:25.0.1'\r\n    compile 'com.squareup.okhttp3:okhttp:3.4.2'\r\n    testCompile 'junit:junit:4.12'\r\n    debugCompile project(':signrecognizer')\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><br />\nsignrecognizer-module-gradle:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>apply plugin: 'com.android.library'\r\n\r\nandroid {\r\n    compileSdkVersion 25\r\n    buildToolsVersion \"25.0.0\"\r\n\r\n    defaultConfig {\r\n        minSdkVersion 15\r\n        targetSdkVersion 25\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\r\n\r\n        externalNativeBuild {\r\n            cmake {\r\n                cppFlags \"-frtti -fexceptions -std=c++11 -D_DEBUG\"\r\n                abiFilters 'x86', 'x86_64', 'armeabi', 'armeabi-v7a', 'arm64-v8a', 'mips', 'mips64'\r\n            }\r\n        }\r\n    }\r\n\r\n    configurations {\r\n        debug\r\n        release\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\r\n        }\r\n        debug {\r\n            debuggable true\r\n            jniDebuggable true\r\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n\r\n    externalNativeBuild {\r\n        cmake {\r\n            path \"../CMakeLists.txt\"\r\n        }\r\n    }\r\n    sourceSets {\r\n        main {\r\n            jni.srcDirs = ['src/main/jni', 'src/main/jniLibs/']\r\n            jniLibs.srcDirs = ['../lib']\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    compile fileTree(include: ['*.jar'], dir: 'libs')\r\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\r\n        exclude group: 'com.android.support', module: 'support-annotations'\r\n    })\r\n    compile 'com.android.support:appcompat-v7:25.0.1'\r\n    testCompile 'junit:junit:4.12'\r\n    compile project(':openCVLibrary310')\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My signrecognizer module is using OpenCV with CMake files. They all build successfuly, but i can't access those units too.</p>\n"},{"tags":["java","android","opencv","android-camera","google-project-tango"],"answers":[{"tags":[],"owner":{"account_id":4366242,"reputation":1826,"user_id":3561953,"accept_rate":75,"display_name":"xuguo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498064764,"creation_date":1498064764,"answer_id":44682222,"question_id":44111775,"body_markdown":"There are two things potentially happened here: \r\n\r\n1. the buffer for camera image went out of scope.\r\n\r\nWith current Tango&#39;s SDK, the callee of `onFrameAvailable` callback only have control to `imageBuffer` within the scope of the callback. That means if you reference `imageBuffer` in an `AsynTask`, you could potentially get a null buffer, and result in a crash. The way Tango solve it is to always deep copy out the data from the callback, and process it in another thread.\r\n\r\n\r\n2. the process is blocking Tango&#39;s thread for too long.\r\n\r\nWithout the AsyncTask, what&#39;s likely happened is that the processing blocked Tango&#39;s thread for too long, and this is know to be bad for Tango as well. ","title":"google tango / opencv android camera app crashes/hangs","body":"<p>There are two things potentially happened here: </p>\n\n<ol>\n<li>the buffer for camera image went out of scope.</li>\n</ol>\n\n<p>With current Tango's SDK, the callee of <code>onFrameAvailable</code> callback only have control to <code>imageBuffer</code> within the scope of the callback. That means if you reference <code>imageBuffer</code> in an <code>AsynTask</code>, you could potentially get a null buffer, and result in a crash. The way Tango solve it is to always deep copy out the data from the callback, and process it in another thread.</p>\n\n<ol start=\"2\">\n<li>the process is blocking Tango's thread for too long.</li>\n</ol>\n\n<p>Without the AsyncTask, what's likely happened is that the processing blocked Tango's thread for too long, and this is know to be bad for Tango as well. </p>\n"}],"owner":{"account_id":10951331,"reputation":1,"user_id":8047622,"display_name":"Nille"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662446629,"creation_date":1495452649,"question_id":44111775,"body_markdown":"I am developing a prototype app, utilizing the tango depth camera for template matching. So far, I have been able to solve all problems with the help of already answered questions, documentation etc.\r\n\r\nHowever, now I seem to have come to a stop. Last major change I made, was to draw a contour on the camera preview image, before displaying it. No matter what I do now, the app works for a while, before it crashes.\r\n\r\nI have looked at heap dumps and allocation tracking in Android Studio. The only possibly weird thing there is that there can be a lot of memory on FinalizerReference objects in the heap dump...\r\n\r\nI also tried moving the processing to an AsyncTask, and just skip every color frame until the task was done (so that only one task was running at a time) and the processed frame was displayed, but the problem remained.\r\n\r\nI am using Google Tango for getting color and depth camera data and opencv in java for analyzing the data and doing the template matching.\r\n\r\nDoes someone have a clue of what these logcat messages mean?\r\n\r\nLogcat errors:\r\n\r\n&gt; E/lowmemorykiller: Error opening /proc/10173/oom_score_adj; errno=2  \r\n&gt; E/mm-camera-isp2: abf40_trigger_update:587 aec_ratio.ratio = 0.039062  \r\n&gt; W/ActivityManager: Scheduling restart of crashed service \r\ncom.lenovo.lsf.device/com.lenovo.lsf.push.service.PushService in 68068ms  \r\n&gt; W/ActivityManager: Scheduling restart of crashed service com.qualcomm.qti.modemtestmode/.MbnSystemService in 88020ms  \r\n&gt; E/InputDispatcher: channel &#39;478a66c com.android.documentsui/com.android.documentsui.DocumentsActivity (server)&#39; ~ Channel is unrecoverably broken and will be disposed!  \r\n&gt; E/lowmemorykiller: Error writing /proc/10113/oom_score_adj; errno=22  \r\n&gt; E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)  \r\n&gt; E/lowmemorykiller: Error writing /proc/32408/oom_score_adj; errno=22  \r\n&gt; E/InputDispatcher: channel &#39;85c4188 com.android.launcher3/com.android.launcher3.Launcher (server)&#39; ~ Channel is unrecoverably broken and will be disposed!  \r\n&gt; E/mm-camera-isp2: abf40_trigger_update:587 aec_ratio.ratio = 0.000000  \r\n&gt; E/ConnectivityService: RemoteException caught trying to send a callback msg for NetworkRequest [ id=332, legacyType=-1, [ Capabilities: INTERNET&amp;NOT_RESTRICTED&amp;TRUSTED] ]  \r\n&gt; E/mm-camera: mct_util_timer_handler:Error Backend stuck during HAL Command Raising SIGABRT  \r\n&gt; E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)   \r\n&gt; E/lowmemorykiller: Error writing /proc/32437/oom_score_adj; errno=22  \r\n&gt; E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 308)  \r\n&gt; E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)  \r\n&gt; E/lowmemorykiller: Error writing /proc/32437/oom_score_adj; errno=22  \r\n&gt; E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)  \r\n&gt; E/mm-camera: mct_util_timer_handler:Error Backend stuck during HAL Command Raising SIGABRT  E/Surface: queueBuffer: error queuing buffer to SurfaceTexture, -32  \r\n&gt; E/Surface: queueBuffer: error queuing buffer to SurfaceTexture, -32  \r\n&gt; E/mm-camera: cpp_module_send_buf_divert_event:545] buffer event received with no divert config  \r\n&gt; E/mm-camera: cpp_module_send_buf_divert_event:545] buffer event received with no divert config  \r\n&gt; E/Camera3-OutputStream: getBufferLocked: Stream 0: Can&#39;t dequeue next output buffer: Broken pipe (-32)  \r\n&gt; E/Camera3-OutputStream: returnBufferCheckedLocked: Stream 0: Error queueing buffer to native window: Broken pipe (-32)  \r\n&gt; E/Camera3-Device: RequestThread: Can&#39;t get output buffer, skipping request: Broken pipe (-32)  \r\n&gt; E/Camera3-Device: Can&#39;t return buffer to its stream: Broken pipe (-32)  \r\n&gt; E/Camera3-OutputStream: getBufferLocked: Stream 0: Can&#39;t dequeue next output buffer: Broken pipe (-32)  \r\n&gt; E/Camera3-Device: RequestThread: Can&#39;t get output buffer, skipping request: Broken pipe (-32) \r\n\r\nCode for displaying camera preview:\r\n\r\n    mTango.experimentalConnectOnFrameListener(TangoCameraIntrinsics.TANGO_CAMERA_COLOR, new Tango.OnFrameAvailableListener() {\r\n        byte[] imageByteArray = new byte[colorCameraIntrinsics.height * colorCameraIntrinsics.width * 3 / 2];  \r\n        Mat yuvMat = new Mat( colorCameraIntrinsics.height + colorCameraIntrinsics.height/2, colorCameraIntrinsics.width, CvType.CV_8UC1 );\r\n        Bitmap bitmapDisplay = Bitmap.createBitmap( colorCameraIntrinsics.width, colorCameraIntrinsics.height, Bitmap.Config.ARGB_8888 );\r\n        Mat colorMatDisplay;\r\n    \r\n        @Override\r\n        public void onFrameAvailable(TangoImageBuffer imageBuffer, int cameraId) {\r\n            Log.d(TAG, &quot;onFrameAvailable: color frame available&quot;);\r\n            if (colorFrameCounter &lt; 3) { //only use every 3rd frame\r\n                Log.d(TAG, &quot;onFrameAvailable: skipping frame &quot; + colorFrameCounter);\r\n                colorFrameCounter++;\r\n            } else {\r\n                colorFrameCounter = 0;\r\n                if (!stopCameraView.get()) { // Only view frame if camera view is not stopped\r\n    \r\n                    // convert image buffer data to byte array\r\n                    imageBuffer.data.get(imageByteArray);\r\n\r\n                    // byte array to Mat object with YUV coding (NV21)\r\n                    yuvMat.put(0, 0, imageByteArray);\r\n    \r\n                    // locking access to lastColorFrameMat\r\n                    synchronized (lockVar) {\r\n                        Log.d(TAG, &quot;onFrameAvailable: converting to bitmap&quot;);\r\n                        // convert from YUV (NV21) Mat to RGBA Mat and place in lastColorFrameMat (global)\r\n                        Imgproc.cvtColor(yuvMat, lastColorFrameMat, Imgproc.COLOR_YUV2RGBA_NV21, 4);\r\n                        colorMatDisplay = lastColorFrameMat.clone();\r\n                    }\r\n    \r\n                    if (templateContours != null) {\r\n                        Imgproc.drawContours(colorMatDisplay, templateContours, templateContourMaxIdx, new Scalar(0, 255, 0, 255), 5);\r\n                    }\r\n    \r\n                    // convert colorMatDisplay to bitmap, for display in imageview\r\n                    Utils.matToBitmap(colorMatDisplay, bitmapDisplay);\r\n    \r\n                    Log.d(TAG, &quot;onFrameAvailable: view lastColorFrameMat on phone display&quot;);\r\n    \r\n                    // View colorImage in imageViewer on UI thread\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            imageViewer.setImageBitmap(bitmapDisplay);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n    \r\n        }\r\n    });\r\n\r\n","title":"google tango / opencv android camera app crashes/hangs","body":"<p>I am developing a prototype app, utilizing the tango depth camera for template matching. So far, I have been able to solve all problems with the help of already answered questions, documentation etc.</p>\n\n<p>However, now I seem to have come to a stop. Last major change I made, was to draw a contour on the camera preview image, before displaying it. No matter what I do now, the app works for a while, before it crashes.</p>\n\n<p>I have looked at heap dumps and allocation tracking in Android Studio. The only possibly weird thing there is that there can be a lot of memory on FinalizerReference objects in the heap dump...</p>\n\n<p>I also tried moving the processing to an AsyncTask, and just skip every color frame until the task was done (so that only one task was running at a time) and the processed frame was displayed, but the problem remained.</p>\n\n<p>I am using Google Tango for getting color and depth camera data and opencv in java for analyzing the data and doing the template matching.</p>\n\n<p>Does someone have a clue of what these logcat messages mean?</p>\n\n<p>Logcat errors:</p>\n\n<blockquote>\n  <p>E/lowmemorykiller: Error opening /proc/10173/oom_score_adj; errno=2<br>\n  E/mm-camera-isp2: abf40_trigger_update:587 aec_ratio.ratio = 0.039062<br>\n  W/ActivityManager: Scheduling restart of crashed service \n  com.lenovo.lsf.device/com.lenovo.lsf.push.service.PushService in 68068ms<br>\n  W/ActivityManager: Scheduling restart of crashed service com.qualcomm.qti.modemtestmode/.MbnSystemService in 88020ms<br>\n  E/InputDispatcher: channel '478a66c com.android.documentsui/com.android.documentsui.DocumentsActivity (server)' ~ Channel is unrecoverably broken and will be disposed!<br>\n  E/lowmemorykiller: Error writing /proc/10113/oom_score_adj; errno=22<br>\n  E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)<br>\n  E/lowmemorykiller: Error writing /proc/32408/oom_score_adj; errno=22<br>\n  E/InputDispatcher: channel '85c4188 com.android.launcher3/com.android.launcher3.Launcher (server)' ~ Channel is unrecoverably broken and will be disposed!<br>\n  E/mm-camera-isp2: abf40_trigger_update:587 aec_ratio.ratio = 0.000000<br>\n  E/ConnectivityService: RemoteException caught trying to send a callback msg for NetworkRequest [ id=332, legacyType=-1, [ Capabilities: INTERNET&amp;NOT_RESTRICTED&amp;TRUSTED] ]<br>\n  E/mm-camera: mct_util_timer_handler:Error Backend stuck during HAL Command Raising SIGABRT<br>\n  E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)<br>\n  E/lowmemorykiller: Error writing /proc/32437/oom_score_adj; errno=22<br>\n  E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 308)<br>\n  E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)<br>\n  E/lowmemorykiller: Error writing /proc/32437/oom_score_adj; errno=22<br>\n  E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)<br>\n  E/mm-camera: mct_util_timer_handler:Error Backend stuck during HAL Command Raising SIGABRT  E/Surface: queueBuffer: error queuing buffer to SurfaceTexture, -32<br>\n  E/Surface: queueBuffer: error queuing buffer to SurfaceTexture, -32<br>\n  E/mm-camera: cpp_module_send_buf_divert_event:545] buffer event received with no divert config<br>\n  E/mm-camera: cpp_module_send_buf_divert_event:545] buffer event received with no divert config<br>\n  E/Camera3-OutputStream: getBufferLocked: Stream 0: Can't dequeue next output buffer: Broken pipe (-32)<br>\n  E/Camera3-OutputStream: returnBufferCheckedLocked: Stream 0: Error queueing buffer to native window: Broken pipe (-32)<br>\n  E/Camera3-Device: RequestThread: Can't get output buffer, skipping request: Broken pipe (-32)<br>\n  E/Camera3-Device: Can't return buffer to its stream: Broken pipe (-32)<br>\n  E/Camera3-OutputStream: getBufferLocked: Stream 0: Can't dequeue next output buffer: Broken pipe (-32)<br>\n  E/Camera3-Device: RequestThread: Can't get output buffer, skipping request: Broken pipe (-32) </p>\n</blockquote>\n\n<p>Code for displaying camera preview:</p>\n\n<pre><code>mTango.experimentalConnectOnFrameListener(TangoCameraIntrinsics.TANGO_CAMERA_COLOR, new Tango.OnFrameAvailableListener() {\n    byte[] imageByteArray = new byte[colorCameraIntrinsics.height * colorCameraIntrinsics.width * 3 / 2];  \n    Mat yuvMat = new Mat( colorCameraIntrinsics.height + colorCameraIntrinsics.height/2, colorCameraIntrinsics.width, CvType.CV_8UC1 );\n    Bitmap bitmapDisplay = Bitmap.createBitmap( colorCameraIntrinsics.width, colorCameraIntrinsics.height, Bitmap.Config.ARGB_8888 );\n    Mat colorMatDisplay;\n\n    @Override\n    public void onFrameAvailable(TangoImageBuffer imageBuffer, int cameraId) {\n        Log.d(TAG, \"onFrameAvailable: color frame available\");\n        if (colorFrameCounter &lt; 3) { //only use every 3rd frame\n            Log.d(TAG, \"onFrameAvailable: skipping frame \" + colorFrameCounter);\n            colorFrameCounter++;\n        } else {\n            colorFrameCounter = 0;\n            if (!stopCameraView.get()) { // Only view frame if camera view is not stopped\n\n                // convert image buffer data to byte array\n                imageBuffer.data.get(imageByteArray);\n\n                // byte array to Mat object with YUV coding (NV21)\n                yuvMat.put(0, 0, imageByteArray);\n\n                // locking access to lastColorFrameMat\n                synchronized (lockVar) {\n                    Log.d(TAG, \"onFrameAvailable: converting to bitmap\");\n                    // convert from YUV (NV21) Mat to RGBA Mat and place in lastColorFrameMat (global)\n                    Imgproc.cvtColor(yuvMat, lastColorFrameMat, Imgproc.COLOR_YUV2RGBA_NV21, 4);\n                    colorMatDisplay = lastColorFrameMat.clone();\n                }\n\n                if (templateContours != null) {\n                    Imgproc.drawContours(colorMatDisplay, templateContours, templateContourMaxIdx, new Scalar(0, 255, 0, 255), 5);\n                }\n\n                // convert colorMatDisplay to bitmap, for display in imageview\n                Utils.matToBitmap(colorMatDisplay, bitmapDisplay);\n\n                Log.d(TAG, \"onFrameAvailable: view lastColorFrameMat on phone display\");\n\n                // View colorImage in imageViewer on UI thread\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        imageViewer.setImageBitmap(bitmapDisplay);\n                    }\n                });\n            }\n        }\n\n    }\n});\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628054139,"creation_date":1628054139,"answer_id":68645728,"question_id":68644824,"body_markdown":"There are many ways to do it. Change your mapper as below with implementation for your carDto to Person conversion.\r\n\r\n\r\n    package examples.mapper;\r\n    \r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.Mapping;\r\n    import org.mapstruct.factory.Mappers;\r\n    \r\n    import examples.dto.CarDTO;\r\n    import examples.model.Car;\r\n    \r\n    @Mapper\r\n    public abstract class CarMapper {\r\n    \r\n        CarMapper MAPPER = Mappers.getMapper(CarMapper.class);\r\n    \r\n        @Mapping(source = &quot;dto&quot;, target = &quot;owner&quot;)\r\n        public abstract Car toModel(CarDTO dto);\r\n    \r\n        public Person carDtoToPerson(CarDTO carDto) {\r\n            if (carDto == null || carDto.getOwnerId() == null) {\r\n                return null;\r\n            }\r\n    \r\n            Person person = new Person();\r\n    \r\n            if (carDto.getOwnerId() != null) {\r\n                person.setId(Integer.parseInt(carDto.getOwnerId()));\r\n            }\r\n    \r\n            return person;\r\n        }\r\n    }\r\n\r\n","title":"Mapstruct - Controlling mapping result for &#39;null&#39; arguments","body":"<p>There are many ways to do it. Change your mapper as below with implementation for your carDto to Person conversion.</p>\n<pre><code>package examples.mapper;\n\nimport org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.mapstruct.factory.Mappers;\n\nimport examples.dto.CarDTO;\nimport examples.model.Car;\n\n@Mapper\npublic abstract class CarMapper {\n\n    CarMapper MAPPER = Mappers.getMapper(CarMapper.class);\n\n    @Mapping(source = &quot;dto&quot;, target = &quot;owner&quot;)\n    public abstract Car toModel(CarDTO dto);\n\n    public Person carDtoToPerson(CarDTO carDto) {\n        if (carDto == null || carDto.getOwnerId() == null) {\n            return null;\n        }\n\n        Person person = new Person();\n\n        if (carDto.getOwnerId() != null) {\n            person.setId(Integer.parseInt(carDto.getOwnerId()));\n        }\n\n        return person;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22184457,"reputation":1,"user_id":16427613,"display_name":"lmg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662446462,"creation_date":1628045615,"question_id":68644824,"body_markdown":"Good evening :)\r\n\r\nI have a project with 2 main classes, Car and Person and I&#39;m trying to map their DTO with mapstruct.\r\n\r\nAs Car and Person have a one-to-one optional relationship, **I need that Car.owner == null when CarDTO.ownerId == null** Otherwise I&#39;d face problems trying to persist the Car object with a &lt;Person(id=0, name=null, age=0)&gt; attribute.\r\n\r\nHere are the classes:\r\n\r\n```\r\npackage examples.model;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Car {\r\n\r\n\tprivate int id;\r\n\tprivate Person owner;\r\n\tprivate int numerOfWheels;\r\n\tprivate int seatingCapacity;\r\n\tprivate double maximumVelocity;\r\n}\r\n```\r\n```\r\npackage examples.dto;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class CarDTO {\r\n\r\n\tprivate String id;\r\n\tprivate String ownerId;\r\n\tprivate String numerOfWheels;\r\n\tprivate String seatingCapacity;\r\n\tprivate String maximumVelocity;\r\n}\r\n```\r\n```\r\npackage examples.model;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Person {\r\n\r\n\t\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate int age;\r\n}\r\n```\r\n```\r\npackage examples.mapper;\r\n\r\nimport org.mapstruct.Mapper;\r\nimport org.mapstruct.Mapping;\r\nimport org.mapstruct.factory.Mappers;\r\n\r\nimport examples.dto.CarDTO;\r\nimport examples.model.Car;\r\n\r\n@Mapper\r\npublic interface CarMapper {\r\n\r\n\tCarMapper MAPPER = Mappers.getMapper(CarMapper.class);\r\n\t\r\n\t@Mapping(source = &quot;dto.ownerId&quot;, target = &quot;owner.id&quot;)\r\n\tCar toModel(CarDTO dto);\r\n}\r\n```\r\n\r\nHere is the mapstruct implementation:\r\n```\r\npackage examples.mapper;\r\n\r\nimport examples.dto.CarDTO;\r\nimport examples.model.Car;\r\nimport examples.model.Person;\r\nimport javax.annotation.processing.Generated;\r\n\r\n@Generated(\r\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n    date = &quot;2021-08-03T23:26:30-0300&quot;,\r\n    comments = &quot;version: 1.5.0.Beta1, compiler: Eclipse JDT (IDE) 1.3.1300.v20210419-1022, environment: Java 11.0.11 (Ubuntu)&quot;\r\n)\r\npublic class CarMapperImpl implements CarMapper {\r\n\r\n    @Override\r\n    public Car toModel(CarDTO dto) {\r\n        if ( dto == null ) {\r\n            return null;\r\n        }\r\n\r\n        Car car = new Car();\r\n\r\n        car.setOwner( carDTOToPerson( dto ) );\r\n        if ( dto.getId() != null ) {\r\n            car.setId( Integer.parseInt( dto.getId() ) );\r\n        }\r\n        if ( dto.getMaximumVelocity() != null ) {\r\n            car.setMaximumVelocity( Double.parseDouble( dto.getMaximumVelocity() ) );\r\n        }\r\n        if ( dto.getNumerOfWheels() != null ) {\r\n            car.setNumerOfWheels( Integer.parseInt( dto.getNumerOfWheels() ) );\r\n        }\r\n        if ( dto.getSeatingCapacity() != null ) {\r\n            car.setSeatingCapacity( Integer.parseInt( dto.getSeatingCapacity() ) );\r\n        }\r\n\r\n        return car;\r\n    }\r\n\r\n    protected Person carDTOToPerson(CarDTO carDTO) {\r\n        if ( carDTO == null ) {\r\n            return null;\r\n        }\r\n\r\n        Person person = new Person();\r\n\r\n        if ( carDTO.getOwnerId() != null ) {\r\n            person.setId( Integer.parseInt( carDTO.getOwnerId() ) );\r\n        }\r\n\r\n        return person;\r\n    }\r\n}\r\n```\r\nThe test:\r\n```\r\npackage examples;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport examples.dto.CarDTO;\r\nimport examples.mapper.CarMapper;\r\nimport examples.model.Car;\r\n\r\nclass CarMapperTest {\r\n\r\n\t\r\n\t@Test\r\n\tpublic void testMapDtoToEntity() {\r\n\t\t\r\n\t\t\r\n\t\tCarDTO carDTO = new CarDTO();\r\n\t\tcarDTO.setMaximumVelocity(&quot;115.2&quot;);\r\n\t\tcarDTO.setNumerOfWheels(&quot;4&quot;);\r\n\t\tcarDTO.setSeatingCapacity(&quot;5&quot;);\r\n\t\t\r\n\t\tCar car = CarMapper.MAPPER.toModel(carDTO);\r\n\t\t\r\n\t\tassertEquals(115.2, car.getMaximumVelocity() );\r\n\t\tassertEquals(4, car.getNumerOfWheels() );\r\n\t\tassertEquals(5, car.getSeatingCapacity());\r\n\t\tassertEquals(null, car.getOwner());\r\n\t}\r\n}\r\n```\r\nThe result:\r\n```\r\norg.opentest4j.AssertionFailedError: expected: &lt;null&gt; but was: &lt;Person(id=0, name=null, age=0)&gt;\r\n```\r\n\r\nCan anybody help me solve this? \r\n\r\nThank you very much","title":"Mapstruct - Controlling mapping result for &#39;null&#39; arguments","body":"<p>Good evening :)</p>\n<p>I have a project with 2 main classes, Car and Person and I'm trying to map their DTO with mapstruct.</p>\n<p>As Car and Person have a one-to-one optional relationship, <strong>I need that Car.owner == null when CarDTO.ownerId == null</strong> Otherwise I'd face problems trying to persist the Car object with a &lt;Person(id=0, name=null, age=0)&gt; attribute.</p>\n<p>Here are the classes:</p>\n<pre><code>package examples.model;\n\nimport lombok.Data;\n\n@Data\npublic class Car {\n\n    private int id;\n    private Person owner;\n    private int numerOfWheels;\n    private int seatingCapacity;\n    private double maximumVelocity;\n}\n</code></pre>\n<pre><code>package examples.dto;\n\nimport lombok.Data;\n\n@Data\npublic class CarDTO {\n\n    private String id;\n    private String ownerId;\n    private String numerOfWheels;\n    private String seatingCapacity;\n    private String maximumVelocity;\n}\n</code></pre>\n<pre><code>package examples.model;\n\nimport lombok.Data;\n\n@Data\npublic class Person {\n\n    \n    private int id;\n    private String name;\n    private int age;\n}\n</code></pre>\n<pre><code>package examples.mapper;\n\nimport org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.mapstruct.factory.Mappers;\n\nimport examples.dto.CarDTO;\nimport examples.model.Car;\n\n@Mapper\npublic interface CarMapper {\n\n    CarMapper MAPPER = Mappers.getMapper(CarMapper.class);\n    \n    @Mapping(source = &quot;dto.ownerId&quot;, target = &quot;owner.id&quot;)\n    Car toModel(CarDTO dto);\n}\n</code></pre>\n<p>Here is the mapstruct implementation:</p>\n<pre><code>package examples.mapper;\n\nimport examples.dto.CarDTO;\nimport examples.model.Car;\nimport examples.model.Person;\nimport javax.annotation.processing.Generated;\n\n@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2021-08-03T23:26:30-0300&quot;,\n    comments = &quot;version: 1.5.0.Beta1, compiler: Eclipse JDT (IDE) 1.3.1300.v20210419-1022, environment: Java 11.0.11 (Ubuntu)&quot;\n)\npublic class CarMapperImpl implements CarMapper {\n\n    @Override\n    public Car toModel(CarDTO dto) {\n        if ( dto == null ) {\n            return null;\n        }\n\n        Car car = new Car();\n\n        car.setOwner( carDTOToPerson( dto ) );\n        if ( dto.getId() != null ) {\n            car.setId( Integer.parseInt( dto.getId() ) );\n        }\n        if ( dto.getMaximumVelocity() != null ) {\n            car.setMaximumVelocity( Double.parseDouble( dto.getMaximumVelocity() ) );\n        }\n        if ( dto.getNumerOfWheels() != null ) {\n            car.setNumerOfWheels( Integer.parseInt( dto.getNumerOfWheels() ) );\n        }\n        if ( dto.getSeatingCapacity() != null ) {\n            car.setSeatingCapacity( Integer.parseInt( dto.getSeatingCapacity() ) );\n        }\n\n        return car;\n    }\n\n    protected Person carDTOToPerson(CarDTO carDTO) {\n        if ( carDTO == null ) {\n            return null;\n        }\n\n        Person person = new Person();\n\n        if ( carDTO.getOwnerId() != null ) {\n            person.setId( Integer.parseInt( carDTO.getOwnerId() ) );\n        }\n\n        return person;\n    }\n}\n</code></pre>\n<p>The test:</p>\n<pre><code>package examples;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport org.junit.jupiter.api.Test;\n\nimport examples.dto.CarDTO;\nimport examples.mapper.CarMapper;\nimport examples.model.Car;\n\nclass CarMapperTest {\n\n    \n    @Test\n    public void testMapDtoToEntity() {\n        \n        \n        CarDTO carDTO = new CarDTO();\n        carDTO.setMaximumVelocity(&quot;115.2&quot;);\n        carDTO.setNumerOfWheels(&quot;4&quot;);\n        carDTO.setSeatingCapacity(&quot;5&quot;);\n        \n        Car car = CarMapper.MAPPER.toModel(carDTO);\n        \n        assertEquals(115.2, car.getMaximumVelocity() );\n        assertEquals(4, car.getNumerOfWheels() );\n        assertEquals(5, car.getSeatingCapacity());\n        assertEquals(null, car.getOwner());\n    }\n}\n</code></pre>\n<p>The result:</p>\n<pre><code>org.opentest4j.AssertionFailedError: expected: &lt;null&gt; but was: &lt;Person(id=0, name=null, age=0)&gt;\n</code></pre>\n<p>Can anybody help me solve this?</p>\n<p>Thank you very much</p>\n"},{"tags":["java","android","opencv"],"answers":[{"tags":[],"owner":{"account_id":6722570,"reputation":1864,"user_id":5181947,"accept_rate":82,"display_name":"Ank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1497940876,"creation_date":1497940876,"answer_id":44645626,"question_id":44621029,"body_markdown":"So finally I managed to write a similar code in Java:\r\n\r\n    int k = 0;\r\n    for(int i=0; i&lt; contours.size();i++) {\r\n       if (Imgproc.contourArea(contours.get(i)) &gt; 1000 &amp;&amp; Imgproc.contourArea(contours.get(i)) &lt; 10000 ) {\r\n           Scalar colour = new Scalar(90,255,255);\r\n           Imgproc.drawContours(image,contours,i,colour,-1);\r\n           Imgproc.convexHull(contours.get(i),hull);\r\n           List&lt;Point&gt; l = new ArrayList&lt;Point&gt;();\r\n           l.clear();\r\n           double sum_x = 0;\r\n           double sum_y = 0;\r\n           int j;\r\n           for (j = 0; j &lt; hull.size().height; j++) {\r\n               l.add(contours.get(i).toList().get(hull.toList().get(j)));\r\n               sum_x += l.get(j).x;\r\n               sum_y += l.get(j).y;\r\n           }\r\n           x[0][k] = sum_x / j;\r\n           x[1][k] = sum_y / j;\r\n           k++;\r\n       }\r\n    }","title":"Find center of objects using OpenCV4Android","body":"<p>So finally I managed to write a similar code in Java:</p>\n\n<pre><code>int k = 0;\nfor(int i=0; i&lt; contours.size();i++) {\n   if (Imgproc.contourArea(contours.get(i)) &gt; 1000 &amp;&amp; Imgproc.contourArea(contours.get(i)) &lt; 10000 ) {\n       Scalar colour = new Scalar(90,255,255);\n       Imgproc.drawContours(image,contours,i,colour,-1);\n       Imgproc.convexHull(contours.get(i),hull);\n       List&lt;Point&gt; l = new ArrayList&lt;Point&gt;();\n       l.clear();\n       double sum_x = 0;\n       double sum_y = 0;\n       int j;\n       for (j = 0; j &lt; hull.size().height; j++) {\n           l.add(contours.get(i).toList().get(hull.toList().get(j)));\n           sum_x += l.get(j).x;\n           sum_y += l.get(j).y;\n       }\n       x[0][k] = sum_x / j;\n       x[1][k] = sum_y / j;\n       k++;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":6722570,"reputation":1864,"user_id":5181947,"accept_rate":82,"display_name":"Ank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44645626,"answer_count":1,"score":0,"last_activity_date":1662446350,"creation_date":1497834896,"question_id":44621029,"body_markdown":"Sometime ago I wrote a code in python using OpenCV to find the center of objects:\r\n\r\n    x= np.zeros(4)\r\n\ty = np.zeros(4)\r\n\ti = 0\r\n\tfor cnt in contour:\r\n\t\tarea = cv2.contourArea(cnt)\r\n\t\tif area&gt;=100 and area&lt;=5000:\r\n\t\t\thull = cv2.convexHull(cnt)\r\n\t\t\tx[i] = hull[:,:,0].mean()\r\n\t\t\ty[i] = hull[:,:,1].mean()\r\n\t\t\ti = i + 1\r\nSince OpenCV has Java interface too I want to implement this code in an android app. I wrote a somewhat similar code but I am not getting what I want. mopOut is just giving some random things which I don&#39;t need:\r\n\r\n    for(int i=0; i&lt; contours.size();i++) {\r\n            if (Imgproc.contourArea(contours.get(i)) &gt; 1000 &amp;&amp; Imgproc.contourArea(contours.get(i)) &lt; 10000 ) {\r\n                Imgproc.convexHull(contours.get(i),hull);\r\n                MatOfPoint mopOut = new MatOfPoint();\r\n                mopOut.create((int)hull.size().height,1, CvType.CV_32SC2);\r\n                for(int j = 0; j &lt; hull.size().height ; j++)\r\n                {\r\n                    int index = (int)hull.get(j, 0)[0];\r\n                    double[] point = new double[] {\r\n                            contours.get(i).get(index, 0)[0], contours.get(i).get(index, 0)[1]\r\n                    };\r\n                    mopOut.put(i, 0, point);\r\n                }\r\n            }\r\n        }\r\nCan someone tell me the right way to do it? Or else any other better alternative way to find the centers?\r\n\r\nI am new to Java and Android app development, so I might be missing something simple. Thanks for help!","title":"Find center of objects using OpenCV4Android","body":"<p>Sometime ago I wrote a code in python using OpenCV to find the center of objects:</p>\n\n<pre><code>x= np.zeros(4)\ny = np.zeros(4)\ni = 0\nfor cnt in contour:\n    area = cv2.contourArea(cnt)\n    if area&gt;=100 and area&lt;=5000:\n        hull = cv2.convexHull(cnt)\n        x[i] = hull[:,:,0].mean()\n        y[i] = hull[:,:,1].mean()\n        i = i + 1\n</code></pre>\n\n<p>Since OpenCV has Java interface too I want to implement this code in an android app. I wrote a somewhat similar code but I am not getting what I want. mopOut is just giving some random things which I don't need:</p>\n\n<pre><code>for(int i=0; i&lt; contours.size();i++) {\n        if (Imgproc.contourArea(contours.get(i)) &gt; 1000 &amp;&amp; Imgproc.contourArea(contours.get(i)) &lt; 10000 ) {\n            Imgproc.convexHull(contours.get(i),hull);\n            MatOfPoint mopOut = new MatOfPoint();\n            mopOut.create((int)hull.size().height,1, CvType.CV_32SC2);\n            for(int j = 0; j &lt; hull.size().height ; j++)\n            {\n                int index = (int)hull.get(j, 0)[0];\n                double[] point = new double[] {\n                        contours.get(i).get(index, 0)[0], contours.get(i).get(index, 0)[1]\n                };\n                mopOut.put(i, 0, point);\n            }\n        }\n    }\n</code></pre>\n\n<p>Can someone tell me the right way to do it? Or else any other better alternative way to find the centers?</p>\n\n<p>I am new to Java and Android app development, so I might be missing something simple. Thanks for help!</p>\n"},{"tags":["java","orm","ebean"],"answers":[{"tags":[],"owner":{"account_id":394237,"reputation":10095,"user_id":756566,"accept_rate":53,"display_name":"Steven Matthews"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603753469,"creation_date":1603753469,"answer_id":64546165,"question_id":64544066,"body_markdown":"Apparently something like this works:\r\n\r\n     Article article = DB.find(Article.class)\r\n    .select(&quot;id, title, body&quot;).where().eq(&quot;id&quot;, articleId)\r\n    .findOne();\r\n\r\n    System.out.println(&quot;Article&quot;);\r\n    System.out.println(article);\r\n\r\nNot entirely sure what the difference is, as the Ebeans documentation is a little sparse, but this works for me","title":"Ebean query seems to stop execution","body":"<p>Apparently something like this works:</p>\n<pre><code> Article article = DB.find(Article.class)\n.select(&quot;id, title, body&quot;).where().eq(&quot;id&quot;, articleId)\n.findOne();\n\nSystem.out.println(&quot;Article&quot;);\nSystem.out.println(article);\n</code></pre>\n<p>Not entirely sure what the difference is, as the Ebeans documentation is a little sparse, but this works for me</p>\n"},{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662445657,"creation_date":1662445657,"answer_id":73617575,"question_id":64544066,"body_markdown":"&gt; see your log , **io.ebean.SQL - txn[txnNum] -&gt; your query** , **io.ebean.SUM - txn[txNum] -&gt; find bean or not** \r\n\r\n if find -&gt; **row[1]** :\r\n\r\n    io.ebean.SUM - txn[txNum] FindBean type[beanType] origin[DrFzdL.A.A] exeMicros[num] rows[1] bind[beanId, ]\r\n \r\nif not find -&gt; **row[0]** :\r\n\r\n    io.ebean.SUM - txn[txNum] FindBean type[beanType] origin[DrFzdL.A.A] exeMicros[num] rows[0] bind[beanId, ]\r\n","title":"Ebean query seems to stop execution","body":"<blockquote>\n<p>see your log , <strong>io.ebean.SQL - txn[txnNum] -&gt; your query</strong> , <strong>io.ebean.SUM - txn[txNum] -&gt; find bean or not</strong></p>\n</blockquote>\n<p>if find -&gt; <strong>row[1]</strong> :</p>\n<pre><code>io.ebean.SUM - txn[txNum] FindBean type[beanType] origin[DrFzdL.A.A] exeMicros[num] rows[1] bind[beanId, ]\n</code></pre>\n<p>if not find -&gt; <strong>row[0]</strong> :</p>\n<pre><code>io.ebean.SUM - txn[txNum] FindBean type[beanType] origin[DrFzdL.A.A] exeMicros[num] rows[0] bind[beanId, ]\n</code></pre>\n"}],"owner":{"account_id":394237,"reputation":10095,"user_id":756566,"accept_rate":53,"display_name":"Steven Matthews"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662445657,"creation_date":1603741879,"question_id":64544066,"body_markdown":"I am trying to do a fairly simple Ebean query:\r\n\r\n     Long articleId = Long.parseLong(dataFetchingEnvironment.getArgument(&quot;id&quot;));\r\n     System.out.println(&quot;Article ID&quot;);\r\n     System.out.println(articleId);\r\n     Article article = DB.find(Article.class).where().eq(&quot;id&quot;, articleId).findOne();\r\n     System.out.println(&quot;Article&quot;);\r\n     System.out.println(article);\r\n\r\nArticle ID prints to the console, articleId prints to the console\r\n\r\nHowever everything after the query does not. Absolutely no logging at all.\r\n\r\nI&#39;ve tried to enable a logback.xml on all of the queries, I&#39;m not seeing any errors.\r\n\r\nWhat could be going on here? Clearly there&#39;s some problem going on that is not being made available for me to see - how do I debug this?","title":"Ebean query seems to stop execution","body":"<p>I am trying to do a fairly simple Ebean query:</p>\n<pre><code> Long articleId = Long.parseLong(dataFetchingEnvironment.getArgument(&quot;id&quot;));\n System.out.println(&quot;Article ID&quot;);\n System.out.println(articleId);\n Article article = DB.find(Article.class).where().eq(&quot;id&quot;, articleId).findOne();\n System.out.println(&quot;Article&quot;);\n System.out.println(article);\n</code></pre>\n<p>Article ID prints to the console, articleId prints to the console</p>\n<p>However everything after the query does not. Absolutely no logging at all.</p>\n<p>I've tried to enable a logback.xml on all of the queries, I'm not seeing any errors.</p>\n<p>What could be going on here? Clearly there's some problem going on that is not being made available for me to see - how do I debug this?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","docx4j"],"answers":[{"tags":[],"owner":{"account_id":1940767,"reputation":17954,"user_id":1747018,"accept_rate":100,"display_name":"Yogesh_D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662445486,"creation_date":1662445089,"answer_id":73617492,"question_id":73615663,"body_markdown":"Not an expert on docx4j but you do have the save method on the `WordprocessingMLPackage` class that allows you to save to a file.\r\n\r\nhttps://javadoc.io/doc/org.docx4j/docx4j/latest/org/docx4j/openpackaging/packages/OpcPackage.html\r\n\r\nThe `OpcPackage` is a parent class of WordprocessingMLPackage so you should be able to call the save method that saves to a file.\r\n\r\n\r\n&gt; public void save(File file)\r\n&gt;           throws Docx4JException\r\n&gt; \r\n&gt; Convenience method to save a WordprocessingMLPackage or\r\n&gt; PresentationMLPackage to a File. If the file ends with .xml, use Flat\r\n&gt; OPC XML format; otherwise zip it up.\r\n&gt; \r\n&gt; Throws:\r\n&gt;     Docx4JException\r\n\r\nYou could use this to save the file and then upload it to S3.\r\n\r\nYou could also save the file to a byteArray using this method.\r\n\r\n&gt; public void save(OutputStream outStream)\r\n&gt;           throws Docx4JException\r\n&gt; \r\n&gt; Save this pkg to an OutputStream in the usual zipped up format\r\n&gt; (Docx4J.FLAG_SAVE_ZIP_FILE)\r\n&gt; \r\n&gt; Throws:\r\n&gt;     Docx4JException Since:\r\n&gt;     3.1.0\r\n\r\nAnd then use the contents of the OutputStream to save to S3.","title":"Download a .docx file from s3, rewrite and upload to s3 again. Java 17 Springboot","body":"<p>Not an expert on docx4j but you do have the save method on the <code>WordprocessingMLPackage</code> class that allows you to save to a file.</p>\n<p><a href=\"https://javadoc.io/doc/org.docx4j/docx4j/latest/org/docx4j/openpackaging/packages/OpcPackage.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.docx4j/docx4j/latest/org/docx4j/openpackaging/packages/OpcPackage.html</a></p>\n<p>The <code>OpcPackage</code> is a parent class of WordprocessingMLPackage so you should be able to call the save method that saves to a file.</p>\n<blockquote>\n<p>public void save(File file)\nthrows Docx4JException</p>\n<p>Convenience method to save a WordprocessingMLPackage or\nPresentationMLPackage to a File. If the file ends with .xml, use Flat\nOPC XML format; otherwise zip it up.</p>\n<p>Throws:\nDocx4JException</p>\n</blockquote>\n<p>You could use this to save the file and then upload it to S3.</p>\n<p>You could also save the file to a byteArray using this method.</p>\n<blockquote>\n<p>public void save(OutputStream outStream)\nthrows Docx4JException</p>\n<p>Save this pkg to an OutputStream in the usual zipped up format\n(Docx4J.FLAG_SAVE_ZIP_FILE)</p>\n<p>Throws:\nDocx4JException Since:\n3.1.0</p>\n</blockquote>\n<p>And then use the contents of the OutputStream to save to S3.</p>\n"}],"owner":{"account_id":17100954,"reputation":3,"user_id":13830486,"display_name":"Ivan David Mui&#241;os"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73617492,"answer_count":1,"score":0,"last_activity_date":1662445486,"creation_date":1662424272,"question_id":73615663,"body_markdown":"I have a templates files (.docx) in a Bucket S3. These files contains text and variables that will be replaced with some content. \r\nThis replacement will be do with Docx4J.\r\nOnce it is replaced, I have to upload these files to S3 again. \r\n\r\nWhen I get the file from s3 I use:\r\n\r\n    byte[] doc = s3Client.downloadFile(s3TemplateFolder, &quot;example-template-en.docx&quot;, bucket);\r\n\r\nFor replace the variables in the file I use Docx4J:\r\n\r\n      InputStream targetStream = ByteSource.wrap(doc).openStream();\r\n      HashMap mappings = new HashMap();\r\n      WordprocessingMLPackage wordMLPackage = Docx4J.load(targetStream);\r\n      VariablePrepare.prepare(wordMLPackage);\r\n      mappings.put(&quot;Download_date&quot;, &quot;asd!&quot;);\r\n      wordMLPackage.getMainDocumentPart().variableReplace(mappings);\r\n\r\nThe problem is when I have to upload the updated file to s3 again. S3client only support File type. I don&#39;t know how should I do for convert WordprocessingMLPackage to a File again.\r\n\r\nIf you can think of another way to do this, you are welcome :)\r\n\r\nThank you so much.","title":"Download a .docx file from s3, rewrite and upload to s3 again. Java 17 Springboot","body":"<p>I have a templates files (.docx) in a Bucket S3. These files contains text and variables that will be replaced with some content.\nThis replacement will be do with Docx4J.\nOnce it is replaced, I have to upload these files to S3 again.</p>\n<p>When I get the file from s3 I use:</p>\n<pre><code>byte[] doc = s3Client.downloadFile(s3TemplateFolder, &quot;example-template-en.docx&quot;, bucket);\n</code></pre>\n<p>For replace the variables in the file I use Docx4J:</p>\n<pre><code>  InputStream targetStream = ByteSource.wrap(doc).openStream();\n  HashMap mappings = new HashMap();\n  WordprocessingMLPackage wordMLPackage = Docx4J.load(targetStream);\n  VariablePrepare.prepare(wordMLPackage);\n  mappings.put(&quot;Download_date&quot;, &quot;asd!&quot;);\n  wordMLPackage.getMainDocumentPart().variableReplace(mappings);\n</code></pre>\n<p>The problem is when I have to upload the updated file to s3 again. S3client only support File type. I don't know how should I do for convert WordprocessingMLPackage to a File again.</p>\n<p>If you can think of another way to do this, you are welcome :)</p>\n<p>Thank you so much.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":183758,"reputation":15637,"user_id":419338,"accept_rate":82,"display_name":"mbatchkarov"},"score":3,"creation_date":1316220741,"post_id":7451707,"comment_id":9013469,"body_markdown":"Javac is usually quite helpful and the error messages it returns are quite clear. Next time you have one of these have a short break and the answer will come to you :)","body":"Javac is usually quite helpful and the error messages it returns are quite clear. Next time you have one of these have a short break and the answer will come to you :)"},{"owner":{"display_name":"user166390"},"score":2,"creation_date":1316222233,"post_id":7451707,"comment_id":9013603,"body_markdown":"`CircleR` is not a constructor for `Circle`. The names *must* match.","body":"<code>CircleR</code> is not a constructor for <code>Circle</code>. The names <i>must</i> match."}],"answers":[{"tags":[],"owner":{"account_id":904529,"reputation":3765,"user_id":939709,"display_name":"datalost"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1316220594,"creation_date":1316220594,"answer_id":7451717,"question_id":7451707,"body_markdown":"You forgot to declare double as a return type\r\n\r\n    public double diameter()\r\n    {\r\n        double d = radius * 2;\r\n        return d;\r\n    }\r\n","title":"Java error - &quot;invalid method declaration; return type required&quot;","body":"<p>You forgot to declare double as a return type</p>\n\n<pre><code>public double diameter()\n{\n    double d = radius * 2;\n    return d;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1316220616,"creation_date":1316220616,"answer_id":7451720,"question_id":7451707,"body_markdown":"Every method (other than a constructor) must have a return type.\r\n\r\n    public double diameter(){...","title":"Java error - &quot;invalid method declaration; return type required&quot;","body":"<p>Every method (other than a constructor) must have a return type.</p>\n\n<pre><code>public double diameter(){...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":539082,"reputation":3215,"user_id":906815,"accept_rate":100,"display_name":"Annie Lagang"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1447353713,"creation_date":1316222648,"answer_id":7451848,"question_id":7451707,"body_markdown":"&gt; As you can see, the code public Circle(double r).... how is that\r\n&gt; different from  what I did in mine with public CircleR(double r)? For\r\n&gt; whatever reason, no error  is given in the code from the book, however\r\n&gt; mine says there is an error there.\r\n\r\nWhen defining constructors of a class, they should have the same name as its class.\r\nThus the following code\r\n    \r\n    public class Circle\r\n    { \r\n        //This part is called the constructor and lets us specify the radius of a  \r\n        //particular circle. \r\n      public Circle(double r) \r\n      { \r\n       radius = r; \r\n      }\r\n     ....\r\n    } \r\n\r\nis correct while your code\r\n\r\n    public class Circle\r\n    {\r\n        private double radius;\r\n        public CircleR(double r)\r\n        {\r\n            radius = r;\r\n        }\r\n        public diameter()\r\n        {\r\n           double d = radius * 2;\r\n           return d;\r\n        }\r\n    }\r\n\r\nis wrong because your constructor has different name from its class. You could either follow the same code from the book and change your constructor from     \r\n\r\n    public CircleR(double r) \r\n\r\nto \r\n\r\n    public Circle(double r)\r\n\r\nor (if you really wanted to name your constructor as CircleR) rename your class to CircleR.  \r\n\r\nSo your new class should be\r\n\r\n    public class CircleR\r\n    {\r\n        private double radius;\r\n        public CircleR(double r)\r\n        {\r\n            radius = r;\r\n        }\r\n        public double diameter()\r\n        {\r\n           double d = radius * 2;\r\n           return d;\r\n        }\r\n    }\r\n\r\nI also added the return type double in your method as pointed out by Froyo and John B. \r\n\r\nRefer to this [article][1] about constructors.\r\n\r\nHTH.\r\n\r\n  [1]: http://leepoint.net/notes-java/oop/constructors/constructor.html","title":"Java error - &quot;invalid method declaration; return type required&quot;","body":"<blockquote>\n  <p>As you can see, the code public Circle(double r).... how is that\n  different from  what I did in mine with public CircleR(double r)? For\n  whatever reason, no error  is given in the code from the book, however\n  mine says there is an error there.</p>\n</blockquote>\n\n<p>When defining constructors of a class, they should have the same name as its class.\nThus the following code</p>\n\n<pre><code>public class Circle\n{ \n    //This part is called the constructor and lets us specify the radius of a  \n    //particular circle. \n  public Circle(double r) \n  { \n   radius = r; \n  }\n ....\n} \n</code></pre>\n\n<p>is correct while your code</p>\n\n<pre><code>public class Circle\n{\n    private double radius;\n    public CircleR(double r)\n    {\n        radius = r;\n    }\n    public diameter()\n    {\n       double d = radius * 2;\n       return d;\n    }\n}\n</code></pre>\n\n<p>is wrong because your constructor has different name from its class. You could either follow the same code from the book and change your constructor from     </p>\n\n<pre><code>public CircleR(double r) \n</code></pre>\n\n<p>to </p>\n\n<pre><code>public Circle(double r)\n</code></pre>\n\n<p>or (if you really wanted to name your constructor as CircleR) rename your class to CircleR.  </p>\n\n<p>So your new class should be</p>\n\n<pre><code>public class CircleR\n{\n    private double radius;\n    public CircleR(double r)\n    {\n        radius = r;\n    }\n    public double diameter()\n    {\n       double d = radius * 2;\n       return d;\n    }\n}\n</code></pre>\n\n<p>I also added the return type double in your method as pointed out by Froyo and John B. </p>\n\n<p>Refer to this <a href=\"http://leepoint.net/notes-java/oop/constructors/constructor.html\" rel=\"noreferrer\">article</a> about constructors.</p>\n\n<p>HTH.</p>\n"},{"tags":[],"owner":{"account_id":5751917,"reputation":1,"user_id":4541303,"display_name":"BeforeThunder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1423334293,"creation_date":1423334293,"answer_id":28385883,"question_id":7451707,"body_markdown":"I had a similar issue when adding a class to the main method. Turns out it wasn&#39;t an issue, it was me not checking my spelling. So, as a noob, I learned that mis-spelling can and will mess things up. These posts helped me &quot;see&quot; my mistake and all is good now. ","title":"Java error - &quot;invalid method declaration; return type required&quot;","body":"<p>I had a similar issue when adding a class to the main method. Turns out it wasn't an issue, it was me not checking my spelling. So, as a noob, I learned that mis-spelling can and will mess things up. These posts helped me \"see\" my mistake and all is good now. </p>\n"}],"owner":{"account_id":558434,"reputation":747,"user_id":920920,"accept_rate":97,"display_name":"Alex G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130770,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":7451848,"answer_count":4,"score":8,"last_activity_date":1662445018,"creation_date":1316220475,"question_id":7451707,"body_markdown":"We are learning how to use multiple classes in `Java` now, and there is a project asking about creating a class `Circle` which will contain a `radius` and a `diameter`, then reference it from a main class to find the diameter. This code continues to receive an error (mentioned in the title)\r\n\r\n\r\n    public class Circle\r\n    {\r\n        public CircleR(double r)\r\n        {\r\n            radius = r;\r\n        }\r\n        public diameter()\r\n        {\r\n            double d = radius * 2;\r\n            return d;\r\n        }\r\n    }\r\n\r\nThanks for any help, -AJ\r\n\r\n**Update 1**:\r\nOkay, but I shouldn&#39;t have to declare the third line `public CircleR(double r)` as a double, right? In the book I am learning from, the example doesn&#39;t do that.\r\n\r\n    public class Circle \r\n    \r\n        { \r\n            //This part is called the constructor and lets us specify the radius of a  \r\n          //particular circle. \r\n          public Circle(double r) \r\n          { \r\n           radius = r; \r\n          } \r\n         \r\n          //This is a method. It performs some action (in this case it calculates the \r\n            //area of the circle and returns it. \r\n            public double area( )  //area method \r\n          { \r\n              double a = Math.PI * radius * radius; \r\n           return a; \r\n        } \r\n         \r\n        public double circumference( )  //circumference method \r\n        { \r\n          double c = 2 * Math.PI * radius; \r\n         return c; \r\n        } \r\n         \r\n            public double radius;  //This is a State Variable…also called Instance \r\n             //Field and Data Member. It is available to code \r\n        // in ALL the methods in this class. \r\n         } \r\n\r\nAs you can see, the code `public Circle(double r)....` how is that different from what I did in mine with `public CircleR(double r)`? For whatever reason, no error is given in the code from the book, however mine says there is an error there.\r\n\r\n","title":"Java error - &quot;invalid method declaration; return type required&quot;","body":"<p>We are learning how to use multiple classes in <code>Java</code> now, and there is a project asking about creating a class <code>Circle</code> which will contain a <code>radius</code> and a <code>diameter</code>, then reference it from a main class to find the diameter. This code continues to receive an error (mentioned in the title)</p>\n\n<pre><code>public class Circle\n{\n    public CircleR(double r)\n    {\n        radius = r;\n    }\n    public diameter()\n    {\n        double d = radius * 2;\n        return d;\n    }\n}\n</code></pre>\n\n<p>Thanks for any help, -AJ</p>\n\n<p><strong>Update 1</strong>:\nOkay, but I shouldn't have to declare the third line <code>public CircleR(double r)</code> as a double, right? In the book I am learning from, the example doesn't do that.</p>\n\n<pre><code>public class Circle \n\n    { \n        //This part is called the constructor and lets us specify the radius of a  \n      //particular circle. \n      public Circle(double r) \n      { \n       radius = r; \n      } \n\n      //This is a method. It performs some action (in this case it calculates the \n        //area of the circle and returns it. \n        public double area( )  //area method \n      { \n          double a = Math.PI * radius * radius; \n       return a; \n    } \n\n    public double circumference( )  //circumference method \n    { \n      double c = 2 * Math.PI * radius; \n     return c; \n    } \n\n        public double radius;  //This is a State Variable…also called Instance \n         //Field and Data Member. It is available to code \n    // in ALL the methods in this class. \n     } \n</code></pre>\n\n<p>As you can see, the code <code>public Circle(double r)....</code> how is that different from what I did in mine with <code>public CircleR(double r)</code>? For whatever reason, no error is given in the code from the book, however mine says there is an error there.</p>\n"},{"tags":["java","java-8","inputstream","java-stream"],"comments":[{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":0,"creation_date":1474139452,"post_id":39550670,"comment_id":66413146,"body_markdown":"I/O streams are streams of data, bits and bytes from some source. The java8 streams are a way of traversing collections. They are used for completely different things.","body":"I/O streams are streams of data, bits and bytes from some source. The java8 streams are a way of traversing collections. They are used for completely different things."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1474139528,"post_id":39550670,"comment_id":66413166,"body_markdown":"You&#39;re asking use to compare a mechanism for applying methods to elements in some form of collection to the concept of writing (or reading) bytes. Those aren&#39;t really very similar concepts.","body":"You&#39;re asking use to compare a mechanism for applying methods to elements in some form of collection to the concept of writing (or reading) bytes. Those aren&#39;t really very similar concepts."},{"owner":{"account_id":2205006,"reputation":186,"user_id":1948454,"display_name":"codebat"},"score":0,"creation_date":1474140239,"post_id":39550670,"comment_id":66413396,"body_markdown":"Yeah I know, but this is somehow too vague for me. Can this be somehow explained like, the one thing is a datastructure (?) and the other thing is... what?","body":"Yeah I know, but this is somehow too vague for me. Can this be somehow explained like, the one thing is a datastructure (?) and the other thing is... what?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1474142410,"post_id":39550670,"comment_id":66414017,"body_markdown":"*I/O streams* are for reading/writing bytes for Input/Output, mostly files and network sockets. The new *Streams* are for functional programming, mostly for processing Collections. They have nothing to do with each other, except an accidental **name conflict**.","body":"<i>I/O streams</i> are for reading/writing bytes for Input/Output, mostly files and network sockets. The new <i>Streams</i> are for functional programming, mostly for processing Collections. They have nothing to do with each other, except an accidental <b>name conflict</b>."},{"owner":{"account_id":8184500,"reputation":499,"user_id":6160689,"display_name":"Sartorius"},"score":4,"creation_date":1474147208,"post_id":39550670,"comment_id":66415262,"body_markdown":"&quot;both deal with sequences of things, be it bytes, data or objects...&quot;. Right, there is no real difference on this abstract conceptual level. And I think this is the reason why both got named `streams`.","body":"&quot;both deal with sequences of things, be it bytes, data or objects...&quot;. Right, there is no real difference on this abstract conceptual level. And I think this is the reason why both got named <code>streams</code>."}],"answers":[{"tags":[],"owner":{"account_id":8615996,"reputation":1316,"user_id":6452817,"accept_rate":100,"display_name":"Silverclaw"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1474139480,"creation_date":1474139480,"answer_id":39550724,"question_id":39550670,"body_markdown":"It has nothing to do with each other and I agree, it&#39;s bad luck that IO Streams had their name before the &quot;new&quot; Streams have arrived. The I/O streams were meant as connections to external resources, mostly files, but also others. The new Streams are for functional programming and should be treated separately.\r\n\r\nBut you can actually use both concepts together. For example, a BufferedReader has a [lines](https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--)-method, which returns lines of a file (or other resources) as a Stream of Strings.","title":"Java: Difference between Streams and I/O stream explained","body":"<p>It has nothing to do with each other and I agree, it's bad luck that IO Streams had their name before the \"new\" Streams have arrived. The I/O streams were meant as connections to external resources, mostly files, but also others. The new Streams are for functional programming and should be treated separately.</p>\n\n<p>But you can actually use both concepts together. For example, a BufferedReader has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--\" rel=\"noreferrer\">lines</a>-method, which returns lines of a file (or other resources) as a Stream of Strings.</p>\n"},{"tags":[],"owner":{"account_id":5618516,"reputation":117,"user_id":4449097,"accept_rate":0,"display_name":"Daniel Urbaniak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508077151,"creation_date":1508077151,"answer_id":46756048,"question_id":39550670,"body_markdown":"In term of &#39;stream&#39; there is no difference. Stream is abstract phrase that means something that has a source and destination. What is more it is something that represents sequence of data. \n\nIn term of these two mechanism there is a lot of differences. For example Java i/o streams let you only read and write data. If you want to process data from that stream there is no builded in mechanism for that. In Java 8 stream there are additional possibilities of processig like map/filter etc.","title":"Java: Difference between Streams and I/O stream explained","body":"<p>In term of 'stream' there is no difference. Stream is abstract phrase that means something that has a source and destination. What is more it is something that represents sequence of data. </p>\n\n<p>In term of these two mechanism there is a lot of differences. For example Java i/o streams let you only read and write data. If you want to process data from that stream there is no builded in mechanism for that. In Java 8 stream there are additional possibilities of processig like map/filter etc.</p>\n"},{"tags":[],"owner":{"account_id":7438670,"reputation":991,"user_id":5657159,"display_name":"Uvuvwevwevwe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1662444832,"creation_date":1605630652,"answer_id":64879319,"question_id":39550670,"body_markdown":"Let&#39;s take a look at the picture illustrated I/O stream.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThere are **three concerning concepts** related to I/O stream: **Source**, **Destination**, and **Element** (represented by the letter &#39;e&#39;), where\r\n- **Source** or **Destination** could by a file, network connection, pipe, memory buffer etc.\r\n- An **Element** is just simply a piece of data and a **stream** consist of a chunk of elements\r\n\r\n## When to use what? ##\r\n\r\n**I/O streams** are for reading content from a source, or writing the content to a destination. That&#39;s it, simple :-)\r\n\r\n**The new Stream concept introduced in Java 8 has nothing to do with I/O streams**. Streams are not themselves data structures, but Classes that allow you to manipulate a collection of data in a declarative way (functional-style operation).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KgsSE.png","title":"Java: Difference between Streams and I/O stream explained","body":"<p>Let's take a look at the picture illustrated I/O stream.</p>\n<p><a href=\"https://i.stack.imgur.com/KgsSE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KgsSE.png\" alt=\"enter image description here\" /></a></p>\n<p>There are <strong>three concerning concepts</strong> related to I/O stream: <strong>Source</strong>, <strong>Destination</strong>, and <strong>Element</strong> (represented by the letter 'e'), where</p>\n<ul>\n<li><strong>Source</strong> or <strong>Destination</strong> could by a file, network connection, pipe, memory buffer etc.</li>\n<li>An <strong>Element</strong> is just simply a piece of data and a <strong>stream</strong> consist of a chunk of elements</li>\n</ul>\n<h2>When to use what?</h2>\n<p><strong>I/O streams</strong> are for reading content from a source, or writing the content to a destination. That's it, simple :-)</p>\n<p><strong>The new Stream concept introduced in Java 8 has nothing to do with I/O streams</strong>. Streams are not themselves data structures, but Classes that allow you to manipulate a collection of data in a declarative way (functional-style operation).</p>\n"}],"owner":{"account_id":2205006,"reputation":186,"user_id":1948454,"display_name":"codebat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6095,"favorite_count":0,"down_vote_count":3,"up_vote_count":10,"answer_count":3,"score":7,"last_activity_date":1662444832,"creation_date":1474139121,"question_id":39550670,"body_markdown":"I&#39;m looking for a good explaination of the difference between the &quot;new&quot; Streams in Java 8 and the &quot;old&quot; I/O Streams we had before in Java 7. For someone without any knowledge of functional programming, it&#39;s hard to get that those are complete different things, especially because the names are the same. I get that the Stream API is something completely new and even revolutionary in some point, but in my naive thinking, in both cases we deal with sequences of &quot;things&quot;, be it bytes, data or objects...\r\n\r\nCan someone please offer a good explaination?","title":"Java: Difference between Streams and I/O stream explained","body":"<p>I'm looking for a good explaination of the difference between the \"new\" Streams in Java 8 and the \"old\" I/O Streams we had before in Java 7. For someone without any knowledge of functional programming, it's hard to get that those are complete different things, especially because the names are the same. I get that the Stream API is something completely new and even revolutionary in some point, but in my naive thinking, in both cases we deal with sequences of \"things\", be it bytes, data or objects...</p>\n\n<p>Can someone please offer a good explaination?</p>\n"},{"tags":["java","junit","environment-variables","zshrc"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1662445450,"post_id":73617403,"comment_id":130000272,"body_markdown":"I would never set a global CLASSPATH environment variable, this is quite misleading. Also the delimiter there is `:` not `;` (the latter only for Windows). If you use the junit jar file with the `-jar` parameter it&#39;s in the classpath anyways.","body":"I would never set a global CLASSPATH environment variable, this is quite misleading. Also the delimiter there is <code>:</code> not <code>;</code> (the latter only for Windows). If you use the junit jar file with the <code>-jar</code> parameter it&#39;s in the classpath anyways."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662451753,"post_id":73617403,"comment_id":130002195,"body_markdown":"Not sure if rc files in random places is good either. If you&#39;re going to do that, you should source it from the one in your home directory","body":"Not sure if rc files in random places is good either. If you&#39;re going to do that, you should source it from the one in your home directory"}],"owner":{"account_id":26256686,"reputation":1,"user_id":19928628,"display_name":"JellyEffx Lo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662444785,"creation_date":1662444504,"question_id":73617403,"body_markdown":"so I am trying to add JUnit5 on my macbook. \r\nThese are the steps I took in attempt to get it up and running.\r\nFirst created a folder called Source in my user folder so imagine file path Users/&quot;insertmynamehere&quot;/Source this is where I placed my .jar file. \r\nMore specifically : junit-platform-console-standalone-1.9.0.jar\r\n\r\nthen, I ended up creating a .zshrc in the same folder that contains source with the following commands (modified slightly to not include my actual name on here:\r\n\r\n```\r\nexport CLASSPATH=&quot;/Users/insermynamehere/Source/junit-platform-console-standalone-1.9.0.jar;.&quot;\r\nexport JUNIT5 =&quot;/Users/insertmynamehere/Source/junit-platform-console-standalone-1.9.0.jar&quot;\r\nalias junit=&#39;java -jar $JUNIT5 -cp . --select-class&#39;\r\nalias javadoc=&#39;javadoc -tag custom.require:cm:&quot;Precondition:&quot; -tag custom.ensure:cm:ndition:&quot; -Xdoclint:none *.java&#39; \r\n```\r\n\r\nafter opening a new terminal window, the first thing after last login is a zshrc:2(*indicating line 2*)[insert file path] not found.\r\nI searched around online and my laptop is 2 months old, brand new, but i did some preliminary checks like seeing if my JRE is working properly and it is. At least according to the javac command I ran through terminal which popped up with usage details.\r\nIm wondering if I am missing something or there is a formatting error perhaps? It passes the first line without saying anything, and I know the path is true. \r\n\r\n\r\n","title":"What could be wrong with my .zshrc for JUNIT5?","body":"<p>so I am trying to add JUnit5 on my macbook.\nThese are the steps I took in attempt to get it up and running.\nFirst created a folder called Source in my user folder so imagine file path Users/&quot;insertmynamehere&quot;/Source this is where I placed my .jar file.\nMore specifically : junit-platform-console-standalone-1.9.0.jar</p>\n<p>then, I ended up creating a .zshrc in the same folder that contains source with the following commands (modified slightly to not include my actual name on here:</p>\n<pre><code>export CLASSPATH=&quot;/Users/insermynamehere/Source/junit-platform-console-standalone-1.9.0.jar;.&quot;\nexport JUNIT5 =&quot;/Users/insertmynamehere/Source/junit-platform-console-standalone-1.9.0.jar&quot;\nalias junit='java -jar $JUNIT5 -cp . --select-class'\nalias javadoc='javadoc -tag custom.require:cm:&quot;Precondition:&quot; -tag custom.ensure:cm:ndition:&quot; -Xdoclint:none *.java' \n</code></pre>\n<p>after opening a new terminal window, the first thing after last login is a zshrc:2(<em>indicating line 2</em>)[insert file path] not found.\nI searched around online and my laptop is 2 months old, brand new, but i did some preliminary checks like seeing if my JRE is working properly and it is. At least according to the javac command I ran through terminal which popped up with usage details.\nIm wondering if I am missing something or there is a formatting error perhaps? It passes the first line without saying anything, and I know the path is true.</p>\n"},{"tags":["java","spring","date","validation"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1662442459,"post_id":73617069,"comment_id":129999624,"body_markdown":"Holding your end date and time in a `String`? Don’t! Use a `LocalDateTime` or another datetime object. Are you keeping numbers and Boolean values in strings too? ;-P And use the `plusDays` method of `LocalDateTIme` to add a day.","body":"Holding your end date and time in a <code>String</code>? Don’t! Use a <code>LocalDateTime</code> or another datetime object. Are you keeping numbers and Boolean values in strings too? ;-P And use the <code>plusDays</code> method of <code>LocalDateTIme</code> to add a day."},{"owner":{"account_id":26224187,"reputation":1,"user_id":19901106,"display_name":"stickyfingers"},"score":0,"creation_date":1662443020,"post_id":73617069,"comment_id":129999736,"body_markdown":"Actually, it wasn&#39;t my choice. :( Since the outbound service expects a value like this, I&#39;m trying to do it accordingly.","body":"Actually, it wasn&#39;t my choice. :( Since the outbound service expects a value like this, I&#39;m trying to do it accordingly."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1662444308,"post_id":73617069,"comment_id":129999984,"body_markdown":"I consider your question too broad for Stack Overflow. Please search for how to add 1 day to a date and time and for how to format the result of that into a string in the format you mention. It’s described in thousands of places. During your search ignore pages and answers suggesting to use the old and poorly designed classes like `Date` and `SimpleDateFormat`. Go for those using [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I consider your question too broad for Stack Overflow. Please search for how to add 1 day to a date and time and for how to format the result of that into a string in the format you mention. It’s described in thousands of places. During your search ignore pages and answers suggesting to use the old and poorly designed classes like <code>Date</code> and <code>SimpleDateFormat</code>. Go for those using <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1662444754,"post_id":73617069,"comment_id":130000091,"body_markdown":"A starting point could be something like `ZonedDateTime.now(ZoneId.of(&quot;Antarctica/Casey&quot;)).plusDays(1).format(DateTimeFormatter.ofPattern(&quot;ddMMuuuuHHmm&quot;))`. It just gave `070920221411`.","body":"A starting point could be something like <code>ZonedDateTime.now(ZoneId.of(&quot;Antarctica&#47;Casey&quot;)).plusDays(1)&zwnj;&#8203;.format(DateTimeForm&zwnj;&#8203;atter.ofPattern(&quot;ddM&zwnj;&#8203;MuuuuHHmm&quot;))</code>. It just gave <code>070920221411</code>."},{"owner":{"account_id":26224187,"reputation":1,"user_id":19901106,"display_name":"stickyfingers"},"score":1,"creation_date":1662474371,"post_id":73617069,"comment_id":130010623,"body_markdown":"You&#39;re a great person, thank yo! It worked that way. I never know if I should use a format like this. I guess I need to learn how to research it in the first place.","body":"You&#39;re a great person, thank yo! It worked that way. I never know if I should use a format like this. I guess I need to learn how to research it in the first place."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1662537385,"post_id":73617069,"comment_id":130025612,"body_markdown":"Always search Stack Overflow thoroughly before posting. Your issues have been addressed many many times already.","body":"Always search Stack Overflow thoroughly before posting. Your issues have been addressed many many times already."}],"owner":{"account_id":26224187,"reputation":1,"user_id":19901106,"display_name":"stickyfingers"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662442296,"answer_count":0,"score":0,"last_activity_date":1662444583,"creation_date":1662441951,"question_id":73617069,"body_markdown":"`smsRequest.setEndDate(1 day later);` /// TODO 1 day later\r\n\r\nI want to set the date after 1 day to the variable endDate, which is held as a string and of type ddMMyyyyHHmm. How can I give?","title":"How do I set the date after 1 day in type string and ddMMyyyyHHmm for Spring?","body":"<p><code>smsRequest.setEndDate(1 day later);</code> /// TODO 1 day later</p>\n<p>I want to set the date after 1 day to the variable endDate, which is held as a string and of type ddMMyyyyHHmm. How can I give?</p>\n"},{"tags":["java","docker","heroku","quarkus"],"comments":[{"owner":{"account_id":3203483,"reputation":788,"user_id":2705070,"display_name":"S. D."},"score":0,"creation_date":1662398253,"post_id":73608920,"comment_id":129992104,"body_markdown":"I tried deploying the same container with `CMD [&quot;ls&quot;, &quot;-l&quot;, &quot;/usr/bin/java&quot;]` and noticed that Heroku has changed the permissions on the java binary to be `---------- 1 59598 dyno 0 Sep  5 17:11 /usr/bin/java` - not only that it had changed the group to dyno (which might be expected as they run the container under a different user) but they have apparently also changed rwx permissions to 000 .","body":"I tried deploying the same container with <code>CMD [&quot;ls&quot;, &quot;-l&quot;, &quot;&#47;usr&#47;bin&#47;java&quot;]</code> and noticed that Heroku has changed the permissions on the java binary to be <code>---------- 1 59598 dyno 0 Sep  5 17:11 &#47;usr&#47;bin&#47;java</code> - not only that it had changed the group to dyno (which might be expected as they run the container under a different user) but they have apparently also changed rwx permissions to 000 ."}],"answers":[{"tags":[],"owner":{"account_id":3203483,"reputation":788,"user_id":2705070,"display_name":"S. D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662444402,"creation_date":1662444402,"answer_id":73617388,"question_id":73608920,"body_markdown":"I worked around this issue by editing the scripts in my container to bypass any symlink A (corrupt symlink) that should have pointed to symlink B. \r\nIn other words, I changed my scripts to point directly at symlink B.","title":"Quarkus container fails to start in Heroku due to symlinks that are changed by Heroku","body":"<p>I worked around this issue by editing the scripts in my container to bypass any symlink A (corrupt symlink) that should have pointed to symlink B.\nIn other words, I changed my scripts to point directly at symlink B.</p>\n"}],"owner":{"account_id":3203483,"reputation":788,"user_id":2705070,"display_name":"S. D."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662444402,"creation_date":1662378612,"question_id":73608920,"body_markdown":"I have the following Dockerfile.jvm that I built and deployed to Heroku.\r\nDockerfile,jvm:\r\n```\r\nFROM registry.access.redhat.com/ubi8/openjdk-11:1.11\r\n\r\nENV LANG=&#39;en_US.UTF-8&#39; LANGUAGE=&#39;en_US:en&#39;\r\n\r\n\r\n# We make four distinct layers so if there are application changes the library layers can be re-used\r\nCOPY --chown=185 target/quarkus-app/lib/ /deployments/lib/\r\nCOPY --chown=185 target/quarkus-app/*.jar /deployments/\r\nCOPY --chown=185 target/quarkus-app/app/ /deployments/app/\r\nCOPY --chown=185 target/quarkus-app/quarkus/ /deployments/quarkus/\r\n\r\n\r\nEXPOSE 8080\r\nUSER 185\r\nENV AB_JOLOKIA_OFF=&quot;&quot;\r\nENV JAVA_OPTS=&quot;-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\r\nENV JAVA_APP_JAR=&quot;/deployments/quarkus-run.jar&quot;\r\n```\r\nI&#39;m building my image using the following maven call:\r\n```\r\n./mvnw clean package\\\r\n  -Dquarkus.container-image.build=true\\\r\n  -Dquarkus.container-image.group=app-group\\\r\n  -Dquarkus.container-image.name=app-name\\\r\n  -Dquarkus.container-image.tag=latest\r\n```\r\n\r\nThe image is created successfully.\r\nWhen running the image on my local PC the app starts and everything is fine.\r\n\r\nI then release my new image on Heroku (`heroku container:release web`)  and I&#39;m seeing the following error in the Heroku logs:\r\n```\r\n2022-09-05T10:45:49.417696+00:00 heroku[web.1]: Starting process with command `/usr/local/s2i/run`\r\n2022-09-05T10:45:50.352921+00:00 app[web.1]: Starting the Java application using /opt/jboss/container/java/run/run-java.sh ...\r\n2022-09-05T10:45:50.485619+00:00 app[web.1]: INFO exec  java -Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xms64m -Xmx256m -XX:+UseParallelGC -XX:MinHeapFreeRatio=10 -XX:MaxHeapFreeRatio=20 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -XX:+ExitOnOutOfMemoryError -cp &quot;.&quot; -jar /deployments/quarkus-run.jar\r\n2022-09-05T10:45:50.540574+00:00 app[web.1]: /opt/jboss/container/java/run/run-java.sh: line 245: /usr/bin/java: Permission denied\r\n2022-09-05T10:45:50.658843+00:00 heroku[web.1]: Process exited with status 126\r\n2022-09-05T10:45:50.722618+00:00 heroku[web.1]: State changed from starting to crashed\r\n```\r\n\r\nWhy is execution permission for `/usr/bin/java` denied when running on Heroku?\r\n\r\nHow can that be solved?\r\n\r\n\r\n----------\r\n**Update:**\r\n\r\nWhen checking the permissions on containers that I run in my PC I see the following:\r\n```\r\n-rwxrwxr-x 1 185 root 7339 Mar 28 09:45 /opt/jboss/container/java/run/run-java.sh\r\nlrwxrwxrwx 1 0 root 22 Mar 28 09:47 /usr/bin/java -&gt; /etc/alternatives/java\r\n```\r\n`/etc/alternatives/java` is a symlink that point to the java executable.\r\n\r\nBut on Heroku the permissions are being changed to the following:\r\n```\r\n-rwx------ 1 30176 dyno 7339 Mar 28 09:45 /opt/jboss/container/java/run/run-java.sh\r\n---------- 1 59598 dyno 0 Sep  5 17:11 /usr/bin/java\r\n\r\n```\r\n**Apparently, Heroku breaks symbolic links that point to other symbolic links.**\r\n\r\nIt&#39;s not clear what should be done to amend this behavior by Heroku,","title":"Quarkus container fails to start in Heroku due to symlinks that are changed by Heroku","body":"<p>I have the following Dockerfile.jvm that I built and deployed to Heroku.\nDockerfile,jvm:</p>\n<pre><code>FROM registry.access.redhat.com/ubi8/openjdk-11:1.11\n\nENV LANG='en_US.UTF-8' LANGUAGE='en_US:en'\n\n\n# We make four distinct layers so if there are application changes the library layers can be re-used\nCOPY --chown=185 target/quarkus-app/lib/ /deployments/lib/\nCOPY --chown=185 target/quarkus-app/*.jar /deployments/\nCOPY --chown=185 target/quarkus-app/app/ /deployments/app/\nCOPY --chown=185 target/quarkus-app/quarkus/ /deployments/quarkus/\n\n\nEXPOSE 8080\nUSER 185\nENV AB_JOLOKIA_OFF=&quot;&quot;\nENV JAVA_OPTS=&quot;-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\nENV JAVA_APP_JAR=&quot;/deployments/quarkus-run.jar&quot;\n</code></pre>\n<p>I'm building my image using the following maven call:</p>\n<pre><code>./mvnw clean package\\\n  -Dquarkus.container-image.build=true\\\n  -Dquarkus.container-image.group=app-group\\\n  -Dquarkus.container-image.name=app-name\\\n  -Dquarkus.container-image.tag=latest\n</code></pre>\n<p>The image is created successfully.\nWhen running the image on my local PC the app starts and everything is fine.</p>\n<p>I then release my new image on Heroku (<code>heroku container:release web</code>)  and I'm seeing the following error in the Heroku logs:</p>\n<pre><code>2022-09-05T10:45:49.417696+00:00 heroku[web.1]: Starting process with command `/usr/local/s2i/run`\n2022-09-05T10:45:50.352921+00:00 app[web.1]: Starting the Java application using /opt/jboss/container/java/run/run-java.sh ...\n2022-09-05T10:45:50.485619+00:00 app[web.1]: INFO exec  java -Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xms64m -Xmx256m -XX:+UseParallelGC -XX:MinHeapFreeRatio=10 -XX:MaxHeapFreeRatio=20 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -XX:+ExitOnOutOfMemoryError -cp &quot;.&quot; -jar /deployments/quarkus-run.jar\n2022-09-05T10:45:50.540574+00:00 app[web.1]: /opt/jboss/container/java/run/run-java.sh: line 245: /usr/bin/java: Permission denied\n2022-09-05T10:45:50.658843+00:00 heroku[web.1]: Process exited with status 126\n2022-09-05T10:45:50.722618+00:00 heroku[web.1]: State changed from starting to crashed\n</code></pre>\n<p>Why is execution permission for <code>/usr/bin/java</code> denied when running on Heroku?</p>\n<p>How can that be solved?</p>\n<hr />\n<p><strong>Update:</strong></p>\n<p>When checking the permissions on containers that I run in my PC I see the following:</p>\n<pre><code>-rwxrwxr-x 1 185 root 7339 Mar 28 09:45 /opt/jboss/container/java/run/run-java.sh\nlrwxrwxrwx 1 0 root 22 Mar 28 09:47 /usr/bin/java -&gt; /etc/alternatives/java\n</code></pre>\n<p><code>/etc/alternatives/java</code> is a symlink that point to the java executable.</p>\n<p>But on Heroku the permissions are being changed to the following:</p>\n<pre><code>-rwx------ 1 30176 dyno 7339 Mar 28 09:45 /opt/jboss/container/java/run/run-java.sh\n---------- 1 59598 dyno 0 Sep  5 17:11 /usr/bin/java\n\n</code></pre>\n<p><strong>Apparently, Heroku breaks symbolic links that point to other symbolic links.</strong></p>\n<p>It's not clear what should be done to amend this behavior by Heroku,</p>\n"},{"tags":["java","filter","odoo","xml-rpc"],"answers":[{"tags":[],"owner":{"account_id":7160911,"reputation":25053,"user_id":5471709,"accept_rate":64,"display_name":"Kenly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662413846,"creation_date":1662413846,"answer_id":73614869,"question_id":73613145,"body_markdown":"By default, Odoo will return `(record id, record display_name)` when [reading ][0] a many2one field  \r\n\r\nTo filter the result using a many2one field, you need to use the database id (`2`), example:  \r\n\r\n    (&quot;pricelist_id&quot;, &quot;=&quot;, 2)\r\n\r\nYou can also filter by a list of price list ids using the `in` operator:  \r\n\r\n    (&quot;pricelist_id&quot;, &quot;in&quot;, list_of_ids )  \r\n\r\n\r\n[0]: https://github.com/odoo/odoo/blob/15.0/odoo/fields.py#L2808","title":"Using Odoo External API, is it possible to filter by a field that is equal to array of values?","body":"<p>By default, Odoo will return <code>(record id, record display_name)</code> when <a href=\"https://github.com/odoo/odoo/blob/15.0/odoo/fields.py#L2808\" rel=\"nofollow noreferrer\">reading </a> a many2one field</p>\n<p>To filter the result using a many2one field, you need to use the database id (<code>2</code>), example:</p>\n<pre><code>(&quot;pricelist_id&quot;, &quot;=&quot;, 2)\n</code></pre>\n<p>You can also filter by a list of price list ids using the <code>in</code> operator:</p>\n<pre><code>(&quot;pricelist_id&quot;, &quot;in&quot;, list_of_ids )  \n</code></pre>\n"}],"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":815,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73614869,"answer_count":1,"score":0,"last_activity_date":1662444008,"creation_date":1662400590,"question_id":73613145,"body_markdown":"I know how to filter *by value*, but I don&#39;t know how to filter by *array of values* (the field contains an array).  \r\nI use Odoo 15.0 and XML-RPC to get external access to its database.   \r\nIn [this doc][1] I found out how to get records filtered *by a value*:\r\n```java\r\nXmlRpcClient client = new XmlRpcClient();\r\nXmlRpcClientConfigImpl common_config = new XmlRpcClientConfigImpl();\r\nString path = &quot;https://my-domain.odoo.com&quot;;\r\ncommon_config.setServerURL(new URL(String.format(&quot;%s/xmlrpc/2/common&quot;, path)));\r\nint uid = (int) client.execute(common_config, &quot;authenticate&quot;, \r\n        asList(db_name, login, password, emptyMap()));\r\n\r\nfinal XmlRpcClient models = new XmlRpcClient() {{\r\n\tsetConfig(new XmlRpcClientConfigImpl() {{\r\n\t\tsetServerURL(new URL(String.format(&quot;%s/xmlrpc/2/object&quot;, path)));\r\n\t}});\r\n}};\r\n\r\nList&lt;Object&gt;listProds = asList((Object[]) models.execute(&quot;execute_kw&quot;, asList(\r\n\tdb_name, uid, password,\r\n\t&quot;product.pricelist.item&quot;, &quot;search_read&quot;,\r\n\tasList(asList(\r\n\t\tasList(&quot;fixed_price&quot;, &quot;=&quot;, 0.09) // &lt;-- filter setting\r\n\t)),\r\n\tnew HashMap() {{\r\n\t\tput(&quot;fields&quot;, asList(\r\n\t\t\t&quot;id&quot;, &quot;pricelist_id&quot;, &quot;fixed_price&quot;, &quot;name&quot;\r\n\t\t));\r\n\t\tput(&quot;limit&quot;, 300);\r\n\t}}\r\n)));\r\nSystem.out.println(&quot;Read some fields for the products: &quot; + listProds2);\r\n```\r\nFor instance, using the code above I get all rows with `fixed_price = 0.09`:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut I need to filter by `pricelist_id` equals `[2, Catalogue Price (CAD)]`, which is String representation of `Object[]`. The value is an array itself, and here I&#39;m stuck.  \r\nI tried different variants of filter syntax but none of them worked.  \r\n\r\n```\r\nasList(&quot;pricelist_id&quot;, &quot;=&quot;, asList(2, &quot;Catalogue Price (CAD)&quot;)) \r\n// or\r\nasList(&quot;pricelist_id&quot;, &quot;=&quot;, new Object[] {2, &quot;Catalogue Price (CAD)&quot;}) \r\n```\r\ngive\r\n&gt; psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: &quot;%Catalogue Price (CAD)%&quot;\r\n&gt; LINE 1: ...ND (&quot;product_pricelist_item&quot;.&quot;pricelist_id&quot; in (2,&#39;%Catalogu...\r\n\r\nAnd the following variants of syntax have no effect as if the filter is absent:\r\n```\r\nasList(&quot;pricelist_id&quot;, &quot;=&quot;, (new Object[]{2, &quot;Catalogue Price (CAD)&quot;}).toString())\r\n\r\nasList(&quot;pricelist_id&quot;, &quot;like&quot;, &quot;%Catalogue Price (CAD)%&quot;)\r\n\r\nasList(&quot;pricelist_id&quot;, &quot;=&quot;, &quot;2, Catalogue Price (CAD)&quot;)\r\n\r\nasList(&quot;pricelist_id&quot;, &quot;=&quot;, &quot;[2, Catalogue Price (CAD)]&quot;)\r\n```\r\n\r\nIt would be fine to filter by `pricelist_id` containing &quot;Catalogue Price (CAD)&quot; (one of the array values is enough because they are unique).\r\n\r\n  [1]: https://www.odoo.com/documentation/14.0/developer/api/external_api.html#list-records\r\n  [2]: https://i.stack.imgur.com/9dSyz.png","title":"Using Odoo External API, is it possible to filter by a field that is equal to array of values?","body":"<p>I know how to filter <em>by value</em>, but I don't know how to filter by <em>array of values</em> (the field contains an array).<br />\nI use Odoo 15.0 and XML-RPC to get external access to its database.<br />\nIn <a href=\"https://www.odoo.com/documentation/14.0/developer/api/external_api.html#list-records\" rel=\"nofollow noreferrer\">this doc</a> I found out how to get records filtered <em>by a value</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>XmlRpcClient client = new XmlRpcClient();\nXmlRpcClientConfigImpl common_config = new XmlRpcClientConfigImpl();\nString path = &quot;https://my-domain.odoo.com&quot;;\ncommon_config.setServerURL(new URL(String.format(&quot;%s/xmlrpc/2/common&quot;, path)));\nint uid = (int) client.execute(common_config, &quot;authenticate&quot;, \n        asList(db_name, login, password, emptyMap()));\n\nfinal XmlRpcClient models = new XmlRpcClient() {{\n    setConfig(new XmlRpcClientConfigImpl() {{\n        setServerURL(new URL(String.format(&quot;%s/xmlrpc/2/object&quot;, path)));\n    }});\n}};\n\nList&lt;Object&gt;listProds = asList((Object[]) models.execute(&quot;execute_kw&quot;, asList(\n    db_name, uid, password,\n    &quot;product.pricelist.item&quot;, &quot;search_read&quot;,\n    asList(asList(\n        asList(&quot;fixed_price&quot;, &quot;=&quot;, 0.09) // &lt;-- filter setting\n    )),\n    new HashMap() {{\n        put(&quot;fields&quot;, asList(\n            &quot;id&quot;, &quot;pricelist_id&quot;, &quot;fixed_price&quot;, &quot;name&quot;\n        ));\n        put(&quot;limit&quot;, 300);\n    }}\n)));\nSystem.out.println(&quot;Read some fields for the products: &quot; + listProds2);\n</code></pre>\n<p>For instance, using the code above I get all rows with <code>fixed_price = 0.09</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/9dSyz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9dSyz.png\" alt=\"enter image description here\" /></a></p>\n<p>But I need to filter by <code>pricelist_id</code> equals <code>[2, Catalogue Price (CAD)]</code>, which is String representation of <code>Object[]</code>. The value is an array itself, and here I'm stuck.<br />\nI tried different variants of filter syntax but none of them worked.</p>\n<pre><code>asList(&quot;pricelist_id&quot;, &quot;=&quot;, asList(2, &quot;Catalogue Price (CAD)&quot;)) \n// or\nasList(&quot;pricelist_id&quot;, &quot;=&quot;, new Object[] {2, &quot;Catalogue Price (CAD)&quot;}) \n</code></pre>\n<p>give</p>\n<blockquote>\n<p>psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type integer: &quot;%Catalogue Price (CAD)%&quot;\nLINE 1: ...ND (&quot;product_pricelist_item&quot;.&quot;pricelist_id&quot; in (2,'%Catalogu...</p>\n</blockquote>\n<p>And the following variants of syntax have no effect as if the filter is absent:</p>\n<pre><code>asList(&quot;pricelist_id&quot;, &quot;=&quot;, (new Object[]{2, &quot;Catalogue Price (CAD)&quot;}).toString())\n\nasList(&quot;pricelist_id&quot;, &quot;like&quot;, &quot;%Catalogue Price (CAD)%&quot;)\n\nasList(&quot;pricelist_id&quot;, &quot;=&quot;, &quot;2, Catalogue Price (CAD)&quot;)\n\nasList(&quot;pricelist_id&quot;, &quot;=&quot;, &quot;[2, Catalogue Price (CAD)]&quot;)\n</code></pre>\n<p>It would be fine to filter by <code>pricelist_id</code> containing &quot;Catalogue Price (CAD)&quot; (one of the array values is enough because they are unique).</p>\n"},{"tags":["java","email","session","email-client"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1662441575,"post_id":73616905,"comment_id":129999477,"body_markdown":"Yes it is possible, and desired. The various tutorials for each API should indicate the correct way to do this, in your case you should be able to use `Folder emailFolder = store.getFolder(&quot;INBOX&quot;);` then iterate the messages with `Message[] messages = emailFolder.getMessages();`, this way you only need one instance of store. Please edit your question to show us how are you doing it currently, and we may be able to offer a pointer.","body":"Yes it is possible, and desired. The various tutorials for each API should indicate the correct way to do this, in your case you should be able to use <code>Folder emailFolder = store.getFolder(&quot;INBOX&quot;);</code> then iterate the messages with <code>Message[] messages = emailFolder.getMessages();</code>, this way you only need one instance of store. Please edit your question to show us how are you doing it currently, and we may be able to offer a pointer."}],"answers":[{"tags":[],"owner":{"account_id":26256062,"reputation":1,"user_id":19928101,"display_name":"Clemens Panis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662442987,"creation_date":1662442987,"answer_id":73617183,"question_id":73616905,"body_markdown":"Wow, thanks for the immediate answere!\r\nSo here&#39;s what I&#39;m doing right now:\r\n\r\nSetting server-properties:\r\n\r\n    protected Properties getServerProperties(String protocol, String host, String port){\r\n\t\tProperties properties = new Properties();\r\n\r\n\t\tproperties.put(String.format(&quot;mail.%s.host&quot;, protocol), host);\r\n\t\tproperties.put(String.format(&quot;mail.%s.port&quot;, protocol), port);\r\n\t\t\r\n\t\tproperties.setProperty(String.format(&quot;mail.%s.socketFactory.class&quot;, protocol), &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\t\tproperties.setProperty(String.format(&quot;mail.%s.socketFactory.fallback&quot;, protocol), &quot;false&quot;);\r\n\t\tproperties.setProperty(String.format(&quot;mail.%s.socketFactory.port&quot;, protocol), String.valueOf(port));\r\n\t\tproperties.setProperty(&quot;mail.pop3.port&quot;, &quot;995&quot;);\r\n\t\tproperties.setProperty(&quot;mail.pop3.host&quot;, &quot;pop.gmx.net&quot;);\r\n\t\tproperties.setProperty(&quot;mail.pop3.user&quot;, &quot;****&quot;);\r\n\t\tproperties.setProperty(&quot;mail.pop3.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\t\r\n\r\n\t\treturn properties;\r\n\t}\r\n\r\n\r\n\r\nCreating Message[]-array:\r\n\r\n    public Message[] return_messages(String protocol, String host, String port, String userName, String password) throws MessagingException {\r\n\t\tProperties properties = getServerProperties(protocol, host, port);\r\n\t\tSession session = Session.getInstance(properties, auth);\r\n\t\tStore store = session.getStore(protocol);\r\n\t\tstore.connect(&quot;pop.gmx.net&quot;, userName, password);\r\n\t\t\r\n\t\tfolderInbox = store.getFolder(&quot;INBOX&quot;);\r\n\t\tfolderInbox.open(Folder.READ_ONLY);\r\n\t\t\r\n\t\tMessage[] messages = folderInbox.getMessages();\r\n\t\treturn messages;\r\n\t}\r\n\r\nOpen Mail-Folder\r\n\r\n    public Store open_mail_folder(String protocol, String host, String port, String userName, String password) throws MessagingException {\r\n\t\tProperties properties = getServerProperties(protocol, host, port);\r\n\t\tSession session = Session.getInstance(properties, auth);\r\n\t\tStore store = session.getStore(protocol);\r\n\t\tstore.connect(&quot;pop.gmx.net&quot;, userName, password);\r\n\t\treturn store;\r\n\t}\r\n\r\nStoring Mails in a list\r\n\r\n    Map&lt;String,List&lt;?&gt;&gt; map = new HashMap&lt;String, List&lt;?&gt;&gt;();\r\n\t//@SuppressWarnings(&quot;static-access&quot;)\r\n\tpublic Map&lt;String, List&lt;?&gt;&gt; downloadEmails(String protocol, String host, String port, String userName, String password) throws IOException {\r\n\t\tProperties properties = getServerProperties(protocol, host, port);\r\n\t\tSession session = Session.getInstance(properties, auth);\r\n\t\t\t\r\n\t\ttry {\r\n\t\t\tStore store = null;\r\n\t\t\t\r\n\t\t\tif(store == null) {\r\n\t\t\t\tstore = session.getStore(protocol);\r\n\t\t\t\tstore.connect(&quot;pop.gmx.net&quot;, userName, password);\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\tfolderInbox = store.getFolder(&quot;INBOX&quot;);\r\n\t\t\tfolderInbox.open(Folder.READ_ONLY);\r\n\t\t\t\r\n\t\t\tMessage[] messages = folderInbox.getMessages();\r\n\t\t\t\r\n\t\t\tList&lt;String&gt; fromList = new ArrayList&lt;String&gt;();\r\n\t\t\tList&lt;Date&gt; dateList = new ArrayList&lt;Date&gt;();\r\n\t\t\tList&lt;String&gt; subjectList = new ArrayList&lt;String&gt;();\r\n\t\t\t\r\n\t\t\tfor(int i=0;i&lt;messages.length;i++) {\r\n\t\t\t\tAddress[] from = messages[i].getFrom();\r\n\t\t\t\t\r\n\t\t\t\tString from_temp = (String)(((InternetAddress)from[0]).getAddress());\r\n\t\t\t\tfromList.add(from_temp);\r\n\t\t\t\t\r\n\t\t\t\tDate date = messages[i].getSentDate();\r\n\t\t\t\tdateList.add(date);\r\n\t\t\t\t\r\n\t\t\t\tString subject = messages[i].getSubject();\r\n\t\t\t\tsubjectList.add(subject);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tmap.put(&quot;fromList&quot;, fromList);\r\n\t\t\tmap.put(&quot;dateList&quot;, dateList);\r\n\t\t\tmap.put(&quot;subjectList&quot;, subjectList);\r\n\t\t\t\t\t\t\r\n\t\t\tString result = &quot;&quot;;\r\n\t\t\tStringBuilder textBuilder = new StringBuilder();\r\n\t\t\t\t\r\n\t\t}catch (NoSuchProviderException ex) {\r\n\t\t\t//for debugging only\r\n\t\t\tSystem.out.println(&quot;No provider for protocol &quot; + protocol);\r\n\t\t\tex.printStackTrace();\r\n\t\t}catch (MessagingException ex) {\r\n\t\t\tSystem.out.println(&quot;Could not connect to the message store&quot;);\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn map;\r\n\t}\r\n\r\nFurthermore, since the connection to the pop-server seems to be closed automatically after some time, I&#39;m running a thread periodically to check, whether the connection is still opend or, if not, to re-connect:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public class Session_relog extends Mail_Reader implements Runnable {\r\n\tstatic int session_count;\r\n\t\r\n\tpublic Session_relog() {\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\twhile(true) {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(30,000);\r\n\t\t\t\tif(super.isopen_mail_folder(&quot;pop3&quot;, &quot;pop.gmx.net&quot;, &quot;955&quot;, &quot;****&quot;, &quot;****&quot;)==false) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tsuper.open_mail_folder(&quot;pop3&quot;, &quot;pop.gmx.net&quot;, &quot;995&quot;, &quot;****&quot;, &quot;****&quot;);\r\n\t\t\t\t\t} catch (MessagingException e) {\r\n\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tThread.sleep(30,000); \r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (MessagingException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n","title":"mail sessions - too many active sessions","body":"<p>Wow, thanks for the immediate answere!\nSo here's what I'm doing right now:</p>\n<p>Setting server-properties:</p>\n<pre><code>protected Properties getServerProperties(String protocol, String host, String port){\n    Properties properties = new Properties();\n\n    properties.put(String.format(&quot;mail.%s.host&quot;, protocol), host);\n    properties.put(String.format(&quot;mail.%s.port&quot;, protocol), port);\n    \n    properties.setProperty(String.format(&quot;mail.%s.socketFactory.class&quot;, protocol), &quot;javax.net.ssl.SSLSocketFactory&quot;);\n    properties.setProperty(String.format(&quot;mail.%s.socketFactory.fallback&quot;, protocol), &quot;false&quot;);\n    properties.setProperty(String.format(&quot;mail.%s.socketFactory.port&quot;, protocol), String.valueOf(port));\n    properties.setProperty(&quot;mail.pop3.port&quot;, &quot;995&quot;);\n    properties.setProperty(&quot;mail.pop3.host&quot;, &quot;pop.gmx.net&quot;);\n    properties.setProperty(&quot;mail.pop3.user&quot;, &quot;****&quot;);\n    properties.setProperty(&quot;mail.pop3.ssl.protocols&quot;, &quot;TLSv1.2&quot;);   \n\n    return properties;\n}\n</code></pre>\n<p>Creating Message[]-array:</p>\n<pre><code>public Message[] return_messages(String protocol, String host, String port, String userName, String password) throws MessagingException {\n    Properties properties = getServerProperties(protocol, host, port);\n    Session session = Session.getInstance(properties, auth);\n    Store store = session.getStore(protocol);\n    store.connect(&quot;pop.gmx.net&quot;, userName, password);\n    \n    folderInbox = store.getFolder(&quot;INBOX&quot;);\n    folderInbox.open(Folder.READ_ONLY);\n    \n    Message[] messages = folderInbox.getMessages();\n    return messages;\n}\n</code></pre>\n<p>Open Mail-Folder</p>\n<pre><code>public Store open_mail_folder(String protocol, String host, String port, String userName, String password) throws MessagingException {\n    Properties properties = getServerProperties(protocol, host, port);\n    Session session = Session.getInstance(properties, auth);\n    Store store = session.getStore(protocol);\n    store.connect(&quot;pop.gmx.net&quot;, userName, password);\n    return store;\n}\n</code></pre>\n<p>Storing Mails in a list</p>\n<pre><code>Map&lt;String,List&lt;?&gt;&gt; map = new HashMap&lt;String, List&lt;?&gt;&gt;();\n//@SuppressWarnings(&quot;static-access&quot;)\npublic Map&lt;String, List&lt;?&gt;&gt; downloadEmails(String protocol, String host, String port, String userName, String password) throws IOException {\n    Properties properties = getServerProperties(protocol, host, port);\n    Session session = Session.getInstance(properties, auth);\n        \n    try {\n        Store store = null;\n        \n        if(store == null) {\n            store = session.getStore(protocol);\n            store.connect(&quot;pop.gmx.net&quot;, userName, password);\n            }\n                    \n        folderInbox = store.getFolder(&quot;INBOX&quot;);\n        folderInbox.open(Folder.READ_ONLY);\n        \n        Message[] messages = folderInbox.getMessages();\n        \n        List&lt;String&gt; fromList = new ArrayList&lt;String&gt;();\n        List&lt;Date&gt; dateList = new ArrayList&lt;Date&gt;();\n        List&lt;String&gt; subjectList = new ArrayList&lt;String&gt;();\n        \n        for(int i=0;i&lt;messages.length;i++) {\n            Address[] from = messages[i].getFrom();\n            \n            String from_temp = (String)(((InternetAddress)from[0]).getAddress());\n            fromList.add(from_temp);\n            \n            Date date = messages[i].getSentDate();\n            dateList.add(date);\n            \n            String subject = messages[i].getSubject();\n            subjectList.add(subject);\n        }\n        \n        map.put(&quot;fromList&quot;, fromList);\n        map.put(&quot;dateList&quot;, dateList);\n        map.put(&quot;subjectList&quot;, subjectList);\n                    \n        String result = &quot;&quot;;\n        StringBuilder textBuilder = new StringBuilder();\n            \n    }catch (NoSuchProviderException ex) {\n        //for debugging only\n        System.out.println(&quot;No provider for protocol &quot; + protocol);\n        ex.printStackTrace();\n    }catch (MessagingException ex) {\n        System.out.println(&quot;Could not connect to the message store&quot;);\n        ex.printStackTrace();\n    }\n    \n    return map;\n}\n</code></pre>\n<p>Furthermore, since the connection to the pop-server seems to be closed automatically after some time, I'm running a thread periodically to check, whether the connection is still opend or, if not, to re-connect:</p>\n<pre><code>public class Session_relog extends Mail_Reader implements Runnable {\nstatic int session_count;\n\npublic Session_relog() {\n    // TODO Auto-generated constructor stub\n}\n\n@Override\npublic void run() {\n    // TODO Auto-generated method stub\n    while(true) {\n        try {\n            Thread.sleep(30,000);\n            if(super.isopen_mail_folder(&quot;pop3&quot;, &quot;pop.gmx.net&quot;, &quot;955&quot;, &quot;****&quot;, &quot;****&quot;)==false) {\n                try {\n                    super.open_mail_folder(&quot;pop3&quot;, &quot;pop.gmx.net&quot;, &quot;995&quot;, &quot;****&quot;, &quot;****&quot;);\n                } catch (MessagingException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            }\n            else {\n                Thread.sleep(30,000); \n                continue;\n                }\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (MessagingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":26256062,"reputation":1,"user_id":19928101,"display_name":"Clemens Panis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662442987,"creation_date":1662440508,"question_id":73616905,"body_markdown":"I&#39;m trying to develope a mail program to download/read emails from an Internet-server (e.g. gmail, gmx, ...). Therefore I need:\r\n* a `Message[]`-Array to store/copy the INBOX-folder from the server\r\n* a `Store`-object to connect to the pop3-Server.\r\n* a `Map&lt;String,List&lt;?&gt;&gt;` to keep track of three different lists, storing the sender-adress, the sent-date and the subject of the mail, respectively.\r\n\r\nSince each of this methods needs to access the pop3-server, a `store`-object is created and connected to the pop-server.\r\nWhen creating the `store`-object seperately in each method, I get a &quot;javax.mail.AuthenticationFailedException&quot; (*too many axctive sessions*).\r\nI guess, that for each mail in the `Message[]`-Array, a single session-Object is created, thus getting about 1.800 sessions. Is there a way to create the `store`-object or the session kind-of globally an pass *the same* instance to each method? And, especially, to use *one* `store`-Object for each message in the Array?\r\n\r\nThanks for any tips.\r\n\r\nPS.: Dunno if necessary to be mentioned, but I&#39;m using javax.mail on an eclipse-IDE","title":"mail sessions - too many active sessions","body":"<p>I'm trying to develope a mail program to download/read emails from an Internet-server (e.g. gmail, gmx, ...). Therefore I need:</p>\n<ul>\n<li>a <code>Message[]</code>-Array to store/copy the INBOX-folder from the server</li>\n<li>a <code>Store</code>-object to connect to the pop3-Server.</li>\n<li>a <code>Map&lt;String,List&lt;?&gt;&gt;</code> to keep track of three different lists, storing the sender-adress, the sent-date and the subject of the mail, respectively.</li>\n</ul>\n<p>Since each of this methods needs to access the pop3-server, a <code>store</code>-object is created and connected to the pop-server.\nWhen creating the <code>store</code>-object seperately in each method, I get a &quot;javax.mail.AuthenticationFailedException&quot; (<em>too many axctive sessions</em>).\nI guess, that for each mail in the <code>Message[]</code>-Array, a single session-Object is created, thus getting about 1.800 sessions. Is there a way to create the <code>store</code>-object or the session kind-of globally an pass <em>the same</em> instance to each method? And, especially, to use <em>one</em> <code>store</code>-Object for each message in the Array?</p>\n<p>Thanks for any tips.</p>\n<p>PS.: Dunno if necessary to be mentioned, but I'm using javax.mail on an eclipse-IDE</p>\n"},{"tags":["java","c#","encryption","aes"],"comments":[{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1662390276,"post_id":73611321,"comment_id":129989738,"body_markdown":"The default padding mode in c# is different from java.  You need to change the padding mode in either c# or java so they are compatible.  Use something like  encryptedSymmetricKey = rsa.Encrypt(aes.Key, RSAEncryptionPadding.Pkcs1);","body":"The default padding mode in c# is different from java.  You need to change the padding mode in either c# or java so they are compatible.  Use something like  encryptedSymmetricKey = rsa.Encrypt(aes.Key, RSAEncryptionPadding.Pkcs1);"},{"owner":{"account_id":3705560,"reputation":9,"user_id":3084202,"display_name":"user3084202"},"score":0,"creation_date":1662392265,"post_id":73611321,"comment_id":129990373,"body_markdown":"@jdweng: The problem here is I can&#39;t change the logic in c#. Any other pointers to fix the issue?","body":"@jdweng: The problem here is I can&#39;t change the logic in c#. Any other pointers to fix the issue?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1662392665,"post_id":73611321,"comment_id":129990510,"body_markdown":"Both codes use an identical padding, that is PKCS#7 padding (which is called PKCS#5 padding in the Java world for historical reasons). The use of `RSAEncryptionPadding.Pkcs1` makes no sense for AES.","body":"Both codes use an identical padding, that is PKCS#7 padding (which is called PKCS#5 padding in the Java world for historical reasons). The use of <code>RSAEncryptionPadding.Pkcs1</code> makes no sense for AES."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1662393303,"post_id":73611321,"comment_id":129990703,"body_markdown":"The C# code applies the key as IV, the Java code uses a zero IV (both are insecure). Apart from that, decryption works on my machine with a 16 bytes key. What is missing in the Java code is the (insecure) key correction. The C# code pads shorter keys with 0x00 values and truncates longer keys. Post test data to reproduce the problem.","body":"The C# code applies the key as IV, the Java code uses a zero IV (both are insecure). Apart from that, decryption works on my machine with a 16 bytes key. What is missing in the Java code is the (insecure) key correction. The C# code pads shorter keys with 0x00 values and truncates longer keys. Post test data to reproduce the problem."},{"owner":{"account_id":3705560,"reputation":9,"user_id":3084202,"display_name":"user3084202"},"score":0,"creation_date":1662394697,"post_id":73611321,"comment_id":129991168,"body_markdown":"@Topaco: I have updated the question with test data","body":"@Topaco: I have updated the question with test data"},{"owner":{"account_id":3705560,"reputation":9,"user_id":3084202,"display_name":"user3084202"},"score":0,"creation_date":1662394925,"post_id":73611321,"comment_id":129991235,"body_markdown":"@Topaco: So u saying the Java code is correct? In Java code if I make the IV as same as Key(like in c#), its giving &quot;java.security.InvalidAlgorithmParameterException: Wrong IV length: must be 16 bytes long&quot;","body":"@Topaco: So u saying the Java code is correct? In Java code if I make the IV as same as Key(like in c#), its giving &quot;java.security.InvalidAlgorithmParameterException: Wrong IV length: must be 16 bytes long&quot;"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1662397642,"post_id":73611321,"comment_id":129991928,"body_markdown":"Test data consists of key, plaintext and ciphertext. Without plaintext a repro is not possible. However, it does not look like the posted ciphertext was produced with the posted key and C# code since the decryption counterpart fails. Post the plaintext to check this.","body":"Test data consists of key, plaintext and ciphertext. Without plaintext a repro is not possible. However, it does not look like the posted ciphertext was produced with the posted key and C# code since the decryption counterpart fails. Post the plaintext to check this."},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1662400621,"post_id":73611321,"comment_id":129992768,"body_markdown":"Changing the padding is not changing the code.  It just make the java compatible with the c#.","body":"Changing the padding is not changing the code.  It just make the java compatible with the c#."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1662403913,"post_id":73611321,"comment_id":129993576,"body_markdown":"Both codes use the same padding, so changing the padding is pointless. The C# code uses PKCS#7 padding, which in the Java world is called PKCs#5 padding, i.e. only the names differ, the padding algorithm is the same!","body":"Both codes use the same padding, so changing the padding is pointless. The C# code uses PKCS#7 padding, which in the Java world is called PKCs#5 padding, i.e. only the names differ, the padding algorithm is the same!"},{"owner":{"account_id":3705560,"reputation":9,"user_id":3084202,"display_name":"user3084202"},"score":0,"creation_date":1662442377,"post_id":73611321,"comment_id":129999614,"body_markdown":"@Topaco: I have updated the plain text in the question and the cipher is generated from c# code and the key.","body":"@Topaco: I have updated the plain text in the question and the cipher is generated from c# code and the key."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1662444498,"post_id":73611321,"comment_id":130000021,"body_markdown":"The posted data is inconsistent, i.e. with the posted plaintext and key, the posted ciphertext cannot be reproduced with the C#: https://dotnetfiddle.net/VaRUrq. Either the data is wrong or you are using a different C# code. Post data that is reproducible with the C# code!","body":"The posted data is inconsistent, i.e. with the posted plaintext and key, the posted ciphertext cannot be reproduced with the C#: <a href=\"https://dotnetfiddle.net/VaRUrq\" rel=\"nofollow noreferrer\">dotnetfiddle.net/VaRUrq</a>. Either the data is wrong or you are using a different C# code. Post data that is reproducible with the C# code!"},{"owner":{"account_id":3705560,"reputation":9,"user_id":3084202,"display_name":"user3084202"},"score":0,"creation_date":1662447958,"post_id":73611321,"comment_id":130000971,"body_markdown":"@Topaco: I used the encrypted cipher from the url(dotnetfiddle.net/VaRUrq), and tried to decrypt in JAVA but still its giving same error as mentioned in my question.","body":"@Topaco: I used the encrypted cipher from the url(dotnetfiddle.net/VaRUrq), and tried to decrypt in JAVA but still its giving same error as mentioned in my question."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1662450587,"post_id":73611321,"comment_id":130001847,"body_markdown":"Decrypting the ciphertext generated with the C# code on .NET Fiddle works with the Java code when using the correct key and IV. However, I will not go into detail until there is consistent test data for the C# code.\nThe only way I can explain this inconsistency is that you are using a different C# code than posted, otherwise why would the test data not fit? But without C# code, there is nothing to port. Sorry, I can&#39;t help you any further.","body":"Decrypting the ciphertext generated with the C# code on .NET Fiddle works with the Java code when using the correct key and IV. However, I will not go into detail until there is consistent test data for the C# code. The only way I can explain this inconsistency is that you are using a different C# code than posted, otherwise why would the test data not fit? But without C# code, there is nothing to port. Sorry, I can&#39;t help you any further."},{"owner":{"account_id":3705560,"reputation":9,"user_id":3084202,"display_name":"user3084202"},"score":0,"creation_date":1662453509,"post_id":73611321,"comment_id":130002780,"body_markdown":"@Topaco: IF I use the cipher text as generated from the .NET Fiddle, then also I m getting the exception, then some issue in my JAVA code right?","body":"@Topaco: IF I use the cipher text as generated from the .NET Fiddle, then also I m getting the exception, then some issue in my JAVA code right?"},{"owner":{"account_id":3705560,"reputation":9,"user_id":3084202,"display_name":"user3084202"},"score":0,"creation_date":1662454070,"post_id":73611321,"comment_id":130002975,"body_markdown":"@Topaco: You mentioned it works with correct Key and IV, this means below: ?\nKey: TL3U2HAQJZ79F8O5X4CNW6S10IEKGPYB\nIV: byte[] IV=new byte[16];\n\nIf I use the same as above, still I am facing the same issue as mentioned in Question","body":"@Topaco: You mentioned it works with correct Key and IV, this means below: ? Key: TL3U2HAQJZ79F8O5X4CNW6S10IEKGPYB IV: byte[] IV=new byte[16];  If I use the same as above, still I am facing the same issue as mentioned in Question"}],"owner":{"account_id":3705560,"reputation":9,"user_id":3084202,"display_name":"user3084202"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1662442256,"creation_date":1662390014,"question_id":73611321,"body_markdown":"I have a c# code which does the encryption and a java code which decrypt, but in Java I get \r\n&quot;Given final block not properly padded. Such issues can arise if a bad key is used during decryption&quot;.\r\n\r\nBut if I encrypt in JAVA and decrypt in JAVA , it works fine. Please help I am stuck since a week.\r\n\r\nI read PKCS5Padding and PKCS7Padding both are same in JAVA, is it true?\r\nto try with PKCS7Padding in Java, I used bouncy Castle but that gave below error\r\n&quot; BadPaddingException: pad block corrupted&quot;\r\n\r\n\r\nC# Encryption Logic: \r\n```\r\nstring Encrypt(string textToEncrypt, string key)\r\n{\r\nRijndaelManaged rijndaelCipher = new RijndaelManaged();\r\nrijndaelCipher.Mode = CipherMode.CBC;\r\nrijndaelCipher.Padding = PaddingMode.PKCS7;\r\n\r\nrijndaelCipher.KeySize = 0x80;\r\nrijndaelCipher.BlockSize = 0x80;\r\nbyte[] pwdBytes = Encoding.UTF8.GetBytes(key);\r\nbyte[] keyBytes = new byte[0x10];\r\nint len = pwdBytes.Length;\r\nif (len &gt; keyBytes.Length)\r\n{\r\nlen = keyBytes.Length;\r\n}\r\nArray.Copy(pwdBytes, keyBytes, len);\r\nrijndaelCipher.Key = keyBytes;\r\nrijndaelCipher.IV = keyBytes;\r\nICryptoTransform transform = rijndaelCipher.CreateEncryptor();\r\nbyte[] plainText = Encoding.UTF8.GetBytes(textToEncrypt);\r\nreturn Convert.ToBase64String(transform.TransformFinalBlock(plainText, 0, plainText.Length)); \r\n}\r\n\r\n\r\n```\r\n\r\nJava Decryption Logic\r\n\r\n```\r\npublic String decryptInputData(String encryptedRequest, String key1)  {\r\n\r\n\t\tbyte[] cipherData = Base64.getDecoder().decode(encryptedRequest);\r\n\t\tbyte[] keyByte = key1.getBytes(StandardCharsets.UTF_8);\r\n\t\tbyte[] IV=new byte[16];   \r\n\r\n\t\tSecretKeySpec key = new SecretKeySpec(keyByte, &quot;AES&quot;);\r\n\t\tIvParameterSpec iv = new IvParameterSpec(IV);\r\n\r\n\t\tCipher aesCBC;\r\n\t\ttry {\r\n\t\t\taesCBC = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n\t\t\taesCBC.init(Cipher.DECRYPT_MODE, key, iv);\r\n\t\t\tbyte[] decryptedData = aesCBC.doFinal(cipherData);\r\n\t\t\treturn new String(decryptedData, StandardCharsets.UTF_8);\r\n\t\t} catch (NoSuchAlgorithmException | NoSuchPaddingException |InvalidKeyException | InvalidAlgorithmParameterException |IllegalBlockSizeException | BadPaddingException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n```\r\nTest Data: \r\narxtiUWLzv5W74mDyRDxIWGM5C40kTiHocBYD9xfpvqYi7bkWIfO7jba1PdRaSCN31CwD18UGVRa2WVGDlt9LCkFuU2ErWFrboKC11OHFuozznF8ZAm1e6kSiSR/QfH1bhLONkClWruzDcTONA7BobZQd86LuPJe5BlAqYcaZq2DTXRmP11IZFzZP7+3cnk+oxF/H15hz+ypw7u0JMHQirg5C8aGD5DjmuLcsGcMjHNoaQ9cOrzjCOK8zpgGGDo9T5libP1h1GsaBYmdNp21auwLbebO8BzwFJGzD2fiybT5MswZpdtxE4Hh9OtgjZwSRFeBW10e2v/EQR6Qeffumgp93u109gOtYdc+HmAjFeu645JsNHON2EpqBJ/I8tfcdYWpJMVkS8h0nEd5QbWMN1/B+Rk42UmAAFoeyo2YgVHJLDNAe2HnjiQv/RKuL/zjJEtTOdZZKIdHduPT32GtZGHzqCK3Gy/MlTd37zgSeUahE6pe3Zp0Cu+pinQgOY9oCaTdhVmH8xiYv33plcbsElXDW4zTusj68jkeCBpPFeW9DRxWLngooPqszCKrZ6EJFgdbpCdEanU79mJCflg8d7uqwntwTw6gGgOLNqK+OpvVTtvoZ9oBeIBOjB0NroP9edQkSbJw7vSdGMMiQODOqIosgXrecdmvpja3hoZ3RuHGkkieIwNm4CSoSrDQdDwSIMW5CXY9r5UZ8+Pf5KHx2UYU7RqcZa44Z32mP7n10g6gjCHYTi0FCf0HpFx7ykFHC8qEEptI+ywRm6Y+WR6NEO284UILOvwmJb7iyB3N8i32jYq+CIH7h8jYePHkX+eVdfiaC6JGWC5nrM+6pUB2tOMN4LIu+4Lvy9OIPCFAw/U+ze2B23t/SfUae7peKu3SeczQrP7BGAk4s5PYAh1gncZmNhmhVviqN8KkO44bH7eqGXpnIUqeswYRu4pJYFhfNkqtaSSWSD4q/slycVORyMjPKSDDp5shm1qIdui6lGI=\r\n\r\nKey:TL3U2HAQJZ79F8O5X4CNW6S10IEKGPYB\r\n\r\nPlainText:\r\nSalutation=MRS|Customer_Name=ITMSYAR EBMEEN|Address=ABCD EFG~WERT|City=GHTTG|Pin_Code=310012|State=WERY|DOB=1900-02-19|Gender=F|Mobile_Number=010007000007|Nationality=IN|Email_Address=ABCDEFG@GMAIL.COM|Marital_Status=Y|Occupation_Type=Housewife|PAN_Number=AOIPM1619P|Nominee_Name=|Nominee_DOB=|Relationship_of_Nominee=|Timestamp=7/26/2022 11:06:16 AM|Website_Ref_No=1zEeSs97MAao5UIi|CRM_Lead_Id=9121421421|Source_Id=MB_LoggedIn|Referral_Code=123456|utm_source=|utm_medium=|utm_campaign=|Product_Name=Group Active Health Plan|Partner_Name=ABCD|SP_Code=|LG_SOL_ID=002|Producer_Code=202324134|EBCC_Flag=N|Scheme_Code=FSGSW|CKYC_NO=|Acc_No=1234567889|Acc_Type=Main|","title":"Encryption in C# and Decryption in Java, getting PaddingException","body":"<p>I have a c# code which does the encryption and a java code which decrypt, but in Java I get\n&quot;Given final block not properly padded. Such issues can arise if a bad key is used during decryption&quot;.</p>\n<p>But if I encrypt in JAVA and decrypt in JAVA , it works fine. Please help I am stuck since a week.</p>\n<p>I read PKCS5Padding and PKCS7Padding both are same in JAVA, is it true?\nto try with PKCS7Padding in Java, I used bouncy Castle but that gave below error\n&quot; BadPaddingException: pad block corrupted&quot;</p>\n<p>C# Encryption Logic:</p>\n<pre><code>string Encrypt(string textToEncrypt, string key)\n{\nRijndaelManaged rijndaelCipher = new RijndaelManaged();\nrijndaelCipher.Mode = CipherMode.CBC;\nrijndaelCipher.Padding = PaddingMode.PKCS7;\n\nrijndaelCipher.KeySize = 0x80;\nrijndaelCipher.BlockSize = 0x80;\nbyte[] pwdBytes = Encoding.UTF8.GetBytes(key);\nbyte[] keyBytes = new byte[0x10];\nint len = pwdBytes.Length;\nif (len &gt; keyBytes.Length)\n{\nlen = keyBytes.Length;\n}\nArray.Copy(pwdBytes, keyBytes, len);\nrijndaelCipher.Key = keyBytes;\nrijndaelCipher.IV = keyBytes;\nICryptoTransform transform = rijndaelCipher.CreateEncryptor();\nbyte[] plainText = Encoding.UTF8.GetBytes(textToEncrypt);\nreturn Convert.ToBase64String(transform.TransformFinalBlock(plainText, 0, plainText.Length)); \n}\n\n\n</code></pre>\n<p>Java Decryption Logic</p>\n<pre><code>public String decryptInputData(String encryptedRequest, String key1)  {\n\n        byte[] cipherData = Base64.getDecoder().decode(encryptedRequest);\n        byte[] keyByte = key1.getBytes(StandardCharsets.UTF_8);\n        byte[] IV=new byte[16];   \n\n        SecretKeySpec key = new SecretKeySpec(keyByte, &quot;AES&quot;);\n        IvParameterSpec iv = new IvParameterSpec(IV);\n\n        Cipher aesCBC;\n        try {\n            aesCBC = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n            aesCBC.init(Cipher.DECRYPT_MODE, key, iv);\n            byte[] decryptedData = aesCBC.doFinal(cipherData);\n            return new String(decryptedData, StandardCharsets.UTF_8);\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException |InvalidKeyException | InvalidAlgorithmParameterException |IllegalBlockSizeException | BadPaddingException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p>Test Data:\narxtiUWLzv5W74mDyRDxIWGM5C40kTiHocBYD9xfpvqYi7bkWIfO7jba1PdRaSCN31CwD18UGVRa2WVGDlt9LCkFuU2ErWFrboKC11OHFuozznF8ZAm1e6kSiSR/QfH1bhLONkClWruzDcTONA7BobZQd86LuPJe5BlAqYcaZq2DTXRmP11IZFzZP7+3cnk+oxF/H15hz+ypw7u0JMHQirg5C8aGD5DjmuLcsGcMjHNoaQ9cOrzjCOK8zpgGGDo9T5libP1h1GsaBYmdNp21auwLbebO8BzwFJGzD2fiybT5MswZpdtxE4Hh9OtgjZwSRFeBW10e2v/EQR6Qeffumgp93u109gOtYdc+HmAjFeu645JsNHON2EpqBJ/I8tfcdYWpJMVkS8h0nEd5QbWMN1/B+Rk42UmAAFoeyo2YgVHJLDNAe2HnjiQv/RKuL/zjJEtTOdZZKIdHduPT32GtZGHzqCK3Gy/MlTd37zgSeUahE6pe3Zp0Cu+pinQgOY9oCaTdhVmH8xiYv33plcbsElXDW4zTusj68jkeCBpPFeW9DRxWLngooPqszCKrZ6EJFgdbpCdEanU79mJCflg8d7uqwntwTw6gGgOLNqK+OpvVTtvoZ9oBeIBOjB0NroP9edQkSbJw7vSdGMMiQODOqIosgXrecdmvpja3hoZ3RuHGkkieIwNm4CSoSrDQdDwSIMW5CXY9r5UZ8+Pf5KHx2UYU7RqcZa44Z32mP7n10g6gjCHYTi0FCf0HpFx7ykFHC8qEEptI+ywRm6Y+WR6NEO284UILOvwmJb7iyB3N8i32jYq+CIH7h8jYePHkX+eVdfiaC6JGWC5nrM+6pUB2tOMN4LIu+4Lvy9OIPCFAw/U+ze2B23t/SfUae7peKu3SeczQrP7BGAk4s5PYAh1gncZmNhmhVviqN8KkO44bH7eqGXpnIUqeswYRu4pJYFhfNkqtaSSWSD4q/slycVORyMjPKSDDp5shm1qIdui6lGI=</p>\n<p>Key:TL3U2HAQJZ79F8O5X4CNW6S10IEKGPYB</p>\n<p>PlainText:\nSalutation=MRS|Customer_Name=ITMSYAR EBMEEN|Address=ABCD EFG~WERT|City=GHTTG|Pin_Code=310012|State=WERY|DOB=1900-02-19|Gender=F|Mobile_Number=010007000007|Nationality=IN|Email_Address=ABCDEFG@GMAIL.COM|Marital_Status=Y|Occupation_Type=Housewife|PAN_Number=AOIPM1619P|Nominee_Name=|Nominee_DOB=|Relationship_of_Nominee=|Timestamp=7/26/2022 11:06:16 AM|Website_Ref_No=1zEeSs97MAao5UIi|CRM_Lead_Id=9121421421|Source_Id=MB_LoggedIn|Referral_Code=123456|utm_source=|utm_medium=|utm_campaign=|Product_Name=Group Active Health Plan|Partner_Name=ABCD|SP_Code=|LG_SOL_ID=002|Producer_Code=202324134|EBCC_Flag=N|Scheme_Code=FSGSW|CKYC_NO=|Acc_No=1234567889|Acc_Type=Main|</p>\n"},{"tags":["python","java","selenium","selenium-webdriver","web-scraping"],"answers":[{"tags":[],"owner":{"account_id":24452919,"reputation":33,"user_id":18374903,"display_name":"sara yaghoobi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662442217,"creation_date":1662442217,"answer_id":73617093,"question_id":73516610,"body_markdown":"After a week of struggling I found that Instagram is sensitive to robot activities steps that I have one that has addressed this issue was to :\r\n1- wait for random times\r\n```python\r\nimport numpy as np\r\nsleep_instagram = lambda t: np.random.randint(low=t / 2, high=t * 2, size=1)\r\n```\r\n2- click on the save login information\r\n\r\nmine has been solved!!!","title":"issue in logging in to Instagram using selenium, &#39;There was a problem logging you into Instagram&#39;","body":"<p>After a week of struggling I found that Instagram is sensitive to robot activities steps that I have one that has addressed this issue was to :\n1- wait for random times</p>\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\nsleep_instagram = lambda t: np.random.randint(low=t / 2, high=t * 2, size=1)\n</code></pre>\n<p>2- click on the save login information</p>\n<p>mine has been solved!!!</p>\n"}],"owner":{"account_id":24452919,"reputation":33,"user_id":18374903,"display_name":"sara yaghoobi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73617093,"answer_count":1,"score":0,"last_activity_date":1662442217,"creation_date":1661669790,"question_id":73516610,"body_markdown":"I am writing a code to scrape Instagram, search and analyze the posts, likes, ...\r\nMy robot used to work correctly, but from yesterday it cannot login\r\nI have tried all of these tricks:\r\n - logging out from my previous account\r\n- using proxies\r\n- reset chromwebdriver\r\n\r\nThe language I&#39;m using is python\r\nlibraries : \r\n\r\n 1. selenium\r\n2. beatifulsoup\r\n\r\n\r\n```python\r\n    def fetch_element(self, by, string):\r\n        res = self.wait.until(EC.visibility_of_element_located((by, string)))\r\n        return res\r\n\r\n```\r\n\r\n\r\n\r\n```python\r\nself.fetch_element(By.NAME, &#39;username&#39;).send_keys(username)\r\nself.fetch_element(By.NAME, &#39;password&#39;).send_keys(password)\r\nself.fetch_element(By.XPATH, &#39;//*[@id=&quot;loginForm&quot;]/div/div[3]/button/div&#39;).click()\r\nsleep(sleep_instagram)\r\n\r\n```\r\n\r\n    ","title":"issue in logging in to Instagram using selenium, &#39;There was a problem logging you into Instagram&#39;","body":"<p>I am writing a code to scrape Instagram, search and analyze the posts, likes, ...\nMy robot used to work correctly, but from yesterday it cannot login\nI have tried all of these tricks:</p>\n<ul>\n<li>logging out from my previous account</li>\n<li>using proxies</li>\n<li>reset chromwebdriver</li>\n</ul>\n<p>The language I'm using is python\nlibraries :</p>\n<ol>\n<li>selenium</li>\n<li>beatifulsoup</li>\n</ol>\n<pre class=\"lang-py prettyprint-override\"><code>    def fetch_element(self, by, string):\n        res = self.wait.until(EC.visibility_of_element_located((by, string)))\n        return res\n\n</code></pre>\n<pre class=\"lang-py prettyprint-override\"><code>self.fetch_element(By.NAME, 'username').send_keys(username)\nself.fetch_element(By.NAME, 'password').send_keys(password)\nself.fetch_element(By.XPATH, '//*[@id=&quot;loginForm&quot;]/div/div[3]/button/div').click()\nsleep(sleep_instagram)\n\n</code></pre>\n"},{"tags":["java","tomcat","tomcat8"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1662435182,"post_id":73616255,"comment_id":129998544,"body_markdown":"What do the logs say?   When you attempt to start it?","body":"What do the logs say?   When you attempt to start it?"},{"owner":{"account_id":13557961,"reputation":893,"user_id":9780713,"display_name":"F4NT0"},"score":1,"creation_date":1662435975,"post_id":73616255,"comment_id":129998629,"body_markdown":"Please, put the images and code on your question, not in links","body":"Please, put the images and code on your question, not in links"},{"owner":{"account_id":13557961,"reputation":893,"user_id":9780713,"display_name":"F4NT0"},"score":0,"creation_date":1662436133,"post_id":73616255,"comment_id":129998657,"body_markdown":"did you connect your spring project to an database? how do you want to do on your project?","body":"did you connect your spring project to an database? how do you want to do on your project?"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1662447468,"post_id":73616255,"comment_id":130000821,"body_markdown":"Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447). Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see [ask].","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>. Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":26255602,"reputation":1,"user_id":19927686,"display_name":"Vamsi Krishna"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662442043,"creation_date":1662433049,"question_id":73616255,"body_markdown":"I had installed Apache Tomcat for my academic purpose but I don&#39;t know the reson why but my server was not starting. I only thing I changed during the installation of tomcat is change the port from 8080 to 3000.\r\n\r\nThis was the screenshot after clicking start.\r\n[Tomcat window][1]\r\nI was currently using JAVA jdk-11.0.15.1. I had added CLASSPATH, JAVA_HOME in enivroment variables.\r\n\r\n[Enivronmental Variables][2]\r\n\r\n[Java version][3]\r\n\r\n[JVM PATH][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yg3xI.png\r\n  [2]: https://i.stack.imgur.com/4dGuh.png\r\n  [3]: https://i.stack.imgur.com/rWigb.png\r\n  [4]: https://i.stack.imgur.com/RFlgr.png","title":"Apache tomcat was not starting","body":"<p>I had installed Apache Tomcat for my academic purpose but I don't know the reson why but my server was not starting. I only thing I changed during the installation of tomcat is change the port from 8080 to 3000.</p>\n<p>This was the screenshot after clicking start.\n<a href=\"https://i.stack.imgur.com/yg3xI.png\" rel=\"nofollow noreferrer\">Tomcat window</a>\nI was currently using JAVA jdk-11.0.15.1. I had added CLASSPATH, JAVA_HOME in enivroment variables.</p>\n<p><a href=\"https://i.stack.imgur.com/4dGuh.png\" rel=\"nofollow noreferrer\">Enivronmental Variables</a></p>\n<p><a href=\"https://i.stack.imgur.com/rWigb.png\" rel=\"nofollow noreferrer\">Java version</a></p>\n<p><a href=\"https://i.stack.imgur.com/RFlgr.png\" rel=\"nofollow noreferrer\">JVM PATH</a></p>\n"},{"tags":["java","android","accelerometer","android-sensors"],"comments":[{"owner":{"account_id":468579,"reputation":2252,"user_id":874662,"display_name":"Joe"},"score":0,"creation_date":1427372407,"post_id":15593885,"comment_id":46754529,"body_markdown":"hi @Vektor88 did you managed to do that? i have the exact same problem.","body":"hi @Vektor88 did you managed to do that? i have the exact same problem."},{"owner":{"account_id":1232478,"reputation":4841,"user_id":1196752,"accept_rate":74,"display_name":"Vektor88"},"score":0,"creation_date":1427444189,"post_id":15593885,"comment_id":46787609,"body_markdown":"@Joe In the end I gave up and moved to another project, but you can try creating a fake accelerometer with uinput and injecting axis events. You can do this with proper key press detection and some NDK code to create the device (root is required)","body":"@Joe In the end I gave up and moved to another project, but you can try creating a fake accelerometer with uinput and injecting axis events. You can do this with proper key press detection and some NDK code to create the device (root is required)"},{"owner":{"account_id":468579,"reputation":2252,"user_id":874662,"display_name":"Joe"},"score":0,"creation_date":1427667309,"post_id":15593885,"comment_id":46859514,"body_markdown":"Thanks. If you have pointers to any more information about this ill be very thankful.. i&#39;m going to dig as deep as i can in order to achieve this.","body":"Thanks. If you have pointers to any more information about this ill be very thankful.. i&#39;m going to dig as deep as i can in order to achieve this."}],"answers":[{"tags":[],"owner":{"account_id":1069432,"reputation":82107,"user_id":1069068,"accept_rate":80,"display_name":"Raghav Sood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364086306,"creation_date":1364086306,"answer_id":15593899,"question_id":15593885,"body_markdown":"No, you cannot.\r\n\r\nThe accelerometer is a system service, and you have no control over how other apps use it, so you cannot disable/override it.\r\n\r\nIt may be possible to fake values from it on a rooted device by writing the data to the appropriate part of the /dev/ section, but I don&#39;t know which part that is.\r\n","title":"Disable accelerometer and simulate it with key inputs","body":"<p>No, you cannot.</p>\n\n<p>The accelerometer is a system service, and you have no control over how other apps use it, so you cannot disable/override it.</p>\n\n<p>It may be possible to fake values from it on a rooted device by writing the data to the appropriate part of the /dev/ section, but I don't know which part that is.</p>\n"},{"tags":[],"owner":{"account_id":2697382,"reputation":294,"user_id":2329045,"accept_rate":67,"display_name":"codeonion"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444747409,"creation_date":1444747409,"answer_id":33105668,"question_id":15593885,"body_markdown":"By following [this][1] tutorial, you can disable Accelerometer easily.\r\n\r\nNote the lines\r\n\r\n    package com.badlogic.drop;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import com.badlogic.gdx.backends.android.AndroidApplication;\r\n    import com.badlogic.gdx.backends.android.AndroidApplicationConfiguration;\r\n    \r\n    public class AndroidLauncher extends AndroidApplication {\r\n       @Override\r\n       public void onCreate(Bundle savedInstanceState) {\r\n          super.onCreate(savedInstanceState);\r\n    \r\n          AndroidApplicationConfiguration config= new AndroidApplicationConfiguration();\r\n          config.useAccelerometer = false;\r\n          config.useCompass = false;\r\n    \r\n          initialize(new Drop(), config);\r\n       }\r\n    }\r\n\r\nThee tutorial in the link is for libgdx and libgdx is a Java game development framework that provides a unified API that works across all supported platforms including android.\r\n\r\n\r\n  [1]: https://github.com/libgdx/libgdx/wiki/A-simple-game","title":"Disable accelerometer and simulate it with key inputs","body":"<p>By following <a href=\"https://github.com/libgdx/libgdx/wiki/A-simple-game\" rel=\"nofollow\">this</a> tutorial, you can disable Accelerometer easily.</p>\n\n<p>Note the lines</p>\n\n<pre><code>package com.badlogic.drop;\n\nimport android.os.Bundle;\n\nimport com.badlogic.gdx.backends.android.AndroidApplication;\nimport com.badlogic.gdx.backends.android.AndroidApplicationConfiguration;\n\npublic class AndroidLauncher extends AndroidApplication {\n   @Override\n   public void onCreate(Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n\n      AndroidApplicationConfiguration config= new AndroidApplicationConfiguration();\n      config.useAccelerometer = false;\n      config.useCompass = false;\n\n      initialize(new Drop(), config);\n   }\n}\n</code></pre>\n\n<p>Thee tutorial in the link is for libgdx and libgdx is a Java game development framework that provides a unified API that works across all supported platforms including android.</p>\n"},{"tags":[],"owner":{"account_id":25942698,"reputation":9,"user_id":19669316,"display_name":"No Reply"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662441685,"creation_date":1662441685,"answer_id":73617035,"question_id":15593885,"body_markdown":"They&#39;re at least two paths to modificate your built-in sensors in raw mode:\r\n\r\npath one: ```/sys/devices/virtual/sensors/{accelerometer_sensor, proximity_sensor, etc.}```\r\n\r\npath two:``` /sys/devices/virtual/input/{input#}/ ```\r\nIn this case, the number represents the sensor and could be change depending on you system structure, but all built-in sensor information is inside of those folder. \r\n\r\nAttention!\r\n\r\nCould brick your terminal or disable the sensor, finishing in malfunction of the system OS. Make changes at your own risk.","title":"Disable accelerometer and simulate it with key inputs","body":"<p>They're at least two paths to modificate your built-in sensors in raw mode:</p>\n<p>path one: <code>/sys/devices/virtual/sensors/{accelerometer_sensor, proximity_sensor, etc.}</code></p>\n<p>path two:<code>/sys/devices/virtual/input/{input#}/</code>\nIn this case, the number represents the sensor and could be change depending on you system structure, but all built-in sensor information is inside of those folder.</p>\n<p>Attention!</p>\n<p>Could brick your terminal or disable the sensor, finishing in malfunction of the system OS. Make changes at your own risk.</p>\n"}],"owner":{"account_id":1232478,"reputation":4841,"user_id":1196752,"accept_rate":74,"display_name":"Vektor88"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1867,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1662441685,"creation_date":1364086193,"question_id":15593885,"body_markdown":"I would like to create an android app that makes the user play games requiring to tilt the screen with key inputs. \r\nIs it possible to simulate accelerometer data when some key is pressed? In the meantime, can I disable with some code the real accelerometer when my app is running?\r\n\r\n**EDIT:** I forgot to mention that I have access to the full android source, plus kernel source, so I could even add specific code or create some java code to disable or &quot;fake&quot; the source of accelerometer inputs.","title":"Disable accelerometer and simulate it with key inputs","body":"<p>I would like to create an android app that makes the user play games requiring to tilt the screen with key inputs. \nIs it possible to simulate accelerometer data when some key is pressed? In the meantime, can I disable with some code the real accelerometer when my app is running?</p>\n\n<p><strong>EDIT:</strong> I forgot to mention that I have access to the full android source, plus kernel source, so I could even add specific code or create some java code to disable or \"fake\" the source of accelerometer inputs.</p>\n"},{"tags":["java","python","zip"],"comments":[{"owner":{"account_id":6358,"reputation":386072,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"score":1,"creation_date":1299669611,"post_id":5244963,"comment_id":5904191,"body_markdown":"Step 1:  Read this.  http://docs.python.org/library/zipfile.html  Step 2: Post the code you tried.","body":"Step 1:  Read this.  <a href=\"http://docs.python.org/library/zipfile.html\" rel=\"nofollow noreferrer\">docs.python.org/library/zipfile.html</a>  Step 2: Post the code you tried."},{"owner":{"account_id":119097,"reputation":85328,"user_id":310574,"accept_rate":80,"display_name":"Gabe"},"score":0,"creation_date":1299670823,"post_id":5244963,"comment_id":5904446,"body_markdown":"@S.Lott: That won&#39;t work without decompressing the file first.","body":"@S.Lott: That won&#39;t work without decompressing the file first."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1299671422,"post_id":5244963,"comment_id":5904562,"body_markdown":"ZIP is not designed for fast updates and involves rewriting the whole file even for simple changes.  Instead of deleting these references I suggest you maintain a file which lists the deleted files, and another ZIP or directory for the altered files (if you need that)  An over night/off line process can rewrite the file to reflect all the changes.","body":"ZIP is not designed for fast updates and involves rewriting the whole file even for simple changes.  Instead of deleting these references I suggest you maintain a file which lists the deleted files, and another ZIP or directory for the altered files (if you need that)  An over night/off line process can rewrite the file to reflect all the changes."},{"owner":{"account_id":6358,"reputation":386072,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"score":0,"creation_date":1299675143,"post_id":5244963,"comment_id":5905496,"body_markdown":"@Gabe: I&#39;m unclear on what &quot;That won&#39;t work&quot; means.  Could you explain?  It seemed like a little reading would help clarify the question.","body":"@Gabe: I&#39;m unclear on what &quot;That won&#39;t work&quot; means.  Could you explain?  It seemed like a little reading would help clarify the question."},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1299677032,"post_id":5244963,"comment_id":5905997,"body_markdown":"@S.Lott, sure, it&#39;s possible to read the directory structure of the zip w/o full decompress. It&#39;s also possible to remove entries from the zip w/o fully rebuilding it, but I would not recommend it.","body":"@S.Lott, sure, it&#39;s possible to read the directory structure of the zip w/o full decompress. It&#39;s also possible to remove entries from the zip w/o fully rebuilding it, but I would not recommend it."},{"owner":{"account_id":6358,"reputation":386072,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"score":0,"creation_date":1299677992,"post_id":5244963,"comment_id":5906213,"body_markdown":"@bestsss: First, how would one do that?  The Python libraries don&#39;t support it.  Second, why would it not be recommended?  Perhaps you should provide a proper answer so we can upvote it?","body":"@bestsss: First, how would one do that?  The Python libraries don&#39;t support it.  Second, why would it not be recommended?  Perhaps you should provide a proper answer so we can upvote it?"},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1299678258,"post_id":5244963,"comment_id":5906261,"body_markdown":"@S.Lott, dunno about python, java can&#39;t naturally do it either, but the code is relatively trivial. Surprisingly wikepedia has an ok article on the zip format, i guess everyone can figure how to do it: http://en.wikipedia.org/wiki/ZIP_%28file_format%29, the main issue would be that the file will grow fragmented (and bigger) after deletion,","body":"@S.Lott, dunno about python, java can&#39;t naturally do it either, but the code is relatively trivial. Surprisingly wikepedia has an ok article on the zip format, i guess everyone can figure how to do it: <a href=\"http://en.wikipedia.org/wiki/ZIP_%28file_format%29\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ZIP_%28file_format%29</a>, the main issue would be that the file will grow fragmented (and bigger) after deletion,"},{"owner":{"account_id":6358,"reputation":386072,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"score":0,"creation_date":1299683151,"post_id":5244963,"comment_id":5907659,"body_markdown":"@bestsss: Perhaps you should provide a proper answer so we can upvote it?","body":"@bestsss: Perhaps you should provide a proper answer so we can upvote it?"},{"owner":{"account_id":119097,"reputation":85328,"user_id":310574,"accept_rate":80,"display_name":"Gabe"},"score":0,"creation_date":1299688388,"post_id":5244963,"comment_id":5909258,"body_markdown":"@S.Lott: Sorry for not being more clear, but my baby started to cry just as I started typing. What I meant was that using the Python zipfile lib means decompressing/recompressing all the files. There&#39;s no delete operation nor any way to get the raw compressed data.","body":"@S.Lott: Sorry for not being more clear, but my baby started to cry just as I started typing. What I meant was that using the Python zipfile lib means decompressing/recompressing all the files. There&#39;s no delete operation nor any way to get the raw compressed data."},{"owner":{"account_id":20213,"reputation":190000,"user_id":48082,"accept_rate":96,"display_name":"Cheeso"},"score":0,"creation_date":1299769730,"post_id":5244963,"comment_id":5925717,"body_markdown":"@Peter Lawrey - you wrote, *ZIP is not designed for fast updates and involves rewriting the whole file even for simple changes*.  This isn&#39;t true. DotNetZip can do what is requested in this post - using that library, you can remove entries from a zipfile, or add entries to a zipfile, without decompressing and re-compressing unnecessarily. The format itself does not prevent what is requested here.  It&#39;s just a matter of having the appropriate intelligence in the zip library.","body":"@Peter Lawrey - you wrote, <i>ZIP is not designed for fast updates and involves rewriting the whole file even for simple changes</i>.  This isn&#39;t true. DotNetZip can do what is requested in this post - using that library, you can remove entries from a zipfile, or add entries to a zipfile, without decompressing and re-compressing unnecessarily. The format itself does not prevent what is requested here.  It&#39;s just a matter of having the appropriate intelligence in the zip library."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1299772005,"post_id":5244963,"comment_id":5926433,"body_markdown":"@Cheeso, To remove a file it has to rewrite from that point in the ZIP as a minimum, even if it avoids compressing/decompressing. For a 20 GB file ZIP that would take a long time. AFAIK, removing an entry does not mean you have to decompress/re-compress other files in any case.","body":"@Cheeso, To remove a file it has to rewrite from that point in the ZIP as a minimum, even if it avoids compressing/decompressing. For a 20 GB file ZIP that would take a long time. AFAIK, removing an entry does not mean you have to decompress/re-compress other files in any case."},{"owner":{"account_id":217504,"reputation":481,"user_id":473342,"accept_rate":50,"display_name":"SeanDav"},"score":0,"creation_date":1299785658,"post_id":5244963,"comment_id":5930204,"body_markdown":"Thanks for all the comments and suggestions. Just a point - the zip files are not 20GB they decompress to 20GB. They are usually around 1GB of actual zip file.","body":"Thanks for all the comments and suggestions. Just a point - the zip files are not 20GB they decompress to 20GB. They are usually around 1GB of actual zip file."},{"owner":{"account_id":20213,"reputation":190000,"user_id":48082,"accept_rate":96,"display_name":"Cheeso"},"score":0,"creation_date":1299791032,"post_id":5244963,"comment_id":5931641,"body_markdown":"@Lawrey, the expensive thing is typically the compression, and in some cases encryption. Disk I/O is not the thing that will take &quot;a long time&quot;.","body":"@Lawrey, the expensive thing is typically the compression, and in some cases encryption. Disk I/O is not the thing that will take &quot;a long time&quot;."},{"owner":{"account_id":3783492,"reputation":1713,"user_id":3142238,"display_name":"Valen"},"score":0,"creation_date":1491296406,"post_id":5244963,"comment_id":73476995,"body_markdown":"@bestsss, there is a natural solution in [Java](http://stackoverflow.com/a/36088523/3142238)","body":"@bestsss, there is a natural solution in <a href=\"http://stackoverflow.com/a/36088523/3142238\">Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":217504,"reputation":481,"user_id":473342,"accept_rate":50,"display_name":"SeanDav"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1299681464,"creation_date":1299681464,"answer_id":5247310,"question_id":5244963,"body_markdown":"\r\nOk think I found a potential solution from www.javaer.org. It definitely deletes files inside the zip and I don&#39;t think it is decompressing anything. Here is the code:\r\n\r\n\r\n\r\n\r\n    public static void deleteZipEntry(File zipFile,\r\n\t\t String[] files) throws IOException {\r\n\t\t   // get a temp file\r\n\tFile tempFile = File.createTempFile(zipFile.getName(), null);\r\n\t\t   // delete it, otherwise you cannot rename your existing zip to it.\r\n\ttempFile.delete();\r\n\ttempFile.deleteOnExit();\r\n\tboolean renameOk=zipFile.renameTo(tempFile);\r\n\tif (!renameOk)\r\n\t{\r\n\t\tthrow new RuntimeException(&quot;could not rename the file &quot;+zipFile.getAbsolutePath()+&quot; to &quot;+tempFile.getAbsolutePath());\r\n\t}\r\n\tbyte[] buf = new byte[1024];\r\n\t\r\n\tZipInputStream zin = new ZipInputStream(new FileInputStream(tempFile));\r\n\tZipOutputStream zout = new ZipOutputStream(new FileOutputStream(zipFile));\r\n\t\r\n\tZipEntry entry = zin.getNextEntry();\r\n\twhile (entry != null) {\r\n\t\tString name = entry.getName();\r\n\t\tboolean toBeDeleted = false;\r\n\t\tfor (String f : files) {\r\n\t\t\tif (f.equals(name)) {\r\n\t\t\t\ttoBeDeleted = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!toBeDeleted) {\r\n\t\t\t// Add ZIP entry to output stream.\r\n\t\t\tzout.putNextEntry(new ZipEntry(name));\r\n\t\t\t// Transfer bytes from the ZIP file to the output file\r\n\t\t\tint len;\r\n\t\t\twhile ((len = zin.read(buf)) &gt; 0) {\r\n\t\t\t\tzout.write(buf, 0, len);\r\n\t\t\t}\r\n\t\t}\r\n\t\tentry = zin.getNextEntry();\r\n\t}\r\n\t// Close the streams\t\t\r\n\tzin.close();\r\n\t// Compress the files\r\n\t// Complete the ZIP file\r\n\tzout.close();\r\n\ttempFile.delete();\r\n}\r\n\r\n\r\n\r\n\r\n","title":"Delete files from a ZIP archive without Decompressing in Java or maybe Python","body":"<p>Ok think I found a potential solution from www.javaer.org. It definitely deletes files inside the zip and I don't think it is decompressing anything. Here is the code:</p>\n\n<pre><code>public static void deleteZipEntry(File zipFile,\n     String[] files) throws IOException {\n       // get a temp file\nFile tempFile = File.createTempFile(zipFile.getName(), null);\n       // delete it, otherwise you cannot rename your existing zip to it.\ntempFile.delete();\ntempFile.deleteOnExit();\nboolean renameOk=zipFile.renameTo(tempFile);\nif (!renameOk)\n{\n    throw new RuntimeException(\"could not rename the file \"+zipFile.getAbsolutePath()+\" to \"+tempFile.getAbsolutePath());\n}\nbyte[] buf = new byte[1024];\n\nZipInputStream zin = new ZipInputStream(new FileInputStream(tempFile));\nZipOutputStream zout = new ZipOutputStream(new FileOutputStream(zipFile));\n\nZipEntry entry = zin.getNextEntry();\nwhile (entry != null) {\n    String name = entry.getName();\n    boolean toBeDeleted = false;\n    for (String f : files) {\n        if (f.equals(name)) {\n            toBeDeleted = true;\n            break;\n        }\n    }\n    if (!toBeDeleted) {\n        // Add ZIP entry to output stream.\n        zout.putNextEntry(new ZipEntry(name));\n        // Transfer bytes from the ZIP file to the output file\n        int len;\n        while ((len = zin.read(buf)) &gt; 0) {\n            zout.write(buf, 0, len);\n        }\n    }\n    entry = zin.getNextEntry();\n}\n// Close the streams        \nzin.close();\n// Compress the files\n// Complete the ZIP file\nzout.close();\ntempFile.delete();\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":119097,"reputation":85328,"user_id":310574,"accept_rate":80,"display_name":"Gabe"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1299693260,"creation_date":1299689230,"answer_id":5249145,"question_id":5244963,"body_markdown":"I don&#39;t have code to do this, but the basic idea is simple and should translate into almost any language the same way. The ZIP file layout is just a series of blocks that represent files (a header followed by the compressed data), finished off with a central directory that just contains all the metadata. Here&#39;s the process:\r\n\r\n1. Scan forward in the file until you find the first file you want to delete.\r\n2. Scan forward in the file until you find the first file you *don&#39;t* want to delete **or** you hit the central directory.\r\n3. Scan forward in the file until you find the first file you want to delete **or** you hit the central directory.\r\n4. Copy all the data you found in step 3 back onto the data you skipped in step 2 until you find another file you want to delete **or** you hit the central directory.\r\n5. Go to step 2 unless you&#39;ve hit the central directory.\r\n6. Copy the central directory to where ever you left off copying, leaving out the entries for the deleted files and changing the offsets to reflect how much you moved each file.\r\n\r\nSee http://en.wikipedia.org/wiki/ZIP_%28file_format%29 for all the details on the ZIP file structures.\r\n\r\nAs bestsss suggests, you might want to perform the copying into another file, so as to prevent losing data in the event of a failure.","title":"Delete files from a ZIP archive without Decompressing in Java or maybe Python","body":"<p>I don't have code to do this, but the basic idea is simple and should translate into almost any language the same way. The ZIP file layout is just a series of blocks that represent files (a header followed by the compressed data), finished off with a central directory that just contains all the metadata. Here's the process:</p>\n\n<ol>\n<li>Scan forward in the file until you find the first file you want to delete.</li>\n<li>Scan forward in the file until you find the first file you <em>don't</em> want to delete <strong>or</strong> you hit the central directory.</li>\n<li>Scan forward in the file until you find the first file you want to delete <strong>or</strong> you hit the central directory.</li>\n<li>Copy all the data you found in step 3 back onto the data you skipped in step 2 until you find another file you want to delete <strong>or</strong> you hit the central directory.</li>\n<li>Go to step 2 unless you've hit the central directory.</li>\n<li>Copy the central directory to where ever you left off copying, leaving out the entries for the deleted files and changing the offsets to reflect how much you moved each file.</li>\n</ol>\n\n<p>See <a href=\"http://en.wikipedia.org/wiki/ZIP_%28file_format%29\" rel=\"nofollow\">http://en.wikipedia.org/wiki/ZIP_%28file_format%29</a> for all the details on the ZIP file structures.</p>\n\n<p>As bestsss suggests, you might want to perform the copying into another file, so as to prevent losing data in the event of a failure.</p>\n"},{"tags":[],"owner":{"account_id":3783492,"reputation":1713,"user_id":3142238,"display_name":"Valen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1481460187,"creation_date":1458315521,"answer_id":36088523,"question_id":5244963,"body_markdown":"[I&#39;ve found this on web](http://thinktibits.blogspot.hk/2013/02/Delete-Files-From-ZIP-Archive-Java-Example.html &quot;this is a real clean solution. thx java7&quot;)\r\n\r\nclean solution with only standard library, but I&#39;m not sure whether it&#39;s included in android sdk, to be found.\r\n\r\n    import java.util.*;\r\n    import java.net.URI;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.*;\r\n    import java.nio.file.StandardCopyOption;\r\n    public class ZPFSDelete {\r\n        public static void main(String [] args) throws Exception {\r\n            \r\n            /* Define ZIP File System Properies in HashMap */    \r\n            Map&lt;String, String&gt; zip_properties = new HashMap&lt;&gt;(); \r\n            /* We want to read an existing ZIP File, so we set this to False */\r\n            zip_properties.put(&quot;create&quot;, &quot;false&quot;); \r\n            \r\n            /* Specify the path to the ZIP File that you want to read as a File System */\r\n            URI zip_disk = URI.create(&quot;jar:file:/my_zip_file.zip&quot;);\r\n            \r\n            /* Create ZIP file System */\r\n            try (FileSystem zipfs = FileSystems.newFileSystem(zip_disk, zip_properties)) {\r\n                /* Get the Path inside ZIP File to delete the ZIP Entry */\r\n                Path pathInZipfile = zipfs.getPath(&quot;source.sql&quot;);\r\n                System.out.println(&quot;About to delete an entry from ZIP File&quot; + pathInZipfile.toUri() ); \r\n                /* Execute Delete */\r\n                Files.delete(pathInZipfile);\r\n                System.out.println(&quot;File successfully deleted&quot;);   \r\n            } \r\n        }\r\n    }\r\n","title":"Delete files from a ZIP archive without Decompressing in Java or maybe Python","body":"<p><a href=\"http://thinktibits.blogspot.hk/2013/02/Delete-Files-From-ZIP-Archive-Java-Example.html\" rel=\"noreferrer\" title=\"this is a real clean solution. thx java7\">I've found this on web</a></p>\n\n<p>clean solution with only standard library, but I'm not sure whether it's included in android sdk, to be found.</p>\n\n<pre><code>import java.util.*;\nimport java.net.URI;\nimport java.nio.file.Path;\nimport java.nio.file.*;\nimport java.nio.file.StandardCopyOption;\npublic class ZPFSDelete {\n    public static void main(String [] args) throws Exception {\n\n        /* Define ZIP File System Properies in HashMap */    \n        Map&lt;String, String&gt; zip_properties = new HashMap&lt;&gt;(); \n        /* We want to read an existing ZIP File, so we set this to False */\n        zip_properties.put(\"create\", \"false\"); \n\n        /* Specify the path to the ZIP File that you want to read as a File System */\n        URI zip_disk = URI.create(\"jar:file:/my_zip_file.zip\");\n\n        /* Create ZIP file System */\n        try (FileSystem zipfs = FileSystems.newFileSystem(zip_disk, zip_properties)) {\n            /* Get the Path inside ZIP File to delete the ZIP Entry */\n            Path pathInZipfile = zipfs.getPath(\"source.sql\");\n            System.out.println(\"About to delete an entry from ZIP File\" + pathInZipfile.toUri() ); \n            /* Execute Delete */\n            Files.delete(pathInZipfile);\n            System.out.println(\"File successfully deleted\");   \n        } \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1154611,"reputation":17254,"user_id":1135548,"accept_rate":50,"display_name":"Hardik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662441550,"creation_date":1467182717,"answer_id":38092178,"question_id":5244963,"body_markdown":"Yes it is possible for JAVA using library called **TRUEZIP**.\r\n\r\n&gt; TrueZIP is a Java based virtual file system (VFS) which enables client\r\n&gt; applications to perform CRUD (Create, Read, Update, Delete) operations\r\n&gt; on archive files as if they were virtual directories, even with nested\r\n&gt; archive files in multithreaded environments\r\n\r\nsee below link for more information\r\nhttps://christian-schlichtherle.bitbucket.io/truezip/","title":"Delete files from a ZIP archive without Decompressing in Java or maybe Python","body":"<p>Yes it is possible for JAVA using library called <strong>TRUEZIP</strong>.</p>\n<blockquote>\n<p>TrueZIP is a Java based virtual file system (VFS) which enables client\napplications to perform CRUD (Create, Read, Update, Delete) operations\non archive files as if they were virtual directories, even with nested\narchive files in multithreaded environments</p>\n</blockquote>\n<p>see below link for more information\n<a href=\"https://christian-schlichtherle.bitbucket.io/truezip/\" rel=\"nofollow noreferrer\">https://christian-schlichtherle.bitbucket.io/truezip/</a></p>\n"}],"owner":{"account_id":217504,"reputation":481,"user_id":473342,"accept_rate":50,"display_name":"SeanDav"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23988,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1662441550,"creation_date":1299669226,"question_id":5244963,"body_markdown":"Delete files from a ZIP archive without decompressing using Java (Preferred) or Python\r\n\r\nHi,\r\n\r\nI work with large ZIP files containing many hundreds of highly compressed text files. When I decompress the ZIP file it can take a while and easily consume up to 20 GB of diskspace. I would like to remove certain files from these ZIP files without having to decompress and recompress only the files I want.\r\n\r\nOf course it is certainly possible to do this the long way, but very inefficient.\r\n\r\nI would prefer to do this in Java, but will consider Python\r\n","title":"Delete files from a ZIP archive without Decompressing in Java or maybe Python","body":"<p>Delete files from a ZIP archive without decompressing using Java (Preferred) or Python</p>\n\n<p>Hi,</p>\n\n<p>I work with large ZIP files containing many hundreds of highly compressed text files. When I decompress the ZIP file it can take a while and easily consume up to 20 GB of diskspace. I would like to remove certain files from these ZIP files without having to decompress and recompress only the files I want.</p>\n\n<p>Of course it is certainly possible to do this the long way, but very inefficient.</p>\n\n<p>I would prefer to do this in Java, but will consider Python</p>\n"},{"tags":["java","android","infrared","remote-control","transmitfile"],"comments":[{"owner":{"account_id":21009819,"reputation":1,"user_id":17985415,"display_name":"kensunjaya"},"score":0,"creation_date":1656141418,"post_id":72725599,"comment_id":128503167,"body_markdown":"I eventually use arduino to get the IR patterns","body":"I eventually use arduino to get the IR patterns"}],"answers":[{"tags":[],"owner":{"account_id":21009819,"reputation":1,"user_id":17985415,"display_name":"kensunjaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662441398,"creation_date":1662441398,"answer_id":73617001,"question_id":72725599,"body_markdown":"I&#39;ve decoded the remote with Arduino using IR receiver. The pattern was so long that it couldn&#39;t decoded with &lt;IRRemote.h&gt; library. I have to decode the remote without any arduino libraries.\r\n\r\nHere are the patterns:\r\n\r\n    int[] patternOFF = {204, 49272, 208, 444, 360, 508, 360, 512, 360, 508, 360, 508, 360, 512, 360, 25288, 3400, 1816, 360, 1376, 360, 512, 360, 508, 360, 512, 356, 1380, 360, 512, 356, 512, 360, 508, 360, 512, 360, 1380, 356, 512, 360, 1376, 360, 1380, 360, 512, 356, 1380, 360, 1380, 360, 1380, 360, 1380, 356, 1380, 360, 512, 356, 512, 360, 1352, 384, 512, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 364, 504, 360, 512, 356, 512, 360, 508, 360, 508, 364, 508, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 360, 508, 360, 508, 364, 508, 360, 508, 360, 508, 360, 1380, 360, 1380, 360, 508, 360, 512, 360, 508, 360, 1380, 360, 1376, 360, 512, 356, 1384, 356, 1384, 356, 512, 360, 508, 360, 508, 360, 512, 360, 508, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 360, 1380, 360, 1376, 360, 1380, 360, 1380, 360, 508, 360, 1356, 388, 504, 360, 1380, 360, 508, 360, 508, 360, 512, 360, 508, 360, 512, 360, 508, 360, 512, 356, 512, 360, 508, 360, 508, 360, 512, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 360, 508, 360, 508, 360, 512, 360, 508, 360, 512, 360, 508, 360, 508, 360, 512, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 356, 512, 412, 456, 360, 508, 360, 512, 412, 456, 360, 512, 360, 508, 360, 512, 356, 512, 360, 508, 360, 508, 360, 512, 360, 508, 360, 1380, 364, 504, 360, 1380, 360, 508, 360, 512, 360, 508, 360, 1380, 360, 1380, 356, 512, 360, 508, 360, 512, 360, 508, 360, 508, 360, 512, 360, 1376, 360, 512, 360, 508, 360, 512, 356, 512, 360, 1380, 360, 508, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 360, 1380, 356, 512, 360, 1380, 356, 1380, 360, 508, 360, 512, 360, 49944, 84};\r\n            \r\n    \r\n    int[] patternON = {460, 404, 464, 404, 464, 408, 464, 404, 464, 368, 500, 25188, 3500, 1720, 456, 1280, 456, 412, 456, 412, 464, 404, 436, 1308, 432, 424, 468, 412, 460, 412, 432, 440, 456, 1284, 452, 412, 456, 1284, 456, 1284, 456, 412, 432, 1308, 432, 1308, 456, 1280, 460, 1280, 456, 1284, 456, 408, 460, 412, 460, 1284, 452, 412, 460, 408, 464, 408, 456, 412, 460, 412, 456, 412, 460, 412, 456, 408, 460, 412, 460, 408, 460, 412, 460, 408, 460, 408, 460, 412, 460, 408, 460, 412, 456, 412, 484, 368, 472, 1288, 456, 408, 460, 412, 460, 412, 452, 1284, 460, 1280, 456, 416, 456, 408, 460, 408, 460, 412, 456, 1288, 452, 412, 456, 1284, 456, 1284, 456, 416, 452, 416, 456, 412, 456, 412, 456, 416, 456, 408, 460, 416, 452, 416, 452, 416, 456, 412, 456, 1284, 456, 1284, 456, 1284, 456, 1284, 452, 416, 456, 1284, 452, 416, 456, 1284, 452, 416, 456, 412, 456, 416, 452, 416, 452, 420, 452, 416, 452, 416, 452, 420, 452, 416, 452, 420, 448, 420, 452, 416, 452, 420, 452, 416, 452, 416, 452, 420, 452, 416, 452, 416, 452, 420, 452, 416, 452, 440, 428, 420, 448, 424, 448, 420, 452, 440, 424, 420, 452, 420, 448, 444, 424, 424, 448, 444, 424, 444, 424, 444, 428, 444, 424, 444, 428, 440, 428, 444, 424, 444, 424, 448, 424, 444, 424, 444, 424, 448, 420, 448, 424, 448, 420, 448, 420, 448, 420, 452, 420, 448, 420, 452, 416, 1320, 420, 452, 416, 1324, 416, 452, 416, 452, 416, 452, 420, 1320, 420, 1320, 416, 452, 420, 452, 416, 452, 416, 452, 420, 452, 416, 452, 416, 452, 420, 452, 416, 452, 420, 452, 416, 452, 416, 1324, 416, 452, 416, 452, 420, 452, 392, 476, 416, 1324, 416, 1320, 420, 452, 416, 452, 420, 1320, 416, 1324, 416, 1320, 420, 1320, 416};\r\n          \r\n    \r\n    int[] patternCANCEL = {328, 536, 332, 540, 332, 536, 332, 540, 328, 540, 332, 25316, 3376, 1840, 332, 1408, 328, 540, 328, 540, 332, 536, 336, 1408, 328, 540, 332, 536, 332, 536, 332, 540, 332, 1404, 332, 536, 336, 1408, 332, 1408, 328, 540, 332, 1408, 328, 1408, 332, 1408, 332, 1404, 332, 1408, 332, 536, 336, 536, 332, 1408, 328, 540, 332, 536, 332, 540, 332, 536, 332, 536, 336, 532, 336, 536, 332, 536, 332, 536, 332, 540, 332, 536, 332, 536, 336, 536, 332, 536, 332, 536, 336, 536, 332, 536, 336, 536, 332, 1408, 332, 536, 332, 536, 332, 536, 336, 1404, 336, 1404, 332, 536, 336, 536, 332, 536, 336, 1404, 332, 1408, 332, 1404, 332, 536, 336, 1404, 336, 536, 332, 536, 332, 536, 336, 536, 332, 536, 332, 536, 336, 536, 332, 536, 332, 540, 332, 536, 332, 1408, 332, 1404, 336, 1404, 332, 1404, 336, 536, 332, 1404, 336, 536, 332, 1408, 332, 536, 336, 532, 336, 532, 336, 536, 332, 536, 336, 536, 332, 536, 336, 536, 332, 536, 332, 536, 336, 532, 336, 536, 332, 536, 336, 508, 360, 536, 336, 532, 336, 536, 332, 536, 336, 532, 336, 536, 332, 536, 336, 532, 336, 536, 336, 532, 336, 508, 360, 512, 360, 532, 336, 536, 332, 536, 336, 504, 364, 536, 332, 536, 336, 532, 336, 536, 332, 536, 336, 532, 336, 508, 364, 532, 336, 508, 364, 504, 364, 508, 360, 508, 360, 508, 364, 508, 360, 508, 364, 532, 336, 508, 360, 536, 336, 1404, 336, 532, 336, 1404, 332, 512, 360, 508, 360, 508, 364, 1404, 332, 1404, 336, 504, 364, 508, 364, 504, 364, 508, 364, 1400, 336, 508, 364, 504, 364, 508, 360, 508, 364, 504, 364, 508, 364, 1400, 336, 508, 364, 504, 364, 508, 360, 508, 360, 1404, 336, 508, 360, 1380, 360, 1384, 356, 1404, 336, 1376, 360, 1380, 360, 1376, 364, 43080, 84};\r\n        \r\n    \r\n    int[] patternPOWERFUL = {524, 372, 468, 400, 468, 400, 440, 432, 440, 428, 440, 25180, 3572, 1648, 528, 1236, 500, 368, 504, 364, 504, 368, 500, 1240, 500, 368, 504, 364, 504, 364, 504, 368, 504, 1232, 504, 368, 500, 1240, 500, 1236, 504, 368, 500, 1240, 500, 1236, 504, 1236, 500, 1240, 500, 1236, 504, 364, 508, 364, 504, 1208, 528, 368, 504, 364, 504, 368, 500, 368, 496, 372, 468, 404, 412, 456, 412, 456, 432, 440, 456, 412, 488, 380, 496, 376, 464, 404, 436, 432, 464, 404, 464, 360, 508, 356, 512, 304, 564, 1280, 464, 380, 484, 384, 484, 384, 488, 1276, 464, 1272, 464, 384, 484, 388, 480, 388, 484, 384, 484, 1276, 464, 388, 480, 388, 484, 1276, 464, 384, 484, 384, 484, 388, 480, 388, 484, 384, 484, 388, 488, 380, 484, 384, 488, 360, 508, 360, 508, 1276, 464, 1276, 460, 1276, 464, 1276, 464, 356, 516, 1272, 464, 360, 512, 1272, 464, 364, 508, 356, 512, 356, 516, 352, 516, 356, 512, 356, 516, 356, 512, 356, 516, 348, 520, 356, 516, 356, 512, 360, 512, 296, 572, 360, 508, 312, 556, 408, 460, 408, 460, 412, 436, 432, 440, 432, 436, 432, 440, 432, 492, 376, 520, 348, 528, 344, 524, 344, 524, 348, 516, 352, 484, 384, 484, 384, 456, 416, 428, 440, 412, 1328, 412, 456, 412, 460, 412, 456, 436, 432, 440, 432, 464, 404, 464, 404, 468, 404, 464, 404, 468, 400, 468, 404, 464, 404, 464, 380, 488, 384, 484, 384, 484, 1252, 484, 388, 456, 1280, 460, 412, 456, 412, 456, 412, 460, 1284, 452, 1284, 456, 412, 456, 412, 456, 416, 452, 416, 456, 416, 452, 416, 452, 416, 456, 416, 452, 416, 456, 416, 452, 416, 452, 1308, 428, 444, 428, 440, 428, 444, 424, 444, 428, 440, 428, 444, 424, 1316, 424, 444, 424, 444, 424, 1316, 424, 1316, 420, 1320, 416};\r\n    \r\n    int carrierFrequency = 38000; //38kHz remote frequency","title":"Does anyone know the IR Pattern integer for Daikin air conditioner (I want to simulate on/off signal)","body":"<p>I've decoded the remote with Arduino using IR receiver. The pattern was so long that it couldn't decoded with &lt;IRRemote.h&gt; library. I have to decode the remote without any arduino libraries.</p>\n<p>Here are the patterns:</p>\n<pre><code>int[] patternOFF = {204, 49272, 208, 444, 360, 508, 360, 512, 360, 508, 360, 508, 360, 512, 360, 25288, 3400, 1816, 360, 1376, 360, 512, 360, 508, 360, 512, 356, 1380, 360, 512, 356, 512, 360, 508, 360, 512, 360, 1380, 356, 512, 360, 1376, 360, 1380, 360, 512, 356, 1380, 360, 1380, 360, 1380, 360, 1380, 356, 1380, 360, 512, 356, 512, 360, 1352, 384, 512, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 364, 504, 360, 512, 356, 512, 360, 508, 360, 508, 364, 508, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 360, 508, 360, 508, 364, 508, 360, 508, 360, 508, 360, 1380, 360, 1380, 360, 508, 360, 512, 360, 508, 360, 1380, 360, 1376, 360, 512, 356, 1384, 356, 1384, 356, 512, 360, 508, 360, 508, 360, 512, 360, 508, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 360, 1380, 360, 1376, 360, 1380, 360, 1380, 360, 508, 360, 1356, 388, 504, 360, 1380, 360, 508, 360, 508, 360, 512, 360, 508, 360, 512, 360, 508, 360, 512, 356, 512, 360, 508, 360, 508, 360, 512, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 360, 508, 360, 508, 360, 512, 360, 508, 360, 512, 360, 508, 360, 508, 360, 512, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 356, 512, 412, 456, 360, 508, 360, 512, 412, 456, 360, 512, 360, 508, 360, 512, 356, 512, 360, 508, 360, 508, 360, 512, 360, 508, 360, 1380, 364, 504, 360, 1380, 360, 508, 360, 512, 360, 508, 360, 1380, 360, 1380, 356, 512, 360, 508, 360, 512, 360, 508, 360, 508, 360, 512, 360, 1376, 360, 512, 360, 508, 360, 512, 356, 512, 360, 1380, 360, 508, 360, 508, 360, 512, 356, 512, 360, 508, 360, 512, 360, 1380, 356, 512, 360, 1380, 356, 1380, 360, 508, 360, 512, 360, 49944, 84};\n        \n\nint[] patternON = {460, 404, 464, 404, 464, 408, 464, 404, 464, 368, 500, 25188, 3500, 1720, 456, 1280, 456, 412, 456, 412, 464, 404, 436, 1308, 432, 424, 468, 412, 460, 412, 432, 440, 456, 1284, 452, 412, 456, 1284, 456, 1284, 456, 412, 432, 1308, 432, 1308, 456, 1280, 460, 1280, 456, 1284, 456, 408, 460, 412, 460, 1284, 452, 412, 460, 408, 464, 408, 456, 412, 460, 412, 456, 412, 460, 412, 456, 408, 460, 412, 460, 408, 460, 412, 460, 408, 460, 408, 460, 412, 460, 408, 460, 412, 456, 412, 484, 368, 472, 1288, 456, 408, 460, 412, 460, 412, 452, 1284, 460, 1280, 456, 416, 456, 408, 460, 408, 460, 412, 456, 1288, 452, 412, 456, 1284, 456, 1284, 456, 416, 452, 416, 456, 412, 456, 412, 456, 416, 456, 408, 460, 416, 452, 416, 452, 416, 456, 412, 456, 1284, 456, 1284, 456, 1284, 456, 1284, 452, 416, 456, 1284, 452, 416, 456, 1284, 452, 416, 456, 412, 456, 416, 452, 416, 452, 420, 452, 416, 452, 416, 452, 420, 452, 416, 452, 420, 448, 420, 452, 416, 452, 420, 452, 416, 452, 416, 452, 420, 452, 416, 452, 416, 452, 420, 452, 416, 452, 440, 428, 420, 448, 424, 448, 420, 452, 440, 424, 420, 452, 420, 448, 444, 424, 424, 448, 444, 424, 444, 424, 444, 428, 444, 424, 444, 428, 440, 428, 444, 424, 444, 424, 448, 424, 444, 424, 444, 424, 448, 420, 448, 424, 448, 420, 448, 420, 448, 420, 452, 420, 448, 420, 452, 416, 1320, 420, 452, 416, 1324, 416, 452, 416, 452, 416, 452, 420, 1320, 420, 1320, 416, 452, 420, 452, 416, 452, 416, 452, 420, 452, 416, 452, 416, 452, 420, 452, 416, 452, 420, 452, 416, 452, 416, 1324, 416, 452, 416, 452, 420, 452, 392, 476, 416, 1324, 416, 1320, 420, 452, 416, 452, 420, 1320, 416, 1324, 416, 1320, 420, 1320, 416};\n      \n\nint[] patternCANCEL = {328, 536, 332, 540, 332, 536, 332, 540, 328, 540, 332, 25316, 3376, 1840, 332, 1408, 328, 540, 328, 540, 332, 536, 336, 1408, 328, 540, 332, 536, 332, 536, 332, 540, 332, 1404, 332, 536, 336, 1408, 332, 1408, 328, 540, 332, 1408, 328, 1408, 332, 1408, 332, 1404, 332, 1408, 332, 536, 336, 536, 332, 1408, 328, 540, 332, 536, 332, 540, 332, 536, 332, 536, 336, 532, 336, 536, 332, 536, 332, 536, 332, 540, 332, 536, 332, 536, 336, 536, 332, 536, 332, 536, 336, 536, 332, 536, 336, 536, 332, 1408, 332, 536, 332, 536, 332, 536, 336, 1404, 336, 1404, 332, 536, 336, 536, 332, 536, 336, 1404, 332, 1408, 332, 1404, 332, 536, 336, 1404, 336, 536, 332, 536, 332, 536, 336, 536, 332, 536, 332, 536, 336, 536, 332, 536, 332, 540, 332, 536, 332, 1408, 332, 1404, 336, 1404, 332, 1404, 336, 536, 332, 1404, 336, 536, 332, 1408, 332, 536, 336, 532, 336, 532, 336, 536, 332, 536, 336, 536, 332, 536, 336, 536, 332, 536, 332, 536, 336, 532, 336, 536, 332, 536, 336, 508, 360, 536, 336, 532, 336, 536, 332, 536, 336, 532, 336, 536, 332, 536, 336, 532, 336, 536, 336, 532, 336, 508, 360, 512, 360, 532, 336, 536, 332, 536, 336, 504, 364, 536, 332, 536, 336, 532, 336, 536, 332, 536, 336, 532, 336, 508, 364, 532, 336, 508, 364, 504, 364, 508, 360, 508, 360, 508, 364, 508, 360, 508, 364, 532, 336, 508, 360, 536, 336, 1404, 336, 532, 336, 1404, 332, 512, 360, 508, 360, 508, 364, 1404, 332, 1404, 336, 504, 364, 508, 364, 504, 364, 508, 364, 1400, 336, 508, 364, 504, 364, 508, 360, 508, 364, 504, 364, 508, 364, 1400, 336, 508, 364, 504, 364, 508, 360, 508, 360, 1404, 336, 508, 360, 1380, 360, 1384, 356, 1404, 336, 1376, 360, 1380, 360, 1376, 364, 43080, 84};\n    \n\nint[] patternPOWERFUL = {524, 372, 468, 400, 468, 400, 440, 432, 440, 428, 440, 25180, 3572, 1648, 528, 1236, 500, 368, 504, 364, 504, 368, 500, 1240, 500, 368, 504, 364, 504, 364, 504, 368, 504, 1232, 504, 368, 500, 1240, 500, 1236, 504, 368, 500, 1240, 500, 1236, 504, 1236, 500, 1240, 500, 1236, 504, 364, 508, 364, 504, 1208, 528, 368, 504, 364, 504, 368, 500, 368, 496, 372, 468, 404, 412, 456, 412, 456, 432, 440, 456, 412, 488, 380, 496, 376, 464, 404, 436, 432, 464, 404, 464, 360, 508, 356, 512, 304, 564, 1280, 464, 380, 484, 384, 484, 384, 488, 1276, 464, 1272, 464, 384, 484, 388, 480, 388, 484, 384, 484, 1276, 464, 388, 480, 388, 484, 1276, 464, 384, 484, 384, 484, 388, 480, 388, 484, 384, 484, 388, 488, 380, 484, 384, 488, 360, 508, 360, 508, 1276, 464, 1276, 460, 1276, 464, 1276, 464, 356, 516, 1272, 464, 360, 512, 1272, 464, 364, 508, 356, 512, 356, 516, 352, 516, 356, 512, 356, 516, 356, 512, 356, 516, 348, 520, 356, 516, 356, 512, 360, 512, 296, 572, 360, 508, 312, 556, 408, 460, 408, 460, 412, 436, 432, 440, 432, 436, 432, 440, 432, 492, 376, 520, 348, 528, 344, 524, 344, 524, 348, 516, 352, 484, 384, 484, 384, 456, 416, 428, 440, 412, 1328, 412, 456, 412, 460, 412, 456, 436, 432, 440, 432, 464, 404, 464, 404, 468, 404, 464, 404, 468, 400, 468, 404, 464, 404, 464, 380, 488, 384, 484, 384, 484, 1252, 484, 388, 456, 1280, 460, 412, 456, 412, 456, 412, 460, 1284, 452, 1284, 456, 412, 456, 412, 456, 416, 452, 416, 456, 416, 452, 416, 452, 416, 456, 416, 452, 416, 456, 416, 452, 416, 452, 1308, 428, 444, 428, 440, 428, 444, 424, 444, 428, 440, 428, 444, 424, 1316, 424, 444, 424, 444, 424, 1316, 424, 1316, 420, 1320, 416};\n\nint carrierFrequency = 38000; //38kHz remote frequency\n</code></pre>\n"}],"owner":{"account_id":21009819,"reputation":1,"user_id":17985415,"display_name":"kensunjaya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73617001,"answer_count":1,"score":0,"last_activity_date":1662441398,"creation_date":1655966341,"question_id":72725599,"body_markdown":"I was trying to build an android app to act like air conditioner remote control that can turn on and off my Daikin AC. Does anyone know where I can find the IR pattern code? I&#39;ve done my research on internet for a whole day but I can&#39;t find any useful database with my AC model\r\n\r\nMy remote control model is ARC480A23\r\n\r\n\r\n```\r\npublic void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        Context context = requireContext().getApplicationContext();\r\n        ip_textview = view.findViewById(R.id.textview_first);\r\n        Toast myToast = Toast.makeText(getActivity(), &quot;Signal received&quot;, Toast.LENGTH_SHORT);\r\n        Vibrator v = (Vibrator) context.getSystemService(Context.VIBRATOR_SERVICE);\r\n        ConsumerIrManager ir_service = (ConsumerIrManager) context.getSystemService(Context.CONSUMER_IR_SERVICE);\r\n\r\n        int[] pattern = {/*this will be filled with IR pattern code*/};\r\n\r\n        binding.buttonFirst.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                v.vibrate(500);\r\n                ir_service.transmit(38000, pattern);\r\n\r\n            }\r\n        });\r\n    }","title":"Does anyone know the IR Pattern integer for Daikin air conditioner (I want to simulate on/off signal)","body":"<p>I was trying to build an android app to act like air conditioner remote control that can turn on and off my Daikin AC. Does anyone know where I can find the IR pattern code? I've done my research on internet for a whole day but I can't find any useful database with my AC model</p>\n<p>My remote control model is ARC480A23</p>\n<pre><code>public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        Context context = requireContext().getApplicationContext();\n        ip_textview = view.findViewById(R.id.textview_first);\n        Toast myToast = Toast.makeText(getActivity(), &quot;Signal received&quot;, Toast.LENGTH_SHORT);\n        Vibrator v = (Vibrator) context.getSystemService(Context.VIBRATOR_SERVICE);\n        ConsumerIrManager ir_service = (ConsumerIrManager) context.getSystemService(Context.CONSUMER_IR_SERVICE);\n\n        int[] pattern = {/*this will be filled with IR pattern code*/};\n\n        binding.buttonFirst.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                v.vibrate(500);\n                ir_service.transmit(38000, pattern);\n\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","redis","publish-subscribe"],"comments":[{"owner":{"account_id":4890986,"reputation":1123,"user_id":3942132,"display_name":"Roie Beck"},"score":0,"creation_date":1615716675,"post_id":55922639,"comment_id":117772667,"body_markdown":"Hi @shashantrika did you found a solution? I am facing the same issue","body":"Hi @shashantrika did you found a solution? I am facing the same issue"},{"owner":{"account_id":2218649,"reputation":1059,"user_id":1958669,"accept_rate":88,"display_name":"shashantrika"},"score":1,"creation_date":1615785560,"post_id":55922639,"comment_id":117789302,"body_markdown":"Hi @RoieBeck , nope unfortunately I didn&#39;t find any solutions for this , but Im using https://github.com/gresrun/jesque now which seems to fit my solution .","body":"Hi @RoieBeck , nope unfortunately I didn&#39;t find any solutions for this , but Im using <a href=\"https://github.com/gresrun/jesque\" rel=\"nofollow noreferrer\">github.com/gresrun/jesque</a> now which seems to fit my solution ."}],"answers":[{"tags":[],"owner":{"account_id":19452465,"reputation":223,"user_id":14228521,"display_name":"Rajeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662440927,"creation_date":1662440927,"answer_id":73616951,"question_id":55922639,"body_markdown":"Pub-Sub is not designed for this. Read about queues in ActiveMQ/RabbitMQ or SQS, which will fulfil your scenario","title":"How to make one subscriber to process message (consider having more than one) in Radisson (redis-java client)","body":"<p>Pub-Sub is not designed for this. Read about queues in ActiveMQ/RabbitMQ or SQS, which will fulfil your scenario</p>\n"}],"owner":{"account_id":2218649,"reputation":1059,"user_id":1958669,"accept_rate":88,"display_name":"shashantrika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1484,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1662440927,"creation_date":1556632896,"question_id":55922639,"body_markdown":"In my project , I&#39;ve created a simple pub/sub topic with radisson (https://github.com/redisson/redisson) . Publisher will publish some message and there will be multiple subscribers running on different machines . When I publish , all the subscribers are getting message . But I want anyone of the subscriber to process the message , ie if one process the message , others should simply ignore it . Is it possible with Radisson ? \r\n\r\n&gt; LISTENER:\r\n\r\n    RTopic topic = redisson.getTopic(&quot;topic2&quot;);\r\n    topic.addListener(Person.class, new MessageListener&lt;Person&gt;() {\r\n        @Override\r\n        public void onMessage(CharSequence charSequence, Person person) {\r\n            System.out.println(&quot;PERSON : &quot;+person.toString());\r\n        }\r\n    });\r\n\r\n&gt; PUBLISHER :\r\n\r\n     Person person = new Person(&quot;anyName&quot;,&quot;female&quot;);\r\n     RedissonClient redisson = Redisson.create();\r\n     RTopic topic = redisson.getTopic(&quot;topic2&quot;);\r\n     topic.publish(person);\r\n\r\nIs it possible to put lock or something , so that only one subscriber listens it. Will any other tools support this behavior. ","title":"How to make one subscriber to process message (consider having more than one) in Radisson (redis-java client)","body":"<p>In my project , I've created a simple pub/sub topic with radisson (<a href=\"https://github.com/redisson/redisson\" rel=\"noreferrer\">https://github.com/redisson/redisson</a>) . Publisher will publish some message and there will be multiple subscribers running on different machines . When I publish , all the subscribers are getting message . But I want anyone of the subscriber to process the message , ie if one process the message , others should simply ignore it . Is it possible with Radisson ? </p>\n\n<blockquote>\n  <p>LISTENER:</p>\n</blockquote>\n\n<pre><code>RTopic topic = redisson.getTopic(\"topic2\");\ntopic.addListener(Person.class, new MessageListener&lt;Person&gt;() {\n    @Override\n    public void onMessage(CharSequence charSequence, Person person) {\n        System.out.println(\"PERSON : \"+person.toString());\n    }\n});\n</code></pre>\n\n<blockquote>\n  <p>PUBLISHER :</p>\n</blockquote>\n\n<pre><code> Person person = new Person(\"anyName\",\"female\");\n RedissonClient redisson = Redisson.create();\n RTopic topic = redisson.getTopic(\"topic2\");\n topic.publish(person);\n</code></pre>\n\n<p>Is it possible to put lock or something , so that only one subscriber listens it. Will any other tools support this behavior. </p>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"comments":[{"owner":{"account_id":12687470,"reputation":247,"user_id":9218755,"display_name":"Pako1"},"score":0,"creation_date":1661878765,"post_id":73545545,"comment_id":129874838,"body_markdown":"Which of the two are you using, viewBinding or kotlin synthetics?","body":"Which of the two are you using, viewBinding or kotlin synthetics?"},{"owner":{"account_id":10412341,"reputation":150,"user_id":7677384,"display_name":"Bhaskar Pasupula"},"score":0,"creation_date":1661878820,"post_id":73545545,"comment_id":129874857,"body_markdown":"If you are not using viewbinding get the view by findViewById","body":"If you are not using viewbinding get the view by findViewById"},{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1661879498,"post_id":73545545,"comment_id":129875120,"body_markdown":"where is the reference for bottomNavigationView, Is you are using data binding or view binding you must need to mension in question? Please modify the question accordingly.","body":"where is the reference for bottomNavigationView, Is you are using data binding or view binding you must need to mension in question? Please modify the question accordingly."}],"answers":[{"tags":[],"owner":{"account_id":24098615,"reputation":11,"user_id":18070753,"display_name":"MDF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661930102,"creation_date":1661930102,"answer_id":73552157,"question_id":73545545,"body_markdown":"add these in `build.gradle(:app)`\r\n```\r\n   id &#39;kotlin-android&#39;\r\n   id &#39;kotlin-android-extensions&#39;\r\n```\r\nthis in dependencies \r\n```    implementation&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10&quot; ```\r\nlike this\r\n\r\n\r\n```\r\ndependencies {\r\n\r\n    implementation&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10&quot; }\r\n```\r\n\r\nadd this import statement in `MainActivity.kt`\r\n```\r\nimport kotlinx.android.synthetic.main.mainactivity.*\r\n```\r\nit will work just fine :)...","title":"Bottom Navigation Bar in Android Studio not Working?","body":"<p>add these in <code>build.gradle(:app)</code></p>\n<pre><code>   id 'kotlin-android'\n   id 'kotlin-android-extensions'\n</code></pre>\n<p>this in dependencies\n<code>   implementation&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10&quot;</code>\nlike this</p>\n<pre><code>dependencies {\n\n    implementation&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10&quot; }\n</code></pre>\n<p>add this import statement in <code>MainActivity.kt</code></p>\n<pre><code>import kotlinx.android.synthetic.main.mainactivity.*\n</code></pre>\n<p>it will work just fine :)...</p>\n"},{"tags":[],"owner":{"account_id":14687991,"reputation":78,"user_id":10607432,"display_name":"Arvind Meshram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662440007,"creation_date":1662440007,"answer_id":73616853,"question_id":73545545,"body_markdown":"Add this dependencies in build.gradle\r\n\r\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:2.3.5&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui-ktx:2.3.5&quot;\r\n\r\nAdd kotlin code implementation\r\nPlease refer this my github repository for better understanding.\r\n\r\nhttps://github.com/meshramaravind/BottomNavigtaionApp\r\n    ","title":"Bottom Navigation Bar in Android Studio not Working?","body":"<p>Add this dependencies in build.gradle</p>\n<pre><code>implementation &quot;androidx.navigation:navigation-fragment-ktx:2.3.5&quot;\nimplementation &quot;androidx.navigation:navigation-ui-ktx:2.3.5&quot;\n</code></pre>\n<p>Add kotlin code implementation\nPlease refer this my github repository for better understanding.</p>\n<p><a href=\"https://github.com/meshramaravind/BottomNavigtaionApp\" rel=\"nofollow noreferrer\">https://github.com/meshramaravind/BottomNavigtaionApp</a></p>\n"}],"owner":{"account_id":24098615,"reputation":11,"user_id":18070753,"display_name":"MDF"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662440007,"creation_date":1661876133,"question_id":73545545,"body_markdown":"```\r\n        bottomNavigationView.setOnNavigationItemSelectedListener{\r\n            when (it.itemId){\r\n\r\n                R.id.local1 -&gt; make_Fragment(fragment1)\r\n                R.id.local2-&gt; make_Fragment(fragment2)\r\n                R.id.local3 -&gt; make_Fragment(fragment3)\r\n            }\r\n            true\r\n\r\n     }\r\n```\r\nHere bottomNavigationView is throwing error : ` Unresolved reference: bottomNavigationView` and also i defined the id on `mainactivity.xml` \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.main.MainActivity&quot;&gt;\r\n\r\n\r\n&lt;FrameLayout\r\n    android:id=&quot;@+id/fl_wapper&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_above=&quot;@id/bottomNavigationView&quot;/&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottomNavigationView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        app:menu=&quot;@menu/bottom_nav&quot;\r\n        /&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\nHere `bottomNavigationView` shows error and also `when(it.itemId){`\r\nthe `bottomNavigationView` is the id of the bottom bar.i also tried clean project and rebuild project.\r\n&gt;tell me a solution to resolve this problem?\r\n","title":"Bottom Navigation Bar in Android Studio not Working?","body":"<pre><code>        bottomNavigationView.setOnNavigationItemSelectedListener{\n            when (it.itemId){\n\n                R.id.local1 -&gt; make_Fragment(fragment1)\n                R.id.local2-&gt; make_Fragment(fragment2)\n                R.id.local3 -&gt; make_Fragment(fragment3)\n            }\n            true\n\n     }\n</code></pre>\n<p>Here bottomNavigationView is throwing error : <code> Unresolved reference: bottomNavigationView</code> and also i defined the id on <code>mainactivity.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.main.MainActivity&quot;&gt;\n\n\n&lt;FrameLayout\n    android:id=&quot;@+id/fl_wapper&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_above=&quot;@id/bottomNavigationView&quot;/&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottomNavigationView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        app:menu=&quot;@menu/bottom_nav&quot;\n        /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Here <code>bottomNavigationView</code> shows error and also <code>when(it.itemId){</code>\nthe <code>bottomNavigationView</code> is the id of the bottom bar.i also tried clean project and rebuild project.</p>\n<blockquote>\n<p>tell me a solution to resolve this problem?</p>\n</blockquote>\n"},{"tags":["java","exception","try-catch","do-while"],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662438556,"creation_date":1662438556,"answer_id":73616723,"question_id":73616671,"body_markdown":"Your code moves to the catch block because your code requested an integer, but you didn&#39;t enter an integer. This is normal and expected behaviour.\r\n\r\nIt looks like you may have mis understood how the catch block works. Here is a correctly functioning version of your code that asks for a number at the start of your do/while loop:\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    int num = 0;\r\n    do{\r\n        //Move the question to the top of the loop\r\n\t    System.out.println(&quot;Please Enter a number&quot;);\r\n        try{\r\n            num = input.nextInt();\r\n            if(num != -1) {\r\n                System.out.println(&quot;You Entered &quot; + num + &quot;\\nEnter -1 to exit: &quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;Program Exited&quot;);\r\n            }\r\n        }\r\n        //This will only be called if an invalid input is entered\r\n        //Once the catch block is complete the loop will run again and ask for another number\r\n        catch (InputMismatchException e) {\r\n            e.printStackTrace();\r\n            //Print the fail message here\r\n\t        System.out.println(&quot;That was not a number&quot;);\r\n\r\n            //The below line was removed, this is not the correct place for it. The loop already reads the number at the start\r\n            //input.nextLine();\r\n        }\r\n    } while (num != -1);\r\n\r\nCaution: Be very careful when using `next` methods like `nextInt()` with `nextLine()`, your code will not read correct inputs, see here for more information: [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","title":"why input.nextLine() keeps running the catch block when I&#39;m inputing a value which is not an integer","body":"<p>Your code moves to the catch block because your code requested an integer, but you didn't enter an integer. This is normal and expected behaviour.</p>\n<p>It looks like you may have mis understood how the catch block works. Here is a correctly functioning version of your code that asks for a number at the start of your do/while loop:</p>\n<pre><code>Scanner input = new Scanner(System.in);\nint num = 0;\ndo{\n    //Move the question to the top of the loop\n    System.out.println(&quot;Please Enter a number&quot;);\n    try{\n        num = input.nextInt();\n        if(num != -1) {\n            System.out.println(&quot;You Entered &quot; + num + &quot;\\nEnter -1 to exit: &quot;);\n        }\n        else {\n            System.out.println(&quot;Program Exited&quot;);\n        }\n    }\n    //This will only be called if an invalid input is entered\n    //Once the catch block is complete the loop will run again and ask for another number\n    catch (InputMismatchException e) {\n        e.printStackTrace();\n        //Print the fail message here\n        System.out.println(&quot;That was not a number&quot;);\n\n        //The below line was removed, this is not the correct place for it. The loop already reads the number at the start\n        //input.nextLine();\n    }\n} while (num != -1);\n</code></pre>\n<p>Caution: Be very careful when using <code>next</code> methods like <code>nextInt()</code> with <code>nextLine()</code>, your code will not read correct inputs, see here for more information: <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a></p>\n"}],"owner":{"account_id":25647368,"reputation":1,"user_id":19415239,"display_name":"Sihab Mahmud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662438556,"creation_date":1662437962,"question_id":73616671,"body_markdown":"Why input.nextLine() keeps running the catch block when I&#39;m inputting a value which is not an integer? And why it is not running from input.nextInt when I&#39;m inputting an Int value in input.nextLine()?\r\n\r\n\r\n\r\n    import java.util.InputMismatchException;\r\n    import java.util.Scanner;\r\n        public class ExceptionHandlingEg01 {\r\n            public static void main(String[] args) {\r\n                Scanner input = new Scanner(System.in);\r\n                int num = 0;\r\n                do{\r\n                    try{\r\n                        num = input.nextInt();\r\n                        if(num != -1) {\r\n                            System.out.println(&quot;You Entered &quot; + num + &quot;\\nEnter -1 to exit: &quot;);\r\n                        }\r\n                        else {\r\n                            System.out.println(&quot;Program Exited&quot;);\r\n                        }\r\n                    } catch (InputMismatchException e) {\r\n                        e.printStackTrace();\r\n                        System.out.println(&quot;Please Enter a number&quot;);\r\n                        input.nextLine();\r\n                    }\r\n                } while (num != -1);\r\n            }\r\n        }\r\n\r\n","title":"why input.nextLine() keeps running the catch block when I&#39;m inputing a value which is not an integer","body":"<p>Why input.nextLine() keeps running the catch block when I'm inputting a value which is not an integer? And why it is not running from input.nextInt when I'm inputting an Int value in input.nextLine()?</p>\n<pre><code>import java.util.InputMismatchException;\nimport java.util.Scanner;\n    public class ExceptionHandlingEg01 {\n        public static void main(String[] args) {\n            Scanner input = new Scanner(System.in);\n            int num = 0;\n            do{\n                try{\n                    num = input.nextInt();\n                    if(num != -1) {\n                        System.out.println(&quot;You Entered &quot; + num + &quot;\\nEnter -1 to exit: &quot;);\n                    }\n                    else {\n                        System.out.println(&quot;Program Exited&quot;);\n                    }\n                } catch (InputMismatchException e) {\n                    e.printStackTrace();\n                    System.out.println(&quot;Please Enter a number&quot;);\n                    input.nextLine();\n                }\n            } while (num != -1);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-mvc","netty"],"comments":[{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1662440821,"post_id":73616692,"comment_id":129999365,"body_markdown":"There are many ways to do this, depends on the requirements. If there is only single API in server B, then you can write dumb controller in server A, and just call the server B API from it, and return the response received by the server B API. If there are many such APIs, then you must need some kind of gateway in front of your both the servers to route the requests.","body":"There are many ways to do this, depends on the requirements. If there is only single API in server B, then you can write dumb controller in server A, and just call the server B API from it, and return the response received by the server B API. If there are many such APIs, then you must need some kind of gateway in front of your both the servers to route the requests."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1662444673,"post_id":73616692,"comment_id":130000064,"body_markdown":"A is called a “reverse proxy”. If there’s no need for business logic in service A, it’s common to use an HTTP server such as Apache httpd or nginx to perform this role.","body":"A is called a “reverse proxy”. If there’s no need for business logic in service A, it’s common to use an HTTP server such as Apache httpd or nginx to perform this role."},{"owner":{"account_id":26256108,"reputation":11,"user_id":19928142,"display_name":"JavaNewbie"},"score":0,"creation_date":1662546107,"post_id":73616692,"comment_id":130028904,"body_markdown":"@JigneshM.Khatri yes, but at Server B there&#39;s no ip public, it&#39;s isolated, so i can&#39;t hit server B API","body":"@JigneshM.Khatri yes, but at Server B there&#39;s no ip public, it&#39;s isolated, so i can&#39;t hit server B API"},{"owner":{"account_id":26256108,"reputation":11,"user_id":19928142,"display_name":"JavaNewbie"},"score":0,"creation_date":1662546341,"post_id":73616692,"comment_id":130028989,"body_markdown":"@TimMoore you right, its reverse proxy, i forgot about that. i think this is the answer","body":"@TimMoore you right, its reverse proxy, i forgot about that. i think this is the answer"}],"owner":{"account_id":26256108,"reputation":11,"user_id":19928142,"display_name":"JavaNewbie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662438256,"creation_date":1662438256,"question_id":73616692,"body_markdown":"\r\nI have 2 web app using spring mvc in different location, here&#39;s some info:\r\n\r\n\t1. server A:\r\n\t\t- have ip public\r\n\t\r\n\t2. server B:\r\n\t\t- no ip public\r\n\t\r\n\t3. Client:\r\n\t\t- want to access server B via server A using browser\r\n\t\t\r\nDiagram:\r\n\r\n\tClient  ---(request)---&gt;  server A  ---(by pass the request)---&gt;  server B\r\n\t\r\n\t\r\n\t\r\nI want to client access server B through server A and i dont want to use VPN, what should i do?\r\n\r\nand what we call this mechanism? \r\n\r\ncan i use netty for it?\r\n","title":"Spring mvc by pass stream to another server","body":"<p>I have 2 web app using spring mvc in different location, here's some info:</p>\n<pre><code>1. server A:\n    - have ip public\n\n2. server B:\n    - no ip public\n\n3. Client:\n    - want to access server B via server A using browser\n    \n</code></pre>\n<p>Diagram:</p>\n<pre><code>Client  ---(request)---&gt;  server A  ---(by pass the request)---&gt;  server B\n</code></pre>\n<p>I want to client access server B through server A and i dont want to use VPN, what should i do?</p>\n<p>and what we call this mechanism?</p>\n<p>can i use netty for it?</p>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1662436354,"post_id":73616460,"comment_id":129998688,"body_markdown":"As an aside, be aware that floating point number normally cannot be compared for exact equality.  Instead you check if they differ by a small amount.  Two floating point numbers are almost never &quot;equal&quot;, you want to check if they differ by for example .000000001 and call them &quot;equal&quot; if their difference is less than that.  The exact value would depend on the application.","body":"As an aside, be aware that floating point number normally cannot be compared for exact equality.  Instead you check if they differ by a small amount.  Two floating point numbers are almost never &quot;equal&quot;, you want to check if they differ by for example .000000001 and call them &quot;equal&quot; if their difference is less than that.  The exact value would depend on the application."}],"answers":[{"tags":[],"owner":{"account_id":462208,"reputation":16167,"user_id":864393,"display_name":"Jeremy Roman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1662435737,"creation_date":1662435737,"answer_id":73616475,"question_id":73616460,"body_markdown":"You didn&#39;t override `equals`, but the implementation of `java.lang.Double` does override it, to return true if the underlying values compare equal (plus a couple of edge cases).\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#equals-java.lang.Object-","title":"What am I getting wrong about Java&#39;s &#39;==&#39; and &#39;.equals&#39;?","body":"<p>You didn't override <code>equals</code>, but the implementation of <code>java.lang.Double</code> does override it, to return true if the underlying values compare equal (plus a couple of edge cases).</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#equals-java.lang.Object-\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#equals-java.lang.Object-</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662436817,"creation_date":1662436817,"answer_id":73616565,"question_id":73616460,"body_markdown":"&gt; My understanding is that equals checks for reference equality as well as values.\r\n\r\nThat is incorrect.\r\n\r\nThe version of `equals(Object)` defined by `java.lang.Object` does that.  But many classes *override* `equals(Object)` to have different semantics.\r\n\r\n`Double` overrides it, and so do all of the other &quot;primitive wrapper&quot; classes, and `String` ... and many, many more.\r\n\r\nThe semantics of the override are *typically* equal-by-value, but not always.  And some classes don&#39;t override `equals`.  Examples where `equals` is not overridden that trip people up are `StringBuilder` and array types!\r\n\r\nTo find out the semantics for `SomeType.equals(Object)` you need to start with the javadocs for `SomeType` ... not `Object`.\r\n","title":"What am I getting wrong about Java&#39;s &#39;==&#39; and &#39;.equals&#39;?","body":"<blockquote>\n<p>My understanding is that equals checks for reference equality as well as values.</p>\n</blockquote>\n<p>That is incorrect.</p>\n<p>The version of <code>equals(Object)</code> defined by <code>java.lang.Object</code> does that.  But many classes <em>override</em> <code>equals(Object)</code> to have different semantics.</p>\n<p><code>Double</code> overrides it, and so do all of the other &quot;primitive wrapper&quot; classes, and <code>String</code> ... and many, many more.</p>\n<p>The semantics of the override are <em>typically</em> equal-by-value, but not always.  And some classes don't override <code>equals</code>.  Examples where <code>equals</code> is not overridden that trip people up are <code>StringBuilder</code> and array types!</p>\n<p>To find out the semantics for <code>SomeType.equals(Object)</code> you need to start with the javadocs for <code>SomeType</code> ... not <code>Object</code>.</p>\n"}],"owner":{"account_id":25795974,"reputation":21,"user_id":19539143,"display_name":"Raymond Arthur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73616475,"answer_count":2,"score":-2,"last_activity_date":1662438238,"creation_date":1662435519,"question_id":73616460,"body_markdown":"EDIT: I&#39;m new to java and am going through the official documentation in preparation for an upcoming subject in my Computer Science studies.\r\n\r\nOriginal question:\r\n\r\nSo I checked this [thread][1] re: java ```==``` and ```.equals``` and am getting some unexpected results in dummy code that I&#39;m writing.\r\n\r\nI have this:\r\n\r\n```\r\npublic class HelloWorld {\r\n    public static void main(String[] args){\r\n        Double double1 = 1.0;  //object 1\r\n        Double double2 = 1.0;  //object 2, which should be a different memory address?\r\n\r\n        System.out.println(double1.equals(double2)); //compare using the Object.equals() method \r\n        System.out.println(double1 == double2); //compare with ==\r\n    }\r\n}\r\n//Results are:\r\n//true\r\n//false\r\n```\r\n\r\nAs expected, ```==``` produces a ```false``` because the two objects refer to different memory addresses.\r\n\r\nHowever the ```double.equals(double2)``` is producing a ```true```, which is not what I expected. In this example, I&#39;m not overriding the default ```.equals()``` inherited from ```Object```. My understanding is that ```equals``` checks for reference equality as well as values.\r\n\r\nSo why does ```double1.equals(double2)``` return ```true``` instead of ```false``` in this example? Are&#39;t ```double1``` and ```double2``` referring to two difference objects and therefore ```equals()``` should return ```false```?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7520432/what-is-the-difference-between-and-equals-in-java","title":"What am I getting wrong about Java&#39;s &#39;==&#39; and &#39;.equals&#39;?","body":"<p>EDIT: I'm new to java and am going through the official documentation in preparation for an upcoming subject in my Computer Science studies.</p>\n<p>Original question:</p>\n<p>So I checked this <a href=\"https://stackoverflow.com/questions/7520432/what-is-the-difference-between-and-equals-in-java\">thread</a> re: java <code>==</code> and <code>.equals</code> and am getting some unexpected results in dummy code that I'm writing.</p>\n<p>I have this:</p>\n<pre><code>public class HelloWorld {\n    public static void main(String[] args){\n        Double double1 = 1.0;  //object 1\n        Double double2 = 1.0;  //object 2, which should be a different memory address?\n\n        System.out.println(double1.equals(double2)); //compare using the Object.equals() method \n        System.out.println(double1 == double2); //compare with ==\n    }\n}\n//Results are:\n//true\n//false\n</code></pre>\n<p>As expected, <code>==</code> produces a <code>false</code> because the two objects refer to different memory addresses.</p>\n<p>However the <code>double.equals(double2)</code> is producing a <code>true</code>, which is not what I expected. In this example, I'm not overriding the default <code>.equals()</code> inherited from <code>Object</code>. My understanding is that <code>equals</code> checks for reference equality as well as values.</p>\n<p>So why does <code>double1.equals(double2)</code> return <code>true</code> instead of <code>false</code> in this example? Are't <code>double1</code> and <code>double2</code> referring to two difference objects and therefore <code>equals()</code> should return <code>false</code>?</p>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1662437618,"post_id":73616533,"comment_id":129998879,"body_markdown":"Please do not alter the fundamental nature of the question after asking it and especially after getting an answer. Your recent edits *changed* the nature of the question from &quot;I want zero which is after the decimal point to disappear&quot; to something very different, invalidating existing answers. Rather than change the question, ask a new one.","body":"Please do not alter the fundamental nature of the question after asking it and especially after getting an answer. Your recent edits <i>changed</i> the nature of the question from &quot;I want zero which is after the decimal point to disappear&quot; to something very different, invalidating existing answers. Rather than change the question, ask a new one."},{"owner":{"account_id":21698666,"reputation":121,"user_id":16012143,"display_name":"user16012143"},"score":1,"creation_date":1662437742,"post_id":73616533,"comment_id":129998899,"body_markdown":"Hi, @Bohemian. Thank you for the advice and sorry for the confusion.  I rollbacked the question changes, and I will ask in a  new question.","body":"Hi, @Bohemian. Thank you for the advice and sorry for the confusion.  I rollbacked the question changes, and I will ask in a  new question."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662436973,"creation_date":1662436785,"answer_id":73616562,"question_id":73616533,"body_markdown":"`stripTrailingZeros()` returns a `BigDecimal`, but you want it to be *rendered* without zeros, so you want the `int` version of your `BigDecimal`:\r\n\r\n    System.out.println(new BigDecimal(&quot;40.00000&quot;).intValue()); // &quot;40&quot;\r\n","title":"strip zeros for BigDecimal only for after the decimal point in Java","body":"<p><code>stripTrailingZeros()</code> returns a <code>BigDecimal</code>, but you want it to be <em>rendered</em> without zeros, so you want the <code>int</code> version of your <code>BigDecimal</code>:</p>\n<pre><code>System.out.println(new BigDecimal(&quot;40.00000&quot;).intValue()); // &quot;40&quot;\n</code></pre>\n"}],"owner":{"account_id":21698666,"reputation":121,"user_id":16012143,"display_name":"user16012143"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73616562,"answer_count":1,"score":1,"last_activity_date":1662437623,"creation_date":1662436464,"question_id":73616533,"body_markdown":"\r\n`stripTrailingZeros()`\r\n\r\n    new BigDecimal(&quot;4.0000&quot;).stripTrailingZeros();\r\n    #=&gt; &quot;4&quot; (OK)\r\n\r\n    new BigDecimal(&quot;40.00000&quot;).stripTrailingZeros();\r\n    #=&gt; &quot;4E+1&quot;\r\n\r\nCan I obtain `40` in the second example by using stripTrailingZeros?\r\nI mean, I want zero which is after the decimal point to disappear.\r\n\r\nThank you in advance.","title":"strip zeros for BigDecimal only for after the decimal point in Java","body":"<p><code>stripTrailingZeros()</code></p>\n<pre><code>new BigDecimal(&quot;4.0000&quot;).stripTrailingZeros();\n#=&gt; &quot;4&quot; (OK)\n\nnew BigDecimal(&quot;40.00000&quot;).stripTrailingZeros();\n#=&gt; &quot;4E+1&quot;\n</code></pre>\n<p>Can I obtain <code>40</code> in the second example by using stripTrailingZeros?\nI mean, I want zero which is after the decimal point to disappear.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","gradle","gradle-shadow-plugin"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1662436984,"post_id":73613922,"comment_id":129998781,"body_markdown":"I deleted my answer because using `rename` doesn&#39;t seem to work. Instead of passing the names of the JAR entries from each dependency to the transformer, it passes the JAR file itself. The plugin you&#39;re using seems to have [its own transformer API](https://imperceptiblethoughts.com/shadow/configuration/merging/) (which is a different interface from the Gradle one). That may be able to do what you want; though to be honest, I don&#39;t really understand how to implement the interface.","body":"I deleted my answer because using <code>rename</code> doesn&#39;t seem to work. Instead of passing the names of the JAR entries from each dependency to the transformer, it passes the JAR file itself. The plugin you&#39;re using seems to have <a href=\"https://imperceptiblethoughts.com/shadow/configuration/merging/\" rel=\"nofollow noreferrer\">its own transformer API</a> (which is a different interface from the Gradle one). That may be able to do what you want; though to be honest, I don&#39;t really understand how to implement the interface."}],"owner":{"account_id":18042716,"reputation":11,"user_id":13114424,"display_name":"Wyvest"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662437044,"creation_date":1662406093,"question_id":73613922,"body_markdown":"I have a jar task (well a ShadowJar, but that shouldn&#39;t matter I think).\r\n```kotlin\r\nnamed&lt;com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar&gt;(&quot;shadowJar&quot;) {\r\n        archiveClassifier.set(&quot;&quot;)\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n}\r\n```\r\nThere&#39;s a file called `linux/x64/org/lwjgl/liblwjgl.so` within a dependency which I need to rename to `liblwjgl3.so`. Is there a way to do that within the jar task?","title":"Renaming file in jar via Gradle","body":"<p>I have a jar task (well a ShadowJar, but that shouldn't matter I think).</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>named&lt;com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar&gt;(&quot;shadowJar&quot;) {\n        archiveClassifier.set(&quot;&quot;)\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n}\n</code></pre>\n<p>There's a file called <code>linux/x64/org/lwjgl/liblwjgl.so</code> within a dependency which I need to rename to <code>liblwjgl3.so</code>. Is there a way to do that within the jar task?</p>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"score":1,"creation_date":1662270850,"post_id":73596557,"comment_id":129964620,"body_markdown":"Please share code snippets to better understand your problem","body":"Please share code snippets to better understand your problem"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1662985420,"post_id":73596557,"comment_id":130125461,"body_markdown":"Please raise this issue at https://intellij-support.jetbrains.com/hc/en-us/requests/new and attach a minimal reproducible project sample if possible.","body":"Please raise this issue at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/requests/new</a> and attach a minimal reproducible project sample if possible."}],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662283562,"creation_date":1662283562,"answer_id":73598209,"question_id":73596557,"body_markdown":"Add Spring Boot facet to your project.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nthis is my specific version of IntelliJ IDEA\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ja0hO.png\r\n  [2]: https://i.stack.imgur.com/XoWT7.png","title":"Why is there no index for the returned template in the controller of the newly created Springboot project in Intellij IDEA?","body":"<p>Add Spring Boot facet to your project.</p>\n<p><a href=\"https://i.stack.imgur.com/ja0hO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ja0hO.png\" alt=\"enter image description here\" /></a></p>\n<p>this is my specific version of IntelliJ IDEA</p>\n<p><a href=\"https://i.stack.imgur.com/XoWT7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XoWT7.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22457265,"reputation":1,"user_id":16659770,"display_name":"Armando Li"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662435587,"creation_date":1662261024,"question_id":73596557,"body_markdown":"I created a new Spring Boot project in IntelliJ IDEA. Normally, we use the `@GetMapping` annotation in the controller to return a template, usually using `return &quot;XXXX&quot;;` in my previous project, `&quot;XXXX&quot;` will be marked with an underscore, and Do not include underscores in new items.\r\nReturn value without underscore, Previous normal project:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNo index in new project：\r\n\r\n[![No index in new project][2]][2]\r\n\r\nA similar problem also occurs. When using model to transfer data to the template engine in the controller method, and using `${}` in the Thymeleaf page, IntelliJ IDEA will not prompt the object that has been transferred in, and it needs to be entered manually, which causes great inconvenience. I&#39;m a beginner.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wqMKn.png\r\n  [2]: https://i.stack.imgur.com/MvB6l.png","title":"Why is there no index for the returned template in the controller of the newly created Springboot project in Intellij IDEA?","body":"<p>I created a new Spring Boot project in IntelliJ IDEA. Normally, we use the <code>@GetMapping</code> annotation in the controller to return a template, usually using <code>return &quot;XXXX&quot;;</code> in my previous project, <code>&quot;XXXX&quot;</code> will be marked with an underscore, and Do not include underscores in new items.\nReturn value without underscore, Previous normal project:</p>\n<p><a href=\"https://i.stack.imgur.com/wqMKn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wqMKn.png\" alt=\"enter image description here\" /></a></p>\n<p>No index in new project：</p>\n<p><a href=\"https://i.stack.imgur.com/MvB6l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MvB6l.png\" alt=\"No index in new project\" /></a></p>\n<p>A similar problem also occurs. When using model to transfer data to the template engine in the controller method, and using <code>${}</code> in the Thymeleaf page, IntelliJ IDEA will not prompt the object that has been transferred in, and it needs to be entered manually, which causes great inconvenience. I'm a beginner.</p>\n"},{"tags":["java","big-o"],"answers":[{"tags":[],"owner":{"account_id":17260869,"reputation":69,"user_id":12498786,"display_name":"Huỳnh Th&#225;i Dương"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662434960,"creation_date":1662434455,"answer_id":73616365,"question_id":73616238,"body_markdown":"From what I understand, you are trying to find 2 consecutive numbers in an array  whose sum is equal to the target\r\n\r\nFirstly, you don&#39;t need to use oldValue and newValue, since when `currentValue = 2`, `oldValue` will be equal to `1`, which is basically checking the same pair of numbers as when `currentValue = 1` and `newValue = 2`. The better version of your code should be:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        int[] array = {5, 3, 4, 1, 5, 2, 1, 6, 3, 2};\r\n        System.out.println(Arrays.toString(twoSum(array, 6)));\r\n    }\r\n\r\n    public static int[] twoSum(int[] nums, int target) {\r\n        int oldValue = 0;\r\n        int newValue;\r\n        int currentValue;\r\n\r\n        for (int i = 0; i &lt; nums.length - 1; i++) {\r\n            currentValue = i;\r\n            newValue = i + 1;\r\n\r\n            if ((nums[currentValue] + nums[newValue]) == target) {\r\n                return new int[]{currentValue, newValue};\r\n            }\r\n        }\r\n\r\n        return new int[]{0, 0}; // we print out 0 0 if we can&#39;t find a solution\r\n    }\r\n```\r\n\r\nSecondly, for time complexity, one trick I usually use is to look for loops in the code. \r\n\r\nFor my suggested code, in the worst case, it has to go through `N - 1 = O(N)` iterations and takes `O(1)` operation to execute each iteration. Therefore the time complexity is `O(N) * O(1) = O(N)`. \r\n\r\nFor your original code, it has to go through N iterations in the worst case, and takes approximately double the number of operations to execute each iteration compared to my code. However, the number of iterations is still `O(N)` and the number of operations per iteration is still `O(1)`, thus the time complexity of your code is also `O(N) * O(1) = O(N)`\r\n\r\n**Note**\r\n\r\nHaving a loop doesn&#39;t always mean the number of iterations for that loop is `O(N)`. For example:\r\n\r\n```\r\nfor (int i = 1; i &lt; 100; i++) {\r\n   // do something\r\n}\r\n```\r\n\r\nThe time complexity for this loop is `O(1)`, since the number of iterations is always 100 and is independent of any input value\r\n\r\n```\r\nfor (int i = 1; i &lt; n; i = i * 2) {\r\n  // do something\r\n}\r\n```\r\n\r\nThe time complexity for this loop is `O(log2(n)) = O(log(N) / log(2)) = O(log(N))` (since log(2)) is a constant)","title":"&quot;twoSum&quot; solution and Big O Time Complexity explanation","body":"<p>From what I understand, you are trying to find 2 consecutive numbers in an array  whose sum is equal to the target</p>\n<p>Firstly, you don't need to use oldValue and newValue, since when <code>currentValue = 2</code>, <code>oldValue</code> will be equal to <code>1</code>, which is basically checking the same pair of numbers as when <code>currentValue = 1</code> and <code>newValue = 2</code>. The better version of your code should be:</p>\n<pre><code>    public static void main(String[] args) {\n        int[] array = {5, 3, 4, 1, 5, 2, 1, 6, 3, 2};\n        System.out.println(Arrays.toString(twoSum(array, 6)));\n    }\n\n    public static int[] twoSum(int[] nums, int target) {\n        int oldValue = 0;\n        int newValue;\n        int currentValue;\n\n        for (int i = 0; i &lt; nums.length - 1; i++) {\n            currentValue = i;\n            newValue = i + 1;\n\n            if ((nums[currentValue] + nums[newValue]) == target) {\n                return new int[]{currentValue, newValue};\n            }\n        }\n\n        return new int[]{0, 0}; // we print out 0 0 if we can't find a solution\n    }\n</code></pre>\n<p>Secondly, for time complexity, one trick I usually use is to look for loops in the code.</p>\n<p>For my suggested code, in the worst case, it has to go through <code>N - 1 = O(N)</code> iterations and takes <code>O(1)</code> operation to execute each iteration. Therefore the time complexity is <code>O(N) * O(1) = O(N)</code>.</p>\n<p>For your original code, it has to go through N iterations in the worst case, and takes approximately double the number of operations to execute each iteration compared to my code. However, the number of iterations is still <code>O(N)</code> and the number of operations per iteration is still <code>O(1)</code>, thus the time complexity of your code is also <code>O(N) * O(1) = O(N)</code></p>\n<p><strong>Note</strong></p>\n<p>Having a loop doesn't always mean the number of iterations for that loop is <code>O(N)</code>. For example:</p>\n<pre><code>for (int i = 1; i &lt; 100; i++) {\n   // do something\n}\n</code></pre>\n<p>The time complexity for this loop is <code>O(1)</code>, since the number of iterations is always 100 and is independent of any input value</p>\n<pre><code>for (int i = 1; i &lt; n; i = i * 2) {\n  // do something\n}\n</code></pre>\n<p>The time complexity for this loop is <code>O(log2(n)) = O(log(N) / log(2)) = O(log(N))</code> (since log(2)) is a constant)</p>\n"}],"owner":{"account_id":22664783,"reputation":3,"user_id":19927688,"display_name":"CryroByte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73616365,"answer_count":1,"score":0,"last_activity_date":1662434960,"creation_date":1662432808,"question_id":73616238,"body_markdown":"I was messing around with possible &quot;twoSum&quot; solutions because I&#39;m pretty bored... Anyways I&#39;m pretty new to &quot;Big O Time Complexity&quot;, and I was trying to figure out the time complexity of my program.\r\n\r\nNow I don&#39;t assume my solution is at all polished or better, I was just wanting some help finding out the time complexity of it. I am very new to BIG(O) so don&#39;t dog on my skills... you can roast my code if you wish.\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        int[] array = {5, 3, 4, 1, 5, 2, 1, 6, 3, 2};\r\n        System.out.println(Arrays.toString(twoSum(array, 6)));\r\n    }\r\n\r\n    public static int[] twoSum(int[] nums, int target) {\r\n        int oldValue = 0;\r\n        int newValue;\r\n        int currentValue;\r\n\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            currentValue = i;\r\n            if (currentValue != 0) { // so oldValue never causes an exception\r\n                oldValue = i - 1;\r\n            }\r\n            newValue = i + 1;\r\n\r\n            if ((nums[currentValue] + nums[oldValue]) == target) {\r\n                return new int[]{currentValue, oldValue};\r\n            }\r\n\r\n            if ((nums[currentValue] + nums[newValue]) == target) {\r\n                return new int[]{currentValue, newValue};\r\n            }\r\n\r\n            if ((nums[newValue] + nums[oldValue]) == target) {\r\n                return new int[]{newValue, oldValue};\r\n            }\r\n        }\r\n\r\n        return new int[]{0, 0}; // we print out 0 0 if we can&#39;t find a solution\r\n    }\r\n```\r\n\r\nThis really won&#39;t have an ANSWER, as I don&#39;t know how time complexity works fully (as of right now) all I am asking for is someone to help me with an explanation ","title":"&quot;twoSum&quot; solution and Big O Time Complexity explanation","body":"<p>I was messing around with possible &quot;twoSum&quot; solutions because I'm pretty bored... Anyways I'm pretty new to &quot;Big O Time Complexity&quot;, and I was trying to figure out the time complexity of my program.</p>\n<p>Now I don't assume my solution is at all polished or better, I was just wanting some help finding out the time complexity of it. I am very new to BIG(O) so don't dog on my skills... you can roast my code if you wish.</p>\n<pre><code>    public static void main(String[] args) {\n        int[] array = {5, 3, 4, 1, 5, 2, 1, 6, 3, 2};\n        System.out.println(Arrays.toString(twoSum(array, 6)));\n    }\n\n    public static int[] twoSum(int[] nums, int target) {\n        int oldValue = 0;\n        int newValue;\n        int currentValue;\n\n        for (int i = 0; i &lt; nums.length; i++) {\n            currentValue = i;\n            if (currentValue != 0) { // so oldValue never causes an exception\n                oldValue = i - 1;\n            }\n            newValue = i + 1;\n\n            if ((nums[currentValue] + nums[oldValue]) == target) {\n                return new int[]{currentValue, oldValue};\n            }\n\n            if ((nums[currentValue] + nums[newValue]) == target) {\n                return new int[]{currentValue, newValue};\n            }\n\n            if ((nums[newValue] + nums[oldValue]) == target) {\n                return new int[]{newValue, oldValue};\n            }\n        }\n\n        return new int[]{0, 0}; // we print out 0 0 if we can't find a solution\n    }\n</code></pre>\n<p>This really won't have an ANSWER, as I don't know how time complexity works fully (as of right now) all I am asking for is someone to help me with an explanation</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":20212566,"reputation":1,"user_id":14824475,"display_name":"BloodyNoah"},"score":0,"creation_date":1652787939,"post_id":72272928,"comment_id":127686222,"body_markdown":"Please refer to this question: https://stackoverflow.com/questions/35747813/how-to-merge-two-json-strings-into-one-in-java","body":"Please refer to this question: <a href=\"https://stackoverflow.com/questions/35747813/how-to-merge-two-json-strings-into-one-in-java\" title=\"how to merge two json strings into one in java\">stackoverflow.com/questions/35747813/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652787954,"creation_date":1652787954,"answer_id":72273480,"question_id":72272928,"body_markdown":"May be not the most efficient solution but very simple one would be to parse each String into a Map (or specific POJO if you have one) and merge them as maps, and than serialize back into Json String. To parse a json string to map or a specific POJO you can use Jackson library - method [readValue() of ObjectMapper][1] Or [Gson][2] library. Also, I wrote my own simple wrapper over Jackson library that simplifies the use. Class [JsonUtils][3] is available as part of MgntUtils library (written and maintained by me). This class just has the methods that allow you to parse and de-serialize from/to Json String from/to a class instance. So your code could be as follows:\r\n\r\n    public String mergeJsonStrings(String str1, Str2) throws IOException {\r\n      Map&lt;String, Object&gt; map1 = convertJsonStringToMap(str1);\r\n      Map&lt;String, Object&gt; map2 = convertJsonStringToMap(str2);\r\n      Map&lt;String, Object&gt; dataMap1 = (Map&lt;String, Object&gt;)map1.get(&quot;data&quot;);\r\n      Map&lt;String, Object&gt; valuesMap1 = (Map&lt;String, Object&gt;)dataMap1.get(&quot;values&quot;);\r\n      Map&lt;String, Object&gt; dataMap2 = (Map&lt;String, Object&gt;)map2.get(&quot;data&quot;);\r\n      Map&lt;String, Object&gt; valuesMap2 = (Map&lt;String, Object&gt;)dataMap2.get(&quot;values&quot;);\r\n      valuesMap1.putAll(valuesMap2);\r\n      return convertMapToJsonString(map1);\r\n    }\r\n    \r\n    \r\n      Map&lt;String, Object&gt; convertJsonStringToMap(String str) throws IOException {\r\n        return JsonUtils.readObjectFromJsonString(str, Map.class);\r\n      }\r\n    \r\n      Strong convertMapToJsonString(Map&lt;String,Object&gt; map) throws JsonProcessingException{\r\n        return JsonUtils.writeObjectToJsonString(map); \r\n      }\r\n\r\nThis example uses MgntUtils library to parse and serialize JSON but of course you can use Jackson, Gson or any other library you want. MgntUtils library available as [Maven artifact][4] and on [Github][5] (including source code and Javadoc)\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#readValue(java.lang.String,%20java.lang.Class)\r\n  [2]: https://sites.google.com/site/gson/gson-user-guide\r\n  [3]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [4]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [5]: https://github.com/michaelgantman/Mgnt/releases","title":"How to merge two JSON string","body":"<p>May be not the most efficient solution but very simple one would be to parse each String into a Map (or specific POJO if you have one) and merge them as maps, and than serialize back into Json String. To parse a json string to map or a specific POJO you can use Jackson library - method <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#readValue(java.lang.String,%20java.lang.Class)\" rel=\"nofollow noreferrer\">readValue() of ObjectMapper</a> Or <a href=\"https://sites.google.com/site/gson/gson-user-guide\" rel=\"nofollow noreferrer\">Gson</a> library. Also, I wrote my own simple wrapper over Jackson library that simplifies the use. Class <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">JsonUtils</a> is available as part of MgntUtils library (written and maintained by me). This class just has the methods that allow you to parse and de-serialize from/to Json String from/to a class instance. So your code could be as follows:</p>\n<pre><code>public String mergeJsonStrings(String str1, Str2) throws IOException {\n  Map&lt;String, Object&gt; map1 = convertJsonStringToMap(str1);\n  Map&lt;String, Object&gt; map2 = convertJsonStringToMap(str2);\n  Map&lt;String, Object&gt; dataMap1 = (Map&lt;String, Object&gt;)map1.get(&quot;data&quot;);\n  Map&lt;String, Object&gt; valuesMap1 = (Map&lt;String, Object&gt;)dataMap1.get(&quot;values&quot;);\n  Map&lt;String, Object&gt; dataMap2 = (Map&lt;String, Object&gt;)map2.get(&quot;data&quot;);\n  Map&lt;String, Object&gt; valuesMap2 = (Map&lt;String, Object&gt;)dataMap2.get(&quot;values&quot;);\n  valuesMap1.putAll(valuesMap2);\n  return convertMapToJsonString(map1);\n}\n\n\n  Map&lt;String, Object&gt; convertJsonStringToMap(String str) throws IOException {\n    return JsonUtils.readObjectFromJsonString(str, Map.class);\n  }\n\n  Strong convertMapToJsonString(Map&lt;String,Object&gt; map) throws JsonProcessingException{\n    return JsonUtils.writeObjectToJsonString(map); \n  }\n</code></pre>\n<p>This example uses MgntUtils library to parse and serialize JSON but of course you can use Jackson, Gson or any other library you want. MgntUtils library available as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifact</a> and on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and Javadoc)</p>\n"},{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652790025,"creation_date":1652789206,"answer_id":72273777,"question_id":72272928,"body_markdown":"From your example JSON it looks like there can be many more input objects than two, so I&#39;d use a JSON to JSON transform via JOLT library (https://github.com/bazaarvoice/jolt) as follows:\r\n\r\n1. Form a JSON array of all the input `{&quot;data&quot; : ...}` objects (either by collecting the original objects and putting them in a `List` before serialization or just manually by concatenating their JSONs with square brackets):\r\n```json\r\n[\r\n  {\r\n    &quot;data&quot;: {\r\n      &quot;values&quot;: {\r\n        &quot;name&quot;: &quot;kiran&quot;,\r\n        &quot;age&quot;: &quot;24&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;data&quot;: {\r\n      &quot;values&quot;: {\r\n        &quot;name&quot;: &quot;Mamu&quot;,\r\n        &quot;age&quot;: &quot;26&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n2. Use the JOLT spec:\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;data&quot;: {\r\n          &quot;values&quot;: {\r\n            &quot;@&quot;: &quot;data.values[]&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nThe resulting JSON:\r\n```json\r\n{\r\n  &quot;data&quot; : {\r\n    &quot;values&quot; : [ {\r\n      &quot;name&quot; : &quot;kiran&quot;,\r\n      &quot;age&quot; : &quot;24&quot;\r\n    }, {\r\n      &quot;name&quot; : &quot;Mamu&quot;,\r\n      &quot;age&quot; : &quot;26&quot;\r\n    } ]\r\n  }\r\n}\r\n```\r\nYou can test or modify the spec yourself at http://jolt-demo.appspot.com before using it in your application.\r\n\r\nHere&#39;s what Java side might look like:\r\n```java\r\nResource transformationSpec = ...\r\nString inputJson = ...\r\nList&lt;Object&gt; specs = JsonUtils.jsonToList(transformationSpec.getInputStream());\r\nChainr chainr = Chainr.fromSpec(specs);\r\nObject inputObject = JsonUtils.jsonToObject(inputJson);\r\nObject transformedObject = chainr.transform(inputObject);\r\nString transformedJson = JsonUtils.toJsonString(transformedObject);\r\n```\r\n","title":"How to merge two JSON string","body":"<p>From your example JSON it looks like there can be many more input objects than two, so I'd use a JSON to JSON transform via JOLT library (<a href=\"https://github.com/bazaarvoice/jolt\" rel=\"nofollow noreferrer\">https://github.com/bazaarvoice/jolt</a>) as follows:</p>\n<ol>\n<li>Form a JSON array of all the input <code>{&quot;data&quot; : ...}</code> objects (either by collecting the original objects and putting them in a <code>List</code> before serialization or just manually by concatenating their JSONs with square brackets):</li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;data&quot;: {\n      &quot;values&quot;: {\n        &quot;name&quot;: &quot;kiran&quot;,\n        &quot;age&quot;: &quot;24&quot;\n      }\n    }\n  },\n  {\n    &quot;data&quot;: {\n      &quot;values&quot;: {\n        &quot;name&quot;: &quot;Mamu&quot;,\n        &quot;age&quot;: &quot;26&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<ol start=\"2\">\n<li>Use the JOLT spec:</li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;data&quot;: {\n          &quot;values&quot;: {\n            &quot;@&quot;: &quot;data.values[]&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>The resulting JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot; : {\n    &quot;values&quot; : [ {\n      &quot;name&quot; : &quot;kiran&quot;,\n      &quot;age&quot; : &quot;24&quot;\n    }, {\n      &quot;name&quot; : &quot;Mamu&quot;,\n      &quot;age&quot; : &quot;26&quot;\n    } ]\n  }\n}\n</code></pre>\n<p>You can test or modify the spec yourself at <a href=\"http://jolt-demo.appspot.com\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com</a> before using it in your application.</p>\n<p>Here's what Java side might look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Resource transformationSpec = ...\nString inputJson = ...\nList&lt;Object&gt; specs = JsonUtils.jsonToList(transformationSpec.getInputStream());\nChainr chainr = Chainr.fromSpec(specs);\nObject inputObject = JsonUtils.jsonToObject(inputJson);\nObject transformedObject = chainr.transform(inputObject);\nString transformedJson = JsonUtils.toJsonString(transformedObject);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662434690,"creation_date":1662434690,"answer_id":73616384,"question_id":72272928,"body_markdown":"Library *Josson &amp; Jossons* has concatenate operation to combine array from datasets.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Jossons jossons = new Jossons();\r\n    jossons.putDataset(&quot;resp1&quot;, Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;data\\&quot;: {&quot; +\r\n        &quot;        \\&quot;values\\&quot;: {&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;kiran\\&quot;,&quot; +\r\n        &quot;            \\&quot;age\\&quot;: \\&quot;24\\&quot;&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;}&quot;));\r\n    jossons.putDataset(&quot;resp2&quot;, Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;data\\&quot;: {&quot; +\r\n        &quot;        \\&quot;values\\&quot;: {&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Mamu\\&quot;,&quot; +\r\n        &quot;            \\&quot;age\\&quot;: \\&quot;26\\&quot;&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;}&quot;));\r\n        \r\n    JsonNode mergeValues = jossons.evaluateQuery(\r\n        &quot;resp1-&gt;data.toArray() &lt;+&lt; resp2-&gt;data.toArray()&quot;);\r\n    System.out.println(mergeValues.toPrettyString());\r\n    \r\n    JsonNode mergeResult = Josson.create(mergeValues).getNode(\r\n        &quot;toObject(&#39;values&#39;).toObject(&#39;data&#39;)&quot;);\r\n    System.out.println(mergeResult.toPrettyString());\r\n\r\nmergeValues\r\n\r\n    [ {\r\n      &quot;name&quot; : &quot;kiran&quot;,\r\n      &quot;age&quot; : &quot;24&quot;\r\n    }, {\r\n      &quot;name&quot; : &quot;Mamu&quot;,\r\n      &quot;age&quot; : &quot;26&quot;\r\n    } ]\r\n\r\nmergeResult\r\n\r\n    {\r\n      &quot;data&quot; : {\r\n        &quot;values&quot; : [ {\r\n          &quot;name&quot; : &quot;kiran&quot;,\r\n          &quot;age&quot; : &quot;24&quot;\r\n        }, {\r\n          &quot;name&quot; : &quot;Mamu&quot;,\r\n          &quot;age&quot; : &quot;26&quot;\r\n        } ]\r\n      }\r\n    }","title":"How to merge two JSON string","body":"<p>Library <em>Josson &amp; Jossons</em> has concatenate operation to combine array from datasets.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Jossons jossons = new Jossons();\njossons.putDataset(&quot;resp1&quot;, Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;data\\&quot;: {&quot; +\n    &quot;        \\&quot;values\\&quot;: {&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;kiran\\&quot;,&quot; +\n    &quot;            \\&quot;age\\&quot;: \\&quot;24\\&quot;&quot; +\n    &quot;        }&quot; +\n    &quot;    }&quot; +\n    &quot;}&quot;));\njossons.putDataset(&quot;resp2&quot;, Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;data\\&quot;: {&quot; +\n    &quot;        \\&quot;values\\&quot;: {&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Mamu\\&quot;,&quot; +\n    &quot;            \\&quot;age\\&quot;: \\&quot;26\\&quot;&quot; +\n    &quot;        }&quot; +\n    &quot;    }&quot; +\n    &quot;}&quot;));\n    \nJsonNode mergeValues = jossons.evaluateQuery(\n    &quot;resp1-&gt;data.toArray() &lt;+&lt; resp2-&gt;data.toArray()&quot;);\nSystem.out.println(mergeValues.toPrettyString());\n\nJsonNode mergeResult = Josson.create(mergeValues).getNode(\n    &quot;toObject('values').toObject('data')&quot;);\nSystem.out.println(mergeResult.toPrettyString());\n</code></pre>\n<p>mergeValues</p>\n<pre><code>[ {\n  &quot;name&quot; : &quot;kiran&quot;,\n  &quot;age&quot; : &quot;24&quot;\n}, {\n  &quot;name&quot; : &quot;Mamu&quot;,\n  &quot;age&quot; : &quot;26&quot;\n} ]\n</code></pre>\n<p>mergeResult</p>\n<pre><code>{\n  &quot;data&quot; : {\n    &quot;values&quot; : [ {\n      &quot;name&quot; : &quot;kiran&quot;,\n      &quot;age&quot; : &quot;24&quot;\n    }, {\n      &quot;name&quot; : &quot;Mamu&quot;,\n      &quot;age&quot; : &quot;26&quot;\n    } ]\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3611610,"reputation":92,"user_id":3012467,"display_name":"sanoop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1662434690,"creation_date":1652785501,"question_id":72272928,"body_markdown":"I have two JSON strings, I want to merge these two response string into a single one. Is there any way to merge these two JSON string using java ?\r\n\r\n    String str1 = &quot;{\r\n    \t\t\t\t&quot;data&quot; : { \r\n    \t\t\t\t\t\t&quot;values&quot; : {\r\n    \t\t\t\t\t\t\t&quot;name&quot; : &quot;kiran&quot;,\r\n    \t\t\t\t\t\t\t&quot;age&quot;  : &quot;24&quot;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}&quot;\r\n    \t\t\t\t\t\t\r\n    String str2 = &quot;{\r\n    \t\t\t\t&quot;data&quot; : { \r\n    \t\t\t\t\t\t&quot;values&quot; : {\r\n    \t\t\t\t\t\t\t&quot;name&quot; : &quot;Mamu&quot;,\r\n    \t\t\t\t\t\t\t&quot;age&quot;  : &quot;26&quot;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}&quot;\r\n\r\nI wnat to merge these two JSON string as follows \r\n\r\n    String mergeResult = &quot;{\r\n    \t\t\t\t&quot;data&quot; : { \r\n    \t\t\t\t\t\t&quot;values&quot; : [\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t&quot;name&quot; : &quot;kiran&quot;,\r\n    \t\t\t\t\t\t\t&quot;age&quot;  : &quot;24&quot;\r\n    \t\t\t\t\t\t},\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t&quot;name&quot; : &quot;Manu&quot;,\r\n    \t\t\t\t\t\t\t&quot;age&quot;  : &quot;26&quot;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t]\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}&quot;","title":"How to merge two JSON string","body":"<p>I have two JSON strings, I want to merge these two response string into a single one. Is there any way to merge these two JSON string using java ?</p>\n<pre><code>String str1 = &quot;{\n                &quot;data&quot; : { \n                        &quot;values&quot; : {\n                            &quot;name&quot; : &quot;kiran&quot;,\n                            &quot;age&quot;  : &quot;24&quot;\n                        }\n                        }\n                        }&quot;\n                        \nString str2 = &quot;{\n                &quot;data&quot; : { \n                        &quot;values&quot; : {\n                            &quot;name&quot; : &quot;Mamu&quot;,\n                            &quot;age&quot;  : &quot;26&quot;\n                        }\n                        }\n                        }&quot;\n</code></pre>\n<p>I wnat to merge these two JSON string as follows</p>\n<pre><code>String mergeResult = &quot;{\n                &quot;data&quot; : { \n                        &quot;values&quot; : [\n                        {\n                            &quot;name&quot; : &quot;kiran&quot;,\n                            &quot;age&quot;  : &quot;24&quot;\n                        },\n                        {\n                            &quot;name&quot; : &quot;Manu&quot;,\n                            &quot;age&quot;  : &quot;26&quot;\n                        }\n                        ]\n                        }\n                        }&quot;\n</code></pre>\n"},{"tags":["java","arrays","brute-force"],"comments":[{"owner":{"account_id":7578701,"reputation":686,"user_id":5750098,"display_name":"Layne Bernardo"},"score":0,"creation_date":1662431402,"post_id":73616113,"comment_id":129998104,"body_markdown":"Yes - just keep track of the start and end indices instead of keeping track of the sum. Don&#39;t just set the maximum sum but rather check if the new sum is larger and update the max start/end indices when it is.","body":"Yes - just keep track of the start and end indices instead of keeping track of the sum. Don&#39;t just set the maximum sum but rather check if the new sum is larger and update the max start/end indices when it is."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662434164,"creation_date":1662434164,"answer_id":73616347,"question_id":73616113,"body_markdown":"In addition to keeping track of the current maximum sum, you should also keep track of the current maximum sub array. You can easily do this by just keeping track of its start and end positions.\r\n\r\n    // assume non-empty array\r\n    int maxStart = 0;\r\n    int maxEnd = 0;\r\n    int curMax = nums[0];\r\n\r\nRather than using `Math.max`, expand that into an `if (sum &gt; curMax)` check so that you can also set `maxStart` and `maxEnd` in there:\r\n\r\nIn the outer loop, since it finds the start position, replace `Math.max` with:\r\n\r\n    if (sum &gt; curMax) {\r\n        curMax = sum;\r\n        maxStart = i;\r\n        maxEnd = i;\r\n    }\r\n\r\n\r\nIn the inner loop, since it finds both the start position and the end position, replace the `Math.max` call with:\r\n\r\n    if (sum &gt; curMax) {\r\n        curMax = sum;\r\n        maxStart = i;\r\n        maxEnd = j;\r\n    }\r\n\r\nFinally, return a copy of the specified range of the array:\r\n\r\n    return Arrays.copyOfRange(nums, maxStart, maxEnd + 1);\r\n\r\nNote that the subarray with the maximum sum is not unique. For example, the array `{ 0, 1, 0 }` has 4 subarrays that all add up to 1. This algorithm finds the shortest among the ones that starts the earliest.\r\n\r\nFull code looks like this:\r\n\r\n    public static int[] findMaximumSubArray(int[] nums) {\r\n        int maxStart = 0;\r\n        int maxEnd = 0;\r\n        int curMax = nums[0];\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            int sum = nums[i];\r\n            if (sum &gt; curMax) {\r\n                curMax = sum;\r\n                maxStart = i;\r\n                maxEnd = i;\r\n            }\r\n\r\n            for (int j = i + 1; j &lt; nums.length; j++) {\r\n                sum += nums[j];\r\n                if (sum &gt; curMax) {\r\n                    curMax = sum;\r\n                    maxStart = i;\r\n                    maxEnd = j;\r\n                }\r\n            }\r\n        }\r\n        return Arrays.copyOfRange(nums, maxStart, maxEnd + 1);\r\n    }","title":"How to return the maximum subarray using brute force?","body":"<p>In addition to keeping track of the current maximum sum, you should also keep track of the current maximum sub array. You can easily do this by just keeping track of its start and end positions.</p>\n<pre><code>// assume non-empty array\nint maxStart = 0;\nint maxEnd = 0;\nint curMax = nums[0];\n</code></pre>\n<p>Rather than using <code>Math.max</code>, expand that into an <code>if (sum &gt; curMax)</code> check so that you can also set <code>maxStart</code> and <code>maxEnd</code> in there:</p>\n<p>In the outer loop, since it finds the start position, replace <code>Math.max</code> with:</p>\n<pre><code>if (sum &gt; curMax) {\n    curMax = sum;\n    maxStart = i;\n    maxEnd = i;\n}\n</code></pre>\n<p>In the inner loop, since it finds both the start position and the end position, replace the <code>Math.max</code> call with:</p>\n<pre><code>if (sum &gt; curMax) {\n    curMax = sum;\n    maxStart = i;\n    maxEnd = j;\n}\n</code></pre>\n<p>Finally, return a copy of the specified range of the array:</p>\n<pre><code>return Arrays.copyOfRange(nums, maxStart, maxEnd + 1);\n</code></pre>\n<p>Note that the subarray with the maximum sum is not unique. For example, the array <code>{ 0, 1, 0 }</code> has 4 subarrays that all add up to 1. This algorithm finds the shortest among the ones that starts the earliest.</p>\n<p>Full code looks like this:</p>\n<pre><code>public static int[] findMaximumSubArray(int[] nums) {\n    int maxStart = 0;\n    int maxEnd = 0;\n    int curMax = nums[0];\n    for (int i = 0; i &lt; nums.length; i++) {\n        int sum = nums[i];\n        if (sum &gt; curMax) {\n            curMax = sum;\n            maxStart = i;\n            maxEnd = i;\n        }\n\n        for (int j = i + 1; j &lt; nums.length; j++) {\n            sum += nums[j];\n            if (sum &gt; curMax) {\n                curMax = sum;\n                maxStart = i;\n                maxEnd = j;\n            }\n        }\n    }\n    return Arrays.copyOfRange(nums, maxStart, maxEnd + 1);\n}\n</code></pre>\n"}],"owner":{"account_id":26255506,"reputation":11,"user_id":19927599,"display_name":"Tiffany"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1662434164,"creation_date":1662431178,"question_id":73616113,"body_markdown":"This is my code for returning the maximum subarray SUM using brute force, but would it be possible to return the actual subarray instead?\r\n\r\n    public static int[] findMaximumSubArray(int[] nums){\r\n\t\tint curMax = nums[0];\r\n\t\tfor(int i = 0; i &lt; nums.length; i++) {\r\n\t\t\tint sum = nums[i];\r\n\t\t\tcurMax = Math.max(sum,  curMax);\r\n\t\t\t\r\n\t\t\tfor(int j = i + 1; j &lt; nums.length; j++) {\r\n\t\t\t\tsum += nums[j];\r\n\t\t\t\tcurMax = Math.max(sum,  curMax);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn curMac;","title":"How to return the maximum subarray using brute force?","body":"<p>This is my code for returning the maximum subarray SUM using brute force, but would it be possible to return the actual subarray instead?</p>\n<pre><code>public static int[] findMaximumSubArray(int[] nums){\n    int curMax = nums[0];\n    for(int i = 0; i &lt; nums.length; i++) {\n        int sum = nums[i];\n        curMax = Math.max(sum,  curMax);\n        \n        for(int j = i + 1; j &lt; nums.length; j++) {\n            sum += nums[j];\n            curMax = Math.max(sum,  curMax);\n        }\n    }\n    return curMac;\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa","liquibase","optimistic-locking"],"answers":[{"tags":[],"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655468907,"creation_date":1655468907,"answer_id":72659400,"question_id":71093826,"body_markdown":"Accepted answer from this similar question: https://stackoverflow.com/questions/5990766/how-to-increase-a-version-field-on-save-in-hibernate-regardless-if-dirty-or-not\r\n\r\n&gt; You can use Hibernate interceptors to update the version number of the\r\n&gt; master record when you identify that detail has changed.\r\n&gt; \r\n&gt; http://docs.jboss.org/hibernate/core/3.3/reference/en/html/events.html\r\n&gt; \r\n&gt; One limitation is that this solution is specific to Hibernate. JPA\r\n&gt; also allows event-driven logic using annotations (e.g. PostPersist,\r\n&gt; PostUpdate, etc...) but these methods don&#39;t give you access to the\r\n&gt; underlying session (and, more importantly, the documentation cautions\r\n&gt; you from using these methods to modify session data). I&#39;ve typically\r\n&gt; used interceptors to perform auditing, but they could easily be\r\n&gt; extended to update a version number when a record is altered.","title":"Optimistic Locking in Hibernate does not change the value of the version-column in the table","body":"<p>Accepted answer from this similar question: <a href=\"https://stackoverflow.com/questions/5990766/how-to-increase-a-version-field-on-save-in-hibernate-regardless-if-dirty-or-not\">How to increase a version field on save in Hibernate regardless if dirty or not?</a></p>\n<blockquote>\n<p>You can use Hibernate interceptors to update the version number of the\nmaster record when you identify that detail has changed.</p>\n<p><a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/events.html\" rel=\"nofollow noreferrer\">http://docs.jboss.org/hibernate/core/3.3/reference/en/html/events.html</a></p>\n<p>One limitation is that this solution is specific to Hibernate. JPA\nalso allows event-driven logic using annotations (e.g. PostPersist,\nPostUpdate, etc...) but these methods don't give you access to the\nunderlying session (and, more importantly, the documentation cautions\nyou from using these methods to modify session data). I've typically\nused interceptors to perform auditing, but they could easily be\nextended to update a version number when a record is altered.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662434123,"creation_date":1662434123,"answer_id":73616343,"question_id":71093826,"body_markdown":"I had a similar issue, and mine was because the data was not flushed to the database prior to the second DML.\r\n\r\nTo test, i changed my repository and `extends JpaRepository` instead of `extends CrudRepository`. Then instead of doing `save`, i did `saveAndFlush`. My `version` field was updated as expected.","title":"Optimistic Locking in Hibernate does not change the value of the version-column in the table","body":"<p>I had a similar issue, and mine was because the data was not flushed to the database prior to the second DML.</p>\n<p>To test, i changed my repository and <code>extends JpaRepository</code> instead of <code>extends CrudRepository</code>. Then instead of doing <code>save</code>, i did <code>saveAndFlush</code>. My <code>version</code> field was updated as expected.</p>\n"}],"owner":{"account_id":18524293,"reputation":81,"user_id":13496526,"display_name":"alex_t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662434123,"creation_date":1644684086,"question_id":71093826,"body_markdown":"To implement optimistic locking in Spring Boot project, I added a field with the @Version annotation:\r\n```\r\npackage com.example.my_api.entity;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(name = &quot;clients&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Client {\r\n\r\n    // ...\r\n\r\n    @Version\r\n    private Integer version;\r\n\r\n    // ...\r\n\r\n}\r\n```\r\n\r\nThen i added a version-column in the corresponding table, using Liqubase-migration:\r\n[![enter image description here][1]][1]\r\n\r\nAnd now, I&#39;m testing with Postman. First I create a new client with a POST-request, then I update its data (name, age) with a PUT-request. If I understand correctly, when we update the entity, it should automatically increase the value of the version-field by 1. But in my case this does not happen: \r\n[![enter image description here][2]][2]\r\n\r\nThe value is 0 and it is not incremented. Can you help me? What i do wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xst2G.png\r\n  [2]: https://i.stack.imgur.com/jMDjG.png","title":"Optimistic Locking in Hibernate does not change the value of the version-column in the table","body":"<p>To implement optimistic locking in Spring Boot project, I added a field with the @Version annotation:</p>\n<pre><code>package com.example.my_api.entity;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;clients&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Client {\n\n    // ...\n\n    @Version\n    private Integer version;\n\n    // ...\n\n}\n</code></pre>\n<p>Then i added a version-column in the corresponding table, using Liqubase-migration:\n<a href=\"https://i.stack.imgur.com/Xst2G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xst2G.png\" alt=\"enter image description here\" /></a></p>\n<p>And now, I'm testing with Postman. First I create a new client with a POST-request, then I update its data (name, age) with a PUT-request. If I understand correctly, when we update the entity, it should automatically increase the value of the version-field by 1. But in my case this does not happen:\n<a href=\"https://i.stack.imgur.com/jMDjG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jMDjG.png\" alt=\"enter image description here\" /></a></p>\n<p>The value is 0 and it is not incremented. Can you help me? What i do wrong?</p>\n"},{"tags":["java","wkhtmltopdf"],"comments":[{"owner":{"display_name":"user13149581"},"score":0,"creation_date":1593095890,"post_id":62576973,"comment_id":110665533,"body_markdown":"Trying with an absolute path may help pinpoint the problem. It seems `pb.environment()` could also give you some useful info on the paths actually used in the java version.","body":"Trying with an absolute path may help pinpoint the problem. It seems <code>pb.environment()</code> could also give you some useful info on the paths actually used in the java version."},{"owner":{"account_id":4615459,"reputation":617,"user_id":3742125,"accept_rate":60,"display_name":"user3742125"},"score":0,"creation_date":1593147539,"post_id":62576973,"comment_id":110683557,"body_markdown":"These are the paths returned - PATH=/usr/bin:/bin:/usr/sbin:/sbin. And my webhtmltopdf is in /usr/local/bin which is not in the returned list. But as I mentioned in my question /usr/local/bin is also $PATH. So wondering why it is not considering this path.","body":"These are the paths returned - PATH=/usr/bin:/bin:/usr/sbin:/sbin. And my webhtmltopdf is in /usr/local/bin which is not in the returned list. But as I mentioned in my question /usr/local/bin is also $PATH. So wondering why it is not considering this path."},{"owner":{"display_name":"user13149581"},"score":0,"creation_date":1593185460,"post_id":62576973,"comment_id":110700564,"body_markdown":"By the paths you get my first bet would be that you are running the java program as a different user. I managed to get a shorter list of path on linux using sudo (It still had usr/bin/local, but this could be os/system specific). Otherwise it coud be something mac-related and I can&#39;t help with that.","body":"By the paths you get my first bet would be that you are running the java program as a different user. I managed to get a shorter list of path on linux using sudo (It still had usr/bin/local, but this could be os/system specific). Otherwise it coud be something mac-related and I can&#39;t help with that."},{"owner":{"account_id":4615459,"reputation":617,"user_id":3742125,"accept_rate":60,"display_name":"user3742125"},"score":0,"creation_date":1593189324,"post_id":62576973,"comment_id":110702451,"body_markdown":"I checked the user using System.getProperty(&quot;user.name&quot;); which returns the same user as in my Mac Terminal. And from Terminal I am able to run the program successfully.","body":"I checked the user using System.getProperty(&quot;user.name&quot;); which returns the same user as in my Mac Terminal. And from Terminal I am able to run the program successfully."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1593198011,"post_id":62576973,"comment_id":110706083,"body_markdown":"The path / env inside your shell could wholly different to the one Java is using - depends on the launcher. You might get expected results if changing the command to run your shell first so your environment matches your interactive shell example - such as {&quot;/bin/bash&quot;, -c&quot;, &quot;wkhtmltopdf&quot;, ...}. But as as @Harpistry says it would be easier to try call with absolute path.","body":"The path / env inside your shell could wholly different to the one Java is using - depends on the launcher. You might get expected results if changing the command to run your shell first so your environment matches your interactive shell example - such as {&quot;/bin/bash&quot;, -c&quot;, &quot;wkhtmltopdf&quot;, ...}. But as as @Harpistry says it would be easier to try call with absolute path."},{"owner":{"account_id":4615459,"reputation":617,"user_id":3742125,"accept_rate":60,"display_name":"user3742125"},"score":0,"creation_date":1593221513,"post_id":62576973,"comment_id":110712292,"body_markdown":"@DuncG , I am trying to understand this. So I need to run any bash script to match my Mac OS environment with Java environment??. If my understanding is wrong can you please explain me what exactly you meant to say.","body":"@DuncG , I am trying to understand this. So I need to run any bash script to match my Mac OS environment with Java environment??. If my understanding is wrong can you please explain me what exactly you meant to say."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1593242487,"post_id":62576973,"comment_id":110715737,"body_markdown":"Sorry I didn&#39;t mean add any shell, but the exact same shell you use interactively. If adding the shell works then some part of the shell profile setup is doing something that you can compare with whatever way you run your java app, and may help understand the difference. Example do you have alias or extra path var set in .bashrc. Is your java app run from same shell after reading same profile?","body":"Sorry I didn&#39;t mean add any shell, but the exact same shell you use interactively. If adding the shell works then some part of the shell profile setup is doing something that you can compare with whatever way you run your java app, and may help understand the difference. Example do you have alias or extra path var set in .bashrc. Is your java app run from same shell after reading same profile?"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1593245016,"post_id":62576973,"comment_id":110716325,"body_markdown":"Also check print path inside the java app before ProcessBuilder: `System.out.println(&quot;PATH=&quot;+System.getenv(&quot;PATH&quot;));`","body":"Also check print path inside the java app before ProcessBuilder: <code>System.out.println(&quot;PATH=&quot;+System.getenv(&quot;PATH&quot;));</code>"},{"owner":{"account_id":4615459,"reputation":617,"user_id":3742125,"accept_rate":60,"display_name":"user3742125"},"score":0,"creation_date":1593247175,"post_id":62576973,"comment_id":110716778,"body_markdown":"System.getenv() returns /usr/bin , /usr/sbin , /sbin.  But I did not understand your comment - &quot;compare with whatever way you run your java app, and may help understand the difference&quot;. Here compare what and what?. Since I am not good in shell I really appreciate if you could provide step by step details of what I can do to find the difference.\n\nAlso , I tried to create symlink to the executable path but my mac os (Sierra , version 10.12.6) does not permit me for any such operation.","body":"System.getenv() returns /usr/bin , /usr/sbin , /sbin.  But I did not understand your comment - &quot;compare with whatever way you run your java app, and may help understand the difference&quot;. Here compare what and what?. Since I am not good in shell I really appreciate if you could provide step by step details of what I can do to find the difference.  Also , I tried to create symlink to the executable path but my mac os (Sierra , version 10.12.6) does not permit me for any such operation."},{"owner":{"account_id":4615459,"reputation":617,"user_id":3742125,"accept_rate":60,"display_name":"user3742125"},"score":0,"creation_date":1593247193,"post_id":62576973,"comment_id":110716782,"body_markdown":"Please see below response from Terminal.\n\nMacBook-Air-2:bin inDiscover$ sudo ln -s /usr/local/bin/wkhtmltopdf /usr/bin\nln: /usr/bin/wkhtmltopdf: Operation not permitted","body":"Please see below response from Terminal.  MacBook-Air-2:bin inDiscover$ sudo ln -s /usr/local/bin/wkhtmltopdf /usr/bin ln: /usr/bin/wkhtmltopdf: Operation not permitted"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593251897,"creation_date":1593251897,"answer_id":62608510,"question_id":62576973,"body_markdown":"Here are a few things you can check, one will hopefully resolve your issue. \r\n\r\nNearly all occasions I&#39;ve seen where java is not finding an application that your shell or terminal does run are down to use of commands built into the shell / terminal (such as an alias), or because of PATH used in a script that you use to launch your `java yourapp.ClassName ...` is different to that set for the interactive shell / terminal.\r\n\r\nThe interactive shell / terminal may include or source from other scripts on startup - for example it may have run code in `~/.bashrc`, `~/.login`, `~/.profile`, ... meaning that PATH declared inside interactive shell is not same as PATH presented to Java app when you launched it.\r\n\r\nHence you see terminal show PATH has /usr/local/bin:\r\n\r\n    MacBook-Air-2:~ inDiscover$ echo $PATH\r\n    /Users/mymac/anaconda/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\r\n\r\nBut Java says no /usr/local/bin in PATH:\r\n\r\n    System.out.println(&quot;PATH=&quot;+System.getenv(&quot;PATH&quot;));\r\n    /usr/bin:/usr/sbin:/sbin\r\n    \r\nSo to fix your problem you could make java use absolute path to run the app wkhtmltopdf:\r\n\r\n    Arrays.asList(&quot;wkhtmltopdf&quot; -&gt;  Arrays.asList(&quot;/usr/local/bin/wkhtmltopdf&quot; ...\r\n    \r\nOR you could make java launch your shell / terminal so the terminal sources its env scripts as normal and runs the command:\r\n\r\n    # Confirm which shell your Terminal uses:\r\n    echo $SHELL\r\n\r\nIf you have say `SHELL=/bin/bash` you can run `/bin/bash` from java and let it work out where wkhtmltopdf is:\r\n\r\n    Arrays.asList(&quot;wkhtmltopdf&quot; -&gt;  Arrays.asList(&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;wkhtmltopdf&quot; ...\r\n\r\nOR if you have a script say `runMyApp.sh` to launch your java app, set the PATH before `java yourclass.Name`, \r\n\r\n    export PATH=/usr/local/bin:$PATH\r\n    java yourclass.Name\r\n\r\nOR if you have a script say `runMyApp.sh` to launch your java app, make that it sources the same profile environment as your Terminal does. This depends on the SHELL but for some systems could be something like:\r\n\r\n    #!/bin/bash\r\n    \r\n    # Load env from current user - &quot;source&quot; and &quot;.&quot; may or may not work in the SHELL you are using:\r\n    source ~/.bashrc\r\n    # OR maybe other shell\r\n    . ~/.somefilerc\r\n    \r\n    echo $PATH # Now hopefully includes same /usr/local/bin\r\n    java yourclass.Name","title":"Cannot run program &quot;wkhtmltopdf&quot;: error=2, No such file or directory - Getting this error from Java","body":"<p>Here are a few things you can check, one will hopefully resolve your issue.</p>\n<p>Nearly all occasions I've seen where java is not finding an application that your shell or terminal does run are down to use of commands built into the shell / terminal (such as an alias), or because of PATH used in a script that you use to launch your <code>java yourapp.ClassName ...</code> is different to that set for the interactive shell / terminal.</p>\n<p>The interactive shell / terminal may include or source from other scripts on startup - for example it may have run code in <code>~/.bashrc</code>, <code>~/.login</code>, <code>~/.profile</code>, ... meaning that PATH declared inside interactive shell is not same as PATH presented to Java app when you launched it.</p>\n<p>Hence you see terminal show PATH has /usr/local/bin:</p>\n<pre><code>MacBook-Air-2:~ inDiscover$ echo $PATH\n/Users/mymac/anaconda/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\n</code></pre>\n<p>But Java says no /usr/local/bin in PATH:</p>\n<pre><code>System.out.println(&quot;PATH=&quot;+System.getenv(&quot;PATH&quot;));\n/usr/bin:/usr/sbin:/sbin\n</code></pre>\n<p>So to fix your problem you could make java use absolute path to run the app wkhtmltopdf:</p>\n<pre><code>Arrays.asList(&quot;wkhtmltopdf&quot; -&gt;  Arrays.asList(&quot;/usr/local/bin/wkhtmltopdf&quot; ...\n</code></pre>\n<p>OR you could make java launch your shell / terminal so the terminal sources its env scripts as normal and runs the command:</p>\n<pre><code># Confirm which shell your Terminal uses:\necho $SHELL\n</code></pre>\n<p>If you have say <code>SHELL=/bin/bash</code> you can run <code>/bin/bash</code> from java and let it work out where wkhtmltopdf is:</p>\n<pre><code>Arrays.asList(&quot;wkhtmltopdf&quot; -&gt;  Arrays.asList(&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;wkhtmltopdf&quot; ...\n</code></pre>\n<p>OR if you have a script say <code>runMyApp.sh</code> to launch your java app, set the PATH before <code>java yourclass.Name</code>,</p>\n<pre><code>export PATH=/usr/local/bin:$PATH\njava yourclass.Name\n</code></pre>\n<p>OR if you have a script say <code>runMyApp.sh</code> to launch your java app, make that it sources the same profile environment as your Terminal does. This depends on the SHELL but for some systems could be something like:</p>\n<pre><code>#!/bin/bash\n\n# Load env from current user - &quot;source&quot; and &quot;.&quot; may or may not work in the SHELL you are using:\nsource ~/.bashrc\n# OR maybe other shell\n. ~/.somefilerc\n\necho $PATH # Now hopefully includes same /usr/local/bin\njava yourclass.Name\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26255669,"reputation":1,"user_id":19927750,"display_name":"MuChen"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1662432812,"creation_date":1662432812,"answer_id":73616239,"question_id":62576973,"body_markdown":"Try to add sudo in the front of wkhtmltopdf.","title":"Cannot run program &quot;wkhtmltopdf&quot;: error=2, No such file or directory - Getting this error from Java","body":"<p>Try to add sudo in the front of wkhtmltopdf.</p>\n"}],"owner":{"account_id":4615459,"reputation":617,"user_id":3742125,"accept_rate":60,"display_name":"user3742125"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1872,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662432812,"creation_date":1593093040,"question_id":62576973,"body_markdown":"I am executing wkhtmltopdf command line tool from Java but it is throwing below error.\r\n\r\n    Cannot run program &quot;wkhtmltopdf&quot;: error=2, No such file or directory\r\n\r\nBut note that when I execute this command line tool from my mac terminal then pdf got generated successfully. Please see below. \r\n\r\n    MacBook-Air-2:~ inDiscover$ wkhtmltopdf /var/folders/7y/2vr28n113p908ksnk0fnpqch0000gn/T/test7896850081571855407.html /Users/mymac/Documents/Project/emailbody/test2.pdf\r\n    Loading pages (1/6)\r\n    Counting pages (2/6)                                               \r\n    Resolving links (4/6)                                                       \r\n    Loading headers and footers (5/6)                                           \r\n    Printing pages (6/6)\r\n    Done\r\n\r\n\r\nI have seen lot many similar questions here (for ex: https://stackoverflow.com/questions/45627142/wkhtmltopdf-no-such-file-or-directory-closed) but issue with those questions are related to `$PATH`. In my case I believe that I have set the path to the executable to `$PATH` correctly. Please see below.\r\n\r\n                                                                     \r\n    MacBook-Air-2:~ inDiscover$ locate wkhtmltopdf\r\n    /private/var/db/receipts/org.wkhtmltopdf.wkhtmltox.bom\r\n    /private/var/db/receipts/org.wkhtmltopdf.wkhtmltox.plist\r\n    /usr/local/bin/wkhtmltopdf\r\n    /usr/local/share/man/man1/wkhtmltopdf.1.gz\r\n\r\nYou can see here `wkhtmltopdf` has been added to `$PATH` (/usr/local/bin)\r\n\r\nAlso , see below the response for `echo $PATH`.\r\n\r\n    MacBook-Air-2:~ inDiscover$ echo $PATH\r\n    /Users/mymac/anaconda/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\r\n    MacBook-Air-2:~ inDiscover$ \r\n\r\nI am getting this issue only when I try to execute the command from Java. Please see my java code below.\r\n\r\n    String VIEWPORT_SIZE = &quot;2480x3508&quot;;\r\n    \t\tint CONVERSION_DPI = 300;\r\n    \t\tint IMAGE_QUALITY = 100;\r\n    \t\t\r\n    \t\tList&lt;String&gt; cmd = new ArrayList&lt;String&gt;(Arrays.asList(&quot;wkhtmltopdf&quot;,\r\n    \t\t\t\t&quot;--viewport-size&quot;, VIEWPORT_SIZE,\r\n    \t\t\t\t&quot;--enable-local-file-access&quot;,\r\n    \t\t\t\t// &quot;--disable-smart-shrinking&quot;,\r\n    \t\t\t\t&quot;--dpi&quot;, String.valueOf(CONVERSION_DPI),\r\n    \t\t\t\t&quot;--image-quality&quot;, String.valueOf(IMAGE_QUALITY)));\r\n    \t\t//cmd.addAll(extParams);\r\n    \t\tcmd.add(&quot;/var/folders/7y/2vr28n113p908ksnk0fnpqch0000gn/T/test7896850081571855407.html&quot;);\r\n    \t\tcmd.add(&quot;/Users/mymac/Documents/Project/emailbody/test3.pdf&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tProcessBuilder pb = new ProcessBuilder(cmd);\r\n    \r\n    \t\t\tif (Logger.level.compareTo(LogLevel.Info) &gt;= 0) {\r\n    \t\t\t\tpb.inheritIO();\r\n    \t\t\t}\r\n    \r\n    \t\t\tProcess p = pb.start();\r\n    \t\t\tp.waitFor();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n\r\nAm I really missing something?","title":"Cannot run program &quot;wkhtmltopdf&quot;: error=2, No such file or directory - Getting this error from Java","body":"<p>I am executing wkhtmltopdf command line tool from Java but it is throwing below error.</p>\n<pre><code>Cannot run program &quot;wkhtmltopdf&quot;: error=2, No such file or directory\n</code></pre>\n<p>But note that when I execute this command line tool from my mac terminal then pdf got generated successfully. Please see below.</p>\n<pre><code>MacBook-Air-2:~ inDiscover$ wkhtmltopdf /var/folders/7y/2vr28n113p908ksnk0fnpqch0000gn/T/test7896850081571855407.html /Users/mymac/Documents/Project/emailbody/test2.pdf\nLoading pages (1/6)\nCounting pages (2/6)                                               \nResolving links (4/6)                                                       \nLoading headers and footers (5/6)                                           \nPrinting pages (6/6)\nDone\n</code></pre>\n<p>I have seen lot many similar questions here (for ex: <a href=\"https://stackoverflow.com/questions/45627142/wkhtmltopdf-no-such-file-or-directory-closed\">wkhtmltopdf: No such file or directory [ Closed ]</a>) but issue with those questions are related to <code>$PATH</code>. In my case I believe that I have set the path to the executable to <code>$PATH</code> correctly. Please see below.</p>\n<pre><code>MacBook-Air-2:~ inDiscover$ locate wkhtmltopdf\n/private/var/db/receipts/org.wkhtmltopdf.wkhtmltox.bom\n/private/var/db/receipts/org.wkhtmltopdf.wkhtmltox.plist\n/usr/local/bin/wkhtmltopdf\n/usr/local/share/man/man1/wkhtmltopdf.1.gz\n</code></pre>\n<p>You can see here <code>wkhtmltopdf</code> has been added to <code>$PATH</code> (/usr/local/bin)</p>\n<p>Also , see below the response for <code>echo $PATH</code>.</p>\n<pre><code>MacBook-Air-2:~ inDiscover$ echo $PATH\n/Users/mymac/anaconda/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\nMacBook-Air-2:~ inDiscover$ \n</code></pre>\n<p>I am getting this issue only when I try to execute the command from Java. Please see my java code below.</p>\n<pre><code>String VIEWPORT_SIZE = &quot;2480x3508&quot;;\n        int CONVERSION_DPI = 300;\n        int IMAGE_QUALITY = 100;\n        \n        List&lt;String&gt; cmd = new ArrayList&lt;String&gt;(Arrays.asList(&quot;wkhtmltopdf&quot;,\n                &quot;--viewport-size&quot;, VIEWPORT_SIZE,\n                &quot;--enable-local-file-access&quot;,\n                // &quot;--disable-smart-shrinking&quot;,\n                &quot;--dpi&quot;, String.valueOf(CONVERSION_DPI),\n                &quot;--image-quality&quot;, String.valueOf(IMAGE_QUALITY)));\n        //cmd.addAll(extParams);\n        cmd.add(&quot;/var/folders/7y/2vr28n113p908ksnk0fnpqch0000gn/T/test7896850081571855407.html&quot;);\n        cmd.add(&quot;/Users/mymac/Documents/Project/emailbody/test3.pdf&quot;);\n        \n        \n        try {\n            ProcessBuilder pb = new ProcessBuilder(cmd);\n\n            if (Logger.level.compareTo(LogLevel.Info) &gt;= 0) {\n                pb.inheritIO();\n            }\n\n            Process p = pb.start();\n            p.waitFor();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>Am I really missing something?</p>\n"},{"tags":["java","jsp","struts2"],"comments":[{"owner":{"account_id":5227249,"reputation":13,"user_id":4178909,"display_name":"Idrees Hamayun"},"score":0,"creation_date":1414177942,"post_id":26554521,"comment_id":41731115,"body_markdown":"Basically I just want to pass &quot;s:property&quot; tag as a parameter in java function like this  &lt;s:if test=&quot;%{DoSomething( &quot;&lt;s:property value=&quot;userId&quot;&gt;/)}&quot;&gt;","body":"Basically I just want to pass &quot;s:property&quot; tag as a parameter in java function like this  &lt;s:if test=&quot;%{DoSomething( &quot;&lt;s:property value=&quot;userId&quot;&gt;/)}&quot;&gt;"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":1,"creation_date":1414185453,"post_id":26554521,"comment_id":41734303,"body_markdown":"Show your `DoSomething` method. What type is your `userId`?","body":"Show your <code>DoSomething</code> method. What type is your <code>userId</code>?"},{"owner":{"account_id":5227249,"reputation":13,"user_id":4178909,"display_name":"Idrees Hamayun"},"score":0,"creation_date":1414187615,"post_id":26554521,"comment_id":41735095,"body_markdown":"public boolean DoSomething(string User){      if(User!= null){ return true;}              } //it&#39;s a simple function. I even removed all the logic, but still I am getting NULL","body":"public boolean DoSomething(string User){      if(User!= null){ return true;}              } //it&#39;s a simple function. I even removed all the logic, but still I am getting NULL"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":1,"creation_date":1414190277,"post_id":26554521,"comment_id":41735889,"body_markdown":"1. Mention people with `@` (e.g. @IdreesHamayun) in that way they get notification. 2. Edit your post instead posting code in comments. 3. You haven&#39;t answered about type of your `userId` property.","body":"1. Mention people with <code>@</code> (e.g. @IdreesHamayun) in that way they get notification. 2. Edit your post instead posting code in comments. 3. You haven&#39;t answered about type of your <code>userId</code> property."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1414222939,"post_id":26554521,"comment_id":41741098,"body_markdown":"But `DoSomething()` *is not a function*, it&#39;s a method of some object in Java terms, it could be an action bean.","body":"But <code>DoSomething()</code> <i>is not a function</i>, it&#39;s a method of some object in Java terms, it could be an action bean."}],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414178259,"creation_date":1414178259,"answer_id":26554786,"question_id":26554521,"body_markdown":"    &lt;s:if test=&quot;%{DoSomething(userId)}&quot;&gt;\r\n","title":"How to pass Struts2 property tag as parameter in java function in the jsp?","body":"<pre><code>&lt;s:if test=\"%{DoSomething(userId)}\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5229654,"reputation":606,"user_id":4180464,"display_name":"Pankaj Mandale"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1414403976,"creation_date":1414236170,"answer_id":26561815,"question_id":26554521,"body_markdown":"you cannot used Struts2 tag to another Struts2 tag, you can use expression language,\r\nfirst use `&lt;s:set name=&quot;userId&quot; value=&quot;userId&quot; /&gt;` then use `${userId}`","title":"How to pass Struts2 property tag as parameter in java function in the jsp?","body":"<p>you cannot used Struts2 tag to another Struts2 tag, you can use expression language,\nfirst use <code>&lt;s:set name=\"userId\" value=\"userId\" /&gt;</code> then use <code>${userId}</code></p>\n"},{"tags":[],"owner":{"account_id":1733299,"reputation":1,"user_id":1586416,"display_name":"user1586416"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446004037,"creation_date":1446004037,"answer_id":33382571,"question_id":26554521,"body_markdown":"Most likely you wouldn&#39;t need to pass in a parameter like this. You are trying to call a method DoSomething from your action class. You want to pass in a parameter &lt;s:property value=&quot;userId&quot;&gt; to this method in your action class. The userId must be existing already in you action class otherwise you couldn&#39;t be able to get it through the s:property tag. You can just use this userId variable in your DoSomething method of your action class.","title":"How to pass Struts2 property tag as parameter in java function in the jsp?","body":"<p>Most likely you wouldn't need to pass in a parameter like this. You are trying to call a method DoSomething from your action class. You want to pass in a parameter  to this method in your action class. The userId must be existing already in you action class otherwise you couldn't be able to get it through the s:property tag. You can just use this userId variable in your DoSomething method of your action class.</p>\n"}],"owner":{"account_id":5227249,"reputation":13,"user_id":4178909,"display_name":"Idrees Hamayun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4418,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":26561815,"answer_count":3,"score":0,"last_activity_date":1662430354,"creation_date":1414177097,"question_id":26554521,"body_markdown":"I am having a problem in passing Struts2 property tag as parameter in java function in the jsp.\r\nI am calling a java function like this from jsp,\r\n\r\n    &lt;s:if test=&quot;%{DoSomething()}&quot;&gt;\r\n\r\n`DoSomething()` function is in the Action class, and is being called for each record in the iterator.\r\n\r\nThe problem is that I want to pass this property `&lt;s:property value=&quot;userId&quot;/&gt;` in the function `DoSomething` as java string as follow.\r\n\r\n    &lt;s:if test=&quot;%{DoSomething(&quot;&lt;s:property value=&quot;userId&quot;&gt;/)}&quot;&gt;\r\n\r\nCan anyone please guide me that how can I do that. I goggled it but did not find anything.","title":"How to pass Struts2 property tag as parameter in java function in the jsp?","body":"<p>I am having a problem in passing Struts2 property tag as parameter in java function in the jsp.\nI am calling a java function like this from jsp,</p>\n\n<pre><code>&lt;s:if test=\"%{DoSomething()}\"&gt;\n</code></pre>\n\n<p><code>DoSomething()</code> function is in the Action class, and is being called for each record in the iterator.</p>\n\n<p>The problem is that I want to pass this property <code>&lt;s:property value=\"userId\"/&gt;</code> in the function <code>DoSomething</code> as java string as follow.</p>\n\n<pre><code>&lt;s:if test=\"%{DoSomething(\"&lt;s:property value=\"userId\"&gt;/)}\"&gt;\n</code></pre>\n\n<p>Can anyone please guide me that how can I do that. I goggled it but did not find anything.</p>\n"},{"tags":["java","windows","maven","environment-variables"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662428143,"creation_date":1612832302,"answer_id":66111525,"question_id":66111368,"body_markdown":"&gt; I have two versions of java installed, hence my JAVA_HOME environment variable looks something like this: `C:\\Progra~1\\Java\\jdk1.8.0_281;C:\\Progra~1\\Java\\jdk-11.0.10`\r\n\r\nThat is your problem: trying to shoe-horn two versions of Java into `JAVA_HOME`.\r\n\r\nYour `JAVA_HOME` should never look like that. The `JAVA_HOME` should refer to exactly one Java installation.  It is not &quot;search path&quot;, and if you try to configure it as one, Maven won&#39;t work.   Maven will treat the separator as part of the installation pathname and fail.\r\n\r\n&gt; Is there a way around this, where I can use both Java installations for different projects and still be able to use mvn commands?\r\n\r\n1.  Set / change the `JAVA_HOME` environment variable in the current shell env by hand or using a shell alias whenever you switch between projects.\r\n\r\n2.  Write some clever wrapper scripts (e.g. for the `mvn` command) that use a different `JAVA_HOME` settings depending on what the current directory is.\r\n\r\nNB: Either of those solutions can be applied irrespective of the operating system you are using for development work.  (Including Windows!)  And there are likely to be other solutions too.","title":"JAVA_HOME environment variable semicolon issue for maven","body":"<blockquote>\n<p>I have two versions of java installed, hence my JAVA_HOME environment variable looks something like this: <code>C:\\Progra~1\\Java\\jdk1.8.0_281;C:\\Progra~1\\Java\\jdk-11.0.10</code></p>\n</blockquote>\n<p>That is your problem: trying to shoe-horn two versions of Java into <code>JAVA_HOME</code>.</p>\n<p>Your <code>JAVA_HOME</code> should never look like that. The <code>JAVA_HOME</code> should refer to exactly one Java installation.  It is not &quot;search path&quot;, and if you try to configure it as one, Maven won't work.   Maven will treat the separator as part of the installation pathname and fail.</p>\n<blockquote>\n<p>Is there a way around this, where I can use both Java installations for different projects and still be able to use mvn commands?</p>\n</blockquote>\n<ol>\n<li><p>Set / change the <code>JAVA_HOME</code> environment variable in the current shell env by hand or using a shell alias whenever you switch between projects.</p>\n</li>\n<li><p>Write some clever wrapper scripts (e.g. for the <code>mvn</code> command) that use a different <code>JAVA_HOME</code> settings depending on what the current directory is.</p>\n</li>\n</ol>\n<p>NB: Either of those solutions can be applied irrespective of the operating system you are using for development work.  (Including Windows!)  And there are likely to be other solutions too.</p>\n"}],"owner":{"account_id":6066412,"reputation":1,"user_id":4736533,"display_name":"Neel Desai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662428143,"creation_date":1612830869,"question_id":66111368,"body_markdown":"I have two versions of java installed, hence my ```JAVA_HOME``` environment variable looks something like this:\r\n```C:\\Progra~1\\Java\\jdk1.8.0_281;C:\\Progra~1\\Java\\jdk-11.0.10```\r\n\r\nNow the issue is, when I run the command ```mvn -v``` in cmd, it gives me the error:\r\n**NB: JAVA_HOME should point to a JDK not a JRE.**\r\n\r\nI figured out what was causing this. The semi-colon differentiating two different Java installations. So, for the mvn commands to work, what I do is keep only one java installation path in ```JAVA_HOME``` variable . So currently I am limited to using only one Java installation due to this.\r\n\r\nIs there a way around this, where I can use both Java installations for different projects and still be able to use mvn commands?\r\n\r\nThank you.","title":"JAVA_HOME environment variable semicolon issue for maven","body":"<p>I have two versions of java installed, hence my <code>JAVA_HOME</code> environment variable looks something like this:\n<code>C:\\Progra~1\\Java\\jdk1.8.0_281;C:\\Progra~1\\Java\\jdk-11.0.10</code></p>\n<p>Now the issue is, when I run the command <code>mvn -v</code> in cmd, it gives me the error:\n<strong>NB: JAVA_HOME should point to a JDK not a JRE.</strong></p>\n<p>I figured out what was causing this. The semi-colon differentiating two different Java installations. So, for the mvn commands to work, what I do is keep only one java installation path in <code>JAVA_HOME</code> variable . So currently I am limited to using only one Java installation due to this.</p>\n<p>Is there a way around this, where I can use both Java installations for different projects and still be able to use mvn commands?</p>\n<p>Thank you.</p>\n"},{"tags":["java","arrays","matrix"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1662417888,"post_id":73615215,"comment_id":129996374,"body_markdown":"Can you show the code you have so far? Where are you stuck?","body":"Can you show the code you have so far? Where are you stuck?"},{"owner":{"account_id":25076104,"reputation":55,"user_id":18929521,"display_name":"itsacode001"},"score":0,"creation_date":1662418360,"post_id":73615215,"comment_id":129996453,"body_markdown":"@TimMoore Done! Please let me know if theres anything else, thanks for the reply!","body":"@TimMoore Done! Please let me know if theres anything else, thanks for the reply!"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1662418668,"post_id":73615215,"comment_id":129996499,"body_markdown":"Great. So, what does `inputData` contain at the end of the method? If you’re not sure, you can print it out.","body":"Great. So, what does <code>inputData</code> contain at the end of the method? If you’re not sure, you can print it out."},{"owner":{"account_id":25076104,"reputation":55,"user_id":18929521,"display_name":"itsacode001"},"score":0,"creation_date":1662422879,"post_id":73615215,"comment_id":129997001,"body_markdown":"@TimMoore Hello! The inputData string would holt he L&#39;s and R&#39;s","body":"@TimMoore Hello! The inputData string would holt he L&#39;s and R&#39;s"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1662422950,"post_id":73615215,"comment_id":129997008,"body_markdown":"Do you have more code following the line `initialPosition = input.nextInt();`?  Are you going to be getting a `String` from `input`? Do you know how to get one character from a `String`?","body":"Do you have more code following the line <code>initialPosition = input.nextInt();</code>?  Are you going to be getting a <code>String</code> from <code>input</code>? Do you know how to get one character from a <code>String</code>?"},{"owner":{"account_id":25076104,"reputation":55,"user_id":18929521,"display_name":"itsacode001"},"score":0,"creation_date":1662423050,"post_id":73615215,"comment_id":129997023,"body_markdown":"@James I do not have any further code. It would be asking for the input of a string like LRLRRLR and then it should go back and forth as it checks that string. Is that what you mean by get a character from a string?","body":"@James I do not have any further code. It would be asking for the input of a string like LRLRRLR and then it should go back and forth as it checks that string. Is that what you mean by get a character from a string?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1662423381,"post_id":73615215,"comment_id":129997080,"body_markdown":"Take a look at a [`Scanner` API](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html) page. Take a look at the `next` methods. You use your `Scanner` (called `input` in your program) to read a `String`.","body":"Take a look at a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\"><code>Scanner</code> API</a> page. Take a look at the <code>next</code> methods. You use your <code>Scanner</code> (called <code>input</code> in your program) to read a <code>String</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1662423514,"post_id":73615215,"comment_id":129997101,"body_markdown":"Here is a [`String` API](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html) page. One method that might interest you is `charAt(int index)`.","body":"Here is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code> API</a> page. One method that might interest you is <code>charAt(int index)</code>."},{"owner":{"account_id":25076104,"reputation":55,"user_id":18929521,"display_name":"itsacode001"},"score":0,"creation_date":1662427111,"post_id":73615215,"comment_id":129997546,"body_markdown":"@James thanks a ton! ill check into those now, i appreciate the resources!","body":"@James thanks a ton! ill check into those now, i appreciate the resources!"}],"answers":[{"tags":[],"owner":{"account_id":12948514,"reputation":501,"user_id":19926805,"display_name":"Steffen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662426706,"creation_date":1662426587,"answer_id":73615811,"question_id":73615215,"body_markdown":"The return value of Scanner.nextLine() is a String Object.\r\nYou can split up this String Object to a char array and check if the char is a &#39;L&#39;, &#39;R&#39;, or something else.\r\n\r\n\r\n    String cmds = &quot;RRRRRLLLRLRLLRLRLLRLLRLRL&quot;;\r\n    char[] cCmds = cmds.toCharArray();\r\n    int pos = 39;\r\n    for (char c : cCmds) {\r\n        switch (c) {\r\n            case &#39;L&#39; -&gt; pos--;\r\n            case &#39;R&#39; -&gt; pos++;\r\n            default -&gt; System.out.println(&quot;That was not an L or R...&quot;);\r\n        }\r\n    }\r\n    System.out.println(&quot;Position: &quot; + pos);\r\n\r\nNext step would now to add some conditions to check if the user input was too long or too short.\r\n\r\n    if (cmds.length() &gt; MAX_INPUT || cmds.length() &lt; MIN_INPUT) {\r\n        System.out.println(&quot;User input was too long or too short&quot;);\r\n        return;\r\n    }\r\n\r\nThe last step now is to check if you can move to another position each time if you want to move.\r\n\r\n     case &#39;L&#39; -&gt; { if (pos &gt; POS_MIN) pos--; }\r\n     case &#39;R&#39; -&gt; { if (pos &lt; POS_MAX) pos++; }\r\n\r\nAll in one, it would look like this (with Scanner):\r\n\r\n   \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Solution {\r\n    \r\n        static final int MIN_INPUT = 1;\r\n        static final int MAX_INPUT = 100;\r\n    \r\n        static final int POS_MIN = -10000;\r\n        static final int POS_MAX = 10000;\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Insert sequence of commands (L and R)&quot;);\r\n            Scanner input = new Scanner(System.in);\r\n            String cmds = input.nextLine();\r\n    \r\n            if (cmds.length() &gt; MAX_INPUT || cmds.length() &lt; MIN_INPUT) {\r\n                System.out.println(&quot;User input was too long or short&quot;);\r\n                return;\r\n            }\r\n    \r\n            System.out.println(&quot;Input starting position&quot;);\r\n            int pos = input.nextInt();\r\n    \r\n            char[] cCmds = cmds.toCharArray();\r\n            for (char c : cCmds) {\r\n                switch (c) {\r\n                    case &#39;L&#39; -&gt; { if (pos &gt; POS_MIN) pos--; }\r\n                    case &#39;R&#39; -&gt; { if (pos &lt; POS_MAX) pos++; }\r\n                    default -&gt; System.out.println(&quot;That was not an L or R...&quot;);\r\n                }\r\n            }\r\n            System.out.println(&quot;Position: &quot; + pos);\r\n        }\r\n    }\r\n\r\nKeep in mind to catch the exception which the Scanner Object can cause.\r\n(e.g. when scanner.nextInt() gets non Integer user input)\r\n\r\nAnd also add a check if the user input for the initial position is in the given range.","title":"How to take a string and read it for an array","body":"<p>The return value of Scanner.nextLine() is a String Object.\nYou can split up this String Object to a char array and check if the char is a 'L', 'R', or something else.</p>\n<pre><code>String cmds = &quot;RRRRRLLLRLRLLRLRLLRLLRLRL&quot;;\nchar[] cCmds = cmds.toCharArray();\nint pos = 39;\nfor (char c : cCmds) {\n    switch (c) {\n        case 'L' -&gt; pos--;\n        case 'R' -&gt; pos++;\n        default -&gt; System.out.println(&quot;That was not an L or R...&quot;);\n    }\n}\nSystem.out.println(&quot;Position: &quot; + pos);\n</code></pre>\n<p>Next step would now to add some conditions to check if the user input was too long or too short.</p>\n<pre><code>if (cmds.length() &gt; MAX_INPUT || cmds.length() &lt; MIN_INPUT) {\n    System.out.println(&quot;User input was too long or too short&quot;);\n    return;\n}\n</code></pre>\n<p>The last step now is to check if you can move to another position each time if you want to move.</p>\n<pre><code> case 'L' -&gt; { if (pos &gt; POS_MIN) pos--; }\n case 'R' -&gt; { if (pos &lt; POS_MAX) pos++; }\n</code></pre>\n<p>All in one, it would look like this (with Scanner):</p>\n<pre><code>import java.util.Scanner;\n\npublic class Solution {\n\n    static final int MIN_INPUT = 1;\n    static final int MAX_INPUT = 100;\n\n    static final int POS_MIN = -10000;\n    static final int POS_MAX = 10000;\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Insert sequence of commands (L and R)&quot;);\n        Scanner input = new Scanner(System.in);\n        String cmds = input.nextLine();\n\n        if (cmds.length() &gt; MAX_INPUT || cmds.length() &lt; MIN_INPUT) {\n            System.out.println(&quot;User input was too long or short&quot;);\n            return;\n        }\n\n        System.out.println(&quot;Input starting position&quot;);\n        int pos = input.nextInt();\n\n        char[] cCmds = cmds.toCharArray();\n        for (char c : cCmds) {\n            switch (c) {\n                case 'L' -&gt; { if (pos &gt; POS_MIN) pos--; }\n                case 'R' -&gt; { if (pos &lt; POS_MAX) pos++; }\n                default -&gt; System.out.println(&quot;That was not an L or R...&quot;);\n            }\n        }\n        System.out.println(&quot;Position: &quot; + pos);\n    }\n}\n</code></pre>\n<p>Keep in mind to catch the exception which the Scanner Object can cause.\n(e.g. when scanner.nextInt() gets non Integer user input)</p>\n<p>And also add a check if the user input for the initial position is in the given range.</p>\n"}],"owner":{"account_id":25076104,"reputation":55,"user_id":18929521,"display_name":"itsacode001"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73615811,"answer_count":1,"score":-1,"last_activity_date":1662426706,"creation_date":1662417523,"question_id":73615215,"body_markdown":"Im having trouble finding out how to read letters and turn them into numbers like -1 and 1.\r\nHere&#39;s the context:\r\n\r\nI&#39;m working on a word problem for my Java programming class. I&#39;m asked to create a program in Java that receives input of a number of &quot;L&quot;s or &quot;R&quot;s, short for left or right. For each L the program should go one spot back in an array, and for each R it should go one spot forward. Like if you start at 0, and get an input of RR, it should move to be at 2. Hopefully that makes sense, here&#39;s a diagram to hopefully clarify.[![Example array][1]][1]\r\n\r\nNow, what I don&#39;t understand is how to take the input from using Scanner(System.in) that gives me the L/R combination (eg. LLR) and turn that into the series of directions for the program (eg. -1,-1,+1). How do i specify that the input of an L is equal to going one space back? And vice versa for any R&#39;s input into the program?\r\n\r\nAny tips would be greatly appreciated, thanks a ton\r\n\r\nEdit: Heres the current code I have:\r\n\r\n    import java.io.*;\r\n        import java.util.*;\r\n        import java.text.*;\r\n        import java.math.*;\r\n        import java.util.regex.*;\r\n\r\n        public class Solution {\r\n            public static void main(String args[] ) throws Exception {\r\n                int max = 100;\r\n                int min = 1;\r\n                int posMax = 10000;\r\n                int posMin = -10000;\r\n                boolean dataExists = false;\r\n                \r\n                String inputData;\r\n                int initialPosition;\r\n                System.out.println(&quot;Insert sequence of commands (L and R)&quot;);\r\n                Scanner input = new Scanner(System.in);\r\n                inputData = input.nextLine();\r\n                System.out.println(&quot;Input starting position&quot;);\r\n                initialPosition = input.nextInt();\r\n                \r\n            }\r\n        }\r\n\r\nWhat it does it it defines the minimum and maximum commands (left and rights, which is 1-100) and the min and max positions which are -10000 and 10000. The next part would have been recieving the string of L&#39;s and R&#39;s and reading them to change the array but thats where im stuck.\r\n\r\n  [1]: https://i.stack.imgur.com/eUbMv.png","title":"How to take a string and read it for an array","body":"<p>Im having trouble finding out how to read letters and turn them into numbers like -1 and 1.\nHere's the context:</p>\n<p>I'm working on a word problem for my Java programming class. I'm asked to create a program in Java that receives input of a number of &quot;L&quot;s or &quot;R&quot;s, short for left or right. For each L the program should go one spot back in an array, and for each R it should go one spot forward. Like if you start at 0, and get an input of RR, it should move to be at 2. Hopefully that makes sense, here's a diagram to hopefully clarify.<a href=\"https://i.stack.imgur.com/eUbMv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eUbMv.png\" alt=\"Example array\" /></a></p>\n<p>Now, what I don't understand is how to take the input from using Scanner(System.in) that gives me the L/R combination (eg. LLR) and turn that into the series of directions for the program (eg. -1,-1,+1). How do i specify that the input of an L is equal to going one space back? And vice versa for any R's input into the program?</p>\n<p>Any tips would be greatly appreciated, thanks a ton</p>\n<p>Edit: Heres the current code I have:</p>\n<pre><code>import java.io.*;\n    import java.util.*;\n    import java.text.*;\n    import java.math.*;\n    import java.util.regex.*;\n\n    public class Solution {\n        public static void main(String args[] ) throws Exception {\n            int max = 100;\n            int min = 1;\n            int posMax = 10000;\n            int posMin = -10000;\n            boolean dataExists = false;\n            \n            String inputData;\n            int initialPosition;\n            System.out.println(&quot;Insert sequence of commands (L and R)&quot;);\n            Scanner input = new Scanner(System.in);\n            inputData = input.nextLine();\n            System.out.println(&quot;Input starting position&quot;);\n            initialPosition = input.nextInt();\n            \n        }\n    }\n</code></pre>\n<p>What it does it it defines the minimum and maximum commands (left and rights, which is 1-100) and the min and max positions which are -10000 and 10000. The next part would have been recieving the string of L's and R's and reading them to change the array but thats where im stuck.</p>\n"},{"tags":["java","xml","docker","maven"],"comments":[{"owner":{"account_id":25422667,"reputation":1,"user_id":19228325,"display_name":"Cody Wirth"},"score":0,"creation_date":1662426702,"post_id":73615788,"comment_id":129997482,"body_markdown":"This is in reference to this line in the dockerfile:  \n&gt; [10/13] COPY settings.xml /root/.m2/settings.xml:","body":"This is in reference to this line in the dockerfile:   &gt; [10/13] COPY settings.xml /root/.m2/settings.xml:"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1662434109,"post_id":73615788,"comment_id":129998433,"body_markdown":"That error message usually means the `settings.xml` file doesn&#39;t exist on the host in the same directory as the Dockerfile (depending on how exactly you&#39;re building the image).","body":"That error message usually means the <code>settings.xml</code> file doesn&#39;t exist on the host in the same directory as the Dockerfile (depending on how exactly you&#39;re building the image)."},{"owner":{"account_id":25422667,"reputation":1,"user_id":19228325,"display_name":"Cody Wirth"},"score":0,"creation_date":1662437948,"post_id":73615788,"comment_id":129998926,"body_markdown":"Yeah I understand that, there is just a particular and very complex config behind maven and docker in my opinion. It took me like 30 seconds to dockerize my node api.","body":"Yeah I understand that, there is just a particular and very complex config behind maven and docker in my opinion. It took me like 30 seconds to dockerize my node api."},{"owner":{"account_id":25422667,"reputation":1,"user_id":19228325,"display_name":"Cody Wirth"},"score":0,"creation_date":1662438020,"post_id":73615788,"comment_id":129998937,"body_markdown":"Because the steps you have to go through are create a non root user, create a working dir, edit your maven file, copy your target, source, and pom, login to non root, and then run the mvn clean","body":"Because the steps you have to go through are create a non root user, create a working dir, edit your maven file, copy your target, source, and pom, login to non root, and then run the mvn clean"},{"owner":{"account_id":25422667,"reputation":1,"user_id":19228325,"display_name":"Cody Wirth"},"score":0,"creation_date":1662438067,"post_id":73615788,"comment_id":129998946,"body_markdown":"And then there is the following command as well: docker run -v ~/.m2:/var/maven/.m2 -ti --rm -u 1000 -e MAVEN_CONFIG=/var/maven/.m2 maven:3.6.3-amazoncorretto-8 mvn -Duser.home=/var/maven paige-back:dev to properly run a maven project","body":"And then there is the following command as well: docker run -v ~/.m2:/var/maven/.m2 -ti --rm -u 1000 -e MAVEN_CONFIG=/var/maven/.m2 maven:3.6.3-amazoncorretto-8 mvn -Duser.home=/var/maven paige-back:dev to properly run a maven project"}],"owner":{"account_id":25422667,"reputation":1,"user_id":19228325,"display_name":"Cody Wirth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662426231,"creation_date":1662426231,"question_id":73615788,"body_markdown":"Running Into a problem with my Maven 3.6.3 Docker Build with Java SDK 8 where it cannot find the .m2/settings.xml file correctly. \r\n\r\nHere is the outputted error from the current docker build:\r\n\r\n------\r\n \r\nfailed to compute cache key: &quot;/settings.xml&quot; not found: not found\r\n\r\n------\r\n\r\nCould somebody please help me problem solve what the correct thing to do with altering and copying the settings file with the linux command would be like?\r\n\r\n```\r\n# Custom image from Maven on DockerHub\r\n# Language: dockerfile\r\nFROM maven:3.6.3-amazoncorretto-8\r\n\r\n# Set the working dir\r\nRUN mkdir -p /app\r\n\r\n# Create a non root user\r\nARG USERNAME=jefferson\r\nARG USER_UID=1000\r\nARG USER_GID=$USER_UID\r\n\r\n# Add linux dependenciesq\r\nRUN yum install wget -y\r\nRUN yum install shadow-utils -y\r\n\r\nENV MAVEN_CONFIG=/var/maven/.m2\r\n\r\n# Create the user\r\nRUN groupadd --gid $USER_GID $USERNAME \\\r\n    &amp;&amp; useradd --uid $USER_UID --gid $USER_GID -m $USERNAME \\\r\n    &amp;&amp; yum install sudo -y \\\r\n    &amp;&amp; echo $USERNAME ALL=\\(root\\) NOPASSWD:ALL &gt; /etc/sudoers.d/$USERNAME \\\r\n    &amp;&amp; chmod 600 /etc/sudoers.d/$USERNAME \\\r\n    &amp;&amp; sudo groupadd docker \\\r\n    &amp;&amp; sudo usermod -aG docker $USERNAME \\\r\n    &amp;&amp; newgrp docker \r\n\r\n# Change to the root folder and edit the settings.xml for Maven\r\nWORKDIR /var/maven/.m2\r\nRUN rm -rf settings.xml \\\r\n    &amp;&amp; chown $USER_UID:$USER_GID .\r\nRUN echo &#39;&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/0.0.0&quot; \\\r\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \\\r\nxsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 \\\r\nhttp://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt; \\\r\n&lt;/settings&gt;&#39; &gt;&gt; settings.xml\r\n\r\nRUN find -name &quot;settings.xml&quot;\r\n\r\nCOPY settings.xml /root/.m2/settings.xml\r\n\r\n\r\nCOPY pom.xml ./pom.xml\r\nCOPY src ./ ./\r\nCOPY . ./\r\n\r\nUSER $USERNAME\r\n\r\n# Run the application\r\nCMD [&quot;mvn&quot;, &quot;clean&quot;, &quot;verify&quot;, &quot;-Duser.home=/var/maven&quot;, &quot;-Pcargo.run&quot;, &quot;-X&quot;]\r\n```","title":"Cache Key Not Found &#39;settings.xml&#39; in DOCKER build","body":"<p>Running Into a problem with my Maven 3.6.3 Docker Build with Java SDK 8 where it cannot find the .m2/settings.xml file correctly.</p>\n<p>Here is the outputted error from the current docker build:</p>\n<hr />\n<p>failed to compute cache key: &quot;/settings.xml&quot; not found: not found</p>\n<hr />\n<p>Could somebody please help me problem solve what the correct thing to do with altering and copying the settings file with the linux command would be like?</p>\n<pre><code># Custom image from Maven on DockerHub\n# Language: dockerfile\nFROM maven:3.6.3-amazoncorretto-8\n\n# Set the working dir\nRUN mkdir -p /app\n\n# Create a non root user\nARG USERNAME=jefferson\nARG USER_UID=1000\nARG USER_GID=$USER_UID\n\n# Add linux dependenciesq\nRUN yum install wget -y\nRUN yum install shadow-utils -y\n\nENV MAVEN_CONFIG=/var/maven/.m2\n\n# Create the user\nRUN groupadd --gid $USER_GID $USERNAME \\\n    &amp;&amp; useradd --uid $USER_UID --gid $USER_GID -m $USERNAME \\\n    &amp;&amp; yum install sudo -y \\\n    &amp;&amp; echo $USERNAME ALL=\\(root\\) NOPASSWD:ALL &gt; /etc/sudoers.d/$USERNAME \\\n    &amp;&amp; chmod 600 /etc/sudoers.d/$USERNAME \\\n    &amp;&amp; sudo groupadd docker \\\n    &amp;&amp; sudo usermod -aG docker $USERNAME \\\n    &amp;&amp; newgrp docker \n\n# Change to the root folder and edit the settings.xml for Maven\nWORKDIR /var/maven/.m2\nRUN rm -rf settings.xml \\\n    &amp;&amp; chown $USER_UID:$USER_GID .\nRUN echo '&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/0.0.0&quot; \\\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \\\nxsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 \\\nhttp://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt; \\\n&lt;/settings&gt;' &gt;&gt; settings.xml\n\nRUN find -name &quot;settings.xml&quot;\n\nCOPY settings.xml /root/.m2/settings.xml\n\n\nCOPY pom.xml ./pom.xml\nCOPY src ./ ./\nCOPY . ./\n\nUSER $USERNAME\n\n# Run the application\nCMD [&quot;mvn&quot;, &quot;clean&quot;, &quot;verify&quot;, &quot;-Duser.home=/var/maven&quot;, &quot;-Pcargo.run&quot;, &quot;-X&quot;]\n</code></pre>\n"},{"tags":["java","json","jackson","polymorphism","objectmapper"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1656589683,"post_id":72815002,"comment_id":128612914,"body_markdown":"From javadoc of [@JsonUnwrapped](https://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonUnwrapped.html) - **Will not work with polymorphic type handling (&quot;polymorphic deserialization&quot;)**. I guess your only option is writing custom serializer/deserializer.","body":"From javadoc of <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonUnwrapped.html\" rel=\"nofollow noreferrer\">@JsonUnwrapped</a> - <b>Will not work with polymorphic type handling (&quot;polymorphic deserialization&quot;)</b>. I guess your only option is writing custom serializer/deserializer."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1656590151,"post_id":72815002,"comment_id":128613083,"body_markdown":"Thanks for the suggestion. A custom serializer for the specific property `product` or for the class `Cart`?","body":"Thanks for the suggestion. A custom serializer for the specific property <code>product</code> or for the class <code>Cart</code>?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1656591726,"post_id":72815002,"comment_id":128613679,"body_markdown":"Probably for Cart will be easier, but both look complicated to me. Simplest solution i can think of would be to change type info inclusion to something else, for example `JsonTypeInfo.As.PROPERTY`, like this there won&#39;t be any wrapper object in the first place.","body":"Probably for Cart will be easier, but both look complicated to me. Simplest solution i can think of would be to change type info inclusion to something else, for example <code>JsonTypeInfo.As.PROPERTY</code>, like this there won&#39;t be any wrapper object in the first place."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1656592512,"post_id":72815002,"comment_id":128614012,"body_markdown":"I already tried `JsonTypeInfo.As.PROPERTY` but the `product` property is still there with a `@type` field.","body":"I already tried <code>JsonTypeInfo.As.PROPERTY</code> but the <code>product</code> property is still there with a <code>@type</code> field."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1656593910,"post_id":72815002,"comment_id":128614541,"body_markdown":"Yes, `product` is there, but there is no nested object inside it, only the properties + the type property.","body":"Yes, <code>product</code> is there, but there is no nested object inside it, only the properties + the type property."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1656597316,"post_id":72815002,"comment_id":128616056,"body_markdown":"I found another solution using `@JsonAnyGetter`, it avoids creating an custom serializer","body":"I found another solution using <code>@JsonAnyGetter</code>, it avoids creating an custom serializer"}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656594232,"creation_date":1656594232,"answer_id":72816327,"question_id":72815002,"body_markdown":"As mentioned in the comments, you have to use a custom serializer to implement that.\r\n\r\nThe following serializer implementation should work as expected.\r\n\r\n    public class CustomSerializer extends JsonSerializer&lt;Cart&gt; {\r\n        @Override\r\n        public void serialize(Cart cart, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n            final Object product = cart.getProduct();\r\n            Class&lt;?&gt; responseClass = product.getClass();\r\n            JavaType responseJavaType = serializers.constructType(responseClass);\r\n            gen.writeStartObject();\r\n            gen.writeFieldName(serializers.findTypeSerializer(responseJavaType).getTypeIdResolver().idFromValue(product));\r\n            serializers.findValueSerializer(responseClass).serialize(product, gen, serializers);\r\n            /* Here you must manually serialize other properties */\r\n            gen.writeObjectField(&quot;id&quot;, cart.getId());\r\n            gen.writeEndObject();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nAnd you need to set this seriliazer for your Cart class :\r\n\r\n    @JsonSerialize(using = CustomSerializer.class)\r\n    public class Cart {\r\n    ...\r\n    \r\n    }","title":"Jackson polymorphic serialization: how to remove super type property wrapper?","body":"<p>As mentioned in the comments, you have to use a custom serializer to implement that.</p>\n<p>The following serializer implementation should work as expected.</p>\n<pre><code>public class CustomSerializer extends JsonSerializer&lt;Cart&gt; {\n    @Override\n    public void serialize(Cart cart, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        final Object product = cart.getProduct();\n        Class&lt;?&gt; responseClass = product.getClass();\n        JavaType responseJavaType = serializers.constructType(responseClass);\n        gen.writeStartObject();\n        gen.writeFieldName(serializers.findTypeSerializer(responseJavaType).getTypeIdResolver().idFromValue(product));\n        serializers.findValueSerializer(responseClass).serialize(product, gen, serializers);\n        /* Here you must manually serialize other properties */\n        gen.writeObjectField(&quot;id&quot;, cart.getId());\n        gen.writeEndObject();\n    }\n\n\n}\n</code></pre>\n<p>And you need to set this seriliazer for your Cart class :</p>\n<pre><code>@JsonSerialize(using = CustomSerializer.class)\npublic class Cart {\n...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656598580,"creation_date":1656598580,"answer_id":72817397,"question_id":72815002,"body_markdown":"To complete @Nemanja&#39;s answer, I found a simpler solution using `@JsonAnyGetter`: \r\n```\r\npublic class Cart {\r\n   private long id;\r\n   private LocalDateTime date;\r\n   @JsonIgnore\r\n   private Product product;\r\n\r\n   @JsonAnyGetter\r\n   Map&lt;String, Product&gt; determineProduct(){\r\n     if (this.product instanceof FlyingCar){\r\n       return Map.of(&quot;flying_car&quot;, this.product);\r\n     }\r\n     ....other type checking\r\n  }\r\n}\r\n```\r\nIt&#39;s a bit simpler and we don&#39;t have to define a custom serializer","title":"Jackson polymorphic serialization: how to remove super type property wrapper?","body":"<p>To complete @Nemanja's answer, I found a simpler solution using <code>@JsonAnyGetter</code>:</p>\n<pre><code>public class Cart {\n   private long id;\n   private LocalDateTime date;\n   @JsonIgnore\n   private Product product;\n\n   @JsonAnyGetter\n   Map&lt;String, Product&gt; determineProduct(){\n     if (this.product instanceof FlyingCar){\n       return Map.of(&quot;flying_car&quot;, this.product);\n     }\n     ....other type checking\n  }\n}\n</code></pre>\n<p>It's a bit simpler and we don't have to define a custom serializer</p>\n"},{"tags":[],"owner":{"account_id":1954202,"reputation":992,"user_id":1757618,"display_name":"PQuinn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662425576,"creation_date":1662425576,"answer_id":73615744,"question_id":72815002,"body_markdown":"Had the exact problem. Used a slightly cleaner update to @akuma8&#39;s `@JsonAnyGetter`. Put `@JsonTypeName` on your polymorphic classes and read it in the getter for less code maintenance.\r\n```\r\n@JsonAnyGetter\r\npublic Map&lt;String, Product&gt; determineProduct() {\r\n    JsonTypeName[] typeName = this.product.getClass().getDeclaredAnnotationsByType(JsonTypeName.class);\r\n    if (typeName.length &gt; 0) {\r\n        return ImmutableMap.of(typeName[0].value(), this.product);\r\n    }\r\n    return Collections.emptyMap();\r\n}\r\n```","title":"Jackson polymorphic serialization: how to remove super type property wrapper?","body":"<p>Had the exact problem. Used a slightly cleaner update to @akuma8's <code>@JsonAnyGetter</code>. Put <code>@JsonTypeName</code> on your polymorphic classes and read it in the getter for less code maintenance.</p>\n<pre><code>@JsonAnyGetter\npublic Map&lt;String, Product&gt; determineProduct() {\n    JsonTypeName[] typeName = this.product.getClass().getDeclaredAnnotationsByType(JsonTypeName.class);\n    if (typeName.length &gt; 0) {\n        return ImmutableMap.of(typeName[0].value(), this.product);\n    }\n    return Collections.emptyMap();\n}\n</code></pre>\n"}],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72817397,"answer_count":3,"score":2,"last_activity_date":1662425576,"creation_date":1656588596,"question_id":72815002,"body_markdown":"I have this situation: \r\n```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = FlyingCar.class, name = &quot;flying_car&quot;),\r\n        @JsonSubTypes.Type(value = WaterProofPhone.class, name = &quot;water_proof_phone&quot;),\r\n        @JsonSubTypes.Type(value = ElectricBicycle.class, name = &quot;electric_bicycle&quot;)\r\n})\r\npublic abstract class Product {\r\n}\r\n```\r\nand every subclass is defined like: \r\n```\r\n@JsonTypeName(&quot;flying_car&quot;)\r\npublic class FlyingCar extends Product {\r\n     private double verticalSpeed; \r\n     private String name;\r\n}\r\n```\r\nWhen I serialize the class below, I would like to not include a `product` property in the json: \r\n```\r\npublic class Cart {\r\n   private long id;\r\n   private LocalDateTime date;\r\n   private Product product;\r\n}\r\n```\r\nExample serializing this configuration:\r\n```\r\nProduct product = new FlyingCar(123.5,&quot;StarShip&quot;);\r\nCart cart = new Cart();\r\ncart.setProduct(product);\r\n\r\nString json = objectMapper.writeValueAsString(cart);\r\n```\r\nProduces this json: \r\n```\r\n{\r\n  &quot;id&quot;:..,\r\n  &quot;product&quot;: { &lt;--- How can I remove this wrapper ?\r\n    &quot;flying_car&quot;:{\r\n      &quot;vertical_speed&quot;: 123.5,\r\n      &quot;name&quot;: &quot;StarShip&quot;\r\n    }\r\n  }\r\n}\r\n```\r\nHow to simply have a json like this, without the supertype wrapper?\r\n```\r\n{\r\n  &quot;id&quot;:..,\r\n  &quot;flying_car&quot;:{\r\n      &quot;vertical_speed&quot;: 123.5,\r\n      &quot;name&quot;: &quot;StarShip&quot;\r\n   }\r\n}\r\n```\r\nI tried the `@JsonUnwrapped` on `product` but it does not work as expected.\r\n\r\nThanks for your help","title":"Jackson polymorphic serialization: how to remove super type property wrapper?","body":"<p>I have this situation:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = FlyingCar.class, name = &quot;flying_car&quot;),\n        @JsonSubTypes.Type(value = WaterProofPhone.class, name = &quot;water_proof_phone&quot;),\n        @JsonSubTypes.Type(value = ElectricBicycle.class, name = &quot;electric_bicycle&quot;)\n})\npublic abstract class Product {\n}\n</code></pre>\n<p>and every subclass is defined like:</p>\n<pre><code>@JsonTypeName(&quot;flying_car&quot;)\npublic class FlyingCar extends Product {\n     private double verticalSpeed; \n     private String name;\n}\n</code></pre>\n<p>When I serialize the class below, I would like to not include a <code>product</code> property in the json:</p>\n<pre><code>public class Cart {\n   private long id;\n   private LocalDateTime date;\n   private Product product;\n}\n</code></pre>\n<p>Example serializing this configuration:</p>\n<pre><code>Product product = new FlyingCar(123.5,&quot;StarShip&quot;);\nCart cart = new Cart();\ncart.setProduct(product);\n\nString json = objectMapper.writeValueAsString(cart);\n</code></pre>\n<p>Produces this json:</p>\n<pre><code>{\n  &quot;id&quot;:..,\n  &quot;product&quot;: { &lt;--- How can I remove this wrapper ?\n    &quot;flying_car&quot;:{\n      &quot;vertical_speed&quot;: 123.5,\n      &quot;name&quot;: &quot;StarShip&quot;\n    }\n  }\n}\n</code></pre>\n<p>How to simply have a json like this, without the supertype wrapper?</p>\n<pre><code>{\n  &quot;id&quot;:..,\n  &quot;flying_car&quot;:{\n      &quot;vertical_speed&quot;: 123.5,\n      &quot;name&quot;: &quot;StarShip&quot;\n   }\n}\n</code></pre>\n<p>I tried the <code>@JsonUnwrapped</code> on <code>product</code> but it does not work as expected.</p>\n<p>Thanks for your help</p>\n"},{"tags":["java","cassandra","gremlin","datastax-enterprise","datastax-java-driver"],"comments":[{"owner":{"account_id":1494758,"reputation":3565,"user_id":1457059,"accept_rate":68,"display_name":"Filipe Teixeira"},"score":0,"creation_date":1467747627,"post_id":38209354,"comment_id":63846701,"body_markdown":"Have you considered doing a breadth first search ? [This](http://stackoverflow.com/a/17833088/1457059) shows quite a nifty approach. It would be simple to pass that gremlin query into DSE graph.","body":"Have you considered doing a breadth first search ? <a href=\"http://stackoverflow.com/a/17833088/1457059\">This</a> shows quite a nifty approach. It would be simple to pass that gremlin query into DSE graph."},{"owner":{"account_id":7072910,"reputation":199,"user_id":5413934,"accept_rate":75,"display_name":"Josef Bauer"},"score":0,"creation_date":1467793933,"post_id":38209354,"comment_id":63861831,"body_markdown":"Thanks @Fido. But the problem I have is not how to get the graph (that works fine with the second query) but how to work with it with the Java Driver. Because what I get back is a `GraphNode` that has a flat `Map` containing all vertices and edges. So I lose all the important relations between the vertices. What I expected is something like `node.getOutEdges().forEach(edge -&gt; edge.getInVertices())` and so on. So my main problem is how to work with the Java Driver properly. I am quite new to gremlin but I think I understood it so far, but I can&#39;t transfer it to Java as I expected.","body":"Thanks @Fido. But the problem I have is not how to get the graph (that works fine with the second query) but how to work with it with the Java Driver. Because what I get back is a <code>GraphNode</code> that has a flat <code>Map</code> containing all vertices and edges. So I lose all the important relations between the vertices. What I expected is something like <code>node.getOutEdges().forEach(edge -&gt; edge.getInVertices())</code> and so on. So my main problem is how to work with the Java Driver properly. I am quite new to gremlin but I think I understood it so far, but I can&#39;t transfer it to Java as I expected."},{"owner":{"account_id":303196,"reputation":10864,"user_id":612000,"display_name":"Daniel Kuppitz"},"score":0,"creation_date":1467805640,"post_id":38209354,"comment_id":63868459,"body_markdown":"What is the ultimate result you&#39;re looking for? It sounds like you won&#39;t even need the paths, but only certain properties, that you&#39;re then going to accumulate.","body":"What is the ultimate result you&#39;re looking for? It sounds like you won&#39;t even need the paths, but only certain properties, that you&#39;re then going to accumulate."},{"owner":{"account_id":7072910,"reputation":199,"user_id":5413934,"accept_rate":75,"display_name":"Josef Bauer"},"score":0,"creation_date":1467810362,"post_id":38209354,"comment_id":63871406,"body_markdown":"@DanielKuppitz: I&#39;ve updated my question. I hope now it is clearer what I have to accomplish. But maybe you are right and I can achieve that with a sophisticated gremlin statement. In that case I have to learn more about gremlin I fear :)","body":"@DanielKuppitz: I&#39;ve updated my question. I hope now it is clearer what I have to accomplish. But maybe you are right and I can achieve that with a sophisticated gremlin statement. In that case I have to learn more about gremlin I fear :)"},{"owner":{"account_id":303196,"reputation":10864,"user_id":612000,"display_name":"Daniel Kuppitz"},"score":0,"creation_date":1467810733,"post_id":38209354,"comment_id":63871653,"body_markdown":"Thanks, the update makes it clearer. Still one question though: In the result you only expect B and its value 1516.67. C is not included, because it has no child nodes and other nodes are not included, because they are no direct children of A. Are my assumptions correct?","body":"Thanks, the update makes it clearer. Still one question though: In the result you only expect B and its value 1516.67. C is not included, because it has no child nodes and other nodes are not included, because they are no direct children of A. Are my assumptions correct?"},{"owner":{"account_id":7072910,"reputation":199,"user_id":5413934,"accept_rate":75,"display_name":"Josef Bauer"},"score":0,"creation_date":1467812135,"post_id":38209354,"comment_id":63872580,"body_markdown":"Sorry, I was too lazy to complete the calculation :) You are right, nodes like **Z** are not included because they are not a child of **A**. But **C** also has to be included into the calculation. So the combined value of **A** would be `combined value of B plus C`. **A** == 2516.67","body":"Sorry, I was too lazy to complete the calculation :) You are right, nodes like <b>Z</b> are not included because they are not a child of <b>A</b>. But <b>C</b> also has to be included into the calculation. So the combined value of <b>A</b> would be <code>combined value of B plus C</code>. <b>A</b> == 2516.67"}],"answers":[{"tags":[],"owner":{"account_id":303196,"reputation":10864,"user_id":612000,"display_name":"Daniel Kuppitz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467884207,"creation_date":1467817560,"answer_id":38227401,"question_id":38209354,"body_markdown":"Even after reading the comments over and over again, I&#39;m confused by the logic when I try to find a solution using a single query. Hence it&#39;s probably best to just tell you how to get a tree representation:\r\n\r\n    g.V().has(&#39;id&#39;,&#39;1&#39;).repeat(outE().as(&quot;e&quot;).inV()).emit(__.not(outE())).tree()\r\n\r\nIf you only need certain information (e.g. the `value` property of vertices and the `weight` property of edges), you can do this:\r\n\r\n    g.V().has(&#39;id&#39;,&#39;1&#39;).\r\n      repeat(outE().as(&quot;e&quot;).inV()).emit(__.not(outE())).\r\n      tree().by(&quot;value&quot;).by(&quot;weight&quot;)\r\n\r\nAnd since vertex `A` doesn&#39;t seem to have a `value` property, you&#39;ll need to add a `coalesce` step:\r\n\r\n    g.V().has(&#39;id&#39;,&#39;1&#39;).\r\n      repeat(outE().as(&quot;e&quot;).inV()).emit(__.not(outE())).\r\n      tree().by(coalesce(values(&quot;value&quot;), constant(0))).by(&quot;weight&quot;)\r\n\r\n\r\n**UPDATE**\r\n\r\nIn case I need to play with the sample graph later again, here&#39;s the code to create it:\r\n\r\n    g = TinkerGraph.open().traversal()\r\n    g.addV().property(id, &quot;A&quot;).as(&quot;a&quot;).\r\n      addV().property(id, &quot;B&quot;).property(&quot;value&quot;, 100).as(&quot;b&quot;).\r\n      addV().property(id, &quot;C&quot;).property(&quot;value&quot;, 200).as(&quot;c&quot;).\r\n      addV().property(id, &quot;D&quot;).property(&quot;value&quot;, 500).as(&quot;d&quot;).\r\n      addV().property(id, &quot;E&quot;).property(&quot;value&quot;, 1000).as(&quot;e&quot;).\r\n      addV().property(id, &quot;Z&quot;).property(&quot;value&quot;, 900).as(&quot;z&quot;).\r\n      addE(&quot;link&quot;).from(&quot;a&quot;).to(&quot;b&quot;).property(&quot;weight&quot;, 80).\r\n      addE(&quot;link&quot;).from(&quot;a&quot;).to(&quot;c&quot;).property(&quot;weight&quot;, 20).\r\n      addE(&quot;link&quot;).from(&quot;b&quot;).to(&quot;d&quot;).property(&quot;weight&quot;, 50).\r\n      addE(&quot;link&quot;).from(&quot;b&quot;).to(&quot;e&quot;).property(&quot;weight&quot;, 40).\r\n      addE(&quot;link&quot;).from(&quot;z&quot;).to(&quot;d&quot;).property(&quot;weight&quot;, 10).iterate()","title":"DSE Graph with Java Driver, how to walk through a graph (like a tree)","body":"<p>Even after reading the comments over and over again, I'm confused by the logic when I try to find a solution using a single query. Hence it's probably best to just tell you how to get a tree representation:</p>\n\n<pre><code>g.V().has('id','1').repeat(outE().as(\"e\").inV()).emit(__.not(outE())).tree()\n</code></pre>\n\n<p>If you only need certain information (e.g. the <code>value</code> property of vertices and the <code>weight</code> property of edges), you can do this:</p>\n\n<pre><code>g.V().has('id','1').\n  repeat(outE().as(\"e\").inV()).emit(__.not(outE())).\n  tree().by(\"value\").by(\"weight\")\n</code></pre>\n\n<p>And since vertex <code>A</code> doesn't seem to have a <code>value</code> property, you'll need to add a <code>coalesce</code> step:</p>\n\n<pre><code>g.V().has('id','1').\n  repeat(outE().as(\"e\").inV()).emit(__.not(outE())).\n  tree().by(coalesce(values(\"value\"), constant(0))).by(\"weight\")\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>In case I need to play with the sample graph later again, here's the code to create it:</p>\n\n<pre><code>g = TinkerGraph.open().traversal()\ng.addV().property(id, \"A\").as(\"a\").\n  addV().property(id, \"B\").property(\"value\", 100).as(\"b\").\n  addV().property(id, \"C\").property(\"value\", 200).as(\"c\").\n  addV().property(id, \"D\").property(\"value\", 500).as(\"d\").\n  addV().property(id, \"E\").property(\"value\", 1000).as(\"e\").\n  addV().property(id, \"Z\").property(\"value\", 900).as(\"z\").\n  addE(\"link\").from(\"a\").to(\"b\").property(\"weight\", 80).\n  addE(\"link\").from(\"a\").to(\"c\").property(\"weight\", 20).\n  addE(\"link\").from(\"b\").to(\"d\").property(\"weight\", 50).\n  addE(\"link\").from(\"b\").to(\"e\").property(\"weight\", 40).\n  addE(\"link\").from(\"z\").to(\"d\").property(\"weight\", 10).iterate()\n</code></pre>\n"}],"owner":{"account_id":7072910,"reputation":199,"user_id":5413934,"accept_rate":75,"display_name":"Josef Bauer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662425488,"creation_date":1467739972,"question_id":38209354,"body_markdown":"I have a subgraph where I know how to come to the root vertex. But then I need to walk through it.\r\n\r\nConcretely &quot;walk through the subgraph&quot; in my case means that I have to walk to all leafs of the subgraph (because I know that the subgraph is like a tree) and then go the path back and do some calculations between every vertex.\r\n\r\nMy question is, how to achieve that in the most performant way?\r\n\r\nI can think about two solutions. \r\n\r\nFirst, I walk through the graph with plenty of `session.executeGraph(&quot;g.V().has(&#39;id&#39;,&#39;1&#39;)&quot;).one()` statements to get all the single vertices and edges and do the calculations with them. But I think this way is very inefficient.\r\n\r\nOr I work with the path object that I can get with\r\n\r\n    GraphNode node = session.executeGraph(&quot;g.V().has(&#39;id&#39;,&#39;1&#39;).repeat(outE().subgraph(&#39;sg&#39;).otherV()).cap(&#39;sg&#39;).path()&quot;).one();\r\n    Path path = node.asPath();\r\n\r\nI am quite sure, the second solution is the preferred one but I have no clue how to use the path object to walk through the graph because the only thing I can see is a flat map of objects.\r\n\r\n&lt;h1&gt;Update #1&lt;/h1&gt;\r\n[![][1]][1]\r\n\r\nHere is a picture of an example tree. The goal, I need the &quot;combined value&quot; for node A. The rules are quite simple. The nodes (except the root) has values. The edges has weightings. I have to sum all values regarding the weights. As long as a child has only one parent I can take the complete value. In case a child has multiple parents, I have to take the weighting into account. In the example tree, the combined value of **B** would be\r\n`100 + (500 * 50/60) + 1000` and the combined value of **A** would be `combined value of B plus value of C` (**A** == 2156.67). So, I need properties from the vertices and the edges for the calculation.\r\n\r\n&lt;h1&gt;Update #2&lt;/h1&gt;\r\nSo, here is my solution.\r\n\r\nI&#39;ve implemented an abstract Tree class that is doing the actual calculation (because I also have a mock implementation).\r\n\r\n    public abstract class Tree {\r\n    \t// String == item id\r\n    \tprotected final Map&lt;String, Item&gt; items = new HashMap&lt;&gt;();\r\n    \tprivate final String rootItemId;\r\n    \r\n    \tprotected Tree(String rootItemId) {\r\n    \t\tthis.rootItemId = rootItemId;\r\n    \t}\r\n    \r\n    \tpublic void accumulateExpenses() {\r\n    \t\taccumulateExpenses(null, null);\r\n    \t}\r\n    \r\n    \tprivate double accumulateExpenses(String itemId, String parentItemId) {\r\n    \t\tfinal Item item = itemId == null ? items.get(rootItemId) : items.get(itemId);\r\n    \t\tfinal double expense = item.getExpense();\r\n    \t\tdouble childExpenses = 0;\r\n    \t\t\r\n    \t\tfor (String childId : item.getChildIds()) {\r\n    \t\t\tchildExpenses += accumulateExpenses(childId, item.getId());\r\n    \t\t}\r\n    \r\n    \t\t// calculate the percentage in case the item has multiple parents\r\n    \t\tfinal double percentage = item.getPercentage(parentItemId);\r\n    \t\tfinal double accumulatedExpenses = percentage * (expense + childExpenses);\r\n    \t\titem.setAccumulatedExpense(accumulatedExpenses);\r\n    \t\t\r\n    \t\treturn accumulatedExpenses;\r\n    \t}\r\n    }\r\n\r\nAnd I&#39;ve implemented a GraphTree class that is responsible to fill the item map of the super class (abstract tree).\r\n\r\n    public class GraphTree extends Tree {\r\n    \tpublic GraphTree(GraphNode graphNode, String rootNodeId) {\r\n    \t\tsuper(rootNodeId);\r\n    \r\n    \t\tfinal GraphNode vertices = graphNode.get(&quot;vertices&quot;);\r\n    \t\tfinal GraphNode edges = graphNode.get(&quot;edges&quot;);\r\n    \r\n    \t\tfor (int i = 0; i &lt; vertices.size(); i++) {\r\n    \t\t\tfinal Vertex vertex = vertices.get(i).asVertex();\r\n    \t\t\tfinal Item item = Item.fromVertex(vertex);\r\n    \t\t\tsuper.items.put(item.getId(), item);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; edges.size(); i++) {\r\n    \t\t\tfinal Edge edge = edges.get(i).asEdge();\r\n    \t\t\tfinal Relation relation = Relation.fromEdge(edge);\r\n    \t\t\tsuper.items.get(relation.getParentId()).getRelations().add(relation);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nFor sake of completeness, here is also the Item class.\r\n\r\n    public class Item {\r\n    \tprivate String id;\r\n    \tprivate double accumulatedExpense;\r\n    \tprivate final List&lt;Relation&gt; relations = new ArrayList&lt;&gt;();\r\n    \tprivate final Map&lt;String, Expense&gt; expenses = new HashMap&lt;&gt;();\r\n    \r\n    \tpublic void setAccumulatedExpense(double accumulatedExpense) {\r\n    \t\tthis.accumulatedExpense = accumulatedExpense;\r\n    \t}\r\n    \r\n    \tpublic double getPercentage(String parentId) {\r\n    \t\tif (parentId == null) {\r\n    \t\t\treturn 1;\r\n    \t\t}\r\n    \r\n    \t\tdouble totalWeight = 1;\r\n    \t\tdouble weight = 1;\r\n    \r\n    \t\tfor (Relation relation : relations) {\r\n    \t\t\tif (Objects.equals(id, relation.getChildId())) {\r\n    \t\t\t\ttotalWeight += relation.getWeight();\r\n    \t\t\t\tif (Objects.equals(parentId, relation.getParentId())) {\r\n    \t\t\t\t\tweight = relation.getWeight();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn weight / totalWeight;\r\n    \t}\r\n    \r\n        public static Item fromVertex(Vertex vertex) {\r\n            final Item item = new Item();\r\n    \t    item.setId(IdGenerator.generate(vertex));\r\n    \t\t\r\n            return item;\r\n        }\r\n    \r\n        public List&lt;String&gt; getChildIds() {\r\n    \t\treturn relations.parallelStream()\r\n    \t\t\t       .filter(relation -&gt; Objects.equals(relation.getParentId(),id))\r\n    \t\t\t       .map(Relation::getChildId)\r\n    \t\t\t       .collect(Collectors.toList());\r\n    \t}\r\n    }\r\n\r\nTo get the initial subgraph, I&#39;ve used the following code.\r\n\r\n\t\tfinal String statement = String.format(&quot;g.V(&#39;%s&#39;).repeat(outE().subgraph(&#39;sg&#39;).otherV()).cap(&#39;sg&#39;)&quot;, rootNodeId);\r\n\t\tfinal GraphNode node = session.executeGraph(statement).one();\r\n\r\n  [1]: http://i.stack.imgur.com/9nL4T.png","title":"DSE Graph with Java Driver, how to walk through a graph (like a tree)","body":"<p>I have a subgraph where I know how to come to the root vertex. But then I need to walk through it.</p>\n\n<p>Concretely \"walk through the subgraph\" in my case means that I have to walk to all leafs of the subgraph (because I know that the subgraph is like a tree) and then go the path back and do some calculations between every vertex.</p>\n\n<p>My question is, how to achieve that in the most performant way?</p>\n\n<p>I can think about two solutions. </p>\n\n<p>First, I walk through the graph with plenty of <code>session.executeGraph(\"g.V().has('id','1')\").one()</code> statements to get all the single vertices and edges and do the calculations with them. But I think this way is very inefficient.</p>\n\n<p>Or I work with the path object that I can get with</p>\n\n<pre><code>GraphNode node = session.executeGraph(\"g.V().has('id','1').repeat(outE().subgraph('sg').otherV()).cap('sg').path()\").one();\nPath path = node.asPath();\n</code></pre>\n\n<p>I am quite sure, the second solution is the preferred one but I have no clue how to use the path object to walk through the graph because the only thing I can see is a flat map of objects.</p>\n\n<h1>Update #1</h1>\n\n<p><a href=\"https://i.stack.imgur.com/9nL4T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9nL4T.png\" alt=\"\"></a></p>\n\n<p>Here is a picture of an example tree. The goal, I need the \"combined value\" for node A. The rules are quite simple. The nodes (except the root) has values. The edges has weightings. I have to sum all values regarding the weights. As long as a child has only one parent I can take the complete value. In case a child has multiple parents, I have to take the weighting into account. In the example tree, the combined value of <strong>B</strong> would be\n<code>100 + (500 * 50/60) + 1000</code> and the combined value of <strong>A</strong> would be <code>combined value of B plus value of C</code> (<strong>A</strong> == 2156.67). So, I need properties from the vertices and the edges for the calculation.</p>\n\n<h1>Update #2</h1>\n\n<p>So, here is my solution.</p>\n\n<p>I've implemented an abstract Tree class that is doing the actual calculation (because I also have a mock implementation).</p>\n\n<pre><code>public abstract class Tree {\n    // String == item id\n    protected final Map&lt;String, Item&gt; items = new HashMap&lt;&gt;();\n    private final String rootItemId;\n\n    protected Tree(String rootItemId) {\n        this.rootItemId = rootItemId;\n    }\n\n    public void accumulateExpenses() {\n        accumulateExpenses(null, null);\n    }\n\n    private double accumulateExpenses(String itemId, String parentItemId) {\n        final Item item = itemId == null ? items.get(rootItemId) : items.get(itemId);\n        final double expense = item.getExpense();\n        double childExpenses = 0;\n\n        for (String childId : item.getChildIds()) {\n            childExpenses += accumulateExpenses(childId, item.getId());\n        }\n\n        // calculate the percentage in case the item has multiple parents\n        final double percentage = item.getPercentage(parentItemId);\n        final double accumulatedExpenses = percentage * (expense + childExpenses);\n        item.setAccumulatedExpense(accumulatedExpenses);\n\n        return accumulatedExpenses;\n    }\n}\n</code></pre>\n\n<p>And I've implemented a GraphTree class that is responsible to fill the item map of the super class (abstract tree).</p>\n\n<pre><code>public class GraphTree extends Tree {\n    public GraphTree(GraphNode graphNode, String rootNodeId) {\n        super(rootNodeId);\n\n        final GraphNode vertices = graphNode.get(\"vertices\");\n        final GraphNode edges = graphNode.get(\"edges\");\n\n        for (int i = 0; i &lt; vertices.size(); i++) {\n            final Vertex vertex = vertices.get(i).asVertex();\n            final Item item = Item.fromVertex(vertex);\n            super.items.put(item.getId(), item);\n        }\n\n        for (int i = 0; i &lt; edges.size(); i++) {\n            final Edge edge = edges.get(i).asEdge();\n            final Relation relation = Relation.fromEdge(edge);\n            super.items.get(relation.getParentId()).getRelations().add(relation);\n        }\n    }\n}\n</code></pre>\n\n<p>For sake of completeness, here is also the Item class.</p>\n\n<pre><code>public class Item {\n    private String id;\n    private double accumulatedExpense;\n    private final List&lt;Relation&gt; relations = new ArrayList&lt;&gt;();\n    private final Map&lt;String, Expense&gt; expenses = new HashMap&lt;&gt;();\n\n    public void setAccumulatedExpense(double accumulatedExpense) {\n        this.accumulatedExpense = accumulatedExpense;\n    }\n\n    public double getPercentage(String parentId) {\n        if (parentId == null) {\n            return 1;\n        }\n\n        double totalWeight = 1;\n        double weight = 1;\n\n        for (Relation relation : relations) {\n            if (Objects.equals(id, relation.getChildId())) {\n                totalWeight += relation.getWeight();\n                if (Objects.equals(parentId, relation.getParentId())) {\n                    weight = relation.getWeight();\n                }\n            }\n        }\n\n        return weight / totalWeight;\n    }\n\n    public static Item fromVertex(Vertex vertex) {\n        final Item item = new Item();\n        item.setId(IdGenerator.generate(vertex));\n\n        return item;\n    }\n\n    public List&lt;String&gt; getChildIds() {\n        return relations.parallelStream()\n                   .filter(relation -&gt; Objects.equals(relation.getParentId(),id))\n                   .map(Relation::getChildId)\n                   .collect(Collectors.toList());\n    }\n}\n</code></pre>\n\n<p>To get the initial subgraph, I've used the following code.</p>\n\n<pre><code>    final String statement = String.format(\"g.V('%s').repeat(outE().subgraph('sg').otherV()).cap('sg')\", rootNodeId);\n    final GraphNode node = session.executeGraph(statement).one();\n</code></pre>\n"},{"tags":["java","cassandra","datastax-enterprise","datastax-java-driver","datastax-startup"],"answers":[{"tags":[],"owner":{"account_id":5553836,"reputation":11478,"user_id":4406006,"display_name":"Andy Tolbert"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467293589,"creation_date":1467293589,"answer_id":38124684,"question_id":38124307,"body_markdown":"There are two ways you can configure serial consistency level using the DataStax java driver:\r\n\r\n**[At a per statement level](http://docs.datastax.com/en/drivers/java/3.0/com/datastax/driver/core/Statement.html#setSerialConsistencyLevel-com.datastax.driver.core.ConsistencyLevel-)**: \r\n\r\n&lt;!-- language: java --:\r\n\r\n    statement.setSerialConsistencyLevel(ConsistencyLevel.LOCAL_SERIAL);\r\n    session.execute(statement);\r\n\r\n**[Globally for all queries](http://docs.datastax.com/en/drivers/java/3.0/com/datastax/driver/core/QueryOptions.html#setSerialConsistencyLevel-com.datastax.driver.core.ConsistencyLevel-)**:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Cluster.builder()\r\n        .withQueryOptions(new QueryOptions()\r\n            .setSerialConsistencyLevel(ConsistencyLevel.LOCAL_SERIAL))\r\n        .build();\r\n\r\n\r\n","title":"datastax java driver - how to configure LOCAL_SERIAL for lightweight transactions","body":"<p>There are two ways you can configure serial consistency level using the DataStax java driver:</p>\n\n<p><strong><a href=\"http://docs.datastax.com/en/drivers/java/3.0/com/datastax/driver/core/Statement.html#setSerialConsistencyLevel-com.datastax.driver.core.ConsistencyLevel-\" rel=\"nofollow\">At a per statement level</a></strong>: </p>\n\n<p>\n\n<pre><code>statement.setSerialConsistencyLevel(ConsistencyLevel.LOCAL_SERIAL);\nsession.execute(statement);\n</code></pre>\n\n<p><strong><a href=\"http://docs.datastax.com/en/drivers/java/3.0/com/datastax/driver/core/QueryOptions.html#setSerialConsistencyLevel-com.datastax.driver.core.ConsistencyLevel-\" rel=\"nofollow\">Globally for all queries</a></strong>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Cluster.builder()\n    .withQueryOptions(new QueryOptions()\n        .setSerialConsistencyLevel(ConsistencyLevel.LOCAL_SERIAL))\n    .build();\n</code></pre>\n"}],"owner":{"account_id":6865905,"reputation":11,"user_id":6227069,"display_name":"Dan Priscornic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662425393,"creation_date":1467292564,"question_id":38124307,"body_markdown":"We have DSE 4.8.7 cluster with 3 datacenters, 5 nodes each.\r\nWw have a keyspace with RF 3, 3, 2.\r\n\r\nWe&#39;re using lightweight transactions.\r\n\r\nWhen performing operations that involve shutting down a node on the datacenter with RF2, we have issues with the lightweight transactions as SERIAL consistency level cannot be met.\r\n\r\nIs there a way to change the driver to use LOCAL_SERIAL instead of SERIAL?\r\n\r\n","title":"datastax java driver - how to configure LOCAL_SERIAL for lightweight transactions","body":"<p>We have DSE 4.8.7 cluster with 3 datacenters, 5 nodes each.\nWw have a keyspace with RF 3, 3, 2.</p>\n\n<p>We're using lightweight transactions.</p>\n\n<p>When performing operations that involve shutting down a node on the datacenter with RF2, we have issues with the lightweight transactions as SERIAL consistency level cannot be met.</p>\n\n<p>Is there a way to change the driver to use LOCAL_SERIAL instead of SERIAL?</p>\n"},{"tags":["java","bots","botframework","microsoft-teams"],"comments":[{"owner":{"account_id":22099608,"reputation":670,"user_id":16356277,"display_name":"Meghana-MSFT"},"score":0,"creation_date":1650276884,"post_id":71876246,"comment_id":127070336,"body_markdown":"Looking at the error seems like there is an issue with user id. The provided user ID does not exist in the tenant. Could you please check this again and confirm? Also please share the documentation sample you are referencing?","body":"Looking at the error seems like there is an issue with user id. The provided user ID does not exist in the tenant. Could you please check this again and confirm? Also please share the documentation sample you are referencing?"},{"owner":{"account_id":3571788,"reputation":92,"user_id":2981923,"accept_rate":62,"display_name":"MAV"},"score":0,"creation_date":1650336860,"post_id":71876246,"comment_id":127085115,"body_markdown":"@Meghana-MSFT : I am trying to follow this reference on the MSFT GitHub page : https://github.com/microsoft/botbuilder-java/blob/main/libraries/bot-connector/README.md . From this reference example: I don&#39;t have bot id because I am building the bot within my application which is connecting with the Bot Service Channel which connects to Teams.","body":"@Meghana-MSFT : I am trying to follow this reference on the MSFT GitHub page : <a href=\"https://github.com/microsoft/botbuilder-java/blob/main/libraries/bot-connector/README.md\" rel=\"nofollow noreferrer\">github.com/microsoft/botbuilder-java/blob/main/libraries/&hellip;</a> . From this reference example: I don&#39;t have bot id because I am building the bot within my application which is connecting with the Bot Service Channel which connects to Teams."},{"owner":{"account_id":22099608,"reputation":670,"user_id":16356277,"display_name":"Meghana-MSFT"},"score":0,"creation_date":1650352431,"post_id":71876246,"comment_id":127087887,"body_markdown":"Bot id is same as the App id, could you please confirm now if the issue is with the user id?","body":"Bot id is same as the App id, could you please confirm now if the issue is with the user id?"},{"owner":{"account_id":23232392,"reputation":840,"user_id":17322893,"display_name":"AP01"},"score":0,"creation_date":1650385043,"post_id":71876246,"comment_id":127100289,"body_markdown":"Perhaps the [Java MSGraph sample bot](https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/java_springboot/24.bot-authentication-msgraph) might be of help? I&#39;m still not clear on how you&#39;re architecting your application, but this might be a good starting point. The document you&#39;re referencing is somwhat old.","body":"Perhaps the <a href=\"https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/java_springboot/24.bot-authentication-msgraph\" rel=\"nofollow noreferrer\">Java MSGraph sample bot</a> might be of help? I&#39;m still not clear on how you&#39;re architecting your application, but this might be a good starting point. The document you&#39;re referencing is somwhat old."},{"owner":{"account_id":3571788,"reputation":92,"user_id":2981923,"accept_rate":62,"display_name":"MAV"},"score":0,"creation_date":1650560014,"post_id":71876246,"comment_id":127152822,"body_markdown":"@Meghana-MSFT Yes I modified my code further and you will see the edit above. I was able to post to the recipient but the user must be part of the team. Currently, the scope in the manifest file for the bot installed in teams is set to &quot;Team&quot;. Does changing that to &quot;Personal&quot; will help me to post to user directly instead of being part of a team ?","body":"@Meghana-MSFT Yes I modified my code further and you will see the edit above. I was able to post to the recipient but the user must be part of the team. Currently, the scope in the manifest file for the bot installed in teams is set to &quot;Team&quot;. Does changing that to &quot;Personal&quot; will help me to post to user directly instead of being part of a team ?"},{"owner":{"account_id":3571788,"reputation":92,"user_id":2981923,"accept_rate":62,"display_name":"MAV"},"score":0,"creation_date":1650574105,"post_id":71876246,"comment_id":127157453,"body_markdown":"@AP01 Is it possible to get the user details without having the user to be part of a team ? Can I post a message to an user directly ?","body":"@AP01 Is it possible to get the user details without having the user to be part of a team ? Can I post a message to an user directly ?"},{"owner":{"account_id":3571788,"reputation":92,"user_id":2981923,"accept_rate":62,"display_name":"MAV"},"score":0,"creation_date":1650574347,"post_id":71876246,"comment_id":127157528,"body_markdown":"@Meghana-MSFT : I would like to know if there is a way for me get the details of the user directly without having to give teamInternalId to get details of the user ?","body":"@Meghana-MSFT : I would like to know if there is a way for me get the details of the user directly without having to give teamInternalId to get details of the user ?"},{"owner":{"account_id":23232392,"reputation":840,"user_id":17322893,"display_name":"AP01"},"score":0,"creation_date":1650639033,"post_id":71876246,"comment_id":127174001,"body_markdown":"Microsoft Graph APIs (as linked in the sample) should allow you to get details about an individual user through the use of user auth. They must have messaged the bot and authenticated themselves before it will work though.","body":"Microsoft Graph APIs (as linked in the sample) should allow you to get details about an individual user through the use of user auth. They must have messaged the bot and authenticated themselves before it will work though."},{"owner":{"account_id":22099608,"reputation":670,"user_id":16356277,"display_name":"Meghana-MSFT"},"score":0,"creation_date":1650652088,"post_id":71876246,"comment_id":127178398,"body_markdown":"You can get user details using either id or userPrincipalName - [Get a user](https://learn.microsoft.com/en-us/graph/api/user-get?view=graph-rest-1.0&amp;tabs=http). Please check this to post the messages to the user - [Proactive messages](https://learn.microsoft.com/en-us/microsoftteams/platform/bots/how-to/conversations/send-proactive-messages?tabs=dotnet). And you can use Graph API to proactively install your app for your users before sending messages.","body":"You can get user details using either id or userPrincipalName - <a href=\"https://learn.microsoft.com/en-us/graph/api/user-get?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">Get a user</a>. Please check this to post the messages to the user - <a href=\"https://learn.microsoft.com/en-us/microsoftteams/platform/bots/how-to/conversations/send-proactive-messages?tabs=dotnet\" rel=\"nofollow noreferrer\">Proactive messages</a>. And you can use Graph API to proactively install your app for your users before sending messages."},{"owner":{"account_id":22099608,"reputation":670,"user_id":16356277,"display_name":"Meghana-MSFT"},"score":0,"creation_date":1650652144,"post_id":71876246,"comment_id":127178409,"body_markdown":"Could you please elaborate a little on the teamInternalId to get details of the user? Do you mean user is not part of the team or you are not part of team?","body":"Could you please elaborate a little on the teamInternalId to get details of the user? Do you mean user is not part of the team or you are not part of team?"},{"owner":{"account_id":3571788,"reputation":92,"user_id":2981923,"accept_rate":62,"display_name":"MAV"},"score":0,"creation_date":1650654056,"post_id":71876246,"comment_id":127178976,"body_markdown":"@Meghana-MSFT : I want to send messages to an user who is not part of the team. To do that I would need the userid(id) which is unique to the bot and user. I would like to get those details because there is no other option but to use userid to create a conversation.","body":"@Meghana-MSFT : I want to send messages to an user who is not part of the team. To do that I would need the userid(id) which is unique to the bot and user. I would like to get those details because there is no other option but to use userid to create a conversation."},{"owner":{"account_id":23232392,"reputation":840,"user_id":17322893,"display_name":"AP01"},"score":0,"creation_date":1650656974,"post_id":71876246,"comment_id":127179804,"body_markdown":"@MAV The bot **must** authenticate the user and the user **must** grant permission *before* you can obtain information about them. It doesn&#39;t need to be in a Team chat specifically, it could be a 1:1 chat, but you still need to perform user auth. Once you authenticate a user with Microsoft Graph, you can use those APIs to get their User ID, Name, Email Address, Position, Team memberships, etc. Without user auth, the bot doesn&#39;t really know anything about the user, since by default Bot Framework bots are stateless.","body":"@MAV The bot <b>must</b> authenticate the user and the user <b>must</b> grant permission <i>before</i> you can obtain information about them. It doesn&#39;t need to be in a Team chat specifically, it could be a 1:1 chat, but you still need to perform user auth. Once you authenticate a user with Microsoft Graph, you can use those APIs to get their User ID, Name, Email Address, Position, Team memberships, etc. Without user auth, the bot doesn&#39;t really know anything about the user, since by default Bot Framework bots are stateless."},{"owner":{"account_id":3571788,"reputation":92,"user_id":2981923,"accept_rate":62,"display_name":"MAV"},"score":0,"creation_date":1650661943,"post_id":71876246,"comment_id":127181095,"body_markdown":"@AP01: In my case, the user is not communicating with the bot but my bot is communicating with the user to send some notifications. It&#39;s a fire and forget and the user will not respond to those message. In that scenario, what is the best course of action for 1:1 ?","body":"@AP01: In my case, the user is not communicating with the bot but my bot is communicating with the user to send some notifications. It&#39;s a fire and forget and the user will not respond to those message. In that scenario, what is the best course of action for 1:1 ?"},{"owner":{"account_id":23232392,"reputation":840,"user_id":17322893,"display_name":"AP01"},"score":0,"creation_date":1650898653,"post_id":71876246,"comment_id":127226229,"body_markdown":"I&#39;m not sure I understand your ask. Even if the bot will send proactive notifications without the user&#39;s input, the initial &quot;setup&quot; conversation still has to happen, since you do not want to simply message all members of a team, but rather wish to individually message users. The bot needs some way of knowing who those users are. It would be akin to me asking you to send a letter to someone, but you don&#39;t have their name or address.","body":"I&#39;m not sure I understand your ask. Even if the bot will send proactive notifications without the user&#39;s input, the initial &quot;setup&quot; conversation still has to happen, since you do not want to simply message all members of a team, but rather wish to individually message users. The bot needs some way of knowing who those users are. It would be akin to me asking you to send a letter to someone, but you don&#39;t have their name or address."},{"owner":{"account_id":3571788,"reputation":92,"user_id":2981923,"accept_rate":62,"display_name":"MAV"},"score":0,"creation_date":1650987885,"post_id":71876246,"comment_id":127251949,"body_markdown":"@AP01 : I have their email address and providing the bot to deliver the messages to the user with such email address. My ask is how would I able to deliver these messages 1:1 without having the user be in the same team as the bot. I just want to send these messages freely without any pre-reqs. Does it make sense or do you want me to re-phrase ?","body":"@AP01 : I have their email address and providing the bot to deliver the messages to the user with such email address. My ask is how would I able to deliver these messages 1:1 without having the user be in the same team as the bot. I just want to send these messages freely without any pre-reqs. Does it make sense or do you want me to re-phrase ?"},{"owner":{"account_id":23232392,"reputation":840,"user_id":17322893,"display_name":"AP01"},"score":1,"creation_date":1651000671,"post_id":71876246,"comment_id":127256373,"body_markdown":"As the Bot Framework and the Azure resources are currently designed, there is **no mechanism** to achieve user-specific notifications without any pre-requisite steps. Due to the stateless nature of Bot Framework bots as well as the need to respect user privacy by not getting, storing, and using their info without their explicit permission, your user must initiate communication with the bot once before you may proactively message them. You can send blanket messages to all users without auth, but they *still* must initiate contact once.","body":"As the Bot Framework and the Azure resources are currently designed, there is <b>no mechanism</b> to achieve user-specific notifications without any pre-requisite steps. Due to the stateless nature of Bot Framework bots as well as the need to respect user privacy by not getting, storing, and using their info without their explicit permission, your user must initiate communication with the bot once before you may proactively message them. You can send blanket messages to all users without auth, but they <i>still</i> must initiate contact once."},{"owner":{"account_id":3571788,"reputation":92,"user_id":2981923,"accept_rate":62,"display_name":"MAV"},"score":0,"creation_date":1651120120,"post_id":71876246,"comment_id":127288283,"body_markdown":"@AP01 In the above example I posted which is working fine does not need the user to initiate the conversation. The Bot SDK is able to initialize a conversation with the user but in the same team and is able to deliver the message.","body":"@AP01 In the above example I posted which is working fine does not need the user to initiate the conversation. The Bot SDK is able to initialize a conversation with the user but in the same team and is able to deliver the message."},{"owner":{"account_id":23232392,"reputation":840,"user_id":17322893,"display_name":"AP01"},"score":1,"creation_date":1651159146,"post_id":71876246,"comment_id":127302338,"body_markdown":"You specifically said *outside the team* in your question. Within the team, the bot already has access to APIs that allow it to obtain this information. Joining the team *is* the pre-requisite step. Outside the team, 1:1 communication is not possible without some prior steps.","body":"You specifically said <i>outside the team</i> in your question. Within the team, the bot already has access to APIs that allow it to obtain this information. Joining the team <i>is</i> the pre-requisite step. Outside the team, 1:1 communication is not possible without some prior steps."},{"owner":{"account_id":3571788,"reputation":92,"user_id":2981923,"accept_rate":62,"display_name":"MAV"},"score":0,"creation_date":1651202533,"post_id":71876246,"comment_id":127313089,"body_markdown":"@AP01 Appreciate your insight on this.. Thanks much !","body":"@AP01 Appreciate your insight on this.. Thanks much !"},{"owner":{"account_id":23232392,"reputation":840,"user_id":17322893,"display_name":"AP01"},"score":0,"creation_date":1651243639,"post_id":71876246,"comment_id":127325033,"body_markdown":"You are very welcome.","body":"You are very welcome."}],"answers":[{"tags":[],"owner":{"account_id":3571788,"reputation":92,"user_id":2981923,"accept_rate":62,"display_name":"MAV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662423221,"creation_date":1662423221,"answer_id":73615597,"question_id":71876246,"body_markdown":"I solved the above requirement following these steps:\r\n1. Check if my app is installed for the user using Graph API.\r\n2. If not installed, force install the app for the user using Graph API.\r\n3. Then retrieve the conversation chat id. \r\n4. Use this chat id to send the message to the user.\r\n\r\nThere steps are outline here on the MSFT reference page: \r\nhttps://docs.microsoft.com/en-us/microsoftteams/platform/graph-api/proactive-bots-and-messages/graph-proactive-bots-and-messages?tabs=dotnet\r\n\r\nI hope this answer helps anyone in the same boat who would like to send messages directly 1:1 from an app to a Teams user without any mutual Team condition.\r\n","title":"Get Member details using Java in Microsoft Bot Framework SDK","body":"<p>I solved the above requirement following these steps:</p>\n<ol>\n<li>Check if my app is installed for the user using Graph API.</li>\n<li>If not installed, force install the app for the user using Graph API.</li>\n<li>Then retrieve the conversation chat id.</li>\n<li>Use this chat id to send the message to the user.</li>\n</ol>\n<p>There steps are outline here on the MSFT reference page:\n<a href=\"https://learn.microsoft.com/en-us/microsoftteams/platform/graph-api/proactive-bots-and-messages/graph-proactive-bots-and-messages?tabs=dotnet\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/microsoftteams/platform/graph-api/proactive-bots-and-messages/graph-proactive-bots-and-messages?tabs=dotnet</a></p>\n<p>I hope this answer helps anyone in the same boat who would like to send messages directly 1:1 from an app to a Teams user without any mutual Team condition.</p>\n"}],"owner":{"account_id":3571788,"reputation":92,"user_id":2981923,"accept_rate":62,"display_name":"MAV"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662423221,"creation_date":1649961519,"question_id":71876246,"body_markdown":"I am currently working on delivering 1:1 messages to the users in Teams.\r\n\r\nProblem Statement: I am having trouble trying to get the member details to populate the Channel Account to set the ConverstationParameters object to create conversation if the user is not part of a team. Is there a way I could get the details of the user without having the user part of a Team. I wasn&#39;t able to find any reference documentation to how to get this information for Java.\r\n\r\nBelow is my code snippet: \r\n1. Setup credentials and initialize a connection using Connector Client.\r\n2. Populate Channel account with recipient details for set members on Conversation Parameters Object.\r\n\r\n\t\tActivity message = MessageFactory.text(&quot;Hello World&quot;);\r\n\r\n\t\tMicrosoftAppCredentials credentials = new MicrosoftAppCredentials(appClientID, appClientSecret);\r\n\r\n\t\ttry (ConnectorClient client = new RestConnectorClient(serviceUrl, credentials)) {\r\n\r\n\t\t\tlogger.info(&quot;** Connector Client Set: {} **&quot;, client);\r\n\r\n\t\t\tConversationParameters conversationParameters = new ConversationParameters();\r\n\t\t\tconversationParameters.setIsGroup(false); \r\n\r\n\t\t\tCompletableFuture&lt;ChannelAccount&gt; user = ((Conversations) client.getConversations())\r\n\t\t\t\t\t.getConversationMember(recipient, teamsInternalId); // Don&#39;t want to use this because the user has to be part of the same team which is not true in our case. \r\n\r\n\t\t\tlogger.info(&quot;** Aysnc get User details call **&quot;);\r\n\t\t\tlogger.info(&quot;** AAID: {} **&quot;, user.get().getAadObjectId());\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconversationParameters.setMembers(Collections.singletonList(user.get()));\r\n\t\t\t} catch (ErrorResponseException e) {\r\n\t\t\t\tlogger.error(&quot;** User Error : {}**&quot;, e.getMessage());\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\tconversationParameters.setTenantId(tenantId);\r\n\t\t\tTenantInfo tenantInfo = new TenantInfo(tenantId);\r\n\r\n\t\t\tTeamsChannelData channelData = new TeamsChannelData();\r\n\t\t\tchannelData.setTenant(tenantInfo);\r\n\t\t\tconversationParameters.setChannelData(channelData);\r\n\t\t\t\r\n\t\t\tCompletableFuture&lt;ConversationResourceResponse&gt; conversationResourceResponse = new CompletableFuture&lt;ConversationResourceResponse&gt;();\r\n\t\t\ttry {\r\n\t\t\t\tconversationResourceResponse = client.getConversations()\r\n\t\t\t\t\t\t.createConversation(conversationParameters);\r\n\t\t\t\tlogger.info(&quot;** Create Conversation: {} **&quot;, conversationResourceResponse.get().getId());\r\n\t\t\t} catch (ErrorResponseException e) {\r\n\t\t\t\tlogger.error(&quot;** Create Conversation : {} **&quot;, e.getMessage());\r\n\t\t\t}\r\n\r\n\t\t\tCompletableFuture&lt;ResourceResponse&gt; response = client.getConversations()\r\n\t\t\t\t\t.sendToConversation(conversationResourceResponse.get().getId(), message);\r\n\t\t\tlogger.info(&quot;** Send  Conversation **&quot;, response.get().getId());","title":"Get Member details using Java in Microsoft Bot Framework SDK","body":"<p>I am currently working on delivering 1:1 messages to the users in Teams.</p>\n<p>Problem Statement: I am having trouble trying to get the member details to populate the Channel Account to set the ConverstationParameters object to create conversation if the user is not part of a team. Is there a way I could get the details of the user without having the user part of a Team. I wasn't able to find any reference documentation to how to get this information for Java.</p>\n<p>Below is my code snippet:</p>\n<ol>\n<li><p>Setup credentials and initialize a connection using Connector Client.</p>\n</li>\n<li><p>Populate Channel account with recipient details for set members on Conversation Parameters Object.</p>\n<pre><code> Activity message = MessageFactory.text(&quot;Hello World&quot;);\n\n MicrosoftAppCredentials credentials = new MicrosoftAppCredentials(appClientID, appClientSecret);\n\n try (ConnectorClient client = new RestConnectorClient(serviceUrl, credentials)) {\n\n     logger.info(&quot;** Connector Client Set: {} **&quot;, client);\n\n     ConversationParameters conversationParameters = new ConversationParameters();\n     conversationParameters.setIsGroup(false); \n\n     CompletableFuture&lt;ChannelAccount&gt; user = ((Conversations) client.getConversations())\n             .getConversationMember(recipient, teamsInternalId); // Don't want to use this because the user has to be part of the same team which is not true in our case. \n\n     logger.info(&quot;** Aysnc get User details call **&quot;);\n     logger.info(&quot;** AAID: {} **&quot;, user.get().getAadObjectId());\n\n     try {\n         conversationParameters.setMembers(Collections.singletonList(user.get()));\n     } catch (ErrorResponseException e) {\n         logger.error(&quot;** User Error : {}**&quot;, e.getMessage());\n     }\n\n\n     conversationParameters.setTenantId(tenantId);\n     TenantInfo tenantInfo = new TenantInfo(tenantId);\n\n     TeamsChannelData channelData = new TeamsChannelData();\n     channelData.setTenant(tenantInfo);\n     conversationParameters.setChannelData(channelData);\n\n     CompletableFuture&lt;ConversationResourceResponse&gt; conversationResourceResponse = new CompletableFuture&lt;ConversationResourceResponse&gt;();\n     try {\n         conversationResourceResponse = client.getConversations()\n                 .createConversation(conversationParameters);\n         logger.info(&quot;** Create Conversation: {} **&quot;, conversationResourceResponse.get().getId());\n     } catch (ErrorResponseException e) {\n         logger.error(&quot;** Create Conversation : {} **&quot;, e.getMessage());\n     }\n\n     CompletableFuture&lt;ResourceResponse&gt; response = client.getConversations()\n             .sendToConversation(conversationResourceResponse.get().getId(), message);\n     logger.info(&quot;** Send  Conversation **&quot;, response.get().getId());\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","format"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1662396470,"post_id":73612438,"comment_id":129991603,"body_markdown":"What is the type of `file.read`?","body":"What is the type of <code>file.read</code>?"},{"owner":{"account_id":23467014,"reputation":1,"user_id":17521008,"display_name":"Charles"},"score":0,"creation_date":1662396891,"post_id":73612438,"comment_id":129991712,"body_markdown":"my file.read() reads every character in int","body":"my file.read() reads every character in int"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1662397718,"post_id":73612438,"comment_id":129991954,"body_markdown":"You wrote `file.read`, not `file.read()`.  Please correct your question. Also, how can an `int` rendered as hex be 45 characters wide?","body":"You wrote <code>file.read</code>, not <code>file.read()</code>.  Please correct your question. Also, how can an <code>int</code> rendered as hex be 45 characters wide?"},{"owner":{"account_id":23467014,"reputation":1,"user_id":17521008,"display_name":"Charles"},"score":0,"creation_date":1662398145,"post_id":73612438,"comment_id":129992072,"body_markdown":"i corrected it and there is more than  1 int. Basically what my code does it takes every character in the file and puts every single character as a int after that I take every single int and put them in hexadecimal. to get the result I want I need to be able to do %45s and %02X idk if 45s mean 45 characters wide or spaces wide but i know its how wide my formats need to be","body":"i corrected it and there is more than  1 int. Basically what my code does it takes every character in the file and puts every single character as a int after that I take every single int and put them in hexadecimal. to get the result I want I need to be able to do %45s and %02X idk if 45s mean 45 characters wide or spaces wide but i know its how wide my formats need to be"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1662399106,"post_id":73612438,"comment_id":129992349,"body_markdown":"The reader is left to assume what `file` is - if it is a `FileInputStream` then `file.read()` reads _one byte_ returned as an int.  You likely need a read loop (also checking for -1).","body":"The reader is left to assume what <code>file</code> is - if it is a <code>FileInputStream</code> then <code>file.read()</code> reads <i>one byte</i> returned as an int.  You likely need a read loop (also checking for -1)."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1662399190,"post_id":73612438,"comment_id":129992375,"body_markdown":"What is `souf`?","body":"What is <code>souf</code>?"},{"owner":{"account_id":23467014,"reputation":1,"user_id":17521008,"display_name":"Charles"},"score":0,"creation_date":1662399472,"post_id":73612438,"comment_id":129992475,"body_markdown":"souf is System.out.printf","body":"souf is System.out.printf"},{"owner":{"account_id":23467014,"reputation":1,"user_id":17521008,"display_name":"Charles"},"score":0,"creation_date":1662399510,"post_id":73612438,"comment_id":129992482,"body_markdown":"I only need a way to get the 2 commands together I don&#39;t understand why the type of the file or the type of the output is important ?","body":"I only need a way to get the 2 commands together I don&#39;t understand why the type of the file or the type of the output is important ?"},{"owner":{"account_id":23467014,"reputation":1,"user_id":17521008,"display_name":"Charles"},"score":0,"creation_date":1662399586,"post_id":73612438,"comment_id":129992494,"body_markdown":"my file is a RandomAccessFile","body":"my file is a RandomAccessFile"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1662399906,"post_id":73612438,"comment_id":129992574,"body_markdown":"`limit of 45 characters per row.` - no the `%45s` causes the output to occupy _at least_ 45 characters - right-justified with leading padding of spaces - more than 45 would still print all characters of string.  Also if the `read()` only reads _one byte_ then it is hard to understand what you&#39;re trying to accomplish.","body":"<code>limit of 45 characters per row.</code> - no the <code>%45s</code> causes the output to occupy <i>at least</i> 45 characters - right-justified with leading padding of spaces - more than 45 would still print all characters of string.  Also if the <code>read()</code> only reads <i>one byte</i> then it is hard to understand what you&#39;re trying to accomplish."},{"owner":{"account_id":23467014,"reputation":1,"user_id":17521008,"display_name":"Charles"},"score":0,"creation_date":1662400258,"post_id":73612438,"comment_id":129992674,"body_markdown":"bassicly what i need is a way to make each line of the printf 45 charachters wide","body":"bassicly what i need is a way to make each line of the printf 45 charachters wide"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662404566,"post_id":73612438,"comment_id":129993749,"body_markdown":"Try ```System.out.printf(&quot;%43s%02X%n&quot;, &quot; &quot;, file.read());```","body":"Try <code>System.out.printf(&quot;%43s%02X%n&quot;, &quot; &quot;, file.read());</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1662430948,"post_id":73612438,"comment_id":129998050,"body_markdown":"*&quot;souf is System.out.printf&quot;* - Please don&#39;t use dubious abbreviations that most other Java programmers are unlikely to understand.  (I assume that you &gt;do&lt; want people to understand your questions ....)","body":"<i>&quot;souf is System.out.printf&quot;</i> - Please don&#39;t use dubious abbreviations that most other Java programmers are unlikely to understand.  (I assume that you &gt;do&lt; want people to understand your questions ....)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1662431350,"post_id":73612438,"comment_id":129998095,"body_markdown":"Ah ... I see ... it is an Intellij shortcut.  Well only a small percentage of Java programmers use Intellij.  And only a fraction of them will have memorized the shortcut names.   My point stands.","body":"Ah ... I see ... it is an Intellij shortcut.  Well only a small percentage of Java programmers use Intellij.  And only a fraction of them will have memorized the shortcut names.   My point stands."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662423173,"creation_date":1662423173,"answer_id":73615595,"question_id":73612438,"body_markdown":"[`FileInputStream#read()`][1] reads 1 byte (returned as an `int`). If you want to print 45-byte (ie 90 hex characters) long lines of bytes read, use a loop to print an end of line every 45 reads:\r\n\r\n    FileInputStream file;\r\n    for (int i = 1; file.available() &gt; 0; i++) {\r\n        System.out.printf(&quot;%02X&quot;,file.read());\r\n        if (i % 45 == 0) {\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/FileInputStream.html#read()","title":"can you souf in hexadecimal but with a limited amout of spaces ? java","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/FileInputStream.html#read()\" rel=\"nofollow noreferrer\"><code>FileInputStream#read()</code></a> reads 1 byte (returned as an <code>int</code>). If you want to print 45-byte (ie 90 hex characters) long lines of bytes read, use a loop to print an end of line every 45 reads:</p>\n<pre><code>FileInputStream file;\nfor (int i = 1; file.available() &gt; 0; i++) {\n    System.out.printf(&quot;%02X&quot;,file.read());\n    if (i % 45 == 0) {\n        System.out.println();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23467014,"reputation":1,"user_id":17521008,"display_name":"Charles"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1662423173,"creation_date":1662396137,"question_id":73612438,"body_markdown":"my question is simple I am trying to format some code in hexadecimal but with a limited amount of space.\r\nmy code right now is \r\n```\r\nSystem.out.printf(&quot;%02X&quot;,file.read())\r\n``` \r\nthat codes formats in hexadecimal and works, but I also need it to do\r\n\r\n```\r\nSystem.out.printf(&quot;%45s&quot;,file.read())\r\n``` \r\nwhich from what I tested puts a limit of 45 characters. Is there a way I could put the %45s and the %02X in the same command. Which would result in my file.read() being formatted in hexadecimal but with a limit of 45 characters per row.\r\n\r\nEdit : my codes works perfectly I only need a way to put these 2 commands together ","title":"can you souf in hexadecimal but with a limited amout of spaces ? java","body":"<p>my question is simple I am trying to format some code in hexadecimal but with a limited amount of space.\nmy code right now is</p>\n<pre><code>System.out.printf(&quot;%02X&quot;,file.read())\n</code></pre>\n<p>that codes formats in hexadecimal and works, but I also need it to do</p>\n<pre><code>System.out.printf(&quot;%45s&quot;,file.read())\n</code></pre>\n<p>which from what I tested puts a limit of 45 characters. Is there a way I could put the %45s and the %02X in the same command. Which would result in my file.read() being formatted in hexadecimal but with a limit of 45 characters per row.</p>\n<p>Edit : my codes works perfectly I only need a way to put these 2 commands together</p>\n"},{"tags":["java","cassandra","gremlin","datastax-java-driver","datastax-enterprise-graph"],"answers":[{"tags":[],"owner":{"account_id":5553836,"reputation":11478,"user_id":4406006,"display_name":"Andy Tolbert"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1483117449,"creation_date":1482187757,"answer_id":41232259,"question_id":41231912,"body_markdown":"It looks like you are using [`java-dse-graph`](https://github.com/datastax/java-dse-graph), is that right?  This is a relatively new API (still in beta) which allows you to make Gremlin Traversals w/ Apache Tinkerpop using the DataStax Enterprise Java driver under the covers.\r\n\r\nThe benefits of approach 1 is that you can be sure that you are forming valid traversals for one, although you also get this via `statementFromTraversal` (you can also pass a `String` or `GraphStatement` into `executeGraph` at which point you can&#39;t be sure you are executing a valid traversal).  Additionally, you can write code that is more vendor agnostic, since you are using the Tinkerpop API and not the datastax driver. Well, you are still using it, but not directly once you&#39;ve got a `GraphTraversalSource` from a `DseSession`.\r\n\r\nApproach 2 has a few benefits that aren&#39;t available in approach 1 (yet):\r\n\r\n0. If you are familiar with the datastax driver, you can use a lot of the same APIs that you are comfortable with (`ResultSet`, `Statement`, etc.). \r\n1. The async API for TinkerPop ([TINKERPOP-1490](https://issues.apache.org/jira/browse/TINKERPOP-1490)) was very recently added and I&#39;m not sure it would work with `java-dse-graph` (haven&#39;t tried it yet).  Using `statementFromTraversal`, you can pass the generated `GraphStatement` into `DseSession.executeAsync` to do async.\r\n2. DSE Graph has a schema API that is not part of Gremlin.  Therefore, you can&#39;t make schema changes with TinkerPop alone.  [JAVA-1061](https://datastax-oss.atlassian.net/browse/JAVA-1061) will introduce a schema API for doing this using `java-dse-graph`.  Until then you would have to use `executeGraph(String|GraphStatement)`.\r\n3. You can execute full groovy/gremlin code with approach 2.  This allows you to do things like transaction management and execute multiple traversals in one call, which you can&#39;t currently do with approach 1.\r\n\r\nI expect that `java-dse-graph` (approach 1) will become the more idiomatic way to interact with DSE Graph in the future.  `statementFromTraversal` offers a nice way to get the best of both worlds (the benefit of Apache TinkerPop + an interface to the DataStax java driver).\r\n","title":"Is executeGraph() really needed in DSE 5.0 Graph with Java?","body":"<p>It looks like you are using <a href=\"https://github.com/datastax/java-dse-graph\" rel=\"nofollow noreferrer\"><code>java-dse-graph</code></a>, is that right?  This is a relatively new API (still in beta) which allows you to make Gremlin Traversals w/ Apache Tinkerpop using the DataStax Enterprise Java driver under the covers.</p>\n\n<p>The benefits of approach 1 is that you can be sure that you are forming valid traversals for one, although you also get this via <code>statementFromTraversal</code> (you can also pass a <code>String</code> or <code>GraphStatement</code> into <code>executeGraph</code> at which point you can't be sure you are executing a valid traversal).  Additionally, you can write code that is more vendor agnostic, since you are using the Tinkerpop API and not the datastax driver. Well, you are still using it, but not directly once you've got a <code>GraphTraversalSource</code> from a <code>DseSession</code>.</p>\n\n<p>Approach 2 has a few benefits that aren't available in approach 1 (yet):</p>\n\n<ol>\n<li>If you are familiar with the datastax driver, you can use a lot of the same APIs that you are comfortable with (<code>ResultSet</code>, <code>Statement</code>, etc.). </li>\n<li>The async API for TinkerPop (<a href=\"https://issues.apache.org/jira/browse/TINKERPOP-1490\" rel=\"nofollow noreferrer\">TINKERPOP-1490</a>) was very recently added and I'm not sure it would work with <code>java-dse-graph</code> (haven't tried it yet).  Using <code>statementFromTraversal</code>, you can pass the generated <code>GraphStatement</code> into <code>DseSession.executeAsync</code> to do async.</li>\n<li>DSE Graph has a schema API that is not part of Gremlin.  Therefore, you can't make schema changes with TinkerPop alone.  <a href=\"https://datastax-oss.atlassian.net/browse/JAVA-1061\" rel=\"nofollow noreferrer\">JAVA-1061</a> will introduce a schema API for doing this using <code>java-dse-graph</code>.  Until then you would have to use <code>executeGraph(String|GraphStatement)</code>.</li>\n<li>You can execute full groovy/gremlin code with approach 2.  This allows you to do things like transaction management and execute multiple traversals in one call, which you can't currently do with approach 1.</li>\n</ol>\n\n<p>I expect that <code>java-dse-graph</code> (approach 1) will become the more idiomatic way to interact with DSE Graph in the future.  <code>statementFromTraversal</code> offers a nice way to get the best of both worlds (the benefit of Apache TinkerPop + an interface to the DataStax java driver).</p>\n"}],"owner":{"account_id":962021,"reputation":11902,"user_id":986160,"accept_rate":83,"display_name":"Michail Michailidis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41232259,"answer_count":1,"score":2,"last_activity_date":1662421850,"creation_date":1482185884,"question_id":41231912,"body_markdown":"It seems that in both approaches the vertex is stored and can be retrieved properly later.\r\n\r\nCommon configuration:\r\n\r\n    DseCluster dseCluster = DseCluster.builder()\r\n    \t\t.addContactPoint(&quot;192.168.1.43&quot;)\r\n    \t\t.build();\r\n    DseSession dseSession = dseCluster.connect();\r\n    GraphTraversalSource g = DseGraph.traversal(\r\n        dseSession, new GraphOptions().setGraphName(&quot;graph&quot;)\r\n    );\r\n\r\n\r\nApproach 1:\r\n\r\n    Vertex v = g.addV(&quot;User&quot;).property(&quot;uuid&quot;,&quot;testuuid231&quot;).next();\r\n\r\nApproach 2:\r\n\r\n    GraphStatement graphStatement =  DseGraph.statementFromTraversal(\r\n        g.addV(&quot;User&quot;).property(&quot;uuid&quot;,&quot;testuuid231&quot;)\r\n    );\r\n    GraphResultSet grs = dseSession.executeGraph(graphStatement.setGraphName(&quot;graph&quot;));\r\n    Vertex v = grs.one().asVertex() // as(Vertex.class) is not allowed after 1.1\r\n\r\n","title":"Is executeGraph() really needed in DSE 5.0 Graph with Java?","body":"<p>It seems that in both approaches the vertex is stored and can be retrieved properly later.</p>\n\n<p>Common configuration:</p>\n\n<pre><code>DseCluster dseCluster = DseCluster.builder()\n        .addContactPoint(\"192.168.1.43\")\n        .build();\nDseSession dseSession = dseCluster.connect();\nGraphTraversalSource g = DseGraph.traversal(\n    dseSession, new GraphOptions().setGraphName(\"graph\")\n);\n</code></pre>\n\n<p>Approach 1:</p>\n\n<pre><code>Vertex v = g.addV(\"User\").property(\"uuid\",\"testuuid231\").next();\n</code></pre>\n\n<p>Approach 2:</p>\n\n<pre><code>GraphStatement graphStatement =  DseGraph.statementFromTraversal(\n    g.addV(\"User\").property(\"uuid\",\"testuuid231\")\n);\nGraphResultSet grs = dseSession.executeGraph(graphStatement.setGraphName(\"graph\"));\nVertex v = grs.one().asVertex() // as(Vertex.class) is not allowed after 1.1\n</code></pre>\n"},{"tags":["java","apache-axis","axiom"],"answers":[{"tags":[],"owner":{"account_id":928670,"reputation":8964,"user_id":958954,"display_name":"Andreas Veithen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662420855,"creation_date":1662420855,"answer_id":73615446,"question_id":73360862,"body_markdown":"The problem here is that the code directly refers to the implementation class of the `OMAttribute` interface. That&#39;s an internal implementation detail. Instead, either\r\n- create the `OMAttribute` instance using the `createOMAttribute` method defined by `OMFactory`,\r\n- or simply write `element.addAttribute(&quot;localName&quot;, &quot;1&quot;, null)`.","title":"Updating to axiom-impl from 1.3.0 to 1.4.0","body":"<p>The problem here is that the code directly refers to the implementation class of the <code>OMAttribute</code> interface. That's an internal implementation detail. Instead, either</p>\n<ul>\n<li>create the <code>OMAttribute</code> instance using the <code>createOMAttribute</code> method defined by <code>OMFactory</code>,</li>\n<li>or simply write <code>element.addAttribute(&quot;localName&quot;, &quot;1&quot;, null)</code>.</li>\n</ul>\n"}],"owner":{"account_id":3691365,"reputation":183,"user_id":3073875,"accept_rate":50,"display_name":"Clueless"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662420855,"creation_date":1660565582,"question_id":73360862,"body_markdown":"I&#39;m updating the lib org.apache.ws.commons.axiom:axiom-impl from version 1.3.0 to 1.4.0.\r\nAfter the update the class `org.apache.axiom.om.impl.llom.OMAttributeImpl` does not exist anymore.\r\n\r\nFrom the [release notes][1] the change is maybe indirect mentioned as internal refactoring. Inside the [GitHub project][2] I can not find the class anymore.\r\n\r\nThe question which arises for me, how can I modifiy this code that it works as expected?\r\n\r\n       if (element != null) {\r\n            OMAttribute attribute = new OMAttributeImpl();\r\n            attribute.setLocalName(&quot;localName&quot;);\r\n            attribute.setAttributeValue(&quot;1&quot;);\r\n            element.addAttribute(attribute);\r\n\r\nThanks in advance,\r\nMarkus\r\n\r\n  [1]: https://ws.apache.org/axiom/release-notes/1.4.0.html\r\n  [2]: https://github.com/apache/ws-axiom","title":"Updating to axiom-impl from 1.3.0 to 1.4.0","body":"<p>I'm updating the lib org.apache.ws.commons.axiom:axiom-impl from version 1.3.0 to 1.4.0.\nAfter the update the class <code>org.apache.axiom.om.impl.llom.OMAttributeImpl</code> does not exist anymore.</p>\n<p>From the <a href=\"https://ws.apache.org/axiom/release-notes/1.4.0.html\" rel=\"nofollow noreferrer\">release notes</a> the change is maybe indirect mentioned as internal refactoring. Inside the <a href=\"https://github.com/apache/ws-axiom\" rel=\"nofollow noreferrer\">GitHub project</a> I can not find the class anymore.</p>\n<p>The question which arises for me, how can I modifiy this code that it works as expected?</p>\n<pre><code>   if (element != null) {\n        OMAttribute attribute = new OMAttributeImpl();\n        attribute.setLocalName(&quot;localName&quot;);\n        attribute.setAttributeValue(&quot;1&quot;);\n        element.addAttribute(attribute);\n</code></pre>\n<p>Thanks in advance,\nMarkus</p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1550954679,"post_id":54844983,"comment_id":96464905,"body_markdown":"Does try/catch/finally not work for you?","body":"Does try/catch/finally not work for you?"},{"owner":{"account_id":58377,"reputation":247890,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1550981119,"post_id":54844983,"comment_id":96469660,"body_markdown":"What do you mean by &quot;before a AWS lambda function will exit&quot;? Are you talking about a potential timeout, or simply when your code has finished executing?","body":"What do you mean by &quot;before a AWS lambda function will exit&quot;? Are you talking about a potential timeout, or simply when your code has finished executing?"}],"answers":[{"tags":[],"owner":{"account_id":6201789,"reputation":1940,"user_id":4831297,"display_name":"s.hesse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1551003870,"creation_date":1551003870,"answer_id":54850930,"question_id":54844983,"body_markdown":"As far as I understand you want to execute some code before your Lambda function is stopped, regardless what your execution state is (running/waiting/exception handling/etc).\r\n\r\nThis is not possible out of the box with Lambda, i.e. there is no event fired or something similar which can be identified as a shutdown hook. The JVM will be freezed as soon as you hit the timeout. However, you can observe the remaining execution time by using the method `getRemainingTimeInMillis()` from the `Context` object. From the [docs][1]:\r\n\r\n&gt; Returns the number of milliseconds left before the execution times out.\r\n\r\nSo, when initializing your function you can schedule a task which is regularly checking how much time is left until your Lambda function reaches the timeout. Then, if only less than X (milli-)seconds are left, you do Y.\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/java-context-object.html","title":"Guaranteed to run function before AWS lambda exits","body":"<p>As far as I understand you want to execute some code before your Lambda function is stopped, regardless what your execution state is (running/waiting/exception handling/etc).</p>\n\n<p>This is not possible out of the box with Lambda, i.e. there is no event fired or something similar which can be identified as a shutdown hook. The JVM will be freezed as soon as you hit the timeout. However, you can observe the remaining execution time by using the method <code>getRemainingTimeInMillis()</code> from the <code>Context</code> object. From the <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-context-object.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Returns the number of milliseconds left before the execution times out.</p>\n</blockquote>\n\n<p>So, when initializing your function you can schedule a task which is regularly checking how much time is left until your Lambda function reaches the timeout. Then, if only less than X (milli-)seconds are left, you do Y.</p>\n"},{"tags":[],"owner":{"account_id":237057,"reputation":25235,"user_id":504963,"accept_rate":89,"display_name":"Antarr Byrd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662420762,"creation_date":1662420762,"answer_id":73615440,"question_id":54844983,"body_markdown":"[aws-samples shows how to do it here][1]\r\n\r\n```java\r\npackage helloworld;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\nimport com.amazonaws.services.lambda.runtime.Context;\r\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\r\n\r\n/**\r\n * Handler for requests to Lambda function.\r\n */\r\npublic class App implements RequestHandler&lt;Object, Object&gt; {\r\n\r\n    static {\r\n        Runtime.getRuntime().addShutdownHook(new Thread() {\r\n            @Override\r\n            public void run() {\r\n                System.out.println(&quot;[runtime] ShutdownHook triggered&quot;);\r\n\r\n                System.out.println(&quot;[runtime] Cleaning up&quot;);\r\n                // perform actual clean up work here.\r\n                try {\r\n                    Thread.sleep(200);\r\n                 } catch (Exception e) {\r\n                    System.out.println(e);\r\n                 }\r\n\r\n                System.out.println(&quot;[runtime] exiting&quot;);\r\n                System.exit(0);\r\n            }\r\n        });\r\n    }\r\n\r\n    public Object handleRequest(final Object input, final Context context) {\r\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n        headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        headers.put(&quot;X-Custom-Header&quot;, &quot;application/json&quot;);\r\n        try {\r\n            final String pageContents = this.getPageContents(&quot;https://checkip.amazonaws.com&quot;);\r\n            String output = String.format(&quot;{ \\&quot;message\\&quot;: \\&quot;hello world\\&quot;, \\&quot;location\\&quot;: \\&quot;%s\\&quot; }&quot;, pageContents);\r\n            return new GatewayResponse(output, headers, 200);\r\n        } catch (IOException e) {\r\n            return new GatewayResponse(&quot;{}&quot;, headers, 500);\r\n        }\r\n    }\r\n\r\n    private String getPageContents(String address) throws IOException {\r\n        URL url = new URL(address);\r\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(url.openStream()))) {\r\n            return br.lines().collect(Collectors.joining(System.lineSeparator()));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/aws-samples/graceful-shutdown-with-aws-lambda","title":"Guaranteed to run function before AWS lambda exits","body":"<p><a href=\"https://github.com/aws-samples/graceful-shutdown-with-aws-lambda\" rel=\"nofollow noreferrer\">aws-samples shows how to do it here</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package helloworld;\n\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\n\n/**\n * Handler for requests to Lambda function.\n */\npublic class App implements RequestHandler&lt;Object, Object&gt; {\n\n    static {\n        Runtime.getRuntime().addShutdownHook(new Thread() {\n            @Override\n            public void run() {\n                System.out.println(&quot;[runtime] ShutdownHook triggered&quot;);\n\n                System.out.println(&quot;[runtime] Cleaning up&quot;);\n                // perform actual clean up work here.\n                try {\n                    Thread.sleep(200);\n                 } catch (Exception e) {\n                    System.out.println(e);\n                 }\n\n                System.out.println(&quot;[runtime] exiting&quot;);\n                System.exit(0);\n            }\n        });\n    }\n\n    public Object handleRequest(final Object input, final Context context) {\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n        headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        headers.put(&quot;X-Custom-Header&quot;, &quot;application/json&quot;);\n        try {\n            final String pageContents = this.getPageContents(&quot;https://checkip.amazonaws.com&quot;);\n            String output = String.format(&quot;{ \\&quot;message\\&quot;: \\&quot;hello world\\&quot;, \\&quot;location\\&quot;: \\&quot;%s\\&quot; }&quot;, pageContents);\n            return new GatewayResponse(output, headers, 200);\n        } catch (IOException e) {\n            return new GatewayResponse(&quot;{}&quot;, headers, 500);\n        }\n    }\n\n    private String getPageContents(String address) throws IOException {\n        URL url = new URL(address);\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(url.openStream()))) {\n            return br.lines().collect(Collectors.joining(System.lineSeparator()));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3779712,"reputation":7022,"user_id":3139545,"accept_rate":62,"display_name":"user3139545"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54850930,"answer_count":2,"score":1,"last_activity_date":1662420762,"creation_date":1550948039,"question_id":54844983,"body_markdown":"Is there a way in the JVM to guarantee that some function will run before a AWS lambda function will exit? I would like to flush an internal buffer to stdout as a last action in a lambda function even if some exception is thrown.","title":"Guaranteed to run function before AWS lambda exits","body":"<p>Is there a way in the JVM to guarantee that some function will run before a AWS lambda function will exit? I would like to flush an internal buffer to stdout as a last action in a lambda function even if some exception is thrown.</p>\n"},{"tags":["java","try-catch-finally"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":8,"creation_date":1662390491,"post_id":73611259,"comment_id":129989813,"body_markdown":"**Please**, **please**, **please** ***never*** *swallow* `Exception` like `System.out.println(&quot;Something went wrong.&quot;);` At a minimum capture **what** went wrong. `System.out.println(e.getMessage() + &quot; went wrong.&quot;);`","body":"<b>Please</b>, <b>please</b>, <b>please</b> <b><i>never</i></b> <i>swallow</i> <code>Exception</code> like <code>System.out.println(&quot;Something went wrong.&quot;);</code> At a minimum capture <b>what</b> went wrong. <code>System.out.println(e.getMessage() + &quot; went wrong.&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662389890,"creation_date":1662389890,"answer_id":73611287,"question_id":73611259,"body_markdown":"No.\r\n\r\nWhat you have here is an infinite recursion. Eventually you&#39;d overflow the stack.\r\n\r\nUse an actual loop instead:\r\n\r\n```\r\nwhile (true) {\r\n  try {\r\n    // ...\r\n  } catch (Exception e) {\r\n    // ...\r\n  }\r\n}\r\n```\r\n\r\nAnd you _almost never_ want to call `System.exit`. Just `break` the loop instead.","title":"Is it okay to call the the method a try catch statement is in with the finally block","body":"<p>No.</p>\n<p>What you have here is an infinite recursion. Eventually you'd overflow the stack.</p>\n<p>Use an actual loop instead:</p>\n<pre><code>while (true) {\n  try {\n    // ...\n  } catch (Exception e) {\n    // ...\n  }\n}\n</code></pre>\n<p>And you <em>almost never</em> want to call <code>System.exit</code>. Just <code>break</code> the loop instead.</p>\n"},{"tags":[],"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662419651,"creation_date":1662390189,"answer_id":73611355,"question_id":73611259,"body_markdown":"Is this legal code? Yes.\r\n\r\nIs what you have there recommended? No.\r\n\r\nIf the method throws an exception it&#39;s likely recalling it will throw again. See the quote below.\r\n\r\nCalling it again in a tight loop without attempting remedy, at least waiting a recovery and counting failures (3 strikes out?) will just end up in a tight loop of failure and stack overflow here.\r\n\r\nSo:\r\n\r\nCan you identify errors that retrying may work and only retry on those?\r\n\r\nYou should almost certainly include some kind of &#39;back-off&#39; wait before retry.\r\n\r\nAlways (always!) include a maximum retry number after which you accept failure.\r\n\r\nIn my experience the only kind of failure that may work on retry is &#39;service unavailable&#39; meaning an intermittent outage.\r\n\r\nIt may not be relevant, but things like (say) invalid credentials aren&#39;t going to fix themselves and ideally you don&#39;t resubmit those. That&#39;s particularly because you end up locking the account and being in an even worse state and possibly causing issues for others using the valid credential...\r\n\r\nThe other scenario is (say) file not found and you&#39;re using the non-existence of a file as a way of polling for something.\r\n\r\nThat&#39;s a poor design pattern and is a misuse of exception handling.\r\n\r\nYou should strongly prefer to use some kind for existence check in those cases and not let routine activity get confused with exception handling of issues.\r\n\r\nAlso if you do retry log each attempt (it may be useful later to see whether things are running smoothly or getting delayed in retry scenarios even if the go through eventually). But always differentiate a &#39;Warning&#39; when retrying and &#39;Error&#39; when &#39;throwing in the towel&#39; and failing.\r\n\r\n\r\n\tpublic class Runner {\r\n\t\t\r\n        private static int MAX_RETRIES=3;\r\n\t\tprivate static int BACK_OFF_MILLIS=30000;\r\n\t\t\r\n\t\tpublic void Run() throws Exception,InterruptedException {\r\n\t\t    final int TRIES=3;//In reality may be configured.\r\n\t\t    int trycount=1;\r\n\t\t    for(;;){\r\n\t\t        try{\r\n\t\t            tryRun();\r\n\t\t            return;\r\n\t\t        }catch(Exception e){\r\n\t\t            String message=e.getMessage();\r\n\t\t            if(trycount&gt;=MAX_RETRIES){\r\n\t\t                System.out.println(&quot;*FAILED*: &quot;+e.getMessage());\r\n\t\t                throw e;\r\n\t\t            }\r\n\t\t            boolean retriable=true;\r\n\t\t            //Any tests for non-retriable exceptions here...\r\n\t\t            if(!retriable){\r\n\t\t            \tSystem.out.println(&quot;*FAILED*: non-retriable exception - &quot;+e.getMessage());\r\n\t\t            \tthrow e;\r\n\t\t            }\r\n\t\t            ++trycount;   \r\n\t\t            System.out.println(&quot;Warning: &quot;+e.getMessage()+&quot; retrying &quot;+ trycount+&quot; of &quot;+TRIES);\r\n\t\t            try {\r\n\t\t            \tThread.sleep(trycount*BACK_OFF_MILLIS);//Some kind of back-off...\r\n\t\t            }catch(InterruptedException ie){\r\n\t\t            \tSystem.out.println(&quot;*FAILED*: Interrupted. Aborting.&quot;);\r\n\t\t            \tthrow ie;\r\n\t\t            }\r\n\t\t            continue;\r\n\t\t        }\r\n\t\t    }\r\n\t\t}\r\n\t\t\r\n\t\tpublic void tryRun() throws Exception{\r\n\t\t    //Real workload goes here!\r\n\t\t}\r\n\t}\r\n\r\n\r\nNB: The back-off strategy here is very simplistic. When it comes to outages then it&#39;s usually recommended to implement a random element and an increasing back-off like 1 minute, 10 minutes, 25 minutes. But that&#39;s a topic in itself.\r\n\r\nI&#39;m not sure who really said but this popular quote seems relevant.\r\n\r\n&gt; The definition of insanity is doing the same thing over and over again\r\n&gt; and expecting different results\r\n\r\n","title":"Is it okay to call the the method a try catch statement is in with the finally block","body":"<p>Is this legal code? Yes.</p>\n<p>Is what you have there recommended? No.</p>\n<p>If the method throws an exception it's likely recalling it will throw again. See the quote below.</p>\n<p>Calling it again in a tight loop without attempting remedy, at least waiting a recovery and counting failures (3 strikes out?) will just end up in a tight loop of failure and stack overflow here.</p>\n<p>So:</p>\n<p>Can you identify errors that retrying may work and only retry on those?</p>\n<p>You should almost certainly include some kind of 'back-off' wait before retry.</p>\n<p>Always (always!) include a maximum retry number after which you accept failure.</p>\n<p>In my experience the only kind of failure that may work on retry is 'service unavailable' meaning an intermittent outage.</p>\n<p>It may not be relevant, but things like (say) invalid credentials aren't going to fix themselves and ideally you don't resubmit those. That's particularly because you end up locking the account and being in an even worse state and possibly causing issues for others using the valid credential...</p>\n<p>The other scenario is (say) file not found and you're using the non-existence of a file as a way of polling for something.</p>\n<p>That's a poor design pattern and is a misuse of exception handling.</p>\n<p>You should strongly prefer to use some kind for existence check in those cases and not let routine activity get confused with exception handling of issues.</p>\n<p>Also if you do retry log each attempt (it may be useful later to see whether things are running smoothly or getting delayed in retry scenarios even if the go through eventually). But always differentiate a 'Warning' when retrying and 'Error' when 'throwing in the towel' and failing.</p>\n<pre><code>public class Runner {\n    \n    private static int MAX_RETRIES=3;\n    private static int BACK_OFF_MILLIS=30000;\n    \n    public void Run() throws Exception,InterruptedException {\n        final int TRIES=3;//In reality may be configured.\n        int trycount=1;\n        for(;;){\n            try{\n                tryRun();\n                return;\n            }catch(Exception e){\n                String message=e.getMessage();\n                if(trycount&gt;=MAX_RETRIES){\n                    System.out.println(&quot;*FAILED*: &quot;+e.getMessage());\n                    throw e;\n                }\n                boolean retriable=true;\n                //Any tests for non-retriable exceptions here...\n                if(!retriable){\n                    System.out.println(&quot;*FAILED*: non-retriable exception - &quot;+e.getMessage());\n                    throw e;\n                }\n                ++trycount;   \n                System.out.println(&quot;Warning: &quot;+e.getMessage()+&quot; retrying &quot;+ trycount+&quot; of &quot;+TRIES);\n                try {\n                    Thread.sleep(trycount*BACK_OFF_MILLIS);//Some kind of back-off...\n                }catch(InterruptedException ie){\n                    System.out.println(&quot;*FAILED*: Interrupted. Aborting.&quot;);\n                    throw ie;\n                }\n                continue;\n            }\n        }\n    }\n    \n    public void tryRun() throws Exception{\n        //Real workload goes here!\n    }\n}\n</code></pre>\n<p>NB: The back-off strategy here is very simplistic. When it comes to outages then it's usually recommended to implement a random element and an increasing back-off like 1 minute, 10 minutes, 25 minutes. But that's a topic in itself.</p>\n<p>I'm not sure who really said but this popular quote seems relevant.</p>\n<blockquote>\n<p>The definition of insanity is doing the same thing over and over again\nand expecting different results</p>\n</blockquote>\n"}],"owner":{"account_id":26251498,"reputation":23,"user_id":19924244,"display_name":"Seth Buchanan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662419651,"creation_date":1662389776,"question_id":73611259,"body_markdown":"I made a switch case statement menu with one of the options being System.exit(0);. This is all surrounded by a try, finally that calls the method all of this is in. Would you guys not recommend this style of loop or am I all good? \r\n\r\n```\r\npublic void Run() {\r\n\tScanner myObj = new Scanner(System.in);\r\n\tint menuInput;\r\n\t\r\n\ttry {\r\n\tSystem.out.println(&quot; 1) call something\\n&quot;\r\n\t\t+&quot;2) quit&quot;);\r\n\t\r\n\tmenuInput = myObj.nextInt();\r\n\tmyObj.nextLine();\r\n\t\r\n\tswitch(menuInput) {\r\n\t\tcase 1:\r\n\t\t\tsomething();\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tSystem.exit(0);\r\n\t\t\tbreak;\r\n\t}\r\n\t\r\n\t}catch (Exeption e ){\r\n\t\tSystem.out.println(&quot;Something went wrong.&quot;);\r\n\t\r\n\t}finally{\r\n\t\tRun();\r\n\t}\r\n}\r\n```\r\n","title":"Is it okay to call the the method a try catch statement is in with the finally block","body":"<p>I made a switch case statement menu with one of the options being System.exit(0);. This is all surrounded by a try, finally that calls the method all of this is in. Would you guys not recommend this style of loop or am I all good?</p>\n<pre><code>public void Run() {\n    Scanner myObj = new Scanner(System.in);\n    int menuInput;\n    \n    try {\n    System.out.println(&quot; 1) call something\\n&quot;\n        +&quot;2) quit&quot;);\n    \n    menuInput = myObj.nextInt();\n    myObj.nextLine();\n    \n    switch(menuInput) {\n        case 1:\n            something();\n            break;\n        case 2:\n            System.exit(0);\n            break;\n    }\n    \n    }catch (Exeption e ){\n        System.out.println(&quot;Something went wrong.&quot;);\n    \n    }finally{\n        Run();\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1662024222,"post_id":73566875,"comment_id":129912227,"body_markdown":"Does this answer of your question https://stackoverflow.com/questions/13653712/java-sql-sqlexception-incorrect-string-value-xf0-x9f-x91-xbd-xf0-x9f?","body":"Does this answer of your question <a href=\"https://stackoverflow.com/questions/13653712/java-sql-sqlexception-incorrect-string-value-xf0-x9f-x91-xbd-xf0-x9f\" title=\"java sql sqlexception incorrect string value xf0 x9f x91 xbd xf0 x9f\">stackoverflow.com/questions/13653712/&hellip;</a>?"},{"owner":{"account_id":14476070,"reputation":11,"user_id":10456684,"display_name":"Saurabh Kr. Verma"},"score":0,"creation_date":1662092035,"post_id":73566875,"comment_id":129930656,"body_markdown":"no, I&#39;m using mysql8.0.30 and encoding of column database and table is utf8mb4 and collation is utf8mb4_0900_ai_ci, and added ?useUnicode=true&amp;characterEncoding=UTF-8 still getting same issue.","body":"no, I&#39;m using mysql8.0.30 and encoding of column database and table is utf8mb4 and collation is utf8mb4_0900_ai_ci, and added ?useUnicode=true&amp;characterEncoding=UTF-8 still getting same issue."},{"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"score":0,"creation_date":1662298101,"post_id":73566875,"comment_id":129969263,"body_markdown":"Have you seen this https://stackoverflow.com/a/18729609/4886722? Also, it will be beneficial if you can share the `description` value example.","body":"Have you seen this <a href=\"https://stackoverflow.com/a/18729609/4886722\">stackoverflow.com/a/18729609/4886722</a>? Also, it will be beneficial if you can share the <code>description</code> value example."}],"answers":[{"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662419649,"creation_date":1662419649,"answer_id":73615369,"question_id":73566875,"body_markdown":"You are feeding Latin encodings 92 / 96 to something that is expecting UTF-8.\r\n\r\nWhere is that `INSERT` getting its data?  Either fix the source or state that is latin1 (or some similar charset).","title":"Spring Boot and Mysql : Caused by: java.sql.SQLException: Incorrect string value: &#39;\\x96 like...&#39; for column &#39;description&#39; at row 1","body":"<p>You are feeding Latin encodings 92 / 96 to something that is expecting UTF-8.</p>\n<p>Where is that <code>INSERT</code> getting its data?  Either fix the source or state that is latin1 (or some similar charset).</p>\n"}],"owner":{"account_id":14476070,"reputation":11,"user_id":10456684,"display_name":"Saurabh Kr. Verma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662419649,"creation_date":1662023486,"question_id":73566875,"body_markdown":"this  is my first question here. I&#39;m suffering from this error after reading 100s of blogs I&#39;m getting anywhere.\r\nI&#39;m using **Intelij21.x, Gradle 7.X and Mysql 8.x, and Spring Boot 2.7.x.**.\r\nI&#39;m getting this error:\r\nCaused by: org.hibernate.exception.GenericJDBCException: could not execute statement\r\nand \r\njava.sql.SQLException: Incorrect string value: &#39;\\x92s sal...&#39; for column &#39;description&#39; at row 1\r\n\r\n**Stack Trace**\r\n\r\n    Hibernate: insert into MediaContentVariantEntity (dateCreated, lastUpdated, description, language, title, video_id) values (?, ?, ?, ?, ?, ?)\r\n    2022-09-01 14:12:06.502  WARN 15220 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1366, SQLState: HY000\r\n    2022-09-01 14:12:06.502 ERROR 15220 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Incorrect string value: &#39;\\x96 like...&#39; for column &#39;description&#39; at row 1\r\n    org.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n    \tat com.sun.proxy.$Proxy111.saveAndFlush(Unknown Source)\r\n    \tat com.enveu.saas.service.ContentMigrationService.migrate(ContentMigrationService.java:453)\r\n    \tat com.enveu.saas.BytearkDataMigrationApplication.run(BytearkDataMigrationApplication.java:47)\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n    \tat com.enveu.saas.BytearkDataMigrationApplication.main(BytearkDataMigrationApplication.java:41)\r\n    Caused by: org.hibernate.exception.GenericJDBCException: could not execute statement\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    Caused by: org.hibernate.exception.GenericJDBCException: could not execute statement\r\n    \r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n    \tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)\r\n    \tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)\r\n    \tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:780)\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:748)\r\n    \tat org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)\r\n    \tat org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510)\r\n    \tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434)\r\n    \tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\r\n    \tat org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:543)\r\n    \tat org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:474)\r\n    \tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:437)\r\n    \tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\r\n    \tat org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n    \tat com.sun.proxy.$Proxy106.persist(Unknown Source)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAndFlush(SimpleJpaRepository.java:681)\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\r\n**application.properties**\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/alpha_4_1661946202334?useUnicode=true&amp;characterEncoding=UTF-8\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n    \r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL57InnoDBDialect\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\n**SHOW CREATE TABLE** \r\n\r\n    CREATE TABLE `mediacontentvariantentity` (\r\n      `id` bigint NOT NULL AUTO_INCREMENT,\r\n      `dateCreated` datetime(6) DEFAULT NULL,\r\n      `lastUpdated` datetime(6) DEFAULT NULL,\r\n      `description` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci,\r\n      `language` varchar(255) DEFAULT NULL,\r\n      `title` varchar(255) DEFAULT NULL,\r\n      `video_id` bigint DEFAULT NULL,\r\n      PRIMARY KEY (`id`),\r\n      KEY `FKbeymct73p5lhak2h3ln3wxkcc` (`video_id`),\r\n      CONSTRAINT `FKbeymct73p5lhak2h3ln3wxkcc` FOREIGN KEY (`video_id`) REFERENCES `videocontententity` (`id`)\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=169 DEFAULT CHARSET=utf8mb3\r\n\r\n","title":"Spring Boot and Mysql : Caused by: java.sql.SQLException: Incorrect string value: &#39;\\x96 like...&#39; for column &#39;description&#39; at row 1","body":"<p>this  is my first question here. I'm suffering from this error after reading 100s of blogs I'm getting anywhere.\nI'm using <strong>Intelij21.x, Gradle 7.X and Mysql 8.x, and Spring Boot 2.7.x.</strong>.\nI'm getting this error:\nCaused by: org.hibernate.exception.GenericJDBCException: could not execute statement\nand\njava.sql.SQLException: Incorrect string value: '\\x92s sal...' for column 'description' at row 1</p>\n<p><strong>Stack Trace</strong></p>\n<pre><code>Hibernate: insert into MediaContentVariantEntity (dateCreated, lastUpdated, description, language, title, video_id) values (?, ?, ?, ?, ?, ?)\n2022-09-01 14:12:06.502  WARN 15220 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1366, SQLState: HY000\n2022-09-01 14:12:06.502 ERROR 15220 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Incorrect string value: '\\x96 like...' for column 'description' at row 1\norg.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy111.saveAndFlush(Unknown Source)\n    at com.enveu.saas.service.ContentMigrationService.migrate(ContentMigrationService.java:453)\n    at com.enveu.saas.BytearkDataMigrationApplication.run(BytearkDataMigrationApplication.java:47)\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.enveu.saas.BytearkDataMigrationApplication.main(BytearkDataMigrationApplication.java:41)\nCaused by: org.hibernate.exception.GenericJDBCException: could not execute statement\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\nCaused by: org.hibernate.exception.GenericJDBCException: could not execute statement\n\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:780)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:748)\n    at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)\n    at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510)\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434)\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\n    at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:543)\n    at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:474)\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:437)\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\n    at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)\n    at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    at com.sun.proxy.$Proxy106.persist(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAndFlush(SimpleJpaRepository.java:681)\n    at jdk.internal.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/alpha_4_1661946202334?useUnicode=true&amp;characterEncoding=UTF-8\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.properties.hibernate.show_sql=true\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL57InnoDBDialect\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n<p><strong>SHOW CREATE TABLE</strong></p>\n<pre><code>CREATE TABLE `mediacontentvariantentity` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `dateCreated` datetime(6) DEFAULT NULL,\n  `lastUpdated` datetime(6) DEFAULT NULL,\n  `description` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci,\n  `language` varchar(255) DEFAULT NULL,\n  `title` varchar(255) DEFAULT NULL,\n  `video_id` bigint DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  KEY `FKbeymct73p5lhak2h3ln3wxkcc` (`video_id`),\n  CONSTRAINT `FKbeymct73p5lhak2h3ln3wxkcc` FOREIGN KEY (`video_id`) REFERENCES `videocontententity` (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=169 DEFAULT CHARSET=utf8mb3\n</code></pre>\n"},{"tags":["java","eclipse","intellij-idea","annotations"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1662307739,"post_id":73599462,"comment_id":129971183,"body_markdown":"How about using `@SuppressWarnings` as workaround for your [vendor lock-in](https://en.wikipedia.org/wiki/Vendor_lock-in) issue?","body":"How about using <code>@SuppressWarnings</code> as workaround for your <a href=\"https://en.wikipedia.org/wiki/Vendor_lock-in\" rel=\"nofollow noreferrer\">vendor lock-in</a> issue?"}],"answers":[{"tags":[],"owner":{"account_id":92002,"reputation":1383,"user_id":252344,"accept_rate":60,"display_name":"Faron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662418630,"creation_date":1662418630,"answer_id":73615304,"question_id":73599462,"body_markdown":"I would try using a private method to encapsulate `stripColor` and make the argument nullable.\r\n\r\n    @NotNull String message = getMessage();\r\n    if (sender instanceof CommandSender) {\r\n        message = stripColor(message);\r\n    }\r\n\r\n    ...\r\n\r\n    private @NotNull String stripColor(@Nullable message) {\r\n        String result = ChatColor.stripColor(message);\r\n        return null == result ? &quot;&quot; : result;\r\n    }\r\n\r\n","title":"How to resolve this warning resulting from a conflict between IntelliJ @Contract and Eclipse null analysis?","body":"<p>I would try using a private method to encapsulate <code>stripColor</code> and make the argument nullable.</p>\n<pre><code>@NotNull String message = getMessage();\nif (sender instanceof CommandSender) {\n    message = stripColor(message);\n}\n\n...\n\nprivate @NotNull String stripColor(@Nullable message) {\n    String result = ChatColor.stripColor(message);\n    return null == result ? &quot;&quot; : result;\n}\n</code></pre>\n"}],"owner":{"account_id":1960544,"reputation":2576,"user_id":1762276,"accept_rate":73,"display_name":"Zhro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3132,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1662418630,"creation_date":1662295082,"question_id":73599462,"body_markdown":"I have a bit of code here that assigns what might be a null value to a `@NotNull` variable.\r\n\r\n    @NotNull String message = getMessage();\r\n    if (sender instanceof CommandSender) {\r\n        message = ChatColor.stripColor(message);\r\n    }\r\n\r\nNote that `ChatColor.stripColor()` can return null, which results in a warning in Eclipse.\r\n\r\n&gt; Null type mismatch (type annotations): required &#39;@NotNull String&#39; but\r\n&gt; this expression has type &#39;@Nullable String&#39;\r\n\r\nI solve this by checking the result from `stripColor()` and using a default string in the event of a null.\r\n\r\n    @Nullable String m = ChatColor.stripColor(message);\r\n    if (m == null)\r\n        m = &quot;&quot;;\r\n    message = m;\r\n\r\nWhile I prefer to use Eclipse, the code I&#39;m working on is being committed to a project where the author uses IntelliJ. This not uncommon, and I used their inspection tools to check for any other warnings that might not be visible in Eclipse. I was surprised to find that it had a problem with this change.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut how can this be? It can return null! Well, not unless the `@Contract` says it can. `ChatColor.stripColor()` is annotated with the following:\r\n\r\n    @Contract(&quot;!null -&gt; !null; null -&gt; null&quot;)\r\n\r\nThis is an IntelliJ annotation (`org.jetbrains.annotations.Contract`), and it says that if the input is non-null then the output is also non-null. And in this case, message is non-null. Eclipse can import this annotation, but it doesn&#39;t seem to be considered for null analysis.\r\n\r\nNow I have a problem. If I don&#39;t resolve this null type mismatch, I will get an error in Eclipse. I don&#39;t want to turn this feature off, because I want to see this kind of information. But if I try to resolve it in the code, IntelliJ throws a warning because it has more information as a result of the `@Contract`.\r\n\r\nIs there any way that I can satisfy the error as it appears in Eclipse and the warning as it appears in IntelliJ?\r\n\r\nI also tried using an assertion, but IntelliJ flags this as well:\r\n\r\n    @Nullable String m = ChatColor.stripColor(message);\r\n    assert(null != m);\r\n    message = m;\r\n\r\n  [1]: https://i.stack.imgur.com/1h1RE.png","title":"How to resolve this warning resulting from a conflict between IntelliJ @Contract and Eclipse null analysis?","body":"<p>I have a bit of code here that assigns what might be a null value to a <code>@NotNull</code> variable.</p>\n<pre><code>@NotNull String message = getMessage();\nif (sender instanceof CommandSender) {\n    message = ChatColor.stripColor(message);\n}\n</code></pre>\n<p>Note that <code>ChatColor.stripColor()</code> can return null, which results in a warning in Eclipse.</p>\n<blockquote>\n<p>Null type mismatch (type annotations): required '@NotNull String' but\nthis expression has type '@Nullable String'</p>\n</blockquote>\n<p>I solve this by checking the result from <code>stripColor()</code> and using a default string in the event of a null.</p>\n<pre><code>@Nullable String m = ChatColor.stripColor(message);\nif (m == null)\n    m = &quot;&quot;;\nmessage = m;\n</code></pre>\n<p>While I prefer to use Eclipse, the code I'm working on is being committed to a project where the author uses IntelliJ. This not uncommon, and I used their inspection tools to check for any other warnings that might not be visible in Eclipse. I was surprised to find that it had a problem with this change.</p>\n<p><a href=\"https://i.stack.imgur.com/1h1RE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1h1RE.png\" alt=\"enter image description here\" /></a></p>\n<p>But how can this be? It can return null! Well, not unless the <code>@Contract</code> says it can. <code>ChatColor.stripColor()</code> is annotated with the following:</p>\n<pre><code>@Contract(&quot;!null -&gt; !null; null -&gt; null&quot;)\n</code></pre>\n<p>This is an IntelliJ annotation (<code>org.jetbrains.annotations.Contract</code>), and it says that if the input is non-null then the output is also non-null. And in this case, message is non-null. Eclipse can import this annotation, but it doesn't seem to be considered for null analysis.</p>\n<p>Now I have a problem. If I don't resolve this null type mismatch, I will get an error in Eclipse. I don't want to turn this feature off, because I want to see this kind of information. But if I try to resolve it in the code, IntelliJ throws a warning because it has more information as a result of the <code>@Contract</code>.</p>\n<p>Is there any way that I can satisfy the error as it appears in Eclipse and the warning as it appears in IntelliJ?</p>\n<p>I also tried using an assertion, but IntelliJ flags this as well:</p>\n<pre><code>@Nullable String m = ChatColor.stripColor(message);\nassert(null != m);\nmessage = m;\n</code></pre>\n"},{"tags":["java","animation","javafx","resize"],"comments":[{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1563911219,"post_id":31761361,"comment_id":100855698,"body_markdown":"Possible duplicate of [How to make canvas Resizable in javaFX?](https://stackoverflow.com/questions/24533556/how-to-make-canvas-resizable-in-javafx)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/24533556/how-to-make-canvas-resizable-in-javafx\">How to make canvas Resizable in javaFX?</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1563935233,"post_id":31761361,"comment_id":100861316,"body_markdown":"@smac89: Good find; question updated.","body":"@smac89: Good find; question updated."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1662417499,"creation_date":1438428959,"answer_id":31761362,"question_id":31761361,"body_markdown":"In the example below, the static nested class `CanvasPane` wraps an instance of [`Canvas`][1] in a [`Pane`][2] and overrides `layoutChildren()` to make the canvas dimensions match the enclosing `Pane`. Note that `Canvas` returns `false` from [`isResizable()`][3], so &quot;the parent cannot resize it during layout,&quot; and `Pane` &quot;does not perform layout beyond resizing resizable children to their preferred sizes.&quot; The `width` and `height` used to construct the canvas become its initial size. A similar approach is used in the [*Ensemble*][4] particle simulation, [`FireworksApp`][5], to scale a background image while retaining its aspect ratio.\r\n\r\nAs an aside, note the difference from using fully saturated colors compared to the original. These related [examples][6] illustrate placing controls atop the animated background.\r\n\r\n[![image][7]][7]\r\n\r\n    import java.util.LinkedList;\r\n    import java.util.Queue;\r\n    import java.util.Random;\r\n    import javafx.animation.AnimationTimer;\r\n    import javafx.application.Application;\r\n    import javafx.beans.Observable;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.canvas.Canvas;\r\n    import javafx.scene.canvas.GraphicsContext;\r\n    import javafx.scene.control.CheckBox;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.stage.Stage;\r\n    \r\n    /**\r\n     * @see https://stackoverflow.com/a/31761362/230513\r\n     * @see https://stackoverflow.com/a/8616169/230513\r\n     */\r\n\r\n    public class Baubles extends Application {\r\n    \r\n        private static final int MAX = 64;\r\n        private static final double WIDTH = 640;\r\n        private static final double HEIGHT = 480;\r\n        private static final Random RND = new Random();\r\n        private final Queue&lt;Bauble&gt; queue = new LinkedList&lt;&gt;();\r\n        private Canvas canvas;\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            CanvasPane canvasPane = new CanvasPane(WIDTH, HEIGHT);\r\n            canvas = canvasPane.getCanvas();\r\n            BorderPane root = new BorderPane(canvasPane);\r\n            CheckBox cb = new CheckBox(&quot;Animate&quot;);\r\n            cb.setSelected(true);\r\n            root.setBottom(cb);\r\n            Scene scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n    \r\n            for (int i = 0; i &lt; MAX; i++) {\r\n                queue.add(randomBauble());\r\n            }\r\n            AnimationTimer loop = new AnimationTimer() {\r\n                @Override\r\n                public void handle(long now) {\r\n                    GraphicsContext g = canvas.getGraphicsContext2D();\r\n                    g.setFill(Color.BLACK);\r\n                    g.fillRect(0, 0, canvas.getWidth(), canvas.getHeight());\r\n                    for (Bauble b : queue) {\r\n                        g.setFill(b.c);\r\n                        g.fillOval(b.x, b.y, b.d, b.d);\r\n                    }\r\n                    queue.add(randomBauble());\r\n                    queue.remove();\r\n                }\r\n            };\r\n            loop.start();\r\n            cb.selectedProperty().addListener((Observable o) -&gt; {\r\n                if (cb.isSelected()) {\r\n                    loop.start();\r\n                } else {\r\n                    loop.stop();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private static class Bauble {\r\n    \r\n            private final double x, y, d;\r\n            private final Color c;\r\n    \r\n            public Bauble(double x, double y, double r, Color c) {\r\n                this.x = x - r;\r\n                this.y = y - r;\r\n                this.d = 2 * r;\r\n                this.c = c;\r\n            }\r\n        }\r\n    \r\n        private Bauble randomBauble() {\r\n            double x = RND.nextDouble() * canvas.getWidth();\r\n            double y = RND.nextDouble() * canvas.getHeight();\r\n            double r = RND.nextDouble() * MAX + MAX / 2;\r\n            Color c = Color.hsb(RND.nextDouble() * 360, 1, 1, 0.75);\r\n            return new Bauble(x, y, r, c);\r\n        }\r\n    \r\n        private static class CanvasPane extends Pane {\r\n    \r\n            private final Canvas canvas;\r\n    \r\n            public CanvasPane(double width, double height) {\r\n                canvas = new Canvas(width, height);\r\n                getChildren().add(canvas);\r\n            }\r\n    \r\n            public Canvas getCanvas() {\r\n                return canvas;\r\n            }\r\n    \r\n            @Override\r\n            protected void layoutChildren() {\r\n                super.layoutChildren();\r\n                final double x = snappedLeftInset();\r\n                final double y = snappedTopInset();\r\n\t\t\t\t// Java 9 - snapSize is deprecated, use snapSizeX() and snapSizeY() accordingly\r\n                final double w = snapSize(getWidth()) - x - snappedRightInset();\r\n                final double h = snapSize(getHeight()) - y - snappedBottomInset();\r\n                canvas.setLayoutX(x);\r\n                canvas.setLayoutY(y);\r\n                canvas.setWidth(w);\r\n                canvas.setHeight(h);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/canvas/Canvas.html\r\n  [2]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/Pane.html\r\n  [3]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#isResizable--\r\n  [4]: http://www.oracle.com/technetwork/java/javase/overview/javafx-samples-2158687.html\r\n  [5]: https://github.com/openjdk/jfx/tree/86b854dc367fb32743810716da5583f7d59208f8/apps/samples/Ensemble8/src/samples/java/ensemble/samples/graphics2d/canvas\r\n  [6]: https://stackoverflow.com/a/43814198/230513\r\n  [7]: http://i.stack.imgur.com/MD4fP.png","title":"Automatically resize Canvas to fill the enclosing Parent","body":"<p>In the example below, the static nested class <code>CanvasPane</code> wraps an instance of <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/canvas/Canvas.html\" rel=\"nofollow noreferrer\"><code>Canvas</code></a> in a <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/Pane.html\" rel=\"nofollow noreferrer\"><code>Pane</code></a> and overrides <code>layoutChildren()</code> to make the canvas dimensions match the enclosing <code>Pane</code>. Note that <code>Canvas</code> returns <code>false</code> from <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#isResizable--\" rel=\"nofollow noreferrer\"><code>isResizable()</code></a>, so &quot;the parent cannot resize it during layout,&quot; and <code>Pane</code> &quot;does not perform layout beyond resizing resizable children to their preferred sizes.&quot; The <code>width</code> and <code>height</code> used to construct the canvas become its initial size. A similar approach is used in the <a href=\"http://www.oracle.com/technetwork/java/javase/overview/javafx-samples-2158687.html\" rel=\"nofollow noreferrer\"><em>Ensemble</em></a> particle simulation, <a href=\"https://github.com/openjdk/jfx/tree/86b854dc367fb32743810716da5583f7d59208f8/apps/samples/Ensemble8/src/samples/java/ensemble/samples/graphics2d/canvas\" rel=\"nofollow noreferrer\"><code>FireworksApp</code></a>, to scale a background image while retaining its aspect ratio.</p>\n<p>As an aside, note the difference from using fully saturated colors compared to the original. These related <a href=\"https://stackoverflow.com/a/43814198/230513\">examples</a> illustrate placing controls atop the animated background.</p>\n<p><a href=\"https://i.stack.imgur.com/MD4fP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MD4fP.png\" alt=\"image\" /></a></p>\n<pre><code>import java.util.LinkedList;\nimport java.util.Queue;\nimport java.util.Random;\nimport javafx.animation.AnimationTimer;\nimport javafx.application.Application;\nimport javafx.beans.Observable;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.canvas.GraphicsContext;\nimport javafx.scene.control.CheckBox;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\n/**\n * @see https://stackoverflow.com/a/31761362/230513\n * @see https://stackoverflow.com/a/8616169/230513\n */\n\npublic class Baubles extends Application {\n\n    private static final int MAX = 64;\n    private static final double WIDTH = 640;\n    private static final double HEIGHT = 480;\n    private static final Random RND = new Random();\n    private final Queue&lt;Bauble&gt; queue = new LinkedList&lt;&gt;();\n    private Canvas canvas;\n\n    @Override\n    public void start(Stage stage) {\n        CanvasPane canvasPane = new CanvasPane(WIDTH, HEIGHT);\n        canvas = canvasPane.getCanvas();\n        BorderPane root = new BorderPane(canvasPane);\n        CheckBox cb = new CheckBox(&quot;Animate&quot;);\n        cb.setSelected(true);\n        root.setBottom(cb);\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n\n        for (int i = 0; i &lt; MAX; i++) {\n            queue.add(randomBauble());\n        }\n        AnimationTimer loop = new AnimationTimer() {\n            @Override\n            public void handle(long now) {\n                GraphicsContext g = canvas.getGraphicsContext2D();\n                g.setFill(Color.BLACK);\n                g.fillRect(0, 0, canvas.getWidth(), canvas.getHeight());\n                for (Bauble b : queue) {\n                    g.setFill(b.c);\n                    g.fillOval(b.x, b.y, b.d, b.d);\n                }\n                queue.add(randomBauble());\n                queue.remove();\n            }\n        };\n        loop.start();\n        cb.selectedProperty().addListener((Observable o) -&gt; {\n            if (cb.isSelected()) {\n                loop.start();\n            } else {\n                loop.stop();\n            }\n        });\n    }\n\n    private static class Bauble {\n\n        private final double x, y, d;\n        private final Color c;\n\n        public Bauble(double x, double y, double r, Color c) {\n            this.x = x - r;\n            this.y = y - r;\n            this.d = 2 * r;\n            this.c = c;\n        }\n    }\n\n    private Bauble randomBauble() {\n        double x = RND.nextDouble() * canvas.getWidth();\n        double y = RND.nextDouble() * canvas.getHeight();\n        double r = RND.nextDouble() * MAX + MAX / 2;\n        Color c = Color.hsb(RND.nextDouble() * 360, 1, 1, 0.75);\n        return new Bauble(x, y, r, c);\n    }\n\n    private static class CanvasPane extends Pane {\n\n        private final Canvas canvas;\n\n        public CanvasPane(double width, double height) {\n            canvas = new Canvas(width, height);\n            getChildren().add(canvas);\n        }\n\n        public Canvas getCanvas() {\n            return canvas;\n        }\n\n        @Override\n        protected void layoutChildren() {\n            super.layoutChildren();\n            final double x = snappedLeftInset();\n            final double y = snappedTopInset();\n            // Java 9 - snapSize is deprecated, use snapSizeX() and snapSizeY() accordingly\n            final double w = snapSize(getWidth()) - x - snappedRightInset();\n            final double h = snapSize(getHeight()) - y - snappedBottomInset();\n            canvas.setLayoutX(x);\n            canvas.setLayoutY(y);\n            canvas.setWidth(w);\n            canvas.setHeight(h);\n        }\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":65858,"reputation":5342,"user_id":193509,"accept_rate":86,"display_name":"clartaq"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1438441380,"creation_date":1438441380,"answer_id":31763244,"question_id":31761361,"body_markdown":"Couldn&#39;t you do this with a `Binding` as well? The following seems to produce the same results without having to add the derived class.\r\n\r\n    import java.util.LinkedList;\r\n    import java.util.Queue;\r\n    import java.util.Random;\r\n    import javafx.animation.AnimationTimer;\r\n    import javafx.application.Application;\r\n    import javafx.beans.Observable;\r\n    import javafx.beans.binding.DoubleBinding;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.canvas.Canvas;\r\n    import javafx.scene.canvas.GraphicsContext;\r\n    import javafx.scene.control.CheckBox;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.stage.Stage;\r\n    \r\n    /**\r\n     * @see http://stackoverflow.com/a/31761362/230513\r\n     * @see http://stackoverflow.com/a/8616169/230513\r\n     */\r\n\r\n    public class Baubles extends Application {\r\n\r\n    private static final int MAX = 64;\r\n    private static final double WIDTH = 640;\r\n    private static final double HEIGHT = 480;\r\n    private static final Random RND = new Random();\r\n    private final Queue&lt;Bauble&gt; queue = new LinkedList&lt;&gt;();\r\n    private Canvas canvas;\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        canvas = new Canvas(WIDTH, HEIGHT);\r\n        BorderPane root = new BorderPane(canvas);\r\n        CheckBox cb = new CheckBox(&quot;Animate&quot;);\r\n        cb.setSelected(true);\r\n        root.setBottom(cb);\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        \r\n        // Create bindings for resizing.\r\n        DoubleBinding heightBinding = root.heightProperty()\r\n                .subtract(root.bottomProperty().getValue().getBoundsInParent().getHeight());\r\n        canvas.widthProperty().bind(root.widthProperty());\r\n        canvas.heightProperty().bind(heightBinding);\r\n\r\n        for (int i = 0; i &lt; MAX; i++) {\r\n            queue.add(randomBauble());\r\n        }\r\n        AnimationTimer loop = new AnimationTimer() {\r\n            @Override\r\n            public void handle(long now) {\r\n                GraphicsContext g = canvas.getGraphicsContext2D();\r\n                g.setFill(Color.BLACK);\r\n                g.fillRect(0, 0, canvas.getWidth(), canvas.getHeight());\r\n                for (Bauble b : queue) {\r\n                    g.setFill(b.c);\r\n                    g.fillOval(b.x, b.y, b.d, b.d);\r\n                }\r\n                queue.add(randomBauble());\r\n                queue.remove();\r\n            }\r\n        };\r\n        loop.start();\r\n        cb.selectedProperty().addListener((Observable o) -&gt; {\r\n            if (cb.isSelected()) {\r\n                loop.start();\r\n            } else {\r\n                loop.stop();\r\n            }\r\n        });\r\n    }\r\n\r\n    private static class Bauble {\r\n\r\n        private final double x, y, d;\r\n        private final Color c;\r\n\r\n        public Bauble(double x, double y, double r, Color c) {\r\n            this.x = x - r;\r\n            this.y = y - r;\r\n            this.d = 2 * r;\r\n            this.c = c;\r\n        }\r\n    }\r\n\r\n    private Bauble randomBauble() {\r\n        double x = RND.nextDouble() * canvas.getWidth();\r\n        double y = RND.nextDouble() * canvas.getHeight();\r\n        double r = RND.nextDouble() * MAX + MAX / 2;\r\n        Color c = Color.hsb(RND.nextDouble() * 360, 1, 1, 0.75);\r\n        return new Bauble(x, y, r, c);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    }","title":"Automatically resize Canvas to fill the enclosing Parent","body":"<p>Couldn't you do this with a <code>Binding</code> as well? The following seems to produce the same results without having to add the derived class.</p>\n\n<pre><code>import java.util.LinkedList;\nimport java.util.Queue;\nimport java.util.Random;\nimport javafx.animation.AnimationTimer;\nimport javafx.application.Application;\nimport javafx.beans.Observable;\nimport javafx.beans.binding.DoubleBinding;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.canvas.GraphicsContext;\nimport javafx.scene.control.CheckBox;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\n/**\n * @see http://stackoverflow.com/a/31761362/230513\n * @see http://stackoverflow.com/a/8616169/230513\n */\n\npublic class Baubles extends Application {\n\nprivate static final int MAX = 64;\nprivate static final double WIDTH = 640;\nprivate static final double HEIGHT = 480;\nprivate static final Random RND = new Random();\nprivate final Queue&lt;Bauble&gt; queue = new LinkedList&lt;&gt;();\nprivate Canvas canvas;\n\n@Override\npublic void start(Stage stage) {\n    canvas = new Canvas(WIDTH, HEIGHT);\n    BorderPane root = new BorderPane(canvas);\n    CheckBox cb = new CheckBox(\"Animate\");\n    cb.setSelected(true);\n    root.setBottom(cb);\n    Scene scene = new Scene(root);\n    stage.setScene(scene);\n    stage.show();\n\n    // Create bindings for resizing.\n    DoubleBinding heightBinding = root.heightProperty()\n            .subtract(root.bottomProperty().getValue().getBoundsInParent().getHeight());\n    canvas.widthProperty().bind(root.widthProperty());\n    canvas.heightProperty().bind(heightBinding);\n\n    for (int i = 0; i &lt; MAX; i++) {\n        queue.add(randomBauble());\n    }\n    AnimationTimer loop = new AnimationTimer() {\n        @Override\n        public void handle(long now) {\n            GraphicsContext g = canvas.getGraphicsContext2D();\n            g.setFill(Color.BLACK);\n            g.fillRect(0, 0, canvas.getWidth(), canvas.getHeight());\n            for (Bauble b : queue) {\n                g.setFill(b.c);\n                g.fillOval(b.x, b.y, b.d, b.d);\n            }\n            queue.add(randomBauble());\n            queue.remove();\n        }\n    };\n    loop.start();\n    cb.selectedProperty().addListener((Observable o) -&gt; {\n        if (cb.isSelected()) {\n            loop.start();\n        } else {\n            loop.stop();\n        }\n    });\n}\n\nprivate static class Bauble {\n\n    private final double x, y, d;\n    private final Color c;\n\n    public Bauble(double x, double y, double r, Color c) {\n        this.x = x - r;\n        this.y = y - r;\n        this.d = 2 * r;\n        this.c = c;\n    }\n}\n\nprivate Bauble randomBauble() {\n    double x = RND.nextDouble() * canvas.getWidth();\n    double y = RND.nextDouble() * canvas.getHeight();\n    double r = RND.nextDouble() * MAX + MAX / 2;\n    Color c = Color.hsb(RND.nextDouble() * 360, 1, 1, 0.75);\n    return new Bauble(x, y, r, c);\n}\n\npublic static void main(String[] args) {\n    launch(args);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1541932952,"creation_date":1541932952,"answer_id":53247942,"question_id":31761361,"body_markdown":"I combined both prior solutions ( @trashgod and @clataq&#39;s ) by putting the canvas in a Pane and binding it to it:\r\n\r\n    private static class CanvasPane extends Pane {\r\n\r\n        final Canvas canvas;\r\n\r\n        CanvasPane(double width, double height) {\r\n            setWidth(width);\r\n            setHeight(height);\r\n            canvas = new Canvas(width, height);\r\n            getChildren().add(canvas);\r\n\r\n            canvas.widthProperty().bind(this.widthProperty());\r\n            canvas.heightProperty().bind(this.heightProperty());\r\n        }\r\n    }","title":"Automatically resize Canvas to fill the enclosing Parent","body":"<p>I combined both prior solutions ( @trashgod and @clataq's ) by putting the canvas in a Pane and binding it to it:</p>\n\n<pre><code>private static class CanvasPane extends Pane {\n\n    final Canvas canvas;\n\n    CanvasPane(double width, double height) {\n        setWidth(width);\n        setHeight(height);\n        canvas = new Canvas(width, height);\n        getChildren().add(canvas);\n\n        canvas.widthProperty().bind(this.widthProperty());\n        canvas.heightProperty().bind(this.heightProperty());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11226,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":53247942,"answer_count":3,"score":18,"last_activity_date":1662417499,"creation_date":1438428959,"question_id":31761361,"body_markdown":"I recently wanted to create an animated background in JavaFX, similar to the Swing example seen [here][1]. I used a [`Canvas`][2] on which to draw, as shown in [*Working with the Canvas API*][3], and an [`AnimationTimer`][4] for the drawing loop, as shown in [*Animation Basics][5]*. Unfortunately, I&#39;m not sure how to resize the `Canvas` automatically as the enclosing `Stage` is resized. What is a good approach?\r\n\r\n![image][6]\r\n\r\nA similar question is examined in [*How to make canvas Resizable in javaFX?*][7], but the accepted answer there lacks the binding illustrated in the accepted answer [here][8].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8616169/230513\r\n  [2]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/canvas/Canvas.html\r\n  [3]: http://docs.oracle.com/javase/8/javafx/graphics-tutorial/canvas.htm#JFXGR214\r\n  [4]: https://docs.oracle.com/javase/8/javafx/api/javafx/animation/AnimationTimer.html\r\n  [5]: http://docs.oracle.com/javase/8/javafx/visual-effects-tutorial/basics.htm#CIHHAACG\r\n  [6]: http://i.stack.imgur.com/bGVb2.png\r\n  [7]: https://stackoverflow.com/q/24533556/230513\r\n  [8]: https://stackoverflow.com/a/53247942/230513","title":"Automatically resize Canvas to fill the enclosing Parent","body":"<p>I recently wanted to create an animated background in JavaFX, similar to the Swing example seen <a href=\"https://stackoverflow.com/a/8616169/230513\">here</a>. I used a <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/canvas/Canvas.html\" rel=\"noreferrer\"><code>Canvas</code></a> on which to draw, as shown in <a href=\"http://docs.oracle.com/javase/8/javafx/graphics-tutorial/canvas.htm#JFXGR214\" rel=\"noreferrer\"><em>Working with the Canvas API</em></a>, and an <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/animation/AnimationTimer.html\" rel=\"noreferrer\"><code>AnimationTimer</code></a> for the drawing loop, as shown in <a href=\"http://docs.oracle.com/javase/8/javafx/visual-effects-tutorial/basics.htm#CIHHAACG\" rel=\"noreferrer\"><em>Animation Basics</a></em>. Unfortunately, I'm not sure how to resize the <code>Canvas</code> automatically as the enclosing <code>Stage</code> is resized. What is a good approach?</p>\n\n<p><img src=\"https://i.stack.imgur.com/bGVb2.png\" alt=\"image\"></p>\n\n<p>A similar question is examined in <a href=\"https://stackoverflow.com/q/24533556/230513\"><em>How to make canvas Resizable in javaFX?</em></a>, but the accepted answer there lacks the binding illustrated in the accepted answer <a href=\"https://stackoverflow.com/a/53247942/230513\">here</a>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1254086,"reputation":3387,"user_id":1213934,"accept_rate":58,"display_name":"logoff"},"score":3,"creation_date":1349789150,"post_id":12801032,"comment_id":17309711,"body_markdown":"this similar question can help you http://stackoverflow.com/questions/6730580/how-to-read-several-resource-files-with-the-same-name-from-different-jars","body":"this similar question can help you <a href=\"http://stackoverflow.com/questions/6730580/how-to-read-several-resource-files-with-the-same-name-from-different-jars\" title=\"how to read several resource files with the same name from different jars\">stackoverflow.com/questions/6730580/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1349954329,"creation_date":1349789650,"answer_id":12801290,"question_id":12801032,"body_markdown":"You can use [Enumeration&lt;URL&gt; getResources(String name)][1] on the class loader to achieve the same.\r\n\r\nFor example:\r\n\r\n    Enumeration&lt;URL&gt; enumer = Thread.currentThread().getContextClassLoader().getResources(&quot;/Path/To/xyz.properties&quot;);\r\n    while (enumer.hasMoreElements()) {\r\n        System.out.print(enumer.nextElement());\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html#getResources%28java.lang.String%29\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/ClassLoader.html\r\n\r\n","title":"How to locate all resources in classpath with a specified name?","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html#getResources%28java.lang.String%29\" rel=\"nofollow\">Enumeration getResources(String name)</a> on the class loader to achieve the same.</p>\n\n<p>For example:</p>\n\n<pre><code>Enumeration&lt;URL&gt; enumer = Thread.currentThread().getContextClassLoader().getResources(\"/Path/To/xyz.properties\");\nwhile (enumer.hasMoreElements()) {\n    System.out.print(enumer.nextElement());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349793793,"creation_date":1349789713,"answer_id":12801309,"question_id":12801032,"body_markdown":"What I do is I read java source files from classpath and process them using [ClassLoader][1]. I am using follwing code :\r\n\r\n    ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n\t    \r\n\tassert (classLoader != null);\r\n\t\r\n\t// pkgName = &quot;com.comp.pkg&quot;\r\n\tString path = pkgName.replace(&#39;.&#39;, &#39;/&#39;);\r\n\t\r\n\t// resources will contain all java files and sub-packages\r\n\tEnumeration&lt;URL&gt; resources = classLoader.getResources(path);\r\n\t\r\n\t if(resources.hasMoreElements()) {\r\n\t\t    URL resource = resources.nextElement();\t    \r\n\t\t    File directory = new File(resource.getFile());\r\n\t\t\t// .. process file, check this directory for properties files\r\n\t }\r\n\t\r\nHope this helps you.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html","title":"How to locate all resources in classpath with a specified name?","body":"<p>What I do is I read java source files from classpath and process them using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow\">ClassLoader</a>. I am using follwing code :</p>\n\n<pre><code>ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n\nassert (classLoader != null);\n\n// pkgName = \"com.comp.pkg\"\nString path = pkgName.replace('.', '/');\n\n// resources will contain all java files and sub-packages\nEnumeration&lt;URL&gt; resources = classLoader.getResources(path);\n\n if(resources.hasMoreElements()) {\n        URL resource = resources.nextElement();     \n        File directory = new File(resource.getFile());\n        // .. process file, check this directory for properties files\n }\n</code></pre>\n\n<p>Hope this helps you.</p>\n"},{"tags":[],"owner":{"account_id":2184058,"reputation":1185,"user_id":1932890,"accept_rate":67,"display_name":"raner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662417136,"creation_date":1662417136,"answer_id":73615175,"question_id":12801032,"body_markdown":"The existing answers that propose using `ClassLoader.getResources(String)` only work if the &quot;name&quot; in question is the full path of the resource. As the methods&#39;s javadoc states, &quot;*The name of a resource is a `/`-separated **path** name that identifies the resource.*&quot; It&#39;s unfortunate and misleading that the parameter is called &quot;name&quot; instead of &quot;path.&quot;\r\n\r\nFor those who, like me, are really looking for all resources with a given (simple) name - without knowing the full path of the resource - the current answers won&#39;t work. @NandkumarTekale&#39;s code example states &quot;*resources will contain all java files and sub-packages*&quot; in the comments, but unfortunately that is not true. Nor does it make any difference to use `ClassLoader.findResources(String)` (which is indeed protected in the `ClassLoader` class itself, but pulled into the public API by concrete subclasses like `URLClassLoader`, which in turn serves as the base class for most commonly used class loaders).\r\n\r\nThe most straightforward solution that I could find uses the [ClassGraph][1] library:\r\n\r\n    try (ScanResult result = new ClassGraph().acceptClasspathElementsContainingResourcePath(&quot;*/html5.dtd&quot;).scan())\r\n    {\r\n        System.err.println(result.getResourcesWithLeafName(&quot;html5.dtd&quot;).getURLs());\r\n    }\r\n\r\nSadly, this clashes with the OP&#39;s request for a solution without the use of third-party libraries. However, ClassGraph&#39;s source code is available on GitHub and can be used as an inspiration for a &quot;home grown&quot; solution. In broad strokes, one would have to find the class loader&#39;s base URLs (e.g., using `URLClassLoader.getURLs()`) and then write URL-specific code for searching the contents of each URL (e.g., if it&#39;s a `jar:file:`... URL, load the JAR and iterate over its contents, or if it&#39;s a `file:`... URL use `java.io.File` to explore the folder contents). There are *a lot* of special cases to consider, though (e.g., OSGi class loaders), and a truly general solution would probably replicate a fair amount of what ClassGraph does under the hood. If it is valid to assume that the resources will, for example, always be packaged in a JAR (or always as plain files in the file system), a more tailored solution could be created for just those cases.\r\n\r\n  [1]: https://github.com/classgraph/classgraph","title":"How to locate all resources in classpath with a specified name?","body":"<p>The existing answers that propose using <code>ClassLoader.getResources(String)</code> only work if the &quot;name&quot; in question is the full path of the resource. As the methods's javadoc states, &quot;<em>The name of a resource is a <code>/</code>-separated <strong>path</strong> name that identifies the resource.</em>&quot; It's unfortunate and misleading that the parameter is called &quot;name&quot; instead of &quot;path.&quot;</p>\n<p>For those who, like me, are really looking for all resources with a given (simple) name - without knowing the full path of the resource - the current answers won't work. @NandkumarTekale's code example states &quot;<em>resources will contain all java files and sub-packages</em>&quot; in the comments, but unfortunately that is not true. Nor does it make any difference to use <code>ClassLoader.findResources(String)</code> (which is indeed protected in the <code>ClassLoader</code> class itself, but pulled into the public API by concrete subclasses like <code>URLClassLoader</code>, which in turn serves as the base class for most commonly used class loaders).</p>\n<p>The most straightforward solution that I could find uses the <a href=\"https://github.com/classgraph/classgraph\" rel=\"nofollow noreferrer\">ClassGraph</a> library:</p>\n<pre><code>try (ScanResult result = new ClassGraph().acceptClasspathElementsContainingResourcePath(&quot;*/html5.dtd&quot;).scan())\n{\n    System.err.println(result.getResourcesWithLeafName(&quot;html5.dtd&quot;).getURLs());\n}\n</code></pre>\n<p>Sadly, this clashes with the OP's request for a solution without the use of third-party libraries. However, ClassGraph's source code is available on GitHub and can be used as an inspiration for a &quot;home grown&quot; solution. In broad strokes, one would have to find the class loader's base URLs (e.g., using <code>URLClassLoader.getURLs()</code>) and then write URL-specific code for searching the contents of each URL (e.g., if it's a <code>jar:file:</code>... URL, load the JAR and iterate over its contents, or if it's a <code>file:</code>... URL use <code>java.io.File</code> to explore the folder contents). There are <em>a lot</em> of special cases to consider, though (e.g., OSGi class loaders), and a truly general solution would probably replicate a fair amount of what ClassGraph does under the hood. If it is valid to assume that the resources will, for example, always be packaged in a JAR (or always as plain files in the file system), a more tailored solution could be created for just those cases.</p>\n"}],"owner":{"display_name":"user1456869"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2776,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":12801290,"answer_count":3,"score":4,"last_activity_date":1662417136,"creation_date":1349788912,"question_id":12801032,"body_markdown":"I want to list all files with a specific name in the class path. I am expecting multiple occurrences, hence `Class.getResource(String)` will not work. \r\n\r\nBasically I have to identify all files with a specific name (ex: xyz.properties) anywhere in the class path and then read the metadata in them cumulatively. \r\n\r\nI want something of the effect `Collection&lt;URL&gt; Class.getResources(String)` but could not find anything similar.\r\n\r\nPS: I don&#39;t have the luxury of using any third party libraries, hence in need of a home grown solution.","title":"How to locate all resources in classpath with a specified name?","body":"<p>I want to list all files with a specific name in the class path. I am expecting multiple occurrences, hence <code>Class.getResource(String)</code> will not work. </p>\n\n<p>Basically I have to identify all files with a specific name (ex: xyz.properties) anywhere in the class path and then read the metadata in them cumulatively. </p>\n\n<p>I want something of the effect <code>Collection&lt;URL&gt; Class.getResources(String)</code> but could not find anything similar.</p>\n\n<p>PS: I don't have the luxury of using any third party libraries, hence in need of a home grown solution.</p>\n"},{"tags":["java","sdk","jobs","google-cloud-run"],"comments":[{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1662172766,"post_id":73586487,"comment_id":129950975,"body_markdown":"Google provides 2 parallel sets of libraries. The original API Client Libraries that are machine-generated and available for all Google services. The Cloud Client Libraries that are (still?) hand-written and only available for Google Cloud services. The Cloud Client Libraries can lag in providing functionality that matches the underlying service. The API client libraries are generally (!) perfect replicas of the underlying service.","body":"Google provides 2 parallel sets of libraries. The original API Client Libraries that are machine-generated and available for all Google services. The Cloud Client Libraries that are (still?) hand-written and only available for Google Cloud services. The Cloud Client Libraries can lag in providing functionality that matches the underlying service. The API client libraries are generally (!) perfect replicas of the underlying service."},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":1,"creation_date":1662172770,"post_id":73586487,"comment_id":129950976,"body_markdown":"I think the [Java Cloud Client Library for Cloud Run](https://github.com/googleapis/google-cloud-java/tree/main/java-run) doesn&#39;t yet support Jobs (see [Overview](https://cloud.google.com/java/docs/reference/google-cloud-run/latest/overview)). The [Java API Client Library for Cloud Run](https://github.com/googleapis/google-api-java-client-services/tree/main/clients/google-api-services-run/v2/2.0.0) includes [`GoogleCloudRunV2Job`](https://googleapis.dev/java/google-api-services-run/latest/com/google/api/services/run/v2/model/GoogleCloudRunV2Job.html)","body":"I think the <a href=\"https://github.com/googleapis/google-cloud-java/tree/main/java-run\" rel=\"nofollow noreferrer\">Java Cloud Client Library for Cloud Run</a> doesn&#39;t yet support Jobs (see <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-run/latest/overview\" rel=\"nofollow noreferrer\">Overview</a>). The <a href=\"https://github.com/googleapis/google-api-java-client-services/tree/main/clients/google-api-services-run/v2/2.0.0\" rel=\"nofollow noreferrer\">Java API Client Library for Cloud Run</a> includes <a href=\"https://googleapis.dev/java/google-api-services-run/latest/com/google/api/services/run/v2/model/GoogleCloudRunV2Job.html\" rel=\"nofollow noreferrer\"><code>GoogleCloudRunV2Job</code></a>"},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1662172821,"post_id":73586487,"comment_id":129950980,"body_markdown":"Google [Client libraries explained](https://cloud.google.com/apis/docs/client-libraries-explained)","body":"Google <a href=\"https://cloud.google.com/apis/docs/client-libraries-explained\" rel=\"nofollow noreferrer\">Client libraries explained</a>"},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1662172844,"post_id":73586487,"comment_id":129950985,"body_markdown":"You may want to bug Google to maintain the Cloud Client Library.","body":"You may want to bug Google to maintain the Cloud Client Library."},{"owner":{"account_id":3128387,"reputation":752,"user_id":2646836,"accept_rate":67,"display_name":"carlos palma"},"score":0,"creation_date":1662414455,"post_id":73586487,"comment_id":129995810,"body_markdown":"Hello DazWilkin and thanks for the input, maybe you want to post an answer so I can accept it.","body":"Hello DazWilkin and thanks for the input, maybe you want to post an answer so I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662416623,"creation_date":1662416623,"answer_id":73615135,"question_id":73586487,"body_markdown":"Google provides 2 parallel sets of libraries. See Google [Client libraries explained](https://cloud.google.com/apis/docs/client-libraries-explained).\r\n\r\nThe original API Client Libraries that are machine-generated and available for all Google services. The API client libraries are generally (!) perfect replicas of the underlying service.\r\n\r\nThe Cloud Client Libraries that are (still?) hand-written and only available for Google Cloud services. The Cloud Client Libraries can lag in providing functionality that matches the underlying service.\r\n\r\nI think the [Java Cloud Client Library for Cloud Run](https://github.com/googleapis/google-cloud-java/tree/main/java-run) doesn&#39;t yet support Jobs (see [Overview](https://cloud.google.com/java/docs/reference/google-cloud-run/latest/overview)).\r\n\r\nThe [Java API Client Library for Cloud Run](https://github.com/googleapis/google-api-java-client-services/tree/main/clients/google-api-services-run/v2/2.0.0) includes [`GoogleCloudRunV2Job`](https://googleapis.dev/java/google-api-services-run/latest/com/google/api/services/run/v2/model/GoogleCloudRunV2Job.html).\r\n","title":"Google Cloud SDK to create a Cloud Run Job","body":"<p>Google provides 2 parallel sets of libraries. See Google <a href=\"https://cloud.google.com/apis/docs/client-libraries-explained\" rel=\"nofollow noreferrer\">Client libraries explained</a>.</p>\n<p>The original API Client Libraries that are machine-generated and available for all Google services. The API client libraries are generally (!) perfect replicas of the underlying service.</p>\n<p>The Cloud Client Libraries that are (still?) hand-written and only available for Google Cloud services. The Cloud Client Libraries can lag in providing functionality that matches the underlying service.</p>\n<p>I think the <a href=\"https://github.com/googleapis/google-cloud-java/tree/main/java-run\" rel=\"nofollow noreferrer\">Java Cloud Client Library for Cloud Run</a> doesn't yet support Jobs (see <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-run/latest/overview\" rel=\"nofollow noreferrer\">Overview</a>).</p>\n<p>The <a href=\"https://github.com/googleapis/google-api-java-client-services/tree/main/clients/google-api-services-run/v2/2.0.0\" rel=\"nofollow noreferrer\">Java API Client Library for Cloud Run</a> includes <a href=\"https://googleapis.dev/java/google-api-services-run/latest/com/google/api/services/run/v2/model/GoogleCloudRunV2Job.html\" rel=\"nofollow noreferrer\"><code>GoogleCloudRunV2Job</code></a>.</p>\n"}],"owner":{"account_id":3128387,"reputation":752,"user_id":2646836,"accept_rate":67,"display_name":"carlos palma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73615135,"answer_count":1,"score":0,"last_activity_date":1662416623,"creation_date":1662141905,"question_id":73586487,"body_markdown":"We are trying to create a Cloud Run job programmatically using the Java SDK. So far we have been able to use classes in the `com.google.cloud.run.v2` to create a service, doing something like this:\r\n\r\n```java\r\nContainer container = Container.newBuilder().setImage(image).build();\r\n\r\ntry (ServicesClient servicesClient = ServicesClient.create()) {\r\n\r\n    log.debug(&quot;Creating service&quot;);\r\n\r\n    CreateServiceRequest request =\r\n        CreateServiceRequest.newBuilder()\r\n            .setParent(LocationName.of(projectId, location).toString())\r\n            .setService(Service.newBuilder().\r\n                setTemplate(RevisionTemplate.newBuilder().addContainers(container)).\r\n                                build())\r\n            .setServiceId(&quot;hello&quot;)\r\n            .build();\r\n    Service response = servicesClient.createServiceAsync(request).get();\r\n}\r\n```\r\n\r\nWe would like to know if there is a similar Java API that allows us to create Cloud Run jobs instead of services.","title":"Google Cloud SDK to create a Cloud Run Job","body":"<p>We are trying to create a Cloud Run job programmatically using the Java SDK. So far we have been able to use classes in the <code>com.google.cloud.run.v2</code> to create a service, doing something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Container container = Container.newBuilder().setImage(image).build();\n\ntry (ServicesClient servicesClient = ServicesClient.create()) {\n\n    log.debug(&quot;Creating service&quot;);\n\n    CreateServiceRequest request =\n        CreateServiceRequest.newBuilder()\n            .setParent(LocationName.of(projectId, location).toString())\n            .setService(Service.newBuilder().\n                setTemplate(RevisionTemplate.newBuilder().addContainers(container)).\n                                build())\n            .setServiceId(&quot;hello&quot;)\n            .build();\n    Service response = servicesClient.createServiceAsync(request).get();\n}\n</code></pre>\n<p>We would like to know if there is a similar Java API that allows us to create Cloud Run jobs instead of services.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1662401486,"post_id":73613185,"comment_id":129993011,"body_markdown":"You should not have a universal `ActionListener`. Instead, create an `ActionListener` class and create distinct instances for each menu item. This way, you don&#39;t need a crazy nested `if/else` just to figure out which menu item triggered the event. If anything, this solution is not scalable. If you need to add new menu items, you will need to increase to the complexity of the `actionPerformed` method. I am willing to bet that if you create distinct action listeners (even anonymously), your problem will go away.","body":"You should not have a universal <code>ActionListener</code>. Instead, create an <code>ActionListener</code> class and create distinct instances for each menu item. This way, you don&#39;t need a crazy nested <code>if&#47;else</code> just to figure out which menu item triggered the event. If anything, this solution is not scalable. If you need to add new menu items, you will need to increase to the complexity of the <code>actionPerformed</code> method. I am willing to bet that if you create distinct action listeners (even anonymously), your problem will go away."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1662401660,"post_id":73613185,"comment_id":129993052,"body_markdown":"Also, from an OOP perspective, by implementing `ActionListener` in your `JFrame` class you are stating that your `frame` is-a `ActionListener` because interface implementation is a soft form of inheritance. This doesn&#39;t make any sense. Your frame does not need to be an action listener. That responsibility should fall on some other class. Even creating an inner private class that implements `ActionListener` would be a better choice.","body":"Also, from an OOP perspective, by implementing <code>ActionListener</code> in your <code>JFrame</code> class you are stating that your <code>frame</code> is-a <code>ActionListener</code> because interface implementation is a soft form of inheritance. This doesn&#39;t make any sense. Your frame does not need to be an action listener. That responsibility should fall on some other class. Even creating an inner private class that implements <code>ActionListener</code> would be a better choice."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1662409090,"post_id":73613185,"comment_id":129994781,"body_markdown":"You&#39;re not setting the EditUsers dialog visible from within its constructor, are you? That would be a bad thing to do. For best help at diagnosing the underlying cause of your current problem, consider creating and posting a valid [mre]. Please check out the link on this most valuable tool since it is a quite useful thing to create even if you&#39;re debugging on your own (or especially when debugging on your own).","body":"You&#39;re not setting the EditUsers dialog visible from within its constructor, are you? That would be a bad thing to do. For best help at diagnosing the underlying cause of your current problem, consider creating and posting a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Please check out the link on this most valuable tool since it is a quite useful thing to create even if you&#39;re debugging on your own (or especially when debugging on your own)."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1662439865,"post_id":73613185,"comment_id":129999219,"body_markdown":"[Edit] your question and post code that will display the `JFrame` and allow me to open the `AddUserDialog` when I select the relevant menu item and also open the `EditUsers` when I select that menu item. Also post the actions you perform on your GUI in order to cause the problem to occur. If I can reproduce your problem, I may be able to find its cause and, subsequently, a solution for it.","body":"<a href=\"https://stackoverflow.com/posts/73613185/edit\">Edit</a> your question and post code that will display the <code>JFrame</code> and allow me to open the <code>AddUserDialog</code> when I select the relevant menu item and also open the <code>EditUsers</code> when I select that menu item. Also post the actions you perform on your GUI in order to cause the problem to occur. If I can reproduce your problem, I may be able to find its cause and, subsequently, a solution for it."},{"owner":{"account_id":23190433,"reputation":27,"user_id":17286881,"display_name":"Brainmated"},"score":0,"creation_date":1662545191,"post_id":73613185,"comment_id":130028544,"body_markdown":"Thank you people for the kind and helpful comments. I will implement some ActionListeners in a private class and work my way with the SwingWorker to get things going on. I will post the code by tomorrow and show any updates. Currently my main problem was with the ModalityType.","body":"Thank you people for the kind and helpful comments. I will implement some ActionListeners in a private class and work my way with the SwingWorker to get things going on. I will post the code by tomorrow and show any updates. Currently my main problem was with the ModalityType."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1662638007,"post_id":73613185,"comment_id":130054809,"body_markdown":"@Brainmated if my answer was helpful, don&#39;t forget to upvote it. If my answer solved your problem, don&#39;t forget to select it. ;)","body":"@Brainmated if my answer was helpful, don&#39;t forget to upvote it. If my answer solved your problem, don&#39;t forget to select it. ;)"},{"owner":{"account_id":23190433,"reputation":27,"user_id":17286881,"display_name":"Brainmated"},"score":1,"creation_date":1662964503,"post_id":73613185,"comment_id":130118887,"body_markdown":"@hfontanez, Thank you for your reply and your honest comments on my code. Unfortunately, I didn&#39;t have time to work on my code, therefore I checked on your answer briefly but it&#39;s sufficiently backed up. I will work on it shortly and edit my work to show the results.","body":"@hfontanez, Thank you for your reply and your honest comments on my code. Unfortunately, I didn&#39;t have time to work on my code, therefore I checked on your answer briefly but it&#39;s sufficiently backed up. I will work on it shortly and edit my work to show the results."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662416242,"creation_date":1662408363,"answer_id":73614205,"question_id":73613185,"body_markdown":"My example has a simple frame with two menu items. Each one possesses a distinct instance of a dialog. For you, read the comments in the code. I am sure you will\r\nneed distinct dialog classes that must follow the pattern I am about to show in the code below\r\n```\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.beans.PropertyChangeEvent;\r\nimport java.beans.PropertyChangeListener;\r\n\r\nimport javax.swing.JDialog;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JMenu;\r\nimport javax.swing.JMenuBar;\r\nimport javax.swing.JMenuItem;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class JDialogDemo extends JFrame {\r\n\t\r\n\tpublic static void main (String[] args) {\r\n\t\tJDialogDemo frame = new JDialogDemo();\r\n\t\t\r\n\t\tJMenuBar menuBar = new JMenuBar();\r\n\t\tJMenu usersMenu = new JMenu(&quot;Users&quot;);\r\n\t\tmenuBar.add(usersMenu);\r\n\t\t\r\n\t\tJMenuItem addUserItem = new JMenuItem(&quot;Add User&quot;);\r\n\t\tJMenuItem editUserItem = new JMenuItem(&quot;Edit User&quot;);\r\n\t\t\r\n\t\t// Each menu item has its own listener to handle events\r\n\t\taddUserItem.addActionListener(new MenuActionListener(&quot;Add User&quot;));\r\n\t\teditUserItem.addActionListener(new MenuActionListener(&quot;Edit User&quot;));\r\n\t\t\r\n\t\tusersMenu.add(addUserItem);\r\n\t\tusersMenu.add(editUserItem);\r\n\t\t\r\n\t\tframe.setJMenuBar(menuBar);\r\n\t\tframe.setBounds(100, 100, 600, 400);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\t\r\n\t/*\r\n\t * My example is very simplistic. If you need to have different (custom)\r\n\t * dialogs, each menu item must implement the class that wraps the \r\n\t * dialog that pertains to it. For instance, you may have an &quot;Add&quot;\r\n\t * dialog and an &quot;edit&quot; dialog. Each one, should follow this pattern.\r\n\t */\r\n\tprivate static class MenuActionListener implements ActionListener {\r\n\t\tprivate String title;\r\n\t\tpublic MenuActionListener(String title) {\r\n\t\t\tthis.title = title;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed (ActionEvent e) {\r\n\t\t\tfinal JOptionPane optionPane = new JOptionPane(title,\r\n\t\t\t\tJOptionPane.QUESTION_MESSAGE, JOptionPane.YES_NO_OPTION);\r\n\t\t\t\r\n\t\t\tJMenuItem menuItem = (JMenuItem)e.getSource();\r\n\t\t\t\r\n\t\t\tfinal JDialog dialog = new JDialog((JFrame)menuItem.getParent().getParent(), &quot;Click a button&quot;, true);\r\n\t\t\tdialog.setContentPane(optionPane);\r\n\t\t\tdialog.setDefaultCloseOperation(JDialog.DO_NOTHING_ON_CLOSE);\r\n\t\t\toptionPane.addPropertyChangeListener(\r\n\t\t    new PropertyChangeListener() {\r\n\t\t        public void propertyChange(PropertyChangeEvent e) {\r\n\t\t            String prop = e.getPropertyName();\r\n\r\n\t\t            if (dialog.isVisible() \r\n\t\t             &amp;&amp; (e.getSource() == optionPane)\r\n\t\t             &amp;&amp; (prop.equals(JOptionPane.VALUE_PROPERTY))) {\r\n\t\t                dialog.setVisible(false);\r\n\t\t            }\r\n\t\t        }\r\n\t\t    });\r\n\t\t\tdialog.pack();\r\n\t\t\tdialog.setVisible(true);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nAlso, you must keep in mind that, if the logic that is executed when you add a new user or edit an existing one is expensive, you will need to execute this logic OUTSIDE the UI thread. In fact, even if it isn&#39;t, it is a bad idea to execute background processes in the same thread used by Java Swing to deal with UI events. Therefore, you must execute these processes in the background. A convenient way to do this is by using `SwingWorker` threads. You may want to look into that and make sure your adding and editing user processes are handled in separate `SwingWorker` threads.\r\n\r\n**UPDATE**:\r\n\r\nThis isn&#39;t also the best way to run a Swing application. You should use `SwingUtilities#invokeLater()` to &quot;create and show&quot; GUI. There are plenty examples out there on how to do this. You might even know how to do this yourself already. If you need help on this and wish me to update the code above, just let me know.","title":"Java Swing - JDialog Modal Issue","body":"<p>My example has a simple frame with two menu items. Each one possesses a distinct instance of a dialog. For you, read the comments in the code. I am sure you will\nneed distinct dialog classes that must follow the pattern I am about to show in the code below</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\n\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JOptionPane;\n\npublic class JDialogDemo extends JFrame {\n    \n    public static void main (String[] args) {\n        JDialogDemo frame = new JDialogDemo();\n        \n        JMenuBar menuBar = new JMenuBar();\n        JMenu usersMenu = new JMenu(&quot;Users&quot;);\n        menuBar.add(usersMenu);\n        \n        JMenuItem addUserItem = new JMenuItem(&quot;Add User&quot;);\n        JMenuItem editUserItem = new JMenuItem(&quot;Edit User&quot;);\n        \n        // Each menu item has its own listener to handle events\n        addUserItem.addActionListener(new MenuActionListener(&quot;Add User&quot;));\n        editUserItem.addActionListener(new MenuActionListener(&quot;Edit User&quot;));\n        \n        usersMenu.add(addUserItem);\n        usersMenu.add(editUserItem);\n        \n        frame.setJMenuBar(menuBar);\n        frame.setBounds(100, 100, 600, 400);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n    \n    /*\n     * My example is very simplistic. If you need to have different (custom)\n     * dialogs, each menu item must implement the class that wraps the \n     * dialog that pertains to it. For instance, you may have an &quot;Add&quot;\n     * dialog and an &quot;edit&quot; dialog. Each one, should follow this pattern.\n     */\n    private static class MenuActionListener implements ActionListener {\n        private String title;\n        public MenuActionListener(String title) {\n            this.title = title;\n        }\n\n        @Override\n        public void actionPerformed (ActionEvent e) {\n            final JOptionPane optionPane = new JOptionPane(title,\n                JOptionPane.QUESTION_MESSAGE, JOptionPane.YES_NO_OPTION);\n            \n            JMenuItem menuItem = (JMenuItem)e.getSource();\n            \n            final JDialog dialog = new JDialog((JFrame)menuItem.getParent().getParent(), &quot;Click a button&quot;, true);\n            dialog.setContentPane(optionPane);\n            dialog.setDefaultCloseOperation(JDialog.DO_NOTHING_ON_CLOSE);\n            optionPane.addPropertyChangeListener(\n            new PropertyChangeListener() {\n                public void propertyChange(PropertyChangeEvent e) {\n                    String prop = e.getPropertyName();\n\n                    if (dialog.isVisible() \n                     &amp;&amp; (e.getSource() == optionPane)\n                     &amp;&amp; (prop.equals(JOptionPane.VALUE_PROPERTY))) {\n                        dialog.setVisible(false);\n                    }\n                }\n            });\n            dialog.pack();\n            dialog.setVisible(true);\n        }\n    }\n}\n</code></pre>\n<p>Also, you must keep in mind that, if the logic that is executed when you add a new user or edit an existing one is expensive, you will need to execute this logic OUTSIDE the UI thread. In fact, even if it isn't, it is a bad idea to execute background processes in the same thread used by Java Swing to deal with UI events. Therefore, you must execute these processes in the background. A convenient way to do this is by using <code>SwingWorker</code> threads. You may want to look into that and make sure your adding and editing user processes are handled in separate <code>SwingWorker</code> threads.</p>\n<p><strong>UPDATE</strong>:</p>\n<p>This isn't also the best way to run a Swing application. You should use <code>SwingUtilities#invokeLater()</code> to &quot;create and show&quot; GUI. There are plenty examples out there on how to do this. You might even know how to do this yourself already. If you need help on this and wish me to update the code above, just let me know.</p>\n"}],"owner":{"account_id":23190433,"reputation":27,"user_id":17286881,"display_name":"Brainmated"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73614205,"answer_count":1,"score":0,"last_activity_date":1662416242,"creation_date":1662400880,"question_id":73613185,"body_markdown":"I&#39;m working on a program with multiple JMenu Items that correspond to different user needs. I&#39;ve assigned the respectable actions to them in my main frame. My problem is that the EditUsers Dialog is **looping forever the previous JDialog**(AddUserDialog, which is working properly and responds to being clicked, **working as intended**), therefore resulting in a freeze and termination from Eclipse. I&#39;d like to thank any kind soul in advance that will help me in any way possible.\r\n\r\n```\r\npublic class MainFrame extends JFrame implements ActionListener{\r\n//------------------all variables and values have been assigned, JMenu Items are the focus------------\r\n        users = new JMenu(&quot;Users&quot;);\r\n\t\tmenuBar.add(users);\r\n\t\t\r\n\t\taddUsers = new JMenuItem(&quot;Add User&quot;);\r\n\t\tusers.add(addUsers);\r\n\t\taddUsers.addActionListener(this);\r\n\t\teditUsers = new JMenuItem(&quot;Edit User&quot;);\r\n\t\tusers.add(editUsers);\r\n\t\teditUsers.addActionListener(this);\r\n\t\tauditUsers = new JMenuItem(&quot;Audit User&quot;);\r\n\t\tusers.add(auditUsers);\r\n\t\tauditUsers.addActionListener(this);\r\n\r\npublic void actionPerformed(ActionEvent ae) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\t//example for ActionListener in the first JMenuItem, working\r\n\t\tif(ae.getSource() == interfaceOpt) {\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;Test&quot;);\r\n\t\t\tSystem.out.println(&quot;Test&quot;);\r\n\t\t}\r\n        //working\r\n\t\telse if(ae.getSource()==sql){\r\n\t\t\tSystem.out.println(&quot;Test1&quot;);\r\n\t\t\t\r\n\t\t}\r\n        //working\r\n\t\telse if(ae.getSource()==addUsers) {\r\n\t\t\ttry {\r\n\t\t\t\tAddUserDialog addDialog=new AddUserDialog();\r\n\t\t\t\taddDialog.setModalityType(ModalityType.APPLICATION_MODAL);\r\n\t\t\t\taddDialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\r\n\t\t\t}catch(Exception ex) {\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Test2&quot;);\r\n\t\t}\r\n-------------------------------------HERE IS THE ISSUE------------------------------------------\r\n        //not working, forever-looping the AddUserDialog class \r\n\t\telse if(ae.getSource()==editUsers) {\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tEditUsers editDialog=new EditUsers();\r\n\t\t\t\teditDialog.setModalityType(ModalityType.APPLICATION_MODAL);\r\n\t\t\t\teditDialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\r\n\t\t\t}catch(Exception ex) {\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Test3&quot;);\r\n\t\t}\r\n```\r\nMy Screenshots for context (JMenu Users):\r\n[![JMenu Users][1]][1]\r\n\r\nClicking on Add User:\r\n[![Add User][2]][2]\r\n\r\nAnd lastly I just have a CPU stuttering when I try to run the Edit User Option. (Therefore no screenshot)\r\n\r\nCurrently I am working with the class AddUserDialog:\r\n\r\n```\r\npublic class AddUserDialog extends JDialog implements ActionListener{\r\n\t\r\n\t//a bunch of attributes\r\n    //do stuff\r\n    public AddUserDialog(){\r\n    //construct staff\r\n    }\r\n}\r\n```\r\nThe EditUsers class:\r\n```\r\npublic class EditUsers extends AddUserDialog implements ActionListener{\r\n    //do stuff\r\n    public EditUsers{\r\n    //construct stuff\r\n    }\r\n}\r\n```\r\n**NOTE:** The classes work properly on their own. If people are interested I&#39;ll share the contents of both classes and give a general glimpse on the purposes of my program. \r\n\r\n\t\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lRkFC.png\r\n  [2]: https://i.stack.imgur.com/cTTow.png","title":"Java Swing - JDialog Modal Issue","body":"<p>I'm working on a program with multiple JMenu Items that correspond to different user needs. I've assigned the respectable actions to them in my main frame. My problem is that the EditUsers Dialog is <strong>looping forever the previous JDialog</strong>(AddUserDialog, which is working properly and responds to being clicked, <strong>working as intended</strong>), therefore resulting in a freeze and termination from Eclipse. I'd like to thank any kind soul in advance that will help me in any way possible.</p>\n<pre><code>public class MainFrame extends JFrame implements ActionListener{\n//------------------all variables and values have been assigned, JMenu Items are the focus------------\n        users = new JMenu(&quot;Users&quot;);\n        menuBar.add(users);\n        \n        addUsers = new JMenuItem(&quot;Add User&quot;);\n        users.add(addUsers);\n        addUsers.addActionListener(this);\n        editUsers = new JMenuItem(&quot;Edit User&quot;);\n        users.add(editUsers);\n        editUsers.addActionListener(this);\n        auditUsers = new JMenuItem(&quot;Audit User&quot;);\n        users.add(auditUsers);\n        auditUsers.addActionListener(this);\n\npublic void actionPerformed(ActionEvent ae) {\n        // TODO Auto-generated method stub\n        \n        //example for ActionListener in the first JMenuItem, working\n        if(ae.getSource() == interfaceOpt) {\n            JOptionPane.showMessageDialog(null, &quot;Test&quot;);\n            System.out.println(&quot;Test&quot;);\n        }\n        //working\n        else if(ae.getSource()==sql){\n            System.out.println(&quot;Test1&quot;);\n            \n        }\n        //working\n        else if(ae.getSource()==addUsers) {\n            try {\n                AddUserDialog addDialog=new AddUserDialog();\n                addDialog.setModalityType(ModalityType.APPLICATION_MODAL);\n                addDialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\n            }catch(Exception ex) {\n                ex.printStackTrace();\n            }\n            \n            System.out.println(&quot;Test2&quot;);\n        }\n-------------------------------------HERE IS THE ISSUE------------------------------------------\n        //not working, forever-looping the AddUserDialog class \n        else if(ae.getSource()==editUsers) {\n            \n            try {\n                EditUsers editDialog=new EditUsers();\n                editDialog.setModalityType(ModalityType.APPLICATION_MODAL);\n                editDialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\n            }catch(Exception ex) {\n                ex.printStackTrace();\n            }\n            System.out.println(&quot;Test3&quot;);\n        }\n</code></pre>\n<p>My Screenshots for context (JMenu Users):\n<a href=\"https://i.stack.imgur.com/lRkFC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lRkFC.png\" alt=\"JMenu Users\" /></a></p>\n<p>Clicking on Add User:\n<a href=\"https://i.stack.imgur.com/cTTow.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cTTow.png\" alt=\"Add User\" /></a></p>\n<p>And lastly I just have a CPU stuttering when I try to run the Edit User Option. (Therefore no screenshot)</p>\n<p>Currently I am working with the class AddUserDialog:</p>\n<pre><code>public class AddUserDialog extends JDialog implements ActionListener{\n    \n    //a bunch of attributes\n    //do stuff\n    public AddUserDialog(){\n    //construct staff\n    }\n}\n</code></pre>\n<p>The EditUsers class:</p>\n<pre><code>public class EditUsers extends AddUserDialog implements ActionListener{\n    //do stuff\n    public EditUsers{\n    //construct stuff\n    }\n}\n</code></pre>\n<p><strong>NOTE:</strong> The classes work properly on their own. If people are interested I'll share the contents of both classes and give a general glimpse on the purposes of my program.</p>\n"},{"tags":["java","spring-boot","websphere","websphere-9"],"comments":[{"owner":{"account_id":6890847,"reputation":2050,"user_id":5294422,"display_name":"F Rowe"},"score":0,"creation_date":1662384750,"post_id":73603865,"comment_id":129987663,"body_markdown":"When deploying and starting the app, are there any messages in server logs or FFDC?","body":"When deploying and starting the app, are there any messages in server logs or FFDC?"},{"owner":{"account_id":17955946,"reputation":37,"user_id":13048000,"display_name":"Jake Gergen"},"score":0,"creation_date":1662392736,"post_id":73603865,"comment_id":129990540,"body_markdown":"@FRowe no, it doesnt even attempt to start the app. when i manually try to start from the admin console. i get the message I outlayed above","body":"@FRowe no, it doesnt even attempt to start the app. when i manually try to start from the admin console. i get the message I outlayed above"},{"owner":{"account_id":17955946,"reputation":37,"user_id":13048000,"display_name":"Jake Gergen"},"score":0,"creation_date":1662412718,"post_id":73603865,"comment_id":129995491,"body_markdown":"and adding to my above comment, nothing shows up in the logs either when I try to manually start it","body":"and adding to my above comment, nothing shows up in the logs either when I try to manually start it"}],"answers":[{"tags":[],"owner":{"account_id":17955946,"reputation":37,"user_id":13048000,"display_name":"Jake Gergen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662416038,"creation_date":1662416038,"answer_id":73615093,"question_id":73603865,"body_markdown":"I fixed this problem by creating a new directory and moving everything into that directory. Then in the parent directory I created new build.gradle and settings.gradle. and I built the sub directory as a war and the parent project as an ear.","title":"Websphere 9 - SpringBoot - &quot;Start is not a valid operation&quot;","body":"<p>I fixed this problem by creating a new directory and moving everything into that directory. Then in the parent directory I created new build.gradle and settings.gradle. and I built the sub directory as a war and the parent project as an ear.</p>\n"}],"owner":{"account_id":17955946,"reputation":37,"user_id":13048000,"display_name":"Jake Gergen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662416038,"creation_date":1662342126,"question_id":73603865,"body_markdown":"I have a hello-world spring app with only the @SpringBootApplication class that I&#39;m trying to deploy to websphere 9. It&#39;s built using gradle that is bundled using the ear plugin and The only thing in my build.gradle is the buidscript {} which defines the maven repo, the classpath to the gradle plugin, spring version and oracle version. and\r\n\r\n     ear {\r\n        appDirectory = file(&#39;src/main/java&#39;)\r\n      }\r\n\r\nthen the list of depedencies. and I have an empty application.properties file. but when I try to start it on websphere I get &quot;Start is not a valid operation&quot;\r\n\r\nI also noticed when installing it didnt let me select the module like it normally does which leads me to think that something is wrong. and the google searches for &quot;Start is not a valid operation&quot; are non-existent which i think is odd since my app is so basic so Im surpised no one else has run into this? Im sorry for not providing more code but my project is on my work machine which doesnt let me access stackoverflow.... if you need more info I will try to provide. I&#39;m completely stumped. thanks.\r\n\r\n\r\nUPDATE:\r\nI also notice that in installApps -&gt; cell -&gt; the spring app ear name is not found. Why could that be? And when I restart was9 after the spring app is installed. It doesnt even attempt to start the spring app\r\n\r\nBut the deployment.xml can be found in config-&gt;cells-&gt; cell -&gt; applications -&gt; myapp.ear\r\n\r\nwhy could this be??","title":"Websphere 9 - SpringBoot - &quot;Start is not a valid operation&quot;","body":"<p>I have a hello-world spring app with only the @SpringBootApplication class that I'm trying to deploy to websphere 9. It's built using gradle that is bundled using the ear plugin and The only thing in my build.gradle is the buidscript {} which defines the maven repo, the classpath to the gradle plugin, spring version and oracle version. and</p>\n<pre><code> ear {\n    appDirectory = file('src/main/java')\n  }\n</code></pre>\n<p>then the list of depedencies. and I have an empty application.properties file. but when I try to start it on websphere I get &quot;Start is not a valid operation&quot;</p>\n<p>I also noticed when installing it didnt let me select the module like it normally does which leads me to think that something is wrong. and the google searches for &quot;Start is not a valid operation&quot; are non-existent which i think is odd since my app is so basic so Im surpised no one else has run into this? Im sorry for not providing more code but my project is on my work machine which doesnt let me access stackoverflow.... if you need more info I will try to provide. I'm completely stumped. thanks.</p>\n<p>UPDATE:\nI also notice that in installApps -&gt; cell -&gt; the spring app ear name is not found. Why could that be? And when I restart was9 after the spring app is installed. It doesnt even attempt to start the spring app</p>\n<p>But the deployment.xml can be found in config-&gt;cells-&gt; cell -&gt; applications -&gt; myapp.ear</p>\n<p>why could this be??</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":25557844,"reputation":93,"user_id":19340995,"display_name":"gmrm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662415136,"creation_date":1662415136,"answer_id":73614991,"question_id":73614470,"body_markdown":"You are not returning the token in any way, only the text `&quot;Hiii&quot;` or `&quot;AHHHHHH&quot;`.\r\n\r\n```\r\nif(!jwt.isEmpty()){\r\n    return new ResponseEntity&lt;&gt;(&quot;Hiii&quot;, HttpStatus.OK);\r\n} else {\r\n    return new ResponseEntity&lt;&gt;(&quot;AHHHHHH&quot;, HttpStatus.OK);\r\n}\r\n```\r\n\r\nTry something like the following:\r\n```\r\nAuthenticationResponse response = new AuthenticationResponse(jwt);\r\n\r\nif(!jwt.isEmpty()){\r\n    return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n} else {\r\n    return new ResponseEntity&lt;&gt;(&quot;AHHHHHH&quot;, HttpStatus.OK);\r\n}\r\n```\r\n","title":"Why doesn&#39;t my controller return a token to Postman","body":"<p>You are not returning the token in any way, only the text <code>&quot;Hiii&quot;</code> or <code>&quot;AHHHHHH&quot;</code>.</p>\n<pre><code>if(!jwt.isEmpty()){\n    return new ResponseEntity&lt;&gt;(&quot;Hiii&quot;, HttpStatus.OK);\n} else {\n    return new ResponseEntity&lt;&gt;(&quot;AHHHHHH&quot;, HttpStatus.OK);\n}\n</code></pre>\n<p>Try something like the following:</p>\n<pre><code>AuthenticationResponse response = new AuthenticationResponse(jwt);\n\nif(!jwt.isEmpty()){\n    return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n} else {\n    return new ResponseEntity&lt;&gt;(&quot;AHHHHHH&quot;, HttpStatus.OK);\n}\n</code></pre>\n"}],"owner":{"account_id":23295747,"reputation":89,"user_id":19416927,"display_name":"EFF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662415136,"creation_date":1662410400,"question_id":73614470,"body_markdown":"I&#39;m developing an API with Spring with Security and JWT, and this is the controller method to login, and the login return a but in Postman it doesn&#39;t show the token in the body.\r\n\r\nThis is the login method controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/auth&quot;)\r\n    @CrossOrigin\r\n    public class AuthController {\r\n    \r\n        @Autowired\r\n        PasswordEncoder passwordEncoder;\r\n    \r\n        @Autowired\r\n        AuthenticationManager authenticationManager;\r\n        @Autowired\r\n        BookingUserService bookingUserService;\r\n        @Autowired\r\n        RoleService roleService;\r\n    \r\n        @Autowired\r\n        JWTUtil jwtUtil;\r\n    \r\n    \r\n        @PostMapping(path = &quot;/register&quot;)\r\n        public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody BookingUser registerBookingUser) {\r\n            if (bookingUserService.existsByEmail(registerBookingUser.getEmail())) {\r\n                return ResponseEntity.ok(&quot;Email already exists&quot;);\r\n            }\r\n           BookingUser bookingUser = new BookingUser(registerBookingUser.getName(), registerBookingUser.getLastName(), registerBookingUser.getEmail(), passwordEncoder.encode(registerBookingUser.getPassword()), registerBookingUser.getCity(), registerBookingUser.getRole());\r\n           Role role = new Role();\r\n           role = roleService.findByName(String.valueOf(RoleName.client)).get();\r\n           if(registerBookingUser.getRole().equals(&quot;admin&quot;))\r\n               role = roleService.findByName(String.valueOf(RoleName.admin)).get();\r\n           bookingUser.setRole(role);\r\n           bookingUserService.createUser(bookingUser);\r\n           return ResponseEntity.status(HttpStatus.CREATED).body(&quot;User successfully created&quot;);\r\n        }\r\n    \r\n        @Deprecated\r\n        @PostMapping(path = &quot;/login&quot;)\r\n        public ResponseEntity&lt;?&gt; loginUser(@RequestBody AuthenticationRequest request) {\r\n            try {\r\n                Authentication authentication = authenticationManager.authenticate\r\n                        (new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword()));\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n                String jwt = jwtUtil.generateToken(authentication);\r\n                UserDetails userDetails = (UserDetails) authentication.getPrincipal();\r\n                //user = (Optional&lt;BookingUser&gt;) authentication.getPrincipal();\r\n                AuthenticationResponse response = new AuthenticationResponse(jwt);\r\n                System.out.println(&quot;JWT AHHHHH: &quot;);\r\n    \r\n                if(!jwt.isEmpty()){\r\n                    return new ResponseEntity&lt;&gt;(&quot;Hiii&quot;, HttpStatus.OK);\r\n                } else {\r\n                    return new ResponseEntity&lt;&gt;(&quot;AHHHHHH&quot;, HttpStatus.OK);\r\n                }\r\n    \r\n            } catch (BadCredentialsException e) {\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.FORBIDDEN);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nThis the JwtUtil\r\n\r\n    @Component\r\n    public class JWTUtil {\r\n        private static final String KEY = &quot;mG9\\\\n2,^obBu[8n.~MpVzbB5tHnuYF&lt;KRE/LnQrQ&lt;q@]wQP46vo^x{3vEN?3uN/E&quot;;\r\n        @Deprecated\r\n        public String generateToken(Authentication authentication) {\r\n            BookingUser user = (BookingUser) authentication.getPrincipal();\r\n            Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n            claims.put(&quot;lastname&quot;, user.getLastName());\r\n            claims.put(&quot;name&quot;, user.getName());\r\n    \r\n            return Jwts.builder()\r\n                    .setSubject(user.getUsername())\r\n                    .addClaims(claims)\r\n                    .setIssuedAt(new Date())\r\n                    .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 10))\r\n                    .signWith(SignatureAlgorithm.HS256, KEY).compact();\r\n        }\r\n        public Boolean validateToken(String token, UserDetails userDetails) {\r\n            return userDetails.getUsername().equals(extractUsername(token)) &amp;&amp; !isTokenExpired(token);\r\n        }\r\n        public String extractUsername(String token) {\r\n            return getClaims(token).getSubject();\r\n        }\r\n        public Boolean isTokenExpired(String token) {\r\n            return getClaims(token).getExpiration().before(new Date());\r\n        }\r\n        @Deprecated\r\n        private Claims getClaims(String token) {\r\n            return Jwts.parser().setSigningKey(KEY).parseClaimsJws(token).getBody();\r\n        }\r\n    }\r\n\r\n\r\nThis the JwtEntryPoint\r\n\r\n    @Component\r\n    public class JwtEntryPoint implements AuthenticationEntryPoint {\r\n        @Override\r\n        public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\r\n                throws IOException, ServletException {\r\n        }\r\n    }\r\n\r\n\r\nAuthenticationResponse\r\n\r\n    @Setter\r\n    @Getter\r\n    \r\n    public class AuthenticationResponse {\r\n        private String jwt;\r\n    \r\n        public AuthenticationResponse(String jwt) {\r\n            this.jwt = jwt;\r\n        }\r\n    }\r\n\r\nAuthController\r\n\r\n        \r\n    @RestController\r\n    @RequestMapping(&quot;/auth&quot;)\r\n    @CrossOrigin\r\n    public class AuthController {\r\n    \r\n        @Autowired\r\n        PasswordEncoder passwordEncoder;\r\n    \r\n        @Autowired\r\n        AuthenticationManager authenticationManager;\r\n        @Autowired\r\n        BookingUserService bookingUserService;\r\n        @Autowired\r\n        RoleService roleService;\r\n    \r\n        @Autowired\r\n        JWTUtil jwtUtil;\r\n    \r\n    \r\n        @PostMapping(path = &quot;/register&quot;)\r\n        public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody BookingUser registerBookingUser) {\r\n            if (bookingUserService.existsByEmail(registerBookingUser.getEmail())) {\r\n                return ResponseEntity.ok(&quot;Email already exists&quot;);\r\n            }\r\n           BookingUser bookingUser = new BookingUser(registerBookingUser.getName(), registerBookingUser.getLastName(), registerBookingUser.getEmail(), passwordEncoder.encode(registerBookingUser.getPassword()), registerBookingUser.getCity(), registerBookingUser.getRole());\r\n           Role role = new Role();\r\n           role = roleService.findByName(String.valueOf(RoleName.client)).get();\r\n           if(registerBookingUser.getRole().equals(&quot;admin&quot;))\r\n               role = roleService.findByName(String.valueOf(RoleName.admin)).get();\r\n           bookingUser.setRole(role);\r\n           bookingUserService.createUser(bookingUser);\r\n           return ResponseEntity.status(HttpStatus.CREATED).body(&quot;User successfully created&quot;);\r\n        }\r\n    \r\n        @Deprecated\r\n        @PostMapping(path = &quot;/login&quot;)\r\n        public ResponseEntity&lt;?&gt; loginUser(@RequestBody AuthenticationRequest request) {\r\n            try {\r\n                Authentication authentication = authenticationManager.authenticate\r\n                        (new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword()));\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n                String jwt = jwtUtil.generateToken(authentication);\r\n                UserDetails userDetails = (UserDetails) authentication.getPrincipal();\r\n                //user = (Optional&lt;BookingUser&gt;) authentication.getPrincipal();\r\n                AuthenticationResponse response = new AuthenticationResponse(jwt);\r\n                System.out.println(&quot;JWT AHHHHH: &quot;);\r\n    \r\n                if(!jwt.isEmpty()){\r\n                    return new ResponseEntity&lt;&gt;(&quot;Hiii&quot;, HttpStatus.OK);\r\n                } else {\r\n                    return new ResponseEntity&lt;&gt;(&quot;AHHHHHH&quot;, HttpStatus.OK);\r\n                }\r\n    \r\n            } catch (BadCredentialsException e) {\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.FORBIDDEN);\r\n            }\r\n        }\r\n    }\r\n\r\nAuthenticationRequest\r\n\r\n    @Setter\r\n    @Getter\r\n    \r\n    public class AuthenticationRequest {\r\n        private String email;\r\n        private String password;\r\n    }\r\n\r\n\r\n","title":"Why doesn&#39;t my controller return a token to Postman","body":"<p>I'm developing an API with Spring with Security and JWT, and this is the controller method to login, and the login return a but in Postman it doesn't show the token in the body.</p>\n<p>This is the login method controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/auth&quot;)\n@CrossOrigin\npublic class AuthController {\n\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    @Autowired\n    AuthenticationManager authenticationManager;\n    @Autowired\n    BookingUserService bookingUserService;\n    @Autowired\n    RoleService roleService;\n\n    @Autowired\n    JWTUtil jwtUtil;\n\n\n    @PostMapping(path = &quot;/register&quot;)\n    public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody BookingUser registerBookingUser) {\n        if (bookingUserService.existsByEmail(registerBookingUser.getEmail())) {\n            return ResponseEntity.ok(&quot;Email already exists&quot;);\n        }\n       BookingUser bookingUser = new BookingUser(registerBookingUser.getName(), registerBookingUser.getLastName(), registerBookingUser.getEmail(), passwordEncoder.encode(registerBookingUser.getPassword()), registerBookingUser.getCity(), registerBookingUser.getRole());\n       Role role = new Role();\n       role = roleService.findByName(String.valueOf(RoleName.client)).get();\n       if(registerBookingUser.getRole().equals(&quot;admin&quot;))\n           role = roleService.findByName(String.valueOf(RoleName.admin)).get();\n       bookingUser.setRole(role);\n       bookingUserService.createUser(bookingUser);\n       return ResponseEntity.status(HttpStatus.CREATED).body(&quot;User successfully created&quot;);\n    }\n\n    @Deprecated\n    @PostMapping(path = &quot;/login&quot;)\n    public ResponseEntity&lt;?&gt; loginUser(@RequestBody AuthenticationRequest request) {\n        try {\n            Authentication authentication = authenticationManager.authenticate\n                    (new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword()));\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n            String jwt = jwtUtil.generateToken(authentication);\n            UserDetails userDetails = (UserDetails) authentication.getPrincipal();\n            //user = (Optional&lt;BookingUser&gt;) authentication.getPrincipal();\n            AuthenticationResponse response = new AuthenticationResponse(jwt);\n            System.out.println(&quot;JWT AHHHHH: &quot;);\n\n            if(!jwt.isEmpty()){\n                return new ResponseEntity&lt;&gt;(&quot;Hiii&quot;, HttpStatus.OK);\n            } else {\n                return new ResponseEntity&lt;&gt;(&quot;AHHHHHH&quot;, HttpStatus.OK);\n            }\n\n        } catch (BadCredentialsException e) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.FORBIDDEN);\n        }\n    }\n}\n</code></pre>\n<p>This the JwtUtil</p>\n<pre><code>@Component\npublic class JWTUtil {\n    private static final String KEY = &quot;mG9\\\\n2,^obBu[8n.~MpVzbB5tHnuYF&lt;KRE/LnQrQ&lt;q@]wQP46vo^x{3vEN?3uN/E&quot;;\n    @Deprecated\n    public String generateToken(Authentication authentication) {\n        BookingUser user = (BookingUser) authentication.getPrincipal();\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        claims.put(&quot;lastname&quot;, user.getLastName());\n        claims.put(&quot;name&quot;, user.getName());\n\n        return Jwts.builder()\n                .setSubject(user.getUsername())\n                .addClaims(claims)\n                .setIssuedAt(new Date())\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 10))\n                .signWith(SignatureAlgorithm.HS256, KEY).compact();\n    }\n    public Boolean validateToken(String token, UserDetails userDetails) {\n        return userDetails.getUsername().equals(extractUsername(token)) &amp;&amp; !isTokenExpired(token);\n    }\n    public String extractUsername(String token) {\n        return getClaims(token).getSubject();\n    }\n    public Boolean isTokenExpired(String token) {\n        return getClaims(token).getExpiration().before(new Date());\n    }\n    @Deprecated\n    private Claims getClaims(String token) {\n        return Jwts.parser().setSigningKey(KEY).parseClaimsJws(token).getBody();\n    }\n}\n</code></pre>\n<p>This the JwtEntryPoint</p>\n<pre><code>@Component\npublic class JwtEntryPoint implements AuthenticationEntryPoint {\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\n            throws IOException, ServletException {\n    }\n}\n</code></pre>\n<p>AuthenticationResponse</p>\n<pre><code>@Setter\n@Getter\n\npublic class AuthenticationResponse {\n    private String jwt;\n\n    public AuthenticationResponse(String jwt) {\n        this.jwt = jwt;\n    }\n}\n</code></pre>\n<p>AuthController</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/auth&quot;)\n@CrossOrigin\npublic class AuthController {\n\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    @Autowired\n    AuthenticationManager authenticationManager;\n    @Autowired\n    BookingUserService bookingUserService;\n    @Autowired\n    RoleService roleService;\n\n    @Autowired\n    JWTUtil jwtUtil;\n\n\n    @PostMapping(path = &quot;/register&quot;)\n    public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody BookingUser registerBookingUser) {\n        if (bookingUserService.existsByEmail(registerBookingUser.getEmail())) {\n            return ResponseEntity.ok(&quot;Email already exists&quot;);\n        }\n       BookingUser bookingUser = new BookingUser(registerBookingUser.getName(), registerBookingUser.getLastName(), registerBookingUser.getEmail(), passwordEncoder.encode(registerBookingUser.getPassword()), registerBookingUser.getCity(), registerBookingUser.getRole());\n       Role role = new Role();\n       role = roleService.findByName(String.valueOf(RoleName.client)).get();\n       if(registerBookingUser.getRole().equals(&quot;admin&quot;))\n           role = roleService.findByName(String.valueOf(RoleName.admin)).get();\n       bookingUser.setRole(role);\n       bookingUserService.createUser(bookingUser);\n       return ResponseEntity.status(HttpStatus.CREATED).body(&quot;User successfully created&quot;);\n    }\n\n    @Deprecated\n    @PostMapping(path = &quot;/login&quot;)\n    public ResponseEntity&lt;?&gt; loginUser(@RequestBody AuthenticationRequest request) {\n        try {\n            Authentication authentication = authenticationManager.authenticate\n                    (new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword()));\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n            String jwt = jwtUtil.generateToken(authentication);\n            UserDetails userDetails = (UserDetails) authentication.getPrincipal();\n            //user = (Optional&lt;BookingUser&gt;) authentication.getPrincipal();\n            AuthenticationResponse response = new AuthenticationResponse(jwt);\n            System.out.println(&quot;JWT AHHHHH: &quot;);\n\n            if(!jwt.isEmpty()){\n                return new ResponseEntity&lt;&gt;(&quot;Hiii&quot;, HttpStatus.OK);\n            } else {\n                return new ResponseEntity&lt;&gt;(&quot;AHHHHHH&quot;, HttpStatus.OK);\n            }\n\n        } catch (BadCredentialsException e) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.FORBIDDEN);\n        }\n    }\n}\n</code></pre>\n<p>AuthenticationRequest</p>\n<pre><code>@Setter\n@Getter\n\npublic class AuthenticationRequest {\n    private String email;\n    private String password;\n}\n</code></pre>\n"},{"tags":["java","scala","class","debugging","println"],"comments":[{"owner":{"account_id":2538731,"reputation":2578,"user_id":2205089,"display_name":"Alin Gabriel Arhip"},"score":3,"creation_date":1662396681,"post_id":73612496,"comment_id":129991646,"body_markdown":"Have you tried `println(net)` ? (printing the object of type `NetConfig`)","body":"Have you tried <code>println(net)</code> ? (printing the object of type <code>NetConfig</code>)"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1662398393,"post_id":73612496,"comment_id":129992142,"body_markdown":"You would like to print attributes of a case class without having an instance of this case class?","body":"You would like to print attributes of a case class without having an instance of this case class?"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1662398406,"post_id":73612496,"comment_id":129992148,"body_markdown":"You can also have a look to https://stackoverflow.com/a/52600495/5389127","body":"You can also have a look to <a href=\"https://stackoverflow.com/a/52600495/5389127\">stackoverflow.com/a/52600495/5389127</a>"},{"owner":{"account_id":23328754,"reputation":117,"user_id":17433414,"display_name":"gwhiz"},"score":1,"creation_date":1662400276,"post_id":73612496,"comment_id":129992678,"body_markdown":"@AlinGabrielArhip yes that is all it is. I&#39;m so used to seeing the type first then the variable from other languages. If you want to make an answer I can accept it.","body":"@AlinGabrielArhip yes that is all it is. I&#39;m so used to seeing the type first then the variable from other languages. If you want to make an answer I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":2538731,"reputation":2578,"user_id":2205089,"display_name":"Alin Gabriel Arhip"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1662415000,"creation_date":1662402364,"answer_id":73613414,"question_id":73612496,"body_markdown":"One of the advantages of `case class`es is that they provide an out-of-the-box `toString` tailored to their primary constructor&#39;s arguments. For example, this:\r\n\r\n      case class Person(name: String, age: Int, birthplace: String)\r\n\r\nAmong other [differences][1] from regular classes you can view this as a normal `class` with the following overridden `toString`:\r\n\r\n      class Person(val name: String, val age: Int, val birthplace: String) {\r\n\r\n        // ... other case class methods\r\n\r\n        override def toString: String =\r\n          s&quot;${getClass.getSimpleName}($name,${age.toString},$birthplace)&quot;\r\n      }\r\n\r\nThis is intentional so that you can view a `String` representation of every instance of a `Person`:\r\n\r\n      val p = new Person(&quot;Hikaru&quot;, 25, &quot;Tokyo&quot;)\r\n      println(p) // both will print: Person(Hikaru,25,Tokyo)\r\n\r\nWhereas a normal class without the `toString` overridden would print something like: \r\n\r\n    &lt;OuterClassWithFullPath&gt;$Person@&lt;hashCode&gt;\r\n\r\nSo in your case, since `net` is already an object of the `NetConfig` type, which is already a `case class`, just a simple `println(net)` should do it.\r\n\r\nEDIT:\r\nTo avoid confusing the type with the variable, besides the fact that the type comes first, then the variable name (this is intentional so that you can sometimes omit the type, such as: `val myNumber = 10`), remember the [naming convention][2] in Scala is the same as in Java: classes or traits should always be named in upper camel case, whereas values and variable names should be names in lower camel case, unless they are constants.\r\n\r\n\r\n  [1]: https://docs.scala-lang.org/tour/case-classes.html\r\n  [2]: https://docs.scala-lang.org/style/naming-conventions.html","title":"Can I print a case class param that is passed to class function in Scala?","body":"<p>One of the advantages of <code>case class</code>es is that they provide an out-of-the-box <code>toString</code> tailored to their primary constructor's arguments. For example, this:</p>\n<pre><code>  case class Person(name: String, age: Int, birthplace: String)\n</code></pre>\n<p>Among other <a href=\"https://docs.scala-lang.org/tour/case-classes.html\" rel=\"nofollow noreferrer\">differences</a> from regular classes you can view this as a normal <code>class</code> with the following overridden <code>toString</code>:</p>\n<pre><code>  class Person(val name: String, val age: Int, val birthplace: String) {\n\n    // ... other case class methods\n\n    override def toString: String =\n      s&quot;${getClass.getSimpleName}($name,${age.toString},$birthplace)&quot;\n  }\n</code></pre>\n<p>This is intentional so that you can view a <code>String</code> representation of every instance of a <code>Person</code>:</p>\n<pre><code>  val p = new Person(&quot;Hikaru&quot;, 25, &quot;Tokyo&quot;)\n  println(p) // both will print: Person(Hikaru,25,Tokyo)\n</code></pre>\n<p>Whereas a normal class without the <code>toString</code> overridden would print something like:</p>\n<pre><code>&lt;OuterClassWithFullPath&gt;$Person@&lt;hashCode&gt;\n</code></pre>\n<p>So in your case, since <code>net</code> is already an object of the <code>NetConfig</code> type, which is already a <code>case class</code>, just a simple <code>println(net)</code> should do it.</p>\n<p>EDIT:\nTo avoid confusing the type with the variable, besides the fact that the type comes first, then the variable name (this is intentional so that you can sometimes omit the type, such as: <code>val myNumber = 10</code>), remember the <a href=\"https://docs.scala-lang.org/style/naming-conventions.html\" rel=\"nofollow noreferrer\">naming convention</a> in Scala is the same as in Java: classes or traits should always be named in upper camel case, whereas values and variable names should be names in lower camel case, unless they are constants.</p>\n"}],"owner":{"account_id":23328754,"reputation":117,"user_id":17433414,"display_name":"gwhiz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73613414,"answer_count":1,"score":1,"last_activity_date":1662415000,"creation_date":1662396473,"question_id":73612496,"body_markdown":"I am trying to print an object that is passed to a class function in scala.\r\n\r\nThe case class is written:\r\n\r\n```\r\nconfig {\r\n...\r\ncase class NetConfig(\r\n      domain: NetDomain,\r\n      prodDomain: NetDomain,\r\n      @ConfigName(&quot;base_url&quot;) baseUrl: BaseUrl,\r\n      @ConfigName(&quot;asset.domain&quot;) assetDomain: AssetDomain,\r\n      @ConfigName(&quot;asset.base_url&quot;) assetBaseUrl: AssetBaseUrl,\r\n      @ConfigName(&quot;asset.minified&quot;) minifiedAssets: Boolean,\r\n      @ConfigName(&quot;stage.banner&quot;) stageBanner: Boolean,\r\n      @ConfigName(&quot;socket.domains&quot;) socketDomains: List[String],\r\n      crawlable: Boolean,\r\n      @ConfigName(&quot;ratelimit&quot;) rateLimit: RateLimit,\r\n      email: EmailAddress\r\n  ) {\r\n    def isProd = domain == prodDomain\r\n  }\r\n...\r\n}\r\n```\r\n\r\nThe class function is written:\r\n\r\n```\r\nimport ....config.NetConfig\r\nfinal class CSRFRequestHandler(net: NetConfig) {\r\n...\r\n}\r\n```\r\n\r\nI&#39;d like to see the values of all the members of NetConfig when this handler is called.\r\nI tried a few things like:\r\n\r\n```\r\nfinal class CSRFRequestHandler(net: NetConfig) {\r\nprintln(NetConfig)\r\n(I just got the word NetConfig)\r\n\r\nor\r\n\r\nprintln(NetCConfig.domain)\r\n(got compile error value domain is not a member of object lila.common.config.NetConfig)\r\n\r\nor NetConfig.show\r\n(got the word NetConfig)\r\n```\r\n\r\nFYI we are using the Play framework. And I don&#39;t know scala sigh.\r\nWhat is the correct way to print all the values of NetConfig?\r\n\r\n\r\n\r\n","title":"Can I print a case class param that is passed to class function in Scala?","body":"<p>I am trying to print an object that is passed to a class function in scala.</p>\n<p>The case class is written:</p>\n<pre><code>config {\n...\ncase class NetConfig(\n      domain: NetDomain,\n      prodDomain: NetDomain,\n      @ConfigName(&quot;base_url&quot;) baseUrl: BaseUrl,\n      @ConfigName(&quot;asset.domain&quot;) assetDomain: AssetDomain,\n      @ConfigName(&quot;asset.base_url&quot;) assetBaseUrl: AssetBaseUrl,\n      @ConfigName(&quot;asset.minified&quot;) minifiedAssets: Boolean,\n      @ConfigName(&quot;stage.banner&quot;) stageBanner: Boolean,\n      @ConfigName(&quot;socket.domains&quot;) socketDomains: List[String],\n      crawlable: Boolean,\n      @ConfigName(&quot;ratelimit&quot;) rateLimit: RateLimit,\n      email: EmailAddress\n  ) {\n    def isProd = domain == prodDomain\n  }\n...\n}\n</code></pre>\n<p>The class function is written:</p>\n<pre><code>import ....config.NetConfig\nfinal class CSRFRequestHandler(net: NetConfig) {\n...\n}\n</code></pre>\n<p>I'd like to see the values of all the members of NetConfig when this handler is called.\nI tried a few things like:</p>\n<pre><code>final class CSRFRequestHandler(net: NetConfig) {\nprintln(NetConfig)\n(I just got the word NetConfig)\n\nor\n\nprintln(NetCConfig.domain)\n(got compile error value domain is not a member of object lila.common.config.NetConfig)\n\nor NetConfig.show\n(got the word NetConfig)\n</code></pre>\n<p>FYI we are using the Play framework. And I don't know scala sigh.\nWhat is the correct way to print all the values of NetConfig?</p>\n"},{"tags":["java","c#","azure","azure-functions"],"comments":[{"owner":{"account_id":11488365,"reputation":510,"user_id":8420233,"display_name":"absoluteAquarian"},"score":0,"creation_date":1539275558,"post_id":52764384,"comment_id":92452575,"body_markdown":"try what [this answer](https://stackoverflow.com/a/5774976/8420233) says","body":"try what <a href=\"https://stackoverflow.com/a/5774976/8420233\">this answer</a> says"}],"answers":[{"tags":[],"owner":{"account_id":14446567,"reputation":818,"user_id":10435489,"display_name":"Mike Baron"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1539365819,"creation_date":1539275511,"answer_id":52764949,"question_id":52764384,"body_markdown":"OK figured this out.  So far, the best way is to fully qualify the path to java.exe...\r\n\r\nso I changed  \r\n`proc.StartInfo.FileName = java.exe&quot;;`  \r\nto  \r\n`proc.StartInfo.FileName = &quot;D:\\\\Program Files (x86)\\\\Java\\\\jdk1.8.0_73\\\\bin\\\\java.exe&quot;;`\r\n\r\nYou can figure out the full path to Java using KUDU, which is https://[yourFunctionName].scm.azurewebsites.net/\r\n\r\nIf you click on Tools-&gt;DebugConsole, you can browse until you find where Java is located.\r\n\r\nNote hard coding the path to Java is probably a bad idea so you should probably use application settings.\r\n\r\n**Edit** Below is a link to a GitHub Repo with my final project.  The project does some other stuff, but you can see where I call Java to execute the Batik JAR.  \r\nhttps://github.com/osuhomebase/SVG2PNG-AzureFunction","title":"Executing java.exe from C# in Azure Function","body":"<p>OK figured this out.  So far, the best way is to fully qualify the path to java.exe...</p>\n\n<p>so I changed<br>\n<code>proc.StartInfo.FileName = java.exe\";</code><br>\nto<br>\n<code>proc.StartInfo.FileName = \"D:\\\\Program Files (x86)\\\\Java\\\\jdk1.8.0_73\\\\bin\\\\java.exe\";</code></p>\n\n<p>You can figure out the full path to Java using KUDU, which is <a href=\"https://[yourFunctionName].scm.azurewebsites.net/\" rel=\"nofollow noreferrer\">https://[yourFunctionName].scm.azurewebsites.net/</a></p>\n\n<p>If you click on Tools->DebugConsole, you can browse until you find where Java is located.</p>\n\n<p>Note hard coding the path to Java is probably a bad idea so you should probably use application settings.</p>\n\n<p><strong>Edit</strong> Below is a link to a GitHub Repo with my final project.  The project does some other stuff, but you can see where I call Java to execute the Batik JAR.<br>\n<a href=\"https://github.com/osuhomebase/SVG2PNG-AzureFunction\" rel=\"nofollow noreferrer\">https://github.com/osuhomebase/SVG2PNG-AzureFunction</a></p>\n"},{"tags":[],"owner":{"account_id":5067109,"reputation":1183,"user_id":4066949,"accept_rate":67,"display_name":"Allen Rufolo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662414550,"creation_date":1662414550,"answer_id":73614936,"question_id":52764384,"body_markdown":"As of September 2022, \r\n\r\n    proc.StartInfo.FileName = java.exe&quot;;\r\n\r\nWorked fine for me. It appears the Azure Function Environment has the JDK installed and the JAVA PATH variable set.\r\n","title":"Executing java.exe from C# in Azure Function","body":"<p>As of September 2022,</p>\n<pre><code>proc.StartInfo.FileName = java.exe&quot;;\n</code></pre>\n<p>Worked fine for me. It appears the Azure Function Environment has the JDK installed and the JAVA PATH variable set.</p>\n"}],"owner":{"account_id":14446567,"reputation":818,"user_id":10435489,"display_name":"Mike Baron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52764949,"answer_count":2,"score":2,"last_activity_date":1662414550,"creation_date":1539273616,"question_id":52764384,"body_markdown":"I&#39;m trying to execute java to run a JAR file from an Azure function, but it seems like the java PATH variable isn&#39;t defined or something because Azure can&#39;t seem to find it.  Code below:\r\n \r\n\r\n     Process proc = new Process();\r\n            try\r\n            {\r\n                proc.StartInfo.UseShellExecute = false;\r\n                proc.StartInfo.CreateNoWindow = false;\r\n                proc.StartInfo.RedirectStandardOutput = true;\r\n                proc.StartInfo.FileName = &quot;java.exe&quot;;\r\n                proc.StartInfo.Arguments = &quot;-jar file path and some more arguments&quot;;\r\n                proc.Start();\r\n                proc.WaitForExit();\r\n                if (proc.HasExited)\r\n                    log.Info(proc.StandardOutput.ReadToEnd());\r\n\r\n                log.Info(&quot;Java Success!&quot;);\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                log.Info(&quot;Java Fail&quot;);\r\n                log.Info(e.Message);\r\n            }\r\n\r\nEven if I remove the `proc.StartInfo.Arguments` or tell it to use `java.exe` instead of `java` I still get the same error, below:\r\n\r\n&gt; [Info] The system cannot find the file specified\r\n\r\nIs calling java not supported in Azure functions?\r\n\r\n","title":"Executing java.exe from C# in Azure Function","body":"<p>I'm trying to execute java to run a JAR file from an Azure function, but it seems like the java PATH variable isn't defined or something because Azure can't seem to find it.  Code below:</p>\n\n<pre><code> Process proc = new Process();\n        try\n        {\n            proc.StartInfo.UseShellExecute = false;\n            proc.StartInfo.CreateNoWindow = false;\n            proc.StartInfo.RedirectStandardOutput = true;\n            proc.StartInfo.FileName = \"java.exe\";\n            proc.StartInfo.Arguments = \"-jar file path and some more arguments\";\n            proc.Start();\n            proc.WaitForExit();\n            if (proc.HasExited)\n                log.Info(proc.StandardOutput.ReadToEnd());\n\n            log.Info(\"Java Success!\");\n        }\n        catch (Exception e)\n        {\n            log.Info(\"Java Fail\");\n            log.Info(e.Message);\n        }\n</code></pre>\n\n<p>Even if I remove the <code>proc.StartInfo.Arguments</code> or tell it to use <code>java.exe</code> instead of <code>java</code> I still get the same error, below:</p>\n\n<blockquote>\n  <p>[Info] The system cannot find the file specified</p>\n</blockquote>\n\n<p>Is calling java not supported in Azure functions?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14135505,"reputation":105,"user_id":10212116,"display_name":"Veysel &#214;z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662413674,"creation_date":1662413674,"answer_id":73614855,"question_id":73608700,"body_markdown":"I&#39;m not sure if my solution is the best. On the other hand, The `@RequestMapping` path should be set for `SubControllers` as `Spring` give Ambiguous Mapping error.\r\n\r\n    abstract class BaseController {\r\n    \r\n        Handler handler;\r\n    \r\n        BaseController(String handler, @PathVariable String pathName) {\r\n           this.handler = handler;\r\n        }\r\n    \r\n        @GetMapping(&quot;get/{pathName}&quot;)\r\n        String get() {\r\n           return handler.handle();\r\n        }\r\n    }\r\n    \r\n    @RequestMapping(&quot;/a&quot;)\r\n    class SubControllerA extends BaseController {\r\n      private static final String pathName = \r\n            SubControllerA.class.getSimpleName().toLowerCase(Locale.ROOT);\r\n\r\n      SubController() {\r\n           super(SpecificHandlerA(), pathName);\r\n      }\r\n    }\r\n    \r\n    @RequestMapping(&quot;/b&quot;)\r\n    class SubControllerB extends BaseController {\r\n       private static final String pathName = \r\n            SubControllerB.class.getSimpleName().toLowerCase(Locale.ROOT);\r\n       SubController() {\r\n           super(SpecificHandlerB(), pathName);\r\n       }\r\n    }\r\n\r\nI hope, it is worked for you.","title":"Override Methods with RequestMapping","body":"<p>I'm not sure if my solution is the best. On the other hand, The <code>@RequestMapping</code> path should be set for <code>SubControllers</code> as <code>Spring</code> give Ambiguous Mapping error.</p>\n<pre><code>abstract class BaseController {\n\n    Handler handler;\n\n    BaseController(String handler, @PathVariable String pathName) {\n       this.handler = handler;\n    }\n\n    @GetMapping(&quot;get/{pathName}&quot;)\n    String get() {\n       return handler.handle();\n    }\n}\n\n@RequestMapping(&quot;/a&quot;)\nclass SubControllerA extends BaseController {\n  private static final String pathName = \n        SubControllerA.class.getSimpleName().toLowerCase(Locale.ROOT);\n\n  SubController() {\n       super(SpecificHandlerA(), pathName);\n  }\n}\n\n@RequestMapping(&quot;/b&quot;)\nclass SubControllerB extends BaseController {\n   private static final String pathName = \n        SubControllerB.class.getSimpleName().toLowerCase(Locale.ROOT);\n   SubController() {\n       super(SpecificHandlerB(), pathName);\n   }\n}\n</code></pre>\n<p>I hope, it is worked for you.</p>\n"}],"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662413674,"creation_date":1662377503,"question_id":73608700,"body_markdown":"I have the following classes:\r\n\r\n    abstract class BaseController {\r\n\r\n        Handler handler;\r\n\r\n        BaseController() {\r\n           this.handler = handler;\r\n        }\r\n\r\n        @GetMapping(&quot;get&quot;)\r\n        String get() {\r\n           return handler.handle();\r\n        }\r\n    }\r\n\r\n    class SubControllerA extends BaseController {\r\n       SubController() {\r\n           super(SpecificHandlerA());\r\n       }\r\n    }\r\n\r\n    class SubControllerB extends BaseController {\r\n       SubController() {\r\n           super(SpecificHandlerB());\r\n       }\r\n    }\r\n\r\nIs it possible to use the class-names of the implementing classes in the GetMapping, without overriding get(), so that I have two endpoints `.../get/subcontrollera` and `.../get/subcontrollerb`.","title":"Override Methods with RequestMapping","body":"<p>I have the following classes:</p>\n<pre><code>abstract class BaseController {\n\n    Handler handler;\n\n    BaseController() {\n       this.handler = handler;\n    }\n\n    @GetMapping(&quot;get&quot;)\n    String get() {\n       return handler.handle();\n    }\n}\n\nclass SubControllerA extends BaseController {\n   SubController() {\n       super(SpecificHandlerA());\n   }\n}\n\nclass SubControllerB extends BaseController {\n   SubController() {\n       super(SpecificHandlerB());\n   }\n}\n</code></pre>\n<p>Is it possible to use the class-names of the implementing classes in the GetMapping, without overriding get(), so that I have two endpoints <code>.../get/subcontrollera</code> and <code>.../get/subcontrollerb</code>.</p>\n"},{"tags":["java","quickfix"],"answers":[{"tags":[],"owner":{"account_id":258238,"reputation":7423,"user_id":540284,"display_name":"robthewolf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381151855,"creation_date":1381151855,"answer_id":19225956,"question_id":19225386,"body_markdown":"You need to have this somewhere in your code to send a message (not in the overriden methods):\r\n\r\n    Session.sendToTarget(outgoingMessage, orderSession);\r\n\r\nThat will execute some internal quickfixJ code and then call `toApp()`.  The `toApp()` method allows you do modify the message before it is sent to the broker.  But ideally in order to do something after you send you just need to add code after the call to `Session.sendToTarget()`.","title":"quickfix event after sending message","body":"<p>You need to have this somewhere in your code to send a message (not in the overriden methods):</p>\n\n<pre><code>Session.sendToTarget(outgoingMessage, orderSession);\n</code></pre>\n\n<p>That will execute some internal quickfixJ code and then call <code>toApp()</code>.  The <code>toApp()</code> method allows you do modify the message before it is sent to the broker.  But ideally in order to do something after you send you just need to add code after the call to <code>Session.sendToTarget()</code>.</p>\n"},{"tags":[],"owner":{"account_id":327857,"reputation":18034,"user_id":650475,"accept_rate":96,"display_name":"Grant Birchmeier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1381156137,"creation_date":1381156137,"answer_id":19227448,"question_id":19225386,"body_markdown":"QuickFIX does not offer a after-message-send callback.","title":"quickfix event after sending message","body":"<p>QuickFIX does not offer a after-message-send callback.</p>\n"},{"tags":[],"owner":{"account_id":1066482,"reputation":978,"user_id":1066908,"display_name":"Frank Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381312198,"creation_date":1381312198,"answer_id":19268599,"question_id":19225386,"body_markdown":"If you are adventurous, you can modify QuickFIX/J to do it. The MINA network layer does provide a messageSent callback. If you override that method in QFJ&#39;s InitiatorIoHandler (or AcceptorIoHandler) you could either directly process the messageSent event or propagate it to a modified Application interface. ","title":"quickfix event after sending message","body":"<p>If you are adventurous, you can modify QuickFIX/J to do it. The MINA network layer does provide a messageSent callback. If you override that method in QFJ's InitiatorIoHandler (or AcceptorIoHandler) you could either directly process the messageSent event or propagate it to a modified Application interface. </p>\n"},{"tags":[],"owner":{"account_id":26253949,"reputation":1,"user_id":19926305,"display_name":"Gus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662413284,"creation_date":1662413284,"answer_id":73614806,"question_id":19225386,"body_markdown":"If I undertand correctly. You need to do some action after you send a message. If it is correct I have the following example:\r\n\r\n    public static void send(Message message) {\r\n\t\t\tboolean sent = Session.sendToTarget(message, mySessionId);\r\n\t\t\tif (sent){\r\n\t\t\t\t//do something\r\n\t\t\t}else {\r\n\t\t\t\t//something else\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;El mensaje se mand&#243;: &quot; + sent);\r\n\t\t} catch (SessionNotFound e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n\t}\r\n\r\n","title":"quickfix event after sending message","body":"<p>If I undertand correctly. You need to do some action after you send a message. If it is correct I have the following example:</p>\n<pre><code>public static void send(Message message) {\n        boolean sent = Session.sendToTarget(message, mySessionId);\n        if (sent){\n            //do something\n        }else {\n            //something else\n        }\n        System.out.println(&quot;El mensaje se mandó: &quot; + sent);\n    } catch (SessionNotFound e) {\n        System.out.println(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2619610,"reputation":215,"user_id":2267950,"accept_rate":43,"display_name":"Nyger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":902,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19227448,"answer_count":4,"score":0,"last_activity_date":1662413284,"creation_date":1381150181,"question_id":19225386,"body_markdown":"I am doing something with fix protocol using quickfix library.\r\n\r\nI wrote class like this:\r\n\r\n    public class ApplicationImpl implements Application {\r\n    ...\r\n    \t@Override\r\n\tpublic void toApp(Message arg0, SessionID arg1) throws DoNotSend {\r\n\t\t//this is invoked before sending message\r\n\t}\r\n    ...\r\n    }\r\n\r\nI wonder how to invoke some method after sending message?\r\n","title":"quickfix event after sending message","body":"<p>I am doing something with fix protocol using quickfix library.</p>\n\n<p>I wrote class like this:</p>\n\n<pre><code>public class ApplicationImpl implements Application {\n...\n    @Override\npublic void toApp(Message arg0, SessionID arg1) throws DoNotSend {\n    //this is invoked before sending message\n}\n...\n}\n</code></pre>\n\n<p>I wonder how to invoke some method after sending message?</p>\n"},{"tags":["java","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":11597475,"reputation":1802,"user_id":8495783,"display_name":"Abolfazl Mohajeri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662409321,"creation_date":1662405452,"answer_id":73613837,"question_id":73613475,"body_markdown":"You should send post request to `/api/path/data` with this request body:\r\n\r\n```\r\n{\r\n    &quot;uppercase&quot;: &quot;YOUR_VALUE&quot;,\r\n    &quot;under_scroll&quot;: &quot;YOUR_VALUE&quot;\r\n}\r\n```","title":"Spring boot @RequestBody default POJO mapping behavior?","body":"<p>You should send post request to <code>/api/path/data</code> with this request body:</p>\n<pre><code>{\n    &quot;uppercase&quot;: &quot;YOUR_VALUE&quot;,\n    &quot;under_scroll&quot;: &quot;YOUR_VALUE&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662409347,"creation_date":1662408981,"answer_id":73614289,"question_id":73613475,"body_markdown":"It will depend on the Jackson property naming strategy. The default is `LOWER_CAMEL_CASE `, so your request body should look like this:\r\n```json\r\n{\r\n    &quot;uppercase&quot;: &quot;test&quot;,\r\n    &quot;under_scroll&quot;: &quot;test&quot;\r\n}\r\n```\r\n\r\nFor all possible configurations of the naming strategy for Jackson please refer to the document [&#171;Class PropertyNamingStrategy&#187;][1]\r\n\r\nIf you&#39;re using Spring, you may use this property to configure the naming strategy:\r\n```javascript\r\nspring.jackson.property-naming-strategy\r\n```\r\n\r\nAnother possible way will be the bean configuration:\r\n```java\r\n@Bean\r\npublic Jackson2ObjectMapperBuilder jacksonBuilder() {\r\n     Jackson2ObjectMapperBuilder jacksonMapper = new Jackson2ObjectMapperBuilder();\r\n     jacksonMapper.propertyNamingStrategy(PropertyNamingStrategy.LOWER_CASE);\r\n     return jacksonMapper;\r\n}\r\n```\r\n\r\n**Additional note:** \r\n\r\nYour current naming approach doesn&#39;t follow the Java Code Conventions. If you need to process JSON with some specific naming format better to use the `@JsonProperty` annotation on the fields of your POJO.\r\n\r\nPlease see the example below:\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class DATADto {\r\n    @JsonProperty(&quot;UPPERCASE&quot;)\r\n    private String uppercase;\r\n    @JsonProperty(&quot;UNDER_SCROLL&quot;)\r\n    private String underScroll;\r\n}\r\n```\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/PropertyNamingStrategy.html","title":"Spring boot @RequestBody default POJO mapping behavior?","body":"<p>It will depend on the Jackson property naming strategy. The default is <code>LOWER_CAMEL_CASE </code>, so your request body should look like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;uppercase&quot;: &quot;test&quot;,\n    &quot;under_scroll&quot;: &quot;test&quot;\n}\n</code></pre>\n<p>For all possible configurations of the naming strategy for Jackson please refer to the document <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/PropertyNamingStrategy.html\" rel=\"nofollow noreferrer\">«Class PropertyNamingStrategy»</a></p>\n<p>If you're using Spring, you may use this property to configure the naming strategy:</p>\n<pre class=\"lang-js prettyprint-override\"><code>spring.jackson.property-naming-strategy\n</code></pre>\n<p>Another possible way will be the bean configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Jackson2ObjectMapperBuilder jacksonBuilder() {\n     Jackson2ObjectMapperBuilder jacksonMapper = new Jackson2ObjectMapperBuilder();\n     jacksonMapper.propertyNamingStrategy(PropertyNamingStrategy.LOWER_CASE);\n     return jacksonMapper;\n}\n</code></pre>\n<p><strong>Additional note:</strong></p>\n<p>Your current naming approach doesn't follow the Java Code Conventions. If you need to process JSON with some specific naming format better to use the <code>@JsonProperty</code> annotation on the fields of your POJO.</p>\n<p>Please see the example below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.Data;\n\n@Data\npublic class DATADto {\n    @JsonProperty(&quot;UPPERCASE&quot;)\n    private String uppercase;\n    @JsonProperty(&quot;UNDER_SCROLL&quot;)\n    private String underScroll;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662412703,"creation_date":1662411564,"answer_id":73614623,"question_id":73613475,"body_markdown":"The story goes like this..\r\n\r\nSpring Boot by default uses Jackson ObjectMapper to serialize and deserialize Java objects.\r\n\r\nIn this context, by serialization we mean the conversion of java objects into json, deserialization is the reverse process.\r\n\r\n\r\n\r\nRegarding the `@RequestBody` annotation, the following is written in the [documentation][1]:\r\n\r\n&gt; Annotation indicating a method parameter should be bound to the body\r\n&gt; of the web request. The body of the request is passed through an\r\n&gt; HttpMessageConverter to resolve the method argument depending on the\r\n&gt; content type of the request. Optionally, automatic validation can be\r\n&gt; applied by annotating the argument with @Valid.\r\n\r\n In short, `@RequestBody` annotation tells Spring to deserialize an incoming request body into an object passed as a parameter to the handler method. Spring achieves this using [MessageConverter][2]\r\n\r\n\r\nSince Spring Boot uses `Jackson` by default for serializing and deserializing request and response objects in your REST APIs, and Jackson uses `MappingJackson2HttpMessageConverter`, so that will be message converter implementation that spring will use. You can read more about that [here][3].\r\n\r\nThe important thing is that Jackson uses [Java Bean naming][4] conventions to figure out  the json properties in a Java class. Acutally it uses default [`PropertyNamingStrategy`][5] . Here is what is written in documentation:\r\n\r\n&gt; In absence of a registered custom strategy, default Java property\r\n&gt; naming strategy is used, which leaves field names as is, and removes\r\n&gt; set/get/is prefix from methods (as well as lower-cases initial\r\n&gt; sequence of capitalized characters).\r\n\r\nSo, since you didn&#39;t set any naming strategy, it will use default one.\r\n\r\nBeacause of that, if you send payload like this :\r\n\r\n    {\r\n        &quot;uppercase&quot;: &quot;YOUR_VALUE&quot;,\r\n        &quot;under_scroll&quot;: &quot;YOUR_VALUE&quot;\r\n    }\r\n\r\nThat won&#39;t work, you will get exception, since there jackson won&#39;t find `under_scroll` property in your class, it will look for  `under_SCROLL` , therefore this payload:\r\n\r\n    {\r\n        &quot;uppercase&quot;: &quot;YOUR_VALUE&quot;,\r\n        &quot;under_SCROLL&quot;: &quot;YOUR_VALUE&quot;\r\n    }\r\n\r\nwill work.\r\n\r\nTo change default `PropertyNamingStrategy` check\r\n[this][6] article.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/messaging/converter/MessageConverter.html#fromMessage-org.springframework.messaging.Message-java.lang.Class-\r\n  [3]: https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/howto-spring-mvc.html\r\n  [4]: https://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/\r\n  [5]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/PropertyNamingStrategy.html\r\n  [6]: https://javadeveloperzone.com/spring/spring-jackson-property-naming-strategy/","title":"Spring boot @RequestBody default POJO mapping behavior?","body":"<p>The story goes like this..</p>\n<p>Spring Boot by default uses Jackson ObjectMapper to serialize and deserialize Java objects.</p>\n<p>In this context, by serialization we mean the conversion of java objects into json, deserialization is the reverse process.</p>\n<p>Regarding the <code>@RequestBody</code> annotation, the following is written in the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Annotation indicating a method parameter should be bound to the body\nof the web request. The body of the request is passed through an\nHttpMessageConverter to resolve the method argument depending on the\ncontent type of the request. Optionally, automatic validation can be\napplied by annotating the argument with @Valid.</p>\n</blockquote>\n<p>In short, <code>@RequestBody</code> annotation tells Spring to deserialize an incoming request body into an object passed as a parameter to the handler method. Spring achieves this using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/messaging/converter/MessageConverter.html#fromMessage-org.springframework.messaging.Message-java.lang.Class-\" rel=\"nofollow noreferrer\">MessageConverter</a></p>\n<p>Since Spring Boot uses <code>Jackson</code> by default for serializing and deserializing request and response objects in your REST APIs, and Jackson uses <code>MappingJackson2HttpMessageConverter</code>, so that will be message converter implementation that spring will use. You can read more about that <a href=\"https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/howto-spring-mvc.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The important thing is that Jackson uses <a href=\"https://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/\" rel=\"nofollow noreferrer\">Java Bean naming</a> conventions to figure out  the json properties in a Java class. Acutally it uses default <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/PropertyNamingStrategy.html\" rel=\"nofollow noreferrer\"><code>PropertyNamingStrategy</code></a> . Here is what is written in documentation:</p>\n<blockquote>\n<p>In absence of a registered custom strategy, default Java property\nnaming strategy is used, which leaves field names as is, and removes\nset/get/is prefix from methods (as well as lower-cases initial\nsequence of capitalized characters).</p>\n</blockquote>\n<p>So, since you didn't set any naming strategy, it will use default one.</p>\n<p>Beacause of that, if you send payload like this :</p>\n<pre><code>{\n    &quot;uppercase&quot;: &quot;YOUR_VALUE&quot;,\n    &quot;under_scroll&quot;: &quot;YOUR_VALUE&quot;\n}\n</code></pre>\n<p>That won't work, you will get exception, since there jackson won't find <code>under_scroll</code> property in your class, it will look for  <code>under_SCROLL</code> , therefore this payload:</p>\n<pre><code>{\n    &quot;uppercase&quot;: &quot;YOUR_VALUE&quot;,\n    &quot;under_SCROLL&quot;: &quot;YOUR_VALUE&quot;\n}\n</code></pre>\n<p>will work.</p>\n<p>To change default <code>PropertyNamingStrategy</code> check\n<a href=\"https://javadeveloperzone.com/spring/spring-jackson-property-naming-strategy/\" rel=\"nofollow noreferrer\">this</a> article.</p>\n"}],"owner":{"account_id":5908569,"reputation":526,"user_id":4649524,"accept_rate":75,"display_name":"alibttb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2066,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73614623,"answer_count":3,"score":1,"last_activity_date":1662412703,"creation_date":1662402798,"question_id":73613475,"body_markdown":"I have a java class with uppercase field names and some of them with under scroll, like this:\r\n\r\n``` java\r\npublic class DATADto {\r\n  private String UPPERCASE;\r\n  private String UNDER_SCROLL;\r\n\r\n  public String getUPPERCASE() { return UPPERCASE; }\r\n  public void setUPPERCASE(String s) { UPPERCASE = s; }\r\n  ...//setters and getters\r\n}\r\n``` \r\nand I used this in a rest endpoint that accepts json in a spring rest controller:\r\n\r\n``` java\r\n@RestController\r\n@RequestMapping({&quot;/api/path&quot;})\r\npublic class MyRestController {\r\n   @PostMapping(path = {&quot;/Data&quot;}, consumes = MediaType.APPLICATION_JSON_VALUE,\r\n\t\t\tproduces = MediaType.APPLICATION_JSON_VALUE)\r\n\r\n\tpublic ResponseEntity&lt;?&gt; useDATADto(@RequestBody DATADto aDATADto ) {\r\n     //do something\r\n    }\r\n}\r\n```\r\n\r\nwhat JSON fields do I need to send by default and why?","title":"Spring boot @RequestBody default POJO mapping behavior?","body":"<p>I have a java class with uppercase field names and some of them with under scroll, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DATADto {\n  private String UPPERCASE;\n  private String UNDER_SCROLL;\n\n  public String getUPPERCASE() { return UPPERCASE; }\n  public void setUPPERCASE(String s) { UPPERCASE = s; }\n  ...//setters and getters\n}\n</code></pre>\n<p>and I used this in a rest endpoint that accepts json in a spring rest controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping({&quot;/api/path&quot;})\npublic class MyRestController {\n   @PostMapping(path = {&quot;/Data&quot;}, consumes = MediaType.APPLICATION_JSON_VALUE,\n            produces = MediaType.APPLICATION_JSON_VALUE)\n\n    public ResponseEntity&lt;?&gt; useDATADto(@RequestBody DATADto aDATADto ) {\n     //do something\n    }\n}\n</code></pre>\n<p>what JSON fields do I need to send by default and why?</p>\n"},{"tags":["java","jakarta-ee","jfreechart"],"comments":[{"owner":{"account_id":209389,"reputation":10200,"user_id":460368,"accept_rate":89,"display_name":"Shikiryu"},"score":0,"creation_date":1335777138,"post_id":10352977,"comment_id":13383261,"body_markdown":"I even tried the fixed width… It didn&#39;t work :(","body":"I even tried the fixed width… It didn&#39;t work :("},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1336027957,"post_id":10352977,"comment_id":13455429,"body_markdown":"Cross-posted [here](http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=110281&amp;sid=f2edbbdb7ab0df5b40feea73081da10e).","body":"Cross-posted <a href=\"http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=110281&amp;sid=f2edbbdb7ab0df5b40feea73081da10e\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1335778857,"creation_date":1335580222,"answer_id":10360088,"question_id":10352977,"body_markdown":"Two alternatives to consider: Given an abbreviated legend display string,\r\n\r\n- Use `setLegendItemToolTipGenerator()` to display the full, unbroken string as a tool tip.\r\n\r\n        renderer.setLegendItemToolTipGenerator(\r\n            new StandardXYSeriesLabelGenerator(&quot;Legend {0}&quot;));\r\n\r\n\r\n- Use `addChartMouseListener()`, shown [here][1], and forward mouse moved events over the legend to an adjacent text component.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8219445/230513","title":"JFree Chart legend with line break","body":"<p>Two alternatives to consider: Given an abbreviated legend display string,</p>\n\n<ul>\n<li><p>Use <code>setLegendItemToolTipGenerator()</code> to display the full, unbroken string as a tool tip.</p>\n\n<pre><code>renderer.setLegendItemToolTipGenerator(\n    new StandardXYSeriesLabelGenerator(\"Legend {0}\"));\n</code></pre></li>\n<li><p>Use <code>addChartMouseListener()</code>, shown <a href=\"https://stackoverflow.com/a/8219445/230513\">here</a>, and forward mouse moved events over the legend to an adjacent text component.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":209389,"reputation":10200,"user_id":460368,"accept_rate":89,"display_name":"Shikiryu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1336036534,"creation_date":1336036155,"answer_id":10428292,"question_id":10352977,"body_markdown":"Alright, I made it work as my client wanted.\r\n\r\nFirst, you need to make a new kind of `Legend`, for example named `MyLegend` (but please, don&#39;t name it like that in the real world).\r\n\r\nThat class needs to extend `Legend`  and implement `Serializable`, the same way `StandardLegend` does.\r\n\r\nTo be honest, I even copied/pasted the whole `StandardLegend` in `MyLegend`.\r\nThen, you can modify the standard legend to your custom one.\r\n\r\nFor my needs, I changed :\r\n\r\n - `draw()` for the height and width calculation of the whole Legend group\r\n - `drawSeriesElements()` to split the legend&#39;s label and draw every lines one under another.\r\n\r\n\r\n----------\r\n\r\n    // Multi line management for Legend\r\n    String[] multiline = item.getItem().getLabel().split(System.getProperty(&quot;line.separator&quot;));\r\n    for(int j = 0; j&lt;multiline.length; j++) {\r\n        RefineryUtilities.drawAlignedString(multiline[j], g2,\r\n            (float) item.getLabelPosition().getX(), (float) item\r\n            .getLabelPosition().getY() + g2.getFontMetrics().getHeight()*j, TextAnchor.CENTER_LEFT);\r\n    }\r\n\r\n - `createDrawableLegendItem()` to calculate each item width and height.\r\nSince, now legends are multiline, each line of one item doesn&#39;t have the same width than others. We need to find the longest one to define the item&#39;s real width.\r\nSame goes for height. Now it&#39;s multiline, so it needs to calculate how many lines it got to know the item&#39;s real height.\r\n\r\nOptionally, you could change `drawLegendTitle()` to make it multiline too.\r\n\r\nWhen that class is configured as you want to, you need to apply it on your chart.\r\n\r\nSo, you do as usual :\r\n\r\n    JFreeChart chart = new JFreeChart(...);\r\n\tchart.set ... // apply your series and options\r\n\t\r\n\tMyLegend legend = new MyLegend();\r\n\tlegend.set... // apply your legend options if applicable\r\n\tchart.setLegend(legend);\r\n\t\r\nThat&#39;s it.\r\n\r\nResult :\r\n\r\n![Final Result][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Xz6ah.png","title":"JFree Chart legend with line break","body":"<p>Alright, I made it work as my client wanted.</p>\n\n<p>First, you need to make a new kind of <code>Legend</code>, for example named <code>MyLegend</code> (but please, don't name it like that in the real world).</p>\n\n<p>That class needs to extend <code>Legend</code>  and implement <code>Serializable</code>, the same way <code>StandardLegend</code> does.</p>\n\n<p>To be honest, I even copied/pasted the whole <code>StandardLegend</code> in <code>MyLegend</code>.\nThen, you can modify the standard legend to your custom one.</p>\n\n<p>For my needs, I changed :</p>\n\n<ul>\n<li><code>draw()</code> for the height and width calculation of the whole Legend group</li>\n<li><code>drawSeriesElements()</code> to split the legend's label and draw every lines one under another.</li>\n</ul>\n\n<hr>\n\n<pre><code>// Multi line management for Legend\nString[] multiline = item.getItem().getLabel().split(System.getProperty(\"line.separator\"));\nfor(int j = 0; j&lt;multiline.length; j++) {\n    RefineryUtilities.drawAlignedString(multiline[j], g2,\n        (float) item.getLabelPosition().getX(), (float) item\n        .getLabelPosition().getY() + g2.getFontMetrics().getHeight()*j, TextAnchor.CENTER_LEFT);\n}\n</code></pre>\n\n<ul>\n<li><code>createDrawableLegendItem()</code> to calculate each item width and height.\nSince, now legends are multiline, each line of one item doesn't have the same width than others. We need to find the longest one to define the item's real width.\nSame goes for height. Now it's multiline, so it needs to calculate how many lines it got to know the item's real height.</li>\n</ul>\n\n<p>Optionally, you could change <code>drawLegendTitle()</code> to make it multiline too.</p>\n\n<p>When that class is configured as you want to, you need to apply it on your chart.</p>\n\n<p>So, you do as usual :</p>\n\n<pre><code>JFreeChart chart = new JFreeChart(...);\nchart.set ... // apply your series and options\n\nMyLegend legend = new MyLegend();\nlegend.set... // apply your legend options if applicable\nchart.setLegend(legend);\n</code></pre>\n\n<p>That's it.</p>\n\n<p>Result :</p>\n\n<p><img src=\"https://i.stack.imgur.com/Xz6ah.png\" alt=\"Final Result\"></p>\n"}],"owner":{"account_id":209389,"reputation":10200,"user_id":460368,"accept_rate":89,"display_name":"Shikiryu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3721,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10428292,"answer_count":2,"score":1,"last_activity_date":1662411395,"creation_date":1335538674,"question_id":10352977,"body_markdown":"I need to add break line in some legend in JFree Chart.\r\nI have some legends with 316 characters and need to break every 80. \r\nFinally, I&#39;ll have 4 lines.\r\n\r\nAnyway, I tried with &quot;\\n&quot;, &quot;\\u2424&quot; and &quot;&amp;#10;&quot;. It did nothing.\r\n(From http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=10226 &amp; http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=22417)\r\n\r\n&lt;strike&gt;The only solution I could find (but I wished it could be avoided, since I want it to be dynamically done) is to fix a width for each legend, so it should break as I need to.&lt;/strike&gt;\r\n**Edit** : that even didn&#39;t work.\r\n\r\nI&#39;m using jFree Chart 0.9.20\r\n\r\n\r\n----------\r\n**EDIT**\r\n\r\nFor the moment, with a small legend, that&#39;s what I have :\r\n![good][1]\r\n\r\nIt&#39;s fine but when I have my long legends :\r\n![problem :&#39;(][2]\r\n\r\nFor that last picture, I logged my legend and break lines are here, but they don&#39;t show up with jFree Chart.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/UFzNX.png\r\n  [2]: http://i.stack.imgur.com/Lz6zg.png","title":"JFree Chart legend with line break","body":"<p>I need to add break line in some legend in JFree Chart.\nI have some legends with 316 characters and need to break every 80. \nFinally, I'll have 4 lines.</p>\n\n<p>Anyway, I tried with \"\\n\", \"\\u2424\" and \"&#10;\". It did nothing.\n(From <a href=\"http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=10226\" rel=\"nofollow noreferrer\">http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=10226</a> &amp; <a href=\"http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=22417\" rel=\"nofollow noreferrer\">http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=22417</a>)</p>\n\n<p><strike>The only solution I could find (but I wished it could be avoided, since I want it to be dynamically done) is to fix a width for each legend, so it should break as I need to.</strike>\n<strong>Edit</strong> : that even didn't work.</p>\n\n<p>I'm using jFree Chart 0.9.20</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>For the moment, with a small legend, that's what I have :\n<img src=\"https://i.stack.imgur.com/UFzNX.png\" alt=\"good\"></p>\n\n<p>It's fine but when I have my long legends :\n<img src=\"https://i.stack.imgur.com/Lz6zg.png\" alt=\"problem :&#39;(\"></p>\n\n<p>For that last picture, I logged my legend and break lines are here, but they don't show up with jFree Chart.</p>\n"},{"tags":["java","oracle","intellij-idea","jdbc","oracle21c"],"comments":[{"owner":{"account_id":6606513,"reputation":1158,"user_id":5103183,"accept_rate":50,"display_name":"Alex"},"score":0,"creation_date":1662412169,"post_id":73614520,"comment_id":129995402,"body_markdown":"Yes, you need Class.forName() to ensure the driver class is loaded into memory. I recommend reading this: https://www.tutorialspoint.com/jdbc/jdbc-db-connections.htm","body":"Yes, you need Class.forName() to ensure the driver class is loaded into memory. I recommend reading this: <a href=\"https://www.tutorialspoint.com/jdbc/jdbc-db-connections.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/jdbc/jdbc-db-connections.htm</a>"},{"owner":{"account_id":16695229,"reputation":309,"user_id":12066627,"display_name":"Jay."},"score":0,"creation_date":1662412951,"post_id":73614520,"comment_id":129995533,"body_markdown":"@Alex I have followed the tutorial link, but I get the same error. Using Class.forName, I get ClassNotFoundException. Can you tell if I have added the ojdbc.jar in the windows CLASSPATH, do I need to copy that jar file somewhere in the structure too?","body":"@Alex I have followed the tutorial link, but I get the same error. Using Class.forName, I get ClassNotFoundException. Can you tell if I have added the ojdbc.jar in the windows CLASSPATH, do I need to copy that jar file somewhere in the structure too?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1662414603,"post_id":73614520,"comment_id":129995840,"body_markdown":"How are you running the program? Is the classpath overridden on the command line?","body":"How are you running the program? Is the classpath overridden on the command line?"},{"owner":{"account_id":16695229,"reputation":309,"user_id":12066627,"display_name":"Jay."},"score":0,"creation_date":1662415216,"post_id":73614520,"comment_id":129995956,"body_markdown":"@TimMoore I&#39;m using intelliJ IDEA and running the program using GUI (by clicking run button). Could you please explain what you meant.","body":"@TimMoore I&#39;m using intelliJ IDEA and running the program using GUI (by clicking run button). Could you please explain what you meant."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":3,"creation_date":1662416575,"post_id":73614520,"comment_id":129996188,"body_markdown":"You [do **not** typically need `Class.forName()`](https://stackoverflow.com/a/28220844/12567365) with modern JDBC drivers (except in some relatively uncommon situations). I think the TutorialsPoint guide mentioned in another comment is fairly old. That same tutorial also mentions using `DriverManager.registerDriver()` - which is bad advice for modern drivers (which use service loading via SPI).","body":"You <a href=\"https://stackoverflow.com/a/28220844/12567365\">do <b>not</b> typically need <code>Class.forName()</code></a> with modern JDBC drivers (except in some relatively uncommon situations). I think the TutorialsPoint guide mentioned in another comment is fairly old. That same tutorial also mentions using <code>DriverManager.registerDriver()</code> - which is bad advice for modern drivers (which use service loading via SPI)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1662416956,"post_id":73614520,"comment_id":129996248,"body_markdown":"Two notes: (a) As a test, try this: [Correct way to add external jars (lib/*.jar) to an IntelliJ IDEA project](https://stackoverflow.com/q/1051640/12567365). (b) For the various valid combinations of Java, Oracle DB and JDBC drivers, see [here](https://www.oracle.com/database/technologies/faq-jdbc.html) - specifically, the section _What are the Oracle JDBC releases Vs JDK versions?_.","body":"Two notes: (a) As a test, try this: <a href=\"https://stackoverflow.com/q/1051640/12567365\">Correct way to add external jars (lib/*.jar) to an IntelliJ IDEA project</a>. (b) For the various valid combinations of Java, Oracle DB and JDBC drivers, see <a href=\"https://www.oracle.com/database/technologies/faq-jdbc.html\" rel=\"nofollow noreferrer\">here</a> - specifically, the section <i>What are the Oracle JDBC releases Vs JDK versions?</i>."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1662417803,"post_id":73614520,"comment_id":129996361,"body_markdown":"@Jay IntelliJ IDEA manages the classpath it’s own way. Setting the `CLASSPATH` environment variable will not work when you’re running this way. Check the link in the comment from andrewJames.","body":"@Jay IntelliJ IDEA manages the classpath it’s own way. Setting the <code>CLASSPATH</code> environment variable will not work when you’re running this way. Check the link in the comment from andrewJames."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662558274,"post_id":73614520,"comment_id":130033847,"body_markdown":"@andrewJames Even stronger, using `DriverManager.registerDriver` from user code has always been bad advice, as that method should only be called by JDBC drivers from the static initializer in their driver class(es).","body":"@andrewJames Even stronger, using <code>DriverManager.registerDriver</code> from user code has always been bad advice, as that method should only be called by JDBC drivers from the static initializer in their driver class(es)."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662558475,"post_id":73614520,"comment_id":130033932,"body_markdown":"The CLASSPATH is not used for most ways of executing Java applications, including when running from IntelliJ. You should not use it. Specify the classpath explicitly with `-cp`, or in the `Class-Path` entry in the manifest (for `-jar` execution).","body":"The CLASSPATH is not used for most ways of executing Java applications, including when running from IntelliJ. You should not use it. Specify the classpath explicitly with <code>-cp</code>, or in the <code>Class-Path</code> entry in the manifest (for <code>-jar</code> execution)."}],"owner":{"account_id":16695229,"reputation":309,"user_id":12066627,"display_name":"Jay."},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1903,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662410778,"creation_date":1662410778,"question_id":73614520,"body_markdown":"I have installed Oracle Database 21c Express. I want to connect to it using JDBC. However I&#39;m getting following error:\r\n\r\n    No suitable driver found for jdbc:oracle:thin:@localhost:1521:XE\r\n\r\nI am using JDK 17 and ojdbc11.jar. **Is this correct ojdbc version for JDK17?**\r\n\r\nI have set CLASSPATH in Environment Variables ⟶ System variables in CLASSPATH variable.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFollowing is the code that I am trying:\r\n\r\n    public static void main(String[] args) throws ClassNotFoundException, SQLException {\r\n    \r\n            Connection connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;, &quot;system&quot;, &quot;test&quot;);\r\n            System.out.println(&quot;connection Establisted&quot;);\r\n            System.out.println(connection);\r\n            connection.close();\r\n            connection = null;\r\n        }\r\n\r\nFollowing is the error that I am getting:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI have read that the following line is **not** required, is that true?\r\n\r\n    Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\r\nAlso as I have added the ojdbc jar file in the CLASSPATH, I have **not** added it anywhere in the project files. Is that correct?\r\n\r\n  [1]: https://i.stack.imgur.com/yrj3g.png\r\n  [2]: https://i.stack.imgur.com/17bTk.png","title":"Cannot find JDBC driver for Oracle","body":"<p>I have installed Oracle Database 21c Express. I want to connect to it using JDBC. However I'm getting following error:</p>\n<pre><code>No suitable driver found for jdbc:oracle:thin:@localhost:1521:XE\n</code></pre>\n<p>I am using JDK 17 and ojdbc11.jar. <strong>Is this correct ojdbc version for JDK17?</strong></p>\n<p>I have set CLASSPATH in Environment Variables ⟶ System variables in CLASSPATH variable.</p>\n<p><a href=\"https://i.stack.imgur.com/yrj3g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yrj3g.png\" alt=\"enter image description here\" /></a></p>\n<p>Following is the code that I am trying:</p>\n<pre><code>public static void main(String[] args) throws ClassNotFoundException, SQLException {\n\n        Connection connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;, &quot;system&quot;, &quot;test&quot;);\n        System.out.println(&quot;connection Establisted&quot;);\n        System.out.println(connection);\n        connection.close();\n        connection = null;\n    }\n</code></pre>\n<p>Following is the error that I am getting:</p>\n<p><a href=\"https://i.stack.imgur.com/17bTk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/17bTk.png\" alt=\"enter image description here\" /></a></p>\n<p>I have read that the following line is <strong>not</strong> required, is that true?</p>\n<pre><code>Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n</code></pre>\n<p>Also as I have added the ojdbc jar file in the CLASSPATH, I have <strong>not</strong> added it anywhere in the project files. Is that correct?</p>\n"},{"tags":["java","spring-boot","websocket"],"answers":[{"tags":[],"owner":{"account_id":13142417,"reputation":541,"user_id":10945546,"display_name":"Phuong Hoang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662410267,"creation_date":1662410267,"answer_id":73614454,"question_id":73575360,"body_markdown":"It turns out that this is a known problem (see https://github.com/spring-projects/spring-framework/issues/18939#issuecomment-453441046) because the tests are web-container-less. \r\n\r\n&gt; The Spring TestContext framework support and the @WebAppConfiguration annotation is container-less testing by definition. Essentially the mock request and response, not an actual Servlet container. Were you expecting an actual ServerContainer or some mock version that would simply prevent your configuration from failing to load?\r\n\r\nThe recommended way is to add `@WebAppConfiguration` to the test class which I did. The error goes away after that. \r\n\r\nThis hopefully helps other people who stumble upon this issue as I did.","title":"Attribute &#39;javax.websocket.server.ServerContainer&#39; not found in ServletContext with SpringBootTest","body":"<p>It turns out that this is a known problem (see <a href=\"https://github.com/spring-projects/spring-framework/issues/18939#issuecomment-453441046\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/18939#issuecomment-453441046</a>) because the tests are web-container-less.</p>\n<blockquote>\n<p>The Spring TestContext framework support and the @WebAppConfiguration annotation is container-less testing by definition. Essentially the mock request and response, not an actual Servlet container. Were you expecting an actual ServerContainer or some mock version that would simply prevent your configuration from failing to load?</p>\n</blockquote>\n<p>The recommended way is to add <code>@WebAppConfiguration</code> to the test class which I did. The error goes away after that.</p>\n<p>This hopefully helps other people who stumble upon this issue as I did.</p>\n"}],"owner":{"account_id":13142417,"reputation":541,"user_id":10945546,"display_name":"Phuong Hoang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73614454,"answer_count":1,"score":0,"last_activity_date":1662410267,"creation_date":1662066040,"question_id":73575360,"body_markdown":"I am creating a websocket application using `Spring Boot 2.7.3`. I encounter problem with unit test using `@SpringBootTest` \r\n\r\n```\r\n2022-09-01 16:54:42.247 ERROR 39638 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6b58b9e9] to prepare test instance [com.example.demo.DemoApplicationTests@5e8c34a0]\r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132) ~[spring-test-5.3.22.jar:5.3.22]\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.22.jar:5.3.22]\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.3.22.jar:5.3.22]\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.3.22.jar:5.3.22]\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.22.jar:5.3.22]\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.22.jar:5.3.22]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) ~[surefire-booter-2.22.2.jar:2.22.2]\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) ~[surefire-booter-2.22.2.jar:2.22.2]\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) ~[surefire-booter-2.22.2.jar:2.22.2]\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418) ~[surefire-booter-2.22.2.jar:2.22.2]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;createWebSocketContainer&#39; defined in class path resource [com/example/demo/WebSocketConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Attribute &#39;javax.websocket.server.ServerContainer&#39; not found in ServletContext\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:936) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132) ~[spring-boot-test-2.7.3.jar:2.7.3]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.22.jar:5.3.22]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.22.jar:5.3.22]\r\n\t... 67 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Attribute &#39;javax.websocket.server.ServerContainer&#39; not found in ServletContext\r\n\tat org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.socket.server.standard.ServletServerContainerFactoryBean.afterPropertiesSet(ServletServerContainerFactoryBean.java:117) ~[spring-websocket-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 82 common frames omitted\r\n```\r\n\r\nI don&#39;t see that problem when I run the application, i.e. `mvn spring-boot:run`. The problem seems to be caused by configuring the `ServletServerContainerFactoryBean` (see the code below). If I remove the method `createWebSocketContainer()`, the unit test passes.\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.socket.config.annotation.EnableWebSocket;\r\nimport org.springframework.web.socket.config.annotation.WebSocketConfigurer;\r\nimport org.springframework.web.socket.config.annotation.WebSocketHandlerRegistry;\r\nimport org.springframework.web.socket.server.standard.ServletServerContainerFactoryBean;\r\n\r\n// Reference documentation https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#websocket\r\n// Spring does support websocket in addition to SockJS and STOMP sub-protocol. This demo is for the minimal barebone websocket.\r\n@Configuration\r\n@EnableWebSocket\r\npublic class WebSocketConfig implements WebSocketConfigurer {\r\n\tprivate final WebSocketHandler webSocketHandler;\r\n\t@Bean\r\n\tpublic ServletServerContainerFactoryBean createWebSocketContainer() {\r\n\t\t// Given that Spring Boot uses Tomcat by default (unless we tell it to use another servlet), we can use the following to configure\r\n\t\t//  the desired behaviour of the websocket\r\n\t\tfinal ServletServerContainerFactoryBean container = new ServletServerContainerFactoryBean();\r\n\t\tcontainer.setMaxTextMessageBufferSize(8192);\r\n\t\tcontainer.setMaxBinaryMessageBufferSize(8192);\r\n\t\tcontainer.setMaxSessionIdleTimeout(1_000_000L); // Wait for 1,000,000 milliseconds before time out\r\n\t\treturn container;\r\n\t}\r\n\tpublic WebSocketConfig(final WebSocketHandler webSocketHandler) {\r\n\t\tthis.webSocketHandler = webSocketHandler;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n\t\tregistry.addHandler(this.webSocketHandler, &quot;/websocket&quot;);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThis is the handler class.\r\n\r\n```\r\nimport java.io.IOException;\r\n\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.socket.TextMessage;\r\nimport org.springframework.web.socket.WebSocketSession;\r\nimport org.springframework.web.socket.handler.TextWebSocketHandler;\r\n\r\n@Service\r\npublic class WebSocketHandler extends TextWebSocketHandler {\r\n\r\n    @Override\r\n    public void handleTextMessage(WebSocketSession session, TextMessage message) throws IOException {\r\n        System.out.println(&quot;Receive message: &quot; + message.getPayload());\r\n        session.sendMessage(new TextMessage(&quot;I received your message: &quot; + message.getPayload()));\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is the unit test\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass DemoApplicationTests {\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t}\r\n\r\n}\r\n```\r\n\r\nA test project can be seen here https://github.com/PhuongHoang/springboot-websocket-issue to prove the issue. I am running it on my Macs with Java 17 \r\n\r\n```\r\n➜ java -version\r\nopenjdk version &quot;17.0.4&quot; 2022-07-19\r\nOpenJDK Runtime Environment Temurin-17.0.4+8 (build 17.0.4+8)\r\nOpenJDK 64-Bit Server VM Temurin-17.0.4+8 (build 17.0.4+8, mixed mode, sharing)\r\n```","title":"Attribute &#39;javax.websocket.server.ServerContainer&#39; not found in ServletContext with SpringBootTest","body":"<p>I am creating a websocket application using <code>Spring Boot 2.7.3</code>. I encounter problem with unit test using <code>@SpringBootTest</code></p>\n<pre><code>2022-09-01 16:54:42.247 ERROR 39638 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6b58b9e9] to prepare test instance [com.example.demo.DemoApplicationTests@5e8c34a0]\n\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132) ~[spring-test-5.3.22.jar:5.3.22]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.22.jar:5.3.22]\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.3.22.jar:5.3.22]\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.3.22.jar:5.3.22]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.22.jar:5.3.22]\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.22.jar:5.3.22]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) ~[surefire-booter-2.22.2.jar:2.22.2]\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) ~[surefire-booter-2.22.2.jar:2.22.2]\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) ~[surefire-booter-2.22.2.jar:2.22.2]\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418) ~[surefire-booter-2.22.2.jar:2.22.2]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'createWebSocketContainer' defined in class path resource [com/example/demo/WebSocketConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Attribute 'javax.websocket.server.ServerContainer' not found in ServletContext\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:936) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132) ~[spring-boot-test-2.7.3.jar:2.7.3]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.22.jar:5.3.22]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.22.jar:5.3.22]\n    ... 67 common frames omitted\nCaused by: java.lang.IllegalStateException: Attribute 'javax.websocket.server.ServerContainer' not found in ServletContext\n    at org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.22.jar:5.3.22]\n    at org.springframework.web.socket.server.standard.ServletServerContainerFactoryBean.afterPropertiesSet(ServletServerContainerFactoryBean.java:117) ~[spring-websocket-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 82 common frames omitted\n</code></pre>\n<p>I don't see that problem when I run the application, i.e. <code>mvn spring-boot:run</code>. The problem seems to be caused by configuring the <code>ServletServerContainerFactoryBean</code> (see the code below). If I remove the method <code>createWebSocketContainer()</code>, the unit test passes.</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.socket.config.annotation.EnableWebSocket;\nimport org.springframework.web.socket.config.annotation.WebSocketConfigurer;\nimport org.springframework.web.socket.config.annotation.WebSocketHandlerRegistry;\nimport org.springframework.web.socket.server.standard.ServletServerContainerFactoryBean;\n\n// Reference documentation https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#websocket\n// Spring does support websocket in addition to SockJS and STOMP sub-protocol. This demo is for the minimal barebone websocket.\n@Configuration\n@EnableWebSocket\npublic class WebSocketConfig implements WebSocketConfigurer {\n    private final WebSocketHandler webSocketHandler;\n    @Bean\n    public ServletServerContainerFactoryBean createWebSocketContainer() {\n        // Given that Spring Boot uses Tomcat by default (unless we tell it to use another servlet), we can use the following to configure\n        //  the desired behaviour of the websocket\n        final ServletServerContainerFactoryBean container = new ServletServerContainerFactoryBean();\n        container.setMaxTextMessageBufferSize(8192);\n        container.setMaxBinaryMessageBufferSize(8192);\n        container.setMaxSessionIdleTimeout(1_000_000L); // Wait for 1,000,000 milliseconds before time out\n        return container;\n    }\n    public WebSocketConfig(final WebSocketHandler webSocketHandler) {\n        this.webSocketHandler = webSocketHandler;\n    }\n\n    @Override\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(this.webSocketHandler, &quot;/websocket&quot;);\n    }\n}\n\n</code></pre>\n<p>This is the handler class.</p>\n<pre><code>import java.io.IOException;\n\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.socket.TextMessage;\nimport org.springframework.web.socket.WebSocketSession;\nimport org.springframework.web.socket.handler.TextWebSocketHandler;\n\n@Service\npublic class WebSocketHandler extends TextWebSocketHandler {\n\n    @Override\n    public void handleTextMessage(WebSocketSession session, TextMessage message) throws IOException {\n        System.out.println(&quot;Receive message: &quot; + message.getPayload());\n        session.sendMessage(new TextMessage(&quot;I received your message: &quot; + message.getPayload()));\n    }\n\n}\n</code></pre>\n<p>This is the unit test</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass DemoApplicationTests {\n\n    @Test\n    void contextLoads() {\n    }\n\n}\n</code></pre>\n<p>A test project can be seen here <a href=\"https://github.com/PhuongHoang/springboot-websocket-issue\" rel=\"nofollow noreferrer\">https://github.com/PhuongHoang/springboot-websocket-issue</a> to prove the issue. I am running it on my Macs with Java 17</p>\n<pre><code>➜ java -version\nopenjdk version &quot;17.0.4&quot; 2022-07-19\nOpenJDK Runtime Environment Temurin-17.0.4+8 (build 17.0.4+8)\nOpenJDK 64-Bit Server VM Temurin-17.0.4+8 (build 17.0.4+8, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1662384316,"post_id":73608436,"comment_id":129987484,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":9051606,"reputation":19,"user_id":14263294,"display_name":"His R.H"},"score":0,"creation_date":1662421332,"post_id":73608436,"comment_id":129996815,"body_markdown":"@AlexMamo wow can&#39;t believe I missed this. No, no errors. Frank&#39;s answer works somewhat with a bug in it. I explained in the comments","body":"@AlexMamo wow can&#39;t believe I missed this. No, no errors. Frank&#39;s answer works somewhat with a bug in it. I explained in the comments"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662409617,"creation_date":1662387129,"answer_id":73610740,"question_id":73608436,"body_markdown":"Your first `addValueEventListener` already loads all data for the current user, so there is no need to go back to the database to load that data again. Instead you should check the properties of each message in your application code with something like:\r\n```\r\nDatabaseReference userMessageKeyRef = dbRef.child(&quot;Messages&quot;).child(firebaseUser.getUid());\r\nuserMessageKeyRef.addValueEventListener(new ValueEventListener() {\r\n    for (DataSnapshot parentSnapshot : snapshot.getChildren()) {\r\n        for (DataSnapshot messageSnapshot : addValueEventListener.getChildren()) {\r\n            String messageToID = messageSnapshot.getKey();\r\n            String toValue = messageSnapshot.child(&quot;to&quot;).getValue(String.class);\r\n            Boolean isSeenValue = messageSnapshot.child(&quot;isSeen&quot;).getValue(Boolean.class);\r\n\r\n            if (toValue.equals(firebaseUser.getUid()) &amp;&amp; isSeenValue == true) {\r\n                ...\r\n            }\r\n        }\r\n    }\r\n});\r\n```","title":"Multiple query orderBy clauses Firebase - Java","body":"<p>Your first <code>addValueEventListener</code> already loads all data for the current user, so there is no need to go back to the database to load that data again. Instead you should check the properties of each message in your application code with something like:</p>\n<pre><code>DatabaseReference userMessageKeyRef = dbRef.child(&quot;Messages&quot;).child(firebaseUser.getUid());\nuserMessageKeyRef.addValueEventListener(new ValueEventListener() {\n    for (DataSnapshot parentSnapshot : snapshot.getChildren()) {\n        for (DataSnapshot messageSnapshot : addValueEventListener.getChildren()) {\n            String messageToID = messageSnapshot.getKey();\n            String toValue = messageSnapshot.child(&quot;to&quot;).getValue(String.class);\n            Boolean isSeenValue = messageSnapshot.child(&quot;isSeen&quot;).getValue(Boolean.class);\n\n            if (toValue.equals(firebaseUser.getUid()) &amp;&amp; isSeenValue == true) {\n                ...\n            }\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":9051606,"reputation":19,"user_id":14263294,"display_name":"His R.H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73610740,"answer_count":1,"score":0,"last_activity_date":1662409617,"creation_date":1662376285,"question_id":73608436,"body_markdown":"I am trying to query my `Messages` table for three things. The first is any messages with that involve the current user logged in. Then, I want to get the user id of the person the current user has a coversation with. And finally, I want to check if any of the messages were seen. But right now my query only runs the first and last queries and not the second one. But I don&#39;t know why.\r\n\r\n![Messages table][1]\r\n\r\n    FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n    DatabaseReference dbRef = FirebaseDatabase.getInstance().getReference();\r\n\r\n    DatabaseReference userMessageKeyRef = dbRef.child(&quot;Messages&quot;).child(firebaseUser.getUid());\r\n    userMessageKeyRef.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            for (DataSnapshot snapshot1 : snapshot.getChildren()) {\r\n\r\n                String messageToID = snapshot1.getKey();\r\n\r\n                DatabaseReference messageRef = dbRef.child(&quot;Messages&quot;).child(firebaseUser.getUid()).child(messageToID);\r\n                Query query = messageRef.orderByChild(&quot;to&quot;).equalTo(firebaseUser.getUid());\r\n                query.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n                        long count = dataSnapshot.getChildrenCount();\r\n\r\n                        if (dataSnapshot.exists()) {\r\n\r\n                            DatabaseReference messageKeyRef = dbRef.child(&quot;Messages&quot;).child(firebaseUser.getUid()).child(messageToID);\r\n                            Query query2 =  messageKeyRef.orderByChild(&quot;isSeen&quot;).equalTo(false);\r\n\r\n                            query2.addValueEventListener(new ValueEventListener() {\r\n                                @Override\r\n                                public void onDataChange(@NonNull DataSnapshot dataShot) {\r\n\r\n                                    if (dataShot.exists() &amp;&amp; count &gt; 0) {\r\n\r\n                                        //Log.d(&quot;TAG2&quot;, &quot;count if: &quot; + count2);\r\n                                        messages_text.setText(&quot;&quot; + Math.toIntExact(count));\r\n                                        messages_text.setVisibility(View.VISIBLE);\r\n                                    } else {\r\n\r\n                                        messages_text.setVisibility(View.GONE);\r\n                                    }\r\n                                }\r\n\r\n                                @Override\r\n                                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                                }\r\n                            });\r\n\r\n                        } else {\r\n\r\n                            messages_text.setVisibility(View.GONE);\r\n                        }\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n\r\n                //Log.d(&quot;TAG1&quot;, &quot;User to: &quot; + messageToID);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n        }\r\n    });\r\n\r\n  [1]: https://i.stack.imgur.com/PCnHu.png\r\n","title":"Multiple query orderBy clauses Firebase - Java","body":"<p>I am trying to query my <code>Messages</code> table for three things. The first is any messages with that involve the current user logged in. Then, I want to get the user id of the person the current user has a coversation with. And finally, I want to check if any of the messages were seen. But right now my query only runs the first and last queries and not the second one. But I don't know why.</p>\n<p><img src=\"https://i.stack.imgur.com/PCnHu.png\" alt=\"Messages table\" /></p>\n<pre><code>FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\nDatabaseReference dbRef = FirebaseDatabase.getInstance().getReference();\n\nDatabaseReference userMessageKeyRef = dbRef.child(&quot;Messages&quot;).child(firebaseUser.getUid());\nuserMessageKeyRef.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        for (DataSnapshot snapshot1 : snapshot.getChildren()) {\n\n            String messageToID = snapshot1.getKey();\n\n            DatabaseReference messageRef = dbRef.child(&quot;Messages&quot;).child(firebaseUser.getUid()).child(messageToID);\n            Query query = messageRef.orderByChild(&quot;to&quot;).equalTo(firebaseUser.getUid());\n            query.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n                    long count = dataSnapshot.getChildrenCount();\n\n                    if (dataSnapshot.exists()) {\n\n                        DatabaseReference messageKeyRef = dbRef.child(&quot;Messages&quot;).child(firebaseUser.getUid()).child(messageToID);\n                        Query query2 =  messageKeyRef.orderByChild(&quot;isSeen&quot;).equalTo(false);\n\n                        query2.addValueEventListener(new ValueEventListener() {\n                            @Override\n                            public void onDataChange(@NonNull DataSnapshot dataShot) {\n\n                                if (dataShot.exists() &amp;&amp; count &gt; 0) {\n\n                                    //Log.d(&quot;TAG2&quot;, &quot;count if: &quot; + count2);\n                                    messages_text.setText(&quot;&quot; + Math.toIntExact(count));\n                                    messages_text.setVisibility(View.VISIBLE);\n                                } else {\n\n                                    messages_text.setVisibility(View.GONE);\n                                }\n                            }\n\n                            @Override\n                            public void onCancelled(@NonNull DatabaseError error) {\n\n                            }\n                        });\n\n                    } else {\n\n                        messages_text.setVisibility(View.GONE);\n                    }\n\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n\n            //Log.d(&quot;TAG1&quot;, &quot;User to: &quot; + messageToID);\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n    }\n});\n</code></pre>\n"},{"tags":["java","uppercase","charat"],"comments":[{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":2,"creation_date":1662312313,"post_id":73601369,"comment_id":129972110,"body_markdown":"What does the ```break``` do when you don&#39;t find a match in the first iteration of the loop?","body":"What does the <code>break</code> do when you don&#39;t find a match in the first iteration of the loop?"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1662573163,"post_id":73601369,"comment_id":130039464,"body_markdown":"You can&#39;t just modify your question into another. No one will ever come here to answer it. Post a new question.","body":"You can&#39;t just modify your question into another. No one will ever come here to answer it. Post a new question."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662312477,"creation_date":1662312477,"answer_id":73601453,"question_id":73601369,"body_markdown":"The following condition means that the last value isn&#39;t the value you loop for, that isn&#39;t a reason to stop looking for you value. As it isn&#39;t the first, and not the last, your stop, but haven&#39;t search in the middle\r\n\r\n\r\n    else if (arr[arr.length - 1] != target) {\r\n        out.printf(&quot;Your target = %d has not been found.&quot;, target);\r\n        break;\r\n    }\r\n\r\n---\r\n\r\nYou need to have search through the whole array before being able to say &quot;not found&quot;\r\n\r\n    boolean found = false;\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        if (arr[i] == target) {\r\n            out.printf(&quot;Target = %d has found at the index of %d\\n&quot;, target, i);\r\n            found = true;\r\n            break;\r\n        }\r\n    }\r\n\r\n    if (!found) {\r\n        out.printf(&quot;Your target = %d has not been found.\\n&quot;, target);\r\n    }\r\n\r\n","title":"How to make uppercase with charAt() method in Java?","body":"<p>The following condition means that the last value isn't the value you loop for, that isn't a reason to stop looking for you value. As it isn't the first, and not the last, your stop, but haven't search in the middle</p>\n<pre><code>else if (arr[arr.length - 1] != target) {\n    out.printf(&quot;Your target = %d has not been found.&quot;, target);\n    break;\n}\n</code></pre>\n<hr />\n<p>You need to have search through the whole array before being able to say &quot;not found&quot;</p>\n<pre><code>boolean found = false;\nfor (int i = 0; i &lt; arr.length; i++) {\n    if (arr[i] == target) {\n        out.printf(&quot;Target = %d has found at the index of %d\\n&quot;, target, i);\n        found = true;\n        break;\n    }\n}\n\nif (!found) {\n    out.printf(&quot;Your target = %d has not been found.\\n&quot;, target);\n}\n</code></pre>\n"}],"owner":{"display_name":"user12662795"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73601453,"answer_count":1,"score":-3,"last_activity_date":1662408600,"creation_date":1662311682,"question_id":73601369,"body_markdown":"I am trying to make a program where a input an email from the user. I have to create a username from the email by deleting the part that comes after ‘@’ and I will display that username to the user. I will ignore the numbers and after a &#39;.&#39; and I will uppercase the next char.\r\n\r\n**Example :**\r\n\r\n*email = “something.someone.98@gmail.com” ; username = “**SomethingSomeone**”*\r\n\r\n*email = “something.someone@icloud.com”; username = “**SomethingSomeone**”*\r\n    \r\n    \r\n    package core_java.JavaExercise.Two;\r\n\r\n    import java.util.Scanner;\r\n\r\n    import static java.lang.System.in;\r\n    import static java.lang.System.out;\r\n    \r\n    public class Java_String_Exercise_03 {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(in);\r\n\r\n            out.print(&quot;Enter your email address: &quot;);\r\n            String email = sc.next();\r\n\r\n            String userName = &quot;&quot;;\r\n\r\n            for (int i = 1 ; i &lt; email.length() ; i++) {\r\n                Boolean digitCheck = Character.isDigit(email.charAt(i));\r\n                if(digitCheck) {\r\n                    userName += &quot;&quot;;\r\n                } else if (email.charAt(i) == &#39;@&#39;) {\r\n                    break;\r\n                } else if (email.charAt(i) == &#39;.&#39;) {\r\n                    if (Character.isDigit(email.charAt(i+1))) {\r\n                        userName += &quot;&quot;;\r\n                    } else {\r\n                        userName += &quot;&quot; + String.valueOf(email.charAt(++i)).toUpperCase();\r\n                    }\r\n                } else {\r\n                    userName += email.charAt(i);\r\n                }\r\n            }\r\n            out.printf(&quot;Your username is %s.&quot;, userName);\r\n        }\r\n    }\r\n\r\nI have solved the problem however is there any efficient way of doing this code?","title":"How to make uppercase with charAt() method in Java?","body":"<p>I am trying to make a program where a input an email from the user. I have to create a username from the email by deleting the part that comes after ‘@’ and I will display that username to the user. I will ignore the numbers and after a '.' and I will uppercase the next char.</p>\n<p><strong>Example :</strong></p>\n<p><em>email = “something.someone.98@gmail.com” ; username = “<strong>SomethingSomeone</strong>”</em></p>\n<p><em>email = “something.someone@icloud.com”; username = “<strong>SomethingSomeone</strong>”</em></p>\n<pre><code>package core_java.JavaExercise.Two;\n\nimport java.util.Scanner;\n\nimport static java.lang.System.in;\nimport static java.lang.System.out;\n\npublic class Java_String_Exercise_03 {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(in);\n\n        out.print(&quot;Enter your email address: &quot;);\n        String email = sc.next();\n\n        String userName = &quot;&quot;;\n\n        for (int i = 1 ; i &lt; email.length() ; i++) {\n            Boolean digitCheck = Character.isDigit(email.charAt(i));\n            if(digitCheck) {\n                userName += &quot;&quot;;\n            } else if (email.charAt(i) == '@') {\n                break;\n            } else if (email.charAt(i) == '.') {\n                if (Character.isDigit(email.charAt(i+1))) {\n                    userName += &quot;&quot;;\n                } else {\n                    userName += &quot;&quot; + String.valueOf(email.charAt(++i)).toUpperCase();\n                }\n            } else {\n                userName += email.charAt(i);\n            }\n        }\n        out.printf(&quot;Your username is %s.&quot;, userName);\n    }\n}\n</code></pre>\n<p>I have solved the problem however is there any efficient way of doing this code?</p>\n"},{"tags":["java","cryptography","keystore","jks","key-pair"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1662417710,"post_id":73614019,"comment_id":129996350,"body_markdown":"You&#39;re talking about **algorithms** not types. The _types_ of entries JKS can store are PrivateKey (which also contains the cert/chain thus the public key) and TrustedCert (which contains a public key) but not SecretKey. Yes PrivateKey or TrustedCert can _contain_ any key algorithm for which a provider is available -- in the &#39;standard&#39; Oracle or OpenJDK package this is DSA RSA EC as you say, plus Ed25519 and Ed448 in 15 up, but in modified or other builds or environments it may differ. A _certificate_ uses a signature algorithm like SHA256withRSA but a _key_ does not.","body":"You&#39;re talking about <b>algorithms</b> not types. The <i>types</i> of entries JKS can store are PrivateKey (which also contains the cert/chain thus the public key) and TrustedCert (which contains a public key) but not SecretKey. Yes PrivateKey or TrustedCert can <i>contain</i> any key algorithm for which a provider is available -- in the &#39;standard&#39; Oracle or OpenJDK package this is DSA RSA EC as you say, plus Ed25519 and Ed448 in 15 up, but in modified or other builds or environments it may differ. A <i>certificate</i> uses a signature algorithm like SHA256withRSA but a <i>key</i> does not."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1662417875,"post_id":73614019,"comment_id":129996372,"body_markdown":"Also note support for EC curves has good down over recent versions, so you may have a keystore containing an EC key and a Java that supports EC but nevertheless can&#39;t use the key. Finally if you want security you shouldn&#39;t be using JKS at all, but if you are letting user(s) choose crypto algorithms and parameters, which it sounds like, you clearly don&#39;t care about security because decades of experience proves that one of the fastest ways to destroy security.","body":"Also note support for EC curves has good down over recent versions, so you may have a keystore containing an EC key and a Java that supports EC but nevertheless can&#39;t use the key. Finally if you want security you shouldn&#39;t be using JKS at all, but if you are letting user(s) choose crypto algorithms and parameters, which it sounds like, you clearly don&#39;t care about security because decades of experience proves that one of the fastest ways to destroy security."},{"owner":{"account_id":1704336,"reputation":1405,"user_id":1563721,"accept_rate":42,"display_name":"user1563721"},"score":0,"creation_date":1662450957,"post_id":73614019,"comment_id":130001973,"body_markdown":"@dave_thompson_085, the JKS is one example, the same applies for other types of the KeyStore like JCEKS, BKS, etc. If I understand your comment properly, the PrivateKey provider is independent of the KeyStore provider and therefore I can have for example JKS KeyStore and inside I can generate RSA key using the BouncyCastle provider. Is my understanding correct? I can use any provider capable of working with the key type and store it in any KeyStore type?","body":"@dave_thompson_085, the JKS is one example, the same applies for other types of the KeyStore like JCEKS, BKS, etc. If I understand your comment properly, the PrivateKey provider is independent of the KeyStore provider and therefore I can have for example JKS KeyStore and inside I can generate RSA key using the BouncyCastle provider. Is my understanding correct? I can use any provider capable of working with the key type and store it in any KeyStore type?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1662528111,"post_id":73614019,"comment_id":130022905,"body_markdown":"For _asymmetric_ keys yes as I said PrivateKey or TrustedCert can contain key(s) for any algorithm(s) for which a provider is available. _Symmetric_ keys are only supported by some keystore types, and I&#39;ve run into cases that didn&#39;t work for cipher algorithm(s) which didn&#39;t need and didn&#39;t implement SecretKeyFactory.","body":"For <i>asymmetric</i> keys yes as I said PrivateKey or TrustedCert can contain key(s) for any algorithm(s) for which a provider is available. <i>Symmetric</i> keys are only supported by some keystore types, and I&#39;ve run into cases that didn&#39;t work for cipher algorithm(s) which didn&#39;t need and didn&#39;t implement SecretKeyFactory."}],"owner":{"account_id":1704336,"reputation":1405,"user_id":1563721,"accept_rate":42,"display_name":"user1563721"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662406817,"creation_date":1662406817,"question_id":73614019,"body_markdown":"I am trying to identify a proper way how to list all supported cryptographic key types, sizes, and hashing functions, for a particular Java KeyStore.\r\n\r\nAccording to the [JDK Providers Documentation](https://docs.oracle.com/en/java/javase/11/security/oracle-providers.html#GUID-FE2D2E28-C991-4EF9-9DBE-2A4982726313), there are different providers that offer various implementation of the services and algorithms.\r\n\r\nI do not understand what is the relation of the `KeyStore` type, in my case it is `JKS` (by `SUN` provider), and the key types it can store. According to the documentation the `SUN` provider can work only with `DSA` key pair, however I am able to store `RSA` or `EC` key pairs in the `JKS` provided by `SUN` provider.\r\n\r\nHow can I know which key pair types particular `KeyStore` type can store and manage? Is there any documentation or description about that? Is the `KeyStore` just storage facility with the particular implementation and protection and does not depend what key pair type generated by which provider is stored inside?\r\n\r\nMy goal is to take the `KeyStore`, and based on its properties list all supported cryptographic algorithms, key sizes, and hashing function that can be used to generate key pair and sign the data.\r\n\r\n&gt;An example: I have the `JKS` `KeyStore` provided by `SUN` provider. It can contain `DSA`, `RSA`, `EC` key pairs. For `RSA`, it can support from `512` to `16384` bits long keys and `SHA1withRSA`, `SHA256withRSA`,... and similar for the other key types.\r\n\r\nBecause I am loading `KeyStore` dynamically and I do not know before that its provider (I am using the `keytool` command), I am looking for a proper way how to dynamically load all supported algorithms based on the supported providers.","title":"What is the relation between Java KeyStore (JKS) and key types it can store","body":"<p>I am trying to identify a proper way how to list all supported cryptographic key types, sizes, and hashing functions, for a particular Java KeyStore.</p>\n<p>According to the <a href=\"https://docs.oracle.com/en/java/javase/11/security/oracle-providers.html#GUID-FE2D2E28-C991-4EF9-9DBE-2A4982726313\" rel=\"nofollow noreferrer\">JDK Providers Documentation</a>, there are different providers that offer various implementation of the services and algorithms.</p>\n<p>I do not understand what is the relation of the <code>KeyStore</code> type, in my case it is <code>JKS</code> (by <code>SUN</code> provider), and the key types it can store. According to the documentation the <code>SUN</code> provider can work only with <code>DSA</code> key pair, however I am able to store <code>RSA</code> or <code>EC</code> key pairs in the <code>JKS</code> provided by <code>SUN</code> provider.</p>\n<p>How can I know which key pair types particular <code>KeyStore</code> type can store and manage? Is there any documentation or description about that? Is the <code>KeyStore</code> just storage facility with the particular implementation and protection and does not depend what key pair type generated by which provider is stored inside?</p>\n<p>My goal is to take the <code>KeyStore</code>, and based on its properties list all supported cryptographic algorithms, key sizes, and hashing function that can be used to generate key pair and sign the data.</p>\n<blockquote>\n<p>An example: I have the <code>JKS</code> <code>KeyStore</code> provided by <code>SUN</code> provider. It can contain <code>DSA</code>, <code>RSA</code>, <code>EC</code> key pairs. For <code>RSA</code>, it can support from <code>512</code> to <code>16384</code> bits long keys and <code>SHA1withRSA</code>, <code>SHA256withRSA</code>,... and similar for the other key types.</p>\n</blockquote>\n<p>Because I am loading <code>KeyStore</code> dynamically and I do not know before that its provider (I am using the <code>keytool</code> command), I am looking for a proper way how to dynamically load all supported algorithms based on the supported providers.</p>\n"},{"tags":["java","static"],"answers":[{"tags":[],"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662405328,"creation_date":1662405328,"answer_id":73613828,"question_id":73613675,"body_markdown":"Let&#39;s go step by step.\r\n\r\n1. The `display()` method should be non-static because it belongs to and should be used on the specific instance of the University class. Static methods can be used without creating an instance of some class. But in the case of the `display()` method, it wouldn&#39;t makes sense to do that because you need to display the university name, which firstly should be created and assigned.\r\n\r\n2. It&#39;s not a good idea to create the object instance `University universityObj` inside the class in your case. Better to leave it only in the main method.\r\n\r\n3. The `university_name` name is not static, so you can&#39;t access it without the class instance (object) like you&#39;re doing right now. `University.university_name` should be changed to `universityObj.university_name`.\r\n\r\nThese steps will bring us to a such piece of code:\r\n```java\r\npublic class University {\r\n    String name;\r\n    int stuno;\r\n    String university_name = &quot;Michigan University&quot;;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        University universityObj = new University();\r\n        universityObj.name = &quot;Robert&quot;;\r\n        universityObj.stuno = 12;\r\n        System.out.println(universityObj.name);\r\n        System.out.println(universityObj.university_name);\r\n        universityObj.display();\r\n    }\r\n\r\n    public void display() {\r\n        System.out.println(name);\r\n        System.out.println(stuno);\r\n    }\r\n}\r\n```\r\n\r\nOther things, which you should consider:\r\n\r\n4. Read about [encapsulation][1].\r\n\r\n5. Use code formatting in your IDE. [Example for IntelliJ IDEA][2].\r\n\r\n6. Check the `toString()` method from the `Object` class. It&#39;s intended exactly for what you&#39;re trying to achieve with your `display()` method.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\r\n  [2]: https://www.jetbrains.com/help/idea/reformat-and-rearrange-code.html#reformat_file","title":"How can I use non static variable(object ref) in static method without creating object inside that static method in java?is there any way to do it?","body":"<p>Let's go step by step.</p>\n<ol>\n<li><p>The <code>display()</code> method should be non-static because it belongs to and should be used on the specific instance of the University class. Static methods can be used without creating an instance of some class. But in the case of the <code>display()</code> method, it wouldn't makes sense to do that because you need to display the university name, which firstly should be created and assigned.</p>\n</li>\n<li><p>It's not a good idea to create the object instance <code>University universityObj</code> inside the class in your case. Better to leave it only in the main method.</p>\n</li>\n<li><p>The <code>university_name</code> name is not static, so you can't access it without the class instance (object) like you're doing right now. <code>University.university_name</code> should be changed to <code>universityObj.university_name</code>.</p>\n</li>\n</ol>\n<p>These steps will bring us to a such piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class University {\n    String name;\n    int stuno;\n    String university_name = &quot;Michigan University&quot;;\n\n    public static void main(String[] args) {\n\n        University universityObj = new University();\n        universityObj.name = &quot;Robert&quot;;\n        universityObj.stuno = 12;\n        System.out.println(universityObj.name);\n        System.out.println(universityObj.university_name);\n        universityObj.display();\n    }\n\n    public void display() {\n        System.out.println(name);\n        System.out.println(stuno);\n    }\n}\n</code></pre>\n<p>Other things, which you should consider:</p>\n<ol start=\"4\">\n<li><p>Read about <a href=\"https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\" rel=\"nofollow noreferrer\">encapsulation</a>.</p>\n</li>\n<li><p>Use code formatting in your IDE. <a href=\"https://www.jetbrains.com/help/idea/reformat-and-rearrange-code.html#reformat_file\" rel=\"nofollow noreferrer\">Example for IntelliJ IDEA</a>.</p>\n</li>\n<li><p>Check the <code>toString()</code> method from the <code>Object</code> class. It's intended exactly for what you're trying to achieve with your <code>display()</code> method.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662405818,"creation_date":1662405818,"answer_id":73613892,"question_id":73613675,"body_markdown":"You *might* simply pass a reference to the instance you want to be displayed. Like,\r\n\r\n    public static void display(University universityObj)\r\n    {\r\n        System.out.println(universityObj.name);\r\n    }\r\n\r\n","title":"How can I use non static variable(object ref) in static method without creating object inside that static method in java?is there any way to do it?","body":"<p>You <em>might</em> simply pass a reference to the instance you want to be displayed. Like,</p>\n<pre><code>public static void display(University universityObj)\n{\n    System.out.println(universityObj.name);\n}\n</code></pre>\n"}],"owner":{"account_id":7115853,"reputation":11,"user_id":5442181,"display_name":"priya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1662406147,"creation_date":1662404288,"question_id":73613675,"body_markdown":"I&#39;m new to Java. I get this error when running the code below\r\n\r\n&gt; Cannot make a static reference to the non-static field universityObj\r\n\r\nBut not getting error while using\r\n\r\n```\r\n        University universityObj = new University();\r\n```\r\nThe code:\r\n\r\n```\r\n    \r\n        public class University {\r\n        \tString name;\r\n        \tint stuno;\r\n              String university_name = &quot;Michigan University&quot;;\r\n        \tUniversity  universityObj;\r\n        \tpublic static void main(String[] args)\r\n        \t{\r\n        \t\t\r\n        \t\tUniversity universityObj = new University();\r\n        \t\tuniversityObj.name=&quot;Robert&quot;;\r\n        \t\tuniversityObj.stuno=12;\r\n        \t\tSystem.out.println(universityObj.name);\r\n        \t\tSystem.out.println(University.university_name);\r\n        \t\tdisplay();\r\n        \t}\r\n        \tpublic void nonStaticDisplay()\r\n        \t{\r\n        \t\tSystem.out.println(name);\r\n        \t  \r\n        \t\tSystem.out.println(stuno);\r\n        \t\t\r\n        \t}\r\n           public static void display()\r\n           {\r\n        \t   universityObj = new University();\r\n        \t   System.out.println(universityObj.name);\r\n           }\r\n        }\r\n```\r\n\r\n\r\n","title":"How can I use non static variable(object ref) in static method without creating object inside that static method in java?is there any way to do it?","body":"<p>I'm new to Java. I get this error when running the code below</p>\n<blockquote>\n<p>Cannot make a static reference to the non-static field universityObj</p>\n</blockquote>\n<p>But not getting error while using</p>\n<pre><code>        University universityObj = new University();\n</code></pre>\n<p>The code:</p>\n<pre><code>    \n        public class University {\n            String name;\n            int stuno;\n              String university_name = &quot;Michigan University&quot;;\n            University  universityObj;\n            public static void main(String[] args)\n            {\n                \n                University universityObj = new University();\n                universityObj.name=&quot;Robert&quot;;\n                universityObj.stuno=12;\n                System.out.println(universityObj.name);\n                System.out.println(University.university_name);\n                display();\n            }\n            public void nonStaticDisplay()\n            {\n                System.out.println(name);\n              \n                System.out.println(stuno);\n                \n            }\n           public static void display()\n           {\n               universityObj = new University();\n               System.out.println(universityObj.name);\n           }\n        }\n</code></pre>\n"},{"tags":["java","jhipster","dto","mapstruct"],"comments":[{"owner":{"account_id":26114650,"reputation":7,"user_id":19807985,"display_name":"Troo TrIIs"},"score":0,"creation_date":1662385378,"post_id":73594083,"comment_id":129987885,"body_markdown":"entity Employee {\n    firstName String\n    lastName String\n}\n\nentity Role {\n    Name String\n}\n\nrelationship OneToMany {\n    Employee{role} to Role{employee required}\n} dto all with mapstruct","body":"entity Employee {     firstName String     lastName String }  entity Role {     Name String }  relationship OneToMany {     Employee{role} to Role{employee required} } dto all with mapstruct"}],"answers":[{"tags":[],"owner":{"account_id":7030463,"reputation":96,"user_id":5386366,"display_name":"jelharou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662405765,"creation_date":1662397542,"answer_id":73612677,"question_id":73594083,"body_markdown":"Have a look at [A unidirectional one-to-many relationship][1].  This is what you have defined but it is not supported as-is.  From a DB perspective the entity of which there are many needs to keep track of the one it is associated with.\r\n\r\nYou probably need to review that entire page, but they recommend a bi-directional relationship:\r\n\r\n```relationship OneToMany { Owner{car} to Car{owner required}```\r\n\r\nI made the owner `required` so that the fake data would be generated. Remove it if cars can be created without owners.\r\n\r\nAdding the DTO option automatically creates the services.  You will need to modify the `OwnerDTO` to add the cars attribute.  You will then need to modify the `OwnerMapper` to add in the cars, by getting them from the `CarRepository` to which you need to add findByOwner.\r\n\r\nThis should help, although it doesn&#39;t follow the same pattern as the latest generated code:\r\n[https://www.jhipster.tech/using-dtos/#advanced-mapstruct-usage][2]\r\n\r\nCorrection: When children are not appearing for domain entities, that is just the default Lazy loading.  You can change it by adding the fetch type: e.g.\r\n\r\n```@OneToMany(mappedBy = &quot;owner&quot;, fetch = FetchType.EAGER)```\r\n\r\n  \r\n\r\n\r\n  [1]: https://www.jhipster.tech/managing-relationships/#a-unidirectional-one-to-many-relationship\r\n  [2]: https://www.jhipster.tech/using-dtos/#advanced-mapstruct-usage","title":"ChildDTO into ParentDTO in JHIPSTER with mapstruct","body":"<p>Have a look at <a href=\"https://www.jhipster.tech/managing-relationships/#a-unidirectional-one-to-many-relationship\" rel=\"nofollow noreferrer\">A unidirectional one-to-many relationship</a>.  This is what you have defined but it is not supported as-is.  From a DB perspective the entity of which there are many needs to keep track of the one it is associated with.</p>\n<p>You probably need to review that entire page, but they recommend a bi-directional relationship:</p>\n<p><code>relationship OneToMany { Owner{car} to Car{owner required}</code></p>\n<p>I made the owner <code>required</code> so that the fake data would be generated. Remove it if cars can be created without owners.</p>\n<p>Adding the DTO option automatically creates the services.  You will need to modify the <code>OwnerDTO</code> to add the cars attribute.  You will then need to modify the <code>OwnerMapper</code> to add in the cars, by getting them from the <code>CarRepository</code> to which you need to add findByOwner.</p>\n<p>This should help, although it doesn't follow the same pattern as the latest generated code:\n<a href=\"https://www.jhipster.tech/using-dtos/#advanced-mapstruct-usage\" rel=\"nofollow noreferrer\">https://www.jhipster.tech/using-dtos/#advanced-mapstruct-usage</a></p>\n<p>Correction: When children are not appearing for domain entities, that is just the default Lazy loading.  You can change it by adding the fetch type: e.g.</p>\n<p><code>@OneToMany(mappedBy = &quot;owner&quot;, fetch = FetchType.EAGER)</code></p>\n"}],"owner":{"account_id":26114650,"reputation":7,"user_id":19807985,"display_name":"Troo TrIIs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73612677,"answer_count":1,"score":0,"last_activity_date":1662405765,"creation_date":1662225128,"question_id":73594083,"body_markdown":"I have this entities \r\n\r\n        entity Employee {\r\n        firstName String\r\n        lastName String\r\n    }\r\n    \r\n    entity Role {\r\n        Name String\r\n    }\r\n    \r\n    relationship OneToMany {\r\n        Employee{role} to Role{employee required}\r\n    }\r\nAnd i want to return in the ParentDTO something like this \r\n\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;firstName&quot;: &quot;John&quot;,\r\n        &quot;lastName&quot;: &quot;Doe&quot;,\r\n        &quot;roles&quot;: \r\n                [\r\n                    {\r\n                        &quot;id&quot;: 1                    \r\n                        &quot;name&quot;: &quot;Admin&quot;\r\n                    },\r\n                    {\r\n                        &quot;id&quot;: 2\r\n                        &quot;name&quot;: &quot;Collector&quot;\r\n                    }\r\n                ]   \r\n    }\r\nI don&#39;t know how to do it and i want to learn.\r\nCan please someone tell me how to do it manually or automatically and what to change specifically Iam new to jhipster and mapstruct.\r\nThanks and sorry for disturbing.","title":"ChildDTO into ParentDTO in JHIPSTER with mapstruct","body":"<p>I have this entities</p>\n<pre><code>    entity Employee {\n    firstName String\n    lastName String\n}\n\nentity Role {\n    Name String\n}\n\nrelationship OneToMany {\n    Employee{role} to Role{employee required}\n}\n</code></pre>\n<p>And i want to return in the ParentDTO something like this</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;firstName&quot;: &quot;John&quot;,\n    &quot;lastName&quot;: &quot;Doe&quot;,\n    &quot;roles&quot;: \n            [\n                {\n                    &quot;id&quot;: 1                    \n                    &quot;name&quot;: &quot;Admin&quot;\n                },\n                {\n                    &quot;id&quot;: 2\n                    &quot;name&quot;: &quot;Collector&quot;\n                }\n            ]   \n}\n</code></pre>\n<p>I don't know how to do it and i want to learn.\nCan please someone tell me how to do it manually or automatically and what to change specifically Iam new to jhipster and mapstruct.\nThanks and sorry for disturbing.</p>\n"},{"tags":["java","android","android-external-storage","android-mediascanner","android-10.0"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1568409445,"post_id":57929565,"comment_id":102278296,"body_markdown":"Try `MediaScannerConnection` and its `scanFile()` method. Note that it is possible that you will not be able to satisfy both conditions (have filesystem access and have the video appear in `MediaStore` for gallery apps) with a single file.","body":"Try <code>MediaScannerConnection</code> and its <code>scanFile()</code> method. Note that it is possible that you will not be able to satisfy both conditions (have filesystem access and have the video appear in <code>MediaStore</code> for gallery apps) with a single file."},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1568410030,"post_id":57929565,"comment_id":102278442,"body_markdown":"@CommonsWare ,thank you for your comment, I have tried it , but unfortunately, no video found in Gallery","body":"@CommonsWare ,thank you for your comment, I have tried it , but unfortunately, no video found in Gallery"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1568412530,"post_id":57929565,"comment_id":102279029,"body_markdown":"That library probably could be adapted to use [the `MediaMuxer` constructor that takes a `FileDescriptor`](https://developer.android.com/reference/android/media/MediaMuxer.html#MediaMuxer(java.io.FileDescriptor,%20int)). Then, you would be able to use `openFileDescriptor()` on `ContentResolver` to be able to go back to your `MediaStore` `Uri` issue. Otherwise, after you have modified the video with the library, copy it into the `MediaStore` (see your previous question) and delete your file copy.","body":"That library probably could be adapted to use <a href=\"https://developer.android.com/reference/android/media/MediaMuxer.html#MediaMuxer(java.io.FileDescriptor,%20int)\" rel=\"nofollow noreferrer\">the <code>MediaMuxer</code> constructor that takes a <code>FileDescriptor</code></a>. Then, you would be able to use <code>openFileDescriptor()</code> on <code>ContentResolver</code> to be able to go back to your <code>MediaStore</code> <code>Uri</code> issue. Otherwise, after you have modified the video with the library, copy it into the <code>MediaStore</code> (see your previous question) and delete your file copy."},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1568413255,"post_id":57929565,"comment_id":102279166,"body_markdown":"@CommonsWare thank you for your comment, copy the path or the file itself? , and how I can copy it to `MediaStore` ,thank you","body":"@CommonsWare thank you for your comment, copy the path or the file itself? , and how I can copy it to <code>MediaStore</code> ,thank you"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1568416228,"post_id":57929565,"comment_id":102279729,"body_markdown":"&quot;copy the path or the file itself?&quot; -- the file. &quot;how I can copy it to MediaStore&quot; -- we discussed this in [an earlier question](https://stackoverflow.com/q/57923329/115145). The code that you have there, with the modifications in my answer, should work fine... just use your converted video file as the source of data. [This class](https://gitlab.com/commonsguy/cw-android-q/blob/v0.5/ConferenceVideos/src/main/java/com/commonsware/android/conferencevideos/VideoRepository.kt) shows downloading a video; your code will be the same, just using a file as your data source.","body":"&quot;copy the path or the file itself?&quot; -- the file. &quot;how I can copy it to MediaStore&quot; -- we discussed this in <a href=\"https://stackoverflow.com/q/57923329/115145\">an earlier question</a>. The code that you have there, with the modifications in my answer, should work fine... just use your converted video file as the source of data. <a href=\"https://gitlab.com/commonsguy/cw-android-q/blob/v0.5/ConferenceVideos/src/main/java/com/commonsware/android/conferencevideos/VideoRepository.kt\" rel=\"nofollow noreferrer\">This class</a> shows downloading a video; your code will be the same, just using a file as your data source."},{"owner":{"account_id":1716285,"reputation":14695,"user_id":1573279,"accept_rate":67,"display_name":"Gunaseelan"},"score":0,"creation_date":1596419298,"post_id":57929565,"comment_id":111796803,"body_markdown":"@CommonsWare Can you take look into https://stackoverflow.com/questions/63222644/contentresolver-query-doesnt-return-the-newly-inserted-video?","body":"@CommonsWare Can you take look into <a href=\"https://stackoverflow.com/questions/63222644/contentresolver-query-doesnt-return-the-newly-inserted-video\" title=\"contentresolver query doesnt return the newly inserted video\">stackoverflow.com/questions/63222644/&hellip;</a>?"},{"owner":{"display_name":"user15260712"},"score":0,"creation_date":1632533782,"post_id":57929565,"comment_id":122526234,"body_markdown":"search for `.NOMEDIA` file","body":"search for <code>.NOMEDIA</code> file"}],"answers":[{"tags":[],"owner":{"account_id":5453331,"reputation":2758,"user_id":4337510,"accept_rate":30,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1632533232,"creation_date":1568511583,"answer_id":57940502,"question_id":57929565,"body_markdown":"You have to change the library to make it work with Android Q. If you cannot do this you could copy the video to the media gallery and then delete the old video created in `getExternalFilesDir()`. After this you have the URI of the video and can do what you want with the URI.\r\n\r\n\r\nIf you have saved the video with `getExternalFilesDir()` you could use my example here: The media URI you get is &quot;uriSavedVideo&quot;. This is only an example. A large video should also be copied in the background. \r\n\r\n```\r\nUri uriSavedVideo;\r\nFile createdvideo = null;\r\nContentResolver resolver = getContentResolver();\r\nString videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\r\nContentValues valuesvideos;\r\nvaluesvideos = new ContentValues();\r\n\r\nif (Build.VERSION.SDK_INT &gt;= 29) {\r\n    valuesvideos.put(MediaStore.Video.Media.RELATIVE_PATH, &quot;Movies/&quot; + &quot;Folder&quot;);\r\n    valuesvideos.put(MediaStore.Video.Media.TITLE, videoFileName);\r\n    valuesvideos.put(MediaStore.Video.Media.DISPLAY_NAME, videoFileName);\r\n    valuesvideos.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\r\n    valuesvideos.put(\r\n        MediaStore.Video.Media.DATE_ADDED, \r\n        System.currentTimeMillis() / 1000);\r\n\r\n    Uri collection = \r\n        MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\r\n    uriSavedVideo = resolver.insert(collection, valuesvideos);\r\n} else {\r\n    String directory  = Environment.getExternalStorageDirectory().getAbsolutePath() \r\n    + File.separator + Environment.DIRECTORY_MOVIES + &quot;/&quot; + &quot;YourFolder&quot;;\r\n    createdvideo = new File(directory, videoFileName);\r\n\r\n    valuesvideos.put(MediaStore.Video.Media.TITLE, videoFileName);\r\n    valuesvideos.put(MediaStore.Video.Media.DISPLAY_NAME, videoFileName);\r\n    valuesvideos.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\r\n    valuesvideos.put(\r\n        MediaStore.Video.Media.DATE_ADDED, \r\n        System.currentTimeMillis() / 1000);\r\n    valuesvideos.put(MediaStore.Video.Media.DATA, createdvideo.getAbsolutePath());\r\n\r\n    uriSavedVideo = getContentResolver().insert(\r\n        MediaStore.Video.Media.EXTERNAL_CONTENT_URI, \r\n        valuesvideos);\r\n}\r\n\r\nif (Build.VERSION.SDK_INT &gt;= 29) {\r\n    valuesvideos.put(MediaStore.Video.Media.DATE_TAKEN, System.currentTimeMillis());\r\n    valuesvideos.put(MediaStore.Video.Media.IS_PENDING, 1);\r\n}\r\n\r\nParcelFileDescriptor pfd;\r\ntry {\r\n    pfd = getContentResolver().openFileDescriptor(uriSavedVideo, &quot;w&quot;);\r\n\r\n    FileOutputStream out = new FileOutputStream(pfd.getFileDescriptor());\r\n    // get the already saved video as fileinputstream\r\n    // The Directory where your file is saved\r\n    File storageDir = new File(\r\n        getExternalFilesDir(Environment.DIRECTORY_MOVIES), \r\n        &quot;Folder&quot;);\r\n    //Directory and the name of your video file to copy\r\n    File videoFile = new File(storageDir, &quot;Myvideo&quot;); \r\n    FileInputStream in = new FileInputStream(videoFile);\r\n\r\n    byte[] buf = new byte[8192];\r\n    int len;\r\n    while ((len = in.read(buf)) &gt; 0) {\r\n        out.write(buf, 0, len);\r\n    }\r\n\r\n    out.close();\r\n    in.close();\r\n    pfd.close();\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n\r\nif (Build.VERSION.SDK_INT &gt;= 29) {\r\n    valuesvideos.clear();\r\n    valuesvideos.put(MediaStore.Video.Media.IS_PENDING, 0);\r\n    getContentResolver().update(uriSavedVideo, valuesvideos, null, null);\r\n}\r\n```","title":"Insert Video to gallery [Android Q]","body":"<p>You have to change the library to make it work with Android Q. If you cannot do this you could copy the video to the media gallery and then delete the old video created in <code>getExternalFilesDir()</code>. After this you have the URI of the video and can do what you want with the URI.</p>\n<p>If you have saved the video with <code>getExternalFilesDir()</code> you could use my example here: The media URI you get is &quot;uriSavedVideo&quot;. This is only an example. A large video should also be copied in the background.</p>\n<pre><code>Uri uriSavedVideo;\nFile createdvideo = null;\nContentResolver resolver = getContentResolver();\nString videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\nContentValues valuesvideos;\nvaluesvideos = new ContentValues();\n\nif (Build.VERSION.SDK_INT &gt;= 29) {\n    valuesvideos.put(MediaStore.Video.Media.RELATIVE_PATH, &quot;Movies/&quot; + &quot;Folder&quot;);\n    valuesvideos.put(MediaStore.Video.Media.TITLE, videoFileName);\n    valuesvideos.put(MediaStore.Video.Media.DISPLAY_NAME, videoFileName);\n    valuesvideos.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\n    valuesvideos.put(\n        MediaStore.Video.Media.DATE_ADDED, \n        System.currentTimeMillis() / 1000);\n\n    Uri collection = \n        MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\n    uriSavedVideo = resolver.insert(collection, valuesvideos);\n} else {\n    String directory  = Environment.getExternalStorageDirectory().getAbsolutePath() \n    + File.separator + Environment.DIRECTORY_MOVIES + &quot;/&quot; + &quot;YourFolder&quot;;\n    createdvideo = new File(directory, videoFileName);\n\n    valuesvideos.put(MediaStore.Video.Media.TITLE, videoFileName);\n    valuesvideos.put(MediaStore.Video.Media.DISPLAY_NAME, videoFileName);\n    valuesvideos.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\n    valuesvideos.put(\n        MediaStore.Video.Media.DATE_ADDED, \n        System.currentTimeMillis() / 1000);\n    valuesvideos.put(MediaStore.Video.Media.DATA, createdvideo.getAbsolutePath());\n\n    uriSavedVideo = getContentResolver().insert(\n        MediaStore.Video.Media.EXTERNAL_CONTENT_URI, \n        valuesvideos);\n}\n\nif (Build.VERSION.SDK_INT &gt;= 29) {\n    valuesvideos.put(MediaStore.Video.Media.DATE_TAKEN, System.currentTimeMillis());\n    valuesvideos.put(MediaStore.Video.Media.IS_PENDING, 1);\n}\n\nParcelFileDescriptor pfd;\ntry {\n    pfd = getContentResolver().openFileDescriptor(uriSavedVideo, &quot;w&quot;);\n\n    FileOutputStream out = new FileOutputStream(pfd.getFileDescriptor());\n    // get the already saved video as fileinputstream\n    // The Directory where your file is saved\n    File storageDir = new File(\n        getExternalFilesDir(Environment.DIRECTORY_MOVIES), \n        &quot;Folder&quot;);\n    //Directory and the name of your video file to copy\n    File videoFile = new File(storageDir, &quot;Myvideo&quot;); \n    FileInputStream in = new FileInputStream(videoFile);\n\n    byte[] buf = new byte[8192];\n    int len;\n    while ((len = in.read(buf)) &gt; 0) {\n        out.write(buf, 0, len);\n    }\n\n    out.close();\n    in.close();\n    pfd.close();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n\nif (Build.VERSION.SDK_INT &gt;= 29) {\n    valuesvideos.clear();\n    valuesvideos.put(MediaStore.Video.Media.IS_PENDING, 0);\n    getContentResolver().update(uriSavedVideo, valuesvideos, null, null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1748128,"reputation":3542,"user_id":1597841,"accept_rate":64,"display_name":"nAkhmedov"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1599410673,"creation_date":1580815104,"answer_id":60056240,"question_id":57929565,"body_markdown":"Here it is my solution - save photo/video to Gallery.\r\n\r\n    private fun saveMediaFile2(filePath: String?, isVideo: Boolean, fileName: String) {\r\n    filePath?.let {\r\n        val context = MyApp.applicationContext\r\n        val values = ContentValues().apply {\r\n            val folderName = if (isVideo) {\r\n                Environment.DIRECTORY_MOVIES\r\n            } else {\r\n                Environment.DIRECTORY_PICTURES\r\n            }\r\n            put(MediaStore.Images.Media.DISPLAY_NAME, fileName)\r\n            put(MediaStore.Images.Media.MIME_TYPE, MimeUtils.guessMimeTypeFromExtension(getExtension(fileName)))\r\n            put(MediaStore.Images.Media.RELATIVE_PATH, folderName + &quot;/${context.getString(R.string.app_name)}/&quot;)\r\n            put(MediaStore.Images.Media.IS_PENDING, 1)\r\n        }\r\n\r\n        val collection = if (isVideo) {\r\n            MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\r\n        } else {\r\n            MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\r\n        }\r\n        val fileUri = context.contentResolver.insert(collection, values)\r\n\r\n        fileUri?.let {\r\n            if (isVideo) {\r\n                context.contentResolver.openFileDescriptor(fileUri, &quot;w&quot;).use { descriptor -&gt;\r\n                    descriptor?.let {\r\n                        FileOutputStream(descriptor.fileDescriptor).use { out -&gt;\r\n                            val videoFile = File(filePath)\r\n                            FileInputStream(videoFile).use { inputStream -&gt;\r\n                                val buf = ByteArray(8192)\r\n                                while (true) {\r\n                                    val sz = inputStream.read(buf)\r\n                                    if (sz &lt;= 0) break\r\n                                    out.write(buf, 0, sz)\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                context.contentResolver.openOutputStream(fileUri).use { out -&gt;\r\n                    val bmOptions = BitmapFactory.Options()\r\n                    val bmp = BitmapFactory.decodeFile(filePath, bmOptions)\r\n                    bmp.compress(Bitmap.CompressFormat.JPEG, 90, out)\r\n                    bmp.recycle()\r\n                }\r\n            }\r\n            values.clear()\r\n            values.put(if (isVideo) MediaStore.Video.Media.IS_PENDING else MediaStore.Images.Media.IS_PENDING, 0)\r\n            context.contentResolver.update(fileUri, values, null, null)\r\n        }\r\n    }\r\n    }","title":"Insert Video to gallery [Android Q]","body":"<p>Here it is my solution - save photo/video to Gallery.</p>\n<pre><code>private fun saveMediaFile2(filePath: String?, isVideo: Boolean, fileName: String) {\nfilePath?.let {\n    val context = MyApp.applicationContext\n    val values = ContentValues().apply {\n        val folderName = if (isVideo) {\n            Environment.DIRECTORY_MOVIES\n        } else {\n            Environment.DIRECTORY_PICTURES\n        }\n        put(MediaStore.Images.Media.DISPLAY_NAME, fileName)\n        put(MediaStore.Images.Media.MIME_TYPE, MimeUtils.guessMimeTypeFromExtension(getExtension(fileName)))\n        put(MediaStore.Images.Media.RELATIVE_PATH, folderName + &quot;/${context.getString(R.string.app_name)}/&quot;)\n        put(MediaStore.Images.Media.IS_PENDING, 1)\n    }\n\n    val collection = if (isVideo) {\n        MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\n    } else {\n        MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\n    }\n    val fileUri = context.contentResolver.insert(collection, values)\n\n    fileUri?.let {\n        if (isVideo) {\n            context.contentResolver.openFileDescriptor(fileUri, &quot;w&quot;).use { descriptor -&gt;\n                descriptor?.let {\n                    FileOutputStream(descriptor.fileDescriptor).use { out -&gt;\n                        val videoFile = File(filePath)\n                        FileInputStream(videoFile).use { inputStream -&gt;\n                            val buf = ByteArray(8192)\n                            while (true) {\n                                val sz = inputStream.read(buf)\n                                if (sz &lt;= 0) break\n                                out.write(buf, 0, sz)\n                            }\n                        }\n                    }\n                }\n            }\n        } else {\n            context.contentResolver.openOutputStream(fileUri).use { out -&gt;\n                val bmOptions = BitmapFactory.Options()\n                val bmp = BitmapFactory.decodeFile(filePath, bmOptions)\n                bmp.compress(Bitmap.CompressFormat.JPEG, 90, out)\n                bmp.recycle()\n            }\n        }\n        values.clear()\n        values.put(if (isVideo) MediaStore.Video.Media.IS_PENDING else MediaStore.Images.Media.IS_PENDING, 0)\n        context.contentResolver.update(fileUri, values, null, null)\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14796448,"reputation":295,"user_id":10685960,"display_name":"Khaled Mahmoud"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662405759,"creation_date":1655377754,"answer_id":72644870,"question_id":57929565,"body_markdown":"Thanks to other solutions I managed to get done with this code:\r\n\r\n    fun saveVideo(filePath: String?, isMOV: Boolean, fileName: String) {\r\n         filePath?.let {\r\n            val context = requireContext()\r\n            val values = ContentValues().apply {\r\n                val folderName = Environment.DIRECTORY_MOVIES\r\n\r\n                put(MediaStore.Video.Media.DISPLAY_NAME, fileName)\r\n                put(MediaStore.Video.Media.TITLE, fileName)\r\n                put(\r\n                    MediaStore.Video.Media.MIME_TYPE, if (isMOV) {\r\n                        &quot;video/quicktime&quot;\r\n                    } else {\r\n                        &quot;video/mp4&quot;\r\n                    }\r\n                )\r\n                if (Build.VERSION.SDK_INT &gt;= 29) {\r\n                    put(\r\n                        MediaStore.Video.Media.RELATIVE_PATH,\r\n                        folderName + &quot;/${context.getString(R.string.app_name)}&quot;\r\n                    )\r\n                    put(\r\n                        MediaStore.Video.Media.DATE_ADDED,\r\n                        System.currentTimeMillis() / 1000\r\n                    )\r\n                    put(MediaStore.Video.Media.IS_PENDING, 1)\r\n\r\n                } else {\r\n                    put(\r\n                        MediaStore.Video.Media.DATE_ADDED,\r\n                        System.currentTimeMillis() / 1000\r\n                    )\r\n\r\n                }\r\n            }\r\n            val fileUri = if (Build.VERSION.SDK_INT &gt;= 29) {\r\n                val collection =\r\n                    MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\r\n                context.contentResolver.insert(collection, values)\r\n            } else {\r\n                requireContext().contentResolver.insert(\r\n                    MediaStore.Video.Media.EXTERNAL_CONTENT_URI,\r\n                    values\r\n                )!!\r\n            }\r\n            fileUri?.let {\r\n                context.contentResolver.openFileDescriptor(fileUri, &quot;w&quot;).use { descriptor -&gt;\r\n                    descriptor?.let {\r\n                        try {\r\n                            FileOutputStream(descriptor.fileDescriptor).use { out -&gt;\r\n                                val videoFile = File(filePath)\r\n                                FileInputStream(videoFile).use { inputStream -&gt;\r\n                                    val buf = ByteArray(8192)\r\n                                    while (true) {\r\n                                        val sz = inputStream.read(buf)\r\n                                        if (sz &lt;= 0) break\r\n                                        out.write(buf, 0, sz)\r\n                                    }\r\n                                }\r\n                            }\r\n                        } catch (e: Exception) {\r\n                            Toast.makeText(context, &quot;couldn&#39;t save the video&quot;, Toast.LENGTH_SHORT)\r\n                                .show()\r\n                            return\r\n                        }\r\n                    }\r\n                }\r\n\r\n                values.clear()\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                    values.put(MediaStore.Video.Media.IS_PENDING, 0)\r\n                }\r\n                try {\r\n                    requireContext().contentResolver.update(fileUri, values, null, null)\r\n                }catch (e:Exception){}\r\n            }\r\n        }\r\n        Toast.makeText(context, &quot;Video saved to gallery&quot;, Toast.LENGTH_SHORT).show()\r\n    }","title":"Insert Video to gallery [Android Q]","body":"<p>Thanks to other solutions I managed to get done with this code:</p>\n<pre><code>fun saveVideo(filePath: String?, isMOV: Boolean, fileName: String) {\n     filePath?.let {\n        val context = requireContext()\n        val values = ContentValues().apply {\n            val folderName = Environment.DIRECTORY_MOVIES\n\n            put(MediaStore.Video.Media.DISPLAY_NAME, fileName)\n            put(MediaStore.Video.Media.TITLE, fileName)\n            put(\n                MediaStore.Video.Media.MIME_TYPE, if (isMOV) {\n                    &quot;video/quicktime&quot;\n                } else {\n                    &quot;video/mp4&quot;\n                }\n            )\n            if (Build.VERSION.SDK_INT &gt;= 29) {\n                put(\n                    MediaStore.Video.Media.RELATIVE_PATH,\n                    folderName + &quot;/${context.getString(R.string.app_name)}&quot;\n                )\n                put(\n                    MediaStore.Video.Media.DATE_ADDED,\n                    System.currentTimeMillis() / 1000\n                )\n                put(MediaStore.Video.Media.IS_PENDING, 1)\n\n            } else {\n                put(\n                    MediaStore.Video.Media.DATE_ADDED,\n                    System.currentTimeMillis() / 1000\n                )\n\n            }\n        }\n        val fileUri = if (Build.VERSION.SDK_INT &gt;= 29) {\n            val collection =\n                MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\n            context.contentResolver.insert(collection, values)\n        } else {\n            requireContext().contentResolver.insert(\n                MediaStore.Video.Media.EXTERNAL_CONTENT_URI,\n                values\n            )!!\n        }\n        fileUri?.let {\n            context.contentResolver.openFileDescriptor(fileUri, &quot;w&quot;).use { descriptor -&gt;\n                descriptor?.let {\n                    try {\n                        FileOutputStream(descriptor.fileDescriptor).use { out -&gt;\n                            val videoFile = File(filePath)\n                            FileInputStream(videoFile).use { inputStream -&gt;\n                                val buf = ByteArray(8192)\n                                while (true) {\n                                    val sz = inputStream.read(buf)\n                                    if (sz &lt;= 0) break\n                                    out.write(buf, 0, sz)\n                                }\n                            }\n                        }\n                    } catch (e: Exception) {\n                        Toast.makeText(context, &quot;couldn't save the video&quot;, Toast.LENGTH_SHORT)\n                            .show()\n                        return\n                    }\n                }\n            }\n\n            values.clear()\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n                values.put(MediaStore.Video.Media.IS_PENDING, 0)\n            }\n            try {\n                requireContext().contentResolver.update(fileUri, values, null, null)\n            }catch (e:Exception){}\n        }\n    }\n    Toast.makeText(context, &quot;Video saved to gallery&quot;, Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11204896,"reputation":21,"user_id":8220813,"display_name":"Hemant patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659363537,"creation_date":1659363537,"answer_id":73195126,"question_id":57929565,"body_markdown":"The reply is late but may benefit someone in the future. here is my version of code perfectly working in android 26 to 31. Lower than 26 I did not check.\r\nNeed to implement Apache commons Io.\r\n\r\n```\r\nsuspend fun moveVideo1(context: Context,src: String,videoFileName: String,extension: String): Boolean\r\n{\r\n    if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q)\r\n    {\r\n        val valueVideo: ContentValues = ContentValues().apply {\r\n            put(MediaStore.MediaColumns.RELATIVE_PATH,getRelativeDownloadFolder())\r\n            put(MediaStore.MediaColumns.TITLE,videoFileName)\r\n            put(MediaStore.MediaColumns.DISPLAY_NAME,videoFileName)\r\n            put(MediaStore.MediaColumns.MIME_TYPE, MimeTypeMap.getSingleton().getMimeTypeFromExtension(extension))\r\n            put(MediaStore.MediaColumns.DATE_ADDED, System.currentTimeMillis() / 1000)\r\n            put(MediaStore.MediaColumns.DATE_TAKEN, System.currentTimeMillis());\r\n            put(MediaStore.MediaColumns.IS_PENDING, 1);\r\n        }\r\n\r\n        val uriSavedVideo = context.contentResolver.insert(MediaStore.Downloads.EXTERNAL_CONTENT_URI,valueVideo)?: Uri.EMPTY\r\n\r\n        val pfd: ParcelFileDescriptor?\r\n\r\n        try {\r\n            pfd = context.contentResolver.openFileDescriptor(uriSavedVideo, &quot;w&quot;)\r\n            val out = FileOutputStream(pfd?.fileDescriptor)\r\n            val inStream = FileInputStream(File(src))\r\n            val buf = ByteArray(8192)\r\n\r\n            var len: Int\r\n            while (inStream.read(buf).also { len = it } &gt; 0) {\r\n                out.write(buf, 0, len)\r\n            }\r\n            out.close()\r\n            inStream.close()\r\n            pfd?.close()\r\n            File(src).delete()\r\n        }catch (e: Exception) {\r\n            e.printStackTrace()\r\n            return false\r\n        }\r\n\r\n        valueVideo.clear();\r\n        valueVideo.put(MediaStore.MediaColumns.IS_PENDING, 0);\r\n        context.contentResolver.update(uriSavedVideo, valueVideo, null, null);\r\n        return true\r\n    }\r\n    else\r\n    {\r\n        try {\r\n            FileUtils.moveFile(File(src),File(getDefaultDownloadFolder(context), &quot;$videoFileName.$extension&quot;))\r\n        }catch (e: Exception) {\r\n            e.printStackTrace()\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n}\r\n```","title":"Insert Video to gallery [Android Q]","body":"<p>The reply is late but may benefit someone in the future. here is my version of code perfectly working in android 26 to 31. Lower than 26 I did not check.\nNeed to implement Apache commons Io.</p>\n<pre><code>suspend fun moveVideo1(context: Context,src: String,videoFileName: String,extension: String): Boolean\n{\n    if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q)\n    {\n        val valueVideo: ContentValues = ContentValues().apply {\n            put(MediaStore.MediaColumns.RELATIVE_PATH,getRelativeDownloadFolder())\n            put(MediaStore.MediaColumns.TITLE,videoFileName)\n            put(MediaStore.MediaColumns.DISPLAY_NAME,videoFileName)\n            put(MediaStore.MediaColumns.MIME_TYPE, MimeTypeMap.getSingleton().getMimeTypeFromExtension(extension))\n            put(MediaStore.MediaColumns.DATE_ADDED, System.currentTimeMillis() / 1000)\n            put(MediaStore.MediaColumns.DATE_TAKEN, System.currentTimeMillis());\n            put(MediaStore.MediaColumns.IS_PENDING, 1);\n        }\n\n        val uriSavedVideo = context.contentResolver.insert(MediaStore.Downloads.EXTERNAL_CONTENT_URI,valueVideo)?: Uri.EMPTY\n\n        val pfd: ParcelFileDescriptor?\n\n        try {\n            pfd = context.contentResolver.openFileDescriptor(uriSavedVideo, &quot;w&quot;)\n            val out = FileOutputStream(pfd?.fileDescriptor)\n            val inStream = FileInputStream(File(src))\n            val buf = ByteArray(8192)\n\n            var len: Int\n            while (inStream.read(buf).also { len = it } &gt; 0) {\n                out.write(buf, 0, len)\n            }\n            out.close()\n            inStream.close()\n            pfd?.close()\n            File(src).delete()\n        }catch (e: Exception) {\n            e.printStackTrace()\n            return false\n        }\n\n        valueVideo.clear();\n        valueVideo.put(MediaStore.MediaColumns.IS_PENDING, 0);\n        context.contentResolver.update(uriSavedVideo, valueVideo, null, null);\n        return true\n    }\n    else\n    {\n        try {\n            FileUtils.moveFile(File(src),File(getDefaultDownloadFolder(context), &quot;$videoFileName.$extension&quot;))\n        }catch (e: Exception) {\n            e.printStackTrace()\n            return false\n        }\n        return true\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11173,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1662405759,"creation_date":1568404030,"question_id":57929565,"body_markdown":"To record a `SurfeceView` I&#39;m using a 3rd-party [library][1] , this library requires a path where the output (the recorded video) saved in my case is **savedVideoPath** : \r\n\r\n```\r\nmRenderPipeline = EZFilter.input(this.effectBmp)\r\n                .addFilter(new Effects().getEffect(VideoMaker.this, i))\r\n                .enableRecord(savedVideoPath, true, false)\r\n                .into(mRenderView);\r\n```\r\n\r\nAfter the recording stopped, the video should be saved with **savedVideoPath** as a path, when I test the code, that is to say , when I open the gallery app, I see the saved video there, but when I tested on Android Q, I can&#39;t see anything.\r\n\r\nSince `getExternalStoragePublicDirectory` and `getExternalStorageDirectory` are deprecated ,I tried to use `getExternalFilesDir` as following : \r\n\r\n```\r\nprivate void getPath() {\r\n    String videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\r\n    fileName = videoFileName;\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n        File imageFile = null;\r\n        File storageDir = new File(\r\n            getExternalFilesDir(Environment.DIRECTORY_MOVIES), \r\n            &quot;Folder&quot;);\r\n        source = storageDir;\r\n        boolean success = true;\r\n        if (!storageDir.exists()) {\r\n            success = storageDir.mkdirs();\r\n        }\r\n        if (success) {\r\n            imageFile = new File(storageDir, videoFileName);\r\n            savedVideoPath = imageFile.getAbsolutePath();\r\n        }\r\n    } else {\r\n        File storageDir = new File(\r\n            Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES)\r\n            + &quot;/Folder&quot;);\r\n        boolean success = true;\r\n        if (!storageDir.exists()) {\r\n            success = storageDir.mkdirs();\r\n        }\r\n        if (success) {\r\n            File videoFile = new File(storageDir, videoFileName);\r\n            savedVideoPath = videoFile.getAbsolutePath();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAfter the recording stopped, I go to **Files Explorer app &gt; Android &gt; data &gt; com.packageName &gt; files &gt; Movies &gt; Folder** ,I can see all saved videos there,but I can&#39;t see them on the gallery.\r\n\r\nI tried to use `Intent.ACTION_MEDIA_SCANNER_SCAN_FILE` to refresh the gallery, but unfortunately doesn&#39;t work. \r\n\r\nI also tried `MediaScannerConnection`: \r\n\r\n```\r\nMediaScannerConnection.scanFile(\r\n    context, \r\n    new String[]{savedVideoPath}, \r\n    new String[]{&quot;video/mp4&quot;}, \r\n    new MediaScannerConnection.MediaScannerConnectionClient() {\r\n\r\n    public void onMediaScannerConnected() {\r\n    }\r\n\r\n    public void onScanCompleted(String s, Uri uri) {\r\n    }\r\n});\r\n```\r\n\r\n - Can anyone help me to get resolve this issue? I stuck on it for almost 2 days\r\n\r\n  [1]: https://github.com/uestccokey/EZFilter","title":"Insert Video to gallery [Android Q]","body":"<p>To record a <code>SurfeceView</code> I'm using a 3rd-party <a href=\"https://github.com/uestccokey/EZFilter\" rel=\"nofollow noreferrer\">library</a> , this library requires a path where the output (the recorded video) saved in my case is <strong>savedVideoPath</strong> :</p>\n<pre><code>mRenderPipeline = EZFilter.input(this.effectBmp)\n                .addFilter(new Effects().getEffect(VideoMaker.this, i))\n                .enableRecord(savedVideoPath, true, false)\n                .into(mRenderView);\n</code></pre>\n<p>After the recording stopped, the video should be saved with <strong>savedVideoPath</strong> as a path, when I test the code, that is to say , when I open the gallery app, I see the saved video there, but when I tested on Android Q, I can't see anything.</p>\n<p>Since <code>getExternalStoragePublicDirectory</code> and <code>getExternalStorageDirectory</code> are deprecated ,I tried to use <code>getExternalFilesDir</code> as following :</p>\n<pre><code>private void getPath() {\n    String videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\n    fileName = videoFileName;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        File imageFile = null;\n        File storageDir = new File(\n            getExternalFilesDir(Environment.DIRECTORY_MOVIES), \n            &quot;Folder&quot;);\n        source = storageDir;\n        boolean success = true;\n        if (!storageDir.exists()) {\n            success = storageDir.mkdirs();\n        }\n        if (success) {\n            imageFile = new File(storageDir, videoFileName);\n            savedVideoPath = imageFile.getAbsolutePath();\n        }\n    } else {\n        File storageDir = new File(\n            Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES)\n            + &quot;/Folder&quot;);\n        boolean success = true;\n        if (!storageDir.exists()) {\n            success = storageDir.mkdirs();\n        }\n        if (success) {\n            File videoFile = new File(storageDir, videoFileName);\n            savedVideoPath = videoFile.getAbsolutePath();\n        }\n    }\n}\n</code></pre>\n<p>After the recording stopped, I go to <strong>Files Explorer app &gt; Android &gt; data &gt; com.packageName &gt; files &gt; Movies &gt; Folder</strong> ,I can see all saved videos there,but I can't see them on the gallery.</p>\n<p>I tried to use <code>Intent.ACTION_MEDIA_SCANNER_SCAN_FILE</code> to refresh the gallery, but unfortunately doesn't work.</p>\n<p>I also tried <code>MediaScannerConnection</code>:</p>\n<pre><code>MediaScannerConnection.scanFile(\n    context, \n    new String[]{savedVideoPath}, \n    new String[]{&quot;video/mp4&quot;}, \n    new MediaScannerConnection.MediaScannerConnectionClient() {\n\n    public void onMediaScannerConnected() {\n    }\n\n    public void onScanCompleted(String s, Uri uri) {\n    }\n});\n</code></pre>\n<ul>\n<li>Can anyone help me to get resolve this issue? I stuck on it for almost 2 days</li>\n</ul>\n"},{"tags":["java","spring-boot","authorization","keycloak"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662404784,"creation_date":1662404784,"answer_id":73613744,"question_id":73607982,"body_markdown":"First, don&#39;t use keycloak adapters for spring, [it is deprecated][1]. \r\n\r\nRead [this tutorials][2] for alternatives.\r\n\r\nSecond, why using policies which are far less efficient than role based access control with JWT access-tokens? \r\n\r\nJust declare a &quot;confidential&quot; client in keycloak with a role named something like `SYTEM_MONITOR` or whatever you like and configure spring-security with `http.authorizeExchange()    .pathMatchers(&quot;/actuator/**&quot;).hasAuthority(&quot;SYTEM_MONITOR&quot;)`. \r\n\r\n  [1]: https://github.com/keycloak/keycloak/discussions/10187\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","title":"Keycloak- SpringBoot Adapter how to expose actuator endpoint with policy","body":"<p>First, don't use keycloak adapters for spring, <a href=\"https://github.com/keycloak/keycloak/discussions/10187\" rel=\"nofollow noreferrer\">it is deprecated</a>.</p>\n<p>Read <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">this tutorials</a> for alternatives.</p>\n<p>Second, why using policies which are far less efficient than role based access control with JWT access-tokens?</p>\n<p>Just declare a &quot;confidential&quot; client in keycloak with a role named something like <code>SYTEM_MONITOR</code> or whatever you like and configure spring-security with <code>http.authorizeExchange()    .pathMatchers(&quot;/actuator/**&quot;).hasAuthority(&quot;SYTEM_MONITOR&quot;)</code>.</p>\n"}],"owner":{"account_id":26248661,"reputation":3,"user_id":19921793,"display_name":"Mike6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73613744,"answer_count":1,"score":0,"last_activity_date":1662404784,"creation_date":1662373923,"question_id":73607982,"body_markdown":"I am using spring boot 2.6.2、actuator and keycloak 16.1.0.\r\nthe pom of springboot is \r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n        &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;16.1.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\r\n          &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\r\n          &lt;version&gt;16.1.0&lt;/version&gt;\r\n          &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nthe application.properties for keycloak config is \r\n\r\n    keycloak.realm=mt-developer\r\n    keycloak.resource=test\r\n    keycloak.auth-server-url=http://local.host:8080/auth/\r\n    keycloak.credentials.secret=ZMRQ0OPiXZFONCpdNO0G7zLnq5IDIcvM\r\n    keycloak.ssl-required=external\r\n    keycloak.use-resource-role-mappings=false\r\n    keycloak.bearer-only=false\r\n    keycloak.autodetect-bearer-only=true\r\n    keycloak.security-constraints[0].authRoles[0]=user\r\n    keycloak.security-constraints[0].securityCollections[0].name=all\r\n    keycloak.security-constraints[0].securityCollections[0].patterns[0]=/*\r\n    keycloak.security-constraints[1].securityCollections[0].patterns[0]=/actuator\r\n    keycloak.security-constraints[1].securityCollections[0].patterns[1]=/actuator/*\r\n    keycloak.enabled=true\r\n    keycloak.cors=true\r\n    management.endpoints.web.exposure.include=*\r\n    logging.level.root=DEBUG\r\nthis config can expose /actuator and /actuator/* , then i want to control the authorization on keycloak platform, so i add \r\n\r\n    keycloak.policy-enforcer-config.lazy-load-paths=true\r\n\r\ninto the properties to active the policy-enforcer, then i can config the authorization on the platform ,but this config will make the config of security-constraints not work .when i request the /actuator path , it will return 403 code .\r\nCan i expose the path by config the setting of the platform?\r\n\r\n","title":"Keycloak- SpringBoot Adapter how to expose actuator endpoint with policy","body":"<p>I am using spring boot 2.6.2、actuator and keycloak 16.1.0.\nthe pom of springboot is</p>\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n    &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;16.1.0&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\n      &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\n      &lt;version&gt;16.1.0&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>the application.properties for keycloak config is</p>\n<pre><code>keycloak.realm=mt-developer\nkeycloak.resource=test\nkeycloak.auth-server-url=http://local.host:8080/auth/\nkeycloak.credentials.secret=ZMRQ0OPiXZFONCpdNO0G7zLnq5IDIcvM\nkeycloak.ssl-required=external\nkeycloak.use-resource-role-mappings=false\nkeycloak.bearer-only=false\nkeycloak.autodetect-bearer-only=true\nkeycloak.security-constraints[0].authRoles[0]=user\nkeycloak.security-constraints[0].securityCollections[0].name=all\nkeycloak.security-constraints[0].securityCollections[0].patterns[0]=/*\nkeycloak.security-constraints[1].securityCollections[0].patterns[0]=/actuator\nkeycloak.security-constraints[1].securityCollections[0].patterns[1]=/actuator/*\nkeycloak.enabled=true\nkeycloak.cors=true\nmanagement.endpoints.web.exposure.include=*\nlogging.level.root=DEBUG\n</code></pre>\n<p>this config can expose /actuator and /actuator/* , then i want to control the authorization on keycloak platform, so i add</p>\n<pre><code>keycloak.policy-enforcer-config.lazy-load-paths=true\n</code></pre>\n<p>into the properties to active the policy-enforcer, then i can config the authorization on the platform ,but this config will make the config of security-constraints not work .when i request the /actuator path , it will return 403 code .\nCan i expose the path by config the setting of the platform?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1662389526,"post_id":73611139,"comment_id":129989452,"body_markdown":"The error message is quite clear about the problem. Edit question to add your data source configuration and somebody might be able to help. Also, [don&#39;t upload images of errors](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question), paste the text in the question.","body":"The error message is quite clear about the problem. Edit question to add your data source configuration and somebody might be able to help. Also, <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\">don&#39;t upload images of errors</a>, paste the text in the question."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1662390941,"post_id":73611139,"comment_id":129989975,"body_markdown":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.","body":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly."},{"owner":{"account_id":25858754,"reputation":11,"user_id":19591543,"display_name":"Pankaj"},"score":0,"creation_date":1662391733,"post_id":73611139,"comment_id":129990219,"body_markdown":"@Chaosfire  I am unable to paste the code in the question, can you please check from the comments?","body":"@Chaosfire  I am unable to paste the code in the question, can you please check from the comments?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1662392530,"post_id":73611139,"comment_id":129990460,"body_markdown":"@Pankaj Of course you can [edit](https://stackoverflow.com/posts/73611139/edit) your own question.","body":"@Pankaj Of course you can <a href=\"https://stackoverflow.com/posts/73611139/edit\">edit</a> your own question."},{"owner":{"account_id":25858754,"reputation":11,"user_id":19591543,"display_name":"Pankaj"},"score":0,"creation_date":1662396766,"post_id":73611139,"comment_id":129991672,"body_markdown":"@Chaosfire sir,I have edited the question please kindly check it","body":"@Chaosfire sir,I have edited the question please kindly check it"},{"owner":{"account_id":25858754,"reputation":11,"user_id":19591543,"display_name":"Pankaj"},"score":0,"creation_date":1662398994,"post_id":73611139,"comment_id":129992312,"body_markdown":"@g00se Sir,I have edited the question and written the codes,please kindly check it,","body":"@g00se Sir,I have edited the question and written the codes,please kindly check it,"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662404141,"post_id":73611139,"comment_id":129993644,"body_markdown":"You should follow the Spring methods for adding a datasource to an *external* database. And change your credentials - anyone can connect *at the moment* to that database. You can drop the table called ```bemorecareful```","body":"You should follow the Spring methods for adding a datasource to an <i>external</i> database. And change your credentials - anyone can connect <i>at the moment</i> to that database. You can drop the table called <code>bemorecareful</code>"}],"answers":[{"tags":[],"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662404000,"creation_date":1662400998,"answer_id":73613209,"question_id":73611139,"body_markdown":"Your production configuration is missing the database driver property, which you should clearly understand from the reason section in the exception message:\r\n\r\n`Reason: Failed to determine a suitable driver class`\r\n\r\nSince you have the application.properties file with the default configuration properties, you can use the fix suggested to you by the Spring framework:\r\n\r\n`Consider the following: If you want an embedded database (H2, HSQL, or Derby), please put it on the classpath. If you have database settings to be loaded from a particular profile you may need to activate it (the profiles prod are currently active).\r\n`\r\n\r\nIn order to fix the error for the production profile you need to add the following property to your application.properties file: `spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver`\r\n\r\nThe resulting file should look like this:\r\n```javascript\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.show-sql=true \r\ndebug=true\r\nserver.port=9090\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL57Dialect\r\n#create, update, create-drop, validate\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.servlet.multipart.max-file-size=10MB\r\nspring.servlet.multipart.max-request-size=10MB\r\nproject.image=images/\r\n#here we are allowing debug so that we can get every log related to security on console\r\nlogging.level.org.springframework.security=DEBUG\r\n#spring.profiles.active will tell us which profile we are using\r\nspring.profiles.active=prod\r\n```\r\n\r\nThis will add the default database driver for all your profile. So be mindful to change this if some specific profile will use a database that differs from MySQL.\r\n\r\n**Updated:**\r\n\r\nYou also have the incorrect name of the active profile. In your application.properties file you have a such line that sets the active profile of your application:\r\n```javascript\r\nspring.profiles.active=prod\r\n```\r\nBut your profile-based file is called `application-production.properties`. The Spring framework has a such naming format for configuration properties files:\r\n```javascript\r\napplication-[PROFILE_NAME].properties\r\n```\r\nSo you should also rename your `application-production.properties` file to `application-prod.properties` to match the value from the `spring.profiles.active` property.","title":"Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured. Getting dis error while running app","body":"<p>Your production configuration is missing the database driver property, which you should clearly understand from the reason section in the exception message:</p>\n<p><code>Reason: Failed to determine a suitable driver class</code></p>\n<p>Since you have the application.properties file with the default configuration properties, you can use the fix suggested to you by the Spring framework:</p>\n<p><code>Consider the following: If you want an embedded database (H2, HSQL, or Derby), please put it on the classpath. If you have database settings to be loaded from a particular profile you may need to activate it (the profiles prod are currently active). </code></p>\n<p>In order to fix the error for the production profile you need to add the following property to your application.properties file: <code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</code></p>\n<p>The resulting file should look like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.show-sql=true \ndebug=true\nserver.port=9090\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL57Dialect\n#create, update, create-drop, validate\nspring.jpa.hibernate.ddl-auto=update\nspring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=10MB\nproject.image=images/\n#here we are allowing debug so that we can get every log related to security on console\nlogging.level.org.springframework.security=DEBUG\n#spring.profiles.active will tell us which profile we are using\nspring.profiles.active=prod\n</code></pre>\n<p>This will add the default database driver for all your profile. So be mindful to change this if some specific profile will use a database that differs from MySQL.</p>\n<p><strong>Updated:</strong></p>\n<p>You also have the incorrect name of the active profile. In your application.properties file you have a such line that sets the active profile of your application:</p>\n<pre class=\"lang-js prettyprint-override\"><code>spring.profiles.active=prod\n</code></pre>\n<p>But your profile-based file is called <code>application-production.properties</code>. The Spring framework has a such naming format for configuration properties files:</p>\n<pre class=\"lang-js prettyprint-override\"><code>application-[PROFILE_NAME].properties\n</code></pre>\n<p>So you should also rename your <code>application-production.properties</code> file to <code>application-prod.properties</code> to match the value from the <code>spring.profiles.active</code> property.</p>\n"}],"owner":{"account_id":25858754,"reputation":11,"user_id":19591543,"display_name":"Pankaj"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662404000,"creation_date":1662389171,"question_id":73611139,"body_markdown":"\r\n\r\n\r\nThis is application properties code,please check and tell me how to fix the error.\r\n\r\n        debug=true\r\n        server.port=9090\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL57Dialect\r\n    #create, update, create-drop, validate\r\n        spring.jpa.hibernate.ddl-auto=update\r\n        #file related all configurations\r\n        \r\n        spring.servlet.multipart.max-file-size=10MB\r\n        spring.servlet.multipart.max-request-size=10MB\r\n        \r\n    project.image=images/\r\n        #here we are allowing debug so that we can get every log related to security on console\r\n        logging.level.org.springframework.security=DEBUG\r\n         #spring.profiles.active will tell us which profile we are using \r\n        spring.profiles.active= prod\r\n\r\n\r\n\r\n\r\nThis is application-developer properties code\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/blog_app_apis\r\n    spring.datasource.username = \r\n    spring.datasource.password=\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.show-sql=true \r\n\r\n               \r\nThis is application-production properties code\r\n\r\n    spring.datasource.url= jdbc:mysql://blog-db.cx8gwdujroiq.ap-south-1.rds.amazonaws.com:3306/blog_app_apis\r\n    spring.datasource.username = pankaj\r\n    spring.datasource.password=kicker12345\r\n\r\n\r\n\r\n    This is the error message:\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\n\r\nAction:\r\n\r\nConsider the following:\r\n\tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (the profiles prod are currently active).\r\n\r\n","title":"Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured. Getting dis error while running app","body":"<p>This is application properties code,please check and tell me how to fix the error.</p>\n<pre><code>    debug=true\n    server.port=9090\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL57Dialect\n#create, update, create-drop, validate\n    spring.jpa.hibernate.ddl-auto=update\n    #file related all configurations\n    \n    spring.servlet.multipart.max-file-size=10MB\n    spring.servlet.multipart.max-request-size=10MB\n    \nproject.image=images/\n    #here we are allowing debug so that we can get every log related to security on console\n    logging.level.org.springframework.security=DEBUG\n     #spring.profiles.active will tell us which profile we are using \n    spring.profiles.active= prod\n</code></pre>\n<p>This is application-developer properties code</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/blog_app_apis\nspring.datasource.username = \nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.show-sql=true \n\n           \n</code></pre>\n<p>This is application-production properties code</p>\n<pre><code>spring.datasource.url= jdbc:mysql://blog-db.cx8gwdujroiq.ap-south-1.rds.amazonaws.com:3306/blog_app_apis\nspring.datasource.username = pankaj\nspring.datasource.password=kicker12345\n\n\n\nThis is the error message:\n</code></pre>\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.</p>\n<p>Reason: Failed to determine a suitable driver class</p>\n<p>Action:</p>\n<p>Consider the following:\nIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\nIf you have database settings to be loaded from a particular profile you may need to activate it (the profiles prod are currently active).</p>\n"},{"tags":["java","checkbox","vaadin","form-layout"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1662403950,"post_id":73613285,"comment_id":129993586,"body_markdown":"What do you mean by &quot;it showing warning&quot; - what is &quot;it&quot;? Has the warning any relevance? Are you using the correct checkbox (e.g. the one from Vaadin and not the one from Swing)?","body":"What do you mean by &quot;it showing warning&quot; - what is &quot;it&quot;? Has the warning any relevance? Are you using the correct checkbox (e.g. the one from Vaadin and not the one from Swing)?"}],"answers":[{"tags":[],"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1662403966,"creation_date":1662403966,"answer_id":73613640,"question_id":73613285,"body_markdown":"Sounds like you are importing the wrong Checkbox. Make sure the import is `com.vaadin.flow.component.checkbox.Checkbox`.","title":"How to add checkbox into FormLayout (Vaadin)","body":"<p>Sounds like you are importing the wrong Checkbox. Make sure the import is <code>com.vaadin.flow.component.checkbox.Checkbox</code>.</p>\n"}],"owner":{"account_id":25313691,"reputation":83,"user_id":19136108,"display_name":"Andromeda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73613640,"answer_count":1,"score":0,"last_activity_date":1662403966,"creation_date":1662401488,"question_id":73613285,"body_markdown":"I am trying to add the `checkbox` into the `FormLayout`, but it throwing an warning:\r\n\r\nMy code\r\n\r\n    private void createEditorLayout(SplitLayout splitLayout) {\r\n\r\n        Div editorLayoutDiv = new Div();\r\n        editorLayoutDiv.setClassName(&quot;editor-layout&quot;);\r\n\r\n        Div editorDiv = new Div();\r\n        editorDiv.setClassName(&quot;editor&quot;);\r\n        editorLayoutDiv.add(editorDiv);\r\n\r\n        FormLayout formLayout = new FormLayout();\r\n        monthAndYear = new DatePicker(&quot;Month and year&quot;);\r\n        organizationId = new TextField(&quot;Organiziation ID&quot;);\r\n        userId = new TextField(&quot;User ID&quot;);\r\n        onlyForOrganization = new Checkbox(&quot;Only for organization&quot;);\r\n\r\n        Component[] fields = new Component[]{monthAndYear, onlyForOrganization, organizationId, userId}; \r\n\r\n        formLayout.add(fields);\r\n        editorDiv.add(formLayout);\r\n        createButtonLayout(editorLayoutDiv);\r\n        splitLayout.addToSecondary(editorLayoutDiv);\r\n\r\n    }\r\n\r\nThe problematic is this row:\r\n\r\n    Component[] fields = new Component[]{monthAndYear, onlyForOrganization, organizationId, userId}; \r\n\r\nIt showing warning:\r\n\r\n    Required type: Component\r\n    Provided: Checkbox\r\n\r\nIs it possible to somehow add a checkbox to the `FormLayout`?","title":"How to add checkbox into FormLayout (Vaadin)","body":"<p>I am trying to add the <code>checkbox</code> into the <code>FormLayout</code>, but it throwing an warning:</p>\n<p>My code</p>\n<pre><code>private void createEditorLayout(SplitLayout splitLayout) {\n\n    Div editorLayoutDiv = new Div();\n    editorLayoutDiv.setClassName(&quot;editor-layout&quot;);\n\n    Div editorDiv = new Div();\n    editorDiv.setClassName(&quot;editor&quot;);\n    editorLayoutDiv.add(editorDiv);\n\n    FormLayout formLayout = new FormLayout();\n    monthAndYear = new DatePicker(&quot;Month and year&quot;);\n    organizationId = new TextField(&quot;Organiziation ID&quot;);\n    userId = new TextField(&quot;User ID&quot;);\n    onlyForOrganization = new Checkbox(&quot;Only for organization&quot;);\n\n    Component[] fields = new Component[]{monthAndYear, onlyForOrganization, organizationId, userId}; \n\n    formLayout.add(fields);\n    editorDiv.add(formLayout);\n    createButtonLayout(editorLayoutDiv);\n    splitLayout.addToSecondary(editorLayoutDiv);\n\n}\n</code></pre>\n<p>The problematic is this row:</p>\n<pre><code>Component[] fields = new Component[]{monthAndYear, onlyForOrganization, organizationId, userId}; \n</code></pre>\n<p>It showing warning:</p>\n<pre><code>Required type: Component\nProvided: Checkbox\n</code></pre>\n<p>Is it possible to somehow add a checkbox to the <code>FormLayout</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"score":2,"creation_date":1631175932,"post_id":69114692,"comment_id":122153672,"body_markdown":"`String sub= str.substring(i,i++);` you increment the **i** variable here and in the `for` statement","body":"<code>String sub= str.substring(i,i++);</code> you increment the <b>i</b> variable here and in the <code>for</code> statement"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1631197515,"post_id":69114692,"comment_id":122162952,"body_markdown":"Instead of `.substring(i, i+1).equals(&quot;e&quot;)` you can use `.regionMatches(i, &quot;e&quot;, 0, 1)` to avoid expensive `substring` operations, when all you want to do with the sub-string, is matching. Of course, when you want to check a single `char`, using `str.charAt(i) == &#39;e&#39;` is even more efficient.","body":"Instead of <code>.substring(i, i+1).equals(&quot;e&quot;)</code> you can use <code>.regionMatches(i, &quot;e&quot;, 0, 1)</code> to avoid expensive <code>substring</code> operations, when all you want to do with the sub-string, is matching. Of course, when you want to check a single <code>char</code>, using <code>str.charAt(i) == &#39;e&#39;</code> is even more efficient."}],"answers":[{"tags":[],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631176034,"creation_date":1631176034,"answer_id":69114761,"question_id":69114692,"body_markdown":"You increment the &#39;i&#39; counter twice:\r\n\r\n\r\n    public boolean stringE(String str) {\r\n      int count=0;\r\n  \r\n      for (int i=0; i&lt;str.length(); i++){\r\n        String sub= str.substring(i,i+1); // &lt;-- don&#39;t use i++\r\n        if (sub.equals(&quot;e&quot;)) \r\n          count ++;\r\n      }\r\n      return (count&gt;=1 &amp;&amp; count&lt;=3);\r\n    }","title":"Coding Bat Warmup Question Java &quot;Return true if the given string contains between 1 and 3 &#39;e&#39; chars.&quot;","body":"<p>You increment the 'i' counter twice:</p>\n<pre><code>public boolean stringE(String str) {\n  int count=0;\n\n  for (int i=0; i&lt;str.length(); i++){\n    String sub= str.substring(i,i+1); // &lt;-- don't use i++\n    if (sub.equals(&quot;e&quot;)) \n      count ++;\n  }\n  return (count&gt;=1 &amp;&amp; count&lt;=3);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9025679,"reputation":115,"user_id":6727012,"display_name":"Amar Pawar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631178263,"creation_date":1631178263,"answer_id":69115272,"question_id":69114692,"body_markdown":"You are using the increment operator, Post increment to be more specific (i++).\r\nThe post increment operator updates the value of i variable after the current statement is executed.\r\n\r\nSo, this line of code\r\n\r\n    String sub = str.substring(i,i++);\r\n\r\nis same as this,\r\n\r\n    String sub = str.substring(i,i);\r\n    i = i + 1;\r\n\r\nAs the same start and end index is passed in the substring method, the sub is always empty. Also, the post-increment operator increments the value of i during the iteration which should be avoided.\r\n\r\nThus, instead of using the increment operator, just add 1 to the i when passing it as an end index in the substring method.\r\n\r\n    String sub = str.substring(i,i+1);","title":"Coding Bat Warmup Question Java &quot;Return true if the given string contains between 1 and 3 &#39;e&#39; chars.&quot;","body":"<p>You are using the increment operator, Post increment to be more specific (i++).\nThe post increment operator updates the value of i variable after the current statement is executed.</p>\n<p>So, this line of code</p>\n<pre><code>String sub = str.substring(i,i++);\n</code></pre>\n<p>is same as this,</p>\n<pre><code>String sub = str.substring(i,i);\ni = i + 1;\n</code></pre>\n<p>As the same start and end index is passed in the substring method, the sub is always empty. Also, the post-increment operator increments the value of i during the iteration which should be avoided.</p>\n<p>Thus, instead of using the increment operator, just add 1 to the i when passing it as an end index in the substring method.</p>\n<pre><code>String sub = str.substring(i,i+1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631205067,"creation_date":1631188169,"answer_id":69117656,"question_id":69114692,"body_markdown":"You can use `regex`. Like following,\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        String s = &quot;Helloeee&quot;;\r\n        Pattern p = Pattern.compile(&quot;e&quot;);\r\n        System.out.println(exceedMax(p, s, 1, 3));\r\n    }\r\n\r\n    public static boolean exceedMax(Pattern p, String s, int min, int max) {\r\n        Matcher m = p.matcher(s);\r\n        int count = 0;\r\n        while (m.find() &amp;&amp; count &lt;= max) {\r\n            count++;\r\n        }\r\n        return count &lt; min || count &gt; max;\r\n    }\r\n}\r\n```","title":"Coding Bat Warmup Question Java &quot;Return true if the given string contains between 1 and 3 &#39;e&#39; chars.&quot;","body":"<p>You can use <code>regex</code>. Like following,</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws Exception {\n        String s = &quot;Helloeee&quot;;\n        Pattern p = Pattern.compile(&quot;e&quot;);\n        System.out.println(exceedMax(p, s, 1, 3));\n    }\n\n    public static boolean exceedMax(Pattern p, String s, int min, int max) {\n        Matcher m = p.matcher(s);\n        int count = 0;\n        while (m.find() &amp;&amp; count &lt;= max) {\n            count++;\n        }\n        return count &lt; min || count &gt; max;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17814608,"reputation":15,"user_id":15053943,"display_name":"Saurav Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662403905,"creation_date":1661066717,"answer_id":73432411,"question_id":69114692,"body_markdown":"you are comparing char so use &#39;e&#39; as string means two characters.","title":"Coding Bat Warmup Question Java &quot;Return true if the given string contains between 1 and 3 &#39;e&#39; chars.&quot;","body":"<p>you are comparing char so use 'e' as string means two characters.</p>\n"}],"owner":{"account_id":14713525,"reputation":1,"user_id":10626185,"display_name":"Andrew Yang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":950,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1662403905,"creation_date":1631175722,"question_id":69114692,"body_markdown":"The original question is: \r\n&quot;Return true if the given string contains between 1 and 3 &#39;e&#39; chars.&quot;\r\n\r\n    stringE(&quot;Hello&quot;) → true\r\n    stringE(&quot;Heelle&quot;) → true\r\n    stringE(&quot;Heelele&quot;) → false\r\n\r\n----------\r\nThis is my answer, but **WRONG**.\r\n\r\n    public boolean stringE(String str) {\r\n      int count=0;\r\n      \r\n      for (int i=0; i&lt;str.length(); i++){\r\n        String sub= str.substring(i,i++);\r\n        if (sub.equals(&quot;e&quot;)) \r\n          count ++;\r\n      }\r\n      return (count&gt;=1 &amp;&amp; count&lt;=3);\r\n    \r\n    }\r\n\r\n----------\r\nThis is the solution the site presented.\r\n\r\n    public boolean stringE(String str) {\r\n      int count = 0;\r\n    \r\n      for (int i=0; i&lt;str.length(); i++) {\r\n        if (str.charAt(i) == &#39;e&#39;) count++;\r\n        // alternately: str.substring(i, i+1).equals(&quot;e&quot;)\r\n      }\r\n    \r\n      return (count &gt;= 1 &amp;&amp; count &lt;= 3);\r\n    }\r\n\r\n----------\r\nWhat did I do wrong?\r\n\r\n\r\n\r\n","title":"Coding Bat Warmup Question Java &quot;Return true if the given string contains between 1 and 3 &#39;e&#39; chars.&quot;","body":"<p>The original question is:\n&quot;Return true if the given string contains between 1 and 3 'e' chars.&quot;</p>\n<pre><code>stringE(&quot;Hello&quot;) → true\nstringE(&quot;Heelle&quot;) → true\nstringE(&quot;Heelele&quot;) → false\n</code></pre>\n<hr />\n<p>This is my answer, but <strong>WRONG</strong>.</p>\n<pre><code>public boolean stringE(String str) {\n  int count=0;\n  \n  for (int i=0; i&lt;str.length(); i++){\n    String sub= str.substring(i,i++);\n    if (sub.equals(&quot;e&quot;)) \n      count ++;\n  }\n  return (count&gt;=1 &amp;&amp; count&lt;=3);\n\n}\n</code></pre>\n<hr />\n<p>This is the solution the site presented.</p>\n<pre><code>public boolean stringE(String str) {\n  int count = 0;\n\n  for (int i=0; i&lt;str.length(); i++) {\n    if (str.charAt(i) == 'e') count++;\n    // alternately: str.substring(i, i+1).equals(&quot;e&quot;)\n  }\n\n  return (count &gt;= 1 &amp;&amp; count &lt;= 3);\n}\n</code></pre>\n<hr />\n<p>What did I do wrong?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":1,"creation_date":1662367652,"post_id":73606114,"comment_id":129981587,"body_markdown":"Do you configure the ObjectMapper yourself? If yes, you need to register that new module: `new ObjectMapper().registerModule(new JavaTimeModule())`.","body":"Do you configure the ObjectMapper yourself? If yes, you need to register that new module: <code>new ObjectMapper().registerModule(new JavaTimeModule())</code>."},{"owner":{"account_id":5609143,"reputation":385,"user_id":4442612,"display_name":"vijaydeep"},"score":0,"creation_date":1662386144,"post_id":73606114,"comment_id":129988184,"body_markdown":"Yes, I have tried that as well. Added in description.","body":"Yes, I have tried that as well. Added in description."}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662366273,"creation_date":1662366273,"answer_id":73606512,"question_id":73606114,"body_markdown":"You need to register `JavaTimeModule`. Add this bean in your configuration class:\r\n\r\n    @Bean \r\n    ObjectMapper objectMapper() { \r\n      ObjectMapper objectMapper = new ObjectMapper(); \r\n       objectMapper.registerModule(new JavaTimeModule()); \r\n      return objectMapper;\r\n     }","title":"Unable to make post calls after disabling JsonIgnore Annotation in SpringBoot","body":"<p>You need to register <code>JavaTimeModule</code>. Add this bean in your configuration class:</p>\n<pre><code>@Bean \nObjectMapper objectMapper() { \n  ObjectMapper objectMapper = new ObjectMapper(); \n   objectMapper.registerModule(new JavaTimeModule()); \n  return objectMapper;\n }\n</code></pre>\n"}],"owner":{"account_id":5609143,"reputation":385,"user_id":4442612,"display_name":"vijaydeep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662403386,"creation_date":1662364323,"question_id":73606114,"body_markdown":"I am facing an issue I have an shared EntityClass like this. it is used to place updated and created time in the entities.\r\n\r\n```\r\n@Getter @Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@MappedSuperclass\r\npublic abstract class AbstractEntity {\r\n\r\n    @CreationTimestamp\r\n    @JsonIgnore\r\n    @Column(name = &quot;created_on&quot;, updatable = false)\r\n    protected Instant createdOn;\r\n\r\n    @UpdateTimestamp\r\n    //@JsonIgnore\r\n    @Column(name = &quot;updated_on&quot;)\r\n    protected Instant updatedOn;\r\n}\r\n```\r\n\r\nNow we need to show the updatedOn time as part of our response so we removed the @JsonIgnore Annotation and then the get calls are working fine. But the post calls stopped working. The following error is being displayed:\r\n\r\nInvalidDefinitionException: Java 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: com.abc.adconfigservice.entity.config.AdConfigEntity[&quot;updatedOn&quot;])]\r\n\r\nAs needed I added following dependency in the pom.xml but still the same error is coming.\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-module-parameter-names&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\nFollowing is the configuration class\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class CorsConfiguration {\r\n    private final ApplicationProperties applicationProperties;\r\n\r\n    @Bean(&quot;CorsConfigurer&quot;)\r\n    public WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/**&quot;)\r\n                        .allowedOrigins(applicationProperties.getCorsAllowOrigins())\r\n                        .allowedHeaders(&quot;*&quot;)\r\n                        .allowedMethods(&quot;GET&quot;, &quot;PUT&quot;, &quot;POST&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;)\r\n                        .allowCredentials(false);\r\n            }\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    ObjectMapper objectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        return objectMapper;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have also added and registered JavaTimeModule with Object Mapper but couldn&#39;t succeed.\r\n\r\nThe created and updated time are added by DB directly. here is the common part used in all tables.\r\n\r\n```\r\n    `created_on`       datetime                               Default now(),\r\n    `updated_on`       datetime                               Default now() on update now()\r\n```\r\n\r\nPlease suggest what else am missing. \r\n\r\n\r\nJava version: 11.0.10\r\nSpring Details: Spring Boot v2.5.12, Spring v5.3.18     ","title":"Unable to make post calls after disabling JsonIgnore Annotation in SpringBoot","body":"<p>I am facing an issue I have an shared EntityClass like this. it is used to place updated and created time in the entities.</p>\n<pre><code>@Getter @Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@MappedSuperclass\npublic abstract class AbstractEntity {\n\n    @CreationTimestamp\n    @JsonIgnore\n    @Column(name = &quot;created_on&quot;, updatable = false)\n    protected Instant createdOn;\n\n    @UpdateTimestamp\n    //@JsonIgnore\n    @Column(name = &quot;updated_on&quot;)\n    protected Instant updatedOn;\n}\n</code></pre>\n<p>Now we need to show the updatedOn time as part of our response so we removed the @JsonIgnore Annotation and then the get calls are working fine. But the post calls stopped working. The following error is being displayed:</p>\n<p>InvalidDefinitionException: Java 8 date/time type <code>java.time.Instant</code> not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: com.abc.adconfigservice.entity.config.AdConfigEntity[&quot;updatedOn&quot;])]</p>\n<p>As needed I added following dependency in the pom.xml but still the same error is coming.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-parameter-names&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Following is the configuration class</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class CorsConfiguration {\n    private final ApplicationProperties applicationProperties;\n\n    @Bean(&quot;CorsConfigurer&quot;)\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;)\n                        .allowedOrigins(applicationProperties.getCorsAllowOrigins())\n                        .allowedHeaders(&quot;*&quot;)\n                        .allowedMethods(&quot;GET&quot;, &quot;PUT&quot;, &quot;POST&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;)\n                        .allowCredentials(false);\n            }\n        };\n    }\n\n    @Bean\n    ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n        return objectMapper;\n    }\n}\n</code></pre>\n<p>I have also added and registered JavaTimeModule with Object Mapper but couldn't succeed.</p>\n<p>The created and updated time are added by DB directly. here is the common part used in all tables.</p>\n<pre><code>    `created_on`       datetime                               Default now(),\n    `updated_on`       datetime                               Default now() on update now()\n</code></pre>\n<p>Please suggest what else am missing.</p>\n<p>Java version: 11.0.10\nSpring Details: Spring Boot v2.5.12, Spring v5.3.18</p>\n"},{"tags":["java","multithreading","threadpool","executorservice","completable-future"],"comments":[{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":1,"creation_date":1662364113,"post_id":73604864,"comment_id":129980423,"body_markdown":"Use the internal pool until you have a clear indication that you need to do otherwise.","body":"Use the internal pool until you have a clear indication that you need to do otherwise."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1662456313,"post_id":73604864,"comment_id":130003801,"body_markdown":"You are not implementing a thread pool, you are using a thread pool. And why did you ever start bothering with a custom executor if you never had an actual reason to do so?","body":"You are not implementing a thread pool, you are using a thread pool. And why did you ever start bothering with a custom executor if you never had an actual reason to do so?"}],"answers":[{"tags":[],"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662403370,"creation_date":1662403370,"answer_id":73613561,"question_id":73604864,"body_markdown":"It&#39;s not possible to give a fully accurate answer to your question without knowing the specifics. Which kinds of tasks do you intend to run using CompletableFuture? How many CPUs does your machine have?\r\n\r\nIn general, I would suggest avoiding using the common pool, since it may bring you some unexpected bugs up to blocking all parts of your application that rely on using the common pool.\r\n\r\nTalking more specifically, you need to understand which type of tasks will you be running: blocking or non-blocking? Blocking tasks are those ones that use any external dependencies like database invocation and communication with other services/applications, synchronization, thread sleeps, or any other blocking utilities. \r\n\r\nThe best approach will be the creation of a separate thread pool for blocking tasks that you can fully manage. This will allow you to isolate other parts of your application and have stable and predictable execution and performance behavior for all your non-blockings tasks.\r\n\r\nHowever, there is one a bit advanced workaround that may allow you to use the common pool even for blocking tasks. It&#39;s `ForkJoinPool.ManagedBlocker`. You may check the [official documentation][1] if you want to do some digging and experiments.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ForkJoinPool.ManagedBlocker.html","title":"CompletableFuture with ExecutorService in java","body":"<p>It's not possible to give a fully accurate answer to your question without knowing the specifics. Which kinds of tasks do you intend to run using CompletableFuture? How many CPUs does your machine have?</p>\n<p>In general, I would suggest avoiding using the common pool, since it may bring you some unexpected bugs up to blocking all parts of your application that rely on using the common pool.</p>\n<p>Talking more specifically, you need to understand which type of tasks will you be running: blocking or non-blocking? Blocking tasks are those ones that use any external dependencies like database invocation and communication with other services/applications, synchronization, thread sleeps, or any other blocking utilities.</p>\n<p>The best approach will be the creation of a separate thread pool for blocking tasks that you can fully manage. This will allow you to isolate other parts of your application and have stable and predictable execution and performance behavior for all your non-blockings tasks.</p>\n<p>However, there is one a bit advanced workaround that may allow you to use the common pool even for blocking tasks. It's <code>ForkJoinPool.ManagedBlocker</code>. You may check the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ForkJoinPool.ManagedBlocker.html\" rel=\"nofollow noreferrer\">official documentation</a> if you want to do some digging and experiments.</p>\n"}],"owner":{"account_id":22760395,"reputation":33,"user_id":16919320,"display_name":"user HP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662403370,"creation_date":1662355912,"question_id":73604864,"body_markdown":"I am trying to implement a thread pool using ExecutorService and CompletableFuture in java. Here I have passed the fixed-size pool to completable future tasks. if I don&#39;t pass the executor service here in completable future tasks it will use Fork/Join common pool internally as I read. **Now my question is should I pass executor service here externally or not and let it use Fork/Join common pool internally? which is better in which case?** \r\n\r\n\r\n   \r\n\r\n        ExecutorService es = Executors.newFixedThreadPool(4);\r\n        List&lt;CompletableFuture&lt;?&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n        for(item i: item[]){\r\n           CompletableFuture&lt;Void&gt; future = CompletableFuture.runAsync(() -&gt; MyClass.service(i), es);\r\n           futures.add(future);\r\n        }\r\n        CompletableFuture.allOf(futures.toArray(new CompletableFuture[]{})).join();\r\n\r\n","title":"CompletableFuture with ExecutorService in java","body":"<p>I am trying to implement a thread pool using ExecutorService and CompletableFuture in java. Here I have passed the fixed-size pool to completable future tasks. if I don't pass the executor service here in completable future tasks it will use Fork/Join common pool internally as I read. <strong>Now my question is should I pass executor service here externally or not and let it use Fork/Join common pool internally? which is better in which case?</strong></p>\n<pre><code>    ExecutorService es = Executors.newFixedThreadPool(4);\n    List&lt;CompletableFuture&lt;?&gt;&gt; futures = new ArrayList&lt;&gt;();\n    for(item i: item[]){\n       CompletableFuture&lt;Void&gt; future = CompletableFuture.runAsync(() -&gt; MyClass.service(i), es);\n       futures.add(future);\n    }\n    CompletableFuture.allOf(futures.toArray(new CompletableFuture[]{})).join();\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1662322041,"post_id":73602307,"comment_id":129974067,"body_markdown":"It seems like the `mQuery = firestore.collection(&quot;requests&quot;).whereEqualTo(&quot;to&quot;, loggedinusername)` has no results when you execute it. You&#39;ll want to check the value of `loggedinusername` in a debugger, and compare it to the database.  --- If after doing that you still think there should be a result, edit the code to log `loggedinusername`, show us the updated code and its output, and a screenshot of a document you&#39;d expect to get back for that query.","body":"It seems like the <code>mQuery = firestore.collection(&quot;requests&quot;).whereEqualTo(&quot;to&quot;, loggedinusername)</code> has no results when you execute it. You&#39;ll want to check the value of <code>loggedinusername</code> in a debugger, and compare it to the database.  --- If after doing that you still think there should be a result, edit the code to log <code>loggedinusername</code>, show us the updated code and its output, and a screenshot of a document you&#39;d expect to get back for that query."},{"owner":{"account_id":23626869,"reputation":19,"user_id":17659262,"display_name":"Daiana"},"score":0,"creation_date":1662326017,"post_id":73602307,"comment_id":129974753,"body_markdown":"Hello! What do you mean by &quot; edit the code to log loggedinusername&quot; ?","body":"Hello! What do you mean by &quot; edit the code to log loggedinusername&quot; ?"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1662330579,"post_id":73602307,"comment_id":129975385,"body_markdown":"`Log.i(&quot;Query&quot;, loggedinusername)` just before the query.","body":"<code>Log.i(&quot;Query&quot;, loggedinusername)</code> just before the query."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1662381054,"post_id":73602307,"comment_id":129986218,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."},{"owner":{"account_id":23626869,"reputation":19,"user_id":17659262,"display_name":"Daiana"},"score":0,"creation_date":1662403004,"post_id":73602307,"comment_id":129993367,"body_markdown":"@FrankvanPuffelen I&#39;ve added what you proposed, I see that it returns me null value, so here it&#39;s the problem.","body":"@FrankvanPuffelen I&#39;ve added what you proposed, I see that it returns me null value, so here it&#39;s the problem."}],"owner":{"account_id":23626869,"reputation":19,"user_id":17659262,"display_name":"Daiana"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662402895,"creation_date":1662320430,"question_id":73602307,"body_markdown":"I want to go through a collection called &quot;requests&quot; and get all the strings from fields called &quot;to&quot; from each document and to compare each of them with the username of logged in user. For some reason my app doesn&#39;t enter in the for loop, look at the code : \r\n\r\n**Fragment.java** :\r\n\r\n```\r\npublic class PendingFragment extends Fragment implements PendingInterface {\r\n    RecyclerView recyclerViewpending;\r\n    AdapterPending adapterPending;\r\n    ArrayList&lt;Request&gt; requestslist;\r\n    String loggedinusername, currentid, fromuser;\r\n    DocumentReference reference;\r\n    DocumentReference referenceusers;\r\n    FirebaseFirestore firestore;\r\n    FirebaseUser loggedinuser;\r\n    Query mQuery;\r\n    View v;\r\n\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n         v = inflater.inflate(R.layout.fragment_pending, null);\r\n        firestore = FirebaseFirestore.getInstance();\r\n        Log.i(&quot;Query&quot; , &quot;logged in user : &quot; + loggedinusername);\r\n        mQuery = firestore.collection(&quot;requests&quot;)\r\n                .whereEqualTo(&quot;to&quot;, loggedinusername);\r\n        Log.i(TAG,&quot;query is &quot; + mQuery);\r\n        \r\n          \r\n        recyclerViewpending = (RecyclerView) v.findViewById(R.id.recyclerpending);\r\n\r\n        recyclerViewpending.setHasFixedSize(true);\r\n        recyclerViewpending.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n        requestslist = new ArrayList&lt;&gt;();\r\n        adapterPending = new AdapterPending(requestslist,v.getContext());\r\n        adapterPending.setListener(this);\r\n        recyclerViewpending.setAdapter(adapterPending);\r\n        loggedinuser = FirebaseAuth.getInstance().getCurrentUser();\r\n        currentid = loggedinuser.getUid();\r\n\r\n        adapterPending.notifyDataSetChanged();\r\n\r\n        referenceusers = firestore.collection(&quot;Users&quot;).document(currentid);\r\n        referenceusers.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                if(task.getResult().exists()){\r\n                    loggedinusername = task.getResult().getString(&quot;username&quot;);\r\n                    Log.d(TAG,&quot;logged in user : &quot; + loggedinusername);\r\n                }\r\n            }\r\n        });\r\n\r\n        mQuery.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n           @Override\r\n           public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n               if (task.isSuccessful()) {\r\n                   Log.d(TAG,&quot;I am in  task.issuccesful &quot; );\r\n                   for (DocumentSnapshot ds : task.getResult()) {\r\n\r\n/* I DON&#39;T RECEIVE THIS MESSAGES BELOW IN MY LOGAT, ONLY THOSE FROM ABOVE */\r\n\r\n                       Log.d(TAG,&quot;I am in for &quot;);\r\n\r\n                       String tousername = ds.getString(&quot;to&quot;);\r\n                       fromuser = ds.getString(&quot;from&quot;);\r\n                       Log.d(TAG,&quot;To : &quot; + tousername);\r\n                       Log.d(TAG,&quot;From :  &quot; + fromuser);\r\n                       if (tousername.equals(loggedinusername)) {\r\n                           Log.d(TAG,&quot;I am in if with equals &quot; + tousername);\r\n                       Request obj = ds.toObject(Request.class);\r\n                       requestslist.add(obj);\r\n                       }\r\n                   adapterPending.notifyDataSetChanged();\r\n\r\n                   }\r\n               }\r\n               else {\r\n                   Log.d(TAG,&quot;Error&quot; + task.getException().getMessage());\r\n               }\r\n           }\r\n       });\r\n```\r\nImage from logcat : \r\n[![enter image description here][1]][1]\r\n\r\nPlease help ! Thanks! \r\n\r\n\r\nImage updated after adding Log.i : \r\n[![enter image description here][2]][2] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LhmqG.png\r\n  [2]: https://i.stack.imgur.com/2sWr6.png","title":"Query firebase can&#39;t get documents in for loop","body":"<p>I want to go through a collection called &quot;requests&quot; and get all the strings from fields called &quot;to&quot; from each document and to compare each of them with the username of logged in user. For some reason my app doesn't enter in the for loop, look at the code :</p>\n<p><strong>Fragment.java</strong> :</p>\n<pre><code>public class PendingFragment extends Fragment implements PendingInterface {\n    RecyclerView recyclerViewpending;\n    AdapterPending adapterPending;\n    ArrayList&lt;Request&gt; requestslist;\n    String loggedinusername, currentid, fromuser;\n    DocumentReference reference;\n    DocumentReference referenceusers;\n    FirebaseFirestore firestore;\n    FirebaseUser loggedinuser;\n    Query mQuery;\n    View v;\n\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n         v = inflater.inflate(R.layout.fragment_pending, null);\n        firestore = FirebaseFirestore.getInstance();\n        Log.i(&quot;Query&quot; , &quot;logged in user : &quot; + loggedinusername);\n        mQuery = firestore.collection(&quot;requests&quot;)\n                .whereEqualTo(&quot;to&quot;, loggedinusername);\n        Log.i(TAG,&quot;query is &quot; + mQuery);\n        \n          \n        recyclerViewpending = (RecyclerView) v.findViewById(R.id.recyclerpending);\n\n        recyclerViewpending.setHasFixedSize(true);\n        recyclerViewpending.setLayoutManager(new LinearLayoutManager(getActivity()));\n        requestslist = new ArrayList&lt;&gt;();\n        adapterPending = new AdapterPending(requestslist,v.getContext());\n        adapterPending.setListener(this);\n        recyclerViewpending.setAdapter(adapterPending);\n        loggedinuser = FirebaseAuth.getInstance().getCurrentUser();\n        currentid = loggedinuser.getUid();\n\n        adapterPending.notifyDataSetChanged();\n\n        referenceusers = firestore.collection(&quot;Users&quot;).document(currentid);\n        referenceusers.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                if(task.getResult().exists()){\n                    loggedinusername = task.getResult().getString(&quot;username&quot;);\n                    Log.d(TAG,&quot;logged in user : &quot; + loggedinusername);\n                }\n            }\n        });\n\n        mQuery.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n           @Override\n           public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n               if (task.isSuccessful()) {\n                   Log.d(TAG,&quot;I am in  task.issuccesful &quot; );\n                   for (DocumentSnapshot ds : task.getResult()) {\n\n/* I DON'T RECEIVE THIS MESSAGES BELOW IN MY LOGAT, ONLY THOSE FROM ABOVE */\n\n                       Log.d(TAG,&quot;I am in for &quot;);\n\n                       String tousername = ds.getString(&quot;to&quot;);\n                       fromuser = ds.getString(&quot;from&quot;);\n                       Log.d(TAG,&quot;To : &quot; + tousername);\n                       Log.d(TAG,&quot;From :  &quot; + fromuser);\n                       if (tousername.equals(loggedinusername)) {\n                           Log.d(TAG,&quot;I am in if with equals &quot; + tousername);\n                       Request obj = ds.toObject(Request.class);\n                       requestslist.add(obj);\n                       }\n                   adapterPending.notifyDataSetChanged();\n\n                   }\n               }\n               else {\n                   Log.d(TAG,&quot;Error&quot; + task.getException().getMessage());\n               }\n           }\n       });\n</code></pre>\n<p>Image from logcat :\n<a href=\"https://i.stack.imgur.com/LhmqG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LhmqG.png\" alt=\"enter image description here\" /></a></p>\n<p>Please help ! Thanks!</p>\n<p>Image updated after adding Log.i :\n<a href=\"https://i.stack.imgur.com/2sWr6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2sWr6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","windows","process","system-calls","processbuilder"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1662355820,"post_id":73604802,"comment_id":129978224,"body_markdown":"Why do you want to know this? It is eventually going to involve a system call at some point, but the specific details are very implementation dependent and therefore, not very useful in general.","body":"Why do you want to know this? It is eventually going to involve a system call at some point, but the specific details are very implementation dependent and therefore, not very useful in general."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1662362217,"post_id":73604802,"comment_id":129979848,"body_markdown":"You can find out by reading the source code.","body":"You can find out by reading the source code."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1662363061,"post_id":73604802,"comment_id":129980099,"body_markdown":"And the short answer is that the JVM calls the Win32 function `CreateProcessW` from native code: see https://learn.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessw.  (Or at least, that is what happens in Java 17.)","body":"And the short answer is that the JVM calls the Win32 function <code>CreateProcessW</code> from native code: see <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessw\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/api/processthreadsap&zwnj;&#8203;i/&hellip;</a>.  (Or at least, that is what happens in Java 17.)"}],"answers":[{"tags":[],"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662402584,"creation_date":1662402584,"answer_id":73613450,"question_id":73604802,"body_markdown":"`ProcessBuilder#start` [calls `ProcessImpl#start`][1], which [calls the `ProcessImpl` constructor][2], which [calls `ProcessImpl#create`][3] aka `Java_java_lang_ProcessImpl_create`, which [calls `processCreate`][4], which [calls the Win32 syscall `CreateProcessW`][5].\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/dbb2c4b6ac01d2a3367a2354213d3b4230dfbb96/src/java.base/share/classes/java/lang/ProcessBuilder.java#L1109\r\n  [2]: https://github.com/openjdk/jdk/blob/dbb2c4b6ac01d2a3367a2354213d3b4230dfbb96/src/java.base/windows/classes/java/lang/ProcessImpl.java#L159\r\n  [3]: https://github.com/openjdk/jdk/blob/dbb2c4b6ac01d2a3367a2354213d3b4230dfbb96/src/java.base/windows/classes/java/lang/ProcessImpl.java#L500\r\n  [4]: https://github.com/openjdk/jdk/blob/dbb2c4b6ac01d2a3367a2354213d3b4230dfbb96/src/java.base/windows/native/libjava/ProcessImpl_md.c#L382\r\n  [5]: https://github.com/openjdk/jdk/blob/dbb2c4b6ac01d2a3367a2354213d3b4230dfbb96/src/java.base/windows/native/libjava/ProcessImpl_md.c#L331","title":"How does Java actually spawn a process by ProcessBuilder on Windows platform?","body":"<p><code>ProcessBuilder#start</code> <a href=\"https://github.com/openjdk/jdk/blob/dbb2c4b6ac01d2a3367a2354213d3b4230dfbb96/src/java.base/share/classes/java/lang/ProcessBuilder.java#L1109\" rel=\"nofollow noreferrer\">calls <code>ProcessImpl#start</code></a>, which <a href=\"https://github.com/openjdk/jdk/blob/dbb2c4b6ac01d2a3367a2354213d3b4230dfbb96/src/java.base/windows/classes/java/lang/ProcessImpl.java#L159\" rel=\"nofollow noreferrer\">calls the <code>ProcessImpl</code> constructor</a>, which <a href=\"https://github.com/openjdk/jdk/blob/dbb2c4b6ac01d2a3367a2354213d3b4230dfbb96/src/java.base/windows/classes/java/lang/ProcessImpl.java#L500\" rel=\"nofollow noreferrer\">calls <code>ProcessImpl#create</code></a> aka <code>Java_java_lang_ProcessImpl_create</code>, which <a href=\"https://github.com/openjdk/jdk/blob/dbb2c4b6ac01d2a3367a2354213d3b4230dfbb96/src/java.base/windows/native/libjava/ProcessImpl_md.c#L382\" rel=\"nofollow noreferrer\">calls <code>processCreate</code></a>, which <a href=\"https://github.com/openjdk/jdk/blob/dbb2c4b6ac01d2a3367a2354213d3b4230dfbb96/src/java.base/windows/native/libjava/ProcessImpl_md.c#L331\" rel=\"nofollow noreferrer\">calls the Win32 syscall <code>CreateProcessW</code></a>.</p>\n"}],"owner":{"account_id":1092099,"reputation":887,"user_id":1086516,"accept_rate":90,"display_name":"user1086516"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73613450,"answer_count":1,"score":0,"last_activity_date":1662402584,"creation_date":1662355383,"question_id":73604802,"body_markdown":"How does Java actually spawn a process by ProcessBuilder on Windows platform ? By what mechanism, system call, etc is actually doing the job? Javadoc doesn&#39;t specify and from the behavior exhibited by spawning processes its not immediately obvious. ","title":"How does Java actually spawn a process by ProcessBuilder on Windows platform?","body":"<p>How does Java actually spawn a process by ProcessBuilder on Windows platform ? By what mechanism, system call, etc is actually doing the job? Javadoc doesn't specify and from the behavior exhibited by spawning processes its not immediately obvious.</p>\n"},{"tags":["java","spring-boot","spring-security","api-gateway","reactor-netty"],"answers":[{"tags":[],"owner":{"account_id":9045259,"reputation":5321,"user_id":6737860,"display_name":"Thomas K&#229;sene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662401701,"creation_date":1662401701,"answer_id":73613314,"question_id":73605953,"body_markdown":"I recently had this exact problem myself. After a lot of back and forth I ended up creating my own `ReactiveJwtDecoder` bean and setting the `HttpClient`/`WebClient` it uses internally (using `NimbusReactiveJwtDecoder.webClient(WebClient)`). Something along the lines of:\r\n\r\n```java\r\n@Bean\r\nReactiveJwtDecoder jwtDecoder(@Value(&quot;${ISSUER_URI}&quot;) String issuerUri,\r\n                              @Value(&quot;${JWKS_URI}&quot;) String jwksUri) {\r\n\r\n    HttpClient httpClient = HttpClient.create().proxyWithSystemProperties();\r\n    WebClient webClient = WebClient.builder()\r\n            .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n            .build();\r\n\r\n    var jwtDecoder = NimbusReactiveJwtDecoder\r\n            .withJwkSetUri(jwksUri)\r\n            .webClient(webClient)\r\n            .build();\r\n\r\n    // import org.springframework.security.oauth2.jwt.JwtValidators;\r\n    jwtDecoder.setJwtValidator(JwtValidators.createDefaultWithIssuer(issuerUri));\r\n\r\n    return jwtDecoder;\r\n}\r\n```\r\n\r\nYou can probably inject the `OAuth2ResourceServerProperties`-bean instead of those two `@Value`-annotated `String`s to get the URLs.\r\n\r\nAlso, be aware that if you application already does more customized JWT claim validation than merely checking `iss`, `exp` and `nbf`, you must remember to inject the existing `JwtValidator` and use that instead of the `JwtValidators.createDefaultWithIssuer(String)` one.","title":"Can not set up proxy setting for Spring Cloud API Gateway based project","body":"<p>I recently had this exact problem myself. After a lot of back and forth I ended up creating my own <code>ReactiveJwtDecoder</code> bean and setting the <code>HttpClient</code>/<code>WebClient</code> it uses internally (using <code>NimbusReactiveJwtDecoder.webClient(WebClient)</code>). Something along the lines of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nReactiveJwtDecoder jwtDecoder(@Value(&quot;${ISSUER_URI}&quot;) String issuerUri,\n                              @Value(&quot;${JWKS_URI}&quot;) String jwksUri) {\n\n    HttpClient httpClient = HttpClient.create().proxyWithSystemProperties();\n    WebClient webClient = WebClient.builder()\n            .clientConnector(new ReactorClientHttpConnector(httpClient))\n            .build();\n\n    var jwtDecoder = NimbusReactiveJwtDecoder\n            .withJwkSetUri(jwksUri)\n            .webClient(webClient)\n            .build();\n\n    // import org.springframework.security.oauth2.jwt.JwtValidators;\n    jwtDecoder.setJwtValidator(JwtValidators.createDefaultWithIssuer(issuerUri));\n\n    return jwtDecoder;\n}\n</code></pre>\n<p>You can probably inject the <code>OAuth2ResourceServerProperties</code>-bean instead of those two <code>@Value</code>-annotated <code>String</code>s to get the URLs.</p>\n<p>Also, be aware that if you application already does more customized JWT claim validation than merely checking <code>iss</code>, <code>exp</code> and <code>nbf</code>, you must remember to inject the existing <code>JwtValidator</code> and use that instead of the <code>JwtValidators.createDefaultWithIssuer(String)</code> one.</p>\n"}],"owner":{"account_id":11109732,"reputation":130,"user_id":8155897,"display_name":"dred dred"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73613314,"answer_count":1,"score":1,"last_activity_date":1662402268,"creation_date":1662363347,"question_id":73605953,"body_markdown":"I&#39;m using Spring Cloud API Gateway, the app has yaml based configuration and it works well since all routes are internal links, means there is no need for any proxy.\r\n \r\nBut, there a dependency on Spring Security which is used to validate JWT token and the URL of issuer is the resource that can be reached only via proxy. \r\n\r\n```yml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          jwk-set-uri: https://some-site.com/itmp/v1/.well-known/jwks.json\r\n          issuer-uri: https://some-site.com/itmp/v1/\r\n```\r\n\r\nAnd here is the problem: I can not force `WebClient` using the `http.proxyHost` parameter. I tried many techniques that I found [all around the Internet][1]  like setting them implicitly in app properties file, or hard coded in application itself. But nothing worked out for me. Maybe I&#39;m missing something, maybe Spring Cloud has some special tweaks for that behavior?\r\n\r\nFYI Project is based on Spring Boot 2.6.6 (reactor-netty 1.0.17 which is normally supports `proxyWithSystemProperties` )\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/58689235/proxy-setting-not-working-with-spring-webclient","title":"Can not set up proxy setting for Spring Cloud API Gateway based project","body":"<p>I'm using Spring Cloud API Gateway, the app has yaml based configuration and it works well since all routes are internal links, means there is no need for any proxy.</p>\n<p>But, there a dependency on Spring Security which is used to validate JWT token and the URL of issuer is the resource that can be reached only via proxy.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          jwk-set-uri: https://some-site.com/itmp/v1/.well-known/jwks.json\n          issuer-uri: https://some-site.com/itmp/v1/\n</code></pre>\n<p>And here is the problem: I can not force <code>WebClient</code> using the <code>http.proxyHost</code> parameter. I tried many techniques that I found <a href=\"https://stackoverflow.com/questions/58689235/proxy-setting-not-working-with-spring-webclient\">all around the Internet</a>  like setting them implicitly in app properties file, or hard coded in application itself. But nothing worked out for me. Maybe I'm missing something, maybe Spring Cloud has some special tweaks for that behavior?</p>\n<p>FYI Project is based on Spring Boot 2.6.6 (reactor-netty 1.0.17 which is normally supports <code>proxyWithSystemProperties</code> )</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":1,"creation_date":1641494172,"post_id":70611888,"comment_id":124824501,"body_markdown":"You would need to remove `\\n&#39; from both strings using String.replace before comparing them using equals method.","body":"You would need to remove `\\n&#39; from both strings using String.replace before comparing them using equals method."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1641494610,"post_id":70611888,"comment_id":124824659,"body_markdown":"Even ignoring the line break, they are still different: A has one space, B has two.","body":"Even ignoring the line break, they are still different: A has one space, B has two."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641571771,"creation_date":1641494487,"answer_id":70612047,"question_id":70611888,"body_markdown":"I believe, that the following string should be equal: `&quot;Hello World&quot;` and `&quot;Hello \\nWorld&quot;`.\r\n\r\nThe simplest way is to remove `\\n` from the both strings and then use `isEquals()`:\r\n\r\n```java\r\npublic static boolean isEquals(String one, String two) {\r\n    one = one.replace(&quot;\\n&quot;, &quot;&quot;);\r\n    two = two.replace(&quot;\\n&quot;, &quot;&quot;);\r\n    return one.equals(two);\r\n}\r\n```\r\n\r\nBut it could be not efficient because here we have additional string object creations. Fortunately, you could use another approach.\r\n\r\n```java\r\npublic static boolean isEquals(String one, String two) {\r\n    int i = 0;\r\n    int j = 0;\r\n\r\n    while (i &lt; one.length() &amp;&amp; j &lt; two.length()) {\r\n        if (one.charAt(i) == &#39;\\n&#39;)\r\n            i++;\r\n        else if (two.charAt(j) == &#39;\\n&#39;)\r\n            j++;\r\n        else if (one.charAt(i++) != two.charAt(j++))\r\n            return false;\r\n    }\r\n\r\n    for (; i &lt; one.length(); j++)\r\n        if (one.charAt(i) != &#39;\\n&#39;)\r\n            return false;\r\n\r\n    for (; j &lt; two.length(); j++)\r\n        if (two.charAt(j) != &#39;\\n&#39;)\r\n            return false;\r\n\r\n    return true;\r\n}\r\n```","title":"Comparing Strings with BREAK LINES in Java","body":"<p>I believe, that the following string should be equal: <code>&quot;Hello World&quot;</code> and <code>&quot;Hello \\nWorld&quot;</code>.</p>\n<p>The simplest way is to remove <code>\\n</code> from the both strings and then use <code>isEquals()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isEquals(String one, String two) {\n    one = one.replace(&quot;\\n&quot;, &quot;&quot;);\n    two = two.replace(&quot;\\n&quot;, &quot;&quot;);\n    return one.equals(two);\n}\n</code></pre>\n<p>But it could be not efficient because here we have additional string object creations. Fortunately, you could use another approach.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isEquals(String one, String two) {\n    int i = 0;\n    int j = 0;\n\n    while (i &lt; one.length() &amp;&amp; j &lt; two.length()) {\n        if (one.charAt(i) == '\\n')\n            i++;\n        else if (two.charAt(j) == '\\n')\n            j++;\n        else if (one.charAt(i++) != two.charAt(j++))\n            return false;\n    }\n\n    for (; i &lt; one.length(); j++)\n        if (one.charAt(i) != '\\n')\n            return false;\n\n    for (; j &lt; two.length(); j++)\n        if (two.charAt(j) != '\\n')\n            return false;\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10430241,"reputation":97,"user_id":7690284,"display_name":"ShunnedJeans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641494615,"creation_date":1641494615,"answer_id":70612081,"question_id":70611888,"body_markdown":"    A.equals(B.replaceAll(&quot;\\n&quot;,&quot;&quot;).replaceAll(&quot;  &quot;,&quot; &quot;));\r\n\r\n**String String.replaceAll(String regex, String replacement)**\r\n\r\nReplaces each substring of this string that matches the given regular expression with the given\r\nreplacement.\r\n\r\n**boolean String.equals(Object anObject)**\r\n\r\nCompares this string to the specified object.The result is true if and only if the argument is\r\nnot null and is a String object that represents the same sequence of characters as this object.\r\nFor finer-grained String comparison, refer to java.text.Collator","title":"Comparing Strings with BREAK LINES in Java","body":"<pre><code>A.equals(B.replaceAll(&quot;\\n&quot;,&quot;&quot;).replaceAll(&quot;  &quot;,&quot; &quot;));\n</code></pre>\n<p><strong>String String.replaceAll(String regex, String replacement)</strong></p>\n<p>Replaces each substring of this string that matches the given regular expression with the given\nreplacement.</p>\n<p><strong>boolean String.equals(Object anObject)</strong></p>\n<p>Compares this string to the specified object.The result is true if and only if the argument is\nnot null and is a String object that represents the same sequence of characters as this object.\nFor finer-grained String comparison, refer to java.text.Collator</p>\n"}],"owner":{"account_id":18184291,"reputation":9,"user_id":13231376,"display_name":"vinay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1662402102,"creation_date":1641493788,"question_id":70611888,"body_markdown":"I have two Strings as below:\r\n\r\n```java\r\nString A = &quot;Hello World&quot;;\r\nString B = &quot;Hello \\n World&quot;;\r\n```\r\n\r\nThe only difference between the Strings is a line break, my question is how can we compare these strings by ignoring the line breaks.","title":"Comparing Strings with BREAK LINES in Java","body":"<p>I have two Strings as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String A = &quot;Hello World&quot;;\nString B = &quot;Hello \\n World&quot;;\n</code></pre>\n<p>The only difference between the Strings is a line break, my question is how can we compare these strings by ignoring the line breaks.</p>\n"},{"tags":["java","sql","spring","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662401867,"creation_date":1662401867,"answer_id":73613336,"question_id":73611658,"body_markdown":"You can delete by **repository**  like\r\n\r\n    @Repository\r\n    public interface TransictionRepository extends JpaRepository&lt;Transiction, Long&gt; {\r\n          void deleteByUserId(Long userId);\r\n\r\n    }\r\n\r\n\r\nIn your controller\r\n\r\n    @Autowired\r\n    TransictionRepository transictionRepository;\r\n\r\n    @DeleteMapping(“/remove/{id}&quot;)\r\n    public EntityModel&lt;TransictionDto&gt; deleteTtransictionByUserId(\r\n            @PathVariable(required=false,name =&quot;userDetails&quot;)String userString\r\n        transictionRepository.deleteByUserId(userString)\r\n    \r\n    ) throws IOException {\r\n        return null; \r\n    }\r\n\r\n","title":"Which method shall I select to delete many to many relationship data","body":"<p>You can delete by <strong>repository</strong>  like</p>\n<pre><code>@Repository\npublic interface TransictionRepository extends JpaRepository&lt;Transiction, Long&gt; {\n      void deleteByUserId(Long userId);\n\n}\n</code></pre>\n<p>In your controller</p>\n<pre><code>@Autowired\nTransictionRepository transictionRepository;\n\n@DeleteMapping(“/remove/{id}&quot;)\npublic EntityModel&lt;TransictionDto&gt; deleteTtransictionByUserId(\n        @PathVariable(required=false,name =&quot;userDetails&quot;)String userString\n    transictionRepository.deleteByUserId(userString)\n\n) throws IOException {\n    return null; \n}\n</code></pre>\n"}],"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662401867,"creation_date":1662391599,"question_id":73611658,"body_markdown":"\r\n\r\nWhich method shall I select to delete many to many relationship data. \r\n\r\nI have intermediate table where I need to delete multiple records based on the request payload. \r\n\r\n\r\nMy payload will be like : \r\n\r\n    {\r\n        userid : 1,\r\n        transaction : [b,c]\r\n    }\r\n\r\n\r\nHow should I write my controller class so I can read this request body. \r\n\r\n\r\n    @DeleteMapping(“/remove/{id}&quot;)\r\n    public EntityModel&lt;TransictionDto&gt; deleteTtransictionByUserId(\r\n            @PathVariable(required=false,name =&quot;userDetails&quot;)String userString\r\n    \t\r\n    \r\n    ) throws IOException {\r\n        return null; \r\n    }\r\n\r\n\r\n\r\nHere I am not able to get my request header or payload.  What will be the best way or method in controller class where I can get the request header and pass \r\n\r\nTo service calss. \r\n\r\nOr\r\n\r\nWhat is the best way to delete many to many relationship from table.","title":"Which method shall I select to delete many to many relationship data","body":"<p>Which method shall I select to delete many to many relationship data.</p>\n<p>I have intermediate table where I need to delete multiple records based on the request payload.</p>\n<p>My payload will be like :</p>\n<pre><code>{\n    userid : 1,\n    transaction : [b,c]\n}\n</code></pre>\n<p>How should I write my controller class so I can read this request body.</p>\n<pre><code>@DeleteMapping(“/remove/{id}&quot;)\npublic EntityModel&lt;TransictionDto&gt; deleteTtransictionByUserId(\n        @PathVariable(required=false,name =&quot;userDetails&quot;)String userString\n    \n\n) throws IOException {\n    return null; \n}\n</code></pre>\n<p>Here I am not able to get my request header or payload.  What will be the best way or method in controller class where I can get the request header and pass</p>\n<p>To service calss.</p>\n<p>Or</p>\n<p>What is the best way to delete many to many relationship from table.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1662394755,"post_id":73612145,"comment_id":129991183,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.\nPlease see: [What Do You Mean “It Doesn&#39;t Work”?](https://meta.stackexchange.com/q/147616)","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/73612145/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Please see: <a href=\"https://meta.stackexchange.com/q/147616\">What Do You Mean “It Doesn&#39;t Work”?</a>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1662415905,"post_id":73612145,"comment_id":129996079,"body_markdown":"Was I able to answer your question? If so, I would appreciate if you accept my answer by clicking on the checkmark next to my post. Thank you.","body":"Was I able to answer your question? If so, I would appreciate if you accept my answer by clicking on the checkmark next to my post. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662401015,"creation_date":1662398805,"answer_id":73612862,"question_id":73612145,"body_markdown":"Resizing the panel or the label you are placing the image in doesn&#39;t work. Think of it this way, an `ImageIcon` is not a typical Swing component; like a panel or label. Therefore, it does not &quot;obey&quot; resizing rules like proper Java Swing components do. I believe the main reason is because image icons are not containers and those rules (which tie to layouts and layout managers) are applicable to containers more than to components. At any rate, that&#39;s not important. For `ImageIcon` objects to resize, what you need to do is scale the image and then placed the scaled image on the container (in this case `JLabel`).\r\n\r\nI adjusted the code so I could run it on my environment and tested it with an image of my own. To post it here, I switched it back to your image.\r\n\r\n```\r\npublic class GameBoard extends JPanel{\r\n  private List&lt;Player&gt; players;\r\n  private List&lt;?&gt; boxes; // not sure what this is\r\n  private JLabel image;\r\n\r\n  public GameBoard(List&lt;Player&gt; players) {\r\n      this.boxes = new ArrayList&lt;&gt;();\r\n        \r\n      this.players = players;      \r\n      this.setBounds(0,0,500,500);\r\n      ImageIcon icon = new ImageIcon(&quot;G:\\\\Il mio Drive\\\\Universit&#224;\\\\Programmazione II\\\\21-22\\\\progetto\\\\Tabellone.jpg&quot;);\r\n\r\n      // this is the magic sauce (image scaled to 100x100) - adjust to your needs\r\n      icon.setImage(icon.getImage().getScaledInstance(100, 100,Image.SCALE_DEFAULT));\r\n\r\n      image = new JLabel(icon);\r\n      this.add(image);\r\n  }\r\n  \r\n  public static void main(String[] args) {\r\n  \tGameBoard board = new GameBoard(null);\r\n  \tJFrame frame = new JFrame();\r\n  \tframe.setBounds(100, 100, 1000, 1000);\r\n  \tframe.getContentPane().add(board);\r\n  \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n  \tframe.setVisible(true);\r\n  }\r\n}\r\n```\r\nBasically, you are getting the current image and using that instance, you will set back in it a scaled version of itself. Then, you place the scaled image in a Swing container, like a `JLabel` like you did here.\r\n\r\nIf you think about it, this is quite genius. You do not want your images affected by the effects of layout managers that would distort the image when resizing components based on layout rules. By not allowing Swing containers to resize images, you will be free to use whichever layout manager you would want (or even absolute positioning) without ever worrying about how the images (or icons) in your application might be affected. These last comments are my opinions and not some industry consensus, but it makes sense; doesn&#39;t it?\r\n\r\n**UPDATE**:\r\n\r\n`Image.SCALE_DEFAULT` is the chosen algorithm to do the resizing. I don&#39;t know much about these algorithms, but this is the one most examples on the web use to do the scaling. If you are that curious, you should look into this and select (perhaps) an algorithm that is better suited for your particular case. I expect, even the default scaling algorithm, to have drawbacks. Otherwise, why have other algorithms to do the same thing? Anyway, I thought it was prudent to add this final comment on this post.","title":"I can&#39;t set the size of an image on Java","body":"<p>Resizing the panel or the label you are placing the image in doesn't work. Think of it this way, an <code>ImageIcon</code> is not a typical Swing component; like a panel or label. Therefore, it does not &quot;obey&quot; resizing rules like proper Java Swing components do. I believe the main reason is because image icons are not containers and those rules (which tie to layouts and layout managers) are applicable to containers more than to components. At any rate, that's not important. For <code>ImageIcon</code> objects to resize, what you need to do is scale the image and then placed the scaled image on the container (in this case <code>JLabel</code>).</p>\n<p>I adjusted the code so I could run it on my environment and tested it with an image of my own. To post it here, I switched it back to your image.</p>\n<pre><code>public class GameBoard extends JPanel{\n  private List&lt;Player&gt; players;\n  private List&lt;?&gt; boxes; // not sure what this is\n  private JLabel image;\n\n  public GameBoard(List&lt;Player&gt; players) {\n      this.boxes = new ArrayList&lt;&gt;();\n        \n      this.players = players;      \n      this.setBounds(0,0,500,500);\n      ImageIcon icon = new ImageIcon(&quot;G:\\\\Il mio Drive\\\\Università\\\\Programmazione II\\\\21-22\\\\progetto\\\\Tabellone.jpg&quot;);\n\n      // this is the magic sauce (image scaled to 100x100) - adjust to your needs\n      icon.setImage(icon.getImage().getScaledInstance(100, 100,Image.SCALE_DEFAULT));\n\n      image = new JLabel(icon);\n      this.add(image);\n  }\n  \n  public static void main(String[] args) {\n    GameBoard board = new GameBoard(null);\n    JFrame frame = new JFrame();\n    frame.setBounds(100, 100, 1000, 1000);\n    frame.getContentPane().add(board);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setVisible(true);\n  }\n}\n</code></pre>\n<p>Basically, you are getting the current image and using that instance, you will set back in it a scaled version of itself. Then, you place the scaled image in a Swing container, like a <code>JLabel</code> like you did here.</p>\n<p>If you think about it, this is quite genius. You do not want your images affected by the effects of layout managers that would distort the image when resizing components based on layout rules. By not allowing Swing containers to resize images, you will be free to use whichever layout manager you would want (or even absolute positioning) without ever worrying about how the images (or icons) in your application might be affected. These last comments are my opinions and not some industry consensus, but it makes sense; doesn't it?</p>\n<p><strong>UPDATE</strong>:</p>\n<p><code>Image.SCALE_DEFAULT</code> is the chosen algorithm to do the resizing. I don't know much about these algorithms, but this is the one most examples on the web use to do the scaling. If you are that curious, you should look into this and select (perhaps) an algorithm that is better suited for your particular case. I expect, even the default scaling algorithm, to have drawbacks. Otherwise, why have other algorithms to do the same thing? Anyway, I thought it was prudent to add this final comment on this post.</p>\n"}],"owner":{"account_id":19599843,"reputation":23,"user_id":14344940,"display_name":"Paolo Di Biase"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73612862,"answer_count":1,"score":-1,"last_activity_date":1662401015,"creation_date":1662394300,"question_id":73612145,"body_markdown":"as i write on the title, i can&#39;t set the size of an image on java and i don&#39;t know why.\r\nSo, that&#39;s the code:\r\n\r\n```\r\npackage it.unimol.monopoli.gui;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\n\r\nimport it.unimol.monopoli.app.Player;\r\n\r\npublic class GameBoard extends JPanel{\r\n    private List&lt;Player&gt; players;\r\n    private JLabel image;\r\n\r\n    public GameBoard(List&lt;Player&gt; players) {\r\n        this.boxes = new ArrayList&lt;&gt;();\r\n        \r\n        this.players = players;\r\n        this.setBounds(0,0,500,500);\r\n        image = new JLabel(new ImageIcon(&quot;G:\\\\Il mio Drive\\\\Universit&#224;\\\\Programmazione II\\\\21-22\\\\progetto\\\\Tabellone.jpg&quot;));\r\n        this.add(image);\r\n        inizializeSquares();\r\n    }\r\n}\r\n\r\n```\r\n\r\nthe class is not complete, but the thing that doesn&#39;t work is the &#39;setBuonds()&#39; because the immage is on all the frame that has a dimension of 1000x1000.\r\nFor any information, all the panel are with the defoult layout.\r\n\r\nAsk for any questions,\r\ni&#39;ll wait for yous answers.","title":"I can&#39;t set the size of an image on Java","body":"<p>as i write on the title, i can't set the size of an image on java and i don't know why.\nSo, that's the code:</p>\n<pre><code>package it.unimol.monopoli.gui;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\nimport it.unimol.monopoli.app.Player;\n\npublic class GameBoard extends JPanel{\n    private List&lt;Player&gt; players;\n    private JLabel image;\n\n    public GameBoard(List&lt;Player&gt; players) {\n        this.boxes = new ArrayList&lt;&gt;();\n        \n        this.players = players;\n        this.setBounds(0,0,500,500);\n        image = new JLabel(new ImageIcon(&quot;G:\\\\Il mio Drive\\\\Università\\\\Programmazione II\\\\21-22\\\\progetto\\\\Tabellone.jpg&quot;));\n        this.add(image);\n        inizializeSquares();\n    }\n}\n\n</code></pre>\n<p>the class is not complete, but the thing that doesn't work is the 'setBuonds()' because the immage is on all the frame that has a dimension of 1000x1000.\nFor any information, all the panel are with the defoult layout.</p>\n<p>Ask for any questions,\ni'll wait for yous answers.</p>\n"},{"tags":["java","android","kotlin","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":11129418,"reputation":542,"user_id":8169814,"display_name":"Malik Saifullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662400876,"creation_date":1662400019,"answer_id":73613056,"question_id":73612916,"body_markdown":"This is how you can create payment method in kotlin.\r\n\r\n           val billingDetails: PaymentMethod.BillingDetails =\r\n            PaymentMethod.BillingDetails.Builder().build()\r\n\r\n           val metaData = HashMap&lt;String, String&gt;()\r\n           metaData[&quot;createdVia&quot;] = &quot;android&quot;\r\n        \r\n           val card: PaymentMethodCreateParams.Card = \r\n           binding.cardMultiWidget.paymentMethodCard!!\r\n\r\n           val paymentMethodParams: PaymentMethodCreateParams =\r\n           PaymentMethodCreateParams.create(card, billingDetails,\r\n           metaData)\r\n\r\n`cardMultiWidget` is the widget that stripe provides for android. \r\n\r\nYou can find out more about in the [Stripe-Samples][1]\r\n\r\n\r\nand here is the official [stripe-android][2] documentation about the methods. You can find mostly under payments-core.\r\n\r\n\r\n  [1]: https://github.com/stripe-samples/mobile-saving-card-without-payment/blob/main/client/android/app/src/main/java/com/example/app/CheckoutActivityKotlin.kt\r\n  [2]: https://stripe.dev/stripe-android/payments-core/com.stripe.android/confirm-setup-intent.html","title":"Stripe Saving Card from android/kotlin equivalent to react strpe.CreatePaymentMethod","body":"<p>This is how you can create payment method in kotlin.</p>\n<pre><code>       val billingDetails: PaymentMethod.BillingDetails =\n        PaymentMethod.BillingDetails.Builder().build()\n\n       val metaData = HashMap&lt;String, String&gt;()\n       metaData[&quot;createdVia&quot;] = &quot;android&quot;\n    \n       val card: PaymentMethodCreateParams.Card = \n       binding.cardMultiWidget.paymentMethodCard!!\n\n       val paymentMethodParams: PaymentMethodCreateParams =\n       PaymentMethodCreateParams.create(card, billingDetails,\n       metaData)\n</code></pre>\n<p><code>cardMultiWidget</code> is the widget that stripe provides for android.</p>\n<p>You can find out more about in the <a href=\"https://github.com/stripe-samples/mobile-saving-card-without-payment/blob/main/client/android/app/src/main/java/com/example/app/CheckoutActivityKotlin.kt\" rel=\"nofollow noreferrer\">Stripe-Samples</a></p>\n<p>and here is the official <a href=\"https://stripe.dev/stripe-android/payments-core/com.stripe.android/confirm-setup-intent.html\" rel=\"nofollow noreferrer\">stripe-android</a> documentation about the methods. You can find mostly under payments-core.</p>\n"}],"owner":{"account_id":26252675,"reputation":3,"user_id":19925231,"display_name":"Arifur Islam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73613056,"answer_count":1,"score":0,"last_activity_date":1662400876,"creation_date":1662399203,"question_id":73612916,"body_markdown":"We have implemented using react to get save card and getting payment method id successfully like this:\r\n\r\n       const paymentMethodReq = await stripe.createPaymentMethod({\r\n          type: &quot;card&quot;,\r\n          card: elements.getElement(CardNumberElement),\r\n          billing_details: formData\r\n        })\r\n\r\n\r\nAbove code is being used in reactjs, that&#39;s working fine, but we are going through a trouble to implement same feature on android, we have not found anything for kotlin.\r\nwe will attach customer and other thing later, we only want to get the `payment method id` to save the card, that is exactly what we have done on reactjs but not getting how to implement in kotlin.\r\n\r\nCan anyone help me what you are using in kotlin for the same feature?\r\n","title":"Stripe Saving Card from android/kotlin equivalent to react strpe.CreatePaymentMethod","body":"<p>We have implemented using react to get save card and getting payment method id successfully like this:</p>\n<pre><code>   const paymentMethodReq = await stripe.createPaymentMethod({\n      type: &quot;card&quot;,\n      card: elements.getElement(CardNumberElement),\n      billing_details: formData\n    })\n</code></pre>\n<p>Above code is being used in reactjs, that's working fine, but we are going through a trouble to implement same feature on android, we have not found anything for kotlin.\nwe will attach customer and other thing later, we only want to get the <code>payment method id</code> to save the card, that is exactly what we have done on reactjs but not getting how to implement in kotlin.</p>\n<p>Can anyone help me what you are using in kotlin for the same feature?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550304588,"creation_date":1550304588,"answer_id":54721124,"question_id":54721094,"body_markdown":"Step 1:\r\n\r\nIterate the given `array`\r\n\r\nStep 2 (first if condition `arr[i] &gt; largest`):\r\n\r\nIf current array value is greater than largest value then\r\n\r\nMove the largest value to secondLargest and make\r\n\r\ncurrent value as largest\r\n\r\nStep 3 (second if condition `arr[i] &gt; secondLargest` )  \r\n\r\n  If the current value is smaller than largest and greater than secondLargest  then\r\nthe current value becomes secondLargest\r\n    \r\n    public class SecondLargest {\r\n         \r\n        \tpublic static void main(String[] args) {\r\n         \r\n        \t\tint arr[] = {50,06,60,70,80,90,9,150,2,35};\r\n        \t\tint largest = arr[0];\r\n        \t\tint secondLargest = arr[0];\r\n        \t\t\r\n        \t\tSystem.out.println(&quot;The given array is:&quot; );\r\n        \t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n        \t\t\tSystem.out.print(arr[i]+&quot;\\t&quot;);\r\n        \t\t}\r\n        \t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n         \r\n        \t\t\tif (arr[i] &gt; largest) {\r\n        \t\t\t\tsecondLargest = largest;\r\n        \t\t\t\tlargest = arr[i];\r\n         \r\n        \t\t\t} else if (arr[i] &gt; secondLargest) {\r\n        \t\t\t\tsecondLargest = arr[i];\r\n         \r\n        \t\t\t}\r\n        \t\t}\r\n         \r\n        \t\tSystem.out.println(&quot;\\nSecond largest number is:&quot; + secondLargest);\r\n         \r\n        \t}\r\n        }\r\n\r\noutput : \r\n\r\n    The given array is:\r\n    50\t6\t60\t70\t80\t90\t9\t150\t2\t35\t\r\n    Second largest number is:90","title":"finding the second largest value in an array using java","body":"<p>Step 1:</p>\n\n<p>Iterate the given <code>array</code></p>\n\n<p>Step 2 (first if condition <code>arr[i] &gt; largest</code>):</p>\n\n<p>If current array value is greater than largest value then</p>\n\n<p>Move the largest value to secondLargest and make</p>\n\n<p>current value as largest</p>\n\n<p>Step 3 (second if condition <code>arr[i] &gt; secondLargest</code> )  </p>\n\n<p>If the current value is smaller than largest and greater than secondLargest  then\nthe current value becomes secondLargest</p>\n\n<pre><code>public class SecondLargest {\n\n        public static void main(String[] args) {\n\n            int arr[] = {50,06,60,70,80,90,9,150,2,35};\n            int largest = arr[0];\n            int secondLargest = arr[0];\n\n            System.out.println(\"The given array is:\" );\n            for (int i = 0; i &lt; arr.length; i++) {\n                System.out.print(arr[i]+\"\\t\");\n            }\n            for (int i = 0; i &lt; arr.length; i++) {\n\n                if (arr[i] &gt; largest) {\n                    secondLargest = largest;\n                    largest = arr[i];\n\n                } else if (arr[i] &gt; secondLargest) {\n                    secondLargest = arr[i];\n\n                }\n            }\n\n            System.out.println(\"\\nSecond largest number is:\" + secondLargest);\n\n        }\n    }\n</code></pre>\n\n<p>output : </p>\n\n<pre><code>The given array is:\n50  6   60  70  80  90  9   150 2   35  \nSecond largest number is:90\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6974643,"reputation":939,"user_id":6513673,"display_name":"saeedata"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1626636046,"creation_date":1550304794,"answer_id":54721145,"question_id":54721094,"body_markdown":"your mistake is the conditions in the loop\r\nuse this code:\r\n\r\n    public class Main{\r\n        public static void main(String[] args){\r\n            int[] nums = { 6, 9, 11, 1, 10 };\r\n    \r\n            int max = Integer.MIN_VALUE;\r\n            int secmax = Integer.MIN_VALUE;\r\n    \r\n            for(int x=0; x&lt;nums.length; x++) {\r\n                if(nums[x]&gt;max ) {\r\n                    secmax = max;\r\n                    max=nums[x];\r\n                }else if(nums[x]&gt;secmax){\r\n                    secmax=nums[x];\r\n                }\r\n             }\r\n            System.out.println(&quot;1st H value: &quot; + max);\r\n            System.out.println(&quot;2nd H Value: &quot; + secmax);\r\n        }\r\n    }\r\n\r\n","title":"finding the second largest value in an array using java","body":"<p>your mistake is the conditions in the loop\nuse this code:</p>\n<pre><code>public class Main{\n    public static void main(String[] args){\n        int[] nums = { 6, 9, 11, 1, 10 };\n\n        int max = Integer.MIN_VALUE;\n        int secmax = Integer.MIN_VALUE;\n\n        for(int x=0; x&lt;nums.length; x++) {\n            if(nums[x]&gt;max ) {\n                secmax = max;\n                max=nums[x];\n            }else if(nums[x]&gt;secmax){\n                secmax=nums[x];\n            }\n         }\n        System.out.println(&quot;1st H value: &quot; + max);\n        System.out.println(&quot;2nd H Value: &quot; + secmax);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10514292,"reputation":1065,"user_id":9382531,"display_name":"Akash Pal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550316769,"creation_date":1550305286,"answer_id":54721205,"question_id":54721094,"body_markdown":"    int max=nums[0],secMax=nums[0]      \r\n    for (int x = 0; x &lt; nums.length; x++) {\r\n        if (nums[x] &gt; max) {\r\n            secMax=max;\r\n            max = nums[x];\r\n        }\r\n    }\r\n\r\nsecMax wil have the second largest\r\n\r\n","title":"finding the second largest value in an array using java","body":"<pre><code>int max=nums[0],secMax=nums[0]      \nfor (int x = 0; x &lt; nums.length; x++) {\n    if (nums[x] &gt; max) {\n        secMax=max;\n        max = nums[x];\n    }\n}\n</code></pre>\n\n<p>secMax wil have the second largest</p>\n"},{"tags":[],"owner":{"account_id":6615217,"reputation":6120,"user_id":5108737,"display_name":"Ruslan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550318149,"creation_date":1550318149,"answer_id":54722790,"question_id":54721094,"body_markdown":"You should use `if.. else if` structure inside your `for` loop:\r\n\r\n    for (int item : nums) {\r\n        if (item &gt; max) {\r\n            secmax = max;\r\n            max = item;\r\n        } else if (item &gt; secmax) {\r\n            secmax = item;\r\n        }\r\n    }\r\n\r\nRun time of this algorithm is O(n). There is also quite concise solution in case the array is sorted:\r\n\r\n    Arrays.sort(nums);     // Dual-Pivot Quicksort O(nlogn)\r\n    System.out.println(nums[nums.length - 1]);    // largest item\r\n    System.out.println(nums[nums.length - 2]);    // second largest item\r\n    ...\r\n\r\nYou can get any n-largest item, but in this case the run time will be O(nlogn)","title":"finding the second largest value in an array using java","body":"<p>You should use <code>if.. else if</code> structure inside your <code>for</code> loop:</p>\n\n<pre><code>for (int item : nums) {\n    if (item &gt; max) {\n        secmax = max;\n        max = item;\n    } else if (item &gt; secmax) {\n        secmax = item;\n    }\n}\n</code></pre>\n\n<p>Run time of this algorithm is O(n). There is also quite concise solution in case the array is sorted:</p>\n\n<pre><code>Arrays.sort(nums);     // Dual-Pivot Quicksort O(nlogn)\nSystem.out.println(nums[nums.length - 1]);    // largest item\nSystem.out.println(nums[nums.length - 2]);    // second largest item\n...\n</code></pre>\n\n<p>You can get any n-largest item, but in this case the run time will be O(nlogn)</p>\n"},{"tags":[],"owner":{"account_id":15624587,"reputation":1,"user_id":11272585,"display_name":"Elyzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553794877,"creation_date":1553788104,"answer_id":55401799,"question_id":54721094,"body_markdown":" 1. Initialize max and scmax(second max) with 2 first value of array\r\n 2. Then I compare the rest with max and possibly scmax. at each comparison I adjust.\r\n\r\n   \r\n\r\n```java\r\nint arr[] = {-50,10,80,78,67,86,34,276,8};\r\n        int max, scmax;\r\n        if(arr[0]&gt;=arr[1]){\r\n            max = arr[0]; scmax=arr[1];}\r\n        else{max = arr[1]; scmax=arr[0];}\r\n\r\n        for (int i = 2; i &lt; arr.length; i++) {\r\n            if (max &lt;= arr[i]) {\r\n                scmax = max;\r\n                max = arr[i];\r\n            } else if(scmax&lt;=arr[i]){ scmax = arr[i];}\r\n        }\r\n            System.out.println(&quot;max&quot;+max);\r\n         System.out.println(&quot;scmax&quot;+scmax);\r\n\r\n    \r\n    ","title":"finding the second largest value in an array using java","body":"<ol>\n<li>Initialize max and scmax(second max) with 2 first value of array</li>\n<li>Then I compare the rest with max and possibly scmax. at each comparison I adjust.</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>int arr[] = {-50,10,80,78,67,86,34,276,8};\n        int max, scmax;\n        if(arr[0]&gt;=arr[1]){\n            max = arr[0]; scmax=arr[1];}\n        else{max = arr[1]; scmax=arr[0];}\n\n        for (int i = 2; i &lt; arr.length; i++) {\n            if (max &lt;= arr[i]) {\n                scmax = max;\n                max = arr[i];\n            } else if(scmax&lt;=arr[i]){ scmax = arr[i];}\n        }\n            System.out.println(\"max\"+max);\n         System.out.println(\"scmax\"+scmax);\n\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17207557,"reputation":31,"user_id":12457781,"display_name":"Divyansh Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581000974,"creation_date":1581000974,"answer_id":60097800,"question_id":54721094,"body_markdown":"    public class Secondlargest {\r\n    public static void main(String[] args) {\r\n        int arr[]= {5,3,6,8,9,11,5,74};\r\n        List &lt;Integer&gt; array = new ArrayList&lt;Integer&gt; ();\r\n        \r\n        for(int i=0;i&lt;arr.length;i++){\r\n            if (array.isEmpty()){\r\n                array.add(arr[i]);\r\n            }\r\n            else if(array.contains(arr[i])) {\r\n            }\r\n            else{\r\n                array.add(arr[i]);\r\n            }\r\n        }\r\n        \r\n        Collections.sort(array);\r\n        System.out.println(&quot;Second Largest &quot;+ array.get(array.size()-2));\r\n    }\r\n}","title":"finding the second largest value in an array using java","body":"<pre><code>public class Secondlargest {\npublic static void main(String[] args) {\n    int arr[]= {5,3,6,8,9,11,5,74};\n    List &lt;Integer&gt; array = new ArrayList&lt;Integer&gt; ();\n\n    for(int i=0;i&lt;arr.length;i++){\n        if (array.isEmpty()){\n            array.add(arr[i]);\n        }\n        else if(array.contains(arr[i])) {\n        }\n        else{\n            array.add(arr[i]);\n        }\n    }\n\n    Collections.sort(array);\n    System.out.println(\"Second Largest \"+ array.get(array.size()-2));\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8846572,"reputation":13,"user_id":6607138,"display_name":"SujJi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624128661,"creation_date":1624128661,"answer_id":68049851,"question_id":54721094,"body_markdown":"This could be the simplest one \r\n\r\n    public static void main(String[] args) {\r\n\t\tint[] array = { 1, 2, 3, -1, -2, 4 };\r\n\t\tArrays.sort(array);\r\n\t\tSystem.out.println(array[array.length-2]);\r\n\t\t\r\n\t}","title":"finding the second largest value in an array using java","body":"<p>This could be the simplest one</p>\n<pre><code>public static void main(String[] args) {\n    int[] array = { 1, 2, 3, -1, -2, 4 };\n    Arrays.sort(array);\n    System.out.println(array[array.length-2]);\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20398931,"reputation":81,"user_id":14965133,"display_name":"Edward Abattam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641743049,"creation_date":1641743049,"answer_id":70642901,"question_id":54721094,"body_markdown":"Very easy answer using java streams\r\n\r\n    public static int secondLargestNumberInArray(Integer[] numbers) {\r\n        return Arrays.stream(numbers).sorted(Collections.reverseOrder()).skip(1).findFirst().get();\r\n    }\r\n\r\nIn case you want to use primitive method parameter\r\n\r\n    public static int secondLargestNumberInArray(int[] numbers) {\r\n        Integer[] arr = new Integer[numbers.length];\r\n        Arrays.setAll(arr, i -&gt; numbers[i]);\r\n        return Arrays.stream(arr).sorted(Collections.reverseOrder()).skip(1).findFirst().get();\r\n    }","title":"finding the second largest value in an array using java","body":"<p>Very easy answer using java streams</p>\n<pre><code>public static int secondLargestNumberInArray(Integer[] numbers) {\n    return Arrays.stream(numbers).sorted(Collections.reverseOrder()).skip(1).findFirst().get();\n}\n</code></pre>\n<p>In case you want to use primitive method parameter</p>\n<pre><code>public static int secondLargestNumberInArray(int[] numbers) {\n    Integer[] arr = new Integer[numbers.length];\n    Arrays.setAll(arr, i -&gt; numbers[i]);\n    return Arrays.stream(arr).sorted(Collections.reverseOrder()).skip(1).findFirst().get();\n}\n</code></pre>\n"}],"owner":{"account_id":14652718,"reputation":31,"user_id":10582259,"display_name":"Mohamed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10021,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54721145,"answer_count":8,"score":1,"last_activity_date":1662400619,"creation_date":1550304274,"question_id":54721094,"body_markdown":"my question is that I need to find the second largest value from my array but I am getting the same value which is equal to the first value. please help\r\n\r\n    int[] nums = { 50, 6, 60, 70, 80, 90, 9, 150, 2, 35 };\r\n    int max = 0;\r\n    int secmax = 0;\r\n    \r\n    for (int x = 0; x &lt; nums.length; x++) {\r\n        if (nums[x] &gt; max)\r\n            max = nums[x];\r\n        if (nums[x] &gt; secmax &amp;&amp; secmax != max)\r\n            secmax = nums[x];\r\n    }\r\n    \r\n    System.out.println(&quot;1st H value: &quot; + max);\r\n    System.out.println(&quot;2nd H Value: &quot; + secmax);","title":"finding the second largest value in an array using java","body":"<p>my question is that I need to find the second largest value from my array but I am getting the same value which is equal to the first value. please help</p>\n\n<pre><code>int[] nums = { 50, 6, 60, 70, 80, 90, 9, 150, 2, 35 };\nint max = 0;\nint secmax = 0;\n\nfor (int x = 0; x &lt; nums.length; x++) {\n    if (nums[x] &gt; max)\n        max = nums[x];\n    if (nums[x] &gt; secmax &amp;&amp; secmax != max)\n        secmax = nums[x];\n}\n\nSystem.out.println(\"1st H value: \" + max);\nSystem.out.println(\"2nd H Value: \" + secmax);\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1662362873,"post_id":73605599,"comment_id":129980032,"body_markdown":"You can&#39;t synchronize on `wordsInFile` if it is null. I would synchronize on `this` inside the `if (wordsInFile == null)` block. Also, if the code in your question is your actual code, then you shouldn&#39;t have an empty `catch` block.","body":"You can&#39;t synchronize on <code>wordsInFile</code> if it is null. I would synchronize on <code>this</code> inside the <code>if (wordsInFile == null)</code> block. Also, if the code in your question is your actual code, then you shouldn&#39;t have an empty <code>catch</code> block."},{"owner":{"account_id":352002,"reputation":3871,"user_id":688843,"accept_rate":87,"display_name":"Buffalo"},"score":0,"creation_date":1662363482,"post_id":73605599,"comment_id":129980219,"body_markdown":"@Abra - thanks. It&#39;s simplified production code that&#39;s used in a million places, I would have to handle the exception in all those places if I were to properly throw that exception. But again it&#39;s a static file and if parsing *does* fail, something is seriously wrong anyway and handling it wouldn&#39;t matter.","body":"@Abra - thanks. It&#39;s simplified production code that&#39;s used in a million places, I would have to handle the exception in all those places if I were to properly throw that exception. But again it&#39;s a static file and if parsing <i>does</i> fail, something is seriously wrong anyway and handling it wouldn&#39;t matter."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662363689,"post_id":73605599,"comment_id":129980280,"body_markdown":"I&#39;m curious, why not *only* reduce the size of the block, and use `synchronized(this)`? Why also switch the object being synchronized on? If you have code that currently relies on being able to synchronize on this specific object, you break that API.","body":"I&#39;m curious, why not <i>only</i> reduce the size of the block, and use <code>synchronized(this)</code>? Why also switch the object being synchronized on? If you have code that currently relies on being able to synchronize on this specific object, you break that API."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1662363702,"post_id":73605599,"comment_id":129980287,"body_markdown":"_if parsing does fail, something is seriously wrong_ Then shouldn&#39;t the program terminate? Ignoring the exception means that your program will continue to run as if the parsing did not fail.","body":"<i>if parsing does fail, something is seriously wrong</i> Then shouldn&#39;t the program terminate? Ignoring the exception means that your program will continue to run as if the parsing did not fail."},{"owner":{"account_id":352002,"reputation":3871,"user_id":688843,"accept_rate":87,"display_name":"Buffalo"},"score":0,"creation_date":1662364115,"post_id":73605599,"comment_id":129980425,"body_markdown":"@MarkRotteveel what do you mean? reduce the size of the synchronized block?","body":"@MarkRotteveel what do you mean? reduce the size of the synchronized block?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662364243,"post_id":73605599,"comment_id":129980468,"body_markdown":"A `synchronized` in the method declaration is equivalent to a `synchronized(this)` block around all the code of the method. Your example code reduces that block to a part of the code and also switches the object being synchronized on. Why not only reduce the size of the block, why also switch the monitor object?","body":"A <code>synchronized</code> in the method declaration is equivalent to a <code>synchronized(this)</code> block around all the code of the method. Your example code reduces that block to a part of the code and also switches the object being synchronized on. Why not only reduce the size of the block, why also switch the monitor object?"},{"owner":{"account_id":352002,"reputation":3871,"user_id":688843,"accept_rate":87,"display_name":"Buffalo"},"score":0,"creation_date":1662365848,"post_id":73605599,"comment_id":129980996,"body_markdown":"It isn&#39;t around the whole method, just around the if (null). What does &quot;switch the monitor object&quot; mean?","body":"It isn&#39;t around the whole method, just around the if (null). What does &quot;switch the monitor object&quot; mean?"}],"answers":[{"tags":[],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662365156,"creation_date":1662364766,"answer_id":73606210,"question_id":73605599,"body_markdown":"I would solve this with an inner &quot;holder&quot; class, where the Set is immutable once loaded. Do the loading in the constructor of that class, and create the class lazily, synchronizing on the holder.\r\n\r\nImmutable objects don&#39;t need to be synchronized across threads.\r\n\r\n    import org.apache.commons.io.IOUtils;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Collections;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    public class WordFinder {\r\n    \r\n        private static class DictionaryHolder {\r\n            private final Set&lt;String&gt; words;\r\n            private DictionaryHolder() {\r\n                System.out.println( &quot;Loading words...&quot; );\r\n                Set&lt;String&gt; loaded = new HashSet&lt;&gt;();\r\n                try( InputStream in = WordFinder.class.getResourceAsStream( &quot;words.txt&quot; ) ) {\r\n                    loaded.addAll( IOUtils.readLines( in, StandardCharsets.UTF_8 ) );\r\n                } catch( IOException ioe ) {\r\n                    throw new RuntimeException( ioe );\r\n                }\r\n                this.words = Collections.unmodifiableSet(loaded);\r\n                System.out.println( &quot;Words loaded...&quot; );\r\n            }\r\n        }\r\n    \r\n        private static DictionaryHolder dictionary = null;\r\n    \r\n        private static void justDoSomething() {\r\n            System.out.println( &quot;Doing something...&quot; );\r\n        }\r\n    \r\n        private static boolean IsFound(String word) {\r\n            synchronized( DictionaryHolder.class ) {\r\n                if(dictionary == null) {\r\n                    dictionary = new DictionaryHolder();\r\n                }\r\n            }\r\n            System.out.println( &quot;Checking word &quot; + word + &quot;...&quot; );\r\n            return dictionary.words.contains( word );\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            WordFinder.justDoSomething();\r\n            WordFinder.IsFound( &quot;foo&quot; );\r\n            WordFinder.IsFound( &quot;bar&quot; );\r\n        }\r\n    }","title":"How to properly null check/lazy load","body":"<p>I would solve this with an inner &quot;holder&quot; class, where the Set is immutable once loaded. Do the loading in the constructor of that class, and create the class lazily, synchronizing on the holder.</p>\n<p>Immutable objects don't need to be synchronized across threads.</p>\n<pre><code>import org.apache.commons.io.IOUtils;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Collections;\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class WordFinder {\n\n    private static class DictionaryHolder {\n        private final Set&lt;String&gt; words;\n        private DictionaryHolder() {\n            System.out.println( &quot;Loading words...&quot; );\n            Set&lt;String&gt; loaded = new HashSet&lt;&gt;();\n            try( InputStream in = WordFinder.class.getResourceAsStream( &quot;words.txt&quot; ) ) {\n                loaded.addAll( IOUtils.readLines( in, StandardCharsets.UTF_8 ) );\n            } catch( IOException ioe ) {\n                throw new RuntimeException( ioe );\n            }\n            this.words = Collections.unmodifiableSet(loaded);\n            System.out.println( &quot;Words loaded...&quot; );\n        }\n    }\n\n    private static DictionaryHolder dictionary = null;\n\n    private static void justDoSomething() {\n        System.out.println( &quot;Doing something...&quot; );\n    }\n\n    private static boolean IsFound(String word) {\n        synchronized( DictionaryHolder.class ) {\n            if(dictionary == null) {\n                dictionary = new DictionaryHolder();\n            }\n        }\n        System.out.println( &quot;Checking word &quot; + word + &quot;...&quot; );\n        return dictionary.words.contains( word );\n    }\n\n    public static void main(String[] args) {\n        WordFinder.justDoSomething();\n        WordFinder.IsFound( &quot;foo&quot; );\n        WordFinder.IsFound( &quot;bar&quot; );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662400344,"creation_date":1662369393,"answer_id":73607069,"question_id":73605599,"body_markdown":"This is a variant of @Stewart answer. You can handle lazy load without `synchronize` by making use of class loader for `DictionaryHolder`. This works because JVM won&#39;t execute the static initialiser of a class multiple times if two threads called methods of that class at same time:\r\n\r\n    public class WordFinder {\r\n        private static class DictionaryHolder {\r\n            private static final Set&lt;String&gt; words;\r\n            static {\r\n                System.out.println( &quot;Loading words...&quot; );\r\n                words = Set.of(&quot;hello&quot;,&quot;world&quot;);\r\n                //words = yourLoadCode();\r\n                System.out.println( &quot;Words loaded...&quot; );\r\n            }\r\n    \r\n            public static Set&lt;String&gt; dictionary() {\r\n                return words;\r\n            }\r\n        }\r\n    \r\n        private static void justDoSomething() {\r\n            System.out.println( &quot;Doing something...&quot; );\r\n        }\r\n    \r\n        private static boolean IsFound(String word) {\r\n            System.out.println( &quot;Checking word &quot; + word + &quot;...&quot; );\r\n            return DictionaryHolder.dictionary().contains( word );\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            WordFinder.justDoSomething();\r\n            WordFinder.IsFound( &quot;foo&quot; );\r\n            WordFinder.IsFound( &quot;hello&quot; );\r\n        }\r\n    }\r\n\r\nNote that the lazy loading class `DictionaryHolder` does not have to be an inner class, it can be declared in any package outside. The above prints lines below confirming the lazy load on first call to `IsFound(&quot;foo&quot;)`:\r\n\r\n    Doing something...\r\n    Checking word foo...\r\n    Loading words...\r\n    Words loaded...\r\n    Checking word hello...\r\n\r\nIt&#39;s never a good idea to suppress exceptions. If you think `throws IOException` is inappropriate, catch and re-throw as `new RuntimeException(previousException)` so that callers are alerted to issues.\r\n","title":"How to properly null check/lazy load","body":"<p>This is a variant of @Stewart answer. You can handle lazy load without <code>synchronize</code> by making use of class loader for <code>DictionaryHolder</code>. This works because JVM won't execute the static initialiser of a class multiple times if two threads called methods of that class at same time:</p>\n<pre><code>public class WordFinder {\n    private static class DictionaryHolder {\n        private static final Set&lt;String&gt; words;\n        static {\n            System.out.println( &quot;Loading words...&quot; );\n            words = Set.of(&quot;hello&quot;,&quot;world&quot;);\n            //words = yourLoadCode();\n            System.out.println( &quot;Words loaded...&quot; );\n        }\n\n        public static Set&lt;String&gt; dictionary() {\n            return words;\n        }\n    }\n\n    private static void justDoSomething() {\n        System.out.println( &quot;Doing something...&quot; );\n    }\n\n    private static boolean IsFound(String word) {\n        System.out.println( &quot;Checking word &quot; + word + &quot;...&quot; );\n        return DictionaryHolder.dictionary().contains( word );\n    }\n\n    public static void main(String[] args) {\n        WordFinder.justDoSomething();\n        WordFinder.IsFound( &quot;foo&quot; );\n        WordFinder.IsFound( &quot;hello&quot; );\n    }\n}\n</code></pre>\n<p>Note that the lazy loading class <code>DictionaryHolder</code> does not have to be an inner class, it can be declared in any package outside. The above prints lines below confirming the lazy load on first call to <code>IsFound(&quot;foo&quot;)</code>:</p>\n<pre><code>Doing something...\nChecking word foo...\nLoading words...\nWords loaded...\nChecking word hello...\n</code></pre>\n<p>It's never a good idea to suppress exceptions. If you think <code>throws IOException</code> is inappropriate, catch and re-throw as <code>new RuntimeException(previousException)</code> so that callers are alerted to issues.</p>\n"}],"owner":{"account_id":352002,"reputation":3871,"user_id":688843,"accept_rate":87,"display_name":"Buffalo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73607069,"answer_count":2,"score":0,"last_activity_date":1662400344,"creation_date":1662361330,"question_id":73605599,"body_markdown":"I have a resource file that I load, when needed, to check if a certain word is among the ones in the file. \r\n\r\nI want to get rid of the method-wide synchronized keyword. There&#39;s no point in all threads waiting while `wordsInFile.contains(word.toLowerCase());` runs.\r\n\r\nOriginal: \r\n\r\n\tprivate Set&lt;String&gt; wordsInFile = new HashSet&lt;String&gt;;\r\n    private static synchronized boolean IsFound(String word)\r\n    {\r\n      if (word == null)\r\n      {\r\n        return false;\r\n      }\r\n    \r\n      if (wordsInFile.isEmpty())\r\n      {\r\n        wordsInFile = new HashSet&lt;String&gt;();\r\n    \r\n        InputStream inputStream = WebUtils.class.getClassLoader().getResourceAsStream(&quot;words.txt&quot;);\r\n        InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\r\n    \r\n        try (BufferedReader bufferedReader = new BufferedReader(inputStreamReader))\r\n        {\r\n          String line = bufferedReader.readLine();\r\n          while (line != null)\r\n          {\r\n            wordsInFile.add(line);\r\n            line = bufferedReader.readLine(); // they&#39;re all lowercase\r\n          }\r\n        }\r\n        catch (Exception aEx)\r\n        {\r\n          ;\r\n        }\r\n      }\r\n    \r\n      return wordsInFile.contains(word.toLowerCase());\r\n    }\r\n\r\nIs this OK?\r\n\r\n\tprivate Set&lt;String&gt; wordsInFile;\r\n    private static boolean IsFound(String word)\r\n    {\r\n      if (word == null)\r\n      {\r\n        return false;\r\n      }\r\n    \r\n\t  synchronized (wordsInFile)\r\n\t  {\r\n        if (wordsInFile.isEmpty())\r\n        {\r\n          wordsInFile = new HashSet&lt;String&gt;();\r\n        \r\n          InputStream inputStream = WebUtils.class.getClassLoader().getResourceAsStream(&quot;words.txt&quot;);\r\n          InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\r\n        \r\n          try (BufferedReader bufferedReader = new BufferedReader(inputStreamReader))\r\n          {\r\n            String line = bufferedReader.readLine();\r\n            while (line != null)\r\n            {\r\n              wordsInFile.add(line);\r\n              line = bufferedReader.readLine(); // they&#39;re all lowercase\r\n            }\r\n          }\r\n          catch (Exception aEx)\r\n          {\r\n            ;\r\n          }\r\n        }\r\n\t  }\r\n    \r\n      return wordsInFile.contains(word.toLowerCase());\r\n    }","title":"How to properly null check/lazy load","body":"<p>I have a resource file that I load, when needed, to check if a certain word is among the ones in the file.</p>\n<p>I want to get rid of the method-wide synchronized keyword. There's no point in all threads waiting while <code>wordsInFile.contains(word.toLowerCase());</code> runs.</p>\n<p>Original:</p>\n<pre><code>private Set&lt;String&gt; wordsInFile = new HashSet&lt;String&gt;;\nprivate static synchronized boolean IsFound(String word)\n{\n  if (word == null)\n  {\n    return false;\n  }\n\n  if (wordsInFile.isEmpty())\n  {\n    wordsInFile = new HashSet&lt;String&gt;();\n\n    InputStream inputStream = WebUtils.class.getClassLoader().getResourceAsStream(&quot;words.txt&quot;);\n    InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\n\n    try (BufferedReader bufferedReader = new BufferedReader(inputStreamReader))\n    {\n      String line = bufferedReader.readLine();\n      while (line != null)\n      {\n        wordsInFile.add(line);\n        line = bufferedReader.readLine(); // they're all lowercase\n      }\n    }\n    catch (Exception aEx)\n    {\n      ;\n    }\n  }\n\n  return wordsInFile.contains(word.toLowerCase());\n}\n</code></pre>\n<p>Is this OK?</p>\n<pre><code>private Set&lt;String&gt; wordsInFile;\nprivate static boolean IsFound(String word)\n{\n  if (word == null)\n  {\n    return false;\n  }\n\n  synchronized (wordsInFile)\n  {\n    if (wordsInFile.isEmpty())\n    {\n      wordsInFile = new HashSet&lt;String&gt;();\n    \n      InputStream inputStream = WebUtils.class.getClassLoader().getResourceAsStream(&quot;words.txt&quot;);\n      InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\n    \n      try (BufferedReader bufferedReader = new BufferedReader(inputStreamReader))\n      {\n        String line = bufferedReader.readLine();\n        while (line != null)\n        {\n          wordsInFile.add(line);\n          line = bufferedReader.readLine(); // they're all lowercase\n        }\n      }\n      catch (Exception aEx)\n      {\n        ;\n      }\n    }\n  }\n\n  return wordsInFile.contains(word.toLowerCase());\n}\n</code></pre>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1545218696,"post_id":53844333,"comment_id":94547837,"body_markdown":"Figure out what its `$JAVA_HOME` is (it will be fixed for a given base image) and copy or patch the file in your `Dockerfile`.","body":"Figure out what its <code>$JAVA_HOME</code> is (it will be fixed for a given base image) and copy or patch the file in your <code>Dockerfile</code>."}],"answers":[{"tags":[],"owner":{"account_id":31795,"reputation":326,"user_id":87622,"display_name":"Finbaz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570198952,"creation_date":1570198952,"answer_id":58238273,"question_id":53844333,"body_markdown":"Add it to the Dockefile like so:\r\n\r\n```sh\r\nFROM openjdk:8-jre-alpine\r\n\r\nADD path/to/project/java.security ${JAVA_HOME}/lib/security/\r\n```","title":"Add security property to OPENJDK docker configuration","body":"<p>Add it to the Dockefile like so:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>FROM openjdk:8-jre-alpine\n\nADD path/to/project/java.security ${JAVA_HOME}/lib/security/\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17432086"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662400063,"creation_date":1662400063,"answer_id":73613064,"question_id":53844333,"body_markdown":"I had a project where the database was an old SQL Server which used TLS1.0 and in Java 17 it is disabled by default since it&#39;s no longer considered safe. I modified the `java.security` file on my machine to accept TLS1.0 and then pulled the `openjdk:17` image to create a docker container with the same version of Java (or at least a compatible one). My Dockerfile looks like this: \r\n\r\n    FROM openjdk:17\r\n    WORKDIR /\r\n    ADD backend.jar backend.jar\r\n    ADD java.security usr/java/openjdk-17/conf/security/\r\n    EXPOSE 8080\r\n    CMD java -jar backend.jar\r\n\r\nI took the modified `java.security` file that accepted TLS1.0 and overrided the one in the container. After that this was shown in the console `TLSv1 was negotiated. Please update server and client to use TLSv1.2 at minimum.` which means that the connection was done and the application started successfully.","title":"Add security property to OPENJDK docker configuration","body":"<p>I had a project where the database was an old SQL Server which used TLS1.0 and in Java 17 it is disabled by default since it's no longer considered safe. I modified the <code>java.security</code> file on my machine to accept TLS1.0 and then pulled the <code>openjdk:17</code> image to create a docker container with the same version of Java (or at least a compatible one). My Dockerfile looks like this:</p>\n<pre><code>FROM openjdk:17\nWORKDIR /\nADD backend.jar backend.jar\nADD java.security usr/java/openjdk-17/conf/security/\nEXPOSE 8080\nCMD java -jar backend.jar\n</code></pre>\n<p>I took the modified <code>java.security</code> file that accepted TLS1.0 and overrided the one in the container. After that this was shown in the console <code>TLSv1 was negotiated. Please update server and client to use TLSv1.2 at minimum.</code> which means that the connection was done and the application started successfully.</p>\n"}],"owner":{"account_id":14638223,"reputation":122,"user_id":10571660,"display_name":"Arun Cherla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3681,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1662400063,"creation_date":1545191445,"question_id":53844333,"body_markdown":"I am trying to disable TLS 1 and 1.1 in my docker instances along with disabling several algorithms for security purposes.  However I am trying to figure out how to add the below to properties to the /java/security folder of an alpine OPENJDK docker image? \r\n\r\njdk.certpath.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 2048\r\njdk.tls.disabledAlgorithms=SSLv3, RC4, TLSv1, DESede, DES, MD5, TLSv1.1, DH keySize &lt; 2048 \r\n\r\n\r\nAbove are the two properties I would normally add to my JAVA_HOME/java/security properties file to disable the algorithms and TLS versions through a non-dockerized approach.  But how would I pass this to the AlpineOPENJDK container I am deploying my java app in?  \r\n","title":"Add security property to OPENJDK docker configuration","body":"<p>I am trying to disable TLS 1 and 1.1 in my docker instances along with disabling several algorithms for security purposes.  However I am trying to figure out how to add the below to properties to the /java/security folder of an alpine OPENJDK docker image? </p>\n\n<p>jdk.certpath.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 2048\njdk.tls.disabledAlgorithms=SSLv3, RC4, TLSv1, DESede, DES, MD5, TLSv1.1, DH keySize &lt; 2048 </p>\n\n<p>Above are the two properties I would normally add to my JAVA_HOME/java/security properties file to disable the algorithms and TLS versions through a non-dockerized approach.  But how would I pass this to the AlpineOPENJDK container I am deploying my java app in?  </p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7097254,"reputation":4695,"user_id":5430306,"display_name":"Rafsanjani"},"score":0,"creation_date":1648728001,"post_id":71692020,"comment_id":126701222,"body_markdown":"What are you trying to do with the real path of the image? For security reasons you are prevented from getting an absolute path to files in newer android APIs","body":"What are you trying to do with the real path of the image? For security reasons you are prevented from getting an absolute path to files in newer android APIs"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648728027,"post_id":71692020,"comment_id":126701230,"body_markdown":"Very well. You should not try to get &#39;a real path&#39;. You have a nice content scheme uri. You can use it for all file actions.","body":"Very well. You should not try to get &#39;a real path&#39;. You have a nice content scheme uri. You can use it for all file actions."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648728450,"post_id":71692020,"comment_id":126701393,"body_markdown":"@Rafsanjani, Has nothing to do with security. If you do it right you will get a nice file system path. The path will be correct but not usable as the app will not have a read permission for it. Hence trying to get &#39;a real path&#39; is useless. Thats all.","body":"@Rafsanjani, Has nothing to do with security. If you do it right you will get a nice file system path. The path will be correct but not usable as the app will not have a read permission for it. Hence trying to get &#39;a real path&#39; is useless. Thats all."}],"answers":[{"tags":[],"owner":{"account_id":24467221,"reputation":1,"user_id":18387410,"display_name":"Aniket Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662399511,"creation_date":1662399511,"answer_id":73612974,"question_id":71692020,"body_markdown":"Try this it didn&#39;t work for me but you can try [Get filename and path from URI from mediastore](https://stackoverflow.com/a/3414749/18387410) as it has apparently worked for many people&#39;s. If you still get null you can do what I have done.\r\n\r\nI tried many ways but I was still getting the result null. basically, I am trying to upload an image from local storage compress it, and used the compressed image.\r\n\r\n    val path = this.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS)`try {\r\n                            val file = File(path, &quot;/Image&quot;)\r\n                            file.mkdirs()\r\n                            val image = File(file.absolutePath, &quot;image1.jpeg&quot;)\r\n                            intent1.data = image.absolutePath.toUri()\r\n                            val bitmap = BitmapFactory.decodeStream(this.contentResolver.openInputStream(uri))\r\n                            val array = ByteArrayOutputStream()\r\n                            val out =  FileOutputStream(image)\r\n                            bitmap.compress(Bitmap.CompressFormat.JPEG, 70,out)\r\n                            out.flush()\r\n                            out.close()\r\n                            Log.d(&quot;Path&quot;, image.absolutePath)\r\n                        } catch (e: Exception) {\r\n                            e.printStackTrace()\r\n                        }`","title":"Unable to get Image real path from image uri in android","body":"<p>Try this it didn't work for me but you can try <a href=\"https://stackoverflow.com/a/3414749/18387410\">Get filename and path from URI from mediastore</a> as it has apparently worked for many people's. If you still get null you can do what I have done.</p>\n<p>I tried many ways but I was still getting the result null. basically, I am trying to upload an image from local storage compress it, and used the compressed image.</p>\n<pre><code>val path = this.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS)`try {\n                        val file = File(path, &quot;/Image&quot;)\n                        file.mkdirs()\n                        val image = File(file.absolutePath, &quot;image1.jpeg&quot;)\n                        intent1.data = image.absolutePath.toUri()\n                        val bitmap = BitmapFactory.decodeStream(this.contentResolver.openInputStream(uri))\n                        val array = ByteArrayOutputStream()\n                        val out =  FileOutputStream(image)\n                        bitmap.compress(Bitmap.CompressFormat.JPEG, 70,out)\n                        out.flush()\n                        out.close()\n                        Log.d(&quot;Path&quot;, image.absolutePath)\n                    } catch (e: Exception) {\n                        e.printStackTrace()\n                    }`\n</code></pre>\n"}],"owner":{"account_id":17618745,"reputation":116,"user_id":12785217,"display_name":"Moeez Atlas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662399511,"creation_date":1648727684,"question_id":71692020,"body_markdown":"I am trying to the get the real path of my image from its uri but getting null in return as path. I am using the following referenced code to get the real path.\r\n\r\n```https://gist.github.com/tatocaster/32aad15f6e0c50311626```\r\n\r\nSample Image Uri: **content://com.android.providers.media.documents/document/image%3A102173**\r\n\r\nReturned Real Path: **null**","title":"Unable to get Image real path from image uri in android","body":"<p>I am trying to the get the real path of my image from its uri but getting null in return as path. I am using the following referenced code to get the real path.</p>\n<p><code>https://gist.github.com/tatocaster/32aad15f6e0c50311626</code></p>\n<p>Sample Image Uri: <strong>content://com.android.providers.media.documents/document/image%3A102173</strong></p>\n<p>Returned Real Path: <strong>null</strong></p>\n"},{"tags":["java","datetime","format","simpledateformat","utc"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1662374973,"post_id":73608004,"comment_id":129984043,"body_markdown":"You should go with `ZonedDateTime` with your zone, even if further on one uses Date. Then it will also go right in the winter. UTC time in the database is best, for such thing as NOW.","body":"You should go with <code>ZonedDateTime</code> with your zone, even if further on one uses Date. Then it will also go right in the winter. UTC time in the database is best, for such thing as NOW."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1662376823,"post_id":73608004,"comment_id":129984670,"body_markdown":"Welcome to Stack Overflow. Which database engine and which data type for the time in the database? Using JDBC or JPA or something else for storing and retrieving the time? It’s best to give us a [mre], please, so we can reproduce and understand what goes wrong.","body":"Welcome to Stack Overflow. Which database engine and which data type for the time in the database? Using JDBC or JPA or something else for storing and retrieving the time? It’s best to give us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please, so we can reproduce and understand what goes wrong."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1662376926,"post_id":73608004,"comment_id":129984706,"body_markdown":"You should probably use an `OffsetDateTime` in UTC for storing and retrieving and then convert to and from your own time zone in Java code. You definitely should not use neither `Date` nor `SimpleDateFormat` since they are troublesome and long outdated.","body":"You should probably use an <code>OffsetDateTime</code> in UTC for storing and retrieving and then convert to and from your own time zone in Java code. You definitely should not use neither <code>Date</code> nor <code>SimpleDateFormat</code> since they are troublesome and long outdated."},{"owner":{"account_id":21448695,"reputation":1,"user_id":15801610,"display_name":"Zanfo96"},"score":0,"creation_date":1662389555,"post_id":73608004,"comment_id":129989469,"body_markdown":"Thanks everyone in the first place. We&#39;re using JDBC connector. I red on the internet that Date object is outdated, but not much I can do for that :D I have to stick with it.\n\nI &quot;solved&quot; with a trick the problem by setting pattern to `yyyy-MM-dd&#39;T&#39;hh:mm:ss+00:00` but I guess it&#39;s not a best practice. I&#39;m definitely checking rn for ZonedDateTime and OffsetDateTime","body":"Thanks everyone in the first place. We&#39;re using JDBC connector. I red on the internet that Date object is outdated, but not much I can do for that :D I have to stick with it.  I &quot;solved&quot; with a trick the problem by setting pattern to <code>yyyy-MM-dd&#39;T&#39;hh:mm:ss+00:00</code> but I guess it&#39;s not a best practice. I&#39;m definitely checking rn for ZonedDateTime and OffsetDateTime"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1662402841,"post_id":73608004,"comment_id":129993332,"body_markdown":"If you cannot avoid getting an old-fashioned `Date` from a legacy API, convert it to `OffsetDateTime` using `yourOldfashionedDate.toInstant.atOffset(ZoneOffset.UTC)`. If you indispensably need a `Date` for a legacy API, convert the `OffsetDateTime` you got from JDBC using `Date.from(offsetDateTimeFromDatabase.toInstant())`. This will prevent your `Date` from being two hours off the way you described. And don’t transfer your date and time as text to nor from the database. Always use proper date-time objects like `OffsetDateTime`. See the answer.","body":"If you cannot avoid getting an old-fashioned <code>Date</code> from a legacy API, convert it to <code>OffsetDateTime</code> using <code>yourOldfashionedDate.toInstant.atOffset(ZoneOffset.UTC)</code>. If you indispensably need a <code>Date</code> for a legacy API, convert the <code>OffsetDateTime</code> you got from JDBC using <code>Date.from(offsetDateTimeFromDatabase.toInstant())</code>. This will prevent your <code>Date</code> from being two hours off the way you described. And don’t transfer your date and time as text to nor from the database. Always use proper date-time objects like <code>OffsetDateTime</code>. See the answer."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662399203,"creation_date":1662398031,"answer_id":73612750,"question_id":73608004,"body_markdown":"# Avoid legacy classes\r\n\r\nYou are using terrible legacy date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\n# *java.time*\r\n\r\nStore your moment in a database column of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`. Do *not* use a column of a type akin to `TIMESTAMP WITHOUT TIME ZONE`.\r\n\r\nUse `OffsetDateTime` class in Java with JDBC 4.2+.\r\n\r\nWriting.\r\n\r\n    myPreparedStatement.setObject( … , OffsetDateTime.now( ZoneOffset.UTC ) ) ; \r\n\r\nReading.\r\n\r\n    OffsetDateTime odt = myResultSet( … , OffsetDateTime.class ) ;\r\n\r\nCalculate elapsed time.\r\n\r\n    Duration d = Duration.between( odt.toInstant() , Instant.now() ) ;\r\n\r\nAdjust to your desired time zone.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Europe/Berlin&quot; ) ;\r\n    ZonedDateTime zdt = odt.atZoneSameInstant( z ) ;\r\n\r\nGenerate text for presentation to the user.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( … ) ;\r\n    String output = zdt.format( f ) ;\r\n\r\nAll this has been covered many times already on Stack Overflow. Search to learn more.","title":"How to format time in UTC when reading from DB","body":"<h1>Avoid legacy classes</h1>\n<p>You are using terrible legacy date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h1><em>java.time</em></h1>\n<p>Store your moment in a database column of a type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>. Do <em>not</em> use a column of a type akin to <code>TIMESTAMP WITHOUT TIME ZONE</code>.</p>\n<p>Use <code>OffsetDateTime</code> class in Java with JDBC 4.2+.</p>\n<p>Writing.</p>\n<pre><code>myPreparedStatement.setObject( … , OffsetDateTime.now( ZoneOffset.UTC ) ) ; \n</code></pre>\n<p>Reading.</p>\n<pre><code>OffsetDateTime odt = myResultSet( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>Calculate elapsed time.</p>\n<pre><code>Duration d = Duration.between( odt.toInstant() , Instant.now() ) ;\n</code></pre>\n<p>Adjust to your desired time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Europe/Berlin&quot; ) ;\nZonedDateTime zdt = odt.atZoneSameInstant( z ) ;\n</code></pre>\n<p>Generate text for presentation to the user.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( … ) ;\nString output = zdt.format( f ) ;\n</code></pre>\n<p>All this has been covered many times already on Stack Overflow. Search to learn more.</p>\n"}],"owner":{"account_id":21448695,"reputation":1,"user_id":15801610,"display_name":"Zanfo96"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662399203,"creation_date":1662374050,"question_id":73608004,"body_markdown":"I&#39;m trying to solve a small bug involving date and time format.\r\n\r\nIn my application (Lang: Java) I can receive some notifications. Some of them show a card, which is reporting how much time ago it was generated. In database I have a table taking care of storing this notifications logs (with, of course, generation time in UTC).\r\n\r\nNow I live in a timezone +02:00 from GMT timezone.\r\n\r\nIf I generate a notification NOW, generation time of notification gets stored in database with correct date and a time which is 2 hours before my actual generation time (correct since we store date and time in UTC format, respecting conventions).\r\n\r\nBy the way, reading notification after processing (I can either check it on the UI or call an endpoint which is returning notifications specs in JSON), I do see that notification was generated 2 hours ago (which is wrong, because I generated it a couple of seconds ago). \r\n\r\nI red a lot of documentation about datetime format and I&#39;m aware of SimpleDateFormat and parsing dates. In fact, we&#39;re using a SimpleDateFormat in order to format those dates stored in DB.\r\n\r\nCurrently, SimpleDateFormat sdf object has this pattern: `yyyy-MM-dd&#39;T&#39;HH:mm:ss` and with that, time format is wrong. I tried adding a Z, but output is then `yyyy-MM-dd&#39;T&#39;HH:mm:ss+02:00` which is also wrong, because time red from DB should be `yyyy-MM-dd&#39;T&#39;HH:mm:ss+00:00`.\r\n\r\nWith pattern `yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX` I also get `+02:00`. I don&#39;t really know how to get a `+00:00`. Do you know how I could solve this issue? Thanks a lot!\r\n\r\nEdit: Java utils Date object is used","title":"How to format time in UTC when reading from DB","body":"<p>I'm trying to solve a small bug involving date and time format.</p>\n<p>In my application (Lang: Java) I can receive some notifications. Some of them show a card, which is reporting how much time ago it was generated. In database I have a table taking care of storing this notifications logs (with, of course, generation time in UTC).</p>\n<p>Now I live in a timezone +02:00 from GMT timezone.</p>\n<p>If I generate a notification NOW, generation time of notification gets stored in database with correct date and a time which is 2 hours before my actual generation time (correct since we store date and time in UTC format, respecting conventions).</p>\n<p>By the way, reading notification after processing (I can either check it on the UI or call an endpoint which is returning notifications specs in JSON), I do see that notification was generated 2 hours ago (which is wrong, because I generated it a couple of seconds ago).</p>\n<p>I red a lot of documentation about datetime format and I'm aware of SimpleDateFormat and parsing dates. In fact, we're using a SimpleDateFormat in order to format those dates stored in DB.</p>\n<p>Currently, SimpleDateFormat sdf object has this pattern: <code>yyyy-MM-dd'T'HH:mm:ss</code> and with that, time format is wrong. I tried adding a Z, but output is then <code>yyyy-MM-dd'T'HH:mm:ss+02:00</code> which is also wrong, because time red from DB should be <code>yyyy-MM-dd'T'HH:mm:ss+00:00</code>.</p>\n<p>With pattern <code>yyyy-MM-dd'T'HH:mm:ssXXX</code> I also get <code>+02:00</code>. I don't really know how to get a <code>+00:00</code>. Do you know how I could solve this issue? Thanks a lot!</p>\n<p>Edit: Java utils Date object is used</p>\n"},{"tags":["java","android","arrays","list","opencv"],"comments":[{"owner":{"account_id":2517825,"reputation":476,"user_id":2188822,"display_name":"Lemonov"},"score":0,"creation_date":1499152591,"post_id":44899290,"comment_id":76776056,"body_markdown":"And what seems to be the issue?","body":"And what seems to be the issue?"},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1499152636,"post_id":44899290,"comment_id":76776093,"body_markdown":"why not a list of lists?","body":"why not a list of lists?"}],"answers":[{"tags":[],"owner":{"account_id":10018228,"reputation":364,"user_id":7408765,"display_name":"Ted Cassirer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1499152736,"creation_date":1499152736,"answer_id":44899411,"question_id":44899290,"body_markdown":"It&#39;s probably better to just use a list of list. But you can do something like this:\r\n\r\n    List&lt;MatOfPoint&gt;[] questions = (ArrayList&lt;MatOfPoint&gt;[]) new ArrayList[n];","title":"List of &lt;MatofPoints&gt; array in Android","body":"<p>It's probably better to just use a list of list. But you can do something like this:</p>\n\n<pre><code>List&lt;MatOfPoint&gt;[] questions = (ArrayList&lt;MatOfPoint&gt;[]) new ArrayList[n];\n</code></pre>\n"}],"owner":{"account_id":10301357,"reputation":51,"user_id":7600008,"accept_rate":83,"display_name":"Abhishek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44899411,"answer_count":1,"score":0,"last_activity_date":1662398725,"creation_date":1499152369,"question_id":44899290,"body_markdown":"I am creating OMR scanner in java.\r\nI have List of &lt;MatofPoints&gt; which contains contours from image. \r\ni want to create array of List&lt;MatofPoints&gt;. how can i accomplish it?\r\n\r\n\r\nthis is what i have right now\r\n\r\n    List&lt;MatOfPoint&gt; questions = new ArrayList&lt;MatOfPoint&gt;();\r\n\r\nWhat i want to do is\r\n\r\n    List&lt;MatOfPoint&gt;[] questions = new ArrayList&lt;MatOfPoint&gt;[];\r\n\r\nso that i can store array of countours() for each question.\r\nLike\r\n\r\n[1] contour1,contour2,contour3,contour4,contour5\r\n\r\n[2] contour1,contour2,contour3,contour4,contour5\r\n\r\n[3] contour1,contour2,contour3,contour4,contour5\r\n\r\n...............................","title":"List of &lt;MatofPoints&gt; array in Android","body":"<p>I am creating OMR scanner in java.\nI have List of  which contains contours from image. \ni want to create array of List. how can i accomplish it?</p>\n\n<p>this is what i have right now</p>\n\n<pre><code>List&lt;MatOfPoint&gt; questions = new ArrayList&lt;MatOfPoint&gt;();\n</code></pre>\n\n<p>What i want to do is</p>\n\n<pre><code>List&lt;MatOfPoint&gt;[] questions = new ArrayList&lt;MatOfPoint&gt;[];\n</code></pre>\n\n<p>so that i can store array of countours() for each question.\nLike</p>\n\n<p>[1] contour1,contour2,contour3,contour4,contour5</p>\n\n<p>[2] contour1,contour2,contour3,contour4,contour5</p>\n\n<p>[3] contour1,contour2,contour3,contour4,contour5</p>\n\n<p>...............................</p>\n"},{"tags":["java","android","opencv","face-detection"],"comments":[{"owner":{"account_id":2014628,"reputation":3559,"user_id":1802221,"accept_rate":60,"display_name":"Rishikesh Dhokare"},"score":0,"creation_date":1533639314,"post_id":51724949,"comment_id":90410305,"body_markdown":"what is `javah`, shouldn&#39;t it be `java`??????","body":"what is <code>javah</code>, shouldn&#39;t it be <code>java</code>??????"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1533639435,"post_id":51724949,"comment_id":90410371,"body_markdown":"@RishikeshDhokare no, javah is an existing command","body":"@RishikeshDhokare no, javah is an existing command"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1533639448,"post_id":51724949,"comment_id":90410383,"body_markdown":"@DoctorWho what result does java -version get you?","body":"@DoctorWho what result does java -version get you?"},{"owner":{"account_id":14107785,"reputation":1062,"user_id":10191400,"display_name":"DoctorWho"},"score":0,"creation_date":1533642311,"post_id":51724949,"comment_id":90412148,"body_markdown":"@Stultuske I have the same result: &#39;java&#39; is not recognized as an internal or external command","body":"@Stultuske I have the same result: &#39;java&#39; is not recognized as an internal or external command"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1533642492,"post_id":51724949,"comment_id":90412270,"body_markdown":"so your java installation is not on your path. you&#39;ll need to (correctly) set your environment settings","body":"so your java installation is not on your path. you&#39;ll need to (correctly) set your environment settings"},{"owner":{"account_id":14107785,"reputation":1062,"user_id":10191400,"display_name":"DoctorWho"},"score":0,"creation_date":1533643315,"post_id":51724949,"comment_id":90412805,"body_markdown":"@Stultuske need I to install Java? I have seen in other stackoverflow questions that i don&#39;t need to install Java. JDK would already be present in Android Studio, or not?","body":"@Stultuske need I to install Java? I have seen in other stackoverflow questions that i don&#39;t need to install Java. JDK would already be present in Android Studio, or not?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1533643718,"post_id":51724949,"comment_id":90413057,"body_markdown":"@DoctorWho I have no idea whether or not you have Java installed. If you don&#39;t, yes, you need a JDK installed. But, whether you have one or not, you need to have an iinstalled version of the JDK that is known to your operating system (meaning it is configured in the environment variables)","body":"@DoctorWho I have no idea whether or not you have Java installed. If you don&#39;t, yes, you need a JDK installed. But, whether you have one or not, you need to have an iinstalled version of the JDK that is known to your operating system (meaning it is configured in the environment variables)"}],"answers":[{"tags":[],"owner":{"account_id":1426258,"reputation":4514,"user_id":1349691,"accept_rate":72,"display_name":"Philippe Marschall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1533720468,"creation_date":1533641676,"answer_id":51725798,"question_id":51724949,"body_markdown":"It means the `bin/` folder of your JDK is not in your [PATH variable](https://en.wikipedia.org/wiki/PATH_(variable))\r\n\r\nYou can download a JDK from https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html","title":"android studio &#39;javah&#39; is not recognized as an internal or external command","body":"<p>It means the <code>bin/</code> folder of your JDK is not in your <a href=\"https://en.wikipedia.org/wiki/PATH_(variable)\" rel=\"nofollow noreferrer\">PATH variable</a></p>\n\n<p>You can download a JDK from <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>\n"}],"owner":{"account_id":14107785,"reputation":1062,"user_id":10191400,"display_name":"DoctorWho"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1088,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51725798,"answer_count":1,"score":0,"last_activity_date":1662398497,"creation_date":1533638920,"question_id":51724949,"body_markdown":"Following [this tutorial](https://www.youtube.com/watch?v=flBlhnEd530) to use Opencv Face Detection. At 4:00 he wrote on terminal:\r\n&gt; C:\\Users\\cvlab\\Desktop\\MyApplication\\app\\src\\main&gt;javah -d jni -classpath ../../build/intermediate/classes/debug com.example.cvlab.myapplication.OpencvClass\r\n\r\n\r\nI&#39;m trying to wrote the same path on my code but I&#39;m running into this error:\r\n\r\n&gt; &#39;javah&#39; is not recognized as an internal or external command\r\n\r\nSome of questions which the same already in stackoverflow , but it will not help to get the solutions.\r\nCould anyone help me? thanks","title":"android studio &#39;javah&#39; is not recognized as an internal or external command","body":"<p>Following <a href=\"https://www.youtube.com/watch?v=flBlhnEd530\" rel=\"nofollow noreferrer\">this tutorial</a> to use Opencv Face Detection. At 4:00 he wrote on terminal:</p>\n\n<blockquote>\n  <p>C:\\Users\\cvlab\\Desktop\\MyApplication\\app\\src\\main>javah -d jni -classpath ../../build/intermediate/classes/debug com.example.cvlab.myapplication.OpencvClass</p>\n</blockquote>\n\n<p>I'm trying to wrote the same path on my code but I'm running into this error:</p>\n\n<blockquote>\n  <p>'javah' is not recognized as an internal or external command</p>\n</blockquote>\n\n<p>Some of questions which the same already in stackoverflow , but it will not help to get the solutions.\nCould anyone help me? thanks</p>\n"},{"tags":["java","postgresql","hibernate","hql"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1662371791,"post_id":73607519,"comment_id":129982967,"body_markdown":"Sample data would help your question.","body":"Sample data would help your question."},{"owner":{"account_id":18078129,"reputation":47,"user_id":13573656,"display_name":"Marzepanio Tortus"},"score":0,"creation_date":1662372034,"post_id":73607519,"comment_id":129983053,"body_markdown":"@TimBiegeleisen Examples of what data you need ?","body":"@TimBiegeleisen Examples of what data you need ?"}],"answers":[{"tags":[],"owner":{"account_id":23201300,"reputation":3123,"user_id":17296084,"display_name":"Ramin Faracov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662398424,"creation_date":1662398424,"answer_id":73612817,"question_id":73607519,"body_markdown":"If I understand you correctly, you want to sum some fields (t1, t2, t4) grouped by t6 and at the same time show fields (t3, t5, t6) without sum. I can write for you only SQL query how to do it and this query you can use in your hibernate code easily.  \r\n\r\nFox example: \r\n\r\n    select \r\n    \tsum(p.t1) over (partition by p.t6), \r\n    \tsum(p.t2) over (partition by p.t6), \r\n    \tp.t3, \r\n    \tsum(p.t4) over (partition by p.t6), \r\n    \tp.t5,  \r\n    \tp.t6  \r\n    from P p\r\n    WHERE p.tId = :tId \r\n\r\n","title":"subquery for aggregate and group by","body":"<p>If I understand you correctly, you want to sum some fields (t1, t2, t4) grouped by t6 and at the same time show fields (t3, t5, t6) without sum. I can write for you only SQL query how to do it and this query you can use in your hibernate code easily.</p>\n<p>Fox example:</p>\n<pre><code>select \n    sum(p.t1) over (partition by p.t6), \n    sum(p.t2) over (partition by p.t6), \n    p.t3, \n    sum(p.t4) over (partition by p.t6), \n    p.t5,  \n    p.t6  \nfrom P p\nWHERE p.tId = :tId \n</code></pre>\n"}],"owner":{"account_id":18078129,"reputation":47,"user_id":13573656,"display_name":"Marzepanio Tortus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73612817,"answer_count":1,"score":0,"last_activity_date":1662398424,"creation_date":1662371602,"question_id":73607519,"body_markdown":"Good afternoon, I ran into such a problem and I don’t quite understand how to solve it in the hql query language, I have a request from several parameters that need to be returned all in the answer, I need to aggregate 3 of them, \r\nI need to group by one of them! for the other two, you just need to get the content. I understand how postgresql works, but I don’t know how to solve this problem, because when grouping, it requires all fields with which mathematical operations have not been performed. \r\n\r\n    @Query(&quot;SELECT new value.Value &quot; +\r\n                &quot;(SUM(p.t1), SUM(p.t2), p.t3, SUM(p.t4), p.t5, p.t6) &quot; +\r\n                &quot;FROM P p &quot; +\r\n                &quot;WHERE p.tId = :tId &quot; +\r\n                &quot;GROUP BY p.t6 &quot;)\r\n\r\n\r\nMaybe I need to do subquery, but I don&#39;t know how to do it in HQl","title":"subquery for aggregate and group by","body":"<p>Good afternoon, I ran into such a problem and I don’t quite understand how to solve it in the hql query language, I have a request from several parameters that need to be returned all in the answer, I need to aggregate 3 of them,\nI need to group by one of them! for the other two, you just need to get the content. I understand how postgresql works, but I don’t know how to solve this problem, because when grouping, it requires all fields with which mathematical operations have not been performed.</p>\n<pre><code>@Query(&quot;SELECT new value.Value &quot; +\n            &quot;(SUM(p.t1), SUM(p.t2), p.t3, SUM(p.t4), p.t5, p.t6) &quot; +\n            &quot;FROM P p &quot; +\n            &quot;WHERE p.tId = :tId &quot; +\n            &quot;GROUP BY p.t6 &quot;)\n</code></pre>\n<p>Maybe I need to do subquery, but I don't know how to do it in HQl</p>\n"},{"tags":["java","android","opencv","augmented-reality","arcore"],"comments":[{"owner":{"account_id":2090891,"reputation":1271,"user_id":1860768,"accept_rate":83,"display_name":"Ann Kilzer"},"score":0,"creation_date":1569068702,"post_id":58039812,"comment_id":102481118,"body_markdown":"Can you be more specific with what you&#39;ve tried, and where you&#39;re stuck?","body":"Can you be more specific with what you&#39;ve tried, and where you&#39;re stuck?"},{"owner":{"account_id":11441629,"reputation":1,"user_id":8387007,"display_name":"tushar"},"score":0,"creation_date":1569071736,"post_id":58039812,"comment_id":102481804,"body_markdown":"-&gt; I am not able to acquire camera frame by using this, Frame frame = arFragment.getArSceneView().getArFrame();  in scene.addOnUpdateListener() : it is throwing &quot;DeadlineExceededException&quot;.\n-&gt; I intend to use this image for some Opencv processing. I am able to add texture and models using AugmentedFace apis but I want to change structure of Face. For that I am not able to figure out .","body":"-&gt; I am not able to acquire camera frame by using this, Frame frame = arFragment.getArSceneView().getArFrame();  in scene.addOnUpdateListener() : it is throwing &quot;DeadlineExceededException&quot;. -&gt; I intend to use this image for some Opencv processing. I am able to add texture and models using AugmentedFace apis but I want to change structure of Face. For that I am not able to figure out ."}],"owner":{"account_id":11441629,"reputation":1,"user_id":8387007,"display_name":"tushar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662398359,"creation_date":1569065200,"question_id":58039812,"body_markdown":"How to apply OpenCV filters with ARcore&#39;s AugmentedFace library? I am trying to create filter for making face look fat. ","title":"AugmentedFace mesh with Opencv4Android","body":"<p>How to apply OpenCV filters with ARcore's AugmentedFace library? I am trying to create filter for making face look fat. </p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":6686506,"reputation":360,"user_id":16020533,"display_name":"Mohamed Rimshad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662396911,"creation_date":1662396911,"answer_id":73612569,"question_id":73612474,"body_markdown":"in your adapter class inside onBindViewHolder method add\r\n\r\n    holder.img.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n               \r\n                Intent intent = new Intent(context, OtherActivity.class);\r\n                \r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n    ","title":"How to switch to another activity using imageview in reycleview?","body":"<p>in your adapter class inside onBindViewHolder method add</p>\n<pre><code>holder.img.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n           \n            Intent intent = new Intent(context, OtherActivity.class);\n            \n            context.startActivity(intent);\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":20307744,"reputation":19,"user_id":14895570,"display_name":"Sohaibs Amir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662396911,"creation_date":1662396341,"question_id":73612474,"body_markdown":"So, I am basically building an expense tracker app. I have successfully implemented Recycleview which contains Transactions&#39; history. Now, what I am trying to achieve is to use an arrow imageview in the recycleview which will forward me to another activity when it is clicked. Any help will be appreciated on it.","title":"How to switch to another activity using imageview in reycleview?","body":"<p>So, I am basically building an expense tracker app. I have successfully implemented Recycleview which contains Transactions' history. Now, what I am trying to achieve is to use an arrow imageview in the recycleview which will forward me to another activity when it is clicked. Any help will be appreciated on it.</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":10655986,"reputation":56,"user_id":7845523,"display_name":"Ashutosh Vaish"},"score":0,"creation_date":1662385608,"post_id":73610333,"comment_id":129987983,"body_markdown":"Does this help you https://www.baeldung.com/java-stop-execution-after-certain-time ?","body":"Does this help you <a href=\"https://www.baeldung.com/java-stop-execution-after-certain-time\" rel=\"nofollow noreferrer\">baeldung.com/java-stop-execution-after-certain-time</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1662396269,"creation_date":1662386075,"answer_id":73610497,"question_id":73610333,"body_markdown":"# Wait for tasks to complete\r\n\r\nYour current code will already let all three threads start after `start` is initialized. However, the `shutdown` method doesn&#39;t wait for all the work to be done.\r\n\r\n## `CountDownLatch`\r\n\r\nYou can use a [`CountDownLatch`][1] to wait until all jobs are done:\r\n```\r\npublic static void someMethod() {\r\n    final ExecutorService pool = Executors.newFixedThreadPool(15);\r\n    final CountDownLatch endLatch = new CountDownLatch(3);\r\n\r\n    long start = System.nanoTime();\r\n\r\n    pool.execute(() -&gt; {\r\n        try {\r\n            doSomethingOne;\r\n        } finally {\r\n            endLatch.countDown();\r\n        }\r\n    });\r\n    pool.execute(() -&gt; {\r\n        try {\r\n            doSomethingTwo;\r\n        } finally {\r\n            endLatch.countDown();\r\n        }\r\n    });\r\n    pool.execute(() -&gt; {\r\n        try {\r\n            doSomethingThree;\r\n        } finally {\r\n            endLatch.countDown();\r\n        }\r\n    });\r\n    \r\n    pool.shutdown();\r\n\r\n    // exception handling omitted\r\n    endLatch.await();\r\n\r\n    long end = System.nanoTime();\r\n    System.out.println((end - start) / 1_000_000_000L);\r\n}\r\n```\r\n\r\nThere are two things that can mess with timing: the time it takes to schedule the tasks, and the time it takes to shutdown the pool. Another `CountDownLatch` can help with the first, and reordering the `shutdown` call with the other:\r\n\r\n```\r\npublic static void someMethod() {\r\n    final ExecutorService pool = Executors.newFixedThreadPool(15);\r\n\r\n    try {\r\n        final CountDownLatch startLatch = new CountDownLatch(1);\r\n        final CountDownLatch endLatch = new CountDownLatch(3);\r\n\r\n        pool.execute(() -&gt; {\r\n            try {\r\n                startLatch.await(); // exception handling omitted\r\n                doSomethingOne;\r\n            } finally {\r\n                endLatch.countDown();\r\n            }\r\n        });\r\n        pool.execute(() -&gt; {\r\n            try {\r\n                startLatch.await(); // exception handling omitted\r\n                doSomethingTwo;\r\n            } finally {\r\n                endLatch.countDown();\r\n            }\r\n        });\r\n        pool.execute(() -&gt; {\r\n            try {\r\n                startLatch.await(); // exception handling omitted\r\n                doSomethingThree;\r\n            } finally {\r\n                endLatch.countDown();\r\n            }\r\n        });\r\n\r\n        startLatch.countDown();\r\n        long start = System.nanoTime();\r\n\r\n        // exception handling omitted\r\n        endLatch.await();\r\n\r\n        long end = System.nanoTime();\r\n        System.out.println((end - start) / 1_000_000_000L);\r\n    } finally {\r\n        pool.shutdown();\r\n    }\r\n}\r\n```\r\nThe start latch acts like a GO signal - everything can prepare itself as necessary, but only actually start when the GO is given.\r\n\r\nOf course, with 3 almost identical blocks of code, you&#39;d create a utility method for that, which only takes the `doSomethingOne` part.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CountDownLatch.html","title":"Running part of the method at the same time in Java","body":"<h1>Wait for tasks to complete</h1>\n<p>Your current code will already let all three threads start after <code>start</code> is initialized. However, the <code>shutdown</code> method doesn't wait for all the work to be done.</p>\n<h2><code>CountDownLatch</code></h2>\n<p>You can use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\"><code>CountDownLatch</code></a> to wait until all jobs are done:</p>\n<pre><code>public static void someMethod() {\n    final ExecutorService pool = Executors.newFixedThreadPool(15);\n    final CountDownLatch endLatch = new CountDownLatch(3);\n\n    long start = System.nanoTime();\n\n    pool.execute(() -&gt; {\n        try {\n            doSomethingOne;\n        } finally {\n            endLatch.countDown();\n        }\n    });\n    pool.execute(() -&gt; {\n        try {\n            doSomethingTwo;\n        } finally {\n            endLatch.countDown();\n        }\n    });\n    pool.execute(() -&gt; {\n        try {\n            doSomethingThree;\n        } finally {\n            endLatch.countDown();\n        }\n    });\n    \n    pool.shutdown();\n\n    // exception handling omitted\n    endLatch.await();\n\n    long end = System.nanoTime();\n    System.out.println((end - start) / 1_000_000_000L);\n}\n</code></pre>\n<p>There are two things that can mess with timing: the time it takes to schedule the tasks, and the time it takes to shutdown the pool. Another <code>CountDownLatch</code> can help with the first, and reordering the <code>shutdown</code> call with the other:</p>\n<pre><code>public static void someMethod() {\n    final ExecutorService pool = Executors.newFixedThreadPool(15);\n\n    try {\n        final CountDownLatch startLatch = new CountDownLatch(1);\n        final CountDownLatch endLatch = new CountDownLatch(3);\n\n        pool.execute(() -&gt; {\n            try {\n                startLatch.await(); // exception handling omitted\n                doSomethingOne;\n            } finally {\n                endLatch.countDown();\n            }\n        });\n        pool.execute(() -&gt; {\n            try {\n                startLatch.await(); // exception handling omitted\n                doSomethingTwo;\n            } finally {\n                endLatch.countDown();\n            }\n        });\n        pool.execute(() -&gt; {\n            try {\n                startLatch.await(); // exception handling omitted\n                doSomethingThree;\n            } finally {\n                endLatch.countDown();\n            }\n        });\n\n        startLatch.countDown();\n        long start = System.nanoTime();\n\n        // exception handling omitted\n        endLatch.await();\n\n        long end = System.nanoTime();\n        System.out.println((end - start) / 1_000_000_000L);\n    } finally {\n        pool.shutdown();\n    }\n}\n</code></pre>\n<p>The start latch acts like a GO signal - everything can prepare itself as necessary, but only actually start when the GO is given.</p>\n<p>Of course, with 3 almost identical blocks of code, you'd create a utility method for that, which only takes the <code>doSomethingOne</code> part.</p>\n"}],"owner":{"account_id":18396667,"reputation":3,"user_id":13400941,"display_name":"John Doe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73610497,"answer_count":1,"score":0,"last_activity_date":1662396713,"creation_date":1662385355,"question_id":73610333,"body_markdown":"I have a method and I want to run only the parts of the method at the same time. For example, I want to run doSomethingOne, doSomethingTwo and doSomethingThree methods at the same time, but they should start after the start variable and end before the end variable.\r\n\r\n    public static void someMethod() {\r\n        final ExecutorService pool = Executors.newFixedThreadPool(15);\r\n    \r\n        long start = System.nanoTime();\r\n        \r\n        pool.execute(() -&gt; {\r\n            doSomethingOne;\r\n        });\r\n        pool.execute(() -&gt; {\r\n            doSomethingTwo;\r\n        });\r\n        pool.execute(() -&gt; {\r\n            doSomethingThree;\r\n        });\r\n        \r\n        pool.shutdown();\r\n        long end = System.nanoTime();\r\n        System.out.println((end - start) / 1_000_000_000L);\r\n    }","title":"Running part of the method at the same time in Java","body":"<p>I have a method and I want to run only the parts of the method at the same time. For example, I want to run doSomethingOne, doSomethingTwo and doSomethingThree methods at the same time, but they should start after the start variable and end before the end variable.</p>\n<pre><code>public static void someMethod() {\n    final ExecutorService pool = Executors.newFixedThreadPool(15);\n\n    long start = System.nanoTime();\n    \n    pool.execute(() -&gt; {\n        doSomethingOne;\n    });\n    pool.execute(() -&gt; {\n        doSomethingTwo;\n    });\n    pool.execute(() -&gt; {\n        doSomethingThree;\n    });\n    \n    pool.shutdown();\n    long end = System.nanoTime();\n    System.out.println((end - start) / 1_000_000_000L);\n}\n</code></pre>\n"},{"tags":["java","arrays","generics"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":4,"creation_date":1661780964,"post_id":73527481,"comment_id":129846503,"body_markdown":"I must be missing something here.  As far as I know, it’s not possible to create an array without knowing the type of the array’s elements.","body":"I must be missing something here.  As far as I know, it’s not possible to create an array without knowing the type of the array’s elements."},{"owner":{"account_id":25217546,"reputation":29,"user_id":19054493,"display_name":"Alex"},"score":0,"creation_date":1661788072,"post_id":73527481,"comment_id":129849144,"body_markdown":"matt, according to the condition, it is not known in advance what the array needs to be created with. This is a List only in a specific example.","body":"matt, according to the condition, it is not known in advance what the array needs to be created with. This is a List only in a specific example."},{"owner":{"account_id":25217546,"reputation":29,"user_id":19054493,"display_name":"Alex"},"score":0,"creation_date":1661788192,"post_id":73527481,"comment_id":129849184,"body_markdown":"VRG, I suppose otherwise the exercises in the books would not have been checked, I asked for SO and checked again, this is not a question of &quot;is it possible?&quot; this is exactly the task and I do not know how to do it...","body":"VRG, I suppose otherwise the exercises in the books would not have been checked, I asked for SO and checked again, this is not a question of &quot;is it possible?&quot; this is exactly the task and I do not know how to do it..."},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":1,"creation_date":1661792155,"post_id":73527481,"comment_id":129850529,"body_markdown":"Is `construct` supposed to only have the size as parameter? Because in this case it&#39;s just straight up impossible.","body":"Is <code>construct</code> supposed to only have the size as parameter? Because in this case it&#39;s just straight up impossible."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1661801286,"post_id":73527481,"comment_id":129853531,"body_markdown":"@Alex In your example, your using ArrayList&lt;String&gt; explicitly, then trying to create a String[] even though you&#39;re providing `List&lt;String&gt;`. You seem to be missing a big part of the excercise, [@SafeVarargs](https://www.baeldung.com/java-safevarargs). Maybe using a Vararg and [Arrays.copyOf](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#copyOf(T%5B%5D,int))","body":"@Alex In your example, your using ArrayList&lt;String&gt; explicitly, then trying to create a String[] even though you&#39;re providing <code>List&lt;String&gt;</code>. You seem to be missing a big part of the excercise, <a href=\"https://www.baeldung.com/java-safevarargs\" rel=\"nofollow noreferrer\">@SafeVarargs</a>. Maybe using a Vararg and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#copyOf(T%5B%5D,int)\" rel=\"nofollow noreferrer\">Arrays.copyOf</a>"}],"answers":[{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661773118,"creation_date":1661773118,"answer_id":73528227,"question_id":73527481,"body_markdown":"It&#39;s a common mistake. `arr.toArray()` returns `Object[]` and then you try to cast it to `List[]` array. Unlike generics the type of arrays is not removed during runtime. That&#39;s why you get a class cast exception.","title":"Creating an array of generics in java in the method, without a class object","body":"<p>It's a common mistake. <code>arr.toArray()</code> returns <code>Object[]</code> and then you try to cast it to <code>List[]</code> array. Unlike generics the type of arrays is not removed during runtime. That's why you get a class cast exception.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":2,"up_vote_count":5,"is_accepted":true,"score":3,"last_activity_date":1662396404,"creation_date":1661954367,"answer_id":73557070,"question_id":73527481,"body_markdown":"**Don’t use this in production code.** This is only for answering the book’s question as-is, for educational purpose. See the end of the answer for details.\r\n\r\nThe `@SafeVarargs` does already provide a hint towards the intended solution. Make the method a *varargs* method. Since a variable number of arguments also allows zero arguments, this change allows unchanged invocations:\r\n\r\n```java\r\npublic class Example\r\n{\r\n  @SafeVarargs\r\n  static &lt;T&gt; T[] construct(int size, T... template) {\r\n      return Arrays.copyOf(template, size);\r\n  }\r\n\r\n  public static void main(String args[])\r\n  {\r\n    List&lt;String&gt;[] result = Example.&lt;List&lt;String&gt;&gt;construct(10);\r\n    System.out.println(result.getClass().getComponentType());\r\n  }\r\n}\r\n```\r\n\r\nNote that you don’t need explicit type parameters here. The caller can be simplified to\r\n\r\n```java\r\nList&lt;String&gt;[] result = Example.construct(10);\r\n\r\n```\r\n\r\nwhich implies that we can even omit the declaring class when being in the same class or using `import static …`\r\n\r\n```java\r\nList&lt;String&gt;[] result = construct(10);\r\n```\r\n\r\n---\r\n\r\nBut when the caller does provide arguments to the *varargs* parameter, they may show up in the resulting array. To enforce an array with only `null` elements, you could use\r\n\r\n```java\r\n@SafeVarargs\r\nstatic &lt;T&gt; T[] construct(int size, T... template) {\r\n    return Arrays.copyOf(Arrays.copyOf(template, 0), size);\r\n}\r\n```\r\n\r\nor\r\n\r\n```java\r\n@SafeVarargs\r\nstatic &lt;T&gt; T[] construct(int size, T... template) {\r\n    T[] array = Arrays.copyOf(template, size);\r\n    Arrays.fill(array, null);\r\n    return array;\r\n}\r\n```\r\n\r\nwhich can be tested with\r\n\r\n```java\r\nList&lt;String&gt;[] result = construct(10, Collections.emptyList());\r\nSystem.out.println(result.getClass().getComponentType());\r\nSystem.out.println(Arrays.toString(result));\r\n```\r\n\r\n---\r\n\r\nBut as said, *don’t use this code*. The creation of generic arrays is not allowed for a reason. Consider\r\n\r\n```java\r\nList&lt;String&gt;[] result = construct(10);\r\nObject[] array = result;\r\narray[0] = Arrays.asList(42);\r\nList&lt;String&gt; stringList = result[0];\r\n\r\n// this situation is called heap pollution\r\n\r\n// at an entirely different place in you application, you might do\r\nString s = stringList.get(0);\r\n// without understanding what&#39;s going on\r\n```\r\n\r\nThe reason why this code does not produce a warning, is that the `@SafeVarargs` prevents this and is used incorrectly here. For a *varargs* method to be safe, we must prevent any assignment to the array (this applies to copies of the array as well), but as soon as we return a generic array, we can’t guaranty this. As the user newacct correctly pointed out, there’s not even a guaranty that the array’s raw element type matches the intended type, e.g. if the caller also uses a type variable for `T`. If this has an impact on a method’s behavior, it must *not* use the `@SafeVarargs` annotation.","title":"Creating an array of generics in java in the method, without a class object","body":"<p><strong>Don’t use this in production code.</strong> This is only for answering the book’s question as-is, for educational purpose. See the end of the answer for details.</p>\n<p>The <code>@SafeVarargs</code> does already provide a hint towards the intended solution. Make the method a <em>varargs</em> method. Since a variable number of arguments also allows zero arguments, this change allows unchanged invocations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example\n{\n  @SafeVarargs\n  static &lt;T&gt; T[] construct(int size, T... template) {\n      return Arrays.copyOf(template, size);\n  }\n\n  public static void main(String args[])\n  {\n    List&lt;String&gt;[] result = Example.&lt;List&lt;String&gt;&gt;construct(10);\n    System.out.println(result.getClass().getComponentType());\n  }\n}\n</code></pre>\n<p>Note that you don’t need explicit type parameters here. The caller can be simplified to</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt;[] result = Example.construct(10);\n\n</code></pre>\n<p>which implies that we can even omit the declaring class when being in the same class or using <code>import static …</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt;[] result = construct(10);\n</code></pre>\n<hr />\n<p>But when the caller does provide arguments to the <em>varargs</em> parameter, they may show up in the resulting array. To enforce an array with only <code>null</code> elements, you could use</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SafeVarargs\nstatic &lt;T&gt; T[] construct(int size, T... template) {\n    return Arrays.copyOf(Arrays.copyOf(template, 0), size);\n}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SafeVarargs\nstatic &lt;T&gt; T[] construct(int size, T... template) {\n    T[] array = Arrays.copyOf(template, size);\n    Arrays.fill(array, null);\n    return array;\n}\n</code></pre>\n<p>which can be tested with</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt;[] result = construct(10, Collections.emptyList());\nSystem.out.println(result.getClass().getComponentType());\nSystem.out.println(Arrays.toString(result));\n</code></pre>\n<hr />\n<p>But as said, <em>don’t use this code</em>. The creation of generic arrays is not allowed for a reason. Consider</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt;[] result = construct(10);\nObject[] array = result;\narray[0] = Arrays.asList(42);\nList&lt;String&gt; stringList = result[0];\n\n// this situation is called heap pollution\n\n// at an entirely different place in you application, you might do\nString s = stringList.get(0);\n// without understanding what's going on\n</code></pre>\n<p>The reason why this code does not produce a warning, is that the <code>@SafeVarargs</code> prevents this and is used incorrectly here. For a <em>varargs</em> method to be safe, we must prevent any assignment to the array (this applies to copies of the array as well), but as soon as we return a generic array, we can’t guaranty this. As the user newacct correctly pointed out, there’s not even a guaranty that the array’s raw element type matches the intended type, e.g. if the caller also uses a type variable for <code>T</code>. If this has an impact on a method’s behavior, it must <em>not</em> use the <code>@SafeVarargs</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662277707,"creation_date":1662277707,"answer_id":73597646,"question_id":73527481,"body_markdown":"It&#39;s not possible to write such a method in Java that will work in all circumstances, and I can prove it. The mention of `@SafeVarargs` indicates that they want you to use varargs, and the varargs semantics does allow you to do some interesting things, but it will still not allow you to write such a method that works in all circumstances.\r\n\r\nWhen you have a varargs method in Java like `someMethod(int size, String... args)`, it receives a second argument of type `String[]`, and when you call it with (0 or more) `String` arguments (and not a `String[]` argument directly), the compiler will implicitly create a new array like `new String[] { ... }` and pass that to the method under the hood.\r\n\r\nThe varargs parameter can also be of type variable type like `someMethod(int size, T... args)`. If you call this method with 0 or more `T` arguments, the compiler will also try to implicitly create an array of the arguments. If the compiler knows (whether by inference or you explicitly specified) that for this call `T` is a reifiable type like `String`, then it will do `new String[] { ... }` with no problems. \r\n\r\nHowever, when the compiler&#39;s (inferred or explicitly specified) `T` for this call is a parameterized type or a type variable, there is a problem because Java does now allow creating an array of a parameterized type (e.g. `new List&lt;String&gt;[...]`) or an array of a type variable type (e.g. `new U[...]`). What Java does is implicitly create an array with the component type being the erasure of what it inferred `T` to be. So if `T` for this call is `List&lt;String&gt;`, it will create `new List[] { ... }`, and if `T` for this call is `U`, then it will create an array of the upper bound of `U`; so if `U` is unbounded, this would be `new Object[] { ... }`. It will then produce a warning to indicate that this is unsafe.\r\n\r\nThe reason why this warning is necessary is that the runtime type of the varargs array object received in the method is not compatible with the parameter&#39;s declared type (this is called &quot;heap pollution&quot;). In the case where the expected type is an array of a parameterized type (e.g. `List&lt;String&gt;[]`) and it creates an array of the raw type (e.g. `List[]`), the difference is mostly not a big deal (although there are still some reasons why a warning is a good idea that I won&#39;t go into), and in fact people often use `new List[...]` as a workaround when needing to create an array of a parameterized type. However, in the case where the expected type is an array of a type variable type (e.g. `U[]`), creating an array of the upper bound type (e.g. `Object[]`) is potentially a big problem, because if this is returned to a scope which expects `U` to be a specific type (e.g. `String`), then it will expect `U[]` to be `String[]`, and an array of runtime type `Object[]` will not be able to be put into that type since `String[]` and `Object[]` are actually separate classes at runtime, and `Object[]` is not a subclass of `String[]`.\r\n\r\nFor most varargs methods that take `T[]`, they just iterate through the varargs arguments, and they just care that the elements are of type `T`, and don&#39;t care that the runtime type of the varargs array object is `T[]`. In such cases, Java provides a `@SafeVarargs` annotation that can be put on the method to suppress this warning. However, in varargs methods that *do* care about the runtime type of the varargs array object, you should not use this annotation, because it suppresses the warning that warns of a real problem.\r\n\r\n@Holger&#39;s answer, which is probably what the book&#39;s author was thinking of, takes advantage of varargs&#39; implicit array creation. Even in the case of 0 variable arguments, the compiler still implicitly creates an array of the right type, and the array carries runtime information about its component type, which the method can try to use to create the array to return. So in the case of `Arrays.&lt;List&lt;String&gt;&gt;construct(10)`, even though it doesn&#39;t look like you are passing any information in at runtime about the component type of the array, you actually are because the compiler implicitly passes a `new List[] {}`, and this carries the type `List` into the method at runtime. (Again, there is a difference between `List` and `List&lt;String&gt;`, but the difference is minor, and in most cases, you are not going to run into problems with this.) But this only works because the component type (`List`) is known at compile time, so the compiler can hard-code it at compile-time.\r\n\r\nIf you instead call this method where the component type is not known at compile time, i.e. is a type variable like `Arrays.&lt;U&gt;construct(10)`, then the only thing that the compiler can send into it is `new Object[]`, i.e. the only type information that can be passed into the method at runtime is the upper bound of the type variable (because that is known at compile time), but not the actual type that the type variable represents. The method can then only create an array with runtime type of `Object[]`, which is incompatible with the right type of `U[]` (unless `U` happens to be `Object`). As mentioned above, the compiler usually generates a warning when this happens, but the book suggests you to use `@SafeVarargs` to suppress this warning, so you wouldn&#39;t get a warning. (And `@SafeVarargs` is not suitable for such a method, because it *does* use the runtime type of the varargs array object to create its new array.)\r\n\r\nWe can extend this further to create a proof by contradiction that the method that the question asks for is impossible in Java. We assume that there does exist a way to write the method, and assume that we have the working implementation of `construct()`, that is annotated with `@SafeVarargs`. Then we can use it to write this method:\r\n\r\n    public static &lt;U&gt; U[] foo(int size) {\r\n        return construct(int);\r\n    }\r\n\r\nThis method takes a size, and returns an array of the desired component type with that size, without needing to be passed any information at runtime about what that component type is. This method does not use varargs, so there is no varargs shenanigans like implicit arguments under the hood. This is just a plain non-varargs method that just takes one parameter, the size. It compiles no warnings (since `construct()` is annotated with `@SafeVarargs`). It is very obvious that this method is impossible in Java. To create an array in Java, we need to provide the component type at runtime, and this method purports to magically be able to create an array of any type you want, without you telling it what type it is that you want at runtime. This is basically creation of an array of type variable type (i.e. `new U[...]`), and we know that this is not possible. Since this is a contradiction, that proves that the assumption that there exists a way to write the `construct()` method, is false.\r\n\r\nIf you limit the circumstances that the method has to work in to only those where the component type is a reifiable type or parameterized type, and not a type variable type, then @Holger&#39;s answer would qualify. But 1) that was not stipulated in the question from the book, and 2) such a restriction would go against the whole spirit of generics, since a generic method should work just as well no matter if it&#39;s called with `T` being a concrete type or type variable -- it shouldn&#39;t care at all.","title":"Creating an array of generics in java in the method, without a class object","body":"<p>It's not possible to write such a method in Java that will work in all circumstances, and I can prove it. The mention of <code>@SafeVarargs</code> indicates that they want you to use varargs, and the varargs semantics does allow you to do some interesting things, but it will still not allow you to write such a method that works in all circumstances.</p>\n<p>When you have a varargs method in Java like <code>someMethod(int size, String... args)</code>, it receives a second argument of type <code>String[]</code>, and when you call it with (0 or more) <code>String</code> arguments (and not a <code>String[]</code> argument directly), the compiler will implicitly create a new array like <code>new String[] { ... }</code> and pass that to the method under the hood.</p>\n<p>The varargs parameter can also be of type variable type like <code>someMethod(int size, T... args)</code>. If you call this method with 0 or more <code>T</code> arguments, the compiler will also try to implicitly create an array of the arguments. If the compiler knows (whether by inference or you explicitly specified) that for this call <code>T</code> is a reifiable type like <code>String</code>, then it will do <code>new String[] { ... }</code> with no problems.</p>\n<p>However, when the compiler's (inferred or explicitly specified) <code>T</code> for this call is a parameterized type or a type variable, there is a problem because Java does now allow creating an array of a parameterized type (e.g. <code>new List&lt;String&gt;[...]</code>) or an array of a type variable type (e.g. <code>new U[...]</code>). What Java does is implicitly create an array with the component type being the erasure of what it inferred <code>T</code> to be. So if <code>T</code> for this call is <code>List&lt;String&gt;</code>, it will create <code>new List[] { ... }</code>, and if <code>T</code> for this call is <code>U</code>, then it will create an array of the upper bound of <code>U</code>; so if <code>U</code> is unbounded, this would be <code>new Object[] { ... }</code>. It will then produce a warning to indicate that this is unsafe.</p>\n<p>The reason why this warning is necessary is that the runtime type of the varargs array object received in the method is not compatible with the parameter's declared type (this is called &quot;heap pollution&quot;). In the case where the expected type is an array of a parameterized type (e.g. <code>List&lt;String&gt;[]</code>) and it creates an array of the raw type (e.g. <code>List[]</code>), the difference is mostly not a big deal (although there are still some reasons why a warning is a good idea that I won't go into), and in fact people often use <code>new List[...]</code> as a workaround when needing to create an array of a parameterized type. However, in the case where the expected type is an array of a type variable type (e.g. <code>U[]</code>), creating an array of the upper bound type (e.g. <code>Object[]</code>) is potentially a big problem, because if this is returned to a scope which expects <code>U</code> to be a specific type (e.g. <code>String</code>), then it will expect <code>U[]</code> to be <code>String[]</code>, and an array of runtime type <code>Object[]</code> will not be able to be put into that type since <code>String[]</code> and <code>Object[]</code> are actually separate classes at runtime, and <code>Object[]</code> is not a subclass of <code>String[]</code>.</p>\n<p>For most varargs methods that take <code>T[]</code>, they just iterate through the varargs arguments, and they just care that the elements are of type <code>T</code>, and don't care that the runtime type of the varargs array object is <code>T[]</code>. In such cases, Java provides a <code>@SafeVarargs</code> annotation that can be put on the method to suppress this warning. However, in varargs methods that <em>do</em> care about the runtime type of the varargs array object, you should not use this annotation, because it suppresses the warning that warns of a real problem.</p>\n<p>@Holger's answer, which is probably what the book's author was thinking of, takes advantage of varargs' implicit array creation. Even in the case of 0 variable arguments, the compiler still implicitly creates an array of the right type, and the array carries runtime information about its component type, which the method can try to use to create the array to return. So in the case of <code>Arrays.&lt;List&lt;String&gt;&gt;construct(10)</code>, even though it doesn't look like you are passing any information in at runtime about the component type of the array, you actually are because the compiler implicitly passes a <code>new List[] {}</code>, and this carries the type <code>List</code> into the method at runtime. (Again, there is a difference between <code>List</code> and <code>List&lt;String&gt;</code>, but the difference is minor, and in most cases, you are not going to run into problems with this.) But this only works because the component type (<code>List</code>) is known at compile time, so the compiler can hard-code it at compile-time.</p>\n<p>If you instead call this method where the component type is not known at compile time, i.e. is a type variable like <code>Arrays.&lt;U&gt;construct(10)</code>, then the only thing that the compiler can send into it is <code>new Object[]</code>, i.e. the only type information that can be passed into the method at runtime is the upper bound of the type variable (because that is known at compile time), but not the actual type that the type variable represents. The method can then only create an array with runtime type of <code>Object[]</code>, which is incompatible with the right type of <code>U[]</code> (unless <code>U</code> happens to be <code>Object</code>). As mentioned above, the compiler usually generates a warning when this happens, but the book suggests you to use <code>@SafeVarargs</code> to suppress this warning, so you wouldn't get a warning. (And <code>@SafeVarargs</code> is not suitable for such a method, because it <em>does</em> use the runtime type of the varargs array object to create its new array.)</p>\n<p>We can extend this further to create a proof by contradiction that the method that the question asks for is impossible in Java. We assume that there does exist a way to write the method, and assume that we have the working implementation of <code>construct()</code>, that is annotated with <code>@SafeVarargs</code>. Then we can use it to write this method:</p>\n<pre><code>public static &lt;U&gt; U[] foo(int size) {\n    return construct(int);\n}\n</code></pre>\n<p>This method takes a size, and returns an array of the desired component type with that size, without needing to be passed any information at runtime about what that component type is. This method does not use varargs, so there is no varargs shenanigans like implicit arguments under the hood. This is just a plain non-varargs method that just takes one parameter, the size. It compiles no warnings (since <code>construct()</code> is annotated with <code>@SafeVarargs</code>). It is very obvious that this method is impossible in Java. To create an array in Java, we need to provide the component type at runtime, and this method purports to magically be able to create an array of any type you want, without you telling it what type it is that you want at runtime. This is basically creation of an array of type variable type (i.e. <code>new U[...]</code>), and we know that this is not possible. Since this is a contradiction, that proves that the assumption that there exists a way to write the <code>construct()</code> method, is false.</p>\n<p>If you limit the circumstances that the method has to work in to only those where the component type is a reifiable type or parameterized type, and not a type variable type, then @Holger's answer would qualify. But 1) that was not stipulated in the question from the book, and 2) such a restriction would go against the whole spirit of generics, since a generic method should work just as well no matter if it's called with <code>T</code> being a concrete type or type variable -- it shouldn't care at all.</p>\n"}],"owner":{"account_id":25217546,"reputation":29,"user_id":19054493,"display_name":"Alex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73557070,"answer_count":3,"score":2,"last_activity_date":1662396404,"creation_date":1661769123,"question_id":73527481,"body_markdown":"I am doing tasks from the Java SE 8 book by Cay S. Horstmann (Chapter 6 task 21)\r\n\r\nUsing the `@SafeVarargs` annotation, write a method that allows you to build arrays of generalized types, as in the following example:\r\n\r\n    List&lt;String&gt;[] result = Arrays.&lt;List&lt;String&gt; &gt; construct (10) ;\r\n    // Sets the result in a list of type List&lt;String&gt;[] with a length of 10\r\n\r\n\r\nMy intended solution was such\r\n\r\n    static &lt;T&gt; T[] construct(int size) {\r\n        ArrayList&lt;String&gt; arr = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; size; i++) arr.add(null);\r\n\r\n        return (T[]) arr.toArray();\r\n    }\r\n\r\n\r\n but it is incorrect since after erasing occurs\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ClassCastException: class\r\n&gt; [Ljava.lang.Object; cannot be cast to class [Ljava.util.List;\r\n&gt; ([Ljava.lang.Object; and [Ljava.util.List; are in module java.base of\r\n&gt; loader &#39;bootstrap&#39;) \tat Main.main(Main.java:23)\r\n\r\n","title":"Creating an array of generics in java in the method, without a class object","body":"<p>I am doing tasks from the Java SE 8 book by Cay S. Horstmann (Chapter 6 task 21)</p>\n<p>Using the <code>@SafeVarargs</code> annotation, write a method that allows you to build arrays of generalized types, as in the following example:</p>\n<pre><code>List&lt;String&gt;[] result = Arrays.&lt;List&lt;String&gt; &gt; construct (10) ;\n// Sets the result in a list of type List&lt;String&gt;[] with a length of 10\n</code></pre>\n<p>My intended solution was such</p>\n<pre><code>static &lt;T&gt; T[] construct(int size) {\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; size; i++) arr.add(null);\n\n    return (T[]) arr.toArray();\n}\n</code></pre>\n<p>but it is incorrect since after erasing occurs</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ClassCastException: class\n[Ljava.lang.Object; cannot be cast to class [Ljava.util.List;\n([Ljava.lang.Object; and [Ljava.util.List; are in module java.base of\nloader 'bootstrap')   at Main.main(Main.java:23)</p>\n</blockquote>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":193336,"reputation":3184,"user_id":435003,"accept_rate":82,"display_name":"Marc-Christian Schulze"},"score":14,"creation_date":1316275231,"post_id":7456006,"comment_id":9018965,"body_markdown":"A Unit-Test should consist of the following 4 phases: Initialization, Test, Verification and Teardown. Maybe you should adjust your tests and add an according teardown/cleanup of your database or you should use a separate database instance, not packaged with your jar file, for running your tests on.","body":"A Unit-Test should consist of the following 4 phases: Initialization, Test, Verification and Teardown. Maybe you should adjust your tests and add an according teardown/cleanup of your database or you should use a separate database instance, not packaged with your jar file, for running your tests on."},{"owner":{"account_id":983997,"reputation":7005,"user_id":1002972,"accept_rate":61,"display_name":"manash"},"score":0,"creation_date":1322425942,"post_id":7456006,"comment_id":10208651,"body_markdown":"It seems that your tests are &quot;heavy&quot; so you don&#39;t  want to execute them. But it&#39;s a bad practice. Maybe some frameworks as DBUnit may help you ? Or you can revert database changes at the end of the test?","body":"It seems that your tests are &quot;heavy&quot; so you don&#39;t  want to execute them. But it&#39;s a bad practice. Maybe some frameworks as DBUnit may help you ? Or you can revert database changes at the end of the test?"}],"answers":[{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1322428094,"creation_date":1316274971,"answer_id":7456023,"question_id":7456006,"body_markdown":"You can pass the `maven.test.skip` flag as a JVM argument, to skip running tests when the package phase (and the previous ones in the default lifecycle) is run:\r\n\r\n    mvn package -Dmaven.test.skip=true\r\n\r\nYou can also pass the `skipTests` flag alone to the mvn executable. If you want to include this information in your POM, you can create a new profile where you can configure the `maven-surefire-plugin` to [skip tests][1].\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-surefire-plugin/examples/skipping-test.html","title":"Maven package/install without test (skip tests)","body":"<p>You can pass the <code>maven.test.skip</code> flag as a JVM argument, to skip running tests when the package phase (and the previous ones in the default lifecycle) is run:</p>\n\n<pre><code>mvn package -Dmaven.test.skip=true\n</code></pre>\n\n<p>You can also pass the <code>skipTests</code> flag alone to the mvn executable. If you want to include this information in your POM, you can create a new profile where you can configure the <code>maven-surefire-plugin</code> to <a href=\"http://maven.apache.org/plugins/maven-surefire-plugin/examples/skipping-test.html\" rel=\"noreferrer\">skip tests</a>.</p>\n"},{"tags":[],"owner":{"account_id":198008,"reputation":12189,"user_id":442433,"display_name":"Giorgos Dimtsas"},"down_vote_count":8,"up_vote_count":894,"is_accepted":true,"score":886,"last_activity_date":1629392051,"creation_date":1316274994,"answer_id":7456028,"question_id":7456006,"body_markdown":"Run maven with \r\n\r\n    mvn package -Dmaven.test.skip","title":"Maven package/install without test (skip tests)","body":"<p>Run maven with</p>\n<pre><code>mvn package -Dmaven.test.skip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1548089981,"creation_date":1316276003,"answer_id":7456117,"question_id":7456006,"body_markdown":"You only have to provide \r\n\r\n    -Dmaven.test.skip\r\n\r\nYou no longer need to append `=true`.\r\n\r\n","title":"Maven package/install without test (skip tests)","body":"<p>You only have to provide </p>\n\n<pre><code>-Dmaven.test.skip\n</code></pre>\n\n<p>You no longer need to append <code>=true</code>.</p>\n"},{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1316277131,"creation_date":1316277131,"answer_id":7456230,"question_id":7456006,"body_markdown":"Tests should always[1] run before package. If you need to turn off the tests, you&#39;re doing something wrong. In other words, you&#39;re trying to solve the wrong problem. Figure out what your problem really is, and ask that question. It sounds like it&#39;s database-related.\r\n\r\n[1] You might skip tests when you need to quickly generate an artifact for local, development use, but in general, creating an artifact should always follow a successful test run.","title":"Maven package/install without test (skip tests)","body":"<p>Tests should always[1] run before package. If you need to turn off the tests, you're doing something wrong. In other words, you're trying to solve the wrong problem. Figure out what your problem really is, and ask that question. It sounds like it's database-related.</p>\n\n<p>[1] You might skip tests when you need to quickly generate an artifact for local, development use, but in general, creating an artifact should always follow a successful test run.</p>\n"},{"tags":[],"owner":{"account_id":169732,"reputation":4967,"user_id":395975,"accept_rate":79,"display_name":"smp7d"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1316619986,"creation_date":1316619986,"answer_id":7502723,"question_id":7456006,"body_markdown":"you can add this plugin configuration to your pom if you do not want to set command line arg:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Maven package/install without test (skip tests)","body":"<p>you can add this plugin configuration to your pom if you do not want to set command line arg:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;skipTests&gt;true&lt;/skipTests&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":245428,"reputation":503,"user_id":518912,"accept_rate":90,"display_name":"Ozyman"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1322127667,"creation_date":1322127667,"answer_id":8254903,"question_id":7456006,"body_markdown":"You are, obviously, doing it the wrong way. Testing is an important part of pre-packaging. You shouldn&#39;t ignore or skip it, but rather do it the right way. Try changing the database to which it inserts the data(like test_db). It may take a while to set it up. And to make sure this database can be used forever, you should delete all the data by the end of tests. JUnit4 has annotations which make it easy for you. Use @Before, @After @Test annotations for the right methods. You need to spend sometime on it, but it will be worth it!","title":"Maven package/install without test (skip tests)","body":"<p>You are, obviously, doing it the wrong way. Testing is an important part of pre-packaging. You shouldn't ignore or skip it, but rather do it the right way. Try changing the database to which it inserts the data(like test_db). It may take a while to set it up. And to make sure this database can be used forever, you should delete all the data by the end of tests. JUnit4 has annotations which make it easy for you. Use @Before, @After @Test annotations for the right methods. You need to spend sometime on it, but it will be worth it!</p>\n"},{"tags":[],"owner":{"account_id":304070,"reputation":4342,"user_id":613368,"accept_rate":79,"display_name":"Chris Beach"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1331634219,"creation_date":1331634219,"answer_id":9682198,"question_id":7456006,"body_markdown":"Note that -Dmaven.test.skip prevents Maven building the test-jar artifact. \r\n\r\nIf you&#39;d like to skip tests but create artifacts as per a normal build use:\r\n\r\n    -Dmaven.test.skip.exec","title":"Maven package/install without test (skip tests)","body":"<p>Note that -Dmaven.test.skip prevents Maven building the test-jar artifact. </p>\n\n<p>If you'd like to skip tests but create artifacts as per a normal build use:</p>\n\n<pre><code>-Dmaven.test.skip.exec\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2182583,"reputation":2939,"user_id":1931724,"display_name":"Jayakumar J"},"down_vote_count":0,"up_vote_count":283,"is_accepted":false,"score":283,"last_activity_date":1617983137,"creation_date":1356601619,"answer_id":14052568,"question_id":7456006,"body_markdown":"Just provide the command mentioned below, which will ignore executing the test cases (but will compile the test code):\r\n\r\n    mvn package -DskipTests\r\n\r\n","title":"Maven package/install without test (skip tests)","body":"<p>Just provide the command mentioned below, which will ignore executing the test cases (but will compile the test code):</p>\n<pre><code>mvn package -DskipTests\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1359672460,"creation_date":1359672460,"answer_id":14636572,"question_id":7456006,"body_markdown":"Answering an old and accepted question here. You can add this in your pom.xml if you want to avoid passing command line argument all the time:\r\n\r\n      &lt;properties&gt;\r\n        &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n      &lt;/properties&gt;","title":"Maven package/install without test (skip tests)","body":"<p>Answering an old and accepted question here. You can add this in your pom.xml if you want to avoid passing command line argument all the time:</p>\n\n<pre><code>  &lt;properties&gt;\n    &lt;skipTests&gt;true&lt;/skipTests&gt;\n  &lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":65900,"reputation":24648,"user_id":193634,"accept_rate":84,"display_name":"Rosdi Kasim"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1479298025,"creation_date":1386535211,"answer_id":20458782,"question_id":7456006,"body_markdown":"If you are trying this in Windows Powershell, you will get this error:\r\n\r\n    [ERROR] Unknown lifecycle phase &quot;.test.skip=true&quot;. You must specify a valid lifecycle phase or a goal in the format...\r\n\r\nThe reason for this is, in Powershell the &quot;`-`&quot; has special meaning and it is causing problem with maven.\r\n\r\nThe solution is to prepend it with a backtick (`), like so..\r\n\r\n    mvn `-Dmaven.test.skip=true install \r\n\r\n\r\nReference: http://kuniganotas.wordpress.com/2011/08/12/invalid-task-test-skiptrue-you-must-specify-a-valid-lifecycle-phase/","title":"Maven package/install without test (skip tests)","body":"<p>If you are trying this in Windows Powershell, you will get this error:</p>\n\n<pre><code>[ERROR] Unknown lifecycle phase \".test.skip=true\". You must specify a valid lifecycle phase or a goal in the format...\n</code></pre>\n\n<p>The reason for this is, in Powershell the \"<code>-</code>\" has special meaning and it is causing problem with maven.</p>\n\n<p>The solution is to prepend it with a backtick (`), like so..</p>\n\n<pre><code>mvn `-Dmaven.test.skip=true install \n</code></pre>\n\n<p>Reference: <a href=\"http://kuniganotas.wordpress.com/2011/08/12/invalid-task-test-skiptrue-you-must-specify-a-valid-lifecycle-phase/\" rel=\"noreferrer\">http://kuniganotas.wordpress.com/2011/08/12/invalid-task-test-skiptrue-you-must-specify-a-valid-lifecycle-phase/</a></p>\n"},{"tags":[],"owner":{"account_id":2546504,"reputation":2896,"user_id":2211208,"display_name":"vimal krishna"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1414012985,"creation_date":1414012985,"answer_id":26517375,"question_id":7456006,"body_markdown":"    &lt;properties&gt;\r\n\t\t&lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\r\n    &lt;/properties&gt;\r\n\r\nis also a way to add in pom file","title":"Maven package/install without test (skip tests)","body":"<pre><code>&lt;properties&gt;\n    &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>is also a way to add in pom file</p>\n"},{"tags":[],"owner":{"account_id":4668067,"reputation":99,"user_id":3780630,"display_name":"Aggie Jon of 87"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483029833,"creation_date":1483028673,"answer_id":41383499,"question_id":7456006,"body_markdown":"`mvn clean install -Dmaven.test.skip=true` \r\n\r\nworked for me since the `-Dskip` did not work anymore.","title":"Maven package/install without test (skip tests)","body":"<p><code>mvn clean install -Dmaven.test.skip=true</code> </p>\n\n<p>worked for me since the <code>-Dskip</code> did not work anymore.</p>\n"},{"tags":[],"owner":{"account_id":3351190,"reputation":3386,"user_id":2815227,"accept_rate":64,"display_name":"mcvkr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516734597,"creation_date":1516734597,"answer_id":48409099,"question_id":7456006,"body_markdown":"    mvn package -Dmaven.test.skip=true","title":"Maven package/install without test (skip tests)","body":"<pre><code>mvn package -Dmaven.test.skip=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13287087,"reputation":17,"user_id":9592820,"display_name":"Vladimir"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1525423117,"creation_date":1525423117,"answer_id":50170668,"question_id":7456006,"body_markdown":"The best and the easiest way to do it, in IntelliJ Idea in the window “Maven Project”, and just don’t click on the test button. I hope, I helped you. Have a good day :)","title":"Maven package/install without test (skip tests)","body":"<p>The best and the easiest way to do it, in IntelliJ Idea in the window “Maven Project”, and just don’t click on the test button. I hope, I helped you. Have a good day :)</p>\n"},{"tags":[],"owner":{"account_id":2713644,"reputation":79,"user_id":2341478,"display_name":"Patrick Tolentino"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1528214689,"creation_date":1528214689,"answer_id":50704519,"question_id":7456006,"body_markdown":"In Intellij, go to View -&gt; Tool Windows -&gt; choose Maven Projects.\r\nOn the Lifecyle dropdown, right-click on package -&gt; choose Create &#39;your-project [package]&#39;... \r\n\r\nEnter this value: `package -Dmaven.test.skip=true -f pom.xml` in the Command line field. Click Apply and a Run Configurations dropdown menu should appear along with your created custom maven command.","title":"Maven package/install without test (skip tests)","body":"<p>In Intellij, go to View -> Tool Windows -> choose Maven Projects.\nOn the Lifecyle dropdown, right-click on package -> choose Create 'your-project [package]'... </p>\n\n<p>Enter this value: <code>package -Dmaven.test.skip=true -f pom.xml</code> in the Command line field. Click Apply and a Run Configurations dropdown menu should appear along with your created custom maven command.</p>\n"},{"tags":[],"owner":{"account_id":4591468,"reputation":1026,"user_id":3724636,"display_name":"Ravinda Lakshan"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1537533705,"creation_date":1537533705,"answer_id":52444053,"question_id":7456006,"body_markdown":"just `mvn clean install -DskipTests`","title":"Maven package/install without test (skip tests)","body":"<p>just <code>mvn clean install -DskipTests</code></p>\n"},{"tags":[],"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1538015345,"creation_date":1538015345,"answer_id":52528542,"question_id":7456006,"body_markdown":"You can add either `-DskipTests` or `-Dmaven.test.skip=true` to any `mvn` command for skipping tests. In your case it would be like below:\r\n\r\n    mvn package -DskipTests\r\n\r\n**OR**\r\n\r\n    mvn package -Dmaven.test.skip=true","title":"Maven package/install without test (skip tests)","body":"<p>You can add either <code>-DskipTests</code> or <code>-Dmaven.test.skip=true</code> to any <code>mvn</code> command for skipping tests. In your case it would be like below:</p>\n\n<pre><code>mvn package -DskipTests\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>mvn package -Dmaven.test.skip=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3505152,"reputation":2396,"user_id":2930836,"accept_rate":39,"display_name":"igonejack"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1539834032,"creation_date":1539834032,"answer_id":52866673,"question_id":7456006,"body_markdown":"For maven package without infecting maven test:\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.test.failure.ignore&gt;true&lt;/maven.test.failure.ignore&gt;\r\n    &lt;/properties&gt;","title":"Maven package/install without test (skip tests)","body":"<p>For maven package without infecting maven test:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;maven.test.failure.ignore&gt;true&lt;/maven.test.failure.ignore&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12929719,"reputation":2931,"user_id":9349129,"display_name":"Dushmantha"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1547446533,"creation_date":1547446533,"answer_id":54176533,"question_id":7456006,"body_markdown":"In Inllij IDEA there is an option also to skip test goal.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/512iH.png","title":"Maven package/install without test (skip tests)","body":"<p>In Inllij IDEA there is an option also to skip test goal.</p>\n\n<p><a href=\"https://i.stack.imgur.com/512iH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/512iH.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5921395,"reputation":301,"user_id":4658638,"display_name":"Sourabh Bhavsar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1579063848,"creation_date":1579063848,"answer_id":59745297,"question_id":7456006,"body_markdown":"A shorthand notation to do maven build and skip tests would be :\r\n\r\nmvn clean install -DskipTests","title":"Maven package/install without test (skip tests)","body":"<p>A shorthand notation to do maven build and skip tests would be :</p>\n\n<p>mvn clean install -DskipTests</p>\n"},{"tags":[],"owner":{"account_id":14234629,"reputation":1194,"user_id":10282780,"display_name":"Prasenjit Mahato"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1593783978,"creation_date":1593783585,"answer_id":62716644,"question_id":7456006,"body_markdown":"Below two commands are most useful\r\n```\r\nmvn clean package -Dmaven.test.skip=true \r\nmvn clean package -DskipTests\r\n```\r\nThanks","title":"Maven package/install without test (skip tests)","body":"<p>Below two commands are most useful</p>\n<pre><code>mvn clean package -Dmaven.test.skip=true \nmvn clean package -DskipTests\n</code></pre>\n<p>Thanks</p>\n"},{"tags":[],"owner":{"display_name":"user19430224"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657685402,"creation_date":1657685402,"answer_id":72960846,"question_id":7456006,"body_markdown":"Those who don&#39;t want to skip the test cases. \r\njust above the main test class comment out or delete annotation:\r\n\r\n    //@SpringBootTest\r\n\r\nThen when Maven builds an app, it will still run tests inside this class but will not run SpringBoot app, so will not test the connection to DB and the build will be successful.","title":"Maven package/install without test (skip tests)","body":"<p>Those who don't want to skip the test cases.\njust above the main test class comment out or delete annotation:</p>\n<pre><code>//@SpringBootTest\n</code></pre>\n<p>Then when Maven builds an app, it will still run tests inside this class but will not run SpringBoot app, so will not test the connection to DB and the build will be successful.</p>\n"},{"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1662395702,"creation_date":1662395702,"answer_id":73612369,"question_id":7456006,"body_markdown":"&gt; you can use any maven goals like **package / clean install**\r\n\r\n \r\n\r\n**Solution: 1 ( package Goal )** \r\n\r\n    mvn package -Dmaven.test.skip\r\n    mvn package -Dmaven.test.skip=true\r\n    mvn package -DskipTests\r\n\r\n\r\n**Solution: 2 ( clean install goals )**\r\n\r\n    mvn clean install -Dmaven.test.skip\r\n    mvn clean install -Dmaven.test.skip=true\r\n    mvn clean install -DskipTests\r\n\r\n\r\n**Solution: 3 ( in pom.xml file )**\r\n\r\n&gt; you can use **maven-skipping-tests** in pom file and no need to provide\r\n&gt; the attributes like **DskipTests,Dmaven.test.skip**\r\n\r\n**Pom.xml**\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\r\n    &lt;/properties&gt;\r\n\r\nLater you can use maven command : **mvn clean install/mvn package**\r\n\r\n&gt; Reference: https://www.baeldung.com/maven-skipping-tests","title":"Maven package/install without test (skip tests)","body":"<blockquote>\n<p>you can use any maven goals like <strong>package / clean install</strong></p>\n</blockquote>\n<p><strong>Solution: 1 ( package Goal )</strong></p>\n<pre><code>mvn package -Dmaven.test.skip\nmvn package -Dmaven.test.skip=true\nmvn package -DskipTests\n</code></pre>\n<p><strong>Solution: 2 ( clean install goals )</strong></p>\n<pre><code>mvn clean install -Dmaven.test.skip\nmvn clean install -Dmaven.test.skip=true\nmvn clean install -DskipTests\n</code></pre>\n<p><strong>Solution: 3 ( in pom.xml file )</strong></p>\n<blockquote>\n<p>you can use <strong>maven-skipping-tests</strong> in pom file and no need to provide\nthe attributes like <strong>DskipTests,Dmaven.test.skip</strong></p>\n</blockquote>\n<p><strong>Pom.xml</strong></p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Later you can use maven command : <strong>mvn clean install/mvn package</strong></p>\n<blockquote>\n<p>Reference: <a href=\"https://www.baeldung.com/maven-skipping-tests\" rel=\"noreferrer\">https://www.baeldung.com/maven-skipping-tests</a></p>\n</blockquote>\n"}],"owner":{"account_id":400997,"reputation":6759,"user_id":767303,"accept_rate":51,"display_name":"vks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542355,"favorite_count":0,"down_vote_count":0,"up_vote_count":533,"accepted_answer_id":7456028,"answer_count":23,"score":533,"last_activity_date":1662395702,"creation_date":1316274842,"question_id":7456006,"body_markdown":"I am trying to package my project. But, it automatically runs the tests previous do performing the packaging. The tests insert some content in the database. This is not what I want, I need to avoid running tests while package the application. Anybody knows how run the package with out test?\r\n\r\n","title":"Maven package/install without test (skip tests)","body":"<p>I am trying to package my project. But, it automatically runs the tests previous do performing the packaging. The tests insert some content in the database. This is not what I want, I need to avoid running tests while package the application. Anybody knows how run the package with out test?</p>\n"},{"tags":["java","spring-boot","apache-camel"],"comments":[{"owner":{"account_id":70669,"reputation":1226,"user_id":204718,"display_name":"Luca Burgazzoli"},"score":1,"creation_date":1641537141,"post_id":70614544,"comment_id":124834270,"body_markdown":"I recommend to use the latest version of camel (3.14.0) as the M4 you are using here is pretty old snd unstable. Also, have a look at the example here: https://github.com/apache/camel-spring-boot-examples","body":"I recommend to use the latest version of camel (3.14.0) as the M4 you are using here is pretty old snd unstable. Also, have a look at the example here: <a href=\"https://github.com/apache/camel-spring-boot-examples\" rel=\"nofollow noreferrer\">github.com/apache/camel-spring-boot-examples</a>"},{"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"score":0,"creation_date":1641552061,"post_id":70614544,"comment_id":124838781,"body_markdown":"@LucaBurgazzoli I updated to 3.14.0 but still get the same behaviour. Also which example specifically is relevant on your link?","body":"@LucaBurgazzoli I updated to 3.14.0 but still get the same behaviour. Also which example specifically is relevant on your link?"},{"owner":{"account_id":70669,"reputation":1226,"user_id":204718,"display_name":"Luca Burgazzoli"},"score":0,"creation_date":1641557045,"post_id":70614544,"comment_id":124840437,"body_markdown":"the rest-opeanpi one, should do something similar","body":"the rest-opeanpi one, should do something similar"},{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1641757337,"post_id":70614544,"comment_id":124884045,"body_markdown":"Try with removing the trailing slash in your url (&#39;http://localhost:8080/batchFile//routeStart&#39; instead of &#39;http://localhost:8080/batchFile/routeStart/&#39;) ?","body":"Try with removing the trailing slash in your url (&#39;<a href=\"http://localhost:8080/batchFile//routeStart\" rel=\"nofollow noreferrer\">localhost:8080/batchFile//routeStart</a>&#39; instead of &#39;<a href=\"http://localhost:8080/batchFile/routeStart/&#39;\" rel=\"nofollow noreferrer\">localhost:8080/batchFile/routeStart/&#39;</a>) ?"}],"answers":[{"tags":[],"owner":{"account_id":19014988,"reputation":73,"user_id":14556013,"display_name":"Cristhian david Hoyos Trochez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662395223,"creation_date":1662394872,"answer_id":73612228,"question_id":70614544,"body_markdown":"I know this is old question but the solution is in the application properties,\r\nthe rigth endpoint is http://localhost:8080/camel/batchFile/routeStart/\r\nthe /camel/ is a property used in servlet, but you can change it with this in your applicationsProperties camel.servlet.mapping.context-path for example:\r\n\r\n    camel.servlet.mapping.context-path =/youcanchangethis/*\r\n\r\nthe * is for use the next parameters inside your rest route","title":"REST endpoint not found when invoked and was created using Apache Camel","body":"<p>I know this is old question but the solution is in the application properties,\nthe rigth endpoint is http://localhost:8080/camel/batchFile/routeStart/\nthe /camel/ is a property used in servlet, but you can change it with this in your applicationsProperties camel.servlet.mapping.context-path for example:</p>\n<pre><code>camel.servlet.mapping.context-path =/youcanchangethis/*\n</code></pre>\n<p>the * is for use the next parameters inside your rest route</p>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662395223,"creation_date":1641509274,"question_id":70614544,"body_markdown":"I&#39;m using Apache Camel and SpringBoot to programmatically create a REST endpoint, but getting an error when invoking the endpoint using Postman.\r\n\r\n`build.gradle.kts`:\r\n```\r\ndependencies {\r\n\r\n  implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n\r\n  implementation(&quot;org.apache.camel:camel-core:3.14.0&quot;)\r\n\r\n  implementation(&quot;org.apache.camel.springboot:camel-spring-boot-starter:3.14.0&quot;)\r\n\r\n  implementation(&quot;org.apache.camel.springboot:camel-servlet-starter:3.14.0&quot;)\r\n\r\n  implementation(&quot;com.sun.activation:javax.activation:1.2.0&quot;)\r\n}\r\n```\r\n\r\n`App.java`:\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class App {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(App.class, args);\r\n\t}\r\n}\r\n```\r\n\r\n`BatchFileService.java`:\r\n```\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.apache.camel.model.rest.RestBindingMode;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class BatchFileService extends RouteBuilder {\r\n\r\n  @Override\r\n  public void configure() throws Exception {\r\n\r\n    restConfiguration()\r\n        .component(&quot;servlet&quot;)\r\n        .bindingMode(RestBindingMode.auto);\r\n\r\n    rest(&quot;/batchFile&quot;)\r\n        .consumes(&quot;application/json&quot;)\r\n        .produces(&quot;application/json&quot;)\r\n        .post(&quot;/routeStart&quot;)\r\n        .to(&quot;direct:startRoute&quot;);\r\n  }\r\n}\r\n```\r\n\r\n`HttpRouteBuilder.java`:\r\n```\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class HttpRouteBuilder  extends RouteBuilder{\r\n\r\n  @Autowired\r\n  private StartRouteProcessor startRouteProcessor;\r\n\r\n  @Override\r\n  public void configure() throws Exception {\r\n    from(&quot;direct:startRoute&quot;).log(&quot;Inside StartRoute&quot;)\r\n        .process(startRouteProcessor);\r\n  }\r\n}\r\n```\r\n\r\n`StartRouteProcessor.java`:\r\n```\r\nimport org.apache.camel.Exchange;\r\nimport org.apache.camel.Processor;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component(&quot;startRouteProcessor&quot;)\r\npublic class StartRouteProcessor implements Processor {\r\n\r\n  public void process(Exchange exchange) throws Exception {\r\n    String message = exchange.getIn().getBody(String.class);\r\n    System.out.println(message);\r\n  }\r\n}\r\n```\r\n\r\nAnd see the following in the logs on app startup:\r\n```\r\no.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:2 started:2)\r\no.a.c.impl.engine.AbstractCamelContext   :     Started route1 (rest://post:/batchFile:/routeStart)\r\no.a.c.impl.engine.AbstractCamelContext   :     Started route2 (direct://startRoute)\r\no.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.14.0 (camel-1) started in 238ms (build:48ms init:176ms start:14ms)\r\no.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]\r\no.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n```\r\n\r\nIn postman, I exercise the uri using:\r\nPOST http://localhost:8080/batchFile/routeStart/\r\n\r\n```\r\n{\r\n &quot;title&quot; : &quot;test title&quot;,\r\n &quot;singer&quot; : &quot;some singer&quot;\r\n}\r\n```\r\n\r\nBut why do I get a 404 error?\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-01-06T22:41:47.714+0000&quot;,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;message&quot;: &quot;No message available&quot;,\r\n    &quot;path&quot;: &quot;/batchFile/routeStart/&quot;\r\n}\r\n```","title":"REST endpoint not found when invoked and was created using Apache Camel","body":"<p>I'm using Apache Camel and SpringBoot to programmatically create a REST endpoint, but getting an error when invoking the endpoint using Postman.</p>\n<p><code>build.gradle.kts</code>:</p>\n<pre><code>dependencies {\n\n  implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n\n  implementation(&quot;org.apache.camel:camel-core:3.14.0&quot;)\n\n  implementation(&quot;org.apache.camel.springboot:camel-spring-boot-starter:3.14.0&quot;)\n\n  implementation(&quot;org.apache.camel.springboot:camel-servlet-starter:3.14.0&quot;)\n\n  implementation(&quot;com.sun.activation:javax.activation:1.2.0&quot;)\n}\n</code></pre>\n<p><code>App.java</code>:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class App {\n\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n}\n</code></pre>\n<p><code>BatchFileService.java</code>:</p>\n<pre><code>import org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.model.rest.RestBindingMode;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class BatchFileService extends RouteBuilder {\n\n  @Override\n  public void configure() throws Exception {\n\n    restConfiguration()\n        .component(&quot;servlet&quot;)\n        .bindingMode(RestBindingMode.auto);\n\n    rest(&quot;/batchFile&quot;)\n        .consumes(&quot;application/json&quot;)\n        .produces(&quot;application/json&quot;)\n        .post(&quot;/routeStart&quot;)\n        .to(&quot;direct:startRoute&quot;);\n  }\n}\n</code></pre>\n<p><code>HttpRouteBuilder.java</code>:</p>\n<pre><code>import org.apache.camel.builder.RouteBuilder;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class HttpRouteBuilder  extends RouteBuilder{\n\n  @Autowired\n  private StartRouteProcessor startRouteProcessor;\n\n  @Override\n  public void configure() throws Exception {\n    from(&quot;direct:startRoute&quot;).log(&quot;Inside StartRoute&quot;)\n        .process(startRouteProcessor);\n  }\n}\n</code></pre>\n<p><code>StartRouteProcessor.java</code>:</p>\n<pre><code>import org.apache.camel.Exchange;\nimport org.apache.camel.Processor;\nimport org.springframework.stereotype.Component;\n\n@Component(&quot;startRouteProcessor&quot;)\npublic class StartRouteProcessor implements Processor {\n\n  public void process(Exchange exchange) throws Exception {\n    String message = exchange.getIn().getBody(String.class);\n    System.out.println(message);\n  }\n}\n</code></pre>\n<p>And see the following in the logs on app startup:</p>\n<pre><code>o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:2 started:2)\no.a.c.impl.engine.AbstractCamelContext   :     Started route1 (rest://post:/batchFile:/routeStart)\no.a.c.impl.engine.AbstractCamelContext   :     Started route2 (direct://startRoute)\no.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.14.0 (camel-1) started in 238ms (build:48ms init:176ms start:14ms)\no.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]\no.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n</code></pre>\n<p>In postman, I exercise the uri using:\nPOST http://localhost:8080/batchFile/routeStart/</p>\n<pre><code>{\n &quot;title&quot; : &quot;test title&quot;,\n &quot;singer&quot; : &quot;some singer&quot;\n}\n</code></pre>\n<p>But why do I get a 404 error?</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-01-06T22:41:47.714+0000&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: &quot;No message available&quot;,\n    &quot;path&quot;: &quot;/batchFile/routeStart/&quot;\n}\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8934,"page":1058,"page_size":100}
