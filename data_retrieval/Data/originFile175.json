{"items":[{"tags":["java","zapier","tablerow","airtable","formstack"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695229211,"post_id":77136084,"comment_id":135997693,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26374602,"reputation":1,"user_id":20028759,"display_name":"ShanahFeely"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695138322,"creation_date":1695138322,"question_id":77136084,"body_markdown":"This is an example of my field data:\r\n\r\n```\r\n[{&quot;1A&quot;:&quot;Loose cables hanging&quot;,&quot;1B&quot;:&quot;Objects causing potential eye injury to persons. Objects cause unnecessary trip hazards. Objects causing potential damage to existing assets.&quot;,&quot;1C&quot;:&quot;All operatives&quot;,&quot;1D&quot;:2,&quot;1E&quot;:3,&quot;1F&quot;:6,&quot;1G&quot;:&quot;Leave cable lengths secured and wrapped neatly, secure with cable ties and ensure they are placed in a position where they can cause no harm.&quot;,&quot;1H&quot;:1,&quot;1I&quot;:3,&quot;1J&quot;:3,&quot;1K&quot;:&quot;Low&quot;},{&quot;2A&quot;:&quot;Damaged components&quot;,&quot;2B&quot;:&quot;Falling from height and the associated risks&quot;,&quot;2C&quot;:&quot;All operatives/ members of public&quot;,&quot;2D&quot;:2,&quot;2E&quot;:5,&quot;2F&quot;:10,&quot;2G&quot;:&quot;Scheduled equipment maintenance, safety checks ahead of usage.&quot;,&quot;2H&quot;:1,&quot;2I&quot;:5,&quot;2J&quot;:5,&quot;2K&quot;:&quot;Low&quot;}]\r\n```\r\n\r\nThis is an example of my tags:\r\n\r\n{tablerow from=$RiskMatrix item=risk}{$risk.1A}\t{$risk.1B}\t{$risk.1C}\t{$risk.1D}\t{$risk.1E}\t{$risk.1F}\t{$risk.1G}\t{$risk.1H}\t{$risk.1I}\t{$risk.1J}\t{$risk.1K}{/tablerow}\r\n\r\nThe result in each of my table cells (Formstack doc) is showing \r\n\r\n```\r\n{\r\n```\r\n\r\nin each cell.\r\nI want the value (string) of each key value pair in my array data to show in my table cells.\r\n\r\nAm I doing something wrong with the tags/field data or is this only possible via Zapier/further scripting?","title":"Why won&#39;t my Formstack document tags (word doc) read my field Array (Airtable) with the tablerow loop?","body":"<p>This is an example of my field data:</p>\n<pre><code>[{&quot;1A&quot;:&quot;Loose cables hanging&quot;,&quot;1B&quot;:&quot;Objects causing potential eye injury to persons. Objects cause unnecessary trip hazards. Objects causing potential damage to existing assets.&quot;,&quot;1C&quot;:&quot;All operatives&quot;,&quot;1D&quot;:2,&quot;1E&quot;:3,&quot;1F&quot;:6,&quot;1G&quot;:&quot;Leave cable lengths secured and wrapped neatly, secure with cable ties and ensure they are placed in a position where they can cause no harm.&quot;,&quot;1H&quot;:1,&quot;1I&quot;:3,&quot;1J&quot;:3,&quot;1K&quot;:&quot;Low&quot;},{&quot;2A&quot;:&quot;Damaged components&quot;,&quot;2B&quot;:&quot;Falling from height and the associated risks&quot;,&quot;2C&quot;:&quot;All operatives/ members of public&quot;,&quot;2D&quot;:2,&quot;2E&quot;:5,&quot;2F&quot;:10,&quot;2G&quot;:&quot;Scheduled equipment maintenance, safety checks ahead of usage.&quot;,&quot;2H&quot;:1,&quot;2I&quot;:5,&quot;2J&quot;:5,&quot;2K&quot;:&quot;Low&quot;}]\n</code></pre>\n<p>This is an example of my tags:</p>\n<p>{tablerow from=$RiskMatrix item=risk}{$risk.1A} {$risk.1B}  {$risk.1C}  {$risk.1D}  {$risk.1E}  {$risk.1F}  {$risk.1G}  {$risk.1H}  {$risk.1I}  {$risk.1J}  {$risk.1K}{/tablerow}</p>\n<p>The result in each of my table cells (Formstack doc) is showing</p>\n<pre><code>{\n</code></pre>\n<p>in each cell.\nI want the value (string) of each key value pair in my array data to show in my table cells.</p>\n<p>Am I doing something wrong with the tags/field data or is this only possible via Zapier/further scripting?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1487712837,"post_id":42378334,"comment_id":71905941,"body_markdown":"You&#39;ve posted requirements and code but have asked no *specific* question. Please fix this so that we can know how to answer this. If your question is the broad, &quot;can someone help me&quot;, then please read, [Why is “Can someone help me?” not an actual question?](http://meta.stackoverflow.com/q/284236)","body":"You&#39;ve posted requirements and code but have asked no <i>specific</i> question. Please fix this so that we can know how to answer this. If your question is the broad, &quot;can someone help me&quot;, then please read, <a href=\"http://meta.stackoverflow.com/q/284236\">Why is “Can someone help me?” not an actual question?</a>"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1487713014,"post_id":42378334,"comment_id":71906046,"body_markdown":"How do you solve the problem &quot;in your head&quot;. What&#39;s your strategy? Why do you think your code solves the problem. For example, if the string is &quot;&gt;&lt;&gt;&lt;&quot;, you have 2 left saluters, 2 right saluters, but the answer is not 2 * 2 * 2 = 8. It&#39;s 6.","body":"How do you solve the problem &quot;in your head&quot;. What&#39;s your strategy? Why do you think your code solves the problem. For example, if the string is &quot;&gt;&lt;&gt;&lt;&quot;, you have 2 left saluters, 2 right saluters, but the answer is not 2 * 2 * 2 = 8. It&#39;s 6."},{"owner":{"account_id":8969596,"reputation":1685,"user_id":6688671,"accept_rate":92,"display_name":"Gabriel_W"},"score":0,"creation_date":1487713619,"post_id":42378334,"comment_id":71906409,"body_markdown":"@JBNizet well initially I figured that by isolating the right saluters and left saluters it would be a simple matter of multiplying the length of their respective strings and returning the value however that did not hold up in every case.  The * 2 on the end of the return is actually a mistake I have edited it out","body":"@JBNizet well initially I figured that by isolating the right saluters and left saluters it would be a simple matter of multiplying the length of their respective strings and returning the value however that did not hold up in every case.  The * 2 on the end of the return is actually a mistake I have edited it out"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1487713770,"post_id":42378334,"comment_id":71906482,"body_markdown":"It&#39;s still wrong without the * 2, as my counterexample shows. This formula is just wrong. Read Jason&#39;s answer: that&#39;s how I do it myself when counting the number of salutes &quot;in my head&quot;.","body":"It&#39;s still wrong without the * 2, as my counterexample shows. This formula is just wrong. Read Jason&#39;s answer: that&#39;s how I do it myself when counting the number of salutes &quot;in my head&quot;."},{"owner":{"account_id":8969596,"reputation":1685,"user_id":6688671,"accept_rate":92,"display_name":"Gabriel_W"},"score":0,"creation_date":1487713839,"post_id":42378334,"comment_id":71906526,"body_markdown":"Ya something is definitely off, I really appreciate your pointers","body":"Ya something is definitely off, I really appreciate your pointers"},{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":0,"creation_date":1487717572,"post_id":42378334,"comment_id":71908292,"body_markdown":"*&quot;how do I eliminate the other returns?&quot;* It&#39;s not a &quot;return&quot; but your `System.out.println(saluters);` remove that line and you&#39;re done","body":"<i>&quot;how do I eliminate the other returns?&quot;</i> It&#39;s not a &quot;return&quot; but your <code>System.out.println(saluters);</code> remove that line and you&#39;re done"},{"owner":{"account_id":8969596,"reputation":1685,"user_id":6688671,"accept_rate":92,"display_name":"Gabriel_W"},"score":0,"creation_date":1487717922,"post_id":42378334,"comment_id":71908417,"body_markdown":"Hahaha wow im an idiot","body":"Hahaha wow im an idiot"}],"answers":[{"tags":[],"owner":{"account_id":222568,"reputation":11754,"user_id":481248,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1487738892,"creation_date":1487713141,"answer_id":42378506,"question_id":42378334,"body_markdown":"The key is to recognise that minions only salute other minions that are in front of them and are walking towards them.\r\n\r\nThe algorithm to calculate the number of salutes is:\r\n\r\n    for each &#39;&gt;&#39;\r\n        count the &#39;&lt;&#39; to its right\r\n        add count to the running total\r\n    end for\r\n\r\n    output the running total * 2 (because 2 salutes per meeting)\r\n\r\n**Edit:** Here&#39;s one way to implement my algorithm (not the most efficient code, but a quick-and-dirty first attempt):\r\n\r\n    public static void main(String[] args) {\r\n        //Test input\r\n        System.out.println(answer(&quot;&lt;--&gt;-&lt;--&lt;&gt;-&lt;&lt;--&gt;--&lt;--&gt;&quot;));\r\n        System.out.println(answer(&quot;&lt;&lt;&gt;&lt;&gt;&gt;&lt;&gt;&gt;&lt;&lt;&gt;&lt;&gt;&gt;&gt;&quot;));\r\n        System.out.println(answer(&quot;&gt;----&lt;&quot;));\r\n        System.out.println(answer(&quot;&lt;&lt;&gt;&gt;&lt;&quot;));\r\n    }\r\n\r\n    public static int answer(String s) {\r\n\r\n        int meetings = 0;\r\n\r\n        for (int index = 0; index &lt; s.length() - 1; index++) {    // stop one short of the end, since if the last minion is heading right, there won&#39;t be anyone in from of him\r\n            if (s.charAt(index) == &#39;&gt;&#39;) {\r\n                meetings += countApproachingMinions(s.substring(index + 1));\r\n            }\r\n        }\r\n\r\n        return meetings * 2;\r\n    }\r\n\r\n    private static int countApproachingMinions(String hallwayAhead) {\r\n        return hallwayAhead.replaceAll(&quot;&gt;&quot;, &quot;&quot;)    // ignore minions heading the same way\r\n                .replaceAll(&quot;-&quot;, &quot;&quot;)               // ignore spaces\r\n                .length();                         // count the approaching minions\r\n    }\r\n","title":"Google Foo.Bar Challenge Help Minion Salutes","body":"<p>The key is to recognise that minions only salute other minions that are in front of them and are walking towards them.</p>\n\n<p>The algorithm to calculate the number of salutes is:</p>\n\n<pre><code>for each '&gt;'\n    count the '&lt;' to its right\n    add count to the running total\nend for\n\noutput the running total * 2 (because 2 salutes per meeting)\n</code></pre>\n\n<p><strong>Edit:</strong> Here's one way to implement my algorithm (not the most efficient code, but a quick-and-dirty first attempt):</p>\n\n<pre><code>public static void main(String[] args) {\n    //Test input\n    System.out.println(answer(\"&lt;--&gt;-&lt;--&lt;&gt;-&lt;&lt;--&gt;--&lt;--&gt;\"));\n    System.out.println(answer(\"&lt;&lt;&gt;&lt;&gt;&gt;&lt;&gt;&gt;&lt;&lt;&gt;&lt;&gt;&gt;&gt;\"));\n    System.out.println(answer(\"&gt;----&lt;\"));\n    System.out.println(answer(\"&lt;&lt;&gt;&gt;&lt;\"));\n}\n\npublic static int answer(String s) {\n\n    int meetings = 0;\n\n    for (int index = 0; index &lt; s.length() - 1; index++) {    // stop one short of the end, since if the last minion is heading right, there won't be anyone in from of him\n        if (s.charAt(index) == '&gt;') {\n            meetings += countApproachingMinions(s.substring(index + 1));\n        }\n    }\n\n    return meetings * 2;\n}\n\nprivate static int countApproachingMinions(String hallwayAhead) {\n    return hallwayAhead.replaceAll(\"&gt;\", \"\")    // ignore minions heading the same way\n            .replaceAll(\"-\", \"\")               // ignore spaces\n            .length();                         // count the approaching minions\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8121635,"reputation":541,"user_id":6118172,"display_name":"shivangg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498317081,"creation_date":1498317081,"answer_id":44737845,"question_id":42378334,"body_markdown":"A better algorithm that requires only once to go through the entire string.\r\n\r\n\r\n    def answer(s):\r\n\t    # your code herecat \r\n\t    multiplier = 0\r\n\t    salute = 0\r\n\t    for x in range(len(s)):\r\n\t\t    if s[x] is &#39;&lt;&#39;:\r\n\t\t\t    multiplier += 1\r\n\r\n    \tfor x in range(len(s)):\r\n\t    \tif s[x] is &#39;&gt;&#39;:\r\n\t\t    \tsalute += multiplier\r\n    \t\telif s[x] is &#39;&lt;&#39;:\r\n\t    \t\tmultiplier -= 1\r\n\r\n    \tans = salute * 2\r\n\r\n\t    return ans","title":"Google Foo.Bar Challenge Help Minion Salutes","body":"<p>A better algorithm that requires only once to go through the entire string.</p>\n\n<pre><code>def answer(s):\n    # your code herecat \n    multiplier = 0\n    salute = 0\n    for x in range(len(s)):\n        if s[x] is '&lt;':\n            multiplier += 1\n\n    for x in range(len(s)):\n        if s[x] is '&gt;':\n            salute += multiplier\n        elif s[x] is '&lt;':\n            multiplier -= 1\n\n    ans = salute * 2\n\n    return ans\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8126986,"reputation":23,"user_id":7192818,"display_name":"Geo R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530991982,"creation_date":1530991982,"answer_id":51226373,"question_id":42378334,"body_markdown":"Here&#39;s another way of doing it. If you split left and right moving into to different strings and then represent each as a binary number you can use bit wise and &amp;, and bit shift &gt;&gt; operations to simulate the two lines passing each other. \r\n\r\nHere is a simple python solution. Note python supports arbitrary length ints, so in another language you might have to pull in a &quot;big int&quot; class for this approach to work.\r\n\r\n&lt;!-- language: lang-python --&gt;\r\n\r\n    def answer(s):\r\n        hall_length = len(s)\r\n        hall = s.replace(&#39;-&#39;, &#39;0&#39;)\r\n        left = hall.replace(&#39;&lt;&#39;, &#39;1&#39;).replace(&#39;&gt;&#39;, &#39;0&#39;)\r\n        right = hall.replace(&#39;&gt;&#39;, &#39;1&#39;).replace(&#39;&lt;&#39;, &#39;0&#39;)\r\n        #convert binary strings to ints\r\n        left = int(left, 2)\r\n        right = int(right, 2)\r\n        passes = 0\r\n        for i in range(1, hall_length):\r\n            p = left &amp; (right &gt;&gt; i)#An int whos number of high bits represents the number of passes this step\r\n            p = bin(p).count(&quot;1&quot;) #Convert to string and count the 1&#39;s\r\n            passes = passes + p \r\n        return int(passes * 2)","title":"Google Foo.Bar Challenge Help Minion Salutes","body":"<p>Here's another way of doing it. If you split left and right moving into to different strings and then represent each as a binary number you can use bit wise and &amp;, and bit shift >> operations to simulate the two lines passing each other. </p>\n\n<p>Here is a simple python solution. Note python supports arbitrary length ints, so in another language you might have to pull in a \"big int\" class for this approach to work.</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def answer(s):\n    hall_length = len(s)\n    hall = s.replace('-', '0')\n    left = hall.replace('&lt;', '1').replace('&gt;', '0')\n    right = hall.replace('&gt;', '1').replace('&lt;', '0')\n    #convert binary strings to ints\n    left = int(left, 2)\n    right = int(right, 2)\n    passes = 0\n    for i in range(1, hall_length):\n        p = left &amp; (right &gt;&gt; i)#An int whos number of high bits represents the number of passes this step\n        p = bin(p).count(\"1\") #Convert to string and count the 1's\n        passes = passes + p \n    return int(passes * 2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14370710,"reputation":41,"user_id":12088879,"display_name":"Alok Upadhya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589823096,"creation_date":1589621439,"answer_id":61834655,"question_id":42378334,"body_markdown":"```python\r\ndef solution(s):\r\n\tpas = 0\r\n\tsalute = 0\r\n\tfor x in range(s.find(&#39;&gt;&#39;),len(s)-s[::-1].find(&#39;&lt;&#39;)):\r\n\t\tif(s[x] == &#39;&gt;&#39;):\r\n\t\t\tpas+=1\r\n\t\tif(s[x] == &#39;&lt;&#39;):\r\n\t\t\tsalute += 2*pas\r\n\treturn salute\r\n```\r\n**Explanation**\r\n\r\nIn the above code solution, it will process the string from left to right\r\nand find the index position of &#39;&gt;&#39; from left and &#39;&lt;&#39; from the right.\r\n\r\n```\r\ns.find(&#39;&gt;&#39;),len(s)-s[::-1].find(&#39;&lt;&#39;)\r\n\r\n&lt; - &gt; - &gt; &lt; - &lt; - &gt;\r\n0 1 2 3 4 5 6 7 8 9\r\n    ^         ^\r\n```\r\nminions at positions 0 and 9 never salute others in the above string example. so that we process only from index 2 to 7 (left to right)\r\n\r\nif the string is &#39;&gt;&#39; at the current position then increments the **pas** value\r\n```\r\nif(s[x] == &#39;&gt;&#39;):\r\n    pas+=1\r\n```\r\n\r\nif the string is &#39;&lt;&#39; at the current position then multiply the **pas** value with 2 and add with a total salute count\r\n```\r\nif(s[x] == &#39;&lt;&#39;):\r\n    salute += 2*pas\r\n```\r\n\r\nAfter the completion of the loop, **salute** value is the total no. of salutes.\r\n\r\n``` python\r\n#Simulation of the code\r\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\r\n0 1 | 2 3 4 5 6 7 | 8 9\r\n      ^     \r\ncurrent pos = 2\r\npas = 1\r\nsalute = 0\r\n\r\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\r\n0 1 | 2 3 4 5 6 7 | 8 9\r\n        ^   \r\ncurrent pos = 3\r\npas = 1\r\nsalute = 0\r\n\r\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\r\n0 1 | 2 3 4 5 6 7 | 8 9\r\n          ^   \r\ncurrent pos = 4\r\npas = 2 \r\nsalute = 0\r\n\r\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\r\n0 1 | 2 3 4 5 6 7 | 8 9\r\n            ^ \r\ncurrent pos = 5\r\npas = 2 \r\nsalute = 4  (0 += 2*2 / salute = 2*pas)\r\n\r\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\r\n0 1 | 2 3 4 5 6 7 | 8 9\r\n              ^ \r\ncurrent pos = 6\r\npas = 2 \r\nsalute = 4  (0 += 2*2 / salute = 2*pas)\r\n\r\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\r\n0 1 | 2 3 4 5 6 7 | 8 9\r\n                ^ \r\ncurrent pos = 7\r\npas = 2 \r\nsalute = 8  (4 += 2*2 / salute = 2*pas)\r\n\r\n```\r\n","title":"Google Foo.Bar Challenge Help Minion Salutes","body":"<pre class=\"lang-py prettyprint-override\"><code>def solution(s):\n    pas = 0\n    salute = 0\n    for x in range(s.find('&gt;'),len(s)-s[::-1].find('&lt;')):\n        if(s[x] == '&gt;'):\n            pas+=1\n        if(s[x] == '&lt;'):\n            salute += 2*pas\n    return salute\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p>In the above code solution, it will process the string from left to right\nand find the index position of '>' from left and '&lt;' from the right.</p>\n\n<pre><code>s.find('&gt;'),len(s)-s[::-1].find('&lt;')\n\n&lt; - &gt; - &gt; &lt; - &lt; - &gt;\n0 1 2 3 4 5 6 7 8 9\n    ^         ^\n</code></pre>\n\n<p>minions at positions 0 and 9 never salute others in the above string example. so that we process only from index 2 to 7 (left to right)</p>\n\n<p>if the string is '>' at the current position then increments the <strong>pas</strong> value</p>\n\n<pre><code>if(s[x] == '&gt;'):\n    pas+=1\n</code></pre>\n\n<p>if the string is '&lt;' at the current position then multiply the <strong>pas</strong> value with 2 and add with a total salute count</p>\n\n<pre><code>if(s[x] == '&lt;'):\n    salute += 2*pas\n</code></pre>\n\n<p>After the completion of the loop, <strong>salute</strong> value is the total no. of salutes.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>#Simulation of the code\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\n0 1 | 2 3 4 5 6 7 | 8 9\n      ^     \ncurrent pos = 2\npas = 1\nsalute = 0\n\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\n0 1 | 2 3 4 5 6 7 | 8 9\n        ^   \ncurrent pos = 3\npas = 1\nsalute = 0\n\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\n0 1 | 2 3 4 5 6 7 | 8 9\n          ^   \ncurrent pos = 4\npas = 2 \nsalute = 0\n\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\n0 1 | 2 3 4 5 6 7 | 8 9\n            ^ \ncurrent pos = 5\npas = 2 \nsalute = 4  (0 += 2*2 / salute = 2*pas)\n\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\n0 1 | 2 3 4 5 6 7 | 8 9\n              ^ \ncurrent pos = 6\npas = 2 \nsalute = 4  (0 += 2*2 / salute = 2*pas)\n\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\n0 1 | 2 3 4 5 6 7 | 8 9\n                ^ \ncurrent pos = 7\npas = 2 \nsalute = 8  (4 += 2*2 / salute = 2*pas)\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3490706,"reputation":1,"user_id":2920469,"display_name":"Shanks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695138009,"creation_date":1695137366,"answer_id":77135956,"question_id":42378334,"body_markdown":"I thought this would be simpler to implement but looking at the answers, I am confused. This is what I have so far and I tried running a couple of tests and they are passing. What am I missing? Can someone please point me to use-cases that won&#39;t work.\r\n\r\n    public static int solution(String s) {\r\n        int left = 0;\r\n        int count = 0;\r\n        char[] charArr = s.toCharArray();\r\n        for (int i = 0; i &lt; charArr.length; i++) {\r\n          if (&#39;&gt;&#39; == charArr[i]) {\r\n            left++;\r\n          }\r\n          if (&#39;&lt;&#39; == charArr[i]) {\r\n            count += left;\r\n          }\r\n        }\r\n        return count &lt;&lt; 1;\r\n    }\r\n\r\n","title":"Google Foo.Bar Challenge Help Minion Salutes","body":"<p>I thought this would be simpler to implement but looking at the answers, I am confused. This is what I have so far and I tried running a couple of tests and they are passing. What am I missing? Can someone please point me to use-cases that won't work.</p>\n<pre><code>public static int solution(String s) {\n    int left = 0;\n    int count = 0;\n    char[] charArr = s.toCharArray();\n    for (int i = 0; i &lt; charArr.length; i++) {\n      if ('&gt;' == charArr[i]) {\n        left++;\n      }\n      if ('&lt;' == charArr[i]) {\n        count += left;\n      }\n    }\n    return count &lt;&lt; 1;\n}\n</code></pre>\n"}],"owner":{"account_id":8969596,"reputation":1685,"user_id":6688671,"accept_rate":92,"display_name":"Gabriel_W"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4140,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":42378506,"answer_count":5,"score":3,"last_activity_date":1695138009,"creation_date":1487712429,"question_id":42378334,"body_markdown":"I am working on a foo.bar challenge and have become stuck.  here is the description of the problem:\r\n\r\n&gt; En Route Salute\r\n===============\r\n\r\nCommander Lambda loves efficiency and hates anything that wastes time. She&#39;s a busy lamb, after all! She generously rewards henchmen who identify sources of inefficiency and come up with ways to remove them. You&#39;ve spotted one such source, and you think solving it will help you build the reputation you need to get promoted.\r\n\r\nEvery time the Commander&#39;s employees pass each other in the hall, each of them must stop and salute each other - one at a time - before resuming their path. A salute is five seconds long, so each exchange of salutes takes a full ten seconds (Commander Lambda&#39;s salute is a bit, er, involved). You think that by removing the salute requirement, you could save several collective hours of employee time per day. But first, you need to show her how bad the problem really is.\r\n\r\nWrite a program that counts how many salutes are exchanged during a typical walk along a hallway. The hall is represented by a string. For example:\r\n&quot;---&gt;-&gt;&lt;-&gt;&lt;--&gt;-&quot;\r\n\r\nEach hallway string will contain three different types of characters: &#39;&gt;&#39;, an employee walking to the right; &#39;&lt;&#39;, an employee walking to the left; and &#39;-&#39;, an empty space. Every employee walks at the same speed either to right or to the left, according to their direction. Whenever two employees cross, each of them salutes the other. They then continue walking until they reach the end, finally leaving the hallway. In the above example, they salute 10 times.\r\n\r\nWrite a function answer(s) which takes a string representing employees walking along a hallway and returns the number of times the employees will salute. s will contain at least 1 and at most 100 characters, each one of -, &gt;, or &lt;.\r\n\r\nSample output:\r\n\r\n&gt; Test cases\r\n==========\r\n\r\nInputs:\r\n    (string) s = &quot;&gt;----&lt;&quot;\r\nOutput:\r\n    (int) 2\r\n\r\nInputs:\r\n    (string) s = &quot;&lt;&lt;&gt;&gt;&lt;&quot;\r\nOutput:\r\n    (int) 4\r\n\r\nMy Code so far: \r\n\r\n    public class Minion_SalutesV1 {\r\n    public static void main(String[] args){\r\n        //Test input\r\n        System.out.println(answer(&quot;&lt;--&gt;-&lt;--&lt;&gt;-&lt;&lt;--&gt;--&lt;--&gt;&quot;));\r\n        System.out.println(answer(&quot;&lt;&lt;&gt;&lt;&gt;&gt;&lt;&gt;&gt;&lt;&lt;&gt;&lt;&gt;&gt;&gt;&quot;));\r\n        System.out.println(answer(&quot;&gt;----&lt;&quot;));\r\n        System.out.println(answer(&quot;&lt;&lt;&gt;&gt;&lt;&quot;));\r\n    }\r\n    public static int answer(String s) {\r\n        //Return a string starting at the first occurrence of &#39;&gt;&#39; and end at the last occurrence of &#39;&lt;+1&#39; \r\n        String empBound = s.substring(s.indexOf(&#39;&gt;&#39;), s.lastIndexOf(&#39;&lt;&#39;)+1).replaceAll(&quot;-&quot;, &quot;&quot;);\r\n        //Isolate the number of employees walking right\r\n        String rightSaluters = empBound.replaceAll(&quot;&lt;&quot;, &quot;&quot;);\r\n        //Isolate the number of employees walking left\r\n        String leftSaluters = empBound.replaceAll(&quot;&gt;&quot;, &quot;&quot;);\r\n        if(empBound.length() == 2){\r\n            return 2;\r\n        }\r\n        else if (empBound.length() == 3){\r\n            return 4;\r\n        }\r\n        else\r\n        return rightSaluters.length() * leftSaluters.length();\r\n        }\r\n    }\r\n\r\nI have been trying lots of different things on this but have not achieved the correct results yet.\r\n\r\nI thought that returning rightSaluters.length() * leftSaluters.length() would give me the desired results.  I feel like I have the right idea by isolating the right and left saluters but I am lost beyond that point.\r\n\r\nHow do I properly calculate the number of salutes that will take place between the saluters?\r\n\r\nShould I make a variable for the number of encounters that will happen then multiply that number by 2?  I realize I am spitballing here but I have been straining my skull over this for days and waited until the last minute to ask for help.\r\n\r\n**UPDATE:**  Tried implementation of Jason&#39;s answer\r\n\r\n    public class Minion_SalutesV1 {\r\n        public static void main(String[] args){\r\n            //Test input\r\n            System.out.println(answer(&quot;&lt;--&gt;-&lt;--&lt;&gt;-&lt;&lt;--&gt;--&lt;--&gt;&quot;));\r\n            System.out.println(answer(&quot;&lt;&lt;&gt;&lt;&gt;&gt;&lt;&gt;&gt;&lt;&lt;&gt;&lt;&gt;&gt;&gt;&quot;));\r\n            System.out.println(answer(&quot;&gt;----&lt;&quot;));\r\n            System.out.println(answer(&quot;&lt;&lt;&gt;&gt;&lt;&quot;));\r\n        }\r\n        public static int answer(String s) {\r\n            //Return a string starting at the first occurrence of &#39;&gt;&#39; and end at the last occurrence of &#39;&lt;+1&#39;\r\n            String empBound = s.substring(s.indexOf(&#39;&gt;&#39;), s.lastIndexOf(&#39;&lt;&#39;)+1).replaceAll(&quot;-&quot;, &quot;&quot;);\r\n            //Isolate the number of employees walking right\r\n            String rightSaluters = empBound.replaceAll(&quot;&lt;&quot;, &quot;&quot;);\r\n            //Isolate the number of employees walking left\r\n            String leftSaluters = empBound.replaceAll(&quot;&gt;&quot;, &quot;&quot;);\r\n            int saluters = rightSaluters.length()+leftSaluters.length();\r\n            System.out.println(saluters);\r\n\r\n            for(char c = &#39;&gt;&#39;; c &lt; rightSaluters.length(); c++){\r\n                int count = leftSaluters.length();\r\n                saluters = count*2;\r\n            }\r\n            return saluters * 2;\r\n        }\r\n    }\r\n\r\nOUTPUT:\r\n\r\n    8  //remove this\r\n    16\r\n    11 //remove this\r\n    22\r\n    2  //remove this\r\n    4\r\n    3  //remove this\r\n    6\r\n\r\nSo it appears the final integer returned for each string is the one I need how do I eliminate the other returns?","title":"Google Foo.Bar Challenge Help Minion Salutes","body":"<p>I am working on a foo.bar challenge and have become stuck.  here is the description of the problem:</p>\n\n<h1>> En Route Salute</h1>\n\n<p>Commander Lambda loves efficiency and hates anything that wastes time. She's a busy lamb, after all! She generously rewards henchmen who identify sources of inefficiency and come up with ways to remove them. You've spotted one such source, and you think solving it will help you build the reputation you need to get promoted.</p>\n\n<p>Every time the Commander's employees pass each other in the hall, each of them must stop and salute each other - one at a time - before resuming their path. A salute is five seconds long, so each exchange of salutes takes a full ten seconds (Commander Lambda's salute is a bit, er, involved). You think that by removing the salute requirement, you could save several collective hours of employee time per day. But first, you need to show her how bad the problem really is.</p>\n\n<p>Write a program that counts how many salutes are exchanged during a typical walk along a hallway. The hall is represented by a string. For example:\n\"--->->&lt;->&lt;-->-\"</p>\n\n<p>Each hallway string will contain three different types of characters: '>', an employee walking to the right; '&lt;', an employee walking to the left; and '-', an empty space. Every employee walks at the same speed either to right or to the left, according to their direction. Whenever two employees cross, each of them salutes the other. They then continue walking until they reach the end, finally leaving the hallway. In the above example, they salute 10 times.</p>\n\n<p>Write a function answer(s) which takes a string representing employees walking along a hallway and returns the number of times the employees will salute. s will contain at least 1 and at most 100 characters, each one of -, >, or &lt;.</p>\n\n<p>Sample output:</p>\n\n<h1>> Test cases</h1>\n\n<p>Inputs:\n    (string) s = \">----&lt;\"\nOutput:\n    (int) 2</p>\n\n<p>Inputs:\n    (string) s = \"&lt;&lt;>>&lt;\"\nOutput:\n    (int) 4</p>\n\n<p>My Code so far: </p>\n\n<pre><code>public class Minion_SalutesV1 {\npublic static void main(String[] args){\n    //Test input\n    System.out.println(answer(\"&lt;--&gt;-&lt;--&lt;&gt;-&lt;&lt;--&gt;--&lt;--&gt;\"));\n    System.out.println(answer(\"&lt;&lt;&gt;&lt;&gt;&gt;&lt;&gt;&gt;&lt;&lt;&gt;&lt;&gt;&gt;&gt;\"));\n    System.out.println(answer(\"&gt;----&lt;\"));\n    System.out.println(answer(\"&lt;&lt;&gt;&gt;&lt;\"));\n}\npublic static int answer(String s) {\n    //Return a string starting at the first occurrence of '&gt;' and end at the last occurrence of '&lt;+1' \n    String empBound = s.substring(s.indexOf('&gt;'), s.lastIndexOf('&lt;')+1).replaceAll(\"-\", \"\");\n    //Isolate the number of employees walking right\n    String rightSaluters = empBound.replaceAll(\"&lt;\", \"\");\n    //Isolate the number of employees walking left\n    String leftSaluters = empBound.replaceAll(\"&gt;\", \"\");\n    if(empBound.length() == 2){\n        return 2;\n    }\n    else if (empBound.length() == 3){\n        return 4;\n    }\n    else\n    return rightSaluters.length() * leftSaluters.length();\n    }\n}\n</code></pre>\n\n<p>I have been trying lots of different things on this but have not achieved the correct results yet.</p>\n\n<p>I thought that returning rightSaluters.length() * leftSaluters.length() would give me the desired results.  I feel like I have the right idea by isolating the right and left saluters but I am lost beyond that point.</p>\n\n<p>How do I properly calculate the number of salutes that will take place between the saluters?</p>\n\n<p>Should I make a variable for the number of encounters that will happen then multiply that number by 2?  I realize I am spitballing here but I have been straining my skull over this for days and waited until the last minute to ask for help.</p>\n\n<p><strong>UPDATE:</strong>  Tried implementation of Jason's answer</p>\n\n<pre><code>public class Minion_SalutesV1 {\n    public static void main(String[] args){\n        //Test input\n        System.out.println(answer(\"&lt;--&gt;-&lt;--&lt;&gt;-&lt;&lt;--&gt;--&lt;--&gt;\"));\n        System.out.println(answer(\"&lt;&lt;&gt;&lt;&gt;&gt;&lt;&gt;&gt;&lt;&lt;&gt;&lt;&gt;&gt;&gt;\"));\n        System.out.println(answer(\"&gt;----&lt;\"));\n        System.out.println(answer(\"&lt;&lt;&gt;&gt;&lt;\"));\n    }\n    public static int answer(String s) {\n        //Return a string starting at the first occurrence of '&gt;' and end at the last occurrence of '&lt;+1'\n        String empBound = s.substring(s.indexOf('&gt;'), s.lastIndexOf('&lt;')+1).replaceAll(\"-\", \"\");\n        //Isolate the number of employees walking right\n        String rightSaluters = empBound.replaceAll(\"&lt;\", \"\");\n        //Isolate the number of employees walking left\n        String leftSaluters = empBound.replaceAll(\"&gt;\", \"\");\n        int saluters = rightSaluters.length()+leftSaluters.length();\n        System.out.println(saluters);\n\n        for(char c = '&gt;'; c &lt; rightSaluters.length(); c++){\n            int count = leftSaluters.length();\n            saluters = count*2;\n        }\n        return saluters * 2;\n    }\n}\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>8  //remove this\n16\n11 //remove this\n22\n2  //remove this\n4\n3  //remove this\n6\n</code></pre>\n\n<p>So it appears the final integer returned for each string is the one I need how do I eliminate the other returns?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1695134981,"post_id":77135530,"comment_id":135981792,"body_markdown":"This is not opinion-based: the question is &quot;are there any issues with specifying versions for maven plugins?&quot;","body":"This is not opinion-based: the question is &quot;are there any issues with specifying versions for maven plugins?&quot;"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1695135028,"post_id":77135530,"comment_id":135981798,"body_markdown":"I strongly recommend to define all version of all the plugin you are using within your build in pluginManagement and also using the most recent versions of the plugin... independent of your used Maven version.. apart from that I strongly recommend to use the most recent version of Maven as well...","body":"I strongly recommend to define all version of all the plugin you are using within your build in pluginManagement and also using the most recent versions of the plugin... independent of your used Maven version.. apart from that I strongly recommend to use the most recent version of Maven as well..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1695135156,"post_id":77135530,"comment_id":135981821,"body_markdown":"To move that away from an opinion... If you don&#39;t specify the versions and upgrade of Maven could cause issues based on plugin versions. To get a reproducible build define all versions of all plugins...","body":"To move that away from an opinion... If you don&#39;t specify the versions and upgrade of Maven could cause issues based on plugin versions. To get a reproducible build define all versions of all plugins..."},{"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"score":0,"creation_date":1695135182,"post_id":77135530,"comment_id":135981826,"body_markdown":"I should have worded my question differently but these are good answers anyway.  Maybe someone could ask again, I dont see this mentioned anywhere.  Only problem I wonder if bad version causes and issue and what version do you pick?","body":"I should have worded my question differently but these are good answers anyway.  Maybe someone could ask again, I dont see this mentioned anywhere.  Only problem I wonder if bad version causes and issue and what version do you pick?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695135634,"post_id":77135530,"comment_id":135981927,"body_markdown":"@BerlinBrown If you picked a version (plugins/maven) which causes issues you should pick the previous version and recheck.. and what would be great to report the issue(https://selfserve.apache.org/jira-account.html) .. and after it&#39;s being fixed upgrade...","body":"@BerlinBrown If you picked a version (plugins/maven) which causes issues you should pick the previous version and recheck.. and what would be great to report the issue(<a href=\"https://selfserve.apache.org/jira-account.html\" rel=\"nofollow noreferrer\">selfserve.apache.org/jira-account.html</a>) .. and after it&#39;s being fixed upgrade..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695135755,"post_id":77135530,"comment_id":135981953,"body_markdown":"BTW: Is there a good reason why not picking up Maven 3.9.X line instead of Maven 3.8.x ?","body":"BTW: Is there a good reason why not picking up Maven 3.9.X line instead of Maven 3.8.x ?"},{"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"score":1,"creation_date":1695137235,"post_id":77135530,"comment_id":135982332,"body_markdown":"No reason, I saw java11 was matched more with 3.8x.  I can use 3.9","body":"No reason, I saw java11 was matched more with 3.8x.  I can use 3.9"}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695137891,"creation_date":1695136208,"answer_id":77135806,"question_id":77135530,"body_markdown":"Using the default versions of maven plugins is not recommended and generates a big warning:\r\n\r\n```text\r\n[WARNING] Some problems were encountered while building the effective model for test:test:jar:1.0.0-SNAPSHOT\r\n[WARNING] &#39;build.plugins.plugin.version&#39; for org.apache.maven.plugins:maven-resources-plugin is missing. @ line 22, column 12\r\n[WARNING]\r\n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n[WARNING]\r\n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n```\r\n\r\nYou should always specify the version of each plugin and using the latest version is the typical approach.  The [minimum maven version][1] required by common plugins is very old so you should not have any issue; if any version-compatibility issue arises the build fails so it is evident.\r\n\r\nIf you use `spring-boot-starter-parent` it defines the latest version of common plugins [for you][2] and you can easily override any of its defaults if you want.\r\n\r\n\r\n  [1]: https://ci-maven.apache.org/job/Maven/job/maven-box/job/maven-dist-tool/job/master/site/dist-tool-prerequisites.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using","title":"Are there any issues with specifying the specific version for maven plugins","body":"<p>Using the default versions of maven plugins is not recommended and generates a big warning:</p>\n<pre><code>[WARNING] Some problems were encountered while building the effective model for test:test:jar:1.0.0-SNAPSHOT\n[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-resources-plugin is missing. @ line 22, column 12\n[WARNING]\n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING]\n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n</code></pre>\n<p>You should always specify the version of each plugin and using the latest version is the typical approach.  The <a href=\"https://ci-maven.apache.org/job/Maven/job/maven-box/job/maven-dist-tool/job/master/site/dist-tool-prerequisites.html\" rel=\"nofollow noreferrer\">minimum maven version</a> required by common plugins is very old so you should not have any issue; if any version-compatibility issue arises the build fails so it is evident.</p>\n<p>If you use <code>spring-boot-starter-parent</code> it defines the latest version of common plugins <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using\" rel=\"nofollow noreferrer\">for you</a> and you can easily override any of its defaults if you want.</p>\n"}],"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77135806,"answer_count":1,"score":-1,"last_activity_date":1695137891,"creation_date":1695134232,"question_id":77135530,"body_markdown":"I always wondered, are there any issues with specifying versions for maven plugins like surefire or the compiler.\r\n\r\nSo I am using mvn version 3.5 with java8 and will do an upgrade with mvn 3.8.x with java11+.\r\n\r\nI may use the latest plugins with mvn 3.8x but dont know about 3.5.  Is there any issues with doing that.  Doesn&#39;t it make sense to not use the version and have the root maven includes add the right versions that are available?\r\n\r\nFor example.\r\n\r\nThis is 3.5 and plugin 2.x for surefire.\r\n\r\n\t\r\n\r\n\t&lt;plugin&gt;\r\n    \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.12.4&lt;/version&gt;\r\n    \t\t&lt;configuration&gt;\r\n      \t\t\t&lt;skipTests&gt;${skipTests}&lt;/skipTests&gt;\r\n    \t\t&lt;/configuration&gt;\r\n  \t\t&lt;/plugin&gt;","title":"Are there any issues with specifying the specific version for maven plugins","body":"<p>I always wondered, are there any issues with specifying versions for maven plugins like surefire or the compiler.</p>\n<p>So I am using mvn version 3.5 with java8 and will do an upgrade with mvn 3.8.x with java11+.</p>\n<p>I may use the latest plugins with mvn 3.8x but dont know about 3.5.  Is there any issues with doing that.  Doesn't it make sense to not use the version and have the root maven includes add the right versions that are available?</p>\n<p>For example.</p>\n<p>This is 3.5 and plugin 2.x for surefire.</p>\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.12.4&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;skipTests&gt;${skipTests}&lt;/skipTests&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":53770,"reputation":2255,"user_id":160808,"accept_rate":71,"display_name":"Ageis"},"score":0,"creation_date":1695138474,"post_id":77136024,"comment_id":135982610,"body_markdown":"I&#39;m disappointed with myself nvm","body":"I&#39;m disappointed with myself nvm"},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695138916,"post_id":77136024,"comment_id":135982714,"body_markdown":"A field in an interface is [by definition](https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.3) implicitly `public static final`.","body":"A field in an interface is <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.3\" rel=\"nofollow noreferrer\">by definition</a> implicitly <code>public static final</code>."}],"owner":{"account_id":53770,"reputation":2255,"user_id":160808,"accept_rate":71,"display_name":"Ageis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695137970,"answer_count":0,"score":0,"last_activity_date":1695137860,"creation_date":1695137860,"question_id":77136024,"body_markdown":"I bet my java lecturer will be disappointed in me. \r\n\r\nI think my Java/oop skills are alittle rusty. Why is the variable stateMachine being declared as final . \r\n\r\n\r\n    package com.example.accentag4.MessageType;\r\n    \r\n    import android.view.View;\r\n    \r\n    import com.example.accentag4.Model.StateMachine;\r\n    \r\n    public interface MessageType\r\n    {\r\n        StateMachine stateMachine = null;\r\n        boolean process(String message);\r\n        StateMachine GetState();\r\n        void SetState(StateMachine stateIn);\r\n    }\r\n\r\n\r\n\r\n    public class HeartBeat implements MessageType {\r\n    \r\n        @Override\r\n        public boolean process(String message) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public StateMachine GetState() {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void SetState(StateMachine stateIn) {\r\n            stateMachine=stateIn;\r\n        }\r\n\r\n    }","title":"variable declared as final within interface","body":"<p>I bet my java lecturer will be disappointed in me.</p>\n<p>I think my Java/oop skills are alittle rusty. Why is the variable stateMachine being declared as final .</p>\n<pre><code>package com.example.accentag4.MessageType;\n\nimport android.view.View;\n\nimport com.example.accentag4.Model.StateMachine;\n\npublic interface MessageType\n{\n    StateMachine stateMachine = null;\n    boolean process(String message);\n    StateMachine GetState();\n    void SetState(StateMachine stateIn);\n}\n\n\n\npublic class HeartBeat implements MessageType {\n\n    @Override\n    public boolean process(String message) {\n        return false;\n    }\n\n    @Override\n    public StateMachine GetState() {\n        return null;\n    }\n\n    @Override\n    public void SetState(StateMachine stateIn) {\n        stateMachine=stateIn;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","routes","vuejs3","nuxtjs3"],"answers":[{"tags":[],"owner":{"account_id":27946875,"reputation":1613,"user_id":21341655,"display_name":"Reagan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695137856,"creation_date":1695137856,"answer_id":77136023,"question_id":77135909,"body_markdown":"To render the same page on a different routes. You need to use `page:extend` hook inside the `nuxt.config.ts`.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    export default defineNuxtConfig({\r\n        hooks: {\r\n            &#39;pages:extend&#39;(pages) {\r\n                pages.push({\r\n                    name: &#39;ecosystem&#39;,\r\n                    path: &#39;/ecosystem&#39;,\r\n                    file: &#39;~/pages/index.vue&#39;\r\n                })\r\n            }\r\n        }\r\n    })\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Note:** You don&#39;t need to create the `ecosystem` file inside the pages. The `page.push()` will handle it.\r\n\r\nNow, when you go to `/ecosystem` page. It will output the same page content inside the pages `index.vue` \r\n\r\n[More info about custom routing][1]\r\n\r\n\r\n  [1]: https://nuxt.com/docs/guide/going-further/custom-routing","title":"Render same page on two different route in Nuxtjs 3","body":"<p>To render the same page on a different routes. You need to use <code>page:extend</code> hook inside the <code>nuxt.config.ts</code>.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export default defineNuxtConfig({\n    hooks: {\n        'pages:extend'(pages) {\n            pages.push({\n                name: 'ecosystem',\n                path: '/ecosystem',\n                file: '~/pages/index.vue'\n            })\n        }\n    }\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Note:</strong> You don't need to create the <code>ecosystem</code> file inside the pages. The <code>page.push()</code> will handle it.</p>\n<p>Now, when you go to <code>/ecosystem</code> page. It will output the same page content inside the pages <code>index.vue</code></p>\n<p><a href=\"https://nuxt.com/docs/guide/going-further/custom-routing\" rel=\"nofollow noreferrer\">More info about custom routing</a></p>\n"}],"owner":{"account_id":20068158,"reputation":33,"user_id":14713458,"display_name":"Oliver Jacob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77136023,"answer_count":1,"score":1,"last_activity_date":1695137856,"creation_date":1695137032,"question_id":77135909,"body_markdown":"I want to render ecosystem page on both /ecosystem and default / route. I have created page -&gt; ecosystem.vue \r\n\r\nAlso I have layout -&gt; DefaultLayout.vue where Navbar and Footer components are being used.\r\n\r\nIn nuxt.config.js file:\r\n\r\n```\r\n// https://nuxt.com/docs/api/configuration/nuxt-config\r\nexport default defineNuxtConfig({\r\n  devtools: { enabled: true },\r\n  layout: true,\r\n  routes: [\r\n    {\r\n      path: &quot;/&quot;,\r\n      component: &quot;ecosystem.vue&quot;,\r\n      layout: &quot;DefaultLayout&quot;,\r\n    },\r\n    {\r\n      path: &quot;/ecosystem&quot;,\r\n      component: &quot;ecosystem.vue&quot;,\r\n      layout: &quot;DefaultLayout&quot;,\r\n    },\r\n  ],\r\n});\r\n\r\n```\r\nHowever, after this getting 404 page not found error.\r\n\r\nNuxtjs 3","title":"Render same page on two different route in Nuxtjs 3","body":"<p>I want to render ecosystem page on both /ecosystem and default / route. I have created page -&gt; ecosystem.vue</p>\n<p>Also I have layout -&gt; DefaultLayout.vue where Navbar and Footer components are being used.</p>\n<p>In nuxt.config.js file:</p>\n<pre><code>// https://nuxt.com/docs/api/configuration/nuxt-config\nexport default defineNuxtConfig({\n  devtools: { enabled: true },\n  layout: true,\n  routes: [\n    {\n      path: &quot;/&quot;,\n      component: &quot;ecosystem.vue&quot;,\n      layout: &quot;DefaultLayout&quot;,\n    },\n    {\n      path: &quot;/ecosystem&quot;,\n      component: &quot;ecosystem.vue&quot;,\n      layout: &quot;DefaultLayout&quot;,\n    },\n  ],\n});\n\n</code></pre>\n<p>However, after this getting 404 page not found error.</p>\n<p>Nuxtjs 3</p>\n"},{"tags":["java","redis-om-spring","redis-om","redis-stack"],"answers":[{"tags":[],"owner":{"account_id":4160855,"reputation":3938,"user_id":5338708,"display_name":"Simon Prickett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695137741,"creation_date":1695137741,"answer_id":77136010,"question_id":77134555,"body_markdown":"I suspect your code is pointed at a local Redis instance that doesn&#39;t have the JSON module installed.  Note you&#39;ll want BOTH of the JSON and Search modules installed to use Redis OM successfully or you can use Redis Stack that has them installed for you.\r\n\r\nTo configure your Redis OM application to point at a different Redis instance.  Do so like this in `application.properties`:\r\n\r\n```\r\nspring.data.redis.host=your.cloud.db.redislabs.com                                                                                                                                                                                                                    \r\nspring.data.redis.port=12345\r\nspring.data.redis.password=xxxxxxxx\r\nspring.data.redis.username=default\r\n```\r\n\r\nSource: https://github.com/redis/redis-om-spring#configuring-your-redis-connection\r\n\r\nRedis Stack (easy way to get the modules): https://redis.io/docs/getting-started/install-stack/","title":"Caused by: redis.clients.jedis.exceptions.JedisDataException: ERR unknown command &#39;JSON.SET&#39;","body":"<p>I suspect your code is pointed at a local Redis instance that doesn't have the JSON module installed.  Note you'll want BOTH of the JSON and Search modules installed to use Redis OM successfully or you can use Redis Stack that has them installed for you.</p>\n<p>To configure your Redis OM application to point at a different Redis instance.  Do so like this in <code>application.properties</code>:</p>\n<pre><code>spring.data.redis.host=your.cloud.db.redislabs.com                                                                                                                                                                                                                    \nspring.data.redis.port=12345\nspring.data.redis.password=xxxxxxxx\nspring.data.redis.username=default\n</code></pre>\n<p>Source: <a href=\"https://github.com/redis/redis-om-spring#configuring-your-redis-connection\" rel=\"nofollow noreferrer\">https://github.com/redis/redis-om-spring#configuring-your-redis-connection</a></p>\n<p>Redis Stack (easy way to get the modules): <a href=\"https://redis.io/docs/getting-started/install-stack/\" rel=\"nofollow noreferrer\">https://redis.io/docs/getting-started/install-stack/</a></p>\n"}],"owner":{"account_id":19205336,"reputation":63,"user_id":14032341,"display_name":"xynb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695137741,"creation_date":1695126457,"question_id":77134555,"body_markdown":"I am using redis-om and Java, I get `Caused by: redis.clients.jedis.exceptions.JedisDataException: ERR unknown command &#39;JSON.SET&#39;`\r\n\r\nHere is the code that I am using:\r\n\r\n    @SpringBootApplication\r\n    @Configuration\r\n    @EnableRedisDocumentRepositories(basePackages = &quot;jphaugla.redisom.com.romsdocuments.*&quot;)\r\n    public class RomsDocumentsApplication {\r\n    \r\n        @Autowired\r\n        CompanyRepository companyRepo;\r\n    \r\n        @Bean\r\n        CommandLineRunner loadTestData() {\r\n            return args -&gt; {\r\n                Company redis = Company.of(&quot;https://redis.com&quot;, new Point(-122.066540, 37.377690), 526,\r\n                        2011, &quot;Redis&quot;, &quot;Salavatore Sanfilippo&quot;);\r\n                redis.setTags(Set.of(&quot;fast&quot;, &quot;scalable&quot;, &quot;reliable&quot;));\r\n    \r\n                companyRepo.save(redis);\r\n            };\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(RomsDocumentsApplication.class, args);\r\n        }\r\n\r\n}\r\n\r\nand It is dependency in my pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.redis.om&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;redis-om-spring&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.6.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nand for more information , I add my document here : \r\n\r\n    import lombok.AccessLevel;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NonNull;\r\n    import lombok.RequiredArgsConstructor;\r\n    \r\n    @Data\r\n    @RequiredArgsConstructor(staticName = &quot;of&quot;)\r\n    @AllArgsConstructor(access = AccessLevel.PROTECTED)\r\n    @Document\r\n    public class Company {\r\n      @Id\r\n      private String id;\r\n      @Indexed\r\n      private Set&lt;String&gt; tags = new HashSet&lt;String&gt;();\r\n      @NonNull\r\n      private String url;\r\n      @NonNull\r\n      @Indexed\r\n      private Point location;\r\n      @NonNull\r\n      @Indexed\r\n      private Integer numberOfEmployees;\r\n      @NonNull\r\n      @Indexed\r\n      private Integer yearFounded;\r\n      @NonNull\r\n      @Searchable\r\n      private String name;\r\n      @Searchable\r\n      @NonNull\r\n      private String founder;\r\n      private boolean publiclyListed;\r\n    }\r\n\r\n**Java** version is **17** ,**spring boot version** is **2.7.5** , **image of Redis** : image: &quot;**redis/redis-stack:7.2.0-v1**&quot;\r\n\r\nP.S:I have checked that I had the ReJson module on my Redis and also I am able to call Json.set on my Redis-Cli.","title":"Caused by: redis.clients.jedis.exceptions.JedisDataException: ERR unknown command &#39;JSON.SET&#39;","body":"<p>I am using redis-om and Java, I get <code>Caused by: redis.clients.jedis.exceptions.JedisDataException: ERR unknown command 'JSON.SET'</code></p>\n<p>Here is the code that I am using:</p>\n<pre><code>@SpringBootApplication\n@Configuration\n@EnableRedisDocumentRepositories(basePackages = &quot;jphaugla.redisom.com.romsdocuments.*&quot;)\npublic class RomsDocumentsApplication {\n\n    @Autowired\n    CompanyRepository companyRepo;\n\n    @Bean\n    CommandLineRunner loadTestData() {\n        return args -&gt; {\n            Company redis = Company.of(&quot;https://redis.com&quot;, new Point(-122.066540, 37.377690), 526,\n                    2011, &quot;Redis&quot;, &quot;Salavatore Sanfilippo&quot;);\n            redis.setTags(Set.of(&quot;fast&quot;, &quot;scalable&quot;, &quot;reliable&quot;));\n\n            companyRepo.save(redis);\n        };\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(RomsDocumentsApplication.class, args);\n    }\n</code></pre>\n<p>}</p>\n<p>and It is dependency in my pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.redis.om&lt;/groupId&gt;\n            &lt;artifactId&gt;redis-om-spring&lt;/artifactId&gt;\n            &lt;version&gt;0.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and for more information , I add my document here :</p>\n<pre><code>import lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NonNull;\nimport lombok.RequiredArgsConstructor;\n\n@Data\n@RequiredArgsConstructor(staticName = &quot;of&quot;)\n@AllArgsConstructor(access = AccessLevel.PROTECTED)\n@Document\npublic class Company {\n  @Id\n  private String id;\n  @Indexed\n  private Set&lt;String&gt; tags = new HashSet&lt;String&gt;();\n  @NonNull\n  private String url;\n  @NonNull\n  @Indexed\n  private Point location;\n  @NonNull\n  @Indexed\n  private Integer numberOfEmployees;\n  @NonNull\n  @Indexed\n  private Integer yearFounded;\n  @NonNull\n  @Searchable\n  private String name;\n  @Searchable\n  @NonNull\n  private String founder;\n  private boolean publiclyListed;\n}\n</code></pre>\n<p><strong>Java</strong> version is <strong>17</strong> ,<strong>spring boot version</strong> is <strong>2.7.5</strong> , <strong>image of Redis</strong> : image: &quot;<strong>redis/redis-stack:7.2.0-v1</strong>&quot;</p>\n<p>P.S:I have checked that I had the ReJson module on my Redis and also I am able to call Json.set on my Redis-Cli.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695137194,"creation_date":1695132618,"answer_id":77135312,"question_id":77134681,"body_markdown":"It should work.\r\nBasically, what happens is:\r\n1. You manually create an entity with the existing key and call save() method\r\n2. JPA repo figures that it is existing entity based on the fact that ID is not null, so it tries to merge it\r\n3. During merge it founds out that entity with the same key is already in the session (maybe in the cache after the 1st save, maybe it was loaded with the Comic entity), but the object you passed to the save() method is different (id is the same, but object is different). That is why you get into the method `entityIsDetached()`\r\n4. It tries to get the corresponding entity from the session in order to merge it with the one you have provided. And then it cannot find it in the session for some reason and tries to load it from database. So, maybe it is some bug within hibernate, maybe there is some issue in the code, for example, something is wrong with `user or comic equals/hashcode methods`, you did not provide them to us. And this is a very likely reason why hibernate at some cases finds entity, at some - not. \r\nBecause for me your example is working fine, I tested.\r\n\r\nBut to make it work for sure, if you want to update rate, you need to search for an existing one first, if found - update it, if not found - create a new one.\r\nLike this\r\n\r\n    public void save(Long comicId, RateNewDTO rateDto) {        \r\n    UserSS userAuthenticated = UserService.authenticated(); \r\n        \r\n    User user = userService.findById(userAuthenticated.getId());\r\n        \r\n    Comic comic = comicService.findById(comicId);\r\n    Optional&lt;Rate&gt; existingRate = rateRepository.findById(new RatePK(user, comic));\r\n    if (existingRate.isPresent()) {\r\n      existingRate.setRate(rateDto.getRate());\r\n      // if method is transactional, you may skip calling it: rateRepository.save(existingRate);  \r\n      // exit\r\n      return;\r\n    }   \r\n\r\n    // If rate was not found, create a new one\r\n    Rate rate = new Rate(user, comic, rateDto.getRate());\r\n    rateRepository.save(rate);  \r\n}","title":"Exception when trying to change a composite primary key based JPA entity","body":"<p>It should work.\nBasically, what happens is:</p>\n<ol>\n<li>You manually create an entity with the existing key and call save() method</li>\n<li>JPA repo figures that it is existing entity based on the fact that ID is not null, so it tries to merge it</li>\n<li>During merge it founds out that entity with the same key is already in the session (maybe in the cache after the 1st save, maybe it was loaded with the Comic entity), but the object you passed to the save() method is different (id is the same, but object is different). That is why you get into the method <code>entityIsDetached()</code></li>\n<li>It tries to get the corresponding entity from the session in order to merge it with the one you have provided. And then it cannot find it in the session for some reason and tries to load it from database. So, maybe it is some bug within hibernate, maybe there is some issue in the code, for example, something is wrong with <code>user or comic equals/hashcode methods</code>, you did not provide them to us. And this is a very likely reason why hibernate at some cases finds entity, at some - not.\nBecause for me your example is working fine, I tested.</li>\n</ol>\n<p>But to make it work for sure, if you want to update rate, you need to search for an existing one first, if found - update it, if not found - create a new one.\nLike this</p>\n<pre><code>public void save(Long comicId, RateNewDTO rateDto) {        \nUserSS userAuthenticated = UserService.authenticated(); \n    \nUser user = userService.findById(userAuthenticated.getId());\n    \nComic comic = comicService.findById(comicId);\nOptional&lt;Rate&gt; existingRate = rateRepository.findById(new RatePK(user, comic));\nif (existingRate.isPresent()) {\n  existingRate.setRate(rateDto.getRate());\n  // if method is transactional, you may skip calling it: rateRepository.save(existingRate);  \n  // exit\n  return;\n}   \n\n// If rate was not found, create a new one\nRate rate = new Rate(user, comic, rateDto.getRate());\nrateRepository.save(rate);  \n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":11603822,"reputation":48,"user_id":11713846,"display_name":"Gustavo Cruz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695137194,"creation_date":1695127592,"question_id":77134681,"body_markdown":"I&#39;m trying to develop a REST API with Spring where users can basically register Comics and evaluate the registered Comics.\r\n\r\nOne of the API&#39;s features is precisely the user being able to give a rating to the Comics. To store the notes in the database I created a JPA entity based on a composite primary key (user, comic).\r\n\r\nI also created a service that is used to register and change notes.\r\n\r\nThe problem is that: the first time a user registers a rating for a given comic, everything happens without any problem, but when the user tries to change the rating an exception occurs: &quot;org.hibernate.HibernateException: Duplicate row was found and `ASSERT` was specified&quot;\r\n\r\nDoes anyone know how to solve this problem?\r\n\r\n**RatePK**\r\n    \r\n    @Embeddable\r\n    public class RatePK implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name=&quot;user_id&quot;)\r\n    \tprivate User user;\r\n    \t\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name=&quot;comic_id&quot;)\r\n    \tprivate Comic comic;\r\n    \r\n    \tpublic RatePK(User user, Comic comic) {\r\n    \t\tthis.user = user;\r\n    \t\tthis.comic = comic;\r\n    \t}\r\n    \r\n    \tpublic User getUser() {\r\n    \t\treturn user;\r\n    \t}\r\n    \r\n    \tpublic Comic getComic() {\r\n    \t\treturn comic;\r\n    \t}\r\n    \r\n    \tpublic void setUser(User user) {\r\n    \t\tthis.user = user;\r\n    \t}\r\n    \r\n    \tpublic void setComic(Comic comic) {\r\n    \t\tthis.comic = comic;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result + ((comic == null) ? 0 : comic.hashCode());\r\n    \t\tresult = prime * result + ((user == null) ? 0 : user.hashCode());\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tRatePK other = (RatePK) obj;\r\n    \t\tif (comic == null) {\r\n    \t\t\tif (other.comic != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!comic.equals(other.comic))\r\n    \t\t\treturn false;\r\n    \t\tif (user == null) {\r\n    \t\t\tif (other.user != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!user.equals(other.user))\r\n    \t\t\treturn false;\r\n    \t\treturn true;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**Rate**\r\n\r\n    @Entity\r\n    @Table(name=&quot;TB_RATE&quot;)\r\n    public class Rate implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@EmbeddedId\r\n    \tprivate RatePK id = new RatePK();\r\n    \t\r\n    \tprivate Integer rate;\r\n    \r\n    \tpublic Rate(User user, Comic comic, Integer rate) {\r\n    \t\tsuper();\r\n    \t\tthis.id.setUser(user);\r\n    \t\tthis.id.setComic(comic);\r\n    \t\tthis.rate = rate;\r\n    \t}\r\n    \r\n    \tpublic RatePK getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic Integer getRate() {\r\n    \t\treturn rate;\r\n    \t}\r\n    \r\n    \tpublic void setId(RatePK id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic void setRate(Integer rate) {\r\n    \t\tthis.rate = rate;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result + ((id == null) ? 0 : id.hashCode());\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tRate other = (Rate) obj;\r\n    \t\tif (id == null) {\r\n    \t\t\tif (other.id != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!id.equals(other.id))\r\n    \t\t\treturn false;\r\n    \t\treturn true;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n**RateRepository**\r\n\r\n    @Repository\r\n    public interface RateRepository extends JpaRepository&lt;Rate, RatePK&gt; {\r\n    \r\n    }\r\n\r\n**RateService** \r\n\r\n    public void save(Long comicId, RateNewDTO rateDto) {\t\t\r\n        UserSS userAuthenticated = UserService.authenticated();\t\r\n    \t\t\r\n        User user = userService.findById(userAuthenticated.getId());\r\n    \t\t\r\n        Comic comic = comicService.findById(comicId);\r\n    \t\t\r\n        Rate rate = new Rate(user, comic, rateDto.getRate());\r\n    \r\n        rateRepository.save(rate);\t\r\n    }\r\n\r\n**Exception**\r\n\r\n    org.hibernate.HibernateException: Duplicate row was found and `ASSERT` was specified\r\n    \tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:187) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:146) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:118) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:73) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3481) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3471) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:581) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:567) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:536) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:529) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:202) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:282) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:237) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:106) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1219) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.loader.internal.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:194) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.loader.internal.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:160) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.loader.internal.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:107) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:160) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.internal.SessionImpl.get(SessionImpl.java:1024) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.lambda$entityIsDetached$0(DefaultMergeEventListener.java:334) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.engine.spi.LoadQueryInfluencers.fromInternalFetchProfile(LoadQueryInfluencers.java:79) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:332) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:149) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:142) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:126) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:848) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:834) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.11.jar:6.0.11]\r\n    \tat jdk.proxy4/jdk.proxy4.$Proxy146.merge(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:620) ~[spring-data-jpa-3.1.2.jar:3.1.2]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat jdk.proxy4/jdk.proxy4.$Proxy166.save(Unknown Source) ~[na:na]\r\n    \tat com.gustavo.comicreviewapi.services.RateService.save(RateService.java:42) ~[classes/:na]\r\n    \tat com.gustavo.comicreviewapi.resources.ComicController.saveRate(ComicController.java:128) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat com.gustavo.comicreviewapi.resources.ComicController$$SpringCGLIB$$0.saveRate(&lt;generated&gt;) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.11.jar:6.0]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat com.gustavo.comicreviewapi.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:58) ~[classes/:na]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n","title":"Exception when trying to change a composite primary key based JPA entity","body":"<p>I'm trying to develop a REST API with Spring where users can basically register Comics and evaluate the registered Comics.</p>\n<p>One of the API's features is precisely the user being able to give a rating to the Comics. To store the notes in the database I created a JPA entity based on a composite primary key (user, comic).</p>\n<p>I also created a service that is used to register and change notes.</p>\n<p>The problem is that: the first time a user registers a rating for a given comic, everything happens without any problem, but when the user tries to change the rating an exception occurs: &quot;org.hibernate.HibernateException: Duplicate row was found and <code>ASSERT</code> was specified&quot;</p>\n<p>Does anyone know how to solve this problem?</p>\n<p><strong>RatePK</strong></p>\n<pre><code>@Embeddable\npublic class RatePK implements Serializable {\n    private static final long serialVersionUID = 1L;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;user_id&quot;)\n    private User user;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;comic_id&quot;)\n    private Comic comic;\n\n    public RatePK(User user, Comic comic) {\n        this.user = user;\n        this.comic = comic;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public Comic getComic() {\n        return comic;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public void setComic(Comic comic) {\n        this.comic = comic;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((comic == null) ? 0 : comic.hashCode());\n        result = prime * result + ((user == null) ? 0 : user.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        RatePK other = (RatePK) obj;\n        if (comic == null) {\n            if (other.comic != null)\n                return false;\n        } else if (!comic.equals(other.comic))\n            return false;\n        if (user == null) {\n            if (other.user != null)\n                return false;\n        } else if (!user.equals(other.user))\n            return false;\n        return true;\n    }\n    \n}\n</code></pre>\n<p><strong>Rate</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;TB_RATE&quot;)\npublic class Rate implements Serializable {\n    private static final long serialVersionUID = 1L;\n    \n    @EmbeddedId\n    private RatePK id = new RatePK();\n    \n    private Integer rate;\n\n    public Rate(User user, Comic comic, Integer rate) {\n        super();\n        this.id.setUser(user);\n        this.id.setComic(comic);\n        this.rate = rate;\n    }\n\n    public RatePK getId() {\n        return id;\n    }\n\n    public Integer getRate() {\n        return rate;\n    }\n\n    public void setId(RatePK id) {\n        this.id = id;\n    }\n\n    public void setRate(Integer rate) {\n        this.rate = rate;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((id == null) ? 0 : id.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Rate other = (Rate) obj;\n        if (id == null) {\n            if (other.id != null)\n                return false;\n        } else if (!id.equals(other.id))\n            return false;\n        return true;\n    }\n    \n}\n</code></pre>\n<p><strong>RateRepository</strong></p>\n<pre><code>@Repository\npublic interface RateRepository extends JpaRepository&lt;Rate, RatePK&gt; {\n\n}\n</code></pre>\n<p><strong>RateService</strong></p>\n<pre><code>public void save(Long comicId, RateNewDTO rateDto) {        \n    UserSS userAuthenticated = UserService.authenticated(); \n        \n    User user = userService.findById(userAuthenticated.getId());\n        \n    Comic comic = comicService.findById(comicId);\n        \n    Rate rate = new Rate(user, comic, rateDto.getRate());\n\n    rateRepository.save(rate);  \n}\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code>org.hibernate.HibernateException: Duplicate row was found and `ASSERT` was specified\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:187) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:146) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:118) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:73) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3481) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3471) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:581) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:567) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:536) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:529) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:202) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:282) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:237) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:106) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1219) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.loader.internal.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:194) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.loader.internal.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:160) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.loader.internal.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:107) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:160) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.internal.SessionImpl.get(SessionImpl.java:1024) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.lambda$entityIsDetached$0(DefaultMergeEventListener.java:334) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.spi.LoadQueryInfluencers.fromInternalFetchProfile(LoadQueryInfluencers.java:79) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:332) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:149) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:142) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:126) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:848) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:834) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.11.jar:6.0.11]\n    at jdk.proxy4/jdk.proxy4.$Proxy146.merge(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:620) ~[spring-data-jpa-3.1.2.jar:3.1.2]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.11.jar:6.0.11]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.11.jar:6.0.11]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.11.jar:6.0.11]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.11.jar:6.0.11]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.2.jar:3.1.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.11.jar:6.0.11]\n    at jdk.proxy4/jdk.proxy4.$Proxy166.save(Unknown Source) ~[na:na]\n    at com.gustavo.comicreviewapi.services.RateService.save(RateService.java:42) ~[classes/:na]\n    at com.gustavo.comicreviewapi.resources.ComicController.saveRate(ComicController.java:128) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704) ~[spring-aop-6.0.11.jar:6.0.11]\n    at com.gustavo.comicreviewapi.resources.ComicController$$SpringCGLIB$$0.saveRate(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.11.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at com.gustavo.comicreviewapi.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:58) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n"},{"tags":["java","gdal","geotools"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695229659,"post_id":77134204,"comment_id":135997789,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695137092,"creation_date":1695137092,"answer_id":77135915,"question_id":77134204,"body_markdown":"Provided that you have installed the [GDAL datastore][1] correctly you can write a GridCoverage out to it in the same way as any other coverage store.\r\n\r\n\r\n  [1]: https://docs.geotools.org/latest/userguide/library/coverage/imageio.html","title":"Is it possible to convert geotools GridCoverage2D to gdal java bindings Dataset without writing into file system","body":"<p>Provided that you have installed the <a href=\"https://docs.geotools.org/latest/userguide/library/coverage/imageio.html\" rel=\"nofollow noreferrer\">GDAL datastore</a> correctly you can write a GridCoverage out to it in the same way as any other coverage store.</p>\n"}],"owner":{"account_id":17990158,"reputation":1,"user_id":13886331,"display_name":"Vignesh M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695137092,"creation_date":1695123379,"question_id":77134204,"body_markdown":"I am creating a geoserver wps process. The geoserver wps input provides a tiff data in geotools GridCoverage2D format. I want to convert it into gdal java binding&#39;s Dataset. Is there any way I can directly convert it into Dataset without writing into file system?\r\n\r\nCurrently I am writing the coverage into file system and opening with gdal java binding","title":"Is it possible to convert geotools GridCoverage2D to gdal java bindings Dataset without writing into file system","body":"<p>I am creating a geoserver wps process. The geoserver wps input provides a tiff data in geotools GridCoverage2D format. I want to convert it into gdal java binding's Dataset. Is there any way I can directly convert it into Dataset without writing into file system?</p>\n<p>Currently I am writing the coverage into file system and opening with gdal java binding</p>\n"},{"tags":["java","sql","database","hibernate","postgresql"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430893037,"creation_date":1430893037,"answer_id":30068963,"question_id":30060609,"body_markdown":"If you have a separate database schema, just change the column type to `boolean`:\r\n\r\n    ALTER TABLE role ALTER COLUMN admin TYPE boolean default false;\r\n    ALTER TABLE role  MODIFY admin NOT NULL;\r\n\r\nand then the mapping is as simple as this:\r\n\r\n    @Column(name = &quot;admin&quot;, nullable = false)\r\n    private boolean admin = false;","title":"Hibernate. PSQLException: bad value for type int : admin","body":"<p>If you have a separate database schema, just change the column type to <code>boolean</code>:</p>\n\n<pre><code>ALTER TABLE role ALTER COLUMN admin TYPE boolean default false;\nALTER TABLE role  MODIFY admin NOT NULL;\n</code></pre>\n\n<p>and then the mapping is as simple as this:</p>\n\n<pre><code>@Column(name = \"admin\", nullable = false)\nprivate boolean admin = false;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4918581,"reputation":536,"user_id":4820802,"accept_rate":100,"display_name":"Marco A. Braghim"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1461499798,"creation_date":1430932300,"answer_id":30083323,"question_id":30060609,"body_markdown":"Finally I found the error!\r\n\r\nThe error message that Hibernate was returning to me was &quot;bad value for type int: admin&quot;, but that was **not** the problem. This message was completely crazy in relation to the issue. **The real problem was that in the database my primary key (pk_role) is a VARCHAR type, but in my entity I put as an INTEGER type.**\r\n\r\nAfter Vlad try to help me supposing the version of the jdbc driver, I put the configuration exactly equal to other project I have working pretty well and the error was the same, so I knew that the error was in my own code, for sure.\r\n","title":"Hibernate. PSQLException: bad value for type int : admin","body":"<p>Finally I found the error!</p>\n\n<p>The error message that Hibernate was returning to me was \"bad value for type int: admin\", but that was <strong>not</strong> the problem. This message was completely crazy in relation to the issue. <strong>The real problem was that in the database my primary key (pk_role) is a VARCHAR type, but in my entity I put as an INTEGER type.</strong></p>\n\n<p>After Vlad try to help me supposing the version of the jdbc driver, I put the configuration exactly equal to other project I have working pretty well and the error was the same, so I knew that the error was in my own code, for sure.</p>\n"},{"tags":[],"owner":{"account_id":21637162,"reputation":129,"user_id":15959923,"display_name":"Mavic More"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695136956,"creation_date":1695136956,"answer_id":77135902,"question_id":30060609,"body_markdown":"For me the problem was while using `enum` inside `Entity` column. Solution was to add `@Enumerated(EnumType.STRING)` in column definition.\r\n``` \r\n@Enumerated(EnumType.STRING)\r\n```","title":"Hibernate. PSQLException: bad value for type int : admin","body":"<p>For me the problem was while using <code>enum</code> inside <code>Entity</code> column. Solution was to add <code>@Enumerated(EnumType.STRING)</code> in column definition.</p>\n<pre><code>@Enumerated(EnumType.STRING)\n</code></pre>\n"}],"owner":{"account_id":4918581,"reputation":536,"user_id":4820802,"accept_rate":100,"display_name":"Marco A. Braghim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31778,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":30083323,"answer_count":3,"score":13,"last_activity_date":1695136956,"creation_date":1430850536,"question_id":30060609,"body_markdown":"Well I have a desktop application with JAVA and Hibernate **4.3.1**. For now I have just two entities (User and Role).\r\n\r\nUser\r\n--\r\n\t...\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@Fetch(FetchMode.JOIN)\r\n\t@JoinColumn(nullable = false, name = &quot;fk_role&quot;)\r\n\tprivate Role fk_role;\r\n\r\n\t...\r\n\r\nRole\r\n--\r\n\t...\r\n\r\n\t@Column(name = &quot;admin&quot;, nullable = false)\r\n\t@Type(type = &quot;org.hibernate.type.BooleanType&quot;)\r\n\tprivate boolean admin = false;\r\n\t\r\n\t...\r\n\r\nI have tried instead\r\n\r\n\t@Type(type = &quot;org.hibernate.type.BooleanType&quot;)\r\n\r\nthis.\r\n\r\n\t@Type(type = &quot;org.hibernate.type.NumericBooleanType&quot;)\r\n\r\nand\r\n\r\n\t@Type(type = &quot;org.hibernate.type.YesNoType&quot;)\r\n\r\nand\r\n\r\n\t@Type(type = &quot;org.hibernate.type.TrueFalseType&quot;)\r\n\r\n\r\nAs shown here: http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/types.html#types-value-basic\r\n\r\nAnd nothing. =/\r\n\r\nI tried this too: http://alenovarini.wikidot.com/mapping-a-custom-type-in-hibernate\r\n\r\n=(\r\n    In the database, the type for column admin is boolean and I use Postgres **9.3**.\r\n    When I run this, I got the following:\r\n    --\r\n\r\n    \r\n    org.hibernate.exception.DataException: could not execute query\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:135)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2554)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2537)\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2367)\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2362)\r\n    \tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\r\n    \tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1869)\r\n    \tat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\r\n    \tat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\r\n    \tat com.print.model.schemaPublic.gateway.UserGateway.list(UserGateway.java:61)\r\n    \tat com.print.model.schemaPublic.UserBusiness.list(UserBusiness.java:22)\r\n    \tat com.print.controller.MenuController.fileNovoAction(MenuController.java:22)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat com.library.core.ActionListenerDelegate.actionPerformed(ActionListenerDelegate.java:48)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n    \tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n    \tat javax.swing.AbstractButton.doClick(AbstractButton.java:376)\r\n    \tat javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\r\n    \tat javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\r\n    \tat java.awt.Component.processMouseEvent(Component.java:6516)\r\n    \tat javax.swing.JComponent.processMouseEvent(JComponent.java:3320)\r\n    \tat java.awt.Component.processEvent(Component.java:6281)\r\n    \tat java.awt.Container.processEvent(Container.java:2229)\r\n    \tat java.awt.Component.dispatchEventImpl(Component.java:4872)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4698)\r\n    \tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\r\n    \tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\r\n    \tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2273)\r\n    \tat java.awt.Window.dispatchEventImpl(Window.java:2719)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4698)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:735)\r\n    \tat java.awt.EventQueue.access$200(EventQueue.java:103)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:694)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:692)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:708)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:706)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:705)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\r\n\r\n**Caused by: org.postgresql.util.PSQLException: bad value for type int: admin**\r\n","title":"Hibernate. PSQLException: bad value for type int : admin","body":"<p>Well I have a desktop application with JAVA and Hibernate <strong>4.3.1</strong>. For now I have just two entities (User and Role).</p>\n\n<h2>User</h2>\n\n<pre><code>...\n\n@ManyToOne(fetch = FetchType.LAZY)\n@Fetch(FetchMode.JOIN)\n@JoinColumn(nullable = false, name = \"fk_role\")\nprivate Role fk_role;\n\n...\n</code></pre>\n\n<h2>Role</h2>\n\n<pre><code>...\n\n@Column(name = \"admin\", nullable = false)\n@Type(type = \"org.hibernate.type.BooleanType\")\nprivate boolean admin = false;\n\n...\n</code></pre>\n\n<p>I have tried instead</p>\n\n<pre><code>@Type(type = \"org.hibernate.type.BooleanType\")\n</code></pre>\n\n<p>this.</p>\n\n<pre><code>@Type(type = \"org.hibernate.type.NumericBooleanType\")\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Type(type = \"org.hibernate.type.YesNoType\")\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Type(type = \"org.hibernate.type.TrueFalseType\")\n</code></pre>\n\n<p>As shown here: <a href=\"http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/types.html#types-value-basic\" rel=\"noreferrer\">http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/types.html#types-value-basic</a></p>\n\n<p>And nothing. =/</p>\n\n<p>I tried this too: <a href=\"http://alenovarini.wikidot.com/mapping-a-custom-type-in-hibernate\" rel=\"noreferrer\">http://alenovarini.wikidot.com/mapping-a-custom-type-in-hibernate</a></p>\n\n<p>=(\n    In the database, the type for column admin is boolean and I use Postgres <strong>9.3</strong>.\n    When I run this, I got the following:\n    --</p>\n\n<pre><code>org.hibernate.exception.DataException: could not execute query\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:135)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\n    at org.hibernate.loader.Loader.doList(Loader.java:2554)\n    at org.hibernate.loader.Loader.doList(Loader.java:2537)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2367)\n    at org.hibernate.loader.Loader.list(Loader.java:2362)\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1869)\n    at org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\n    at org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\n    at com.print.model.schemaPublic.gateway.UserGateway.list(UserGateway.java:61)\n    at com.print.model.schemaPublic.UserBusiness.list(UserBusiness.java:22)\n    at com.print.controller.MenuController.fileNovoAction(MenuController.java:22)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at com.library.core.ActionListenerDelegate.actionPerformed(ActionListenerDelegate.java:48)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.AbstractButton.doClick(AbstractButton.java:376)\n    at javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\n    at javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\n    at java.awt.Component.processMouseEvent(Component.java:6516)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3320)\n    at java.awt.Component.processEvent(Component.java:6281)\n    at java.awt.Container.processEvent(Container.java:2229)\n    at java.awt.Component.dispatchEventImpl(Component.java:4872)\n    at java.awt.Container.dispatchEventImpl(Container.java:2287)\n    at java.awt.Component.dispatchEvent(Component.java:4698)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\n    at java.awt.Container.dispatchEventImpl(Container.java:2273)\n    at java.awt.Window.dispatchEventImpl(Window.java:2719)\n    at java.awt.Component.dispatchEvent(Component.java:4698)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:735)\n    at java.awt.EventQueue.access$200(EventQueue.java:103)\n    at java.awt.EventQueue$3.run(EventQueue.java:694)\n    at java.awt.EventQueue$3.run(EventQueue.java:692)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.awt.EventQueue$4.run(EventQueue.java:708)\n    at java.awt.EventQueue$4.run(EventQueue.java:706)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:705)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\n</code></pre>\n\n<p><strong>Caused by: org.postgresql.util.PSQLException: bad value for type int: admin</strong></p>\n"},{"tags":["java","android","android-wifi","wifimanager","android-developer-api"],"answers":[{"tags":[],"owner":{"account_id":2619444,"reputation":2641,"user_id":2267817,"accept_rate":75,"display_name":"Always Learning"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1695136617,"creation_date":1619990736,"answer_id":67361262,"question_id":67318738,"body_markdown":"Only privileged apps can can enable/disable hotspots in Android. If you happen to be developing such an app (or have a rooted device), you can use the below APIs.\r\n\r\n**If using Android Version &gt;= 11**\r\n\r\nYou can start a hotspot with `TetheringManager#startTethering` code [here][1].\r\n\r\nSimilarly, there is a `TetheringManager#stopTethering` method with code [here][3]. This will stop a hotspot.\r\n\r\n**If using Android Version &lt; 11**\r\n\r\n`ConnectivityManager#startTethering` can be used with code details [here][4]. Likewise, there is a `ConnectivityManager#stopTethering` method with code [here][5].\r\n\r\n\r\n  [1]: https://cs.android.com/android/platform/superproject/+/master:packages/modules/Connectivity/Tethering/common/TetheringLib/src/android/net/TetheringManager.java?q=func:startTethering\r\n  [2]: https://source.android.com/devices/tech/connect/wifi-softap-tethering#source\r\n  [3]: https://cs.android.com/android/platform/superproject/+/master:packages/modules/Connectivity/Tethering/common/TetheringLib/src/android/net/TetheringManager.java?q=func:stopTethering\r\n  [4]: https://android.googlesource.com/platform/frameworks/base/+/android-9.0.0_r3/core/java/android/net/ConnectivityManager.java#2261\r\n  [5]: https://android.googlesource.com/platform/frameworks/base/+/android-9.0.0_r3/core/java/android/net/ConnectivityManager.java#2298","title":"How do I enable/disable hotspot or tethering mode programmatically on Android?","body":"<p>Only privileged apps can can enable/disable hotspots in Android. If you happen to be developing such an app (or have a rooted device), you can use the below APIs.</p>\n<p><strong>If using Android Version &gt;= 11</strong></p>\n<p>You can start a hotspot with <code>TetheringManager#startTethering</code> code <a href=\"https://cs.android.com/android/platform/superproject/+/master:packages/modules/Connectivity/Tethering/common/TetheringLib/src/android/net/TetheringManager.java?q=func:startTethering\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Similarly, there is a <code>TetheringManager#stopTethering</code> method with code <a href=\"https://cs.android.com/android/platform/superproject/+/master:packages/modules/Connectivity/Tethering/common/TetheringLib/src/android/net/TetheringManager.java?q=func:stopTethering\" rel=\"nofollow noreferrer\">here</a>. This will stop a hotspot.</p>\n<p><strong>If using Android Version &lt; 11</strong></p>\n<p><code>ConnectivityManager#startTethering</code> can be used with code details <a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-9.0.0_r3/core/java/android/net/ConnectivityManager.java#2261\" rel=\"nofollow noreferrer\">here</a>. Likewise, there is a <code>ConnectivityManager#stopTethering</code> method with code <a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-9.0.0_r3/core/java/android/net/ConnectivityManager.java#2298\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":4767299,"reputation":552,"user_id":6901370,"display_name":"Joseph Van Riper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695117988,"creation_date":1695117988,"answer_id":77133618,"question_id":67318738,"body_markdown":"Your app requires the following two privileges (only available to system applications):\r\n\r\n - android.permission.TETHER_PRIVILEGED\r\n - android.permission.WRITE_SETTINGS\r\n\r\nOnce you&#39;ve secured those permissions, though, you can try the following (kotlin):\r\n\r\n    fun startTethering(ctx: Context) {\r\n      val o = ctx.getSystemService(Context.CONNECTIVITY_SERVICE)\r\n      for (m in o.javaClass.methods) {\r\n        if (m.name.equals(&quot;tether&quot;)) {\r\n          try {\r\n            m.invoke(o, &quot;eth0&quot;) // or whatever you know the iface to be\r\n          } catch (e: IllegalArgumentException) {\r\n            e.printStackTrace()\r\n          } catch (e: IllegalAccessException) {\r\n            e.printStackTrace()\r\n          } catch (e: InvocationTargetException) {\r\n            val target = e.targetException\r\n            Log.e(&quot;tethering&quot;, &quot;target: ${target.message}&quot;)\r\n            e.printStackTrace()\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nIf you want code to untether the iface, use the same code as above, but replace &#39;tether&#39; with &#39;untether&#39;.\r\n\r\nI have only tested this code against Android 11.  Your mileage may vary.","title":"How do I enable/disable hotspot or tethering mode programmatically on Android?","body":"<p>Your app requires the following two privileges (only available to system applications):</p>\n<ul>\n<li>android.permission.TETHER_PRIVILEGED</li>\n<li>android.permission.WRITE_SETTINGS</li>\n</ul>\n<p>Once you've secured those permissions, though, you can try the following (kotlin):</p>\n<pre><code>fun startTethering(ctx: Context) {\n  val o = ctx.getSystemService(Context.CONNECTIVITY_SERVICE)\n  for (m in o.javaClass.methods) {\n    if (m.name.equals(&quot;tether&quot;)) {\n      try {\n        m.invoke(o, &quot;eth0&quot;) // or whatever you know the iface to be\n      } catch (e: IllegalArgumentException) {\n        e.printStackTrace()\n      } catch (e: IllegalAccessException) {\n        e.printStackTrace()\n      } catch (e: InvocationTargetException) {\n        val target = e.targetException\n        Log.e(&quot;tethering&quot;, &quot;target: ${target.message}&quot;)\n        e.printStackTrace()\n      }\n    }\n  }\n}\n</code></pre>\n<p>If you want code to untether the iface, use the same code as above, but replace 'tether' with 'untether'.</p>\n<p>I have only tested this code against Android 11.  Your mileage may vary.</p>\n"}],"owner":{"account_id":4457272,"reputation":229,"user_id":3627114,"accept_rate":0,"display_name":"physiii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5553,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1695136617,"creation_date":1619704141,"question_id":67318738,"body_markdown":"I see many references on Android&#39;s website to [local Only Hotspot][1]\r\n\r\nHowever I need to manage the cellular hotspot programmatically from a background service as I can do manually from the pulldown menu.\r\n\r\nThis used to be done like:\r\n\r\n    method = wifiManager.getClass().getDeclaredMethod(&quot;setWifiApEnabled&quot;, WifiConfiguration.class, Boolean.TYPE);\r\n    method.invoke(wifiManager, wifiConfiguration, activated);\r\n\r\n However this feature has been deprecated.\r\n\r\nMy wireless provider (AT&amp;T) is trying to charge me differently based on what device is connected and how. The network should be agnostic to devices and just transport my packets to their destination. I hope this is not related, but I am worried we our losing control over our devices.\r\n\r\nDoes Android really not provide simple API calls for managing the hotspot?\r\n\r\n  [1]: https://developer.android.com/guide/topics/connectivity/localonlyhotspot","title":"How do I enable/disable hotspot or tethering mode programmatically on Android?","body":"<p>I see many references on Android's website to <a href=\"https://developer.android.com/guide/topics/connectivity/localonlyhotspot\" rel=\"noreferrer\">local Only Hotspot</a></p>\n<p>However I need to manage the cellular hotspot programmatically from a background service as I can do manually from the pulldown menu.</p>\n<p>This used to be done like:</p>\n<pre><code>method = wifiManager.getClass().getDeclaredMethod(&quot;setWifiApEnabled&quot;, WifiConfiguration.class, Boolean.TYPE);\nmethod.invoke(wifiManager, wifiConfiguration, activated);\n</code></pre>\n<p>However this feature has been deprecated.</p>\n<p>My wireless provider (AT&amp;T) is trying to charge me differently based on what device is connected and how. The network should be agnostic to devices and just transport my packets to their destination. I hope this is not related, but I am worried we our losing control over our devices.</p>\n<p>Does Android really not provide simple API calls for managing the hotspot?</p>\n"},{"tags":["java","spring-boot","dsl"],"answers":[{"tags":[],"owner":{"account_id":14780386,"reputation":2981,"user_id":10674026,"display_name":"pero_hero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695136042,"creation_date":1695051813,"answer_id":77128618,"question_id":77127099,"body_markdown":"with this `build.gradle` the Query class is generated with the `com.ewerk.gradle.plugins.querydsl` plugin:\r\n\r\n     \r\n    plugins {\r\n    \tid &#39;java&#39;\r\n    \tid &#39;org.springframework.boot&#39; version &#39;3.1.3&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\n    \tid &quot;com.ewerk.gradle.plugins.querydsl&quot; version &quot;1.0.10&quot;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    \r\n    java {\r\n    \tsourceCompatibility = &#39;17&#39;\r\n    }\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    \tquerydsl.extendsFrom implementation, compileOnly, runtimeOnly, annotationProcessor\r\n    \r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.mariadb.jdbc:mariadb-java-client&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    \ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web-services&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    \timplementation &#39;org.projectlombok:lombok&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n    \r\n    \timplementation group: &#39;javax.persistence&#39;, name: &#39;javax.persistence-api&#39;, version: &#39;2.2&#39; // import javax.persistence.Entity;\r\n    \timplementation &#39;org.hibernate:hibernate-core:6.1.7.Final&#39;\r\n    \ttestImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.2&#39;\r\n    \ttestRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.2&#39;\r\n    \r\n    \tcompileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    \r\n    //QueryDSL 추가\r\n    \timplementation &#39;com.querydsl:querydsl-jpa:5.0.0:jakarta&#39;\r\n    //    annotationProcessor group: &#39;com.querydsl&#39;, name: &#39;querydsl-apt&#39;, version: &#39;5.0.0&#39;\r\n    \timplementation &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;\r\n    }\r\n    querydsl {\r\n    \tjpa = true\r\n    \tlibrary = &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;\r\n    }\r\n    \r\n    compileQuerydsl {\r\n    \toptions.annotationProcessorPath = configurations.querydsl\r\n    }\r\n\r\nadd following line to the configurations in order to allow the annotationprocessor to find the jpa classes from classpath:\r\n   \r\n\r\n     querydsl.extendsFrom implementation, compileOnly, runtimeOnly, annotationProcessor\r\n\r\nin the dependendcy section add the jakarta classifier:\r\n\t\r\n\r\n        implementation &#39;com.querydsl:querydsl-jpa:5.0.0:jakarta&#39;  \r\n    \timplementation &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;\r\n\r\nand finally add to configure the annotation processor:\r\n\r\n \r\n\r\n      querydsl {\r\n    \tjpa = true\r\n    \tlibrary = &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;\r\n       }\r\n    \r\n       compileQuerydsl {\r\n    \toptions.annotationProcessorPath = configurations.querydsl\r\n       }\r\n\r\n\r\n----------\r\nwith this `build.gradle` you can generate the `querydsl` sources without the `com.ewerk.gradle.plugins.querydsl` plugin\r\n\r\n    plugins {\r\n    \tid &#39;java&#39;\r\n    \tid &#39;org.springframework.boot&#39; version &#39;3.1.3&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    \r\n    java {\r\n    \tsourceCompatibility = &#39;17&#39;\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;com.querydsl:querydsl-jpa:5.0.0:jakarta&#39;\r\n    \timplementation\t&quot;com.querydsl:querydsl-apt:5.0.0:jakarta&quot;\r\n    \r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \ttestImplementation &#39;org.testcontainers:postgresql&#39;\r\n    \r\n    \tannotationProcessor ( &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;,\r\n    \t\t\t&quot;jakarta.persistence:jakarta.persistence-api:3.1.0&quot;)\r\n    \r\n    }\r\n\r\n\r\nusing `annotationProcessor` task and telling gradle where the annotationProcessor is and where other dependecies are located:\r\n\t\r\n\r\n    annotationProcessor ( &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;,\r\n    \t\t\t&quot;jakarta.persistence:jakarta.persistence-api:3.1.0&quot;)\r\n\r\nthe generated files can be found in[![build/generated/sources/annotationProcessor/java/main][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Znk6d.png","title":"Issue with Directory Structure Generated by Gradle compileQuerydsl","body":"<p>with this <code>build.gradle</code> the Query class is generated with the <code>com.ewerk.gradle.plugins.querydsl</code> plugin:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.3'\n    id 'io.spring.dependency-management' version '1.1.3'\n    id &quot;com.ewerk.gradle.plugins.querydsl&quot; version &quot;1.0.10&quot;\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n    querydsl.extendsFrom implementation, compileOnly, runtimeOnly, annotationProcessor\n\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.mariadb.jdbc:mariadb-java-client'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    testImplementation 'org.springframework.security:spring-security-test'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-web-services'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.projectlombok:lombok'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n\n    implementation group: 'javax.persistence', name: 'javax.persistence-api', version: '2.2' // import javax.persistence.Entity;\n    implementation 'org.hibernate:hibernate-core:6.1.7.Final'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.2'\n\n    compileOnly 'org.projectlombok:lombok:1.18.22'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22'\n\n//QueryDSL 추가\n    implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'\n//    annotationProcessor group: 'com.querydsl', name: 'querydsl-apt', version: '5.0.0'\n    implementation 'com.querydsl:querydsl-apt:5.0.0:jakarta'\n}\nquerydsl {\n    jpa = true\n    library = 'com.querydsl:querydsl-apt:5.0.0:jakarta'\n}\n\ncompileQuerydsl {\n    options.annotationProcessorPath = configurations.querydsl\n}\n</code></pre>\n<p>add following line to the configurations in order to allow the annotationprocessor to find the jpa classes from classpath:</p>\n<pre><code> querydsl.extendsFrom implementation, compileOnly, runtimeOnly, annotationProcessor\n</code></pre>\n<p>in the dependendcy section add the jakarta classifier:</p>\n<pre><code>    implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'  \n    implementation 'com.querydsl:querydsl-apt:5.0.0:jakarta'\n</code></pre>\n<p>and finally add to configure the annotation processor:</p>\n<pre><code>  querydsl {\n    jpa = true\n    library = 'com.querydsl:querydsl-apt:5.0.0:jakarta'\n   }\n\n   compileQuerydsl {\n    options.annotationProcessorPath = configurations.querydsl\n   }\n</code></pre>\n<hr />\n<p>with this <code>build.gradle</code> you can generate the <code>querydsl</code> sources without the <code>com.ewerk.gradle.plugins.querydsl</code> plugin</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.3'\n    id 'io.spring.dependency-management' version '1.1.3'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'\n    implementation  &quot;com.querydsl:querydsl-apt:5.0.0:jakarta&quot;\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.testcontainers:postgresql'\n\n    annotationProcessor ( 'com.querydsl:querydsl-apt:5.0.0:jakarta',\n            &quot;jakarta.persistence:jakarta.persistence-api:3.1.0&quot;)\n\n}\n</code></pre>\n<p>using <code>annotationProcessor</code> task and telling gradle where the annotationProcessor is and where other dependecies are located:</p>\n<pre><code>annotationProcessor ( 'com.querydsl:querydsl-apt:5.0.0:jakarta',\n            &quot;jakarta.persistence:jakarta.persistence-api:3.1.0&quot;)\n</code></pre>\n<p>the generated files can be found in<a href=\"https://i.stack.imgur.com/Znk6d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Znk6d.png\" alt=\"build/generated/sources/annotationProcessor/java/main\" /></a></p>\n"}],"owner":{"account_id":29472722,"reputation":21,"user_id":22585091,"display_name":"고슴도치"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695136042,"creation_date":1695039067,"question_id":77127099,"body_markdown":"I proceeded while watching the online lecture, and now I&#39;m not sure if the version has changed or what, but even if I run compileQuerydsl, only the highest directory is created, not the target model.\r\nMy build.gradle and model are as follows. I would appreciate it if you could tell me the reason.\r\n\r\n\r\n\r\nThis is the build.gradl\r\n```\r\nplugins {\r\nid &#39;java&#39;\r\nid &#39;org.springframework.boot&#39; version &#39;3.1.3&#39;\r\nid &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\nid &quot;com.ewerk.gradle.plugins.querydsl&quot; version &quot;1.0.10&quot;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\nsourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nconfigurations {\r\ncompileOnly {\r\nextendsFrom annotationProcessor\r\n}\r\n}\r\n\r\nrepositories {\r\nmavenCentral()\r\n}\r\n\r\ndependencies {\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\nimplementation &#39;org.mariadb.jdbc:mariadb-java-client&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\ntestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\ntestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\ndevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-web-services&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\nimplementation &#39;org.projectlombok:lombok&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n\r\nimplementation group: &#39;javax.persistence&#39;, name: &#39;javax.persistence-api&#39;, version: &#39;2.2&#39; // import javax.persistence.Entity;\r\nimplementation &#39;org.hibernate:hibernate-core:6.1.7.Final&#39;\r\ntestImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.2&#39;\r\ntestRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.2&#39;\r\n\r\ncompileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\nannotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n\r\n//QueryDSL 추가\r\nimplementation &#39;com.querydsl:querydsl-jpa:5.0.0&#39;\r\n//    annotationProcessor group: &#39;com.querydsl&#39;, name: &#39;querydsl-apt&#39;, version: &#39;5.0.0&#39;\r\nimplementation &#39;com.querydsl:querydsl-apt:5.0.0&#39;\r\n}\r\n```\r\n\r\nand this is the ExampleTable.java (model)\r\n\r\n```\r\nimport jakarta.persistence.\\*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class ExampleTable {\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n@Column(name = &quot;id&quot;)\r\nprivate Long id;\r\n\r\nprivate String name;\r\n\r\nprivate int age;\r\n\r\npublic ExampleTable(Long id, String name, int age) {\r\nthis.id = id;\r\nthis.name = name;\r\nthis.age = age;\r\n}\r\n\r\npublic ExampleTable() {\r\n\r\n}\r\n}\r\n\r\n```\r\n\r\nand this is the result of me running compileQuerydsl.\r\n[enter image description here](https://i.stack.imgur.com/xIkjT.png)","title":"Issue with Directory Structure Generated by Gradle compileQuerydsl","body":"<p>I proceeded while watching the online lecture, and now I'm not sure if the version has changed or what, but even if I run compileQuerydsl, only the highest directory is created, not the target model.\nMy build.gradle and model are as follows. I would appreciate it if you could tell me the reason.</p>\n<p>This is the build.gradl</p>\n<pre><code>plugins {\nid 'java'\nid 'org.springframework.boot' version '3.1.3'\nid 'io.spring.dependency-management' version '1.1.3'\nid &quot;com.ewerk.gradle.plugins.querydsl&quot; version &quot;1.0.10&quot;\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\n\njava {\nsourceCompatibility = '17'\n}\n\nconfigurations {\ncompileOnly {\nextendsFrom annotationProcessor\n}\n}\n\nrepositories {\nmavenCentral()\n}\n\ndependencies {\nimplementation 'org.springframework.boot:spring-boot-starter-data-jpa'\nimplementation 'org.mariadb.jdbc:mariadb-java-client'\nimplementation 'org.springframework.boot:spring-boot-starter-security'\ntestImplementation 'org.springframework.security:spring-security-test'\ntestImplementation 'org.springframework.boot:spring-boot-starter-test'\ndevelopmentOnly 'org.springframework.boot:spring-boot-devtools'\nimplementation 'org.springframework.boot:spring-boot-starter-web'\nimplementation 'org.springframework.boot:spring-boot-starter-web-services'\nimplementation 'org.springframework.boot:spring-boot-starter-webflux'\nimplementation 'org.projectlombok:lombok'\nimplementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\nimplementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\nimplementation 'org.springframework.boot:spring-boot-starter-jdbc'\n\nimplementation group: 'javax.persistence', name: 'javax.persistence-api', version: '2.2' // import javax.persistence.Entity;\nimplementation 'org.hibernate:hibernate-core:6.1.7.Final'\ntestImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.2'\ntestRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.2'\n\ncompileOnly 'org.projectlombok:lombok:1.18.22'\nannotationProcessor 'org.projectlombok:lombok:1.18.22'\n\n//QueryDSL 추가\nimplementation 'com.querydsl:querydsl-jpa:5.0.0'\n//    annotationProcessor group: 'com.querydsl', name: 'querydsl-apt', version: '5.0.0'\nimplementation 'com.querydsl:querydsl-apt:5.0.0'\n}\n</code></pre>\n<p>and this is the ExampleTable.java (model)</p>\n<pre><code>import jakarta.persistence.\\*;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Entity\n@Getter\n@Setter\npublic class ExampleTable {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate Long id;\n\nprivate String name;\n\nprivate int age;\n\npublic ExampleTable(Long id, String name, int age) {\nthis.id = id;\nthis.name = name;\nthis.age = age;\n}\n\npublic ExampleTable() {\n\n}\n}\n\n</code></pre>\n<p>and this is the result of me running compileQuerydsl.\n<a href=\"https://i.stack.imgur.com/xIkjT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","cassandra"],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695135363,"creation_date":1695130569,"answer_id":77135058,"question_id":77134377,"body_markdown":"    Date modifiedDate;\r\n\r\nFirst, remember that Cassandra&#39;s `DATE` type maps to `Java.time.LocalDate`.\r\n\r\nSecond, when using a DB repository framework, you end up making a tradeoff of explicit control for the convenience of not having to build a boilerplate DAL.  In this situation, I&#39;ve often set the date at object creation time using `LocalDate.now()`.\r\n\r\n    myDataEntity.setDate(LocalDate.now());\r\n\r\n&gt; current timestamp generated by cassandra node\r\n\r\nThird, this shouldn&#39;t be too much of a concern today. An enterprise&#39;s servers should be configured to the same NTP endpoint, which means that the date/time will be the same regardless of where it is generated.\r\n\r\nI could maybe see if it was a full timestamp and milliseconds mattered. But even without NTP, a precision of *date* shouldn&#39;t vary much between an app and a database server.","title":"How to write current timestamp in cassandra column using entity mapper","body":"<pre><code>Date modifiedDate;\n</code></pre>\n<p>First, remember that Cassandra's <code>DATE</code> type maps to <code>Java.time.LocalDate</code>.</p>\n<p>Second, when using a DB repository framework, you end up making a tradeoff of explicit control for the convenience of not having to build a boilerplate DAL.  In this situation, I've often set the date at object creation time using <code>LocalDate.now()</code>.</p>\n<pre><code>myDataEntity.setDate(LocalDate.now());\n</code></pre>\n<blockquote>\n<p>current timestamp generated by cassandra node</p>\n</blockquote>\n<p>Third, this shouldn't be too much of a concern today. An enterprise's servers should be configured to the same NTP endpoint, which means that the date/time will be the same regardless of where it is generated.</p>\n<p>I could maybe see if it was a full timestamp and milliseconds mattered. But even without NTP, a precision of <em>date</em> shouldn't vary much between an app and a database server.</p>\n"}],"owner":{"account_id":3146253,"reputation":3761,"user_id":2660679,"accept_rate":71,"display_name":"Deepu--Java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695135363,"creation_date":1695124786,"question_id":77134377,"body_markdown":"We are using entity mapper to map cassandra table to java object. Ex\r\n```\r\nclass Activity\r\n{\r\n   @PrimaryKey\r\n   int id;\r\n   @Column\r\n   Date modifiedDate;\r\n   @Column\r\n   String activityDesc;\r\n}\r\n```\r\nI want to add **modifiedDate** as the current timestamp generated by cassandra node from function **totimestamp(now())**\r\n\r\nHow can I achieve this with mapper method without using plain CQL insert query. I checked the docs and found **@Computed** supports function but that is just for select queries.","title":"How to write current timestamp in cassandra column using entity mapper","body":"<p>We are using entity mapper to map cassandra table to java object. Ex</p>\n<pre><code>class Activity\n{\n   @PrimaryKey\n   int id;\n   @Column\n   Date modifiedDate;\n   @Column\n   String activityDesc;\n}\n</code></pre>\n<p>I want to add <strong>modifiedDate</strong> as the current timestamp generated by cassandra node from function <strong>totimestamp(now())</strong></p>\n<p>How can I achieve this with mapper method without using plain CQL insert query. I checked the docs and found <strong>@Computed</strong> supports function but that is just for select queries.</p>\n"},{"tags":["java","jsf","tomcat","richfaces"],"comments":[{"owner":{"account_id":86881,"reputation":1598,"user_id":241291,"accept_rate":91,"display_name":"cobaltduck"},"score":0,"creation_date":1396280990,"post_id":22762512,"comment_id":34706899,"body_markdown":"Are you familiar with the site findjar.com?  It allows you to search a full class name, and gives you a list of jars that contain that file.  From what I can see there, it looks like you might need to upgrade commons collections to latest version.","body":"Are you familiar with the site findjar.com?  It allows you to search a full class name, and gives you a list of jars that contain that file.  From what I can see there, it looks like you might need to upgrade commons collections to latest version."},{"owner":{"account_id":3372283,"reputation":343,"user_id":2831242,"display_name":"youness.bout"},"score":0,"creation_date":1396340021,"post_id":22762512,"comment_id":34731892,"body_markdown":"@cobaltduck This didn&#39;t work either since com.sun.faces.config.ConfigureListener is part of mojarra implementation. Not in commons collections as you said.","body":"@cobaltduck This didn&#39;t work either since com.sun.faces.config.ConfigureListener is part of mojarra implementation. Not in commons collections as you said."},{"owner":{"account_id":86881,"reputation":1598,"user_id":241291,"accept_rate":91,"display_name":"cobaltduck"},"score":0,"creation_date":1396356701,"post_id":22762512,"comment_id":34742838,"body_markdown":"Oh, well.  It was worth a shot.  Sorry I can&#39;t be of more help.","body":"Oh, well.  It was worth a shot.  Sorry I can&#39;t be of more help."},{"owner":{"account_id":3372283,"reputation":343,"user_id":2831242,"display_name":"youness.bout"},"score":0,"creation_date":1396362932,"post_id":22762512,"comment_id":34747469,"body_markdown":"It&#39;s ok. Thanks anyway for your time and for being responsive to my problem.","body":"It&#39;s ok. Thanks anyway for your time and for being responsive to my problem."},{"owner":{"display_name":"user909694"},"score":0,"creation_date":1416427471,"post_id":22762512,"comment_id":42575178,"body_markdown":"I think the first step here is to start from the basics.. Have you tried deploying your app in a fresh Tomcat? Looking at your list of libs, there are many there that don&#39;t sound like runtime dependencies (obviously this depends on the app&#39;s intended functionality), `ant.jar`, `gradle-all-1.7.5.jar`, etc..? For the record: I&#39;m currently experiencing similar issues in a different environment.","body":"I think the first step here is to start from the basics.. Have you tried deploying your app in a fresh Tomcat? Looking at your list of libs, there are many there that don&#39;t sound like runtime dependencies (obviously this depends on the app&#39;s intended functionality), <code>ant.jar</code>, <code>gradle-all-1.7.5.jar</code>, etc..? For the record: I&#39;m currently experiencing similar issues in a different environment."}],"answers":[{"tags":[],"owner":{"account_id":29483072,"reputation":1,"user_id":22593567,"display_name":"user22593567"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695135223,"creation_date":1695135208,"answer_id":77135671,"question_id":22762512,"body_markdown":"this post is old, but you might check the tomahawk and JSF versions.  I think the version of richfaces chosen supports JSF 2.x.","title":"Migration from richfaces 3.1.6 to 3.3.3 has java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener","body":"<p>this post is old, but you might check the tomahawk and JSF versions.  I think the version of richfaces chosen supports JSF 2.x.</p>\n"}],"owner":{"account_id":3372283,"reputation":343,"user_id":2831242,"display_name":"youness.bout"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695135223,"creation_date":1396271645,"question_id":22762512,"body_markdown":"Good evening guys.\r\nThank you so much in advance for giving up your time to just read my problem, and i&#39;ll appreciate it if someone could help me.\r\n\r\nI&#39;m responsible now for migrating a big project from richefaces 3.1.6 to 3.3.3, but i&#39;m stuck having this issue at the startup of tomcat: java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener\r\n\r\nThe same issue has been reported in this link: [java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener][1]. But it&#39;s may be way different than the one i&#39;m facing. \r\nI tried many configuration(like changing jsf implementation to mojarra) but with no conclusive result.\r\nNow I&#39;m trying to go with it step by step, and seek your help when I&#39;m stuck.\r\n\r\nHere are the old list of jar libraries of our project .\r\n\r\n - activation.jar\r\n - ant.jar\r\n - commons-beanutils-1.7.0.jar\r\n - commons-codec-1.3.jar\r\n - commons-collections-3.1.jar\r\n - commons-digester-1.6.jar\r\n - commons-el-1.0.jar\r\n - commons-fileupload-1.2.1.jar\r\n - commons-io-1.1.jar\r\n - commons-lang-2.1.jar\r\n - commons-net-3.0.1.jar\r\n - commons-validator-1.3.1.jar\r\n - confection-lib-1.0.jar\r\n - edtftpj.jar\r\n - el-api.jar\r\n - el-ri.jar\r\n - groovy-all-1.7.5.jar\r\n - iText-2.1.7.jar\r\n - jasperreports-3.7.6.jar\r\n - javolution-5.5.1.jar\r\n - jsf-facelets.jar\r\n - jstl-1.1.0.jar\r\n - log4j-1.2.15.jar\r\n - myfaces-api-1.1.5.jar\r\n - myfaces-impl-1.1.5.jar\r\n - ojdbc14.jar\r\n - poi-3.8-20120326.jar\r\n - poi-ooxml-3.8-20120326.jar\r\n - richfaces-api-3.1.6.SR1.jar\r\n - richfaces-impl-3.1.6.SR1.jar\r\n - richfaces-ui-3.1.6.SR1.jar\r\n - standard.jar\r\n - tomahawk-1.1.9.jar\r\n\r\nthese libraries are placed in a shared lib inside tomcat 5.5.36 : C:\\apache-tomcat-5.5.36_\\shared\\lib \r\n\r\n\r\nOur web.xml contains this lines :\r\n    \r\n   `\r\n\r\n    &lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;org.richfaces.SKIN&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;classic&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t&lt;filter&gt;\r\n    \t\t&lt;display-name&gt;RichFaces Filter&lt;/display-name&gt;\r\n    \t\t&lt;filter-name&gt;richfaces&lt;/filter-name&gt;\r\n    \t\t&lt;filter-class&gt;org.ajax4jsf.Filter&lt;/filter-class&gt;\r\n    \t&lt;/filter&gt;\r\n    \t&lt;filter-mapping&gt;\r\n    \t\t&lt;filter-name&gt;richfaces&lt;/filter-name&gt;\r\n    \t\t&lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n    \t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n    \t\t&lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n    \t\t&lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\r\n    \t&lt;/filter-mapping&gt;\r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;\r\n    \t\t\torg.apache.myfaces.webapp.StartupServletContextListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n\r\n`\r\n\r\nThe only thing I change is the 3 jar files for richefaces :\r\n\r\n - richfaces-api-3.1.6.SR1.jar\r\n - richfaces-impl-3.1.6.SR1.jar\r\n - richfaces-ui-3.1.6.SR1.jar\r\n\r\nand I replace them with these :\r\n\r\n - richfaces-api-3.3.3.Final.jar\r\n - richfaces-impl-3.3.3.Final.jar\r\n - richfaces-ui-3.3.3.Final.jar\r\n\r\n\r\nOnce I start tomcat i get this stacktrace : \r\n\r\n    java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1438)\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1284)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3743)\r\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4252)\r\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)\r\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:736)\r\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)\r\n\tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)\r\n\tat org.apache.catalina.core.StandardService.start(StandardService.java:448)\r\n\tat org.apache.catalina.core.StandardServer.start(StandardServer.java:700)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:552)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11777844/java-lang-classnotfoundexception-com-sun-faces-config-configurelistener-when-us","title":"Migration from richfaces 3.1.6 to 3.3.3 has java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener","body":"<p>Good evening guys.\nThank you so much in advance for giving up your time to just read my problem, and i'll appreciate it if someone could help me.</p>\n\n<p>I'm responsible now for migrating a big project from richefaces 3.1.6 to 3.3.3, but i'm stuck having this issue at the startup of tomcat: java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener</p>\n\n<p>The same issue has been reported in this link: <a href=\"https://stackoverflow.com/questions/11777844/java-lang-classnotfoundexception-com-sun-faces-config-configurelistener-when-us\">java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener</a>. But it's may be way different than the one i'm facing. \nI tried many configuration(like changing jsf implementation to mojarra) but with no conclusive result.\nNow I'm trying to go with it step by step, and seek your help when I'm stuck.</p>\n\n<p>Here are the old list of jar libraries of our project .</p>\n\n<ul>\n<li>activation.jar</li>\n<li>ant.jar</li>\n<li>commons-beanutils-1.7.0.jar</li>\n<li>commons-codec-1.3.jar</li>\n<li>commons-collections-3.1.jar</li>\n<li>commons-digester-1.6.jar</li>\n<li>commons-el-1.0.jar</li>\n<li>commons-fileupload-1.2.1.jar</li>\n<li>commons-io-1.1.jar</li>\n<li>commons-lang-2.1.jar</li>\n<li>commons-net-3.0.1.jar</li>\n<li>commons-validator-1.3.1.jar</li>\n<li>confection-lib-1.0.jar</li>\n<li>edtftpj.jar</li>\n<li>el-api.jar</li>\n<li>el-ri.jar</li>\n<li>groovy-all-1.7.5.jar</li>\n<li>iText-2.1.7.jar</li>\n<li>jasperreports-3.7.6.jar</li>\n<li>javolution-5.5.1.jar</li>\n<li>jsf-facelets.jar</li>\n<li>jstl-1.1.0.jar</li>\n<li>log4j-1.2.15.jar</li>\n<li>myfaces-api-1.1.5.jar</li>\n<li>myfaces-impl-1.1.5.jar</li>\n<li>ojdbc14.jar</li>\n<li>poi-3.8-20120326.jar</li>\n<li>poi-ooxml-3.8-20120326.jar</li>\n<li>richfaces-api-3.1.6.SR1.jar</li>\n<li>richfaces-impl-3.1.6.SR1.jar</li>\n<li>richfaces-ui-3.1.6.SR1.jar</li>\n<li>standard.jar</li>\n<li>tomahawk-1.1.9.jar</li>\n</ul>\n\n<p>these libraries are placed in a shared lib inside tomcat 5.5.36 : C:\\apache-tomcat-5.5.36_\\shared\\lib </p>\n\n<p>Our web.xml contains this lines :</p>\n\n<p>`</p>\n\n<pre><code>&lt;context-param&gt;\n        &lt;param-name&gt;org.richfaces.SKIN&lt;/param-name&gt;\n        &lt;param-value&gt;classic&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;filter&gt;\n        &lt;display-name&gt;RichFaces Filter&lt;/display-name&gt;\n        &lt;filter-name&gt;richfaces&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.ajax4jsf.Filter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;richfaces&lt;/filter-name&gt;\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;\n            org.apache.myfaces.webapp.StartupServletContextListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n</code></pre>\n\n<p>`</p>\n\n<p>The only thing I change is the 3 jar files for richefaces :</p>\n\n<ul>\n<li>richfaces-api-3.1.6.SR1.jar</li>\n<li>richfaces-impl-3.1.6.SR1.jar</li>\n<li>richfaces-ui-3.1.6.SR1.jar</li>\n</ul>\n\n<p>and I replace them with these :</p>\n\n<ul>\n<li>richfaces-api-3.3.3.Final.jar</li>\n<li>richfaces-impl-3.3.3.Final.jar</li>\n<li>richfaces-ui-3.3.3.Final.jar</li>\n</ul>\n\n<p>Once I start tomcat i get this stacktrace : </p>\n\n<pre><code>java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1438)\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1284)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3743)\nat org.apache.catalina.core.StandardContext.start(StandardContext.java:4252)\nat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)\nat org.apache.catalina.core.StandardHost.start(StandardHost.java:736)\nat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)\nat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)\nat org.apache.catalina.core.StandardService.start(StandardService.java:448)\nat org.apache.catalina.core.StandardServer.start(StandardServer.java:700)\nat org.apache.catalina.startup.Catalina.start(Catalina.java:552)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)\n</code></pre>\n"},{"tags":["java","java-14"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1695061405,"post_id":77129370,"comment_id":135971099,"body_markdown":"related [Java (14 and above) instanceof cast to generics (e.g. List&lt;String&gt; )](https://stackoverflow.com/q/75220488/85421) ? (but you *must* already know it)","body":"related <a href=\"https://stackoverflow.com/q/75220488/85421\">Java (14 and above) instanceof cast to generics (e.g. List&lt;String&gt; )</a> ? (but you <i>must</i> already know it)"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1695064323,"post_id":77129370,"comment_id":135971564,"body_markdown":"`instanceof` _can&#39;t_, and never has been, able to tell the difference between `List&lt;String&gt;` and `List&lt;Employee&gt;`.  The use of this feature is not really for the case of collections or other generic things.","body":"<code>instanceof</code> <i>can&#39;t</i>, and never has been, able to tell the difference between <code>List&lt;String&gt;</code> and <code>List&lt;Employee&gt;</code>.  The use of this feature is not really for the case of collections or other generic things."}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1695068695,"creation_date":1695060024,"answer_id":77129443,"question_id":77129370,"body_markdown":"Because it turns it into a raw `List` due to [type erasure][1] in [Java Generics][2], so you can only get `Object`s out of it.\r\n\r\nSince `instanceof` doesn&#39;t work with generics (runtime vs. compile-time), you can only get the erased version of any generic class, so any `FooClass&lt;T&gt;` becomes a `FooClass` and you need to do an unchecked cast like in your example.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Type_erasure\r\n  [2]: https://en.m.wikipedia.org/wiki/Generics_in_Java","title":"why java&#39;s new feature &quot;Pattern Matching for instanceof operator&quot; doesn&#39;t work on List set or Map without typecasting","body":"<p>Because it turns it into a raw <code>List</code> due to <a href=\"https://en.m.wikipedia.org/wiki/Type_erasure\" rel=\"nofollow noreferrer\">type erasure</a> in <a href=\"https://en.m.wikipedia.org/wiki/Generics_in_Java\" rel=\"nofollow noreferrer\">Java Generics</a>, so you can only get <code>Object</code>s out of it.</p>\n<p>Since <code>instanceof</code> doesn't work with generics (runtime vs. compile-time), you can only get the erased version of any generic class, so any <code>FooClass&lt;T&gt;</code> becomes a <code>FooClass</code> and you need to do an unchecked cast like in your example.</p>\n"},{"tags":[],"owner":{"account_id":184019,"reputation":1100,"user_id":669772,"accept_rate":43,"display_name":"r-hold"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695135219,"creation_date":1695060179,"answer_id":77129467,"question_id":77129370,"body_markdown":"Internally, the Compiler does something called Type Erasure:\r\n\r\nAfter the compiler has checked the Types, it converts `List&lt;YourType&gt;` to `List&lt;Object&gt;`. As a result, you cannot check the Types of Collections at runtime. (never ever - there is no direct way around this.)\r\n\r\nBut you can check the types of objects inside lists. Or you can create Wrapper Classes.","title":"why java&#39;s new feature &quot;Pattern Matching for instanceof operator&quot; doesn&#39;t work on List set or Map without typecasting","body":"<p>Internally, the Compiler does something called Type Erasure:</p>\n<p>After the compiler has checked the Types, it converts <code>List&lt;YourType&gt;</code> to <code>List&lt;Object&gt;</code>. As a result, you cannot check the Types of Collections at runtime. (never ever - there is no direct way around this.)</p>\n<p>But you can check the types of objects inside lists. Or you can create Wrapper Classes.</p>\n"},{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695062360,"creation_date":1695062360,"answer_id":77129690,"question_id":77129370,"body_markdown":"You could use a second instanceof pattern match inside the loop:\r\n\r\n    if (obj instanceof List list) {\r\n        for (Object elem : list) {\r\n            if (elem instanceof Employee emp) {\r\n                System.out.println(emp.getId());\r\n                System.out.println(emp.getName());\r\n                System.out.println(emp.getSalary());\r\n            }\r\n        }\r\n    }\r\n\r\nIt may be better to use a wildcard instead of a raw type:\r\n\r\n    if (obj instanceof List&lt;?&gt; list)\r\n","title":"why java&#39;s new feature &quot;Pattern Matching for instanceof operator&quot; doesn&#39;t work on List set or Map without typecasting","body":"<p>You could use a second instanceof pattern match inside the loop:</p>\n<pre><code>if (obj instanceof List list) {\n    for (Object elem : list) {\n        if (elem instanceof Employee emp) {\n            System.out.println(emp.getId());\n            System.out.println(emp.getName());\n            System.out.println(emp.getSalary());\n        }\n    }\n}\n</code></pre>\n<p>It may be better to use a wildcard instead of a raw type:</p>\n<pre><code>if (obj instanceof List&lt;?&gt; list)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695064799,"creation_date":1695064799,"answer_id":77129874,"question_id":77129370,"body_markdown":"&gt; _&quot;... the for loop empList can&#39;t be used without type casting as `for (Employee emp : (List&lt;Employee&gt;)empList)`. And if we are doing type casting only then use type casting on obj itself like traditional code then whats the use of this feature. ...&quot;_\r\n\r\nThis would be very convenient, I agree.\r\n\r\nIt&#39;s impossible for the compiler to infer the class of the _List_ object&#39;s _T_ type.  \r\nYou should expect to be _casting_ the _[type-parameter](https://docs.oracle.com/javase/tutorial/java/generics/types.html)_ object here.\r\n\r\nThe _instanceof_ keyword is useful for objects, and not any applied _generic-type parameter_.\r\n\r\nI would just _cast_ the object first; it&#39;s a fairly inexpensive operation.\r\n\r\n```java\r\nif (obj instanceof List empList) {\r\n    Employee e;\r\n    for (Object emp : empList) {\r\n        e = (Employee) emp;\r\n        System.out.println(e.getId());\r\n        System.out.println(e.getName());\r\n        System.out.println(e.getSalary());\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n1\r\nRam\r\n10000\r\n2\r\nShyam\r\n20000\r\n3\r\nRadha\r\n30000\r\n```\r\n\r\nFor reference, here is a _Java_ documentation on _&quot;instanceof Pattern Matching&quot;_.\\\r\n_[Pattern Matching for the instanceof Operator](https://docs.oracle.com/en/java/javase/20/language/pattern-matching-instanceof-operator.html)_.","title":"why java&#39;s new feature &quot;Pattern Matching for instanceof operator&quot; doesn&#39;t work on List set or Map without typecasting","body":"<blockquote>\n<p><em>&quot;... the for loop empList can't be used without type casting as <code>for (Employee emp : (List&lt;Employee&gt;)empList)</code>. And if we are doing type casting only then use type casting on obj itself like traditional code then whats the use of this feature. ...&quot;</em></p>\n</blockquote>\n<p>This would be very convenient, I agree.</p>\n<p>It's impossible for the compiler to infer the class of the <em>List</em> object's <em>T</em> type.<br />\nYou should expect to be <em>casting</em> the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">type-parameter</a></em> object here.</p>\n<p>The <em>instanceof</em> keyword is useful for objects, and not any applied <em>generic-type parameter</em>.</p>\n<p>I would just <em>cast</em> the object first; it's a fairly inexpensive operation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (obj instanceof List empList) {\n    Employee e;\n    for (Object emp : empList) {\n        e = (Employee) emp;\n        System.out.println(e.getId());\n        System.out.println(e.getName());\n        System.out.println(e.getSalary());\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\nRam\n10000\n2\nShyam\n20000\n3\nRadha\n30000\n</code></pre>\n<p>For reference, here is a <em>Java</em> documentation on <em>&quot;instanceof Pattern Matching&quot;</em>.<br />\n<em><a href=\"https://docs.oracle.com/en/java/javase/20/language/pattern-matching-instanceof-operator.html\" rel=\"nofollow noreferrer\">Pattern Matching for the instanceof Operator</a></em>.</p>\n"}],"owner":{"account_id":7645565,"reputation":2443,"user_id":5796365,"display_name":"Ujjwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1695135219,"creation_date":1695059276,"question_id":77129370,"body_markdown":"\r\ninstanceof doesn&#39;t work for List even. for example\r\n\r\n    package org.practice;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class InstanceOfDemo {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tEmployee emp1 = new Employee(1, &quot;Ram&quot;, 10000);\r\n    \t\tEmployee emp2 = new Employee(2, &quot;Shyam&quot;, 20000);\r\n    \t\tEmployee emp3 = new Employee(3, &quot;Radha&quot;, 30000);\r\n    \r\n    \t\tObject obj = List.of(emp1, emp2, emp3);\r\n    \r\n    \t\tif (obj instanceof List empList) {\r\n    \t\t\tfor (Employee emp : empList) { //Type mismatch: cannot convert from element type Object to Employee\r\n    \t\t\t\tSystem.out.println(emp.getId());\r\n    \t\t\t\tSystem.out.println(emp.getName());\r\n    \t\t\t\tSystem.out.println(emp.getSalary());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nin the above code instanceof got true and even declared empList got created but doesn&#39;t gives any advantage to the developer because in the for loop empList can&#39;t be used without type casting as `for (Employee emp : (List&lt;Employee&gt;)empList)`. And if we are doing type casting only then use type casting on obj itself like traditional code then whats the use of this feature.\r\n\r\n\r\n","title":"why java&#39;s new feature &quot;Pattern Matching for instanceof operator&quot; doesn&#39;t work on List set or Map without typecasting","body":"<p>instanceof doesn't work for List even. for example</p>\n<pre><code>package org.practice;\n\nimport java.util.List;\n\npublic class InstanceOfDemo {\n\n    public static void main(String[] args) {\n\n        Employee emp1 = new Employee(1, &quot;Ram&quot;, 10000);\n        Employee emp2 = new Employee(2, &quot;Shyam&quot;, 20000);\n        Employee emp3 = new Employee(3, &quot;Radha&quot;, 30000);\n\n        Object obj = List.of(emp1, emp2, emp3);\n\n        if (obj instanceof List empList) {\n            for (Employee emp : empList) { //Type mismatch: cannot convert from element type Object to Employee\n                System.out.println(emp.getId());\n                System.out.println(emp.getName());\n                System.out.println(emp.getSalary());\n            }\n        }\n    }\n}\n</code></pre>\n<p>in the above code instanceof got true and even declared empList got created but doesn't gives any advantage to the developer because in the for loop empList can't be used without type casting as <code>for (Employee emp : (List&lt;Employee&gt;)empList)</code>. And if we are doing type casting only then use type casting on obj itself like traditional code then whats the use of this feature.</p>\n"},{"tags":["java","android","admob","ads"],"owner":{"account_id":28076107,"reputation":11,"user_id":21447942,"display_name":"oztac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695135037,"creation_date":1695135037,"question_id":77135643,"body_markdown":"I&#39;m a web developer and I&#39;m using webview android feature to develop android app of my website. Just a few hours back, I received a policy violation message for my Interstitial Ads. The message says that interstitial ad placement is resulting in accidental clicks. I have placed the interstitial ads when the app is opened and that might be the issue for accidental clicks.\r\n\r\nMy question is,\r\n\r\n- Should I delay the interstitial ad by 7 or 10 seconds. The ad should pop up only if the user spends 7 seconds on my app with settimeout method. Should this be called policy violation or is it okay to settimeout on Interstitial open?\r\n\r\n- I&#39;m using banner ads and Interstitial ads with my webview app. Is there any other ad type that I can implement with the webview? I desperately want to implement the native ads but for that I will use Google adsense from my website.\r\n\r\nI have not tried anything because first I want to take advice from the community because Adsense is very strict. I believe I should not do experiments without proper research.","title":"Policy Violation on Interstitial Ads","body":"<p>I'm a web developer and I'm using webview android feature to develop android app of my website. Just a few hours back, I received a policy violation message for my Interstitial Ads. The message says that interstitial ad placement is resulting in accidental clicks. I have placed the interstitial ads when the app is opened and that might be the issue for accidental clicks.</p>\n<p>My question is,</p>\n<ul>\n<li><p>Should I delay the interstitial ad by 7 or 10 seconds. The ad should pop up only if the user spends 7 seconds on my app with settimeout method. Should this be called policy violation or is it okay to settimeout on Interstitial open?</p>\n</li>\n<li><p>I'm using banner ads and Interstitial ads with my webview app. Is there any other ad type that I can implement with the webview? I desperately want to implement the native ads but for that I will use Google adsense from my website.</p>\n</li>\n</ul>\n<p>I have not tried anything because first I want to take advice from the community because Adsense is very strict. I believe I should not do experiments without proper research.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1615116150,"post_id":66515896,"comment_id":117586925,"body_markdown":"What is the expected output ? Because you store only name/avg so that&#39;s the only output you can get for now","body":"What is the expected output ? Because you store only name/avg so that&#39;s the only output you can get for now"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695134926,"creation_date":1615130523,"answer_id":66518094,"question_id":66515896,"body_markdown":"By priority,\r\n\r\n 1. Prefer to create a `Player` class and create a `HashMap&lt;String, Player&gt;` to hold all player information.\r\n 2. Second best is to create a `HashMap&lt;String, List&lt;String&gt;&gt;`.\r\n 3. If you insist of doing it the way you describe in the question, you need a `HashMap&lt;String, String[]&gt;`.\r\n\r\n## A Player class\r\n\r\nYour `Player` class should have three fields (instance variables), a `String` for the name, a `double` (or a `float`) for the average and a `LocalDate` for the date of birth. You may provide it with a convenience constructor that accepts a line of input, splits it into the three values and throws an exception if the number of values isn’t three, then parses the average into a `double` and the date into a `LocalDate`. Also code a `toString` method so that you objects print in a recognizable way.\r\n\r\nNow store your `Player` object into a `HashMap&lt;String, Player&gt;`. Edit: For example after you have created the player object, do\r\n\r\n        hmap.put(yourPlayer.getName(), yourPlayer);\r\n\r\n(assuming your `Player` class defines a `getName` method that returns the name).\r\n\r\n## HashMap&lt;String, List&lt;String&gt;&gt;\r\n\r\nMixing generic collections like `HashMap&lt;K, V&gt;` with arrays has some liabilities. So I suggest a `HashMap&lt;String, List&lt;String&gt;&gt;`. After splitting your input line into a `String` array, wrap it into a list with `Arrays.asList(line)` and store that list into your map.\r\n\r\n## If you insist: HashMap&lt;String, String[]&gt;\r\n\r\nYou may create a map where the keys are strings (as they are in the map you have got now) and the values string arrays. Then you can store the array that you get from `split()` directly as a value into your map (no need to copy the individual strings first unless you have special requirements you haven’t told us).\r\n\r\nPS A short way to print the map in this case would be using a lambda:\r\n\r\n        hmap.forEach((name, arr) -&gt; System.out.println(name + &#39;=&#39; + Arrays.toString(arr)));\r\n\r\n## What went wrong in your code?\r\n\r\n                 hmap.put(mapping[0], mapping[1]);\r\n\r\nIn this line you are storing a map entry where the name is key and the average is the value. The last entry (column) from the array, the date of birth, is not stored into the map.","title":"Not able to store string array in Hashmap object","body":"<p>By priority,</p>\n<ol>\n<li>Prefer to create a <code>Player</code> class and create a <code>HashMap&lt;String, Player&gt;</code> to hold all player information.</li>\n<li>Second best is to create a <code>HashMap&lt;String, List&lt;String&gt;&gt;</code>.</li>\n<li>If you insist of doing it the way you describe in the question, you need a <code>HashMap&lt;String, String[]&gt;</code>.</li>\n</ol>\n<h2>A Player class</h2>\n<p>Your <code>Player</code> class should have three fields (instance variables), a <code>String</code> for the name, a <code>double</code> (or a <code>float</code>) for the average and a <code>LocalDate</code> for the date of birth. You may provide it with a convenience constructor that accepts a line of input, splits it into the three values and throws an exception if the number of values isn’t three, then parses the average into a <code>double</code> and the date into a <code>LocalDate</code>. Also code a <code>toString</code> method so that you objects print in a recognizable way.</p>\n<p>Now store your <code>Player</code> object into a <code>HashMap&lt;String, Player&gt;</code>. Edit: For example after you have created the player object, do</p>\n<pre><code>    hmap.put(yourPlayer.getName(), yourPlayer);\n</code></pre>\n<p>(assuming your <code>Player</code> class defines a <code>getName</code> method that returns the name).</p>\n<h2>HashMap&lt;String, List&gt;</h2>\n<p>Mixing generic collections like <code>HashMap&lt;K, V&gt;</code> with arrays has some liabilities. So I suggest a <code>HashMap&lt;String, List&lt;String&gt;&gt;</code>. After splitting your input line into a <code>String</code> array, wrap it into a list with <code>Arrays.asList(line)</code> and store that list into your map.</p>\n<h2>If you insist: HashMap&lt;String, String[]&gt;</h2>\n<p>You may create a map where the keys are strings (as they are in the map you have got now) and the values string arrays. Then you can store the array that you get from <code>split()</code> directly as a value into your map (no need to copy the individual strings first unless you have special requirements you haven’t told us).</p>\n<p>PS A short way to print the map in this case would be using a lambda:</p>\n<pre><code>    hmap.forEach((name, arr) -&gt; System.out.println(name + '=' + Arrays.toString(arr)));\n</code></pre>\n<h2>What went wrong in your code?</h2>\n<pre><code>             hmap.put(mapping[0], mapping[1]);\n</code></pre>\n<p>In this line you are storing a map entry where the name is key and the average is the value. The last entry (column) from the array, the date of birth, is not stored into the map.</p>\n"}],"owner":{"account_id":19364161,"reputation":1,"user_id":14158843,"display_name":"Antony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1615200607,"accepted_answer_id":66518094,"answer_count":1,"score":-2,"last_activity_date":1695134926,"creation_date":1615115964,"question_id":66515896,"body_markdown":"I want to add the string array values to Hashmap. My data has 2 rows and 3 columns. \r\nHere is the code, average and date of birth record is not stored on the hashmap.\r\n```\r\npublic class Practice1 {\r\n\tpublic static void main(String[] args) throws ParseException\r\n\t{\r\n\t\t\r\n\t\tScanner sc=new Scanner(System.in);\r\n\t\t System.out.println(&quot;Enter the no. of players&quot;);\r\n\t\t int player=sc.nextInt();\r\n\t\t \r\n\t\t String[][] newArray = new String[player][3];\r\n\t\t System.out.println(&quot;enter the player_name, average,date_of_birth&quot;);\r\n\t\t\r\n\t         for (int i=0; i&lt;newArray.length; i++) {\r\n\t            String[] line = sc.next().trim().split(&quot;,&quot;);\r\n\t            for (int j=0; j&lt;line.length; j++) {\r\n\t            \tnewArray[i][j] = line[j];\r\n\t            }\r\n\t         }\r\n\t\t \r\n\t\t HashMap&lt;String, String&gt; hmap = new HashMap&lt;String,String&gt;();\r\n\t\t for (String[] mapping : newArray) {\r\n\t\t\t hmap.put(mapping[0], mapping[1]);\r\n\t       }\r\n\t \r\n\t       \r\n\t       System.out.println(Arrays.asList(hmap));\r\n\t   }\t  \t\t \r\n}\r\n```\r\n\r\nconsole output:\r\n\r\n```\r\nEnter the no. of players\r\n2\r\nenter the player_name, average,date_of_birth\r\nmax,50.2,1985-11-14\r\nwar,50.2,1986-10-27\r\n[{max=50.2, war=50.2}]\r\n```\r\n\r\n","title":"Not able to store string array in Hashmap object","body":"<p>I want to add the string array values to Hashmap. My data has 2 rows and 3 columns.\nHere is the code, average and date of birth record is not stored on the hashmap.</p>\n<pre><code>public class Practice1 {\n    public static void main(String[] args) throws ParseException\n    {\n        \n        Scanner sc=new Scanner(System.in);\n         System.out.println(&quot;Enter the no. of players&quot;);\n         int player=sc.nextInt();\n         \n         String[][] newArray = new String[player][3];\n         System.out.println(&quot;enter the player_name, average,date_of_birth&quot;);\n        \n             for (int i=0; i&lt;newArray.length; i++) {\n                String[] line = sc.next().trim().split(&quot;,&quot;);\n                for (int j=0; j&lt;line.length; j++) {\n                    newArray[i][j] = line[j];\n                }\n             }\n         \n         HashMap&lt;String, String&gt; hmap = new HashMap&lt;String,String&gt;();\n         for (String[] mapping : newArray) {\n             hmap.put(mapping[0], mapping[1]);\n           }\n     \n           \n           System.out.println(Arrays.asList(hmap));\n       }             \n}\n</code></pre>\n<p>console output:</p>\n<pre><code>Enter the no. of players\n2\nenter the player_name, average,date_of_birth\nmax,50.2,1985-11-14\nwar,50.2,1986-10-27\n[{max=50.2, war=50.2}]\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":28688261,"reputation":33,"user_id":21968069,"display_name":"Anon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695134807,"creation_date":1695134807,"question_id":77135610,"body_markdown":"Deep inside a ViewPager2 I have a HorizontalScrollView that contains a TableLayout. The problem is that the ViewPager2 often doesn&#39;t respond to touches when I scroll to the end of the HorizontalScrollView. I&#39;d have to swipe multiple times in the same direction for the ViewPager2 to finally start detecting the swipes (sometimes it never even does). First here is the ViewPager2:\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/innerViewPager2&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/innerTabLayout&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\nNext here is the HorizontalScrollView:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.ui.main.ThreatMonitoring&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.card.MaterialCardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;4dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginBottom=&quot;4dp&quot;\r\n            android:elevation=&quot;4dp&quot;\r\n            app:cardBackgroundColor=&quot;@color/cardBackgroundColor&quot;\r\n            app:cardCornerRadius=&quot;4dp&quot;&gt;\r\n    \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:id=&quot;@+id/frontLayout&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:background=&quot;@color/cardBackgroundColor&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:orientation=&quot;vertical&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/loadingTableTextView&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:layout_marginVertical=&quot;80sp&quot;\r\n                        android:text=&quot;@string/loading_table_data&quot; /&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:id=&quot;@+id/layoutContainingTable&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;vertical&quot;\r\n                        android:visibility=&quot;gone&quot;&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;@string/most_recent_offenses&quot;\r\n                            android:paddingHorizontal=&quot;15dp&quot;\r\n                            android:layout_marginTop=&quot;15dp&quot;\r\n                            android:textAppearance=&quot;?attr/textAppearanceHeadline6&quot;\r\n                            android:textFontWeight=&quot;600&quot; /&gt;\r\n    \r\n                        &lt;HorizontalScrollView\r\n                            android:id=&quot;@+id/horizontalScrollView&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;0dp&quot;\r\n                            android:layout_weight=&quot;1&quot;&gt;\r\n    \r\n                            &lt;TableLayout\r\n                                android:id=&quot;@+id/topLogSourcesTableLayout&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:paddingHorizontal=&quot;15dp&quot;\r\n                                android:paddingBottom=&quot;15dp&quot;\r\n                                android:stretchColumns=&quot;0&quot;&gt;\r\n    \r\n                            &lt;/TableLayout&gt;\r\n    \r\n                        &lt;/HorizontalScrollView&gt;\r\n    \r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n        &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n    \r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\nSo here&#39;s how it goes: *ViewPager2 (horizontal) &gt; NestedScrollView (vertical) &gt; Lots of Layouts &gt; HorizontalScrollView*","title":"How to make a HorizontalScrollView work properly when it&#39;s inside a ViewPager2?","body":"<p>Deep inside a ViewPager2 I have a HorizontalScrollView that contains a TableLayout. The problem is that the ViewPager2 often doesn't respond to touches when I scroll to the end of the HorizontalScrollView. I'd have to swipe multiple times in the same direction for the ViewPager2 to finally start detecting the swipes (sometimes it never even does). First here is the ViewPager2:</p>\n<pre><code>&lt;androidx.viewpager2.widget.ViewPager2\n    android:id=&quot;@+id/innerViewPager2&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@id/innerTabLayout&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>Next here is the HorizontalScrollView:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.main.ThreatMonitoring&quot;&gt;\n\n    &lt;com.google.android.material.card.MaterialCardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:layout_marginBottom=&quot;4dp&quot;\n        android:elevation=&quot;4dp&quot;\n        app:cardBackgroundColor=&quot;@color/cardBackgroundColor&quot;\n        app:cardCornerRadius=&quot;4dp&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/frontLayout&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:background=&quot;@color/cardBackgroundColor&quot;\n                android:gravity=&quot;center&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/loadingTableTextView&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_marginVertical=&quot;80sp&quot;\n                    android:text=&quot;@string/loading_table_data&quot; /&gt;\n\n                &lt;LinearLayout\n                    android:id=&quot;@+id/layoutContainingTable&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;vertical&quot;\n                    android:visibility=&quot;gone&quot;&gt;\n\n                    &lt;TextView\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;@string/most_recent_offenses&quot;\n                        android:paddingHorizontal=&quot;15dp&quot;\n                        android:layout_marginTop=&quot;15dp&quot;\n                        android:textAppearance=&quot;?attr/textAppearanceHeadline6&quot;\n                        android:textFontWeight=&quot;600&quot; /&gt;\n\n                    &lt;HorizontalScrollView\n                        android:id=&quot;@+id/horizontalScrollView&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;0dp&quot;\n                        android:layout_weight=&quot;1&quot;&gt;\n\n                        &lt;TableLayout\n                            android:id=&quot;@+id/topLogSourcesTableLayout&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:paddingHorizontal=&quot;15dp&quot;\n                            android:paddingBottom=&quot;15dp&quot;\n                            android:stretchColumns=&quot;0&quot;&gt;\n\n                        &lt;/TableLayout&gt;\n\n                    &lt;/HorizontalScrollView&gt;\n\n                &lt;/LinearLayout&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\n\n&lt;/androidx.core.widget.NestedScrollView&gt;\n</code></pre>\n<p>So here's how it goes: <em>ViewPager2 (horizontal) &gt; NestedScrollView (vertical) &gt; Lots of Layouts &gt; HorizontalScrollView</em></p>\n"},{"tags":["java","maven","compiler-specific"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1695133973,"post_id":77135488,"comment_id":135981555,"body_markdown":"It uses the compiler from a locally installed JDK","body":"It uses the compiler from a locally installed JDK"},{"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":3,"creation_date":1695133976,"post_id":77135488,"comment_id":135981556,"body_markdown":"Maven uses a Java compiler.  It is not a Java compiler.  It&#39;s a lifecycle and dependency management tool.","body":"Maven uses a Java compiler.  It is not a Java compiler.  It&#39;s a lifecycle and dependency management tool."}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695134216,"creation_date":1695134216,"answer_id":77135529,"question_id":77135488,"body_markdown":"Maven does not have an embedded compiler. Maven requires that you set the `JAVA_HOME` environment variable which points to a JDK installation.","title":"Does Maven have a Java Compiler","body":"<p>Maven does not have an embedded compiler. Maven requires that you set the <code>JAVA_HOME</code> environment variable which points to a JDK installation.</p>\n"}],"owner":{"account_id":2099155,"reputation":515,"user_id":1867246,"accept_rate":25,"display_name":"Nora McDougall-Collins"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77135529,"answer_count":1,"score":-1,"last_activity_date":1695134216,"creation_date":1695133879,"question_id":77135488,"body_markdown":"In the articles I&#39;ve read about Maven, I can&#39;t tell for sure whether Maven itself has a Java compiler or whether it relies on the compiler in JDK or both.","title":"Does Maven have a Java Compiler","body":"<p>In the articles I've read about Maven, I can't tell for sure whether Maven itself has a Java compiler or whether it relies on the compiler in JDK or both.</p>\n"},{"tags":["java","android","kotlin","sonarqube","sonarscanner"],"owner":{"account_id":14877831,"reputation":135,"user_id":10743408,"display_name":"arun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695134129,"creation_date":1695134129,"question_id":77135514,"body_markdown":"I am trying to run the sonar scanner but I am facing the Failure message as below with the exception as &quot;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4f668f29&quot;\r\n\r\n        19:58:44.321 ERROR: Error during SonarScanner execution\r\n    java.lang.IllegalStateException: Unable to load component class org.sonar.plugins.javascript.JavaScriptSensor\r\n            at org.sonar.core.platform.ComponentContainer$ExtendedDefaultPicoContainer.getComponent(ComponentContainer.java:65)\r\n            at org.picocontainer.DefaultPicoContainer.getComponent(DefaultPicoContainer.java:632)\r\n            at org.picocontainer.parameters.BasicComponentParameter$1.resolveInstance(BasicComponentParameter.java:118)\r\n            at org.picocontainer.parameters.ComponentParameter$1.resolveInstance(ComponentParameter.java:136)\r\n            at org.picocontainer.injectors.SingleMemberInjector.getParameter(SingleMemberInjector.java:78)\r\n            at org.picocontainer.injectors.ConstructorInjector$CtorAndAdapters.getParameterArguments(ConstructorInjector.java:309)\r\n            at org.picocontainer.injectors.ConstructorInjector$1.run(ConstructorInjector.java:335)\r\n            at org.picocontainer.injectors.AbstractInjector$ThreadLocalCyclicDependencyGuard.observe(AbstractInjector.java:270)\r\n            at org.picocontainer.injectors.ConstructorInjector.getComponentInstance(ConstructorInjector.java:364)\r\n            at org.picocontainer.injectors.AbstractInjectionFactory$LifecycleAdapter.getComponentInstance(AbstractInjectionFactory.java:56)\r\n            at org.picocontainer.behaviors.AbstractBehavior.getComponentInstance(AbstractBehavior.java:64)\r\n            at org.picocontainer.behaviors.Stored.getComponentInstance(Stored.java:91)\r\n            at org.picocontainer.DefaultPicoContainer.getLocalInstance(DefaultPicoContainer.java:606)\r\n            at org.picocontainer.DefaultPicoContainer.getComponents(DefaultPicoContainer.java:587)\r\n            at org.sonar.core.platform.ComponentContainer.getComponentsByType(ComponentContainer.java:290)\r\n            at org.sonar.scanner.bootstrap.AbstractExtensionDictionnary.completeScannerExtensions(AbstractExtensionDictionnary.java:82)\r\n            at org.sonar.scanner.bootstrap.AbstractExtensionDictionnary.getExtensions(AbstractExtensionDictionnary.java:77)\r\n            at org.sonar.scanner.bootstrap.AbstractExtensionDictionnary.getFilteredExtensions(AbstractExtensionDictionnary.java:67)\r\n            at org.sonar.scanner.sensor.ModuleSensorExtensionDictionnary.selectSensors(ModuleSensorExtensionDictionnary.java:40)\r\n            at org.sonar.scanner.sensor.ModuleSensorsExecutor.lambda$execute$0(ModuleSensorsExecutor.java:52)\r\n            at org.sonar.scanner.sensor.ModuleSensorsExecutor.withModuleStrategy(ModuleSensorsExecutor.java:77)\r\n            at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:52)\r\n            at org.sonar.scanner.scan.ModuleScanContainer.doAfterStart(ModuleScanContainer.java:82)\r\n            at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\r\n            at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\r\n            at org.sonar.scanner.scan.ProjectScanContainer.scan(ProjectScanContainer.java:386)\r\n            at org.sonar.scanner.scan.ProjectScanContainer.scanRecursively(ProjectScanContainer.java:382)\r\n            at org.sonar.scanner.scan.ProjectScanContainer.doAfterStart(ProjectScanContainer.java:351)\r\n            at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\r\n            at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\r\n            at org.sonar.scanner.bootstrap.GlobalContainer.doAfterStart(GlobalContainer.java:141)\r\n            at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\r\n            at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\r\n            at org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\r\n            at org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\r\n            at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n            at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n            at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\r\n            at jdk.proxy1/jdk.proxy1.$Proxy0.execute(Unknown Source)\r\n            at org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\r\n            at org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\r\n            at org.sonarsource.scanner.cli.Main.execute(Main.java:126)\r\n            at org.sonarsource.scanner.cli.Main.execute(Main.java:81)\r\n            at org.sonarsource.scanner.cli.Main.main(Main.java:62)\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n            at com.sonar.sslr.api.typed.ActionParser.&lt;init&gt;(ActionParser.java:59)\r\n            at org.sonar.javascript.parser.JavaScriptParser.&lt;init&gt;(JavaScriptParser.java:33)\r\n            at org.sonar.javascript.parser.JavaScriptParserBuilder.createParser(JavaScriptParserBuilder.java:31)\r\n            at org.sonar.plugins.javascript.JavaScriptSensor.&lt;init&gt;(JavaScriptSensor.java:115)\r\n            at org.sonar.plugins.javascript.JavaScriptSensor.&lt;init&gt;(JavaScriptSensor.java:85)\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n            at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n            at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Unknown Source)\r\n            at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n            at org.picocontainer.injectors.AbstractInjector.newInstance(AbstractInjector.java:145)\r\n            at org.picocontainer.injectors.ConstructorInjector$1.run(ConstructorInjector.java:342)\r\n            at org.picocontainer.injectors.AbstractInjector$ThreadLocalCyclicDependencyGuard.observe(AbstractInjector.java:270)\r\n            at org.picocontainer.injectors.ConstructorInjector.getComponentInstance(ConstructorInjector.java:364)\r\n            at org.picocontainer.injectors.AbstractInjectionFactory$LifecycleAdapter.getComponentInstance(AbstractInjectionFactory.java:56)\r\n            at org.picocontainer.behaviors.AbstractBehavior.getComponentInstance(AbstractBehavior.java:64)\r\n            at org.picocontainer.behaviors.Stored.getComponentInstance(Stored.java:91)\r\n            at org.picocontainer.DefaultPicoContainer.getInstance(DefaultPicoContainer.java:699)\r\n            at org.picocontainer.DefaultPicoContainer.getComponent(DefaultPicoContainer.java:647)\r\n            at org.sonar.core.platform.ComponentContainer$ExtendedDefaultPicoContainer.getComponent(ComponentContainer.java:63)\r\n            ... 46 more\r\n    Caused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4f668f29\r\n            at net.sf.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\r\n            at net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336)\r\n            at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\r\n            at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\r\n            at net.sf.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n            at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n            at net.sf.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n            at net.sf.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n            at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\r\n            at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\r\n            at net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\r\n            at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:174)\r\n            at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:153)\r\n            at net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\r\n            ... 66 more\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4f668f29\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\r\n            at java.base/java.lang.reflect.Method.checkCanSetAccessible(Unknown Source)\r\n            at java.base/java.lang.reflect.Method.setAccessible(Unknown Source)\r\n            at net.sf.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\r\n            at java.base/java.security.AccessController.doPrivileged(Unknown Source)\r\n            at net.sf.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\r\n            at net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\r\n            at net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n            at net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\r\n\r\nI am using the java version as JDK 17 and latest sonarquber version, i cant figure the issue , kindly help me on the issue \r\n","title":"Exception on sonar Qube run","body":"<p>I am trying to run the sonar scanner but I am facing the Failure message as below with the exception as &quot;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4f668f29&quot;</p>\n<pre><code>    19:58:44.321 ERROR: Error during SonarScanner execution\njava.lang.IllegalStateException: Unable to load component class org.sonar.plugins.javascript.JavaScriptSensor\n        at org.sonar.core.platform.ComponentContainer$ExtendedDefaultPicoContainer.getComponent(ComponentContainer.java:65)\n        at org.picocontainer.DefaultPicoContainer.getComponent(DefaultPicoContainer.java:632)\n        at org.picocontainer.parameters.BasicComponentParameter$1.resolveInstance(BasicComponentParameter.java:118)\n        at org.picocontainer.parameters.ComponentParameter$1.resolveInstance(ComponentParameter.java:136)\n        at org.picocontainer.injectors.SingleMemberInjector.getParameter(SingleMemberInjector.java:78)\n        at org.picocontainer.injectors.ConstructorInjector$CtorAndAdapters.getParameterArguments(ConstructorInjector.java:309)\n        at org.picocontainer.injectors.ConstructorInjector$1.run(ConstructorInjector.java:335)\n        at org.picocontainer.injectors.AbstractInjector$ThreadLocalCyclicDependencyGuard.observe(AbstractInjector.java:270)\n        at org.picocontainer.injectors.ConstructorInjector.getComponentInstance(ConstructorInjector.java:364)\n        at org.picocontainer.injectors.AbstractInjectionFactory$LifecycleAdapter.getComponentInstance(AbstractInjectionFactory.java:56)\n        at org.picocontainer.behaviors.AbstractBehavior.getComponentInstance(AbstractBehavior.java:64)\n        at org.picocontainer.behaviors.Stored.getComponentInstance(Stored.java:91)\n        at org.picocontainer.DefaultPicoContainer.getLocalInstance(DefaultPicoContainer.java:606)\n        at org.picocontainer.DefaultPicoContainer.getComponents(DefaultPicoContainer.java:587)\n        at org.sonar.core.platform.ComponentContainer.getComponentsByType(ComponentContainer.java:290)\n        at org.sonar.scanner.bootstrap.AbstractExtensionDictionnary.completeScannerExtensions(AbstractExtensionDictionnary.java:82)\n        at org.sonar.scanner.bootstrap.AbstractExtensionDictionnary.getExtensions(AbstractExtensionDictionnary.java:77)\n        at org.sonar.scanner.bootstrap.AbstractExtensionDictionnary.getFilteredExtensions(AbstractExtensionDictionnary.java:67)\n        at org.sonar.scanner.sensor.ModuleSensorExtensionDictionnary.selectSensors(ModuleSensorExtensionDictionnary.java:40)\n        at org.sonar.scanner.sensor.ModuleSensorsExecutor.lambda$execute$0(ModuleSensorsExecutor.java:52)\n        at org.sonar.scanner.sensor.ModuleSensorsExecutor.withModuleStrategy(ModuleSensorsExecutor.java:77)\n        at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:52)\n        at org.sonar.scanner.scan.ModuleScanContainer.doAfterStart(ModuleScanContainer.java:82)\n        at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\n        at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\n        at org.sonar.scanner.scan.ProjectScanContainer.scan(ProjectScanContainer.java:386)\n        at org.sonar.scanner.scan.ProjectScanContainer.scanRecursively(ProjectScanContainer.java:382)\n        at org.sonar.scanner.scan.ProjectScanContainer.doAfterStart(ProjectScanContainer.java:351)\n        at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\n        at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\n        at org.sonar.scanner.bootstrap.GlobalContainer.doAfterStart(GlobalContainer.java:141)\n        at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\n        at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\n        at org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\n        at org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\n        at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n        at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\n        at jdk.proxy1/jdk.proxy1.$Proxy0.execute(Unknown Source)\n        at org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\n        at org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\n        at org.sonarsource.scanner.cli.Main.execute(Main.java:126)\n        at org.sonarsource.scanner.cli.Main.execute(Main.java:81)\n        at org.sonarsource.scanner.cli.Main.main(Main.java:62)\nCaused by: java.lang.ExceptionInInitializerError\n        at com.sonar.sslr.api.typed.ActionParser.&lt;init&gt;(ActionParser.java:59)\n        at org.sonar.javascript.parser.JavaScriptParser.&lt;init&gt;(JavaScriptParser.java:33)\n        at org.sonar.javascript.parser.JavaScriptParserBuilder.createParser(JavaScriptParserBuilder.java:31)\n        at org.sonar.plugins.javascript.JavaScriptSensor.&lt;init&gt;(JavaScriptSensor.java:115)\n        at org.sonar.plugins.javascript.JavaScriptSensor.&lt;init&gt;(JavaScriptSensor.java:85)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Unknown Source)\n        at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\n        at org.picocontainer.injectors.AbstractInjector.newInstance(AbstractInjector.java:145)\n        at org.picocontainer.injectors.ConstructorInjector$1.run(ConstructorInjector.java:342)\n        at org.picocontainer.injectors.AbstractInjector$ThreadLocalCyclicDependencyGuard.observe(AbstractInjector.java:270)\n        at org.picocontainer.injectors.ConstructorInjector.getComponentInstance(ConstructorInjector.java:364)\n        at org.picocontainer.injectors.AbstractInjectionFactory$LifecycleAdapter.getComponentInstance(AbstractInjectionFactory.java:56)\n        at org.picocontainer.behaviors.AbstractBehavior.getComponentInstance(AbstractBehavior.java:64)\n        at org.picocontainer.behaviors.Stored.getComponentInstance(Stored.java:91)\n        at org.picocontainer.DefaultPicoContainer.getInstance(DefaultPicoContainer.java:699)\n        at org.picocontainer.DefaultPicoContainer.getComponent(DefaultPicoContainer.java:647)\n        at org.sonar.core.platform.ComponentContainer$ExtendedDefaultPicoContainer.getComponent(ComponentContainer.java:63)\n        ... 46 more\nCaused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4f668f29\n        at net.sf.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\n        at net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336)\n        at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\n        at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\n        at net.sf.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n        at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n        at net.sf.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n        at net.sf.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n        at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\n        at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\n        at net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\n        at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:174)\n        at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:153)\n        at net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\n        ... 66 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4f668f29\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\n        at java.base/java.lang.reflect.Method.checkCanSetAccessible(Unknown Source)\n        at java.base/java.lang.reflect.Method.setAccessible(Unknown Source)\n        at net.sf.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\n        at java.base/java.security.AccessController.doPrivileged(Unknown Source)\n        at net.sf.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\n        at net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\n        at net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n        at net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\n</code></pre>\n<p>I am using the java version as JDK 17 and latest sonarquber version, i cant figure the issue , kindly help me on the issue</p>\n"},{"tags":["java","apache-kafka","apache-flink"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694727199,"post_id":77107039,"comment_id":135933245,"body_markdown":"Maven does not default to put your dependencies in the JAR. Please try again with shade or assembly maven plugins, not the default JAR plugin.","body":"Maven does not default to put your dependencies in the JAR. Please try again with shade or assembly maven plugins, not the default JAR plugin."}],"answers":[{"tags":[],"owner":{"account_id":5448964,"reputation":95,"user_id":4334448,"display_name":"Flaviu Cicio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695133899,"creation_date":1695133899,"answer_id":77135493,"question_id":77107039,"body_markdown":"I analyzed your pom.xml file and noticed that the scope of multiple dependencies is set to `provided`. This means that you&#39;re expected to load them manually.\r\n\r\nBy removing the scope or by changing it to `compile` it will retrieve the dependencies and load them automatically.\r\n\r\nMake sure you run `mvn clean install` before attempting to run `StrokeRiskAlarm`.","title":"Flink Job ClassNotFoundException: org.apache.flink.connector.kafka.source.KafkaSource","body":"<p>I analyzed your pom.xml file and noticed that the scope of multiple dependencies is set to <code>provided</code>. This means that you're expected to load them manually.</p>\n<p>By removing the scope or by changing it to <code>compile</code> it will retrieve the dependencies and load them automatically.</p>\n<p>Make sure you run <code>mvn clean install</code> before attempting to run <code>StrokeRiskAlarm</code>.</p>\n"}],"owner":{"account_id":24386325,"reputation":329,"user_id":18317047,"display_name":"Ishaan Adarsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695133899,"creation_date":1694710713,"question_id":77107039,"body_markdown":"\r\nI&#39;m trying to run a Flink job using Apache Flink version 1.16.2, and I&#39;m encountering the following error when executing my job using `./bin/flink run /Users/spartacus/icu-alarm/target/flink-kafka-stroke-risk-1.0-SNAPSHOT.jar`:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: org/apache/flink/connector/kafka/source/KafkaSource\r\n\tat hes.cs63.CEPMonitor.StrokeRiskAlarm.main(StrokeRiskAlarm.java:30)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:355)\r\n\tat org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:222)\r\n\tat org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:98)\r\n\tat org.apache.flink.client.cli.CliFrontend.executeProgram(CliFrontend.java:843)\r\n\tat org.apache.flink.client.cli.CliFrontend.run(CliFrontend.java:240)\r\n\tat org.apache.flink.client.cli.CliFrontend.parseAndRun(CliFrontend.java:1087)\r\n\tat org.apache.flink.client.cli.CliFrontend.lambda$main$10(CliFrontend.java:1165)\r\n\tat org.apache.flink.runtime.security.contexts.NoOpSecurityContext.runSecured(NoOpSecurityContext.java:28)\r\n\tat org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1165)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.flink.connector.kafka.source.KafkaSource\r\n\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n\tat org.apache.flink.util.FlinkUserCodeClassLoader.loadClassWithoutExceptionHandling(FlinkUserCodeClassLoader.java:67)\r\n\tat org.apache.flink.util.ChildFirstClassLoader.loadClassWithoutExceptionHandling(ChildFirstClassLoader.java:65)\r\n\tat org.apache.flink.util.FlinkUserCodeClassLoader.loadClass(FlinkUserCodeClassLoader.java:51)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 14 more\r\n```\r\n\r\nI believe this error is related to missing dependencies or a classpath issue. Here&#39;s the relevant part of my code that sets up Kafka as a source:\r\n\r\n```java\r\n// KafkaSource setup\r\nKafkaSource&lt;String&gt; source = KafkaSource.&lt;String&gt;builder()\r\n    .setBootstrapServers(&quot;localhost:9092&quot;)\r\n    .setGroupId(&quot;stroke-risk-group&quot;)\r\n    .setTopics(Arrays.asList(&quot;patient-data-topic&quot;))\r\n    .setDeserializer(KafkaRecordDeserializationSchema.valueOnly(StringDeserializer.class))\r\n    .setValueOnlyDeserializer(new SimpleStringSchema())\r\n    .build();\r\n\r\nDataStreamSource&lt;String&gt; patientData = env.fromSource(source, WatermarkStrategy.noWatermarks(), &quot;Kafka Source&quot;);\r\n```\r\n\r\nI have already included the necessary Flink dependencies in my project, and I&#39;m using Maven to build it. However, I&#39;m still encountering this issue. What could be causing this error, and how can I resolve it?\r\n\r\nCode -&gt; https://github.com/IshaanAdarsh/icu-alarm\r\n\r\n**Additional Information:**\r\n- Flink version: 1.16.2\r\n- Java version: 11\r\n- IDE used: IntelliJ IDEA","title":"Flink Job ClassNotFoundException: org.apache.flink.connector.kafka.source.KafkaSource","body":"<p>I'm trying to run a Flink job using Apache Flink version 1.16.2, and I'm encountering the following error when executing my job using <code>./bin/flink run /Users/spartacus/icu-alarm/target/flink-kafka-stroke-risk-1.0-SNAPSHOT.jar</code>:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/flink/connector/kafka/source/KafkaSource\n    at hes.cs63.CEPMonitor.StrokeRiskAlarm.main(StrokeRiskAlarm.java:30)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:355)\n    at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:222)\n    at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:98)\n    at org.apache.flink.client.cli.CliFrontend.executeProgram(CliFrontend.java:843)\n    at org.apache.flink.client.cli.CliFrontend.run(CliFrontend.java:240)\n    at org.apache.flink.client.cli.CliFrontend.parseAndRun(CliFrontend.java:1087)\n    at org.apache.flink.client.cli.CliFrontend.lambda$main$10(CliFrontend.java:1165)\n    at org.apache.flink.runtime.security.contexts.NoOpSecurityContext.runSecured(NoOpSecurityContext.java:28)\n    at org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1165)\nCaused by: java.lang.ClassNotFoundException: org.apache.flink.connector.kafka.source.KafkaSource\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n    at org.apache.flink.util.FlinkUserCodeClassLoader.loadClassWithoutExceptionHandling(FlinkUserCodeClassLoader.java:67)\n    at org.apache.flink.util.ChildFirstClassLoader.loadClassWithoutExceptionHandling(ChildFirstClassLoader.java:65)\n    at org.apache.flink.util.FlinkUserCodeClassLoader.loadClass(FlinkUserCodeClassLoader.java:51)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 14 more\n</code></pre>\n<p>I believe this error is related to missing dependencies or a classpath issue. Here's the relevant part of my code that sets up Kafka as a source:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// KafkaSource setup\nKafkaSource&lt;String&gt; source = KafkaSource.&lt;String&gt;builder()\n    .setBootstrapServers(&quot;localhost:9092&quot;)\n    .setGroupId(&quot;stroke-risk-group&quot;)\n    .setTopics(Arrays.asList(&quot;patient-data-topic&quot;))\n    .setDeserializer(KafkaRecordDeserializationSchema.valueOnly(StringDeserializer.class))\n    .setValueOnlyDeserializer(new SimpleStringSchema())\n    .build();\n\nDataStreamSource&lt;String&gt; patientData = env.fromSource(source, WatermarkStrategy.noWatermarks(), &quot;Kafka Source&quot;);\n</code></pre>\n<p>I have already included the necessary Flink dependencies in my project, and I'm using Maven to build it. However, I'm still encountering this issue. What could be causing this error, and how can I resolve it?</p>\n<p>Code -&gt; <a href=\"https://github.com/IshaanAdarsh/icu-alarm\" rel=\"nofollow noreferrer\">https://github.com/IshaanAdarsh/icu-alarm</a></p>\n<p><strong>Additional Information:</strong></p>\n<ul>\n<li>Flink version: 1.16.2</li>\n<li>Java version: 11</li>\n<li>IDE used: IntelliJ IDEA</li>\n</ul>\n"},{"tags":["java","maven","spring-boot"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":2,"creation_date":1574395157,"post_id":58987074,"comment_id":104226523,"body_markdown":"This could be because of some other process is using that jar.","body":"This could be because of some other process is using that jar."}],"answers":[{"tags":[],"owner":{"account_id":5035030,"reputation":281,"user_id":5342852,"display_name":"Shankar Saran Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574393603,"creation_date":1574393603,"answer_id":58987091,"question_id":58987074,"body_markdown":"Try using \r\n\r\n&gt; mvn clean package\r\n\r\n or \r\n\r\n&gt; mvn clean install\r\n\r\n\r\nUsing clean along with package or install will clear the target directory so the same jar won&#39;t overlap at the destination.\r\n\r\npackage will compile your code and also package it. For example, if your pom says the project is a jar, it will create a jar for you when you package it and put it somewhere in the target directory (by default).\r\n\r\ninstall will compile and package, but it will also put the package in your local repository. This will make it so other projects can refer to it and grab it from your local repository.","title":"spring-boot-maven-plugin:2.0.0.RELEASE:repackage failed: Unable to rename","body":"<p>Try using </p>\n\n<blockquote>\n  <p>mvn clean package</p>\n</blockquote>\n\n<p>or </p>\n\n<blockquote>\n  <p>mvn clean install</p>\n</blockquote>\n\n<p>Using clean along with package or install will clear the target directory so the same jar won't overlap at the destination.</p>\n\n<p>package will compile your code and also package it. For example, if your pom says the project is a jar, it will create a jar for you when you package it and put it somewhere in the target directory (by default).</p>\n\n<p>install will compile and package, but it will also put the package in your local repository. This will make it so other projects can refer to it and grab it from your local repository.</p>\n"},{"tags":[],"owner":{"account_id":20745576,"reputation":11,"user_id":15234241,"display_name":"Ketan Dad"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1620217064,"creation_date":1620217064,"answer_id":67401142,"question_id":58987074,"body_markdown":"I my case cmd was open with target folder\r\n","title":"spring-boot-maven-plugin:2.0.0.RELEASE:repackage failed: Unable to rename","body":"<p>I my case cmd was open with target folder</p>\n"},{"tags":[],"owner":{"account_id":25897925,"reputation":1,"user_id":19624261,"display_name":"Markus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695133890,"creation_date":1695133890,"answer_id":77135490,"question_id":58987074,"body_markdown":"I had this issue recently. Easy fix.\r\n\r\nIn my case, I was trying to run `mvn package` and didn&#39;t realise that the application I was trying to package was already running in debug mode. Just figure out which application is using the .jar file and cut it.","title":"spring-boot-maven-plugin:2.0.0.RELEASE:repackage failed: Unable to rename","body":"<p>I had this issue recently. Easy fix.</p>\n<p>In my case, I was trying to run <code>mvn package</code> and didn't realise that the application I was trying to package was already running in debug mode. Just figure out which application is using the .jar file and cut it.</p>\n"}],"owner":{"account_id":16639096,"reputation":1,"user_id":12025089,"display_name":"Chuan Super"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695133890,"creation_date":1574393459,"question_id":58987074,"body_markdown":"I use command:  `mvn package` to package my project, and the pom.xml as follows:\r\n```\r\n&lt;build&gt;\r\n        &lt;defaultGoal&gt;compile&lt;/defaultGoal&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass/&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nbut it&#39;s faild because of ` Execution default of goal org.springframework.boot:spring-boot-maven-plugin:2.0.0.RELEASE:repackage failed: Unable to rename &#39;D:\\Code\\analysis\\server\\target\\access_server-2.0.0.RELEASE.jar&#39; to &#39;\r\nD:\\Code\\nalysis\\server\\target\\access_server-2.0.0.RELEASE.jar.original&#39;\r\n`\r\n\r\nthis exception occurs on windows 10, but it&#39;s ok on centos 7.\r\n\r\n**counld any one help me solve this problem**","title":"spring-boot-maven-plugin:2.0.0.RELEASE:repackage failed: Unable to rename","body":"<p>I use command:  <code>mvn package</code> to package my project, and the pom.xml as follows:</p>\n\n<pre><code>&lt;build&gt;\n        &lt;defaultGoal&gt;compile&lt;/defaultGoal&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass/&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>but it's faild because of <code>Execution default of goal org.springframework.boot:spring-boot-maven-plugin:2.0.0.RELEASE:repackage failed: Unable to rename 'D:\\Code\\analysis\\server\\target\\access_server-2.0.0.RELEASE.jar' to '\nD:\\Code\\nalysis\\server\\target\\access_server-2.0.0.RELEASE.jar.original'\n</code></p>\n\n<p>this exception occurs on windows 10, but it's ok on centos 7.</p>\n\n<p><strong>counld any one help me solve this problem</strong></p>\n"},{"tags":["java","charts","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1695103453,"post_id":77131316,"comment_id":135975481,"body_markdown":"The `CreatePowerPointXDDFChart.pptx` created by code above opens properly using up to `Microsoft Office 2021`. Will check what problem `Microsoft Office 365` actual has.","body":"The <code>CreatePowerPointXDDFChart.pptx</code> created by code above opens properly using up to <code>Microsoft Office 2021</code>. Will check what problem <code>Microsoft Office 365</code> actual has."},{"owner":{"account_id":11199129,"reputation":33,"user_id":8216824,"display_name":"praavi"},"score":0,"creation_date":1695107752,"post_id":77131316,"comment_id":135976205,"body_markdown":"Okay, thank you","body":"Okay, thank you"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1695133874,"creation_date":1695133445,"answer_id":77135432,"question_id":77131316,"body_markdown":"Found the problem.\r\n\r\nThe `CreatePowerPointXDDFChart.pptx` created by code above opens properly using up to Microsoft Office 2021. And it opens properly using Microsoft Office 365 when created using Apache POI up to version 4.1.0.\r\n\r\nThe problem is that Apache POI from version 4.1.2 decided to set number format settings to the category axis per default. But it sets an empty string as the number format code. Microsoft Office up to version 2021 is tolerant enough to ignore that empty string number format. Microsoft Office 365 is not as tolerant.\r\n\r\nNot clear why, of all things, the category axis has that setting by default. The value axis has not.\r\n\r\nBut to make it work again, one must repair that incorrect number format setting.\r\n\r\nIn code above `bottomAxis` is the category axis. That is text and not numbers. So the number format should be `@`, which is text. The `leftAxis` is a value axis. This could have number format `#,##0.00` if set.\r\n\r\nSo changes to code above:\r\n\r\n    ...\r\n       //repair axes number format settings\r\n       if (bottomAxis.hasNumberFormat()) bottomAxis.setNumberFormat(&quot;@&quot;);\r\n       if (leftAxis.hasNumberFormat()) leftAxis.setNumberFormat(&quot;#,##0.00&quot;);\r\n    ...\r\n\r\n","title":"create a chart in a powerpoint using APACHE POI and Java from scratch","body":"<p>Found the problem.</p>\n<p>The <code>CreatePowerPointXDDFChart.pptx</code> created by code above opens properly using up to Microsoft Office 2021. And it opens properly using Microsoft Office 365 when created using Apache POI up to version 4.1.0.</p>\n<p>The problem is that Apache POI from version 4.1.2 decided to set number format settings to the category axis per default. But it sets an empty string as the number format code. Microsoft Office up to version 2021 is tolerant enough to ignore that empty string number format. Microsoft Office 365 is not as tolerant.</p>\n<p>Not clear why, of all things, the category axis has that setting by default. The value axis has not.</p>\n<p>But to make it work again, one must repair that incorrect number format setting.</p>\n<p>In code above <code>bottomAxis</code> is the category axis. That is text and not numbers. So the number format should be <code>@</code>, which is text. The <code>leftAxis</code> is a value axis. This could have number format <code>#,##0.00</code> if set.</p>\n<p>So changes to code above:</p>\n<pre><code>...\n   //repair axes number format settings\n   if (bottomAxis.hasNumberFormat()) bottomAxis.setNumberFormat(&quot;@&quot;);\n   if (leftAxis.hasNumberFormat()) leftAxis.setNumberFormat(&quot;#,##0.00&quot;);\n...\n</code></pre>\n"}],"owner":{"account_id":11199129,"reputation":33,"user_id":8216824,"display_name":"praavi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77135432,"answer_count":1,"score":1,"last_activity_date":1695133874,"creation_date":1695089368,"question_id":77131316,"body_markdown":"I tried to create a chart using the code from the following post. \r\n[https://stackoverflow.com/questions/45373942/java-create-a-chart-in-a-powerpoint-using-apache-poi](https://stackoverflow.com/questions/45373942/java-create-a-chart-in-a-powerpoint-using-apache-poi)\r\n\r\nThe PPT file is created, but when I access it, I receive a window requesting me to repair it.\r\nCan somebody help me understand what&#39;s going on here?\r\n\r\nbelow is the code for reference:\r\n\r\n```\r\nimport java.io.FileOutputStream;\r\n\r\nimport org.apache.poi.xslf.usermodel.*;\r\nimport org.apache.poi.util.Units;\r\nimport org.apache.poi.xddf.usermodel.*;\r\nimport org.apache.poi.xddf.usermodel.chart.*;\r\n\r\nimport java.awt.Rectangle;\r\n\r\npublic class CreatePowerPointXDDFChart {\r\n    \r\n public static void main(String[] args) throws Exception {\r\n  try (XMLSlideShow slideShow = new XMLSlideShow()) {\r\n   \r\n   // create a new empty slide\r\n   XSLFSlide slide = slideShow.createSlide();\r\n   \r\n   // create chart\r\n   XSLFChart chart = slideShow.createChart();\r\n   chart.setTitleText(&quot;Test Chart&quot;);\r\n   \r\n   // set axis\r\n   XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\r\n   XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\r\n   leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\r\n   leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\r\n\r\n   // define chart data for bar chart\r\n   XDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\r\n\r\n   // add chart categories (x-axis data)\r\n   String[] categories = new String[] { &quot;Category 1&quot;, &quot;Category 2&quot;, &quot;Category 3&quot; };\r\n   String categoryDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, categories.length, 0, 0));\r\n   XDDFCategoryDataSource categoryData = XDDFDataSourcesFactory.fromArray(categories, categoryDataRange, 0);\r\n\r\n   // add chart values (y-axis data)\r\n   Double[] values = new Double[] { 10.0, 20.0, 15.0 };\r\n   String valuesDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, values.length, 1, 1));\r\n   XDDFNumericalDataSource&lt;Double&gt; valueData = XDDFDataSourcesFactory.fromArray(values, valuesDataRange, 1);\r\n   XDDFBarChartData bar = (XDDFBarChartData) data;\r\n   bar.setBarDirection(BarDirection.BAR);\r\n\r\n   // add series\r\n   XDDFChartData.Series series = data.addSeries(categoryData, valueData);\r\n   series.setTitle(&quot;Series 1&quot;, chart.setSheetTitle(&quot;Series 1&quot;, 1));\r\n   \r\n   // plot chart\r\n   chart.plot(data);\r\n\r\n   // set chart dimensions !!Units are EMU (English Metric Units)!!\r\n   Rectangle chartDimensions = new Rectangle(\r\n    100*Units.EMU_PER_POINT, \r\n    50*Units.EMU_PER_POINT, \r\n    400*Units.EMU_PER_POINT, \r\n    400*Units.EMU_PER_POINT);\r\n   // add chart to slide\r\n   slide.addChart(chart, chartDimensions);\r\n\r\n   // Write the output to a file\r\n   try (FileOutputStream fileOut = new FileOutputStream(&quot;./CreatePowerPointXDDFChart.pptx&quot;)) {\r\n    slideShow.write(fileOut);\r\n   }\r\n  }\r\n }\r\n\r\n}\r\n```\r\n\r\n\r\nI am not sure what to do here. @Axel Richter can you please help on this.","title":"create a chart in a powerpoint using APACHE POI and Java from scratch","body":"<p>I tried to create a chart using the code from the following post.\n<a href=\"https://stackoverflow.com/questions/45373942/java-create-a-chart-in-a-powerpoint-using-apache-poi\">java create a chart in a powerpoint using APACHE POI</a></p>\n<p>The PPT file is created, but when I access it, I receive a window requesting me to repair it.\nCan somebody help me understand what's going on here?</p>\n<p>below is the code for reference:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xslf.usermodel.*;\nimport org.apache.poi.util.Units;\nimport org.apache.poi.xddf.usermodel.*;\nimport org.apache.poi.xddf.usermodel.chart.*;\n\nimport java.awt.Rectangle;\n\npublic class CreatePowerPointXDDFChart {\n    \n public static void main(String[] args) throws Exception {\n  try (XMLSlideShow slideShow = new XMLSlideShow()) {\n   \n   // create a new empty slide\n   XSLFSlide slide = slideShow.createSlide();\n   \n   // create chart\n   XSLFChart chart = slideShow.createChart();\n   chart.setTitleText(&quot;Test Chart&quot;);\n   \n   // set axis\n   XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\n   XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\n   leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\n   leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\n\n   // define chart data for bar chart\n   XDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\n\n   // add chart categories (x-axis data)\n   String[] categories = new String[] { &quot;Category 1&quot;, &quot;Category 2&quot;, &quot;Category 3&quot; };\n   String categoryDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, categories.length, 0, 0));\n   XDDFCategoryDataSource categoryData = XDDFDataSourcesFactory.fromArray(categories, categoryDataRange, 0);\n\n   // add chart values (y-axis data)\n   Double[] values = new Double[] { 10.0, 20.0, 15.0 };\n   String valuesDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, values.length, 1, 1));\n   XDDFNumericalDataSource&lt;Double&gt; valueData = XDDFDataSourcesFactory.fromArray(values, valuesDataRange, 1);\n   XDDFBarChartData bar = (XDDFBarChartData) data;\n   bar.setBarDirection(BarDirection.BAR);\n\n   // add series\n   XDDFChartData.Series series = data.addSeries(categoryData, valueData);\n   series.setTitle(&quot;Series 1&quot;, chart.setSheetTitle(&quot;Series 1&quot;, 1));\n   \n   // plot chart\n   chart.plot(data);\n\n   // set chart dimensions !!Units are EMU (English Metric Units)!!\n   Rectangle chartDimensions = new Rectangle(\n    100*Units.EMU_PER_POINT, \n    50*Units.EMU_PER_POINT, \n    400*Units.EMU_PER_POINT, \n    400*Units.EMU_PER_POINT);\n   // add chart to slide\n   slide.addChart(chart, chartDimensions);\n\n   // Write the output to a file\n   try (FileOutputStream fileOut = new FileOutputStream(&quot;./CreatePowerPointXDDFChart.pptx&quot;)) {\n    slideShow.write(fileOut);\n   }\n  }\n }\n\n}\n</code></pre>\n<p>I am not sure what to do here. @Axel Richter can you please help on this.</p>\n"},{"tags":["java","charts","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1695133834,"creation_date":1501248318,"answer_id":45374730,"question_id":45373942,"body_markdown":"There is nothing like a `XSLFChartShape` usable in a powerpoint slide in `apache poi` until now.  \r\n\r\nBut of course if one knows the internal structure of the `*.pptx` `ZIP` archive and the `XML` therein, then it is possible creating this from scratch using the `apache poi` `OPCPackage` classes and the low level `CT*` classes from `org.openxmlformats.schemas.drawingml.x2006.*` and `org.openxmlformats.schemas.presentationml.x2006.*`.\r\n\r\nFollowing code is doing this and creates a slide having a pie chart and a bar chart.\r\n\r\nThis is a draft only to show the approach.\r\n\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.*;\r\n    import org.apache.poi.xslf.usermodel.*;\r\n    import org.apache.poi.util.*;\r\n    import org.apache.poi.openxml4j.opc.*;\r\n    import static org.apache.poi.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\r\n    \r\n    import org.apache.xmlbeans.*;\r\n    \r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.*;\r\n    import org.openxmlformats.schemas.drawingml.x2006.main.*;\r\n    import org.openxmlformats.schemas.presentationml.x2006.main.*;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    \r\n    import java.util.regex.Pattern;\r\n    \r\n    import java.awt.geom.Rectangle2D;\r\n    import java.awt.Rectangle;\r\n    \r\n    public class CreatePPTXCharts {\r\n    \r\n     public CreatePPTXCharts() throws Exception {\r\n      XMLSlideShow slideShow = new XMLSlideShow();\r\n      XSLFSlide slide = slideShow.createSlide();\r\n    \r\n      MyXSLFChartShape myXSLFChartShape = createXSLFChart(slide);\r\n      myXSLFChartShape.setAnchor(new Rectangle(50,100,300,300));\r\n    \r\n      drawPieChart(myXSLFChartShape);\r\n    \r\n      myXSLFChartShape = createXSLFChart(slide);\r\n      myXSLFChartShape.setAnchor(new Rectangle(370,100,300,300));\r\n    \r\n      drawBarChart(myXSLFChartShape);\r\n    \r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;CreatePPTXCharts.pptx&quot;);\r\n      slideShow.write(out);\r\n      out.close();\r\n     }\r\n    \r\n     //a method for creating the chart XML document /ppt/charts/chart*.xml in the *.pptx ZIP archive\r\n     //and creating a MyXSLFChartShape as slide shape  \r\n     public MyXSLFChartShape createXSLFChart(XSLFSlide slide) throws Exception {\r\n    \r\n      OPCPackage oPCPackage = slide.getSlideShow().getPackage();\r\n      int chartCount = oPCPackage.getPartsByName(Pattern.compile(&quot;/ppt/charts/chart.*&quot;)).size() + 1;\r\n      PackagePartName partName = PackagingURIHelper.createPartName(&quot;/ppt/charts/chart&quot; + chartCount + &quot;.xml&quot;);\r\n      PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.drawingml.chart+xml&quot;);\r\n    \r\n      MyXSLFChart myXSLFChart = new MyXSLFChart(part);\r\n      MyXSLFChartShape myXSLFChartShape = new MyXSLFChartShape(slide, myXSLFChart);\r\n    \r\n      return myXSLFChartShape;\r\n    \r\n     }\r\n    \r\n     public void drawPieChart(MyXSLFChartShape myXSLFChartShape) {\r\n    \r\n      CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\r\n      CTPieChart cTPieChart = chartSpace.addNewChart().addNewPlotArea().addNewPieChart();\r\n      cTPieChart.addNewVaryColors().setVal(true);\r\n      CTPieSer cTPieSer = cTPieChart.addNewSer();\r\n      cTPieSer.addNewIdx().setVal(0);\r\n      CTStrRef cTStrRef = cTPieSer.addNewTx().addNewStrRef();\r\n      cTStrRef.setF(&quot;Label 0&quot;);\r\n      cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\r\n      CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n      cTStrVal.setIdx(0);\r\n      cTStrVal.setV(&quot;Val&quot;);\r\n    \r\n      cTStrRef = cTPieSer.addNewCat().addNewStrRef();\r\n      cTStrRef.setF(&quot;Categories&quot;);\r\n      \r\n      cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\r\n      for (int r = 1; r &lt; 4; r++) { \r\n       cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n       cTStrVal.setIdx(r-1);\r\n       cTStrVal.setV(&quot;Cat&quot; + r);\r\n      }\r\n    \r\n      CTNumRef cTNumRef = cTPieSer.addNewVal().addNewNumRef();\r\n      cTNumRef.setF(&quot;0&quot;);\r\n    \r\n      cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\r\n      for (int r = 1; r &lt; 4; r++) { \r\n       CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\r\n       cTNumVal.setIdx(r-1);\r\n       cTNumVal.setV(&quot;&quot; + (10*r));\r\n      }\r\n    \r\n     }\r\n    \r\n     public void drawBarChart(MyXSLFChartShape myXSLFChartShape) {\r\n    \r\n      CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\r\n      CTChart cTChart = chartSpace.addNewChart();\r\n      CTPlotArea cTPlotArea = cTChart.addNewPlotArea();\r\n      CTBarChart cTBarChart = cTPlotArea.addNewBarChart();\r\n      cTBarChart.addNewVaryColors().setVal(true);\r\n      cTBarChart.addNewBarDir().setVal(STBarDir.COL);\r\n    \r\n      for (int r = 1; r &lt; 5; r++) {\r\n       CTBarSer cTBarSer = cTBarChart.addNewSer();\r\n       CTStrRef cTStrRef = cTBarSer.addNewTx().addNewStrRef();\r\n       cTStrRef.setF(&quot;Label &quot; + r);\r\n       cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\r\n       CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n       cTStrVal.setIdx(0);\r\n       cTStrVal.setV(&quot;Val&quot; + r);\r\n    \r\n       cTBarSer.addNewIdx().setVal(r-1);  \r\n       cTStrRef = cTBarSer.addNewCat().addNewStrRef();\r\n       cTStrRef.setF(&quot;Categories&quot;);\r\n       cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\r\n       for (int c = 1; c &lt; 4; c++) { \r\n        cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n        cTStrVal.setIdx(c-1);\r\n        cTStrVal.setV(&quot;Cat&quot; + c);\r\n       }\r\n    \r\n       CTNumRef cTNumRef = cTBarSer.addNewVal().addNewNumRef();\r\n       cTNumRef.setF(&quot;&quot; + r);\r\n       cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\r\n       for (int c = 1; c &lt; 4; c++) { \r\n        CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\r\n        cTNumVal.setIdx(c-1);\r\n        cTNumVal.setV(&quot;&quot; + ((10+r)*c));\r\n       }\r\n      } \r\n    \r\n      //telling the BarChart that it has axes and giving them Ids\r\n      cTBarChart.addNewAxId().setVal(123456);\r\n      cTBarChart.addNewAxId().setVal(123457);\r\n    \r\n      //cat axis\r\n      CTCatAx cTCatAx = cTPlotArea.addNewCatAx(); \r\n      cTCatAx.addNewAxId().setVal(123456); //id of the cat axis\r\n      CTScaling cTScaling = cTCatAx.addNewScaling();\r\n      cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\r\n      cTCatAx.addNewDelete().setVal(false);\r\n      cTCatAx.addNewAxPos().setVal(STAxPos.B);\r\n      cTCatAx.addNewCrossAx().setVal(123457); //id of the val axis\r\n      cTCatAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\r\n    \r\n      //val axis\r\n      CTValAx cTValAx = cTPlotArea.addNewValAx(); \r\n      cTValAx.addNewAxId().setVal(123457); //id of the val axis\r\n      cTScaling = cTValAx.addNewScaling();\r\n      cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\r\n      cTValAx.addNewDelete().setVal(false);\r\n      cTValAx.addNewAxPos().setVal(STAxPos.L);\r\n      cTValAx.addNewCrossAx().setVal(123456); //id of the cat axis\r\n      cTValAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\r\n    \r\n      //legend\r\n      CTLegend cTLegend = cTChart.addNewLegend();\r\n      cTLegend.addNewLegendPos().setVal(STLegendPos.B);\r\n      cTLegend.addNewOverlay().setVal(false);\r\n    \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      CreatePPTXCharts createPPTXCharts = new CreatePPTXCharts();\r\n     }\r\n    \r\n    //________________________________________________________________________\r\n    \r\n    \r\n     //a class for providing a MyXSLFChartShape\r\n     private class MyXSLFChartShape {\r\n      private CTGraphicalObjectFrame _graphicalObjectFrame;\r\n      private XSLFSlide slide;\r\n      private MyXSLFChart myXSLFChart;\r\n    \r\n      MyXSLFChartShape(XSLFSlide slide, MyXSLFChart myXSLFChart) throws Exception {\r\n    \r\n       String rId = &quot;rId&quot; + (slide.getRelationParts().size()+1);\r\n       slide.addRelation(rId, XSLFRelation.CHART, myXSLFChart);\r\n    \r\n       long cNvPrId = 1;\r\n       String cNvPrName = &quot;MyChart&quot;;\r\n       int cNvPrNameCount = 1;\r\n       for (CTGraphicalObjectFrame currGraphicalObjectFrame : slide.getXmlObject().getCSld().getSpTree().getGraphicFrameList()) {\r\n        if (currGraphicalObjectFrame.getNvGraphicFramePr() != null) {\r\n         if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr() != null) {\r\n          cNvPrId++;\r\n          if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr().getName().startsWith(cNvPrName)) {\r\n           cNvPrNameCount++;\r\n          }\r\n         }\r\n        }\r\n       }\r\n    \r\n       CTGraphicalObjectFrame graphicalObjectFrame = slide.getXmlObject().getCSld().getSpTree().addNewGraphicFrame();\r\n       CTGraphicalObjectFrameNonVisual cTGraphicalObjectFrameNonVisual = graphicalObjectFrame.addNewNvGraphicFramePr();\r\n       cTGraphicalObjectFrameNonVisual.addNewCNvGraphicFramePr();\r\n       cTGraphicalObjectFrameNonVisual.addNewNvPr();\r\n    \r\n       CTNonVisualDrawingProps cTNonVisualDrawingProps = cTGraphicalObjectFrameNonVisual.addNewCNvPr();\r\n       cTNonVisualDrawingProps.setId(cNvPrId);\r\n       cTNonVisualDrawingProps.setName(&quot;MyChart&quot; + cNvPrNameCount);\r\n    \r\n       CTGraphicalObject graphicalObject = graphicalObjectFrame.addNewGraphic();\r\n       CTGraphicalObjectData graphicalObjectData = CTGraphicalObjectData.Factory.parse(\r\n         &quot;&lt;c:chart xmlns:c=\\&quot;http://schemas.openxmlformats.org/drawingml/2006/chart\\&quot; &quot;\r\n        +&quot;xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot; &quot;\r\n        +&quot;r:id=\\&quot;&quot; + rId + &quot;\\&quot;/&gt;&quot;\r\n       );\r\n       graphicalObjectData.setUri(&quot;http://schemas.openxmlformats.org/drawingml/2006/chart&quot;);\r\n       graphicalObject.setGraphicData(graphicalObjectData);\r\n    \r\n       _graphicalObjectFrame = graphicalObjectFrame;\r\n       this.slide = slide;\r\n       this.myXSLFChart = myXSLFChart;\r\n    \r\n       this.setAnchor(new Rectangle());\r\n      }\r\n    \r\n      private void setAnchor(Rectangle2D anchor) {\r\n       CTTransform2D xfrm = (_graphicalObjectFrame.getXfrm() != null) ? _graphicalObjectFrame.getXfrm() : _graphicalObjectFrame.addNewXfrm();\r\n       CTPoint2D off = xfrm.isSetOff() ? xfrm.getOff() : xfrm.addNewOff();\r\n       long x = Units.toEMU(anchor.getX());\r\n       long y = Units.toEMU(anchor.getY());\r\n       off.setX(x);\r\n       off.setY(y);\r\n       CTPositiveSize2D ext = xfrm.isSetExt() ? xfrm.getExt() : xfrm.addNewExt();\r\n       long cx = Units.toEMU(anchor.getWidth());\r\n       long cy = Units.toEMU(anchor.getHeight());\r\n       ext.setCx(cx);\r\n       ext.setCy(cy);\r\n      }\r\n    \r\n      private MyXSLFChart getMyXSLFChart() {\r\n       return myXSLFChart;\r\n      }\r\n    \r\n     }\r\n    \r\n     //a wrapper class for the ChartSpaceDocument /ppt/charts/chart*.xml in the *.pptx ZIP archive  \r\n     private class MyXSLFChart extends POIXMLDocumentPart {\r\n    \r\n      private CTChartSpace chartSpace;\r\n    \r\n      private MyXSLFChart(PackagePart part) throws Exception {\r\n       super(part);\r\n       chartSpace = ChartSpaceDocument.Factory.newInstance().addNewChartSpace();\r\n      }\r\n    \r\n      private CTChartSpace getChartSpace() {\r\n       return chartSpace;\r\n      }\r\n    \r\n      @Override\r\n      protected void commit() throws IOException {\r\n       XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\r\n       xmlOptions.setSaveSyntheticDocumentElement(new QName(CTChartSpace.type.getName().getNamespaceURI(), &quot;chartSpace&quot;, &quot;c&quot;));\r\n       PackagePart part = getPackagePart();\r\n       OutputStream out = part.getOutputStream();\r\n       chartSpace.save(out, xmlOptions);\r\n       out.close();\r\n      }\r\n    \r\n     }\r\n    \r\n    }\r\n\r\n\r\nCode which is producing the same but having `XSSFWorkbook`s as data tables.\r\n\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.*;\r\n    import org.apache.poi.xslf.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.*;\r\n    import org.apache.poi.util.*;\r\n    import org.apache.poi.openxml4j.opc.*;\r\n    import static org.apache.poi.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\r\n    \r\n    import org.apache.xmlbeans.*;\r\n    \r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.*;\r\n    import org.openxmlformats.schemas.drawingml.x2006.main.*;\r\n    import org.openxmlformats.schemas.presentationml.x2006.main.*;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.List;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import java.awt.geom.Rectangle2D;\r\n    import java.awt.Rectangle;\r\n    \r\n    public class CreatePPTXChartsXSSFWb {\r\n    \r\n     public CreatePPTXChartsXSSFWb() throws Exception {\r\n      XMLSlideShow slideShow = new XMLSlideShow();\r\n      XSLFSlide slide = slideShow.createSlide();\r\n    \r\n      MyXSLFChartShape myXSLFChartShape = createXSLFChart(slide);\r\n      myXSLFChartShape.setAnchor(new Rectangle(50,100,300,300));\r\n    \r\n      drawPieChart(myXSLFChartShape);\r\n    \r\n      myXSLFChartShape = createXSLFChart(slide);\r\n      myXSLFChartShape.setAnchor(new Rectangle(370,100,300,300));\r\n    \r\n      drawBarChart(myXSLFChartShape);\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;CreatePPTXChartsXSSFWb.pptx&quot;);\r\n      slideShow.write(out);\r\n      out.close();\r\n     }\r\n    \r\n     //a method for creating the chart XML document /ppt/charts/chart*.xml in the *.pptx ZIP archive\r\n     //and creating a MyXSLFChartShape as slide shape  \r\n     public MyXSLFChartShape createXSLFChart(XSLFSlide slide) throws Exception {\r\n    \r\n      OPCPackage oPCPackage = slide.getSlideShow().getPackage();\r\n      int chartCount = oPCPackage.getPartsByName(Pattern.compile(&quot;/ppt/charts/chart.*&quot;)).size() + 1;\r\n      PackagePartName partName = PackagingURIHelper.createPartName(&quot;/ppt/charts/chart&quot; + chartCount + &quot;.xml&quot;);\r\n      PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.drawingml.chart+xml&quot;);\r\n    \r\n      MyXSLFChart myXSLFChart = new MyXSLFChart(part);\r\n      MyXSLFChartShape myXSLFChartShape = new MyXSLFChartShape(slide, myXSLFChart);\r\n    \r\n      return myXSLFChartShape;\r\n     }\r\n    \r\n     public void drawPieChart(MyXSLFChartShape myXSLFChartShape) {\r\n    \r\n      XSSFWorkbook workbook = myXSLFChartShape.getMyXSLFChart().getXSLFXSSFWorkbook().getXSSFWorkbook();\r\n      XSSFSheet sheet = workbook.getSheetAt(0);\r\n      sheet.createRow(0).createCell(0).setCellValue(&quot;Cat&quot;);\r\n      sheet.getRow(0).createCell(1).setCellValue(&quot;Val&quot;);\r\n      for (int r = 1; r &lt; 4; r++) {\r\n       sheet.createRow(r).createCell(0).setCellValue(&quot;Cat&quot; + r);\r\n       sheet.getRow(r).createCell(1).setCellValue(10*r);\r\n      }\r\n    \r\n      CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\r\n      CTPieChart cTPieChart = chartSpace.addNewChart().addNewPlotArea().addNewPieChart();\r\n      cTPieChart.addNewVaryColors().setVal(true);\r\n      CTPieSer cTPieSer = cTPieChart.addNewSer();\r\n      cTPieSer.addNewIdx().setVal(0);\r\n      CTStrRef cTStrRef = cTPieSer.addNewTx().addNewStrRef();\r\n      cTStrRef.setF(&quot;Sheet0!$B$1&quot;);\r\n      cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\r\n      CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n      cTStrVal.setIdx(0);\r\n      cTStrVal.setV(&quot;Val&quot;);\r\n    \r\n      cTStrRef = cTPieSer.addNewCat().addNewStrRef();\r\n      cTStrRef.setF(&quot;Sheet0!$A$2:$A$4&quot;);\r\n      \r\n      cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\r\n      for (int r = 1; r &lt; 4; r++) { \r\n       cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n       cTStrVal.setIdx(r-1);\r\n       cTStrVal.setV(&quot;Cat&quot; + r);\r\n      }\r\n    \r\n      CTNumRef cTNumRef = cTPieSer.addNewVal().addNewNumRef();\r\n      cTNumRef.setF(&quot;Sheet0!$B$2:$B$4&quot;);\r\n    \r\n      cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\r\n      for (int r = 1; r &lt; 4; r++) { \r\n       CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\r\n       cTNumVal.setIdx(r-1);\r\n       cTNumVal.setV(&quot;&quot; + (10*r));\r\n      }\r\n     }\r\n    \r\n     public void drawBarChart(MyXSLFChartShape myXSLFChartShape) {\r\n    \r\n      XSSFWorkbook workbook = myXSLFChartShape.getMyXSLFChart().getXSLFXSSFWorkbook().getXSSFWorkbook();\r\n      XSSFSheet sheet = workbook.getSheetAt(0);\r\n      sheet.createRow(0);\r\n      for (int c = 1; c &lt; 4; c++) { \r\n       sheet.getRow(0).createCell(c).setCellValue(&quot;Cat&quot; + c);\r\n      }\r\n      for (int r = 1; r &lt; 5; r++) {\r\n       sheet.createRow(r).createCell(0).setCellValue(&quot;Val&quot; + r);\r\n       for (int c = 1; c &lt; 4; c++) { \r\n        sheet.getRow(r).createCell(c).setCellValue((10+r)*c);\r\n       }\r\n      }\r\n    \r\n      CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\r\n      CTChart cTChart = chartSpace.addNewChart();\r\n      CTPlotArea cTPlotArea = cTChart.addNewPlotArea();\r\n      CTBarChart cTBarChart = cTPlotArea.addNewBarChart();\r\n      cTBarChart.addNewVaryColors().setVal(true);\r\n      cTBarChart.addNewBarDir().setVal(STBarDir.COL);\r\n    \r\n      for (int r = 1; r &lt; 5; r++) {\r\n       CTBarSer cTBarSer = cTBarChart.addNewSer();\r\n       CTStrRef cTStrRef = cTBarSer.addNewTx().addNewStrRef();\r\n       cTStrRef.setF(&quot;Sheet0!$A$&quot; + (r+1));\r\n       cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\r\n       CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n       cTStrVal.setIdx(0);\r\n       cTStrVal.setV(&quot;Val&quot; + r);\r\n       cTBarSer.addNewIdx().setVal(r-1);\r\n    \r\n       CTAxDataSource cttAxDataSource = cTBarSer.addNewCat();\r\n       cTStrRef = cttAxDataSource.addNewStrRef();\r\n       cTStrRef.setF(&quot;Sheet0!$B$1:$D$1&quot;);   \r\n       cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\r\n       for (int c = 1; c &lt; 4; c++) { \r\n        cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n        cTStrVal.setIdx(c-1);\r\n        cTStrVal.setV(&quot;Cat&quot; + c);\r\n       }\r\n    \r\n       CTNumDataSource ctNumDataSource = cTBarSer.addNewVal();\r\n       CTNumRef cTNumRef = ctNumDataSource.addNewNumRef();\r\n       cTNumRef.setF(&quot;Sheet0!$B$&quot; + (r+1) + &quot;:$D$&quot; + (r+1));\r\n       cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\r\n       for (int c = 1; c &lt; 4; c++) { \r\n        CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\r\n        cTNumVal.setIdx(c-1);\r\n        cTNumVal.setV(&quot;&quot; + ((10+r)*c));\r\n       }\r\n      } \r\n    \r\n      //telling the BarChart that it has axes and giving them Ids\r\n      cTBarChart.addNewAxId().setVal(123456);\r\n      cTBarChart.addNewAxId().setVal(123457);\r\n    \r\n      //cat axis\r\n      CTCatAx cTCatAx = cTPlotArea.addNewCatAx(); \r\n      cTCatAx.addNewAxId().setVal(123456); //id of the cat axis\r\n      CTScaling cTScaling = cTCatAx.addNewScaling();\r\n      cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\r\n      cTCatAx.addNewDelete().setVal(false);\r\n      cTCatAx.addNewAxPos().setVal(STAxPos.B);\r\n      cTCatAx.addNewCrossAx().setVal(123457); //id of the val axis\r\n      cTCatAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\r\n    \r\n      //val axis\r\n      CTValAx cTValAx = cTPlotArea.addNewValAx(); \r\n      cTValAx.addNewAxId().setVal(123457); //id of the val axis\r\n      cTScaling = cTValAx.addNewScaling();\r\n      cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\r\n      cTValAx.addNewDelete().setVal(false);\r\n      cTValAx.addNewAxPos().setVal(STAxPos.L);\r\n      cTValAx.addNewCrossAx().setVal(123456); //id of the cat axis\r\n      cTValAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\r\n    \r\n      //legend\r\n      CTLegend cTLegend = cTChart.addNewLegend();\r\n      cTLegend.addNewLegendPos().setVal(STLegendPos.B);\r\n      cTLegend.addNewOverlay().setVal(false);\r\n    \r\n     }\r\n    \r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      CreatePPTXChartsXSSFWb createPPTXCharts = new CreatePPTXChartsXSSFWb();\r\n     }\r\n    \r\n     //a class for providing a MyXSLFChartShape\r\n     private class MyXSLFChartShape {\r\n      private CTGraphicalObjectFrame _graphicalObjectFrame;\r\n      private XSLFSlide slide;\r\n      private MyXSLFChart myXSLFChart;\r\n    \r\n      MyXSLFChartShape(XSLFSlide slide, MyXSLFChart myXSLFChart) throws Exception {\r\n    \r\n       String rId = &quot;rId&quot; + (slide.getRelationParts().size()+1);\r\n       slide.addRelation(rId, XSLFRelation.CHART, myXSLFChart);\r\n    \r\n       long cNvPrId = 1;\r\n       String cNvPrName = &quot;MyChart&quot;;\r\n       int cNvPrNameCount = 1;\r\n       for (CTGraphicalObjectFrame currGraphicalObjectFrame : slide.getXmlObject().getCSld().getSpTree().getGraphicFrameList()) {\r\n        if (currGraphicalObjectFrame.getNvGraphicFramePr() != null) {\r\n         if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr() != null) {\r\n          cNvPrId++;\r\n          if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr().getName().startsWith(cNvPrName)) {\r\n           cNvPrNameCount++;\r\n          }\r\n         }\r\n        }\r\n       }\r\n    \r\n       CTGraphicalObjectFrame graphicalObjectFrame = slide.getXmlObject().getCSld().getSpTree().addNewGraphicFrame();\r\n       CTGraphicalObjectFrameNonVisual cTGraphicalObjectFrameNonVisual = graphicalObjectFrame.addNewNvGraphicFramePr();\r\n       cTGraphicalObjectFrameNonVisual.addNewCNvGraphicFramePr();\r\n       cTGraphicalObjectFrameNonVisual.addNewNvPr();\r\n    \r\n       CTNonVisualDrawingProps cTNonVisualDrawingProps = cTGraphicalObjectFrameNonVisual.addNewCNvPr();\r\n       cTNonVisualDrawingProps.setId(cNvPrId);\r\n       cTNonVisualDrawingProps.setName(&quot;MyChart&quot; + cNvPrNameCount);\r\n    \r\n       CTGraphicalObject graphicalObject = graphicalObjectFrame.addNewGraphic();\r\n       CTGraphicalObjectData graphicalObjectData = CTGraphicalObjectData.Factory.parse(\r\n         &quot;&lt;c:chart xmlns:c=\\&quot;http://schemas.openxmlformats.org/drawingml/2006/chart\\&quot; &quot;\r\n        +&quot;xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot; &quot;\r\n        +&quot;r:id=\\&quot;&quot; + rId + &quot;\\&quot;/&gt;&quot;\r\n       );\r\n       graphicalObjectData.setUri(&quot;http://schemas.openxmlformats.org/drawingml/2006/chart&quot;);\r\n       graphicalObject.setGraphicData(graphicalObjectData);\r\n    \r\n       _graphicalObjectFrame = graphicalObjectFrame;\r\n       this.slide = slide;\r\n       this.myXSLFChart = myXSLFChart;\r\n    \r\n       this.setAnchor(new Rectangle());\r\n      }\r\n    \r\n      private void setAnchor(Rectangle2D anchor) {\r\n       CTTransform2D xfrm = (_graphicalObjectFrame.getXfrm() != null) ? _graphicalObjectFrame.getXfrm() : _graphicalObjectFrame.addNewXfrm();\r\n       CTPoint2D off = xfrm.isSetOff() ? xfrm.getOff() : xfrm.addNewOff();\r\n       long x = Units.toEMU(anchor.getX());\r\n       long y = Units.toEMU(anchor.getY());\r\n       off.setX(x);\r\n       off.setY(y);\r\n       CTPositiveSize2D ext = xfrm.isSetExt() ? xfrm.getExt() : xfrm.addNewExt();\r\n       long cx = Units.toEMU(anchor.getWidth());\r\n       long cy = Units.toEMU(anchor.getHeight());\r\n       ext.setCx(cx);\r\n       ext.setCy(cy);\r\n      }\r\n    \r\n      private MyXSLFChart getMyXSLFChart() {\r\n       return myXSLFChart;\r\n      }\r\n     }\r\n    \r\n     //a wrapper class for the ChartSpaceDocument /ppt/charts/chart*.xml in the *.pptx ZIP archive  \r\n     private class MyXSLFChart extends POIXMLDocumentPart {\r\n    \r\n      private CTChartSpace chartSpace;\r\n      private MyXSLFXSSFWorkbook myXSLFXSSFWorkbook;\r\n    \r\n      private MyXSLFChart(PackagePart part) throws Exception {\r\n       super(part);\r\n    \r\n       OPCPackage oPCPackage = part.getPackage();\r\n       int chartCount = oPCPackage.getPartsByName(Pattern.compile(&quot;/ppt/embeddings/.*.xlsx&quot;)).size() + 1;\r\n       PackagePartName partName = PackagingURIHelper.createPartName(&quot;/ppt/embeddings/Microsoft_Excel_Worksheet&quot; + chartCount + &quot;.xlsx&quot;);\r\n       PackagePart xlsxpart = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\r\n    \r\n       myXSLFXSSFWorkbook = new MyXSLFXSSFWorkbook(xlsxpart);\r\n     \r\n       String rId = &quot;rId&quot; + (this.getRelationParts().size()+1);\r\n       XSLFXSSFRelation xSLFXSSFRelationPACKAGE = new XSLFXSSFRelation(\r\n        &quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/package&quot;);\r\n    \r\n       this.addRelation(rId, xSLFXSSFRelationPACKAGE, myXSLFXSSFWorkbook);\r\n    \r\n       chartSpace = ChartSpaceDocument.Factory.newInstance().addNewChartSpace();\r\n       CTExternalData cTExternalData = chartSpace.addNewExternalData();\r\n       cTExternalData.setId(rId);\r\n       //cTExternalData.addNewAutoUpdate().setVal(true);\r\n      }\r\n    \r\n      private CTChartSpace getChartSpace() {\r\n       return chartSpace;\r\n      }\r\n    \r\n      private MyXSLFXSSFWorkbook getXSLFXSSFWorkbook() {\r\n       return myXSLFXSSFWorkbook;\r\n      }\r\n    \r\n      @Override\r\n      protected void commit() throws IOException {\r\n       XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\r\n       xmlOptions.setSaveSyntheticDocumentElement(new QName(CTChartSpace.type.getName().getNamespaceURI(), &quot;chartSpace&quot;, &quot;c&quot;));\r\n       PackagePart part = getPackagePart();\r\n       OutputStream out = part.getOutputStream();\r\n       chartSpace.save(out, xmlOptions);\r\n       out.close();\r\n      }\r\n    \r\n     }\r\n    \r\n     //a wrapper class for the XSSFWorkbook /ppt/embeddings/Microsoft_Excel_Worksheet*.xlsx in the *.pptx ZIP archive  \r\n     private class MyXSLFXSSFWorkbook extends POIXMLDocumentPart {\r\n    \r\n      private XSSFWorkbook workbook;\r\n    \r\n      private MyXSLFXSSFWorkbook(PackagePart part) throws Exception {\r\n       super(part);\r\n       workbook = new XSSFWorkbook();\r\n       XSSFSheet sheet = workbook.createSheet();\r\n      }\r\n    \r\n      private XSSFWorkbook getXSSFWorkbook() {\r\n       return workbook;\r\n      }\r\n    \r\n      @Override\r\n      protected void commit() throws IOException {\r\n       PackagePart part = getPackagePart();\r\n       OutputStream out = part.getOutputStream();\r\n       workbook.write(out);\r\n       workbook.close();\r\n       out.close();\r\n      }\r\n     }\r\n    \r\n     //a class to note the relations\r\n     private class XSLFXSSFRelation extends POIXMLRelation {\r\n      private XSLFXSSFRelation(String rel) {\r\n       super(null, rel, null);\r\n      }\r\n     }\r\n    } \r\n\r\n________________\r\n\r\nEdit January 29 2019:\r\n\r\nAbove code was working using `apache poi 3.16` up to `apache poi 3.17`.\r\nTo make it work using current `apache poi 4.0.1` the only need is changing the `import`s a little bit:\r\n\r\n    ...\r\n    import org.apache.poi.openxml4j.opc.*;\r\n    //import static org.apache.poi.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\r\n    import static org.apache.poi.ooxml.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\r\n    import org.apache.poi.ooxml.*;\r\n    \r\n    import org.apache.xmlbeans.*;\r\n    ...\r\n\r\nThis is because the Office Open XML stuff now is in `org.apache.poi.ooxml.*`and not more in `org.apache.poi.*`.\r\n\r\n_______________________________________________________\r\n\r\nEdit August 2023:\r\n\r\nCurrent Apache POI versions (since Apache POI 4.1.0) provide `XDDF` for charts. Using this it is much simpler to create charts for PowerPoint.\r\n\r\nExample:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xslf.usermodel.*;\r\n    import org.apache.poi.util.Units;\r\n    import org.apache.poi.xddf.usermodel.*;\r\n    import org.apache.poi.xddf.usermodel.chart.*;\r\n    \r\n    import java.awt.Rectangle;\r\n    \r\n    public class CreatePowerPointXDDFChart {\r\n        \r\n     public static void main(String[] args) throws Exception {\r\n      try (XMLSlideShow slideShow = new XMLSlideShow()) {\r\n       \r\n       // create a new empty slide\r\n       XSLFSlide slide = slideShow.createSlide();\r\n       \r\n       // create chart\r\n       XSLFChart chart = slideShow.createChart();\r\n       chart.setTitleText(&quot;Test Chart&quot;);\r\n       \r\n       // set axis\r\n       XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\r\n       XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\r\n       leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\r\n       leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\r\n    \r\n       // define chart data for bar chart\r\n       XDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\r\n    \r\n       // add chart categories (x-axis data)\r\n       String[] categories = new String[] { &quot;Category 1&quot;, &quot;Category 2&quot;, &quot;Category 3&quot; };\r\n       String categoryDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, categories.length, 0, 0));\r\n       XDDFCategoryDataSource categoryData = XDDFDataSourcesFactory.fromArray(categories, categoryDataRange, 0);\r\n    \r\n       // add chart values (y-axis data)\r\n       Double[] values = new Double[] { 10.0, 20.0, 15.0 };\r\n       String valuesDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, values.length, 1, 1));\r\n       XDDFNumericalDataSource&lt;Double&gt; valueData = XDDFDataSourcesFactory.fromArray(values, valuesDataRange, 1);\r\n       XDDFBarChartData bar = (XDDFBarChartData) data;\r\n       bar.setBarDirection(BarDirection.BAR);\r\n    \r\n       // add series\r\n       XDDFChartData.Series series = data.addSeries(categoryData, valueData);\r\n       series.setTitle(&quot;Series 1&quot;, chart.setSheetTitle(&quot;Series 1&quot;, 1));\r\n       \r\n       // plot chart\r\n       chart.plot(data);\r\n    \r\n       // set chart dimensions !!Units are EMU (English Metric Units)!!\r\n       Rectangle chartDimensions = new Rectangle(\r\n        100*Units.EMU_PER_POINT, \r\n        50*Units.EMU_PER_POINT, \r\n        400*Units.EMU_PER_POINT, \r\n        400*Units.EMU_PER_POINT);\r\n       // add chart to slide\r\n       slide.addChart(chart, chartDimensions);\r\n    \r\n       // Write the output to a file\r\n       try (FileOutputStream fileOut = new FileOutputStream(&quot;./CreatePowerPointXDDFChart.pptx&quot;)) {\r\n        slideShow.write(fileOut);\r\n       }\r\n      }\r\n     }\r\n    \r\n    }\r\n\r\n______________________________________\r\n\r\nEdit September 2023:\r\n\r\nTo make it work using Apache POI 4.1.2 and higher, one must repair incorrect number format settings.\r\n\r\n    ...\r\n       //repair axes number format settings\r\n       if (bottomAxis.hasNumberFormat()) bottomAxis.setNumberFormat(&quot;@&quot;);\r\n       if (leftAxis.hasNumberFormat()) leftAxis.setNumberFormat(&quot;#,##0.00&quot;);\r\n    ...\r\n\r\n","title":"java create a chart in a powerpoint using APACHE POI","body":"<p>There is nothing like a <code>XSLFChartShape</code> usable in a powerpoint slide in <code>apache poi</code> until now.</p>\n<p>But of course if one knows the internal structure of the <code>*.pptx</code> <code>ZIP</code> archive and the <code>XML</code> therein, then it is possible creating this from scratch using the <code>apache poi</code> <code>OPCPackage</code> classes and the low level <code>CT*</code> classes from <code>org.openxmlformats.schemas.drawingml.x2006.*</code> and <code>org.openxmlformats.schemas.presentationml.x2006.*</code>.</p>\n<p>Following code is doing this and creates a slide having a pie chart and a bar chart.</p>\n<p>This is a draft only to show the approach.</p>\n<pre><code>import java.io.*;\n\nimport org.apache.poi.*;\nimport org.apache.poi.xslf.usermodel.*;\nimport org.apache.poi.util.*;\nimport org.apache.poi.openxml4j.opc.*;\nimport static org.apache.poi.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\n\nimport org.apache.xmlbeans.*;\n\nimport org.openxmlformats.schemas.drawingml.x2006.chart.*;\nimport org.openxmlformats.schemas.drawingml.x2006.main.*;\nimport org.openxmlformats.schemas.presentationml.x2006.main.*;\n\nimport javax.xml.namespace.QName;\n\nimport java.util.regex.Pattern;\n\nimport java.awt.geom.Rectangle2D;\nimport java.awt.Rectangle;\n\npublic class CreatePPTXCharts {\n\n public CreatePPTXCharts() throws Exception {\n  XMLSlideShow slideShow = new XMLSlideShow();\n  XSLFSlide slide = slideShow.createSlide();\n\n  MyXSLFChartShape myXSLFChartShape = createXSLFChart(slide);\n  myXSLFChartShape.setAnchor(new Rectangle(50,100,300,300));\n\n  drawPieChart(myXSLFChartShape);\n\n  myXSLFChartShape = createXSLFChart(slide);\n  myXSLFChartShape.setAnchor(new Rectangle(370,100,300,300));\n\n  drawBarChart(myXSLFChartShape);\n\n\n  FileOutputStream out = new FileOutputStream(&quot;CreatePPTXCharts.pptx&quot;);\n  slideShow.write(out);\n  out.close();\n }\n\n //a method for creating the chart XML document /ppt/charts/chart*.xml in the *.pptx ZIP archive\n //and creating a MyXSLFChartShape as slide shape  \n public MyXSLFChartShape createXSLFChart(XSLFSlide slide) throws Exception {\n\n  OPCPackage oPCPackage = slide.getSlideShow().getPackage();\n  int chartCount = oPCPackage.getPartsByName(Pattern.compile(&quot;/ppt/charts/chart.*&quot;)).size() + 1;\n  PackagePartName partName = PackagingURIHelper.createPartName(&quot;/ppt/charts/chart&quot; + chartCount + &quot;.xml&quot;);\n  PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.drawingml.chart+xml&quot;);\n\n  MyXSLFChart myXSLFChart = new MyXSLFChart(part);\n  MyXSLFChartShape myXSLFChartShape = new MyXSLFChartShape(slide, myXSLFChart);\n\n  return myXSLFChartShape;\n\n }\n\n public void drawPieChart(MyXSLFChartShape myXSLFChartShape) {\n\n  CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\n  CTPieChart cTPieChart = chartSpace.addNewChart().addNewPlotArea().addNewPieChart();\n  cTPieChart.addNewVaryColors().setVal(true);\n  CTPieSer cTPieSer = cTPieChart.addNewSer();\n  cTPieSer.addNewIdx().setVal(0);\n  CTStrRef cTStrRef = cTPieSer.addNewTx().addNewStrRef();\n  cTStrRef.setF(&quot;Label 0&quot;);\n  cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\n  CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\n  cTStrVal.setIdx(0);\n  cTStrVal.setV(&quot;Val&quot;);\n\n  cTStrRef = cTPieSer.addNewCat().addNewStrRef();\n  cTStrRef.setF(&quot;Categories&quot;);\n  \n  cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\n  for (int r = 1; r &lt; 4; r++) { \n   cTStrVal = cTStrRef.getStrCache().addNewPt();\n   cTStrVal.setIdx(r-1);\n   cTStrVal.setV(&quot;Cat&quot; + r);\n  }\n\n  CTNumRef cTNumRef = cTPieSer.addNewVal().addNewNumRef();\n  cTNumRef.setF(&quot;0&quot;);\n\n  cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\n  for (int r = 1; r &lt; 4; r++) { \n   CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\n   cTNumVal.setIdx(r-1);\n   cTNumVal.setV(&quot;&quot; + (10*r));\n  }\n\n }\n\n public void drawBarChart(MyXSLFChartShape myXSLFChartShape) {\n\n  CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\n  CTChart cTChart = chartSpace.addNewChart();\n  CTPlotArea cTPlotArea = cTChart.addNewPlotArea();\n  CTBarChart cTBarChart = cTPlotArea.addNewBarChart();\n  cTBarChart.addNewVaryColors().setVal(true);\n  cTBarChart.addNewBarDir().setVal(STBarDir.COL);\n\n  for (int r = 1; r &lt; 5; r++) {\n   CTBarSer cTBarSer = cTBarChart.addNewSer();\n   CTStrRef cTStrRef = cTBarSer.addNewTx().addNewStrRef();\n   cTStrRef.setF(&quot;Label &quot; + r);\n   cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\n   CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\n   cTStrVal.setIdx(0);\n   cTStrVal.setV(&quot;Val&quot; + r);\n\n   cTBarSer.addNewIdx().setVal(r-1);  \n   cTStrRef = cTBarSer.addNewCat().addNewStrRef();\n   cTStrRef.setF(&quot;Categories&quot;);\n   cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\n   for (int c = 1; c &lt; 4; c++) { \n    cTStrVal = cTStrRef.getStrCache().addNewPt();\n    cTStrVal.setIdx(c-1);\n    cTStrVal.setV(&quot;Cat&quot; + c);\n   }\n\n   CTNumRef cTNumRef = cTBarSer.addNewVal().addNewNumRef();\n   cTNumRef.setF(&quot;&quot; + r);\n   cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\n   for (int c = 1; c &lt; 4; c++) { \n    CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\n    cTNumVal.setIdx(c-1);\n    cTNumVal.setV(&quot;&quot; + ((10+r)*c));\n   }\n  } \n\n  //telling the BarChart that it has axes and giving them Ids\n  cTBarChart.addNewAxId().setVal(123456);\n  cTBarChart.addNewAxId().setVal(123457);\n\n  //cat axis\n  CTCatAx cTCatAx = cTPlotArea.addNewCatAx(); \n  cTCatAx.addNewAxId().setVal(123456); //id of the cat axis\n  CTScaling cTScaling = cTCatAx.addNewScaling();\n  cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\n  cTCatAx.addNewDelete().setVal(false);\n  cTCatAx.addNewAxPos().setVal(STAxPos.B);\n  cTCatAx.addNewCrossAx().setVal(123457); //id of the val axis\n  cTCatAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\n\n  //val axis\n  CTValAx cTValAx = cTPlotArea.addNewValAx(); \n  cTValAx.addNewAxId().setVal(123457); //id of the val axis\n  cTScaling = cTValAx.addNewScaling();\n  cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\n  cTValAx.addNewDelete().setVal(false);\n  cTValAx.addNewAxPos().setVal(STAxPos.L);\n  cTValAx.addNewCrossAx().setVal(123456); //id of the cat axis\n  cTValAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\n\n  //legend\n  CTLegend cTLegend = cTChart.addNewLegend();\n  cTLegend.addNewLegendPos().setVal(STLegendPos.B);\n  cTLegend.addNewOverlay().setVal(false);\n\n }\n\n public static void main(String[] args) throws Exception {\n  CreatePPTXCharts createPPTXCharts = new CreatePPTXCharts();\n }\n\n//________________________________________________________________________\n\n\n //a class for providing a MyXSLFChartShape\n private class MyXSLFChartShape {\n  private CTGraphicalObjectFrame _graphicalObjectFrame;\n  private XSLFSlide slide;\n  private MyXSLFChart myXSLFChart;\n\n  MyXSLFChartShape(XSLFSlide slide, MyXSLFChart myXSLFChart) throws Exception {\n\n   String rId = &quot;rId&quot; + (slide.getRelationParts().size()+1);\n   slide.addRelation(rId, XSLFRelation.CHART, myXSLFChart);\n\n   long cNvPrId = 1;\n   String cNvPrName = &quot;MyChart&quot;;\n   int cNvPrNameCount = 1;\n   for (CTGraphicalObjectFrame currGraphicalObjectFrame : slide.getXmlObject().getCSld().getSpTree().getGraphicFrameList()) {\n    if (currGraphicalObjectFrame.getNvGraphicFramePr() != null) {\n     if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr() != null) {\n      cNvPrId++;\n      if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr().getName().startsWith(cNvPrName)) {\n       cNvPrNameCount++;\n      }\n     }\n    }\n   }\n\n   CTGraphicalObjectFrame graphicalObjectFrame = slide.getXmlObject().getCSld().getSpTree().addNewGraphicFrame();\n   CTGraphicalObjectFrameNonVisual cTGraphicalObjectFrameNonVisual = graphicalObjectFrame.addNewNvGraphicFramePr();\n   cTGraphicalObjectFrameNonVisual.addNewCNvGraphicFramePr();\n   cTGraphicalObjectFrameNonVisual.addNewNvPr();\n\n   CTNonVisualDrawingProps cTNonVisualDrawingProps = cTGraphicalObjectFrameNonVisual.addNewCNvPr();\n   cTNonVisualDrawingProps.setId(cNvPrId);\n   cTNonVisualDrawingProps.setName(&quot;MyChart&quot; + cNvPrNameCount);\n\n   CTGraphicalObject graphicalObject = graphicalObjectFrame.addNewGraphic();\n   CTGraphicalObjectData graphicalObjectData = CTGraphicalObjectData.Factory.parse(\n     &quot;&lt;c:chart xmlns:c=\\&quot;http://schemas.openxmlformats.org/drawingml/2006/chart\\&quot; &quot;\n    +&quot;xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot; &quot;\n    +&quot;r:id=\\&quot;&quot; + rId + &quot;\\&quot;/&gt;&quot;\n   );\n   graphicalObjectData.setUri(&quot;http://schemas.openxmlformats.org/drawingml/2006/chart&quot;);\n   graphicalObject.setGraphicData(graphicalObjectData);\n\n   _graphicalObjectFrame = graphicalObjectFrame;\n   this.slide = slide;\n   this.myXSLFChart = myXSLFChart;\n\n   this.setAnchor(new Rectangle());\n  }\n\n  private void setAnchor(Rectangle2D anchor) {\n   CTTransform2D xfrm = (_graphicalObjectFrame.getXfrm() != null) ? _graphicalObjectFrame.getXfrm() : _graphicalObjectFrame.addNewXfrm();\n   CTPoint2D off = xfrm.isSetOff() ? xfrm.getOff() : xfrm.addNewOff();\n   long x = Units.toEMU(anchor.getX());\n   long y = Units.toEMU(anchor.getY());\n   off.setX(x);\n   off.setY(y);\n   CTPositiveSize2D ext = xfrm.isSetExt() ? xfrm.getExt() : xfrm.addNewExt();\n   long cx = Units.toEMU(anchor.getWidth());\n   long cy = Units.toEMU(anchor.getHeight());\n   ext.setCx(cx);\n   ext.setCy(cy);\n  }\n\n  private MyXSLFChart getMyXSLFChart() {\n   return myXSLFChart;\n  }\n\n }\n\n //a wrapper class for the ChartSpaceDocument /ppt/charts/chart*.xml in the *.pptx ZIP archive  \n private class MyXSLFChart extends POIXMLDocumentPart {\n\n  private CTChartSpace chartSpace;\n\n  private MyXSLFChart(PackagePart part) throws Exception {\n   super(part);\n   chartSpace = ChartSpaceDocument.Factory.newInstance().addNewChartSpace();\n  }\n\n  private CTChartSpace getChartSpace() {\n   return chartSpace;\n  }\n\n  @Override\n  protected void commit() throws IOException {\n   XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\n   xmlOptions.setSaveSyntheticDocumentElement(new QName(CTChartSpace.type.getName().getNamespaceURI(), &quot;chartSpace&quot;, &quot;c&quot;));\n   PackagePart part = getPackagePart();\n   OutputStream out = part.getOutputStream();\n   chartSpace.save(out, xmlOptions);\n   out.close();\n  }\n\n }\n\n}\n</code></pre>\n<p>Code which is producing the same but having <code>XSSFWorkbook</code>s as data tables.</p>\n<pre><code>import java.io.*;\n\nimport org.apache.poi.*;\nimport org.apache.poi.xslf.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.*;\nimport org.apache.poi.util.*;\nimport org.apache.poi.openxml4j.opc.*;\nimport static org.apache.poi.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\n\nimport org.apache.xmlbeans.*;\n\nimport org.openxmlformats.schemas.drawingml.x2006.chart.*;\nimport org.openxmlformats.schemas.drawingml.x2006.main.*;\nimport org.openxmlformats.schemas.presentationml.x2006.main.*;\n\nimport javax.xml.namespace.QName;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.List;\nimport java.util.regex.Pattern;\n\nimport java.awt.geom.Rectangle2D;\nimport java.awt.Rectangle;\n\npublic class CreatePPTXChartsXSSFWb {\n\n public CreatePPTXChartsXSSFWb() throws Exception {\n  XMLSlideShow slideShow = new XMLSlideShow();\n  XSLFSlide slide = slideShow.createSlide();\n\n  MyXSLFChartShape myXSLFChartShape = createXSLFChart(slide);\n  myXSLFChartShape.setAnchor(new Rectangle(50,100,300,300));\n\n  drawPieChart(myXSLFChartShape);\n\n  myXSLFChartShape = createXSLFChart(slide);\n  myXSLFChartShape.setAnchor(new Rectangle(370,100,300,300));\n\n  drawBarChart(myXSLFChartShape);\n\n  FileOutputStream out = new FileOutputStream(&quot;CreatePPTXChartsXSSFWb.pptx&quot;);\n  slideShow.write(out);\n  out.close();\n }\n\n //a method for creating the chart XML document /ppt/charts/chart*.xml in the *.pptx ZIP archive\n //and creating a MyXSLFChartShape as slide shape  \n public MyXSLFChartShape createXSLFChart(XSLFSlide slide) throws Exception {\n\n  OPCPackage oPCPackage = slide.getSlideShow().getPackage();\n  int chartCount = oPCPackage.getPartsByName(Pattern.compile(&quot;/ppt/charts/chart.*&quot;)).size() + 1;\n  PackagePartName partName = PackagingURIHelper.createPartName(&quot;/ppt/charts/chart&quot; + chartCount + &quot;.xml&quot;);\n  PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.drawingml.chart+xml&quot;);\n\n  MyXSLFChart myXSLFChart = new MyXSLFChart(part);\n  MyXSLFChartShape myXSLFChartShape = new MyXSLFChartShape(slide, myXSLFChart);\n\n  return myXSLFChartShape;\n }\n\n public void drawPieChart(MyXSLFChartShape myXSLFChartShape) {\n\n  XSSFWorkbook workbook = myXSLFChartShape.getMyXSLFChart().getXSLFXSSFWorkbook().getXSSFWorkbook();\n  XSSFSheet sheet = workbook.getSheetAt(0);\n  sheet.createRow(0).createCell(0).setCellValue(&quot;Cat&quot;);\n  sheet.getRow(0).createCell(1).setCellValue(&quot;Val&quot;);\n  for (int r = 1; r &lt; 4; r++) {\n   sheet.createRow(r).createCell(0).setCellValue(&quot;Cat&quot; + r);\n   sheet.getRow(r).createCell(1).setCellValue(10*r);\n  }\n\n  CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\n  CTPieChart cTPieChart = chartSpace.addNewChart().addNewPlotArea().addNewPieChart();\n  cTPieChart.addNewVaryColors().setVal(true);\n  CTPieSer cTPieSer = cTPieChart.addNewSer();\n  cTPieSer.addNewIdx().setVal(0);\n  CTStrRef cTStrRef = cTPieSer.addNewTx().addNewStrRef();\n  cTStrRef.setF(&quot;Sheet0!$B$1&quot;);\n  cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\n  CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\n  cTStrVal.setIdx(0);\n  cTStrVal.setV(&quot;Val&quot;);\n\n  cTStrRef = cTPieSer.addNewCat().addNewStrRef();\n  cTStrRef.setF(&quot;Sheet0!$A$2:$A$4&quot;);\n  \n  cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\n  for (int r = 1; r &lt; 4; r++) { \n   cTStrVal = cTStrRef.getStrCache().addNewPt();\n   cTStrVal.setIdx(r-1);\n   cTStrVal.setV(&quot;Cat&quot; + r);\n  }\n\n  CTNumRef cTNumRef = cTPieSer.addNewVal().addNewNumRef();\n  cTNumRef.setF(&quot;Sheet0!$B$2:$B$4&quot;);\n\n  cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\n  for (int r = 1; r &lt; 4; r++) { \n   CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\n   cTNumVal.setIdx(r-1);\n   cTNumVal.setV(&quot;&quot; + (10*r));\n  }\n }\n\n public void drawBarChart(MyXSLFChartShape myXSLFChartShape) {\n\n  XSSFWorkbook workbook = myXSLFChartShape.getMyXSLFChart().getXSLFXSSFWorkbook().getXSSFWorkbook();\n  XSSFSheet sheet = workbook.getSheetAt(0);\n  sheet.createRow(0);\n  for (int c = 1; c &lt; 4; c++) { \n   sheet.getRow(0).createCell(c).setCellValue(&quot;Cat&quot; + c);\n  }\n  for (int r = 1; r &lt; 5; r++) {\n   sheet.createRow(r).createCell(0).setCellValue(&quot;Val&quot; + r);\n   for (int c = 1; c &lt; 4; c++) { \n    sheet.getRow(r).createCell(c).setCellValue((10+r)*c);\n   }\n  }\n\n  CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\n  CTChart cTChart = chartSpace.addNewChart();\n  CTPlotArea cTPlotArea = cTChart.addNewPlotArea();\n  CTBarChart cTBarChart = cTPlotArea.addNewBarChart();\n  cTBarChart.addNewVaryColors().setVal(true);\n  cTBarChart.addNewBarDir().setVal(STBarDir.COL);\n\n  for (int r = 1; r &lt; 5; r++) {\n   CTBarSer cTBarSer = cTBarChart.addNewSer();\n   CTStrRef cTStrRef = cTBarSer.addNewTx().addNewStrRef();\n   cTStrRef.setF(&quot;Sheet0!$A$&quot; + (r+1));\n   cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\n   CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\n   cTStrVal.setIdx(0);\n   cTStrVal.setV(&quot;Val&quot; + r);\n   cTBarSer.addNewIdx().setVal(r-1);\n\n   CTAxDataSource cttAxDataSource = cTBarSer.addNewCat();\n   cTStrRef = cttAxDataSource.addNewStrRef();\n   cTStrRef.setF(&quot;Sheet0!$B$1:$D$1&quot;);   \n   cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\n   for (int c = 1; c &lt; 4; c++) { \n    cTStrVal = cTStrRef.getStrCache().addNewPt();\n    cTStrVal.setIdx(c-1);\n    cTStrVal.setV(&quot;Cat&quot; + c);\n   }\n\n   CTNumDataSource ctNumDataSource = cTBarSer.addNewVal();\n   CTNumRef cTNumRef = ctNumDataSource.addNewNumRef();\n   cTNumRef.setF(&quot;Sheet0!$B$&quot; + (r+1) + &quot;:$D$&quot; + (r+1));\n   cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\n   for (int c = 1; c &lt; 4; c++) { \n    CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\n    cTNumVal.setIdx(c-1);\n    cTNumVal.setV(&quot;&quot; + ((10+r)*c));\n   }\n  } \n\n  //telling the BarChart that it has axes and giving them Ids\n  cTBarChart.addNewAxId().setVal(123456);\n  cTBarChart.addNewAxId().setVal(123457);\n\n  //cat axis\n  CTCatAx cTCatAx = cTPlotArea.addNewCatAx(); \n  cTCatAx.addNewAxId().setVal(123456); //id of the cat axis\n  CTScaling cTScaling = cTCatAx.addNewScaling();\n  cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\n  cTCatAx.addNewDelete().setVal(false);\n  cTCatAx.addNewAxPos().setVal(STAxPos.B);\n  cTCatAx.addNewCrossAx().setVal(123457); //id of the val axis\n  cTCatAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\n\n  //val axis\n  CTValAx cTValAx = cTPlotArea.addNewValAx(); \n  cTValAx.addNewAxId().setVal(123457); //id of the val axis\n  cTScaling = cTValAx.addNewScaling();\n  cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\n  cTValAx.addNewDelete().setVal(false);\n  cTValAx.addNewAxPos().setVal(STAxPos.L);\n  cTValAx.addNewCrossAx().setVal(123456); //id of the cat axis\n  cTValAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\n\n  //legend\n  CTLegend cTLegend = cTChart.addNewLegend();\n  cTLegend.addNewLegendPos().setVal(STLegendPos.B);\n  cTLegend.addNewOverlay().setVal(false);\n\n }\n\n\n public static void main(String[] args) throws Exception {\n  CreatePPTXChartsXSSFWb createPPTXCharts = new CreatePPTXChartsXSSFWb();\n }\n\n //a class for providing a MyXSLFChartShape\n private class MyXSLFChartShape {\n  private CTGraphicalObjectFrame _graphicalObjectFrame;\n  private XSLFSlide slide;\n  private MyXSLFChart myXSLFChart;\n\n  MyXSLFChartShape(XSLFSlide slide, MyXSLFChart myXSLFChart) throws Exception {\n\n   String rId = &quot;rId&quot; + (slide.getRelationParts().size()+1);\n   slide.addRelation(rId, XSLFRelation.CHART, myXSLFChart);\n\n   long cNvPrId = 1;\n   String cNvPrName = &quot;MyChart&quot;;\n   int cNvPrNameCount = 1;\n   for (CTGraphicalObjectFrame currGraphicalObjectFrame : slide.getXmlObject().getCSld().getSpTree().getGraphicFrameList()) {\n    if (currGraphicalObjectFrame.getNvGraphicFramePr() != null) {\n     if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr() != null) {\n      cNvPrId++;\n      if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr().getName().startsWith(cNvPrName)) {\n       cNvPrNameCount++;\n      }\n     }\n    }\n   }\n\n   CTGraphicalObjectFrame graphicalObjectFrame = slide.getXmlObject().getCSld().getSpTree().addNewGraphicFrame();\n   CTGraphicalObjectFrameNonVisual cTGraphicalObjectFrameNonVisual = graphicalObjectFrame.addNewNvGraphicFramePr();\n   cTGraphicalObjectFrameNonVisual.addNewCNvGraphicFramePr();\n   cTGraphicalObjectFrameNonVisual.addNewNvPr();\n\n   CTNonVisualDrawingProps cTNonVisualDrawingProps = cTGraphicalObjectFrameNonVisual.addNewCNvPr();\n   cTNonVisualDrawingProps.setId(cNvPrId);\n   cTNonVisualDrawingProps.setName(&quot;MyChart&quot; + cNvPrNameCount);\n\n   CTGraphicalObject graphicalObject = graphicalObjectFrame.addNewGraphic();\n   CTGraphicalObjectData graphicalObjectData = CTGraphicalObjectData.Factory.parse(\n     &quot;&lt;c:chart xmlns:c=\\&quot;http://schemas.openxmlformats.org/drawingml/2006/chart\\&quot; &quot;\n    +&quot;xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot; &quot;\n    +&quot;r:id=\\&quot;&quot; + rId + &quot;\\&quot;/&gt;&quot;\n   );\n   graphicalObjectData.setUri(&quot;http://schemas.openxmlformats.org/drawingml/2006/chart&quot;);\n   graphicalObject.setGraphicData(graphicalObjectData);\n\n   _graphicalObjectFrame = graphicalObjectFrame;\n   this.slide = slide;\n   this.myXSLFChart = myXSLFChart;\n\n   this.setAnchor(new Rectangle());\n  }\n\n  private void setAnchor(Rectangle2D anchor) {\n   CTTransform2D xfrm = (_graphicalObjectFrame.getXfrm() != null) ? _graphicalObjectFrame.getXfrm() : _graphicalObjectFrame.addNewXfrm();\n   CTPoint2D off = xfrm.isSetOff() ? xfrm.getOff() : xfrm.addNewOff();\n   long x = Units.toEMU(anchor.getX());\n   long y = Units.toEMU(anchor.getY());\n   off.setX(x);\n   off.setY(y);\n   CTPositiveSize2D ext = xfrm.isSetExt() ? xfrm.getExt() : xfrm.addNewExt();\n   long cx = Units.toEMU(anchor.getWidth());\n   long cy = Units.toEMU(anchor.getHeight());\n   ext.setCx(cx);\n   ext.setCy(cy);\n  }\n\n  private MyXSLFChart getMyXSLFChart() {\n   return myXSLFChart;\n  }\n }\n\n //a wrapper class for the ChartSpaceDocument /ppt/charts/chart*.xml in the *.pptx ZIP archive  \n private class MyXSLFChart extends POIXMLDocumentPart {\n\n  private CTChartSpace chartSpace;\n  private MyXSLFXSSFWorkbook myXSLFXSSFWorkbook;\n\n  private MyXSLFChart(PackagePart part) throws Exception {\n   super(part);\n\n   OPCPackage oPCPackage = part.getPackage();\n   int chartCount = oPCPackage.getPartsByName(Pattern.compile(&quot;/ppt/embeddings/.*.xlsx&quot;)).size() + 1;\n   PackagePartName partName = PackagingURIHelper.createPartName(&quot;/ppt/embeddings/Microsoft_Excel_Worksheet&quot; + chartCount + &quot;.xlsx&quot;);\n   PackagePart xlsxpart = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\n\n   myXSLFXSSFWorkbook = new MyXSLFXSSFWorkbook(xlsxpart);\n \n   String rId = &quot;rId&quot; + (this.getRelationParts().size()+1);\n   XSLFXSSFRelation xSLFXSSFRelationPACKAGE = new XSLFXSSFRelation(\n    &quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/package&quot;);\n\n   this.addRelation(rId, xSLFXSSFRelationPACKAGE, myXSLFXSSFWorkbook);\n\n   chartSpace = ChartSpaceDocument.Factory.newInstance().addNewChartSpace();\n   CTExternalData cTExternalData = chartSpace.addNewExternalData();\n   cTExternalData.setId(rId);\n   //cTExternalData.addNewAutoUpdate().setVal(true);\n  }\n\n  private CTChartSpace getChartSpace() {\n   return chartSpace;\n  }\n\n  private MyXSLFXSSFWorkbook getXSLFXSSFWorkbook() {\n   return myXSLFXSSFWorkbook;\n  }\n\n  @Override\n  protected void commit() throws IOException {\n   XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\n   xmlOptions.setSaveSyntheticDocumentElement(new QName(CTChartSpace.type.getName().getNamespaceURI(), &quot;chartSpace&quot;, &quot;c&quot;));\n   PackagePart part = getPackagePart();\n   OutputStream out = part.getOutputStream();\n   chartSpace.save(out, xmlOptions);\n   out.close();\n  }\n\n }\n\n //a wrapper class for the XSSFWorkbook /ppt/embeddings/Microsoft_Excel_Worksheet*.xlsx in the *.pptx ZIP archive  \n private class MyXSLFXSSFWorkbook extends POIXMLDocumentPart {\n\n  private XSSFWorkbook workbook;\n\n  private MyXSLFXSSFWorkbook(PackagePart part) throws Exception {\n   super(part);\n   workbook = new XSSFWorkbook();\n   XSSFSheet sheet = workbook.createSheet();\n  }\n\n  private XSSFWorkbook getXSSFWorkbook() {\n   return workbook;\n  }\n\n  @Override\n  protected void commit() throws IOException {\n   PackagePart part = getPackagePart();\n   OutputStream out = part.getOutputStream();\n   workbook.write(out);\n   workbook.close();\n   out.close();\n  }\n }\n\n //a class to note the relations\n private class XSLFXSSFRelation extends POIXMLRelation {\n  private XSLFXSSFRelation(String rel) {\n   super(null, rel, null);\n  }\n }\n} \n</code></pre>\n<hr />\n<p>Edit January 29 2019:</p>\n<p>Above code was working using <code>apache poi 3.16</code> up to <code>apache poi 3.17</code>.\nTo make it work using current <code>apache poi 4.0.1</code> the only need is changing the <code>import</code>s a little bit:</p>\n<pre><code>...\nimport org.apache.poi.openxml4j.opc.*;\n//import static org.apache.poi.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\nimport static org.apache.poi.ooxml.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\nimport org.apache.poi.ooxml.*;\n\nimport org.apache.xmlbeans.*;\n...\n</code></pre>\n<p>This is because the Office Open XML stuff now is in <code>org.apache.poi.ooxml.*</code>and not more in <code>org.apache.poi.*</code>.</p>\n<hr />\n<p>Edit August 2023:</p>\n<p>Current Apache POI versions (since Apache POI 4.1.0) provide <code>XDDF</code> for charts. Using this it is much simpler to create charts for PowerPoint.</p>\n<p>Example:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xslf.usermodel.*;\nimport org.apache.poi.util.Units;\nimport org.apache.poi.xddf.usermodel.*;\nimport org.apache.poi.xddf.usermodel.chart.*;\n\nimport java.awt.Rectangle;\n\npublic class CreatePowerPointXDDFChart {\n    \n public static void main(String[] args) throws Exception {\n  try (XMLSlideShow slideShow = new XMLSlideShow()) {\n   \n   // create a new empty slide\n   XSLFSlide slide = slideShow.createSlide();\n   \n   // create chart\n   XSLFChart chart = slideShow.createChart();\n   chart.setTitleText(&quot;Test Chart&quot;);\n   \n   // set axis\n   XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\n   XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\n   leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\n   leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\n\n   // define chart data for bar chart\n   XDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\n\n   // add chart categories (x-axis data)\n   String[] categories = new String[] { &quot;Category 1&quot;, &quot;Category 2&quot;, &quot;Category 3&quot; };\n   String categoryDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, categories.length, 0, 0));\n   XDDFCategoryDataSource categoryData = XDDFDataSourcesFactory.fromArray(categories, categoryDataRange, 0);\n\n   // add chart values (y-axis data)\n   Double[] values = new Double[] { 10.0, 20.0, 15.0 };\n   String valuesDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, values.length, 1, 1));\n   XDDFNumericalDataSource&lt;Double&gt; valueData = XDDFDataSourcesFactory.fromArray(values, valuesDataRange, 1);\n   XDDFBarChartData bar = (XDDFBarChartData) data;\n   bar.setBarDirection(BarDirection.BAR);\n\n   // add series\n   XDDFChartData.Series series = data.addSeries(categoryData, valueData);\n   series.setTitle(&quot;Series 1&quot;, chart.setSheetTitle(&quot;Series 1&quot;, 1));\n   \n   // plot chart\n   chart.plot(data);\n\n   // set chart dimensions !!Units are EMU (English Metric Units)!!\n   Rectangle chartDimensions = new Rectangle(\n    100*Units.EMU_PER_POINT, \n    50*Units.EMU_PER_POINT, \n    400*Units.EMU_PER_POINT, \n    400*Units.EMU_PER_POINT);\n   // add chart to slide\n   slide.addChart(chart, chartDimensions);\n\n   // Write the output to a file\n   try (FileOutputStream fileOut = new FileOutputStream(&quot;./CreatePowerPointXDDFChart.pptx&quot;)) {\n    slideShow.write(fileOut);\n   }\n  }\n }\n\n}\n</code></pre>\n<hr />\n<p>Edit September 2023:</p>\n<p>To make it work using Apache POI 4.1.2 and higher, one must repair incorrect number format settings.</p>\n<pre><code>...\n   //repair axes number format settings\n   if (bottomAxis.hasNumberFormat()) bottomAxis.setNumberFormat(&quot;@&quot;);\n   if (leftAxis.hasNumberFormat()) leftAxis.setNumberFormat(&quot;#,##0.00&quot;);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10138353,"reputation":597,"user_id":7488940,"accept_rate":60,"display_name":"Mahaveer Jangir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596795105,"creation_date":1596795105,"answer_id":63299681,"question_id":45373942,"body_markdown":"What about the `org.apache.poi.xslf.usermodel.XSLFChart` Object ? I am unable to find a direct createChart method in this Object. \r\n\r\nBut I am sure there must be something with this Object. Not much content available on stackoverflow on this.\r\n\r\nHas anyone created a chart using `org.apache.poi.xslf.usermodel.XSLFChart` in a pptx ? Grateful for the response.","title":"java create a chart in a powerpoint using APACHE POI","body":"<p>What about the <code>org.apache.poi.xslf.usermodel.XSLFChart</code> Object ? I am unable to find a direct createChart method in this Object.</p>\n<p>But I am sure there must be something with this Object. Not much content available on stackoverflow on this.</p>\n<p>Has anyone created a chart using <code>org.apache.poi.xslf.usermodel.XSLFChart</code> in a pptx ? Grateful for the response.</p>\n"}],"owner":{"account_id":3927597,"reputation":215,"user_id":3247376,"accept_rate":50,"display_name":"user3247376"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7267,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45374730,"answer_count":2,"score":5,"last_activity_date":1695133834,"creation_date":1501246010,"question_id":45373942,"body_markdown":"How do we create a chart in a ppt in java using apache poi.\r\nWhich POI API do we use.\r\nBelow is code I am using to create a text box\r\n \r\n    XSLFSlide slide = pptx.createSlide();\r\n    XSLFTextShape textShape = slide.createTextBox();\r\n    textShape.setText(data);\r\n\r\nThe slide object doesnt contain any api for creating a chart.\r\n\r\nAny solution to this?\r\n\r\nThanks in advance","title":"java create a chart in a powerpoint using APACHE POI","body":"<p>How do we create a chart in a ppt in java using apache poi.\nWhich POI API do we use.\nBelow is code I am using to create a text box</p>\n\n<pre><code>XSLFSlide slide = pptx.createSlide();\nXSLFTextShape textShape = slide.createTextBox();\ntextShape.setText(data);\n</code></pre>\n\n<p>The slide object doesnt contain any api for creating a chart.</p>\n\n<p>Any solution to this?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","apache-poi","docx"],"answers":[{"tags":[],"owner":{"account_id":3300755,"reputation":3796,"user_id":2777005,"display_name":"Levenal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1386230344,"creation_date":1386076495,"answer_id":20352216,"question_id":20351810,"body_markdown":"Are you able to use a character run to insert a \\t character?  I haven&#39;t tested this but it should work as follows:\r\n\r\n          XWPFDocument newDoc = new XWPFDocument(); //Doc to write new doc to\r\n\t\t  XWPFParagraph para = newDoc.createParagraph(); //Paragraph\r\n   \t\t  XWPFRun run = para.createRun();  //Where the text will be written from\r\n          run.setText(&quot;\\t&quot;);\r\n\r\n**EDIT** \r\n\r\n   The alternative is to &#39;simulate&#39; the tab yourself, I have tested this bit and it does work:\r\n\r\n    run.setText(&quot;     &quot;);","title":"Creating tab spaces in word document using Apache POI","body":"<p>Are you able to use a character run to insert a \\t character?  I haven't tested this but it should work as follows:</p>\n\n<pre><code>      XWPFDocument newDoc = new XWPFDocument(); //Doc to write new doc to\n      XWPFParagraph para = newDoc.createParagraph(); //Paragraph\n      XWPFRun run = para.createRun();  //Where the text will be written from\n      run.setText(\"\\t\");\n</code></pre>\n\n<p><strong>EDIT</strong> </p>\n\n<p>The alternative is to 'simulate' the tab yourself, I have tested this bit and it does work:</p>\n\n<pre><code>run.setText(\"     \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4210572,"reputation":1,"user_id":3448398,"display_name":"Professor Hyperion"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1539867233,"creation_date":1401737631,"answer_id":24001890,"question_id":20351810,"body_markdown":"You have to add the first part of the text to your `run`, then call `run.addTab();` and finally add the text which comes after the tab.","title":"Creating tab spaces in word document using Apache POI","body":"<p>You have to add the first part of the text to your <code>run</code>, then call <code>run.addTab();</code> and finally add the text which comes after the tab.</p>\n"},{"tags":[],"owner":{"account_id":3224329,"reputation":101,"user_id":2721026,"display_name":"mashiguang"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1404810200,"creation_date":1404810200,"answer_id":24627759,"question_id":20351810,"body_markdown":"    CTR ctr = run.getCTR();\r\n    ctr.addNewTab();\r\n    run.setText(&quot;abcd&quot;);\r\ni tested.","title":"Creating tab spaces in word document using Apache POI","body":"<pre><code>CTR ctr = run.getCTR();\nctr.addNewTab();\nrun.setText(\"abcd\");\n</code></pre>\n\n<p>i tested.</p>\n"},{"tags":[],"owner":{"account_id":7172787,"reputation":363,"user_id":5479762,"accept_rate":67,"display_name":"Morticia A. Addams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539867156,"creation_date":1473753703,"answer_id":39464983,"question_id":20351810,"body_markdown":"https://poi.apache.org/apidocs/org/apache/poi/xwpf/usermodel/XWPFRun.html#addTab() \r\n\r\n    XWPFDocument newDoc = new XWPFDocument(); //Doc to write new doc to\r\n    XWPFParagraph para = newDoc.createParagraph(); //Paragraph\r\n    XWPFRun run = para.createRun();  //Where the text will be written from\r\n    run.addTab()//Add tab and after that you can set text.\r\n    run.setText(&quot;Your text here...&quot;);\r\n\r\nIf you want to have [*text **tab** text*] just create two runs then add `addTab()` after `setText()` first or before `setText()` second","title":"Creating tab spaces in word document using Apache POI","body":"<p><a href=\"https://poi.apache.org/apidocs/org/apache/poi/xwpf/usermodel/XWPFRun.html#addTab()\" rel=\"nofollow noreferrer\">https://poi.apache.org/apidocs/org/apache/poi/xwpf/usermodel/XWPFRun.html#addTab()</a> </p>\n\n<pre><code>XWPFDocument newDoc = new XWPFDocument(); //Doc to write new doc to\nXWPFParagraph para = newDoc.createParagraph(); //Paragraph\nXWPFRun run = para.createRun();  //Where the text will be written from\nrun.addTab()//Add tab and after that you can set text.\nrun.setText(\"Your text here...\");\n</code></pre>\n\n<p>If you want to have [<em>text <strong>tab</strong> text</em>] just create two runs then add <code>addTab()</code> after <code>setText()</code> first or before <code>setText()</code> second</p>\n"}],"owner":{"account_id":2795866,"reputation":2091,"user_id":2416228,"accept_rate":85,"display_name":"MaheshVarma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8585,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20352216,"answer_count":4,"score":2,"last_activity_date":1695133532,"creation_date":1386075289,"question_id":20351810,"body_markdown":"I am using Apche POI to create MS Word documents(.docx format). I am able to create custom spaces among lines of text. Is there any class that is used to **create tab spaces in word** documents?","title":"Creating tab spaces in word document using Apache POI","body":"<p>I am using Apche POI to create MS Word documents(.docx format). I am able to create custom spaces among lines of text. Is there any class that is used to <strong>create tab spaces in word</strong> documents?</p>\n"},{"tags":["java","http","io","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":1,"creation_date":1694667463,"post_id":77101309,"comment_id":135921930,"body_markdown":"First of all, you should almost certainly **not** be returning a `Uni&lt;Response&gt;` but instead just use `Response` (or `RestResponse` which supports generics). \n\nSecond, you should be able to just use the `InputStream` you got from Minio in `.ok()` and return that","body":"First of all, you should almost certainly <b>not</b> be returning a <code>Uni&lt;Response&gt;</code> but instead just use <code>Response</code> (or <code>RestResponse</code> which supports generics).   Second, you should be able to just use the <code>InputStream</code> you got from Minio in <code>.ok()</code> and return that"},{"owner":{"account_id":29436476,"reputation":3,"user_id":22555215,"display_name":"commonBoy"},"score":0,"creation_date":1695107549,"post_id":77101309,"comment_id":135976165,"body_markdown":"I tried, but it returned an empty file.","body":"I tried, but it returned an empty file."}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695133292,"creation_date":1695132919,"answer_id":77135360,"question_id":77101309,"body_markdown":"Do something like this:\r\n\r\n    @GET\r\n    @Path(&quot;/download&quot;)\r\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n    public Response download1(@RestQuery String fileName, @Context Closer closer) {\r\n        var stat = minioService.statObject(fileName);\r\n        GetObjectArgs getObjectArgs = GetObjectArgs.builder()\r\n                .bucket(&quot;test1&quot;)\r\n                .object(fileName)\r\n                .build();\r\n\r\n        InputStream inputStream;\r\n        try {\r\n            inputStream =  minioClient.getObject(getObjectArgs);\r\n            closer.add(inputStream);\r\n            Response.ResponseBuilder builder = Response.ok(inputStream);\r\n            builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\r\n            builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\r\n            return builder.build();\r\n        } catch (Exception e) {\r\n            if (inputStream != null) {\r\n               try {\r\n                  inputStream.close();\r\n               } catch (Exception ignored) {}\r\n            }\r\n            LOGGER.error(&quot;exception&quot;, e);\r\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();\r\n        }\r\n    }\r\n\r\nThe reason is that you don&#39;t want to close the InputStream in the JAX-RS method","title":"how to avoid oom when direct return InputStream using quarkus","body":"<p>Do something like this:</p>\n<pre><code>@GET\n@Path(&quot;/download&quot;)\n@Produces(MediaType.APPLICATION_OCTET_STREAM)\npublic Response download1(@RestQuery String fileName, @Context Closer closer) {\n    var stat = minioService.statObject(fileName);\n    GetObjectArgs getObjectArgs = GetObjectArgs.builder()\n            .bucket(&quot;test1&quot;)\n            .object(fileName)\n            .build();\n\n    InputStream inputStream;\n    try {\n        inputStream =  minioClient.getObject(getObjectArgs);\n        closer.add(inputStream);\n        Response.ResponseBuilder builder = Response.ok(inputStream);\n        builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\n        builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\n        return builder.build();\n    } catch (Exception e) {\n        if (inputStream != null) {\n           try {\n              inputStream.close();\n           } catch (Exception ignored) {}\n        }\n        LOGGER.error(&quot;exception&quot;, e);\n        return Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();\n    }\n}\n</code></pre>\n<p>The reason is that you don't want to close the InputStream in the JAX-RS method</p>\n"}],"owner":{"account_id":29436476,"reputation":3,"user_id":22555215,"display_name":"commonBoy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77135360,"answer_count":1,"score":0,"last_activity_date":1695133292,"creation_date":1694655400,"question_id":77101309,"body_markdown":"First, I obtained the target file to be downloaded through Minio like this.\r\n\r\n```java\r\npublic GetObjectResponse getFile(String bucket, String object) {\r\n        validateEnableMinio();\r\n        try {\r\n            GetObjectArgs getObjectArgs = GetObjectArgs.builder()\r\n                    .bucket(bucket)\r\n                    .object(object)\r\n                    .build();\r\n            return minioClient.getObject(getObjectArgs);\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;minio exception&quot;, e);\r\n            throw new RuntimeException(&quot;get file error&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nGetObjectResponse is extends FilterInputStream. So I thought of using the Response class to return a BufferedInputStream class to avoid load all bytes in memory.\r\n\r\n```java\r\n @GET\r\n    @Path(&quot;/download&quot;)\r\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n    public Uni&lt;Response&gt; download1(@RestQuery String fileName) {\r\n        var stat = minioService.statObject(fileName);\r\n        try (GetObjectResponse getObjectResponse =  minioService.getFile(fileName)) {\r\n            BufferedInputStream bufferedInputStream = new BufferedInputStream(getObjectResponse);\r\n            Response.ResponseBuilder builder = Response.ok(bufferedInputStream);\r\n            builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\r\n            builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\r\n            return Uni.createFrom().item(builder.build());\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;error&quot;, e);\r\n            return Uni.createFrom().item(Response.status(Response.Status.INTERNAL_SERVER_ERROR).build()) ;\r\n        }\r\n    }\r\n```\r\n\r\nbut i download a empty file with 0 bytes.\r\n\r\n[enter image description here][1]\r\n\r\ni can download full file with code like this: but use readAllBytes() method\r\n\r\n```java\r\n@GET\r\n    @Path(&quot;/download&quot;)\r\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n    public Uni&lt;Response&gt; download1(@RestQuery String fileName) {\r\n        var stat = minioService.statObject(fileName);\r\n        try (GetObjectResponse getObjectResponse =  minioService.getFile(fileName)) {\r\n            BufferedInputStream bufferedInputStream = new BufferedInputStream(getObjectResponse);\r\n            Response.ResponseBuilder builder = Response.ok(bufferedInputStream.readAllBytes());\r\n            builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\r\n            builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\r\n            return Uni.createFrom().item(builder.build());\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;error&quot;, e);\r\n            return Uni.createFrom().item(Response.status(Response.Status.INTERNAL_SERVER_ERROR).build()) ;\r\n        }\r\n    }\r\n```\r\n\r\nSo, I changed my approach and tried to download a local file directly instead of the file stream returned through HTTP.\r\n\r\n```java\r\n@GET\r\n    @Path(&quot;/download1&quot;)\r\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n    public Uni&lt;Response&gt; downloadFile() {\r\n        String filePath = &quot;D:\\\\xxx\\\\settings.xml&quot;; // 替换为实际文件路径\r\n\r\n        File file = new File(filePath);\r\n\r\n        if (!file.exists() || !file.isFile()) {\r\n            return Uni.createFrom().item(Response.status(Response.Status.NOT_FOUND).build());\r\n        }\r\n\r\n        try {\r\n            InputStream is = new BufferedInputStream(new FileInputStream(file));\r\n\r\n            return Uni.createFrom().item(Response.ok(is)\r\n                    .header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + file.getName())\r\n                    .build());\r\n        } catch (IOException e) {\r\n            return Uni.createFrom().item(Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(&quot;error&quot;).build());\r\n        }\r\n    }\r\n```\r\n\r\nIt works perfectly.\r\n\r\nThe first solution that came to my mind was to write the InputStream returned by HTTP to a local file, and then return the stream of the local file.\r\n\r\nHowever, how can I directly return the InputStream to the front-end without using file transfer as an intermediary?\r\n\r\n## follow-up\r\nI try return Response.ok with inputstream,but it still not work.it still return 0 bytes file\r\n\r\n```java\r\n@GET\r\n    @Path(&quot;/download&quot;)\r\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n    public Response download1(@RestQuery String fileName) {\r\n        var stat = minioService.statObject(fileName);\r\n        GetObjectArgs getObjectArgs = GetObjectArgs.builder()\r\n                .bucket(&quot;test1&quot;)\r\n                .object(fileName)\r\n                .build();\r\n        try (InputStream inputStream =  minioClient.getObject(getObjectArgs)) {\r\n            Response.ResponseBuilder builder = Response.ok(inputStream);\r\n            builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\r\n            builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\r\n            return builder.build();\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;exception&quot;, e);\r\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UH8sy.png","title":"how to avoid oom when direct return InputStream using quarkus","body":"<p>First, I obtained the target file to be downloaded through Minio like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public GetObjectResponse getFile(String bucket, String object) {\n        validateEnableMinio();\n        try {\n            GetObjectArgs getObjectArgs = GetObjectArgs.builder()\n                    .bucket(bucket)\n                    .object(object)\n                    .build();\n            return minioClient.getObject(getObjectArgs);\n        } catch (Exception e) {\n            LOGGER.error(&quot;minio exception&quot;, e);\n            throw new RuntimeException(&quot;get file error&quot;);\n        }\n    }\n</code></pre>\n<p>GetObjectResponse is extends FilterInputStream. So I thought of using the Response class to return a BufferedInputStream class to avoid load all bytes in memory.</p>\n<pre class=\"lang-java prettyprint-override\"><code> @GET\n    @Path(&quot;/download&quot;)\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\n    public Uni&lt;Response&gt; download1(@RestQuery String fileName) {\n        var stat = minioService.statObject(fileName);\n        try (GetObjectResponse getObjectResponse =  minioService.getFile(fileName)) {\n            BufferedInputStream bufferedInputStream = new BufferedInputStream(getObjectResponse);\n            Response.ResponseBuilder builder = Response.ok(bufferedInputStream);\n            builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\n            builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\n            return Uni.createFrom().item(builder.build());\n        } catch (Exception e) {\n            LOGGER.error(&quot;error&quot;, e);\n            return Uni.createFrom().item(Response.status(Response.Status.INTERNAL_SERVER_ERROR).build()) ;\n        }\n    }\n</code></pre>\n<p>but i download a empty file with 0 bytes.</p>\n<p><a href=\"https://i.stack.imgur.com/UH8sy.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i can download full file with code like this: but use readAllBytes() method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n    @Path(&quot;/download&quot;)\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\n    public Uni&lt;Response&gt; download1(@RestQuery String fileName) {\n        var stat = minioService.statObject(fileName);\n        try (GetObjectResponse getObjectResponse =  minioService.getFile(fileName)) {\n            BufferedInputStream bufferedInputStream = new BufferedInputStream(getObjectResponse);\n            Response.ResponseBuilder builder = Response.ok(bufferedInputStream.readAllBytes());\n            builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\n            builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\n            return Uni.createFrom().item(builder.build());\n        } catch (Exception e) {\n            LOGGER.error(&quot;error&quot;, e);\n            return Uni.createFrom().item(Response.status(Response.Status.INTERNAL_SERVER_ERROR).build()) ;\n        }\n    }\n</code></pre>\n<p>So, I changed my approach and tried to download a local file directly instead of the file stream returned through HTTP.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n    @Path(&quot;/download1&quot;)\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\n    public Uni&lt;Response&gt; downloadFile() {\n        String filePath = &quot;D:\\\\xxx\\\\settings.xml&quot;; // 替换为实际文件路径\n\n        File file = new File(filePath);\n\n        if (!file.exists() || !file.isFile()) {\n            return Uni.createFrom().item(Response.status(Response.Status.NOT_FOUND).build());\n        }\n\n        try {\n            InputStream is = new BufferedInputStream(new FileInputStream(file));\n\n            return Uni.createFrom().item(Response.ok(is)\n                    .header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + file.getName())\n                    .build());\n        } catch (IOException e) {\n            return Uni.createFrom().item(Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(&quot;error&quot;).build());\n        }\n    }\n</code></pre>\n<p>It works perfectly.</p>\n<p>The first solution that came to my mind was to write the InputStream returned by HTTP to a local file, and then return the stream of the local file.</p>\n<p>However, how can I directly return the InputStream to the front-end without using file transfer as an intermediary?</p>\n<h2>follow-up</h2>\n<p>I try return Response.ok with inputstream,but it still not work.it still return 0 bytes file</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n    @Path(&quot;/download&quot;)\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\n    public Response download1(@RestQuery String fileName) {\n        var stat = minioService.statObject(fileName);\n        GetObjectArgs getObjectArgs = GetObjectArgs.builder()\n                .bucket(&quot;test1&quot;)\n                .object(fileName)\n                .build();\n        try (InputStream inputStream =  minioClient.getObject(getObjectArgs)) {\n            Response.ResponseBuilder builder = Response.ok(inputStream);\n            builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\n            builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\n            return builder.build();\n        } catch (Exception e) {\n            LOGGER.error(&quot;exception&quot;, e);\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();\n        }\n    }\n</code></pre>\n"},{"tags":["java","postman","encoder"],"comments":[{"owner":{"account_id":9132670,"reputation":18589,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1611265290,"post_id":65834997,"comment_id":116403103,"body_markdown":"the code is from postman or your api?","body":"the code is from postman or your api?"},{"owner":{"account_id":17852666,"reputation":21,"user_id":12968073,"display_name":"Sand"},"score":0,"creation_date":1611297742,"post_id":65834997,"comment_id":116410599,"body_markdown":"Code - my api on java","body":"Code - my api on java"},{"owner":{"account_id":9132670,"reputation":18589,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1611300346,"post_id":65834997,"comment_id":116411428,"body_markdown":"could you add relevant postman and chrome screen shot to show the different the file name shown is actual url encoded value of русский.docx ,","body":"could you add relevant postman and chrome screen shot to show the different the file name shown is actual url encoded value of русский.docx ,"},{"owner":{"account_id":3510378,"reputation":1249,"user_id":2934838,"accept_rate":88,"display_name":"Edward"},"score":0,"creation_date":1698057956,"post_id":65834997,"comment_id":136352609,"body_markdown":"hello, do you solve this problem,i occur this too.","body":"hello, do you solve this problem,i occur this too."}],"owner":{"account_id":17852666,"reputation":21,"user_id":12968073,"display_name":"Sand"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695133098,"creation_date":1611259585,"question_id":65834997,"body_markdown":"My API have file download controller, file name on cyrillic. In Postman Send and Download give me file name like: \r\n\r\n%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9.docx \r\n\r\nWhen i send request in chrome i get right file name on cyrillic like:\r\n\r\nрусский.docx \r\n\r\nCorresponding line of my api java code:\r\n\r\n    response.setHeader(&quot;Content-Disposition&quot;,&quot;attachment; filename=&quot; + URLEncoder.encode(fileName, StandardCharsets.UTF_8));\r\n\r\nHow get right file name on cyrillic in Postman?\r\n\r\nIn Crome i have\r\n\r\n[![enter image description here][1]][1]\r\n\r\nafter request file automatically downloaded\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIn Postman\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ku5WB.jpg\r\n  [2]: https://i.stack.imgur.com/wfyt4.jpg\r\n  [3]: https://i.stack.imgur.com/YVLFH.png","title":"get encoder file name in postman","body":"<p>My API have file download controller, file name on cyrillic. In Postman Send and Download give me file name like:</p>\n<p>%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9.docx</p>\n<p>When i send request in chrome i get right file name on cyrillic like:</p>\n<p>русский.docx</p>\n<p>Corresponding line of my api java code:</p>\n<pre><code>response.setHeader(&quot;Content-Disposition&quot;,&quot;attachment; filename=&quot; + URLEncoder.encode(fileName, StandardCharsets.UTF_8));\n</code></pre>\n<p>How get right file name on cyrillic in Postman?</p>\n<p>In Crome i have</p>\n<p><a href=\"https://i.stack.imgur.com/ku5WB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ku5WB.jpg\" alt=\"enter image description here\" /></a></p>\n<p>after request file automatically downloaded</p>\n<p><a href=\"https://i.stack.imgur.com/wfyt4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wfyt4.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In Postman\n<a href=\"https://i.stack.imgur.com/YVLFH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YVLFH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","docker","java-11","testcontainers","testcontainers-junit5"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1620833199,"post_id":67506190,"comment_id":119319439,"body_markdown":"There should be some other previous log messages before that stacktrace, please check them, the reason should be there.","body":"There should be some other previous log messages before that stacktrace, please check them, the reason should be there."},{"owner":{"account_id":20713103,"reputation":356,"user_id":15209268,"display_name":"Oded"},"score":0,"creation_date":1620833625,"post_id":67506190,"comment_id":119319644,"body_markdown":"Hi Vitaly, thanks for your comment. I edited the post, added the logs previous to the error.","body":"Hi Vitaly, thanks for your comment. I edited the post, added the logs previous to the error."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1620843908,"post_id":67506190,"comment_id":119324246,"body_markdown":"`org.testcontainers.dockerclient.DockerClientProviderStrategy - UnixSocketClientProviderStrategy: failed with exception NoClassDefFoundError (Could not initialize class org.testcontainers.shaded.com.github.dockerjava.core.DefaultObjectMapperHolder`","body":"<code>org.testcontainers.dockerclient.DockerClientProviderStrategy - UnixSocketClientProviderStrategy: failed with exception NoClassDefFoundError (Could not initialize class org.testcontainers.shaded.com.github.dockerjava.core.Default&zwnj;&#8203;ObjectMapperHolder</code>"}],"answers":[{"tags":[],"owner":{"account_id":20713103,"reputation":356,"user_id":15209268,"display_name":"Oded"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620900018,"creation_date":1620900018,"answer_id":67517293,"question_id":67506190,"body_markdown":"I added the following dependency to the pom.xml:\r\n\r\n&gt;     &lt;dependency&gt;\r\n&gt;      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n&gt;      &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n&gt;      &lt;version&gt;2.10.5&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n\r\nThis package has the missing class:\r\n\r\n&gt; DefaultObjectMapperHolder","title":"java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration","body":"<p>I added the following dependency to the pom.xml:</p>\n<blockquote>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n &lt;version&gt;2.10.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<p>This package has the missing class:</p>\n<blockquote>\n<p>DefaultObjectMapperHolder</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":121925,"reputation":2229,"user_id":315385,"display_name":"xilef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645695652,"creation_date":1645695652,"answer_id":71249943,"question_id":67506190,"body_markdown":"I got a similar exception when using rancher desktop. To check if docker was running okay I ran\r\n\r\n    $ docker compose ls\r\n    Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?\r\n\r\nWith this information, I concluded that there was an issue with the rancher desktop docker environment.\r\nOn restarting rancher desktop, the error went away.\r\n\r\n","title":"java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration","body":"<p>I got a similar exception when using rancher desktop. To check if docker was running okay I ran</p>\n<pre><code>$ docker compose ls\nCannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?\n</code></pre>\n<p>With this information, I concluded that there was an issue with the rancher desktop docker environment.\nOn restarting rancher desktop, the error went away.</p>\n"},{"tags":[],"owner":{"account_id":26629536,"reputation":21,"user_id":20246928,"display_name":"Nikita Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675410102,"creation_date":1675410102,"answer_id":75332782,"question_id":67506190,"body_markdown":"I got the same issue. Start the docker desktop application in background.","title":"java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration","body":"<p>I got the same issue. Start the docker desktop application in background.</p>\n"},{"tags":[],"owner":{"account_id":16004817,"reputation":11,"user_id":11550584,"display_name":"Donniie"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695132898,"creation_date":1695132898,"answer_id":77135359,"question_id":67506190,"body_markdown":"For MacOs, I downloaded docker desktop and ran it. https://docs.docker.com/desktop/install/mac-install/\r\n\r\nWhen I ran the test, it worked fine.","title":"java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration","body":"<p>For MacOs, I downloaded docker desktop and ran it. <a href=\"https://docs.docker.com/desktop/install/mac-install/\" rel=\"nofollow noreferrer\">https://docs.docker.com/desktop/install/mac-install/</a></p>\n<p>When I ran the test, it worked fine.</p>\n"}],"owner":{"account_id":20713103,"reputation":356,"user_id":15209268,"display_name":"Oded"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22735,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1695132898,"creation_date":1620831723,"question_id":67506190,"body_markdown":"I have a docker image called myImageName:latest, which I use in my application.\r\nI want to write an integration test for my application, therefore I want to use the TestContainer package. When I run the following simple test:\r\n\r\n    @Testcontainers\r\n    public class myIntegrationTest{\r\n\r\n        @Container\r\n        private GenericContainer container =\r\n        new GenericContainer&lt;&gt;(DockerImageName.parse(&quot;myImageName:latest&quot;))\r\n        .withExposedPorts(8080);\r\n\r\n        \r\n        @Test\r\n        public void myIntegrationTestName() throws Exception{\r\n            assertTrue(container.isRunning());\r\n        }\r\n\r\n    }\r\n\r\nI get the following error (full stacktrace):\r\n\r\n&gt; 18:30:58.741 [main] ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy - Could not find a valid Docker environment. Please check configuration. Attempted configurations were:\r\n2\r\n18:30:58.746 [main] ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy -     UnixSocketClientProviderStrategy: failed with exception NoClassDefFoundError (Could not initialize class org.testcontainers.shaded.com.github.dockerjava.core.DefaultObjectMapperHolder)\r\n18:30:58.747 [main] ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy - As no valid configuration was found, execution cannot continue\r\n\r\n&gt; \r\n&gt; java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\r\n\tat org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$7(DockerClientProviderStrategy.java:215)\r\n\tat java.base/java.util.Optional.orElseThrow(Optional.java:408)\r\n\tat org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:207)\r\n\tat org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:136)\r\n\tat org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:178)\r\n\tat org.testcontainers.LazyDockerClient.getDockerClient(LazyDockerClient.java:14)\r\n\tat org.testcontainers.LazyDockerClient.authConfig(LazyDockerClient.java:12)\r\n\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:310)\r\n\tat org.testcontainers.junit.jupiter.TestcontainersExtension$StoreAdapter.start(TestcontainersExtension.java:242)\r\n\tat org.testcontainers.junit.jupiter.TestcontainersExtension$StoreAdapter.access$200(TestcontainersExtension.java:229)\r\n\tat org.testcontainers.junit.jupiter.TestcontainersExtension.lambda$null$4(TestcontainersExtension.java:82)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$getOrComputeIfAbsent$4(ExtensionValuesStore.java:86)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.get(ExtensionValuesStore.java:205)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.evaluate(ExtensionValuesStore.java:182)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.access$100(ExtensionValuesStore.java:171)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$closeAllStoredCloseableValues$1(ExtensionValuesStore.java:65)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:176)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap$ValueSpliterator.forEachRemaining(ConcurrentHashMap.java:3605)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore.closeAllStoredCloseableValues(ExtensionValuesStore.java:68)\r\n\tat org.junit.jupiter.engine.descriptor.AbstractExtensionContext.close(AbstractExtensionContext.java:74)\r\n\tat org.junit.jupiter.engine.execution.JupiterEngineExecutionContext.close(JupiterEngineExecutionContext.java:53)\r\n\tat org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.cleanUp(JupiterTestDescriptor.java:222)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.cleanUp(TestMethodTestDescriptor.java:148)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.cleanUp(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$cleanUp$9(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.cleanUp(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:87)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\n \r\n\r\n- docker v20.10.5 \r\n - junit v5.7\r\n - TestContainer v1.15.3\r\n - jdk v11.0.10\r\n\r\n\r\nThank you in advance!\r\n","title":"java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration","body":"<p>I have a docker image called myImageName:latest, which I use in my application.\nI want to write an integration test for my application, therefore I want to use the TestContainer package. When I run the following simple test:</p>\n<pre><code>@Testcontainers\npublic class myIntegrationTest{\n\n    @Container\n    private GenericContainer container =\n    new GenericContainer&lt;&gt;(DockerImageName.parse(&quot;myImageName:latest&quot;))\n    .withExposedPorts(8080);\n\n    \n    @Test\n    public void myIntegrationTestName() throws Exception{\n        assertTrue(container.isRunning());\n    }\n\n}\n</code></pre>\n<p>I get the following error (full stacktrace):</p>\n<blockquote>\n<p>18:30:58.741 [main] ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy - Could not find a valid Docker environment. Please check configuration. Attempted configurations were:\n2\n18:30:58.746 [main] ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy -     UnixSocketClientProviderStrategy: failed with exception NoClassDefFoundError (Could not initialize class org.testcontainers.shaded.com.github.dockerjava.core.DefaultObjectMapperHolder)\n18:30:58.747 [main] ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy - As no valid configuration was found, execution cannot continue</p>\n</blockquote>\n<blockquote>\n<p>java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\nat org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$7(DockerClientProviderStrategy.java:215)\nat java.base/java.util.Optional.orElseThrow(Optional.java:408)\nat org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:207)\nat org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:136)\nat org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:178)\nat org.testcontainers.LazyDockerClient.getDockerClient(LazyDockerClient.java:14)\nat org.testcontainers.LazyDockerClient.authConfig(LazyDockerClient.java:12)\nat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:310)\nat org.testcontainers.junit.jupiter.TestcontainersExtension$StoreAdapter.start(TestcontainersExtension.java:242)\nat org.testcontainers.junit.jupiter.TestcontainersExtension$StoreAdapter.access$200(TestcontainersExtension.java:229)\nat org.testcontainers.junit.jupiter.TestcontainersExtension.lambda$null$4(TestcontainersExtension.java:82)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$getOrComputeIfAbsent$4(ExtensionValuesStore.java:86)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.get(ExtensionValuesStore.java:205)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.evaluate(ExtensionValuesStore.java:182)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.access$100(ExtensionValuesStore.java:171)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$closeAllStoredCloseableValues$1(ExtensionValuesStore.java:65)\nat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:176)\nat java.base/java.util.concurrent.ConcurrentHashMap$ValueSpliterator.forEachRemaining(ConcurrentHashMap.java:3605)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\nat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\nat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore.closeAllStoredCloseableValues(ExtensionValuesStore.java:68)\nat org.junit.jupiter.engine.descriptor.AbstractExtensionContext.close(AbstractExtensionContext.java:74)\nat org.junit.jupiter.engine.execution.JupiterEngineExecutionContext.close(JupiterEngineExecutionContext.java:53)\nat org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.cleanUp(JupiterTestDescriptor.java:222)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.cleanUp(TestMethodTestDescriptor.java:148)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.cleanUp(TestMethodTestDescriptor.java:65)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$cleanUp$9(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.cleanUp(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:87)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\nat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)</p>\n</blockquote>\n<ul>\n<li>docker v20.10.5</li>\n<li>junit v5.7</li>\n<li>TestContainer v1.15.3</li>\n<li>jdk v11.0.10</li>\n</ul>\n<p>Thank you in advance!</p>\n"},{"tags":["java","csv","opencsv"],"comments":[{"owner":{"account_id":3228322,"reputation":2343,"user_id":2724125,"accept_rate":80,"display_name":"Amit G"},"score":0,"creation_date":1692500549,"post_id":46072947,"comment_id":135631047,"body_markdown":"Better related answers here - https://stackoverflow.com/questions/45203867/opencsv-how-to-create-csv-file-from-pojo-with-custom-column-headers-and-custom","body":"Better related answers here - <a href=\"https://stackoverflow.com/questions/45203867/opencsv-how-to-create-csv-file-from-pojo-with-custom-column-headers-and-custom\" title=\"opencsv how to create csv file from pojo with custom column headers and custom\">stackoverflow.com/questions/45203867/&hellip;</a>"},{"owner":{"account_id":3228322,"reputation":2343,"user_id":2724125,"accept_rate":80,"display_name":"Amit G"},"score":0,"creation_date":1692500574,"post_id":46072947,"comment_id":135631051,"body_markdown":"Does this answer your question? [OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?](https://stackoverflow.com/questions/45203867/opencsv-how-to-create-csv-file-from-pojo-with-custom-column-headers-and-custom)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/45203867/opencsv-how-to-create-csv-file-from-pojo-with-custom-column-headers-and-custom\">OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1504705368,"creation_date":1504695775,"answer_id":46073537,"question_id":46072947,"body_markdown":"ColumnPositionMappingStrategy#generateHeader returns empty array\n\n\n    /**\n     * This method returns an empty array.\n     * The column position mapping strategy assumes that there is no header, and\n     * thus it also does not write one, accordingly.\n     * @return An empty array\n     */\n    @Override\n    public String[] generateHeader() {\n        return new String[0];\n    }\n\n\nIf you remove MappingStrategy from BeanToCsv builder\n\n    \n\n    // replace \n    StatefulBeanToCsv&lt;Product&gt; beanWriter = builder.withMappingStrategy(mappingStrategy).build();\n    // with\n    StatefulBeanToCsv&lt;Product&gt; beanWriter = builder.build(); \n    \n\nIt will write Product&#39;s class members as CSV header\n\nIf your Product class members names are \n\n    &quot;productCode&quot;, &quot;MFD&quot;, &quot;EXD&quot;\n\nThis should be the right solution\n\nElse, add @CsvBindByName annotation\n\n\n\n    import com.opencsv.bean.CsvBindByName;\n    import com.opencsv.bean.StatefulBeanToCsv;\n    import com.opencsv.bean.StatefulBeanToCsvBuilder;\n    \n    import java.io.FileWriter;\n    import java.io.Writer;\n    import java.util.ArrayList;\n    import java.util.List;\n    \n    public class CsvTest {\n    \n        public static void main(String[] args) throws Exception {\n            Writer writer = new FileWriter(fileName);\n    \n            StatefulBeanToCsvBuilder&lt;Product&gt; builder = new StatefulBeanToCsvBuilder&lt;&gt;(writer);\n            StatefulBeanToCsv&lt;Product&gt; beanWriter = builder.build();\n    \n            List&lt;Product&gt; products = new ArrayList&lt;&gt;();\n            products.add(new Product(&quot;1&quot;, &quot;11&quot;, &quot;111&quot;));\n            products.add(new Product(&quot;2&quot;, &quot;22&quot;, &quot;222&quot;));\n            products.add(new Product(&quot;3&quot;, &quot;33&quot;, &quot;333&quot;));\n            beanWriter.write(products);\n            writer.close();\n        }\n    \n        public static class Product {\n            @CsvBindByName(column = &quot;productCode&quot;)\n            String id;\n            @CsvBindByName(column = &quot;MFD&quot;)\n            String member2;\n            @CsvBindByName(column = &quot;EXD&quot;)\n            String member3;\n    \n            Product(String id, String member2, String member3) {\n                this.id = id;\n                this.member2 = member2;\n                this.member3 = member3;\n            }\n    \n            public String getId() {\n                return id;\n            }\n    \n            public void setId(String id) {\n                this.id = id;\n            }\n    \n            public String getMember2() {\n                return member2;\n            }\n    \n            public void setMember2(String member2) {\n                this.member2 = member2;\n            }\n    \n            public String getMember3() {\n                return member3;\n            }\n    \n            public void setMember3(String member3) {\n                this.member3 = member3;\n            }\n        }\n    \n    }\n\n\nOutput:\n\n&gt; &quot;EXD&quot;,&quot;MFD&quot;,&quot;PRODUCTCODE&quot; \n&gt;\n&gt; &quot;111&quot;,&quot;11&quot;,&quot;1&quot; \n&gt;\n&gt; &quot;222&quot;,&quot;22&quot;,&quot;2&quot; \n&gt;\n&gt; &quot;333&quot;,&quot;33&quot;,&quot;3&quot;\n\n\nPay attention; class, getters &amp; setters needs to be public due to the use of Reflection by OpenCSV library","title":"StatefulBeanToCsv with Column headers","body":"<p>ColumnPositionMappingStrategy#generateHeader returns empty array</p>\n<pre><code>/**\n * This method returns an empty array.\n * The column position mapping strategy assumes that there is no header, and\n * thus it also does not write one, accordingly.\n * @return An empty array\n */\n@Override\npublic String[] generateHeader() {\n    return new String[0];\n}\n</code></pre>\n<p>If you remove MappingStrategy from BeanToCsv builder</p>\n<pre><code>// replace \nStatefulBeanToCsv&lt;Product&gt; beanWriter = builder.withMappingStrategy(mappingStrategy).build();\n// with\nStatefulBeanToCsv&lt;Product&gt; beanWriter = builder.build(); \n</code></pre>\n<p>It will write Product's class members as CSV header</p>\n<p>If your Product class members names are</p>\n<pre><code>&quot;productCode&quot;, &quot;MFD&quot;, &quot;EXD&quot;\n</code></pre>\n<p>This should be the right solution</p>\n<p>Else, add @CsvBindByName annotation</p>\n<pre><code>import com.opencsv.bean.CsvBindByName;\nimport com.opencsv.bean.StatefulBeanToCsv;\nimport com.opencsv.bean.StatefulBeanToCsvBuilder;\n\nimport java.io.FileWriter;\nimport java.io.Writer;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CsvTest {\n\n    public static void main(String[] args) throws Exception {\n        Writer writer = new FileWriter(fileName);\n\n        StatefulBeanToCsvBuilder&lt;Product&gt; builder = new StatefulBeanToCsvBuilder&lt;&gt;(writer);\n        StatefulBeanToCsv&lt;Product&gt; beanWriter = builder.build();\n\n        List&lt;Product&gt; products = new ArrayList&lt;&gt;();\n        products.add(new Product(&quot;1&quot;, &quot;11&quot;, &quot;111&quot;));\n        products.add(new Product(&quot;2&quot;, &quot;22&quot;, &quot;222&quot;));\n        products.add(new Product(&quot;3&quot;, &quot;33&quot;, &quot;333&quot;));\n        beanWriter.write(products);\n        writer.close();\n    }\n\n    public static class Product {\n        @CsvBindByName(column = &quot;productCode&quot;)\n        String id;\n        @CsvBindByName(column = &quot;MFD&quot;)\n        String member2;\n        @CsvBindByName(column = &quot;EXD&quot;)\n        String member3;\n\n        Product(String id, String member2, String member3) {\n            this.id = id;\n            this.member2 = member2;\n            this.member3 = member3;\n        }\n\n        public String getId() {\n            return id;\n        }\n\n        public void setId(String id) {\n            this.id = id;\n        }\n\n        public String getMember2() {\n            return member2;\n        }\n\n        public void setMember2(String member2) {\n            this.member2 = member2;\n        }\n\n        public String getMember3() {\n            return member3;\n        }\n\n        public void setMember3(String member3) {\n            this.member3 = member3;\n        }\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>&quot;EXD&quot;,&quot;MFD&quot;,&quot;PRODUCTCODE&quot;</p>\n<p>&quot;111&quot;,&quot;11&quot;,&quot;1&quot;</p>\n<p>&quot;222&quot;,&quot;22&quot;,&quot;2&quot;</p>\n<p>&quot;333&quot;,&quot;33&quot;,&quot;3&quot;</p>\n</blockquote>\n<p>Pay attention; class, getters &amp; setters needs to be public due to the use of Reflection by OpenCSV library</p>\n"},{"tags":[],"owner":{"account_id":1639431,"reputation":5035,"user_id":1512175,"accept_rate":57,"display_name":"Ithar"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1528719351,"creation_date":1528719351,"answer_id":50797520,"question_id":46072947,"body_markdown":"I may have missed something obvious here but couldn&#39;t you just append your header String to the writer object?\r\n\r\n\r\n    Writer writer = new FileWriter(filePath);\r\n    writer.append(&quot;header1, header2, header3, ...etc \\n&quot;);\r\n    \r\n    // This will be followed by your code with BeanToCsvBuilder \r\n    // Note: the terminating \\n might differ pending env.\r\n\r\n","title":"StatefulBeanToCsv with Column headers","body":"<p>I may have missed something obvious here but couldn't you just append your header String to the writer object?</p>\n\n<pre><code>Writer writer = new FileWriter(filePath);\nwriter.append(\"header1, header2, header3, ...etc \\n\");\n\n// This will be followed by your code with BeanToCsvBuilder \n// Note: the terminating \\n might differ pending env.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12061872,"reputation":101,"user_id":8820582,"display_name":"Bruno Muehlbauer de Souza"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1587124849,"creation_date":1586181054,"answer_id":61061381,"question_id":46072947,"body_markdown":"You can append by annotation\r\n\r\n    public void export(List&lt;YourObject&gt; list, PrintWriter writer) throws Exception {\r\n    \t\twriter.append( buildHeader( YourObject.class ) );\r\n    \t\tStatefulBeanToCsvBuilder&lt;YourObject&gt; builder = new StatefulBeanToCsvBuilder&lt;&gt;( writer );\r\n    \t\tStatefulBeanToCsv&lt;YourObject&gt; beanWriter = builder.build();\r\n    \t\tbeanWriter.write( mapper.map( list ) );\r\n    \t\twriter.close();\r\n    \t}\r\n    \r\n    \tprivate String buildHeader(Class&lt;YourObject&gt; clazz) {\r\n    \t\treturn Arrays.stream( clazz.getDeclaredFields() )\r\n    \t\t\t\t.filter( f -&gt; f.getAnnotation( CsvBindByPosition.class ) != null\r\n    \t\t\t\t\t\t&amp;&amp; f.getAnnotation( CsvBindByName.class ) != null )\r\n    \t\t\t\t.sorted( Comparator.comparing( f -&gt; f.getAnnotation( CsvBindByPosition.class ).position() ) )\r\n    \t\t\t\t.map( f -&gt; f.getAnnotation( CsvBindByName.class ).column() )\r\n    \t\t\t\t.collect( Collectors.joining( &quot;,&quot; ) ) + &quot;\\n&quot;;\r\n    \t}\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class YourObject {\r\n    \r\n    \t@CsvBindByPosition(position = 0)\r\n    \t@CsvBindByName(column = &quot;A&quot;)\r\n    \tprivate Long a;\r\n    \r\n    \t@CsvBindByPosition(position = 1)\r\n    \t@CsvBindByName(column = &quot;B&quot;)\r\n    \tprivate String b;\r\n    \r\n    \t@CsvBindByPosition(position = 2)\r\n    \t@CsvBindByName(column = &quot;C&quot;)\r\n    \tprivate String c;\r\n    \r\n    }","title":"StatefulBeanToCsv with Column headers","body":"<p>You can append by annotation</p>\n\n<pre><code>public void export(List&lt;YourObject&gt; list, PrintWriter writer) throws Exception {\n        writer.append( buildHeader( YourObject.class ) );\n        StatefulBeanToCsvBuilder&lt;YourObject&gt; builder = new StatefulBeanToCsvBuilder&lt;&gt;( writer );\n        StatefulBeanToCsv&lt;YourObject&gt; beanWriter = builder.build();\n        beanWriter.write( mapper.map( list ) );\n        writer.close();\n    }\n\n    private String buildHeader(Class&lt;YourObject&gt; clazz) {\n        return Arrays.stream( clazz.getDeclaredFields() )\n                .filter( f -&gt; f.getAnnotation( CsvBindByPosition.class ) != null\n                        &amp;&amp; f.getAnnotation( CsvBindByName.class ) != null )\n                .sorted( Comparator.comparing( f -&gt; f.getAnnotation( CsvBindByPosition.class ).position() ) )\n                .map( f -&gt; f.getAnnotation( CsvBindByName.class ).column() )\n                .collect( Collectors.joining( \",\" ) ) + \"\\n\";\n    }\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class YourObject {\n\n    @CsvBindByPosition(position = 0)\n    @CsvBindByName(column = \"A\")\n    private Long a;\n\n    @CsvBindByPosition(position = 1)\n    @CsvBindByName(column = \"B\")\n    private String b;\n\n    @CsvBindByPosition(position = 2)\n    @CsvBindByName(column = \"C\")\n    private String c;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2762235,"reputation":9,"user_id":2378891,"display_name":"Saravanakumar V"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1611694438,"creation_date":1611694438,"answer_id":65909135,"question_id":46072947,"body_markdown":"You could also override the generateHeaders method and return the column mapping that is set, which will have header row in csv\r\n\r\n    ColumnPositionMappingStrategy&lt;Product&gt; mappingStrategy = new ColumnPositionMappingStrategy&lt;Product&gt;() {\r\n            \t@Override\r\n            \tpublic String[] generateHeader(Product bean) throws CsvRequiredFieldEmptyException {\r\n            \t\treturn this.getColumnMapping();\r\n            \t}\r\n            };","title":"StatefulBeanToCsv with Column headers","body":"<p>You could also override the generateHeaders method and return the column mapping that is set, which will have header row in csv</p>\n<pre><code>ColumnPositionMappingStrategy&lt;Product&gt; mappingStrategy = new ColumnPositionMappingStrategy&lt;Product&gt;() {\n            @Override\n            public String[] generateHeader(Product bean) throws CsvRequiredFieldEmptyException {\n                return this.getColumnMapping();\n            }\n        };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16983571,"reputation":348,"user_id":12284870,"display_name":"Yonas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617178874,"creation_date":1617178874,"answer_id":66884098,"question_id":46072947,"body_markdown":"Use a HeaderColumnNameMappingStrategy for reading, then use the same strategy for writing. &quot;Same&quot; in this case meaning not just the same class, but really the same object.\r\n\r\nFrom the javadoc of `StatefulBeanToCsvBuilder.withMappingStrategy`:\r\n\r\n&gt; It is perfectly legitimate to read a CSV source, take the mapping strategy from the read operation, and pass it in to this method for a write operation. This conserves some processing time, but, more importantly, preserves header ordering.\r\n\r\nThis way you will get a CSV including headers, with columns in the same order as the original CSV.\r\n\r\nWorked for me using OpenCSV 5.4.","title":"StatefulBeanToCsv with Column headers","body":"<p>Use a HeaderColumnNameMappingStrategy for reading, then use the same strategy for writing. &quot;Same&quot; in this case meaning not just the same class, but really the same object.</p>\n<p>From the javadoc of <code>StatefulBeanToCsvBuilder.withMappingStrategy</code>:</p>\n<blockquote>\n<p>It is perfectly legitimate to read a CSV source, take the mapping strategy from the read operation, and pass it in to this method for a write operation. This conserves some processing time, but, more importantly, preserves header ordering.</p>\n</blockquote>\n<p>This way you will get a CSV including headers, with columns in the same order as the original CSV.</p>\n<p>Worked for me using OpenCSV 5.4.</p>\n"},{"tags":[],"owner":{"account_id":25563328,"reputation":1,"user_id":19345596,"display_name":"Stan Sokolov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658784654,"creation_date":1658784614,"answer_id":73115551,"question_id":46072947,"body_markdown":"Use a custom strategy\r\n\r\n        static class CustomStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n        public String[] generateHeader() {\r\n            return this.getColumnMapping();\r\n        }\r\n    }\r\n\r\nand on CSV object that you write do not forget to provide both \r\n\r\n    @CsvBindByName(column=&quot;UID&quot;)\r\n    @CsvBindByPosition(position = 3)","title":"StatefulBeanToCsv with Column headers","body":"<p>Use a custom strategy</p>\n<pre><code>    static class CustomStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\n    public String[] generateHeader() {\n        return this.getColumnMapping();\n    }\n}\n</code></pre>\n<p>and on CSV object that you write do not forget to provide both</p>\n<pre><code>@CsvBindByName(column=&quot;UID&quot;)\n@CsvBindByPosition(position = 3)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4711119,"reputation":1624,"user_id":3811599,"accept_rate":75,"display_name":"Marcel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695132831,"creation_date":1695132831,"answer_id":77135348,"question_id":46072947,"body_markdown":"For those who want to use HeaderName and Position together without reading a csv file first.\r\n\r\nIt&#39;s quite easy to achieve using a custom Mapping Strategy.\r\n\r\n```java\r\nstatic class NameAndPositionMappingStrategy&lt;T&gt; extends HeaderNameBaseMappingStrategy&lt;T&gt; {\r\n        public NameAndPositionMappingStrategy(Class&lt;T&gt; clazz) {\r\n            setType(clazz);\r\n            setColumnOrderOnWrite(new Comparator&lt;String&gt;() {\r\n                @Override\r\n                public int compare(String o1, String o2) {\r\n                    CsvBindByPosition pos1 = getFieldMap().get(o1).getField().getAnnotation(CsvBindByPosition.class);\r\n                    CsvBindByPosition pos2 = getFieldMap().get(o2).getField().getAnnotation(CsvBindByPosition.class);\r\n                    return Integer.compare(\r\n                       pos1 != null ? pos1.position() : 0,\r\n                       pos2 != null ? pos2.position() : 0\r\n                    );\r\n                }\r\n            });\r\n        }\r\n    }\r\n```\r\n\r\nAnd in your bean you can now define both annotations\r\n\r\n```java\r\n public static class Product {\r\n        @CsvBindByPosition(position = 0)\r\n        @CsvBindByName(column = &quot;ID&quot;)\r\n        String id;\r\n\r\n        @CsvBindByPosition(position = 1)\r\n        @CsvBindByName(column = &quot;FIELD2&quot;)\r\n        String member2;\r\n\r\n        @CsvBindByPosition(position = 2)\r\n        @CsvBindByName(column = &quot;FIELD3&quot;)\r\n        String member3;\r\n    \r\n\r\n}\r\n```\r\n\r\nAnd the Writer should look like this:\r\n\r\n```java\r\n\r\nbuilder.withMappingStrategy(new NameAndPositionMappingStrategy&lt;Product&gt;(Product.class).build()\r\n```\r\n\r\n\r\nThis will use the CsvBindByName and CsvBindByPosition together. \r\n\r\n(Alternatively you can also just use the HeaderNameBaseMappingStrategy and set the ColumnOrderOnWrite without using inheritance)\r\n\r\n","title":"StatefulBeanToCsv with Column headers","body":"<p>For those who want to use HeaderName and Position together without reading a csv file first.</p>\n<p>It's quite easy to achieve using a custom Mapping Strategy.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class NameAndPositionMappingStrategy&lt;T&gt; extends HeaderNameBaseMappingStrategy&lt;T&gt; {\n        public NameAndPositionMappingStrategy(Class&lt;T&gt; clazz) {\n            setType(clazz);\n            setColumnOrderOnWrite(new Comparator&lt;String&gt;() {\n                @Override\n                public int compare(String o1, String o2) {\n                    CsvBindByPosition pos1 = getFieldMap().get(o1).getField().getAnnotation(CsvBindByPosition.class);\n                    CsvBindByPosition pos2 = getFieldMap().get(o2).getField().getAnnotation(CsvBindByPosition.class);\n                    return Integer.compare(\n                       pos1 != null ? pos1.position() : 0,\n                       pos2 != null ? pos2.position() : 0\n                    );\n                }\n            });\n        }\n    }\n</code></pre>\n<p>And in your bean you can now define both annotations</p>\n<pre class=\"lang-java prettyprint-override\"><code> public static class Product {\n        @CsvBindByPosition(position = 0)\n        @CsvBindByName(column = &quot;ID&quot;)\n        String id;\n\n        @CsvBindByPosition(position = 1)\n        @CsvBindByName(column = &quot;FIELD2&quot;)\n        String member2;\n\n        @CsvBindByPosition(position = 2)\n        @CsvBindByName(column = &quot;FIELD3&quot;)\n        String member3;\n    \n\n}\n</code></pre>\n<p>And the Writer should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nbuilder.withMappingStrategy(new NameAndPositionMappingStrategy&lt;Product&gt;(Product.class).build()\n</code></pre>\n<p>This will use the CsvBindByName and CsvBindByPosition together.</p>\n<p>(Alternatively you can also just use the HeaderNameBaseMappingStrategy and set the ColumnOrderOnWrite without using inheritance)</p>\n"}],"owner":{"account_id":1017978,"reputation":15346,"user_id":1029088,"accept_rate":60,"display_name":"Bishan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48146,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":46073537,"answer_count":7,"score":21,"last_activity_date":1695132831,"creation_date":1504693881,"question_id":46072947,"body_markdown":"I am using `opencsv-4.0` to write a csv file and I need to add column headers in output file.\r\n\r\nHere is my code.\r\n\r\n\tpublic static void buildProductCsv(final List&lt;Product&gt; product,\r\n\t\t\tfinal String filePath) {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tWriter writer = new FileWriter(filePath);\r\n\r\n\t\t\t// mapping of columns with their positions\r\n\t\t\tColumnPositionMappingStrategy&lt;Product&gt; mappingStrategy = new ColumnPositionMappingStrategy&lt;Product&gt;();\r\n\t\t\t// Set mappingStrategy type to Product Type\r\n\t\t\tmappingStrategy.setType(Product.class);\r\n\t\t\t// Fields in Product Bean\r\n\t\t\tString[] columns = new String[] { &quot;productCode&quot;, &quot;MFD&quot;, &quot;EXD&quot; };\r\n\t\t\t// Setting the colums for mappingStrategy\r\n\t\t\tmappingStrategy.setColumnMapping(columns);\r\n\r\n\t\t\tStatefulBeanToCsvBuilder&lt;Product&gt; builder = new StatefulBeanToCsvBuilder&lt;Product&gt;(writer);\r\n\r\n\t\t\tStatefulBeanToCsv&lt;Product&gt; beanWriter = builder.withMappingStrategy(mappingStrategy).build();\r\n\t\t\t// Writing data to csv file\r\n\t\t\tbeanWriter.write(product);\r\n\t\t\twriter.close();\r\n\r\n\t\t\tlog.info(&quot;Your csv file has been generated!&quot;);\r\n\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlog.warning(&quot;Exception: &quot; + ex.getMessage());\r\n\t\t}\r\n\r\n\t}\r\n\r\nAbove code create a csv file with data. But it not include column headers in that file.\r\n\r\nHow could I add column headers to output csv?","title":"StatefulBeanToCsv with Column headers","body":"<p>I am using <code>opencsv-4.0</code> to write a csv file and I need to add column headers in output file.</p>\n\n<p>Here is my code.</p>\n\n<pre><code>public static void buildProductCsv(final List&lt;Product&gt; product,\n        final String filePath) {\n\n    try {\n\n        Writer writer = new FileWriter(filePath);\n\n        // mapping of columns with their positions\n        ColumnPositionMappingStrategy&lt;Product&gt; mappingStrategy = new ColumnPositionMappingStrategy&lt;Product&gt;();\n        // Set mappingStrategy type to Product Type\n        mappingStrategy.setType(Product.class);\n        // Fields in Product Bean\n        String[] columns = new String[] { \"productCode\", \"MFD\", \"EXD\" };\n        // Setting the colums for mappingStrategy\n        mappingStrategy.setColumnMapping(columns);\n\n        StatefulBeanToCsvBuilder&lt;Product&gt; builder = new StatefulBeanToCsvBuilder&lt;Product&gt;(writer);\n\n        StatefulBeanToCsv&lt;Product&gt; beanWriter = builder.withMappingStrategy(mappingStrategy).build();\n        // Writing data to csv file\n        beanWriter.write(product);\n        writer.close();\n\n        log.info(\"Your csv file has been generated!\");\n\n    } catch (Exception ex) {\n        log.warning(\"Exception: \" + ex.getMessage());\n    }\n\n}\n</code></pre>\n\n<p>Above code create a csv file with data. But it not include column headers in that file.</p>\n\n<p>How could I add column headers to output csv?</p>\n"},{"tags":["java","xml","apache-camel","dsl"],"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695132623,"creation_date":1695132623,"question_id":77135314,"body_markdown":"If I were to express what I want to do very simply: I want to extract the contents of a `abc.zip` file to another path, rename the zip file to `abc.zip.Extracted` and delete the `abc.zip` file.\r\nBut I can&#39;t do this because Apache Camel has already locked the file. The lock is unlocked after the route is completed, and then I do not have the information about the files.\r\n**XML Code:**\r\n\r\n    \t\t&lt;route id=&quot;extractFile&quot;&gt;\r\n\t\t\t&lt;from ref=&quot;filesToExtractEP&quot; /&gt;\r\n\t\t\t&lt;choice&gt;\r\n\t\t\t\t&lt;when&gt;\r\n\t\t\t\t\t&lt;simple&gt;${body} != null&lt;/simple&gt;\r\n\t\t\t\t\t&lt;log message=&quot;Processing file ${header.CamelFileName}...&quot; /&gt;\r\n\t\t\t\t\t&lt;setHeader headerName=&quot;CamelFileName&quot;&gt;\r\n\t\t\t\t\t\t&lt;simple&gt;${bean:extractorProcessor?method=renameZipFileAfterExtractProcess(header.CamelFileName)}&lt;/simple&gt;\r\n\t\t\t\t\t&lt;/setHeader&gt;\r\n\t\t\t\t\t&lt;to ref=&quot;filesToExtractEP&quot;/&gt;\r\n\t\t\t\t\t&lt;unmarshal&gt;&lt;zipFile usingIterator=&quot;true&quot;/&gt;&lt;/unmarshal&gt;\r\n\t\t\t\t\t&lt;split streaming=&quot;true&quot;&gt;\r\n\t\t\t\t\t\t&lt;simple&gt;${body}&lt;/simple&gt;\r\n\t\t\t\t\t\t&lt;log message=&quot;Starting to extract.&quot; /&gt;\r\n\t\t\t\t\t\t&lt;to ref=&quot;extractedFilesEP&quot; /&gt;\r\n\t\t\t\t\t&lt;/split&gt;\r\n\t\t\t\t\t&lt;log message=&quot;Extraction completed.&quot; /&gt;\r\n\t\t\t\t\t&lt;process ref=&quot;zipFileDeleter&quot;/&gt;\r\n\t\t\t\t\t\t&lt;to uri=&quot;direct://completed&quot;/&gt;\r\n\t\t\t\t&lt;/when&gt;\r\n\t\t\t\t&lt;otherwise&gt;\r\n\t\t\t\t\t&lt;log message=&quot;Nothing found to extract.&quot; /&gt;\r\n\t\t\t\t\t&lt;transform&gt;\r\n\t\t            \t&lt;simple&gt;&#39;No files found to process&#39;&lt;/simple&gt;\r\n\t\t        \t&lt;/transform&gt;\r\n\t\t\t\t\t&lt;bean ref=&quot;routeStatusEmailer&quot; method=&quot;sendMail(*,*,true,${body},1)&quot;/&gt;\t\t\t\t\t\r\n\t\t\t\t&lt;/otherwise&gt;\r\n\t\t\t&lt;/choice&gt;\r\n\t\t&lt;/route&gt;\r\n\r\n**Java Class:**\r\n\r\n    public class ZipFileDeleter implements Processor {\r\n        @Override\r\n        public void process(Exchange exchange) throws Exception {\r\n            String filePath = exchange.getIn().getHeader(Exchange.FILE_PATH, String.class);\r\n            new ZipFile(filePath).close();\r\n            try {\r\n                Files.delete(Paths.get(filePath));\r\n            } catch (IOException exception) {\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Apache Camel Renaming A Zip File And Deleting After Extraction","body":"<p>If I were to express what I want to do very simply: I want to extract the contents of a <code>abc.zip</code> file to another path, rename the zip file to <code>abc.zip.Extracted</code> and delete the <code>abc.zip</code> file.\nBut I can't do this because Apache Camel has already locked the file. The lock is unlocked after the route is completed, and then I do not have the information about the files.\n<strong>XML Code:</strong></p>\n<pre><code>        &lt;route id=&quot;extractFile&quot;&gt;\n        &lt;from ref=&quot;filesToExtractEP&quot; /&gt;\n        &lt;choice&gt;\n            &lt;when&gt;\n                &lt;simple&gt;${body} != null&lt;/simple&gt;\n                &lt;log message=&quot;Processing file ${header.CamelFileName}...&quot; /&gt;\n                &lt;setHeader headerName=&quot;CamelFileName&quot;&gt;\n                    &lt;simple&gt;${bean:extractorProcessor?method=renameZipFileAfterExtractProcess(header.CamelFileName)}&lt;/simple&gt;\n                &lt;/setHeader&gt;\n                &lt;to ref=&quot;filesToExtractEP&quot;/&gt;\n                &lt;unmarshal&gt;&lt;zipFile usingIterator=&quot;true&quot;/&gt;&lt;/unmarshal&gt;\n                &lt;split streaming=&quot;true&quot;&gt;\n                    &lt;simple&gt;${body}&lt;/simple&gt;\n                    &lt;log message=&quot;Starting to extract.&quot; /&gt;\n                    &lt;to ref=&quot;extractedFilesEP&quot; /&gt;\n                &lt;/split&gt;\n                &lt;log message=&quot;Extraction completed.&quot; /&gt;\n                &lt;process ref=&quot;zipFileDeleter&quot;/&gt;\n                    &lt;to uri=&quot;direct://completed&quot;/&gt;\n            &lt;/when&gt;\n            &lt;otherwise&gt;\n                &lt;log message=&quot;Nothing found to extract.&quot; /&gt;\n                &lt;transform&gt;\n                    &lt;simple&gt;'No files found to process'&lt;/simple&gt;\n                &lt;/transform&gt;\n                &lt;bean ref=&quot;routeStatusEmailer&quot; method=&quot;sendMail(*,*,true,${body},1)&quot;/&gt;                  \n            &lt;/otherwise&gt;\n        &lt;/choice&gt;\n    &lt;/route&gt;\n</code></pre>\n<p><strong>Java Class:</strong></p>\n<pre><code>public class ZipFileDeleter implements Processor {\n    @Override\n    public void process(Exchange exchange) throws Exception {\n        String filePath = exchange.getIn().getHeader(Exchange.FILE_PATH, String.class);\n        new ZipFile(filePath).close();\n        try {\n            Files.delete(Paths.get(filePath));\n        } catch (IOException exception) {\n            exception.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695228190,"post_id":77135201,"comment_id":135997495,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":17330816,"reputation":1,"user_id":12553965,"display_name":"serhii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695132248,"creation_date":1695131695,"question_id":77135201,"body_markdown":"I need to implement Apache Spark in existed backend application.\r\nFor storing objects in our application we use BlockingQueue&lt;OurEntity&gt; and we put objects in this queue during app runs. It means, that all objects which will put to queue after executing commant javaSparkContext.parallelize(myOwnList) wont be available in Spark Topology.\r\n\r\nSo, for implementing Spark I have to find solutions for next 2 points:\r\n1. How I can create JavaRDD from this queue? We can create JavaRDD from file, List..., but not from queue. Should I use List instead?\r\n2. How to provide to Spark new objects which were put to Collection after executing javaSparkContext.parallelize(myOwnList). Should I use patter Observer to run Spark Topology when objects were put to List?  \r\n\r\n1 question - I can use List, but I need to try to save usage for BlockingQueue\r\n2 question - It&#39;s difficult to implement pattern Observer in our source code.","title":"Can JavaSparkContext create JavaRDD from Queue(Collection API)","body":"<p>I need to implement Apache Spark in existed backend application.\nFor storing objects in our application we use BlockingQueue and we put objects in this queue during app runs. It means, that all objects which will put to queue after executing commant javaSparkContext.parallelize(myOwnList) wont be available in Spark Topology.</p>\n<p>So, for implementing Spark I have to find solutions for next 2 points:</p>\n<ol>\n<li>How I can create JavaRDD from this queue? We can create JavaRDD from file, List..., but not from queue. Should I use List instead?</li>\n<li>How to provide to Spark new objects which were put to Collection after executing javaSparkContext.parallelize(myOwnList). Should I use patter Observer to run Spark Topology when objects were put to List?</li>\n</ol>\n<p>1 question - I can use List, but I need to try to save usage for BlockingQueue\n2 question - It's difficult to implement pattern Observer in our source code.</p>\n"},{"tags":["java","tomcat","jersey","jax-rs","jakarta-migration"],"comments":[{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":1,"creation_date":1694724274,"post_id":77092777,"comment_id":135932848,"body_markdown":"Have you upgraded Jersey, too?","body":"Have you upgraded Jersey, too?"},{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":0,"creation_date":1694786044,"post_id":77092777,"comment_id":135940943,"body_markdown":"@jan.supol  yes,  all jersey Jars are on 3.0.2.  I updated the main question with their info.","body":"@jan.supol  yes,  all jersey Jars are on 3.0.2.  I updated the main question with their info."}],"answers":[{"tags":[],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695132013,"creation_date":1695132013,"answer_id":77135233,"question_id":77092777,"body_markdown":"I fixed this by targeting all my jars based on my Tomcat version.  I found that my tomcat version used Jakarta ee 9, and I target all my third party jars around that. \r\n\r\nSpecifically in my case it was the version of the hk2 jars that were the culprit. ","title":"java.lang.IllegalArgumentException: The implementation class org.glassfish.jersey.inject.hk2.RequestContext must be in the Singleton scope","body":"<p>I fixed this by targeting all my jars based on my Tomcat version.  I found that my tomcat version used Jakarta ee 9, and I target all my third party jars around that.</p>\n<p>Specifically in my case it was the version of the hk2 jars that were the culprit.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77135233,"answer_count":1,"score":0,"last_activity_date":1695132013,"creation_date":1694553994,"question_id":77092777,"body_markdown":"I am upgrading a Tomcat web applications from Tomcat 9.0.78 to 10.0.14 and moved all my imports from the javax.servelet name space to jakarta.servelt name space and have also upgraded hibernate.  \r\n\r\nWhile I have been able to resolve most of the issues I am stuck with the following error I see in /tomcat/logs/localhost.2023-09-12.log\r\n\r\nI have tried removing jars from tomcat/lib such as jakarta.inject-2.6.1.jar and jakarta.inject-api-2.0.0.jar but these cause class not found exceptions. \r\n\r\nI assumed the error means that two separate places are trying to instantiate org.glassfish.jersey.inject.hk2.RequestContext but I cannot figure out where. \r\n\r\nEDIT:\r\n\r\nHaving looked at the source code, it is not an issue that org.glassfish.jersey.inject.hk2.RequestContext is being created twice but that it does not implement jakarta.singleton space.  \r\n\r\n\r\nas per jan.supol&#39;s comment all jersey jars are on version 3.0.2, one of which contains the offending class. \r\n\r\n\r\n```\r\njersey-hk2-3.0.2.jar:\r\n      877  01-01-1980 00:00   org/glassfish/jersey/inject/hk2/RequestContext$Binder$1.class\r\n     1170  01-01-1980 00:00   org/glassfish/jersey/inject/hk2/RequestContext$Binder.class\r\n     4459  01-01-1980 00:00   org/glassfish/jersey/inject/hk2/RequestContext.class\r\n\r\n\r\n-rwxrwxr-x 1 root tomcat   31856 Sep  6 11:11 jersey-container-servlet-3.0.2.jar\r\n-rwxrwxr-x 1 root tomcat 1170111 Sep  6 11:11 jersey-common-3.0.2.jar\r\n-rwxrwxr-x 1 root tomcat   75633 Sep  6 11:11 jersey-hk2-3.0.2.jar\r\n-rwxrwxr-x 1 root tomcat   72355 Sep  6 11:11 jersey-container-servlet-core-3.0.2.jar\r\n-rwxrwxr-x 1 root tomcat  934996 Sep  6 11:11 jersey-server-3.0.2.jar\r\n-rw-rw-r-- 1 vcr  vcr      94880 Sep 14 12:17 jersey-media-jaxb-3.0.2.jar\r\n-rw-rw-r-- 1 vcr  vcr      79408 Sep 14 12:17 jersey-media-sse-3.0.2.jar\r\n-rw-rw-r-- 1 vcr  vcr      26118 Sep 14 12:17 jersey-media-json-binding-3.0.2.jar\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n023 12:14:49.238 SEVERE [main] org.apache.catalina.core.StandardContext.loadOnStartup Servlet [jersey-serlvet] in web application [/ngen] threw load() exception\r\n        java.lang.IllegalArgumentException: The implementation class org.glassfish.jersey.inject.hk2.RequestContext must be in the Singleton scope\r\n                at org.jvnet.hk2.internal.ServiceLocatorImpl.checkConfiguration(ServiceLocatorImpl.java:1700)\r\n                at org.jvnet.hk2.internal.ServiceLocatorImpl.addConfiguration(ServiceLocatorImpl.java:2095)\r\n                at org.jvnet.hk2.internal.DynamicConfigurationImpl.commit(DynamicConfigurationImpl.java:262)\r\n                at org.glassfish.hk2.utilities.ServiceLocatorUtilities.bind(ServiceLocatorUtilities.java:166)\r\n                at org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.&lt;init&gt;(AbstractHk2InjectionManager.java:65)\r\n                at org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.&lt;init&gt;(ImmediateHk2InjectionManager.java:38)\r\n                at org.glassfish.jersey.inject.hk2.Hk2InjectionManagerFactory$Hk2InjectionManagerStrategy$1.createInjectionManager(Hk2InjectionManagerFactory.java:55)\r\n                at org.glassfish.jersey.inject.hk2.Hk2InjectionManagerFactory.create(Hk2InjectionManagerFactory.java:73)\r\n                at org.glassfish.jersey.internal.inject.Injections.createInjectionManager(Injections.java:69)\r\n                at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:259)\r\n                at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\r\n                at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\r\n                at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:347)\r\n                at jakarta.servlet.GenericServlet.init(GenericServlet.java:158)\r\n                at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1165)\r\n                at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1118)\r\n                at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1011)\r\n                at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4906)\r\n                at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5213)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n                at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n                at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\r\n                at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1188)\r\n                at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:2023)\r\n                at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n                at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n                at org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:1098)\r\n                at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:480)\r\n                at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1708)\r\n                at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:320)\r\n                at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n                at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n                at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\r\n                at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n                at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n                at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n                at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n\r\n```\r\nThe following are my dependencies for glass fish: \r\n```\r\n\r\n\t\t&lt;h2k.version&gt;3.0.2&lt;/h2k.version&gt; \r\n\t\t&lt;h2k.locator.version&gt;3.0.1&lt;/h2k.locator.version&gt;\r\n\t\t&lt;jakarta.inject.version&gt;2.6.1&lt;/jakarta.inject.version&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hk2-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${h2k.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hk2-locator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${h2k.locator.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hk2-utils&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${h2k.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```\r\n\r\n","title":"java.lang.IllegalArgumentException: The implementation class org.glassfish.jersey.inject.hk2.RequestContext must be in the Singleton scope","body":"<p>I am upgrading a Tomcat web applications from Tomcat 9.0.78 to 10.0.14 and moved all my imports from the javax.servelet name space to jakarta.servelt name space and have also upgraded hibernate.</p>\n<p>While I have been able to resolve most of the issues I am stuck with the following error I see in /tomcat/logs/localhost.2023-09-12.log</p>\n<p>I have tried removing jars from tomcat/lib such as jakarta.inject-2.6.1.jar and jakarta.inject-api-2.0.0.jar but these cause class not found exceptions.</p>\n<p>I assumed the error means that two separate places are trying to instantiate org.glassfish.jersey.inject.hk2.RequestContext but I cannot figure out where.</p>\n<p>EDIT:</p>\n<p>Having looked at the source code, it is not an issue that org.glassfish.jersey.inject.hk2.RequestContext is being created twice but that it does not implement jakarta.singleton space.</p>\n<p>as per jan.supol's comment all jersey jars are on version 3.0.2, one of which contains the offending class.</p>\n<pre><code>jersey-hk2-3.0.2.jar:\n      877  01-01-1980 00:00   org/glassfish/jersey/inject/hk2/RequestContext$Binder$1.class\n     1170  01-01-1980 00:00   org/glassfish/jersey/inject/hk2/RequestContext$Binder.class\n     4459  01-01-1980 00:00   org/glassfish/jersey/inject/hk2/RequestContext.class\n\n\n-rwxrwxr-x 1 root tomcat   31856 Sep  6 11:11 jersey-container-servlet-3.0.2.jar\n-rwxrwxr-x 1 root tomcat 1170111 Sep  6 11:11 jersey-common-3.0.2.jar\n-rwxrwxr-x 1 root tomcat   75633 Sep  6 11:11 jersey-hk2-3.0.2.jar\n-rwxrwxr-x 1 root tomcat   72355 Sep  6 11:11 jersey-container-servlet-core-3.0.2.jar\n-rwxrwxr-x 1 root tomcat  934996 Sep  6 11:11 jersey-server-3.0.2.jar\n-rw-rw-r-- 1 vcr  vcr      94880 Sep 14 12:17 jersey-media-jaxb-3.0.2.jar\n-rw-rw-r-- 1 vcr  vcr      79408 Sep 14 12:17 jersey-media-sse-3.0.2.jar\n-rw-rw-r-- 1 vcr  vcr      26118 Sep 14 12:17 jersey-media-json-binding-3.0.2.jar\n</code></pre>\n<pre><code>023 12:14:49.238 SEVERE [main] org.apache.catalina.core.StandardContext.loadOnStartup Servlet [jersey-serlvet] in web application [/ngen] threw load() exception\n        java.lang.IllegalArgumentException: The implementation class org.glassfish.jersey.inject.hk2.RequestContext must be in the Singleton scope\n                at org.jvnet.hk2.internal.ServiceLocatorImpl.checkConfiguration(ServiceLocatorImpl.java:1700)\n                at org.jvnet.hk2.internal.ServiceLocatorImpl.addConfiguration(ServiceLocatorImpl.java:2095)\n                at org.jvnet.hk2.internal.DynamicConfigurationImpl.commit(DynamicConfigurationImpl.java:262)\n                at org.glassfish.hk2.utilities.ServiceLocatorUtilities.bind(ServiceLocatorUtilities.java:166)\n                at org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.&lt;init&gt;(AbstractHk2InjectionManager.java:65)\n                at org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.&lt;init&gt;(ImmediateHk2InjectionManager.java:38)\n                at org.glassfish.jersey.inject.hk2.Hk2InjectionManagerFactory$Hk2InjectionManagerStrategy$1.createInjectionManager(Hk2InjectionManagerFactory.java:55)\n                at org.glassfish.jersey.inject.hk2.Hk2InjectionManagerFactory.create(Hk2InjectionManagerFactory.java:73)\n                at org.glassfish.jersey.internal.inject.Injections.createInjectionManager(Injections.java:69)\n                at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:259)\n                at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\n                at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\n                at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:347)\n                at jakarta.servlet.GenericServlet.init(GenericServlet.java:158)\n                at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1165)\n                at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1118)\n                at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1011)\n                at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4906)\n                at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5213)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n                at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n                at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\n                at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1188)\n                at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:2023)\n                at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n                at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\n                at org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:1098)\n                at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:480)\n                at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1708)\n                at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:320)\n                at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n                at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n                at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\n                at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n                at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n                at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n\n</code></pre>\n<p>The following are my dependencies for glass fish:</p>\n<pre><code>\n        &lt;h2k.version&gt;3.0.2&lt;/h2k.version&gt; \n        &lt;h2k.locator.version&gt;3.0.1&lt;/h2k.locator.version&gt;\n        &lt;jakarta.inject.version&gt;2.6.1&lt;/jakarta.inject.version&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\n            &lt;artifactId&gt;hk2-api&lt;/artifactId&gt;\n            &lt;version&gt;${h2k.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\n            &lt;artifactId&gt;hk2-locator&lt;/artifactId&gt;\n            &lt;version&gt;${h2k.locator.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\n            &lt;artifactId&gt;hk2-utils&lt;/artifactId&gt;\n            &lt;version&gt;${h2k.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n"},{"tags":["java","kotlin","jarsigner","jar-signing","jpackage"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1680279309,"creation_date":1680279309,"answer_id":75900683,"question_id":75900617,"body_markdown":"JAR signing is about verification by the one running the application that it hasn&#39;t been modified since it was signed. In addition, based on the certificate, you can check *who* signed it.\r\n\r\nIt does not protect against modification by the one running the application: they can strip out the signature, or they can sign it themselves, and if you have code in your application to verify the signature, they can also replace that code to perform no verification or verify against their certificate.\r\n\r\nIn other words, yes, you&#39;re right, it doesn&#39;t protect you from the scenario you have in mind. It is also not intended for that scenario (as in, it is not a form of DRM).\r\n\r\nWhether or not you consider it safe for desktop use is, again, up to the person/company *running* the application. They can configure their security policy in such way to accept only certain signing certificates.\r\n\r\nYou may also want to read the Java tutorial [Signing and Verifying JAR Files][1], especially the chapter [Understanding Signing and Verification][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/deployment/jar/signindex.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/deployment/jar/intro.html","title":"JAR signing stops someone from modifying a JAR, but what stops someone from swapping the JAR with their own that they&#39;ve signed, or is unsigned?","body":"<p>JAR signing is about verification by the one running the application that it hasn't been modified since it was signed. In addition, based on the certificate, you can check <em>who</em> signed it.</p>\n<p>It does not protect against modification by the one running the application: they can strip out the signature, or they can sign it themselves, and if you have code in your application to verify the signature, they can also replace that code to perform no verification or verify against their certificate.</p>\n<p>In other words, yes, you're right, it doesn't protect you from the scenario you have in mind. It is also not intended for that scenario (as in, it is not a form of DRM).</p>\n<p>Whether or not you consider it safe for desktop use is, again, up to the person/company <em>running</em> the application. They can configure their security policy in such way to accept only certain signing certificates.</p>\n<p>You may also want to read the Java tutorial <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/signindex.html\" rel=\"nofollow noreferrer\">Signing and Verifying JAR Files</a>, especially the chapter <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/intro.html\" rel=\"nofollow noreferrer\">Understanding Signing and Verification</a>.</p>\n"},{"tags":[],"owner":{"account_id":6380665,"reputation":39,"user_id":4950224,"display_name":"Snaps-a-Lot"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1695131922,"creation_date":1694822006,"answer_id":77115844,"question_id":75900617,"body_markdown":"Updating your Java client applications to use [Java Network Launch protocol (JNLP)][1], as implemented with the &quot;Java Web Start&quot; framework, would address you concerns.  JNLP, originally implemented in Java 1.8, is not included in the OpenJDK.  But you can use it with OpenJDK 11 and higher by incorporating the open source package [OpenWebStart][2]. \r\n\r\nFor each application, you would author an [XML file with a JNLP extension][5] which your users would run instead of executing jars directly.  JNLP will then download the jars and executes them securely on the user&#39;s behalf.\r\n\r\nTo ensure that your jar files are not tampered with, you will need to sign them with a code signing certificate using Java&#39;s jarsigner utility as described on this SO posting:\r\n\r\n[Signing a jar file with trusted certificate for JWS deployment][3]\r\n\r\nTo establish trust of your code signing certificate, OpenWedStart provides a way to import your code signing certificate PFX file to a trusted certificate store:\r\n\r\n[Importing certificates for use with OpenWebStart][4]\r\n\r\nAt runtime, JNLP executes only jars that it downloads to its local cache and ensures they are signed with a trusted code signing signature.  And that will protect your jars from tampering.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Web_Start#:~:text=Java%20Network%20Launching%20Protocol%20(JNLP),-Programmers%20often%20speak&amp;text=JNLP%20consists%20of%20a%20set,other%20parameters%20for%20the%20program.\r\n  [2]: https://github.com/karakun/OpenWebStart/\r\n  [3]: https://stackoverflow.com/questions/19458676\r\n  [4]: https://openwebstart.com/docs/OWSGuide.html#_certificates\r\n  [5]: https://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/jnlpFileSyntax.html","title":"JAR signing stops someone from modifying a JAR, but what stops someone from swapping the JAR with their own that they&#39;ve signed, or is unsigned?","body":"<p>Updating your Java client applications to use <a href=\"https://en.wikipedia.org/wiki/Java_Web_Start#:%7E:text=Java%20Network%20Launching%20Protocol%20(JNLP),-Programmers%20often%20speak&amp;text=JNLP%20consists%20of%20a%20set,other%20parameters%20for%20the%20program.\" rel=\"nofollow noreferrer\">Java Network Launch protocol (JNLP)</a>, as implemented with the &quot;Java Web Start&quot; framework, would address you concerns.  JNLP, originally implemented in Java 1.8, is not included in the OpenJDK.  But you can use it with OpenJDK 11 and higher by incorporating the open source package <a href=\"https://github.com/karakun/OpenWebStart/\" rel=\"nofollow noreferrer\">OpenWebStart</a>.</p>\n<p>For each application, you would author an <a href=\"https://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/jnlpFileSyntax.html\" rel=\"nofollow noreferrer\">XML file with a JNLP extension</a> which your users would run instead of executing jars directly.  JNLP will then download the jars and executes them securely on the user's behalf.</p>\n<p>To ensure that your jar files are not tampered with, you will need to sign them with a code signing certificate using Java's jarsigner utility as described on this SO posting:</p>\n<p><a href=\"https://stackoverflow.com/questions/19458676\">Signing a jar file with trusted certificate for JWS deployment</a></p>\n<p>To establish trust of your code signing certificate, OpenWedStart provides a way to import your code signing certificate PFX file to a trusted certificate store:</p>\n<p><a href=\"https://openwebstart.com/docs/OWSGuide.html#_certificates\" rel=\"nofollow noreferrer\">Importing certificates for use with OpenWebStart</a></p>\n<p>At runtime, JNLP executes only jars that it downloads to its local cache and ensures they are signed with a trusted code signing signature.  And that will protect your jars from tampering.</p>\n"}],"owner":{"account_id":216468,"reputation":15127,"user_id":471744,"accept_rate":68,"display_name":"spierce7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":75900683,"answer_count":2,"score":1,"last_activity_date":1695131922,"creation_date":1680278808,"question_id":75900617,"body_markdown":"I have a Java desktop application. I&#39;m downloading and dynamically running JAR files. JAR signing protects me from someone modifying the JAR file that I&#39;ve downloaded. How would I verify that my application only runs JARs that I&#39;ve signed though?\r\n\r\nWithout ensuring that all JARs I&#39;m running are signed by me, then isn&#39;t JAR signing still insecure for desktop use?","title":"JAR signing stops someone from modifying a JAR, but what stops someone from swapping the JAR with their own that they&#39;ve signed, or is unsigned?","body":"<p>I have a Java desktop application. I'm downloading and dynamically running JAR files. JAR signing protects me from someone modifying the JAR file that I've downloaded. How would I verify that my application only runs JARs that I've signed though?</p>\n<p>Without ensuring that all JARs I'm running are signed by me, then isn't JAR signing still insecure for desktop use?</p>\n"},{"tags":["java","char","read.csv"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1695132227,"post_id":77135220,"comment_id":135981178,"body_markdown":"It worked for me...","body":"It worked for me..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1695132277,"post_id":77135220,"comment_id":135981189,"body_markdown":"Make sure your input file is not saved with a Byte Order Marker (BOM). Java `Reader`s don&#39;t process them as special","body":"Make sure your input file is not saved with a Byte Order Marker (BOM). Java <code>Reader</code>s don&#39;t process them as special"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695132959,"post_id":77135220,"comment_id":135981328,"body_markdown":"`System.out.printf(&quot;%04x%n&quot;, (int)row[0].charAt(0));` might be interesting","body":"<code>System.out.printf(&quot;%04x%n&quot;, (int)row[0].charAt(0));</code> might be interesting"},{"owner":{"account_id":17446190,"reputation":13,"user_id":12647190,"display_name":"Jimmy "},"score":0,"creation_date":1695134648,"post_id":77135220,"comment_id":135981715,"body_markdown":"@g00se Hum... so strange, it suddenly work after I open the csv with &quot;text edit&quot; app and save again (I used excel before, I think that&#39;s the cause because I tried with duplication of the file and the error occur again). But I tried your code, before it worked, for the missing &quot;A&quot;, I get &quot;feff&quot; which is different from other I got number such as 0042 ......","body":"@g00se Hum... so strange, it suddenly work after I open the csv with &quot;text edit&quot; app and save again (I used excel before, I think that&#39;s the cause because I tried with duplication of the file and the error occur again). But I tried your code, before it worked, for the missing &quot;A&quot;, I get &quot;feff&quot; which is different from other I got number such as 0042 ......"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695137660,"post_id":77135220,"comment_id":135982423,"body_markdown":"*I get &quot;feff&quot;* That&#39;s the BOM","body":"<i>I get &quot;feff&quot;</i> That&#39;s the BOM"}],"owner":{"account_id":17446190,"reputation":13,"user_id":12647190,"display_name":"Jimmy "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695131917,"creation_date":1695131917,"question_id":77135220,"body_markdown":"I have a csv file:\r\n\r\n```\r\nA,1\r\nB,2\r\nC,3\r\n```\r\n\r\nWhenever I try to get the character of the first column of the first row using .charAt(0), it return nothing.\r\n\r\nI tried to read the csv row by row and print the whole row and the element in the first column, the expected result to get this:\r\n\r\n```\r\n[A,1]\r\nA\r\n[B,2]\r\nB\r\n[C,3]\r\nC\r\n```\r\n\r\nHowever, I got this as output, first element in first row went missing:\r\n\r\n```\r\n[A,1]\r\n\r\n[B,2]\r\nB\r\n[C,3]\r\nC\r\n```\r\n\r\nThis is my code:\r\n\r\n```\r\npackage application;\r\n\r\nimport java.io.*;\r\nimport java.util.Arrays;\r\n\r\npublic class trail {\r\n\r\n public static void main(String[] args) {\r\n  \r\n  String file = &quot;src/Book4.csv&quot;;\r\n  BufferedReader reader = null;\r\n  String line = &quot;&quot;;\r\n  \r\n\r\n\r\n  \r\n  try {\r\n      reader = new BufferedReader(new FileReader(file));\r\n      while ((line = reader.readLine()) != null) {\r\n          String[] row = line.split(&quot;,&quot;);           \r\n          System.out.println(Arrays.toString(row));\r\n          System.out.println(row[0].charAt(0));\r\n          \r\n                         \r\n      }\r\n  } catch (Exception e) {\r\n      e.printStackTrace();\r\n  } finally {\r\n      try {\r\n          reader.close();\r\n      } catch (IOException e) {\r\n          e.printStackTrace();\r\n      }\r\n  }\r\n  \r\n    \r\n }\r\n \r\n \r\n \r\n}\r\n```\r\n\r\nBut if i change the `System.out.println(row[0].charAt(0));`  to `System.out.println(row[0]);` , it output correctly, but I need the element as char later.","title":"Element missing in the first column of the first row when reading CSV in java","body":"<p>I have a csv file:</p>\n<pre><code>A,1\nB,2\nC,3\n</code></pre>\n<p>Whenever I try to get the character of the first column of the first row using .charAt(0), it return nothing.</p>\n<p>I tried to read the csv row by row and print the whole row and the element in the first column, the expected result to get this:</p>\n<pre><code>[A,1]\nA\n[B,2]\nB\n[C,3]\nC\n</code></pre>\n<p>However, I got this as output, first element in first row went missing:</p>\n<pre><code>[A,1]\n\n[B,2]\nB\n[C,3]\nC\n</code></pre>\n<p>This is my code:</p>\n<pre><code>package application;\n\nimport java.io.*;\nimport java.util.Arrays;\n\npublic class trail {\n\n public static void main(String[] args) {\n  \n  String file = &quot;src/Book4.csv&quot;;\n  BufferedReader reader = null;\n  String line = &quot;&quot;;\n  \n\n\n  \n  try {\n      reader = new BufferedReader(new FileReader(file));\n      while ((line = reader.readLine()) != null) {\n          String[] row = line.split(&quot;,&quot;);           \n          System.out.println(Arrays.toString(row));\n          System.out.println(row[0].charAt(0));\n          \n                         \n      }\n  } catch (Exception e) {\n      e.printStackTrace();\n  } finally {\n      try {\n          reader.close();\n      } catch (IOException e) {\n          e.printStackTrace();\n      }\n  }\n  \n    \n }\n \n \n \n}\n</code></pre>\n<p>But if i change the <code>System.out.println(row[0].charAt(0));</code>  to <code>System.out.println(row[0]);</code> , it output correctly, but I need the element as char later.</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1678694618,"post_id":75662432,"comment_id":133576225,"body_markdown":"This could be a bug. Please create an issue in the issue tracker(https://hibernate.atlassian.net) with a test case(https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-6/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java) that reproduces the issue.","body":"This could be a bug. Please create an issue in the issue tracker(<a href=\"https://hibernate.atlassian.net\" rel=\"nofollow noreferrer\">hibernate.atlassian.net</a>) with a test case(<a href=\"https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-6/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-test-case-templates/blob&zwnj;&#8203;/master/&hellip;</a>) that reproduces the issue."}],"answers":[{"tags":[],"owner":{"account_id":10384070,"reputation":71,"user_id":7657805,"display_name":"RasAlGhul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695131832,"creation_date":1695131832,"answer_id":77135212,"question_id":75662432,"body_markdown":"For now, I didn&#39;t try to update my hibernate or Spring Boot versions, but it might have been fixed:\r\n\r\nhttps://github.com/spring-projects/spring-data-jpa/issues/2935#event-9915627847 ","title":"Hibernate entity with @Any attribute throws a nullpointer exception when updating","body":"<p>For now, I didn't try to update my hibernate or Spring Boot versions, but it might have been fixed:</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2935#event-9915627847\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/issues/2935#event-9915627847</a></p>\n"}],"owner":{"account_id":10384070,"reputation":71,"user_id":7657805,"display_name":"RasAlGhul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695131832,"creation_date":1678194759,"question_id":75662432,"body_markdown":"I&#39;m trying to use @Any annotation for a polymorphic relationship.\r\n\r\nFor demo purpose, I&#39;ve created 3 classes:\r\n\r\n- PcPlayer which implements Player interface\r\n- ConsolePlayer which implements Player interface\r\n- GameScore which contains a Player with @Any.\r\n\r\nI can create a GameScore with a player without any trouble, but when I try to update it, a nullpointer exception occurs:\r\n\r\n&gt; Cannot invoke &quot;org.hibernate.metamodel.mapping.AttributeMapping.getAttributeMetadataAccess()&quot; because the return value of &quot;org.hibernate.sql.results.graph.Fetchable.asAttributeMapping()&quot; is null. \r\n\r\nHere&#39;s my code\r\n\r\n**PcPlayer**\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\npublic class PcPlayer implements Player {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    private String username;\r\n\r\n}\r\n```\r\n\r\n**ConsolePlayer**\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\npublic class ConsolePlayer implements Player {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    private String username;\r\n\r\n}\r\n```\r\n\r\n**GameScore**\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.Any;\r\nimport org.hibernate.annotations.AnyDiscriminator;\r\nimport org.hibernate.annotations.AnyDiscriminatorValue;\r\nimport org.hibernate.annotations.AnyKeyJavaClass;\r\n\r\n@Entity\r\npublic class GameScore  {\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Player getPlayer() {\r\n        return player;\r\n    }\r\n\r\n    public void setPlayer(Player player) {\r\n        this.player = player;\r\n    }\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Any\r\n    @AnyDiscriminator(DiscriminatorType.STRING)\r\n    @AnyDiscriminatorValue(discriminator = &quot;P&quot;, entity = PcPlayer.class)\r\n    @AnyDiscriminatorValue(discriminator = &quot;C&quot;, entity = ConsolePlayer.class)\r\n    @AnyKeyJavaClass(Long.class)\r\n    @Column(name =&quot;player_type&quot;)\r\n    @JoinColumn(name = &quot;property_id&quot;)\r\n    private Player player;  \r\n\r\n}\r\n```\r\n\r\n**A service**\r\n\r\n```\r\n    PcPlayer pcPlayer = new PcPlayer();\r\n    pcPlayer.setUsername(&quot;Mike&quot;);\r\n\r\n    pcPlayerRepo.save(pcPlayer);\r\n\r\n    GameScore game = new GameScore();\r\n    game.setPlayer(pcPlayer);\r\n\r\n    gameScoreRepository.save(game);\r\n\r\n    // update some game&#39;s attributes\r\n\r\n    gameScoreRepository.save(game); // Exception thrown...\r\n```","title":"Hibernate entity with @Any attribute throws a nullpointer exception when updating","body":"<p>I'm trying to use @Any annotation for a polymorphic relationship.</p>\n<p>For demo purpose, I've created 3 classes:</p>\n<ul>\n<li>PcPlayer which implements Player interface</li>\n<li>ConsolePlayer which implements Player interface</li>\n<li>GameScore which contains a Player with @Any.</li>\n</ul>\n<p>I can create a GameScore with a player without any trouble, but when I try to update it, a nullpointer exception occurs:</p>\n<blockquote>\n<p>Cannot invoke &quot;org.hibernate.metamodel.mapping.AttributeMapping.getAttributeMetadataAccess()&quot; because the return value of &quot;org.hibernate.sql.results.graph.Fetchable.asAttributeMapping()&quot; is null.</p>\n</blockquote>\n<p>Here's my code</p>\n<p><strong>PcPlayer</strong></p>\n<pre><code>package com.example.demo;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Entity\npublic class PcPlayer implements Player {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    private String username;\n\n}\n</code></pre>\n<p><strong>ConsolePlayer</strong></p>\n<pre><code>package com.example.demo;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Entity\npublic class ConsolePlayer implements Player {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    private String username;\n\n}\n</code></pre>\n<p><strong>GameScore</strong></p>\n<pre><code>package com.example.demo;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.hibernate.annotations.Any;\nimport org.hibernate.annotations.AnyDiscriminator;\nimport org.hibernate.annotations.AnyDiscriminatorValue;\nimport org.hibernate.annotations.AnyKeyJavaClass;\n\n@Entity\npublic class GameScore  {\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Player getPlayer() {\n        return player;\n    }\n\n    public void setPlayer(Player player) {\n        this.player = player;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Any\n    @AnyDiscriminator(DiscriminatorType.STRING)\n    @AnyDiscriminatorValue(discriminator = &quot;P&quot;, entity = PcPlayer.class)\n    @AnyDiscriminatorValue(discriminator = &quot;C&quot;, entity = ConsolePlayer.class)\n    @AnyKeyJavaClass(Long.class)\n    @Column(name =&quot;player_type&quot;)\n    @JoinColumn(name = &quot;property_id&quot;)\n    private Player player;  \n\n}\n</code></pre>\n<p><strong>A service</strong></p>\n<pre><code>    PcPlayer pcPlayer = new PcPlayer();\n    pcPlayer.setUsername(&quot;Mike&quot;);\n\n    pcPlayerRepo.save(pcPlayer);\n\n    GameScore game = new GameScore();\n    game.setPlayer(pcPlayer);\n\n    gameScoreRepository.save(game);\n\n    // update some game's attributes\n\n    gameScoreRepository.save(game); // Exception thrown...\n</code></pre>\n"},{"tags":["java","cryptography","rsa","private-key","public-key"],"answers":[{"tags":[],"owner":{"account_id":3000917,"reputation":3739,"user_id":2546444,"accept_rate":88,"display_name":"Dennis Kriechel"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1405423066,"creation_date":1405421846,"answer_id":24756421,"question_id":24756420,"body_markdown":"Java is able to create a public key by using the modulus and exponent:\r\n\r\n    RSAPublicKeySpec keySpec = new RSAPublicKeySpec(modulus, exponent);\r\n    kf.generatePublic(keySpec);\r\n\r\nSo we need to extract these values out of the private key:\r\n\r\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    RSAPrivateKeySpec priv = kf.getKeySpec(privateKey, RSAPrivateKeySpec.class);\r\n\r\nThe `RSAPrivateKeySpec`-Object now contains the modulus we need, but the exponent is not the one we need for the public key. \r\n\r\nFor the public key the exponent is commonly at 65537:\r\nhttp://en.wikipedia.org/wiki/65537_(number)\r\n\r\nTherefore we can now create the public key:\r\n\r\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    RSAPrivateKeySpec priv = kf.getKeySpec(privateKey, RSAPrivateKeySpec.class);\r\n\r\n    RSAPublicKeySpec keySpec = new RSAPublicKeySpec(priv.getModulus(), BigInteger.valueOf(65537));\r\n\r\n    PublicKey publicKey = kf.generatePublic(keySpec);","title":"How to get the RSA public-key from private-key Object in Java","body":"<p>Java is able to create a public key by using the modulus and exponent:</p>\n\n<pre><code>RSAPublicKeySpec keySpec = new RSAPublicKeySpec(modulus, exponent);\nkf.generatePublic(keySpec);\n</code></pre>\n\n<p>So we need to extract these values out of the private key:</p>\n\n<pre><code>KeyFactory kf = KeyFactory.getInstance(\"RSA\");\nRSAPrivateKeySpec priv = kf.getKeySpec(privateKey, RSAPrivateKeySpec.class);\n</code></pre>\n\n<p>The <code>RSAPrivateKeySpec</code>-Object now contains the modulus we need, but the exponent is not the one we need for the public key. </p>\n\n<p>For the public key the exponent is commonly at 65537:\n<a href=\"http://en.wikipedia.org/wiki/65537_(number)\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/65537_(number)</a></p>\n\n<p>Therefore we can now create the public key:</p>\n\n<pre><code>KeyFactory kf = KeyFactory.getInstance(\"RSA\");\nRSAPrivateKeySpec priv = kf.getKeySpec(privateKey, RSAPrivateKeySpec.class);\n\nRSAPublicKeySpec keySpec = new RSAPublicKeySpec(priv.getModulus(), BigInteger.valueOf(65537));\n\nPublicKey publicKey = kf.generatePublic(keySpec);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1695131585,"creation_date":1405460903,"answer_id":24768779,"question_id":24756420,"body_markdown":"You need to cast the private key into an RsaPrivateCrtKey. If the cast succeeds, you can extract the public key. If the cast fails, strictly speaking you don&#39;t have enough information. \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static RSAPublicKey getPublicKeySpec(PrivateKey priv) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        RSAPrivateCrtKey rsaCrtKey = (RSAPrivateCrtKey) priv; // May throw a ClassCastException\r\n        RSAPublicKeySpec rsaPublicKeySpec = new RSAPublicKeySpec(rsaCrtKey.getModulus(), rsaCrtKey.getPublicExponent());\r\n        return (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(rsaPublicKeySpec);\r\n    }\r\n\r\nIf the cast fails, you can attempt to guess the public exponent and check your guess by using the standard RSA relation (x&lt;sup&gt;e&lt;/sup&gt;)&lt;sup&gt;d&lt;/sup&gt; = x mod N for all x. For your guess of e, try a few random x values in the equation and see if the relation always holds. This technique can only yield a probabilistic answer. For more details on finding the public exponent when it&#39;s not known, see [this answer on crypto](https://crypto.stackexchange.com/a/91987/676).\r\n\r\nThanks to @SamGinrich for helpful suggestions.","title":"How to get the RSA public-key from private-key Object in Java","body":"<p>You need to cast the private key into an RsaPrivateCrtKey. If the cast succeeds, you can extract the public key. If the cast fails, strictly speaking you don't have enough information.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static RSAPublicKey getPublicKeySpec(PrivateKey priv) throws NoSuchAlgorithmException, InvalidKeySpecException {\n    RSAPrivateCrtKey rsaCrtKey = (RSAPrivateCrtKey) priv; // May throw a ClassCastException\n    RSAPublicKeySpec rsaPublicKeySpec = new RSAPublicKeySpec(rsaCrtKey.getModulus(), rsaCrtKey.getPublicExponent());\n    return (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(rsaPublicKeySpec);\n}\n</code></pre>\n<p>If the cast fails, you can attempt to guess the public exponent and check your guess by using the standard RSA relation (x<sup>e</sup>)<sup>d</sup> = x mod N for all x. For your guess of e, try a few random x values in the equation and see if the relation always holds. This technique can only yield a probabilistic answer. For more details on finding the public exponent when it's not known, see <a href=\"https://crypto.stackexchange.com/a/91987/676\">this answer on crypto</a>.</p>\n<p>Thanks to @SamGinrich for helpful suggestions.</p>\n"}],"owner":{"account_id":3000917,"reputation":3739,"user_id":2546444,"accept_rate":88,"display_name":"Dennis Kriechel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7330,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24756421,"answer_count":2,"score":3,"last_activity_date":1695131585,"creation_date":1405421846,"question_id":24756420,"body_markdown":"How to get the related public-key object `java.security.PublicKey` out of a private-key Object `java.security.PrivateKey` in the RSA cryptosystem.\r\n\r\n","title":"How to get the RSA public-key from private-key Object in Java","body":"<p>How to get the related public-key object <code>java.security.PublicKey</code> out of a private-key Object <code>java.security.PrivateKey</code> in the RSA cryptosystem.</p>\n"},{"tags":["java","logging","logback"],"comments":[{"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"score":0,"creation_date":1461931228,"post_id":36935230,"comment_id":61434724,"body_markdown":"Is the file getting created on the directory you mentioned? if not check the permission of the user under which your application is running has access to the directory where the log file needs to be written.","body":"Is the file getting created on the directory you mentioned? if not check the permission of the user under which your application is running has access to the directory where the log file needs to be written."},{"owner":{"account_id":8207754,"reputation":1477,"user_id":6176933,"accept_rate":68,"display_name":"h.zak"},"score":0,"creation_date":1461933213,"post_id":36935230,"comment_id":61435973,"body_markdown":"I&#39;m wokring with root user, so I should not have any problem of permission,","body":"I&#39;m wokring with root user, so I should not have any problem of permission,"}],"answers":[{"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1461928912,"creation_date":1461924713,"answer_id":36935574,"question_id":36935230,"body_markdown":"Add this portion\r\n\r\n    &lt;logger name=&quot;com.my.package&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;!-- By default, the level of the root level is set to DEBUG --&gt;\r\n    &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n\r\ninstead of \r\n\r\n      &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n      &lt;/root&gt;\r\n\r\nWrite your project package name instead of `com.my.package`\r\n\r\nHope it will solve your issue.\r\n\r\n---\r\n\r\nUpdate:\r\n---\r\n**Send logs to File**\r\n\r\nAll logging will be redirected to a file `c:/logs/debug.log`. Furthermore, this log file will be archived daily or the file size is larger than 10MB.\r\n\r\nlogback.xml\r\n---\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    \r\n    \t&lt;property name=&quot;DEV_HOME&quot; value=&quot;c:/logs&quot; /&gt;\r\n    \r\n    \t&lt;appender name=&quot;FILE-AUDIT&quot;\r\n    \t\tclass=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n    \t\t&lt;file&gt;${DEV_HOME}/debug.log&lt;/file&gt;\r\n    \t\t&lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n    \t\t\t&lt;Pattern&gt;\r\n    \t\t\t\t%d{yyyy-MM-dd HH:mm:ss} - %msg%n\r\n    \t\t\t&lt;/Pattern&gt;\r\n    \t\t&lt;/encoder&gt;\r\n    \r\n    \t\t&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n    \t\t\t&lt;!-- rollover daily --&gt;\r\n    \t\t\t&lt;fileNamePattern&gt;${DEV_HOME}/archived/debug.%d{yyyy-MM-dd}.%i.log\r\n                            &lt;/fileNamePattern&gt;\r\n    \t\t\t&lt;timeBasedFileNamingAndTriggeringPolicy\r\n    \t\t\t\tclass=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n    \t\t\t\t&lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n    \t\t\t&lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n    \t\t&lt;/rollingPolicy&gt;\r\n    \r\n    \t&lt;/appender&gt;\r\n    \r\n    \t&lt;logger name=&quot;com.mkyong.web&quot; level=&quot;debug&quot;\r\n    \t\tadditivity=&quot;false&quot;&gt;\r\n    \t\t&lt;appender-ref ref=&quot;FILE-AUDIT&quot; /&gt;\r\n    \t&lt;/logger&gt;\r\n    \r\n    \t&lt;root level=&quot;error&quot;&gt;\r\n    \t\t&lt;appender-ref ref=&quot;FILE-AUDIT&quot; /&gt;\r\n    \t&lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\nResource link:\r\n---\r\n\r\n 1. [logback.xml Example][1]\r\n\r\n\r\n  [1]: http://www.mkyong.com/logging/logback-xml-example/","title":"logback : does not creates log file","body":"<p>Add this portion</p>\n\n<pre><code>&lt;logger name=\"com.my.package\" level=\"DEBUG\" additivity=\"false\"&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;appender-ref ref=\"FILE\" /&gt;\n&lt;/logger&gt;\n\n&lt;!-- By default, the level of the root level is set to DEBUG --&gt;\n&lt;root level=\"DEBUG\"&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>  &lt;root level=\"DEBUG\"&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;appender-ref ref=\"FILE\" /&gt;\n  &lt;/root&gt;\n</code></pre>\n\n<p>Write your project package name instead of <code>com.my.package</code></p>\n\n<p>Hope it will solve your issue.</p>\n\n<hr>\n\n<h2>Update:</h2>\n\n<p><strong>Send logs to File</strong></p>\n\n<p>All logging will be redirected to a file <code>c:/logs/debug.log</code>. Furthermore, this log file will be archived daily or the file size is larger than 10MB.</p>\n\n<h2>logback.xml</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n\n    &lt;property name=\"DEV_HOME\" value=\"c:/logs\" /&gt;\n\n    &lt;appender name=\"FILE-AUDIT\"\n        class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n        &lt;file&gt;${DEV_HOME}/debug.log&lt;/file&gt;\n        &lt;encoder class=\"ch.qos.logback.classic.encoder.PatternLayoutEncoder\"&gt;\n            &lt;Pattern&gt;\n                %d{yyyy-MM-dd HH:mm:ss} - %msg%n\n            &lt;/Pattern&gt;\n        &lt;/encoder&gt;\n\n        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;\n            &lt;!-- rollover daily --&gt;\n            &lt;fileNamePattern&gt;${DEV_HOME}/archived/debug.%d{yyyy-MM-dd}.%i.log\n                        &lt;/fileNamePattern&gt;\n            &lt;timeBasedFileNamingAndTriggeringPolicy\n                class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;\n                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;/rollingPolicy&gt;\n\n    &lt;/appender&gt;\n\n    &lt;logger name=\"com.mkyong.web\" level=\"debug\"\n        additivity=\"false\"&gt;\n        &lt;appender-ref ref=\"FILE-AUDIT\" /&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=\"error\"&gt;\n        &lt;appender-ref ref=\"FILE-AUDIT\" /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n\n<h2>Resource link:</h2>\n\n<ol>\n<li><a href=\"http://www.mkyong.com/logging/logback-xml-example/\" rel=\"noreferrer\">logback.xml Example</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1589813,"reputation":129,"user_id":1473402,"display_name":"gbii"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1479217312,"creation_date":1479212718,"answer_id":40609809,"question_id":36935230,"body_markdown":"Maybe the following link will help you.\r\n\r\nhttps://dzone.com/articles/do-not-use-relative-path\r\n\r\n**EDIT**: This link says that &quot;*don&#39;t use relative path with logback*&quot;. But I found an opportunity to test it. And I found some strange outputs.\r\n\r\nMy test platform is an web application and this app is running under Apache Tomcat on Windows. \r\n**Configuration and outputs:**\r\n\r\n\r\n----------\r\n\r\n\r\n`&lt;file&gt;/logs/output.log&lt;/file&gt;` --------------&gt; Creates log file in C:\\logs folder\r\n`&lt;file&gt;C:/logs/output.log&lt;/file&gt;` -----------&gt; Creates log file in C:\\logs folder\r\n`&lt;file&gt;../logs/output.log&lt;/file&gt;` -----------&gt; Creates log file in tomcat logs folder\r\n`&lt;file&gt;logs/output.log&lt;/file&gt;` ---------------&gt; Creates log file in tomcat bin\\logs folder\r\n\r\nSometimes the log file is not created, I think, the main reason of it is lack of create file permission of user/application.","title":"logback : does not creates log file","body":"<p>Maybe the following link will help you.</p>\n\n<p><a href=\"https://dzone.com/articles/do-not-use-relative-path\" rel=\"noreferrer\">https://dzone.com/articles/do-not-use-relative-path</a></p>\n\n<p><strong>EDIT</strong>: This link says that \"<em>don't use relative path with logback</em>\". But I found an opportunity to test it. And I found some strange outputs.</p>\n\n<p>My test platform is an web application and this app is running under Apache Tomcat on Windows. \n<strong>Configuration and outputs:</strong></p>\n\n<hr>\n\n<p><code>&lt;file&gt;/logs/output.log&lt;/file&gt;</code> --------------> Creates log file in C:\\logs folder\n<code>&lt;file&gt;C:/logs/output.log&lt;/file&gt;</code> -----------> Creates log file in C:\\logs folder\n<code>&lt;file&gt;../logs/output.log&lt;/file&gt;</code> -----------> Creates log file in tomcat logs folder\n<code>&lt;file&gt;logs/output.log&lt;/file&gt;</code> ---------------> Creates log file in tomcat bin\\logs folder</p>\n\n<p>Sometimes the log file is not created, I think, the main reason of it is lack of create file permission of user/application.</p>\n"},{"tags":[],"owner":{"account_id":7776383,"reputation":356,"user_id":5884374,"display_name":"sanjiv saini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494520334,"creation_date":1494520334,"answer_id":43921100,"question_id":36935230,"body_markdown":"I also faced the same problem. In my case I was using the eclipse with tomcat.\r\n\r\nIf(absolute path)\r\n   then there is no problem, log files get created in the path specified.\r\n\r\nelse if (Relative path &amp;&amp; working in eclipse)\r\n   then your log files is created inside the path relative to the eclipse installation directory.\r\n\r\nelse if (Relative path &amp;&amp; deployed in tomcat)\r\n   then the log files gets created inside the path relative to bin folder of tomcat\r\n","title":"logback : does not creates log file","body":"<p>I also faced the same problem. In my case I was using the eclipse with tomcat.</p>\n\n<p>If(absolute path)\n   then there is no problem, log files get created in the path specified.</p>\n\n<p>else if (Relative path &amp;&amp; working in eclipse)\n   then your log files is created inside the path relative to the eclipse installation directory.</p>\n\n<p>else if (Relative path &amp;&amp; deployed in tomcat)\n   then the log files gets created inside the path relative to bin folder of tomcat</p>\n"},{"tags":[],"owner":{"account_id":1613278,"reputation":351,"user_id":1491662,"display_name":"uudaddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557692394,"creation_date":1557691379,"answer_id":56103008,"question_id":36935230,"body_markdown":"In my case, it was actually someting I added in the pom.xml that ignores xml property file. After I added \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;include&gt;**/*.xml&lt;/include&gt;  \r\n\r\nthere, it worked\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;resource&gt;\r\n        &lt;directory&gt;src/main/resources/&lt;/directory&gt;\r\n        &lt;includes&gt;\r\n          &lt;include&gt;**/*.json&lt;/include&gt;          \r\n          &lt;include&gt;**/*.properties&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n      &lt;/resource&gt;\r\n    &lt;/resources&gt;","title":"logback : does not creates log file","body":"<p>In my case, it was actually someting I added in the pom.xml that ignores xml property file. After I added </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;include&gt;**/*.xml&lt;/include&gt;  \n</code></pre>\n\n<p>there, it worked</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resource&gt;\n    &lt;directory&gt;src/main/resources/&lt;/directory&gt;\n    &lt;includes&gt;\n      &lt;include&gt;**/*.json&lt;/include&gt;          \n      &lt;include&gt;**/*.properties&lt;/include&gt;\n    &lt;/includes&gt;\n  &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6734605,"reputation":21,"user_id":5189819,"display_name":"Dani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570793344,"creation_date":1570793344,"answer_id":58340341,"question_id":36935230,"body_markdown":"When I had this problem, I had to add the folder where the logback.log file was as a source folder.\r\nIn eclipse just do right click on the folder -&gt; Build Path-&gt; Use as Source Folder.","title":"logback : does not creates log file","body":"<p>When I had this problem, I had to add the folder where the logback.log file was as a source folder.\nIn eclipse just do right click on the folder -> Build Path-> Use as Source Folder.</p>\n"},{"tags":[],"owner":{"account_id":19171046,"reputation":11,"user_id":14004791,"display_name":"Kavinraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596790001,"creation_date":1596790001,"answer_id":63298381,"question_id":36935230,"body_markdown":"create a repository and include it as a source folder and put the logback.xml file in it.\r\nTo include the repository into source folder, click on the repository-&gt; Build Path -&gt; Use as Source Folder","title":"logback : does not creates log file","body":"<p>create a repository and include it as a source folder and put the logback.xml file in it.\nTo include the repository into source folder, click on the repository-&gt; Build Path -&gt; Use as Source Folder</p>\n"},{"tags":[],"owner":{"account_id":20450710,"reputation":1,"user_id":15005540,"display_name":"guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610628956,"creation_date":1610628956,"answer_id":65719382,"question_id":36935230,"body_markdown":"I was missing the dependency ch.qos.logback logback-classic","title":"logback : does not creates log file","body":"<p>I was missing the dependency ch.qos.logback logback-classic</p>\n"},{"tags":[],"owner":{"account_id":2907380,"reputation":731,"user_id":2492340,"accept_rate":52,"display_name":"opfau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678970720,"creation_date":1678891631,"answer_id":75746339,"question_id":36935230,"body_markdown":"In my case the file was not created for a new appender because the value/pattern of \r\n   \r\n\r\n    &lt;fileNamePattern&gt;\r\n\r\nunder\r\n\r\n    &lt;rollingPolicy&gt;\r\n\r\ntag was not unique. Then the log file for the new appender wasn&#39;t created.","title":"logback : does not creates log file","body":"<p>In my case the file was not created for a new appender because the value/pattern of</p>\n<pre><code>&lt;fileNamePattern&gt;\n</code></pre>\n<p>under</p>\n<pre><code>&lt;rollingPolicy&gt;\n</code></pre>\n<p>tag was not unique. Then the log file for the new appender wasn't created.</p>\n"},{"tags":[],"owner":{"account_id":21266913,"reputation":240,"user_id":15647017,"display_name":"Gergo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682271668,"creation_date":1682271668,"answer_id":76086328,"question_id":36935230,"body_markdown":"Don&#39;t forget to add this property to the `application.properties` file.\r\n\r\n`logging.config=/opt/mychat/conf/logback.xml`\r\n\r\nMy example configuration file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    &lt;property name=&quot;LOGS&quot; value=&quot;/log/mychat&quot; /&gt;\r\n    &lt;appender name=&quot;Console&quot;\r\n              class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n            &lt;Pattern&gt;\r\n                %black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1}): %msg%n%throwable\r\n            &lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;RollingFile&quot;\r\n              class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOGS}/mychat.log&lt;/file&gt;\r\n        &lt;encoder\r\n                class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n            &lt;Pattern&gt;%d %p %C{1} [%t] %m%n&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n\r\n        &lt;rollingPolicy\r\n                class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${LOGS}/archived/mychat-%d{yyyy-MM-dd}.%i.log\r\n            &lt;/fileNamePattern&gt;\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy\r\n                    class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;/rollingPolicy&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n    &lt;logger name=&quot;com.fsgc&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n&lt;/configuration&gt;","title":"logback : does not creates log file","body":"<p>Don't forget to add this property to the <code>application.properties</code> file.</p>\n<p><code>logging.config=/opt/mychat/conf/logback.xml</code></p>\n<p>My example configuration file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n&lt;property name=&quot;LOGS&quot; value=&quot;/log/mychat&quot; /&gt;\n&lt;appender name=&quot;Console&quot;\n          class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n        &lt;Pattern&gt;\n            %black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1}): %msg%n%throwable\n        &lt;/Pattern&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;appender name=&quot;RollingFile&quot;\n          class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;${LOGS}/mychat.log&lt;/file&gt;\n    &lt;encoder\n            class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n        &lt;Pattern&gt;%d %p %C{1} [%t] %m%n&lt;/Pattern&gt;\n    &lt;/encoder&gt;\n\n    &lt;rollingPolicy\n            class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;fileNamePattern&gt;${LOGS}/archived/mychat-%d{yyyy-MM-dd}.%i.log\n        &lt;/fileNamePattern&gt;\n        &lt;timeBasedFileNamingAndTriggeringPolicy\n                class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n            &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n        &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n    &lt;/rollingPolicy&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\n    &lt;appender-ref ref=&quot;Console&quot; /&gt;\n&lt;/root&gt;\n\n&lt;logger name=&quot;com.fsgc&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\n    &lt;appender-ref ref=&quot;Console&quot; /&gt;\n&lt;/logger&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":2459229,"reputation":441,"user_id":2143734,"accept_rate":75,"display_name":"Zzirconium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695130685,"creation_date":1695130685,"answer_id":77135074,"question_id":36935230,"body_markdown":"look at the stdout when your app starts : logback gives you hints about what&#39;s happening. your console appender can be created successfully (letting your think that your logback.xml is correct) while file appender being in error. Look at the ERROR and WARN you see, most of the time you&#39;ll see something.\r\n\r\nFYI relative path works quite well, there is no reason why you should put absolute path. ","title":"logback : does not creates log file","body":"<p>look at the stdout when your app starts : logback gives you hints about what's happening. your console appender can be created successfully (letting your think that your logback.xml is correct) while file appender being in error. Look at the ERROR and WARN you see, most of the time you'll see something.</p>\n<p>FYI relative path works quite well, there is no reason why you should put absolute path.</p>\n"}],"owner":{"account_id":8207754,"reputation":1477,"user_id":6176933,"accept_rate":68,"display_name":"h.zak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39639,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":10,"score":10,"last_activity_date":1695130685,"creation_date":1461923756,"question_id":36935230,"body_markdown":"First of all, I tried every solution that exist, but nothing is working, so I don&#39;t want from anyone to say this question is duplicated.\r\n\r\nI cannot log to the file using _logback_, but I can log to console without problems.\r\n\r\nMy `logback.xml` file content:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n\r\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    &lt;!-- encoders are assigned the type\r\n                  ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\r\n    &lt;encoder&gt;\r\n      &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg %n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n\r\n&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n    &lt;!--See http://logback.qos.ch/manual/appenders.html#RollingFileAppender--&gt;\r\n    &lt;!--and http://logback.qos.ch/manual/appenders.html#TimeBasedRollingPolicy--&gt;\r\n    &lt;!--for further documentation--&gt;\r\n    &lt;append&gt;true&lt;/append&gt;\r\n    &lt;File&gt;/root/connector/logs/connector.log&lt;/File&gt;\r\n    &lt;encoder&gt;\r\n        &lt;!-- was: %d{yyyy-MM-dd HH:mm:ss}%5p [%t] (%F:%L) - %msg%n --&gt;\r\n      &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5level [%thread] \\(%class{25}:%line\\) - %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n      &lt;!-- By setting the name to .gz here, we get free compression. --&gt;\r\n      &lt;fileNamePattern&gt;/root/connector/logs/connector.log.%d{yyyy-MM-dd}.gz&lt;/fileNamePattern&gt;\r\n    &lt;/rollingPolicy&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;root level=&quot;DEBUG&quot;&gt;\r\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n  &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nI even tried to give all users the permission to write in the folder, but this doesn&#39;t work.\r\n\r\n&gt; drwxrwxrwx. 2 nobody nobody  4096 Apr 29 08:24 logs\r\n\r\nI repeat again, I tried every solution that exists, but nothing is working.","title":"logback : does not creates log file","body":"<p>First of all, I tried every solution that exist, but nothing is working, so I don't want from anyone to say this question is duplicated.</p>\n<p>I cannot log to the file using <em>logback</em>, but I can log to console without problems.</p>\n<p>My <code>logback.xml</code> file content:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;!-- encoders are assigned the type\n                  ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg %n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;!--See http://logback.qos.ch/manual/appenders.html#RollingFileAppender--&gt;\n    &lt;!--and http://logback.qos.ch/manual/appenders.html#TimeBasedRollingPolicy--&gt;\n    &lt;!--for further documentation--&gt;\n    &lt;append&gt;true&lt;/append&gt;\n    &lt;File&gt;/root/connector/logs/connector.log&lt;/File&gt;\n    &lt;encoder&gt;\n        &lt;!-- was: %d{yyyy-MM-dd HH:mm:ss}%5p [%t] (%F:%L) - %msg%n --&gt;\n      &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5level [%thread] \\(%class{25}:%line\\) - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n      &lt;!-- By setting the name to .gz here, we get free compression. --&gt;\n      &lt;fileNamePattern&gt;/root/connector/logs/connector.log.%d{yyyy-MM-dd}.gz&lt;/fileNamePattern&gt;\n    &lt;/rollingPolicy&gt;\n  &lt;/appender&gt;\n\n  &lt;root level=&quot;DEBUG&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>I even tried to give all users the permission to write in the folder, but this doesn't work.</p>\n<blockquote>\n<p>drwxrwxrwx. 2 nobody nobody  4096 Apr 29 08:24 logs</p>\n</blockquote>\n<p>I repeat again, I tried every solution that exists, but nothing is working.</p>\n"},{"tags":["java","android","android-vibration","samsung"],"answers":[{"tags":[],"owner":{"account_id":18702501,"reputation":23,"user_id":13634409,"display_name":"Hatem Darwish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695130196,"creation_date":1695130196,"answer_id":77135003,"question_id":77134816,"body_markdown":"Ensure that your app has the necessary permissions to vibrate the device. You need to include the \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt; \r\n\r\npermission in your app&#39;s AndroidManifest.xml file.\r\n\r\nDouble-check your code to make sure you&#39;re creating and applying the VibrationEffect correctly. Here&#39;s an example of how to create and use a VibrationEffect:\r\ntry use **createOneShot**\r\n\r\n    Vibrator vibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n    if (vibrator != null &amp;&amp; vibrator.hasVibrator()) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            VibrationEffect vibrationEffect = VibrationEffect.createOneShot(1000, VibrationEffect.DEFAULT_AMPLITUDE);\r\n            vibrator.vibrate(vibrationEffect);\r\n        } else {\r\n            // For devices before Android Oreo (API level 26)\r\n            vibrator.vibrate(1000);\r\n        }\r\n    }\r\n\r\n","title":"Why the VibrationEffect is not working on Samsung devices only","body":"<p>Ensure that your app has the necessary permissions to vibrate the device. You need to include the</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt; \n</code></pre>\n<p>permission in your app's AndroidManifest.xml file.</p>\n<p>Double-check your code to make sure you're creating and applying the VibrationEffect correctly. Here's an example of how to create and use a VibrationEffect:\ntry use <strong>createOneShot</strong></p>\n<pre><code>Vibrator vibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\nif (vibrator != null &amp;&amp; vibrator.hasVibrator()) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        VibrationEffect vibrationEffect = VibrationEffect.createOneShot(1000, VibrationEffect.DEFAULT_AMPLITUDE);\n        vibrator.vibrate(vibrationEffect);\n    } else {\n        // For devices before Android Oreo (API level 26)\n        vibrator.vibrate(1000);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695130196,"creation_date":1695128717,"question_id":77134816,"body_markdown":"I&#39;m trying to make a vibration effect using the below code : \r\n\r\n    public static void vibrate(Context context) {\r\n            if (context != null) {\r\n                if (SPUtils.getInstance().getBoolean(&quot;isVibrationOn&quot;, true)) {\r\n                    Vibrator vibrator = (Vibrator) context.getSystemService(Context.VIBRATOR_SERVICE);\r\n                    if (vibrator.hasVibrator()) {\r\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\r\n                                VibrationEffect vibrationEffect = VibrationEffect.createPredefined(VibrationEffect.EFFECT_CLICK);\r\n                                vibrator.vibrate(vibrationEffect);\r\n                            } else\r\n                                vibrator.vibrate(VibrationEffect.createOneShot(15, VibrationEffect.CONTENTS_FILE_DESCRIPTOR));\r\n                        } else vibrator.vibrate(15);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nFor some reason, the vibration is not working on all tested Samsung devices, such as:\r\n\r\n - Samsung Galaxy A13\r\n - Samsung Galaxy A32\r\n - Samsung Galaxy A20\r\n\r\nI wonder if the Samsung device needs some additional code to make the vibration work.","title":"Why the VibrationEffect is not working on Samsung devices only","body":"<p>I'm trying to make a vibration effect using the below code :</p>\n<pre><code>public static void vibrate(Context context) {\n        if (context != null) {\n            if (SPUtils.getInstance().getBoolean(&quot;isVibrationOn&quot;, true)) {\n                Vibrator vibrator = (Vibrator) context.getSystemService(Context.VIBRATOR_SERVICE);\n                if (vibrator.hasVibrator()) {\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\n                            VibrationEffect vibrationEffect = VibrationEffect.createPredefined(VibrationEffect.EFFECT_CLICK);\n                            vibrator.vibrate(vibrationEffect);\n                        } else\n                            vibrator.vibrate(VibrationEffect.createOneShot(15, VibrationEffect.CONTENTS_FILE_DESCRIPTOR));\n                    } else vibrator.vibrate(15);\n                }\n            }\n        }\n    }\n</code></pre>\n<p>For some reason, the vibration is not working on all tested Samsung devices, such as:</p>\n<ul>\n<li>Samsung Galaxy A13</li>\n<li>Samsung Galaxy A32</li>\n<li>Samsung Galaxy A20</li>\n</ul>\n<p>I wonder if the Samsung device needs some additional code to make the vibration work.</p>\n"},{"tags":["java","spring","oauth-2.0","postman","spotify"],"owner":{"account_id":29481874,"reputation":11,"user_id":22592567,"display_name":"Mikołaj Kawczyński"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695129178,"creation_date":1695129044,"question_id":77134857,"body_markdown":"I&#39;m building a Spring Boot service using Spotify Web API and wanted to test my controller methods. Using a browser, I could check the GET request and everything worked fine - I received the expected responses. The problem occurred when I wanted to check POST requests using Postman. Despite configuring authorization via OAuth 2.0 in Postman and receiving access tokens, every time I tried to make a request, the source code of the Spotify login page was returned, regardless of whether it was a POST or GET request.\r\n\r\nThis is how my spotify configuration in application.properties file looks like:\r\n\r\n```\r\nspring.security.oauth2.client.registration.spotify.client-id=${SPOTIFY_CLIENT_ID}\r\nspring.security.oauth2.client.registration.spotify.client-secret=${SPOTIFY_CLIENT_SECRET}\r\nspring.security.oauth2.client.registration.spotify.authorization-grant-type=authorization_code\r\nspring.security.oauth2.client.registration.spotify.redirect-uri=http://localhost:8080/login/oauth2/code/spotify\r\nspring.security.oauth2.client.registration.spotify.scope=user-read-email,user-read-private\r\nspring.security.oauth2.client.provider.spotify.authorization-uri=https://accounts.spotify.com/authorize\r\nspring.security.oauth2.client.provider.spotify.token-uri=https://accounts.spotify.com/api/token\r\n\r\nspring.security.oauth2.client.registration.spotify.provider=spotify\r\nspring.security.oauth2.client.provider.spotify.user-info-uri=https://api.spotify.com/v1/me\r\nspring.security.oauth2.client.provider.spotify.user-name-attribute=id\r\n```\r\nI have the same Redirect URI set in the app settings on the Spotify website.\r\n\r\nThe service where there is an example method that I wanted to test looks like this:\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class SpotifyService {\r\n\r\n    private final RestTemplate restTemplate;\r\n    private final String BASE_URL = &quot;https://api.spotify.com/v1/&quot;;\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    public &lt;T&gt; T fetchData(String id, String endpoint, String accessToken, Class&lt;T&gt; responseType) {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setBearerAuth(accessToken);\r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;parameters&quot;, headers);\r\n\r\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(\r\n                BASE_URL + endpoint + &quot;/&quot; + id,\r\n                HttpMethod.GET,\r\n                entity,\r\n                String.class\r\n        );\r\n\r\n        try {\r\n            return objectMapper.readValue(response.getBody(), responseType);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public ArtistDto getArtist(String artistId, String accessToken) {\r\n\r\n        return fetchData(\r\n                artistId,\r\n                &quot;artists&quot;,\r\n                accessToken,\r\n                ArtistDto.class\r\n        );\r\n    }\r\n}\r\n\r\n```\r\nAnd the controller for that:\r\n\r\n```\r\n@RestController\r\n@RequiredArgsConstructor\r\n@RequestMapping(&quot;/api/spotify&quot;)\r\npublic class SpotifyController {\r\n\r\n    private final SpotifyService spotifyService;\r\n    private final TokenService tokenService;\r\n\r\n    @GetMapping(&quot;/artists/{id}&quot;)\r\n    public ResponseEntity&lt;ArtistDto&gt; getArtist(@PathVariable String id) {\r\n        String accessToken = tokenService.getAccessToken();\r\n        ArtistDto artistDto = spotifyService.getArtist(id, accessToken);\r\n\r\n        return ResponseEntity.ok(artistDto);\r\n    }\r\n}\r\n```\r\nI also have this token service which provides me the access token:\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class TokenService {\r\n    private final OAuth2AuthorizedClientService authorizedClientService;\r\n\r\n    public String getAccessToken() {\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        OAuth2AuthenticationToken oauthToken = (OAuth2AuthenticationToken) authentication;\r\n        OAuth2AuthorizedClient client = authorizedClientService.loadAuthorizedClient(\r\n                oauthToken.getAuthorizedClientRegistrationId(),\r\n                oauthToken.getName()\r\n        );\r\n\r\n        return client.getAccessToken().getTokenValue();\r\n    }\r\n}\r\n```\r\n\r\nLike I said, when I checked the operation of this method in the browser, it returns me the correct data in JSON format, but when I do it in Postman, I receive the source code of the Spotify login page.\r\n\r\nThis is how my OAuth 2.0 configuration looks like in Postman:\r\n[Postman OAuth 2.0 config](https://i.stack.imgur.com/oexHl.png)\r\n\r\nI don&#39;t use scopes because I want to get to public data. I also tried changing Grant Type to Client Credentials, but the result is the same - the token is generated correctly and included in the headers, but the response is still the login page.\r\n\r\nI also tried to create an endpoint that returns the current access token via the browser and paste this token into Postman using Bearer Token authorization, but still to no avail.\r\n\r\nI really hope someone can help me solve this problem.\r\n\r\n","title":"Problem with authorizing my requests to Spotify API via postman","body":"<p>I'm building a Spring Boot service using Spotify Web API and wanted to test my controller methods. Using a browser, I could check the GET request and everything worked fine - I received the expected responses. The problem occurred when I wanted to check POST requests using Postman. Despite configuring authorization via OAuth 2.0 in Postman and receiving access tokens, every time I tried to make a request, the source code of the Spotify login page was returned, regardless of whether it was a POST or GET request.</p>\n<p>This is how my spotify configuration in application.properties file looks like:</p>\n<pre><code>spring.security.oauth2.client.registration.spotify.client-id=${SPOTIFY_CLIENT_ID}\nspring.security.oauth2.client.registration.spotify.client-secret=${SPOTIFY_CLIENT_SECRET}\nspring.security.oauth2.client.registration.spotify.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.spotify.redirect-uri=http://localhost:8080/login/oauth2/code/spotify\nspring.security.oauth2.client.registration.spotify.scope=user-read-email,user-read-private\nspring.security.oauth2.client.provider.spotify.authorization-uri=https://accounts.spotify.com/authorize\nspring.security.oauth2.client.provider.spotify.token-uri=https://accounts.spotify.com/api/token\n\nspring.security.oauth2.client.registration.spotify.provider=spotify\nspring.security.oauth2.client.provider.spotify.user-info-uri=https://api.spotify.com/v1/me\nspring.security.oauth2.client.provider.spotify.user-name-attribute=id\n</code></pre>\n<p>I have the same Redirect URI set in the app settings on the Spotify website.</p>\n<p>The service where there is an example method that I wanted to test looks like this:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class SpotifyService {\n\n    private final RestTemplate restTemplate;\n    private final String BASE_URL = &quot;https://api.spotify.com/v1/&quot;;\n\n    private final ObjectMapper objectMapper;\n\n    public &lt;T&gt; T fetchData(String id, String endpoint, String accessToken, Class&lt;T&gt; responseType) {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setBearerAuth(accessToken);\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;parameters&quot;, headers);\n\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(\n                BASE_URL + endpoint + &quot;/&quot; + id,\n                HttpMethod.GET,\n                entity,\n                String.class\n        );\n\n        try {\n            return objectMapper.readValue(response.getBody(), responseType);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    public ArtistDto getArtist(String artistId, String accessToken) {\n\n        return fetchData(\n                artistId,\n                &quot;artists&quot;,\n                accessToken,\n                ArtistDto.class\n        );\n    }\n}\n\n</code></pre>\n<p>And the controller for that:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/spotify&quot;)\npublic class SpotifyController {\n\n    private final SpotifyService spotifyService;\n    private final TokenService tokenService;\n\n    @GetMapping(&quot;/artists/{id}&quot;)\n    public ResponseEntity&lt;ArtistDto&gt; getArtist(@PathVariable String id) {\n        String accessToken = tokenService.getAccessToken();\n        ArtistDto artistDto = spotifyService.getArtist(id, accessToken);\n\n        return ResponseEntity.ok(artistDto);\n    }\n}\n</code></pre>\n<p>I also have this token service which provides me the access token:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class TokenService {\n    private final OAuth2AuthorizedClientService authorizedClientService;\n\n    public String getAccessToken() {\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        OAuth2AuthenticationToken oauthToken = (OAuth2AuthenticationToken) authentication;\n        OAuth2AuthorizedClient client = authorizedClientService.loadAuthorizedClient(\n                oauthToken.getAuthorizedClientRegistrationId(),\n                oauthToken.getName()\n        );\n\n        return client.getAccessToken().getTokenValue();\n    }\n}\n</code></pre>\n<p>Like I said, when I checked the operation of this method in the browser, it returns me the correct data in JSON format, but when I do it in Postman, I receive the source code of the Spotify login page.</p>\n<p>This is how my OAuth 2.0 configuration looks like in Postman:\n<a href=\"https://i.stack.imgur.com/oexHl.png\" rel=\"nofollow noreferrer\">Postman OAuth 2.0 config</a></p>\n<p>I don't use scopes because I want to get to public data. I also tried changing Grant Type to Client Credentials, but the result is the same - the token is generated correctly and included in the headers, but the response is still the login page.</p>\n<p>I also tried to create an endpoint that returns the current access token via the browser and paste this token into Postman using Bearer Token authorization, but still to no avail.</p>\n<p>I really hope someone can help me solve this problem.</p>\n"},{"tags":["java","jetty","http2"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1695130223,"post_id":77134820,"comment_id":135980683,"body_markdown":"What version of Jetty? and what version of Java?","body":"What version of Jetty? and what version of Java?"},{"owner":{"account_id":27307540,"reputation":1,"user_id":20823253,"display_name":"Naveen Punia"},"score":0,"creation_date":1695205688,"post_id":77134820,"comment_id":135992143,"body_markdown":"Jetty version : 11.0.16\njava version : 20","body":"Jetty version : 11.0.16 java version : 20"},{"owner":{"account_id":1255537,"reputation":17217,"user_id":1215076,"display_name":"sbordet"},"score":0,"creation_date":1695237195,"post_id":77134820,"comment_id":135999226,"body_markdown":"There is too little information to help. StackOverflow is not the right place for troubleshooting questions like this one. I suggest that you open an issue at https://github.com/eclipse/jetty.project/issues and discuss the issue there, where you would be able to provide the missing information.","body":"There is too little information to help. StackOverflow is not the right place for troubleshooting questions like this one. I suggest that you open an issue at <a href=\"https://github.com/eclipse/jetty.project/issues\" rel=\"nofollow noreferrer\">github.com/eclipse/jetty.project/issues</a> and discuss the issue there, where you would be able to provide the missing information."}],"owner":{"account_id":27307540,"reputation":1,"user_id":20823253,"display_name":"Naveen Punia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695129086,"creation_date":1695128745,"question_id":77134820,"body_markdown":"i have implemented a http2(clear text) server in jetty, its working as expected with http1_1, but i don&#39;t know what is wrong with http/2.\r\nis there something to do with handler?\r\n\r\nthe server is up on localhost:8080\r\n```\r\n//server\r\npackage server;\r\n\r\nimport org.eclipse.jetty.http2.server.HTTP2CServerConnectionFactory;\r\nimport org.eclipse.jetty.server.*;\r\nimport org.eclipse.jetty.server.handler.ContextHandler;\r\n\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Server server = new Server();\r\n\r\n        HttpConfiguration httpConfig = new HttpConfiguration();\r\n\r\n        HttpConnectionFactory http11 = new HttpConnectionFactory(httpConfig);\r\n\r\n        HTTP2CServerConnectionFactory h2c = new HTTP2CServerConnectionFactory(httpConfig);\r\n\r\n        ServerConnector http = new ServerConnector(server,http11, h2c);\r\n        http.setPort(8080);\r\n\r\n        // Set the connector\r\n        server.addConnector(http);\r\n\r\n        // set servlet handler\r\n        ContextHandler context = new ContextHandler();\r\n        context.setContextPath(&quot;/&quot;);\r\n        context.setHandler(new RequestHandler());\r\n        server.setHandler(context);\r\n\r\n        server.start();\r\n    }\r\n}\r\n\r\n// request handler\r\n\r\npackage server;\r\n\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.eclipse.jetty.server.Request;\r\nimport org.eclipse.jetty.server.handler.AbstractHandler;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.util.Objects;\r\n\r\npublic class RequestHandler extends AbstractHandler {\r\n    @Override\r\n    public void handle(String target, Request baseRequest, HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n//        baseRequest.setHandled(true);\r\n        System.out.println(baseRequest.getRequestURI());\r\n        String method = baseRequest.getMethod();\r\n        if(Objects.equals(method, &quot;POST&quot;)) {\r\n            BufferedReader reader = request.getReader();\r\n            StringBuilder requestBody = new StringBuilder();\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                requestBody.append(line);\r\n            }\r\n\r\n            System.out.println(&quot;REQUEST BODY IS : &quot; + requestBody.toString());\r\n            response.setContentType(&quot;application/json&quot;);\r\n\r\n            response.setStatus(202);\r\n            response.getWriter().println(&quot;POST REQUEST&quot;);\r\n\r\n        }\r\n        else {\r\n            System.out.println(&quot;GET REQUEST &quot;);\r\n            response.setContentType(&quot;application/json&quot;);\r\n            response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            response.setStatus(200);\r\n            System.out.println(&quot;Sending response&quot;);\r\n            response.getWriter().println(&quot;{\\&quot;http-version\\&quot; : 2}&quot;);\r\n            System.out.println(&quot;Sending response &gt;&gt; &quot;);\r\n\r\n        }\r\n        baseRequest.setHandled(true);\r\n    }\r\n}\r\n```\r\n\r\nsending http1_1 request \r\n\r\n[resonse](https://i.stack.imgur.com/soxwy.png)\r\n\r\non http/2 request:\r\n[response](https://i.stack.imgur.com/vAEmh.png)\r\n\r\n\r\n\r\non http/2 request the client is showing the error : \r\n\r\nlogs:\r\n```\r\n&gt; System.Net.Http.HttpRequestException: An error occurred while sending the request.\r\n&gt; System.IO.IOException: The request was aborted.\r\n&gt; System.IO.IOException: The response ended prematurely while waiting for the next frame from the server.\r\n&gt; at System.Net.Http.Http2Connection.&lt;ReadFrameAsync&gt;g__ThrowMissingFrame|69_1()\r\n&gt; at System.Net.Http.Http2Connection.ReadFrameAsync(Boolean initialFrame)\r\n&gt; at System.Net.Http.Http2Connection.ProcessIncomingFramesAsync()\r\n&gt; End of inner exception stack trace ---\r\n&gt; at System.Net.Http.Http2Connection.ThrowRequestAborted(Exception innerException)\r\n&gt; at System.Net.Http.Http2Connection.Http2Stream.CheckResponseBodyState()\r\n&gt; at System.Net.Http.Http2Connection.Http2Stream.TryEnsureHeaders()\r\n&gt; at System.Net.Http.Http2Connection.Http2Stream.ReadResponseHeadersAsync(CancellationToken cancellationToken)\r\n&gt; at System.Net.Http.Http2Connection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n&gt; End of inner exception stack trace ---\r\n&gt; at System.Net.Http.Http2Connection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n&gt; at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\r\n&gt; at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n&gt; at System.Net.Http.DecompressionHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n&gt; at System.Net.Http.HttpClient.&lt;SendAsync&gt;g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)\r\n&gt; at Pororoca.Infrastructure.Features.Requester.PororocaRequester.RequestAsync(IPororocaVariableResolver variableResolver, PororocaHttpRequest req, Boolean disableSslVerification, CancellationToken cancellationToken) in D:\\a\\Pororoca\\Pororoca\\src\\Pororoca.Infrastructure\\Features\\Requester\\PororocaRequester.cs:line 51\r\n```\r\n","title":"jetty server not responding to HTTP/2 requests","body":"<p>i have implemented a http2(clear text) server in jetty, its working as expected with http1_1, but i don't know what is wrong with http/2.\nis there something to do with handler?</p>\n<p>the server is up on localhost:8080</p>\n<pre><code>//server\npackage server;\n\nimport org.eclipse.jetty.http2.server.HTTP2CServerConnectionFactory;\nimport org.eclipse.jetty.server.*;\nimport org.eclipse.jetty.server.handler.ContextHandler;\n\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        Server server = new Server();\n\n        HttpConfiguration httpConfig = new HttpConfiguration();\n\n        HttpConnectionFactory http11 = new HttpConnectionFactory(httpConfig);\n\n        HTTP2CServerConnectionFactory h2c = new HTTP2CServerConnectionFactory(httpConfig);\n\n        ServerConnector http = new ServerConnector(server,http11, h2c);\n        http.setPort(8080);\n\n        // Set the connector\n        server.addConnector(http);\n\n        // set servlet handler\n        ContextHandler context = new ContextHandler();\n        context.setContextPath(&quot;/&quot;);\n        context.setHandler(new RequestHandler());\n        server.setHandler(context);\n\n        server.start();\n    }\n}\n\n// request handler\n\npackage server;\n\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.eclipse.jetty.server.Request;\nimport org.eclipse.jetty.server.handler.AbstractHandler;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class RequestHandler extends AbstractHandler {\n    @Override\n    public void handle(String target, Request baseRequest, HttpServletRequest request, HttpServletResponse response) throws IOException {\n//        baseRequest.setHandled(true);\n        System.out.println(baseRequest.getRequestURI());\n        String method = baseRequest.getMethod();\n        if(Objects.equals(method, &quot;POST&quot;)) {\n            BufferedReader reader = request.getReader();\n            StringBuilder requestBody = new StringBuilder();\n            String line;\n            while ((line = reader.readLine()) != null) {\n                requestBody.append(line);\n            }\n\n            System.out.println(&quot;REQUEST BODY IS : &quot; + requestBody.toString());\n            response.setContentType(&quot;application/json&quot;);\n\n            response.setStatus(202);\n            response.getWriter().println(&quot;POST REQUEST&quot;);\n\n        }\n        else {\n            System.out.println(&quot;GET REQUEST &quot;);\n            response.setContentType(&quot;application/json&quot;);\n            response.setCharacterEncoding(&quot;UTF-8&quot;);\n            response.setStatus(200);\n            System.out.println(&quot;Sending response&quot;);\n            response.getWriter().println(&quot;{\\&quot;http-version\\&quot; : 2}&quot;);\n            System.out.println(&quot;Sending response &gt;&gt; &quot;);\n\n        }\n        baseRequest.setHandled(true);\n    }\n}\n</code></pre>\n<p>sending http1_1 request</p>\n<p><a href=\"https://i.stack.imgur.com/soxwy.png\" rel=\"nofollow noreferrer\">resonse</a></p>\n<p>on http/2 request:\n<a href=\"https://i.stack.imgur.com/vAEmh.png\" rel=\"nofollow noreferrer\">response</a></p>\n<p>on http/2 request the client is showing the error :</p>\n<p>logs:</p>\n<pre><code>&gt; System.Net.Http.HttpRequestException: An error occurred while sending the request.\n&gt; System.IO.IOException: The request was aborted.\n&gt; System.IO.IOException: The response ended prematurely while waiting for the next frame from the server.\n&gt; at System.Net.Http.Http2Connection.&lt;ReadFrameAsync&gt;g__ThrowMissingFrame|69_1()\n&gt; at System.Net.Http.Http2Connection.ReadFrameAsync(Boolean initialFrame)\n&gt; at System.Net.Http.Http2Connection.ProcessIncomingFramesAsync()\n&gt; End of inner exception stack trace ---\n&gt; at System.Net.Http.Http2Connection.ThrowRequestAborted(Exception innerException)\n&gt; at System.Net.Http.Http2Connection.Http2Stream.CheckResponseBodyState()\n&gt; at System.Net.Http.Http2Connection.Http2Stream.TryEnsureHeaders()\n&gt; at System.Net.Http.Http2Connection.Http2Stream.ReadResponseHeadersAsync(CancellationToken cancellationToken)\n&gt; at System.Net.Http.Http2Connection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n&gt; End of inner exception stack trace ---\n&gt; at System.Net.Http.Http2Connection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n&gt; at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\n&gt; at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n&gt; at System.Net.Http.DecompressionHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n&gt; at System.Net.Http.HttpClient.&lt;SendAsync&gt;g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)\n&gt; at Pororoca.Infrastructure.Features.Requester.PororocaRequester.RequestAsync(IPororocaVariableResolver variableResolver, PororocaHttpRequest req, Boolean disableSslVerification, CancellationToken cancellationToken) in D:\\a\\Pororoca\\Pororoca\\src\\Pororoca.Infrastructure\\Features\\Requester\\PororocaRequester.cs:line 51\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16004817,"reputation":11,"user_id":11550584,"display_name":"Donniie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695128540,"creation_date":1695128498,"answer_id":77134793,"question_id":77134771,"body_markdown":"Hibernate Naming Strategy: Hibernate by default converts the camel-case field names in the entity class to underscore-separated column names in the database (https://stackoverflow.com/questions/38948289/java-sql-sqlsyntaxerrorexception-unknown-column-in-field-list). This means that &#39;ProductId&#39; in the entity class would be mapped to &#39;product_id&#39; in the database, which might be causing the issue. You can change Hibernate&#39;s naming strategy to avoid this automatic conversion.\r\n\r\n`spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n`\r\nThis should be added to your **application.properties** file to change the naming strategy (https://stackoverflow.com/questions/63413656/what-am-i-mapping-incorrectly-unknown-column-in-the-field-list).\r\n\r\n\r\n","title":"Hibernate naming strategy causing &quot;Unknown column&quot; error in Java Spring Boot application","body":"<p>Hibernate Naming Strategy: Hibernate by default converts the camel-case field names in the entity class to underscore-separated column names in the database (<a href=\"https://stackoverflow.com/questions/38948289/java-sql-sqlsyntaxerrorexception-unknown-column-in-field-list\">java.sql.SQLSyntaxErrorException: Unknown column in &#39;field list&#39;</a>). This means that 'ProductId' in the entity class would be mapped to 'product_id' in the database, which might be causing the issue. You can change Hibernate's naming strategy to avoid this automatic conversion.</p>\n<p><code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl </code>\nThis should be added to your <strong>application.properties</strong> file to change the naming strategy (<a href=\"https://stackoverflow.com/questions/63413656/what-am-i-mapping-incorrectly-unknown-column-in-the-field-list\">What am I mapping incorrectly? Unknown column in the &#39;field list&#39;</a>).</p>\n"},{"tags":[],"owner":{"account_id":243084,"reputation":31440,"user_id":515034,"accept_rate":59,"display_name":"Abimaran Kugathasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695128707,"creation_date":1695128707,"answer_id":77134815,"question_id":77134771,"body_markdown":"Mysql is case insensitive. If you use case sensitive column name then it will convert the camel case to the snake case.","title":"Hibernate naming strategy causing &quot;Unknown column&quot; error in Java Spring Boot application","body":"<p>Mysql is case insensitive. If you use case sensitive column name then it will convert the camel case to the snake case.</p>\n"}],"owner":{"account_id":16004817,"reputation":11,"user_id":11550584,"display_name":"Donniie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1695128506,"accepted_answer_id":77134815,"answer_count":2,"score":1,"last_activity_date":1695128707,"creation_date":1695128374,"question_id":77134771,"body_markdown":"I&#39;m working on a Spring Boot application using Hibernate and Lombok. I have an entity class Product mapped to a product table in my database. Here&#39;s the relevant part of the code:\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;product&quot;)\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;ProductId&quot;)\r\n    private int id;\r\n    // Other fields...\r\n}\r\n\r\n```\r\nWhen I run my application, I get the following error:\r\n\r\n`ERROR o.h.engine.jdbc.spi.SqlExceptionHelper : Unknown column &#39;p1_0.product_id&#39; in &#39;field list&#39;\r\n`\r\n\r\n\r\n\r\nIt seems like Hibernate is converting the camel-case field name &#39;ProductId&#39; in my entity class to the underscore-separated column name &#39;product_id&#39; in the database, causing a mismatch.\r\n\r\nI tried changing the @Column annotation to match the actual column name in the database, but it didn&#39;t solve the issue. I also checked my database schema and it does have a &#39;ProductId&#39; column.\r\n\r\nIs there a way to change the Hibernate naming strategy so that it doesn&#39;t automatically convert the field names? I want the names in my entity class to directly map to the column names in the database without any modifications.","title":"Hibernate naming strategy causing &quot;Unknown column&quot; error in Java Spring Boot application","body":"<p>I'm working on a Spring Boot application using Hibernate and Lombok. I have an entity class Product mapped to a product table in my database. Here's the relevant part of the code:</p>\n<pre><code>@Entity\n@Table(name = &quot;product&quot;)\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ProductId&quot;)\n    private int id;\n    // Other fields...\n}\n\n</code></pre>\n<p>When I run my application, I get the following error:</p>\n<p><code>ERROR o.h.engine.jdbc.spi.SqlExceptionHelper : Unknown column 'p1_0.product_id' in 'field list' </code></p>\n<p>It seems like Hibernate is converting the camel-case field name 'ProductId' in my entity class to the underscore-separated column name 'product_id' in the database, causing a mismatch.</p>\n<p>I tried changing the @Column annotation to match the actual column name in the database, but it didn't solve the issue. I also checked my database schema and it does have a 'ProductId' column.</p>\n<p>Is there a way to change the Hibernate naming strategy so that it doesn't automatically convert the field names? I want the names in my entity class to directly map to the column names in the database without any modifications.</p>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1695128151,"post_id":77134734,"comment_id":135980232,"body_markdown":"Add all information as text not as image","body":"Add all information as text not as image"}],"answers":[{"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695128486,"creation_date":1695128486,"answer_id":77134791,"question_id":77134734,"body_markdown":"The type safety warnings you are encountering are because you are working with collections of ***HashMap&lt;String, Object&gt;*** and trying to cast them to more specific types. While this casting can be done, it&#39;s not type-safe because the generic types of your collections are not explicitly defined, leading to unchecked type conversions.\r\n\r\nTo get rid of these type safety warnings, you should consider using JSON libraries that allow you to work with Java objects directly, such as Google&#39;s ***Gson*** or ***Jackson***. These libraries will allow you to map your JSON data directly to Java classes and avoid casting issues.\r\n\r\nHere&#39;s how you can refactor your code using the Gson library:    \r\n\r\n 1. Add the Gson dependency to your project if you haven&#39;t already\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;version&gt;2.10&lt;/version&gt; &lt;!-- Use the latest version --&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n 2. Refactor your ReadAndWrite class to use Gson:\r\n\r\n```\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.reflect.TypeToken;\r\n\r\npublic class ReadAndWrite {\r\n    private static String dummyName = &quot;dummyName&quot;;\r\n    private static String fileLocation = System.getProperty(&quot;user.home&quot;) + System.getProperty(&quot;file.separator&quot;) + &quot;loftUserData.json&quot;;\r\n    private Gson gson = new Gson();\r\n\r\n    // ...\r\n\r\n    public void writeWorkoutToUser(Workout workout) {\r\n        List&lt;User&gt; existingData = readDataFromFile();\r\n        List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n\r\n        User user;\r\n\r\n        if (existingData == null || existingData.isEmpty()) {\r\n            user = new User(dummyName);\r\n        } else {\r\n            user = existingData.get(0);\r\n        }\r\n\r\n        user.addWorkout(workout);\r\n        users.add(user);\r\n\r\n        String jsonFormat = gson.toJson(users);\r\n\r\n        try (FileWriter file = new FileWriter(fileLocation)) {\r\n            file.write(jsonFormat);\r\n            file.flush();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private List&lt;User&gt; readDataFromFile() {\r\n        try (FileReader reader = new FileReader(fileLocation)) {\r\n            if (reader.ready()) {\r\n                List&lt;User&gt; users = gson.fromJson(reader, new TypeToken&lt;List&lt;User&gt;&gt;() {}.getType());\r\n                return users;\r\n            } else {\r\n                // The file can be empty; this is not an error.\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            // If it is not found, it will be created at a later point, so this is fine.\r\n            return null;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public User returnUserClassFromFile() {\r\n        List&lt;User&gt; users = readDataFromFile();\r\n\r\n        if (users == null || users.isEmpty()) {\r\n            return new User(dummyName);\r\n        }\r\n\r\n        return users.get(0);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWith this refactoring, you no longer need to cast between JSON collections and Java objects, making your code safer and more maintainable.\r\n","title":"Type safety: Unchecked cast from JSONArray to ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>The type safety warnings you are encountering are because you are working with collections of <em><strong>HashMap&lt;String, Object&gt;</strong></em> and trying to cast them to more specific types. While this casting can be done, it's not type-safe because the generic types of your collections are not explicitly defined, leading to unchecked type conversions.</p>\n<p>To get rid of these type safety warnings, you should consider using JSON libraries that allow you to work with Java objects directly, such as Google's <em><strong>Gson</strong></em> or <em><strong>Jackson</strong></em>. These libraries will allow you to map your JSON data directly to Java classes and avoid casting issues.</p>\n<p>Here's how you can refactor your code using the Gson library:</p>\n<ol>\n<li>Add the Gson dependency to your project if you haven't already</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.10&lt;/version&gt; &lt;!-- Use the latest version --&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<ol start=\"2\">\n<li>Refactor your ReadAndWrite class to use Gson:</li>\n</ol>\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\n\npublic class ReadAndWrite {\n    private static String dummyName = &quot;dummyName&quot;;\n    private static String fileLocation = System.getProperty(&quot;user.home&quot;) + System.getProperty(&quot;file.separator&quot;) + &quot;loftUserData.json&quot;;\n    private Gson gson = new Gson();\n\n    // ...\n\n    public void writeWorkoutToUser(Workout workout) {\n        List&lt;User&gt; existingData = readDataFromFile();\n        List&lt;User&gt; users = new ArrayList&lt;&gt;();\n\n        User user;\n\n        if (existingData == null || existingData.isEmpty()) {\n            user = new User(dummyName);\n        } else {\n            user = existingData.get(0);\n        }\n\n        user.addWorkout(workout);\n        users.add(user);\n\n        String jsonFormat = gson.toJson(users);\n\n        try (FileWriter file = new FileWriter(fileLocation)) {\n            file.write(jsonFormat);\n            file.flush();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private List&lt;User&gt; readDataFromFile() {\n        try (FileReader reader = new FileReader(fileLocation)) {\n            if (reader.ready()) {\n                List&lt;User&gt; users = gson.fromJson(reader, new TypeToken&lt;List&lt;User&gt;&gt;() {}.getType());\n                return users;\n            } else {\n                // The file can be empty; this is not an error.\n            }\n        } catch (FileNotFoundException e) {\n            // If it is not found, it will be created at a later point, so this is fine.\n            return null;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    public User returnUserClassFromFile() {\n        List&lt;User&gt; users = readDataFromFile();\n\n        if (users == null || users.isEmpty()) {\n            return new User(dummyName);\n        }\n\n        return users.get(0);\n    }\n}\n\n</code></pre>\n<p>With this refactoring, you no longer need to cast between JSON collections and Java objects, making your code safer and more maintainable.</p>\n"}],"owner":{"account_id":26500086,"reputation":67,"user_id":20137178,"display_name":"Markus helb&#230;k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77134791,"answer_count":1,"score":1,"last_activity_date":1695128486,"creation_date":1695128067,"question_id":77134734,"body_markdown":"In one of my programming courses, I was given the task of creating a class that reads and writes json to a file.\r\n\r\nI used the json.simple library, but quickly realized that almost all lines received a &quot;Type safety warning&quot;?\r\n\r\nI then tried to use ArrayList and HashMap as much as possible since JSONObject and JSONArray extender these. From what I understood, this was an issue.\r\n\r\nI am quite new to programming and would greatly appreciate being some tips, also when it comes to how I solved the task.\r\n\r\nHow do I get rid of these type of saftey warnings?\r\n\r\nMy code : \r\n\r\n`\r\n```\r\n//imports\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.parser.JSONParser;\r\nimport org.json.simple.JSONArray;\r\nimport org.json.simple.parser.ParseException;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.time.LocalDate;\r\nimport java.util.Collection;\r\nimport java.util.HashMap;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ReadAndWrite {\r\n    /**\r\n     * This is a class for reading and writing to the userData file stored in the users home directory.\r\n     * The file is stored in json format. The classes are first converted to json format and then written to the file.\r\n     * The classes are then read from the file and converted back to the classes.\r\n     */\r\n\r\n    /**\r\n     * For the first version of the application we will only have one user. \r\n     * This is why we have a dummy name for the user. To parse the classes to json\r\n     * we are using the json-simple library. JSONObjects \r\n     */\r\n    private static String dummyName = &quot;dummyName&quot;;\r\n    private static String fileLocation = System.getProperty(&quot;user.home&quot;) + System.getProperty(&quot;file.separator&quot;) + &quot;loftUserData.json&quot;;\r\n    private JSONParser parser = new JSONParser();\r\n    private Collection&lt;User&gt; userClasses = new ArrayList&lt;User&gt;();\r\n    private Collection&lt;Workout&gt; workoutsClasses = new ArrayList&lt;Workout&gt;();\r\n    private Collection&lt;Exercise&gt; exercisesClasses = new ArrayList&lt;Exercise&gt;();\r\n    private Collection&lt;Set&gt; setsClasses = new ArrayList&lt;Set&gt;();\r\n    \r\n    \r\n    /**\r\n     * Private method for setting up a set class to json format.\r\n     * @param list of sets\r\n     * @return ArrayList&lt;HashMap&lt;String, Object&gt;&gt; -&gt; sets in json format\r\n     */\r\n    private ArrayList&lt;HashMap&lt;String, Object&gt;&gt; setSetsJsonArray(List&lt;Set&gt; list) {\r\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; setsArray = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\r\n        int i = 0;\r\n        for (Set set : list) {\r\n            HashMap&lt;String, Object&gt; setJson = new HashMap&lt;String, Object&gt;();\r\n            setJson.put(&quot;setNumber&quot;, ++i);\r\n            setJson.put(&quot;weight&quot;, set.getWeight());\r\n            setJson.put(&quot;reps&quot;, set.getReps());\r\n            setsArray.add(setJson);\r\n        }\r\n        return setsArray;\r\n    }\r\n    /**\r\n     * Private method for setting up a exercise class to json format.\r\n     * @param list of exercises\r\n     * @return ArrayList&lt;HashMap&lt;String, Object&gt;&gt; -&gt; exercises in json format\r\n     */\r\n    private ArrayList&lt;HashMap&lt;String, Object&gt;&gt; setExercisesJsonArray(List&lt;Exercise&gt; list) {\r\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt;  exercisesArray = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\r\n        for (Exercise exercise : list) {\r\n            HashMap&lt;String, Object&gt; exerciseJson = new HashMap&lt;String, Object&gt;();\r\n            exerciseJson.put(&quot;exerciseName&quot;, exercise.getName());\r\n            exerciseJson.put(&quot;sets&quot;, setSetsJsonArray(exercise.getSets()));\r\n            exercisesArray.add(exerciseJson);\r\n        }\r\n        return exercisesArray;\r\n    }\r\n    /**\r\n     * Private method for setting up a workout class to json format.\r\n     * @param workout\r\n     * @return HashMap&lt;String, Object&gt; -&gt; workout in json format\r\n     */\r\n    private HashMap&lt;String, Object&gt; formatWorkoutClassToJson(Workout workout) {\r\n        HashMap&lt;String, Object&gt; workoutJson = new HashMap&lt;String, Object&gt;();\r\n        workoutJson.put(&quot;exercises&quot;, setExercisesJsonArray(workout.getExercises()));\r\n        workoutJson.put(&quot;date&quot;, workout.getDate().toString());\r\n        \r\n        return workoutJson;\r\n    }\r\n\r\n    //Writing a workout class to the userData file in json format\r\n    /** \r\n     * The method to be used for writing a workout class to the userData file in json format.\r\n     * @param workout\r\n     */\r\n    public void writeWorkoutToUser(Workout workout) {\r\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; existingData = readDataFromFile();\r\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; users = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\r\n        \r\n        HashMap&lt;String, Object&gt; user = new HashMap&lt;String,Object&gt;();\r\n    \r\n        // Setting up user\r\n        if (existingData == null) {\r\n            user.put(&quot;name&quot;, dummyName);\r\n            user.put(&quot;workouts&quot;, new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;());\r\n        } else {\r\n            HashMap&lt;String, Object&gt; userDummy = existingData.get(0);\r\n            user = userDummy;\r\n        }\r\n    \r\n        // Adding to user\r\n        HashMap&lt;String, Object&gt; workoutInJSONFormat = this.formatWorkoutClassToJson(workout);\r\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; workoutsJsonArray = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) user.get(&quot;workouts&quot;);\r\n        workoutsJsonArray.add(workoutInJSONFormat);\r\n    \r\n        users.add(user);\r\n        JSONArray jsonFormat = new JSONArray();\r\n        jsonFormat.addAll(users);\r\n    \r\n        try (FileWriter file = new FileWriter(fileLocation)) {    \r\n            file.write(jsonFormat.toJSONString()); \r\n            file.flush();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Private method for reconstructing the user class from a JSONArray format.\r\n     * @param users JSONArray of users\r\n     * @return ArrayList of users, in our case there is only one user.\r\n     */\r\n    private ArrayList&lt;User&gt; classReconstructor(JSONArray users) {\r\n        for (Object userObject : users) {\r\n            JSONObject user = (JSONObject) userObject;\r\n            String name = (String) user.get(&quot;name&quot;);\r\n            \r\n            JSONArray workouts = (JSONArray) user.get(&quot;workouts&quot;);\r\n            for (Object workoutObject : workouts) {\r\n                JSONObject workout = (JSONObject) workoutObject;\r\n                LocalDate date = LocalDate.parse((String) workout.get(&quot;date&quot;));\r\n\r\n                JSONArray exercises = (JSONArray) workout.get(&quot;exercises&quot;);\r\n                for (Object exerciseObject : exercises) {\r\n                    JSONObject exercise = (JSONObject) exerciseObject;\r\n                    String exerciseName = (String) exercise.get(&quot;exerciseName&quot;);\r\n\r\n                    JSONArray sets = (JSONArray) exercise.get(&quot;sets&quot;);\r\n                    for (Object setObject : sets) {\r\n                        JSONObject set = (JSONObject) setObject;\r\n                        int weight = ((Long) set.get(&quot;weight&quot;)).intValue();\r\n                        int reps = ((Long) set.get(&quot;reps&quot;)).intValue();\r\n\r\n                        Set newSet = new Set(weight, reps);\r\n                        setsClasses.add(newSet);\r\n                    }\r\n                    Exercise newExercise = new Exercise(exerciseName);\r\n                    for (Set set : setsClasses) {\r\n                        newExercise.addSet(set);\r\n                    }\r\n                    exercisesClasses.add(newExercise);\r\n                }\r\n                Workout newWorkout = new Workout(date);\r\n                for (Exercise exercise : exercisesClasses) {\r\n                    newWorkout.addExercise(exercise);\r\n                }\r\n                workoutsClasses.add(newWorkout);\r\n            }\r\n            User newUser = new User(name);\r\n            for (Workout workout : workoutsClasses) {\r\n                newUser.addWorkout(workout);\r\n            }\r\n            userClasses.add(newUser);\r\n        }\r\n        return (ArrayList&lt;User&gt;) userClasses;\r\n    }\r\n\r\n    /**\r\n     * Private method for reading data from the file.\r\n     * @return JSONArray of all users. In our case there is only one user.\r\n     */\r\n    private ArrayList&lt;HashMap&lt;String, Object&gt;&gt; readDataFromFile() {\r\n        try (FileReader reader = new FileReader(fileLocation)){\r\n            if (reader.ready()) {\r\n                Object obj = parser.parse(reader);\r\n                JSONArray users = (JSONArray) obj;\r\n                \r\n                ArrayList&lt;HashMap&lt;String, Object&gt;&gt; usersList = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) users;\r\n\r\n                return usersList;\r\n            } else {\r\n                //The file can be empty this is not an error, it just means that there is no data to read.\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            // If it is not found, it will be created at a later point, so this is fine\r\n            return null;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (ParseException e){\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /** \r\n     * The method to be used for getting the user class from the file.\r\n     * @return User class\r\n     */\r\n    public User returnUserClassFromFile() {\r\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; users = readDataFromFile();\r\n        if (users == null) {\r\n            return new User(dummyName);\r\n        }\r\n        JSONArray usersJson = (JSONArray) users;\r\n        ArrayList&lt;User&gt; user = this.classReconstructor(usersJson);\r\n        User userClass = user.get(0);\r\n        return userClass;\r\n    }\r\n````\r\n\r\nWhere the issue appears: \r\n\r\n\r\n```\r\nArrayList&lt;HashMap&lt;String, Object&gt;&gt; workoutsJsonArray = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) user.get(&quot;workouts&quot;);\r\n\r\n```\r\n\r\n```\r\njsonFormat.addAll(users);\r\n\r\n```\r\n\r\n```\r\nArrayList&lt;HashMap&lt;String, Object&gt;&gt; usersList = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) users;\r\n\r\n```\r\n\r\nThe warning messages : \r\n[![enter image description here](https://i.stack.imgur.com/CyHf9.png)](https://i.stack.imgur.com/CyHf9.png)\r\n\r\n\r\nI have tried to use ArrayList and HashMap insted of JSONArray and JSONObject","title":"Type safety: Unchecked cast from JSONArray to ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>In one of my programming courses, I was given the task of creating a class that reads and writes json to a file.</p>\n<p>I used the json.simple library, but quickly realized that almost all lines received a &quot;Type safety warning&quot;?</p>\n<p>I then tried to use ArrayList and HashMap as much as possible since JSONObject and JSONArray extender these. From what I understood, this was an issue.</p>\n<p>I am quite new to programming and would greatly appreciate being some tips, also when it comes to how I solved the task.</p>\n<p>How do I get rid of these type of saftey warnings?</p>\n<p>My code :</p>\n<p>`</p>\n<pre><code>//imports\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.JSONArray;\nimport org.json.simple.parser.ParseException;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.time.LocalDate;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ReadAndWrite {\n    /**\n     * This is a class for reading and writing to the userData file stored in the users home directory.\n     * The file is stored in json format. The classes are first converted to json format and then written to the file.\n     * The classes are then read from the file and converted back to the classes.\n     */\n\n    /**\n     * For the first version of the application we will only have one user. \n     * This is why we have a dummy name for the user. To parse the classes to json\n     * we are using the json-simple library. JSONObjects \n     */\n    private static String dummyName = &quot;dummyName&quot;;\n    private static String fileLocation = System.getProperty(&quot;user.home&quot;) + System.getProperty(&quot;file.separator&quot;) + &quot;loftUserData.json&quot;;\n    private JSONParser parser = new JSONParser();\n    private Collection&lt;User&gt; userClasses = new ArrayList&lt;User&gt;();\n    private Collection&lt;Workout&gt; workoutsClasses = new ArrayList&lt;Workout&gt;();\n    private Collection&lt;Exercise&gt; exercisesClasses = new ArrayList&lt;Exercise&gt;();\n    private Collection&lt;Set&gt; setsClasses = new ArrayList&lt;Set&gt;();\n    \n    \n    /**\n     * Private method for setting up a set class to json format.\n     * @param list of sets\n     * @return ArrayList&lt;HashMap&lt;String, Object&gt;&gt; -&gt; sets in json format\n     */\n    private ArrayList&lt;HashMap&lt;String, Object&gt;&gt; setSetsJsonArray(List&lt;Set&gt; list) {\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; setsArray = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\n        int i = 0;\n        for (Set set : list) {\n            HashMap&lt;String, Object&gt; setJson = new HashMap&lt;String, Object&gt;();\n            setJson.put(&quot;setNumber&quot;, ++i);\n            setJson.put(&quot;weight&quot;, set.getWeight());\n            setJson.put(&quot;reps&quot;, set.getReps());\n            setsArray.add(setJson);\n        }\n        return setsArray;\n    }\n    /**\n     * Private method for setting up a exercise class to json format.\n     * @param list of exercises\n     * @return ArrayList&lt;HashMap&lt;String, Object&gt;&gt; -&gt; exercises in json format\n     */\n    private ArrayList&lt;HashMap&lt;String, Object&gt;&gt; setExercisesJsonArray(List&lt;Exercise&gt; list) {\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt;  exercisesArray = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\n        for (Exercise exercise : list) {\n            HashMap&lt;String, Object&gt; exerciseJson = new HashMap&lt;String, Object&gt;();\n            exerciseJson.put(&quot;exerciseName&quot;, exercise.getName());\n            exerciseJson.put(&quot;sets&quot;, setSetsJsonArray(exercise.getSets()));\n            exercisesArray.add(exerciseJson);\n        }\n        return exercisesArray;\n    }\n    /**\n     * Private method for setting up a workout class to json format.\n     * @param workout\n     * @return HashMap&lt;String, Object&gt; -&gt; workout in json format\n     */\n    private HashMap&lt;String, Object&gt; formatWorkoutClassToJson(Workout workout) {\n        HashMap&lt;String, Object&gt; workoutJson = new HashMap&lt;String, Object&gt;();\n        workoutJson.put(&quot;exercises&quot;, setExercisesJsonArray(workout.getExercises()));\n        workoutJson.put(&quot;date&quot;, workout.getDate().toString());\n        \n        return workoutJson;\n    }\n\n    //Writing a workout class to the userData file in json format\n    /** \n     * The method to be used for writing a workout class to the userData file in json format.\n     * @param workout\n     */\n    public void writeWorkoutToUser(Workout workout) {\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; existingData = readDataFromFile();\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; users = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\n        \n        HashMap&lt;String, Object&gt; user = new HashMap&lt;String,Object&gt;();\n    \n        // Setting up user\n        if (existingData == null) {\n            user.put(&quot;name&quot;, dummyName);\n            user.put(&quot;workouts&quot;, new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;());\n        } else {\n            HashMap&lt;String, Object&gt; userDummy = existingData.get(0);\n            user = userDummy;\n        }\n    \n        // Adding to user\n        HashMap&lt;String, Object&gt; workoutInJSONFormat = this.formatWorkoutClassToJson(workout);\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; workoutsJsonArray = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) user.get(&quot;workouts&quot;);\n        workoutsJsonArray.add(workoutInJSONFormat);\n    \n        users.add(user);\n        JSONArray jsonFormat = new JSONArray();\n        jsonFormat.addAll(users);\n    \n        try (FileWriter file = new FileWriter(fileLocation)) {    \n            file.write(jsonFormat.toJSONString()); \n            file.flush();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    /**\n     * Private method for reconstructing the user class from a JSONArray format.\n     * @param users JSONArray of users\n     * @return ArrayList of users, in our case there is only one user.\n     */\n    private ArrayList&lt;User&gt; classReconstructor(JSONArray users) {\n        for (Object userObject : users) {\n            JSONObject user = (JSONObject) userObject;\n            String name = (String) user.get(&quot;name&quot;);\n            \n            JSONArray workouts = (JSONArray) user.get(&quot;workouts&quot;);\n            for (Object workoutObject : workouts) {\n                JSONObject workout = (JSONObject) workoutObject;\n                LocalDate date = LocalDate.parse((String) workout.get(&quot;date&quot;));\n\n                JSONArray exercises = (JSONArray) workout.get(&quot;exercises&quot;);\n                for (Object exerciseObject : exercises) {\n                    JSONObject exercise = (JSONObject) exerciseObject;\n                    String exerciseName = (String) exercise.get(&quot;exerciseName&quot;);\n\n                    JSONArray sets = (JSONArray) exercise.get(&quot;sets&quot;);\n                    for (Object setObject : sets) {\n                        JSONObject set = (JSONObject) setObject;\n                        int weight = ((Long) set.get(&quot;weight&quot;)).intValue();\n                        int reps = ((Long) set.get(&quot;reps&quot;)).intValue();\n\n                        Set newSet = new Set(weight, reps);\n                        setsClasses.add(newSet);\n                    }\n                    Exercise newExercise = new Exercise(exerciseName);\n                    for (Set set : setsClasses) {\n                        newExercise.addSet(set);\n                    }\n                    exercisesClasses.add(newExercise);\n                }\n                Workout newWorkout = new Workout(date);\n                for (Exercise exercise : exercisesClasses) {\n                    newWorkout.addExercise(exercise);\n                }\n                workoutsClasses.add(newWorkout);\n            }\n            User newUser = new User(name);\n            for (Workout workout : workoutsClasses) {\n                newUser.addWorkout(workout);\n            }\n            userClasses.add(newUser);\n        }\n        return (ArrayList&lt;User&gt;) userClasses;\n    }\n\n    /**\n     * Private method for reading data from the file.\n     * @return JSONArray of all users. In our case there is only one user.\n     */\n    private ArrayList&lt;HashMap&lt;String, Object&gt;&gt; readDataFromFile() {\n        try (FileReader reader = new FileReader(fileLocation)){\n            if (reader.ready()) {\n                Object obj = parser.parse(reader);\n                JSONArray users = (JSONArray) obj;\n                \n                ArrayList&lt;HashMap&lt;String, Object&gt;&gt; usersList = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) users;\n\n                return usersList;\n            } else {\n                //The file can be empty this is not an error, it just means that there is no data to read.\n            }\n        } catch (FileNotFoundException e) {\n            // If it is not found, it will be created at a later point, so this is fine\n            return null;\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ParseException e){\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    /** \n     * The method to be used for getting the user class from the file.\n     * @return User class\n     */\n    public User returnUserClassFromFile() {\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; users = readDataFromFile();\n        if (users == null) {\n            return new User(dummyName);\n        }\n        JSONArray usersJson = (JSONArray) users;\n        ArrayList&lt;User&gt; user = this.classReconstructor(usersJson);\n        User userClass = user.get(0);\n        return userClass;\n    }\n</code></pre>\n<p>Where the issue appears:</p>\n<pre><code>ArrayList&lt;HashMap&lt;String, Object&gt;&gt; workoutsJsonArray = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) user.get(&quot;workouts&quot;);\n\n</code></pre>\n<pre><code>jsonFormat.addAll(users);\n\n</code></pre>\n<pre><code>ArrayList&lt;HashMap&lt;String, Object&gt;&gt; usersList = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) users;\n\n</code></pre>\n<p>The warning messages :\n<a href=\"https://i.stack.imgur.com/CyHf9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CyHf9.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried to use ArrayList and HashMap insted of JSONArray and JSONObject</p>\n"},{"tags":["java","spring","spring-boot","java-threads","thread-synchronization"],"comments":[{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":1,"creation_date":1695004865,"post_id":77124243,"comment_id":135961545,"body_markdown":"Is it possible to have a more complete example, rather than trying to imagine it from the description? [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). For example, at the moment I can&#39;t tell whether something like a Future, a Semaphore or a CyclicBarrier would be appropriate.","body":"Is it possible to have a more complete example, rather than trying to imagine it from the description? <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>. For example, at the moment I can&#39;t tell whether something like a Future, a Semaphore or a CyclicBarrier would be appropriate."},{"owner":{"account_id":6123024,"reputation":171,"user_id":4775976,"display_name":"Software"},"score":0,"creation_date":1695007700,"post_id":77124243,"comment_id":135961704,"body_markdown":"@scrhartley See updated code above? Does that help?","body":"@scrhartley See updated code above? Does that help?"},{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1695008782,"post_id":77124243,"comment_id":135961760,"body_markdown":"Do you mean [subscribe](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#subscribe-java.util.function.Consumer-java.util.function.Consumer-), rather then `onSubscribe`? Or am I looking in the wrong place?","body":"Do you mean <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#subscribe-java.util.function.Consumer-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">subscribe</a>, rather then <code>onSubscribe</code>? Or am I looking in the wrong place?"},{"owner":{"account_id":6123024,"reputation":171,"user_id":4775976,"display_name":"Software"},"score":0,"creation_date":1695008888,"post_id":77124243,"comment_id":135961767,"body_markdown":"@scrhartley Yes, you&#39;re right. I corrected it.","body":"@scrhartley Yes, you&#39;re right. I corrected it."},{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":1,"creation_date":1695009120,"post_id":77124243,"comment_id":135961783,"body_markdown":"I&#39;m currently trying to find something nicer that a [CountDownLatch](https://www.baeldung.com/java-countdown-latch)","body":"I&#39;m currently trying to find something nicer that a <a href=\"https://www.baeldung.com/java-countdown-latch\" rel=\"nofollow noreferrer\">CountDownLatch</a>"},{"owner":{"account_id":6123024,"reputation":171,"user_id":4775976,"display_name":"Software"},"score":0,"creation_date":1695009712,"post_id":77124243,"comment_id":135961817,"body_markdown":"@scrhartley How do you pass the CountdownLatch to the callbacks?","body":"@scrhartley How do you pass the CountdownLatch to the callbacks?"},{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1695127507,"post_id":77124243,"comment_id":135980085,"body_markdown":"Just a thought: do you actually need the callbacks or can you instead use Mono.block() and then do everything with imperative code: `String response1 = client1.post().block();`","body":"Just a thought: do you actually need the callbacks or can you instead use Mono.block() and then do everything with imperative code: <code>String response1 = client1.post().block();</code>"}],"answers":[{"tags":[],"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695128274,"creation_date":1695012465,"answer_id":77124611,"question_id":77124243,"body_markdown":"Here is an example using `CompletableFuture`. It uses the third parameter for `Mono.subscribe` to let the future know when it&#39;s done.\r\n```java\r\n@Override\r\npublic void run() {\r\n    Mono&lt;String&gt; response1 = client1.post();\r\n    CompletableFuture&lt;?&gt; future1 = new CompletableFuture&lt;&gt;();\r\n    response1.subscribe(\r\n\t\t\t\tnew MyResponseCallback(), new MyErrorCallback(),\r\n\t\t\t\t() -&gt; future1.complete(null));\r\n\r\n    Mono&lt;String&gt; response2 = client2.post();\r\n    CompletableFuture&lt;?&gt; future2 = new CompletableFuture&lt;&gt;();\r\n    response2.subscribe(\r\n\t\t\t\tnew MyResponseCallback(), new MyErrorCallback(),\r\n\t\t\t\t() -&gt; future2.complete(null));\r\n\r\n    Mono&lt;String&gt; responseX = clientX.post();\r\n    CompletableFuture&lt;?&gt; futureX = new CompletableFuture&lt;&gt;();\r\n    responseX.subscribe(\r\n\t\t\t\tnew MyResponseCallback(), new MyErrorCallback(),\r\n\t\t\t\t() -&gt; futureX.complete(null));\r\n    \r\n    CompletableFuture.allOf(future1, future2, futureX).join();\r\n}\r\n```\r\nHere is a `CountDownLatch` example:\r\n```java\r\n@Override\r\npublic void run() {\r\n    CountDownLatch latch = new CountDownLatch(3);\r\n\r\n    Mono&lt;String&gt; response1 = client1.post();\r\n    response1.subscribe(new MyResponseCallback(), new MyErrorCallback(), latch::countDown);\r\n\r\n    Mono&lt;String&gt; response2 = client2.post();\r\n    response2.subscribe(new MyResponseCallback(), new MyErrorCallback(), latch::countDown);\r\n\r\n    Mono&lt;String&gt; responseX = clientX.post();\r\n    responseX.subscribe(new MyResponseCallback(), new MyErrorCallback(), latch::countDown);\r\n    \r\n    try {\r\n        latch.await();\r\n    } catch (InterruptedException ex) {}\r\n}\r\n```\r\nAnother `CompletableFuture` example:\r\n```java\r\n@Override\r\npublic void run() {\r\n    List&lt;CompletableFuture&lt;?&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\tSupplier&lt;Runnable&gt; onDone = () -&gt; {\r\n\t\tCompletableFuture&lt;?&gt; future = new CompletableFuture&lt;&gt;();\r\n\t\tfutures.add(future);\r\n\t\treturn () -&gt; future.complete(null);\r\n\t};\r\n\r\n\tMono&lt;String&gt; response1 = client1.post();\r\n\tresponse1.subscribe(new MyResponseCallback(), new MyErrorCallback(), onDone.get());\r\n\r\n\tMono&lt;String&gt; response2 = client2.post();\r\n\tresponse2.subscribe(new MyResponseCallback(), new MyErrorCallback(), onDone.get());\r\n\r\n\tMono&lt;String&gt; responseX = clientX.post();\r\n\tresponseX.subscribe(new MyResponseCallback(), new MyErrorCallback(), onDone.get());\r\n\r\n\tCompletableFuture.allOf(futures.toArray(CompletableFuture[]::new)).join();\r\n}\r\n```\r\nAre all the callbacks actually required?\r\n```java\r\n@Override\r\npublic void run() {\r\n    // Make requests\r\n    Mono&lt;String&gt; responseMono1 = client1.post();\r\n    Mono&lt;String&gt; responseMono2 = client2.post();\r\n    Mono&lt;String&gt; responseMonoX = clientX.post();\r\n    try {\r\n        // Wait for requests to complete\r\n        String response1 = responseMono1.block();\r\n        String response2 = responseMono2.block();\r\n        String responseX = responseMonoX.block();\r\n\r\n        ...\r\n    }\r\n    catch (RuntimeException e) {\r\n        ...\r\n    }\r\n}\r\n```","title":"Sleeping in Spring Boot","body":"<p>Here is an example using <code>CompletableFuture</code>. It uses the third parameter for <code>Mono.subscribe</code> to let the future know when it's done.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void run() {\n    Mono&lt;String&gt; response1 = client1.post();\n    CompletableFuture&lt;?&gt; future1 = new CompletableFuture&lt;&gt;();\n    response1.subscribe(\n                new MyResponseCallback(), new MyErrorCallback(),\n                () -&gt; future1.complete(null));\n\n    Mono&lt;String&gt; response2 = client2.post();\n    CompletableFuture&lt;?&gt; future2 = new CompletableFuture&lt;&gt;();\n    response2.subscribe(\n                new MyResponseCallback(), new MyErrorCallback(),\n                () -&gt; future2.complete(null));\n\n    Mono&lt;String&gt; responseX = clientX.post();\n    CompletableFuture&lt;?&gt; futureX = new CompletableFuture&lt;&gt;();\n    responseX.subscribe(\n                new MyResponseCallback(), new MyErrorCallback(),\n                () -&gt; futureX.complete(null));\n    \n    CompletableFuture.allOf(future1, future2, futureX).join();\n}\n</code></pre>\n<p>Here is a <code>CountDownLatch</code> example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void run() {\n    CountDownLatch latch = new CountDownLatch(3);\n\n    Mono&lt;String&gt; response1 = client1.post();\n    response1.subscribe(new MyResponseCallback(), new MyErrorCallback(), latch::countDown);\n\n    Mono&lt;String&gt; response2 = client2.post();\n    response2.subscribe(new MyResponseCallback(), new MyErrorCallback(), latch::countDown);\n\n    Mono&lt;String&gt; responseX = clientX.post();\n    responseX.subscribe(new MyResponseCallback(), new MyErrorCallback(), latch::countDown);\n    \n    try {\n        latch.await();\n    } catch (InterruptedException ex) {}\n}\n</code></pre>\n<p>Another <code>CompletableFuture</code> example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void run() {\n    List&lt;CompletableFuture&lt;?&gt;&gt; futures = new ArrayList&lt;&gt;();\n    Supplier&lt;Runnable&gt; onDone = () -&gt; {\n        CompletableFuture&lt;?&gt; future = new CompletableFuture&lt;&gt;();\n        futures.add(future);\n        return () -&gt; future.complete(null);\n    };\n\n    Mono&lt;String&gt; response1 = client1.post();\n    response1.subscribe(new MyResponseCallback(), new MyErrorCallback(), onDone.get());\n\n    Mono&lt;String&gt; response2 = client2.post();\n    response2.subscribe(new MyResponseCallback(), new MyErrorCallback(), onDone.get());\n\n    Mono&lt;String&gt; responseX = clientX.post();\n    responseX.subscribe(new MyResponseCallback(), new MyErrorCallback(), onDone.get());\n\n    CompletableFuture.allOf(futures.toArray(CompletableFuture[]::new)).join();\n}\n</code></pre>\n<p>Are all the callbacks actually required?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void run() {\n    // Make requests\n    Mono&lt;String&gt; responseMono1 = client1.post();\n    Mono&lt;String&gt; responseMono2 = client2.post();\n    Mono&lt;String&gt; responseMonoX = clientX.post();\n    try {\n        // Wait for requests to complete\n        String response1 = responseMono1.block();\n        String response2 = responseMono2.block();\n        String responseX = responseMonoX.block();\n\n        ...\n    }\n    catch (RuntimeException e) {\n        ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695018059,"creation_date":1695018059,"answer_id":77124919,"question_id":77124243,"body_markdown":"You are using reactive programming but forget about that and try to solve it imperativly. You don&#39;t need to sleep, utilize the features you have with Project Reactor instead. \r\n\r\nYou can use `zip` to combine the result of different `Mono` together, then `map` the result into what you need. No need to check a `boolean` use countdown latches etc. \r\n\r\n```java\r\nMono&lt;String&gt; response1 = client1.post();   \r\nMono&lt;String&gt; response2 = client2.post();\r\nMono&lt;String&gt; responseX = clientX.post();\r\nMono&lt;String&gt; result = Mono\r\n  .zip(response1, response2, response3)\r\n  .map(//dosomething with the result of the 3 mono&#39;s)\r\n  .subscribe();\r\n```\r\n\r\nWhat you are doing in your `Consumer` is a bit unclear, but you can probably use a `map` for that as well on each `Mono` (or if it is just to set a boolean you can remove them). ","title":"Sleeping in Spring Boot","body":"<p>You are using reactive programming but forget about that and try to solve it imperativly. You don't need to sleep, utilize the features you have with Project Reactor instead.</p>\n<p>You can use <code>zip</code> to combine the result of different <code>Mono</code> together, then <code>map</code> the result into what you need. No need to check a <code>boolean</code> use countdown latches etc.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;String&gt; response1 = client1.post();   \nMono&lt;String&gt; response2 = client2.post();\nMono&lt;String&gt; responseX = clientX.post();\nMono&lt;String&gt; result = Mono\n  .zip(response1, response2, response3)\n  .map(//dosomething with the result of the 3 mono's)\n  .subscribe();\n</code></pre>\n<p>What you are doing in your <code>Consumer</code> is a bit unclear, but you can probably use a <code>map</code> for that as well on each <code>Mono</code> (or if it is just to set a boolean you can remove them).</p>\n"}],"owner":{"account_id":6123024,"reputation":171,"user_id":4775976,"display_name":"Software"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77124611,"answer_count":2,"score":1,"last_activity_date":1695128274,"creation_date":1695002998,"question_id":77124243,"body_markdown":"I have a task scheduled (@EnableSceduling) in a Spring Boot web service that repeats on a regular basis. When that task fires, it calls the registered object&#39;s Runnable/run method. In that run method, I need to do work and not exit that run method until the work is completed. The problem is that I have other threads doing other work that is needed by this run thread for its work. So in the run thread I have something like this:\r\n\r\n    @Component\r\n    public class DoWork implements Runnable {\r\n        \r\n        @override\r\n        public void run() {\r\n        \r\n        // Setup clients.\r\n\r\n        // Call services.\r\n        Mono&lt;String&gt; response1 = client1.post();\r\n        response1.subscribe(new MyResponseCallback(), new MyErrorCallback()); \r\n        \r\n        Mono&lt;String&gt; response2 = client2.post();\r\n        response2.subscribe(new MyResponseCallback(), new MyErrorCallback()); \r\n\r\n        Mono&lt;String&gt; responseX = clientX.post();\r\n        responseX.subscribe(new MyResponseCallback(), new MyErrorCallback());\r\n            \r\n        while(callbacksWorkCompletedFlag == false) {\r\n            \r\n                Thread.sleep (1000);\r\n            }\r\n\r\n            // Do computation with callback responses.\r\n  \r\n            // After computation is completed, exit run method.\r\n        }\r\n    }\r\n\r\n-------------\r\n\r\n\r\n    public class MyResponseCallback implements Consumer&lt;String&gt; {\r\n        \r\n        @override\r\n        public void accept (final Sting response) {\r\n        \r\n            // Do work with response.\r\n        }\r\n    }\r\n\r\n-------------\r\n\r\n\r\n    public class MyErrorCallback implements Consumer&lt;Throwable&gt; {\r\n        \r\n        @override\r\n        public void accept (final Throwable error) {\r\n        \r\n            // Log error.\r\n        }\r\n    }\r\n\r\nIs there a better way to do this in Java/Spring boot?\r\n","title":"Sleeping in Spring Boot","body":"<p>I have a task scheduled (@EnableSceduling) in a Spring Boot web service that repeats on a regular basis. When that task fires, it calls the registered object's Runnable/run method. In that run method, I need to do work and not exit that run method until the work is completed. The problem is that I have other threads doing other work that is needed by this run thread for its work. So in the run thread I have something like this:</p>\n<pre><code>@Component\npublic class DoWork implements Runnable {\n    \n    @override\n    public void run() {\n    \n    // Setup clients.\n\n    // Call services.\n    Mono&lt;String&gt; response1 = client1.post();\n    response1.subscribe(new MyResponseCallback(), new MyErrorCallback()); \n    \n    Mono&lt;String&gt; response2 = client2.post();\n    response2.subscribe(new MyResponseCallback(), new MyErrorCallback()); \n\n    Mono&lt;String&gt; responseX = clientX.post();\n    responseX.subscribe(new MyResponseCallback(), new MyErrorCallback());\n        \n    while(callbacksWorkCompletedFlag == false) {\n        \n            Thread.sleep (1000);\n        }\n\n        // Do computation with callback responses.\n\n        // After computation is completed, exit run method.\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class MyResponseCallback implements Consumer&lt;String&gt; {\n    \n    @override\n    public void accept (final Sting response) {\n    \n        // Do work with response.\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class MyErrorCallback implements Consumer&lt;Throwable&gt; {\n    \n    @override\n    public void accept (final Throwable error) {\n    \n        // Log error.\n    }\n}\n</code></pre>\n<p>Is there a better way to do this in Java/Spring boot?</p>\n"},{"tags":["java","spring-boot","hateoas"],"owner":{"account_id":29481726,"reputation":1,"user_id":22592436,"display_name":"Olivier Perrin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695128093,"creation_date":1695126468,"question_id":77134559,"body_markdown":"I&#39;ve read the following reference ([https://stackoverflow.com/questions/28834796/spring-hateoas-hal-change-array-name-in-embedded](https://stackoverflow.com/questions/28834796/spring-hateoas-hal-change-array-name-in-embedded)) and I tried to change the array name in the `_embedded` tag.\r\n\r\nI don&#39;t want to put any reference to the (Spring) framework in my domain object (using `@Relation`).\r\n\r\nNor I don&#39;t want to use a specific library (evo-inflector) in my build file.\r\n\r\nI&#39;m also using an `Assembler` to put the correct links in my response:\r\n\r\n```\r\n@Component\r\npublic class OrderModelAssembler\r\n                implements RepresentationModelAssembler&lt;ProductionOrder, EntityModel&lt;ProductionOrder&gt;&gt; {\r\n\r\n        @Override\r\n        public EntityModel&lt;ProductionOrder&gt; toModel(ProductionOrder order) {\r\n                var model = EntityModel.of(order);\r\n                switch (order.getState()) {\r\n                        case DRAFT:\r\n                                model.add(linkTo(methodOn(ProductionOrderController.class).rename(order.getId(), null))\r\n                                                .withRel(URIConstants.REL_RENAME));\r\n                                model.add(linkTo(methodOn(ProductionOrderController.class).submit(order.getId()))\r\n                                                .withRel(URIConstants.REL_SUBMIT));\r\n                                break;\r\n                        case SUBMITTED:\r\n                                model.add(linkTo(methodOn(ProductionOrderController.class).accept(order.getId(), null))\r\n                                                .withRel(URIConstants.REL_ACCEPT));\r\n                                break;\r\n                        case ACCEPTED:\r\n                                break;\r\n                }\r\n           return model;\r\n        }\r\n\r\n        @Override\r\n        public CollectionModel&lt;EntityModel&lt;ProductionOrder&gt;&gt; toCollectionModel(\r\n                        Iterable&lt;? extends ProductionOrder&gt; entities) {\r\n\r\n                var productionModel = StreamSupport\r\n                        .stream(entities.spliterator(), false)\r\n                        .map(this::toModel)\r\n                        .toList();\r\n                return CollectionModel.of(productionModel,\r\n                                linkTo(methodOn(ProductionOrderController.class)\r\n                                                .getAllOrders()).withSelfRel());\r\n        }\r\n\r\n}\r\n```\r\n\r\nI tried to add the following bean in my main class, but with no success.\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableHypermediaSupport(type = EnableHypermediaSupport.HypermediaType.HAL)\r\n@Configuration\r\npublic class ProductionOrdersApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ProductionOrdersApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tLinkRelationProvider relProvider() {\r\n\t\treturn new LinkRelationProvider() {\r\n\t\t\t@Override\r\n\t\t\tpublic LinkRelation getItemResourceRelFor(Class&lt;?&gt; type) {\r\n\t\t\t\treturn LinkRelation.of(&quot;productionOrder&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic LinkRelation getCollectionResourceRelFor(Class&lt;?&gt; type) {\r\n\t\t\t\treturn LinkRelation.of(&quot;productionOrders&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;ve read the section in the Hateoas guide, where the 4 possibilities are those I tried.\r\n\r\nCan you explain how to modify the array name in the `_embedded` tag using the `RelProvider` interface in order to obtain the following result:\r\n\r\n```\r\n{\r\n    &quot;_embedded&quot;: {\r\n        &quot;productionOrders&quot;: [\r\n            {\r\n                &quot;_links&quot;: {\r\n                    &quot;rename&quot;: {\r\n                        &quot;href&quot;: &quot;http://localhost:8080/productionOrders/46ceb9a6-e6d5-4be8-9534-c1f2348b7592/rename&quot;\r\n                    },\r\n                    &quot;submit&quot;: {\r\n                        &quot;href&quot;: &quot;http://localhost:8080/productionOrders/46ceb9a6-e6d5-4be8-9534-c1f2348b7592/submit&quot;\r\n                    }\r\n                },\r\n                &quot;expectedCompletionDate&quot;: &quot;1970-01-01&quot;,\r\n                &quot;id&quot;: &quot;46ceb9a6-e6d5-4be8-9534-c1f2348b7592&quot;,\r\n                &quot;name&quot;: &quot;A test order&quot;,\r\n                &quot;state&quot;: &quot;DRAFT&quot;\r\n            }\r\n        ]\r\n    },\r\n    &quot;_links&quot;: {\r\n        &quot;self&quot;: {\r\n            &quot;href&quot;: &quot;http://localhost:8080/productionOrders&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThanks\r\n\r\nOlivier","title":"Spring HATEOAS: change array name in _embedded using RelProvider","body":"<p>I've read the following reference (<a href=\"https://stackoverflow.com/questions/28834796/spring-hateoas-hal-change-array-name-in-embedded\">Spring HATEOAS &amp; HAL: Change array name in _embedded</a>) and I tried to change the array name in the <code>_embedded</code> tag.</p>\n<p>I don't want to put any reference to the (Spring) framework in my domain object (using <code>@Relation</code>).</p>\n<p>Nor I don't want to use a specific library (evo-inflector) in my build file.</p>\n<p>I'm also using an <code>Assembler</code> to put the correct links in my response:</p>\n<pre><code>@Component\npublic class OrderModelAssembler\n                implements RepresentationModelAssembler&lt;ProductionOrder, EntityModel&lt;ProductionOrder&gt;&gt; {\n\n        @Override\n        public EntityModel&lt;ProductionOrder&gt; toModel(ProductionOrder order) {\n                var model = EntityModel.of(order);\n                switch (order.getState()) {\n                        case DRAFT:\n                                model.add(linkTo(methodOn(ProductionOrderController.class).rename(order.getId(), null))\n                                                .withRel(URIConstants.REL_RENAME));\n                                model.add(linkTo(methodOn(ProductionOrderController.class).submit(order.getId()))\n                                                .withRel(URIConstants.REL_SUBMIT));\n                                break;\n                        case SUBMITTED:\n                                model.add(linkTo(methodOn(ProductionOrderController.class).accept(order.getId(), null))\n                                                .withRel(URIConstants.REL_ACCEPT));\n                                break;\n                        case ACCEPTED:\n                                break;\n                }\n           return model;\n        }\n\n        @Override\n        public CollectionModel&lt;EntityModel&lt;ProductionOrder&gt;&gt; toCollectionModel(\n                        Iterable&lt;? extends ProductionOrder&gt; entities) {\n\n                var productionModel = StreamSupport\n                        .stream(entities.spliterator(), false)\n                        .map(this::toModel)\n                        .toList();\n                return CollectionModel.of(productionModel,\n                                linkTo(methodOn(ProductionOrderController.class)\n                                                .getAllOrders()).withSelfRel());\n        }\n\n}\n</code></pre>\n<p>I tried to add the following bean in my main class, but with no success.</p>\n<pre><code>@SpringBootApplication\n@EnableHypermediaSupport(type = EnableHypermediaSupport.HypermediaType.HAL)\n@Configuration\npublic class ProductionOrdersApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ProductionOrdersApplication.class, args);\n    }\n\n    @Bean\n    LinkRelationProvider relProvider() {\n        return new LinkRelationProvider() {\n            @Override\n            public LinkRelation getItemResourceRelFor(Class&lt;?&gt; type) {\n                return LinkRelation.of(&quot;productionOrder&quot;);\n            }\n\n            @Override\n            public LinkRelation getCollectionResourceRelFor(Class&lt;?&gt; type) {\n                return LinkRelation.of(&quot;productionOrders&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n<p>I've read the section in the Hateoas guide, where the 4 possibilities are those I tried.</p>\n<p>Can you explain how to modify the array name in the <code>_embedded</code> tag using the <code>RelProvider</code> interface in order to obtain the following result:</p>\n<pre><code>{\n    &quot;_embedded&quot;: {\n        &quot;productionOrders&quot;: [\n            {\n                &quot;_links&quot;: {\n                    &quot;rename&quot;: {\n                        &quot;href&quot;: &quot;http://localhost:8080/productionOrders/46ceb9a6-e6d5-4be8-9534-c1f2348b7592/rename&quot;\n                    },\n                    &quot;submit&quot;: {\n                        &quot;href&quot;: &quot;http://localhost:8080/productionOrders/46ceb9a6-e6d5-4be8-9534-c1f2348b7592/submit&quot;\n                    }\n                },\n                &quot;expectedCompletionDate&quot;: &quot;1970-01-01&quot;,\n                &quot;id&quot;: &quot;46ceb9a6-e6d5-4be8-9534-c1f2348b7592&quot;,\n                &quot;name&quot;: &quot;A test order&quot;,\n                &quot;state&quot;: &quot;DRAFT&quot;\n            }\n        ]\n    },\n    &quot;_links&quot;: {\n        &quot;self&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/productionOrders&quot;\n        }\n    }\n}\n</code></pre>\n<p>Thanks</p>\n<p>Olivier</p>\n"},{"tags":["java","json","elasticsearch"],"owner":{"account_id":3733275,"reputation":133,"user_id":3104960,"accept_rate":57,"display_name":"Georgi Nikolov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695127843,"creation_date":1695127843,"question_id":77134708,"body_markdown":"for some time now I have been trying to incorporate the Elastic Java 8.10 client into my code, I have a big ELK stack with a lot of data. I am trying to fetch continuously data from it, but I am encountering some inconsistent behavior.\r\n\r\nMy code is following the Elastic tutorial on their website and I have a simple function to get the data:\r\n\r\n```java\r\n/**\r\n     * Method for querying a search in ELK using search_after.\r\n     * @param search_size\r\n     * @param index\r\n     * @param sort_options\r\n     * @param field\r\n     * @param value\r\n     * @return SearchResponse\r\n     * @throws IOException on failed search\r\n     */\r\n    public final SearchResponse&lt;JsonData&gt; querySearch(final int search_size,\r\n            final String index, final List&lt;SortOptions&gt; sort_options,\r\n            final List&lt;FieldValue&gt; search_after, final String field,\r\n            final String value) throws IOException {\r\n        SearchResponse&lt;JsonData&gt; result = this.el_client.search(s -&gt; s\r\n            .index(index)\r\n            .size(search_size)\r\n            .sort(sort_options)\r\n            .query(q -&gt; q\r\n                .term(t -&gt; t\r\n                    .field(field)\r\n                    .value(v -&gt; v.stringValue(value))\r\n                )),\r\n            JsonData.class);\r\n\r\n        return result;\r\n    }\r\n```\r\n\r\nThe strange thing is that it works fine for some time, but then I always receive the following error:\r\n\r\n```\r\nError deserializing co.elastic.clients.elasticsearch.core.search.Hit: jakarta.json.stream.JsonParsingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\r\n```\r\nit is inconsistent as it happens at random entries retrieved from Elasticsearch, I looked the previous entries that were retrieved and it is never the same time window (i am using the @timestamp field to cross-reference which entries might provoke the error)\r\n\r\nHere is the stack trace:\r\n\r\n```\r\n co.elastic.clients.json.JsonpMappingException: Error deserializing co.elastic.clients.elasticsearch.core.search.Hit: jakarta.json.stream.JsonParsingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\r\n  at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 176305] (JSON path: hits.hits[55]._source) (line no=1, column no=176305, offset=-1)\r\n \tat co.elastic.clients.json.JsonpMappingException.from0(JsonpMappingException.java:134)\r\n \tat co.elastic.clients.json.JsonpMappingException.from(JsonpMappingException.java:121)\r\n \tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:218)\r\n \tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148)\r\n \tat co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:85)\r\n \tat co.elastic.clients.json.JsonpDeserializerBase$ArrayDeserializer.deserialize(JsonpDeserializerBase.java:318)\r\n \tat co.elastic.clients.json.JsonpDeserializerBase$ArrayDeserializer.deserialize(JsonpDeserializerBase.java:280)\r\n \tat co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\r\n \tat co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeserializer.java:78)\r\n \tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192)\r\n \tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148)\r\n \tat co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\r\n \tat co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:79)\r\n \tat co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeserializer.java:78)\r\n \tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192)\r\n \tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148)\r\n \tat co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\r\n \tat co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:79)\r\n \tat co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43)\r\n \tat co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43)\r\n \tat co.elastic.clients.transport.endpoints.EndpointWithResponseMapperAttr$1.deserialize(EndpointWithResponseMapperAttr.java:56)\r\n \tat co.elastic.clients.transport.rest_client.RestClientTransport.decodeResponse(RestClientTransport.java:377)\r\n \tat co.elastic.clients.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:347)\r\n \tat co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:154)\r\n \tat co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1887)\r\n \tat co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1904)\r\n \tat netrank.ElasticSourceClient.querySearch(ElasticSourceClient.java:190)\r\n \tat netrank.datasource.ElasticSource.run(ElasticSource.java:309)\r\n \tat be.cylab.mark.data.SourceWrapper.run(SourceWrapper.java:61)\r\n \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n Caused by: jakarta.json.stream.JsonParsingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\r\n  at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 176305]\r\n \tat co.elastic.clients.json.jackson.JacksonUtils.convertException(JacksonUtils.java:36)\r\n \tat co.elastic.clients.json.jackson.JacksonJsonpParser.getJsonData(JacksonJsonpParser.java:435)\r\n \tat co.elastic.clients.json.JsonData.from(JsonData.java:162)\r\n \tat co.elastic.clients.json.JsonData.lambda$static$0(JsonData.java:169)\r\n \tat co.elastic.clients.json.JsonpDeserializer$3.deserialize(JsonpDeserializer.java:136)\r\n \tat co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\r\n \tat co.elastic.clients.json.NamedDeserializer.deserialize(NamedDeserializer.java:64)\r\n \tat co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeseri \tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192)\r\n \t... 27 more\r\n Caused by: com.fasterxml.jackson.core.JsonParseException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\r\n  at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 176305]\r\n \tat com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1840)\r\n \tat com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:712)\r\n \tat com.fasterxml.jackson.core.base.ParserBase._throwUnquotedSpace(ParserBase.java:1046)\r\n \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseEscapedName(UTF8StreamJsonParser.java:1931)\r\n \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseLongName(UTF8StreamJsonParser.java:1872)\r\n \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseMediumName2(UTF8StreamJsonParser.java:1810)\r\n \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseMediumName(UTF8StreamJsonParser.java:1767)\r\n \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1702)\r\n \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:757)\r\n \tat com.fasterxml.jackson.databind.util.TokenBuffer._copyBufferContents(TokenBuffer.java:1155)\r\n \tat com.fasterxml.jackson.databind.util.TokenBuffer.copyCurrentStructure(TokenBuffer.java:1137)\r\n \tat co.elastic.clients.json.jackson.JacksonJsonpParser.getJsonData(JacksonJsonpParser.java:432)\r\n \t... 34 more\r\n```\r\n\r\nAt this point I have the feeling that the error is not from my code, but how the Elastic API sends the data and then the transformation from the raw JSON to JsonData. I tried using Object instead, but the same thing happens.\r\nIs there a way to sanitize the JSON at the moment of fetching it or any way to correct this strange behavior?","title":"jakarta.json.stream.JsonParsingException when retrieving data from Elasticsearch","body":"<p>for some time now I have been trying to incorporate the Elastic Java 8.10 client into my code, I have a big ELK stack with a lot of data. I am trying to fetch continuously data from it, but I am encountering some inconsistent behavior.</p>\n<p>My code is following the Elastic tutorial on their website and I have a simple function to get the data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n     * Method for querying a search in ELK using search_after.\n     * @param search_size\n     * @param index\n     * @param sort_options\n     * @param field\n     * @param value\n     * @return SearchResponse\n     * @throws IOException on failed search\n     */\n    public final SearchResponse&lt;JsonData&gt; querySearch(final int search_size,\n            final String index, final List&lt;SortOptions&gt; sort_options,\n            final List&lt;FieldValue&gt; search_after, final String field,\n            final String value) throws IOException {\n        SearchResponse&lt;JsonData&gt; result = this.el_client.search(s -&gt; s\n            .index(index)\n            .size(search_size)\n            .sort(sort_options)\n            .query(q -&gt; q\n                .term(t -&gt; t\n                    .field(field)\n                    .value(v -&gt; v.stringValue(value))\n                )),\n            JsonData.class);\n\n        return result;\n    }\n</code></pre>\n<p>The strange thing is that it works fine for some time, but then I always receive the following error:</p>\n<pre><code>Error deserializing co.elastic.clients.elasticsearch.core.search.Hit: jakarta.json.stream.JsonParsingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\n</code></pre>\n<p>it is inconsistent as it happens at random entries retrieved from Elasticsearch, I looked the previous entries that were retrieved and it is never the same time window (i am using the @timestamp field to cross-reference which entries might provoke the error)</p>\n<p>Here is the stack trace:</p>\n<pre><code> co.elastic.clients.json.JsonpMappingException: Error deserializing co.elastic.clients.elasticsearch.core.search.Hit: jakarta.json.stream.JsonParsingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\n  at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 176305] (JSON path: hits.hits[55]._source) (line no=1, column no=176305, offset=-1)\n    at co.elastic.clients.json.JsonpMappingException.from0(JsonpMappingException.java:134)\n    at co.elastic.clients.json.JsonpMappingException.from(JsonpMappingException.java:121)\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:218)\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148)\n    at co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:85)\n    at co.elastic.clients.json.JsonpDeserializerBase$ArrayDeserializer.deserialize(JsonpDeserializerBase.java:318)\n    at co.elastic.clients.json.JsonpDeserializerBase$ArrayDeserializer.deserialize(JsonpDeserializerBase.java:280)\n    at co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\n    at co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeserializer.java:78)\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192)\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148)\n    at co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\n    at co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:79)\n    at co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeserializer.java:78)\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192)\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148)\n    at co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\n    at co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:79)\n    at co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43)\n    at co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43)\n    at co.elastic.clients.transport.endpoints.EndpointWithResponseMapperAttr$1.deserialize(EndpointWithResponseMapperAttr.java:56)\n    at co.elastic.clients.transport.rest_client.RestClientTransport.decodeResponse(RestClientTransport.java:377)\n    at co.elastic.clients.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:347)\n    at co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:154)\n    at co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1887)\n    at co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1904)\n    at netrank.ElasticSourceClient.querySearch(ElasticSourceClient.java:190)\n    at netrank.datasource.ElasticSource.run(ElasticSource.java:309)\n    at be.cylab.mark.data.SourceWrapper.run(SourceWrapper.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n Caused by: jakarta.json.stream.JsonParsingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\n  at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 176305]\n    at co.elastic.clients.json.jackson.JacksonUtils.convertException(JacksonUtils.java:36)\n    at co.elastic.clients.json.jackson.JacksonJsonpParser.getJsonData(JacksonJsonpParser.java:435)\n    at co.elastic.clients.json.JsonData.from(JsonData.java:162)\n    at co.elastic.clients.json.JsonData.lambda$static$0(JsonData.java:169)\n    at co.elastic.clients.json.JsonpDeserializer$3.deserialize(JsonpDeserializer.java:136)\n    at co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\n    at co.elastic.clients.json.NamedDeserializer.deserialize(NamedDeserializer.java:64)\n    at co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeseri  at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192)\n    ... 27 more\n Caused by: com.fasterxml.jackson.core.JsonParseException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\n  at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 176305]\n    at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1840)\n    at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:712)\n    at com.fasterxml.jackson.core.base.ParserBase._throwUnquotedSpace(ParserBase.java:1046)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseEscapedName(UTF8StreamJsonParser.java:1931)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseLongName(UTF8StreamJsonParser.java:1872)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseMediumName2(UTF8StreamJsonParser.java:1810)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseMediumName(UTF8StreamJsonParser.java:1767)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1702)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:757)\n    at com.fasterxml.jackson.databind.util.TokenBuffer._copyBufferContents(TokenBuffer.java:1155)\n    at com.fasterxml.jackson.databind.util.TokenBuffer.copyCurrentStructure(TokenBuffer.java:1137)\n    at co.elastic.clients.json.jackson.JacksonJsonpParser.getJsonData(JacksonJsonpParser.java:432)\n    ... 34 more\n</code></pre>\n<p>At this point I have the feeling that the error is not from my code, but how the Elastic API sends the data and then the transformation from the raw JSON to JsonData. I tried using Object instead, but the same thing happens.\nIs there a way to sanitize the JSON at the moment of fetching it or any way to correct this strange behavior?</p>\n"},{"tags":["java","gson","retrofit2"],"comments":[{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695126701,"post_id":77134565,"comment_id":135979925,"body_markdown":"What is the error you get?","body":"What is the error you get?"},{"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"score":0,"creation_date":1695127334,"post_id":77134565,"comment_id":135980051,"body_markdown":"`Expected 0 arguments but found 1`. Then, I create a create method with Intellisense and add the following code into the interface: `&lt;T&gt; Object getData(Class&lt;T&gt; responseType);` but it&#39;s not working.","body":"<code>Expected 0 arguments but found 1</code>. Then, I create a create method with Intellisense and add the following code into the interface: <code>&lt;T&gt; Object getData(Class&lt;T&gt; responseType);</code> but it&#39;s not working."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695127404,"post_id":77134565,"comment_id":135980066,"body_markdown":"Please [edit] your question with the details, **do not add pertinent information in comments**","body":"Please <a href=\"https://stackoverflow.com/posts/77134565/edit\">edit</a> your question with the details, <b>do not add pertinent information in comments</b>"},{"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"score":0,"creation_date":1695127736,"post_id":77134565,"comment_id":135980137,"body_markdown":"okay, i edited it. @MarkRotteveel","body":"okay, i edited it. @MarkRotteveel"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1695159600,"post_id":77134565,"comment_id":135986125,"body_markdown":"Could you please explain how `RestInterfaceController.getData()` respectively the server you are sending the request to should behave? Your current `getData()` method takes no arguments, so the server should always return the same response format; in that case there should not be any need for a `responseType`. Could you please provide some examples for the response JSON data you receive, and why a `responseType` is necessary.","body":"Could you please explain how <code>RestInterfaceController.getData()</code> respectively the server you are sending the request to should behave? Your current <code>getData()</code> method takes no arguments, so the server should always return the same response format; in that case there should not be any need for a <code>responseType</code>. Could you please provide some examples for the response JSON data you receive, and why a <code>responseType</code> is necessary."}],"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695127703,"creation_date":1695126535,"question_id":77134565,"body_markdown":"I wrote a method that will receive data from the API generically for the model classes that I will send using the Retrofit package. However, normally when doing it with a static model, data comes, but now no data is coming. Why?\r\n\r\nWhen I use the `Call&lt;T&gt; call = (Call&lt;T&gt;) restInterfaceController.getData(responseType);` from the parameter responseType here, it gives an error `Expected 0 arguments but found 1`. Then, I create a create method with Intellisense and add the following code into the interface: `&lt;T&gt; Object getData(Class&lt;T&gt; responseType);` but it&#39;s not working. How can I solve this problem?\r\n\r\n```\r\nprivate &lt;T&gt; void RetrofitApply(Class&lt;T&gt; responseType) {\r\n    Retrofit retrofit = new Retrofit.Builder()\r\n            .baseUrl(Constants.constants.baseUrl)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .build();\r\n    RestInterfaceController restInterfaceController = retrofit.create(RestInterfaceController.class);\r\n    Call&lt;T&gt; call = (Call&lt;T&gt;) restInterfaceController.getData();\r\n\r\n    call.enqueue(new Callback&lt;T&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;T&gt; call, Response&lt;T&gt; response) {\r\n            if (response.isSuccessful()) {\r\n                T responseData = response.body();\r\n                if (responseData != null) {\r\n                    System.out.println(&quot;DATA : &quot; + responseData);\r\n                    System.out.println(&quot;ERROR CODE : &quot; + response.code());\r\n                    System.out.println(&quot;ERROR MESSAGE: &quot; + response.message());\r\n                } else {\r\n                    System.out.println(&quot;Response data is null.&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Response is not successful. : &quot; + response.code());\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Call&lt;T&gt; call, Throwable t) {\r\n            System.out.println(&quot;ERROR MESSAGE : &quot; + t.getMessage());\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nInterface here:\r\n\r\n```\r\npublic interface RestInterfaceController {\r\n    @GET(&quot;Europe/Istanbul&quot;)\r\n    Call&lt;Example&gt; getData();\r\n}\r\n```","title":"How can I solve Retrofit generic methods problem","body":"<p>I wrote a method that will receive data from the API generically for the model classes that I will send using the Retrofit package. However, normally when doing it with a static model, data comes, but now no data is coming. Why?</p>\n<p>When I use the <code>Call&lt;T&gt; call = (Call&lt;T&gt;) restInterfaceController.getData(responseType);</code> from the parameter responseType here, it gives an error <code>Expected 0 arguments but found 1</code>. Then, I create a create method with Intellisense and add the following code into the interface: <code>&lt;T&gt; Object getData(Class&lt;T&gt; responseType);</code> but it's not working. How can I solve this problem?</p>\n<pre><code>private &lt;T&gt; void RetrofitApply(Class&lt;T&gt; responseType) {\n    Retrofit retrofit = new Retrofit.Builder()\n            .baseUrl(Constants.constants.baseUrl)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build();\n    RestInterfaceController restInterfaceController = retrofit.create(RestInterfaceController.class);\n    Call&lt;T&gt; call = (Call&lt;T&gt;) restInterfaceController.getData();\n\n    call.enqueue(new Callback&lt;T&gt;() {\n        @Override\n        public void onResponse(Call&lt;T&gt; call, Response&lt;T&gt; response) {\n            if (response.isSuccessful()) {\n                T responseData = response.body();\n                if (responseData != null) {\n                    System.out.println(&quot;DATA : &quot; + responseData);\n                    System.out.println(&quot;ERROR CODE : &quot; + response.code());\n                    System.out.println(&quot;ERROR MESSAGE: &quot; + response.message());\n                } else {\n                    System.out.println(&quot;Response data is null.&quot;);\n                }\n            } else {\n                System.out.println(&quot;Response is not successful. : &quot; + response.code());\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;T&gt; call, Throwable t) {\n            System.out.println(&quot;ERROR MESSAGE : &quot; + t.getMessage());\n        }\n    });\n}\n</code></pre>\n<p>Interface here:</p>\n<pre><code>public interface RestInterfaceController {\n    @GET(&quot;Europe/Istanbul&quot;)\n    Call&lt;Example&gt; getData();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1695125660,"post_id":77134083,"comment_id":135979673,"body_markdown":"Which methods does you `Filter` implement?","body":"Which methods does you <code>Filter</code> implement?"},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1695126374,"post_id":77134083,"comment_id":135979861,"body_markdown":"I have implementend all filter(...) methods from org.apache.logging.log4j.core.filter.AbstractFilter.","body":"I have implementend all filter(...) methods from org.apache.logging.log4j.core.filter.AbstractFilter."}],"answers":[{"tags":[],"owner":{"account_id":7236887,"reputation":1,"user_id":6709625,"display_name":"Liam Nguyen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695122793,"creation_date":1695122793,"answer_id":77134135,"question_id":77134083,"body_markdown":"I think the `log4j` can not identify which `Filter` class in the xml, try to use the fully qualified class name of your extended Filter in the tag.","title":"Why does log4j filter not works inside appender","body":"<p>I think the <code>log4j</code> can not identify which <code>Filter</code> class in the xml, try to use the fully qualified class name of your extended Filter in the tag.</p>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695127282,"creation_date":1695127282,"answer_id":77134645,"question_id":77134083,"body_markdown":"Unlike Logback, which defines a separate [`Filter`](https://logback.qos.ch/apidocs/ch/qos/logback/core/filter/Filter.html) and [`TurboFilter`](https://logback.qos.ch/apidocs/ch/qos/logback/classic/turbo/TurboFilter.html) interface, Log4j Core has a single [`Filter`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/Filter.html) interface that has a **double purpose**:\r\n * the [`filter(LogEvent)`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/Filter.html) method is used when the filter is:\r\n     \r\n    1. attached to an appender,\r\n    2. attached to an appender reference,\r\n    3. attached to a logger configuration (as in your case).\r\n\r\n * the remaining `filter` methods are only used when your filter is a **global** filter (directly attached to a configuration).\r\n\r\nYour `filter(LogEvent)` method must work incorrectly, hence the issue. Remark that in this case you **always** have a message (usually of type `ObjectMessage`, `SimpleMessage` or `ParameterizedMessage`), although this message might be a mutable one.\r\n","title":"Why does log4j filter not works inside appender","body":"<p>Unlike Logback, which defines a separate <a href=\"https://logback.qos.ch/apidocs/ch/qos/logback/core/filter/Filter.html\" rel=\"nofollow noreferrer\"><code>Filter</code></a> and <a href=\"https://logback.qos.ch/apidocs/ch/qos/logback/classic/turbo/TurboFilter.html\" rel=\"nofollow noreferrer\"><code>TurboFilter</code></a> interface, Log4j Core has a single <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/Filter.html\" rel=\"nofollow noreferrer\"><code>Filter</code></a> interface that has a <strong>double purpose</strong>:</p>\n<ul>\n<li><p>the <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/Filter.html\" rel=\"nofollow noreferrer\"><code>filter(LogEvent)</code></a> method is used when the filter is:</p>\n<ol>\n<li>attached to an appender,</li>\n<li>attached to an appender reference,</li>\n<li>attached to a logger configuration (as in your case).</li>\n</ol>\n</li>\n<li><p>the remaining <code>filter</code> methods are only used when your filter is a <strong>global</strong> filter (directly attached to a configuration).</p>\n</li>\n</ul>\n<p>Your <code>filter(LogEvent)</code> method must work incorrectly, hence the issue. Remark that in this case you <strong>always</strong> have a message (usually of type <code>ObjectMessage</code>, <code>SimpleMessage</code> or <code>ParameterizedMessage</code>), although this message might be a mutable one.</p>\n"}],"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77134645,"answer_count":2,"score":1,"last_activity_date":1695127282,"creation_date":1695122364,"question_id":77134083,"body_markdown":"I&#39;ve create a custom filter that looks like this:\r\n\r\n    @Plugin(name = &quot;EmptyMessageFilter&quot;, category = Node.CATEGORY, elementType = Filter.ELEMENT_TYPE, printObject = true)\r\n    public class EmptyMessageFilter extends AbstractFilter {\r\n    \r\n      @PluginFactory\r\n      public static EmptyMessageFilter createFilter() {\r\n        return new EmptyMessageFilter();\r\n      }\r\n    ...\r\n    }\r\n\r\nThe log4j config file looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration&gt;\r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;LOG_PATTERN&quot;&gt;\r\n                %d{yyyy-MM-dd HH:mm:ss.SSS}\r\n            &lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n        &lt;!-- When filter is here it works --&gt;\r\n        &lt;Filters&gt;\r\n            &lt;EmptyMessageFilter/&gt;\r\n        &lt;/Filters&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;ConsoleAppender&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot;/&gt;\r\n            &lt;!-- When filter is here it does not work --&gt;\r\n            &lt;Filters&gt;\r\n                &lt;EmptyMessageFilter/&gt;\r\n            &lt;/Filters&gt;  \r\n            &lt;/Console&gt;\r\n      \r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;info&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;ConsoleAppender&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nWhen the filter is configured inside the Console appender it does not work but when it&#39;s outside the appenders it works. \r\nAccording to this https://logging.apache.org/log4j/2.x/manual/configuration.html#Loggers both should work. Any hints whats wrong?\r\n\r\nThe predefined filters like RegexFilter or BurstFilter works as well inside the appender but i don&#39;t see a difference between my custom filter and the predifined filters....\r\n\r\n","title":"Why does log4j filter not works inside appender","body":"<p>I've create a custom filter that looks like this:</p>\n<pre><code>@Plugin(name = &quot;EmptyMessageFilter&quot;, category = Node.CATEGORY, elementType = Filter.ELEMENT_TYPE, printObject = true)\npublic class EmptyMessageFilter extends AbstractFilter {\n\n  @PluginFactory\n  public static EmptyMessageFilter createFilter() {\n    return new EmptyMessageFilter();\n  }\n...\n}\n</code></pre>\n<p>The log4j config file looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Properties&gt;\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt;\n            %d{yyyy-MM-dd HH:mm:ss.SSS}\n        &lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;!-- When filter is here it works --&gt;\n    &lt;Filters&gt;\n        &lt;EmptyMessageFilter/&gt;\n    &lt;/Filters&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;ConsoleAppender&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot;/&gt;\n        &lt;!-- When filter is here it does not work --&gt;\n        &lt;Filters&gt;\n            &lt;EmptyMessageFilter/&gt;\n        &lt;/Filters&gt;  \n        &lt;/Console&gt;\n  \n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;ConsoleAppender&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>When the filter is configured inside the Console appender it does not work but when it's outside the appenders it works.\nAccording to this <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#Loggers\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/configuration.html#Loggers</a> both should work. Any hints whats wrong?</p>\n<p>The predefined filters like RegexFilter or BurstFilter works as well inside the appender but i don't see a difference between my custom filter and the predifined filters....</p>\n"},{"tags":["java","annotations","java-annotations"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1695125778,"post_id":77134475,"comment_id":135979703,"body_markdown":"You can&#39;t do it that way. Annotations aren&#39;t magic. You&#39;re going to have to handle them either at compile time (change the generated class file) or at runtime (with reflection, change the parameter being passed). I recommend you google for &quot;java annotation processing&quot; to get started learning about how to do that.","body":"You can&#39;t do it that way. Annotations aren&#39;t magic. You&#39;re going to have to handle them either at compile time (change the generated class file) or at runtime (with reflection, change the parameter being passed). I recommend you google for &quot;java annotation processing&quot; to get started learning about how to do that."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1695125944,"post_id":77134475,"comment_id":135979750,"body_markdown":"And note that the method you wrote targets *fields*, but in your example you have annotated a *parameter*. Those are different things.","body":"And note that the method you wrote targets <i>fields</i>, but in your example you have annotated a <i>parameter</i>. Those are different things."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695126615,"post_id":77134475,"comment_id":135979910,"body_markdown":"This is easily possible. Just really hard to do. I&#39;m guessing lots of folks are downvoting this because they think it&#39;s not possible and a casual web search indicates that it isn&#39;t (APs cannot modify existing source files). But if that&#39;s what&#39;s happening here, there&#39;s easy only slightly creative ways around it.","body":"This is easily possible. Just really hard to do. I&#39;m guessing lots of folks are downvoting this because they think it&#39;s not possible and a casual web search indicates that it isn&#39;t (APs cannot modify existing source files). But if that&#39;s what&#39;s happening here, there&#39;s easy only slightly creative ways around it."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695128678,"post_id":77134475,"comment_id":135980316,"body_markdown":"Sure, it&#39;s &quot;possible&quot;. Easily, not so much. But leave it to a Lombok developer to extend what&#39;s possible within the confines of the Java language and compiler ;-)","body":"Sure, it&#39;s &quot;possible&quot;. Easily, not so much. But leave it to a Lombok developer to extend what&#39;s possible within the confines of the Java language and compiler ;-)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695127063,"creation_date":1695127063,"answer_id":77134626,"question_id":77134475,"body_markdown":"This is not _directly_ possible. But there are tricks.\r\n\r\n## Annotation Processor\r\n\r\nAnnotation Processors (APs) have an API that limits them to making _new_ source files, they can&#39;t edit existing ones. Hence, &#39;write an annotation processor that injects code that replaces a `null` value with some default&#39; is not possible.\r\n\r\nBut, there are alternatives that get close.\r\n\r\nYou can set up your annotation system so that the users (i.e. the programmers using your annotation) write a &#39;template&#39; in java and that your AP sees this and generates the real source file. APs can only &#39;see&#39; signatures (the name, return type, parameter types, parameter names, and throws clauses of methods, and the name + type of fields, and a list of inner types, __but not__ initializer expressions of fields, or the body of method declarations).\r\n\r\nThis does allow you to do things like this:\r\n\r\n```\r\n// This is a file you write\r\n@SomeAnno\r\npublic class FooDefinition {\r\n  private final String name;\r\n\r\n  public static void greet(Foo self) {\r\n    System.out.println(&quot;Hello, &quot; + self.getName());\r\n  }\r\n}\r\n```\r\n\r\n```\r\n// and this is what your AP can generate from that\r\npublic class Foo {\r\n  private final String name;\r\n\r\n  public Foo(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public String getName() {\r\n    return name;\r\n  }\r\n\r\n  public void greet() {\r\n    FooDefinition.greet(this);\r\n  }\r\n}\r\n```\r\n\r\nThis is a hypothetical AP that adds getters and a constructor. It &#39;works&#39; because all you need to know from FooDefinition to generate Foo, is that `final String name;` exists, and that `static void greet(Foo self)` exists. You don&#39;t need to know the content of that greet method (as you can&#39;t).\r\n\r\nThis isn&#39;t exactly &#39;nice&#39; as an experience: Foo doesn&#39;t exist until you do a full compilation run, and any modifications to `FooDefinition` will not affect `Foo` until you do another full build run. You will not get the benefit of making a quick change in your IDE and seeing this instantly reflected throughout your source code. I&#39;m not sure it&#39;s a useful trick for your needs here - at best, you can make a wrapper clone of your class, where the body of each method in the code you generate replaces any nulled arguments with their defaults and then calls your code.\r\n\r\n## Agents\r\n\r\nAgents are debug aids that &#39;plug in&#39; to your JVM&#39;s core functionality and can modify things on the fly. In particular, they get to witness raw bytecode (in `byte[]` form, as in, a direct dump of the contents of a `.class` file) and can modify it if they want. You register them on boot (`java -javaagent:/path/to/some.jar`) - you can make one that sees the annotation and meddles with the bytecode to inject a default-replacer.\r\n\r\nIt&#39;s a bit odd in the sense that you have to have a runtime component (that agent, which must be specified with a `-javaagent:` parameter.\r\n\r\nIt&#39;s definitely possible and essentially &#39;live&#39;, i.e. in IDEs and such you just make an edit, save, and e.g. eclipse&#39;s hot code replace will work fine here, as your agent is still there and on-the-fly injecting initialization code that replaces nulls with defaults.\r\n\r\nHowever, this is __really difficult__ - a seasoned java programmer roughing will still probably require a full week to build such a tool. You&#39;ll need to look into java bytecode libraries such as ObjectWeb&#39;s ASM, or BCEL, because you need to read the bytecode first, and you&#39;ll have to generate _bytecode_, not java code.\r\n\r\n## Lombok\r\n\r\nLombok is often sold (sometimes even by us - I&#39;m a core lombok contributor) as an &#39;annotation processor&#39;. But it really isn&#39;t: It&#39;s a compiler plugin that simply loads via the Annotation Processor path sometimes. It does _precisely_ what you are talking about and &#39;make a defaulting mechanism&#39; is a very common request. You should probably search the ProjectLombok github home for issues about this and the wiki as there&#39;s plenty of words written on this idea already.\r\n\r\nGiven that lombok isn&#39;t an AP, if you want this, you&#39;d fork lombok and then write it and use it, or, send in a PR if you find a really really neat way to do this. The primary reason we (lombok authors) aren&#39;t doing this yet is that annotation processors are extremely limited on what you can pass in for arguments, so we&#39;re not sure how to express the default value.\r\n\r\n## Just... code\r\n\r\nIt won&#39;t be automatic but you can of course always simply do something like this:\r\n\r\n```\r\n// code you actually write\r\nstatic void myMethod(@NullToDefault String param) {\r\n    param = applyDefaults(&quot;param&quot;, param);\r\n    System.out.println(param);\r\n}\r\n```\r\n\r\ni.e. you&#39;re going to have to manually write that `applyDefaults` line every time, but the code that leads to can at least read out that annotation. It won&#39;t be able to read out `param` (the name), hence, we pass it.\r\n","title":"Java annotation to change null value","body":"<p>This is not <em>directly</em> possible. But there are tricks.</p>\n<h2>Annotation Processor</h2>\n<p>Annotation Processors (APs) have an API that limits them to making <em>new</em> source files, they can't edit existing ones. Hence, 'write an annotation processor that injects code that replaces a <code>null</code> value with some default' is not possible.</p>\n<p>But, there are alternatives that get close.</p>\n<p>You can set up your annotation system so that the users (i.e. the programmers using your annotation) write a 'template' in java and that your AP sees this and generates the real source file. APs can only 'see' signatures (the name, return type, parameter types, parameter names, and throws clauses of methods, and the name + type of fields, and a list of inner types, <strong>but not</strong> initializer expressions of fields, or the body of method declarations).</p>\n<p>This does allow you to do things like this:</p>\n<pre><code>// This is a file you write\n@SomeAnno\npublic class FooDefinition {\n  private final String name;\n\n  public static void greet(Foo self) {\n    System.out.println(&quot;Hello, &quot; + self.getName());\n  }\n}\n</code></pre>\n<pre><code>// and this is what your AP can generate from that\npublic class Foo {\n  private final String name;\n\n  public Foo(String name) {\n    this.name = name;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public void greet() {\n    FooDefinition.greet(this);\n  }\n}\n</code></pre>\n<p>This is a hypothetical AP that adds getters and a constructor. It 'works' because all you need to know from FooDefinition to generate Foo, is that <code>final String name;</code> exists, and that <code>static void greet(Foo self)</code> exists. You don't need to know the content of that greet method (as you can't).</p>\n<p>This isn't exactly 'nice' as an experience: Foo doesn't exist until you do a full compilation run, and any modifications to <code>FooDefinition</code> will not affect <code>Foo</code> until you do another full build run. You will not get the benefit of making a quick change in your IDE and seeing this instantly reflected throughout your source code. I'm not sure it's a useful trick for your needs here - at best, you can make a wrapper clone of your class, where the body of each method in the code you generate replaces any nulled arguments with their defaults and then calls your code.</p>\n<h2>Agents</h2>\n<p>Agents are debug aids that 'plug in' to your JVM's core functionality and can modify things on the fly. In particular, they get to witness raw bytecode (in <code>byte[]</code> form, as in, a direct dump of the contents of a <code>.class</code> file) and can modify it if they want. You register them on boot (<code>java -javaagent:/path/to/some.jar</code>) - you can make one that sees the annotation and meddles with the bytecode to inject a default-replacer.</p>\n<p>It's a bit odd in the sense that you have to have a runtime component (that agent, which must be specified with a <code>-javaagent:</code> parameter.</p>\n<p>It's definitely possible and essentially 'live', i.e. in IDEs and such you just make an edit, save, and e.g. eclipse's hot code replace will work fine here, as your agent is still there and on-the-fly injecting initialization code that replaces nulls with defaults.</p>\n<p>However, this is <strong>really difficult</strong> - a seasoned java programmer roughing will still probably require a full week to build such a tool. You'll need to look into java bytecode libraries such as ObjectWeb's ASM, or BCEL, because you need to read the bytecode first, and you'll have to generate <em>bytecode</em>, not java code.</p>\n<h2>Lombok</h2>\n<p>Lombok is often sold (sometimes even by us - I'm a core lombok contributor) as an 'annotation processor'. But it really isn't: It's a compiler plugin that simply loads via the Annotation Processor path sometimes. It does <em>precisely</em> what you are talking about and 'make a defaulting mechanism' is a very common request. You should probably search the ProjectLombok github home for issues about this and the wiki as there's plenty of words written on this idea already.</p>\n<p>Given that lombok isn't an AP, if you want this, you'd fork lombok and then write it and use it, or, send in a PR if you find a really really neat way to do this. The primary reason we (lombok authors) aren't doing this yet is that annotation processors are extremely limited on what you can pass in for arguments, so we're not sure how to express the default value.</p>\n<h2>Just... code</h2>\n<p>It won't be automatic but you can of course always simply do something like this:</p>\n<pre><code>// code you actually write\nstatic void myMethod(@NullToDefault String param) {\n    param = applyDefaults(&quot;param&quot;, param);\n    System.out.println(param);\n}\n</code></pre>\n<p>i.e. you're going to have to manually write that <code>applyDefaults</code> line every time, but the code that leads to can at least read out that annotation. It won't be able to read out <code>param</code> (the name), hence, we pass it.</p>\n"}],"owner":{"account_id":3121211,"reputation":198,"user_id":2640934,"display_name":"gad_gadskiy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77134626,"answer_count":1,"score":-1,"last_activity_date":1695127063,"creation_date":1695125701,"question_id":77134475,"body_markdown":"I want to write an annotation that can change the parameter value to some default if it is null.\r\nFor example:\r\n```\r\nstatic void myMethod(@NullToDefault String param) {\r\n    System.out.println(param);\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    myMethod(&quot;foo&quot;); //prints &quot;foo&quot;\r\n    myMethod(null);  //prints &quot;default&quot;\r\n}\r\n```\r\nI have separately an annotation and a method to change the null value. But I can&#39;t get how to force the annotation to call this method by default. What should I do to complete this?\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.PARAMETER)\r\n@interface NullToDefault {\r\n}\r\n\r\npublic static void inject(Object instance) { //how to call this automatically?\r\n    Field[] fields = instance.getClass().getDeclaredFields();\r\n    for (Field field : fields) {\r\n        if (field.isAnnotationPresent(NullToDefault.class)) {\r\n            field.setAccessible(true);\r\n            try {\r\n                if (field.get(instance) == null) {\r\n                    field.set(instance, &quot;default&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Java annotation to change null value","body":"<p>I want to write an annotation that can change the parameter value to some default if it is null.\nFor example:</p>\n<pre><code>static void myMethod(@NullToDefault String param) {\n    System.out.println(param);\n}\n\npublic static void main(String[] args) {\n    myMethod(&quot;foo&quot;); //prints &quot;foo&quot;\n    myMethod(null);  //prints &quot;default&quot;\n}\n</code></pre>\n<p>I have separately an annotation and a method to change the null value. But I can't get how to force the annotation to call this method by default. What should I do to complete this?</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.PARAMETER)\n@interface NullToDefault {\n}\n\npublic static void inject(Object instance) { //how to call this automatically?\n    Field[] fields = instance.getClass().getDeclaredFields();\n    for (Field field : fields) {\n        if (field.isAnnotationPresent(NullToDefault.class)) {\n            field.setAccessible(true);\n            try {\n                if (field.get(instance) == null) {\n                    field.set(instance, &quot;default&quot;);\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":5448964,"reputation":95,"user_id":4334448,"display_name":"Flaviu Cicio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695126978,"creation_date":1695126978,"answer_id":77134616,"question_id":77131453,"body_markdown":"There is no need for side-outputs, except when you want some events to go in one stream and the other ones in a second stream.\r\n\r\nI would go with the first option, just make sure that you create streams from both of them and consume them separately:\r\n\r\n    DataStream&lt;Event&gt; stream1 = dataStream.process(new ProcessFunction&lt;Event, NewType1&gt;()); \r\n    DataStream&lt;Event&gt; stream2 = dataStream.process(new ProcessFunction&lt;Event, NewType2&gt;());\r\n    \r\n    sink1.consume(stream1);\r\n    sink2.consume(stream2);","title":"Apache Flink same source stream writing to different sinks","body":"<p>There is no need for side-outputs, except when you want some events to go in one stream and the other ones in a second stream.</p>\n<p>I would go with the first option, just make sure that you create streams from both of them and consume them separately:</p>\n<pre><code>DataStream&lt;Event&gt; stream1 = dataStream.process(new ProcessFunction&lt;Event, NewType1&gt;()); \nDataStream&lt;Event&gt; stream2 = dataStream.process(new ProcessFunction&lt;Event, NewType2&gt;());\n\nsink1.consume(stream1);\nsink2.consume(stream2);\n</code></pre>\n"}],"owner":{"account_id":5646377,"reputation":21,"user_id":4468317,"display_name":"Muzzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695126978,"creation_date":1695092177,"question_id":77131453,"body_markdown":"I have a `DataStream&lt;Event&gt; dataStream` and I&#39;d like to have 2 `ProcessFunction` to process the same stream and write to 2 sinks respectively. I might have 2 options - \r\n\r\n1. Use 2 process functions on the same stream directly - \r\n```\r\ndataStream.process(new ProcessFunction&lt;Event, NewType1&gt;()) // process function 1\r\ndataStream.process(new ProcessFunction&lt;Event, NewType2&gt;()) // process function 2\r\n```\r\n2. Create separate streams using `SideOutput` and then use 2 Process Functions on these different streams\r\n\r\n```\r\nDataStream&lt;Event&gt; sideOutputStream1 = dataStream.getOutputTag(...) // tag 1\r\nDataStream&lt;Event&gt; sideOutputStream2 = dataStream.getOutputTag(...) // tag 2\r\n```\r\n\r\nI was wondering which is the better approach here.\r\n\r\nI tried both in dev environment, I am not sure what metrics I should be looking into to decide which approach to choose.","title":"Apache Flink same source stream writing to different sinks","body":"<p>I have a <code>DataStream&lt;Event&gt; dataStream</code> and I'd like to have 2 <code>ProcessFunction</code> to process the same stream and write to 2 sinks respectively. I might have 2 options -</p>\n<ol>\n<li>Use 2 process functions on the same stream directly -</li>\n</ol>\n<pre><code>dataStream.process(new ProcessFunction&lt;Event, NewType1&gt;()) // process function 1\ndataStream.process(new ProcessFunction&lt;Event, NewType2&gt;()) // process function 2\n</code></pre>\n<ol start=\"2\">\n<li>Create separate streams using <code>SideOutput</code> and then use 2 Process Functions on these different streams</li>\n</ol>\n<pre><code>DataStream&lt;Event&gt; sideOutputStream1 = dataStream.getOutputTag(...) // tag 1\nDataStream&lt;Event&gt; sideOutputStream2 = dataStream.getOutputTag(...) // tag 2\n</code></pre>\n<p>I was wondering which is the better approach here.</p>\n<p>I tried both in dev environment, I am not sure what metrics I should be looking into to decide which approach to choose.</p>\n"},{"tags":["java","oracle-ucm"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":1,"creation_date":1695374174,"post_id":77134501,"comment_id":136018734,"body_markdown":"There are easier ways. Have a look at RIDC.","body":"There are easier ways. Have a look at RIDC."},{"owner":{"account_id":12580334,"reputation":81,"user_id":10905492,"display_name":"diguex"},"score":0,"creation_date":1696331842,"post_id":77134501,"comment_id":136136392,"body_markdown":"Thank you! Yes I ended up by choosing it and solved my life. Thank you! :)","body":"Thank you! Yes I ended up by choosing it and solved my life. Thank you! :)"}],"owner":{"account_id":12580334,"reputation":81,"user_id":10905492,"display_name":"diguex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695126633,"creation_date":1695125923,"question_id":77134501,"body_markdown":"So this is the first time I&#39;m doing this kind of task, so apologizes if something doesn&#39;t make sense at the beginning.\r\nSo essentially I have a UCM server from where I need to retrieve data.\r\nI&#39;ve with me a pdf provided by Oracle where they also stored some JAVA code to perform the action.\r\n\r\nHowever, there&#39;s something I&#39;m not understanding:\r\nThey mention I need to have the oracle.ucm.fa_client_11.1.1.jar.\r\nI has to be included in the classpath and it contains the Java API for connecting to UCM Server.\r\n\r\nFirst question is: where can I find it?\r\nIt seems it&#39;s related with Webcenter Content Document Transfer Utility java app, am I wrong?\r\nThe goal of my task is simply to retrieve files from UCM to my local machine, but I&#39;m missing some dependencies.\r\n\r\nCan someone help me?\r\n\r\nThanks for your time!","title":"Retrieving data from Oracle UCM server","body":"<p>So this is the first time I'm doing this kind of task, so apologizes if something doesn't make sense at the beginning.\nSo essentially I have a UCM server from where I need to retrieve data.\nI've with me a pdf provided by Oracle where they also stored some JAVA code to perform the action.</p>\n<p>However, there's something I'm not understanding:\nThey mention I need to have the oracle.ucm.fa_client_11.1.1.jar.\nI has to be included in the classpath and it contains the Java API for connecting to UCM Server.</p>\n<p>First question is: where can I find it?\nIt seems it's related with Webcenter Content Document Transfer Utility java app, am I wrong?\nThe goal of my task is simply to retrieve files from UCM to my local machine, but I'm missing some dependencies.</p>\n<p>Can someone help me?</p>\n<p>Thanks for your time!</p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":5957897,"reputation":364,"user_id":4683883,"accept_rate":50,"display_name":"Jefe infiltrado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695126295,"creation_date":1695126295,"question_id":77134540,"body_markdown":"I am getting a stale element exception. This is usually easy to solve. I just need to create the WebElement object again. But thnis time I have no WebElement at all. I am just trying to get information form the browser&#39;s console:\r\n\r\n    public void fillInConsole(String data){\r\n        GenericFunctions.waitForSeconds(20);\r\n        JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\r\n        dataObject = jsExecutor.executeScript(&quot;return &quot; + data + &quot; ; &quot;).toString().toLowerCase();\r\n    }\r\n\r\nThis is the error message I get:\r\n\r\norg.openqa.selenium.StaleElementReferenceException: stale element reference: stale element not found\r\n  (Session info: chrome=116.0.5845.188)\r\nFor documentation on this error, please visit: https://www.seleniumhq.org/exceptions/stale_element_reference.html\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;BCNCZXM893&#39;, ip: &#39;192.168.1.12&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_202&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 116.0.5845.188, chrome: {chromedriverVersion: 116.0.5845.96 (1a3918166880..., userDataDir: C:\\Users\\mbormann\\AppData\\L...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:57313}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\nSession ID: de6622e6242a28810845580472d51c05\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.executeScript(RemoteWebDriver.java:489)\r\n\r\nDoes anyone have an idea, what is going on here. This worked fine for a year and suddenly it&#39;s broken.\r\n","title":"stale element exception without using WebElement","body":"<p>I am getting a stale element exception. This is usually easy to solve. I just need to create the WebElement object again. But thnis time I have no WebElement at all. I am just trying to get information form the browser's console:</p>\n<pre><code>public void fillInConsole(String data){\n    GenericFunctions.waitForSeconds(20);\n    JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\n    dataObject = jsExecutor.executeScript(&quot;return &quot; + data + &quot; ; &quot;).toString().toLowerCase();\n}\n</code></pre>\n<p>This is the error message I get:</p>\n<p>org.openqa.selenium.StaleElementReferenceException: stale element reference: stale element not found\n(Session info: chrome=116.0.5845.188)\nFor documentation on this error, please visit: <a href=\"https://www.seleniumhq.org/exceptions/stale_element_reference.html\" rel=\"nofollow noreferrer\">https://www.seleniumhq.org/exceptions/stale_element_reference.html</a>\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'BCNCZXM893', ip: '192.168.1.12', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_202'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 116.0.5845.188, chrome: {chromedriverVersion: 116.0.5845.96 (1a3918166880..., userDataDir: C:\\Users\\mbormann\\AppData\\L...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:57313}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: de6622e6242a28810845580472d51c05\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\nat org.openqa.selenium.remote.RemoteWebDriver.executeScript(RemoteWebDriver.java:489)</p>\n<p>Does anyone have an idea, what is going on here. This worked fine for a year and suddenly it's broken.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":287515,"reputation":15494,"user_id":587365,"display_name":"Andrew Spencer"},"score":5,"creation_date":1510218203,"post_id":25680258,"comment_id":81344052,"body_markdown":"That other question is SO not a duplicate of this one. (Although some of the answers are pretty similar :) )","body":"That other question is SO not a duplicate of this one. (Although some of the answers are pretty similar :) )"},{"owner":{"account_id":1911363,"reputation":7397,"user_id":1725096,"accept_rate":85,"display_name":"Jens Piegsa"},"score":1,"creation_date":1524560451,"post_id":25680258,"comment_id":87011176,"body_markdown":"This question should be reopened, as it clearly states its use case being different from the marked duplicate.","body":"This question should be reopened, as it clearly states its use case being different from the marked duplicate."},{"owner":{"account_id":1911363,"reputation":7397,"user_id":1725096,"accept_rate":85,"display_name":"Jens Piegsa"},"score":0,"creation_date":1524560636,"post_id":25680258,"comment_id":87011313,"body_markdown":"We have at least: UPPERCASE, lowercase, camelCase, PascalCase, snake_case, SCREAMING_SNAKE_CASE, hyphen-case, dot.case.","body":"We have at least: UPPERCASE, lowercase, camelCase, PascalCase, snake_case, SCREAMING_SNAKE_CASE, hyphen-case, dot.case."}],"answers":[{"tags":[],"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"down_vote_count":1,"up_vote_count":115,"is_accepted":true,"score":114,"last_activity_date":1486227193,"creation_date":1409900653,"answer_id":25680302,"question_id":25680258,"body_markdown":"[Guava][1] supports this through its [CaseFormat][2] class\r\n\r\n    import com.google.common.base.CaseFormat;\r\n    \r\n    \r\n    public class StackOverflow25680258 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(CaseFormat.UPPER_UNDERSCORE.to(CaseFormat.UPPER_CAMEL, &quot;input_in_snake_case&quot;)); \r\n    \t}\r\n    \r\n    }\r\n\r\nOutput\r\n\r\n    InputInSnakeCase\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://github.com/google/guava/blob/master/guava/src/com/google/common/base/CaseFormat.java","title":"Converting a string from snake case to camel case in Java","body":"<p><a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> supports this through its <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/base/CaseFormat.java\" rel=\"noreferrer\">CaseFormat</a> class</p>\n\n<pre><code>import com.google.common.base.CaseFormat;\n\n\npublic class StackOverflow25680258 {\n\n    public static void main(String[] args) {\n        System.out.println(CaseFormat.UPPER_UNDERSCORE.to(CaseFormat.UPPER_CAMEL, \"input_in_snake_case\")); \n    }\n\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>InputInSnakeCase\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667161971,"creation_date":1667161971,"answer_id":74256540,"question_id":25680258,"body_markdown":"A java solution without dependencies assuming the input is actually snake case.\r\n\r\n```java\r\n  public static String makeCamelCase(final String snakeCase) {\r\n    var sb = new StringBuilder();\r\n    var lastChar = snakeCase.charAt(0);\r\n    sb.append(Character.toUpperCase(lastChar));\r\n    for (int i =1; i &lt; snakeCase.length(); i++) {\r\n      var c = snakeCase.charAt(i);\r\n      sb.append(c);\r\n      if (lastChar == &#39;_&#39;) {\r\n        sb.delete(sb.length()-2, sb.length());\r\n        sb.append(&quot;_&quot; + Character.toUpperCase(c));\r\n      }\r\n      lastChar = c;\r\n    }\r\n    return sb.toString();\r\n  }\r\n```","title":"Converting a string from snake case to camel case in Java","body":"<p>A java solution without dependencies assuming the input is actually snake case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static String makeCamelCase(final String snakeCase) {\n    var sb = new StringBuilder();\n    var lastChar = snakeCase.charAt(0);\n    sb.append(Character.toUpperCase(lastChar));\n    for (int i =1; i &lt; snakeCase.length(); i++) {\n      var c = snakeCase.charAt(i);\n      sb.append(c);\n      if (lastChar == '_') {\n        sb.delete(sb.length()-2, sb.length());\n        sb.append(&quot;_&quot; + Character.toUpperCase(c));\n      }\n      lastChar = c;\n    }\n    return sb.toString();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695125907,"creation_date":1695125907,"answer_id":77134499,"question_id":25680258,"body_markdown":"You can use Apache Commons Text `toCamelCase` method:\r\n\r\n```\r\nimport org.apache.commons.text.CaseUtils;\r\n\r\n...\r\n\r\nString snakeCaseText = &quot;make_it_camel_case&quot;;\r\nSystem.out.println(CaseUtils.toCamelCase(snakeCaseText, false, &#39;_&#39;));\r\n```\r\n\r\nOutput of the code above would be &quot;makeItCamelCase&quot;.\r\n\r\nMethod documentation can be found on: \r\nhttps://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/CaseUtils.html#toCamelCase(java.lang.String,boolean,char...)","title":"Converting a string from snake case to camel case in Java","body":"<p>You can use Apache Commons Text <code>toCamelCase</code> method:</p>\n<pre><code>import org.apache.commons.text.CaseUtils;\n\n...\n\nString snakeCaseText = &quot;make_it_camel_case&quot;;\nSystem.out.println(CaseUtils.toCamelCase(snakeCaseText, false, '_'));\n</code></pre>\n<p>Output of the code above would be &quot;makeItCamelCase&quot;.</p>\n<p>Method documentation can be found on:\n<a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/CaseUtils.html#toCamelCase(java.lang.String,boolean,char...)\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/CaseUtils.html#toCamelCase(java.lang.String,boolean,char...)</a></p>\n"}],"owner":{"account_id":3816453,"reputation":1445,"user_id":3165718,"accept_rate":45,"display_name":"Kamesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51736,"favorite_count":0,"down_vote_count":2,"up_vote_count":48,"accepted_answer_id":25680302,"answer_count":3,"score":46,"last_activity_date":1695125907,"creation_date":1409900469,"question_id":25680258,"body_markdown":"How can I convert snake case to camel case in Java?\r\n\r\nInput: &quot;input_in_snake_case&quot;\r\n\r\nOutput: &quot;InputInSnakeCase&quot;","title":"Converting a string from snake case to camel case in Java","body":"<p>How can I convert snake case to camel case in Java?</p>\n\n<p>Input: \"input_in_snake_case\"</p>\n\n<p>Output: \"InputInSnakeCase\"</p>\n"},{"tags":["java","tomcat","openssl","fips"],"owner":{"account_id":1288376,"reputation":55,"user_id":1240976,"display_name":"robhyx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695124551,"creation_date":1695123395,"question_id":77134207,"body_markdown":"**This is a general question about FIPS mode in Apache Tomcat**\r\n\r\nWe are expected to adhere to the Apache Tomcat STIG (https://www.stigviewer.com/stig/apache_tomcat_application_sever_9/2020-12-11/finding/V-222968), but given our setup, I want to know if it even buys us anything. Our setup: HTTPS traffic flows from an external load balancer (managed by another team) where it validates / authenticates a user via PKI. The traffic is then forwarded on to our server over plain old HTTP 8080 where it hits Apache HTTPD. Only the load balancer is allowed to connect to our server on this port. From there, HTTPD proxies / reverse proxies the traffic over AJP (I forget the exact port number) to Tomcat. Only localhost connections are allowed to connect over the AJP port. Thus, since no cryptography (I don&#39;t think) is handled on our side, what would enabling FIPS mode in Tomcat actually get us? Please let me know if I&#39;m missing something. \r\n\r\nIn case it matters:\r\n\r\n - Apache Tomcat 8.0.45, but we&#39;re upgrading to 9.x\r\n - Apache HTTPD 2.4.42\r\n - Java 1.8\r\n - OpenSSL is 1.x and is FIPS capable (at least it says FIPS in the version)\r\n - Red Hat 7 (FIPS mode is enabled as far as I can tell)","title":"FIPS Mode in Apache Tomcat","body":"<p><strong>This is a general question about FIPS mode in Apache Tomcat</strong></p>\n<p>We are expected to adhere to the Apache Tomcat STIG (<a href=\"https://www.stigviewer.com/stig/apache_tomcat_application_sever_9/2020-12-11/finding/V-222968\" rel=\"nofollow noreferrer\">https://www.stigviewer.com/stig/apache_tomcat_application_sever_9/2020-12-11/finding/V-222968</a>), but given our setup, I want to know if it even buys us anything. Our setup: HTTPS traffic flows from an external load balancer (managed by another team) where it validates / authenticates a user via PKI. The traffic is then forwarded on to our server over plain old HTTP 8080 where it hits Apache HTTPD. Only the load balancer is allowed to connect to our server on this port. From there, HTTPD proxies / reverse proxies the traffic over AJP (I forget the exact port number) to Tomcat. Only localhost connections are allowed to connect over the AJP port. Thus, since no cryptography (I don't think) is handled on our side, what would enabling FIPS mode in Tomcat actually get us? Please let me know if I'm missing something.</p>\n<p>In case it matters:</p>\n<ul>\n<li>Apache Tomcat 8.0.45, but we're upgrading to 9.x</li>\n<li>Apache HTTPD 2.4.42</li>\n<li>Java 1.8</li>\n<li>OpenSSL is 1.x and is FIPS capable (at least it says FIPS in the version)</li>\n<li>Red Hat 7 (FIPS mode is enabled as far as I can tell)</li>\n</ul>\n"},{"tags":["java","oracle","spring-boot","hibernate","h2"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1695122889,"post_id":77134090,"comment_id":135979176,"body_markdown":"Which version of H2?  In my existing projects I&#39;m using v1.4.200 instead of 2.x to avoid compatibility problems.  In one project I&#39;m using v1.4.196 because newer ones give a timestamp/date problem.  I have not yet tried to modify my code to be compatible with 2.x.","body":"Which version of H2?  In my existing projects I&#39;m using v1.4.200 instead of 2.x to avoid compatibility problems.  In one project I&#39;m using v1.4.196 because newer ones give a timestamp/date problem.  I have not yet tried to modify my code to be compatible with 2.x."},{"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"score":0,"creation_date":1695123297,"post_id":77134090,"comment_id":135979251,"body_markdown":"@Pino Good question - &#39;1.4.199&#39;","body":"@Pino Good question - &#39;1.4.199&#39;"},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1695123362,"post_id":77134090,"comment_id":135979262,"body_markdown":"Try with 1.4.196 and let me know.","body":"Try with 1.4.196 and let me know."},{"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"score":0,"creation_date":1695126376,"post_id":77134090,"comment_id":135979862,"body_markdown":"@Pino That&#39;s working, thanks. I&#39;ll play with the versions a bit so I&#39;m not stuck on one version without being able to upgrade.","body":"@Pino That&#39;s working, thanks. I&#39;ll play with the versions a bit so I&#39;m not stuck on one version without being able to upgrade."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1699795514,"post_id":77134090,"comment_id":136573605,"body_markdown":"I think you should run your integration tests against the actual database you use, Oracle. [TestContainers](https://testcontainers.com) is a solution for that. It integrates nicely with Spring Boot testing and the Spring folks have documented it nicely.  If you really need to use H2 then use a DDL abstraction layer such as [Liquibase](https://www.liquibase.org/). (there will be other benefits to that too, for example in relation to future evolution of your database model). Liquibase will abstract away the difference you mention.","body":"I think you should run your integration tests against the actual database you use, Oracle. <a href=\"https://testcontainers.com\" rel=\"nofollow noreferrer\">TestContainers</a> is a solution for that. It integrates nicely with Spring Boot testing and the Spring folks have documented it nicely.  If you really need to use H2 then use a DDL abstraction layer such as <a href=\"https://www.liquibase.org/\" rel=\"nofollow noreferrer\">Liquibase</a>. (there will be other benefits to that too, for example in relation to future evolution of your database model). Liquibase will abstract away the difference you mention."}],"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695123330,"creation_date":1695122473,"question_id":77134090,"body_markdown":"We have a Spring Boot application which uses Oracle in production but in-memory H2 database for the integration tests. We initialize the H2 database by running Liquibase migration scripts. Time to time we have some DB incompatibility issues, for example Oracle can&#39;t store empty string etc.. I tried to mitigate some of them by connecting to H2 DB using MODE=Oracle in the connection string, the settings looks like this:\r\n\r\n`spring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=Oracle`\r\n\r\nAfter startup we check that the DB schema is migrated properly by setting\r\n`spring.jpa.hibernate.ddl-auto=validate`\r\n\r\nHowever I get an exception here, because H2 uses `Timestamp` date type where the `Date` type should be used. The H2 documentation says it is a desired behavior\r\n\r\nhttp://www.h2database.com/html/features.html#compatibility\r\n\r\nI checked both Oracle and H2 databases and indeed the Oracle uses Date and H2 uses Timestamp. This however causes and exception being thrown when the integration test starts and Hibernate is validating schema, the exception looks like:\r\n\r\n```\r\nSchema-validation: wrong column type encountered in column [my_column] in table [my_table];\r\n found [timestamp (Types#TIMESTAMP)], but expecting [date (Types#DATE)]\r\n```\r\n\r\nI have two questions:\r\n\r\nWhy can&#39;t H2 use `Date` in Oracle mode, but uses it in a default mode? This should be a question for H2 devs, but I&#39;d appreciate the answer if anyone knows.\r\n\r\nIs there any way how to test `spring.jpa.hibernate.ddl-auto=validate` and `MODE=Oracle` at the same time? I think I can have one test to validate the schema and other tests running in Oracle mode, but that&#39;s far from being a nice solution.\r\n\r\n\r\n**Edit:** H2 version is &#39;1.4.199&#39;","title":"Spring Boot integration tests using H2 in MODE=Oracle can&#39;t validate schema","body":"<p>We have a Spring Boot application which uses Oracle in production but in-memory H2 database for the integration tests. We initialize the H2 database by running Liquibase migration scripts. Time to time we have some DB incompatibility issues, for example Oracle can't store empty string etc.. I tried to mitigate some of them by connecting to H2 DB using MODE=Oracle in the connection string, the settings looks like this:</p>\n<p><code>spring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=Oracle</code></p>\n<p>After startup we check that the DB schema is migrated properly by setting\n<code>spring.jpa.hibernate.ddl-auto=validate</code></p>\n<p>However I get an exception here, because H2 uses <code>Timestamp</code> date type where the <code>Date</code> type should be used. The H2 documentation says it is a desired behavior</p>\n<p><a href=\"http://www.h2database.com/html/features.html#compatibility\" rel=\"nofollow noreferrer\">http://www.h2database.com/html/features.html#compatibility</a></p>\n<p>I checked both Oracle and H2 databases and indeed the Oracle uses Date and H2 uses Timestamp. This however causes and exception being thrown when the integration test starts and Hibernate is validating schema, the exception looks like:</p>\n<pre><code>Schema-validation: wrong column type encountered in column [my_column] in table [my_table];\n found [timestamp (Types#TIMESTAMP)], but expecting [date (Types#DATE)]\n</code></pre>\n<p>I have two questions:</p>\n<p>Why can't H2 use <code>Date</code> in Oracle mode, but uses it in a default mode? This should be a question for H2 devs, but I'd appreciate the answer if anyone knows.</p>\n<p>Is there any way how to test <code>spring.jpa.hibernate.ddl-auto=validate</code> and <code>MODE=Oracle</code> at the same time? I think I can have one test to validate the schema and other tests running in Oracle mode, but that's far from being a nice solution.</p>\n<p><strong>Edit:</strong> H2 version is '1.4.199'</p>\n"},{"tags":["java","processing"],"answers":[{"tags":[],"owner":{"account_id":26518992,"reputation":1059,"user_id":20153035,"display_name":"Fastnlight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665602384,"creation_date":1665602384,"answer_id":74047041,"question_id":74046987,"body_markdown":"You are declaring setup twice. There are multiple solutions to this:&lt;br&gt;\r\n1: Remove one of the setups.&lt;br&gt;\r\n2: Overload the method. Overloading a method allows you to have multiple methods with the same name, but requires them to have a different amount of parameters. To do this, simply give one of the setups a parameter.&lt;br&gt;\r\n3: Rename one of the setups.","title":"My code keeps getting an error that says duplicate method setup","body":"<p>You are declaring setup twice. There are multiple solutions to this:<br>\n1: Remove one of the setups.<br>\n2: Overload the method. Overloading a method allows you to have multiple methods with the same name, but requires them to have a different amount of parameters. To do this, simply give one of the setups a parameter.<br>\n3: Rename one of the setups.</p>\n"},{"tags":[],"owner":{"account_id":3016257,"reputation":236,"user_id":5896674,"display_name":"Serguei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665603089,"creation_date":1665603089,"answer_id":74047137,"question_id":74046987,"body_markdown":"Looks like you are using [Processing][1]. In that case as was pointed out the main file in Processing can have only one `setup()` method. A simple solution is to merge their method bodies into a single setup and remove the second one, like so\r\n\r\n```#!java\r\nvoid setup() {\r\n  size(400, 400) ;\r\n  background(255) ;\r\n  myPiggy = new Piggy();\r\n\r\n  Bubble[] bubbles = new Bubble[300];\r\n\r\n  // You cannot have two size() calls, pick one above or this one\r\n  //size(640, 360);\r\n\r\n  for (int i = 0; i &lt; bubbles.length; i++) {\r\n    bubbles[i] = new Bubble(random(60));\r\n  }\r\n}\r\n```\r\n\r\nPlease note that does not cover other aspects of your code you are trying to merge. For example, you&#39;d need to merge``draw()`` to display your Piggy as well as the bubbles.\r\n\r\n  [1]: https://processing.org/","title":"My code keeps getting an error that says duplicate method setup","body":"<p>Looks like you are using <a href=\"https://processing.org/\" rel=\"nofollow noreferrer\">Processing</a>. In that case as was pointed out the main file in Processing can have only one <code>setup()</code> method. A simple solution is to merge their method bodies into a single setup and remove the second one, like so</p>\n<pre><code>void setup() {\n  size(400, 400) ;\n  background(255) ;\n  myPiggy = new Piggy();\n\n  Bubble[] bubbles = new Bubble[300];\n\n  // You cannot have two size() calls, pick one above or this one\n  //size(640, 360);\n\n  for (int i = 0; i &lt; bubbles.length; i++) {\n    bubbles[i] = new Bubble(random(60));\n  }\n}\n</code></pre>\n<p>Please note that does not cover other aspects of your code you are trying to merge. For example, you'd need to merge<code>draw()</code> to display your Piggy as well as the bubbles.</p>\n"},{"tags":[],"owner":{"account_id":25825446,"reputation":45,"user_id":19563707,"display_name":"KeLLox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665677875,"creation_date":1665677875,"answer_id":74058931,"question_id":74046987,"body_markdown":"You have the method setup() two times, to fix the problem you can just rename one of the methods and if you don&#39;t want to do that you can just add a parameter to one of the setups ```void setup(int p){the code}```","title":"My code keeps getting an error that says duplicate method setup","body":"<p>You have the method setup() two times, to fix the problem you can just rename one of the methods and if you don't want to do that you can just add a parameter to one of the setups <code>void setup(int p){the code}</code></p>\n"},{"tags":[],"owner":{"account_id":15848825,"reputation":1,"user_id":11435267,"display_name":"factober"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668583346,"creation_date":1668583346,"answer_id":74456570,"question_id":74046987,"body_markdown":"You&#39;ve two setup() methods in your code. There should be one setup() method. If the code in both functions is useful, merge both in one and the error should go.","title":"My code keeps getting an error that says duplicate method setup","body":"<p>You've two setup() methods in your code. There should be one setup() method. If the code in both functions is useful, merge both in one and the error should go.</p>\n"},{"tags":[],"owner":{"account_id":17621330,"reputation":3,"user_id":12787217,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695123307,"creation_date":1694843588,"answer_id":77116539,"question_id":74046987,"body_markdown":"You have two methods in your code named `setup()`\r\n```java\r\nPiggy myPiggy;\r\n\r\nvoid setup() {    // &lt;------------ HERE\r\n  size(400, 400) ;\r\n  background(255) ;\r\n  myPiggy = new Piggy();\r\n}\r\nvoid draw() {\r\n  background(255) ;\r\n  myPiggy.display();\r\n\r\n}\r\nvoid mouseDragged() {\r\n  myPiggy.mouseSmoved(mouseX, mouseY);\r\n\r\n}\r\n\r\nvoid setup() {   // &lt;------------ HERE\r\nBubble[] bubbles = new Bubble[300];\r\n\r\n  size(640, 360); //&lt;-- this must be the first line in a setup\r\n  for (int i = 0; i &lt; bubbles.length; i++) {\r\n    bubbles[i] = new Bubble(random(60));\r\n  }\r\n}\r\n```\r\n\r\nYou need to rename or edit your code or delete one [`setup()`][1] to proceed.\r\n\r\n\r\nALSO, `size(x,y)` must be the first line in the setup unless you&#39;re using [`settings()`][2] to initialize `size()` with a variable.\r\n\r\n\r\n  [1]: https://processing.org/reference/setup_.html\r\n  [2]: https://processing.org/reference/settings_.html","title":"My code keeps getting an error that says duplicate method setup","body":"<p>You have two methods in your code named <code>setup()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>Piggy myPiggy;\n\nvoid setup() {    // &lt;------------ HERE\n  size(400, 400) ;\n  background(255) ;\n  myPiggy = new Piggy();\n}\nvoid draw() {\n  background(255) ;\n  myPiggy.display();\n\n}\nvoid mouseDragged() {\n  myPiggy.mouseSmoved(mouseX, mouseY);\n\n}\n\nvoid setup() {   // &lt;------------ HERE\nBubble[] bubbles = new Bubble[300];\n\n  size(640, 360); //&lt;-- this must be the first line in a setup\n  for (int i = 0; i &lt; bubbles.length; i++) {\n    bubbles[i] = new Bubble(random(60));\n  }\n}\n</code></pre>\n<p>You need to rename or edit your code or delete one <a href=\"https://processing.org/reference/setup_.html\" rel=\"nofollow noreferrer\"><code>setup()</code></a> to proceed.</p>\n<p>ALSO, <code>size(x,y)</code> must be the first line in the setup unless you're using <a href=\"https://processing.org/reference/settings_.html\" rel=\"nofollow noreferrer\"><code>settings()</code></a> to initialize <code>size()</code> with a variable.</p>\n"}],"owner":{"account_id":26600515,"reputation":19,"user_id":20222218,"display_name":"Noor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":923,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":5,"score":0,"last_activity_date":1695123307,"creation_date":1665602064,"question_id":74046987,"body_markdown":"I&#39;m making a creature and need to add a moving background into it so I chose for bubbles.\r\n\r\nOn its own it works, same as the movement of the Pig. But when I combine them together it gives the error &#39;duplicate method setup() in my file.\r\n\r\nDoes anyone have any tips what to do?\r\n\r\n    Piggy myPiggy;\r\n    \r\n    void setup() {\r\n      size(400, 400) ;\r\n      background(255) ;\r\n      myPiggy = new Piggy();\r\n    }\r\n    void draw() {\r\n      background(255) ;\r\n      myPiggy.display();\r\n    \r\n    }\r\n    void mouseDragged() {\r\n      myPiggy.mouseSmoved(mouseX, mouseY);\r\n    \r\n    }\r\n    \r\n    void setup() {\r\n    Bubble[] bubbles = new Bubble[300];\r\n    \r\n      size(640, 360);\r\n      for (int i = 0; i &lt; bubbles.length; i++) {\r\n        bubbles[i] = new Bubble(random(60));\r\n      }\r\n    }\r\n    \r\n    void draw() {\r\n      background(255);\r\n      for (int i = 0; i &lt; bubbles.length; i++) {\r\n        bubbles[i].ascend();\r\n        bubbles[i].display();\r\n        bubbles[i].top();\r\n      }\r\n    }\r\n     \r\n    class Piggy {\r\n      float pgX= 0 ;\r\n      float pgY= 0 ;\r\n      int stX = 0 ;\r\n      int stY = 0 ;\r\n      color earColor;\r\n      color faceColor;\r\n      \r\n      Piggy() {\r\n        stX = width / 2;\r\n        stY = height / 2;\r\n      }\r\n    \r\n      void display () {\r\n        //ears\r\n        fill(255,192,203) ;\r\n        noStroke() ;\r\n        ellipse(stX-90, stY-70, 60, 100) ;\r\n        ellipse(stX+90, stY-70, 60, 100) ;\r\n        fill(stX-90, stY-70, 40, 80) ;\r\n        fill(stX+90, stY-70, 40, 80) ;\r\n    \r\n        // face\r\n        fill(255,192,203) ;\r\n        ellipse(stX, stY, 250, 220);\r\n    \r\n        // eyes\r\n        fill(255) ;\r\n        circle(stX-60, stY-30, 40) ;\r\n        circle(stX+60, stY-30, 40) ;\r\n        // pupil\r\n        fill(0) ;\r\n        circle(stX-60, stY-25, 15);\r\n        circle(stX+60, stY-25, 15);\r\n    \r\n        // nose\r\n        fill(253, 89, 157) ;\r\n        ellipse(stX, stY+20, 60, 50) ;\r\n        fill(253, 144, 214) ;\r\n        noStroke() ;\r\n        circle(stX-15, stY+20, 20) ;\r\n        circle(stX+15, stY+20, 20) ;\r\n    \r\n        //mouth\r\n        fill(255) ;\r\n        noStroke() ;\r\n        arc(stX, stY+60, 50, 40, 0, PI) ;\r\n      }\r\n    \r\n      void mouseSmoved(int x, int y) {\r\n        stX = x;\r\n        stY = y;\r\n        \r\n      }\r\n    }\r\n\r\n\r\n    class Bubble {\r\n    \r\n      float x;\r\n      float y;\r\n      float diameter;\r\n      float yspeed;\r\n    \r\n      Bubble(float tempD) {\r\n        x = random(width);\r\n        y = height;\r\n        diameter = tempD;\r\n        yspeed = random(0.5, 2.5);\r\n      }\r\n    \r\n      void ascend() {\r\n        y = y - yspeed;\r\n        x = x + random(-2,2);\r\n      }\r\n    \r\n      void display() {\r\n        stroke(0);\r\n        noFill();\r\n        //fill(127,100);\r\n        ellipse(x, y, diameter, diameter);\r\n      }\r\n    \r\n      void top() {\r\n        if (y &lt; -diameter/2) {\r\n          y = height+diameter/2;\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"My code keeps getting an error that says duplicate method setup","body":"<p>I'm making a creature and need to add a moving background into it so I chose for bubbles.</p>\n<p>On its own it works, same as the movement of the Pig. But when I combine them together it gives the error 'duplicate method setup() in my file.</p>\n<p>Does anyone have any tips what to do?</p>\n<pre><code>Piggy myPiggy;\n\nvoid setup() {\n  size(400, 400) ;\n  background(255) ;\n  myPiggy = new Piggy();\n}\nvoid draw() {\n  background(255) ;\n  myPiggy.display();\n\n}\nvoid mouseDragged() {\n  myPiggy.mouseSmoved(mouseX, mouseY);\n\n}\n\nvoid setup() {\nBubble[] bubbles = new Bubble[300];\n\n  size(640, 360);\n  for (int i = 0; i &lt; bubbles.length; i++) {\n    bubbles[i] = new Bubble(random(60));\n  }\n}\n\nvoid draw() {\n  background(255);\n  for (int i = 0; i &lt; bubbles.length; i++) {\n    bubbles[i].ascend();\n    bubbles[i].display();\n    bubbles[i].top();\n  }\n}\n \nclass Piggy {\n  float pgX= 0 ;\n  float pgY= 0 ;\n  int stX = 0 ;\n  int stY = 0 ;\n  color earColor;\n  color faceColor;\n  \n  Piggy() {\n    stX = width / 2;\n    stY = height / 2;\n  }\n\n  void display () {\n    //ears\n    fill(255,192,203) ;\n    noStroke() ;\n    ellipse(stX-90, stY-70, 60, 100) ;\n    ellipse(stX+90, stY-70, 60, 100) ;\n    fill(stX-90, stY-70, 40, 80) ;\n    fill(stX+90, stY-70, 40, 80) ;\n\n    // face\n    fill(255,192,203) ;\n    ellipse(stX, stY, 250, 220);\n\n    // eyes\n    fill(255) ;\n    circle(stX-60, stY-30, 40) ;\n    circle(stX+60, stY-30, 40) ;\n    // pupil\n    fill(0) ;\n    circle(stX-60, stY-25, 15);\n    circle(stX+60, stY-25, 15);\n\n    // nose\n    fill(253, 89, 157) ;\n    ellipse(stX, stY+20, 60, 50) ;\n    fill(253, 144, 214) ;\n    noStroke() ;\n    circle(stX-15, stY+20, 20) ;\n    circle(stX+15, stY+20, 20) ;\n\n    //mouth\n    fill(255) ;\n    noStroke() ;\n    arc(stX, stY+60, 50, 40, 0, PI) ;\n  }\n\n  void mouseSmoved(int x, int y) {\n    stX = x;\n    stY = y;\n    \n  }\n}\n\n\nclass Bubble {\n\n  float x;\n  float y;\n  float diameter;\n  float yspeed;\n\n  Bubble(float tempD) {\n    x = random(width);\n    y = height;\n    diameter = tempD;\n    yspeed = random(0.5, 2.5);\n  }\n\n  void ascend() {\n    y = y - yspeed;\n    x = x + random(-2,2);\n  }\n\n  void display() {\n    stroke(0);\n    noFill();\n    //fill(127,100);\n    ellipse(x, y, diameter, diameter);\n  }\n\n  void top() {\n    if (y &lt; -diameter/2) {\n      y = height+diameter/2;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","performance","jit"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":5,"creation_date":1658782575,"post_id":73115073,"comment_id":129133045,"body_markdown":"Graal is not JIT.  Further, benchmarking JIT runtimes like HotSpot is _extremely hard_, and I&#39;d guess with something like 98% confidence that you are doing it incorrectly.  Start by reading about and using JMH.","body":"Graal is not JIT.  Further, benchmarking JIT runtimes like HotSpot is <i>extremely hard</i>, and I&#39;d guess with something like 98% confidence that you are doing it incorrectly.  Start by reading about and using JMH."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1658782616,"post_id":73115073,"comment_id":129133053,"body_markdown":"https://developers.redhat.com/articles/2021/06/23/how-jit-compiler-boosts-java-performance-openjdk#deoptimization_and_speculation","body":"<a href=\"https://developers.redhat.com/articles/2021/06/23/how-jit-compiler-boosts-java-performance-openjdk#deoptimization_and_speculation\" rel=\"nofollow noreferrer\">developers.redhat.com/articles/2021/06/23/&hellip;</a>"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1658783229,"post_id":73115073,"comment_id":129133195,"body_markdown":"@Robert 1.0 *does* exist as a double. It is exactly expressible in binary. Unlike, say, 0.3.","body":"@Robert 1.0 <i>does</i> exist as a double. It is exactly expressible in binary. Unlike, say, 0.3."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1658783941,"post_id":73115073,"comment_id":129133365,"body_markdown":"@Robert What?  Of course the double value 1.0 exists.  The mantissa is 1.0, to as many significant figures as you like, and the exponent is 0.","body":"@Robert What?  Of course the double value 1.0 exists.  The mantissa is 1.0, to as many significant figures as you like, and the exponent is 0."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1658785189,"post_id":73115073,"comment_id":129133652,"body_markdown":"My guess: It has to do with `value` being a _parameter_ in the method version of your code. This makes it much harder to guarantee that `value` will **always** be `0.0`.","body":"My guess: It has to do with <code>value</code> being a <i>parameter</i> in the method version of your code. This makes it much harder to guarantee that <code>value</code> will <b>always</b> be <code>0.0</code>."},{"owner":{"account_id":19554242,"reputation":67,"user_id":14309052,"display_name":"Nicolas Chiaruttini"},"score":0,"creation_date":1658787734,"post_id":73115073,"comment_id":129134190,"body_markdown":"Thanks for the all the comments! It&#39;s nice to see such fast feedbacks! @louis-wasserman I&#39;ve seen JMH somewhere as the proper way to benchmark JIT, it looks a bit complicated but I&#39;ll give it a try. I also tried to read (and watch) as many things as possible regarding JIT runtime optimization, but I&#39;ve never clearly found whether it was actively trying to remove &#39;useless&#39; arithmetic operation (which would bring a big perf advantage to JIT vs AOT compilation). Is it possible in theory ? I hope JMH can reveal why the magic does not seem to happen.","body":"Thanks for the all the comments! It&#39;s nice to see such fast feedbacks! @louis-wasserman I&#39;ve seen JMH somewhere as the proper way to benchmark JIT, it looks a bit complicated but I&#39;ll give it a try. I also tried to read (and watch) as many things as possible regarding JIT runtime optimization, but I&#39;ve never clearly found whether it was actively trying to remove &#39;useless&#39; arithmetic operation (which would bring a big perf advantage to JIT vs AOT compilation). Is it possible in theory ? I hope JMH can reveal why the magic does not seem to happen."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1658790046,"post_id":73115073,"comment_id":129134557,"body_markdown":"What if you call the method many times, instead of just the once? Is it eventually optimized?","body":"What if you call the method many times, instead of just the once? Is it eventually optimized?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1658790518,"post_id":73115073,"comment_id":129134654,"body_markdown":"If I were writing this, I&#39;d be tempted to check at the beginning of the &quot;apply transformation&quot; method whether the transformation is an affine one - and if so, run code that doesn&#39;t have the otiose additions and multiplications.  I don&#39;t feel it&#39;s the JIT&#39;s job to know how likely an expression is to come out to 0 or 1.","body":"If I were writing this, I&#39;d be tempted to check at the beginning of the &quot;apply transformation&quot; method whether the transformation is an affine one - and if so, run code that doesn&#39;t have the otiose additions and multiplications.  I don&#39;t feel it&#39;s the JIT&#39;s job to know how likely an expression is to come out to 0 or 1."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":9,"creation_date":1658792203,"post_id":73115073,"comment_id":129134969,"body_markdown":"Your manually written benchmark collected nearly all pitfalls: no warmup; multiple measurements in one method; measuring an OSR stub instead of a regular compiled method; including printout in the measurement, etc. No wonder the benchmark results are misleading. Please check https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java","body":"Your manually written benchmark collected nearly all pitfalls: no warmup; multiple measurements in one method; measuring an OSR stub instead of a regular compiled method; including printout in the measurement, etc. No wonder the benchmark results are misleading. Please check <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1658792489,"post_id":73115073,"comment_id":129135016,"body_markdown":"*&quot;a good optimizer would be able to turn 12 multiplications and 12 additions into 3 additions only, because all multiplications are multiplications by 1 and many additions are additions with zeros&quot;* - only if multiplier is known to be a constant at compile time. This is rarely a case in a real application (otherwise, why would you at all leave multiplication by 1 in the source code?)","body":"<i>&quot;a good optimizer would be able to turn 12 multiplications and 12 additions into 3 additions only, because all multiplications are multiplications by 1 and many additions are additions with zeros&quot;</i> - only if multiplier is known to be a constant at compile time. This is rarely a case in a real application (otherwise, why would you at all leave multiplication by 1 in the source code?)"},{"owner":{"account_id":19554242,"reputation":67,"user_id":14309052,"display_name":"Nicolas Chiaruttini"},"score":0,"creation_date":1658792598,"post_id":73115073,"comment_id":129135033,"body_markdown":"Ah, ok! Then thanks for the link @apangin. I&#39;ll dig, rewrite, and hope that&#39;ll make a difference. But do you know if such a jit optimisation is possible in theory?","body":"Ah, ok! Then thanks for the link @apangin. I&#39;ll dig, rewrite, and hope that&#39;ll make a difference. But do you know if such a jit optimisation is possible in theory?"},{"owner":{"account_id":19554242,"reputation":67,"user_id":14309052,"display_name":"Nicolas Chiaruttini"},"score":0,"creation_date":1658792967,"post_id":73115073,"comment_id":129135087,"body_markdown":"@apangin I thought JIT compilation was allowing to do runtime optimisation that were impossible with Aot compilation. If the user enters a translation matrix as an affine transform, I kind of hoped JIT compiled code optimisation could kick in if the same op is repeated many times. Now if it&#39;s not possible, I&#39;m happy to learn that as well.","body":"@apangin I thought JIT compilation was allowing to do runtime optimisation that were impossible with Aot compilation. If the user enters a translation matrix as an affine transform, I kind of hoped JIT compiled code optimisation could kick in if the same op is repeated many times. Now if it&#39;s not possible, I&#39;m happy to learn that as well."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":4,"creation_date":1658793473,"post_id":73115073,"comment_id":129135168,"body_markdown":"HotSpot JIT compiler does not profile operands of arithmetic expressions. That would be too expensive. What it *does* profile is conditional branches and receivers of virtual methods.","body":"HotSpot JIT compiler does not profile operands of arithmetic expressions. That would be too expensive. What it <i>does</i> profile is conditional branches and receivers of virtual methods."},{"owner":{"account_id":19554242,"reputation":67,"user_id":14309052,"display_name":"Nicolas Chiaruttini"},"score":0,"creation_date":1658794952,"post_id":73115073,"comment_id":129135357,"body_markdown":"So afaiu, a computational graph is built during jit compilation, right? If the data flow shows that a static variable is &#39;plugged&#39; to a mult op, it however can&#39;t know that the variable is a one (it&#39;s not profiled), and thus there&#39;s never a reason to remove the op. Is this somewhat the idea?","body":"So afaiu, a computational graph is built during jit compilation, right? If the data flow shows that a static variable is &#39;plugged&#39; to a mult op, it however can&#39;t know that the variable is a one (it&#39;s not profiled), and thus there&#39;s never a reason to remove the op. Is this somewhat the idea?"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1658826016,"post_id":73115073,"comment_id":129141944,"body_markdown":"Your can&#39;t rely on your benchmarks to make conclusions about JIT - try JMH. For example remove System.out from tic-toc sections and add a for loop to repeat main a few times and you should see dramatically different results (all cases under 1ms on my PC).","body":"Your can&#39;t rely on your benchmarks to make conclusions about JIT - try JMH. For example remove System.out from tic-toc sections and add a for loop to repeat main a few times and you should see dramatically different results (all cases under 1ms on my PC)."},{"owner":{"account_id":19554242,"reputation":67,"user_id":14309052,"display_name":"Nicolas Chiaruttini"},"score":0,"creation_date":1658831254,"post_id":73115073,"comment_id":129144033,"body_markdown":"@DuncG if I remove System.out, then I guess the compiler can detect that all the code does nothing and thus skips it completely (which is good, but it&#39;s not what I want to test). Shouldn&#39;t I produce and use an output somewhere ? Anyway the upvoted comments are pretty clear : the benchmark is bad, so I need to redo it. It&#39;ll take me some time to get familiar with proper benchmarking however.","body":"@DuncG if I remove System.out, then I guess the compiler can detect that all the code does nothing and thus skips it completely (which is good, but it&#39;s not what I want to test). Shouldn&#39;t I produce and use an output somewhere ? Anyway the upvoted comments are pretty clear : the benchmark is bad, so I need to redo it. It&#39;ll take me some time to get familiar with proper benchmarking however."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1658831379,"post_id":73115073,"comment_id":129144073,"body_markdown":"@NicolasChiaruttini Right, if the JVM can deduce at JIT compilation time that the operand is constant, it&#39;ll make use of this information. If it can&#39;t deduce statically, JIT won&#39;t look at the actual value.","body":"@NicolasChiaruttini Right, if the JVM can deduce at JIT compilation time that the operand is constant, it&#39;ll make use of this information. If it can&#39;t deduce statically, JIT won&#39;t look at the actual value."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1658833675,"post_id":73115073,"comment_id":129144960,"body_markdown":"@NicolasChiaruttini Not what I&#39;m saying. System.out can be slow and will skew timing if included in your metrics. Just move your System.out lines so they are not inside the timed tic/toc section. Make `repeatMultiply` return value so the result can be printed after `toc()` and not as part of the measurement.","body":"@NicolasChiaruttini Not what I&#39;m saying. System.out can be slow and will skew timing if included in your metrics. Just move your System.out lines so they are not inside the timed tic/toc section. Make <code>repeatMultiply</code> return value so the result can be printed after <code>toc()</code> and not as part of the measurement."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":1,"creation_date":1658843417,"post_id":73115073,"comment_id":129149013,"body_markdown":"I know this isn&#39;t what you asked, but 3D point transformations are very simple and fast even if you do the full matrix. It&#39;s probably not going to be the bottleneck. If it does cause a slowdown, and you know that most of the transformations are simple translations, this is something you can fix yourself explicitly, in any programming language: just check before looping over an array of points, what type of matrix do we have? If it&#39;s just translation only, do the reduced version, otherwise, do the full version.","body":"I know this isn&#39;t what you asked, but 3D point transformations are very simple and fast even if you do the full matrix. It&#39;s probably not going to be the bottleneck. If it does cause a slowdown, and you know that most of the transformations are simple translations, this is something you can fix yourself explicitly, in any programming language: just check before looping over an array of points, what type of matrix do we have? If it&#39;s just translation only, do the reduced version, otherwise, do the full version."},{"owner":{"account_id":19554242,"reputation":67,"user_id":14309052,"display_name":"Nicolas Chiaruttini"},"score":0,"creation_date":1658847557,"post_id":73115073,"comment_id":129150900,"body_markdown":"@Boann, you&#39;re right, but my dream was to go one step further: imagine you need to extract an affine transformed 2d array from a source 2d array, and it&#39;s a case so simple that it turns out to be equivalent to target[i] = source[i+10], maybe the compiler could realize that and then vectorise these operations. JIT compilation would really shine. I&#39;ve read that auto-vectorisation is very difficult, so that probably won&#39;t happen soon.","body":"@Boann, you&#39;re right, but my dream was to go one step further: imagine you need to extract an affine transformed 2d array from a source 2d array, and it&#39;s a case so simple that it turns out to be equivalent to target[i] = source[i+10], maybe the compiler could realize that and then vectorise these operations. JIT compilation would really shine. I&#39;ve read that auto-vectorisation is very difficult, so that probably won&#39;t happen soon."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":1,"creation_date":1658851875,"post_id":73115073,"comment_id":129152643,"body_markdown":"@NicolasChiaruttini I&#39;m not aware of the JIT ever compiling code into multiple choice versions based on particular values of numbers. Unless *all* calls in the entire program are the &quot;simple case&quot;, that&#39;s the kind of optimization that you&#39;d have to do yourself.","body":"@NicolasChiaruttini I&#39;m not aware of the JIT ever compiling code into multiple choice versions based on particular values of numbers. Unless <i>all</i> calls in the entire program are the &quot;simple case&quot;, that&#39;s the kind of optimization that you&#39;d have to do yourself."}],"answers":[{"tags":[],"owner":{"account_id":29480494,"reputation":1,"user_id":22591397,"display_name":"himanshuinnostax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695123271,"creation_date":1695115648,"answer_id":77133311,"question_id":73115073,"body_markdown":"The JIT compiler is cautious about making optimizations that could potentially change the behavior of the code. Even though adding zero or multiplying by one seems unnecessary from a mathematical perspective, these operations may have been explicitly included in the code for a specific reason, such as code readability or to handle edge cases. Removing them could alter the program&#39;s semantics.\r\n","title":"Why does Java&#39;s JIT compiler not seem to remove useless arithmetic operations (+0; *1)?","body":"<p>The JIT compiler is cautious about making optimizations that could potentially change the behavior of the code. Even though adding zero or multiplying by one seems unnecessary from a mathematical perspective, these operations may have been explicitly included in the code for a specific reason, such as code readability or to handle edge cases. Removing them could alter the program's semantics.</p>\n"}],"owner":{"account_id":19554242,"reputation":67,"user_id":14309052,"display_name":"Nicolas Chiaruttini"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"answer_count":1,"score":5,"last_activity_date":1695123271,"creation_date":1658781327,"question_id":73115073,"body_markdown":"I&#39;m trying to understand what sort of compile-time optimizations I can hope for in Java when a code is executed many times. I&#39;m in particular interested in arithmetic simplifications in the following scenario:\r\n\r\nImagine that you need to transform a million 3d points using the same 3d affine transformation. If the transformation turns out to be a pure translation, a good optimizer would be able to turn 12 multiplications and 12 additions into 3 additions only, because all multiplications are multiplications by 1 and many additions are additions with zeros.\r\n\r\nBefore trying this &#39;complex scenario&#39;, I just ran some multiplications and additions in loops, and despite the cool stuff I&#39;ve been reading about Java&#39;s JIT compiler(s), I&#39;ve been a bit disappointed.\r\n\r\nFirst - what works: performing many multiplications by 1 seems to be simplified and is executed very fast:\r\n\r\n```java\r\n        tic();\r\n        final int nRepetitions = 100_000_000;\r\n        final double factor1 = 1.0d;\r\n        value = 0.0d;\r\n        for (int i=0;i&lt;nRepetitions;i++) {\r\n            for (int j=0;j&lt;20;j++) {\r\n                value = value * factor1;\r\n            }\r\n        }\r\n        System.out.println(&quot;Result = &quot;+value);\r\n        toc();\r\n```\r\n\r\nI get this execution speed, which is fast:\r\n```\r\n Result with graalvm-ce-17\\bin\\java.exe\r\n ----------------------\r\n Repeating 100000000 multiplication by factor1 = 1.0, a final variable\r\n The code is put in the main method\r\n This is overall is No op, and should be super fast\r\n Result = 0.0\r\n Elapsed time \t64.8528\t ms\r\n ----------------------\r\n```\r\n\r\nIf I perform the same computation, but by calling a function, I do not get any optimization at all, and the execution speed is about 2 seconds.\r\n\r\n\r\n```java\r\n        tic();\r\n        value = 0.0d;\r\n        repeatMultiply(nRepetitions, value, factor1);\r\n        toc();\r\n```\r\n\r\nThe function being:\r\n\r\n```\r\n    public static void repeatMultiply(int nRepetitions, double value, final double multFactor) {\r\n        for (int i=0;i&lt;nRepetitions;i++) {\r\n            for (int j=0;j&lt;20;j++) {\r\n                value = value * multFactor;\r\n            }\r\n        }\r\n        System.out.println(&quot;Result = &quot;+value);\r\n    }\r\n```\r\n\r\nNow the code runs very slowly:\r\n\r\n```\r\n ----------------------\r\n  Repeating 100000000 multiplication by factor1 = 1.0d\r\n  Function called = repeatMultiply\r\n  This is overall is No op, and should be super fast\r\n  Result = 0.0\r\n  Elapsed time \t1815.1354\t ms\r\n```\r\n\r\nI&#39;ve tested other things. Not declaring the variable `factor1` as `final` in the first example destroys the only optimization I saw. I then tried to add zeros instead of multiplying by ones, but it was even worse: I always get the &#39;long&#39; execution time which is about two seconds on my machine.\r\n\r\nI&#39;ve tested Oracle JDK v1.8 and v18, also Graal VM Community Edition 17, but none seemed to make a bit of difference. I&#39;ve put a gist with all the code and tests I performed in https://gist.github.com/NicoKiaru/2949e6969087e75b07b21596d80c7882\r\n\r\nI hope you can enlighten me and let me know if these results reflect an intrinsic limitation of Java&#39;s JIT compilers of if I&#39;ve done something wrong in my testing.\r\n\r\nIs there any way my goal (auto-optimisation of affine transformations computation) can be reached with JIT compilation, or should I stop dreaming and explicitely test the &quot;simple scenario&quot; (like translation) explicitely in the Java code ?\r\n\r\n**EDIT**\r\n\r\nIs it possible that the Computed Constants JEP https://openjdk.org/jeps/8312611 would allow for such optimisations or is it totally irrelevant ? ","title":"Why does Java&#39;s JIT compiler not seem to remove useless arithmetic operations (+0; *1)?","body":"<p>I'm trying to understand what sort of compile-time optimizations I can hope for in Java when a code is executed many times. I'm in particular interested in arithmetic simplifications in the following scenario:</p>\n<p>Imagine that you need to transform a million 3d points using the same 3d affine transformation. If the transformation turns out to be a pure translation, a good optimizer would be able to turn 12 multiplications and 12 additions into 3 additions only, because all multiplications are multiplications by 1 and many additions are additions with zeros.</p>\n<p>Before trying this 'complex scenario', I just ran some multiplications and additions in loops, and despite the cool stuff I've been reading about Java's JIT compiler(s), I've been a bit disappointed.</p>\n<p>First - what works: performing many multiplications by 1 seems to be simplified and is executed very fast:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        tic();\n        final int nRepetitions = 100_000_000;\n        final double factor1 = 1.0d;\n        value = 0.0d;\n        for (int i=0;i&lt;nRepetitions;i++) {\n            for (int j=0;j&lt;20;j++) {\n                value = value * factor1;\n            }\n        }\n        System.out.println(&quot;Result = &quot;+value);\n        toc();\n</code></pre>\n<p>I get this execution speed, which is fast:</p>\n<pre><code> Result with graalvm-ce-17\\bin\\java.exe\n ----------------------\n Repeating 100000000 multiplication by factor1 = 1.0, a final variable\n The code is put in the main method\n This is overall is No op, and should be super fast\n Result = 0.0\n Elapsed time   64.8528  ms\n ----------------------\n</code></pre>\n<p>If I perform the same computation, but by calling a function, I do not get any optimization at all, and the execution speed is about 2 seconds.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        tic();\n        value = 0.0d;\n        repeatMultiply(nRepetitions, value, factor1);\n        toc();\n</code></pre>\n<p>The function being:</p>\n<pre><code>    public static void repeatMultiply(int nRepetitions, double value, final double multFactor) {\n        for (int i=0;i&lt;nRepetitions;i++) {\n            for (int j=0;j&lt;20;j++) {\n                value = value * multFactor;\n            }\n        }\n        System.out.println(&quot;Result = &quot;+value);\n    }\n</code></pre>\n<p>Now the code runs very slowly:</p>\n<pre><code> ----------------------\n  Repeating 100000000 multiplication by factor1 = 1.0d\n  Function called = repeatMultiply\n  This is overall is No op, and should be super fast\n  Result = 0.0\n  Elapsed time  1815.1354    ms\n</code></pre>\n<p>I've tested other things. Not declaring the variable <code>factor1</code> as <code>final</code> in the first example destroys the only optimization I saw. I then tried to add zeros instead of multiplying by ones, but it was even worse: I always get the 'long' execution time which is about two seconds on my machine.</p>\n<p>I've tested Oracle JDK v1.8 and v18, also Graal VM Community Edition 17, but none seemed to make a bit of difference. I've put a gist with all the code and tests I performed in <a href=\"https://gist.github.com/NicoKiaru/2949e6969087e75b07b21596d80c7882\" rel=\"nofollow noreferrer\">https://gist.github.com/NicoKiaru/2949e6969087e75b07b21596d80c7882</a></p>\n<p>I hope you can enlighten me and let me know if these results reflect an intrinsic limitation of Java's JIT compilers of if I've done something wrong in my testing.</p>\n<p>Is there any way my goal (auto-optimisation of affine transformations computation) can be reached with JIT compilation, or should I stop dreaming and explicitely test the &quot;simple scenario&quot; (like translation) explicitely in the Java code ?</p>\n<p><strong>EDIT</strong></p>\n<p>Is it possible that the Computed Constants JEP <a href=\"https://openjdk.org/jeps/8312611\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/8312611</a> would allow for such optimisations or is it totally irrelevant ?</p>\n"},{"tags":["java","image","pdf","itext","pdfbox"],"comments":[{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1695118216,"post_id":77133625,"comment_id":135978391,"body_markdown":"You could try https://github.com/danfickle/openhtmltopdf","body":"You could try <a href=\"https://github.com/danfickle/openhtmltopdf\" rel=\"nofollow noreferrer\">github.com/danfickle/openhtmltopdf</a>"}],"answers":[{"tags":[],"owner":{"account_id":25111994,"reputation":167,"user_id":18961511,"display_name":"safXcode"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1695123166,"creation_date":1695118495,"answer_id":77133668,"question_id":77133625,"body_markdown":"You can use **Flying Saucer**:  Flying Saucer is a Java library that can convert XHTML and HTML documents to PDF and images. It can render web pages, including external resources, and convert them into PDFs or images.\r\n\r\n**GitHub Repository**: https://github.com/flyingsaucerproject/flyingsaucer\r\n\r\nHere&#39;s a basic example using Flying Saucer to convert HTML to a PDF in Java:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n\r\n    import org.xhtmlrenderer.pdf.ITextRenderer;\r\n\r\n    public class HtmlToPdfConverter {\r\n        public static void main(String[] args) throws Exception {\r\n            String url = &quot;http://example.com&quot;; // Replace with your desired URL\r\n            String outputPdfFile = &quot;output.pdf&quot;;\r\n\r\n            // Create an ITextRenderer instance\r\n            ITextRenderer renderer = new ITextRenderer();\r\n\r\n            // Set the URL to be converted\r\n            renderer.setDocument(url);\r\n\r\n            // Perform the layout and render to PDF\r\n            renderer.layout();\r\n            renderer.createPDF(outputPdfFile);\r\n\r\n            // Close the renderer\r\n            renderer.finishPDF();\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nPlease note that you&#39;ll need to handle exceptions, configure options, and adapt the code to your specific requirements, such as adding error handling, specifying output paths, and adjusting rendering settings.\r\n\r\n\r\n**edit** \r\nTo generate image you can refer below code snippet\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n\r\n\r\n    import org.xhtmlrenderer.simple.Graphics2DRenderer;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import javax.imageio.ImageIO;\r\n\r\n    public class HtmlToImageConverter {\r\n        public static void main(String[] args) throws Exception {\r\n            String url = &quot;http://example.com&quot;; // Replace with your desired URL\r\n            String outputImageFile = &quot;output.png&quot;;\r\n\r\n            // Create a Graphics2DRenderer instance\r\n            Graphics2DRenderer renderer = new Graphics2DRenderer();\r\n\r\n            // Set the URL to be converted\r\n            renderer.setDocument(url);\r\n\r\n            // Perform layout\r\n            renderer.layout();\r\n\r\n            // Create a BufferedImage\r\n            BufferedImage image = new BufferedImage(renderer.getWidth(),\r\n                                                      renderer.getHeight(),\r\n                                                      BufferedImage.TYPE_INT_RGB);\r\n\r\n            // Render HTML content to the BufferedImage\r\n            renderer.createPDF(image.createGraphics(), false);\r\n\r\n            // Save the BufferedImage as an image file\r\n            File outputFile = new File(outputImageFile);\r\n            ImageIO.write(image, &quot;png&quot;, outputFile);\r\n\r\n            System.out.println(&quot;Image saved to: &quot; + outputFile.getAbsolutePath());\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Create a PDF file from HTML specified via URL","body":"<p>You can use <strong>Flying Saucer</strong>:  Flying Saucer is a Java library that can convert XHTML and HTML documents to PDF and images. It can render web pages, including external resources, and convert them into PDFs or images.</p>\n<p><strong>GitHub Repository</strong>: <a href=\"https://github.com/flyingsaucerproject/flyingsaucer\" rel=\"nofollow noreferrer\">https://github.com/flyingsaucerproject/flyingsaucer</a></p>\n<p>Here's a basic example using Flying Saucer to convert HTML to a PDF in Java:</p>\n<pre><code>import org.xhtmlrenderer.pdf.ITextRenderer;\n\npublic class HtmlToPdfConverter {\n    public static void main(String[] args) throws Exception {\n        String url = &quot;http://example.com&quot;; // Replace with your desired URL\n        String outputPdfFile = &quot;output.pdf&quot;;\n\n        // Create an ITextRenderer instance\n        ITextRenderer renderer = new ITextRenderer();\n\n        // Set the URL to be converted\n        renderer.setDocument(url);\n\n        // Perform the layout and render to PDF\n        renderer.layout();\n        renderer.createPDF(outputPdfFile);\n\n        // Close the renderer\n        renderer.finishPDF();\n    }\n}\n</code></pre>\n<p>Please note that you'll need to handle exceptions, configure options, and adapt the code to your specific requirements, such as adding error handling, specifying output paths, and adjusting rendering settings.</p>\n<p><strong>edit</strong>\nTo generate image you can refer below code snippet</p>\n<pre><code>import org.xhtmlrenderer.simple.Graphics2DRenderer;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport javax.imageio.ImageIO;\n\npublic class HtmlToImageConverter {\n    public static void main(String[] args) throws Exception {\n        String url = &quot;http://example.com&quot;; // Replace with your desired URL\n        String outputImageFile = &quot;output.png&quot;;\n\n        // Create a Graphics2DRenderer instance\n        Graphics2DRenderer renderer = new Graphics2DRenderer();\n\n        // Set the URL to be converted\n        renderer.setDocument(url);\n\n        // Perform layout\n        renderer.layout();\n\n        // Create a BufferedImage\n        BufferedImage image = new BufferedImage(renderer.getWidth(),\n                                                  renderer.getHeight(),\n                                                  BufferedImage.TYPE_INT_RGB);\n\n        // Render HTML content to the BufferedImage\n        renderer.createPDF(image.createGraphics(), false);\n\n        // Save the BufferedImage as an image file\n        File outputFile = new File(outputImageFile);\n        ImageIO.write(image, &quot;png&quot;, outputFile);\n\n        System.out.println(&quot;Image saved to: &quot; + outputFile.getAbsolutePath());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1076957,"reputation":1015,"user_id":1074881,"accept_rate":57,"display_name":"ezhil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77133668,"answer_count":1,"score":0,"last_activity_date":1695123166,"creation_date":1695118041,"question_id":77133625,"body_markdown":"I would like to generate a PDF and Image file from HTML specified via URL(page) and send it to an external system. I need to perform this generation logic in java. The most popular and widely used libraries for generating PDFs from HTML are Apache PDFBox and iText. But is there any tool available to generate PDF and image based on the page URL?","title":"Create a PDF file from HTML specified via URL","body":"<p>I would like to generate a PDF and Image file from HTML specified via URL(page) and send it to an external system. I need to perform this generation logic in java. The most popular and widely used libraries for generating PDFs from HTML are Apache PDFBox and iText. But is there any tool available to generate PDF and image based on the page URL?</p>\n"},{"tags":["java","authentication","httpclient","kerberos","java-17"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1692962942,"post_id":76970101,"comment_id":135699584,"body_markdown":"According to [MS documentation](https://learn.microsoft.com/en-us/dotnet/framework/wcf/feature-details/understanding-http-authentication)  the authentication scheme you are searching for is named `Negotiate` - but I am not sure if this is still used as it was developed for IE.","body":"According to <a href=\"https://learn.microsoft.com/en-us/dotnet/framework/wcf/feature-details/understanding-http-authentication\" rel=\"nofollow noreferrer\">MS documentation</a>  the authentication scheme you are searching for is named <code>Negotiate</code> - but I am not sure if this is still used as it was developed for IE."}],"answers":[{"tags":[],"owner":{"account_id":2573759,"reputation":347,"user_id":2231919,"accept_rate":82,"display_name":"Spyridon Non Serviam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695122957,"creation_date":1695122957,"answer_id":77134152,"question_id":76970101,"body_markdown":"I ended up going for the Spring based approach (it is a Spring project either way), which is cleaner and easier, as seen in [this simple example][1].\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security-kerberos/blob/main/spring-security-kerberos-samples/sec-client-rest-template/src/main/java/demo/app/Application.java","title":"Kerberos auth with Apache httpcomponents (httpclient5)","body":"<p>I ended up going for the Spring based approach (it is a Spring project either way), which is cleaner and easier, as seen in <a href=\"https://github.com/spring-projects/spring-security-kerberos/blob/main/spring-security-kerberos-samples/sec-client-rest-template/src/main/java/demo/app/Application.java\" rel=\"nofollow noreferrer\">this simple example</a>.</p>\n"}],"owner":{"account_id":2573759,"reputation":347,"user_id":2231919,"accept_rate":82,"display_name":"Spyridon Non Serviam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77134152,"answer_count":1,"score":1,"last_activity_date":1695122957,"creation_date":1692885855,"question_id":76970101,"body_markdown":"I want to migrate from Apache httpclient (v3.x and Java 8) to httpcomponents (httpclient5 and Java 17) and move away from my NTLM auth to Kerberos. I have not found any example though on how to do this. I am only finding examples of v4.x and below. Any ideas how to do this in v5.x? Is it even possible?\r\n\r\nA rough version of my code currently:\r\n\r\n    CredentialsProvider credsProvider;\r\n    RequestConfig requestConfig;\r\n    credsProvider = new BasicCredentialsProvider();\r\n    credsProvider.setCredentials(AuthScope.ANY, new NTCredentials(user, pass, host, domain));\r\n    requestConfig = RequestConfig.custom().setTargetPreferredAuthSchemes(Collections.singletonList(AuthSchemes.NTLM)).build();\r\n    HttpClient httpClient = HttpClients.custom().setDefaultCredentialsProvider(credsProvider)\r\n    \t\t\t\t.setDefaultRequestConfig(requestConfig).build();\r\n    HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n    requestFactory.setHttpClient(httpClient);\r\n    RestTemplate restTemplate = new RestTemplate(requestFactory);\r\n    restTemplate.getForObject(url, String.class);","title":"Kerberos auth with Apache httpcomponents (httpclient5)","body":"<p>I want to migrate from Apache httpclient (v3.x and Java 8) to httpcomponents (httpclient5 and Java 17) and move away from my NTLM auth to Kerberos. I have not found any example though on how to do this. I am only finding examples of v4.x and below. Any ideas how to do this in v5.x? Is it even possible?</p>\n<p>A rough version of my code currently:</p>\n<pre><code>CredentialsProvider credsProvider;\nRequestConfig requestConfig;\ncredsProvider = new BasicCredentialsProvider();\ncredsProvider.setCredentials(AuthScope.ANY, new NTCredentials(user, pass, host, domain));\nrequestConfig = RequestConfig.custom().setTargetPreferredAuthSchemes(Collections.singletonList(AuthSchemes.NTLM)).build();\nHttpClient httpClient = HttpClients.custom().setDefaultCredentialsProvider(credsProvider)\n                .setDefaultRequestConfig(requestConfig).build();\nHttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\nrequestFactory.setHttpClient(httpClient);\nRestTemplate restTemplate = new RestTemplate(requestFactory);\nrestTemplate.getForObject(url, String.class);\n</code></pre>\n"},{"tags":["java","json","karate","gherkin"],"comments":[{"owner":{"account_id":11698906,"reputation":1250,"user_id":8564731,"display_name":"Jeremy Fiel"},"score":1,"creation_date":1695124222,"post_id":77133993,"comment_id":135979413,"body_markdown":"You have string values for `crc`, `debtor`, and `creditor` but your schema expects `integer`","body":"You have string values for <code>crc</code>, <code>debtor</code>, and <code>creditor</code> but your schema expects <code>integer</code>"}],"owner":{"account_id":8611883,"reputation":43,"user_id":22504890,"display_name":"user22504890"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695121527,"creation_date":1695121527,"question_id":77133993,"body_markdown":"I have OpenApi spec yaml file where I have schema like this: \r\n\r\n    &quot;schemas&quot; : {\r\n          &quot;bankFilteringBic_200_response&quot; : {\r\n            &quot;allOf&quot; : [ {\r\n              &quot;properties&quot; : {\r\n                &quot;debtor&quot; : {\r\n                  &quot;example&quot; : 1,\r\n                  &quot;type&quot; : &quot;integer&quot;\r\n                },\r\n                &quot;creditor&quot; : {\r\n                  &quot;example&quot; : 2,\r\n                  &quot;type&quot; : &quot;integer&quot;\r\n                },\r\n                &quot;currency&quot; : {\r\n                  &quot;example&quot; : 3,\r\n                  &quot;type&quot; : &quot;integer&quot;\r\n                }\r\n              },\r\n              &quot;type&quot; : &quot;object&quot;\r\n            } ]\r\n          }\r\n        }\r\n      }\r\n\r\nAnd my test is look like this : \r\n\r\n    Feature: print hello world feature\r\n    \r\n    Background:\r\n      * url &#39;http://localhost:8080&#39;\r\n      * def myRequest = read(&#39;classpath:bank-filtering.json&#39;).components.schemas.bankFilteringBic_request\r\n      * def expectedSchema = read(&#39;classpath:bank-filtering.json&#39;).components.schemas.bankFilteringBic_200_response\r\n      * def expectedTypes = {}\r\n    \r\n      # Extract property names and types from the schema\r\n      * def schemaProperties = expectedSchema.allOf[0].properties\r\n      * karate.forEach(schemaProperties, function(key, value){ expectedTypes[key] = &quot;#&quot; + value.type })\r\n    \r\n    \r\n      Scenario: Hello World Scenario\r\n    \r\n      Given path &#39;bankfiltering/bic&#39;\r\n      And request { processingEntity: &#39;ULSBGB2B&#39;, csmAgentID: &#39;SIC&#39;, debtor: &#39;LOYDGB21063&#39;, creditor: &#39;BARCGB22&#39;, currency: &#39;CRC&#39; }\r\n      When method POST\r\n      And path &#39;bankfiltering/bic&#39;\r\n      Then status 200\r\n      And match response == expectedTypes\r\n      And print response\r\n\r\nBut when I run it I am getting this error \r\n\r\n    [ForkJoinPool-1-worker-3] ERROR com.intuit.karate - assertion failed: path: $.debtor, actual: 0, expected: &#39;#integer&#39;, reason: not equal\r\n    \r\n    sample.feature:21 - path: $.debtor, actual: 0, expected: &#39;#integer&#39;, reason: not equal\r\n\r\nI just want to validate my response with this schema which I am retrieving from the my OpenApi spec. Where I am mistaking and how to fix the problem? I was reading https://github.com/karatelabs/karate#schema-validation but could not find a solution for this problem.","title":"How to validate schema from OpenApi specification with my response in Karate?","body":"<p>I have OpenApi spec yaml file where I have schema like this:</p>\n<pre><code>&quot;schemas&quot; : {\n      &quot;bankFilteringBic_200_response&quot; : {\n        &quot;allOf&quot; : [ {\n          &quot;properties&quot; : {\n            &quot;debtor&quot; : {\n              &quot;example&quot; : 1,\n              &quot;type&quot; : &quot;integer&quot;\n            },\n            &quot;creditor&quot; : {\n              &quot;example&quot; : 2,\n              &quot;type&quot; : &quot;integer&quot;\n            },\n            &quot;currency&quot; : {\n              &quot;example&quot; : 3,\n              &quot;type&quot; : &quot;integer&quot;\n            }\n          },\n          &quot;type&quot; : &quot;object&quot;\n        } ]\n      }\n    }\n  }\n</code></pre>\n<p>And my test is look like this :</p>\n<pre><code>Feature: print hello world feature\n\nBackground:\n  * url 'http://localhost:8080'\n  * def myRequest = read('classpath:bank-filtering.json').components.schemas.bankFilteringBic_request\n  * def expectedSchema = read('classpath:bank-filtering.json').components.schemas.bankFilteringBic_200_response\n  * def expectedTypes = {}\n\n  # Extract property names and types from the schema\n  * def schemaProperties = expectedSchema.allOf[0].properties\n  * karate.forEach(schemaProperties, function(key, value){ expectedTypes[key] = &quot;#&quot; + value.type })\n\n\n  Scenario: Hello World Scenario\n\n  Given path 'bankfiltering/bic'\n  And request { processingEntity: 'ULSBGB2B', csmAgentID: 'SIC', debtor: 'LOYDGB21063', creditor: 'BARCGB22', currency: 'CRC' }\n  When method POST\n  And path 'bankfiltering/bic'\n  Then status 200\n  And match response == expectedTypes\n  And print response\n</code></pre>\n<p>But when I run it I am getting this error</p>\n<pre><code>[ForkJoinPool-1-worker-3] ERROR com.intuit.karate - assertion failed: path: $.debtor, actual: 0, expected: '#integer', reason: not equal\n\nsample.feature:21 - path: $.debtor, actual: 0, expected: '#integer', reason: not equal\n</code></pre>\n<p>I just want to validate my response with this schema which I am retrieving from the my OpenApi spec. Where I am mistaking and how to fix the problem? I was reading <a href=\"https://github.com/karatelabs/karate#schema-validation\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate#schema-validation</a> but could not find a solution for this problem.</p>\n"},{"tags":["java","file","intellij-idea","javafx","jar"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1695144656,"post_id":77133944,"comment_id":135983751,"body_markdown":"Further info is in the runtime images section of the getting started documentation at openjfx.io.","body":"Further info is in the runtime images section of the getting started documentation at openjfx.io."}],"owner":{"account_id":28857700,"reputation":21,"user_id":22102164,"display_name":"Antonella Sannino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695141688,"answer_count":0,"score":0,"last_activity_date":1695121040,"creation_date":1695121040,"question_id":77133944,"body_markdown":"I&#39;ve created a maze for a project i&#39;ve to do to pass an exam, when i try to generate a jar file and i try to run i&#39;ve got this problem: JNI error has occurred. \r\nSomeone can help me? i don&#39;t know what to do i&#39;m using intellij and jdk 20, when i try to run it by java -jar Maze.jar in the terminal it just crush. I&#39;m using also sqlite in this project with javafx. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/imWHq.png)](https://i.stack.imgur.com/imWHq.png)\r\n\r\n\r\n[![[![[![My project:](https://i.stack.imgur.com/DZ5mu.png)](https://i.stack.imgur.com/DZ5mu.png)](https://i.stack.imgur.com/iCyjr.png)](https://i.stack.imgur.com/iCyjr.png)](https://i.stack.imgur.com/41R9D.png)](https://i.stack.imgur.com/41R9D.png)\r\n\r\n\r\n\r\nto start jar file, for exporting my project.","title":"Generated JAR file - JNI error has occurred intellij","body":"<p>I've created a maze for a project i've to do to pass an exam, when i try to generate a jar file and i try to run i've got this problem: JNI error has occurred.\nSomeone can help me? i don't know what to do i'm using intellij and jdk 20, when i try to run it by java -jar Maze.jar in the terminal it just crush. I'm using also sqlite in this project with javafx.</p>\n<p><a href=\"https://i.stack.imgur.com/imWHq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/imWHq.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/41R9D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/41R9D.png\" alt=\"My project:\" /></a></p>\n<p>to start jar file, for exporting my project.</p>\n"},{"tags":["java","android","kotlin","jcodec"],"comments":[{"owner":{"account_id":16285107,"reputation":1793,"user_id":11760058,"display_name":"cachius"},"score":1,"creation_date":1652184378,"post_id":72132908,"comment_id":127540281,"body_markdown":"The got-to solution for A/V file manipulation [ffmpeg](/q/7333232) can also [be used on Android](https://www.geeksforgeeks.org/how-to-use-ffmpeg-in-android-with-example/). Maybe give it a try.","body":"The got-to solution for A/V file manipulation <a href=\"/q/7333232\">ffmpeg</a> can also <a href=\"https://www.geeksforgeeks.org/how-to-use-ffmpeg-in-android-with-example/\" rel=\"nofollow noreferrer\">be used on Android</a>. Maybe give it a try."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695120886,"creation_date":1652022658,"answer_id":72162362,"question_id":72132908,"body_markdown":"I don&#39;t really know `jcodec`, but I&#39;ve used `MP4parser` in the past. If you need to merge mp4 files, regardless of the library, then I suggest you this one. I&#39;m just pitching it to you because I don&#39;t know if you&#39;re having problems in merging the files due to the complexity of the library. It might be worth giving it a shot. MP4Parser is quite easy and straightforward. I&#39;ll also leave you the link to the maven repository.\r\n\r\nhttps://search.maven.org/artifact/com.googlecode.mp4parser/isoparser/1.1.22/jar\r\n\r\nHere there&#39;s an implementation I&#39;ve done to show you how to merge 2 files from the same original video (to replicate your exact case). Basically, you have a `Movie` class, which represents your mp4 file, containing a  `List` of `Track` (only 2); one representing the video while the other the audio. \r\n\r\n1. First, I&#39;ve collected from the movies all the video and audio tracks in two separate arrays.\r\n\r\n2. Then, I&#39;ve created a `List` with the merged audio `Track` and the merged video `Track` in order to set it to the output file.\r\n\r\n3. Finally, I&#39;ve built the `Movie` inside a `Container` and saved it with a `FileOutputStream`.\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        MovieCreator mc = new MovieCreator();\r\n        Movie movie1 = mc.build(&quot;./test1.mp4&quot;);\r\n        Movie movie2 = mc.build(&quot;./test2.mp4&quot;);\r\n\r\n        //Fetching the video tracks from the movies and storing them into an array\r\n        Track[] vetTrackVideo = new Track[0];\r\n        vetTrackVideo = Stream.of(movie1, movie2)\r\n                .flatMap(movie -&gt; movie.getTracks().stream())\r\n                .filter(movie -&gt; movie.getHandler().equals(&quot;vide&quot;))\r\n                .collect(Collectors.toList())\r\n                .toArray(vetTrackVideo);\r\n\r\n        //Fetching the audio tracks from the movies and storing them into an array\r\n        Track[] vetTrackAudio = new Track[0];\r\n        vetTrackAudio = Stream.of(movie1, movie2)\r\n                .flatMap(movie -&gt; movie.getTracks().stream())\r\n                .filter(movie -&gt; movie.getHandler().equals(&quot;soun&quot;))\r\n                .collect(Collectors.toList())\r\n                .toArray(vetTrackAudio);\r\n\r\n        //Creating the output movie by setting a list with both video and audio tracks\r\n        Movie movieOutput = new Movie();\r\n        List&lt;Track&gt; listTracks = new ArrayList&lt;&gt;(List.of(new AppendTrack(vetTrackVideo), new AppendTrack(vetTrackAudio)));\r\n        movieOutput.setTracks(listTracks);\r\n\r\n        //Building the output movie and storing it into a Container\r\n        DefaultMp4Builder mp4Builder = new DefaultMp4Builder();\r\n        Container c = mp4Builder.build(movieOutput);\r\n\r\n        //Writing the output file\r\n        FileOutputStream fos = new FileOutputStream(&quot;output.mp4&quot;);\r\n        c.writeContainer(fos.getChannel());\r\n        fos.close();\r\n    }\r\n}\r\n```\r\n\r\nHere, I&#39;ll also leave you a link to my GitHub repository with the test mp4 files so that you can test the merging sample.\r\n\r\nhttps://github.com/daniele-aveta/StackOverflow-MP4Merger\r\n","title":"How to combine multiple mp4 videos into one video using jcodec in Java?","body":"<p>I don't really know <code>jcodec</code>, but I've used <code>MP4parser</code> in the past. If you need to merge mp4 files, regardless of the library, then I suggest you this one. I'm just pitching it to you because I don't know if you're having problems in merging the files due to the complexity of the library. It might be worth giving it a shot. MP4Parser is quite easy and straightforward. I'll also leave you the link to the maven repository.</p>\n<p><a href=\"https://search.maven.org/artifact/com.googlecode.mp4parser/isoparser/1.1.22/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/com.googlecode.mp4parser/isoparser/1.1.22/jar</a></p>\n<p>Here there's an implementation I've done to show you how to merge 2 files from the same original video (to replicate your exact case). Basically, you have a <code>Movie</code> class, which represents your mp4 file, containing a  <code>List</code> of <code>Track</code> (only 2); one representing the video while the other the audio.</p>\n<ol>\n<li><p>First, I've collected from the movies all the video and audio tracks in two separate arrays.</p>\n</li>\n<li><p>Then, I've created a <code>List</code> with the merged audio <code>Track</code> and the merged video <code>Track</code> in order to set it to the output file.</p>\n</li>\n<li><p>Finally, I've built the <code>Movie</code> inside a <code>Container</code> and saved it with a <code>FileOutputStream</code>.</p>\n</li>\n</ol>\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws IOException {\n        MovieCreator mc = new MovieCreator();\n        Movie movie1 = mc.build(&quot;./test1.mp4&quot;);\n        Movie movie2 = mc.build(&quot;./test2.mp4&quot;);\n\n        //Fetching the video tracks from the movies and storing them into an array\n        Track[] vetTrackVideo = new Track[0];\n        vetTrackVideo = Stream.of(movie1, movie2)\n                .flatMap(movie -&gt; movie.getTracks().stream())\n                .filter(movie -&gt; movie.getHandler().equals(&quot;vide&quot;))\n                .collect(Collectors.toList())\n                .toArray(vetTrackVideo);\n\n        //Fetching the audio tracks from the movies and storing them into an array\n        Track[] vetTrackAudio = new Track[0];\n        vetTrackAudio = Stream.of(movie1, movie2)\n                .flatMap(movie -&gt; movie.getTracks().stream())\n                .filter(movie -&gt; movie.getHandler().equals(&quot;soun&quot;))\n                .collect(Collectors.toList())\n                .toArray(vetTrackAudio);\n\n        //Creating the output movie by setting a list with both video and audio tracks\n        Movie movieOutput = new Movie();\n        List&lt;Track&gt; listTracks = new ArrayList&lt;&gt;(List.of(new AppendTrack(vetTrackVideo), new AppendTrack(vetTrackAudio)));\n        movieOutput.setTracks(listTracks);\n\n        //Building the output movie and storing it into a Container\n        DefaultMp4Builder mp4Builder = new DefaultMp4Builder();\n        Container c = mp4Builder.build(movieOutput);\n\n        //Writing the output file\n        FileOutputStream fos = new FileOutputStream(&quot;output.mp4&quot;);\n        c.writeContainer(fos.getChannel());\n        fos.close();\n    }\n}\n</code></pre>\n<p>Here, I'll also leave you a link to my GitHub repository with the test mp4 files so that you can test the merging sample.</p>\n<p><a href=\"https://github.com/daniele-aveta/StackOverflow-MP4Merger\" rel=\"nofollow noreferrer\">https://github.com/daniele-aveta/StackOverflow-MP4Merger</a></p>\n"},{"tags":[],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652555812,"creation_date":1652555812,"answer_id":72243230,"question_id":72132908,"body_markdown":"You can do this with **ffmpeg**.\r\n\r\n1. First you will need to write the file paths to a txt file\r\n\r\ntxt file with : \r\n\r\n - file &#39;/sdcard/video/video1.mp4&#39; \r\n - file &#39;/sdcard/video/video2.mp4&#39; \r\n - file &#39;/sdcard/video/video3.mp4&#39; \r\n - file &#39;/sdcard/video/video4.mp4&#39;\r\n\r\nYou can use following command. \r\n\r\n    ffmpeg -f concat -i mp4list.txt -c:v copy -c:a copy merging.mp4\r\n\r\n2. You can write a wrapper over the Java code. Additionally, you can use the code below.\r\n\r\nResource to help : [link][1]\r\n\r\n\r\n  [1]: https://github.com/WritingMinds/ffmpeg-android-java\r\n\r\n    String[] cmd = new String[]{&quot;-f&quot;, &quot;concat&quot;, &quot;-safe&quot;, &quot;0&quot;, &quot;-i&quot;, &quot;mp4list.txt&quot;, &quot;-c&quot;, &quot;copy&quot;, &quot;-preset&quot;, &quot;ultrafast&quot;, outFile};\r\n    \r\n    ffmpeg.execute(cmd, new ExecuteBinaryResponseHandler(){\r\n        \r\n            @Override\r\n            public void onFailure(String message){\r\n            }\r\n            @Override\r\n            public void onSuccess(String message){\r\n            }\r\n            @Override\r\n            public void onProgress(String message){\r\n            }\r\n        \r\n            @Override\r\n            public void onStart(){\r\n            }\r\n        \r\n            @Override\r\n            public void onFinish(){\r\n            }\r\n        }\r\n\r\n","title":"How to combine multiple mp4 videos into one video using jcodec in Java?","body":"<p>You can do this with <strong>ffmpeg</strong>.</p>\n<ol>\n<li>First you will need to write the file paths to a txt file</li>\n</ol>\n<p>txt file with :</p>\n<ul>\n<li>file '/sdcard/video/video1.mp4'</li>\n<li>file '/sdcard/video/video2.mp4'</li>\n<li>file '/sdcard/video/video3.mp4'</li>\n<li>file '/sdcard/video/video4.mp4'</li>\n</ul>\n<p>You can use following command.</p>\n<pre><code>ffmpeg -f concat -i mp4list.txt -c:v copy -c:a copy merging.mp4\n</code></pre>\n<ol start=\"2\">\n<li>You can write a wrapper over the Java code. Additionally, you can use the code below.</li>\n</ol>\n<p>Resource to help : <a href=\"https://github.com/WritingMinds/ffmpeg-android-java\" rel=\"nofollow noreferrer\">link</a></p>\n<pre><code>String[] cmd = new String[]{&quot;-f&quot;, &quot;concat&quot;, &quot;-safe&quot;, &quot;0&quot;, &quot;-i&quot;, &quot;mp4list.txt&quot;, &quot;-c&quot;, &quot;copy&quot;, &quot;-preset&quot;, &quot;ultrafast&quot;, outFile};\n\nffmpeg.execute(cmd, new ExecuteBinaryResponseHandler(){\n    \n        @Override\n        public void onFailure(String message){\n        }\n        @Override\n        public void onSuccess(String message){\n        }\n        @Override\n        public void onProgress(String message){\n        }\n    \n        @Override\n        public void onStart(){\n        }\n    \n        @Override\n        public void onFinish(){\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":9350518,"reputation":544,"user_id":6940373,"accept_rate":40,"display_name":"Hadi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1519,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1695120886,"creation_date":1651780337,"question_id":72132908,"body_markdown":"I have multiple mp4 files which are parts of a whole mp4 file. They have been just split up to smaller files. \r\n\r\nI want to combine those files programmatically into one mp4 file using [jcodec][1] in Java. Currently, I&#39;m using the following code to do this:\r\n\r\n```\r\nimport org.jcodec.common.DemuxerTrack;\r\nimport org.jcodec.common.MuxerTrack;\r\nimport org.jcodec.common.io.SeekableByteChannel;\r\nimport org.jcodec.common.model.Packet;\r\nimport org.jcodec.containers.mp4.Brand;\r\nimport org.jcodec.containers.mp4.demuxer.MP4Demuxer;\r\nimport org.jcodec.containers.mp4.muxer.MP4Muxer;\r\n\r\nimport java.io.File;\r\nimport java.util.List;\r\n\r\nimport static org.jcodec.common.io.NIOUtils.readableChannel;\r\nimport static org.jcodec.common.io.NIOUtils.writableChannel;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        File outputFile = new File(&quot;file_path_output.mp4&quot;);\r\n        outputFile.mkdirs();\r\n        outputFile.delete();\r\n\r\n        File[] inputFiles = new File[]{\r\n                new File(&quot;file_path_1.mp4&quot;),\r\n                new File(&quot;file_path_2.mp4&quot;),\r\n                new File(&quot;file_path_3.mp4&quot;),\r\n        };\r\n\r\n        SeekableByteChannel output = writableChannel(outputFile);\r\n        MP4Muxer mp4Muxer = MP4Muxer.createMP4Muxer(output, Brand.MP4);\r\n\r\n        MuxerTrack mixedVideoTrack = null;\r\n        MuxerTrack mixedAudioTrack = null;\r\n        for (File input : inputFiles) {\r\n            SeekableByteChannel byteChannel = readableChannel(input);\r\n            MP4Demuxer demuxer = MP4Demuxer.createMP4Demuxer(byteChannel);\r\n            List&lt;DemuxerTrack&gt; videoTracks = demuxer.getVideoTracks();\r\n            List&lt;DemuxerTrack&gt; audioTracks = demuxer.getAudioTracks();\r\n            if (mixedVideoTrack == null) {\r\n                mixedVideoTrack = mp4Muxer.addVideoTrack(videoTracks.get(0).getMeta().getCodec(), videoTracks.get(0).getMeta().getVideoCodecMeta());\r\n            }\r\n            if (mixedAudioTrack == null) {\r\n                mixedAudioTrack = mp4Muxer.addAudioTrack(audioTracks.get(0).getMeta().getCodec(), audioTracks.get(0).getMeta().getAudioCodecMeta());\r\n            }\r\n            for (DemuxerTrack videoTrack : videoTracks) {\r\n                Packet packet;\r\n                while ((packet = videoTrack.nextFrame()) != null) {\r\n                    mixedVideoTrack.addFrame(packet);\r\n                }\r\n            }\r\n            for (DemuxerTrack audioTrack : audioTracks) {\r\n                Packet packet;\r\n                while ((packet = audioTrack.nextFrame()) != null) {\r\n                    mixedAudioTrack.addFrame(packet);\r\n                }\r\n            }\r\n            demuxer.close();\r\n        }\r\n\r\n        mp4Muxer.finish();\r\n        output.close();\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately, it does not work as the video generated does not contain audio files nor correct frames. For example, all visual frames I get are like one below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat is the problem and how can I fix it? Thank you very much.\r\n\r\n  [1]: https://github.com/jcodec/jcodec\r\n  [2]: https://i.stack.imgur.com/mLS3G.jpg","title":"How to combine multiple mp4 videos into one video using jcodec in Java?","body":"<p>I have multiple mp4 files which are parts of a whole mp4 file. They have been just split up to smaller files.</p>\n<p>I want to combine those files programmatically into one mp4 file using <a href=\"https://github.com/jcodec/jcodec\" rel=\"nofollow noreferrer\">jcodec</a> in Java. Currently, I'm using the following code to do this:</p>\n<pre><code>import org.jcodec.common.DemuxerTrack;\nimport org.jcodec.common.MuxerTrack;\nimport org.jcodec.common.io.SeekableByteChannel;\nimport org.jcodec.common.model.Packet;\nimport org.jcodec.containers.mp4.Brand;\nimport org.jcodec.containers.mp4.demuxer.MP4Demuxer;\nimport org.jcodec.containers.mp4.muxer.MP4Muxer;\n\nimport java.io.File;\nimport java.util.List;\n\nimport static org.jcodec.common.io.NIOUtils.readableChannel;\nimport static org.jcodec.common.io.NIOUtils.writableChannel;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        File outputFile = new File(&quot;file_path_output.mp4&quot;);\n        outputFile.mkdirs();\n        outputFile.delete();\n\n        File[] inputFiles = new File[]{\n                new File(&quot;file_path_1.mp4&quot;),\n                new File(&quot;file_path_2.mp4&quot;),\n                new File(&quot;file_path_3.mp4&quot;),\n        };\n\n        SeekableByteChannel output = writableChannel(outputFile);\n        MP4Muxer mp4Muxer = MP4Muxer.createMP4Muxer(output, Brand.MP4);\n\n        MuxerTrack mixedVideoTrack = null;\n        MuxerTrack mixedAudioTrack = null;\n        for (File input : inputFiles) {\n            SeekableByteChannel byteChannel = readableChannel(input);\n            MP4Demuxer demuxer = MP4Demuxer.createMP4Demuxer(byteChannel);\n            List&lt;DemuxerTrack&gt; videoTracks = demuxer.getVideoTracks();\n            List&lt;DemuxerTrack&gt; audioTracks = demuxer.getAudioTracks();\n            if (mixedVideoTrack == null) {\n                mixedVideoTrack = mp4Muxer.addVideoTrack(videoTracks.get(0).getMeta().getCodec(), videoTracks.get(0).getMeta().getVideoCodecMeta());\n            }\n            if (mixedAudioTrack == null) {\n                mixedAudioTrack = mp4Muxer.addAudioTrack(audioTracks.get(0).getMeta().getCodec(), audioTracks.get(0).getMeta().getAudioCodecMeta());\n            }\n            for (DemuxerTrack videoTrack : videoTracks) {\n                Packet packet;\n                while ((packet = videoTrack.nextFrame()) != null) {\n                    mixedVideoTrack.addFrame(packet);\n                }\n            }\n            for (DemuxerTrack audioTrack : audioTracks) {\n                Packet packet;\n                while ((packet = audioTrack.nextFrame()) != null) {\n                    mixedAudioTrack.addFrame(packet);\n                }\n            }\n            demuxer.close();\n        }\n\n        mp4Muxer.finish();\n        output.close();\n    }\n}\n</code></pre>\n<p>Unfortunately, it does not work as the video generated does not contain audio files nor correct frames. For example, all visual frames I get are like one below:</p>\n<p><a href=\"https://i.stack.imgur.com/mLS3G.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mLS3G.jpg\" alt=\"enter image description here\" /></a></p>\n<p>What is the problem and how can I fix it? Thank you very much.</p>\n"},{"tags":["java","spring-boot","sorting","pagination"],"owner":{"account_id":16033864,"reputation":83,"user_id":11572068,"display_name":"SAKSHI YADAV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695120884,"creation_date":1695120884,"question_id":77133929,"body_markdown":"I have to implement pagination in a table whose records updates frequently.\r\nI have a sorting criteria based on Priority, but the Priority of records can keep on changing and they needs to be shift accordingly.\r\nThere is a socket event which notifies about Priority change in action to that the record placement is changed.\r\n\r\nThis needs to be achieved via Infinite scrolling.\r\n\r\nPlease suggest something","title":"Pagination with constantly updating data","body":"<p>I have to implement pagination in a table whose records updates frequently.\nI have a sorting criteria based on Priority, but the Priority of records can keep on changing and they needs to be shift accordingly.\nThere is a socket event which notifies about Priority change in action to that the record placement is changed.</p>\n<p>This needs to be achieved via Infinite scrolling.</p>\n<p>Please suggest something</p>\n"},{"tags":["java","android","webview","webresource"],"owner":{"account_id":4152478,"reputation":37,"user_id":3404508,"accept_rate":100,"display_name":"Avadhesh18"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695120720,"creation_date":1695120720,"question_id":77133909,"body_markdown":"I am trying to intercept a `WebResource` request from webview, make the request in the app and then return the response back with extra headers. However it is not working. The only two headers that are set are `content-type` and `content-length`. These two headers have correct values but no other extra headers are set. Not even using the newer [WebResourceResponse][1]\r\n\r\n\r\n        public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\r\n            String url = request.getUrl().toString();\r\n    if (url.contains(2_DOMAIN)) {\r\n              \r\n    if(url.contains(&quot;yesintercept&quot;)) {\r\n        String gresponse = makeGetRequest(url);\r\n        Map&lt;String, String&gt; responseHeaders = new HashMap&lt;&gt;();\r\n        responseHeaders.put(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);    \r\n        WebResourceResponse response = new WebResourceResponse(&quot;application/vnd.apple.mpegurl&quot;, &quot;utf-8&quot;,new ByteArrayInputStream(gresponse.getBytes()));\r\n        response.setResponseHeaders(responseHeaders);\r\n    \r\n        return response;\r\n    }\r\n    else {\r\n    \r\n           \r\n        return super.shouldInterceptRequest(view, request);\r\n    }\r\n            }\r\n            else {\r\n                return super.shouldInterceptRequest(view, request);\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/webkit/WebResourceResponse#WebResourceResponse(java.lang.String,%20java.lang.String,%20int,%20java.lang.String,%20java.util.Map%3Cjava.lang.String,java.lang.String%3E,%20java.io.InputStream)","title":"WebResourceResponse won&#39;t set the headers provided","body":"<p>I am trying to intercept a <code>WebResource</code> request from webview, make the request in the app and then return the response back with extra headers. However it is not working. The only two headers that are set are <code>content-type</code> and <code>content-length</code>. These two headers have correct values but no other extra headers are set. Not even using the newer <a href=\"https://developer.android.com/reference/android/webkit/WebResourceResponse#WebResourceResponse(java.lang.String,%20java.lang.String,%20int,%20java.lang.String,%20java.util.Map%3Cjava.lang.String,java.lang.String%3E,%20java.io.InputStream)\" rel=\"nofollow noreferrer\">WebResourceResponse</a></p>\n<pre><code>    public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\n        String url = request.getUrl().toString();\nif (url.contains(2_DOMAIN)) {\n          \nif(url.contains(&quot;yesintercept&quot;)) {\n    String gresponse = makeGetRequest(url);\n    Map&lt;String, String&gt; responseHeaders = new HashMap&lt;&gt;();\n    responseHeaders.put(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);    \n    WebResourceResponse response = new WebResourceResponse(&quot;application/vnd.apple.mpegurl&quot;, &quot;utf-8&quot;,new ByteArrayInputStream(gresponse.getBytes()));\n    response.setResponseHeaders(responseHeaders);\n\n    return response;\n}\nelse {\n\n       \n    return super.shouldInterceptRequest(view, request);\n}\n        }\n        else {\n            return super.shouldInterceptRequest(view, request);\n        }\n    }\n</code></pre>\n"},{"tags":["java","unit-testing","testing","junit","environment-variables"],"comments":[{"owner":{"account_id":337871,"reputation":1438,"user_id":666397,"display_name":"Atif"},"score":0,"creation_date":1497280425,"post_id":8168884,"comment_id":75999432,"body_markdown":"Since this is for testing, the System Rules unit test rule may be the best answer at the present.","body":"Since this is for testing, the System Rules unit test rule may be the best answer at the present."},{"owner":{"account_id":3682862,"reputation":1323,"user_id":3067411,"display_name":"Felipe Martins Melo"},"score":4,"creation_date":1549964072,"post_id":8168884,"comment_id":96084975,"body_markdown":"Just for those interested in the same question while using JUnit 5: https://stackoverflow.com/questions/46846503/properly-set-system-properties-in-junit-5","body":"Just for those interested in the same question while using JUnit 5: <a href=\"https://stackoverflow.com/questions/46846503/properly-set-system-properties-in-junit-5\" title=\"properly set system properties in junit 5\">stackoverflow.com/questions/46846503/&hellip;</a>"},{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1597869809,"post_id":8168884,"comment_id":112277521,"body_markdown":"@FelipeMartinsMelo that question is about system properties, not environment variables. Here is a JUnit 5-compatible solution for environment variables: https://stackoverflow.com/a/63494695/3429133","body":"@FelipeMartinsMelo that question is about system properties, not environment variables. Here is a JUnit 5-compatible solution for environment variables: <a href=\"https://stackoverflow.com/a/63494695/3429133\">stackoverflow.com/a/63494695/3429133</a>"},{"owner":{"account_id":65427,"reputation":10919,"user_id":192529,"accept_rate":81,"display_name":"Timur Sadykov"},"score":0,"creation_date":1609672388,"post_id":8168884,"comment_id":115890311,"body_markdown":"here is a hack to set env variables for JUNIT: https://stackoverflow.com/questions/318239/how-do-i-set-environment-variables-from-java","body":"here is a hack to set env variables for JUNIT: <a href=\"https://stackoverflow.com/questions/318239/how-do-i-set-environment-variables-from-java\" title=\"how do i set environment variables from java\">stackoverflow.com/questions/318239/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":265483,"reputation":5939,"user_id":552469,"accept_rate":83,"display_name":"Andrea Colleoni"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1321540896,"creation_date":1321540896,"answer_id":8168970,"question_id":8168884,"body_markdown":"Decouple the Java code from the Environment variable providing a more abstract variable reader that you realize with an EnvironmentVariableReader your code to test reads from.\r\n\r\nThen in your test you can give an different implementation of the variable reader that provides your test values.\r\n\r\nDependency injection can help in this.","title":"How to test code dependent on environment variables using JUnit?","body":"<p>Decouple the Java code from the Environment variable providing a more abstract variable reader that you realize with an EnvironmentVariableReader your code to test reads from.</p>\n\n<p>Then in your test you can give an different implementation of the variable reader that provides your test values.</p>\n\n<p>Dependency injection can help in this.</p>\n"},{"tags":[],"owner":{"account_id":1376,"reputation":61107,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"down_vote_count":1,"up_vote_count":136,"is_accepted":false,"score":135,"last_activity_date":1321542152,"creation_date":1321541043,"answer_id":8169008,"question_id":8168884,"body_markdown":"The usual solution is to create a class which manages the access to this environmental variable, which you can then mock in your test class.\r\n\r\n    public class Environment {\r\n        public String getVariable() {\r\n            return System.getenv(); // or whatever\r\n        }\r\n    }\r\n    \r\n    public class ServiceTest {\r\n        private static class MockEnvironment {\r\n            public String getVariable() {\r\n               return &quot;foobar&quot;;\r\n            }\r\n        }\r\n    \r\n        @Test public void testService() {\r\n            service.doSomething(new MockEnvironment());\r\n        }\r\n    }\r\n\r\nThe class under test then gets the environment variable using the Environment class, not directly from System.getenv().","title":"How to test code dependent on environment variables using JUnit?","body":"<p>The usual solution is to create a class which manages the access to this environmental variable, which you can then mock in your test class.</p>\n\n<pre><code>public class Environment {\n    public String getVariable() {\n        return System.getenv(); // or whatever\n    }\n}\n\npublic class ServiceTest {\n    private static class MockEnvironment {\n        public String getVariable() {\n           return \"foobar\";\n        }\n    }\n\n    @Test public void testService() {\n        service.doSomething(new MockEnvironment());\n    }\n}\n</code></pre>\n\n<p>The class under test then gets the environment variable using the Environment class, not directly from System.getenv().</p>\n"},{"tags":[],"owner":{"account_id":43453,"reputation":16185,"user_id":127035,"accept_rate":71,"display_name":"ewan.chalmers"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1321541132,"creation_date":1321541132,"answer_id":8169030,"question_id":8168884,"body_markdown":"[This answer][1] to the question [How do I set environment variables from Java?][2] provides a way to alter the (unmodifiable) Map in System.getenv(). So while it doesn&#39;t REALLY change the value of the OS environment variable, it can be used for unit testing as it does change what [System.getenv][3] will return.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/318239/how-do-i-set-environment-variables-from-java/496849#496849\r\n  [2]: https://stackoverflow.com/q/318239/127035\r\n  [3]: http://download.oracle.com/javase/1,5.0/docs/api/java/lang/System.html#getenv%28java.lang.String%29","title":"How to test code dependent on environment variables using JUnit?","body":"<p><a href=\"https://stackoverflow.com/questions/318239/how-do-i-set-environment-variables-from-java/496849#496849\">This answer</a> to the question <a href=\"https://stackoverflow.com/q/318239/127035\">How do I set environment variables from Java?</a> provides a way to alter the (unmodifiable) Map in System.getenv(). So while it doesn't REALLY change the value of the OS environment variable, it can be used for unit testing as it does change what <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/lang/System.html#getenv%28java.lang.String%29\" rel=\"noreferrer\">System.getenv</a> will return.</p>\n"},{"tags":[],"owner":{"account_id":334630,"reputation":5349,"user_id":661196,"accept_rate":79,"display_name":"Cygnusx1"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1321541175,"creation_date":1321541175,"answer_id":8169043,"question_id":8168884,"body_markdown":"Well you can use the setup() method to declare the different values of your env. variables in constants.  Then use these constants in the tests methods used to test the different scenario.","title":"How to test code dependent on environment variables using JUnit?","body":"<p>Well you can use the setup() method to declare the different values of your env. variables in constants.  Then use these constants in the tests methods used to test the different scenario.</p>\n"},{"tags":[],"owner":{"account_id":121626,"reputation":8142,"user_id":314862,"accept_rate":76,"display_name":"Dimitri"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1321542287,"creation_date":1321542287,"answer_id":8169361,"question_id":8168884,"body_markdown":"If you want to retrieve informations about the environment variable in Java, you can call the method : `System.getenv();`. As the properties, this method returns a Map containing  the variable names as keys and the variable values as the map values. Here is an example : \r\n\r\n        import java.util.Map;\r\n    \r\n    public class EnvMap {\r\n        public static void main (String[] args) {\r\n            Map&lt;String, String&gt; env = System.getenv();\r\n            for (String envName : env.keySet()) {\r\n                System.out.format(&quot;%s=%s%n&quot;, envName, env.get(envName));\r\n            }\r\n        }\r\n    }\r\n\r\nThe method `getEnv()` can also takes an argument. For instance :\r\n\r\n    String myvalue = System.getEnv(&quot;MY_VARIABLE&quot;);\r\n\r\nFor testing, I would do something like this : \r\n\r\n    public class Environment {\r\n        public static String getVariable(String variable) {\r\n           return  System.getenv(variable);\r\n    }\r\n    \r\n    @Test\r\n     public class EnvVariableTest {\r\n    \r\n         @Test testVariable1(){\r\n             String value = Environment.getVariable(&quot;MY_VARIABLE1&quot;);\r\n             doSometest(value); \r\n         }\r\n        \r\n        @Test testVariable2(){\r\n           String value2 = Environment.getVariable(&quot;MY_VARIABLE2&quot;);\r\n           doSometest(value); \r\n         }   \r\n     }","title":"How to test code dependent on environment variables using JUnit?","body":"<p>If you want to retrieve informations about the environment variable in Java, you can call the method : <code>System.getenv();</code>. As the properties, this method returns a Map containing  the variable names as keys and the variable values as the map values. Here is an example : </p>\n\n<pre><code>    import java.util.Map;\n\npublic class EnvMap {\n    public static void main (String[] args) {\n        Map&lt;String, String&gt; env = System.getenv();\n        for (String envName : env.keySet()) {\n            System.out.format(\"%s=%s%n\", envName, env.get(envName));\n        }\n    }\n}\n</code></pre>\n\n<p>The method <code>getEnv()</code> can also takes an argument. For instance :</p>\n\n<pre><code>String myvalue = System.getEnv(\"MY_VARIABLE\");\n</code></pre>\n\n<p>For testing, I would do something like this : </p>\n\n<pre><code>public class Environment {\n    public static String getVariable(String variable) {\n       return  System.getenv(variable);\n}\n\n@Test\n public class EnvVariableTest {\n\n     @Test testVariable1(){\n         String value = Environment.getVariable(\"MY_VARIABLE1\");\n         doSometest(value); \n     }\n\n    @Test testVariable2(){\n       String value2 = Environment.getVariable(\"MY_VARIABLE2\");\n       doSometest(value); \n     }   \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":412962,"reputation":494,"user_id":786339,"display_name":"pgkelley"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1435157672,"creation_date":1435157672,"answer_id":31029944,"question_id":8168884,"body_markdown":"I think the cleanest way to do this is with Mockito.spy(). It&#39;s a bit more lightweight than creating a separate class to mock and pass around.\r\n\r\nMove your environment variable fetching to another method:\r\n\r\n    @VisibleForTesting\r\n    String getEnvironmentVariable(String envVar) {\r\n        return System.getenv(envVar);\r\n    }\r\n\r\nNow in your unit test do this:\r\n\r\n    @Test\r\n    public void test() {\r\n        ClassToTest classToTest = new ClassToTest();\r\n        ClassToTest classToTestSpy = Mockito.spy(classToTest);\r\n        Mockito.when(classToTestSpy.getEnvironmentVariable(&quot;key&quot;)).thenReturn(&quot;value&quot;);\r\n        // Now test the method that uses getEnvironmentVariable\r\n        assertEquals(&quot;changedvalue&quot;, classToTestSpy.methodToTest());\r\n    }","title":"How to test code dependent on environment variables using JUnit?","body":"<p>I think the cleanest way to do this is with Mockito.spy(). It's a bit more lightweight than creating a separate class to mock and pass around.</p>\n\n<p>Move your environment variable fetching to another method:</p>\n\n<pre><code>@VisibleForTesting\nString getEnvironmentVariable(String envVar) {\n    return System.getenv(envVar);\n}\n</code></pre>\n\n<p>Now in your unit test do this:</p>\n\n<pre><code>@Test\npublic void test() {\n    ClassToTest classToTest = new ClassToTest();\n    ClassToTest classToTestSpy = Mockito.spy(classToTest);\n    Mockito.when(classToTestSpy.getEnvironmentVariable(\"key\")).thenReturn(\"value\");\n    // Now test the method that uses getEnvironmentVariable\n    assertEquals(\"changedvalue\", classToTestSpy.methodToTest());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"down_vote_count":4,"up_vote_count":259,"is_accepted":true,"score":255,"last_activity_date":1663270602,"creation_date":1455464573,"answer_id":35393623,"question_id":8168884,"body_markdown":"The library [System Lambda][1] has a method `withEnvironmentVariable` for setting environment variables.\r\n\r\n    import static com.github.stefanbirkner.systemlambda.SystemLambda.*;\r\n\r\n\tpublic void EnvironmentVariablesTest {\r\n\t  @Test\r\n\t  public void setEnvironmentVariable() {\r\n        String value = withEnvironmentVariable(&quot;name&quot;, &quot;value&quot;)\r\n          .execute(() -&gt; System.getenv(&quot;name&quot;));\r\n        assertEquals(&quot;value&quot;, value);\r\n      }\r\n\t}\r\n\r\nFor Java 5 to 7 the library [System Rules][2] has a JUnit rule called `EnvironmentVariables`.\r\n\r\n\r\n    import org.junit.contrib.java.lang.system.EnvironmentVariables;\r\n\r\n    public class EnvironmentVariablesTest {\r\n      @Rule\r\n      public final EnvironmentVariables environmentVariables\r\n        = new EnvironmentVariables();\r\n\r\n      @Test\r\n      public void setEnvironmentVariable() {\r\n        environmentVariables.set(&quot;name&quot;, &quot;value&quot;);\r\n        assertEquals(&quot;value&quot;, System.getenv(&quot;name&quot;));\r\n      }\r\n    }\r\n\r\n\r\nFull disclosure: I&#39;m the author of both libraries. \r\n\r\n  [1]: https://github.com/stefanbirkner/system-lambda/\r\n  [2]: https://github.com/stefanbirkner/system-rules","title":"How to test code dependent on environment variables using JUnit?","body":"<p>The library <a href=\"https://github.com/stefanbirkner/system-lambda/\" rel=\"noreferrer\">System Lambda</a> has a method <code>withEnvironmentVariable</code> for setting environment variables.</p>\n<pre><code>import static com.github.stefanbirkner.systemlambda.SystemLambda.*;\n\npublic void EnvironmentVariablesTest {\n  @Test\n  public void setEnvironmentVariable() {\n    String value = withEnvironmentVariable(&quot;name&quot;, &quot;value&quot;)\n      .execute(() -&gt; System.getenv(&quot;name&quot;));\n    assertEquals(&quot;value&quot;, value);\n  }\n}\n</code></pre>\n<p>For Java 5 to 7 the library <a href=\"https://github.com/stefanbirkner/system-rules\" rel=\"noreferrer\">System Rules</a> has a JUnit rule called <code>EnvironmentVariables</code>.</p>\n<pre><code>import org.junit.contrib.java.lang.system.EnvironmentVariables;\n\npublic class EnvironmentVariablesTest {\n  @Rule\n  public final EnvironmentVariables environmentVariables\n    = new EnvironmentVariables();\n\n  @Test\n  public void setEnvironmentVariable() {\n    environmentVariables.set(&quot;name&quot;, &quot;value&quot;);\n    assertEquals(&quot;value&quot;, System.getenv(&quot;name&quot;));\n  }\n}\n</code></pre>\n<p>Full disclosure: I'm the author of both libraries.</p>\n"},{"tags":[],"owner":{"account_id":8921473,"reputation":1917,"user_id":6657842,"display_name":"RLD"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1497631688,"creation_date":1497630677,"answer_id":44594009,"question_id":8168884,"body_markdown":"In a similar situation like this where I had to write **Test Case** which is dependent on **Environment Variable**, I tried following:\r\n\r\n 1. I went for **System Rules** as suggested by *Stefan Birkner*. Its use was simple. But sooner than later, I found the behavior erratic. In one run, it works, in the very next run it fails. **I investigated and found that System Rules work well with JUnit 4 or higher version.** But in my cases, I was using some Jars which were dependent on **JUnit 3**. So I skipped **System Rules**. More on it you can find here https://stackoverflow.com/questions/20879258/rule-annotation-doesnt-work-while-using-testsuite-in-junit.\r\n 2. Next I tried to create **Environment Variable** through **Process Builder** class provided by **Java**. Here through Java Code we can create an environment variable, but you need to know the **process** or **program** name which I did not. Also it creates environment variable for child process, not for the main process.\r\n\r\nI wasted a day using the above two approaches, but of no avail. Then **Maven** came to my rescue. We can set **Environment Variables** or **System Properties** through **Maven POM** file which I think best way to do **Unit Testing** for **Maven** based project. Below is the entry I made in **POM** file.\r\n\r\n        &lt;build&gt;\r\n          &lt;plugins&gt;\r\n           &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;systemPropertyVariables&gt;\r\n                  &lt;PropertyName1&gt;PropertyValue1&lt;/PropertyName1&gt;                                                          \r\n                  &lt;PropertyName2&gt;PropertyValue2&lt;/PropertyName2&gt;\r\n              &lt;/systemPropertyVariables&gt;\r\n              &lt;environmentVariables&gt;\r\n                &lt;EnvironmentVariable1&gt;EnvironmentVariableValue1&lt;/EnvironmentVariable1&gt;\r\n                &lt;EnvironmentVariable2&gt;EnvironmentVariableValue2&lt;/EnvironmentVariable2&gt;\r\n              &lt;/environmentVariables&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\nAfter this change, I ran **Test Cases** again and suddenly all worked as expected. For reader&#39;s information, I explored this approach in **Maven 3.x**, so I have no idea on **Maven 2.x**.","title":"How to test code dependent on environment variables using JUnit?","body":"<p>In a similar situation like this where I had to write <strong>Test Case</strong> which is dependent on <strong>Environment Variable</strong>, I tried following:</p>\n\n<ol>\n<li>I went for <strong>System Rules</strong> as suggested by <em>Stefan Birkner</em>. Its use was simple. But sooner than later, I found the behavior erratic. In one run, it works, in the very next run it fails. <strong>I investigated and found that System Rules work well with JUnit 4 or higher version.</strong> But in my cases, I was using some Jars which were dependent on <strong>JUnit 3</strong>. So I skipped <strong>System Rules</strong>. More on it you can find here <a href=\"https://stackoverflow.com/questions/20879258/rule-annotation-doesnt-work-while-using-testsuite-in-junit\">@Rule annotation doesn&#39;t work while using TestSuite in JUnit</a>.</li>\n<li>Next I tried to create <strong>Environment Variable</strong> through <strong>Process Builder</strong> class provided by <strong>Java</strong>. Here through Java Code we can create an environment variable, but you need to know the <strong>process</strong> or <strong>program</strong> name which I did not. Also it creates environment variable for child process, not for the main process.</li>\n</ol>\n\n<p>I wasted a day using the above two approaches, but of no avail. Then <strong>Maven</strong> came to my rescue. We can set <strong>Environment Variables</strong> or <strong>System Properties</strong> through <strong>Maven POM</strong> file which I think best way to do <strong>Unit Testing</strong> for <strong>Maven</strong> based project. Below is the entry I made in <strong>POM</strong> file.</p>\n\n<pre><code>    &lt;build&gt;\n      &lt;plugins&gt;\n       &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;systemPropertyVariables&gt;\n              &lt;PropertyName1&gt;PropertyValue1&lt;/PropertyName1&gt;                                                          \n              &lt;PropertyName2&gt;PropertyValue2&lt;/PropertyName2&gt;\n          &lt;/systemPropertyVariables&gt;\n          &lt;environmentVariables&gt;\n            &lt;EnvironmentVariable1&gt;EnvironmentVariableValue1&lt;/EnvironmentVariable1&gt;\n            &lt;EnvironmentVariable2&gt;EnvironmentVariableValue2&lt;/EnvironmentVariable2&gt;\n          &lt;/environmentVariables&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n\n<p>After this change, I ran <strong>Test Cases</strong> again and suddenly all worked as expected. For reader's information, I explored this approach in <strong>Maven 3.x</strong>, so I have no idea on <strong>Maven 2.x</strong>.</p>\n"},{"tags":[],"owner":{"account_id":5442752,"reputation":453,"user_id":4330355,"display_name":"Mangusta"},"down_vote_count":4,"up_vote_count":16,"is_accepted":false,"score":12,"last_activity_date":1498655361,"creation_date":1498655361,"answer_id":44803444,"question_id":8168884,"body_markdown":"I don&#39;t think this has been mentioned yet, but you could also use **Powermockito**:\r\n\r\nGiven:\r\n\r\n    package com.foo.service.impl;\r\n\r\n    public class FooServiceImpl {\r\n\r\n        public void doSomeFooStuff() {\r\n            System.getenv(&quot;FOO_VAR_1&quot;);\r\n            System.getenv(&quot;FOO_VAR_2&quot;);\r\n            System.getenv(&quot;FOO_VAR_3&quot;);\r\n            \r\n            // Do the other Foo stuff\r\n        }\r\n    }\r\n\r\nYou could do the following:\r\n\r\n    package com.foo.service.impl;\r\n\r\n    import static org.mockito.Mockito.when;\r\n    import static org.powermock.api.mockito.PowerMockito.mockStatic;\r\n    import static org.powermock.api.mockito.PowerMockito.verifyStatic;\r\n\r\n    import org.junit.Beforea;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.MockitoAnnotations;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(FooServiceImpl.class)\r\n    public class FooServiceImpTest {\r\n\r\n        @InjectMocks\r\n        private FooServiceImpl service;\r\n\r\n        @Before\r\n        public void setUp() {\r\n            MockitoAnnotations.initMocks(this);\r\n\r\n            mockStatic(System.class);  // Powermock can mock static and private methods\r\n\r\n            when(System.getenv(&quot;FOO_VAR_1&quot;)).thenReturn(&quot;test-foo-var-1&quot;);\r\n            when(System.getenv(&quot;FOO_VAR_2&quot;)).thenReturn(&quot;test-foo-var-2&quot;);\r\n            when(System.getenv(&quot;FOO_VAR_3&quot;)).thenReturn(&quot;test-foo-var-3&quot;);\r\n        }\r\n\r\n        @Test\r\n        public void testSomeFooStuff() {        \r\n            // Test\r\n            service.doSomeFooStuff();\r\n    \r\n            verifyStatic();\r\n            System.getenv(&quot;FOO_VAR_1&quot;);\r\n            verifyStatic();\r\n            System.getenv(&quot;FOO_VAR_2&quot;);\r\n            verifyStatic();\r\n            System.getenv(&quot;FOO_VAR_3&quot;);\r\n        }\r\n    }","title":"How to test code dependent on environment variables using JUnit?","body":"<p>I don't think this has been mentioned yet, but you could also use <strong>Powermockito</strong>:</p>\n\n<p>Given:</p>\n\n<pre><code>package com.foo.service.impl;\n\npublic class FooServiceImpl {\n\n    public void doSomeFooStuff() {\n        System.getenv(\"FOO_VAR_1\");\n        System.getenv(\"FOO_VAR_2\");\n        System.getenv(\"FOO_VAR_3\");\n\n        // Do the other Foo stuff\n    }\n}\n</code></pre>\n\n<p>You could do the following:</p>\n\n<pre><code>package com.foo.service.impl;\n\nimport static org.mockito.Mockito.when;\nimport static org.powermock.api.mockito.PowerMockito.mockStatic;\nimport static org.powermock.api.mockito.PowerMockito.verifyStatic;\n\nimport org.junit.Beforea;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.MockitoAnnotations;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest(FooServiceImpl.class)\npublic class FooServiceImpTest {\n\n    @InjectMocks\n    private FooServiceImpl service;\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n\n        mockStatic(System.class);  // Powermock can mock static and private methods\n\n        when(System.getenv(\"FOO_VAR_1\")).thenReturn(\"test-foo-var-1\");\n        when(System.getenv(\"FOO_VAR_2\")).thenReturn(\"test-foo-var-2\");\n        when(System.getenv(\"FOO_VAR_3\")).thenReturn(\"test-foo-var-3\");\n    }\n\n    @Test\n    public void testSomeFooStuff() {        \n        // Test\n        service.doSomeFooStuff();\n\n        verifyStatic();\n        System.getenv(\"FOO_VAR_1\");\n        verifyStatic();\n        System.getenv(\"FOO_VAR_2\");\n        verifyStatic();\n        System.getenv(\"FOO_VAR_3\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":295514,"reputation":2157,"user_id":599971,"accept_rate":55,"display_name":"ejaenv"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1536323363,"creation_date":1536323363,"answer_id":52222610,"question_id":8168884,"body_markdown":"I use System.getEnv() to get the map and I keep as a field, so I can mock it:\r\n\r\n\r\n    public class AAA {\r\n    \r\n        Map&lt;String, String&gt; environmentVars; \r\n    \r\n        public String readEnvironmentVar(String varName) {\r\n            if (environmentVars==null) environmentVars = System.getenv();   \r\n            return environmentVars.get(varName);\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    public class AAATest {\r\n                \r\n             @Test\r\n             public void test() {\r\n                  aaa.environmentVars = new HashMap&lt;String,String&gt;();\r\n                  aaa.environmentVars.put(&quot;NAME&quot;, &quot;value&quot;);\r\n                  assertEquals(&quot;value&quot;,aaa.readEnvironmentVar(&quot;NAME&quot;));\r\n             }\r\n    }\r\n\r\n \r\n\r\n\r\n\r\n\r\n","title":"How to test code dependent on environment variables using JUnit?","body":"<p>I use System.getEnv() to get the map and I keep as a field, so I can mock it:</p>\n\n<pre><code>public class AAA {\n\n    Map&lt;String, String&gt; environmentVars; \n\n    public String readEnvironmentVar(String varName) {\n        if (environmentVars==null) environmentVars = System.getenv();   \n        return environmentVars.get(varName);\n    }\n}\n\n\n\npublic class AAATest {\n\n         @Test\n         public void test() {\n              aaa.environmentVars = new HashMap&lt;String,String&gt;();\n              aaa.environmentVars.put(\"NAME\", \"value\");\n              assertEquals(\"value\",aaa.readEnvironmentVar(\"NAME\"));\n         }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14801638,"reputation":51,"user_id":10689710,"display_name":"Muthu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1542872425,"creation_date":1542872425,"answer_id":53426018,"question_id":8168884,"body_markdown":"Hope the issue is resolved. I just thought to tell my solution.\r\n\r\n    Map&lt;String, String&gt; env = System.getenv();\r\n\t    new MockUp&lt;System&gt;() {\r\n\t\t    @Mock\t\t\t\r\n    \t\tpublic String getenv(String name) \r\n            {\r\n\t\t\t    if (name.equalsIgnoreCase( &quot;OUR_OWN_VARIABLE&quot; )) {\r\n\t\t\t\t    return &quot;true&quot;;\r\n\t\t\t    }\r\n\t\t\t    return env.get(name);\r\n\t\t    }\r\n    \t};","title":"How to test code dependent on environment variables using JUnit?","body":"<p>Hope the issue is resolved. I just thought to tell my solution.</p>\n\n<pre><code>Map&lt;String, String&gt; env = System.getenv();\n    new MockUp&lt;System&gt;() {\n        @Mock           \n        public String getenv(String name) \n        {\n            if (name.equalsIgnoreCase( \"OUR_OWN_VARIABLE\" )) {\n                return \"true\";\n            }\n            return env.get(name);\n        }\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1582808949,"creation_date":1582808949,"answer_id":60434013,"question_id":8168884,"body_markdown":"Even though I think [this answer][1] is the best for Maven projects, It can be achieved via reflect as well (tested in **Java 8**):\r\n\r\n    public class TestClass {\r\n    \tprivate static final Map&lt;String, String&gt; DEFAULTS = new HashMap&lt;&gt;(System.getenv());\r\n    \tprivate static Map&lt;String, String&gt; envMap;\r\n    \r\n    \t@Test\r\n    \tpublic void aTest() {\r\n    \t\tassertEquals(&quot;6&quot;, System.getenv(&quot;NUMBER_OF_PROCESSORS&quot;));\r\n    \t\tSystem.getenv().put(&quot;NUMBER_OF_PROCESSORS&quot;, &quot;155&quot;);\r\n    \t\tassertEquals(&quot;155&quot;, System.getenv(&quot;NUMBER_OF_PROCESSORS&quot;));\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void anotherTest() {\r\n    \t\tassertEquals(&quot;6&quot;, System.getenv(&quot;NUMBER_OF_PROCESSORS&quot;));\r\n    \t\tSystem.getenv().put(&quot;NUMBER_OF_PROCESSORS&quot;, &quot;77&quot;);\r\n    \t\tassertEquals(&quot;77&quot;, System.getenv(&quot;NUMBER_OF_PROCESSORS&quot;));\r\n    \t}\r\n    \r\n    \t/*\r\n    \t * Restore default variables for each test\r\n    \t */\r\n    \t@BeforeEach\r\n    \tpublic void initEnvMap() {\r\n    \t\tenvMap.clear();\r\n    \t\tenvMap.putAll(DEFAULTS);\r\n    \t}\r\n    \r\n    \t@BeforeAll\r\n    \tpublic static void accessFields() throws Exception {\r\n    \t\tenvMap = new HashMap&lt;&gt;();\r\n    \t\tClass&lt;?&gt; clazz = Class.forName(&quot;java.lang.ProcessEnvironment&quot;);\r\n    \t\tField theCaseInsensitiveEnvironmentField = clazz.getDeclaredField(&quot;theCaseInsensitiveEnvironment&quot;);\r\n    \t\tField theUnmodifiableEnvironmentField = clazz.getDeclaredField(&quot;theUnmodifiableEnvironment&quot;);\r\n    \t\tremoveStaticFinalAndSetValue(theCaseInsensitiveEnvironmentField, envMap);\r\n    \t\tremoveStaticFinalAndSetValue(theUnmodifiableEnvironmentField, envMap);\r\n    \t}\r\n    \r\n    \tprivate static void removeStaticFinalAndSetValue(Field field, Object value) throws Exception {\r\n    \t\tfield.setAccessible(true);\r\n    \t\tField modifiersField = Field.class.getDeclaredField(&quot;modifiers&quot;);\r\n    \t\tmodifiersField.setAccessible(true);\r\n    \t\tmodifiersField.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\r\n    \t\tfield.set(null, value);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/44594009/6579265\r\n\r\n","title":"How to test code dependent on environment variables using JUnit?","body":"<p>Even though I think <a href=\"https://stackoverflow.com/a/44594009/6579265\">this answer</a> is the best for Maven projects, It can be achieved via reflect as well (tested in <strong>Java 8</strong>):</p>\n\n<pre><code>public class TestClass {\n    private static final Map&lt;String, String&gt; DEFAULTS = new HashMap&lt;&gt;(System.getenv());\n    private static Map&lt;String, String&gt; envMap;\n\n    @Test\n    public void aTest() {\n        assertEquals(\"6\", System.getenv(\"NUMBER_OF_PROCESSORS\"));\n        System.getenv().put(\"NUMBER_OF_PROCESSORS\", \"155\");\n        assertEquals(\"155\", System.getenv(\"NUMBER_OF_PROCESSORS\"));\n    }\n\n    @Test\n    public void anotherTest() {\n        assertEquals(\"6\", System.getenv(\"NUMBER_OF_PROCESSORS\"));\n        System.getenv().put(\"NUMBER_OF_PROCESSORS\", \"77\");\n        assertEquals(\"77\", System.getenv(\"NUMBER_OF_PROCESSORS\"));\n    }\n\n    /*\n     * Restore default variables for each test\n     */\n    @BeforeEach\n    public void initEnvMap() {\n        envMap.clear();\n        envMap.putAll(DEFAULTS);\n    }\n\n    @BeforeAll\n    public static void accessFields() throws Exception {\n        envMap = new HashMap&lt;&gt;();\n        Class&lt;?&gt; clazz = Class.forName(\"java.lang.ProcessEnvironment\");\n        Field theCaseInsensitiveEnvironmentField = clazz.getDeclaredField(\"theCaseInsensitiveEnvironment\");\n        Field theUnmodifiableEnvironmentField = clazz.getDeclaredField(\"theUnmodifiableEnvironment\");\n        removeStaticFinalAndSetValue(theCaseInsensitiveEnvironmentField, envMap);\n        removeStaticFinalAndSetValue(theUnmodifiableEnvironmentField, envMap);\n    }\n\n    private static void removeStaticFinalAndSetValue(Field field, Object value) throws Exception {\n        field.setAccessible(true);\n        Field modifiersField = Field.class.getDeclaredField(\"modifiers\");\n        modifiersField.setAccessible(true);\n        modifiersField.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\n        field.set(null, value);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1602103707,"creation_date":1597869700,"answer_id":63494695,"question_id":8168884,"body_markdown":"For JUnit 4 users, [System Lambda](https://github.com/stefanbirkner/system-lambda) as suggested by [Stefan Birkner](https://stackoverflow.com/a/35393623/3429133) is a great fit.\r\n\r\nIn case you are using JUnit 5, there is the [JUnit Pioneer](https://junit-pioneer.org) extension pack. It comes with `@ClearEnvironmentVariable` and `@SetEnvironmentVariable`. From the [docs](https://junit-pioneer.org/docs/environment-variables):\r\n\r\n&gt;The `@ClearEnvironmentVariable` and `@SetEnvironmentVariable` annotations can be used to clear, respectively, set the values of environment variables for a test execution. Both annotations work on the test method and class level, are repeatable as well as combinable. After the annotated method has been executed, the variables mentioned in the annotation will be restored to their original value or will be cleared if they didn&#39;t have one before. Other environment variables that are changed during the test, are *not* restored.\r\n\r\nExample:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\t@Test\r\n\t@ClearEnvironmentVariable(key = &quot;SOME_VARIABLE&quot;)\r\n\t@SetEnvironmentVariable(key = &quot;ANOTHER_VARIABLE&quot;, value = &quot;new value&quot;)\r\n\tvoid test() {\r\n\t\tassertNull(System.getenv(&quot;SOME_VARIABLE&quot;));\r\n\t\tassertEquals(&quot;new value&quot;, System.getenv(&quot;ANOTHER_VARIABLE&quot;));\r\n\t}","title":"How to test code dependent on environment variables using JUnit?","body":"<p>For JUnit 4 users, <a href=\"https://github.com/stefanbirkner/system-lambda\" rel=\"noreferrer\">System Lambda</a> as suggested by <a href=\"https://stackoverflow.com/a/35393623/3429133\">Stefan Birkner</a> is a great fit.</p>\n<p>In case you are using JUnit 5, there is the <a href=\"https://junit-pioneer.org\" rel=\"noreferrer\">JUnit Pioneer</a> extension pack. It comes with <code>@ClearEnvironmentVariable</code> and <code>@SetEnvironmentVariable</code>. From the <a href=\"https://junit-pioneer.org/docs/environment-variables\" rel=\"noreferrer\">docs</a>:</p>\n<blockquote>\n<p>The <code>@ClearEnvironmentVariable</code> and <code>@SetEnvironmentVariable</code> annotations can be used to clear, respectively, set the values of environment variables for a test execution. Both annotations work on the test method and class level, are repeatable as well as combinable. After the annotated method has been executed, the variables mentioned in the annotation will be restored to their original value or will be cleared if they didn't have one before. Other environment variables that are changed during the test, are <em>not</em> restored.</p>\n</blockquote>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@ClearEnvironmentVariable(key = &quot;SOME_VARIABLE&quot;)\n@SetEnvironmentVariable(key = &quot;ANOTHER_VARIABLE&quot;, value = &quot;new value&quot;)\nvoid test() {\n    assertNull(System.getenv(&quot;SOME_VARIABLE&quot;));\n    assertEquals(&quot;new value&quot;, System.getenv(&quot;ANOTHER_VARIABLE&quot;));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10656426,"reputation":486,"user_id":7845889,"display_name":"Sebastian Luna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601932245,"creation_date":1601932245,"answer_id":64216233,"question_id":8168884,"body_markdown":"You can use [Powermock][1] for mocking the call. Like:\r\n\r\n    PowerMockito.mockStatic(System.class);\r\n    PowerMockito.when(System.getenv(&quot;MyEnvVariable&quot;)).thenReturn(&quot;DesiredValue&quot;);\r\nYou can also mock all the calls with:\r\n\r\n    PowerMockito.mockStatic(System.class);\r\n    PowerMockito.when(System.getenv(Mockito.anyString())).thenReturn(envVariable);\r\n\r\n\r\n  [1]: https://github.com/powermock/powermock","title":"How to test code dependent on environment variables using JUnit?","body":"<p>You can use <a href=\"https://github.com/powermock/powermock\" rel=\"nofollow noreferrer\">Powermock</a> for mocking the call. Like:</p>\n<pre><code>PowerMockito.mockStatic(System.class);\nPowerMockito.when(System.getenv(&quot;MyEnvVariable&quot;)).thenReturn(&quot;DesiredValue&quot;);\n</code></pre>\n<p>You can also mock all the calls with:</p>\n<pre><code>PowerMockito.mockStatic(System.class);\nPowerMockito.when(System.getenv(Mockito.anyString())).thenReturn(envVariable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605699805,"creation_date":1605699805,"answer_id":64892391,"question_id":8168884,"body_markdown":"The library https://github.com/webcompere/system-stubs/tree/master/system-stubs-jupiter - a fork of `system-lambda` - provides a JUnit 5 plug-in:\r\n\r\n```java\r\n@ExtendWith(SystemStubsExtension.class)\r\nclass SomeTest {\r\n    @SystemStub\r\n    private EnvironmentVariables environmentVariables =\r\n       new EnvironmentVariables(&quot;name&quot;, &quot;value&quot;);\r\n\r\n    @Test\r\n    void someTest() {\r\n       // environment is set here\r\n\r\n       // can set a new value into the environment too\r\n       environmentVariables.set(&quot;other&quot;, &quot;value&quot;);\r\n\r\n       // tidy up happens at end of this test\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe https://junit-pioneer.org/ alternative requires environment variable values to be known at compile time. The above also supports the setting\r\nof environment variables in the `@BeforeAll`, which means it interoperates well with things like `Testcontainers` that might set up some resources needed by child tests.\r\n","title":"How to test code dependent on environment variables using JUnit?","body":"<p>The library <a href=\"https://github.com/webcompere/system-stubs/tree/master/system-stubs-jupiter\" rel=\"nofollow noreferrer\">https://github.com/webcompere/system-stubs/tree/master/system-stubs-jupiter</a> - a fork of <code>system-lambda</code> - provides a JUnit 5 plug-in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SystemStubsExtension.class)\nclass SomeTest {\n    @SystemStub\n    private EnvironmentVariables environmentVariables =\n       new EnvironmentVariables(&quot;name&quot;, &quot;value&quot;);\n\n    @Test\n    void someTest() {\n       // environment is set here\n\n       // can set a new value into the environment too\n       environmentVariables.set(&quot;other&quot;, &quot;value&quot;);\n\n       // tidy up happens at end of this test\n    }\n\n}\n</code></pre>\n<p>The <a href=\"https://junit-pioneer.org/\" rel=\"nofollow noreferrer\">https://junit-pioneer.org/</a> alternative requires environment variable values to be known at compile time. The above also supports the setting\nof environment variables in the <code>@BeforeAll</code>, which means it interoperates well with things like <code>Testcontainers</code> that might set up some resources needed by child tests.</p>\n"},{"tags":[],"owner":{"account_id":2969883,"reputation":411,"user_id":3236202,"display_name":"Ola Aronsson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611909795,"creation_date":1611844422,"answer_id":65939213,"question_id":8168884,"body_markdown":"A lot of focus in the suggestions above on inventing ways *in runtime* to pass in variables, set them and clear them and so on..? But to test things &#39;structurally&#39;, I guess you want to have different test suites for different scenarios? Pretty much like when you want to run your &#39;heavier&#39; integration test builds, whereas in most cases you just want to skip them. But then you don&#39;t try and &#39;invent ways to set stuff in runtime&#39;, rather you just *tell* maven what you want? It used to be a lot of work telling maven to run specific tests via profiles and such, if you google around people would suggest doing it via springboot (but if you haven&#39;t dragged in the springboot monstrum into your project, it seems a horrendous footprint for &#39;just running JUnits&#39;, right?). Or else it would imply loads of more or less inconvenient POM XML juggling which is also tiresome and, let&#39;s just say it, &#39;a nineties move&#39;, as inconvenient as still insisting on making &#39;spring beans out of XML&#39;, showing off your *ultimate* 600 line logback.xml or whatnot...?\r\n \r\nNowadays, you can just use Junit 5 (this example is for maven, more details can be found here [JUnit 5 User Guide 5][1])\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/\r\n\r\n\r\n     &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;5.7.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nand then\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand then in your favourite utility lib create a simple nifty annotation class such as\r\n\r\n    @Target({ ElementType.TYPE, ElementType.METHOD })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @EnabledIfEnvironmentVariable(named = &quot;MAVEN_CMD_LINE_ARGS&quot;, matches = &quot;(.*)integration-testing(.*)&quot;)\r\n    public @interface IntegrationTest {}\r\n\r\nso then whenever your cmdline options contain -Pintegration-testing for instance, then and only then will your @IntegrationTest annotated test-class/method fire. Or, if you don&#39;t want to use (and setup) a specific maven profile but rather just pass in &#39;trigger&#39; system properties by means of\r\n\r\n    mvn &lt;cmds&gt; -DmySystemPop=mySystemPropValue\r\n\r\nand adjust your annotation interface to trigger on that (yes, there is also a @EnabledIfSystemProperty). Or making sure your shell is set up to contain &#39;whatever you need&#39; or, as is suggested above, actually going through &#39;the pain&#39; adding system env via your POM XML.\r\n\r\nHaving your code *internally* in runtime fiddle with env or mocking env, setting it up and then possibly &#39;clearing&#39; runtime env to change itself during execution just seems like a bad, perhaps even dangerous, approach - it&#39;s easy to imagine someone will always sooner or later make a &#39;hidden&#39; internal mistake that will go unnoticed for a while, just to arise suddenly and bite you hard in production later..? You usually prefer an approach entailing that &#39;given input&#39; gives &#39;expected output&#39;, something that is easy to grasp and maintain over time, your fellow coders will just see it &#39;immediately&#39;.\r\n\r\nWell long &#39;answer&#39; or maybe rather just an opinion on why you&#39;d prefer this approach (yes, at first I just read the heading for this question and went ahead to answer that, ie &#39;How to test code dependent on environment variables using JUnit&#39;).\r\n","title":"How to test code dependent on environment variables using JUnit?","body":"<p>A lot of focus in the suggestions above on inventing ways <em>in runtime</em> to pass in variables, set them and clear them and so on..? But to test things 'structurally', I guess you want to have different test suites for different scenarios? Pretty much like when you want to run your 'heavier' integration test builds, whereas in most cases you just want to skip them. But then you don't try and 'invent ways to set stuff in runtime', rather you just <em>tell</em> maven what you want? It used to be a lot of work telling maven to run specific tests via profiles and such, if you google around people would suggest doing it via springboot (but if you haven't dragged in the springboot monstrum into your project, it seems a horrendous footprint for 'just running JUnits', right?). Or else it would imply loads of more or less inconvenient POM XML juggling which is also tiresome and, let's just say it, 'a nineties move', as inconvenient as still insisting on making 'spring beans out of XML', showing off your <em>ultimate</em> 600 line logback.xml or whatnot...?</p>\n<p>Nowadays, you can just use Junit 5 (this example is for maven, more details can be found here <a href=\"https://junit.org/junit5/docs/current/user-guide/\" rel=\"nofollow noreferrer\">JUnit 5 User Guide 5</a>)</p>\n<pre><code> &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>and then</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and then in your favourite utility lib create a simple nifty annotation class such as</p>\n<pre><code>@Target({ ElementType.TYPE, ElementType.METHOD })\n@Retention(RetentionPolicy.RUNTIME)\n@EnabledIfEnvironmentVariable(named = &quot;MAVEN_CMD_LINE_ARGS&quot;, matches = &quot;(.*)integration-testing(.*)&quot;)\npublic @interface IntegrationTest {}\n</code></pre>\n<p>so then whenever your cmdline options contain -Pintegration-testing for instance, then and only then will your @IntegrationTest annotated test-class/method fire. Or, if you don't want to use (and setup) a specific maven profile but rather just pass in 'trigger' system properties by means of</p>\n<pre><code>mvn &lt;cmds&gt; -DmySystemPop=mySystemPropValue\n</code></pre>\n<p>and adjust your annotation interface to trigger on that (yes, there is also a @EnabledIfSystemProperty). Or making sure your shell is set up to contain 'whatever you need' or, as is suggested above, actually going through 'the pain' adding system env via your POM XML.</p>\n<p>Having your code <em>internally</em> in runtime fiddle with env or mocking env, setting it up and then possibly 'clearing' runtime env to change itself during execution just seems like a bad, perhaps even dangerous, approach - it's easy to imagine someone will always sooner or later make a 'hidden' internal mistake that will go unnoticed for a while, just to arise suddenly and bite you hard in production later..? You usually prefer an approach entailing that 'given input' gives 'expected output', something that is easy to grasp and maintain over time, your fellow coders will just see it 'immediately'.</p>\n<p>Well long 'answer' or maybe rather just an opinion on why you'd prefer this approach (yes, at first I just read the heading for this question and went ahead to answer that, ie 'How to test code dependent on environment variables using JUnit').</p>\n"},{"tags":[],"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611931332,"creation_date":1611931332,"answer_id":65956540,"question_id":8168884,"body_markdown":"One slow, dependable, old-school method that always works in every operating system with every language (and even between languages) is to write the &quot;system/environment&quot; data you need to a temporary text file, read it when you need it, and then erase it.  Of course, if you&#39;re running in parallel, then you need unique names for the file, and if you&#39;re putting sensitive information in it, then you need to encrypt it.","title":"How to test code dependent on environment variables using JUnit?","body":"<p>One slow, dependable, old-school method that always works in every operating system with every language (and even between languages) is to write the &quot;system/environment&quot; data you need to a temporary text file, read it when you need it, and then erase it.  Of course, if you're running in parallel, then you need unique names for the file, and if you're putting sensitive information in it, then you need to encrypt it.</p>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616671060,"creation_date":1616671060,"answer_id":66798392,"question_id":8168884,"body_markdown":"Simply \r\n\r\n\r\nAdd below maven dependency\r\n\r\n    &lt;!-- for JUnit 4 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;uk.org.webcompere&lt;/groupId&gt;\r\n        &lt;artifactId&gt;system-stubs-junit4&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- for JUnit 5 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;uk.org.webcompere&lt;/groupId&gt;\r\n        &lt;artifactId&gt;system-stubs-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\nInside your test, you can use something similar:\r\n\r\n    @Rule\r\n    public EnvironmentVariablesRule environmentVariablesRule = new EnvironmentVariablesRule();\r\n    \r\n    @Test\r\n    public void givenEnvironmentCanBeModified_whenSetEnvironment_thenItIsSet() {\r\n        // mock that the system contains an  environment variable &quot;ENV_VAR&quot; having value &quot;value1&quot;\r\n        environmentVariablesRule.set(&quot;ENV_VAR&quot;, &quot;value1&quot;);\r\n    \r\n        assertThat(System.getenv(&quot;ENV_VAR&quot;)).isEqualTo(&quot;value1&quot;);\r\n    }\r\n\r\n\r\nReference for more details\\\r\nhttps://www.baeldung.com/java-system-stubs","title":"How to test code dependent on environment variables using JUnit?","body":"<p>Simply</p>\n<p>Add below maven dependency</p>\n<pre><code>&lt;!-- for JUnit 4 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;uk.org.webcompere&lt;/groupId&gt;\n    &lt;artifactId&gt;system-stubs-junit4&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- for JUnit 5 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;uk.org.webcompere&lt;/groupId&gt;\n    &lt;artifactId&gt;system-stubs-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Inside your test, you can use something similar:</p>\n<pre><code>@Rule\npublic EnvironmentVariablesRule environmentVariablesRule = new EnvironmentVariablesRule();\n\n@Test\npublic void givenEnvironmentCanBeModified_whenSetEnvironment_thenItIsSet() {\n    // mock that the system contains an  environment variable &quot;ENV_VAR&quot; having value &quot;value1&quot;\n    environmentVariablesRule.set(&quot;ENV_VAR&quot;, &quot;value1&quot;);\n\n    assertThat(System.getenv(&quot;ENV_VAR&quot;)).isEqualTo(&quot;value1&quot;);\n}\n</code></pre>\n<p>Reference for more details<br />\n<a href=\"https://www.baeldung.com/java-system-stubs\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-system-stubs</a></p>\n"},{"tags":[],"owner":{"account_id":13553007,"reputation":11,"user_id":18741648,"display_name":"Madgel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666936834,"creation_date":1666936834,"answer_id":74231201,"question_id":8168884,"body_markdown":"You can try to dependent your code also from properties:\r\n\r\n\r\n    public static String host() {\r\n       return firstNonBlank(getenv(&quot;HOST&quot;), getProperty(&quot;host&quot;), &quot;localhost&quot;);\r\n    }\r\n\r\nSo, in tests you can easily just add system property And your production code will precede using environment variables:\r\n\r\n    System.setProperty(&quot;HOST&quot;, &quot;127.0.0.0&quot;);\r\n\r\n","title":"How to test code dependent on environment variables using JUnit?","body":"<p>You can try to dependent your code also from properties:</p>\n<pre><code>public static String host() {\n   return firstNonBlank(getenv(&quot;HOST&quot;), getProperty(&quot;host&quot;), &quot;localhost&quot;);\n}\n</code></pre>\n<p>So, in tests you can easily just add system property And your production code will precede using environment variables:</p>\n<pre><code>System.setProperty(&quot;HOST&quot;, &quot;127.0.0.0&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669901933,"creation_date":1669901933,"answer_id":74642769,"question_id":8168884,"body_markdown":"Neat and clean approach to use mocking of Environment variables in Unit Testing is with the help of `@SystemStub` which comes as part of below dependency\r\n\r\n    testImplementation &#39;uk.org.webcompere:system-stubs-jupiter:2.0.1&#39;\r\n\r\nBelow changes are on **Junit 5** setup\r\nAdd below on your class\r\n\r\n    @ExtendWith(SystemStubsExtension.class)\r\n\r\nand now use \r\n  \r\n    @SystemStub\r\n      private EnvironmentVariables environmentVariables;\r\n\r\nnow you can mock the behavior of the environment variables by setting up the required key/value in your test.\r\n\r\nFor e.g. `environmentVariables.set(&quot;MY_ENV_VARIABLE&quot;, &quot;MY_REQUIRED_VALUE&quot;);`\r\nand this works perfectly fine, if your code is using environment variables\r\n\r\n     System.getenv().getOrDefault(&quot;MY_ENV_VARIABLE&quot;, &quot;false&quot;);\r\n\r\nPlease note, it won&#39;t mock `System.getProperties()` it works only for `System.getenv()`\r\n\r\n","title":"How to test code dependent on environment variables using JUnit?","body":"<p>Neat and clean approach to use mocking of Environment variables in Unit Testing is with the help of <code>@SystemStub</code> which comes as part of below dependency</p>\n<pre><code>testImplementation 'uk.org.webcompere:system-stubs-jupiter:2.0.1'\n</code></pre>\n<p>Below changes are on <strong>Junit 5</strong> setup\nAdd below on your class</p>\n<pre><code>@ExtendWith(SystemStubsExtension.class)\n</code></pre>\n<p>and now use</p>\n<pre><code>@SystemStub\n  private EnvironmentVariables environmentVariables;\n</code></pre>\n<p>now you can mock the behavior of the environment variables by setting up the required key/value in your test.</p>\n<p>For e.g. <code>environmentVariables.set(&quot;MY_ENV_VARIABLE&quot;, &quot;MY_REQUIRED_VALUE&quot;);</code>\nand this works perfectly fine, if your code is using environment variables</p>\n<pre><code> System.getenv().getOrDefault(&quot;MY_ENV_VARIABLE&quot;, &quot;false&quot;);\n</code></pre>\n<p>Please note, it won't mock <code>System.getProperties()</code> it works only for <code>System.getenv()</code></p>\n"},{"tags":[],"owner":{"account_id":12226886,"reputation":1130,"user_id":8924185,"display_name":"Ahmad Zahabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695120716,"creation_date":1695120716,"answer_id":77133907,"question_id":8168884,"body_markdown":"Consider using the spring class level annotation `@TestPropertySource`\r\n\r\n&gt; @TestPropertySource is a class-level annotation that you can use to configure the locations of properties files and inlined properties to be added to the set of PropertySources in the Environment for an ApplicationContext loaded for an integration test.\r\n\r\nThe following example demonstrates how to declare inlined properties:\r\n\r\n    @ContextConfiguration\r\n    @TestPropertySource(properties = { &quot;timezone = GMT&quot;, &quot;port: 4242&quot; }) \r\n    class MyIntegrationTests {\r\n    \t// class body...\r\n    }\r\n\r\n[here][1] the full reference.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/testing/annotations/integration-spring/annotation-testpropertysource.html","title":"How to test code dependent on environment variables using JUnit?","body":"<p>Consider using the spring class level annotation <code>@TestPropertySource</code></p>\n<blockquote>\n<p>@TestPropertySource is a class-level annotation that you can use to configure the locations of properties files and inlined properties to be added to the set of PropertySources in the Environment for an ApplicationContext loaded for an integration test.</p>\n</blockquote>\n<p>The following example demonstrates how to declare inlined properties:</p>\n<pre><code>@ContextConfiguration\n@TestPropertySource(properties = { &quot;timezone = GMT&quot;, &quot;port: 4242&quot; }) \nclass MyIntegrationTests {\n    // class body...\n}\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-framework/reference/testing/annotations/integration-spring/annotation-testpropertysource.html\" rel=\"nofollow noreferrer\">here</a> the full reference.</p>\n"}],"owner":{"account_id":216122,"reputation":50740,"user_id":471164,"accept_rate":89,"display_name":"vitaut"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310712,"favorite_count":0,"down_vote_count":0,"up_vote_count":215,"accepted_answer_id":35393623,"answer_count":21,"score":215,"last_activity_date":1695120716,"creation_date":1321540579,"question_id":8168884,"body_markdown":"I have a piece of Java code which uses an environment variable and the behaviour of the code depends on the value of this variable. I would like to test this code with different values of the environment variable. How can I do this in JUnit?\r\n\r\nI&#39;ve seen [some ways to set environment variables in Java](https://stackoverflow.com/questions/318239/how-do-i-set-environment-variables-from-java) in general, but I&#39;m more interested in unit testing aspect of it, especially considering that tests shouldn&#39;t interfere with each other.","title":"How to test code dependent on environment variables using JUnit?","body":"<p>I have a piece of Java code which uses an environment variable and the behaviour of the code depends on the value of this variable. I would like to test this code with different values of the environment variable. How can I do this in JUnit?</p>\n\n<p>I've seen <a href=\"https://stackoverflow.com/questions/318239/how-do-i-set-environment-variables-from-java\">some ways to set environment variables in Java</a> in general, but I'm more interested in unit testing aspect of it, especially considering that tests shouldn't interfere with each other.</p>\n"},{"tags":["java","servlets","jakarta-ee","httpsession"],"answers":[{"tags":[],"owner":{"account_id":40277,"reputation":5675,"user_id":116712,"accept_rate":40,"display_name":"pablochan"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1481533119,"creation_date":1470428094,"answer_id":38797165,"question_id":38797066,"body_markdown":"`request.getRequestedSessionId()` will return the session id specified by the client (presumably in a cookie). `request.getSession().getId()` will return the server&#39;s session id (if a session does not exist, `request.getSession()` will create it).\r\n\r\nThe important difference is that you can&#39;t rely on the value returned by `request.getRequestedSessionId()`, since it may not be valid. From the documentation:\r\n\r\n&gt; Returns the session ID specified by the client. This may not be the same as the ID of the current valid session for this request. If the client did not specify a session ID, this method returns null.","title":"request.getSession().getId() vs request.getRequestedSessionId()","body":"<p><code>request.getRequestedSessionId()</code> will return the session id specified by the client (presumably in a cookie). <code>request.getSession().getId()</code> will return the server's session id (if a session does not exist, <code>request.getSession()</code> will create it).</p>\n\n<p>The important difference is that you can't rely on the value returned by <code>request.getRequestedSessionId()</code>, since it may not be valid. From the documentation:</p>\n\n<blockquote>\n  <p>Returns the session ID specified by the client. This may not be the same as the ID of the current valid session for this request. If the client did not specify a session ID, this method returns null.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1695119480,"creation_date":1539349373,"answer_id":52780107,"question_id":38797066,"body_markdown":"`HttpRequest.getRequestedSessionId()` is the session id provided by the caller, usually with the JESSIONID cookie whereas  `HttpRequest.getSession().getId()` is the id effectively used by the server. \r\n\r\nFor an ongoing session, the JESSIONID cookie, or the value of `HttpRequest.getRequestedSessionId()` allows the server to find the ongoing session by id. \r\n\r\nFor new sessions, you might be very tempted to set the servers session id by supplying a value via the JESSIONID cookie, i.e. the value of `HttpRequest.getRequestedSessionId()`. This would make it easy to correlate a chain of calls to multiple servers initiated by an initial call from the customer&#39;s browser. However, the semantics of HttpRequest.getRequestedSessionId() does not allow such chaining.\r\nIndeed, the JESSIONID cookie has an effect only for a session already existing in the server and which was previously sent to the client. If the JESSIONID cookie refers to a nonexistent session id, the server creates a new session **ignoring** the value of JESSIONID cookie.\r\n\r\nYou can convince yourself of the above, by reading the source code of the `doGetSession(boolean)` in the `org.apache.catalina.connector.Request` class.","title":"request.getSession().getId() vs request.getRequestedSessionId()","body":"<p><code>HttpRequest.getRequestedSessionId()</code> is the session id provided by the caller, usually with the JESSIONID cookie whereas  <code>HttpRequest.getSession().getId()</code> is the id effectively used by the server.</p>\n<p>For an ongoing session, the JESSIONID cookie, or the value of <code>HttpRequest.getRequestedSessionId()</code> allows the server to find the ongoing session by id.</p>\n<p>For new sessions, you might be very tempted to set the servers session id by supplying a value via the JESSIONID cookie, i.e. the value of <code>HttpRequest.getRequestedSessionId()</code>. This would make it easy to correlate a chain of calls to multiple servers initiated by an initial call from the customer's browser. However, the semantics of HttpRequest.getRequestedSessionId() does not allow such chaining.\nIndeed, the JESSIONID cookie has an effect only for a session already existing in the server and which was previously sent to the client. If the JESSIONID cookie refers to a nonexistent session id, the server creates a new session <strong>ignoring</strong> the value of JESSIONID cookie.</p>\n<p>You can convince yourself of the above, by reading the source code of the <code>doGetSession(boolean)</code> in the <code>org.apache.catalina.connector.Request</code> class.</p>\n"}],"owner":{"account_id":5455670,"reputation":1661,"user_id":4339178,"accept_rate":64,"display_name":"srh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14862,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":38797165,"answer_count":2,"score":6,"last_activity_date":1695119480,"creation_date":1470427636,"question_id":38797066,"body_markdown":"What is the difference between `request.getSession().getId()` and `request.getRequestedSessionId()`? Do both of them return the same thing i.e. Session Id?\r\n\r\nThanks\r\n\r\n","title":"request.getSession().getId() vs request.getRequestedSessionId()","body":"<p>What is the difference between <code>request.getSession().getId()</code> and <code>request.getRequestedSessionId()</code>? Do both of them return the same thing i.e. Session Id?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","mongodb","spring-boot","enums"],"answers":[{"tags":[],"owner":{"account_id":15347224,"reputation":1,"user_id":11072237,"display_name":"Shahbaz Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695117851,"creation_date":1695117851,"answer_id":77133595,"question_id":77133421,"body_markdown":" - To save an enum as an integer in MongoDB using Spring Boot, you can  \r\n   use a custom converter\r\n\r\n   \r\nTo create a custom converter for your enum, you need to create a\r\n   class that implements the Converter interface and takes your enum\r\n   class as the generic type parameter. The following code shows an\r\n   example of a custom converter for the Status enum:\r\n\r\n\r\n\r\n    public class StatusConverter implements Converter&lt;Status, Integer&gt; {\r\n\r\n    @Override\r\n    public Integer convert(Status source) {\r\n        return source.getValue();\r\n    }\r\n\r\n    @Override\r\n    public Status unwrap(Integer source) {\r\n        return Arrays.stream(Status.values())\r\n                .filter(status -&gt; status.getValue() == source)\r\n                .findFirst()\r\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid status value: &quot; + source));\r\n    }\r\n    }\r\nOnce you have created your custom converter, you need to register it with Spring Data MongoDB. You can do this by adding the following configuration to your application&#39;s spring.data.MongoDB properties:\r\n\r\n   spring.data.mongodb.converters.enabled=true\r\n   spring.data.mongodb.converters.custom-converters=com.example.StatusConverter\r\n","title":"MongoDb - Spring Boot - Enum Type","body":"<ul>\n<li>To save an enum as an integer in MongoDB using Spring Boot, you can<br />\nuse a custom converter</li>\n</ul>\n<p>To create a custom converter for your enum, you need to create a\nclass that implements the Converter interface and takes your enum\nclass as the generic type parameter. The following code shows an\nexample of a custom converter for the Status enum:</p>\n<pre><code>public class StatusConverter implements Converter&lt;Status, Integer&gt; {\n\n@Override\npublic Integer convert(Status source) {\n    return source.getValue();\n}\n\n@Override\npublic Status unwrap(Integer source) {\n    return Arrays.stream(Status.values())\n            .filter(status -&gt; status.getValue() == source)\n            .findFirst()\n            .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid status value: &quot; + source));\n}\n}\n</code></pre>\n<p>Once you have created your custom converter, you need to register it with Spring Data MongoDB. You can do this by adding the following configuration to your application's spring.data.MongoDB properties:</p>\n<p>spring.data.mongodb.converters.enabled=true\nspring.data.mongodb.converters.custom-converters=com.example.StatusConverter</p>\n"},{"tags":[],"owner":{"account_id":18157142,"reputation":46,"user_id":13209014,"display_name":"gokdeemir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695119297,"creation_date":1695119297,"answer_id":77133755,"question_id":77133421,"body_markdown":"I am not sure, but you can try this \r\n\r\n        @Enumerated(EnumType.ORDINAL)\r\n        private Status status;\r\n\r\n","title":"MongoDb - Spring Boot - Enum Type","body":"<p>I am not sure, but you can try this</p>\n<pre><code>    @Enumerated(EnumType.ORDINAL)\n    private Status status;\n</code></pre>\n"}],"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695119297,"creation_date":1695116584,"question_id":77133421,"body_markdown":"I have a project with Spring Boot and MongoDB. I have an enum class that return Integer. But, as far as i know, enum types saved as String into mongdb. But, i want to saved as Integer. How can i handle this problem.?\r\n\r\nBelow code my Employee class.\r\n```\r\n@Data\r\n@Document\r\npublic class Employee {\r\n\r\n    @MongoId(FieldType.OBJECT_ID)\r\n    private String id;\r\n    private String name;\r\n    private String surname;\r\n    private String department;\r\n    private Address address;\r\n    private Company company;\r\n    private Status status;\r\n\r\n}\r\n```\r\n\r\nBelow code my enum class.\r\n```\r\npublic enum Status {\r\n\r\n    JUNIOR(0),\r\n    MID(1),\r\n    SENIOR(2);\r\n\r\n    private final int value;\r\n\r\n    Status(int value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n\r\n\r\n}\r\n```","title":"MongoDb - Spring Boot - Enum Type","body":"<p>I have a project with Spring Boot and MongoDB. I have an enum class that return Integer. But, as far as i know, enum types saved as String into mongdb. But, i want to saved as Integer. How can i handle this problem.?</p>\n<p>Below code my Employee class.</p>\n<pre><code>@Data\n@Document\npublic class Employee {\n\n    @MongoId(FieldType.OBJECT_ID)\n    private String id;\n    private String name;\n    private String surname;\n    private String department;\n    private Address address;\n    private Company company;\n    private Status status;\n\n}\n</code></pre>\n<p>Below code my enum class.</p>\n<pre><code>public enum Status {\n\n    JUNIOR(0),\n    MID(1),\n    SENIOR(2);\n\n    private final int value;\n\n    Status(int value) {\n        this.value = value;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","macos","javafx","javafx-11"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1586131947,"post_id":61050869,"comment_id":108007212,"body_markdown":"Note that the latest release of JavaFX is version _14_, which was released within the last month. JavaFX 15 is currently early-access (and will be for the next 5-6 months).","body":"Note that the latest release of JavaFX is version <i>14</i>, which was released within the last month. JavaFX 15 is currently early-access (and will be for the next 5-6 months)."}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601150120,"creation_date":1586131831,"answer_id":61051144,"question_id":61050869,"body_markdown":"You need to take care with environment variables mixing with GUI applications on macOS.  Setting PATH_TO_FX in the terminal likely didn&#39;t set the value for the IntelliJ IDE.  You will note that the instructions at https://openjfx.io/openjfx-docs/#IDE-Intellij explicitly mention setting that value within the IDE, not from the Terminal.\r\n\r\nI strongly suggest using Gradle or Maven with the code samples given at https://OpenJFX.io/ as a starting point.  Confirm that the builds work from the command line before debugging what the IDE might be doing differently.\r\n\r\nYou can also install a JDK that includes the JavaFX modules.  A few OpenJDK providers have such builds. For example:\r\n\r\n - BellSoft produces a &quot;Full JDK&quot; Liberica JDK install,\r\n   https://bell-sw.com/pages/downloads/\r\n - Azul produces a &quot;JDK FX&quot; java package for\r\n   Zulu builds of OpenJDK, https://www.azul.com/downloads/zulu-community/\r\n\r\n","title":"Installing JavaFX 15 on Mac","body":"<p>You need to take care with environment variables mixing with GUI applications on macOS.  Setting PATH_TO_FX in the terminal likely didn't set the value for the IntelliJ IDE.  You will note that the instructions at <a href=\"https://openjfx.io/openjfx-docs/#IDE-Intellij\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/#IDE-Intellij</a> explicitly mention setting that value within the IDE, not from the Terminal.</p>\n<p>I strongly suggest using Gradle or Maven with the code samples given at <a href=\"https://OpenJFX.io/\" rel=\"nofollow noreferrer\">https://OpenJFX.io/</a> as a starting point.  Confirm that the builds work from the command line before debugging what the IDE might be doing differently.</p>\n<p>You can also install a JDK that includes the JavaFX modules.  A few OpenJDK providers have such builds. For example:</p>\n<ul>\n<li>BellSoft produces a &quot;Full JDK&quot; Liberica JDK install,\n<a href=\"https://bell-sw.com/pages/downloads/\" rel=\"nofollow noreferrer\">https://bell-sw.com/pages/downloads/</a></li>\n<li>Azul produces a &quot;JDK FX&quot; java package for\nZulu builds of OpenJDK, <a href=\"https://www.azul.com/downloads/zulu-community/\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/zulu-community/</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":193337,"reputation":4264,"user_id":435004,"display_name":"DomQ"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1668769030,"creation_date":1602505710,"answer_id":64317928,"question_id":61050869,"body_markdown":"My experience is that [homebrew-liberica](https://github.com/bell-sw/homebrew-liberica) just works:\r\n\r\n```\r\nbrew tap bell-sw/liberica\r\nbrew install --cask liberica-jdk15-full\r\n```\r\n","title":"Installing JavaFX 15 on Mac","body":"<p>My experience is that <a href=\"https://github.com/bell-sw/homebrew-liberica\" rel=\"nofollow noreferrer\">homebrew-liberica</a> just works:</p>\n<pre><code>brew tap bell-sw/liberica\nbrew install --cask liberica-jdk15-full\n</code></pre>\n"},{"tags":[],"owner":{"account_id":496250,"reputation":543,"user_id":1757756,"display_name":"Mavaddat Javid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694406414,"creation_date":1603587815,"answer_id":64519429,"question_id":61050869,"body_markdown":"You can either use the terminal or set up a launch configuration in VS Code.\r\n\r\nTo use the terminal, you can either install [Liberica][4] or download [the latest JavaFX][1] from Gluon (or the *Early-Access build*). To compile your `*.java` file, make sure to specify and set the `--module-path` and the `-cp` as command arguments for `javac` on the CLI.\r\n\r\nFor [example][2], if you downloaded the JavaFX SDK to your `~/Downloads` directory (i.e., you downloaded JavaFX 20 and extracted it in your ordinary **Downloads** folder), then you will run something like\r\n\r\n```bash\r\njavac --module-path &quot;$(eval echo ~$USER)/Downloads/javafx-sdk-20/lib/*&quot; -cp &quot;$(eval echo ~$USER)/Downloads/javafx-sdk-20/lib/*&quot; -d . JavaFXThing.java\r\n```\r\n\r\nThen, in order to run your program, you&#39;ll use:\r\n\r\n```bash\r\njava --module-path &quot;$(eval echo ~$USER)/Downloads/javafx-sdk-20/lib&quot;  --add-modules javafx.controls,javafx.fxml JavaFXThing \r\n```\r\n\r\nCheck what modules you need to specify for the `--add-modules` parameter here: [API documentation for JavaFX 20][3]\r\n\r\nHere is a sample `launch.json` to enable debug launching in VS Code:\r\n\r\n```json\r\n{\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch JavaFX Class&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;/Users/kevinmou/Downloads/javafx-sdk-20/lib\\&quot;  --add-modules javafx.controls,javafx.fxml&quot;,\r\n            &quot;mainClass&quot;: &quot;${file}&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nFor JDK, I recommend using [Liberica][4] with a package manager such as [SDKMAN!](https://sdkman.io/), since it is easy to keep up-to-date and Liberica takes care of the paths and environment variables (including JavaFX). \r\n\r\n## Package Managers for Liberica\r\n\r\n### SDKMAN! ![SDKMAN! logo](https://sdkman.io/assets//img/favicon.ico)\r\nTo install Liberica JDK using&amp;nbsp;[SDKMAN!](https://sdkman.io/), run:\r\n\r\n```language-bash\r\nsdk install java 17-librca\r\n```\r\n\r\n### Homebrew ![Homebrew logo](https://brew.sh/assets/img/favicon.ico)\r\n\r\nTo install Liberica JDK using&amp;nbsp;[Homebrew](https://brew.sh/), run:\r\n\r\n```language-bash\r\nbrew tap bell-sw/liberica\r\nbrew install --cask liberica-jdk17\r\n```\r\n\r\nThen, to update\r\n\r\n```language-bash\r\nbrew update &amp;&amp; brew upgrade\r\n```\r\n\r\n\r\nPlease refer to&amp;nbsp;[bell-sw/homebrew-liberica](https://github.com/bell-sw/homebrew-liberica)&amp;nbsp;for\r\nlist of available packages.\r\n\r\n\r\n  [1]: https://gluonhq.com/products/javafx/\r\n  [2]: https://github.com/mavaddat-javid-education/java-debugging-kevinkaiyenmou/blob/master/Chapter15/JavaFXThing.java\r\n  [3]: https://openjfx.io/javadoc/20/\r\n  [4]: https://github.com/bell-sw/homebrew-liberica","title":"Installing JavaFX 15 on Mac","body":"<p>You can either use the terminal or set up a launch configuration in VS Code.</p>\n<p>To use the terminal, you can either install <a href=\"https://github.com/bell-sw/homebrew-liberica\" rel=\"nofollow noreferrer\">Liberica</a> or download <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">the latest JavaFX</a> from Gluon (or the <em>Early-Access build</em>). To compile your <code>*.java</code> file, make sure to specify and set the <code>--module-path</code> and the <code>-cp</code> as command arguments for <code>javac</code> on the CLI.</p>\n<p>For <a href=\"https://github.com/mavaddat-javid-education/java-debugging-kevinkaiyenmou/blob/master/Chapter15/JavaFXThing.java\" rel=\"nofollow noreferrer\">example</a>, if you downloaded the JavaFX SDK to your <code>~/Downloads</code> directory (i.e., you downloaded JavaFX 20 and extracted it in your ordinary <strong>Downloads</strong> folder), then you will run something like</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac --module-path &quot;$(eval echo ~$USER)/Downloads/javafx-sdk-20/lib/*&quot; -cp &quot;$(eval echo ~$USER)/Downloads/javafx-sdk-20/lib/*&quot; -d . JavaFXThing.java\n</code></pre>\n<p>Then, in order to run your program, you'll use:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java --module-path &quot;$(eval echo ~$USER)/Downloads/javafx-sdk-20/lib&quot;  --add-modules javafx.controls,javafx.fxml JavaFXThing \n</code></pre>\n<p>Check what modules you need to specify for the <code>--add-modules</code> parameter here: <a href=\"https://openjfx.io/javadoc/20/\" rel=\"nofollow noreferrer\">API documentation for JavaFX 20</a></p>\n<p>Here is a sample <code>launch.json</code> to enable debug launching in VS Code:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch JavaFX Class&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;/Users/kevinmou/Downloads/javafx-sdk-20/lib\\&quot;  --add-modules javafx.controls,javafx.fxml&quot;,\n            &quot;mainClass&quot;: &quot;${file}&quot;\n        }\n    ]\n}\n</code></pre>\n<p>For JDK, I recommend using <a href=\"https://github.com/bell-sw/homebrew-liberica\" rel=\"nofollow noreferrer\">Liberica</a> with a package manager such as <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMAN!</a>, since it is easy to keep up-to-date and Liberica takes care of the paths and environment variables (including JavaFX).</p>\n<h2>Package Managers for Liberica</h2>\n<h3>SDKMAN! <img src=\"https://sdkman.io/assets//img/favicon.ico\" alt=\"SDKMAN! logo\" /></h3>\n<p>To install Liberica JDK using <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMAN!</a>, run:</p>\n<pre><code>sdk install java 17-librca\n</code></pre>\n<h3>Homebrew <img src=\"https://brew.sh/assets/img/favicon.ico\" alt=\"Homebrew logo\" /></h3>\n<p>To install Liberica JDK using <a href=\"https://brew.sh/\" rel=\"nofollow noreferrer\">Homebrew</a>, run:</p>\n<pre><code>brew tap bell-sw/liberica\nbrew install --cask liberica-jdk17\n</code></pre>\n<p>Then, to update</p>\n<pre><code>brew update &amp;&amp; brew upgrade\n</code></pre>\n<p>Please refer to <a href=\"https://github.com/bell-sw/homebrew-liberica\" rel=\"nofollow noreferrer\">bell-sw/homebrew-liberica</a> for\nlist of available packages.</p>\n"},{"tags":[],"owner":{"account_id":10312345,"reputation":151,"user_id":7607735,"display_name":"Kasia"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1695119097,"creation_date":1611657901,"answer_id":65899853,"question_id":61050869,"body_markdown":"&lt;strike&gt;the second command that DomQ posted was incorrect:&lt;/strike&gt;\r\n\r\n\r\n`brew tap bell-sw/liberica`\r\n\r\n`brew install --cask liberica-jdk15-full`","title":"Installing JavaFX 15 on Mac","body":"<p><strike>the second command that DomQ posted was incorrect:</strike></p>\n<p><code>brew tap bell-sw/liberica</code></p>\n<p><code>brew install --cask liberica-jdk15-full</code></p>\n"}],"owner":{"account_id":18185549,"reputation":51,"user_id":13232366,"display_name":"Fernando Edelstein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20210,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":4,"score":3,"last_activity_date":1695119097,"creation_date":1586129629,"question_id":61050869,"body_markdown":"I&#39;m trying to install JavaFX 15 on my Mac but I&#39;m stuck.\r\n\r\nRunning MacOS Mojave 10.14.6\r\n\r\nI&#39;ve already installed Java 13 JDK and set the Home folder, downloaded the JavaFX SDK from https://gluonhq.com/products/javafx/ , I&#39;ve already ran the code &quot;export PATH_TO_FX=/Users/.../javafx-sdk-15/lib&quot; in Mac terminal.\r\n\r\nI&#39;m using IntelliJ for programming and I tried to set the path at Project Structure - Libraries\r\n\r\nbut apps won&#39;t compile.\r\n\r\nCould somebody help me? Thanks a lot in advance!","title":"Installing JavaFX 15 on Mac","body":"<p>I'm trying to install JavaFX 15 on my Mac but I'm stuck.</p>\n\n<p>Running MacOS Mojave 10.14.6</p>\n\n<p>I've already installed Java 13 JDK and set the Home folder, downloaded the JavaFX SDK from <a href=\"https://gluonhq.com/products/javafx/\" rel=\"noreferrer\">https://gluonhq.com/products/javafx/</a> , I've already ran the code \"export PATH_TO_FX=/Users/.../javafx-sdk-15/lib\" in Mac terminal.</p>\n\n<p>I'm using IntelliJ for programming and I tried to set the path at Project Structure - Libraries</p>\n\n<p>but apps won't compile.</p>\n\n<p>Could somebody help me? Thanks a lot in advance!</p>\n"},{"tags":["java","spring","jdbc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695117234,"post_id":77133319,"comment_id":135978161,"body_markdown":"Remove the version you have for `spring-boot-starter-*` dependencies, those are managed by the `parent`. Ditch `javax.validation` from your dependencies. Regarding the error you probably decided to add some `spring.sql` or other script/init related properties in your `application.properties`.","body":"Remove the version you have for <code>spring-boot-starter-*</code> dependencies, those are managed by the <code>parent</code>. Ditch <code>javax.validation</code> from your dependencies. Regarding the error you probably decided to add some <code>spring.sql</code> or other script/init related properties in your <code>application.properties</code>."},{"owner":{"account_id":27832628,"reputation":3,"user_id":22510030,"display_name":"meshkel"},"score":0,"creation_date":1695120036,"post_id":77133319,"comment_id":135978700,"body_markdown":"I&#39;m a newbie, so can you tell me what&#39;s wrong with my application.yml (I use it instead of .properties) please. Here it is: &#39;spring:\n  datasource:\n    generate-unique-name: false\n    name: tacocloud&#39;","body":"I&#39;m a newbie, so can you tell me what&#39;s wrong with my application.yml (I use it instead of .properties) please. Here it is: &#39;spring:   datasource:     generate-unique-name: false     name: tacocloud&#39;"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695124067,"post_id":77133319,"comment_id":135979379,"body_markdown":"How should we know what is wrong as there is nothing regarding that file in there. As mentioned you probably have an empty script or script location in there.","body":"How should we know what is wrong as there is nothing regarding that file in there. As mentioned you probably have an empty script or script location in there."}],"answers":[{"tags":[],"owner":{"account_id":29479773,"reputation":36,"user_id":22590790,"display_name":"Chunlin Wu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695117756,"creation_date":1695117756,"answer_id":77133578,"question_id":77133319,"body_markdown":"According to the error message, it seems that the sql initialize script in `schema.sql` is empty or missing. So if you&#39;re sure to run a initialization script, make sure specify its location and fill it properly. Or if you&#39;re not willing to run a initialization, you can turn off it in your config file.\r\n","title":"Error starting ApplicationContext. Problem with creating bean","body":"<p>According to the error message, it seems that the sql initialize script in <code>schema.sql</code> is empty or missing. So if you're sure to run a initialization script, make sure specify its location and fill it properly. Or if you're not willing to run a initialization, you can turn off it in your config file.</p>\n"}],"owner":{"account_id":27832628,"reputation":3,"user_id":22510030,"display_name":"meshkel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695119062,"creation_date":1695115719,"question_id":77133319,"body_markdown":"I have the same problem. While learning Java Spring from the book, when I got to the point where I connected the database to my application, I got errors:\r\n\r\n```none\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-09-18T19:56:21.059+03:00 ERROR 9740 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;designTacoController&#39; defined in file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\tacos\\web\\DesignTacoController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;ingredientRepository&#39;: Unsatisfied dependency expressed through method &#39;setDialect&#39; parameter 0: Error creating bean with name &#39;jdbcDialect&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method &#39;jdbcDialect&#39; parameter 0: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat tacos.TacoCloudApplication.main(TacoCloudApplication.java:14) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.2.jar:3.1.2]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ingredientRepository&#39;: Unsatisfied dependency expressed through method &#39;setDialect&#39; parameter 0: Error creating bean with name &#39;jdbcDialect&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method &#39;jdbcDialect&#39; parameter 0: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:825) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:778) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 22 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jdbcDialect&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method &#39;jdbcDialect&#39; parameter 0: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t 37 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\r\n  50 common frames omitted\r\nCaused by: org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\r\n\tat org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:305) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applySchemaScripts(AbstractScriptDatabaseInitializer.java:98) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t 63 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: &#39;script&#39; must not be null or empty\r\n\tat org.springframework.util.Assert.hasText(Assert.java:294) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.datasource.init.ScriptUtils.splitSqlScript(ScriptUtils.java:636) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:252) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\t73 common frames omitted\r\n```\r\n\r\n    \r\n\r\nbefore that there was a problem with Sql, but she seemed to be able to connect the database via mySql and DBNavigator, but again everything did not go according to plan. here is my pom:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n          http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;tacos&lt;/groupId&gt;\r\n    &lt;artifactId&gt;taco-cloud&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;taco-cloud&lt;/name&gt;\r\n    &lt;description&gt;Taco Cloud Example&lt;/description&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;\r\n            UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;\r\n            UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n           &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.220&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;version&gt;8.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Error starting ApplicationContext. Problem with creating bean","body":"<p>I have the same problem. While learning Java Spring from the book, when I got to the point where I connected the database to my application, I got errors:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-09-18T19:56:21.059+03:00 ERROR 9740 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'designTacoController' defined in file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\tacos\\web\\DesignTacoController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ingredientRepository': Unsatisfied dependency expressed through method 'setDialect' parameter 0: Error creating bean with name 'jdbcDialect' defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method 'jdbcDialect' parameter 0: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at tacos.TacoCloudApplication.main(TacoCloudApplication.java:14) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.2.jar:3.1.2]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ingredientRepository': Unsatisfied dependency expressed through method 'setDialect' parameter 0: Error creating bean with name 'jdbcDialect' defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method 'jdbcDialect' parameter 0: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:825) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:778) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 22 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jdbcDialect' defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method 'jdbcDialect' parameter 0: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817) ~[spring-beans-6.0.11.jar:6.0.11]\n     37 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\n  50 common frames omitted\nCaused by: org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\n    at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:305) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applySchemaScripts(AbstractScriptDatabaseInitializer.java:98) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\n     63 common frames omitted\nCaused by: java.lang.IllegalArgumentException: 'script' must not be null or empty\n    at org.springframework.util.Assert.hasText(Assert.java:294) ~[spring-core-6.0.11.jar:6.0.11]\n    at org.springframework.jdbc.datasource.init.ScriptUtils.splitSqlScript(ScriptUtils.java:636) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:252) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    73 common frames omitted\n</code></pre>\n<p>before that there was a problem with Sql, but she seemed to be able to connect the database via mySql and DBNavigator, but again everything did not go according to plan. here is my pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n          http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;tacos&lt;/groupId&gt;\n    &lt;artifactId&gt;taco-cloud&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;taco-cloud&lt;/name&gt;\n    &lt;description&gt;Taco Cloud Example&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;\n            UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;\n            UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n           &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.2.220&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695045655,"post_id":77127806,"comment_id":135967898,"body_markdown":"afaik the default for enums and Jackson is to use the String representation and not the ordinal value. Hence there must be something in your configuration that has changed that.","body":"afaik the default for enums and Jackson is to use the String representation and not the ordinal value. Hence there must be something in your configuration that has changed that."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1695045933,"post_id":77127806,"comment_id":135967957,"body_markdown":"String Enum name is default yes. However I am using a custom code to represent the JSON value for my Enum. And it only works with Jackson 2.14+.\nI have not used Enum directly in my DTO classes before, just the Integer value. Now when I updated my DTOs to use the Enum I got this problem.\nThis can be changed by defining which variable should be used for serialization with @JsonValue annortation.","body":"String Enum name is default yes. However I am using a custom code to represent the JSON value for my Enum. And it only works with Jackson 2.14+. I have not used Enum directly in my DTO classes before, just the Integer value. Now when I updated my DTOs to use the Enum I got this problem. This can be changed by defining which variable should be used for serialization with @JsonValue annortation."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695047671,"post_id":77127806,"comment_id":135968373,"body_markdown":"Which is the problem you described that it didn&#39;t use the name of the enum but the ordinal value? So which is is? Or else describe your problem in more detail (with examples what you initially had and what didn&#39;t work).I also don&#39;t get your statement about that there is no `size` and `totalElements` as the JSON clearly states it does. Is there a special reason not the use the default `PageImpl`? As it seems to just map the result as well. If the only problem was an enum mapping I don&#39;t really get it?","body":"Which is the problem you described that it didn&#39;t use the name of the enum but the ordinal value? So which is is? Or else describe your problem in more detail (with examples what you initially had and what didn&#39;t work).I also don&#39;t get your statement about that there is no <code>size</code> and <code>totalElements</code> as the JSON clearly states it does. Is there a special reason not the use the default <code>PageImpl</code>? As it seems to just map the result as well. If the only problem was an enum mapping I don&#39;t really get it?"},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1695066910,"post_id":77127806,"comment_id":135971973,"body_markdown":"1. I upgraded to Jackson 2.15 because of a problem with using Enum&#39;s in my DTOs (which I previously used Integer for the Enum).\n\n2. My Custom PageImpl no longer works as a result of newer Jackson.\n\n3. The Values in my Custom PageImpl was not set. next was always false, size, totalElemets, totalPages, etc. was all zero (0).\n\nThe JSON i get from Postman clearly states that it has size, page, totalElements, totalPages, etc, but even though I am binding those in my Custom PageImp these values are null/zero.","body":"1. I upgraded to Jackson 2.15 because of a problem with using Enum&#39;s in my DTOs (which I previously used Integer for the Enum).  2. My Custom PageImpl no longer works as a result of newer Jackson.  3. The Values in my Custom PageImpl was not set. next was always false, size, totalElemets, totalPages, etc. was all zero (0).  The JSON i get from Postman clearly states that it has size, page, totalElements, totalPages, etc, but even though I am binding those in my Custom PageImp these values are null/zero."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1695067116,"post_id":77127806,"comment_id":135972015,"body_markdown":"I tried to explain the reason why I upgraded to new Jackson, but the enum problem is not the problem I am trying to solve. Perhaps I should remove it from the Question.","body":"I tried to explain the reason why I upgraded to new Jackson, but the enum problem is not the problem I am trying to solve. Perhaps I should remove it from the Question."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695114819,"post_id":77127806,"comment_id":135977648,"body_markdown":"I find your question confusing and the comments don&#39;t really help clarifying things. There is an enum problem, but there isn&#39;t. You upgraded because of enums, but according to you it wasn&#39;t the reason. I&#39;m a bit lost on what is going on. Please provide a reproducable sample that shows the problem you are trying to solve.","body":"I find your question confusing and the comments don&#39;t really help clarifying things. There is an enum problem, but there isn&#39;t. You upgraded because of enums, but according to you it wasn&#39;t the reason. I&#39;m a bit lost on what is going on. Please provide a reproducable sample that shows the problem you are trying to solve."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1695115212,"post_id":77127806,"comment_id":135977735,"body_markdown":"This is not an Enum problem. I have removed all mention on Enums now. This is a problem of upgrading to newer version of Jackson. The question has been updated.","body":"This is not an Enum problem. I have removed all mention on Enums now. This is a problem of upgrading to newer version of Jackson. The question has been updated."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695117012,"post_id":77127806,"comment_id":135978101,"body_markdown":"You said you followd the guide as mentioned in the link, ou didn&#39;t. You decided to add properties and use lombok to add getters/setters for the properties. But you are never setting them. DItch all those attributes and just call the super constructor. As you are using Spring Boot you shouldn&#39;t be messing around with Jackson dependencies yourself (in general). I still don&#39;t get why you upgraded in the first place (as mentioned before), and please provide sample code that we can run, as it keeps getting more vague.","body":"You said you followd the guide as mentioned in the link, ou didn&#39;t. You decided to add properties and use lombok to add getters/setters for the properties. But you are never setting them. DItch all those attributes and just call the super constructor. As you are using Spring Boot you shouldn&#39;t be messing around with Jackson dependencies yourself (in general). I still don&#39;t get why you upgraded in the first place (as mentioned before), and please provide sample code that we can run, as it keeps getting more vague."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1695118048,"post_id":77127806,"comment_id":135978348,"body_markdown":"I tried with changing my CustomDtoPage according to the Example in the link. I provided the excact same constructor with the JsonCreator annotation. Thus also removed the parameters I had, and Lombok. I have updated the Question how I changed my custom PageImpl.\nI am able to get this new custom PageImp working only with the older Jackson that is provided with Spring Boot 2.1.11 I am using, but not any newer version of Jackson.","body":"I tried with changing my CustomDtoPage according to the Example in the link. I provided the excact same constructor with the JsonCreator annotation. Thus also removed the parameters I had, and Lombok. I have updated the Question how I changed my custom PageImpl. I am able to get this new custom PageImp working only with the older Jackson that is provided with Spring Boot 2.1.11 I am using, but not any newer version of Jackson."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695124348,"post_id":77127806,"comment_id":135979439,"body_markdown":"This is still not a reproducable sample, just snippets. Please provide a sample that runs with the old versions and not with the newer version. Is it the endpoint? Is it the binding with the resttemplate that isn&#39;t working? Add the configuration etc.","body":"This is still not a reproducable sample, just snippets. Please provide a sample that runs with the old versions and not with the newer version. Is it the endpoint? Is it the binding with the resttemplate that isn&#39;t working? Add the configuration etc."}],"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695117994,"creation_date":1695044935,"question_id":77127806,"body_markdown":"Upgrading Jackson in a Spring Boot application was not without difficulties and problems.\\\r\nRunning 2.1.11.RELEASE, and Java 8\r\n\r\nI upgraded Jackson from 2.9.10 to 2.15.2.\r\n```\r\n&lt;!-- Jackson --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\r\n    &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n    &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nNow my Client failed to work with my `CustomPage extends PageImpl`.\\\r\nI no longer got any values for `size`, `page`, `total`, `hasNext()` or `next()`.\r\nAll page variables was either zero or false.\r\n\r\nMy Custom PageImpl:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.springframework.data.domain.PageImpl;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Sort;\r\n\r\n@Getter\r\n@Setter\r\n@JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;pageable&quot;, &quot;sort&quot;})\r\npublic class CustomDtoPage&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n\r\n    private int number;\r\n    private int size;\r\n    private int totalPages;\r\n    private int numberOfElements;\r\n    private long totalElements;\r\n    private boolean previousPage;\r\n    private boolean first;\r\n    private boolean nextPage;\r\n    private boolean last;\r\n    private Sort sort;\r\n    private CustomDtoPageable pageable;\r\n\r\n    public CustomDtoPage(List&lt;T&gt; content, Pageable pageable, long total) {\r\n        super(content, pageable, total);\r\n    }\r\n\r\n    public CustomDtoPage(List&lt;T&gt; content) {\r\n        super(content);\r\n    }\r\n\r\n    public CustomDtoPage() {\r\n        super(new ArrayList&lt;&gt;());\r\n    }\r\n\r\n    public PageImpl&lt;T&gt; pageImpl() {\r\n        return new PageImpl&lt;&gt;(getContent(), PageRequest.of(getNumber(), getSize(), getSort()), getTotalElements());\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class CustomDtoPageable extends PageRequest {\r\n\r\n    public CustomDtoPageable() {\r\n        super(1, 1);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nI tried updating it similar to the CustomPageImpl from the following guide, but same problem with it.\\\r\nhttps://www.baeldung.com/resttemplate-page-entity-response\r\n\r\nMy new Custom PageImpl according to the example in the article:\r\n```\r\npublic class CustomDtoPage&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n\r\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\r\n    public CustomDtoPage(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content,\r\n                   @JsonProperty(&quot;number&quot;) int number,\r\n                   @JsonProperty(&quot;size&quot;) int size,\r\n                   @JsonProperty(&quot;totalElements&quot;) Long totalElements,\r\n                   @JsonProperty(&quot;pageable&quot;) JsonNode pageable,\r\n                   @JsonProperty(&quot;last&quot;) boolean last,\r\n                   @JsonProperty(&quot;totalPages&quot;) int totalPages,\r\n                   @JsonProperty(&quot;sort&quot;) JsonNode sort,\r\n                   @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\r\n        super(content, PageRequest.of(number, size), totalElements);\r\n    }\r\n\r\n    public CustomDtoPage(List&lt;T&gt; content, Pageable pageable, long total) {\r\n        super(content, pageable, total);\r\n    }\r\n\r\n    public CustomDtoPage(List&lt;T&gt; content) {\r\n        super(content);\r\n    }\r\n\r\n    public CustomDtoPage() {\r\n        super(new ArrayList&lt;&gt;());\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis will fail because there are no value for `size` and `totalElements`.\\\r\n&gt; Caused by: java.lang.IllegalArgumentException: Page size must not be less than one!\r\n\r\nThe page and size was available in the pageable JsonNode, so I change the constructor to this\\\r\n`super(content, PageRequest.of(pageable.get(&quot;page&quot;).asInt(), pageable.get(&quot;size&quot;).asInt()), 10);`\\\r\nThis does not work. I only get one page, because it does not have any next.\r\n\r\n`super(content, PageRequest.of(pageable.get(&quot;page&quot;).asInt(), 1), 10);`\\\r\nThis does work. However since total is hardcoded to 10 it stops at page 9, even though totalPages is way higher (and unknown to me).\r\n\r\n\r\nI printed out the values I got when deserializing the PageImpl.\r\nWith my old CustomDtoPage\r\n```\r\npageable {&quot;class&quot;:&quot;org.springframework.data.domain.PageRequest&quot;,&quot;page&quot;:&quot;0&quot;,&quot;size&quot;:&quot;500&quot;,&quot;sort&quot;:{&quot;orders&quot;:{&quot;class&quot;:&quot;java.util.Arrays$ArrayList&quot;,&quot;a&quot;:{&quot;class&quot;:&quot;org.springframework.data.domain.Sort$Order-array&quot;}}}}\r\nnumber 0\r\nsize 0\r\ntotalPages 0\r\ntotalElements 0\r\nnumberOfElements 0\r\nfirst false\r\nlast false\r\n```\r\n\r\nWith the Updated CustomDtoPage that uses JsonCreator constructor, and JsonProperty for parameters\r\n```\r\npageable null\r\nnumber 0\r\nsize 0\r\ntotalPages 0\r\ntotalElements 0\r\nnumberOfElements 0\r\nfirst false\r\nlast false\r\nhasNext false\r\n```\r\n\r\nThese are the values I expect to get, and are getting when running with the older version of Jackson\r\n```\r\nnumber 0\r\nsize 500\r\ntotalPages 94\r\ntotalElements 46818\r\nnumberOfElements 500\r\nfirst true\r\nlast false\r\nhasNext true\r\n```\r\n\r\n\r\nIs there any way I can get this back to work as it did with the older version of Jackson?\r\n\r\nI have tried several suggestions I have found online, and on Stackoverflow, none worked.\r\n\r\nThis is the Page structure I get from calling the endpoint using the Postman application.\r\n```\r\n{\r\n    &quot;content&quot;: [\r\n        {\r\n            &quot;myContentHere&quot;: &quot;&quot;\r\n        }\r\n    ],\r\n    &quot;pageable&quot;: {\r\n        &quot;sort&quot;: {\r\n            &quot;unsorted&quot;: true,\r\n            &quot;sorted&quot;: false,\r\n            &quot;empty&quot;: true\r\n        },\r\n        &quot;pageSize&quot;: 500,\r\n        &quot;pageNumber&quot;: 0,\r\n        &quot;offset&quot;: 0,\r\n        &quot;unpaged&quot;: false,\r\n        &quot;paged&quot;: true\r\n    },\r\n    &quot;last&quot;: false,\r\n    &quot;totalElements&quot;: 46818,\r\n    &quot;totalPages&quot;: 94,\r\n    &quot;first&quot;: true,\r\n    &quot;numberOfElements&quot;: 500,\r\n    &quot;sort&quot;: {\r\n        &quot;unsorted&quot;: true,\r\n        &quot;sorted&quot;: false,\r\n        &quot;empty&quot;: true\r\n    },\r\n    &quot;size&quot;: 500,\r\n    &quot;number&quot;: 0,\r\n    &quot;empty&quot;: false\r\n}\r\n```\r\n\r\nUpgrading the client to Spring Boot 2.2.2, while still using Jackson 1.15.2 did not solve my problems.\r\nI even tried upgrading Spring Boot to 2.7.12.\r\n\r\nEdit: I started to investigate the response my client gets, to see if the values are actually there.\r\nThis is the response I get when running with Jackson 2.14.2 or 2.15.2\r\n\r\n```\r\n&lt;org.springframework.data.domain.PageImpl&gt;\r\n&lt;content&gt;\r\n&lt;/content&gt;\r\n&lt;pageable class=&quot;org.springframework.data.domain.PageRequest&quot;&gt;\r\n  &lt;page&gt;0&lt;/page&gt;&lt;size&gt;500&lt;/size&gt;\r\n  &lt;sort&gt;\r\n    &lt;orders class=&quot;java.util.Arrays$ArrayList&quot;&gt;&lt;a class=&quot;org.springframework.data.domain.Sort$Order-array&quot;/&gt;&lt;/orders&gt;\r\n  &lt;/sort&gt;\r\n&lt;/pageable&gt;\r\n&lt;total&gt;46818&lt;/total&gt;\r\n&lt;/org.springframework.data.domain.PageImpl&gt;\r\n```\r\n\r\nWhy I get XML and not JSON I am not sure about (but that is beside the point)\r\nAs you can see it only has a total value.\r\nSo all the others are thus not present (number, size, totalElements, etc.).\r\n\r\nRunning with Jackson 2.9.10 instead\r\n```\r\n  &quot;content&quot;:[{}],\r\n  &quot;pageable\r\n    &quot;sort&quot;: {\r\n        &quot;unsorted&quot;:true,&quot;sorted&quot;:false,&quot;empty&quot;:true\r\n    },\r\n    &quot;pageSize&quot;:500,\r\n    &quot;pageNumber&quot;:0,\r\n    &quot;offset&quot;:0,\r\n    &quot;unpaged&quot;:false,\r\n    &quot;paged&quot;:true\r\n  },\r\n  &quot;last&quot;:false,\r\n  &quot;totalElements&quot;:46818,\r\n  &quot;totalPages&quot;:94,\r\n  &quot;first&quot;:true,\r\n  &quot;numberOfElements&quot;:500,\r\n  &quot;sort&quot;: {\r\n    &quot;unsorted&quot;:true,\r\n    &quot;sorted&quot;:false,\r\n    &quot;empty&quot;:true\r\n  },\r\n  &quot;size&quot;:500,\r\n  &quot;number&quot;:0,\r\n  &quot;empty&quot;:false\r\n  ```\r\n  There all values are present in the JSON.\r\n\r\n  Why are they not present when I use the newer version of Jackson?","title":"Spring Boot: Custom PageImpl not working with latest Jackson","body":"<p>Upgrading Jackson in a Spring Boot application was not without difficulties and problems.<br />\nRunning 2.1.11.RELEASE, and Java 8</p>\n<p>I upgraded Jackson from 2.9.10 to 2.15.2.</p>\n<pre><code>&lt;!-- Jackson --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\n    &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now my Client failed to work with my <code>CustomPage extends PageImpl</code>.<br />\nI no longer got any values for <code>size</code>, <code>page</code>, <code>total</code>, <code>hasNext()</code> or <code>next()</code>.\nAll page variables was either zero or false.</p>\n<p>My Custom PageImpl:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.springframework.data.domain.PageImpl;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\n\n@Getter\n@Setter\n@JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;pageable&quot;, &quot;sort&quot;})\npublic class CustomDtoPage&lt;T&gt; extends PageImpl&lt;T&gt; {\n\n    private int number;\n    private int size;\n    private int totalPages;\n    private int numberOfElements;\n    private long totalElements;\n    private boolean previousPage;\n    private boolean first;\n    private boolean nextPage;\n    private boolean last;\n    private Sort sort;\n    private CustomDtoPageable pageable;\n\n    public CustomDtoPage(List&lt;T&gt; content, Pageable pageable, long total) {\n        super(content, pageable, total);\n    }\n\n    public CustomDtoPage(List&lt;T&gt; content) {\n        super(content);\n    }\n\n    public CustomDtoPage() {\n        super(new ArrayList&lt;&gt;());\n    }\n\n    public PageImpl&lt;T&gt; pageImpl() {\n        return new PageImpl&lt;&gt;(getContent(), PageRequest.of(getNumber(), getSize(), getSort()), getTotalElements());\n    }\n\n}\n</code></pre>\n<pre><code>public class CustomDtoPageable extends PageRequest {\n\n    public CustomDtoPageable() {\n        super(1, 1);\n    }\n    \n}\n</code></pre>\n<p>I tried updating it similar to the CustomPageImpl from the following guide, but same problem with it.<br />\n<a href=\"https://www.baeldung.com/resttemplate-page-entity-response\" rel=\"nofollow noreferrer\">https://www.baeldung.com/resttemplate-page-entity-response</a></p>\n<p>My new Custom PageImpl according to the example in the article:</p>\n<pre><code>public class CustomDtoPage&lt;T&gt; extends PageImpl&lt;T&gt; {\n\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\n    public CustomDtoPage(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content,\n                   @JsonProperty(&quot;number&quot;) int number,\n                   @JsonProperty(&quot;size&quot;) int size,\n                   @JsonProperty(&quot;totalElements&quot;) Long totalElements,\n                   @JsonProperty(&quot;pageable&quot;) JsonNode pageable,\n                   @JsonProperty(&quot;last&quot;) boolean last,\n                   @JsonProperty(&quot;totalPages&quot;) int totalPages,\n                   @JsonProperty(&quot;sort&quot;) JsonNode sort,\n                   @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\n        super(content, PageRequest.of(number, size), totalElements);\n    }\n\n    public CustomDtoPage(List&lt;T&gt; content, Pageable pageable, long total) {\n        super(content, pageable, total);\n    }\n\n    public CustomDtoPage(List&lt;T&gt; content) {\n        super(content);\n    }\n\n    public CustomDtoPage() {\n        super(new ArrayList&lt;&gt;());\n    }\n\n}\n</code></pre>\n<p>This will fail because there are no value for <code>size</code> and <code>totalElements</code>.\\</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalArgumentException: Page size must not be less than one!</p>\n</blockquote>\n<p>The page and size was available in the pageable JsonNode, so I change the constructor to this<br />\n<code>super(content, PageRequest.of(pageable.get(&quot;page&quot;).asInt(), pageable.get(&quot;size&quot;).asInt()), 10);</code><br />\nThis does not work. I only get one page, because it does not have any next.</p>\n<p><code>super(content, PageRequest.of(pageable.get(&quot;page&quot;).asInt(), 1), 10);</code><br />\nThis does work. However since total is hardcoded to 10 it stops at page 9, even though totalPages is way higher (and unknown to me).</p>\n<p>I printed out the values I got when deserializing the PageImpl.\nWith my old CustomDtoPage</p>\n<pre><code>pageable {&quot;class&quot;:&quot;org.springframework.data.domain.PageRequest&quot;,&quot;page&quot;:&quot;0&quot;,&quot;size&quot;:&quot;500&quot;,&quot;sort&quot;:{&quot;orders&quot;:{&quot;class&quot;:&quot;java.util.Arrays$ArrayList&quot;,&quot;a&quot;:{&quot;class&quot;:&quot;org.springframework.data.domain.Sort$Order-array&quot;}}}}\nnumber 0\nsize 0\ntotalPages 0\ntotalElements 0\nnumberOfElements 0\nfirst false\nlast false\n</code></pre>\n<p>With the Updated CustomDtoPage that uses JsonCreator constructor, and JsonProperty for parameters</p>\n<pre><code>pageable null\nnumber 0\nsize 0\ntotalPages 0\ntotalElements 0\nnumberOfElements 0\nfirst false\nlast false\nhasNext false\n</code></pre>\n<p>These are the values I expect to get, and are getting when running with the older version of Jackson</p>\n<pre><code>number 0\nsize 500\ntotalPages 94\ntotalElements 46818\nnumberOfElements 500\nfirst true\nlast false\nhasNext true\n</code></pre>\n<p>Is there any way I can get this back to work as it did with the older version of Jackson?</p>\n<p>I have tried several suggestions I have found online, and on Stackoverflow, none worked.</p>\n<p>This is the Page structure I get from calling the endpoint using the Postman application.</p>\n<pre><code>{\n    &quot;content&quot;: [\n        {\n            &quot;myContentHere&quot;: &quot;&quot;\n        }\n    ],\n    &quot;pageable&quot;: {\n        &quot;sort&quot;: {\n            &quot;unsorted&quot;: true,\n            &quot;sorted&quot;: false,\n            &quot;empty&quot;: true\n        },\n        &quot;pageSize&quot;: 500,\n        &quot;pageNumber&quot;: 0,\n        &quot;offset&quot;: 0,\n        &quot;unpaged&quot;: false,\n        &quot;paged&quot;: true\n    },\n    &quot;last&quot;: false,\n    &quot;totalElements&quot;: 46818,\n    &quot;totalPages&quot;: 94,\n    &quot;first&quot;: true,\n    &quot;numberOfElements&quot;: 500,\n    &quot;sort&quot;: {\n        &quot;unsorted&quot;: true,\n        &quot;sorted&quot;: false,\n        &quot;empty&quot;: true\n    },\n    &quot;size&quot;: 500,\n    &quot;number&quot;: 0,\n    &quot;empty&quot;: false\n}\n</code></pre>\n<p>Upgrading the client to Spring Boot 2.2.2, while still using Jackson 1.15.2 did not solve my problems.\nI even tried upgrading Spring Boot to 2.7.12.</p>\n<p>Edit: I started to investigate the response my client gets, to see if the values are actually there.\nThis is the response I get when running with Jackson 2.14.2 or 2.15.2</p>\n<pre><code>&lt;org.springframework.data.domain.PageImpl&gt;\n&lt;content&gt;\n&lt;/content&gt;\n&lt;pageable class=&quot;org.springframework.data.domain.PageRequest&quot;&gt;\n  &lt;page&gt;0&lt;/page&gt;&lt;size&gt;500&lt;/size&gt;\n  &lt;sort&gt;\n    &lt;orders class=&quot;java.util.Arrays$ArrayList&quot;&gt;&lt;a class=&quot;org.springframework.data.domain.Sort$Order-array&quot;/&gt;&lt;/orders&gt;\n  &lt;/sort&gt;\n&lt;/pageable&gt;\n&lt;total&gt;46818&lt;/total&gt;\n&lt;/org.springframework.data.domain.PageImpl&gt;\n</code></pre>\n<p>Why I get XML and not JSON I am not sure about (but that is beside the point)\nAs you can see it only has a total value.\nSo all the others are thus not present (number, size, totalElements, etc.).</p>\n<p>Running with Jackson 2.9.10 instead</p>\n<pre><code>  &quot;content&quot;:[{}],\n  &quot;pageable\n    &quot;sort&quot;: {\n        &quot;unsorted&quot;:true,&quot;sorted&quot;:false,&quot;empty&quot;:true\n    },\n    &quot;pageSize&quot;:500,\n    &quot;pageNumber&quot;:0,\n    &quot;offset&quot;:0,\n    &quot;unpaged&quot;:false,\n    &quot;paged&quot;:true\n  },\n  &quot;last&quot;:false,\n  &quot;totalElements&quot;:46818,\n  &quot;totalPages&quot;:94,\n  &quot;first&quot;:true,\n  &quot;numberOfElements&quot;:500,\n  &quot;sort&quot;: {\n    &quot;unsorted&quot;:true,\n    &quot;sorted&quot;:false,\n    &quot;empty&quot;:true\n  },\n  &quot;size&quot;:500,\n  &quot;number&quot;:0,\n  &quot;empty&quot;:false\n</code></pre>\n<p>There all values are present in the JSON.</p>\n<p>Why are they not present when I use the newer version of Jackson?</p>\n"},{"tags":["java","spring-boot","feign"],"answers":[{"tags":[],"owner":{"account_id":7918637,"reputation":101,"user_id":5980325,"display_name":"MichaPoe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668275226,"creation_date":1668275226,"answer_id":74415212,"question_id":72791558,"body_markdown":"I guess You have to remove the stereotype `@Configuration`.\r\n\r\nI actually came here during a search to a similar problem. I do have (same like You) two different configs. One FeignClient with and a second client without auth. But the second client is using both RequestInterceptors (I implemented a noop-RequestInterceptor just for logging).\r\n\r\nCould You actually solve your problem?","title":"Multiple Feign clients with different interceptors","body":"<p>I guess You have to remove the stereotype <code>@Configuration</code>.</p>\n<p>I actually came here during a search to a similar problem. I do have (same like You) two different configs. One FeignClient with and a second client without auth. But the second client is using both RequestInterceptors (I implemented a noop-RequestInterceptor just for logging).</p>\n<p>Could You actually solve your problem?</p>\n"}],"owner":{"account_id":1697325,"reputation":7484,"user_id":1558430,"accept_rate":76,"display_name":"Brian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2628,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1695117955,"creation_date":1656441305,"question_id":72791558,"body_markdown":"I have two Feign clients *in Spring Boot* doing different things, but would like them to be authenticated differently.\r\n\r\n    @FeignClient(\r\n        name = &quot;...&quot;,\r\n        url = &quot;${url1}&quot;,\r\n        configuration = Config1.class\r\n    )\r\n    public interface Client1 {\r\n        @PostMapping(\r\n            path = &quot;...&quot;,\r\n            consumes = MediaType.APPLICATION_JSON_VALUE,\r\n            produces = MediaType.APPLICATION_JSON_VALUE)\r\n        JsonNode doThing(@RequestBody JsonNode thing);\r\n    }\r\n\r\n    @FeignClient(\r\n        name = &quot;...&quot;,\r\n        url = &quot;${url2}&quot;,\r\n        configuration = Config2.class\r\n    )\r\n    public interface Client2 {\r\n        @PostMapping(\r\n            path = &quot;...&quot;,\r\n            consumes = MediaType.APPLICATION_JSON_VALUE,\r\n            produces = MediaType.APPLICATION_JSON_VALUE)\r\n        JsonNode doThing(@RequestBody JsonNode thing);\r\n    }\r\n\r\nThey both need basic authentication, but different values for username and password. For that, I thought about having separate `Config` classes to set their respective clients:\r\n\r\n    @Configuration\r\n    public class Client1 {\r\n        private final String user;\r\n        private final String password;\r\n\r\n        public Client1(final Config1 config) {\r\n            this.user = config.getUser();\r\n            this.password = config.getPassword();\r\n        }\r\n\r\n        @Bean(name = &quot;client1&quot;)\r\n        public BasicAuthRequestInterceptor basicAuthRequestInterceptor() {\r\n            return new BasicAuthRequestInterceptor(user, password);\r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    public class Client2 {\r\n        private final String user;\r\n        private final String password;\r\n\r\n        public Client1(final Config2 config) {\r\n            this.user = config.getUser();\r\n            this.password = config.getPassword();\r\n        }\r\n\r\n        @Bean(name = &quot;client2&quot;)\r\n        public BasicAuthRequestInterceptor basicAuthRequestInterceptor() {\r\n            return new BasicAuthRequestInterceptor(user, password);\r\n        }\r\n    }\r\n\r\nBut my API is returning HTTP 4xx errors, as if the interceptor did not work at all. Can I get some pointers on setting this up properly?\r\n\r\n(Notice that I gave those beans `name`s, because they will otherwise conflict for DI.)","title":"Multiple Feign clients with different interceptors","body":"<p>I have two Feign clients <em>in Spring Boot</em> doing different things, but would like them to be authenticated differently.</p>\n<pre><code>@FeignClient(\n    name = &quot;...&quot;,\n    url = &quot;${url1}&quot;,\n    configuration = Config1.class\n)\npublic interface Client1 {\n    @PostMapping(\n        path = &quot;...&quot;,\n        consumes = MediaType.APPLICATION_JSON_VALUE,\n        produces = MediaType.APPLICATION_JSON_VALUE)\n    JsonNode doThing(@RequestBody JsonNode thing);\n}\n\n@FeignClient(\n    name = &quot;...&quot;,\n    url = &quot;${url2}&quot;,\n    configuration = Config2.class\n)\npublic interface Client2 {\n    @PostMapping(\n        path = &quot;...&quot;,\n        consumes = MediaType.APPLICATION_JSON_VALUE,\n        produces = MediaType.APPLICATION_JSON_VALUE)\n    JsonNode doThing(@RequestBody JsonNode thing);\n}\n</code></pre>\n<p>They both need basic authentication, but different values for username and password. For that, I thought about having separate <code>Config</code> classes to set their respective clients:</p>\n<pre><code>@Configuration\npublic class Client1 {\n    private final String user;\n    private final String password;\n\n    public Client1(final Config1 config) {\n        this.user = config.getUser();\n        this.password = config.getPassword();\n    }\n\n    @Bean(name = &quot;client1&quot;)\n    public BasicAuthRequestInterceptor basicAuthRequestInterceptor() {\n        return new BasicAuthRequestInterceptor(user, password);\n    }\n}\n\n@Configuration\npublic class Client2 {\n    private final String user;\n    private final String password;\n\n    public Client1(final Config2 config) {\n        this.user = config.getUser();\n        this.password = config.getPassword();\n    }\n\n    @Bean(name = &quot;client2&quot;)\n    public BasicAuthRequestInterceptor basicAuthRequestInterceptor() {\n        return new BasicAuthRequestInterceptor(user, password);\n    }\n}\n</code></pre>\n<p>But my API is returning HTTP 4xx errors, as if the interceptor did not work at all. Can I get some pointers on setting this up properly?</p>\n<p>(Notice that I gave those beans <code>name</code>s, because they will otherwise conflict for DI.)</p>\n"},{"tags":["java","ssl","https","ssl-certificate","wildfly"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694696169,"post_id":77093090,"comment_id":135927211,"body_markdown":"Your certificate contain the entry `SubjectAlternativeName [ DNSName: guardian ]`. Therefore the certificate is not suitable for a server accessed via `10.0.0.16` as it is not `guardian`. The address you use in the URL has to be present in the certificate!","body":"Your certificate contain the entry <code>SubjectAlternativeName [ DNSName: guardian ]</code>. Therefore the certificate is not suitable for a server accessed via <code>10.0.0.16</code> as it is not <code>guardian</code>. The address you use in the URL has to be present in the certificate!"},{"owner":{"account_id":25600556,"reputation":11,"user_id":19375640,"display_name":"codemaster1101"},"score":0,"creation_date":1694794776,"post_id":77093090,"comment_id":135942666,"body_markdown":"Thank you, Is there a way to bypass this?","body":"Thank you, Is there a way to bypass this?"},{"owner":{"account_id":25600556,"reputation":11,"user_id":19375640,"display_name":"codemaster1101"},"score":0,"creation_date":1694800106,"post_id":77093090,"comment_id":135943615,"body_markdown":"@Robert it still does not work, I added the guardian host to known hosts, still &quot;Certificate uknown&quot;","body":"@Robert it still does not work, I added the guardian host to known hosts, still &quot;Certificate uknown&quot;"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694812820,"post_id":77093090,"comment_id":135945549,"body_markdown":"It doesn&#39;t matter what you add where unless the IP address is not added into the SubjectAlternativeName extension within the certificate or you use a different URL. If you use the IP address in the URL it has to be present in the certificate. Most likely the server tries to find a matching certificate for 10.0.0.16 but fails.","body":"It doesn&#39;t matter what you add where unless the IP address is not added into the SubjectAlternativeName extension within the certificate or you use a different URL. If you use the IP address in the URL it has to be present in the certificate. Most likely the server tries to find a matching certificate for 10.0.0.16 but fails."}],"answers":[{"tags":[],"owner":{"account_id":3305966,"reputation":524,"user_id":2787839,"display_name":"primetomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695112756,"creation_date":1695112756,"answer_id":77132949,"question_id":77093090,"body_markdown":"For a browser session invalid hostname does not give errors like that, you would get a browser warning and the option to accept the danger and continue. \r\nVerify your TLS setup by going to port 8442 forst, which is server-ceritficate-only TLS. If that works, going to port 8443 should have your browser ask you for the client certificate to use. \r\nWhat browser do you use? The browser may have cached failed attempt (without client cert installed in browser), so you should try a new private window (or restart browser).","title":"SSL handshake exception Wildfly","body":"<p>For a browser session invalid hostname does not give errors like that, you would get a browser warning and the option to accept the danger and continue.\nVerify your TLS setup by going to port 8442 forst, which is server-ceritficate-only TLS. If that works, going to port 8443 should have your browser ask you for the client certificate to use.\nWhat browser do you use? The browser may have cached failed attempt (without client cert installed in browser), so you should try a new private window (or restart browser).</p>\n"}],"owner":{"account_id":25600556,"reputation":11,"user_id":19375640,"display_name":"codemaster1101"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695117364,"creation_date":1694559145,"question_id":77093090,"body_markdown":"I am trying to access the admin ui for **EJBCA 8** deployed on Wildfly 26.0.0.Final, Java 17 via https://10.0.0.16:8443/ejbca/admin...\r\nBut I keep on getting this exception:\r\n\r\n```\r\nfatal alert: certificate_unknown\r\n````\r\nFull stack trace:\r\n````\r\n2023-09-12 22:14:01,180 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.179 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,181 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.180 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,182 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.182 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,183 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.183 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,184 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.183 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,185 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.184 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2) javax.net.ssl|DEBUG|66|default I/O-2|2023-09-12 22:14:01.215 UTC|Alert.java:238|Received alert message (\r\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2) &quot;Alert&quot;: {\r\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2)   &quot;level&quot;      : &quot;fatal&quot;,\r\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2)   &quot;description&quot;: &quot;certificate_unknown&quot;\r\n2023-09-12 22:14:01,217 ERROR [stderr] (default I/O-2) }\r\n2023-09-12 22:14:01,217 ERROR [stderr] (default I/O-2) )\r\n2023-09-12 22:14:01,219 ERROR [stderr] (default I/O-2) javax.net.ssl|ERROR|66|default I/O-2|2023-09-12 22:14:01.218 UTC|TransportContext.java:370|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2) &quot;throwable&quot; : {\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365)\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.ALPNLimitingSSLEngine.unwrap(ALPNLimitingSSLEngine.java:75)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doUnwrap(SslConduit.java:781)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doHandshake(SslConduit.java:672)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.access$900(SslConduit.java:70)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1215)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:591)}\r\n2023-09-12 22:14:01,222 ERROR [stderr] (default I/O-2) \r\n2023-09-12 22:14:01,222 ERROR [stderr] (default I/O-2) )\r\n2023-09-12 22:14:01,256 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.256 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,258 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.258 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,259 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.258 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,275 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.256 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,276 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.274 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,277 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.275 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,277 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.277 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,278 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.277 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,278 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.277 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,279 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.278 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,279 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.279 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,280 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.280 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,343 ERROR [stderr] (default I/O-4) javax.net.ssl|DEBUG|86|default I/O-4|2023-09-12 22:14:01.343 UTC|Alert.java:238|Received alert message (\r\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4) &quot;Alert&quot;: {\r\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4)   &quot;level&quot;      : &quot;fatal&quot;,\r\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4)   &quot;description&quot;: &quot;certificate_unknown&quot;\r\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4) }\r\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4) )\r\n2023-09-12 22:14:01,347 ERROR [stderr] (default I/O-4) javax.net.ssl|ERROR|86|default I/O-4|2023-09-12 22:14:01.346 UTC|TransportContext.java:370|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\r\n2023-09-12 22:14:01,348 ERROR [stderr] (default I/O-4) &quot;throwable&quot; : {\r\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)   javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\r\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365)\r\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\r\n2023-09-12 22:14:01,350 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n2023-09-12 22:14:01,350 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\r\n2023-09-12 22:14:01,350 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\r\n2023-09-12 22:14:01,351 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\r\n2023-09-12 22:14:01,351 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\r\n2023-09-12 22:14:01,351 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.ALPNLimitingSSLEngine.unwrap(ALPNLimitingSSLEngine.java:142)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doUnwrap(SslConduit.java:762)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.read(SslConduit.java:587)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat org.jboss.xnio@3.8.5.Final//org.xnio.conduits.ConduitStreamSourceChannel.read(ConduitStreamSourceChannel.java:127)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.AlpnOpenListener$AlpnConnectionListener.handleEvent(AlpnOpenListener.java:356)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.AlpnOpenListener$AlpnConnectionListener.handleEvent(AlpnOpenListener.java:341)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat org.jboss.xnio@3.8.5.Final//org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat org.jboss.xnio@3.8.5.Final//org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1254)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$1.run(SslConduit.java:183)\r\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$2.run(SslConduit.java:198)\r\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4)   \tat org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)\r\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4)   \tat org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:479)}\r\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4) \r\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4) )\r\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1) javax.net.ssl|DEBUG|56|default I/O-1|2023-09-12 22:14:01.326 UTC|Alert.java:238|Received alert message (\r\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1) &quot;Alert&quot;: {\r\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1)   &quot;level&quot;      : &quot;fatal&quot;,\r\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1)   &quot;description&quot;: &quot;certificate_unknown&quot;\r\n2023-09-12 22:14:01,357 ERROR [stderr] (default I/O-1) }\r\n2023-09-12 22:14:01,357 ERROR [stderr] (default I/O-1) )\r\n2023-09-12 22:14:01,359 ERROR [stderr] (default I/O-1) javax.net.ssl|ERROR|56|default I/O-1|2023-09-12 22:14:01.359 UTC|TransportContext.java:370|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\r\n2023-09-12 22:14:01,360 ERROR [stderr] (default I/O-1) &quot;throwable&quot; : {\r\n2023-09-12 22:14:01,360 ERROR [stderr] (default I/O-1)   javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\r\n2023-09-12 22:14:01,361 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n2023-09-12 22:14:01,366 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n2023-09-12 22:14:01,367 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365)\r\n2023-09-12 22:14:01,367 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.ALPNLimitingSSLEngine.unwrap(ALPNLimitingSSLEngine.java:75)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doUnwrap(SslConduit.java:781)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doHandshake(SslConduit.java:672)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.access$900(SslConduit.java:70)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1215)\r\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$1.run(SslConduit.java:183)\r\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$2.run(SslConduit.java:198)\r\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)   \tat org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)\r\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)   \tat org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:479)}\r\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1) \r\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1) )\r\n2023-09-12 22:17:06,808 INFO  [org.ejbca.core.ejb.services.ServiceSessionBean] (EJB default - 1) Timer was triggered. Trying to run service with ID 0.\r\n\r\n```\r\n\r\nThese are the steps i took:\r\n\r\n***1. Generated a CA with ejbca and a keystore using this command***\r\n```\r\nant runinstall -Dappserver.home=/opt/kais/mes/install/guardian/wildfly/wildfly-26.0.0.Final \r\nant deploy-keystore -Dappserver.home=/opt/kais/mes/install/guardian/wildfly/wildfly-26.0.0.Final \r\n```\r\n***2. Regarding the CA installation, this is the install.properties:***\r\n```\r\n#\r\n# $Id$\r\n#\r\n# This is a sample file to override default properties used\r\n# during installation of EJBCA (ant install)\r\n# \r\n# You should copy and rename this file to install.properties\r\n# and customize at will.\r\n#\r\n\r\n# ------------ Administrative CA configuration ---------------------\r\n# This installation will create a first Management CA. This CA will be used to create the first\r\n# superadministrator and for the SSL server certificate of administrative web server.\r\n# When the administrative web server have been setup you can create other CA:s and administrators.\r\n# This is only used for administrative purposes,\r\n# Enter a short name for the Management CA.\r\nca.name=KontronCA\r\n\r\n# The Distinguished Name of the Management CA. \r\n# This is used in the CA certificate to distinguish the CA.\r\n# Note, you can not use DC components for the initial CA, you can create CAs \r\n# using DC components later on once the CA GU is up and running.\r\nca.dn=CN=KontronCA,O=Kontron,C=MK\r\n\r\n# The token type the administrative CA will use.\r\n# Use soft for software generated keys (default) or enter a class path for the HSM class.\r\n# Normally the HSM class should be the PKCS11CryptoToken. For Utimaco CP5, use Pkcs11NgCryptoToken.\r\n#\r\n# Possible values are:\r\n# soft\r\n# org.cesecore.keys.token.PKCS11CryptoToken\r\n# org.cesecore.keys.token.p11ng.cryptotoken.Pkcs11NgCryptoToken\r\n# se.primeKey.caToken.card.PrimeCAToken\r\n# Note: If you use JBoss 7/EAP 6 and want to use PKCS#11 you have to configure JBoss to permit this. \r\n#       See instructions in the Install Guide.\r\n#\r\n# Default: soft\r\nca.tokentype=soft\r\n\r\n# Password for the Management CA token.\r\n# With soft token, use password null.\r\n# To prompt for the password on the terminal, don&#39;t set, i.e. comment out the line below.\r\n# If no password should be used (for example nCipher module protected), use password &#39;&#39; (nothing).\r\nca.tokenpassword=null\r\n\r\n# Configuration file were you define key name, password and key alias for the HSM used \r\n# by the Management CA. Same as the Hard CA Token Properties in CA UI.\r\n# Remove everything in the file and add your own configuration.\r\n# Note that this must be a full path.\r\n# On windows use / instead of \\\r\n#ca.tokenproperties=/home/ejbca/ejbca/conf/catoken.properties\r\n\r\n# The keyspec for the administrative CAs key, to be generated in soft keystore.\r\n# Keyspec for RSA keys is size of RSA keys (1024, 2048, 4096, 8192).\r\n# Keyspec for ECDSA keys is name of curve or &#39;implicitlyCA&#39;, see docs.\r\nca.keyspec=2048\r\n\r\n# The keytype for the Management CA, can be RSA, ECDSA or DSA\r\n# For the key to be generated in soft keystore.\r\nca.keytype=RSA\r\n\r\n# Default signing algorithm for the Management CA.\r\n# Available algorithms are:\r\n# SHA1WithRSA, SHA1withECDSA, SHA256WithRSA, SHA256withECDSA.\r\nca.signaturealgorithm=SHA256WithRSA\r\n\r\n# The validity in days for the Management CA, only digits.\r\nca.validity=3650\r\n\r\n# The policy id of the Management CA. Policy id determines which PKI policy the CA uses.\r\n# Type your policy id or use &#39;2.5.29.32.0&#39; for &#39;any policy&#39; (rfc5280) or &#39;null&#39; for no policy at all.\r\nca.policy=null\r\n\r\n# Certificate profile used for the CA certificate created during &#39;ant install&#39;. \r\n# If you have a certificate profile imported you can use that. Otherwise default\r\n# profile for ROOTCA is used.\r\n# Default: ROOTCA\r\n#ca.certificateprofile=MyOwnRootCACertificateProfile\r\n\r\n```\r\n***3.*** These commands generated a keystore and a truststore in the **Wildfly** keystore directory, also generated a **superadmin.p12** file in the **EJBCA** p12 directory. I imported the superadmin.p12 cert into my browser to correspond to the contents of the Wildfly keystore. For those who could use the contents of the certificates/keys in detail:***\r\n\r\n* **keystore**:\r\n\r\n```\r\nKeystore type: PKCS12\r\nKeystore provider: SUN\r\n\r\nYour keystore contains 1 entry\r\n\r\nAlias name: guardian\r\nCreation date: Sep 12, 2023\r\nEntry type: PrivateKeyEntry\r\nCertificate chain length: 2\r\nCertificate[1]:\r\nOwner: C=MK, O=Kontron, CN=guardian\r\nIssuer: C=MK, O=Kontron, CN=KontronCA\r\nSerial number: 35fa3d026c4f457ce7395000d2c3a3303f61a316\r\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Thu Sep 11 21:16:03 UTC 2025\r\nCertificate fingerprints:\r\n         SHA1: 41:34:F5:8E:35:97:29:52:92:30:86:A5:B1:D7:75:94:AB:BA:F3:85\r\n         SHA256: D3:85:48:65:1C:72:51:BD:53:29:2C:A2:9A:FA:2D:F2:4F:C4:89:91:EE:CB:5F:0B:9F:79:BB:A7:39:A3:6A:67\r\nSignature algorithm name: SHA256withRSA\r\nSubject Public Key Algorithm: 2048-bit RSA key\r\nVersion: 3\r\n\r\nExtensions:\r\n\r\n#1: ObjectId: 2.5.29.35 Criticality=false\r\nAuthorityKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n#2: ObjectId: 2.5.29.19 Criticality=true\r\nBasicConstraints:[\r\n  CA:false\r\n  PathLen: undefined\r\n]\r\n\r\n#3: ObjectId: 2.5.29.37 Criticality=false\r\nExtendedKeyUsages [\r\n  serverAuth\r\n]\r\n\r\n#4: ObjectId: 2.5.29.15 Criticality=true\r\nKeyUsage [\r\n  DigitalSignature\r\n  Key_Encipherment\r\n]\r\n\r\n#5: ObjectId: 2.5.29.17 Criticality=false\r\nSubjectAlternativeName [\r\n  DNSName: guardian\r\n]\r\n\r\n#6: ObjectId: 2.5.29.14 Criticality=false\r\nSubjectKeyIdentifier [\r\nKeyIdentifier [\r\n0000: 1F C8 84 02 3A 27 5D 87   69 7F 0B F9 C7 49 7A 90  ....:&#39;].i....Iz.\r\n0010: 1B A3 AC F1                                        ....\r\n]\r\n]\r\n\r\nCertificate[2]:\r\nOwner: C=MK, O=Kontron, CN=KontronCA\r\nIssuer: C=MK, O=Kontron, CN=KontronCA\r\nSerial number: 469c953c2abc88fe22cfd0e196233597c49ca7dd\r\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Fri Sep 09 21:25:34 UTC 2033\r\nCertificate fingerprints:\r\n         SHA1: BB:16:7B:4E:A7:F1:3F:0F:0E:2E:46:AE:22:53:B9:79:D8:FC:40:84\r\n         SHA256: 2F:63:73:96:ED:7A:70:ED:89:07:37:87:2E:60:0F:03:EE:9F:0C:F8:E9:25:5A:71:11:4D:67:5B:0F:EB:86:0A\r\nSignature algorithm name: SHA256withRSA\r\nSubject Public Key Algorithm: 2048-bit RSA key\r\nVersion: 3\r\n\r\nExtensions:\r\n\r\n#1: ObjectId: 2.5.29.35 Criticality=false\r\nAuthorityKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n#2: ObjectId: 2.5.29.19 Criticality=true\r\nBasicConstraints:[\r\n  CA:true\r\n  PathLen: no limit\r\n]\r\n\r\n#3: ObjectId: 2.5.29.15 Criticality=true\r\nKeyUsage [\r\n  DigitalSignature\r\n  Key_CertSign\r\n  Crl_Sign\r\n]\r\n\r\n#4: ObjectId: 2.5.29.14 Criticality=false\r\nSubjectKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n\r\n\r\n*******************************************\r\n*******************************************\r\n\r\n```\r\n\r\n* **truststore**:\r\n\r\n```\r\nKeystore type: PKCS12\r\nKeystore provider: SUN\r\n\r\nYour keystore contains 1 entry\r\n\r\nAlias name: kontronca\r\nCreation date: Sep 12, 2023\r\nEntry type: trustedCertEntry\r\n\r\nOwner: C=MK, O=Kontron, CN=KontronCA\r\nIssuer: C=MK, O=Kontron, CN=KontronCA\r\nSerial number: 469c953c2abc88fe22cfd0e196233597c49ca7dd\r\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Fri Sep 09 21:25:34 UTC 2033\r\nCertificate fingerprints:\r\n         SHA1: BB:16:7B:4E:A7:F1:3F:0F:0E:2E:46:AE:22:53:B9:79:D8:FC:40:84\r\n         SHA256: 2F:63:73:96:ED:7A:70:ED:89:07:37:87:2E:60:0F:03:EE:9F:0C:F8:E9:25:5A:71:11:4D:67:5B:0F:EB:86:0A\r\nSignature algorithm name: SHA256withRSA\r\nSubject Public Key Algorithm: 2048-bit RSA key\r\nVersion: 3\r\n\r\nExtensions:\r\n\r\n#1: ObjectId: 2.5.29.35 Criticality=false\r\nAuthorityKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n#2: ObjectId: 2.5.29.19 Criticality=true\r\nBasicConstraints:[\r\n  CA:true\r\n  PathLen: no limit\r\n]\r\n\r\n#3: ObjectId: 2.5.29.15 Criticality=true\r\nKeyUsage [\r\n  DigitalSignature\r\n  Key_CertSign\r\n  Crl_Sign\r\n]\r\n\r\n#4: ObjectId: 2.5.29.14 Criticality=false\r\nSubjectKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n\r\n\r\n*******************************************\r\n*******************************************\r\n\r\n```\r\n\r\n* **superadmin.p12**:\r\n\r\n```\r\nKeystore type: PKCS12\r\nKeystore provider: SUN\r\n\r\nYour keystore contains 1 entry\r\n\r\nAlias name: superadmin\r\nCreation date: Sep 12, 2023\r\nEntry type: PrivateKeyEntry\r\nCertificate chain length: 2\r\nCertificate[1]:\r\nOwner: CN=SuperAdmin\r\nIssuer: C=MK, O=Kontron, CN=KontronCA\r\nSerial number: 7d746d2654d61e218a9ee97737ba641410486529\r\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Thu Sep 11 21:16:30 UTC 2025\r\nCertificate fingerprints:\r\n         SHA1: 34:62:62:9E:D1:75:DB:69:BF:95:70:99:6D:01:7D:B9:47:28:D3:3E\r\n         SHA256: 16:37:E9:59:C1:E0:60:1C:0B:4A:10:C7:F2:CF:C2:18:48:0B:82:31:81:5F:6A:1F:B8:AF:1E:5A:BF:C6:9D:9E\r\nSignature algorithm name: SHA256withRSA\r\nSubject Public Key Algorithm: 2048-bit RSA key\r\nVersion: 3\r\n\r\nExtensions:\r\n\r\n#1: ObjectId: 2.5.29.35 Criticality=false\r\nAuthorityKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n#2: ObjectId: 2.5.29.19 Criticality=true\r\nBasicConstraints:[\r\n  CA:false\r\n  PathLen: undefined\r\n]\r\n\r\n#3: ObjectId: 2.5.29.37 Criticality=false\r\nExtendedKeyUsages [\r\n  clientAuth\r\n  emailProtection\r\n]\r\n\r\n#4: ObjectId: 2.5.29.15 Criticality=true\r\nKeyUsage [\r\n  DigitalSignature\r\n  Non_repudiation\r\n  Key_Encipherment\r\n]\r\n\r\n#5: ObjectId: 2.5.29.14 Criticality=false\r\nSubjectKeyIdentifier [\r\nKeyIdentifier [\r\n0000: 86 CB BD 08 52 E3 44 52   F5 FB 63 79 C2 93 41 08  ....R.DR..cy..A.\r\n0010: 86 98 E7 A5                                        ....\r\n]\r\n]\r\n\r\nCertificate[2]:\r\nOwner: C=MK, O=Kontron, CN=KontronCA\r\nIssuer: C=MK, O=Kontron, CN=KontronCA\r\nSerial number: 469c953c2abc88fe22cfd0e196233597c49ca7dd\r\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Fri Sep 09 21:25:34 UTC 2033\r\nCertificate fingerprints:\r\n         SHA1: BB:16:7B:4E:A7:F1:3F:0F:0E:2E:46:AE:22:53:B9:79:D8:FC:40:84\r\n         SHA256: 2F:63:73:96:ED:7A:70:ED:89:07:37:87:2E:60:0F:03:EE:9F:0C:F8:E9:25:5A:71:11:4D:67:5B:0F:EB:86:0A\r\nSignature algorithm name: SHA256withRSA\r\nSubject Public Key Algorithm: 2048-bit RSA key\r\nVersion: 3\r\n\r\nExtensions:\r\n\r\n#1: ObjectId: 2.5.29.35 Criticality=false\r\nAuthorityKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n#2: ObjectId: 2.5.29.19 Criticality=true\r\nBasicConstraints:[\r\n  CA:true\r\n  PathLen: no limit\r\n]\r\n\r\n#3: ObjectId: 2.5.29.15 Criticality=true\r\nKeyUsage [\r\n  DigitalSignature\r\n  Key_CertSign\r\n  Crl_Sign\r\n]\r\n\r\n#4: ObjectId: 2.5.29.14 Criticality=false\r\nSubjectKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n\r\n\r\n*******************************************\r\n*******************************************\r\n\r\n```\r\n\r\n**4.** Tried to connect to the server and got the following error, I tried many solutions but I am out of ideas. Id appreciate your help, thank you.","title":"SSL handshake exception Wildfly","body":"<p>I am trying to access the admin ui for <strong>EJBCA 8</strong> deployed on Wildfly 26.0.0.Final, Java 17 via <a href=\"https://10.0.0.16:8443/ejbca/admin..\" rel=\"nofollow noreferrer\">https://10.0.0.16:8443/ejbca/admin..</a>.\nBut I keep on getting this exception:</p>\n<pre><code>fatal alert: certificate_unknown\n</code></pre>\n<p>Full stack trace:</p>\n<pre><code>2023-09-12 22:14:01,180 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.179 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,181 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.180 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,182 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.182 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,183 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.183 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,184 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.183 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,185 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.184 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2) javax.net.ssl|DEBUG|66|default I/O-2|2023-09-12 22:14:01.215 UTC|Alert.java:238|Received alert message (\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2) &quot;Alert&quot;: {\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2)   &quot;level&quot;      : &quot;fatal&quot;,\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2)   &quot;description&quot;: &quot;certificate_unknown&quot;\n2023-09-12 22:14:01,217 ERROR [stderr] (default I/O-2) }\n2023-09-12 22:14:01,217 ERROR [stderr] (default I/O-2) )\n2023-09-12 22:14:01,219 ERROR [stderr] (default I/O-2) javax.net.ssl|ERROR|66|default I/O-2|2023-09-12 22:14:01.218 UTC|TransportContext.java:370|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2) &quot;throwable&quot; : {\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365)\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.ALPNLimitingSSLEngine.unwrap(ALPNLimitingSSLEngine.java:75)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doUnwrap(SslConduit.java:781)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doHandshake(SslConduit.java:672)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.access$900(SslConduit.java:70)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1215)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:591)}\n2023-09-12 22:14:01,222 ERROR [stderr] (default I/O-2) \n2023-09-12 22:14:01,222 ERROR [stderr] (default I/O-2) )\n2023-09-12 22:14:01,256 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.256 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,258 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.258 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,259 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.258 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,275 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.256 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,276 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.274 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,277 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.275 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,277 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.277 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,278 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.277 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,278 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.277 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,279 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.278 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,279 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.279 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,280 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.280 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,343 ERROR [stderr] (default I/O-4) javax.net.ssl|DEBUG|86|default I/O-4|2023-09-12 22:14:01.343 UTC|Alert.java:238|Received alert message (\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4) &quot;Alert&quot;: {\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4)   &quot;level&quot;      : &quot;fatal&quot;,\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4)   &quot;description&quot;: &quot;certificate_unknown&quot;\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4) }\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4) )\n2023-09-12 22:14:01,347 ERROR [stderr] (default I/O-4) javax.net.ssl|ERROR|86|default I/O-4|2023-09-12 22:14:01.346 UTC|TransportContext.java:370|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\n2023-09-12 22:14:01,348 ERROR [stderr] (default I/O-4) &quot;throwable&quot; : {\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)   javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365)\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\n2023-09-12 22:14:01,350 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n2023-09-12 22:14:01,350 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\n2023-09-12 22:14:01,350 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\n2023-09-12 22:14:01,351 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\n2023-09-12 22:14:01,351 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\n2023-09-12 22:14:01,351 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.ALPNLimitingSSLEngine.unwrap(ALPNLimitingSSLEngine.java:142)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doUnwrap(SslConduit.java:762)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.read(SslConduit.java:587)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at org.jboss.xnio@3.8.5.Final//org.xnio.conduits.ConduitStreamSourceChannel.read(ConduitStreamSourceChannel.java:127)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.AlpnOpenListener$AlpnConnectionListener.handleEvent(AlpnOpenListener.java:356)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.AlpnOpenListener$AlpnConnectionListener.handleEvent(AlpnOpenListener.java:341)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at org.jboss.xnio@3.8.5.Final//org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at org.jboss.xnio@3.8.5.Final//org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1254)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$1.run(SslConduit.java:183)\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$2.run(SslConduit.java:198)\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4)      at org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4)      at org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:479)}\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4) \n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4) )\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1) javax.net.ssl|DEBUG|56|default I/O-1|2023-09-12 22:14:01.326 UTC|Alert.java:238|Received alert message (\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1) &quot;Alert&quot;: {\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1)   &quot;level&quot;      : &quot;fatal&quot;,\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1)   &quot;description&quot;: &quot;certificate_unknown&quot;\n2023-09-12 22:14:01,357 ERROR [stderr] (default I/O-1) }\n2023-09-12 22:14:01,357 ERROR [stderr] (default I/O-1) )\n2023-09-12 22:14:01,359 ERROR [stderr] (default I/O-1) javax.net.ssl|ERROR|56|default I/O-1|2023-09-12 22:14:01.359 UTC|TransportContext.java:370|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\n2023-09-12 22:14:01,360 ERROR [stderr] (default I/O-1) &quot;throwable&quot; : {\n2023-09-12 22:14:01,360 ERROR [stderr] (default I/O-1)   javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\n2023-09-12 22:14:01,361 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n2023-09-12 22:14:01,366 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n2023-09-12 22:14:01,367 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365)\n2023-09-12 22:14:01,367 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.ALPNLimitingSSLEngine.unwrap(ALPNLimitingSSLEngine.java:75)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doUnwrap(SslConduit.java:781)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doHandshake(SslConduit.java:672)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.access$900(SslConduit.java:70)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1215)\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$1.run(SslConduit.java:183)\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$2.run(SslConduit.java:198)\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)      at org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)      at org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:479)}\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1) \n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1) )\n2023-09-12 22:17:06,808 INFO  [org.ejbca.core.ejb.services.ServiceSessionBean] (EJB default - 1) Timer was triggered. Trying to run service with ID 0.\n\n```\n\nThese are the steps i took:\n\n***1. Generated a CA with ejbca and a keystore using this command***\n```\nant runinstall -Dappserver.home=/opt/kais/mes/install/guardian/wildfly/wildfly-26.0.0.Final \nant deploy-keystore -Dappserver.home=/opt/kais/mes/install/guardian/wildfly/wildfly-26.0.0.Final \n```\n***2. Regarding the CA installation, this is the install.properties:***\n```\n#\n# $Id$\n#\n# This is a sample file to override default properties used\n# during installation of EJBCA (ant install)\n# \n# You should copy and rename this file to install.properties\n# and customize at will.\n#\n\n# ------------ Administrative CA configuration ---------------------\n# This installation will create a first Management CA. This CA will be used to create the first\n# superadministrator and for the SSL server certificate of administrative web server.\n# When the administrative web server have been setup you can create other CA:s and administrators.\n# This is only used for administrative purposes,\n# Enter a short name for the Management CA.\nca.name=KontronCA\n\n# The Distinguished Name of the Management CA. \n# This is used in the CA certificate to distinguish the CA.\n# Note, you can not use DC components for the initial CA, you can create CAs \n# using DC components later on once the CA GU is up and running.\nca.dn=CN=KontronCA,O=Kontron,C=MK\n\n# The token type the administrative CA will use.\n# Use soft for software generated keys (default) or enter a class path for the HSM class.\n# Normally the HSM class should be the PKCS11CryptoToken. For Utimaco CP5, use Pkcs11NgCryptoToken.\n#\n# Possible values are:\n# soft\n# org.cesecore.keys.token.PKCS11CryptoToken\n# org.cesecore.keys.token.p11ng.cryptotoken.Pkcs11NgCryptoToken\n# se.primeKey.caToken.card.PrimeCAToken\n# Note: If you use JBoss 7/EAP 6 and want to use PKCS#11 you have to configure JBoss to permit this. \n#       See instructions in the Install Guide.\n#\n# Default: soft\nca.tokentype=soft\n\n# Password for the Management CA token.\n# With soft token, use password null.\n# To prompt for the password on the terminal, don't set, i.e. comment out the line below.\n# If no password should be used (for example nCipher module protected), use password '' (nothing).\nca.tokenpassword=null\n\n# Configuration file were you define key name, password and key alias for the HSM used \n# by the Management CA. Same as the Hard CA Token Properties in CA UI.\n# Remove everything in the file and add your own configuration.\n# Note that this must be a full path.\n# On windows use / instead of \\\n#ca.tokenproperties=/home/ejbca/ejbca/conf/catoken.properties\n\n# The keyspec for the administrative CAs key, to be generated in soft keystore.\n# Keyspec for RSA keys is size of RSA keys (1024, 2048, 4096, 8192).\n# Keyspec for ECDSA keys is name of curve or 'implicitlyCA', see docs.\nca.keyspec=2048\n\n# The keytype for the Management CA, can be RSA, ECDSA or DSA\n# For the key to be generated in soft keystore.\nca.keytype=RSA\n\n# Default signing algorithm for the Management CA.\n# Available algorithms are:\n# SHA1WithRSA, SHA1withECDSA, SHA256WithRSA, SHA256withECDSA.\nca.signaturealgorithm=SHA256WithRSA\n\n# The validity in days for the Management CA, only digits.\nca.validity=3650\n\n# The policy id of the Management CA. Policy id determines which PKI policy the CA uses.\n# Type your policy id or use '2.5.29.32.0' for 'any policy' (rfc5280) or 'null' for no policy at all.\nca.policy=null\n\n# Certificate profile used for the CA certificate created during 'ant install'. \n# If you have a certificate profile imported you can use that. Otherwise default\n# profile for ROOTCA is used.\n# Default: ROOTCA\n#ca.certificateprofile=MyOwnRootCACertificateProfile\n\n```\n***3.*** These commands generated a keystore and a truststore in the **Wildfly** keystore directory, also generated a **superadmin.p12** file in the **EJBCA** p12 directory. I imported the superadmin.p12 cert into my browser to correspond to the contents of the Wildfly keystore. For those who could use the contents of the certificates/keys in detail:***\n\n* **keystore**:\n\n```\nKeystore type: PKCS12\nKeystore provider: SUN\n\nYour keystore contains 1 entry\n\nAlias name: guardian\nCreation date: Sep 12, 2023\nEntry type: PrivateKeyEntry\nCertificate chain length: 2\nCertificate[1]:\nOwner: C=MK, O=Kontron, CN=guardian\nIssuer: C=MK, O=Kontron, CN=KontronCA\nSerial number: 35fa3d026c4f457ce7395000d2c3a3303f61a316\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Thu Sep 11 21:16:03 UTC 2025\nCertificate fingerprints:\n         SHA1: 41:34:F5:8E:35:97:29:52:92:30:86:A5:B1:D7:75:94:AB:BA:F3:85\n         SHA256: D3:85:48:65:1C:72:51:BD:53:29:2C:A2:9A:FA:2D:F2:4F:C4:89:91:EE:CB:5F:0B:9F:79:BB:A7:39:A3:6A:67\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n#2: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:false\n  PathLen: undefined\n]\n\n#3: ObjectId: 2.5.29.37 Criticality=false\nExtendedKeyUsages [\n  serverAuth\n]\n\n#4: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Key_Encipherment\n]\n\n#5: ObjectId: 2.5.29.17 Criticality=false\nSubjectAlternativeName [\n  DNSName: guardian\n]\n\n#6: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 1F C8 84 02 3A 27 5D 87   69 7F 0B F9 C7 49 7A 90  ....:'].i....Iz.\n0010: 1B A3 AC F1                                        ....\n]\n]\n\nCertificate[2]:\nOwner: C=MK, O=Kontron, CN=KontronCA\nIssuer: C=MK, O=Kontron, CN=KontronCA\nSerial number: 469c953c2abc88fe22cfd0e196233597c49ca7dd\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Fri Sep 09 21:25:34 UTC 2033\nCertificate fingerprints:\n         SHA1: BB:16:7B:4E:A7:F1:3F:0F:0E:2E:46:AE:22:53:B9:79:D8:FC:40:84\n         SHA256: 2F:63:73:96:ED:7A:70:ED:89:07:37:87:2E:60:0F:03:EE:9F:0C:F8:E9:25:5A:71:11:4D:67:5B:0F:EB:86:0A\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n#2: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:true\n  PathLen: no limit\n]\n\n#3: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Key_CertSign\n  Crl_Sign\n]\n\n#4: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n\n\n*******************************************\n*******************************************\n\n```\n\n* **truststore**:\n\n```\nKeystore type: PKCS12\nKeystore provider: SUN\n\nYour keystore contains 1 entry\n\nAlias name: kontronca\nCreation date: Sep 12, 2023\nEntry type: trustedCertEntry\n\nOwner: C=MK, O=Kontron, CN=KontronCA\nIssuer: C=MK, O=Kontron, CN=KontronCA\nSerial number: 469c953c2abc88fe22cfd0e196233597c49ca7dd\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Fri Sep 09 21:25:34 UTC 2033\nCertificate fingerprints:\n         SHA1: BB:16:7B:4E:A7:F1:3F:0F:0E:2E:46:AE:22:53:B9:79:D8:FC:40:84\n         SHA256: 2F:63:73:96:ED:7A:70:ED:89:07:37:87:2E:60:0F:03:EE:9F:0C:F8:E9:25:5A:71:11:4D:67:5B:0F:EB:86:0A\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n#2: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:true\n  PathLen: no limit\n]\n\n#3: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Key_CertSign\n  Crl_Sign\n]\n\n#4: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n\n\n*******************************************\n*******************************************\n\n```\n\n* **superadmin.p12**:\n\n```\nKeystore type: PKCS12\nKeystore provider: SUN\n\nYour keystore contains 1 entry\n\nAlias name: superadmin\nCreation date: Sep 12, 2023\nEntry type: PrivateKeyEntry\nCertificate chain length: 2\nCertificate[1]:\nOwner: CN=SuperAdmin\nIssuer: C=MK, O=Kontron, CN=KontronCA\nSerial number: 7d746d2654d61e218a9ee97737ba641410486529\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Thu Sep 11 21:16:30 UTC 2025\nCertificate fingerprints:\n         SHA1: 34:62:62:9E:D1:75:DB:69:BF:95:70:99:6D:01:7D:B9:47:28:D3:3E\n         SHA256: 16:37:E9:59:C1:E0:60:1C:0B:4A:10:C7:F2:CF:C2:18:48:0B:82:31:81:5F:6A:1F:B8:AF:1E:5A:BF:C6:9D:9E\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n#2: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:false\n  PathLen: undefined\n]\n\n#3: ObjectId: 2.5.29.37 Criticality=false\nExtendedKeyUsages [\n  clientAuth\n  emailProtection\n]\n\n#4: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Non_repudiation\n  Key_Encipherment\n]\n\n#5: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 86 CB BD 08 52 E3 44 52   F5 FB 63 79 C2 93 41 08  ....R.DR..cy..A.\n0010: 86 98 E7 A5                                        ....\n]\n]\n\nCertificate[2]:\nOwner: C=MK, O=Kontron, CN=KontronCA\nIssuer: C=MK, O=Kontron, CN=KontronCA\nSerial number: 469c953c2abc88fe22cfd0e196233597c49ca7dd\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Fri Sep 09 21:25:34 UTC 2033\nCertificate fingerprints:\n         SHA1: BB:16:7B:4E:A7:F1:3F:0F:0E:2E:46:AE:22:53:B9:79:D8:FC:40:84\n         SHA256: 2F:63:73:96:ED:7A:70:ED:89:07:37:87:2E:60:0F:03:EE:9F:0C:F8:E9:25:5A:71:11:4D:67:5B:0F:EB:86:0A\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n#2: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:true\n  PathLen: no limit\n]\n\n#3: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Key_CertSign\n  Crl_Sign\n]\n\n#4: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n\n\n*******************************************\n*******************************************\n\n```\n\n**4.** Tried to connect to the server and got the following error, I tried many solutions but I am out of ideas. Id appreciate your help, thank you.\n</code></pre>\n"},{"tags":["java","spring","jenkins","nexus","nexus3"],"owner":{"account_id":25267413,"reputation":11,"user_id":19097334,"display_name":"Ayshe Ayparcasi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695117342,"creation_date":1695117342,"question_id":77133527,"body_markdown":"I created a repository on Nexus with Jenkins pipeline. I created the spring boot jar inside. Now I want to access this repository from another microservice project. I added some configurations to the settings.xml file under the ~/.m2 directory. And What should I add to the pom.xml file to access the repository?\r\n[![settings.xml][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lEaNg.png","title":"How can I use Nexus repository in other microservice projects?","body":"<p>I created a repository on Nexus with Jenkins pipeline. I created the spring boot jar inside. Now I want to access this repository from another microservice project. I added some configurations to the settings.xml file under the ~/.m2 directory. And What should I add to the pom.xml file to access the repository?\n<a href=\"https://i.stack.imgur.com/lEaNg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lEaNg.png\" alt=\"settings.xml\" /></a></p>\n"},{"tags":["java","hystrix"],"owner":{"account_id":6290651,"reputation":848,"user_id":4888475,"accept_rate":44,"display_name":"Mr.Tr33"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695117181,"creation_date":1695117181,"question_id":77133512,"body_markdown":"I am using Hystrix for API request in my application.\r\n\r\nIs it possible to configure Hystrix to send a cleaned up version of my request to an API. I mean, not sending the fields which are null?\r\n\r\nThe background to this question:&lt;br/&gt;\r\nI am using a service which has an openapi json file to generate the client. If I generate the client and use it for my requests it also sends the optional fields as null. But the service does not allow on some fields to be null. If I do not send the null fields, everything works fine.","title":"Hystrix how to send a clean request, without null","body":"<p>I am using Hystrix for API request in my application.</p>\n<p>Is it possible to configure Hystrix to send a cleaned up version of my request to an API. I mean, not sending the fields which are null?</p>\n<p>The background to this question:<br/>\nI am using a service which has an openapi json file to generate the client. If I generate the client and use it for my requests it also sends the optional fields as null. But the service does not allow on some fields to be null. If I do not send the null fields, everything works fine.</p>\n"},{"tags":["java","maven","javadoc"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679076227,"post_id":75758382,"comment_id":133662214,"body_markdown":"Do you have a full working example... It would be the best to file in an issue on https://issues.apache.org/jira/browse/MJAVADOC including the example...","body":"Do you have a full working example... It would be the best to file in an issue on <a href=\"https://issues.apache.org/jira/browse/MJAVADOC\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MJAVADOC</a> including the example..."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1679323329,"post_id":75758382,"comment_id":133696498,"body_markdown":"Here&#39;s an isolated reproducer: https://github.com/ge0ffrey/maven-javadoc-plugin-3.5.0-reproducer\nHere&#39;s the issue: https://issues.apache.org/jira/browse/MJAVADOC-747\nDoes that help?","body":"Here&#39;s an isolated reproducer: <a href=\"https://github.com/ge0ffrey/maven-javadoc-plugin-3.5.0-reproducer\" rel=\"nofollow noreferrer\">github.com/ge0ffrey/maven-javadoc-plugin-3.5.0-reproducer</a> Here&#39;s the issue: <a href=\"https://issues.apache.org/jira/browse/MJAVADOC-747\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MJAVADOC-747</a> Does that help?"},{"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1679687565,"post_id":75758382,"comment_id":133771970,"body_markdown":"can&#39;t you just exludepackagename from maven-javadoc-plugin for that problematic library?","body":"can&#39;t you just exludepackagename from maven-javadoc-plugin for that problematic library?"},{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1679765008,"post_id":75758382,"comment_id":133780923,"body_markdown":"When you say the error occurs &quot;while running the jar&quot;, what does that actually mean, as mvn jar:jar doesn&#39;t exhibit the error? Also, what maven version are you using?","body":"When you say the error occurs &quot;while running the jar&quot;, what does that actually mean, as mvn jar:jar doesn&#39;t exhibit the error? Also, what maven version are you using?"},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1680094099,"post_id":75758382,"comment_id":133838382,"body_markdown":"The package name is apparently the default package.","body":"The package name is apparently the default package."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1680094242,"post_id":75758382,"comment_id":133838419,"body_markdown":"Maven 3.8.6. The reason that mvn jar:jar doesn&#39;t exhibit is probably because it&#39;s the compiler plugin, not the jar plugin, that checks modules stuff. But the javadoc:jar goal does both jar creation and checking module stuff since 3.3.0 (which causes the regression).","body":"Maven 3.8.6. The reason that mvn jar:jar doesn&#39;t exhibit is probably because it&#39;s the compiler plugin, not the jar plugin, that checks modules stuff. But the javadoc:jar goal does both jar creation and checking module stuff since 3.3.0 (which causes the regression)."}],"answers":[{"tags":[],"owner":{"account_id":399098,"reputation":10373,"user_id":764206,"display_name":"Nikita Koksharov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695115821,"creation_date":1695115821,"answer_id":77133331,"question_id":75758382,"body_markdown":"[legacyMode](https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#legacymode) setting has been available since maven-javadocs-plugin 3.6.0 version. You need to set it `true` to disable modules usage during javadocs generation. Below is the example.\r\n\r\n       &lt;plugin&gt;\r\n         \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         \t&lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n         \t&lt;version&gt;3.6.0&lt;/version&gt;\r\n         \t&lt;executions&gt;\r\n                   &lt;execution&gt;\r\n                     &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                     &lt;goals&gt;\r\n                         &lt;goal&gt;jar&lt;/goal&gt;\r\n                     &lt;/goals&gt;\r\n                   &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n                &lt;legacyMode&gt;true&lt;/legacyMode&gt;\r\n            &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n","title":"Maven Javadoc plugin 3.5.0: How do I fix &quot;Unable to derive module descriptor&quot; error?","body":"<p><a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#legacymode\" rel=\"nofollow noreferrer\">legacyMode</a> setting has been available since maven-javadocs-plugin 3.6.0 version. You need to set it <code>true</code> to disable modules usage during javadocs generation. Below is the example.</p>\n<pre><code>   &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;executions&gt;\n               &lt;execution&gt;\n                 &lt;id&gt;attach-javadocs&lt;/id&gt;\n                 &lt;goals&gt;\n                     &lt;goal&gt;jar&lt;/goal&gt;\n                 &lt;/goals&gt;\n               &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;legacyMode&gt;true&lt;/legacyMode&gt;\n        &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1695115821,"creation_date":1678980959,"question_id":75758382,"body_markdown":"I am building a Maven project with the maven-javadoc-plugin attached.\r\n\r\nAfter updating to maven-javadoc-plugin 3.5.0, this error appears while running the `jar` goal:\r\n\r\n    Execution build-javadoc-jar of goal org.apache.maven.plugins:maven-javadoc-plugin:3.5.0:jar failed:\r\n      Unable to derive module descriptor for /.../rewrite-gradle-7.38.0.jar\r\n      PluginSpec.class found in top-level directory (unnamed package not allowed in module)\r\n\r\nI don&#39;t control that 3th party dependency. And I don&#39;t use JPMS.\r\n\r\nIs there a way to tell the javadoc tool to ignore module naming?\r\n\r\n\r\n----\r\n\r\n[Source code that reproduces the problem][1]:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;reproducer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;reproducer&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1&lt;/version&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.11.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.3.0&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;archive&gt;\r\n                  &lt;manifestEntries&gt;\r\n                    &lt;Automatic-Module-Name&gt;org.acme.reproducer&lt;/Automatic-Module-Name&gt;\r\n                  &lt;/manifestEntries&gt;\r\n                &lt;/archive&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.5.0&lt;/version&gt;&lt;!-- Regression from 3.2.0 which did not have the problem--&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rewrite-recipe-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;1.17.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openrewrite&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rewrite-gradle&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://github.com/ge0ffrey/maven-javadoc-plugin-3.5.0-reproducer/","title":"Maven Javadoc plugin 3.5.0: How do I fix &quot;Unable to derive module descriptor&quot; error?","body":"<p>I am building a Maven project with the maven-javadoc-plugin attached.</p>\n<p>After updating to maven-javadoc-plugin 3.5.0, this error appears while running the <code>jar</code> goal:</p>\n<pre><code>Execution build-javadoc-jar of goal org.apache.maven.plugins:maven-javadoc-plugin:3.5.0:jar failed:\n  Unable to derive module descriptor for /.../rewrite-gradle-7.38.0.jar\n  PluginSpec.class found in top-level directory (unnamed package not allowed in module)\n</code></pre>\n<p>I don't control that 3th party dependency. And I don't use JPMS.</p>\n<p>Is there a way to tell the javadoc tool to ignore module naming?</p>\n<hr />\n<p><a href=\"https://github.com/ge0ffrey/maven-javadoc-plugin-3.5.0-reproducer/\" rel=\"nofollow noreferrer\">Source code that reproduces the problem</a>:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;reproducer&lt;/groupId&gt;\n  &lt;artifactId&gt;reproducer&lt;/artifactId&gt;\n  &lt;version&gt;0.1&lt;/version&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifestEntries&gt;\n                &lt;Automatic-Module-Name&gt;org.acme.reproducer&lt;/Automatic-Module-Name&gt;\n              &lt;/manifestEntries&gt;\n            &lt;/archive&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.5.0&lt;/version&gt;&lt;!-- Regression from 3.2.0 which did not have the problem--&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\n        &lt;artifactId&gt;rewrite-recipe-bom&lt;/artifactId&gt;\n        &lt;version&gt;1.17.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openrewrite&lt;/groupId&gt;\n      &lt;artifactId&gt;rewrite-gradle&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","openssl","bouncycastle"],"comments":[{"owner":{"account_id":17300877,"reputation":388,"user_id":12530613,"display_name":"Auktis"},"score":0,"creation_date":1695117517,"post_id":77133270,"comment_id":135978208,"body_markdown":"Without any specific knowledge of both tools, I see &quot;PKCS7Padding&quot; in Java and &quot;-nopad&quot; in openssl, is this normal?","body":"Without any specific knowledge of both tools, I see &quot;PKCS7Padding&quot; in Java and &quot;-nopad&quot; in openssl, is this normal?"},{"owner":{"account_id":1587233,"reputation":431,"user_id":1471287,"accept_rate":100,"display_name":"jka_dk"},"score":0,"creation_date":1695118122,"post_id":77133270,"comment_id":135978373,"body_markdown":"I dont know - but if i dont put this parameter i get following error : \nbad decrypt\n80A08A0602000000:error:1C80006B:Provider routines:ossl_cipher_generic_block_final:wrong final block length:providers/implementations/ciphers/ciphercommon.c:429:","body":"I dont know - but if i dont put this parameter i get following error :  bad decrypt 80A08A0602000000:error:1C80006B:Provider routines:ossl_cipher_generic_block_final:wrong final block length:providers/implementations/ciphers/ciphercommon.c:429:"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1695121955,"post_id":77133270,"comment_id":135979011,"body_markdown":"Remove `-nopad`, add `-A`.","body":"Remove <code>-nopad</code>, add <code>-A</code>."},{"owner":{"account_id":1587233,"reputation":431,"user_id":1471287,"accept_rate":100,"display_name":"jka_dk"},"score":0,"creation_date":1695122479,"post_id":77133270,"comment_id":135979111,"body_markdown":"Thanks a million. So simple but -A is working. How do i set your answer as correct ?","body":"Thanks a million. So simple but -A is working. How do i set your answer as correct ?"}],"owner":{"account_id":1587233,"reputation":431,"user_id":1471287,"accept_rate":100,"display_name":"jka_dk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695115707,"creation_date":1695115358,"question_id":77133270,"body_markdown":"I&#39;m experimenting with BouncyCastle to encrypt a string or file and then decrypt it with the openssl command line tool.\r\n\r\nI have done the encryption like this \r\n\r\n```lang=java\r\nString text = &quot;Asdf&quot;;\r\n\r\nString encryptedText;\r\nSecurity.addProvider(new BouncyCastleProvider());\r\nString algorithm = &quot;AES/CBC/PKCS7Padding&quot;;\r\n\r\nbyte[] keyBytes = &quot;0123456789abcdef&quot;.getBytes(StandardCharsets.UTF_8);\r\nSecretKey secretKey = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n\r\nbyte[] ivBytes = new byte[16];\r\nIvParameterSpec ivParameterSpec = new IvParameterSpec(ivBytes);\r\nSecureRandom secureRandom = new SecureRandom();\r\nsecureRandom.nextBytes(ivBytes);\r\n\r\nCipher cipher = Cipher.getInstance(algorithm, &quot;BC&quot;);\r\ncipher.init(Cipher.ENCRYPT_MODE, secretKey, ivParameterSpec);\r\n\r\nbyte[] ciphertext = cipher.doFinal(text.getBytes(StandardCharsets.UTF_8));\r\nencryptedText = Base64.getEncoder().encodeToString(ciphertext);\r\n\r\n```\r\n\r\nand the string I get after encryptions is \r\n\r\n    fH/ybmlsrqaj1jVsjJEyBg==\r\n\r\nI have saved this in a file\r\nand then I try to decrypt it with this command:\r\n\r\n    openssl enc -d -aes-128-cbc -K 30313233343536373839616263646566 -iv 00000000000000000000000000000000 -nopad  -base64 -in in.txt -out decrypted.tx\r\n\r\nThere is no errors, but I get an empty file.\r\n\r\nIs this not possible or what am I doing wrong?\r\n\r\n","title":"How do i encrypt with Java/BouncyCastle and decrypt with eg. OpenSSL","body":"<p>I'm experimenting with BouncyCastle to encrypt a string or file and then decrypt it with the openssl command line tool.</p>\n<p>I have done the encryption like this</p>\n<pre><code>String text = &quot;Asdf&quot;;\n\nString encryptedText;\nSecurity.addProvider(new BouncyCastleProvider());\nString algorithm = &quot;AES/CBC/PKCS7Padding&quot;;\n\nbyte[] keyBytes = &quot;0123456789abcdef&quot;.getBytes(StandardCharsets.UTF_8);\nSecretKey secretKey = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n\nbyte[] ivBytes = new byte[16];\nIvParameterSpec ivParameterSpec = new IvParameterSpec(ivBytes);\nSecureRandom secureRandom = new SecureRandom();\nsecureRandom.nextBytes(ivBytes);\n\nCipher cipher = Cipher.getInstance(algorithm, &quot;BC&quot;);\ncipher.init(Cipher.ENCRYPT_MODE, secretKey, ivParameterSpec);\n\nbyte[] ciphertext = cipher.doFinal(text.getBytes(StandardCharsets.UTF_8));\nencryptedText = Base64.getEncoder().encodeToString(ciphertext);\n\n</code></pre>\n<p>and the string I get after encryptions is</p>\n<pre><code>fH/ybmlsrqaj1jVsjJEyBg==\n</code></pre>\n<p>I have saved this in a file\nand then I try to decrypt it with this command:</p>\n<pre><code>openssl enc -d -aes-128-cbc -K 30313233343536373839616263646566 -iv 00000000000000000000000000000000 -nopad  -base64 -in in.txt -out decrypted.tx\n</code></pre>\n<p>There is no errors, but I get an empty file.</p>\n<p>Is this not possible or what am I doing wrong?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1677238618,"creation_date":1677238618,"answer_id":75556103,"question_id":75555800,"body_markdown":"There are two approaches to solve this problem :\r\n\r\n1. Change the method name &#39;localeResolver&#39; to a different one; since &quot;Spring takes the names of the annotated methods as bean names.&quot;\r\n\r\n2. Set the name property of the @Bean annotation.\r\n\r\nFor reference you may follow :\r\nhttps://www.baeldung.com/spring-boot-bean-definition-override-exception","title":"Overide localeResolver bean in spring boot 3","body":"<p>There are two approaches to solve this problem :</p>\n<ol>\n<li><p>Change the method name 'localeResolver' to a different one; since &quot;Spring takes the names of the annotated methods as bean names.&quot;</p>\n</li>\n<li><p>Set the name property of the @Bean annotation.</p>\n</li>\n</ol>\n<p>For reference you may follow :\n<a href=\"https://www.baeldung.com/spring-boot-bean-definition-override-exception\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-bean-definition-override-exception</a></p>\n"},{"tags":[],"owner":{"account_id":14425529,"reputation":290,"user_id":10420415,"display_name":"Markus Ridziauskas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695115694,"creation_date":1695115694,"answer_id":77133318,"question_id":75555800,"body_markdown":"Faced this issue too while trying to create a bean inside a configuration imported from library using `@AutoConfiguration`.\\\r\n The `LocaleResolver` bean was being created in `WebMvcAutoConfiguration` which has `@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)`, the configuration I was providing should have had higher precedence, so adding `@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 9)` to my configuration class solved the issue. \r\n\r\nKeep in mind that this is only valid when your application is without the `@EnableWebMvc` annotation","title":"Overide localeResolver bean in spring boot 3","body":"<p>Faced this issue too while trying to create a bean inside a configuration imported from library using <code>@AutoConfiguration</code>.<br />\nThe <code>LocaleResolver</code> bean was being created in <code>WebMvcAutoConfiguration</code> which has <code>@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)</code>, the configuration I was providing should have had higher precedence, so adding <code>@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 9)</code> to my configuration class solved the issue.</p>\n<p>Keep in mind that this is only valid when your application is without the <code>@EnableWebMvc</code> annotation</p>\n"}],"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":888,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695115694,"creation_date":1677236824,"question_id":75555800,"body_markdown":"Before migrate to spring boot 3 I created `localeResolver` bean like this:\r\n\r\n    @Bean\r\n    public LocaleResolver localeResolver(MessageSourceProperties properties) {\r\n        CookieLocaleResolver clr = new CookieLocaleResolver(properties.getCookieName());\r\n        clr.setDefaultLocale(Locale.ENGLISH);\r\n        return clr;\r\n    }\r\n\r\nBut right now this bean already defined and i get error:\r\n\r\n    The bean &#39;localeResolver&#39;, defined in class path resource [com/app/autoconfigure/internationalization/I18nAutoConfiguration.class], could not be registered. A bean with that name has already been defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class] and overriding is disabled.\r\n\r\nThis bean is created in class `WebMvcConfigurationSupport`.\r\n\r\nHow to override it?","title":"Overide localeResolver bean in spring boot 3","body":"<p>Before migrate to spring boot 3 I created <code>localeResolver</code> bean like this:</p>\n<pre><code>@Bean\npublic LocaleResolver localeResolver(MessageSourceProperties properties) {\n    CookieLocaleResolver clr = new CookieLocaleResolver(properties.getCookieName());\n    clr.setDefaultLocale(Locale.ENGLISH);\n    return clr;\n}\n</code></pre>\n<p>But right now this bean already defined and i get error:</p>\n<pre><code>The bean 'localeResolver', defined in class path resource [com/app/autoconfigure/internationalization/I18nAutoConfiguration.class], could not be registered. A bean with that name has already been defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class] and overriding is disabled.\n</code></pre>\n<p>This bean is created in class <code>WebMvcConfigurationSupport</code>.</p>\n<p>How to override it?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud"],"answers":[{"tags":[],"owner":{"account_id":29479773,"reputation":36,"user_id":22590790,"display_name":"Chunlin Wu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695115622,"creation_date":1695115622,"answer_id":77133303,"question_id":77124346,"body_markdown":"1. CannotFindDataSourceException indicates that the program cannot run because of unable to load datasource configuration from the configuration file, and  there are no datasource configuration in order.yml.\r\n2. Either specify a datasource in order.yml or get reference to admin.yml, you bring in datasource conf and solve the problem.\r\n3. Where and How to specify the datasource has nothing to do whether multiple-database takes effect, what you need to do is adding multiple \r\n```\r\nspring:\r\n datasource:\r\n  dynamic:\r\n   datasource:\r\n```\r\nin config files (don&#39;t forget to specify the primary data sources), also see the document: https://www.kancloud.cn/tracy5546/dynamic-datasource/2264611","title":"com.baomidou.dynamic.datasource.exception.CannotFindDataSourceException: dynamic-datasource can not find primary datasource","body":"<ol>\n<li>CannotFindDataSourceException indicates that the program cannot run because of unable to load datasource configuration from the configuration file, and  there are no datasource configuration in order.yml.</li>\n<li>Either specify a datasource in order.yml or get reference to admin.yml, you bring in datasource conf and solve the problem.</li>\n<li>Where and How to specify the datasource has nothing to do whether multiple-database takes effect, what you need to do is adding multiple</li>\n</ol>\n<pre><code>spring:\n datasource:\n  dynamic:\n   datasource:\n</code></pre>\n<p>in config files (don't forget to specify the primary data sources), also see the document: <a href=\"https://www.kancloud.cn/tracy5546/dynamic-datasource/2264611\" rel=\"nofollow noreferrer\">https://www.kancloud.cn/tracy5546/dynamic-datasource/2264611</a></p>\n"}],"owner":{"account_id":29469436,"reputation":1,"user_id":22582297,"display_name":"夜初尘"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695115622,"creation_date":1695005785,"question_id":77124346,"body_markdown":"com.baomidou.dynamic.datasource.exception.CannotFindDataSourceException: dynamic-datasource can not find primary datasource\r\n\tat com.baomidou.dynamic.datasource.DynamicRoutingDataSource.determinePrimaryDataSource(DynamicRoutingDataSource.java:97)\r\n\tat com.baomidou.dynamic.datasource.DynamicRoutingDataSource.getDataSource(DynamicRoutingDataSource.java:126)\r\n\tat com.baomidou.dynamic.datasource.DynamicRoutingDataSource.determineDataSource(DynamicRoutingDataSource.java:83)\r\n\tat com.baomidou.dynamic.datasource.ds.AbstractRoutingDataSource.getConnection(AbstractRoutingDataSource.java:55)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330)\r\n\tat org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.getProduct(DataSourceHealthIndicator.java:122)\r\n\tat org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:105)\r\n\tat org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)\r\n\tat org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\r\n\tat org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:94)\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:88)\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:78)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\r\n\tat org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)\r\n\tat org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\r\n\tat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:122)\r\n\tat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)\r\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n\tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n\tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n\tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n10:26:08.070 [RMI TCP Connection(5)-10.21.102.209] INFO  o.a.c.c.C.[.[.[/] - [log,173] - Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n10:26:26.590 [nacos-grpc-client-executor-16] INFO  c.a.n.c.r.client - [printIfInfoEnabled,60] - [4d6ce7ac-dc84-43d7-b6cb-79073a6368a9_config-0] Receive server push request, request = ConfigChangeNotifyRequest, requestId = 17\r\n10:26:26.591 [nacos-grpc-client-executor-16] INFO  c.a.n.c.r.client - [printIfInfoEnabled,60] - [4d6ce7ac-dc84-43d7-b6cb-79073a6368a9_config-0] Ack server push request, request = ConfigChangeNotifyRequest, requestId = 17\r\n10:26:27.525 [nacos.client.cachedata.internal.notifier] WARN  c.a.c.n.c.NacosPropertySourceBuilder - [loadNacosData,87] - Ignore the empty nacos configuration and get it based on dataId[sanxin-order] &amp; group[DEFAULT_GROUP]\r\n10:26:27.528 [nacos.client.cachedata.internal.notifier] WARN  c.a.c.n.c.NacosPropertySourceBuilder - [loadNacosData,87] - Ignore the empty nacos configuration and get it based on dataId[sanxin-order.yml] &amp; group[DEFAULT_GROUP]\r\n\r\nAs above,I can&#39;t run the OrderApplication. In nacos，my admin.yml like that\r\n\r\n\r\n`spring: \r\n  datasource:\r\n    dynamic:\r\n      druid:\r\n        initial-size: 5\r\n        min-idle: 5\r\n        maxActive: 20\r\n        maxWait: 60000\r\n      primary: master\r\n      datasource:\r\n        master:\r\n          driver-class-name: com.mysql.cj.jdbc.Driver\r\n          url: jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=true&amp;serverTimezone=GMT%2B8\r\n          username: test\r\n          password: test\r\n`\r\n        \r\n\r\n\r\n\r\nThe AdminApplication read the admin.yml in nacos,and it worked.But when i run the OrderApplication,and read the order.yml,it can&#39;t worked,and the order.yml:\r\n\r\n\r\n\r\n`\r\nspring: \r\n  redis:\r\n    host: localhost\r\n    port: 6379\r\n  datasource:\r\n    dynamic:\r\n       primary: master \r\n       strict: false    \r\nmybatis-plus:\r\n  typeAliasesPackage: com.sanxin.order\r\n  mapperLocations: classpath:mapper/**/*.xml\r\n`\r\n\r\n\r\n\r\nI tried to add the mysql database datasource like url,username,password in order.yml,the OrderApplication can worked,but this way make the multiple database origin invalid,so i can&#39;t do like that.\r\nI tried to add extension-configs in  OrderApplication/bootstrap.yml, just like:\r\n\r\n\r\n\r\n\r\n`      extension-configs:\r\n        - dataId: admin.yml\r\n          group: DEFAULT_GROUP\r\n`\r\n\r\n\r\n\r\nAnd the Application worked,too.But i don&#39;t know the property would make the multipl database invalid or not.\r\nSo What Can I do to make the OrderApplication Run?","title":"com.baomidou.dynamic.datasource.exception.CannotFindDataSourceException: dynamic-datasource can not find primary datasource","body":"<p>com.baomidou.dynamic.datasource.exception.CannotFindDataSourceException: dynamic-datasource can not find primary datasource\nat com.baomidou.dynamic.datasource.DynamicRoutingDataSource.determinePrimaryDataSource(DynamicRoutingDataSource.java:97)\nat com.baomidou.dynamic.datasource.DynamicRoutingDataSource.getDataSource(DynamicRoutingDataSource.java:126)\nat com.baomidou.dynamic.datasource.DynamicRoutingDataSource.determineDataSource(DynamicRoutingDataSource.java:83)\nat com.baomidou.dynamic.datasource.ds.AbstractRoutingDataSource.getConnection(AbstractRoutingDataSource.java:55)\nat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159)\nat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117)\nat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80)\nat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330)\nat org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.getProduct(DataSourceHealthIndicator.java:122)\nat org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:105)\nat org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)\nat org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\nat org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\nat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:94)\nat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)\nat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:88)\nat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:78)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\nat org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)\nat org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\nat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:122)\nat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)\nat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\nat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\nat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\nat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\nat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\nat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\nat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\nat sun.rmi.transport.Transport$1.run(Transport.java:200)\nat sun.rmi.transport.Transport$1.run(Transport.java:197)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\nat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n10:26:08.070 [RMI TCP Connection(5)-10.21.102.209] INFO  o.a.c.c.C.[.[.[/] - [log,173] - Initializing Spring DispatcherServlet 'dispatcherServlet'\n10:26:26.590 [nacos-grpc-client-executor-16] INFO  c.a.n.c.r.client - [printIfInfoEnabled,60] - [4d6ce7ac-dc84-43d7-b6cb-79073a6368a9_config-0] Receive server push request, request = ConfigChangeNotifyRequest, requestId = 17\n10:26:26.591 [nacos-grpc-client-executor-16] INFO  c.a.n.c.r.client - [printIfInfoEnabled,60] - [4d6ce7ac-dc84-43d7-b6cb-79073a6368a9_config-0] Ack server push request, request = ConfigChangeNotifyRequest, requestId = 17\n10:26:27.525 [nacos.client.cachedata.internal.notifier] WARN  c.a.c.n.c.NacosPropertySourceBuilder - [loadNacosData,87] - Ignore the empty nacos configuration and get it based on dataId[sanxin-order] &amp; group[DEFAULT_GROUP]\n10:26:27.528 [nacos.client.cachedata.internal.notifier] WARN  c.a.c.n.c.NacosPropertySourceBuilder - [loadNacosData,87] - Ignore the empty nacos configuration and get it based on dataId[sanxin-order.yml] &amp; group[DEFAULT_GROUP]</p>\n<p>As above,I can't run the OrderApplication. In nacos，my admin.yml like that</p>\n<p><code>spring:  datasource: dynamic: druid: initial-size: 5 min-idle: 5 maxActive: 20 maxWait: 60000 primary: master datasource: master: driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=true&amp;serverTimezone=GMT%2B8 username: test password: test </code></p>\n<p>The AdminApplication read the admin.yml in nacos,and it worked.But when i run the OrderApplication,and read the order.yml,it can't worked,and the order.yml:</p>\n<p><code>spring:  redis: host: localhost port: 6379 datasource: dynamic: primary: master  strict: false     mybatis-plus: typeAliasesPackage: com.sanxin.order mapperLocations: classpath:mapper/**/*.xml</code></p>\n<p>I tried to add the mysql database datasource like url,username,password in order.yml,the OrderApplication can worked,but this way make the multiple database origin invalid,so i can't do like that.\nI tried to add extension-configs in  OrderApplication/bootstrap.yml, just like:</p>\n<p><code>     extension-configs: - dataId: admin.yml group: DEFAULT_GROUP</code></p>\n<p>And the Application worked,too.But i don't know the property would make the multipl database invalid or not.\nSo What Can I do to make the OrderApplication Run?</p>\n"},{"tags":["java","spring","spring-boot","gradle","maven-publish"],"answers":[{"tags":[],"owner":{"account_id":7986346,"reputation":962,"user_id":6025730,"accept_rate":67,"display_name":"Nakamura"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1588160228,"creation_date":1588160228,"answer_id":61500898,"question_id":61500897,"body_markdown":"After messing around for a while, I found the solution:\r\n\r\n```\r\npublishing {\r\n\tpublications {\r\n\t\tmavenJava(MavenPublication){\r\n\t\t\t// bootJar is the default build task configured by Spring Boot\r\n\t\t\tartifact bootJar\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n### Detailed Explanation\r\n\r\nThis is because `components.java` is configured for default java plugin task: `jar` or `war`. However for Spring Boot, after applying plugin `org.springframework.boot`, the default task become `bootJar` or `bootWar`.\r\n\r\n(For your reference) From Spring Boot doc:\r\n\r\n&gt;  Executable jars can be built using the `bootJar` task. The task is automatically created when the `java` plugin is applied and is an instance of `BootJar`. The `assemble` task is automatically configured to depend upon the `bootJar` task so running `assemble` (or `build`) will also run the `bootJar` task.\r\n\r\nTherefore, the artifact could not be correctly identified by `components.java`. We should point to `bootJar` or `bootWar` instead.\r\n\r\nReference: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#publishing-your-application-maven-publish\r\n","title":"Gradle, SpringBoot, MavenPublish - Publication only contains dependencies and/or constraints without a version","body":"<p>After messing around for a while, I found the solution:</p>\n\n<pre><code>publishing {\n    publications {\n        mavenJava(MavenPublication){\n            // bootJar is the default build task configured by Spring Boot\n            artifact bootJar\n        }\n    }\n}\n</code></pre>\n\n<h3>Detailed Explanation</h3>\n\n<p>This is because <code>components.java</code> is configured for default java plugin task: <code>jar</code> or <code>war</code>. However for Spring Boot, after applying plugin <code>org.springframework.boot</code>, the default task become <code>bootJar</code> or <code>bootWar</code>.</p>\n\n<p>(For your reference) From Spring Boot doc:</p>\n\n<blockquote>\n  <p>Executable jars can be built using the <code>bootJar</code> task. The task is automatically created when the <code>java</code> plugin is applied and is an instance of <code>BootJar</code>. The <code>assemble</code> task is automatically configured to depend upon the <code>bootJar</code> task so running <code>assemble</code> (or <code>build</code>) will also run the <code>bootJar</code> task.</p>\n</blockquote>\n\n<p>Therefore, the artifact could not be correctly identified by <code>components.java</code>. We should point to <code>bootJar</code> or <code>bootWar</code> instead.</p>\n\n<p>Reference: <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#publishing-your-application-maven-publish\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#publishing-your-application-maven-publish</a></p>\n"},{"tags":[],"owner":{"account_id":4762496,"reputation":1608,"user_id":3849555,"display_name":"Chayne P. S."},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1591595212,"creation_date":1591595212,"answer_id":62255748,"question_id":61500897,"body_markdown":"Extend the answer by @Nakamura, If you make a project to be Springboot Library and need to set:\r\n\r\n    bootJar {\r\n        enabled=false\r\n    }\r\n    \r\n    jar {\r\n        enabled=true\r\n    }\r\n\r\nYou can set :\r\n\r\n    publishing {\r\n        publications {\r\n            mavenJava(MavenPublication){\r\n                // jar is the default build task configured by Spring Boot if bootJar=false\r\n                artifact jar\r\n            }\r\n        }\r\n    }","title":"Gradle, SpringBoot, MavenPublish - Publication only contains dependencies and/or constraints without a version","body":"<p>Extend the answer by @Nakamura, If you make a project to be Springboot Library and need to set:</p>\n\n<pre><code>bootJar {\n    enabled=false\n}\n\njar {\n    enabled=true\n}\n</code></pre>\n\n<p>You can set :</p>\n\n<pre><code>publishing {\n    publications {\n        mavenJava(MavenPublication){\n            // jar is the default build task configured by Spring Boot if bootJar=false\n            artifact jar\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2635431,"reputation":1575,"user_id":2280259,"accept_rate":33,"display_name":"isank-a"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1599762665,"creation_date":1599762665,"answer_id":63835718,"question_id":61500897,"body_markdown":"The problem that you&#39;re facing is actually the desired behavior because of the change - https://github.com/gradle/gradle/pull/11388 that came along with Gradle 6.0.1\r\n\r\nThe thing is that Gradle requires you to provide a proper version of dependencies so as to disallow users from publishing an invalid Gradle Module Metadata. The discussions on the issues below will help you to get a deeper insight into this\r\n\r\nhttps://github.com/gradle/gradle/issues/11862\r\n\r\nhttps://github.com/spring-gradle-plugins/dependency-management-plugin/issues/262\r\n\r\nNow, in your case, there are two solutions that you can choose from\r\n\r\n```groovy\r\npublishing {\r\n    publications {\r\n        mavenJava(MavenPublication){\r\n            // bootJar is the default build task configured by Spring Boot\r\n            artifact bootJar\r\n        }\r\n    }\r\n}\r\n```\r\nor\r\n\r\n```groovy\r\npublishing {\r\n\tpublications {\r\n\t\tmavenJava(MavenPublication) {\r\n\t\t\tfrom components.java\r\n\r\n\t\t\tversionMapping {\r\n\t\t\t\tusage(&#39;java-api&#39;) {\r\n\t\t\t\t\tfromResolutionOf(&#39;runtimeClasspath&#39;)\r\n\t\t\t\t}\r\n\t\t\t\tusage(&#39;java-runtime&#39;) {\r\n\t\t\t\t\tfromResolutionResult()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nMore information on the second option can be found on this link - https://docs.gradle.org/6.6.1/userguide/publishing_maven.html\r\n\r\n","title":"Gradle, SpringBoot, MavenPublish - Publication only contains dependencies and/or constraints without a version","body":"<p>The problem that you're facing is actually the desired behavior because of the change - <a href=\"https://github.com/gradle/gradle/pull/11388\" rel=\"noreferrer\">https://github.com/gradle/gradle/pull/11388</a> that came along with Gradle 6.0.1</p>\n<p>The thing is that Gradle requires you to provide a proper version of dependencies so as to disallow users from publishing an invalid Gradle Module Metadata. The discussions on the issues below will help you to get a deeper insight into this</p>\n<p><a href=\"https://github.com/gradle/gradle/issues/11862\" rel=\"noreferrer\">https://github.com/gradle/gradle/issues/11862</a></p>\n<p><a href=\"https://github.com/spring-gradle-plugins/dependency-management-plugin/issues/262\" rel=\"noreferrer\">https://github.com/spring-gradle-plugins/dependency-management-plugin/issues/262</a></p>\n<p>Now, in your case, there are two solutions that you can choose from</p>\n<pre><code>publishing {\n    publications {\n        mavenJava(MavenPublication){\n            // bootJar is the default build task configured by Spring Boot\n            artifact bootJar\n        }\n    }\n}\n</code></pre>\n<p>or</p>\n<pre><code>publishing {\n    publications {\n        mavenJava(MavenPublication) {\n            from components.java\n\n            versionMapping {\n                usage('java-api') {\n                    fromResolutionOf('runtimeClasspath')\n                }\n                usage('java-runtime') {\n                    fromResolutionResult()\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>More information on the second option can be found on this link - <a href=\"https://docs.gradle.org/6.6.1/userguide/publishing_maven.html\" rel=\"noreferrer\">https://docs.gradle.org/6.6.1/userguide/publishing_maven.html</a></p>\n"}],"owner":{"account_id":7986346,"reputation":962,"user_id":6025730,"accept_rate":67,"display_name":"Nakamura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14238,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1695115073,"creation_date":1588160228,"question_id":61500897,"body_markdown":"I&#39;m using maven-publish plugin in Gradle to publish my Spring Boot application jar. I run the usual task: `./gradlew artifactorypublish`. However, the following error appeared, which I couldn&#39;t understand the meaning of:\r\n\r\n```\r\n&gt; Task :assembleArtifact\r\n&gt; Task :application-jar:compileJava UP-TO-DATE\r\n&gt; Task :application-jar:processResources UP-TO-DATE\r\n&gt; Task :application-jar:classes UP-TO-DATE\r\n&gt; Task :application-jar:jar SKIPPED\r\n&gt; Task :generateMetadataFileForMavenJavaPublication FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:generateMetadataFileForMavenJavaPublication&#39;.\r\n&gt; Invalid publication &#39;mavenJava&#39;:\r\n    - Publication only contains dependencies and/or constraints without a version. You need to add minimal version information, publish resolved versions (https://docs.gradle.org/6.1/userguide/publishing_maven.html#publishing_maven:resolved_dependencies) or reference a platform (https://docs.gradle.org/6.1/userguide/platforms.html)\r\n```\r\n\r\nMy build.gradle:\r\n\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.2.6.RELEASE&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n\tid &#39;maven-publish&#39;\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n\t\texclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n\t}\r\n}\r\n\r\npublishing {\r\n\tpublications {\r\n\t\tmavenJava(MavenPublication){\r\n\t\t\tcomponents.java\r\n\t\t}\r\n\t}\r\n}\r\n\r\n...\r\n```\r\n\r\nVersions:  \r\nGradle 6.1  \r\nSpring Boot 2.2.6 (mostly generated from Spring Boot Initializr)","title":"Gradle, SpringBoot, MavenPublish - Publication only contains dependencies and/or constraints without a version","body":"<p>I'm using maven-publish plugin in Gradle to publish my Spring Boot application jar. I run the usual task: <code>./gradlew artifactorypublish</code>. However, the following error appeared, which I couldn't understand the meaning of:</p>\n<pre><code>&gt; Task :assembleArtifact\n&gt; Task :application-jar:compileJava UP-TO-DATE\n&gt; Task :application-jar:processResources UP-TO-DATE\n&gt; Task :application-jar:classes UP-TO-DATE\n&gt; Task :application-jar:jar SKIPPED\n&gt; Task :generateMetadataFileForMavenJavaPublication FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':generateMetadataFileForMavenJavaPublication'.\n&gt; Invalid publication 'mavenJava':\n    - Publication only contains dependencies and/or constraints without a version. You need to add minimal version information, publish resolved versions (https://docs.gradle.org/6.1/userguide/publishing_maven.html#publishing_maven:resolved_dependencies) or reference a platform (https://docs.gradle.org/6.1/userguide/platforms.html)\n</code></pre>\n<p>My build.gradle:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.2.6.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id 'java'\n    id 'maven-publish'\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n}\n\npublishing {\n    publications {\n        mavenJava(MavenPublication){\n            components.java\n        }\n    }\n}\n\n...\n</code></pre>\n<p>Versions:<br />\nGradle 6.1<br />\nSpring Boot 2.2.6 (mostly generated from Spring Boot Initializr)</p>\n"},{"tags":["java","android"],"owner":{"account_id":29480231,"reputation":1,"user_id":22591175,"display_name":"Lati111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695115031,"creation_date":1695115031,"question_id":77133239,"body_markdown":"I&#39;m trying to change the background color of the inactive input field in the material time picker&#39;s keyboard mode, the circled grey part in the [example image](https://i.stack.imgur.com/YGyQN.png). I can&#39;t find a way to change it however.\r\n\r\nThe timepicker&#39;s code is as follows:\r\n\r\n```\r\n        FragmentManager fragmentManager = getSupportFragmentManager();\r\n        MaterialTimePicker materialTimePicker = new MaterialTimePicker.Builder()\r\n                .setTimeFormat(TimeFormat.CLOCK_24H)\r\n                //.setTheme(R.style.Timepicker_theme)\r\n                .setInputMode(MaterialTimePicker.INPUT_MODE_KEYBOARD)\r\n                .build();\r\n        materialTimePicker.show(fragmentManager, &quot;a&quot;);\r\n```\r\n\r\nAnd this is the primary theme I&#39;m using:\r\n\r\n```\r\n    &lt;style name=&quot;Theme.app&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/blue_primary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/blue_secondary&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/blue_primary&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/blue_secondary&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/yellow_primary&lt;/item&gt;\r\n        &lt;!-- Text color. --&gt;\r\n        &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorPrimaryDisableOnly&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```\r\n\r\nI&#39;ve tried changing the theme using `.setTheme(R.style.Timepicker_theme)`, which crashes unless the style inherits `ThemeOverlay.MaterialComponents.TimePicker`. Using this style I can change the elements in the clock mode, but not the keyboard mode.\r\n\r\nI might be missing something due to not being very experienced with android development, but I couldn&#39;t find anything that worked after several hours of googling. Any help would be appreciated.","title":"Can&#39;t change color in material timepicker in keyboard mode","body":"<p>I'm trying to change the background color of the inactive input field in the material time picker's keyboard mode, the circled grey part in the <a href=\"https://i.stack.imgur.com/YGyQN.png\" rel=\"nofollow noreferrer\">example image</a>. I can't find a way to change it however.</p>\n<p>The timepicker's code is as follows:</p>\n<pre><code>        FragmentManager fragmentManager = getSupportFragmentManager();\n        MaterialTimePicker materialTimePicker = new MaterialTimePicker.Builder()\n                .setTimeFormat(TimeFormat.CLOCK_24H)\n                //.setTheme(R.style.Timepicker_theme)\n                .setInputMode(MaterialTimePicker.INPUT_MODE_KEYBOARD)\n                .build();\n        materialTimePicker.show(fragmentManager, &quot;a&quot;);\n</code></pre>\n<p>And this is the primary theme I'm using:</p>\n<pre><code>    &lt;style name=&quot;Theme.app&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- Primary brand color. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/blue_primary&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/blue_secondary&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\n        &lt;!-- Secondary brand color. --&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/blue_primary&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/blue_secondary&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Status bar color. --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/yellow_primary&lt;/item&gt;\n        &lt;!-- Text color. --&gt;\n        &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\n        &lt;item name=&quot;android:textColorPrimaryDisableOnly&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>I've tried changing the theme using <code>.setTheme(R.style.Timepicker_theme)</code>, which crashes unless the style inherits <code>ThemeOverlay.MaterialComponents.TimePicker</code>. Using this style I can change the elements in the clock mode, but not the keyboard mode.</p>\n<p>I might be missing something due to not being very experienced with android development, but I couldn't find anything that worked after several hours of googling. Any help would be appreciated.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1588755104,"post_id":61630688,"comment_id":109017267,"body_markdown":"Please unzip the `*.docx` and have a look into the `word/document.xml`. I suspect there are `pict` elements in the text runs instead of `drawing` elements. So `.getCTR().getPictList()` will contain your shapes.","body":"Please unzip the <code>*.docx</code> and have a look into the <code>word&#47;document.xml</code>. I suspect there are <code>pict</code> elements in the text runs instead of <code>drawing</code> elements. So <code>.getCTR().getPictList()</code> will contain your shapes."},{"owner":{"account_id":8895617,"reputation":139,"user_id":6640786,"display_name":"Co Worker"},"score":0,"creation_date":1588755780,"post_id":61630688,"comment_id":109017662,"body_markdown":"Hi @AxelRichter, I think the drawings are not the file, Please see the XML content of XWPFRun.","body":"Hi @AxelRichter, I think the drawings are not the file, Please see the XML content of XWPFRun."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1588756079,"post_id":61630688,"comment_id":109017823,"body_markdown":"What file are you talking about? In `XML` there is `&lt;w:r&gt; ...&lt;w:pict&gt;...&lt;v:rect&gt;` for a rectangle shape. This is what `.getCTR().getPictList()` would get. The `drawing` elements are only used for `SmartArt` graphics.","body":"What file are you talking about? In <code>XML</code> there is <code>&lt;w:r&gt; ...&lt;w:pict&gt;...&lt;v:rect&gt;</code> for a rectangle shape. This is what <code>.getCTR().getPictList()</code> would get. The <code>drawing</code> elements are only used for <code>SmartArt</code> graphics."},{"owner":{"account_id":8895617,"reputation":139,"user_id":6640786,"display_name":"Co Worker"},"score":0,"creation_date":1588756275,"post_id":61630688,"comment_id":109017927,"body_markdown":"Sorry, I forgot to attach the XML. You can see the definition for the drawing in the XML. I tried to extract it. There is no image in the word/... `&lt;xml-fragment &gt;\n   &lt;mc:AlternateContent&gt;\n      &lt;mc:Choice Requires=&quot;wps&quot;&gt;\n         &lt;w:drawing&gt;\n            .......\n         &lt;/w:drawing&gt;\n      &lt;/mc:Choice&gt;\n      &lt;mc:Fallback&gt;\n         &lt;w:pict&gt;\n            &lt;v:rect &gt;\n               ......\n            &lt;/v:rect&gt;\n         &lt;/w:pict&gt;\n      &lt;/mc:Fallback&gt;\n   &lt;/mc:AlternateContent&gt;\n&lt;/xml-fragment&gt;`","body":"Sorry, I forgot to attach the XML. You can see the definition for the drawing in the XML. I tried to extract it. There is no image in the word/... <code>&lt;xml-fragment &gt;    &lt;mc:AlternateContent&gt;       &lt;mc:Choice Requires=&quot;wps&quot;&gt;          &lt;w:drawing&gt;             .......          &lt;&#47;w:drawing&gt;       &lt;&#47;mc:Choice&gt;       &lt;mc:Fallback&gt;          &lt;w:pict&gt;             &lt;v:rect &gt;                ......             &lt;&#47;v:rect&gt;          &lt;&#47;w:pict&gt;       &lt;&#47;mc:Fallback&gt;    &lt;&#47;mc:AlternateContent&gt; &lt;&#47;xml-fragment&gt;</code>"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1588757334,"post_id":61630688,"comment_id":109018519,"body_markdown":"Please provide that `XML` in your question. It shows, your `Word` document uses alternate content which was introduced after publishing `Office Open XML` in 2007. So `apache poi` does not provide methods to get that content. It only can be got using `XML` (`XPath`) methods directly.","body":"Please provide that <code>XML</code> in your question. It shows, your <code>Word</code> document uses alternate content which was introduced after publishing <code>Office Open XML</code> in 2007. So <code>apache poi</code> does not provide methods to get that content. It only can be got using <code>XML</code> (<code>XPath</code>) methods directly."},{"owner":{"account_id":8895617,"reputation":139,"user_id":6640786,"display_name":"Co Worker"},"score":0,"creation_date":1588759399,"post_id":61630688,"comment_id":109019662,"body_markdown":"@AxelRichter, yes, I added the XML to my question","body":"@AxelRichter, yes, I added the XML to my question"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695114811,"creation_date":1588762539,"answer_id":61633401,"question_id":61630688,"body_markdown":"Your provided `XML` shows, your `Word` document uses alternate content which was introduced after publishing `Office Open XML` in 2007. So `apache poi` does not provide methods to get that content as it only provides methods for `Office Open XML` according standard `ECMA-376`. That is because the underlying `ooxml-schemas` were created from that `ECMA-376` standard only.\r\n\r\nSo the `drawing` elements in the `AlternateContent` elements only can be got using `XML` (`XPath`) methods directly.\r\n\r\nThis could look like so:\r\n\r\n    import java.io.FileInputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\r\n    \r\n    import org.apache.xmlbeans.XmlObject;\r\n    import org.apache.xmlbeans.XmlCursor;\r\n    \r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    \r\n    public class WordGetAllDrawingsFromRuns {\r\n    \r\n     private static List&lt;CTDrawing&gt; getAllDrawings(XWPFRun run) throws Exception {\r\n      CTR ctR = run.getCTR();\r\n      XmlCursor cursor = ctR.newCursor();\r\n      cursor.selectPath(&quot;declare namespace w=&#39;http://schemas.openxmlformats.org/wordprocessingml/2006/main&#39; .//w:drawing&quot;);\r\n      List&lt;CTDrawing&gt; drawings = new ArrayList&lt;CTDrawing&gt;();\r\n      while (cursor.hasNextSelection()) {\r\n       cursor.toNextSelection();\r\n       XmlObject obj = cursor.getObject();\r\n       CTDrawing drawing = CTDrawing.Factory.parse(obj.newInputStream());\r\n       drawings.add(drawing);\r\n      }\r\n      return drawings;\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;WordDocument.docx&quot;));\r\n    \r\n      for (IBodyElement bodyElement : document.getBodyElements()) {\r\n       if (bodyElement instanceof XWPFParagraph) {\r\n        XWPFParagraph paragraph = (XWPFParagraph) bodyElement;\r\n        for(IRunElement runElement : paragraph.getIRuns()) {\r\n         if (runElement instanceof XWPFRun) {\r\n          XWPFRun run = (XWPFRun) runElement;\r\n          List&lt;CTDrawing&gt; drawings = getAllDrawings(run);\r\n          System.out.println(drawings);\r\n    \r\n         }\r\n        }\r\n       }\r\n      }\r\n    \r\n      document.close();\r\n     }\r\n    }\r\n\r\n\r\nBut next problem will be how to get contents out of the `drawing` elements then as `&lt;wps:wsp&gt;&lt;wps:txbx&gt;` also is not part of `Office Open XML` according standard `ECMA-376`. So `ooxml-schemas` methods of `CTDrawing` also are not able to get those. So if the need is then getting the text box contents from the drawing, this also is only possible using `XML` (`XPath`) methods directly.\r\n\r\nThis could look like so then:\r\n\r\n     private static CTTxbxContent getTextBoxContent(CTDrawing drawing) throws Exception {\r\n      XmlCursor cursor = drawing.newCursor();\r\n      cursor.selectPath(&quot;declare namespace w=&#39;http://schemas.openxmlformats.org/wordprocessingml/2006/main&#39; .//w:txbxContent&quot;);\r\n      List&lt;CTTxbxContent&gt; txbxContents = new ArrayList&lt;CTTxbxContent&gt;();\r\n      while (cursor.hasNextSelection()) {\r\n       cursor.toNextSelection();\r\n       XmlObject obj = cursor.getObject();\r\n       CTTxbxContent txbxContent = CTTxbxContent.Factory.parse(obj.newInputStream());\r\n       txbxContents.add(txbxContent);\r\n       break;\r\n      }\r\n      CTTxbxContent txbxContent = null;\r\n      if (txbxContents.size() &gt; 0) {\r\n       txbxContent = txbxContents.get(0);\r\n      }\r\n      return txbxContent;\r\n     }\r\n\r\n","title":"How to get the drawings from the apache POI XWPFDocument?","body":"<p>Your provided <code>XML</code> shows, your <code>Word</code> document uses alternate content which was introduced after publishing <code>Office Open XML</code> in 2007. So <code>apache poi</code> does not provide methods to get that content as it only provides methods for <code>Office Open XML</code> according standard <code>ECMA-376</code>. That is because the underlying <code>ooxml-schemas</code> were created from that <code>ECMA-376</code> standard only.</p>\n<p>So the <code>drawing</code> elements in the <code>AlternateContent</code> elements only can be got using <code>XML</code> (<code>XPath</code>) methods directly.</p>\n<p>This could look like so:</p>\n<pre><code>import java.io.FileInputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\n\nimport org.apache.xmlbeans.XmlObject;\nimport org.apache.xmlbeans.XmlCursor;\n\nimport java.util.List;\nimport java.util.ArrayList;\n\npublic class WordGetAllDrawingsFromRuns {\n\n private static List&lt;CTDrawing&gt; getAllDrawings(XWPFRun run) throws Exception {\n  CTR ctR = run.getCTR();\n  XmlCursor cursor = ctR.newCursor();\n  cursor.selectPath(&quot;declare namespace w='http://schemas.openxmlformats.org/wordprocessingml/2006/main' .//w:drawing&quot;);\n  List&lt;CTDrawing&gt; drawings = new ArrayList&lt;CTDrawing&gt;();\n  while (cursor.hasNextSelection()) {\n   cursor.toNextSelection();\n   XmlObject obj = cursor.getObject();\n   CTDrawing drawing = CTDrawing.Factory.parse(obj.newInputStream());\n   drawings.add(drawing);\n  }\n  return drawings;\n }\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;WordDocument.docx&quot;));\n\n  for (IBodyElement bodyElement : document.getBodyElements()) {\n   if (bodyElement instanceof XWPFParagraph) {\n    XWPFParagraph paragraph = (XWPFParagraph) bodyElement;\n    for(IRunElement runElement : paragraph.getIRuns()) {\n     if (runElement instanceof XWPFRun) {\n      XWPFRun run = (XWPFRun) runElement;\n      List&lt;CTDrawing&gt; drawings = getAllDrawings(run);\n      System.out.println(drawings);\n\n     }\n    }\n   }\n  }\n\n  document.close();\n }\n}\n</code></pre>\n<p>But next problem will be how to get contents out of the <code>drawing</code> elements then as <code>&lt;wps:wsp&gt;&lt;wps:txbx&gt;</code> also is not part of <code>Office Open XML</code> according standard <code>ECMA-376</code>. So <code>ooxml-schemas</code> methods of <code>CTDrawing</code> also are not able to get those. So if the need is then getting the text box contents from the drawing, this also is only possible using <code>XML</code> (<code>XPath</code>) methods directly.</p>\n<p>This could look like so then:</p>\n<pre><code> private static CTTxbxContent getTextBoxContent(CTDrawing drawing) throws Exception {\n  XmlCursor cursor = drawing.newCursor();\n  cursor.selectPath(&quot;declare namespace w='http://schemas.openxmlformats.org/wordprocessingml/2006/main' .//w:txbxContent&quot;);\n  List&lt;CTTxbxContent&gt; txbxContents = new ArrayList&lt;CTTxbxContent&gt;();\n  while (cursor.hasNextSelection()) {\n   cursor.toNextSelection();\n   XmlObject obj = cursor.getObject();\n   CTTxbxContent txbxContent = CTTxbxContent.Factory.parse(obj.newInputStream());\n   txbxContents.add(txbxContent);\n   break;\n  }\n  CTTxbxContent txbxContent = null;\n  if (txbxContents.size() &gt; 0) {\n   txbxContent = txbxContents.get(0);\n  }\n  return txbxContent;\n }\n</code></pre>\n"}],"owner":{"account_id":8895617,"reputation":139,"user_id":6640786,"display_name":"Co Worker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2001,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61633401,"answer_count":1,"score":0,"last_activity_date":1695114811,"creation_date":1588753640,"question_id":61630688,"body_markdown":"I tried to get the drawings from the XWPFDocument by this way(My data.docx only contains one rectangle and it&#39;s text).\r\n```\r\n    XWPFDocument wordDocumentObj = new XWPFDocument(new FileInputStream(new File(&quot;data.docx&quot;)));\r\n    Iterator&lt;IBodyElement&gt; bodyElementIterator = wordDocumentObj.getBodyElementsIterator();\r\n\r\n    while(bodyElementIterator.hasNext()){\r\n        IBodyElement element = bodyElementIterator.next();\r\n        if (element instanceof XWPFParagraph) {\r\n             XWPFParagraph paragrapObj = (XWPFParagraph)element;\r\n             for(IRunElement irunObj : paragrapObj.getIRuns()) {\r\n                 XWPFRun runObj = (XWPFRun)irunObj;\r\n                 // I read whole the API doc, I think it is the only way to get the drawings\r\n                 System.out.println(runObj.getCTR().getDrawingList());// No element returned\r\n                 System.out.println(runObj.getCTR().getDrawingArray());// No element returned\r\n             }\r\n        }\r\n    }\r\n```\r\nDo you have any idea to get the drawings from the XWPFDocument?\r\n\r\nUpdated: The XML content of XWPFRun. I tried to extract the word file. There is no image in the /word/* directory:\r\n\r\n```\r\n\r\n&lt;xml-fragment &gt;\r\n   &lt;mc:AlternateContent&gt;\r\n      &lt;mc:Choice Requires=&quot;wps&quot;&gt;\r\n         &lt;w:drawing&gt;\r\n            &lt;wp:anchor&gt;\r\n               &lt;a:graphic xmlns:a=&quot;http://schemas.openxmlformats.org/drawingml/2006/main&quot;&gt;\r\n                  &lt;a:graphicData uri=&quot;http://schemas.microsoft.com/office/word/2010/wordprocessingShape&quot;&gt;\r\n                     &lt;wps:wsp&gt;\r\n                        &lt;wps:txbx&gt;\r\n                           &lt;w:txbxContent&gt;\r\n                              &lt;w:p w14:paraId=&quot;2744738E&quot; w14:textId=&quot;0811E43C&quot; w:rsidR=&quot;00832A19&quot; w:rsidRDefault=&quot;00832A19&quot; w:rsidP=&quot;00832A19&quot;&gt;\r\n                                 &lt;w:r&gt;\r\n                                    &lt;w:t&gt;Some text here&lt;/w:t&gt;\r\n                                 &lt;/w:r&gt;\r\n                              &lt;/w:p&gt;\r\n                           &lt;/w:txbxContent&gt;\r\n                        &lt;/wps:txbx&gt;\r\n\r\n                     &lt;/wps:wsp&gt;\r\n                  &lt;/a:graphicData&gt;\r\n               &lt;/a:graphic&gt;\r\n            &lt;/wp:anchor&gt;\r\n         &lt;/w:drawing&gt;\r\n      &lt;/mc:Choice&gt;\r\n      &lt;mc:Fallback&gt;\r\n         &lt;w:pict&gt;\r\n            &lt;v:rect w14:anchorId=&quot;684D682E&quot; id=&quot;Rectangle 2&quot; o:spid=&quot;_x0000_s1026&quot; style=&quot;&quot; fillcolor=&quot;#4f81bd [3204]&quot; strokecolor=&quot;#243f60 [1604]&quot; strokeweight=&quot;2pt&quot;&gt;\r\n               &lt;v:textbox&gt;\r\n                  &lt;w:txbxContent&gt;\r\n                     &lt;w:p w14:paraId=&quot;2744738E&quot; w14:textId=&quot;0811E43C&quot; w:rsidR=&quot;00832A19&quot; w:rsidRDefault=&quot;00832A19&quot; w:rsidP=&quot;00832A19&quot;&gt;\r\n                        &lt;w:r&gt;\r\n                           &lt;w:t&gt;Some text here&lt;/w:t&gt;\r\n                        &lt;/w:r&gt;\r\n                     &lt;/w:p&gt;\r\n                  &lt;/w:txbxContent&gt;\r\n               &lt;/v:textbox&gt;\r\n            &lt;/v:rect&gt;\r\n         &lt;/w:pict&gt;\r\n      &lt;/mc:Fallback&gt;\r\n   &lt;/mc:AlternateContent&gt;\r\n&lt;/xml-fragment&gt;\r\n```","title":"How to get the drawings from the apache POI XWPFDocument?","body":"<p>I tried to get the drawings from the XWPFDocument by this way(My data.docx only contains one rectangle and it's text).</p>\n\n<pre><code>    XWPFDocument wordDocumentObj = new XWPFDocument(new FileInputStream(new File(\"data.docx\")));\n    Iterator&lt;IBodyElement&gt; bodyElementIterator = wordDocumentObj.getBodyElementsIterator();\n\n    while(bodyElementIterator.hasNext()){\n        IBodyElement element = bodyElementIterator.next();\n        if (element instanceof XWPFParagraph) {\n             XWPFParagraph paragrapObj = (XWPFParagraph)element;\n             for(IRunElement irunObj : paragrapObj.getIRuns()) {\n                 XWPFRun runObj = (XWPFRun)irunObj;\n                 // I read whole the API doc, I think it is the only way to get the drawings\n                 System.out.println(runObj.getCTR().getDrawingList());// No element returned\n                 System.out.println(runObj.getCTR().getDrawingArray());// No element returned\n             }\n        }\n    }\n</code></pre>\n\n<p>Do you have any idea to get the drawings from the XWPFDocument?</p>\n\n<p>Updated: The XML content of XWPFRun. I tried to extract the word file. There is no image in the /word/* directory:</p>\n\n<pre><code>\n&lt;xml-fragment &gt;\n   &lt;mc:AlternateContent&gt;\n      &lt;mc:Choice Requires=\"wps\"&gt;\n         &lt;w:drawing&gt;\n            &lt;wp:anchor&gt;\n               &lt;a:graphic xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\"&gt;\n                  &lt;a:graphicData uri=\"http://schemas.microsoft.com/office/word/2010/wordprocessingShape\"&gt;\n                     &lt;wps:wsp&gt;\n                        &lt;wps:txbx&gt;\n                           &lt;w:txbxContent&gt;\n                              &lt;w:p w14:paraId=\"2744738E\" w14:textId=\"0811E43C\" w:rsidR=\"00832A19\" w:rsidRDefault=\"00832A19\" w:rsidP=\"00832A19\"&gt;\n                                 &lt;w:r&gt;\n                                    &lt;w:t&gt;Some text here&lt;/w:t&gt;\n                                 &lt;/w:r&gt;\n                              &lt;/w:p&gt;\n                           &lt;/w:txbxContent&gt;\n                        &lt;/wps:txbx&gt;\n\n                     &lt;/wps:wsp&gt;\n                  &lt;/a:graphicData&gt;\n               &lt;/a:graphic&gt;\n            &lt;/wp:anchor&gt;\n         &lt;/w:drawing&gt;\n      &lt;/mc:Choice&gt;\n      &lt;mc:Fallback&gt;\n         &lt;w:pict&gt;\n            &lt;v:rect w14:anchorId=\"684D682E\" id=\"Rectangle 2\" o:spid=\"_x0000_s1026\" style=\"\" fillcolor=\"#4f81bd [3204]\" strokecolor=\"#243f60 [1604]\" strokeweight=\"2pt\"&gt;\n               &lt;v:textbox&gt;\n                  &lt;w:txbxContent&gt;\n                     &lt;w:p w14:paraId=\"2744738E\" w14:textId=\"0811E43C\" w:rsidR=\"00832A19\" w:rsidRDefault=\"00832A19\" w:rsidP=\"00832A19\"&gt;\n                        &lt;w:r&gt;\n                           &lt;w:t&gt;Some text here&lt;/w:t&gt;\n                        &lt;/w:r&gt;\n                     &lt;/w:p&gt;\n                  &lt;/w:txbxContent&gt;\n               &lt;/v:textbox&gt;\n            &lt;/v:rect&gt;\n         &lt;/w:pict&gt;\n      &lt;/mc:Fallback&gt;\n   &lt;/mc:AlternateContent&gt;\n&lt;/xml-fragment&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel","camel-routes"],"comments":[{"owner":{"account_id":8052509,"reputation":361,"user_id":6070606,"accept_rate":100,"display_name":"Vignesh Nayak Manel"},"score":0,"creation_date":1695120269,"post_id":77133147,"comment_id":135978742,"body_markdown":"what dependencies have you added in pom.xml?","body":"what dependencies have you added in pom.xml?"},{"owner":{"account_id":10203787,"reputation":474,"user_id":7533126,"display_name":"Abhinandan Kushwaha"},"score":0,"creation_date":1695146800,"post_id":77133147,"comment_id":135984099,"body_markdown":"@VigneshNayakManel\nI am using gradle project and below is my dependency \n`implementation group: &#39;org.apache.camel.springboot&#39;, name: &#39;camel-spring-boot-starter&#39;, version: &#39;3.7.2&#39;`","body":"@VigneshNayakManel I am using gradle project and below is my dependency  <code>implementation group: &#39;org.apache.camel.springboot&#39;, name: &#39;camel-spring-boot-starter&#39;, version: &#39;3.7.2&#39;</code>"},{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1695202004,"post_id":77133147,"comment_id":135991366,"body_markdown":"How do you start your app ? Do yo have a main class annotated with `@SpringBootApplication` and specifying the packages to scan ? See ex at https://www.baeldung.com/apache-camel-spring-boot","body":"How do you start your app ? Do yo have a main class annotated with <code>@SpringBootApplication</code> and specifying the packages to scan ? See ex at <a href=\"https://www.baeldung.com/apache-camel-spring-boot\" rel=\"nofollow noreferrer\">baeldung.com/apache-camel-spring-boot</a>"}],"owner":{"account_id":10203787,"reputation":474,"user_id":7533126,"display_name":"Abhinandan Kushwaha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695114290,"creation_date":1695114290,"question_id":77133147,"body_markdown":"I am trying to use camel routing in my SpringBoot project. I have created a class named CamelFileRoute that extends `RouteBuilder`. When I log something inside the constructor, it is printed in the console. However, the logs inside the `configure()` method are not getting printed. Why is the configure method not getting called?\r\n\r\nBelow is my code-\r\n```java\r\n\r\npackage com.reet.camel.route;\r\n\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport lombok.extern.java.Log;\r\n\r\n@Component\r\npublic class CamelFileRoute extends RouteBuilder{\r\n\t\r\n\tpublic CamelFileRoute() {\r\n\t\t// TODO Auto-generated constructor stub\r\n\t\tSystem.out.println(&quot;Inside constructor&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void configure() {\r\n\t\tSystem.out.println(&quot;Inside configure&quot;);\r\n\t\t\r\n\t\tfrom(&quot;file:files/input&quot;)\r\n\t\t.log(&quot;${body}&quot;)\r\n\t\t.to(&quot;file:files/output&quot;)\r\n\t\t.log(&quot;${body}&quot;);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\nExpected output-&lt;br /&gt;\r\n`Inside constructor`&lt;br /&gt;\r\n`Inside configure`\r\n\r\nActual output-&lt;br /&gt;\r\n`Inside constructor`","title":"The configure() method not getting called in Apache camel routing","body":"<p>I am trying to use camel routing in my SpringBoot project. I have created a class named CamelFileRoute that extends <code>RouteBuilder</code>. When I log something inside the constructor, it is printed in the console. However, the logs inside the <code>configure()</code> method are not getting printed. Why is the configure method not getting called?</p>\n<p>Below is my code-</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.reet.camel.route;\n\nimport org.apache.camel.builder.RouteBuilder;\nimport org.springframework.stereotype.Component;\n\nimport lombok.extern.java.Log;\n\n@Component\npublic class CamelFileRoute extends RouteBuilder{\n    \n    public CamelFileRoute() {\n        // TODO Auto-generated constructor stub\n        System.out.println(&quot;Inside constructor&quot;);\n    }\n\n    @Override\n    public void configure() {\n        System.out.println(&quot;Inside configure&quot;);\n        \n        from(&quot;file:files/input&quot;)\n        .log(&quot;${body}&quot;)\n        .to(&quot;file:files/output&quot;)\n        .log(&quot;${body}&quot;);\n        \n    }\n\n}\n</code></pre>\n<p>Expected output-<br />\n<code>Inside constructor</code><br />\n<code>Inside configure</code></p>\n<p>Actual output-<br />\n<code>Inside constructor</code></p>\n"},{"tags":["java","maven","quarkus","multi-module"],"comments":[{"owner":{"account_id":241177,"reputation":10288,"user_id":511837,"accept_rate":78,"display_name":"igr"},"score":1,"creation_date":1664377340,"post_id":72814044,"comment_id":130458770,"body_markdown":"It happens to me as well. Cmon Quarkus...","body":"It happens to me as well. Cmon Quarkus..."}],"answers":[{"tags":[],"owner":{"account_id":19215844,"reputation":444,"user_id":14040597,"display_name":"xstefank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695113883,"creation_date":1695113883,"answer_id":77133102,"question_id":72814044,"body_markdown":"Quarkus Dev mode is a continuous run of your Quarkus application. So, of course, it still needs to run, and if you run the dev mode successfully, you will see that there is a `something-run.jar` running (e.g., with `jps`):\r\n\r\n```\r\n$ jps\r\n44482 Jps\r\n44354 test-app-dev.jar\r\n```\r\n\r\nPOM is not a runnable type, so the expectation of the Quarkus plugin is right.\r\n\r\nBut I tried to do what you&#39;re after out of curiosity. Here is my project - https://github.com/xstefank/quarkus-reproducers/tree/main/quarkus-multimodule.\r\n\r\nFirst, you see that in the parent pom.xml, we can&#39;t define the plugins directly, so they are not executed for the parent of type POM. We can use the `&lt;pluginManagement&gt;` section only to define basically plugin configurations and executions like this: https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/pom.xml#L42. You see that I just wrapped the generated `&lt;plugins&gt;` section. Also, we don&#39;t need to define dependencies here since we don&#39;t pack any executable code in the parent POM module. I kept the properties and the native profile, so they are inherited in children&#39;s modules.\r\n\r\nNext, we have three modules (`module1`, `module2`, and `module3`) which are the same, so I&#39;ll cover only one.\r\n\r\nIn `module1`&#39;s pom.xml we can see that we need to define the dependencies for this module, without versions which are still inherited from the Quarkus BOM defined in the parent. And we also need to define just the plugin definitions as showed in https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module1/pom.xml#L35-L53. Notice that all executions and configuration can be omitted since it is picked from the parent&#39;s `&lt;pluginManagement&gt;` section.\r\n\r\nOne more thing, since you plan to run multiple dev modes at the same time, you need to specify different port on which your Quarkus applications Dev modes run - https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module1/src/main/resources/application.properties#L1 and similarly in different modules https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module2/src/main/resources/application.properties#L1.\r\n\r\nAnd that&#39;s it, now you can run `quarkus dev` or `mvn quarkus:dev` from the parent module and it runs all the children in dev mode. BUT, since maven execution is sequential, you will first run `module1` dev mode, and it stops there. Only when you stop this dev mode (Ctrl + C) it will run `module2` dev mode, and again only you stop this one, it will run the `module3` dev mode.\r\n\r\nBut this is how maven works. So what you need is to parallelize the maven execution and luckily this can be done with maven daemon or `mvnd` (https://github.com/apache/maven-mvnd). With this you can do the following in the parent directory:\r\n\r\n```\r\n$ mvnd quarkus:dev      \r\nBuilding quarkus-multimodule  daemon: b580640b  threads used/hidden/max: 3/0/3  progress: 1/4  25%  time\r\n:module3             quarkus:3.3.3:dev (default-cli)\r\n:module2             quarkus:3.3.3:dev (default-cli)                                                    \r\n:module1             quarkus:3.3.3:dev (default-cli)\r\n```\r\n\r\nAnd you have 3 running Quarkus dev modes on three different ports:\r\n\r\n```\r\n$ jps\r\n48565 Jps\r\n47959 module3-dev.jar\r\n48122 module2-dev.jar\r\n48062 module1-dev.jar\r\n```\r\n\r\nBUT, of course, you don&#39;t have access to the individual features of the Dev mode, like the terminal console. For that, you would need to write your own wrapper around the quarkus dev executions, e.g., with a bash script that would run the process in the background.\r\n\r\nHopefully, this helps. If you don&#39;t miss the features in the terminal, you can access most of them in the Dev UI. Just remember to be in the correct Dev UI on the correct port of the module you&#39;re changing, e.g., http://localhost:8082/q/dev-ui/extensions.","title":"Quarkus can&#39;t start dev mode with multimodule project","body":"<p>Quarkus Dev mode is a continuous run of your Quarkus application. So, of course, it still needs to run, and if you run the dev mode successfully, you will see that there is a <code>something-run.jar</code> running (e.g., with <code>jps</code>):</p>\n<pre><code>$ jps\n44482 Jps\n44354 test-app-dev.jar\n</code></pre>\n<p>POM is not a runnable type, so the expectation of the Quarkus plugin is right.</p>\n<p>But I tried to do what you're after out of curiosity. Here is my project - <a href=\"https://github.com/xstefank/quarkus-reproducers/tree/main/quarkus-multimodule\" rel=\"nofollow noreferrer\">https://github.com/xstefank/quarkus-reproducers/tree/main/quarkus-multimodule</a>.</p>\n<p>First, you see that in the parent pom.xml, we can't define the plugins directly, so they are not executed for the parent of type POM. We can use the <code>&lt;pluginManagement&gt;</code> section only to define basically plugin configurations and executions like this: <a href=\"https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/pom.xml#L42\" rel=\"nofollow noreferrer\">https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/pom.xml#L42</a>. You see that I just wrapped the generated <code>&lt;plugins&gt;</code> section. Also, we don't need to define dependencies here since we don't pack any executable code in the parent POM module. I kept the properties and the native profile, so they are inherited in children's modules.</p>\n<p>Next, we have three modules (<code>module1</code>, <code>module2</code>, and <code>module3</code>) which are the same, so I'll cover only one.</p>\n<p>In <code>module1</code>'s pom.xml we can see that we need to define the dependencies for this module, without versions which are still inherited from the Quarkus BOM defined in the parent. And we also need to define just the plugin definitions as showed in <a href=\"https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module1/pom.xml#L35-L53\" rel=\"nofollow noreferrer\">https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module1/pom.xml#L35-L53</a>. Notice that all executions and configuration can be omitted since it is picked from the parent's <code>&lt;pluginManagement&gt;</code> section.</p>\n<p>One more thing, since you plan to run multiple dev modes at the same time, you need to specify different port on which your Quarkus applications Dev modes run - <a href=\"https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module1/src/main/resources/application.properties#L1\" rel=\"nofollow noreferrer\">https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module1/src/main/resources/application.properties#L1</a> and similarly in different modules <a href=\"https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module2/src/main/resources/application.properties#L1\" rel=\"nofollow noreferrer\">https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module2/src/main/resources/application.properties#L1</a>.</p>\n<p>And that's it, now you can run <code>quarkus dev</code> or <code>mvn quarkus:dev</code> from the parent module and it runs all the children in dev mode. BUT, since maven execution is sequential, you will first run <code>module1</code> dev mode, and it stops there. Only when you stop this dev mode (Ctrl + C) it will run <code>module2</code> dev mode, and again only you stop this one, it will run the <code>module3</code> dev mode.</p>\n<p>But this is how maven works. So what you need is to parallelize the maven execution and luckily this can be done with maven daemon or <code>mvnd</code> (<a href=\"https://github.com/apache/maven-mvnd\" rel=\"nofollow noreferrer\">https://github.com/apache/maven-mvnd</a>). With this you can do the following in the parent directory:</p>\n<pre><code>$ mvnd quarkus:dev      \nBuilding quarkus-multimodule  daemon: b580640b  threads used/hidden/max: 3/0/3  progress: 1/4  25%  time\n:module3             quarkus:3.3.3:dev (default-cli)\n:module2             quarkus:3.3.3:dev (default-cli)                                                    \n:module1             quarkus:3.3.3:dev (default-cli)\n</code></pre>\n<p>And you have 3 running Quarkus dev modes on three different ports:</p>\n<pre><code>$ jps\n48565 Jps\n47959 module3-dev.jar\n48122 module2-dev.jar\n48062 module1-dev.jar\n</code></pre>\n<p>BUT, of course, you don't have access to the individual features of the Dev mode, like the terminal console. For that, you would need to write your own wrapper around the quarkus dev executions, e.g., with a bash script that would run the process in the background.</p>\n<p>Hopefully, this helps. If you don't miss the features in the terminal, you can access most of them in the Dev UI. Just remember to be in the correct Dev UI on the correct port of the module you're changing, e.g., http://localhost:8082/q/dev-ui/extensions.</p>\n"}],"owner":{"account_id":17397714,"reputation":41,"user_id":12607192,"display_name":"Adam Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":885,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1695113883,"creation_date":1656584091,"question_id":72814044,"body_markdown":"I tried setting up a multi module project with quarkus. I setup a parent with 3 child modules that all can be started with the quarkus dev mode. However when I try to start quarkus dev mode in the parent pom I get the Exception that it can not be build since it is not packaged as a jar.\r\n\r\nHere is my pom\r\n     \r\n\r\n    &lt;groupId&gt;at.myname&lt;/groupId&gt;\r\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;model&lt;/module&gt;\r\n        &lt;module&gt;view&lt;/module&gt;\r\n        &lt;module&gt;controller&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n        &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n        &lt;quarkus.platform.version&gt;2.10.0.Final&lt;/quarkus.platform.version&gt;\r\n        &lt;skipITs&gt;true&lt;/skipITs&gt;\r\n        &lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n                &lt;extensions&gt;true&lt;/extensions&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                            &lt;goal&gt;generate-code&lt;/goal&gt;\r\n                            &lt;goal&gt;generate-code-tests&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;systemPropertyVariables&gt;\r\n                                &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner\r\n                                &lt;/native.image.path&gt;\r\n                                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n\r\n                            &lt;/systemPropertyVariables&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-index&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jandex&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;native&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;native&lt;/name&gt;\r\n                &lt;/property&gt;\r\n            &lt;/activation&gt;\r\n            &lt;properties&gt;\r\n                &lt;skipITs&gt;false&lt;/skipITs&gt;\r\n                &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n\r\nMy build output on quarkus dev is:\r\n\r\n    [INFO] Scanning for projects...\r\n    [WARNING] \r\n    [WARNING] Some problems were encountered while building the effective model for at.myname:model:jar:1.0-SNAPSHOT\r\n    [WARNING] &#39;dependencies.dependency.version&#39; for org.projectlombok:lombok:jar is either LATEST or RELEASE (both of them are being deprecated) @ line 30, column 22\r\n    [WARNING] \r\n    [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n    [WARNING] \r\n    [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n    [WARNING] \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Build Order:\r\n    [INFO] \r\n    [INFO] backend                                                            [pom]\r\n    [INFO] model                                                              [jar]\r\n    [INFO] controller                                                         [jar]\r\n    [INFO] view                                                               [jar]\r\n    [INFO] \r\n    [INFO] -----------------------&lt; at.myname:backend &gt;----------------------------\r\n    [INFO] Building backend 1.0-SNAPSHOT                                      [1/4]\r\n    [INFO] --------------------------------[ pom ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- quarkus-maven-plugin:2.10.0.Final:generate-code (default) @ backend ---\r\n    [INFO] Type of the artifact is POM, skipping build goal\r\n    [INFO] \r\n    [INFO] --- quarkus-maven-plugin:2.10.0.Final:dev (default-cli) @ backend ---\r\n    [INFO] Invoking org.jboss.jandex:jandex-maven-plugin:1.2.2:jandex) @ backend\r\n    [INFO] [SKIP] Cannot process fileset in directory: C:\\ws\\Polar\\backend\\target\\classes. Directory does not exist!\r\n    [INFO] Invoking io.quarkus.platform:quarkus-maven-plugin:2.10.0.Final:generate-code-tests) @ backend\r\n    [INFO] Type of the artifact is POM, skipping build goal\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Summary for backend 1.0-SNAPSHOT:\r\n    [INFO] \r\n    [INFO] backend ............................................ FAILURE [  0.349 s]\r\n    [INFO] model .............................................. SKIPPED\r\n    [INFO] controller ......................................... SKIPPED\r\n    [INFO] view ............................................... SKIPPED\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.034 s\r\n    [INFO] Finished at: 2022-06-30T12:07:30+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.10.0.Final:dev (default-cli) on project backend: Failed to run: Failed to resolve artifact at.myname:backend:jar:1.0-SNAPSHOT: Could not find artifact at.myname:backend:jar:1.0-SNAPSHOT -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n    \r\n    Process finished with exit code 1\r\n\r\n","title":"Quarkus can&#39;t start dev mode with multimodule project","body":"<p>I tried setting up a multi module project with quarkus. I setup a parent with 3 child modules that all can be started with the quarkus dev mode. However when I try to start quarkus dev mode in the parent pom I get the Exception that it can not be build since it is not packaged as a jar.</p>\n<p>Here is my pom</p>\n<pre><code>&lt;groupId&gt;at.myname&lt;/groupId&gt;\n&lt;artifactId&gt;backend&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;modules&gt;\n    &lt;module&gt;model&lt;/module&gt;\n    &lt;module&gt;view&lt;/module&gt;\n    &lt;module&gt;controller&lt;/module&gt;\n&lt;/modules&gt;\n\n&lt;properties&gt;\n    &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;2.10.0.Final&lt;/quarkus.platform.version&gt;\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\n    &lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\n&lt;/properties&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n            &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n            &lt;extensions&gt;true&lt;/extensions&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;goal&gt;generate-code&lt;/goal&gt;\n                        &lt;goal&gt;generate-code-tests&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;-parameters&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;goal&gt;verify&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;systemPropertyVariables&gt;\n                            &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner\n                            &lt;/native.image.path&gt;\n                            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n\n                        &lt;/systemPropertyVariables&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\n            &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-index&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;jandex&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;native&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;property&gt;\n                &lt;name&gt;native&lt;/name&gt;\n            &lt;/property&gt;\n        &lt;/activation&gt;\n        &lt;properties&gt;\n            &lt;skipITs&gt;false&lt;/skipITs&gt;\n            &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n\n<p>My build output on quarkus dev is:</p>\n<pre><code>[INFO] Scanning for projects...\n[WARNING] \n[WARNING] Some problems were encountered while building the effective model for at.myname:model:jar:1.0-SNAPSHOT\n[WARNING] 'dependencies.dependency.version' for org.projectlombok:lombok:jar is either LATEST or RELEASE (both of them are being deprecated) @ line 30, column 22\n[WARNING] \n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING] \n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING] \n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Build Order:\n[INFO] \n[INFO] backend                                                            [pom]\n[INFO] model                                                              [jar]\n[INFO] controller                                                         [jar]\n[INFO] view                                                               [jar]\n[INFO] \n[INFO] -----------------------&lt; at.myname:backend &gt;----------------------------\n[INFO] Building backend 1.0-SNAPSHOT                                      [1/4]\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- quarkus-maven-plugin:2.10.0.Final:generate-code (default) @ backend ---\n[INFO] Type of the artifact is POM, skipping build goal\n[INFO] \n[INFO] --- quarkus-maven-plugin:2.10.0.Final:dev (default-cli) @ backend ---\n[INFO] Invoking org.jboss.jandex:jandex-maven-plugin:1.2.2:jandex) @ backend\n[INFO] [SKIP] Cannot process fileset in directory: C:\\ws\\Polar\\backend\\target\\classes. Directory does not exist!\n[INFO] Invoking io.quarkus.platform:quarkus-maven-plugin:2.10.0.Final:generate-code-tests) @ backend\n[INFO] Type of the artifact is POM, skipping build goal\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for backend 1.0-SNAPSHOT:\n[INFO] \n[INFO] backend ............................................ FAILURE [  0.349 s]\n[INFO] model .............................................. SKIPPED\n[INFO] controller ......................................... SKIPPED\n[INFO] view ............................................... SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.034 s\n[INFO] Finished at: 2022-06-30T12:07:30+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.10.0.Final:dev (default-cli) on project backend: Failed to run: Failed to resolve artifact at.myname:backend:jar:1.0-SNAPSHOT: Could not find artifact at.myname:backend:jar:1.0-SNAPSHOT -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","jboss","wildfly","ear","ejbca"],"answers":[{"tags":[],"owner":{"account_id":3305966,"reputation":524,"user_id":2787839,"display_name":"primetomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695112914,"creation_date":1695112914,"answer_id":77132970,"question_id":77072121,"body_markdown":"There are many public end points, which one are you trying to access? For protocols like SCEP, CMP, EST, REST etc there is a configuration in the Admin UI to allow or disallow them. A 403 is a quite specific one, so something specific must make it forbidden.\r\n","title":"EJBCA 403 forbidden on Wildfly","body":"<p>There are many public end points, which one are you trying to access? For protocols like SCEP, CMP, EST, REST etc there is a configuration in the Admin UI to allow or disallow them. A 403 is a quite specific one, so something specific must make it forbidden.</p>\n"}],"owner":{"account_id":25600556,"reputation":11,"user_id":19375640,"display_name":"codemaster1101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695112914,"creation_date":1694260957,"question_id":77072121,"body_markdown":"I have a problem with an EJBCA 8 deployment on Wildfly 26.1.3.Final\r\nWhenever i try to access a public endpoint i get a 403 forbidden HTTP status back.\r\n\r\nThis is my configuration:\r\n\r\nwildfly.service\r\n```\r\n[Unit]\r\nDescription=The WildFly Application Server\r\nAfter=syslog.target network.target\r\nBefore=httpd.service\r\n\r\n[Service]\r\nEnvironment=LAUNCH_JBOSS_IN_BACKGROUND=1\r\nEnvironmentFile=-/opt/kais/mes/install/guardian/wildfly/wildfly-26.1.3.Final/docs/contrib/scripts/systemd/wildfly.conf\r\nUser=vagrant\r\nLimitNOFILE=102642\r\nPIDFile=/opt/kais/mes/workdir/guardian/wildfly/wildfly.pid\r\nExecStart=/opt/kais/mes/install/guardian/wildfly/wildfly-26.1.3.Final/bin/standalone.sh -c standalone.xml  -b 10.0.0.16 -bmanagement=10.0.0.16\r\nStandardOutput=null\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n```\r\n\r\nThese are the bash commands that I use to deploy EJBCA ear on Wildfly\r\n\r\n```\r\ncd /opt/kais/mes/install/guardian/ejbca/ejbca-ce-EJBCA_8_0_20230531\r\n\r\n# Deploy ear\r\nsudo ant deployear -Dappserver.home=/opt/kais/mes/install/guardian/wildfly/wildfly-26.1.3.Final\r\n```\r\n\r\nAnother thing to note is that I do not get any logs regarding the 403 from the Wildfly server logs -&gt; $WILDFLY_HOME/standalone/log/server.log","title":"EJBCA 403 forbidden on Wildfly","body":"<p>I have a problem with an EJBCA 8 deployment on Wildfly 26.1.3.Final\nWhenever i try to access a public endpoint i get a 403 forbidden HTTP status back.</p>\n<p>This is my configuration:</p>\n<p>wildfly.service</p>\n<pre><code>[Unit]\nDescription=The WildFly Application Server\nAfter=syslog.target network.target\nBefore=httpd.service\n\n[Service]\nEnvironment=LAUNCH_JBOSS_IN_BACKGROUND=1\nEnvironmentFile=-/opt/kais/mes/install/guardian/wildfly/wildfly-26.1.3.Final/docs/contrib/scripts/systemd/wildfly.conf\nUser=vagrant\nLimitNOFILE=102642\nPIDFile=/opt/kais/mes/workdir/guardian/wildfly/wildfly.pid\nExecStart=/opt/kais/mes/install/guardian/wildfly/wildfly-26.1.3.Final/bin/standalone.sh -c standalone.xml  -b 10.0.0.16 -bmanagement=10.0.0.16\nStandardOutput=null\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>These are the bash commands that I use to deploy EJBCA ear on Wildfly</p>\n<pre><code>cd /opt/kais/mes/install/guardian/ejbca/ejbca-ce-EJBCA_8_0_20230531\n\n# Deploy ear\nsudo ant deployear -Dappserver.home=/opt/kais/mes/install/guardian/wildfly/wildfly-26.1.3.Final\n</code></pre>\n<p>Another thing to note is that I do not get any logs regarding the 403 from the Wildfly server logs -&gt; $WILDFLY_HOME/standalone/log/server.log</p>\n"},{"tags":["java","spring","generics","autowired","spring-annotations"],"answers":[{"tags":[],"owner":{"account_id":3418844,"reputation":8031,"user_id":2867032,"display_name":"Shishir Kumar"},"down_vote_count":0,"up_vote_count":177,"is_accepted":true,"score":177,"last_activity_date":1671789430,"creation_date":1395645989,"answer_id":22603321,"question_id":22603291,"body_markdown":"Simple solution is to upgrade to [Spring 4.0][1] as it will automatically consider generics as a form of `@Qualifier`, as below:\r\n\r\n    @Autowired\r\n    private Item&lt;String&gt; strItem; // Injects the stringItem bean\r\n    \r\n    @Autowired\r\n    private Item&lt;Integer&gt; intItem; // Injects the integerItem bean\r\n\r\nInfact, you can even autowire nested generics when injecting into a list, as below:\r\n\r\n    // Inject all Item beans as long as they have an &lt;Integer&gt; generic\r\n    // Item&lt;String&gt; beans will not appear in this list\r\n    @Autowired\r\n    private List&lt;Item&lt;Integer&gt;&gt; intItems;\r\n\r\n**How this Works?**\r\n\r\nThe new [`ResolvableType`][2] class provides the logic of actually working with generic types. You can use it yourself to easily navigate and resolve type information. Most methods on `ResolvableType` will themselves return a `ResolvableType`, for example:\r\n\r\n    // Assuming &#39;field&#39; refers to &#39;intItems&#39; above\r\n    ResolvableType t1 = ResolvableType.forField(field); // List&lt;Item&lt;Integer&gt;&gt; \r\n    ResolvableType t2 = t1.getGeneric(); // Item&lt;Integer&gt;\r\n    ResolvableType t3 = t2.getGeneric(); // Integer\r\n    Class&lt;?&gt; c = t3.resolve(); // Integer.class\r\n    \r\n    // or more succinctly\r\n    Class&lt;?&gt; c = ResolvableType.forField(field).resolveGeneric(0, 0);\r\n\r\nCheck out the Examples &amp; Tutorials at below links.\r\n\r\n- [Spring Framework 4.0 and Java Generics][3]\r\n- [Spring and Autowiring of Generic Types][4]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-generics-as-qualifiers\r\n  [2]: http://docs.spring.io/spring/docs/4.0.0.RC2/javadoc-api/org/springframework/core/ResolvableType.html\r\n  [3]: http://spring.io/blog/2013/12/03/spring-framework-4-0-and-java-generics\r\n  [4]: http://www.jayway.com/2013/11/03/spring-and-autowiring-of-generic-types/","title":"How to Autowire Bean of generic type &lt;T&gt; in Spring?","body":"<p>Simple solution is to upgrade to <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-generics-as-qualifiers\" rel=\"noreferrer\">Spring 4.0</a> as it will automatically consider generics as a form of <code>@Qualifier</code>, as below:</p>\n<pre><code>@Autowired\nprivate Item&lt;String&gt; strItem; // Injects the stringItem bean\n\n@Autowired\nprivate Item&lt;Integer&gt; intItem; // Injects the integerItem bean\n</code></pre>\n<p>Infact, you can even autowire nested generics when injecting into a list, as below:</p>\n<pre><code>// Inject all Item beans as long as they have an &lt;Integer&gt; generic\n// Item&lt;String&gt; beans will not appear in this list\n@Autowired\nprivate List&lt;Item&lt;Integer&gt;&gt; intItems;\n</code></pre>\n<p><strong>How this Works?</strong></p>\n<p>The new <a href=\"http://docs.spring.io/spring/docs/4.0.0.RC2/javadoc-api/org/springframework/core/ResolvableType.html\" rel=\"noreferrer\"><code>ResolvableType</code></a> class provides the logic of actually working with generic types. You can use it yourself to easily navigate and resolve type information. Most methods on <code>ResolvableType</code> will themselves return a <code>ResolvableType</code>, for example:</p>\n<pre><code>// Assuming 'field' refers to 'intItems' above\nResolvableType t1 = ResolvableType.forField(field); // List&lt;Item&lt;Integer&gt;&gt; \nResolvableType t2 = t1.getGeneric(); // Item&lt;Integer&gt;\nResolvableType t3 = t2.getGeneric(); // Integer\nClass&lt;?&gt; c = t3.resolve(); // Integer.class\n\n// or more succinctly\nClass&lt;?&gt; c = ResolvableType.forField(field).resolveGeneric(0, 0);\n</code></pre>\n<p>Check out the Examples &amp; Tutorials at below links.</p>\n<ul>\n<li><a href=\"http://spring.io/blog/2013/12/03/spring-framework-4-0-and-java-generics\" rel=\"noreferrer\">Spring Framework 4.0 and Java Generics</a></li>\n<li><a href=\"http://www.jayway.com/2013/11/03/spring-and-autowiring-of-generic-types/\" rel=\"noreferrer\">Spring and Autowiring of Generic Types</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4206636,"reputation":401,"user_id":3445373,"display_name":"Rishav Basu"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1695112803,"creation_date":1395647003,"answer_id":22603588,"question_id":22603291,"body_markdown":"If you don&#39;t want to upgrade to Spring 4, you have to autowire by name, like this:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;stringItem&quot;)\r\n    private Item&lt;String&gt; strItem; // Injects the stringItem bean\r\n    \r\n    @Autowired\r\n    @Qualifier(&quot;integerItem&quot;)\r\n    private Item&lt;Integer&gt; intItem; // Injects the integerItem bean","title":"How to Autowire Bean of generic type &lt;T&gt; in Spring?","body":"<p>If you don't want to upgrade to Spring 4, you have to autowire by name, like this:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;stringItem&quot;)\nprivate Item&lt;String&gt; strItem; // Injects the stringItem bean\n\n@Autowired\n@Qualifier(&quot;integerItem&quot;)\nprivate Item&lt;Integer&gt; intItem; // Injects the integerItem bean\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3063427,"reputation":2288,"user_id":2595642,"accept_rate":43,"display_name":"shikjohari"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1415349999,"creation_date":1415349999,"answer_id":26797340,"question_id":22603291,"body_markdown":"Spring 4.0 is the answer with the @Qualifier annotation usage. Hope this helps","title":"How to Autowire Bean of generic type &lt;T&gt; in Spring?","body":"<p>Spring 4.0 is the answer with the @Qualifier annotation usage. Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":1396168,"reputation":349,"user_id":1325870,"display_name":"zg_spring"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415761831,"creation_date":1415761831,"answer_id":26878602,"question_id":22603291,"body_markdown":"Spring autowired strategy is defined in your configration file(application.xml).\r\n\r\nif you don&#39;t defined, default is by Type, spring inject use JDK reflect mechanism.\r\n\r\nso List?String? and List?Item?, the type is same List.class, so spring confused how to inject.\r\n\r\nand as above persons response, you should be point @Qualifier to tell spring which bean should be inject.\r\n\r\ni like spring configration file to define bean rather then Annotation.\r\n\r\n    &lt;bean&gt;\r\n     &lt;property name=&quot;stringItem&quot;&gt;\r\n            &lt;list&gt;\r\n                  &lt;....&gt;\r\n            &lt;/list&gt;\r\n     &lt;/property&gt;\r\n&lt;/bean&gt;","title":"How to Autowire Bean of generic type &lt;T&gt; in Spring?","body":"<p>Spring autowired strategy is defined in your configration file(application.xml).</p>\n\n<p>if you don't defined, default is by Type, spring inject use JDK reflect mechanism.</p>\n\n<p>so List?String? and List?Item?, the type is same List.class, so spring confused how to inject.</p>\n\n<p>and as above persons response, you should be point @Qualifier to tell spring which bean should be inject.</p>\n\n<p>i like spring configration file to define bean rather then Annotation.</p>\n\n<pre><code>&lt;bean&gt;\n &lt;property name=\"stringItem\"&gt;\n        &lt;list&gt;\n              &lt;....&gt;\n        &lt;/list&gt;\n &lt;/property&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":9057139,"reputation":107,"user_id":6745028,"display_name":"Ramkumar S"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1476497429,"creation_date":1476497429,"answer_id":40054251,"question_id":22603291,"body_markdown":"I believe it has nothing to with generics... If you are injecting two different beans of same type then you need to provide a qualifier to help Spring identify them;\r\n\r\n... Elsewhere\r\n\r\n    @Configuration\r\n    @Bean\r\n    public Item stringItem() {\r\n        return new StringItem();\r\n    }\r\n\r\n    @Bean\r\n    public Item integerItem() {\r\n        return new IntegerItem();\r\n    }\r\n\r\n\r\nIf you have a non-generic declarations like these then you need to add qualifier to help Spring identify them... \r\n\r\n    @Autowired\r\n    **@Qualifier(&quot;stringItem&quot;)**\r\n    private Item item1;\r\n\r\n    @Autowired\r\n    **@Qualifier(&quot;integerItem&quot;)**\r\n    private Item item2;\r\n\r\n\r\nOf course, in versions 4 and above spring considers the Generic Types through the resolvers which is very cool...\r\n    ","title":"How to Autowire Bean of generic type &lt;T&gt; in Spring?","body":"<p>I believe it has nothing to with generics... If you are injecting two different beans of same type then you need to provide a qualifier to help Spring identify them;</p>\n\n<p>... Elsewhere</p>\n\n<pre><code>@Configuration\n@Bean\npublic Item stringItem() {\n    return new StringItem();\n}\n\n@Bean\npublic Item integerItem() {\n    return new IntegerItem();\n}\n</code></pre>\n\n<p>If you have a non-generic declarations like these then you need to add qualifier to help Spring identify them... </p>\n\n<pre><code>@Autowired\n**@Qualifier(\"stringItem\")**\nprivate Item item1;\n\n@Autowired\n**@Qualifier(\"integerItem\")**\nprivate Item item2;\n</code></pre>\n\n<p>Of course, in versions 4 and above spring considers the Generic Types through the resolvers which is very cool...</p>\n"},{"tags":[],"owner":{"account_id":16003369,"reputation":21,"user_id":11549467,"display_name":"howard791006"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573428848,"creation_date":1558691271,"answer_id":56290051,"question_id":22603291,"body_markdown":"Below is a solution I made to answer this question:\r\n\r\n```\r\n\r\n        List&lt;String&gt; listItem= new ArrayList&lt;&gt;();\r\n\r\n        ResolvableType resolvableType = ResolvableType.forClassWithGenerics(List.class, String.class);\r\n        RootBeanDefinition beanDefinition = new RootBeanDefinition();\r\n        beanDefinition.setTargetType(resolvableType);\r\n        beanDefinition.setAutowireMode(AbstractBeanDefinition.AUTOWIRE_BY_TYPE);\r\n        beanDefinition.setAutowireCandidate(true);\r\n\r\n        DefaultListableBeanFactory bf = (DefaultListableBeanFactory) configurableWebApplicationContext.getBeanFactory();\r\n\r\n        bf.registerBeanDefinition(&quot;your bean name&quot;, beanDefinition);\r\n        bf.registerSingleton(&quot;your bean name&quot;, listItem);\r\n```","title":"How to Autowire Bean of generic type &lt;T&gt; in Spring?","body":"<p>Below is a solution I made to answer this question:</p>\n\n<pre><code>\n        List&lt;String&gt; listItem= new ArrayList&lt;&gt;();\n\n        ResolvableType resolvableType = ResolvableType.forClassWithGenerics(List.class, String.class);\n        RootBeanDefinition beanDefinition = new RootBeanDefinition();\n        beanDefinition.setTargetType(resolvableType);\n        beanDefinition.setAutowireMode(AbstractBeanDefinition.AUTOWIRE_BY_TYPE);\n        beanDefinition.setAutowireCandidate(true);\n\n        DefaultListableBeanFactory bf = (DefaultListableBeanFactory) configurableWebApplicationContext.getBeanFactory();\n\n        bf.registerBeanDefinition(\"your bean name\", beanDefinition);\n        bf.registerSingleton(\"your bean name\", listItem);\n</code></pre>\n"}],"owner":{"account_id":4111938,"reputation":1379,"user_id":3374518,"display_name":"user3374518"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106676,"favorite_count":0,"down_vote_count":0,"up_vote_count":106,"accepted_answer_id":22603321,"answer_count":6,"score":106,"last_activity_date":1695112803,"creation_date":1395645860,"question_id":22603291,"body_markdown":"I have a bean `Item&lt;T&gt;` which is required to be autowired in a `@Configuration` class.\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n    \r\n        @Bean\r\n        public Item&lt;String&gt; stringItem() {\r\n            return new StringItem();\r\n        }\r\n    \r\n        @Bean\r\n        public Item&lt;Integer&gt; integerItem() {\r\n            return new IntegerItem();\r\n        }\r\n    \r\n    }\r\n\r\nBut when I try to `@Autowire Item&lt;String&gt;`, I get following exception.\r\n\r\n    &quot;No qualifying bean of type [Item] is defined: expected single matching bean but found 2: stringItem, integerItem&quot;\r\n\r\nHow should I Autowire generic type `Item&lt;T&gt;` in Spring?","title":"How to Autowire Bean of generic type &lt;T&gt; in Spring?","body":"<p>I have a bean <code>Item&lt;T&gt;</code> which is required to be autowired in a <code>@Configuration</code> class.</p>\n\n<pre><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public Item&lt;String&gt; stringItem() {\n        return new StringItem();\n    }\n\n    @Bean\n    public Item&lt;Integer&gt; integerItem() {\n        return new IntegerItem();\n    }\n\n}\n</code></pre>\n\n<p>But when I try to <code>@Autowire Item&lt;String&gt;</code>, I get following exception.</p>\n\n<pre><code>\"No qualifying bean of type [Item] is defined: expected single matching bean but found 2: stringItem, integerItem\"\n</code></pre>\n\n<p>How should I Autowire generic type <code>Item&lt;T&gt;</code> in Spring?</p>\n"},{"tags":["java","spring","spring-boot","java-8","spring-boot-chaos-monkey"],"owner":{"account_id":27084749,"reputation":11,"user_id":20633422,"display_name":"Rashmi Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695112719,"creation_date":1695112653,"question_id":77132929,"body_markdown":"in my microservice I am trying to introduce retry at the time of saving record into the `database`. that is actually working. but I need to test it in lower env without bringing our DB down. for that I googled and found `chaos monkey` is an option for the same. so I introduced the same in my code.\r\n\r\nbelow is my service class.\r\n\r\n    public class DemoService {\r\n    \r\n        @Autowired\r\n        private DemoRepo demoRepo;\r\n        static private int i=0;\r\n    \r\n        @Retryable(value={SQLException.class},maxAttempts = 3, backoff = @Backoff(delay = 1000))\r\n        public Demo save(Demo demo){\r\n            log.info(&quot;Retry is working&quot;+(i+1));\r\n           return demoRepo.save(demo);\r\n        }\r\n    }\r\n\r\n`\r\n\r\nand below is my `application.yml` file.\r\n\r\n    spring:\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: update\r\n      datasource:\r\n        url: jdbc:mysql://localhost:3306/chaostest\r\n        username: root\r\n        password: 1234\r\n        driver-class-name: com.mysql.cj.jdbc.Driver\r\n      profiles:\r\n        active: chaos-monkey\r\n    \r\n    chaos:\r\n      monkey:\r\n        enabled: true\r\n        assaults:\r\n          exceptionsActive: true\r\n          exception:\r\n            type: java.sql.SQLException\r\n          level: 5\r\n        watcher:\r\n          demoRepo: true\r\n    \r\n    logging:\r\n      level:\r\n        de:\r\n          codecentric:\r\n            spring:\r\n              boot:\r\n                chaos:\r\n                  monkey: DEBUG\r\n\r\nThe problem is chaos monkey is not creating any issue for database. my transaction is getting saved on first time only. I want to test if retry is working properly? \r\n\r\n1) what changes I need to do on configuration or code so that chaos-monkey works properly\r\n2) is there any other way to test the same without bringing DB down?\r\n\r\n\r\n\r\n\r\n","title":"Chaos-monkey to test DB retry in springboot","body":"<p>in my microservice I am trying to introduce retry at the time of saving record into the <code>database</code>. that is actually working. but I need to test it in lower env without bringing our DB down. for that I googled and found <code>chaos monkey</code> is an option for the same. so I introduced the same in my code.</p>\n<p>below is my service class.</p>\n<pre><code>public class DemoService {\n\n    @Autowired\n    private DemoRepo demoRepo;\n    static private int i=0;\n\n    @Retryable(value={SQLException.class},maxAttempts = 3, backoff = @Backoff(delay = 1000))\n    public Demo save(Demo demo){\n        log.info(&quot;Retry is working&quot;+(i+1));\n       return demoRepo.save(demo);\n    }\n}\n</code></pre>\n<p>`</p>\n<p>and below is my <code>application.yml</code> file.</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      ddl-auto: update\n  datasource:\n    url: jdbc:mysql://localhost:3306/chaostest\n    username: root\n    password: 1234\n    driver-class-name: com.mysql.cj.jdbc.Driver\n  profiles:\n    active: chaos-monkey\n\nchaos:\n  monkey:\n    enabled: true\n    assaults:\n      exceptionsActive: true\n      exception:\n        type: java.sql.SQLException\n      level: 5\n    watcher:\n      demoRepo: true\n\nlogging:\n  level:\n    de:\n      codecentric:\n        spring:\n          boot:\n            chaos:\n              monkey: DEBUG\n</code></pre>\n<p>The problem is chaos monkey is not creating any issue for database. my transaction is getting saved on first time only. I want to test if retry is working properly?</p>\n<ol>\n<li>what changes I need to do on configuration or code so that chaos-monkey works properly</li>\n<li>is there any other way to test the same without bringing DB down?</li>\n</ol>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":1,"creation_date":1522751021,"post_id":49627652,"comment_id":86262240,"body_markdown":"There will only be one object created which will inherit properties of its parent classes. Which can be referenced through parent class references as well.","body":"There will only be one object created which will inherit properties of its parent classes. Which can be referenced through parent class references as well."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1522751636,"post_id":49627652,"comment_id":86262603,"body_markdown":"an instance of the childclass IS also an object(instance) of the parent class.","body":"an instance of the childclass IS also an object(instance) of the parent class."},{"owner":{"account_id":4081262,"reputation":1022,"user_id":3351697,"accept_rate":63,"display_name":"Afgan"},"score":0,"creation_date":1522753258,"post_id":49627652,"comment_id":86263589,"body_markdown":"Every class has to be load","body":"Every class has to be load"},{"owner":{"account_id":20264131,"reputation":173,"user_id":15389318,"display_name":"jacob12"},"score":0,"creation_date":1657182248,"post_id":49627652,"comment_id":128750895,"body_markdown":"If you&#39;ve been led to believe that creating a child instance will implicitly create a parent instance which can be referred to by `super` , as described here https://www.javatpoint.com/super-keyword , then know that this is false, and if you&#39;re learning from this link then proceed with caution.","body":"If you&#39;ve been led to believe that creating a child instance will implicitly create a parent instance which can be referred to by <code>super</code> , as described here <a href=\"https://www.javatpoint.com/super-keyword\" rel=\"nofollow noreferrer\">javatpoint.com/super-keyword</a> , then know that this is false, and if you&#39;re learning from this link then proceed with caution."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522751048,"creation_date":1522751048,"answer_id":49627693,"question_id":49627652,"body_markdown":"When you first load a class, all its ancestors are also loaded recursively.\r\n\r\nWhen you instantiate an object you won&#39;t instantiate an additional instance of its parent. However, the object you just instantiated is itself also an instance of the parent.","title":"will there be object creation of parent class if we create an object of child class?","body":"<p>When you first load a class, all its ancestors are also loaded recursively.</p>\n\n<p>When you instantiate an object you won't instantiate an additional instance of its parent. However, the object you just instantiated is itself also an instance of the parent.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1522754979,"creation_date":1522751062,"answer_id":49627701,"question_id":49627652,"body_markdown":"You have a **single** object.  \r\nAs a class is instantiated, it invokes **first** the constructor of the parent class.   And for each parent class, it follows the same logic : it invokes **first** the constructor of the parent class.   \r\n\r\nSuppose : `A` extends `B` extends `C`.  \r\n\r\n`new A()` results to the `B` constructor invocation that invokes itself the `C` constructor.   \r\nAs `C` then `B` constructor invocations are returned, the `A` constructor can go on and the instance `A` is created.\r\n             \r\n\r\n&gt; But, what I specifically want to know is that will it load the class\r\n&gt; or will it create the object of that parent class.\r\n\r\nSimilarly to the constructor execution, before loading a class, its parent class has to be loaded `first` and that recursively for each parent class.\r\n\r\nHere classes corresponding to `A` extends `B` extends `C` :\r\n\r\n    class C {\r\n        public C(){    \r\n            System.out.println(&quot;C constructor&quot;);\r\n        }\r\n    }\r\n    \r\n    class B extends C{\r\n        public B() {\r\n            System.out.println(&quot;B constructor&quot;);\r\n        }\r\n    \r\n    }\r\n    class A extends B{\r\n        public A() {\r\n            System.out.println(&quot;A constructor&quot;);\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            new A();\r\n        }\r\n    }\r\n\r\nCompile these classes and then execute the `Test` class that creates a `A` instance in its `main()` method by specifying the `-verbose` flag (enable by default the classes logs) in the `java` command :\r\n\r\n    java -verbose Test\r\n\r\nAnd you should see in the output standard something like  :\r\n\r\n&lt;pre&gt;\r\n[Loaded java.lang.Object from C:\\...]\r\n[Loaded java.io.Serializable from C:\\...]\r\n... // load all classes required until loaded C, B and A classes\r\n[Loaded C from file:/C:/...]\r\n[Loaded B from file:/C:/...]\r\n[Loaded A from file:/C:/...]\r\nC constructor\r\nB constructor\r\nA constructor\r\n&lt;/pre&gt;\r\n\r\nIt confirms that : \r\n\r\n- the parent classes need to be loaded first by starting by the root parent class ( `Object`) until the closest parent class(`B`).\r\n- no constructor is executed before all classes of the hierarchy be loaded\r\n- the constructors of the parent classes are always executed before the constructor of the instantiated class  by starting by the root parent constructor ( `Object`) until the closest parent constructor(`B`).\r\n","title":"will there be object creation of parent class if we create an object of child class?","body":"<p>You have a <strong>single</strong> object.<br>\nAs a class is instantiated, it invokes <strong>first</strong> the constructor of the parent class.   And for each parent class, it follows the same logic : it invokes <strong>first</strong> the constructor of the parent class.   </p>\n\n<p>Suppose : <code>A</code> extends <code>B</code> extends <code>C</code>.  </p>\n\n<p><code>new A()</code> results to the <code>B</code> constructor invocation that invokes itself the <code>C</code> constructor.<br>\nAs <code>C</code> then <code>B</code> constructor invocations are returned, the <code>A</code> constructor can go on and the instance <code>A</code> is created.</p>\n\n<blockquote>\n  <p>But, what I specifically want to know is that will it load the class\n  or will it create the object of that parent class.</p>\n</blockquote>\n\n<p>Similarly to the constructor execution, before loading a class, its parent class has to be loaded <code>first</code> and that recursively for each parent class.</p>\n\n<p>Here classes corresponding to <code>A</code> extends <code>B</code> extends <code>C</code> :</p>\n\n<pre><code>class C {\n    public C(){    \n        System.out.println(\"C constructor\");\n    }\n}\n\nclass B extends C{\n    public B() {\n        System.out.println(\"B constructor\");\n    }\n\n}\nclass A extends B{\n    public A() {\n        System.out.println(\"A constructor\");\n    }\n}\n\n\npublic class Test {\n    public static void main(String[] args) {\n        new A();\n    }\n}\n</code></pre>\n\n<p>Compile these classes and then execute the <code>Test</code> class that creates a <code>A</code> instance in its <code>main()</code> method by specifying the <code>-verbose</code> flag (enable by default the classes logs) in the <code>java</code> command :</p>\n\n<pre><code>java -verbose Test\n</code></pre>\n\n<p>And you should see in the output standard something like  :</p>\n\n<pre>\n[Loaded java.lang.Object from C:\\...]\n[Loaded java.io.Serializable from C:\\...]\n... // load all classes required until loaded C, B and A classes\n[Loaded C from file:/C:/...]\n[Loaded B from file:/C:/...]\n[Loaded A from file:/C:/...]\nC constructor\nB constructor\nA constructor\n</pre>\n\n<p>It confirms that : </p>\n\n<ul>\n<li>the parent classes need to be loaded first by starting by the root parent class ( <code>Object</code>) until the closest parent class(<code>B</code>).</li>\n<li>no constructor is executed before all classes of the hierarchy be loaded</li>\n<li>the constructors of the parent classes are always executed before the constructor of the instantiated class  by starting by the root parent constructor ( <code>Object</code>) until the closest parent constructor(<code>B</code>).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1732446,"reputation":10581,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522751200,"creation_date":1522751066,"answer_id":49627704,"question_id":49627652,"body_markdown":"The constructor is called, therefore an object of the parent class is created. That object is used later to build an object of the child class. The reason for this is that an object of the child class is an object of the parent class with more things.\r\n\r\n","title":"will there be object creation of parent class if we create an object of child class?","body":"<p>The constructor is called, therefore an object of the parent class is created. That object is used later to build an object of the child class. The reason for this is that an object of the child class is an object of the parent class with more things.</p>\n"},{"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522753590,"creation_date":1522753590,"answer_id":49628524,"question_id":49627652,"body_markdown":"Because the child class inherits properties and methods from the parent class, the entire class hierarchy (including superclasses and implemented interfaces) are **loaded**.\r\n\r\nWhen you create an instance of the childclass, only a **single** object of type childclass is created (instantiated). There are no additional instances of any parent(s).\r\n\r\nThe properties and methods declared on parent classes are accessible via the childclass instance, and due to this inheritance the childclass instance will be accepted as argument to any methods that expect an instance of the parent (or any interfaces that it or any parent implements).\r\n\r\nIf you think of the code as a **contractual design**, this makes perfect sense:\r\n\r\n - The parent class declaration establishes that certain methods are available to call on itself or any of its children. The same is true for interfaces. &lt;br&gt;**For example**, all employment contracts in the real world must contain certain clauses, but the rest is up to the company.\r\n - By inheriting (`extends` or `implements`) it is _guaranteed_ that the child will also automatically provide the same methods. &lt;br&gt;**For example**, we can assume that any law-abiding company will provide employment contracts including those clauses and (once agreed) the signature of both you and the company.\r\n - The entire hierarchy needs to be loaded in order to understand the full contract.&lt;br/&gt;**For example**, if there is a dispute, the lawyers who examine a contract will check what the law prescribes, perhaps by looking at a sample contract provided by the legislating body. The parentClass is that sample in the problem.\r\n - We only need one object instance. &lt;br/&gt;**For example** you won&#39;t get two employment contracts, one for the basic stuff and another with more information. You will receive and sign a single document.\r\n - Finally, in my analog, any employment contract (no matter how it is phrased) will be acceptable to any agency that asks you to prove your relationship to the company that employs you (assuming it is legal and valid by containing the legally prescribed clauses and appropriate signatures).","title":"will there be object creation of parent class if we create an object of child class?","body":"<p>Because the child class inherits properties and methods from the parent class, the entire class hierarchy (including superclasses and implemented interfaces) are <strong>loaded</strong>.</p>\n\n<p>When you create an instance of the childclass, only a <strong>single</strong> object of type childclass is created (instantiated). There are no additional instances of any parent(s).</p>\n\n<p>The properties and methods declared on parent classes are accessible via the childclass instance, and due to this inheritance the childclass instance will be accepted as argument to any methods that expect an instance of the parent (or any interfaces that it or any parent implements).</p>\n\n<p>If you think of the code as a <strong>contractual design</strong>, this makes perfect sense:</p>\n\n<ul>\n<li>The parent class declaration establishes that certain methods are available to call on itself or any of its children. The same is true for interfaces. <br><strong>For example</strong>, all employment contracts in the real world must contain certain clauses, but the rest is up to the company.</li>\n<li>By inheriting (<code>extends</code> or <code>implements</code>) it is <em>guaranteed</em> that the child will also automatically provide the same methods. <br><strong>For example</strong>, we can assume that any law-abiding company will provide employment contracts including those clauses and (once agreed) the signature of both you and the company.</li>\n<li>The entire hierarchy needs to be loaded in order to understand the full contract.<br/><strong>For example</strong>, if there is a dispute, the lawyers who examine a contract will check what the law prescribes, perhaps by looking at a sample contract provided by the legislating body. The parentClass is that sample in the problem.</li>\n<li>We only need one object instance. <br/><strong>For example</strong> you won't get two employment contracts, one for the basic stuff and another with more information. You will receive and sign a single document.</li>\n<li>Finally, in my analog, any employment contract (no matter how it is phrased) will be acceptable to any agency that asks you to prove your relationship to the company that employs you (assuming it is legal and valid by containing the legally prescribed clauses and appropriate signatures).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24938347,"reputation":1,"user_id":18804608,"display_name":"Fine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695112655,"creation_date":1695112655,"answer_id":77132930,"question_id":49627652,"body_markdown":"It will load the class of parent, but not create the instance. You can wirte a simple code and use Java VisualVM to see the objects snapshot.","title":"will there be object creation of parent class if we create an object of child class?","body":"<p>It will load the class of parent, but not create the instance. You can wirte a simple code and use Java VisualVM to see the objects snapshot.</p>\n"}],"owner":{"account_id":10773055,"reputation":133,"user_id":7926006,"display_name":"Shubham Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4920,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":49627701,"answer_count":5,"score":6,"last_activity_date":1695112655,"creation_date":1522750891,"question_id":49627652,"body_markdown":"I know that super will be called every time we create a child class object. But, what I specifically want to know is that will it load the class or will it create the object of that parent class.\r\n\r\nThanks in advance.","title":"will there be object creation of parent class if we create an object of child class?","body":"<p>I know that super will be called every time we create a child class object. But, what I specifically want to know is that will it load the class or will it create the object of that parent class.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","rest","tomcat","intellij-idea","jersey"],"comments":[{"owner":{"account_id":2928294,"reputation":73,"user_id":2509192,"display_name":"user2509192"},"score":0,"creation_date":1665163476,"post_id":56103809,"comment_id":130643394,"body_markdown":"Did you find a solution? I have the same problem and I&#39;m also leaning into incompatibility between some dependencies. It works on localhost but not on Azure App Service (it actually used to work but doesn&#39;t anymore)","body":"Did you find a solution? I have the same problem and I&#39;m also leaning into incompatibility between some dependencies. It works on localhost but not on Azure App Service (it actually used to work but doesn&#39;t anymore)"}],"answers":[{"tags":[],"owner":{"account_id":27426887,"reputation":11,"user_id":20924233,"display_name":"sonnees2012"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695112645,"creation_date":1695112645,"answer_id":77132927,"question_id":56103809,"body_markdown":"@ApplicationPath(&quot;api&quot;) -&gt; @ApplicationPath(&quot;/api&quot;)\r\n@Path(&quot;data&quot;) -&gt; @Path(&quot;/data&quot;)","title":"Getting Resource configuration is not modifiable in this context when deploying RESTful Jersey service in IntelliJ IDEA","body":"<p>@ApplicationPath(&quot;api&quot;) -&gt; @ApplicationPath(&quot;/api&quot;)\n@Path(&quot;data&quot;) -&gt; @Path(&quot;/data&quot;)</p>\n"}],"owner":{"account_id":15923746,"reputation":21,"user_id":11489940,"display_name":"SunnyD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1620,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695112645,"creation_date":1557698460,"question_id":56103809,"body_markdown":"I am writing a RESTful API using Jersey/Tomcat and I&#39;ve been encountering:\r\n\r\n    javax.servlet.ServletException: Servlet.init() for servlet [com.tuiasi.petru.sop.service.MyApplication] threw exception\r\n    .......\r\n    java.lang.IllegalStateException: The resource configuration is not modifiable in this context.\r\n    \r\n\r\nwhen calling the API.\r\n\r\nI believe I have exhausted many trivial solutions, including ones that I saw here. I suppose that there is something to do with the deployment configuration I have set up in IntelliJ IDEA, which I am using. So basically my code is as follows:\r\n\r\n    @ApplicationPath(&quot;api&quot;)\r\n    public class MyApplication extends ResourceConfig {\r\n    \r\n    public MyApplication() {\r\n            register(...);\r\n        }\r\n    }\r\n\r\n    @Path(&quot;data&quot;)\r\n    public class DataController {\r\n    ...\r\n    \r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response list() {\r\n    \treturn Response.ok().build();\r\n    }\r\n    }\r\n\r\n\r\nMy web.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt;\r\n      &lt;display-name&gt;SOPStorageService server&lt;/display-name&gt;\r\n    &lt;/web-app&gt;\r\n\r\nWhen I deploy in IntelliJ IDEA, I choose a war exploded kind of artifact where I add the storage service with all its dependencies.\r\n\r\nThe only issue I still haven&#39;t ruled out completely is a possible incompatibility between some jars. I am wondering yet if someone has a better eye at spotting a possible issue in this particular case.\r\n\r\nAny help much appreciated.\r\n\r\n","title":"Getting Resource configuration is not modifiable in this context when deploying RESTful Jersey service in IntelliJ IDEA","body":"<p>I am writing a RESTful API using Jersey/Tomcat and I've been encountering:</p>\n\n<pre><code>javax.servlet.ServletException: Servlet.init() for servlet [com.tuiasi.petru.sop.service.MyApplication] threw exception\n.......\njava.lang.IllegalStateException: The resource configuration is not modifiable in this context.\n</code></pre>\n\n<p>when calling the API.</p>\n\n<p>I believe I have exhausted many trivial solutions, including ones that I saw here. I suppose that there is something to do with the deployment configuration I have set up in IntelliJ IDEA, which I am using. So basically my code is as follows:</p>\n\n<pre><code>@ApplicationPath(\"api\")\npublic class MyApplication extends ResourceConfig {\n\npublic MyApplication() {\n        register(...);\n    }\n}\n\n@Path(\"data\")\npublic class DataController {\n...\n\n@GET\n@Produces(MediaType.APPLICATION_JSON)\npublic Response list() {\n    return Response.ok().build();\n}\n}\n</code></pre>\n\n<p>My web.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" version=\"3.1\"&gt;\n  &lt;display-name&gt;SOPStorageService server&lt;/display-name&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>When I deploy in IntelliJ IDEA, I choose a war exploded kind of artifact where I add the storage service with all its dependencies.</p>\n\n<p>The only issue I still haven't ruled out completely is a possible incompatibility between some jars. I am wondering yet if someone has a better eye at spotting a possible issue in this particular case.</p>\n\n<p>Any help much appreciated.</p>\n"},{"tags":["java","encryption","cryptography"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1557647605,"post_id":56097189,"comment_id":98829808,"body_markdown":"Have a look into the following links. https://stackoverflow.com/questions/20227/how-do-i-use-3des-encryption-decryption-in-java/13612902","body":"Have a look into the following links. <a href=\"https://stackoverflow.com/questions/20227/how-do-i-use-3des-encryption-decryption-in-java/13612902\" title=\"how do i use 3des encryption decryption in java\">stackoverflow.com/questions/20227/&hellip;</a>"},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1557647615,"post_id":56097189,"comment_id":98829811,"body_markdown":"https://stackoverflow.com/questions/11930805/tripledes-encryption-error-in-java","body":"<a href=\"https://stackoverflow.com/questions/11930805/tripledes-encryption-error-in-java\" title=\"tripledes encryption error in java\">stackoverflow.com/questions/11930805/&hellip;</a>"},{"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"score":0,"creation_date":1557647910,"post_id":56097189,"comment_id":98829857,"body_markdown":"Oracle has a tutorial for almost anything: [Cryptography Reference Guide](https://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html). Don&#39;t skip these. Also, posting JavaScript code for a question actually about Java, is not something you should ever do. Additionally, dumping code and saying *&quot;This is what I want to do&quot;*, is simply disrespectful to others trying to help you. Please read [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) and [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask)","body":"Oracle has a tutorial for almost anything: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html\" rel=\"nofollow noreferrer\">Cryptography Reference Guide</a>. Don&#39;t skip these. Also, posting JavaScript code for a question actually about Java, is not something you should ever do. Additionally, dumping code and saying <i>&quot;This is what I want to do&quot;</i>, is simply disrespectful to others trying to help you. Please read <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a> and <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"},{"owner":{"account_id":2854787,"reputation":180,"user_id":2554946,"display_name":"Ritz"},"score":0,"creation_date":1557648674,"post_id":56097189,"comment_id":98829981,"body_markdown":"@P.Soutzikevich I don&#39;t understand whats wrong with me asking this. I don&#39;t think it is disrespectful in anyway. Like I said I have searched for similar posts on stackoverflow. I suggest you search once&#39;s and you will see that similar posts are there already. I am not the first one to do so. People generally recommend that you provide relevant facts/code to clarify the point clearly. Hence I did the same I posted the Javascript code whose equivalent java code is what I am trying to make. As simple as that.","body":"@P.Soutzikevich I don&#39;t understand whats wrong with me asking this. I don&#39;t think it is disrespectful in anyway. Like I said I have searched for similar posts on stackoverflow. I suggest you search once&#39;s and you will see that similar posts are there already. I am not the first one to do so. People generally recommend that you provide relevant facts/code to clarify the point clearly. Hence I did the same I posted the Javascript code whose equivalent java code is what I am trying to make. As simple as that."},{"owner":{"account_id":13311988,"reputation":8270,"user_id":9609843,"display_name":"sanyassh"},"score":0,"creation_date":1557649899,"post_id":56097189,"comment_id":98830214,"body_markdown":"You need to show your Java code if you want us to help you with `java.security.NoSuchAlgorithmException`.","body":"You need to show your Java code if you want us to help you with <code>java.security.NoSuchAlgorithmException</code>."},{"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"score":0,"creation_date":1557651996,"post_id":56097189,"comment_id":98830643,"body_markdown":"@Ritz No you didn&#39;t use relevant **&quot;facts/code&quot;** to clarify any point. What I&#39;m saying is that, I find it disrespectful when someone finds a snippet of code, copy-pastes it into a question and asks: *&quot;How can I do this in **&lt;some&gt;** language?*. I did attach the links for you to read in my first comment, that pointed out what you need to do (post your code with what you&#39;ve tried, but you completely ignored it. If that&#39;s not disrespectful, I don&#39;t know what is. You didn&#39;t even take the time to write (in English, not in code) what it is you are trying to do.","body":"@Ritz No you didn&#39;t use relevant <b>&quot;facts/code&quot;</b> to clarify any point. What I&#39;m saying is that, I find it disrespectful when someone finds a snippet of code, copy-pastes it into a question and asks: <i>&quot;How can I do this in <b>&lt;some&gt;</b> language?</i>. I did attach the links for you to read in my first comment, that pointed out what you need to do (post your code with what you&#39;ve tried, but you completely ignored it. If that&#39;s not disrespectful, I don&#39;t know what is. You didn&#39;t even take the time to write (in English, not in code) what it is you are trying to do."},{"owner":{"account_id":2854787,"reputation":180,"user_id":2554946,"display_name":"Ritz"},"score":0,"creation_date":1557652753,"post_id":56097189,"comment_id":98830782,"body_markdown":"@P.Soutzikevich Again, Read my OP properly. I have clearly mentioned &quot;I want to recreate the same logic in Java&quot; and before that I gave you both the CryptoJS code which I have worked on after going through various examples from multiple sites. But when I try to recreate it in Java it&#39;s not quite working. Also I did mention that I have gone through most articles relevant to my post from StackOverflow already but they didn&#39;t quite suffice well hence I asked it clearly and made my motives clear. If I were really disrespectful I would have randomly copy pasted code without any credits.","body":"@P.Soutzikevich Again, Read my OP properly. I have clearly mentioned &quot;I want to recreate the same logic in Java&quot; and before that I gave you both the CryptoJS code which I have worked on after going through various examples from multiple sites. But when I try to recreate it in Java it&#39;s not quite working. Also I did mention that I have gone through most articles relevant to my post from StackOverflow already but they didn&#39;t quite suffice well hence I asked it clearly and made my motives clear. If I were really disrespectful I would have randomly copy pasted code without any credits."},{"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"score":0,"creation_date":1557653341,"post_id":56097189,"comment_id":98830881,"body_markdown":"@Ritz I gave you the solution you were looking for, even though there was little effort to create a [MCVE](https://stackoverflow.com/help/mcve). If it solved your problem, then please consider accepting it as the answer and upvoting.","body":"@Ritz I gave you the solution you were looking for, even though there was little effort to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. If it solved your problem, then please consider accepting it as the answer and upvoting."},{"owner":{"account_id":2854787,"reputation":180,"user_id":2554946,"display_name":"Ritz"},"score":0,"creation_date":1557653690,"post_id":56097189,"comment_id":98830936,"body_markdown":"@P.Soutzikevich I have replied as well. Kindly try the example code provided with the sample inputs given. As of now, it doesn&#39;t work. And I am also searching for the answer of my own. I thinking of giving BouncyCastle a try. I went through their documentation and it seems they implement the provider necessary for the code.","body":"@P.Soutzikevich I have replied as well. Kindly try the example code provided with the sample inputs given. As of now, it doesn&#39;t work. And I am also searching for the answer of my own. I thinking of giving BouncyCastle a try. I went through their documentation and it seems they implement the provider necessary for the code."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1557665017,"post_id":56097189,"comment_id":98833566,"body_markdown":"Your javascript code is using single DES, but your Java code is using Triple DES.","body":"Your javascript code is using single DES, but your Java code is using Triple DES."},{"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"score":2,"creation_date":1557665310,"post_id":56097189,"comment_id":98833621,"body_markdown":"@Ritz While there is no obligation for you to accept any answer, you would only be proving me correct by not doing so. So thanks for helping me prove my point in the previous comments.","body":"@Ritz While there is no obligation for you to accept any answer, you would only be proving me correct by not doing so. So thanks for helping me prove my point in the previous comments."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1557677087,"post_id":56097189,"comment_id":98836706,"body_markdown":"Please do not deface your own questions. Simply edit them to add information/corrections, or delete them.","body":"Please do not deface your own questions. Simply edit them to add information/corrections, or delete them."}],"answers":[{"tags":[],"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1557664889,"creation_date":1557652582,"answer_id":56097774,"question_id":56097189,"body_markdown":"The transformation you have used appears to be invalid for Triple-DES.\r\n\r\nChange the padding of this string: \r\n\r\n    public static String ALGO = &quot;DESede/ECB/PKCS7Padding&quot;;\r\n\r\ninto **PKCS5Padding**:\r\n\r\n    public static String ALGO = &quot;DESede/ECB/PKCS5Padding&quot;;\r\n\r\nThe compiler error message you received was pretty clear; *No Such Algorithm exception*. Compilers usually suffer from poor error description messages, but in this case it points you directly to the source of the error. By doing a little good old web-searching, you would&#39;ve realised that Triple DES takes PKCS**5**Padding or no padding at all.\r\n\r\nWhere did I get this information? From the **documentation** of course.\r\n\r\nSee this screenshot: [![enter image description here][1]][1]\r\n\r\nThe documentation about a java `Cipher` object can be found [here][2]. You can see that one of the parameters for calling `Cipher.init(int opmode, Key key)`, is obviously of type `Key`.\r\n\r\nBy clicking on the relevant link to read about the `Key` interface, you will notice that one of the implementing Classes (of this interface), is `SecretKeySpec`. The documentation for SecretKeySpec can be found [here][3].\r\n\r\nFrom the first paragraph of SecretKeySpec:\r\n\r\n&gt; This class is only useful for raw secret keys that can be represented as a byte array and have no key parameters associated with them, e.g., **DES or Triple DES** keys.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vr71W.png\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/javax/crypto/spec/SecretKeySpec.html","title":"CryptoJS Triple DES Code to Java Equivalent","body":"<p>The transformation you have used appears to be invalid for Triple-DES.</p>\n\n<p>Change the padding of this string: </p>\n\n<pre><code>public static String ALGO = \"DESede/ECB/PKCS7Padding\";\n</code></pre>\n\n<p>into <strong>PKCS5Padding</strong>:</p>\n\n<pre><code>public static String ALGO = \"DESede/ECB/PKCS5Padding\";\n</code></pre>\n\n<p>The compiler error message you received was pretty clear; <em>No Such Algorithm exception</em>. Compilers usually suffer from poor error description messages, but in this case it points you directly to the source of the error. By doing a little good old web-searching, you would've realised that Triple DES takes PKCS<strong>5</strong>Padding or no padding at all.</p>\n\n<p>Where did I get this information? From the <strong>documentation</strong> of course.</p>\n\n<p>See this screenshot: <a href=\"https://i.stack.imgur.com/Vr71W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vr71W.png\" alt=\"enter image description here\"></a></p>\n\n<p>The documentation about a java <code>Cipher</code> object can be found <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html\" rel=\"nofollow noreferrer\">here</a>. You can see that one of the parameters for calling <code>Cipher.init(int opmode, Key key)</code>, is obviously of type <code>Key</code>.</p>\n\n<p>By clicking on the relevant link to read about the <code>Key</code> interface, you will notice that one of the implementing Classes (of this interface), is <code>SecretKeySpec</code>. The documentation for SecretKeySpec can be found <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/crypto/spec/SecretKeySpec.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>From the first paragraph of SecretKeySpec:</p>\n\n<blockquote>\n  <p>This class is only useful for raw secret keys that can be represented as a byte array and have no key parameters associated with them, e.g., <strong>DES or Triple DES</strong> keys.</p>\n</blockquote>\n"}],"owner":{"account_id":2854787,"reputation":180,"user_id":2554946,"display_name":"Ritz"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1693,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":56097774,"answer_count":1,"score":-2,"last_activity_date":1695112229,"creation_date":1557647334,"question_id":56097189,"body_markdown":"I have the following CryptoJS code for encryption and decryption.\r\n\r\n**Encryption Code**\r\n\r\n```javascript\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\n    $(document).on(&quot;click&quot;, &quot;#crack&quot;, function(evt) {\r\n        evt.preventDefault();\r\n        var e = $(&quot;#plaintext&quot;).val();\r\n        var key = $(&quot;#key&quot;).val();\r\n        var iv = CryptoJS.enc.Utf8.parse(key);\r\n        var r, t = CryptoJS.enc.Utf8.parse(key), // key\r\n            n = CryptoJS.DES.encrypt(CryptoJS.enc.Utf8.parse(e), t,{\r\n                iv:iv,\r\n                mode: CryptoJS.mode.ECB,\r\n                padding: CryptoJS.pad.Pkcs7\r\n            });\r\n            r = n.toString(CryptoJS.enc.Utf8);\r\n        $(&quot;.result&quot;).text(n);\r\n    });\r\n    &lt;/script&gt;\r\n```\r\n\r\n**Decryption Code**\r\n\r\n```javascript\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\n    $(document).on(&quot;click&quot;, &quot;#crack&quot;, function(evt) {\r\n        evt.preventDefault();\r\n        var e = $(&quot;#ciphertext&quot;).val();\r\n\t\t\r\n        var key = $(&quot;#key&quot;).val();\r\n        var r, t = CryptoJS.enc.Utf8.parse(key), // key\r\n            n = CryptoJS.DES.decrypt({\r\n                ciphertext: CryptoJS.enc.Base64.parse(e.replace(&#39;&quot;&#39;, &quot;&quot;))\r\n            }, t, {\r\n                mode: CryptoJS.mode.ECB,\r\n                padding: CryptoJS.pad.Pkcs7\r\n            }),\r\n            r = n.toString(CryptoJS.enc.Utf8);\r\n        $(&quot;.result&quot;).text(r);\r\n    });\r\n    &lt;/script&gt;\r\n```\r\n\r\nI want to recreate the same logic in Java but it&#39;s not quite working our well. I followed most of the existing questions which are already asked here on StackOverflow but it didn&#39;t help out. \r\n\r\nI found another article and sample code which seemed like it would work but it didn&#39;t. \r\n\r\nArticle Link: https://androidfreetutorial.wordpress.com/2017/03/14/android-encryptiondecryption-with-tripledes-3des-algorithm/\r\n\r\nI get the following error message:\r\n\r\n```\r\njava.security.NoSuchAlgorithmException: Cannot find any provider supporting DESede/ECB/PKCS7Padding\r\n```\r\n\r\nWhat am I doing wrong and how is CryptoJS code here is different from the Java one? \r\n\r\n**Sample Inputs:**\r\n\r\n**Key:** \r\n\r\n*CipherText:* 3OwGE1y7zFLyPT49uGMvFQ==\r\n\r\n*Key:* 75a1b1ae20af8de7bdfb6fac8ca9d36c0ab91930\r\n\r\n---\r\n\r\nEDIT: Added Working Code. Also the CryptoJS is Simple DES and not Triple DES as Suggested by @James. the application I was testing used tripledes.js in the resource file which mislead me to believe maybe Triple DES is used. I crossed checked that in CryptoJS if you want to use TripleDES you have to use something like `CryptoJS.TripleDES.encrypt(...)`. Also, I forgot that DES Key size is 8 Bytes and the key that I gave wasn&#39;t being handled properly causing the bad padding exception, which I workedaround using Arrays.copyOf, and lastly Thanks to P.Soutzikevich.\r\n\r\nThe following code works exactly how I want it to be. \r\n\r\n```java\r\nprivate final int DES_KEY_SIZE = 8;\r\nprivate final String DES_MODE = &quot;DES/ECB/PKCS5Padding&quot;;\r\n```\r\n\r\nEncryption\r\n\r\n```java\r\nbyte[] keyBytes = Arrays.copyOf(secretKey.getBytes(), DES_KEY_SIZE);\r\nbyte[] plainTextBytes = plainText.getBytes();\r\ndesKeySpec = new SecretKeySpec(keyBytes, &quot;DES&quot;);\r\ndesCipher = Cipher.getInstance(DES_MODE);\r\ndesCipher.init(Cipher.ENCRYPT_MODE, desKeySpec);\r\nbyte[] encryptedText = desCipher.doFinal(plainTextBytes);\r\ndata = Base64.getEncoder().encodeToString(encryptedText);\r\n```\r\n\r\nDecryption:\r\n\r\n```java\r\nbyte[] keyBytes = Arrays.copyOf(secretKey.getBytes(), DES_KEY_SIZE);\r\nbyte[] encryptedTextBytes = Base64.getDecoder().decode(cipherText);\r\ndesKeySpec = new SecretKeySpec(keyBytes, &quot;DES&quot;);\r\ndesCipher = Cipher.getInstance(DES_MODE);\r\ndesCipher.init(Cipher.DECRYPT_MODE, desKeySpec);\r\ndata = new String(desCipher.doFinal(encryptedTextBytes));\r\n```","title":"CryptoJS Triple DES Code to Java Equivalent","body":"<p>I have the following CryptoJS code for encryption and decryption.</p>\n\n<p><strong>Encryption Code</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).on(\"click\", \"#crack\", function(evt) {\n        evt.preventDefault();\n        var e = $(\"#plaintext\").val();\n        var key = $(\"#key\").val();\n        var iv = CryptoJS.enc.Utf8.parse(key);\n        var r, t = CryptoJS.enc.Utf8.parse(key), // key\n            n = CryptoJS.DES.encrypt(CryptoJS.enc.Utf8.parse(e), t,{\n                iv:iv,\n                mode: CryptoJS.mode.ECB,\n                padding: CryptoJS.pad.Pkcs7\n            });\n            r = n.toString(CryptoJS.enc.Utf8);\n        $(\".result\").text(n);\n    });\n    &lt;/script&gt;\n</code></pre>\n\n<p><strong>Decryption Code</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).on(\"click\", \"#crack\", function(evt) {\n        evt.preventDefault();\n        var e = $(\"#ciphertext\").val();\n\n        var key = $(\"#key\").val();\n        var r, t = CryptoJS.enc.Utf8.parse(key), // key\n            n = CryptoJS.DES.decrypt({\n                ciphertext: CryptoJS.enc.Base64.parse(e.replace('\"', \"\"))\n            }, t, {\n                mode: CryptoJS.mode.ECB,\n                padding: CryptoJS.pad.Pkcs7\n            }),\n            r = n.toString(CryptoJS.enc.Utf8);\n        $(\".result\").text(r);\n    });\n    &lt;/script&gt;\n</code></pre>\n\n<p>I want to recreate the same logic in Java but it's not quite working our well. I followed most of the existing questions which are already asked here on StackOverflow but it didn't help out. </p>\n\n<p>I found another article and sample code which seemed like it would work but it didn't. </p>\n\n<p>Article Link: <a href=\"https://androidfreetutorial.wordpress.com/2017/03/14/android-encryptiondecryption-with-tripledes-3des-algorithm/\" rel=\"nofollow noreferrer\">https://androidfreetutorial.wordpress.com/2017/03/14/android-encryptiondecryption-with-tripledes-3des-algorithm/</a></p>\n\n<p>I get the following error message:</p>\n\n<pre><code>java.security.NoSuchAlgorithmException: Cannot find any provider supporting DESede/ECB/PKCS7Padding\n</code></pre>\n\n<p>What am I doing wrong and how is CryptoJS code here is different from the Java one? </p>\n\n<p><strong>Sample Inputs:</strong></p>\n\n<p><strong>Key:</strong> </p>\n\n<p><em>CipherText:</em> 3OwGE1y7zFLyPT49uGMvFQ==</p>\n\n<p><em>Key:</em> 75a1b1ae20af8de7bdfb6fac8ca9d36c0ab91930</p>\n\n<hr>\n\n<p>EDIT: Added Working Code. Also the CryptoJS is Simple DES and not Triple DES as Suggested by @James. the application I was testing used tripledes.js in the resource file which mislead me to believe maybe Triple DES is used. I crossed checked that in CryptoJS if you want to use TripleDES you have to use something like <code>CryptoJS.TripleDES.encrypt(...)</code>. Also, I forgot that DES Key size is 8 Bytes and the key that I gave wasn't being handled properly causing the bad padding exception, which I workedaround using Arrays.copyOf, and lastly Thanks to P.Soutzikevich.</p>\n\n<p>The following code works exactly how I want it to be. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private final int DES_KEY_SIZE = 8;\nprivate final String DES_MODE = \"DES/ECB/PKCS5Padding\";\n</code></pre>\n\n<p>Encryption</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>byte[] keyBytes = Arrays.copyOf(secretKey.getBytes(), DES_KEY_SIZE);\nbyte[] plainTextBytes = plainText.getBytes();\ndesKeySpec = new SecretKeySpec(keyBytes, \"DES\");\ndesCipher = Cipher.getInstance(DES_MODE);\ndesCipher.init(Cipher.ENCRYPT_MODE, desKeySpec);\nbyte[] encryptedText = desCipher.doFinal(plainTextBytes);\ndata = Base64.getEncoder().encodeToString(encryptedText);\n</code></pre>\n\n<p>Decryption:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>byte[] keyBytes = Arrays.copyOf(secretKey.getBytes(), DES_KEY_SIZE);\nbyte[] encryptedTextBytes = Base64.getDecoder().decode(cipherText);\ndesKeySpec = new SecretKeySpec(keyBytes, \"DES\");\ndesCipher = Cipher.getInstance(DES_MODE);\ndesCipher.init(Cipher.DECRYPT_MODE, desKeySpec);\ndata = new String(desCipher.doFinal(encryptedTextBytes));\n</code></pre>\n"},{"tags":["java","spring","serialization","jackson-databind"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695110971,"post_id":77132724,"comment_id":135976877,"body_markdown":"OBviously a JsonDeserializer isn&#39;t the proper way, you need to handle this on your logging side.","body":"OBviously a JsonDeserializer isn&#39;t the proper way, you need to handle this on your logging side."},{"owner":{"account_id":29440053,"reputation":89,"user_id":22558282,"display_name":"Dave"},"score":0,"creation_date":1695111014,"post_id":77132724,"comment_id":135976882,"body_markdown":"try doing this,\nKeep the actual password in your SignInDTO class.\n\nIn the controller, mask the password only when you record it in the logs, but pass the actual password to your service.\n\nMake sure you securely manage user passwords within your system, for example by using password hashing and secure storage.\n\nThis way, the user password will be recorded in a masked form in the logs, but will be used correctly in your service for authentication.","body":"try doing this, Keep the actual password in your SignInDTO class.  In the controller, mask the password only when you record it in the logs, but pass the actual password to your service.  Make sure you securely manage user passwords within your system, for example by using password hashing and secure storage.  This way, the user password will be recorded in a masked form in the logs, but will be used correctly in your service for authentication."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1695111237,"post_id":77132724,"comment_id":135976933,"body_markdown":"Show us how you are doing the logging. There are different ways depending on which logger you are using - [google search](https://www.google.com/search?q=spring+boot+mask+sensitive+data+in+logs).","body":"Show us how you are doing the logging. There are different ways depending on which logger you are using - <a href=\"https://www.google.com/search?q=spring+boot+mask+sensitive+data+in+logs\" rel=\"nofollow noreferrer\">google search</a>."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695111977,"post_id":77132724,"comment_id":135977069,"body_markdown":"Re. your edit: Please, please investigate how to save passwords securely. This is not a problem you can figure out by yourself. There are many tools available to you and articles written about how to use them. **Do not, ever, save a plaintext password in your database, or roll your own &quot;obscuring&quot;**.","body":"Re. your edit: Please, please investigate how to save passwords securely. This is not a problem you can figure out by yourself. There are many tools available to you and articles written about how to use them. <b>Do not, ever, save a plaintext password in your database, or roll your own &quot;obscuring&quot;</b>."}],"answers":[{"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695111952,"creation_date":1695111952,"answer_id":77132855,"question_id":77132724,"body_markdown":"Here is an approach which I used before:\r\n\r\nTo log the request data with the password masked, you can use a custom logger that intercepts the request and masks the password before logging it. Here&#39;s a simplified example using a custom logging filter:\r\n\r\n```\r\nimport org.springframework.web.filter.GenericFilterBean;\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.ServletRequest;\r\nimport javax.servlet.ServletResponse;\r\nimport java.io.IOException;\r\n\r\npublic class MaskedPasswordLoggingFilter extends GenericFilterBean {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n            throws IOException, ServletException {\r\n        // Wrap the request to intercept the body\r\n        MaskedPasswordLoggingRequestWrapper requestWrapper = new MaskedPasswordLoggingRequestWrapper(request);\r\n        chain.doFilter(requestWrapper, response);\r\n    }\r\n}\r\n\r\n```\r\nIn the ***MaskedPasswordLoggingFilter***, you can wrap the ***ServletRequest*** with a custom ***HttpServletRequestWrapper*** (e.g., ***MaskedPasswordLoggingRequestWrapper***) that masks the password before logging.\r\n\r\n```\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletRequestWrapper;\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\n\r\npublic class MaskedPasswordLoggingRequestWrapper extends HttpServletRequestWrapper {\r\n\r\n    public MaskedPasswordLoggingRequestWrapper(HttpServletRequest request) {\r\n        super(request);\r\n    }\r\n\r\n    @Override\r\n    public BufferedReader getReader() throws IOException {\r\n        // Replace the original reader with a custom reader that masks the password\r\n        return new MaskedPasswordBufferedReader(super.getReader());\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n*A friendly advice:*\r\n\r\nIf you want to save the masked password in the database, you can do so after intercepting the request using a similar approach. However, it&#39;s important to consider security and **hashing the password properly before saving it** to the database. Storing plain passwords, even if masked, is not recommended for security reasons.\r\n\r\nIt&#39;s generally a better practice to store securely hashed passwords in the database and mask them only for logging or display purposes. When a user logs in, you would hash the provided password and compare it with the hashed value stored in the database.\r\n\r\nHere&#39;s a high-level outline:\r\n\r\n - Hash the password using a strong hashing algorithm (e.g., bcrypt) and store the hashed value in the database during user registration or password update.\r\n   \r\n\r\n - When logging requests, use a logging filter or interceptor to mask\r\n   the password for logging or display purposes only.\r\n\r\n    \r\n - When authenticating users, hash the provided password and compare it\r\n   with the hashed value stored in the database.\r\n\r\nThis approach ensures that passwords are stored securely while allowing you to log or display masked passwords as needed.\r\n","title":"How can I mask sensitive data only for logging in Spring Boot?","body":"<p>Here is an approach which I used before:</p>\n<p>To log the request data with the password masked, you can use a custom logger that intercepts the request and masks the password before logging it. Here's a simplified example using a custom logging filter:</p>\n<pre><code>import org.springframework.web.filter.GenericFilterBean;\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport java.io.IOException;\n\npublic class MaskedPasswordLoggingFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        // Wrap the request to intercept the body\n        MaskedPasswordLoggingRequestWrapper requestWrapper = new MaskedPasswordLoggingRequestWrapper(request);\n        chain.doFilter(requestWrapper, response);\n    }\n}\n\n</code></pre>\n<p>In the <em><strong>MaskedPasswordLoggingFilter</strong></em>, you can wrap the <em><strong>ServletRequest</strong></em> with a custom <em><strong>HttpServletRequestWrapper</strong></em> (e.g., <em><strong>MaskedPasswordLoggingRequestWrapper</strong></em>) that masks the password before logging.</p>\n<pre><code>import javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\nimport java.io.BufferedReader;\nimport java.io.IOException;\n\npublic class MaskedPasswordLoggingRequestWrapper extends HttpServletRequestWrapper {\n\n    public MaskedPasswordLoggingRequestWrapper(HttpServletRequest request) {\n        super(request);\n    }\n\n    @Override\n    public BufferedReader getReader() throws IOException {\n        // Replace the original reader with a custom reader that masks the password\n        return new MaskedPasswordBufferedReader(super.getReader());\n    }\n}\n\n</code></pre>\n<p><em>A friendly advice:</em></p>\n<p>If you want to save the masked password in the database, you can do so after intercepting the request using a similar approach. However, it's important to consider security and <strong>hashing the password properly before saving it</strong> to the database. Storing plain passwords, even if masked, is not recommended for security reasons.</p>\n<p>It's generally a better practice to store securely hashed passwords in the database and mask them only for logging or display purposes. When a user logs in, you would hash the provided password and compare it with the hashed value stored in the database.</p>\n<p>Here's a high-level outline:</p>\n<ul>\n<li><p>Hash the password using a strong hashing algorithm (e.g., bcrypt) and store the hashed value in the database during user registration or password update.</p>\n</li>\n<li><p>When logging requests, use a logging filter or interceptor to mask\nthe password for logging or display purposes only.</p>\n</li>\n<li><p>When authenticating users, hash the provided password and compare it\nwith the hashed value stored in the database.</p>\n</li>\n</ul>\n<p>This approach ensures that passwords are stored securely while allowing you to log or display masked passwords as needed.</p>\n"}],"owner":{"account_id":12043906,"reputation":5,"user_id":8809732,"display_name":"lolo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695112196,"creation_date":1695110761,"question_id":77132724,"body_markdown":"I&#39;m building a Spring Boot application and want to save sign-in request data in db with user password masked. For example, if user passed &quot;abc&quot;, I want to save it as &quot;***&quot;. I&#39;ve tried @JsonDeserialize with custom deserializer class. It worked, but the controller also gets a masked password. Although it was a valid password, my service throws error it&#39;s wrong password due to masking. Is there any ways to do this?\r\n\r\nHere&#39;s my code.\r\n\r\n```\r\npublic class SignInDTO {\r\n    private String id;\r\n    private String pwd;\r\n}\r\n```\r\n\r\n```\r\n@RequestMapping(&quot;/auth&quot;)\r\npublic class AuthController {\r\n\r\n    private final AuthService authService;\r\n\r\n    @PostMapping(&quot;/sign-in&quot;)\r\n    public ResponseEntity&lt;AuthDTO&gt; signIn(@RequestBody SignInDTO signInDTO) {\r\n        AuthDTO authDTO = authService.getInfo(signInDTO);\r\n\r\n        return ResponseEntity.ok().body(authDTO);\r\n    }\r\n}\r\n```\r\n\r\nThis is what I&#39;ve tried.\r\n\r\n```\r\npublic class SignInDTO {\r\n    private String id;\r\n    @JsonDeserialize(using = MaskingSensitiveDataDeserializer.class)\r\n    private String pwd;\r\n}\r\n```\r\n\r\n```\r\npublic class MaskingSensitiveDataDeserializer extends JsonDeserializer&lt;String&gt; {\r\n\r\n    @Override\r\n    public String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException {\r\n        return &quot;****&quot;;\r\n    }\r\n}\r\n```\r\n\r\nMy initial question was how to log masked password, then how about saving it in db? Is there any way to save request body with password masked?","title":"How can I mask sensitive data only for logging in Spring Boot?","body":"<p>I'm building a Spring Boot application and want to save sign-in request data in db with user password masked. For example, if user passed &quot;abc&quot;, I want to save it as &quot;***&quot;. I've tried @JsonDeserialize with custom deserializer class. It worked, but the controller also gets a masked password. Although it was a valid password, my service throws error it's wrong password due to masking. Is there any ways to do this?</p>\n<p>Here's my code.</p>\n<pre><code>public class SignInDTO {\n    private String id;\n    private String pwd;\n}\n</code></pre>\n<pre><code>@RequestMapping(&quot;/auth&quot;)\npublic class AuthController {\n\n    private final AuthService authService;\n\n    @PostMapping(&quot;/sign-in&quot;)\n    public ResponseEntity&lt;AuthDTO&gt; signIn(@RequestBody SignInDTO signInDTO) {\n        AuthDTO authDTO = authService.getInfo(signInDTO);\n\n        return ResponseEntity.ok().body(authDTO);\n    }\n}\n</code></pre>\n<p>This is what I've tried.</p>\n<pre><code>public class SignInDTO {\n    private String id;\n    @JsonDeserialize(using = MaskingSensitiveDataDeserializer.class)\n    private String pwd;\n}\n</code></pre>\n<pre><code>public class MaskingSensitiveDataDeserializer extends JsonDeserializer&lt;String&gt; {\n\n    @Override\n    public String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException {\n        return &quot;****&quot;;\n    }\n}\n</code></pre>\n<p>My initial question was how to log masked password, then how about saving it in db? Is there any way to save request body with password masked?</p>\n"},{"tags":["java","logging","slf4j"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1498361621,"post_id":44742944,"comment_id":76466952,"body_markdown":"This isn&#39;t going to work.  Interfaces can&#39;t have fields, other than constants.","body":"This isn&#39;t going to work.  Interfaces can&#39;t have fields, other than constants."},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":0,"creation_date":1498362294,"post_id":44742944,"comment_id":76467050,"body_markdown":"If you don&#39;t declare anything it is indeed a static final right. Other words the log_ is indeed a constant.","body":"If you don&#39;t declare anything it is indeed a static final right. Other words the log_ is indeed a constant."},{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":0,"creation_date":1498362458,"post_id":44742944,"comment_id":76467080,"body_markdown":"Constant value will only be evaluated once at the beginning of the program, so `log_` in the interface will always have a constant class not matter where you call it from. BTW `Thread.curren...` doesn&#39;t give you the correct class, you will need to use StackTrace to get correct class.","body":"Constant value will only be evaluated once at the beginning of the program, so <code>log_</code> in the interface will always have a constant class not matter where you call it from. BTW <code>Thread.curren...</code> doesn&#39;t give you the correct class, you will need to use StackTrace to get correct class."},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":0,"creation_date":1498363803,"post_id":44742944,"comment_id":76467290,"body_markdown":"+11thdimension Any suugestion on how to implement something close to what I am doing? I can use Classes however it wont be very useful since you can only extend one other class","body":"+11thdimension Any suugestion on how to implement something close to what I am doing? I can use Classes however it wont be very useful since you can only extend one other class"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1498378167,"post_id":44742944,"comment_id":76469817,"body_markdown":"@user1870400 Why do you want to &quot;factor out&quot; `isInfoEnabled()` calls? Keep in mind that the logging methods has an internal check if the message should be logged or not, depending on the current logging configuration.","body":"@user1870400 Why do you want to &quot;factor out&quot; <code>isInfoEnabled()</code> calls? Keep in mind that the logging methods has an internal check if the message should be logged or not, depending on the current logging configuration."},{"owner":{"account_id":3386246,"reputation":2684,"user_id":2842142,"display_name":"Apokralipsa"},"score":0,"creation_date":1498379233,"post_id":44742944,"comment_id":76470039,"body_markdown":"You did not say what version of Java you are using. There is some new syntax in Java 8 that you may use here.@Progman It makes sense to have logging level checks if you need to do some expensive operation to create the string to be logged.","body":"You did not say what version of Java you are using. There is some new syntax in Java 8 that you may use here.@Progman It makes sense to have logging level checks if you need to do some expensive operation to create the string to be logged."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1498379565,"post_id":44742944,"comment_id":76470126,"body_markdown":"Can&#39;t you use an abstract class instead?","body":"Can&#39;t you use an abstract class instead?"},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":0,"creation_date":1498379791,"post_id":44742944,"comment_id":76470179,"body_markdown":"@shmosel I answered this is my previous comment but I will say it again. If I create an abstract class then other classes cannot extend any other class besides the Logging class which would be a huge limitation. Having an interface would be seamless","body":"@shmosel I answered this is my previous comment but I will say it again. If I create an abstract class then other classes cannot extend any other class besides the Logging class which would be a huge limitation. Having an interface would be seamless"},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":0,"creation_date":1498380135,"post_id":44742944,"comment_id":76470256,"body_markdown":"@Progman Please take a look at this one https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/internal/Logging.scala This is something Apache Spark uses and it is one of the most popular projects in the industry","body":"@Progman Please take a look at this one <a href=\"https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/internal/Logging.scala\" rel=\"nofollow noreferrer\">github.com/apache/spark/blob/master/core/src/main/scala/org/&zwnj;&#8203;&hellip;</a> This is something Apache Spark uses and it is one of the most popular projects in the industry"},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1498381092,"post_id":44742944,"comment_id":76470490,"body_markdown":"What they do in that snippet of Spark is entirely unnecessary, and only adds additional overhead. Popular not necessarily means that it doesn&#39;t have bad code or too much cargo cult.","body":"What they do in that snippet of Spark is entirely unnecessary, and only adds additional overhead. Popular not necessarily means that it doesn&#39;t have bad code or too much cargo cult."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1498382303,"post_id":44742944,"comment_id":76470797,"body_markdown":"@user1870400 Your answer doesn&#39;t explain why you want to &quot;factor out&quot; the `isInfoEnabled()` calls. Please explain why you want to remove them and why you don&#39;t do it right now.","body":"@user1870400 Your answer doesn&#39;t explain why you want to &quot;factor out&quot; the <code>isInfoEnabled()</code> calls. Please explain why you want to remove them and why you don&#39;t do it right now."}],"answers":[{"tags":[],"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1498380260,"creation_date":1498380260,"answer_id":44744705,"question_id":44742944,"body_markdown":"I think your approach, even if it works, is pointless. The log method already did this work. \r\n\r\nThe reason because we use the log guard condition is about string concatenation. \r\n\r\nHere is the issue:\r\n\r\n    log.debug(&quot;This is the case where &quot; + varToBeChecked);\r\n\r\nIn this case you have to use the guard condition:\r\n\r\n    if (log.isDebugEnabled()) {\r\n        log.debug(&quot;This is the case where &quot; + varToBeChecked);\r\n    }  \r\n\r\nThis not only avoids the execution of the log statement, but also the string concatenation, that will be done in the previos example.\r\n\r\nSo if you have just a fixed string with no concatenation you have no reasons to use the guard condition:\r\n\r\n    log.info(&quot;Method starts here&quot;);\r\n\r\nIn your proposal, the interface is not protecting you from this issue, so you are going to add complexity without solving the issue.\r\n\r\nThe solution to this log staff could be a change of the log interface:\r\n\r\n    log.debug(&quot;My log message for %s of run&quot;, myVarToBeLogged);\r\n\r\nIn this case we could avoids the string concatenation, but I&#39;m not sure it is the same performance of using the guard condition.\r\n","title":"How to factor out conditional log checks in Java 8 &amp; SLF4J?","body":"<p>I think your approach, even if it works, is pointless. The log method already did this work. </p>\n\n<p>The reason because we use the log guard condition is about string concatenation. </p>\n\n<p>Here is the issue:</p>\n\n<pre><code>log.debug(\"This is the case where \" + varToBeChecked);\n</code></pre>\n\n<p>In this case you have to use the guard condition:</p>\n\n<pre><code>if (log.isDebugEnabled()) {\n    log.debug(\"This is the case where \" + varToBeChecked);\n}  \n</code></pre>\n\n<p>This not only avoids the execution of the log statement, but also the string concatenation, that will be done in the previos example.</p>\n\n<p>So if you have just a fixed string with no concatenation you have no reasons to use the guard condition:</p>\n\n<pre><code>log.info(\"Method starts here\");\n</code></pre>\n\n<p>In your proposal, the interface is not protecting you from this issue, so you are going to add complexity without solving the issue.</p>\n\n<p>The solution to this log staff could be a change of the log interface:</p>\n\n<pre><code>log.debug(\"My log message for %s of run\", myVarToBeLogged);\n</code></pre>\n\n<p>In this case we could avoids the string concatenation, but I'm not sure it is the same performance of using the guard condition.</p>\n"},{"tags":[],"owner":{"account_id":3386246,"reputation":2684,"user_id":2842142,"display_name":"Apokralipsa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498380938,"creation_date":1498380326,"answer_id":44744712,"question_id":44742944,"body_markdown":"The logging methods only output values to log when a specific logging level is enabled. The only case where manually checking the logging level makes sense is when creating the message to log is expensive. Say, you have to  retrieve a lazy loaded field from the database or walk through a collection with many items. In that case it makes sense to create an interface to simulate a mixin and use functional programming as in: \r\n\r\n    public interface Logging {\r\n        \r\n        Logger getLogger();\r\n        \r\n        default void logInfo(Supplier&lt;String&gt; msg){\r\n    \t    Logger logger = getLogger();\r\n    \t    if (logger.isInfoEnabled()){\r\n    \t        logger.info(msg.get());\r\n    \t    }\r\n        }\r\n    \r\n    }\r\n\r\n    public class Something implements Logging {\r\n    \r\n        public static Logger LOG = LoggerFactory.getLogger(Something.class);\r\n\r\n        @Override\r\n        public Logger getLogger() {\r\n            return LOG;\r\n        }\r\n    \r\n        public void doSomething(){\r\n            logInfo(this::createExpensiveMessage); \r\n        }\r\n    \r\n        private String createExpensiveMessage(){\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                // Nobody cares \r\n            }\r\n    \r\n            return &quot;Something happened&quot;;\r\n       }\r\n\r\n}\r\n\r\n\r\n","title":"How to factor out conditional log checks in Java 8 &amp; SLF4J?","body":"<p>The logging methods only output values to log when a specific logging level is enabled. The only case where manually checking the logging level makes sense is when creating the message to log is expensive. Say, you have to  retrieve a lazy loaded field from the database or walk through a collection with many items. In that case it makes sense to create an interface to simulate a mixin and use functional programming as in: </p>\n\n<pre><code>public interface Logging {\n\n    Logger getLogger();\n\n    default void logInfo(Supplier&lt;String&gt; msg){\n        Logger logger = getLogger();\n        if (logger.isInfoEnabled()){\n            logger.info(msg.get());\n        }\n    }\n\n}\n\npublic class Something implements Logging {\n\n    public static Logger LOG = LoggerFactory.getLogger(Something.class);\n\n    @Override\n    public Logger getLogger() {\n        return LOG;\n    }\n\n    public void doSomething(){\n        logInfo(this::createExpensiveMessage); \n    }\n\n    private String createExpensiveMessage(){\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            // Nobody cares \n        }\n\n        return \"Something happened\";\n   }\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1498382102,"creation_date":1498380779,"answer_id":44744758,"question_id":44742944,"body_markdown":"&gt; I am trying to factor out if (log.isInfoEnabled()) or if\r\n&gt; (log.isWarnEnabled()) statements\r\n\r\nI think you didn&#39;t understand how and why the `if (log.isLevelXXXEnabled()){...}`  pattern  is used.&lt;br&gt;\r\n\r\nWhat you are writing here :\r\n\r\n    public void doSomething(String name) {\r\n        if (name.equals(&quot;hello&quot;)) {\r\n            if (log_.isInfoEnabled()) { // Don&#39;t want to have this code everywhere\r\n                logInfo(&quot;What class name does the log print here ? &quot;) \r\n            }\r\n        }\r\n    }\r\n\r\nhas really no need to be enclosed by :\r\n\r\n    if (log_.isInfoEnabled()){\r\n\r\nWhy ?&lt;br&gt;\r\n Because you pass a `String` to log that doesn&#39;t require any computation : `&quot;What class name does the log print here ?&quot;` to your logger.&lt;br&gt;\r\nBesides, loggers are already designed to write the log only if the actual level of the logger matches with the requested log level.&lt;br&gt;\r\n\r\nNow, suppose you passed an object with a expensive `toString()` method.&lt;br&gt;\r\nThe logger invokes indeed the `toString()` method of the passed object to log **when it performs actually the log**.&lt;br&gt;\r\nBut in this case, using a check before logging is still useless.&lt;br&gt;\r\n\r\nSuppose `myObject` is a variable referring to an instance of class with a `toString()` performing multiple computations or simply a collection of objects.\r\nThis is helpless :\r\n\r\n    if (log_.isInfoEnabled()) { \r\n        logInfo(myObject); \r\n    }\r\n\r\nas the logger implementation will perform `myObject.toString()` only if the effective log level of the logger matches with the requested level for logging.&lt;br&gt;\r\n\r\nUsing this check log pattern makes sense only when you have to perform a relatively expensive computation for the passed object.&lt;br&gt;\r\nGenerally, it is when you perform yourself a computation and you provide it as parameter to the log operation.&lt;br&gt;\r\nFor example :\r\n\r\n    if (log_.isInfoEnabled()) { \r\n        log_.info(&quot;name :&quot; + myPerson.getName() + &quot;, order history :&quot; + myPerson.getOrders()); \r\n    }\r\n\r\nHere it makes sense not because you spare 4 concatenations but because `myPerson.getOrders()` is a collection with potential hundreds elements and invoking `toString()` on it should be done only if you really log.&lt;br&gt;\r\n\r\nNow how do you think design a generic method that could do this specific check and any other specific check for you ?&lt;br&gt;\r\nIt is not possible.&lt;br&gt;\r\nIn fact, what you try to do is possible but will only repeat what the logger libraries already do for you.&lt;br&gt;\r\nThe specific case where you should do the check because it is expensive has to be performed by you for each specific case.&lt;br&gt;\r\n\r\nNow according to preferences, you can of course replace this :\r\n\r\n    if (log_.isInfoEnabled()) { \r\n        log_.info(&quot;name :&quot; + myPerson.getName() + &quot;, order history :&quot; + myPerson.getOrders()); \r\n    }\r\n\r\nby this other syntax :\r\n\r\n    log_.info(&quot;name : {}, order history : {}&quot;, myPerson.getName(), myPerson.getOrders()); \r\n\r\nthat relies on the \r\n\r\n    public void info(String format, Object... arguments);\r\n\r\nmethod of the `org.slf4j.Logger` class.&lt;br&gt;\r\n\r\nUsing `if (log_.isInfoEnabled()) {`  or `public void info(String format, Object... arguments);`  doesn&#39;t change really the problem as you should always think when using the way to spare potential computation.&lt;br&gt;\r\n    \r\n","title":"How to factor out conditional log checks in Java 8 &amp; SLF4J?","body":"<blockquote>\n  <p>I am trying to factor out if (log.isInfoEnabled()) or if\n  (log.isWarnEnabled()) statements</p>\n</blockquote>\n\n<p>I think you didn't understand how and why the <code>if (log.isLevelXXXEnabled()){...}</code>  pattern  is used.<br></p>\n\n<p>What you are writing here :</p>\n\n<pre><code>public void doSomething(String name) {\n    if (name.equals(\"hello\")) {\n        if (log_.isInfoEnabled()) { // Don't want to have this code everywhere\n            logInfo(\"What class name does the log print here ? \") \n        }\n    }\n}\n</code></pre>\n\n<p>has really no need to be enclosed by :</p>\n\n<pre><code>if (log_.isInfoEnabled()){\n</code></pre>\n\n<p>Why ?<br>\n Because you pass a <code>String</code> to log that doesn't require any computation : <code>\"What class name does the log print here ?\"</code> to your logger.<br>\nBesides, loggers are already designed to write the log only if the actual level of the logger matches with the requested log level.<br></p>\n\n<p>Now, suppose you passed an object with a expensive <code>toString()</code> method.<br>\nThe logger invokes indeed the <code>toString()</code> method of the passed object to log <strong>when it performs actually the log</strong>.<br>\nBut in this case, using a check before logging is still useless.<br></p>\n\n<p>Suppose <code>myObject</code> is a variable referring to an instance of class with a <code>toString()</code> performing multiple computations or simply a collection of objects.\nThis is helpless :</p>\n\n<pre><code>if (log_.isInfoEnabled()) { \n    logInfo(myObject); \n}\n</code></pre>\n\n<p>as the logger implementation will perform <code>myObject.toString()</code> only if the effective log level of the logger matches with the requested level for logging.<br></p>\n\n<p>Using this check log pattern makes sense only when you have to perform a relatively expensive computation for the passed object.<br>\nGenerally, it is when you perform yourself a computation and you provide it as parameter to the log operation.<br>\nFor example :</p>\n\n<pre><code>if (log_.isInfoEnabled()) { \n    log_.info(\"name :\" + myPerson.getName() + \", order history :\" + myPerson.getOrders()); \n}\n</code></pre>\n\n<p>Here it makes sense not because you spare 4 concatenations but because <code>myPerson.getOrders()</code> is a collection with potential hundreds elements and invoking <code>toString()</code> on it should be done only if you really log.<br></p>\n\n<p>Now how do you think design a generic method that could do this specific check and any other specific check for you ?<br>\nIt is not possible.<br>\nIn fact, what you try to do is possible but will only repeat what the logger libraries already do for you.<br>\nThe specific case where you should do the check because it is expensive has to be performed by you for each specific case.<br></p>\n\n<p>Now according to preferences, you can of course replace this :</p>\n\n<pre><code>if (log_.isInfoEnabled()) { \n    log_.info(\"name :\" + myPerson.getName() + \", order history :\" + myPerson.getOrders()); \n}\n</code></pre>\n\n<p>by this other syntax :</p>\n\n<pre><code>log_.info(\"name : {}, order history : {}\", myPerson.getName(), myPerson.getOrders()); \n</code></pre>\n\n<p>that relies on the </p>\n\n<pre><code>public void info(String format, Object... arguments);\n</code></pre>\n\n<p>method of the <code>org.slf4j.Logger</code> class.<br></p>\n\n<p>Using <code>if (log_.isInfoEnabled()) {</code>  or <code>public void info(String format, Object... arguments);</code>  doesn't change really the problem as you should always think when using the way to spare potential computation.<br></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498382418,"creation_date":1498382418,"answer_id":44744949,"question_id":44742944,"body_markdown":"The guard is (should be) primarily used to prevent costly operations when no need arises - just for debugging.\r\n\r\nSo the following would be the correct pattern:\r\n\r\n        if (log_.isInfoEnabled()) {\r\n            String meg = String.join(&quot;log message: &quot;, f(), g(), h);\r\n            log_.info(msg);\r\n        }\r\n\r\n    default void logInfo(Supplier&lt;String&gt; messageSupplier) {\r\n        if (log_.isInfoEnabled()) {\r\n            log_.info(messageSupplier.get());\r\n        }\r\n    }\r\n\r\n    logInfo(() -&gt; String.join(&quot;log message: &quot;, f(), g(), h));\r\n\r\nHowever you risk that this method is used for the simple logging cases, turning it in a costly extra function call `logInfo`, and that lambda.","title":"How to factor out conditional log checks in Java 8 &amp; SLF4J?","body":"<p>The guard is (should be) primarily used to prevent costly operations when no need arises - just for debugging.</p>\n\n<p>So the following would be the correct pattern:</p>\n\n<pre><code>    if (log_.isInfoEnabled()) {\n        String meg = String.join(\"log message: \", f(), g(), h);\n        log_.info(msg);\n    }\n\ndefault void logInfo(Supplier&lt;String&gt; messageSupplier) {\n    if (log_.isInfoEnabled()) {\n        log_.info(messageSupplier.get());\n    }\n}\n\nlogInfo(() -&gt; String.join(\"log message: \", f(), g(), h));\n</code></pre>\n\n<p>However you risk that this method is used for the simple logging cases, turning it in a costly extra function call <code>logInfo</code>, and that lambda.</p>\n"},{"tags":[],"owner":{"account_id":442476,"reputation":1444,"user_id":833105,"display_name":"Rafiek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695112029,"creation_date":1541171119,"answer_id":53121076,"question_id":44742944,"body_markdown":"You don&#39;t need guards if you use parameterized messages and the parameters are direct references to objects or primitive values.\r\n\r\nhttps://www.slf4j.org/faq.html#logging_performance\r\n\r\nThis is a parameterized message: `log.debug(&quot;Person is {}&quot;, person);`","title":"How to factor out conditional log checks in Java 8 &amp; SLF4J?","body":"<p>You don't need guards if you use parameterized messages and the parameters are direct references to objects or primitive values.</p>\n<p><a href=\"https://www.slf4j.org/faq.html#logging_performance\" rel=\"nofollow noreferrer\">https://www.slf4j.org/faq.html#logging_performance</a></p>\n<p>This is a parameterized message: <code>log.debug(&quot;Person is {}&quot;, person);</code></p>\n"},{"tags":[],"owner":{"account_id":4387361,"reputation":347,"user_id":3577053,"display_name":"user07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589305687,"creation_date":1589305687,"answer_id":61758510,"question_id":44742944,"body_markdown":"Guards are still needed if logging parameters use some kind of processing to get to the object we want to log. What slf4j deferres is only the call to object&#39;s toString() method, but not the computations that are performed to get the object itself. This guard is reasonable to put here:\r\n\r\n    if (log.isdebugEnabled()) {\r\n     log.debug(&quot;Value {} is not valid&quot;, obj.connectToDBAndRetrieveValue());\r\n    }\r\n\r\nSo having a custom log wrapper to encapsulate the guard logic might be handy. And also, it will shift unit testing of this condition from client code to the concrete wrapper class what would be much easier and cleaner to do.\r\n\r\nAs a side note, actually this kind of wrapper is not needed for INFO level since INFO is usually enabled in production. Unless this is not your case.","title":"How to factor out conditional log checks in Java 8 &amp; SLF4J?","body":"<p>Guards are still needed if logging parameters use some kind of processing to get to the object we want to log. What slf4j deferres is only the call to object's toString() method, but not the computations that are performed to get the object itself. This guard is reasonable to put here:</p>\n\n<pre><code>if (log.isdebugEnabled()) {\n log.debug(\"Value {} is not valid\", obj.connectToDBAndRetrieveValue());\n}\n</code></pre>\n\n<p>So having a custom log wrapper to encapsulate the guard logic might be handy. And also, it will shift unit testing of this condition from client code to the concrete wrapper class what would be much easier and cleaner to do.</p>\n\n<p>As a side note, actually this kind of wrapper is not needed for INFO level since INFO is usually enabled in production. Unless this is not your case.</p>\n"}],"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7930,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44744758,"answer_count":6,"score":2,"last_activity_date":1695112029,"creation_date":1498361258,"question_id":44742944,"body_markdown":"I am trying to factor out `if (log.isInfoEnabled())` or `if (log.isWarnEnabled())` statements so I am thinking to create an interface in **Java 8** like below however I am not sure if I could run into any problems?\r\n\r\n    public interface Logging {\r\n\r\n        Logger log_ = LoggerFactory.getLogger(Thread.currentThread().getContextClassLoader().getClass());\r\n\r\n        default void logInfo(String... messages) {\r\n            if (log_.isInfoEnabled()) {\r\n                String meg = String.join(&quot;log message: &quot;, messages)\r\n                log_.info(msg);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public class Hello implements Logging {\r\n\r\n        //Imagine this function is called lot of times like imagine\r\n        // an infinite loop calling this function\r\n        public void doSomething(String name) {\r\n            if (name.equals(&quot;hello&quot;)) {\r\n                logInfo(&quot;What class name does the log print here ? &quot;)  \r\n            }\r\n        }\r\n\r\n         //Imagine this function is called lot of times like imagine\r\n        // an infinite loop calling this function\r\n       public void doSomething2(String name) {\r\n            if (name.equals(&quot;hello2&quot;)) {\r\n                logInfo(&quot;What class name does the log print here ? &quot;)  \r\n            }\r\n        }\r\n       \r\n        //Imagine this function is called lot of times like imagine\r\n        // an infinite loop calling this function\r\n        public void doSomething3(String name) {\r\n            if (name.equals(&quot;hello3&quot;)) {\r\n                logInfo(&quot;What class name does the log print here ? &quot;)  \r\n            }\r\n        }\r\n    }\r\n\r\n  vs\r\n\r\n  \r\n    public class Hello {\r\n\r\n        Logger log_ = LoggerFactory.getLogger(Hello.class);\r\n\r\n        public void doSomething(String name) {\r\n            if (name.equals(&quot;hello&quot;)) {\r\n                if (log_.isInfoEnabled()) { // Don&#39;t want to have this code everywhere\r\n                    logInfo(&quot;What class name does the log print here ? &quot;) \r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAre these two equivalent? Any problems if I go with the Logging interface above?\r\n    \r\n","title":"How to factor out conditional log checks in Java 8 &amp; SLF4J?","body":"<p>I am trying to factor out <code>if (log.isInfoEnabled())</code> or <code>if (log.isWarnEnabled())</code> statements so I am thinking to create an interface in <strong>Java 8</strong> like below however I am not sure if I could run into any problems?</p>\n\n<pre><code>public interface Logging {\n\n    Logger log_ = LoggerFactory.getLogger(Thread.currentThread().getContextClassLoader().getClass());\n\n    default void logInfo(String... messages) {\n        if (log_.isInfoEnabled()) {\n            String meg = String.join(\"log message: \", messages)\n            log_.info(msg);\n        }\n    }\n}\n\n\npublic class Hello implements Logging {\n\n    //Imagine this function is called lot of times like imagine\n    // an infinite loop calling this function\n    public void doSomething(String name) {\n        if (name.equals(\"hello\")) {\n            logInfo(\"What class name does the log print here ? \")  \n        }\n    }\n\n     //Imagine this function is called lot of times like imagine\n    // an infinite loop calling this function\n   public void doSomething2(String name) {\n        if (name.equals(\"hello2\")) {\n            logInfo(\"What class name does the log print here ? \")  \n        }\n    }\n\n    //Imagine this function is called lot of times like imagine\n    // an infinite loop calling this function\n    public void doSomething3(String name) {\n        if (name.equals(\"hello3\")) {\n            logInfo(\"What class name does the log print here ? \")  \n        }\n    }\n}\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>public class Hello {\n\n    Logger log_ = LoggerFactory.getLogger(Hello.class);\n\n    public void doSomething(String name) {\n        if (name.equals(\"hello\")) {\n            if (log_.isInfoEnabled()) { // Don't want to have this code everywhere\n                logInfo(\"What class name does the log print here ? \") \n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Are these two equivalent? Any problems if I go with the Logging interface above?</p>\n"},{"tags":["java","spring-webflux","ksqldb","vertex"],"comments":[{"owner":{"account_id":11111536,"reputation":609,"user_id":8157160,"accept_rate":56,"display_name":"Farhan Islam"},"score":0,"creation_date":1695086612,"post_id":77113555,"comment_id":135974106,"body_markdown":"It seems like there is nothing baked into the ksqldb Java client to detect if there was a connection drop while a push query is running. The only error we’re able to surface is if there is a connection drop while there is consumption of records in progress, but if we enter an idle state and drop connection, there is zero indication that the connection has dropped from the client and you are not able to surface any kind of error.","body":"It seems like there is nothing baked into the ksqldb Java client to detect if there was a connection drop while a push query is running. The only error we’re able to surface is if there is a connection drop while there is consumption of records in progress, but if we enter an idle state and drop connection, there is zero indication that the connection has dropped from the client and you are not able to surface any kind of error."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1695617502,"post_id":77113555,"comment_id":136043197,"body_markdown":"check how errors are handled in `RowSubscriber` and make sure that `sink.error(e)` is called. also, some errors could occur outside of the subscriber. It could be that you need to add `.exceptionally` block and propagate exception there `sink.error(e)`","body":"check how errors are handled in <code>RowSubscriber</code> and make sure that <code>sink.error(e)</code> is called. also, some errors could occur outside of the subscriber. It could be that you need to add <code>.exceptionally</code> block and propagate exception there <code>sink.error(e)</code>"},{"owner":{"account_id":11111536,"reputation":609,"user_id":8157160,"accept_rate":56,"display_name":"Farhan Islam"},"score":0,"creation_date":1695667055,"post_id":77113555,"comment_id":136052363,"body_markdown":"It was actually a vertx error did not trigger any of the RowSubscriber onError hooks. It was a null pointer exception that was uncaught and was unable to be caught since the code that triggers the NPE is library code that is only readable. Ended up using webclient straight for more flexibility and control.","body":"It was actually a vertx error did not trigger any of the RowSubscriber onError hooks. It was a null pointer exception that was uncaught and was unable to be caught since the code that triggers the NPE is library code that is only readable. Ended up using webclient straight for more flexibility and control."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1695676783,"post_id":77113555,"comment_id":136053808,"body_markdown":"interesting combination vertx &amp; spring-webflux.","body":"interesting combination vertx &amp; spring-webflux."},{"owner":{"account_id":11111536,"reputation":609,"user_id":8157160,"accept_rate":56,"display_name":"Farhan Islam"},"score":0,"creation_date":1695679788,"post_id":77113555,"comment_id":136054092,"body_markdown":"No vertx, just used Spring Webflux straight with the ksqldb rest api","body":"No vertx, just used Spring Webflux straight with the ksqldb rest api"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1695692679,"post_id":77113555,"comment_id":136055279,"body_markdown":"hmm, &quot;It was actually a vertx error&quot;. Anyway, I&#39;m glad you found the root cause.","body":"hmm, &quot;It was actually a vertx error&quot;. Anyway, I&#39;m glad you found the root cause."},{"owner":{"account_id":11111536,"reputation":609,"user_id":8157160,"accept_rate":56,"display_name":"Farhan Islam"},"score":0,"creation_date":1695745174,"post_id":77113555,"comment_id":136064337,"body_markdown":"Yeah I meant that, we opted to not use the ksqldb Java client library since it was locked into using vertx where it was inflexible and we were triggering a null pointer exception that was unable to be caught, so instead we are using Webclient and the ksqlDB REST API sow we have more control over HTTP exception handling and configuration around TCP keep alive. Errors surface much more clearly as well.","body":"Yeah I meant that, we opted to not use the ksqldb Java client library since it was locked into using vertx where it was inflexible and we were triggering a null pointer exception that was unable to be caught, so instead we are using Webclient and the ksqlDB REST API sow we have more control over HTTP exception handling and configuration around TCP keep alive. Errors surface much more clearly as well."}],"owner":{"account_id":11111536,"reputation":609,"user_id":8157160,"accept_rate":56,"display_name":"Farhan Islam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1695111947,"creation_date":1694791131,"question_id":77113555,"body_markdown":"I&#39;m using\r\n\r\n\timplementation (&#39;io.confluent.ksql:ksqldb-api-client:7.3.1&#39;)\r\n\r\nand I&#39;m running into issues throwing exception on connection loss on the code below\r\n\r\n    @Override\r\n    public &lt;T&gt; Flux&lt;T&gt; select(Query query, Class&lt;T&gt; entityClass) throws DataAccessException {\r\n        String tableName = Objects.requireNonNull(mappingContext.getPersistentEntity(entityClass)).getTableName().toString();\r\n        logger.info(&quot;Executing ksqlDB push query: SELECT * FROM&quot; + tableName + &quot; EMIT CHANGES;&quot;);\r\n        return Flux.create((FluxSink&lt;io.confluent.ksql.api.client.Row&gt; sink) -&gt;\r\n                        client.streamQuery(&quot;select * from &quot; + tableName + &quot; &quot; + emitChangesString(entityClass) + &quot;;&quot;)\r\n                                .thenAccept(streamedQueryResult -&gt; streamedQueryResult.subscribe(RowSubscriber.fromSink(sink)))\r\n                )\r\n                .flatMap(row -&gt; {\r\n                    try {\r\n                        return Flux.just(objectMapper.readValue(row.asObject().toJsonString(), entityClass));\r\n                    } catch (JsonProcessingException e) {\r\n                        logger.error(&quot;ksqlDB Exception occurred while object mapping record from table:&quot; + e);\r\n                        return Flux.empty();\r\n                    }\r\n                })\r\n                .doOnError(throwable -&gt; logger.error(&quot;Exception occurred during ksqlDB push query processing&quot;));\r\n    }\r\n\r\n\r\nI would expect the .doOnError() to be hit when i disconnect my internet connection but instead nothing happens and no errors are thrown.\r\n\r\nAm I missing something here to be able to determine when the connection is lost?\r\n","title":"ksqlDB Java Client unable to surface connection exception","body":"<p>I'm using</p>\n<pre><code>implementation ('io.confluent.ksql:ksqldb-api-client:7.3.1')\n</code></pre>\n<p>and I'm running into issues throwing exception on connection loss on the code below</p>\n<pre><code>@Override\npublic &lt;T&gt; Flux&lt;T&gt; select(Query query, Class&lt;T&gt; entityClass) throws DataAccessException {\n    String tableName = Objects.requireNonNull(mappingContext.getPersistentEntity(entityClass)).getTableName().toString();\n    logger.info(&quot;Executing ksqlDB push query: SELECT * FROM&quot; + tableName + &quot; EMIT CHANGES;&quot;);\n    return Flux.create((FluxSink&lt;io.confluent.ksql.api.client.Row&gt; sink) -&gt;\n                    client.streamQuery(&quot;select * from &quot; + tableName + &quot; &quot; + emitChangesString(entityClass) + &quot;;&quot;)\n                            .thenAccept(streamedQueryResult -&gt; streamedQueryResult.subscribe(RowSubscriber.fromSink(sink)))\n            )\n            .flatMap(row -&gt; {\n                try {\n                    return Flux.just(objectMapper.readValue(row.asObject().toJsonString(), entityClass));\n                } catch (JsonProcessingException e) {\n                    logger.error(&quot;ksqlDB Exception occurred while object mapping record from table:&quot; + e);\n                    return Flux.empty();\n                }\n            })\n            .doOnError(throwable -&gt; logger.error(&quot;Exception occurred during ksqlDB push query processing&quot;));\n}\n</code></pre>\n<p>I would expect the .doOnError() to be hit when i disconnect my internet connection but instead nothing happens and no errors are thrown.</p>\n<p>Am I missing something here to be able to determine when the connection is lost?</p>\n"},{"tags":["java","spring-boot","junit5","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1613131936,"post_id":66170469,"comment_id":116988106,"body_markdown":"What is the output when you set `-Amapstruct.verbose=true`? Are you using Lombok by any chance?","body":"What is the output when you set <code>-Amapstruct.verbose=true</code>? Are you using Lombok by any chance?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1613132922,"post_id":66170469,"comment_id":116988514,"body_markdown":"I haven&#39;t use this debug option so far. Yes I use Lombook","body":"I haven&#39;t use this debug option so far. Yes I use Lombook"},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1613162560,"post_id":66170469,"comment_id":117001100,"body_markdown":"Then I suggest having a look at https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together/47684351","body":"Then I suggest having a look at <a href=\"https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together/47684351\" title=\"mapstruct and lombok not working together\">stackoverflow.com/questions/47676369/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613127187,"creation_date":1613127187,"answer_id":66170503,"question_id":66170469,"body_markdown":"Use the generated implementation of the mapper within the Spring test configuration:\r\n\r\n    @SpringBootTest(classes = {ProductMapperImpl.class })\r\n\r\nAlso remember that the mapper itself should be bound to the Spring context.","title":"java: No implementation was created for ProductMapper due to having a problem in the erroneous element java.util.ArrayList","body":"<p>Use the generated implementation of the mapper within the Spring test configuration:</p>\n<pre><code>@SpringBootTest(classes = {ProductMapperImpl.class })\n</code></pre>\n<p>Also remember that the mapper itself should be bound to the Spring context.</p>\n"},{"tags":[],"owner":{"account_id":230699,"reputation":335,"user_id":2550062,"display_name":"thinwa"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1616995381,"creation_date":1616995381,"answer_id":66849106,"question_id":66170469,"body_markdown":"Try to reorder your annotation processor factory path, move lombok to the top.","title":"java: No implementation was created for ProductMapper due to having a problem in the erroneous element java.util.ArrayList","body":"<p>Try to reorder your annotation processor factory path, move lombok to the top.</p>\n"},{"tags":[],"owner":{"account_id":4098260,"reputation":619,"user_id":3364457,"display_name":"AndrewMcCoist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644314167,"creation_date":1644314167,"answer_id":71031819,"question_id":66170469,"body_markdown":"It&#39;s not exactly related to MapStruct itself, but maybe it will save some devs a few minutes / hours when searching for the problem.\r\n\r\nI had a similar problem in a project, where I was supposed to add new API version and mark old one as deprecated.\r\n\r\nWhen I tried compiling with maven, I got errors\r\n\r\n    [ERROR] /src/main/java/com/example/MapStructMapperClass.java: No implementation was created for MapStructMapperClass.java due to having a problem in the erroneous element java.util.ArrayList. Hint: this often means that some other annotation processor was supposed to process the erroneous element. You can also enable MapStruct verbose mode by setting -Amapstruct.verbose=true as a compilation argument.\r\n\r\nThe project uses Lombok, so I checked annotation processor configs. Looked fine and worked properly on a simple, ad hoc created project.\r\nTried bumping MapStruct and Lpmbok versions. Still the same problem.\r\n\r\n\r\nThen, I noticed a few lines in the log:\r\n\r\n    [WARNING] COMPILATION WARNING :\r\n    [INFO] ------------------------------\r\n    [WARNING] /src/main/java/com/example/MyRestController.java: com.example.MyOldService in MyRestController has been deprecated\r\n    [INFO] 1 warning\r\n    [INFO] ----------------------\r\n    [ERROR] COMPILATION ERROR :\r\n    [INFO] ----------------------\r\n    [ERROR] warnings found and -Werror specified\r\n\r\nAnd the config in maven pom.xml\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\r\n      &lt;configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAs [Javac JDK 8][1] states:\r\n\r\n    -Werror\r\n        Terminate compilation if warnings occur.\r\n\r\nSo, my problem was that I used @Deprecated annotation and someone turned treating compilation warnings as errors on. Due to the project using MapStruct and having pleeeeenty of mappers with the same compilation error, I focused on solving the problem with the annotations processors, completely ignoring those &quot;insignificant&quot; warnings.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html","title":"java: No implementation was created for ProductMapper due to having a problem in the erroneous element java.util.ArrayList","body":"<p>It's not exactly related to MapStruct itself, but maybe it will save some devs a few minutes / hours when searching for the problem.</p>\n<p>I had a similar problem in a project, where I was supposed to add new API version and mark old one as deprecated.</p>\n<p>When I tried compiling with maven, I got errors</p>\n<pre><code>[ERROR] /src/main/java/com/example/MapStructMapperClass.java: No implementation was created for MapStructMapperClass.java due to having a problem in the erroneous element java.util.ArrayList. Hint: this often means that some other annotation processor was supposed to process the erroneous element. You can also enable MapStruct verbose mode by setting -Amapstruct.verbose=true as a compilation argument.\n</code></pre>\n<p>The project uses Lombok, so I checked annotation processor configs. Looked fine and worked properly on a simple, ad hoc created project.\nTried bumping MapStruct and Lpmbok versions. Still the same problem.</p>\n<p>Then, I noticed a few lines in the log:</p>\n<pre><code>[WARNING] COMPILATION WARNING :\n[INFO] ------------------------------\n[WARNING] /src/main/java/com/example/MyRestController.java: com.example.MyOldService in MyRestController has been deprecated\n[INFO] 1 warning\n[INFO] ----------------------\n[ERROR] COMPILATION ERROR :\n[INFO] ----------------------\n[ERROR] warnings found and -Werror specified\n</code></pre>\n<p>And the config in maven pom.xml</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\n  &lt;configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>As <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html\" rel=\"nofollow noreferrer\">Javac JDK 8</a> states:</p>\n<pre><code>-Werror\n    Terminate compilation if warnings occur.\n</code></pre>\n<p>So, my problem was that I used @Deprecated annotation and someone turned treating compilation warnings as errors on. Due to the project using MapStruct and having pleeeeenty of mappers with the same compilation error, I focused on solving the problem with the annotations processors, completely ignoring those &quot;insignificant&quot; warnings.</p>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695107722,"creation_date":1695107722,"answer_id":77132393,"question_id":66170469,"body_markdown":"I had the same problem, but in my case the root cause was related to my **multi-module architecture**.\r\n\r\nThe top-level mapper has used one child mapper of **module A** which used itself a child mapper of **module B**.\r\n\r\nGradle **module A** has dependency implementation of **module B**\r\n\r\n&gt; implementation(&quot;module-b&quot;)\r\n\r\nThis means the **application module** has **no access** to classes of **transitive dependency B through module A** which makes MapStruct fail with this error:\r\n\r\n&gt; No implementation was created for **MapperOfApplication** due to having a problem\r\n&gt; in the erroneous element **EntityOfModuleB**. Hint: this often\r\n&gt; means that some other annotation processor was supposed to process the\r\n&gt; erroneous element. You can also enable MapStruct verbose mode by\r\n&gt; setting -Amapstruct.verbose=true as a compilation argument.\r\n\r\n\r\nThe odd thing is, mapper for **EntityOfModuleB** is not even used, as **EntityOfModuleADto** has no reference to **EntityOfModuleBDto** and in my opinion this error should not occur in my case. (**MapStruct bug?**)\r\n\r\n\r\n\r\nHowever, as a **solution** I had to additionally **include** dependency `implementation(&quot;module-b&quot;)` into my **application module**","title":"java: No implementation was created for ProductMapper due to having a problem in the erroneous element java.util.ArrayList","body":"<p>I had the same problem, but in my case the root cause was related to my <strong>multi-module architecture</strong>.</p>\n<p>The top-level mapper has used one child mapper of <strong>module A</strong> which used itself a child mapper of <strong>module B</strong>.</p>\n<p>Gradle <strong>module A</strong> has dependency implementation of <strong>module B</strong></p>\n<blockquote>\n<p>implementation(&quot;module-b&quot;)</p>\n</blockquote>\n<p>This means the <strong>application module</strong> has <strong>no access</strong> to classes of <strong>transitive dependency B through module A</strong> which makes MapStruct fail with this error:</p>\n<blockquote>\n<p>No implementation was created for <strong>MapperOfApplication</strong> due to having a problem\nin the erroneous element <strong>EntityOfModuleB</strong>. Hint: this often\nmeans that some other annotation processor was supposed to process the\nerroneous element. You can also enable MapStruct verbose mode by\nsetting -Amapstruct.verbose=true as a compilation argument.</p>\n</blockquote>\n<p>The odd thing is, mapper for <strong>EntityOfModuleB</strong> is not even used, as <strong>EntityOfModuleADto</strong> has no reference to <strong>EntityOfModuleBDto</strong> and in my opinion this error should not occur in my case. (<strong>MapStruct bug?</strong>)</p>\n<p>However, as a <strong>solution</strong> I had to additionally <strong>include</strong> dependency <code>implementation(&quot;module-b&quot;)</code> into my <strong>application module</strong></p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18027,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1695111818,"creation_date":1613127034,"question_id":66170469,"body_markdown":"I&#39;m trying to create very simple JUnit test into Spring Cloud project:\r\n\r\n    @SpringBootTest(classes = {ProductMapper.class })\r\n    public class TestingWebApplicationTests {\r\n    \r\n        @Test\r\n        public void contextLoads() {\r\n        }\r\n    \r\n    }\r\n\r\n    import org.mapstruct.Mapper;\r\n    \r\n    @Mapper(config = BaseMapperConfig.class)\r\n    public interface ProductMapper {\r\n    \r\n    \tProductDTO toDTO(Product product);\r\n    \r\n    \tProductFullDTO toFullDTO(Product product);\r\n    \r\n    \tProduct map(ProductFullDTO productDTO);\r\n    \r\n    \tProductFilter toFilter(ProductFilterDTO dto);\r\n    }\r\n\r\nI get this error when I try to run the test into the latest Intelij.\r\n\r\n&gt; java: No implementation was created for ProductMapper due to having a\r\n&gt; problem in the erroneous element java.util.ArrayList. Hint: this often\r\n&gt; means that some other annotation processor was supposed to process the\r\n&gt; erroneous element. You can also enable MapStruct verbose mode by\r\n&gt; setting -Amapstruct.verbose=true as a compilation argument.\r\n\r\nDo you know how I can fix this issue?\r\n\r\n","title":"java: No implementation was created for ProductMapper due to having a problem in the erroneous element java.util.ArrayList","body":"<p>I'm trying to create very simple JUnit test into Spring Cloud project:</p>\n<pre><code>@SpringBootTest(classes = {ProductMapper.class })\npublic class TestingWebApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n\n}\n\nimport org.mapstruct.Mapper;\n\n@Mapper(config = BaseMapperConfig.class)\npublic interface ProductMapper {\n\n    ProductDTO toDTO(Product product);\n\n    ProductFullDTO toFullDTO(Product product);\n\n    Product map(ProductFullDTO productDTO);\n\n    ProductFilter toFilter(ProductFilterDTO dto);\n}\n</code></pre>\n<p>I get this error when I try to run the test into the latest Intelij.</p>\n<blockquote>\n<p>java: No implementation was created for ProductMapper due to having a\nproblem in the erroneous element java.util.ArrayList. Hint: this often\nmeans that some other annotation processor was supposed to process the\nerroneous element. You can also enable MapStruct verbose mode by\nsetting -Amapstruct.verbose=true as a compilation argument.</p>\n</blockquote>\n<p>Do you know how I can fix this issue?</p>\n"},{"tags":["java","android","notifications","android-13"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1695106696,"post_id":77132020,"comment_id":135975987,"body_markdown":"Have you requested permission for android.permission.SCHEDULE_EXACT_ALARM from the user?","body":"Have you requested permission for android.permission.SCHEDULE_EXACT_ALARM from the user?"},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1695111149,"post_id":77132020,"comment_id":135976911,"body_markdown":"Did you ask the user to grant [POST_NOTIFICATIONS permission](https://developer.android.com/develop/ui/views/notifications/notification-permission)? Without it, you can&#39;t send any non-exempt notifications yet on Android 13","body":"Did you ask the user to grant <a href=\"https://developer.android.com/develop/ui/views/notifications/notification-permission\" rel=\"nofollow noreferrer\">POST_NOTIFICATIONS permission</a>? Without it, you can&#39;t send any non-exempt notifications yet on Android 13"},{"owner":{"account_id":29433973,"reputation":1,"user_id":22553152,"display_name":"Toni"},"score":0,"creation_date":1695192108,"post_id":77132020,"comment_id":135989368,"body_markdown":"yes granted the  POST_NOTIFICATIONS permission and also implemented the android. permission.SCHEDULE_EXACT_ALARM. but the result remains the same.","body":"yes granted the  POST_NOTIFICATIONS permission and also implemented the android. permission.SCHEDULE_EXACT_ALARM. but the result remains the same."}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695111692,"creation_date":1695111692,"answer_id":77132824,"question_id":77132020,"body_markdown":"consider using new permission `SCHEDULE_EXACT_ALARM` (introduced in 12) and read dedicated [DOC](https://developer.android.com/about/versions/14/changes/schedule-exact-alarms)","title":"Scheduled local notifications at specific time in Android 13","body":"<p>consider using new permission <code>SCHEDULE_EXACT_ALARM</code> (introduced in 12) and read dedicated <a href=\"https://developer.android.com/about/versions/14/changes/schedule-exact-alarms\" rel=\"nofollow noreferrer\">DOC</a></p>\n"}],"owner":{"account_id":29433973,"reputation":1,"user_id":22553152,"display_name":"Toni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695111692,"creation_date":1695103388,"question_id":77132020,"body_markdown":"&gt; Hi guys, i am trying to scheduled local notifications at specific time in Android 13 but it is not working. I don&#39;t know how to fix the isse. Can any one help me on this.\r\nMy code is here\r\n```\r\npublic static void scheduleExactAlarm(Context context) {\r\n            AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n\r\n            if (alarmManager == null) {\r\n                // Handle the case where AlarmManager is not available\r\n                return;\r\n            }\r\n\r\n            Intent alarmIntent = new Intent(context, MYAlarmReceiver.class);\r\n            alarmIntent.setAction(&quot;com.test.ACTION_MY_ALARM&quot;); // Replace with your action\r\n\r\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(\r\n                    context,\r\n                    0,\r\n                    alarmIntent,\r\n                    PendingIntent.FLAG_IMMUTABLE\r\n            );\r\n\r\n            long triggerMillis = 10 * 60 * 1000; // 10 minutes from now\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n                alarmManager.setExactAndAllowWhileIdle(\r\n                        AlarmManager.RTC_WAKEUP,\r\n                        triggerMillis,\r\n                        pendingIntent\r\n                );\r\n            } else {\r\n                alarmManager.setExact(\r\n                        AlarmManager.RTC_WAKEUP,\r\n                        triggerMillis,\r\n                        pendingIntent\r\n                );\r\n            }\r\n        }\r\n\r\n\r\n`public class MYAlarmReceiver extends BroadcastReceiver {\r\n    private static final String TAG = &quot;AlarmReceiver&quot;;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n         if (intent.getAction() != null) {\r\n            switch (intent.getAction()) {\r\n                case &quot;ACTION_SCHEDULE_EXACT_ALARM_PERMISSION_STATE_CHANGED&quot;:\r\n                    Toast.makeText(context, &quot;RECEIVED ALARM PERMISSION&quot;, Toast.LENGTH_LONG).show();\r\n                    break;\r\n                case &quot;from alarm&quot;:\r\n                    Toast.makeText(context, &quot;ALARM FIRED&quot;, Toast.LENGTH_LONG).show();\r\n                    break;\r\n            }\r\n        }\r\n      }`\r\n\r\n   &lt;receiver\r\n            android:name=&quot;.MYAlarmReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:process=&quot;:remote&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.text.ACTION_MY_ALARM&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;action android:name=&quot;ACTION_SCHEDULE_EXACT_ALARM_PERMISSION_STATE_CHANGED&quot; /&gt;\r\n                &lt;action android:name=&quot;from alarm&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.USE_EXACT_ALARM&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt; &lt;!-- Permissions --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n```\r\n\r\nWhen i am trying with this code it is not workking on Android 12 and Android 13. I don&#39;t know how to fix this.\r\nIs there something that i missed?","title":"Scheduled local notifications at specific time in Android 13","body":"<blockquote>\n<p>Hi guys, i am trying to scheduled local notifications at specific time in Android 13 but it is not working. I don't know how to fix the isse. Can any one help me on this.\nMy code is here</p>\n</blockquote>\n<pre><code>public static void scheduleExactAlarm(Context context) {\n            AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n\n            if (alarmManager == null) {\n                // Handle the case where AlarmManager is not available\n                return;\n            }\n\n            Intent alarmIntent = new Intent(context, MYAlarmReceiver.class);\n            alarmIntent.setAction(&quot;com.test.ACTION_MY_ALARM&quot;); // Replace with your action\n\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(\n                    context,\n                    0,\n                    alarmIntent,\n                    PendingIntent.FLAG_IMMUTABLE\n            );\n\n            long triggerMillis = 10 * 60 * 1000; // 10 minutes from now\n\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n                alarmManager.setExactAndAllowWhileIdle(\n                        AlarmManager.RTC_WAKEUP,\n                        triggerMillis,\n                        pendingIntent\n                );\n            } else {\n                alarmManager.setExact(\n                        AlarmManager.RTC_WAKEUP,\n                        triggerMillis,\n                        pendingIntent\n                );\n            }\n        }\n\n\n`public class MYAlarmReceiver extends BroadcastReceiver {\n    private static final String TAG = &quot;AlarmReceiver&quot;;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n         if (intent.getAction() != null) {\n            switch (intent.getAction()) {\n                case &quot;ACTION_SCHEDULE_EXACT_ALARM_PERMISSION_STATE_CHANGED&quot;:\n                    Toast.makeText(context, &quot;RECEIVED ALARM PERMISSION&quot;, Toast.LENGTH_LONG).show();\n                    break;\n                case &quot;from alarm&quot;:\n                    Toast.makeText(context, &quot;ALARM FIRED&quot;, Toast.LENGTH_LONG).show();\n                    break;\n            }\n        }\n      }`\n\n   &lt;receiver\n            android:name=&quot;.MYAlarmReceiver&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;\n            android:process=&quot;:remote&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.text.ACTION_MY_ALARM&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;action android:name=&quot;ACTION_SCHEDULE_EXACT_ALARM_PERMISSION_STATE_CHANGED&quot; /&gt;\n                &lt;action android:name=&quot;from alarm&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.USE_EXACT_ALARM&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt; &lt;!-- Permissions --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\n</code></pre>\n<p>When i am trying with this code it is not workking on Android 12 and Android 13. I don't know how to fix this.\nIs there something that i missed?</p>\n"},{"tags":["java","spring","spring-boot","spring-graphql"],"comments":[{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1694802542,"post_id":77099681,"comment_id":135944013,"body_markdown":"I can’t seem to find where this &#171;&#160;management.graphql.autotime.percentiles-histogram&#160;&#187; property comes from. Can you point a reference to this?","body":"I can’t seem to find where this &#171; management.graphql.autotime.percentiles-histogram &#187; property comes from. Can you point a reference to this?"},{"owner":{"account_id":378934,"reputation":317,"user_id":731969,"accept_rate":67,"display_name":"Wonger"},"score":0,"creation_date":1694816754,"post_id":77099681,"comment_id":135945956,"body_markdown":"When this property is set, it calls publishPercentileHistogram() on the timer builder in AutoTimeProperties.java if this property is set","body":"When this property is set, it calls publishPercentileHistogram() on the timer builder in AutoTimeProperties.java if this property is set"}],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695110135,"creation_date":1695110135,"answer_id":77132644,"question_id":77099681,"body_markdown":"Indeed, autotime support has been removed in Spring Boot 3.0 for Spring for GraphQL because `@Timed` is not supported for this instrumentation.\r\n\r\nYou can replace this with [a per-metric configuration][1]:\r\n\r\n```\r\nmanagement.metrics.distribution.graphql.percentiles-histogram=true\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.metrics.customizing.per-meter-properties","title":"Does Spring-graphl provide percentile metrics in spring-boot3?","body":"<p>Indeed, autotime support has been removed in Spring Boot 3.0 for Spring for GraphQL because <code>@Timed</code> is not supported for this instrumentation.</p>\n<p>You can replace this with <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.metrics.customizing.per-meter-properties\" rel=\"nofollow noreferrer\">a per-metric configuration</a>:</p>\n<pre><code>management.metrics.distribution.graphql.percentiles-histogram=true\n</code></pre>\n"}],"owner":{"account_id":378934,"reputation":317,"user_id":731969,"accept_rate":67,"display_name":"Wonger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77132644,"answer_count":1,"score":0,"last_activity_date":1695110135,"creation_date":1694630036,"question_id":77099681,"body_markdown":"When using spring-graphl with spring-boot 2, I can set the following properties:\r\n`management.graphql.autotime.percentiles-histogram: true` and I can get percentile histogram data metrics in prometheus with metrics named: `graphql_datafetcher_seconds_bucket`. \r\n\r\nWith the release of spring-boot 3, I see that spring-graph added observability support using Micrometers Observability api, and with that I no longer see any percentile histogram metrics. The configuration property mentioned above is  Is there a configuration I&#39;m missing somewhere or is it no longer supported in spring-graphql?","title":"Does Spring-graphl provide percentile metrics in spring-boot3?","body":"<p>When using spring-graphl with spring-boot 2, I can set the following properties:\n<code>management.graphql.autotime.percentiles-histogram: true</code> and I can get percentile histogram data metrics in prometheus with metrics named: <code>graphql_datafetcher_seconds_bucket</code>.</p>\n<p>With the release of spring-boot 3, I see that spring-graph added observability support using Micrometers Observability api, and with that I no longer see any percentile histogram metrics. The configuration property mentioned above is  Is there a configuration I'm missing somewhere or is it no longer supported in spring-graphql?</p>\n"},{"tags":["java","android","flutter","kotlin"],"comments":[{"owner":{"account_id":14310059,"reputation":3682,"user_id":10336633,"display_name":"Ryosuke"},"score":0,"creation_date":1589226951,"post_id":61738137,"comment_id":109204844,"body_markdown":"You need to create notification channels above Android O. See [this](https://developer.android.com/training/notify-user/channels)","body":"You need to create notification channels above Android O. See <a href=\"https://developer.android.com/training/notify-user/channels\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":18555437,"reputation":181,"user_id":13520669,"display_name":"Alexander J&#228;ger"},"score":0,"creation_date":1589227467,"post_id":61738137,"comment_id":109205101,"body_markdown":"Thanks for your reply. I did. See Edit","body":"Thanks for your reply. I did. See Edit"}],"answers":[{"tags":[],"owner":{"account_id":18555437,"reputation":181,"user_id":13520669,"display_name":"Alexander J&#228;ger"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1589231274,"creation_date":1589230509,"answer_id":61739123,"question_id":61738137,"body_markdown":"I found the issue: \r\n\r\nYou need to set a valid small icon. Otherwise the notification display will fail silently during startForeground. \r\n\r\n    val notification: Notification = NotificationCompat.Builder(applicationContext, MainActivity.RECORDING_NOTIFICATION_CHANNEL.id)\r\n            .setOngoing(true)\r\n            .setSmallIcon(R.mipmap.ic_launcher)\r\n            .setContentTitle(&quot;MyService&quot;)\r\n            .setContentText(&quot;Recording Service Ready&quot;)\r\n            .setContentIntent(pendingIntent)\r\n            .build()\r\n\r\nI discovered this when trying to display the notification manually using NotificationManager.notify.\r\n","title":"startForeground Notification does not show Title or Content","body":"<p>I found the issue: </p>\n\n<p>You need to set a valid small icon. Otherwise the notification display will fail silently during startForeground. </p>\n\n<pre><code>val notification: Notification = NotificationCompat.Builder(applicationContext, MainActivity.RECORDING_NOTIFICATION_CHANNEL.id)\n        .setOngoing(true)\n        .setSmallIcon(R.mipmap.ic_launcher)\n        .setContentTitle(\"MyService\")\n        .setContentText(\"Recording Service Ready\")\n        .setContentIntent(pendingIntent)\n        .build()\n</code></pre>\n\n<p>I discovered this when trying to display the notification manually using NotificationManager.notify.</p>\n"},{"tags":[],"owner":{"account_id":29479860,"reputation":1,"user_id":22590858,"display_name":"장진혁"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695109742,"creation_date":1695109742,"answer_id":77132607,"question_id":61738137,"body_markdown":"Looks like your code is valid.\r\n\r\nYou need to add \r\n`&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;` to your AndroidManifest.xml\r\nto visualize app alarm on your device.\r\n(even if there&#39;s no such thing as SecurityException.)\r\n\r\nAnd then turn your app alarm on.\r\n","title":"startForeground Notification does not show Title or Content","body":"<p>Looks like your code is valid.</p>\n<p>You need to add\n<code>&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;</code> to your AndroidManifest.xml\nto visualize app alarm on your device.\n(even if there's no such thing as SecurityException.)</p>\n<p>And then turn your app alarm on.</p>\n"}],"owner":{"account_id":18555437,"reputation":181,"user_id":13520669,"display_name":"Alexander J&#228;ger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1439,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61739123,"answer_count":2,"score":5,"last_activity_date":1695109742,"creation_date":1589226779,"question_id":61738137,"body_markdown":"I&#39;m starting a foreground service which uses a HandlerThread to do some long running tasks.\r\n\r\n**It works fine, however, the notification does not show my title or content (It says &quot;xxx is running &quot; Tap for more information or to stop the app&quot;). I&#39;m targeting Android 10 for now**\r\n\r\nThe service is started from my main activity\r\n\r\n    Log.w(TAG, &quot;startServiceCalled&quot;)\r\n    Intent(this, MyService::class.java).also { intent -&gt;\r\n        startForegroundService(intent)\r\n    }\r\n\r\nIn the `onCreate` callback of the Service I&#39;m putting the service in the foreground like this\r\n\r\n    val pendingIntent: PendingIntent =\r\n        Intent(this, MainActivity::class.java).let { notificationIntent -&gt;\r\n        PendingIntent.getActivity(this, 0, notificationIntent, 0)\r\n    }\r\n\r\n    val notification: Notification = NotificationCompat.Builder(applicationContext, MainActivity.RECORDING_NOTIFICATION_CHANNEL.id)\r\n        .setOngoing(true)\r\n        .setContentTitle(&quot;My Custom App&quot;)\r\n        .setContentText(&quot;MyService Ready&quot;)\r\n        .setContentIntent(pendingIntent)\r\n        .build()\r\n\r\n    startForeground(NOTIFICATIION_ID, notification, ServiceInfo.FOREGROUND_SERVICE_TYPE_MANIFEST);\r\n\r\nBTW: I&#39;m also using Flutter so my main activity extends FlutterActivity\r\n\r\nEDIT: The notification channel is created like this\r\n\r\n    val RECORDING_NOTIFICATION_CHANNEL = NotificationChannel(&quot;com.example.notification&quot;, &quot;Service notifications&quot;, NotificationManager.IMPORTANCE_DEFAULT).apply {\r\n        description = &quot;Provides information about the service&quot;\r\n    }\r\n    val notificationManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\r\n    notificationManager.createNotificationChannel(RECORDING_NOTIFICATION_CHANNEL);\r\n\r\n","title":"startForeground Notification does not show Title or Content","body":"<p>I'm starting a foreground service which uses a HandlerThread to do some long running tasks.</p>\n\n<p><strong>It works fine, however, the notification does not show my title or content (It says \"xxx is running \" Tap for more information or to stop the app\"). I'm targeting Android 10 for now</strong></p>\n\n<p>The service is started from my main activity</p>\n\n<pre><code>Log.w(TAG, \"startServiceCalled\")\nIntent(this, MyService::class.java).also { intent -&gt;\n    startForegroundService(intent)\n}\n</code></pre>\n\n<p>In the <code>onCreate</code> callback of the Service I'm putting the service in the foreground like this</p>\n\n<pre><code>val pendingIntent: PendingIntent =\n    Intent(this, MainActivity::class.java).let { notificationIntent -&gt;\n    PendingIntent.getActivity(this, 0, notificationIntent, 0)\n}\n\nval notification: Notification = NotificationCompat.Builder(applicationContext, MainActivity.RECORDING_NOTIFICATION_CHANNEL.id)\n    .setOngoing(true)\n    .setContentTitle(\"My Custom App\")\n    .setContentText(\"MyService Ready\")\n    .setContentIntent(pendingIntent)\n    .build()\n\nstartForeground(NOTIFICATIION_ID, notification, ServiceInfo.FOREGROUND_SERVICE_TYPE_MANIFEST);\n</code></pre>\n\n<p>BTW: I'm also using Flutter so my main activity extends FlutterActivity</p>\n\n<p>EDIT: The notification channel is created like this</p>\n\n<pre><code>val RECORDING_NOTIFICATION_CHANNEL = NotificationChannel(\"com.example.notification\", \"Service notifications\", NotificationManager.IMPORTANCE_DEFAULT).apply {\n    description = \"Provides information about the service\"\n}\nval notificationManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\nnotificationManager.createNotificationChannel(RECORDING_NOTIFICATION_CHANNEL);\n</code></pre>\n"},{"tags":["java","keycloak","keycloak-services","keycloak-rest-api"],"answers":[{"tags":[],"owner":{"account_id":14915615,"reputation":181,"user_id":10769525,"display_name":"drino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695108957,"creation_date":1695108957,"answer_id":77132517,"question_id":77129188,"body_markdown":"I don&#39;t think that KeycloakSession is the object to use in your case. \r\nIndeed, when using EventListenerProvider context, the session is managed by Keycloak. \r\nBut outside of this, as you seems to be stateless, you cannot get any information about a current &quot;session&quot;. \r\n\r\nBut, you have different options : \r\n\r\nOption 1 :\r\n----------\r\n\r\nImplement a singleton and store attributes..\r\nMake your own SessionManagement system. Which might work but is not recommended. (Duplication of data, ensure data are up to date etc...)\r\n\r\nOption 2 :\r\n----------\r\n\r\nUse the keycloak API to get needed informations.","title":"KeycloakSession is null for authenticated users","body":"<p>I don't think that KeycloakSession is the object to use in your case.\nIndeed, when using EventListenerProvider context, the session is managed by Keycloak.\nBut outside of this, as you seems to be stateless, you cannot get any information about a current &quot;session&quot;.</p>\n<p>But, you have different options :</p>\n<h2>Option 1 :</h2>\n<p>Implement a singleton and store attributes..\nMake your own SessionManagement system. Which might work but is not recommended. (Duplication of data, ensure data are up to date etc...)</p>\n<h2>Option 2 :</h2>\n<p>Use the keycloak API to get needed informations.</p>\n"}],"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695108957,"creation_date":1695057513,"question_id":77129188,"body_markdown":"**I have the below code through which I am trying to get the contents of the KeycloakSession. &quot;KeycloakSession&quot; is null everytime and I am not able to print the contents of it and use some of the attributes \r\n elsewhere.**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Context\r\n    public static KeycloakSession keycloakSession;\r\n\r\n    \tprivate static final Logger LOG = LoggerFactory.getLogger(userDetails.class);\r\n\r\n    \tpublic static void getSessionAttributes() {\r\n\r\n    \t\ttry {\r\n    \t        if (keycloakSession != null) {\r\n    \t            Map&lt;String, Object&gt; authenticatedUser = keycloakSession.getAttributes();\r\n    \t            for (Map.Entry&lt;String, Object&gt; entry : authenticatedUser.entrySet()) {\r\n    \t                String key = entry.getKey();\r\n    \t                Object value = entry.getValue();\r\n    \t                System.out.println(&quot;Key:&quot; + key);\r\n    \t            }\r\n    \t        \r\n    \t        } else {\r\n    \t            System.out.println(&quot;keycloakSession is null&quot;);\r\n    \t        }\r\n    \t    } catch (Exception e) {\r\n    \t        \r\n    \t        e.printStackTrace();\r\n    \t    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n**However, when I put similar code inside a onEvent method of an event-listener, KeycloakSession is never null and I am able to fetch the session details linked to the currently logged in user, something like this always works :**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public class userDetailsProvider implements EventListenerProvider\r\n    {\r\n    \t\r\n    \t  @Context\r\n        HttpServletRequest request;\r\n\r\n        private final KeycloakSession keycloakSession;\r\n\r\n        public userDetailsProvider(KeycloakSession keycloakSession)\r\n        {\r\n            this.keycloakSession = keycloakSession;\r\n        }\r\n\r\n        @Override\r\n        public void onEvent(Event event)\r\n        {\r\n    \t\t\r\n        \t\r\n        \t\tString username=null;\r\n             \r\n                try {\r\n        \t        if (keycloakSession != null) {\r\n        \t            String authenticatedUser = keycloakSession.getContext().getAuthenticationSession().getAuthenticatedUser().getUsername();\r\n        \t            System.out.println(&quot;authenticatedUser from session:&quot; + authenticatedUser);\r\n        \t        } else if (request.getParameterMap() != null) {\r\n        \t            Map&lt;String, String[]&gt; requestParameters = request.getParameterMap();\r\n        \t            for (Map.Entry&lt;String, String[]&gt; entry : requestParameters.entrySet()) {\r\n        \t                String paramName = entry.getKey();\r\n        \t                String[] paramValues = entry.getValue();\r\n        \t                if (&quot;username&quot;.equals(paramName)) {\r\n        \t                    username = paramValues[0];\r\n        \t                    System.out.println(&quot;Username:&quot; + username);\r\n        \t                }\r\n        \t            }\r\n        \t        } else {\r\n        \t            System.out.println(&quot;Username: Anonymous&quot;);\r\n        \t        }\r\n        \t    } catch (Exception e) {\r\n        \t        \r\n        \t        e.printStackTrace();\r\n        \t    }\r\n                \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**How can I get the &quot;keycloakSession&quot; outside event listener code, so that I may fetch its attributes ? I am using keycloak 21, with application acting as OAuth2 client, in which, keycloak is configured as auth-server. Thanks in advance.** ","title":"KeycloakSession is null for authenticated users","body":"<p><strong>I have the below code through which I am trying to get the contents of the KeycloakSession. &quot;KeycloakSession&quot; is null everytime and I am not able to print the contents of it and use some of the attributes\nelsewhere.</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Context\npublic static KeycloakSession keycloakSession;\n\n    private static final Logger LOG = LoggerFactory.getLogger(userDetails.class);\n\n    public static void getSessionAttributes() {\n\n        try {\n            if (keycloakSession != null) {\n                Map&lt;String, Object&gt; authenticatedUser = keycloakSession.getAttributes();\n                for (Map.Entry&lt;String, Object&gt; entry : authenticatedUser.entrySet()) {\n                    String key = entry.getKey();\n                    Object value = entry.getValue();\n                    System.out.println(\"Key:\" + key);\n                }\n            \n            } else {\n                System.out.println(\"keycloakSession is null\");\n            }\n        } catch (Exception e) {\n            \n            e.printStackTrace();\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>However, when I put similar code inside a onEvent method of an event-listener, KeycloakSession is never null and I am able to fetch the session details linked to the currently logged in user, something like this always works :</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class userDetailsProvider implements EventListenerProvider\n{\n    \n      @Context\n    HttpServletRequest request;\n\n    private final KeycloakSession keycloakSession;\n\n    public userDetailsProvider(KeycloakSession keycloakSession)\n    {\n        this.keycloakSession = keycloakSession;\n    }\n\n    @Override\n    public void onEvent(Event event)\n    {\n        \n        \n            String username=null;\n         \n            try {\n                if (keycloakSession != null) {\n                    String authenticatedUser = keycloakSession.getContext().getAuthenticationSession().getAuthenticatedUser().getUsername();\n                    System.out.println(\"authenticatedUser from session:\" + authenticatedUser);\n                } else if (request.getParameterMap() != null) {\n                    Map&lt;String, String[]&gt; requestParameters = request.getParameterMap();\n                    for (Map.Entry&lt;String, String[]&gt; entry : requestParameters.entrySet()) {\n                        String paramName = entry.getKey();\n                        String[] paramValues = entry.getValue();\n                        if (\"username\".equals(paramName)) {\n                            username = paramValues[0];\n                            System.out.println(\"Username:\" + username);\n                        }\n                    }\n                } else {\n                    System.out.println(\"Username: Anonymous\");\n                }\n            } catch (Exception e) {\n                \n                e.printStackTrace();\n            }\n            </code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>How can I get the &quot;keycloakSession&quot; outside event listener code, so that I may fetch its attributes ? I am using keycloak 21, with application acting as OAuth2 client, in which, keycloak is configured as auth-server. Thanks in advance.</strong></p>\n"},{"tags":["java","spring-boot","jpa","many-to-many"],"comments":[{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1695030616,"post_id":77125829,"comment_id":135964826,"body_markdown":"Please, add info how do you define ENTITY_TYPE column: entity class(es) where it is defined and other configurations, f.e. ENTITY_TYPE default value. And also add the code where you insert record into the DB: do you set ENTITY_TYPE to some value before saving?","body":"Please, add info how do you define ENTITY_TYPE column: entity class(es) where it is defined and other configurations, f.e. ENTITY_TYPE default value. And also add the code where you insert record into the DB: do you set ENTITY_TYPE to some value before saving?"},{"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1695032914,"post_id":77125829,"comment_id":135965247,"body_markdown":"Since EntityA and EntityB are independent from each other I would also use independent join tables.","body":"Since EntityA and EntityB are independent from each other I would also use independent join tables."},{"owner":{"account_id":17579735,"reputation":1,"user_id":12753781,"display_name":"JSStackflowing"},"score":0,"creation_date":1695033206,"post_id":77125829,"comment_id":135965304,"body_markdown":"In the real project I can&#39;t do that due to client desires. The real project has more than 50 entities referenced not just two of them like in the example.","body":"In the real project I can&#39;t do that due to client desires. The real project has more than 50 entities referenced not just two of them like in the example."},{"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1695043099,"post_id":77125829,"comment_id":135967307,"body_markdown":"As understand the JoinTable documentation you simply have to specify an SQL predicate (e.g. clause = &quot;ENTITY_TYPE = 1&quot;) but not a complete query. Did you try this?","body":"As understand the JoinTable documentation you simply have to specify an SQL predicate (e.g. clause = &quot;ENTITY_TYPE = 1&quot;) but not a complete query. Did you try this?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1695044780,"post_id":77125829,"comment_id":135967718,"body_markdown":"The issues isn&#39;t with reads - your @where clause tells Hibernate (this is NOT JPA) which REL_GREAT_ENTITY rows to use in which relationship. But Where is a filter applied to reads, not writes, so you have nothing in there specifying how to write this out. If you want a pure JPA approach, map REL_GREAT_ENTITY as an entity with inheritance, so you can use the ENTITY_TYPE as the inheritance discriminator for A and B subtypes. EntityA would have a OneToMany/ManyToOne with GreaterEntityRelA which has a ManyToOne/OneToMany with GreatEntity.","body":"The issues isn&#39;t with reads - your @where clause tells Hibernate (this is NOT JPA) which REL_GREAT_ENTITY rows to use in which relationship. But Where is a filter applied to reads, not writes, so you have nothing in there specifying how to write this out. If you want a pure JPA approach, map REL_GREAT_ENTITY as an entity with inheritance, so you can use the ENTITY_TYPE as the inheritance discriminator for A and B subtypes. EntityA would have a OneToMany/ManyToOne with GreaterEntityRelA which has a ManyToOne/OneToMany with GreatEntity."},{"owner":{"account_id":17579735,"reputation":1,"user_id":12753781,"display_name":"JSStackflowing"},"score":0,"creation_date":1695108371,"post_id":77125829,"comment_id":135976341,"body_markdown":"I see but the issue here is that GREAT_ENTITY is no the parent and should not be the parent of EntityA nor EntityB","body":"I see but the issue here is that GREAT_ENTITY is no the parent and should not be the parent of EntityA nor EntityB"}],"answers":[{"tags":[],"owner":{"account_id":17579735,"reputation":1,"user_id":12753781,"display_name":"JSStackflowing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695108775,"creation_date":1695108775,"answer_id":77132503,"question_id":77125829,"body_markdown":"After some study of the situation the better way to solve this was creating in the database one table for each realation as said by [Karsten][1] in the comments.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/22351796/karsten","title":"Multiple relations in a single table using JPA","body":"<p>After some study of the situation the better way to solve this was creating in the database one table for each realation as said by <a href=\"https://stackoverflow.com/users/22351796/karsten\">Karsten</a> in the comments.</p>\n"}],"owner":{"account_id":17579735,"reputation":1,"user_id":12753781,"display_name":"JSStackflowing"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695108775,"creation_date":1695027921,"question_id":77125829,"body_markdown":"Using SpringBoot 2.7.6 I&#39;m trying to do a multiple relationship stored in one table.\r\nI have one entity that is related with many entities in my DB.\r\n\r\n### Great Entity\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;GREAT_ENTITY&quot;)\r\npublic class GreatEntity {\r\n    \r\n    @Id\r\n    @Column(&quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @ManyToMany(mapperBy = &quot;greatEntities&quot;)\r\n    private List&lt;EntityA&gt; entitiyAList;\r\n\r\n    @ManyToMany(mapperBy = &quot;greatEntities&quot;)\r\n    private List&lt;EntityB&gt; entitiyBList;\r\n}\r\n```\r\n\r\n### EntityA\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;ENTITY_A&quot;)\r\npublic class EntityA {\r\n    \r\n    @Id\r\n    @Column(&quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n        name = &quot;REL_GREAT_ENTITY&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ENTITY_ID&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;GREAT_ENTITY_ID&quot;)\r\n    )\r\n    @Where(clause = &quot;ENTITY_TYPE = 1&quot;)\r\n    private List&lt;GreatEntity&gt; greatEntities;\r\n}\r\n```\r\n\r\n### EntityB\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;ENTITY_B&quot;)\r\npublic class EntityB {\r\n    \r\n    @Id\r\n    @Column(&quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n        name = &quot;REL_GREAT_ENTITY&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ENTITY_ID&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;GREAT_ENTITY_ID&quot;)\r\n    )\r\n    @Where(clause = &quot;ENTITY_TYPE = 2&quot;)\r\n    private List&lt;GreatEntity&gt; greatEntities;\r\n}    \r\n```\r\n\r\n### REL_GREAT_ENTITY\r\n\r\nThe table used for this relationship looks like this\r\n\r\n```\r\nCREATE TABLE &quot;REL_GREAT_ENTITY&quot; \r\n   (\t\r\n    &quot;GREAT_ENTITY_ID &quot; NUMBER(38,0) NOT NULL ENABLE, \r\n\t&quot;ENTITY_ID &quot; NUMBER(38,0) NOT NULL ENABLE, \r\n\t&quot;ENTITY_TYPE&quot; NUMBER(38,0) NOT NULL ENABLE, \r\n\tCONSTRAINT &quot;GREAT_ENTITY_REL_GREAT_ENTITY_FK&quot; FOREIGN KEY (&quot;GREAT_ENTITY_ID &quot;)\r\n\tREFERENCES &quot;GREAT_ENTITY&quot; (&quot;ID&quot;) ENABLE\r\n   )\r\n```\r\n\r\nThis data was inserted by the previous owner of the DB but can be added by using an INSERT query\r\n```\r\nINSERT INTO REL_GREAT_ENTITY(GREAT_ENTITY_ID, ENTITY_ID, ENTITY_TYPE)\r\nVALUES (1,1,1);\r\nINSERT INTO REL_GREAT_ENTITY(GREAT_ENTITY_ID, ENTITY_ID, ENTITY_TYPE)\r\nVALUES (1,1,2);\r\n```\r\n```\r\n   GREAT_ENTITY_ID ENTITY_ID ENTITY_TYPE\r\n   --------------- --------- -----------\r\n   1               1         1\r\n   1               1         2\r\n```\r\n\r\nThe ENTITY_TYPE defines witch entity is the GreatEntity associated to. 1 for EntityA and 2 for EntityB as it was defined in the @Where clause in both entities.\r\n\r\nI&#39;ve tried to add the @Where clause like in the example provided but when I retrieve the entities I got the following error:\r\n\r\n```\r\njava.sql.SQLSyntaxErrorException: ORA-00904: &quot;GREATENTITY1_&quot;.&quot;ENTITY_TYPE&quot;: identificador no v&#225;lido\r\n```\r\n\r\nI also tried a workaround in order to fetch the data using:\r\n\r\n```\r\n    @ManyToMany\r\n    @WhereJoinTable(clause = &quot;GREAT_ENTITY_ID in (SELECT rel.GREAT_ENTITY_ID FROM REL_GREAT_ENTITY rel WHERE rel.ENTITY_TYPE=1)&quot;)\r\n    @JoinTable(\r\n        name = &quot;REL_GREAT_ENTITY &quot;,\r\n        joinColumns = @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ENTITY_ID&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;GREAT_ENTITY_ID&quot;)\r\n    )\r\n```\r\n\r\nIn this case I was able to retrieve the data by fetching the EntityA and then the EntityA.greatEntities belong only to the ENTITY_TYPE = 1\r\n\r\nBut I was not able to insert any record in the DB by persisting EntityA due to the DB didn&#39;t know the ENTITY_TYPE (NOT NULL value)","title":"Multiple relations in a single table using JPA","body":"<p>Using SpringBoot 2.7.6 I'm trying to do a multiple relationship stored in one table.\nI have one entity that is related with many entities in my DB.</p>\n<h3>Great Entity</h3>\n<pre><code>@Entity\n@Table(name = &quot;GREAT_ENTITY&quot;)\npublic class GreatEntity {\n    \n    @Id\n    @Column(&quot;ID&quot;)\n    private Long id;\n\n    @ManyToMany(mapperBy = &quot;greatEntities&quot;)\n    private List&lt;EntityA&gt; entitiyAList;\n\n    @ManyToMany(mapperBy = &quot;greatEntities&quot;)\n    private List&lt;EntityB&gt; entitiyBList;\n}\n</code></pre>\n<h3>EntityA</h3>\n<pre><code>@Entity\n@Table(name = &quot;ENTITY_A&quot;)\npublic class EntityA {\n    \n    @Id\n    @Column(&quot;ID&quot;)\n    private Long id;\n\n    @ManyToMany\n    @JoinTable(\n        name = &quot;REL_GREAT_ENTITY&quot;,\n        joinColumns = @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ENTITY_ID&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;GREAT_ENTITY_ID&quot;)\n    )\n    @Where(clause = &quot;ENTITY_TYPE = 1&quot;)\n    private List&lt;GreatEntity&gt; greatEntities;\n}\n</code></pre>\n<h3>EntityB</h3>\n<pre><code>@Entity\n@Table(name = &quot;ENTITY_B&quot;)\npublic class EntityB {\n    \n    @Id\n    @Column(&quot;ID&quot;)\n    private Long id;\n\n    @ManyToMany\n    @JoinTable(\n        name = &quot;REL_GREAT_ENTITY&quot;,\n        joinColumns = @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ENTITY_ID&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;GREAT_ENTITY_ID&quot;)\n    )\n    @Where(clause = &quot;ENTITY_TYPE = 2&quot;)\n    private List&lt;GreatEntity&gt; greatEntities;\n}    \n</code></pre>\n<h3>REL_GREAT_ENTITY</h3>\n<p>The table used for this relationship looks like this</p>\n<pre><code>CREATE TABLE &quot;REL_GREAT_ENTITY&quot; \n   (    \n    &quot;GREAT_ENTITY_ID &quot; NUMBER(38,0) NOT NULL ENABLE, \n    &quot;ENTITY_ID &quot; NUMBER(38,0) NOT NULL ENABLE, \n    &quot;ENTITY_TYPE&quot; NUMBER(38,0) NOT NULL ENABLE, \n    CONSTRAINT &quot;GREAT_ENTITY_REL_GREAT_ENTITY_FK&quot; FOREIGN KEY (&quot;GREAT_ENTITY_ID &quot;)\n    REFERENCES &quot;GREAT_ENTITY&quot; (&quot;ID&quot;) ENABLE\n   )\n</code></pre>\n<p>This data was inserted by the previous owner of the DB but can be added by using an INSERT query</p>\n<pre><code>INSERT INTO REL_GREAT_ENTITY(GREAT_ENTITY_ID, ENTITY_ID, ENTITY_TYPE)\nVALUES (1,1,1);\nINSERT INTO REL_GREAT_ENTITY(GREAT_ENTITY_ID, ENTITY_ID, ENTITY_TYPE)\nVALUES (1,1,2);\n</code></pre>\n<pre><code>   GREAT_ENTITY_ID ENTITY_ID ENTITY_TYPE\n   --------------- --------- -----------\n   1               1         1\n   1               1         2\n</code></pre>\n<p>The ENTITY_TYPE defines witch entity is the GreatEntity associated to. 1 for EntityA and 2 for EntityB as it was defined in the @Where clause in both entities.</p>\n<p>I've tried to add the @Where clause like in the example provided but when I retrieve the entities I got the following error:</p>\n<pre><code>java.sql.SQLSyntaxErrorException: ORA-00904: &quot;GREATENTITY1_&quot;.&quot;ENTITY_TYPE&quot;: identificador no válido\n</code></pre>\n<p>I also tried a workaround in order to fetch the data using:</p>\n<pre><code>    @ManyToMany\n    @WhereJoinTable(clause = &quot;GREAT_ENTITY_ID in (SELECT rel.GREAT_ENTITY_ID FROM REL_GREAT_ENTITY rel WHERE rel.ENTITY_TYPE=1)&quot;)\n    @JoinTable(\n        name = &quot;REL_GREAT_ENTITY &quot;,\n        joinColumns = @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ENTITY_ID&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;GREAT_ENTITY_ID&quot;)\n    )\n</code></pre>\n<p>In this case I was able to retrieve the data by fetching the EntityA and then the EntityA.greatEntities belong only to the ENTITY_TYPE = 1</p>\n<p>But I was not able to insert any record in the DB by persisting EntityA due to the DB didn't know the ENTITY_TYPE (NOT NULL value)</p>\n"},{"tags":["java","multithreading","object"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":1,"creation_date":1695077670,"post_id":77130776,"comment_id":135973392,"body_markdown":"Clone the code and search for it. That&#39;s what everyone else does.","body":"Clone the code and search for it. That&#39;s what everyone else does."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1695077853,"post_id":77130776,"comment_id":135973410,"body_markdown":"That won&#39;t help them find a `native` implementation.","body":"That won&#39;t help them find a <code>native</code> implementation."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1695079710,"post_id":77130776,"comment_id":135973565,"body_markdown":"probably `JVM_MonitorWait` in `jvm.cpp`: https://github.com/openjdk/jdk/blob/24c3d86f32a2e2d9cb24cd8827ef1f20bb53fead/src/hotspot/share/prims/jvm.cpp#L631","body":"probably <code>JVM_MonitorWait</code> in <code>jvm.cpp</code>: <a href=\"https://github.com/openjdk/jdk/blob/24c3d86f32a2e2d9cb24cd8827ef1f20bb53fead/src/hotspot/share/prims/jvm.cpp#L631\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695109855,"post_id":77130776,"comment_id":135976611,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans It will if you understand JNI and know how it mangles the name.","body":"@Mike&#39;Pomax&#39;Kamermans It will if you understand JNI and know how it mangles the name."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1695135857,"post_id":77130776,"comment_id":135981977,"body_markdown":"Which, of course, they don&#39;t, which is why the question got posted ;) And of course no one needs to clone a repo to see a file, it has its own URL in the same repo as they linked to, just in a different directory.","body":"Which, of course, they don&#39;t, which is why the question got posted ;) And of course no one needs to clone a repo to see a file, it has its own URL in the same repo as they linked to, just in a different directory."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695108578,"creation_date":1695081036,"answer_id":77130949,"question_id":77130776,"body_markdown":"### TL;DR: Where is it?\r\n\r\nThe implementation can be found in [`objectMonitor.cpp`](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/objectMonitor.cpp#L1440).\r\n\r\n### The path to `wait0`\r\n\r\nWhile the Java sources are stored in a directory called `classes`, native code is stored in the [native](https://github.com/openjdk/jdk/tree/master/src/java.base/share/native) directory. \r\nSpecifically, you want the [native/libjava](https://github.com/openjdk/jdk/tree/master/src/java.base/share/native/libjava) directory containing native code for some core Java classes.\r\n\r\nIn there, you can find a file called [`Object.c`](https://github.com/openjdk/jdk/blob/master/src/java.base/share/native/libjava/Object.c) containing some native code for the `Object` class. However, that class doesn&#39;t seem to contain much useful stuff except including `jvm.h`.\r\n\r\nThisheader file contains a [`JVM_MonitorWait`](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/include/jvm.h#L70) function declaration and its implementation can be [found in `jvm.cpp`](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/prims/jvm.cpp#L631).\r\n\r\nMost importantly, that function calls `ObjectSynchronizer::wait` which is in turn [declared in a file called `synchronizer.hpp`](https://github.com/openjdk/jdk/blob/24c3d86f32a2e2d9cb24cd8827ef1f20bb53fead/src/hotspot/share/runtime/synchronizer.hpp#L116). \r\nIn the same directory, you can find a file called synchronizer.cpp containing [the implementation](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/synchronizer.cpp#L713) which calls `ObjectMonitor::wait`.\r\n\r\nFinally, you can find the code of `ObjectMonitor::wait` [in `objectMonitor.cpp`](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/objectMonitor.cpp#L1440).\r\n\r\n### How to navigate\r\n#### IDE\r\nThe best way to find what you are looking for in a codebase like this is to clone the project and set it up in an IDE that can search the methods for you. However, setting up a project like the JDK in an IDE and building it can be tedious and might take a while.\r\n#### with a browser\r\nYou can also navigate through the repository in your browser by looking for files with names similar to what you are looking for (e.g. using GitHub&#39;s `Go To File` feature).\r\n\r\nHowever, in some cases, you might want to use some sort of full text search. In cases like that, you could try GitHub Codespaces or the GitHub Code search [as outlined here](https://stackoverflow.com/a/3616259/10871900). For doing this, you navigate to https://github.com/search, enter `repo:` followed by the repository name (including user/org, in this case `repo:openjdk/jdk`) as well as the text you want to search. Then, you can switch to the code search for the given term.","title":"Java wait0() native implementation source","body":"<h3>TL;DR: Where is it?</h3>\n<p>The implementation can be found in <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/objectMonitor.cpp#L1440\" rel=\"nofollow noreferrer\"><code>objectMonitor.cpp</code></a>.</p>\n<h3>The path to <code>wait0</code></h3>\n<p>While the Java sources are stored in a directory called <code>classes</code>, native code is stored in the <a href=\"https://github.com/openjdk/jdk/tree/master/src/java.base/share/native\" rel=\"nofollow noreferrer\">native</a> directory.\nSpecifically, you want the <a href=\"https://github.com/openjdk/jdk/tree/master/src/java.base/share/native/libjava\" rel=\"nofollow noreferrer\">native/libjava</a> directory containing native code for some core Java classes.</p>\n<p>In there, you can find a file called <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/native/libjava/Object.c\" rel=\"nofollow noreferrer\"><code>Object.c</code></a> containing some native code for the <code>Object</code> class. However, that class doesn't seem to contain much useful stuff except including <code>jvm.h</code>.</p>\n<p>Thisheader file contains a <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/include/jvm.h#L70\" rel=\"nofollow noreferrer\"><code>JVM_MonitorWait</code></a> function declaration and its implementation can be <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/prims/jvm.cpp#L631\" rel=\"nofollow noreferrer\">found in <code>jvm.cpp</code></a>.</p>\n<p>Most importantly, that function calls <code>ObjectSynchronizer::wait</code> which is in turn <a href=\"https://github.com/openjdk/jdk/blob/24c3d86f32a2e2d9cb24cd8827ef1f20bb53fead/src/hotspot/share/runtime/synchronizer.hpp#L116\" rel=\"nofollow noreferrer\">declared in a file called <code>synchronizer.hpp</code></a>.\nIn the same directory, you can find a file called synchronizer.cpp containing <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/synchronizer.cpp#L713\" rel=\"nofollow noreferrer\">the implementation</a> which calls <code>ObjectMonitor::wait</code>.</p>\n<p>Finally, you can find the code of <code>ObjectMonitor::wait</code> <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/objectMonitor.cpp#L1440\" rel=\"nofollow noreferrer\">in <code>objectMonitor.cpp</code></a>.</p>\n<h3>How to navigate</h3>\n<h4>IDE</h4>\n<p>The best way to find what you are looking for in a codebase like this is to clone the project and set it up in an IDE that can search the methods for you. However, setting up a project like the JDK in an IDE and building it can be tedious and might take a while.</p>\n<h4>with a browser</h4>\n<p>You can also navigate through the repository in your browser by looking for files with names similar to what you are looking for (e.g. using GitHub's <code>Go To File</code> feature).</p>\n<p>However, in some cases, you might want to use some sort of full text search. In cases like that, you could try GitHub Codespaces or the GitHub Code search <a href=\"https://stackoverflow.com/a/3616259/10871900\">as outlined here</a>. For doing this, you navigate to <a href=\"https://github.com/search\" rel=\"nofollow noreferrer\">https://github.com/search</a>, enter <code>repo:</code> followed by the repository name (including user/org, in this case <code>repo:openjdk/jdk</code>) as well as the text you want to search. Then, you can switch to the code search for the given term.</p>\n"}],"owner":{"account_id":1082267,"reputation":327,"user_id":1078923,"display_name":"Siddhant Swami"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695155121,"accepted_answer_id":77130949,"answer_count":1,"score":0,"last_activity_date":1695108578,"creation_date":1695077316,"question_id":77130776,"body_markdown":"I was looking into Object.wait for Java and found out that it internally calls a wait0() method. You can find it&#39;s declaration in [openJdk here][1]:\r\n```java\r\npublic final void wait(long timeoutMillis) throws InterruptedException {\r\n    long comp = Blocker.begin();\r\n    try {\r\n        wait0(timeoutMillis);\r\n    } catch (InterruptedException e) {\r\n        Thread thread = Thread.currentThread();\r\n        if (thread.isVirtual())\r\n            thread.getAndClearInterrupt();\r\n        throw e;\r\n    } finally {\r\n        Blocker.end(comp);\r\n    }\r\n}\r\n\r\n// final modifier so method not in vtable\r\nprivate final native void wait0(long timeoutMillis) throws InterruptedException;\r\n```\r\n\r\n\r\nCan anyone point out to me where is the implementation for this native wait0() method?\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Object.java#L387","title":"Java wait0() native implementation source","body":"<p>I was looking into Object.wait for Java and found out that it internally calls a wait0() method. You can find it's declaration in <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Object.java#L387\" rel=\"nofollow noreferrer\">openJdk here</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final void wait(long timeoutMillis) throws InterruptedException {\n    long comp = Blocker.begin();\n    try {\n        wait0(timeoutMillis);\n    } catch (InterruptedException e) {\n        Thread thread = Thread.currentThread();\n        if (thread.isVirtual())\n            thread.getAndClearInterrupt();\n        throw e;\n    } finally {\n        Blocker.end(comp);\n    }\n}\n\n// final modifier so method not in vtable\nprivate final native void wait0(long timeoutMillis) throws InterruptedException;\n</code></pre>\n<p>Can anyone point out to me where is the implementation for this native wait0() method?</p>\n"},{"tags":["java","spring","hibernate","uuidgenerator"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695108086,"creation_date":1695108086,"answer_id":77132434,"question_id":77128492,"body_markdown":"I really suggest you to use ` @UuidGenerator` instead of \r\n\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;UUID&quot;)\r\n    @GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)\r\n\r\nSomething like this:\r\n\r\n      @Id\r\n      @UuidGenerator\r\n      private UUID id; // or String\r\n\r\nBecause if you are going to check `java docs` of the annotation you will see that `@UuidGenerator` use \r\n`@IdGeneratorType( org.hibernate.id.uuid.UuidGenerator.class )` that you need. \r\n\r\nAbout the problem i really dont know where can be the problem but the solution that i suggest will help you to do this replacement also  when specifying `@UuidGenerator`, we can choose the concrete version of UUID to generate.\r\n\r\nAnd also some motivation to use it is described into [8.5. User-defined generators][1] \r\n\r\n&gt; These APIs are new in Hibernate 6, and supersede the classic IdentifierGenerator interface and @GenericGenerator annotation from older versions of Hibernate.\r\n&gt; \r\n&gt; @UuidGenerator A more flexible generator for [RFC 4122][2] UUIDs\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.3/introduction/html_single/Hibernate_Introduction.html\r\n  [2]: https://www.ietf.org/rfc/rfc4122.txt","title":"UuidGenerator Bean Type Mismatch?","body":"<p>I really suggest you to use <code> @UuidGenerator</code> instead of</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;UUID&quot;)\n@GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)\n</code></pre>\n<p>Something like this:</p>\n<pre><code>  @Id\n  @UuidGenerator\n  private UUID id; // or String\n</code></pre>\n<p>Because if you are going to check <code>java docs</code> of the annotation you will see that <code>@UuidGenerator</code> use\n<code>@IdGeneratorType( org.hibernate.id.uuid.UuidGenerator.class )</code> that you need.</p>\n<p>About the problem i really dont know where can be the problem but the solution that i suggest will help you to do this replacement also  when specifying <code>@UuidGenerator</code>, we can choose the concrete version of UUID to generate.</p>\n<p>And also some motivation to use it is described into <a href=\"https://docs.jboss.org/hibernate/orm/6.3/introduction/html_single/Hibernate_Introduction.html\" rel=\"nofollow noreferrer\">8.5. User-defined generators</a></p>\n<blockquote>\n<p>These APIs are new in Hibernate 6, and supersede the classic IdentifierGenerator interface and @GenericGenerator annotation from older versions of Hibernate.</p>\n<p>@UuidGenerator A more flexible generator for <a href=\"https://www.ietf.org/rfc/rfc4122.txt\" rel=\"nofollow noreferrer\">RFC 4122</a> UUIDs</p>\n</blockquote>\n"}],"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77132434,"answer_count":1,"score":2,"last_activity_date":1695108086,"creation_date":1695050916,"question_id":77128492,"body_markdown":"Because [`strategy`][1] and [`UUIDGenerator`][2] is deprecated, this is the new UUID Generator:\r\n\r\n    @GenericGenerator(\r\n                name = &quot;UUID&quot;, \r\n                type = org.hibernate.id.uuid.UuidGenerator.class\r\n        )\r\n\r\nWhen using this, I get the following error:\r\n\r\n&gt; Parameter 0 of constructor in org.hibernate.id.uuid.UuidGenerator\r\n&gt; required a bean of type &#39;org.hibernate.annotations.UuidGenerator&#39; that\r\n&gt; could not be found\r\n\r\nI wasn&#39;t able to find anything corresponding to this in the [documentation][3].\r\n\r\nFor full disclosure, this is the whole annotation block used:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;UUID&quot;)\r\n    @GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)\r\n    @Column(...)\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/annotations/GenericGenerator.html#strategy()\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/id/UUIDGenerator.html\r\n  [3]: https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/id/uuid/UuidGenerator.html","title":"UuidGenerator Bean Type Mismatch?","body":"<p>Because <a href=\"https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/annotations/GenericGenerator.html#strategy()\" rel=\"nofollow noreferrer\"><code>strategy</code></a> and <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/id/UUIDGenerator.html\" rel=\"nofollow noreferrer\"><code>UUIDGenerator</code></a> is deprecated, this is the new UUID Generator:</p>\n<pre><code>@GenericGenerator(\n            name = &quot;UUID&quot;, \n            type = org.hibernate.id.uuid.UuidGenerator.class\n    )\n</code></pre>\n<p>When using this, I get the following error:</p>\n<blockquote>\n<p>Parameter 0 of constructor in org.hibernate.id.uuid.UuidGenerator\nrequired a bean of type 'org.hibernate.annotations.UuidGenerator' that\ncould not be found</p>\n</blockquote>\n<p>I wasn't able to find anything corresponding to this in the <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/id/uuid/UuidGenerator.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>For full disclosure, this is the whole annotation block used:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;UUID&quot;)\n@GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)\n@Column(...)\n</code></pre>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1695062398,"post_id":77126736,"comment_id":135971247,"body_markdown":"Can you provide your `build.gradle(.kts)` file?","body":"Can you provide your <code>build.gradle(.kts)</code> file?"},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1695091731,"post_id":77126736,"comment_id":135974499,"body_markdown":"I have pasted my `build.gradle` file.","body":"I have pasted my <code>build.gradle</code> file."}],"answers":[{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695107245,"creation_date":1695107245,"answer_id":77132343,"question_id":77126736,"body_markdown":"&gt; Could not GET &#39;https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar&#39;. Received status code 401 from server:\r\n\r\nI couldn&#39;t find a place in your `build.gradle` where you declare a spring repository to get `spring-native`. But the problem is there.\r\n\r\nAccording to the error message (`401 - unauthorized`), you need to provide credentials for a spring repository just as you did for your company&#39;s repositories.\r\n\r\n```gradle\r\nmaven {\r\n    credentials {\r\n        username &quot;&lt;username&gt;&quot;\r\n        password &quot;&lt;password&gt;&quot;\r\n    }\r\n    url &quot;&lt;spring repository url&gt;&quot;\r\n}\r\n```","title":"spring.io download jar Received status code 401 from server","body":"<blockquote>\n<p>Could not GET 'https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar'. Received status code 401 from server:</p>\n</blockquote>\n<p>I couldn't find a place in your <code>build.gradle</code> where you declare a spring repository to get <code>spring-native</code>. But the problem is there.</p>\n<p>According to the error message (<code>401 - unauthorized</code>), you need to provide credentials for a spring repository just as you did for your company's repositories.</p>\n<pre><code>maven {\n    credentials {\n        username &quot;&lt;username&gt;&quot;\n        password &quot;&lt;password&gt;&quot;\n    }\n    url &quot;&lt;spring repository url&gt;&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695107245,"creation_date":1695035842,"question_id":77126736,"body_markdown":"Today when I refresh the java project which was using gradle as the build tool, shows error:\r\n\r\n\r\n\r\n\r\n    Could not download spring-native-0.10.0.jar (org.springframework.experimental:spring-native:0.10.0)\r\n    Could not get resource &#39;https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar&#39;.\r\n    Could not GET &#39;https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar&#39;. Received status code 401 from server:\r\n    \r\n    Possible solution:\r\n     - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\n\r\n\r\nAm I missing something? what should I do to avoid this issue? It seems to need login to download the jar. BTW, I did not import the `org.springframework.experimental:spring-native:0.10.0` in anywhere of my project. This is the project `build.gradle`:\r\n\r\n\r\n\r\n\r\n    buildscript {\r\n        apply from: &quot;${rootProject.projectDir}/common.gradle&quot;\r\n    \r\n        repositories {\r\n            maven { url &#39;https://maven.aliyun.com/repository/public&#39; }\r\n        }\r\n        dependencies {\r\n            classpath &quot;io.spring.gradle:dependency-management-plugin:1.0.11.RELEASE&quot;\r\n            classpath &quot;gradle.plugin.com.arenagod.gradle:mybatis-generator-plugin:1.4&quot;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;idea&#39;\r\n        id &#39;java-library&#39;\r\n        id &#39;application&#39;\r\n        id &#39;maven-publish&#39;\r\n        id &quot;org.springframework.boot&quot; version &quot;2.6.7&quot;\r\n        id &quot;io.freefair.lombok&quot; version &quot;6.4.3&quot;\r\n        id &#39;com.github.ayltai.spring-graalvm-native-plugin&#39; version &#39;1.4.10&#39;\r\n        id &quot;org.springdoc.openapi-gradle-plugin&quot; version &quot;1.3.4&quot;\r\n    \r\n    }\r\n    \r\n    apply from: &quot;${rootProject.projectDir}/common.gradle&quot;\r\n    \r\n    subprojects {\r\n        apply plugin: &#39;io.freefair.lombok&#39;\r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;maven-publish&#39;\r\n        apply plugin: &#39;java-library&#39;\r\n        apply plugin: &quot;idea&quot;\r\n        apply plugin: &quot;io.spring.dependency-management&quot;\r\n        apply plugin: &#39;org.springframework.boot&#39;\r\n        apply plugin: &#39;org.springdoc.openapi-gradle-plugin&#39;\r\n    \r\n    \r\n        configurations.all {\r\n            // exclude group: &quot;ch.qos.logback&quot;, module: &quot;logback-classic&quot;\r\n            // exclude group: &quot;ch.qos.logback&quot;, module: &quot;logback-core&quot;\r\n            exclude group: &quot;org.slf4j&quot;, module: &quot;slf4j-simple&quot;\r\n            /** https://stackoverflow.com/questions/67484542/redis-command-timed-out-nested-exception-is-io-lettuce-core-rediscommandtimeout\r\n             * https://stackoverflow.com/questions/73244405/java-lang-illegalargumentexception-unable-to-find-gatewayfilterfactory-with-nam\r\n             * the spring gateway project needs to using lettuce\r\n             * because the jedis did not support reactive until 2022.08\r\n             * only lettuce support reactive\r\n             * so we should not exclude the lettuce for the whole project\r\n            **/\r\n            // exclude group: &quot;io.lettuce&quot;, module: &quot;lettuce-core&quot;\r\n            /**\r\n             * why exclude the gson?\r\n             * https://github.com/swagger-api/swagger-core/issues/1826\r\n             */\r\n            // exclude group: &quot;com.google.code.gson&quot;, module: &quot;gson&quot;\r\n    \r\n            // check for updates every build\r\n            resolutionStrategy.cacheChangingModulesFor 0, &#39;seconds&#39;\r\n    \r\n            // check for updates every build\r\n            resolutionStrategy.cacheChangingModulesFor 0, &#39;seconds&#39;\r\n    \r\n            resolutionStrategy {\r\n                eachDependency { DependencyResolveDetails details -&gt;\r\n                    if (details.requested.group == &#39;com.github.jsqlparser&#39;) {\r\n                        details.useVersion &quot;2.1&quot;\r\n                    }\r\n                    if (details.requested.group == &#39;redis.clients&#39; &amp;&amp; details.requested.name == &#39;jedis&#39; ) {\r\n                        details.useVersion(&quot;3.8.0&quot;)\r\n                    }\r\n                    if (details.requested.group == &#39;org.springframework.data&#39; &amp;&amp; details.requested.name == &#39;spring-data-redis&#39; ) {\r\n                        details.useVersion(&quot;2.7.2&quot;)\r\n                    }\r\n                    //exclude group: &quot;org.springframework.data&quot;, module: &quot;spring-data-redis&quot;\r\n                    if (details.requested.group == &#39;org.postgresql&#39; &amp;&amp; details.requested.name == &#39;postgresql&#39; ) {\r\n                        details.useVersion(&quot;42.2.23&quot;)\r\n                    }\r\n                    if (details.requested.group == &#39;org.apache.logging.log4j&#39; &amp;&amp; details.requested.name == &#39;log4j-api&#39; ) {\r\n                        details.useVersion(&quot;2.17.0&quot;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        repositories {\r\n            if (project.hasProperty(&quot;buildEnv&quot;) &amp;&amp; project.getProperties().get(&quot;buildEnv&quot;) == &quot;github&quot;) {\r\n                mavenCentral()\r\n            } else {\r\n                mavenCentral()\r\n            }\r\n        }\r\n    \r\n        dependencies {\r\n            compileOnly &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n            annotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n            testAnnotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n            testImplementation &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n            api &quot;$rootProject.ext.dependencies.log4j&quot;\r\n            api &quot;$rootProject.ext.dependencies.collections4&quot;\r\n            api &quot;org.apache.commons:commons-lang3:${commonColleciton3Version}&quot;\r\n            implementation &quot;$rootProject.ext.dependencies.mybatisGeneratorCore&quot;\r\n            implementation &quot;$rootProject.ext.dependencies.itfswMybatisGeneratorPlugin&quot;\r\n            testImplementation group: &#39;org.testng&#39;, name: &#39;testng&#39;, version: &#39;7.4.0&#39;\r\n        }\r\n    \r\n        dependencyManagement {\r\n            imports {\r\n                mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:$rootProject.ext.version.springCloudVersion&quot;\r\n            }\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        sourceCompatibility = 11\r\n        targetCompatibility = 11\r\n        def defaultEncoding = &#39;UTF-8&#39;\r\n        compileJava {\r\n            options.encoding = defaultEncoding\r\n        }\r\n        compileTestJava {\r\n            options.encoding = defaultEncoding\r\n        }\r\n        tasks.withType(JavaCompile) {\r\n            options.encoding = &#39;UTF-8&#39;\r\n        }\r\n    \r\n        /**\r\n         * remove aliyun repo config from ~/.gradle/init.gradle into project\r\n         * avoid to force other project in machine use aliyun\r\n         * some international project could not fetch dependencies from aliyun\r\n         */\r\n        repositories {\r\n            def PROXY_REPOSITORY_URL = &#39;https://maven.aliyun.com/nexus/content/groups/public&#39;\r\n            all { ArtifactRepository repo -&gt;\r\n                if(repo instanceof MavenArtifactRepository){\r\n                    def url = repo.url.toString()\r\n                    if (url.startsWith(&#39;https://repo1.maven.org/maven2&#39;)) {\r\n                        project.logger.lifecycle &quot;Repository ${repo.url} replaced by $PROXY_REPOSITORY_URL.&quot;\r\n                        remove repo\r\n                    }\r\n                }\r\n            }\r\n            maven {\r\n                url PROXY_REPOSITORY_URL\r\n            }\r\n            /****** Release Repo ********/\r\n            maven {\r\n                credentials {\r\n                    username System.getenv(&quot;ALIYUN_REPO_USERNAME&quot;)\r\n                    password System.getenv(&quot;ALIYUN_REPO_PASSWORD&quot;)\r\n                }\r\n                url &#39;https://packages.aliyun.com/maven/repository/2236707-release-REsSq7/&#39;\r\n            }\r\n            /****** Snapshot Repo ********/\r\n            maven {\r\n                credentials {\r\n                    username System.getenv(&quot;ALIYUN_DOCKER_REPO_USER_NAME&quot;)\r\n                    password System.getenv(&quot;ALIYUN_DOCKER_REPO_USER_PASSWORD&quot;)\r\n                }\r\n                url &#39;https://packages.aliyun.com/maven/repository/2236707-snapshot-lUlWG7/&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"spring.io download jar Received status code 401 from server","body":"<p>Today when I refresh the java project which was using gradle as the build tool, shows error:</p>\n<pre><code>Could not download spring-native-0.10.0.jar (org.springframework.experimental:spring-native:0.10.0)\nCould not get resource 'https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar'.\nCould not GET 'https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar'. Received status code 401 from server:\n\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n</code></pre>\n<p>Am I missing something? what should I do to avoid this issue? It seems to need login to download the jar. BTW, I did not import the <code>org.springframework.experimental:spring-native:0.10.0</code> in anywhere of my project. This is the project <code>build.gradle</code>:</p>\n<pre><code>buildscript {\n    apply from: &quot;${rootProject.projectDir}/common.gradle&quot;\n\n    repositories {\n        maven { url 'https://maven.aliyun.com/repository/public' }\n    }\n    dependencies {\n        classpath &quot;io.spring.gradle:dependency-management-plugin:1.0.11.RELEASE&quot;\n        classpath &quot;gradle.plugin.com.arenagod.gradle:mybatis-generator-plugin:1.4&quot;\n    }\n}\n\nplugins {\n    id 'java'\n    id 'idea'\n    id 'java-library'\n    id 'application'\n    id 'maven-publish'\n    id &quot;org.springframework.boot&quot; version &quot;2.6.7&quot;\n    id &quot;io.freefair.lombok&quot; version &quot;6.4.3&quot;\n    id 'com.github.ayltai.spring-graalvm-native-plugin' version '1.4.10'\n    id &quot;org.springdoc.openapi-gradle-plugin&quot; version &quot;1.3.4&quot;\n\n}\n\napply from: &quot;${rootProject.projectDir}/common.gradle&quot;\n\nsubprojects {\n    apply plugin: 'io.freefair.lombok'\n    apply plugin: 'java'\n    apply plugin: 'maven-publish'\n    apply plugin: 'java-library'\n    apply plugin: &quot;idea&quot;\n    apply plugin: &quot;io.spring.dependency-management&quot;\n    apply plugin: 'org.springframework.boot'\n    apply plugin: 'org.springdoc.openapi-gradle-plugin'\n\n\n    configurations.all {\n        // exclude group: &quot;ch.qos.logback&quot;, module: &quot;logback-classic&quot;\n        // exclude group: &quot;ch.qos.logback&quot;, module: &quot;logback-core&quot;\n        exclude group: &quot;org.slf4j&quot;, module: &quot;slf4j-simple&quot;\n        /** https://stackoverflow.com/questions/67484542/redis-command-timed-out-nested-exception-is-io-lettuce-core-rediscommandtimeout\n         * https://stackoverflow.com/questions/73244405/java-lang-illegalargumentexception-unable-to-find-gatewayfilterfactory-with-nam\n         * the spring gateway project needs to using lettuce\n         * because the jedis did not support reactive until 2022.08\n         * only lettuce support reactive\n         * so we should not exclude the lettuce for the whole project\n        **/\n        // exclude group: &quot;io.lettuce&quot;, module: &quot;lettuce-core&quot;\n        /**\n         * why exclude the gson?\n         * https://github.com/swagger-api/swagger-core/issues/1826\n         */\n        // exclude group: &quot;com.google.code.gson&quot;, module: &quot;gson&quot;\n\n        // check for updates every build\n        resolutionStrategy.cacheChangingModulesFor 0, 'seconds'\n\n        // check for updates every build\n        resolutionStrategy.cacheChangingModulesFor 0, 'seconds'\n\n        resolutionStrategy {\n            eachDependency { DependencyResolveDetails details -&gt;\n                if (details.requested.group == 'com.github.jsqlparser') {\n                    details.useVersion &quot;2.1&quot;\n                }\n                if (details.requested.group == 'redis.clients' &amp;&amp; details.requested.name == 'jedis' ) {\n                    details.useVersion(&quot;3.8.0&quot;)\n                }\n                if (details.requested.group == 'org.springframework.data' &amp;&amp; details.requested.name == 'spring-data-redis' ) {\n                    details.useVersion(&quot;2.7.2&quot;)\n                }\n                //exclude group: &quot;org.springframework.data&quot;, module: &quot;spring-data-redis&quot;\n                if (details.requested.group == 'org.postgresql' &amp;&amp; details.requested.name == 'postgresql' ) {\n                    details.useVersion(&quot;42.2.23&quot;)\n                }\n                if (details.requested.group == 'org.apache.logging.log4j' &amp;&amp; details.requested.name == 'log4j-api' ) {\n                    details.useVersion(&quot;2.17.0&quot;)\n                }\n            }\n        }\n    }\n\n    repositories {\n        if (project.hasProperty(&quot;buildEnv&quot;) &amp;&amp; project.getProperties().get(&quot;buildEnv&quot;) == &quot;github&quot;) {\n            mavenCentral()\n        } else {\n            mavenCentral()\n        }\n    }\n\n    dependencies {\n        compileOnly &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n        annotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n        testAnnotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n        testImplementation &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n        api &quot;$rootProject.ext.dependencies.log4j&quot;\n        api &quot;$rootProject.ext.dependencies.collections4&quot;\n        api &quot;org.apache.commons:commons-lang3:${commonColleciton3Version}&quot;\n        implementation &quot;$rootProject.ext.dependencies.mybatisGeneratorCore&quot;\n        implementation &quot;$rootProject.ext.dependencies.itfswMybatisGeneratorPlugin&quot;\n        testImplementation group: 'org.testng', name: 'testng', version: '7.4.0'\n    }\n\n    dependencyManagement {\n        imports {\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:$rootProject.ext.version.springCloudVersion&quot;\n        }\n    }\n}\n\nallprojects {\n    sourceCompatibility = 11\n    targetCompatibility = 11\n    def defaultEncoding = 'UTF-8'\n    compileJava {\n        options.encoding = defaultEncoding\n    }\n    compileTestJava {\n        options.encoding = defaultEncoding\n    }\n    tasks.withType(JavaCompile) {\n        options.encoding = 'UTF-8'\n    }\n\n    /**\n     * remove aliyun repo config from ~/.gradle/init.gradle into project\n     * avoid to force other project in machine use aliyun\n     * some international project could not fetch dependencies from aliyun\n     */\n    repositories {\n        def PROXY_REPOSITORY_URL = 'https://maven.aliyun.com/nexus/content/groups/public'\n        all { ArtifactRepository repo -&gt;\n            if(repo instanceof MavenArtifactRepository){\n                def url = repo.url.toString()\n                if (url.startsWith('https://repo1.maven.org/maven2')) {\n                    project.logger.lifecycle &quot;Repository ${repo.url} replaced by $PROXY_REPOSITORY_URL.&quot;\n                    remove repo\n                }\n            }\n        }\n        maven {\n            url PROXY_REPOSITORY_URL\n        }\n        /****** Release Repo ********/\n        maven {\n            credentials {\n                username System.getenv(&quot;ALIYUN_REPO_USERNAME&quot;)\n                password System.getenv(&quot;ALIYUN_REPO_PASSWORD&quot;)\n            }\n            url 'https://packages.aliyun.com/maven/repository/2236707-release-REsSq7/'\n        }\n        /****** Snapshot Repo ********/\n        maven {\n            credentials {\n                username System.getenv(&quot;ALIYUN_DOCKER_REPO_USER_NAME&quot;)\n                password System.getenv(&quot;ALIYUN_DOCKER_REPO_USER_PASSWORD&quot;)\n            }\n            url 'https://packages.aliyun.com/maven/repository/2236707-snapshot-lUlWG7/'\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring","jackson"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1623426851,"post_id":67939740,"comment_id":120084778,"body_markdown":"How does OptionTypeIdResolver looks like?","body":"How does OptionTypeIdResolver looks like?"},{"owner":{"account_id":472636,"reputation":15,"user_id":881217,"display_name":"vinnar"},"score":0,"creation_date":1623428750,"post_id":67939740,"comment_id":120085518,"body_markdown":"@notescrew - added the definition","body":"@notescrew - added the definition"}],"answers":[{"tags":[],"owner":{"account_id":21602575,"reputation":81,"user_id":15930440,"display_name":"RoundedHouse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623429082,"creation_date":1623429082,"answer_id":67940539,"question_id":67939740,"body_markdown":"Map&lt;String,Option&gt;\r\n\r\n    String = key\r\n    Option = Object\r\n    would be in this json format\r\n    {\r\n      &quot;String&quot;:{\r\n           //option object definition here\r\n      }\r\n    }\r\n\r\nYour **&quot;options&quot;** field in this case is  taking a **List&lt;Map&lt;String,Option&gt;&gt;**  but not **Map&lt;String,Option&gt;** which is defined in your **[Project entity table]**\r\n","title":"JSON representation of Map&lt;String, Object&gt;","body":"<p>Map&lt;String,Option&gt;</p>\n<pre><code>String = key\nOption = Object\nwould be in this json format\n{\n  &quot;String&quot;:{\n       //option object definition here\n  }\n}\n</code></pre>\n<p>Your <strong>&quot;options&quot;</strong> field in this case is  taking a <strong>List&lt;Map&lt;String,Option&gt;&gt;</strong>  but not <strong>Map&lt;String,Option&gt;</strong> which is defined in your <strong>[Project entity table]</strong></p>\n"}],"owner":{"account_id":472636,"reputation":15,"user_id":881217,"display_name":"vinnar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695107127,"creation_date":1623425482,"question_id":67939740,"body_markdown":"I have been provided an API endpoint and I am trying to test it out using Postman. \r\nAPI has a Map&lt;String,Object&gt; which I am not sure how to represent in JSON format for Postman to be able to use.\r\n\r\nHere is the Entity:\r\n```\r\nimport java.util.Map;\r\nimport com.abcd.xyz.option.Option;\r\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\r\n\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Getter @Setter @NoArgsConstructor @ToString\r\npublic class Project {\r\n\r\n    private String name;\r\n    private String shortName;\r\n    private String idName;\r\n\r\n    private String language;\r\n    private String buildTool;\r\n    private String k8sid;\r\n    private String dnsId;\r\n    private String jenkinsUrl;\r\n\r\n    private Map&lt;String, Option&gt; options;\r\n\r\n}\r\n```\r\n..............\r\n\r\nOption definition:\r\n\r\n```\r\nimport java.util.List;\r\n\r\nimport com.abcd.xyz.bundling.ResourceFile;\r\nimport com.abcd.xyz.project.Project;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\r\nimport com.fasterxml.jackson.databind.annotation.JsonTypeIdResolver;\r\n\r\n@JsonTypeInfo(use=JsonTypeInfo.Id.CUSTOM, include=JsonTypeInfo.As.PROPERTY, property=&quot;option&quot;)\r\n@JsonTypeIdResolver(OptionTypeIdResolver.class)\r\npublic interface Option {\r\n    @JsonIgnore\r\n    public List&lt;ResourceFile&gt; getFiles(Project project);\r\n}\r\n```\r\n......................\r\n\r\nOptionTypeIdResolver:\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo.Id;\r\nimport com.fasterxml.jackson.databind.DatabindContext;\r\nimport com.fasterxml.jackson.databind.JavaType;\r\nimport com.fasterxml.jackson.databind.jsontype.TypeIdResolver;\r\nimport com.fasterxml.jackson.databind.type.TypeFactory;\r\n\r\n// Handles the conversion of the &quot;option&quot; property of an Option class into JSON, or from\r\n// JSON into the correct Option type.\r\npublic class OptionTypeIdResolver implements TypeIdResolver {\r\n    private static final String OPTION_PACKAGE = Option.class.getPackage().getName();\r\n    private JavaType baseType;\r\n\r\n    @Override\r\n    public void init(JavaType baseType) {\r\n        this.baseType = baseType;\r\n    }\r\n\r\n    @Override\r\n    public Id getMechanism() {\r\n        return Id.CUSTOM;\r\n    }\r\n\r\n    @Override\r\n    public String idFromValue(Object obj) {\r\n        return idFromValueAndType(obj, obj.getClass());\r\n    }\r\n\r\n    @Override\r\n    public String idFromBaseType() {\r\n        return idFromValueAndType(null, baseType.getRawClass());\r\n    }\r\n\r\n    @Override\r\n    public String idFromValueAndType(Object obj, Class&lt;?&gt; clazz) {\r\n        // Convert java class name to simple name, ie package.GradleOption -&gt; gradle\r\n        String simpleName = clazz.getSimpleName().substring(0, 1).toLowerCase() + clazz.getSimpleName().substring(1).replaceAll(&quot;Option$&quot;,&quot;&quot;);\r\n        if ( clazz.getName().startsWith(OPTION_PACKAGE) ) {\r\n            return simpleName;\r\n        }\r\n        throw new IllegalStateException(&quot;class &quot; + clazz + &quot; is not in the package &quot; + OPTION_PACKAGE);\r\n    }\r\n\r\n    @Override\r\n    public JavaType typeFromId(DatabindContext context, String type) {\r\n        Class&lt;?&gt; clazz;\r\n        // Convert simple name to java class name, ie gradle -&gt; package.GradleOption\r\n        String javaType = type.substring(0, 1).toUpperCase() + type.substring(1) + &quot;Option&quot;;\r\n        String clazzName = OPTION_PACKAGE + &quot;.&quot; + javaType;\r\n        try {\r\n            clazz = TypeFactory.defaultInstance().findClass(clazzName);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new IllegalStateException(&quot;cannot find class &#39;&quot; + clazzName + &quot;&#39;&quot;);\r\n        }\r\n        return TypeFactory.defaultInstance().constructSpecializedType(baseType, clazz);\r\n    }\r\n\r\n    @Override\r\n    public String getDescForKnownTypeIds() {\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```\r\n.................\r\n\r\nHere is the POST body I am using:\r\n```\r\n{\r\n  &quot;buildTool&quot;: &quot;gradle&quot;,\r\n  &quot;dnsId&quot;: &quot;demo005&quot;,\r\n  &quot;idName&quot;: &quot;demo005&quot;,\r\n  &quot;jenkinsUrl&quot;: &quot;&quot;,\r\n  &quot;k8sid&quot;: &quot;er5t-eks-oGWFNxUs&quot;,\r\n  &quot;language&quot;: &quot;java&quot;,\r\n  &quot;name&quot;: &quot;demo005&quot;,\r\n  &quot;shortName&quot;: &quot;f&quot;,\r\n  &quot;titleName&quot;: &quot;demo004&quot;,\r\n  &quot;options&quot;: [\r\n      {&quot;java&quot;: {\r\n          &quot;JavaOption&quot;: {\r\n              &quot;group&quot;: &quot;com.example&quot;,\r\n              &quot;name&quot;: &quot;f&quot;\r\n          }\r\n        }\r\n      }\r\n  ]\r\n}\r\n```\r\n\r\n..................\r\n\r\n\r\nError I get is :\r\n\r\n```\r\no.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Missing type id when trying to resolve subtype of [simple type, class com.abcd.xyz.option.Option]: missing type id property &#39;option&#39;; nested exception is com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Missing type id when trying to resolve subtype of [simple type, class com.abcd.xyz.option.Option]: missing type id property &#39;option&#39;\r\n at [Source: (PushbackInputStream); line: 10, column: 16] (through reference chain: com.abcd.xyz.project.Project[&quot;titleName&quot;])]\r\n```\r\n\r\nWhat am I getting wrong in the formatting..?","title":"JSON representation of Map&lt;String, Object&gt;","body":"<p>I have been provided an API endpoint and I am trying to test it out using Postman.\nAPI has a Map&lt;String,Object&gt; which I am not sure how to represent in JSON format for Postman to be able to use.</p>\n<p>Here is the Entity:</p>\n<pre><code>import java.util.Map;\nimport com.abcd.xyz.option.Option;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Getter @Setter @NoArgsConstructor @ToString\npublic class Project {\n\n    private String name;\n    private String shortName;\n    private String idName;\n\n    private String language;\n    private String buildTool;\n    private String k8sid;\n    private String dnsId;\n    private String jenkinsUrl;\n\n    private Map&lt;String, Option&gt; options;\n\n}\n</code></pre>\n<p>..............</p>\n<p>Option definition:</p>\n<pre><code>import java.util.List;\n\nimport com.abcd.xyz.bundling.ResourceFile;\nimport com.abcd.xyz.project.Project;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\nimport com.fasterxml.jackson.databind.annotation.JsonTypeIdResolver;\n\n@JsonTypeInfo(use=JsonTypeInfo.Id.CUSTOM, include=JsonTypeInfo.As.PROPERTY, property=&quot;option&quot;)\n@JsonTypeIdResolver(OptionTypeIdResolver.class)\npublic interface Option {\n    @JsonIgnore\n    public List&lt;ResourceFile&gt; getFiles(Project project);\n}\n</code></pre>\n<p>......................</p>\n<p>OptionTypeIdResolver:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonTypeInfo.Id;\nimport com.fasterxml.jackson.databind.DatabindContext;\nimport com.fasterxml.jackson.databind.JavaType;\nimport com.fasterxml.jackson.databind.jsontype.TypeIdResolver;\nimport com.fasterxml.jackson.databind.type.TypeFactory;\n\n// Handles the conversion of the &quot;option&quot; property of an Option class into JSON, or from\n// JSON into the correct Option type.\npublic class OptionTypeIdResolver implements TypeIdResolver {\n    private static final String OPTION_PACKAGE = Option.class.getPackage().getName();\n    private JavaType baseType;\n\n    @Override\n    public void init(JavaType baseType) {\n        this.baseType = baseType;\n    }\n\n    @Override\n    public Id getMechanism() {\n        return Id.CUSTOM;\n    }\n\n    @Override\n    public String idFromValue(Object obj) {\n        return idFromValueAndType(obj, obj.getClass());\n    }\n\n    @Override\n    public String idFromBaseType() {\n        return idFromValueAndType(null, baseType.getRawClass());\n    }\n\n    @Override\n    public String idFromValueAndType(Object obj, Class&lt;?&gt; clazz) {\n        // Convert java class name to simple name, ie package.GradleOption -&gt; gradle\n        String simpleName = clazz.getSimpleName().substring(0, 1).toLowerCase() + clazz.getSimpleName().substring(1).replaceAll(&quot;Option$&quot;,&quot;&quot;);\n        if ( clazz.getName().startsWith(OPTION_PACKAGE) ) {\n            return simpleName;\n        }\n        throw new IllegalStateException(&quot;class &quot; + clazz + &quot; is not in the package &quot; + OPTION_PACKAGE);\n    }\n\n    @Override\n    public JavaType typeFromId(DatabindContext context, String type) {\n        Class&lt;?&gt; clazz;\n        // Convert simple name to java class name, ie gradle -&gt; package.GradleOption\n        String javaType = type.substring(0, 1).toUpperCase() + type.substring(1) + &quot;Option&quot;;\n        String clazzName = OPTION_PACKAGE + &quot;.&quot; + javaType;\n        try {\n            clazz = TypeFactory.defaultInstance().findClass(clazzName);\n        } catch (ClassNotFoundException e) {\n            throw new IllegalStateException(&quot;cannot find class '&quot; + clazzName + &quot;'&quot;);\n        }\n        return TypeFactory.defaultInstance().constructSpecializedType(baseType, clazz);\n    }\n\n    @Override\n    public String getDescForKnownTypeIds() {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>.................</p>\n<p>Here is the POST body I am using:</p>\n<pre><code>{\n  &quot;buildTool&quot;: &quot;gradle&quot;,\n  &quot;dnsId&quot;: &quot;demo005&quot;,\n  &quot;idName&quot;: &quot;demo005&quot;,\n  &quot;jenkinsUrl&quot;: &quot;&quot;,\n  &quot;k8sid&quot;: &quot;er5t-eks-oGWFNxUs&quot;,\n  &quot;language&quot;: &quot;java&quot;,\n  &quot;name&quot;: &quot;demo005&quot;,\n  &quot;shortName&quot;: &quot;f&quot;,\n  &quot;titleName&quot;: &quot;demo004&quot;,\n  &quot;options&quot;: [\n      {&quot;java&quot;: {\n          &quot;JavaOption&quot;: {\n              &quot;group&quot;: &quot;com.example&quot;,\n              &quot;name&quot;: &quot;f&quot;\n          }\n        }\n      }\n  ]\n}\n</code></pre>\n<p>..................</p>\n<p>Error I get is :</p>\n<pre><code>o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Missing type id when trying to resolve subtype of [simple type, class com.abcd.xyz.option.Option]: missing type id property 'option'; nested exception is com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Missing type id when trying to resolve subtype of [simple type, class com.abcd.xyz.option.Option]: missing type id property 'option'\n at [Source: (PushbackInputStream); line: 10, column: 16] (through reference chain: com.abcd.xyz.project.Project[&quot;titleName&quot;])]\n</code></pre>\n<p>What am I getting wrong in the formatting..?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9817,"page":175,"page_size":100}
