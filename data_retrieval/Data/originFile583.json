{"items":[{"tags":["java","functional-programming","stream"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646845243,"post_id":71412934,"comment_id":126226319,"body_markdown":"You need to transform the result of map(component -&gt; ..) in something like an ImmutablePair, where you put component and SomeData. In the next map use that ImmutablePair.","body":"You need to transform the result of map(component -&gt; ..) in something like an ImmutablePair, where you put component and SomeData. In the next map use that ImmutablePair."}],"answers":[{"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646844744,"post_id":71413037,"comment_id":126226099,"body_markdown":"OP also needs access to the component object in the next step.","body":"OP also needs access to the component object in the next step."},{"owner":{"account_id":24482604,"reputation":84,"user_id":18400778,"display_name":"Thilak S"},"score":0,"creation_date":1646845023,"post_id":71413037,"comment_id":126226240,"body_markdown":"Then what&#39;s the point in using map then?","body":"Then what&#39;s the point in using map then?"},{"owner":{"account_id":24482604,"reputation":84,"user_id":18400778,"display_name":"Thilak S"},"score":0,"creation_date":1646845062,"post_id":71413037,"comment_id":126226255,"body_markdown":"If you need both SomeData and Component fields at the end then have class that contains both and use it","body":"If you need both SomeData and Component fields at the end then have class that contains both and use it"}],"tags":[],"owner":{"account_id":24482604,"reputation":84,"user_id":18400778,"display_name":"Thilak S"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646844581,"creation_date":1646844581,"answer_id":71413037,"question_id":71412934,"body_markdown":"You can map and perform those complex calculation both in the same map method,\r\n\r\n```\r\ncomponents.stream()\r\n\t.map(component -&gt; {\r\n\t\t// Create an object and set value from component. \r\n\t\tSomeData someData = new SomeData();\r\n\r\n\t\t// once that is done perform your complex operation here. \r\n\r\n\t\treturn someData;\r\n\t});\r\n```\r\n\r\nI&#39;ve given an high level context on what can be done. Let me know if it works for you.","title":"How to access both newly created object in the JAVA stream operation and the current object in the stream","body":"<p>You can map and perform those complex calculation both in the same map method,</p>\n<pre><code>components.stream()\n    .map(component -&gt; {\n        // Create an object and set value from component. \n        SomeData someData = new SomeData();\n\n        // once that is done perform your complex operation here. \n\n        return someData;\n    });\n</code></pre>\n<p>I've given an high level context on what can be done. Let me know if it works for you.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646853677,"creation_date":1646853677,"answer_id":71414944,"question_id":71412934,"body_markdown":"You can make Component a property of SomeData:\r\n\r\n    public class SomeData {\r\n        private final Component component;\r\n        String data;\r\n        double price;\r\n\r\n        public SomeData(Component component) {\r\n            this.component = component;\r\n        }\r\n\r\n        public Component getComponent() {\r\n            return component;\r\n        }\r\n    }\r\n\r\nIf SomeData is not a class under your control, or your design doesn’t allow for modifying it, create a class that pairs them.  It can even be a local class;  that is, a class defined inside a method which only exists in the scope of that method:\r\n\r\n    public void processComponent(List&lt;Component&gt; components) {\r\n        class ProcessResult {\r\n            final Component component;\r\n            final SomeData data;\r\n\r\n            ProcessResult(Component component,\r\n                          SomeData data) {\r\n                this.component = component;\r\n                this.data = data;\r\n            }\r\n        }\r\n\r\n        components.stream()\r\n            .map(component -&gt; new ProcessResult(component, createDataFrom(component)))\r\n            .map(result -&gt; {\r\n                doStuffWith(result.component);\r\n                doStuffWith(result.data);\r\n                return someOtherValue;\r\n            })\r\n    }\r\n","title":"How to access both newly created object in the JAVA stream operation and the current object in the stream","body":"<p>You can make Component a property of SomeData:</p>\n<pre><code>public class SomeData {\n    private final Component component;\n    String data;\n    double price;\n\n    public SomeData(Component component) {\n        this.component = component;\n    }\n\n    public Component getComponent() {\n        return component;\n    }\n}\n</code></pre>\n<p>If SomeData is not a class under your control, or your design doesn’t allow for modifying it, create a class that pairs them.  It can even be a local class;  that is, a class defined inside a method which only exists in the scope of that method:</p>\n<pre><code>public void processComponent(List&lt;Component&gt; components) {\n    class ProcessResult {\n        final Component component;\n        final SomeData data;\n\n        ProcessResult(Component component,\n                      SomeData data) {\n            this.component = component;\n            this.data = data;\n        }\n    }\n\n    components.stream()\n        .map(component -&gt; new ProcessResult(component, createDataFrom(component)))\n        .map(result -&gt; {\n            doStuffWith(result.component);\n            doStuffWith(result.data);\n            return someOtherValue;\n        })\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678465326,"post_id":75646401,"comment_id":133543605,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75646401/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":13964622,"reputation":69,"user_id":10084790,"display_name":"Shmuel Greenberger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678620042,"creation_date":1678066112,"answer_id":75646401,"question_id":71412934,"body_markdown":"You can use `Collectors.toConcurrentMap` inside the `Stream.Collect` method and map each `component` to your `someData`. Then you can stream the `entrySet` of the map and process the data.\r\n\r\n    components.stream().collect(\r\n            Collectors.toConcurrentMap(\r\n            component-&gt;component, \r\n            component-&gt;&lt;your someData Object as value&gt;))\r\n            .entrySet().stream()\r\nAnd now you can operate on the entrySet&#39;s stream!","title":"How to access both newly created object in the JAVA stream operation and the current object in the stream","body":"<p>You can use <code>Collectors.toConcurrentMap</code> inside the <code>Stream.Collect</code> method and map each <code>component</code> to your <code>someData</code>. Then you can stream the <code>entrySet</code> of the map and process the data.</p>\n<pre><code>components.stream().collect(\n        Collectors.toConcurrentMap(\n        component-&gt;component, \n        component-&gt;&lt;your someData Object as value&gt;))\n        .entrySet().stream()\n</code></pre>\n<p>And now you can operate on the entrySet's stream!</p>\n"}],"owner":{"account_id":16753025,"reputation":21,"user_id":12109715,"display_name":"Sam K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1678620042,"creation_date":1646844167,"question_id":71412934,"body_markdown":"I have a list of objects that I want to process through java stream API.\r\ni need to create another object, SomeData for each of the Component in the list. I also need to access both someData object that was created and the component object later in the stream operations. I need to update the someData object with some complex calculation using the attributes from the component object. How can I achieve this? Below is pseudo code to explain the problem i described here. Thank you in advance for your time!\r\n```\r\nimport java.util.List;\r\n\r\nclass Component{\r\n    String name;\r\n    double price;\r\n}\r\nclass SomeData{\r\n    String data;\r\n    double price;\r\n}\r\n\r\npublic class Test {\r\n    public void processComponent(List&lt;Component&gt; components){\r\n        components.stream()\r\n                .map(component -&gt; (//need to create here SomeData object for each of the component))\r\n                .map(//need to access both someData object that was created and the &#39;component&#39; object as well)\r\n    }\r\n}\r\n\r\n```","title":"How to access both newly created object in the JAVA stream operation and the current object in the stream","body":"<p>I have a list of objects that I want to process through java stream API.\ni need to create another object, SomeData for each of the Component in the list. I also need to access both someData object that was created and the component object later in the stream operations. I need to update the someData object with some complex calculation using the attributes from the component object. How can I achieve this? Below is pseudo code to explain the problem i described here. Thank you in advance for your time!</p>\n<pre><code>import java.util.List;\n\nclass Component{\n    String name;\n    double price;\n}\nclass SomeData{\n    String data;\n    double price;\n}\n\npublic class Test {\n    public void processComponent(List&lt;Component&gt; components){\n        components.stream()\n                .map(component -&gt; (//need to create here SomeData object for each of the component))\n                .map(//need to access both someData object that was created and the 'component' object as well)\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":17878804,"reputation":75,"user_id":14114783,"display_name":"Hiedrass"},"score":0,"creation_date":1678624783,"post_id":75712742,"comment_id":133566011,"body_markdown":"My models are written with Kotlin Class. When i changed these classes to java class its working.","body":"My models are written with Kotlin Class. When i changed these classes to java class its working."},{"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"score":0,"creation_date":1678660370,"post_id":75712742,"comment_id":133572081,"body_markdown":"if you solved your problem, please close your question","body":"if you solved your problem, please close your question"}],"owner":{"account_id":17878804,"reputation":75,"user_id":14114783,"display_name":"Hiedrass"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678619880,"creation_date":1678619880,"question_id":75712742,"body_markdown":"I am developing an api project with spring boot. When I want to implement the commandlinerunner in the main class, I get errors. Is my main class not seeing the Model and the Repository? So where am I doing wrong? I am using Java 17, Spring 3.0.4 version. When I delete commandlinerunner on the code, I don&#39;t get an error.\r\n\r\n    package com.hsnhut.realestateapi;\r\n\r\n    import com.hsnhut.realestateapi.model.Seller;\r\n    import com.hsnhut.realestateapi.repository.SellerRepository;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import java.util.HashSet;\r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;com.hsnhut.realestateapi&quot;})\r\n    public class RealestateapiApplication implements CommandLineRunner{\r\n\tprivate final SellerRepository sellerRepository;\r\n\r\n\tpublic RealestateapiApplication(SellerRepository sellerRepository) {\r\n\t\tthis.sellerRepository = sellerRepository;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(RealestateapiApplication.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\tsellerRepository.save(new Seller(&quot;&quot;,&quot;Hasan&quot;,&quot;Hut&quot;,new HashSet&lt;&gt;()));\r\n\t}\r\n    }\r\n\r\nThese are my errors: \r\n\r\n - java: package com.hsnhut.realestateapi.model does not exist\r\n - java: package com.hsnhut.realestateapi.repository does not exist\r\n - java: cannot find symbol\r\n   symbol:   class SellerRepository\r\n   location: class com.hsnhut.realestateapi.RealestateapiApplication\r\n - java: cannot find symbol\r\n  symbol:   class SellerRepository\r\n  location: class com.hsnhut.realestateapi.RealestateapiApplication\r\n\r\n\r\n","title":"SpringBoot CommandLineRunner Packages does not exist","body":"<p>I am developing an api project with spring boot. When I want to implement the commandlinerunner in the main class, I get errors. Is my main class not seeing the Model and the Repository? So where am I doing wrong? I am using Java 17, Spring 3.0.4 version. When I delete commandlinerunner on the code, I don't get an error.</p>\n<pre><code>package com.hsnhut.realestateapi;\n\nimport com.hsnhut.realestateapi.model.Seller;\nimport com.hsnhut.realestateapi.repository.SellerRepository;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport java.util.HashSet;\n\n@SpringBootApplication(scanBasePackages = {&quot;com.hsnhut.realestateapi&quot;})\npublic class RealestateapiApplication implements CommandLineRunner{\nprivate final SellerRepository sellerRepository;\n\npublic RealestateapiApplication(SellerRepository sellerRepository) {\n    this.sellerRepository = sellerRepository;\n}\n\npublic static void main(String[] args) {\n    SpringApplication.run(RealestateapiApplication.class, args);\n}\n\n@Override\npublic void run(String... args) throws Exception {\n    sellerRepository.save(new Seller(&quot;&quot;,&quot;Hasan&quot;,&quot;Hut&quot;,new HashSet&lt;&gt;()));\n}\n}\n</code></pre>\n<p>These are my errors:</p>\n<ul>\n<li>java: package com.hsnhut.realestateapi.model does not exist</li>\n<li>java: package com.hsnhut.realestateapi.repository does not exist</li>\n<li>java: cannot find symbol\nsymbol:   class SellerRepository\nlocation: class com.hsnhut.realestateapi.RealestateapiApplication</li>\n<li>java: cannot find symbol\nsymbol:   class SellerRepository\nlocation: class com.hsnhut.realestateapi.RealestateapiApplication</li>\n</ul>\n"},{"tags":["java","ftp","apache-commons-net"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1437870415,"post_id":31632346,"comment_id":51211921,"body_markdown":"Please visit the [help] and read about writing good questions.  What FTP client are you using? What is the value of the `file` argument to `checkDirectoryExists`?  What error message, exception or unexpected behavior do you see? How do you know the directory exists on the server? What debugging have you done so far?","body":"Please visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read about writing good questions.  What FTP client are you using? What is the value of the <code>file</code> argument to <code>checkDirectoryExists</code>?  What error message, exception or unexpected behavior do you see? How do you know the directory exists on the server? What debugging have you done so far?"},{"owner":{"account_id":6684754,"reputation":9,"user_id":5156453,"display_name":"ssark"},"score":0,"creation_date":1437886254,"post_id":31632346,"comment_id":51214328,"body_markdown":"Well u can see this was my first post. Basically I am sending a name to this method and wants to check if it is one of the directories( not files)","body":"Well u can see this was my first post. Basically I am sending a name to this method and wants to check if it is one of the directories( not files)"}],"answers":[{"tags":[],"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437873060,"creation_date":1437873060,"answer_id":31632646,"question_id":31632346,"body_markdown":"Just use a loop to check each one yourself. Use `endsWith()` to check in the case of a relative directory path.\r\n\r\n    public static boolean checkDirectoryExists(String file) throws IOException {\r\n        FTPFile[] files = myClient.listDirectories();\r\n        for (FTPFile file : files) {\r\n            if( file.getName().endsWith(file)) return true;\r\n        }\r\n        returns false;\r\n    }","title":"How do I check if a remote directory exists in FTP server?","body":"<p>Just use a loop to check each one yourself. Use <code>endsWith()</code> to check in the case of a relative directory path.</p>\n\n<pre><code>public static boolean checkDirectoryExists(String file) throws IOException {\n    FTPFile[] files = myClient.listDirectories();\n    for (FTPFile file : files) {\n        if( file.getName().endsWith(file)) return true;\n    }\n    returns false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8427734,"reputation":1,"user_id":6324448,"display_name":"Evreh Choneh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463042025,"creation_date":1463042025,"answer_id":37181446,"question_id":31632346,"body_markdown":"My trick is to use **listDirectories(directory)**.\r\n\r\n - If directory exists but is empty : return an array of length = 0\r\n - If directory doesn&#39;t exist : return an array of length = 0 too !!!\r\n\r\nSo I use **listDirectories(directory+&quot;/..&quot;)**\r\n\r\n - If directory exists : return an array with a least one element = directory\r\n - If directory doesn&#39;t not exist : return an array of length = 0.\r\n\r\nSo just do :\r\n\r\n - FTPFile[] tf = listDirectories(directory+&quot;/..&quot;)\r\n - exist = tf !=null &amp;&amp; tf.length&gt;0\r\n\r\n","title":"How do I check if a remote directory exists in FTP server?","body":"<p>My trick is to use <strong>listDirectories(directory)</strong>.</p>\n\n<ul>\n<li>If directory exists but is empty : return an array of length = 0</li>\n<li>If directory doesn't exist : return an array of length = 0 too !!!</li>\n</ul>\n\n<p>So I use <strong>listDirectories(directory+\"/..\")</strong></p>\n\n<ul>\n<li>If directory exists : return an array with a least one element = directory</li>\n<li>If directory doesn't not exist : return an array of length = 0.</li>\n</ul>\n\n<p>So just do :</p>\n\n<ul>\n<li>FTPFile[] tf = listDirectories(directory+\"/..\")</li>\n<li>exist = tf !=null &amp;&amp; tf.length>0</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4354071,"reputation":1089,"user_id":3553316,"display_name":"Shalin Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479505764,"creation_date":1479505764,"answer_id":40686473,"question_id":31632346,"body_markdown":"What you just Need to check is just ftpClient.cwd(&quot;your Directory Name&quot;)\r\n\r\nthis will return you integer values\r\n\r\n`250` - If File Exists\r\n\r\nOR\r\n\r\n`550` - If File Doesn&#39;t Exist\r\n\r\nFor Example,\r\n\r\n    if(ftpClient.cwd(uploadDirectoryPath)==550){\r\n         System.out.println(&quot;Directory Doesn&#39;t Exists&quot;);\r\n    }else if(ftpClient.cwd(uploadDirectoryPath)==250){\r\n         System.out.println(&quot;Directory Exists&quot;);\r\n    }else{\r\n         System.out.println(&quot;Unknown Status&quot;);\r\n    }\r\n\r\n","title":"How do I check if a remote directory exists in FTP server?","body":"<p>What you just Need to check is just ftpClient.cwd(\"your Directory Name\")</p>\n\n<p>this will return you integer values</p>\n\n<p><code>250</code> - If File Exists</p>\n\n<p>OR</p>\n\n<p><code>550</code> - If File Doesn't Exist</p>\n\n<p>For Example,</p>\n\n<pre><code>if(ftpClient.cwd(uploadDirectoryPath)==550){\n     System.out.println(\"Directory Doesn't Exists\");\n}else if(ftpClient.cwd(uploadDirectoryPath)==250){\n     System.out.println(\"Directory Exists\");\n}else{\n     System.out.println(\"Unknown Status\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11544752,"reputation":72,"user_id":8459214,"display_name":"shankar_vl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678618800,"creation_date":1678618800,"answer_id":75712645,"question_id":31632346,"body_markdown":"This is my method to check whether given path for which file exists represents a directory or a file. Here, there is no need to change the current working directory or to list all the subdirectories of parent directory and check individually for directory/file. Simply retrieve filestream from the given path, if inputstream is not null, then it is file otherwise it is directory. Here is the code.\r\n\r\n    \r\n    public static boolean isFtpPathDirectory(String file_path)\r\n\t\t{\r\n\t\t\tboolean isDirectory = false;\r\n\t\t\ttry {\r\n\t\t\t\tInputStream inputStream=ftpClient.retrieveFileStream(file_path);\r\n\t\t\t\tisDirectory=(inputStream == null);\r\n\t\t\t\tif(inputStream!=null)inputStream.close();\r\n\t\t\t\treturn isDirectory;\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\treturn isDirectory;\r\n\t\t\t}\r\n\t\t}\r\n    ","title":"How do I check if a remote directory exists in FTP server?","body":"<p>This is my method to check whether given path for which file exists represents a directory or a file. Here, there is no need to change the current working directory or to list all the subdirectories of parent directory and check individually for directory/file. Simply retrieve filestream from the given path, if inputstream is not null, then it is file otherwise it is directory. Here is the code.</p>\n<pre><code>public static boolean isFtpPathDirectory(String file_path)\n    {\n        boolean isDirectory = false;\n        try {\n            InputStream inputStream=ftpClient.retrieveFileStream(file_path);\n            isDirectory=(inputStream == null);\n            if(inputStream!=null)inputStream.close();\n            return isDirectory;\n        } catch (IOException e) {\n            return isDirectory;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6684754,"reputation":9,"user_id":5156453,"display_name":"ssark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3195,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1678618800,"creation_date":1437869830,"question_id":31632346,"body_markdown":"I am trying to check if a remote directory exists in FTP server by specifying a path but my code failed to check when I provide a valid directory name. I want to check if the remote directory is valid and it is not a file. Here is my code:\r\n\r\n\r\n\r\n    public static boolean checkDirectoryExists(String file) throws      IOException {\r\n\t\t\tFTPFile[] files = myClient.listDirectories();\r\n    return Arrays.asList(files).contains(file);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How do I check if a remote directory exists in FTP server?","body":"<p>I am trying to check if a remote directory exists in FTP server by specifying a path but my code failed to check when I provide a valid directory name. I want to check if the remote directory is valid and it is not a file. Here is my code:</p>\n\n<pre><code>public static boolean checkDirectoryExists(String file) throws      IOException {\n        FTPFile[] files = myClient.listDirectories();\nreturn Arrays.asList(files).contains(file);\n}\n</code></pre>\n"},{"tags":["java","android","file-transfer"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348687814,"creation_date":1348687814,"answer_id":12609021,"question_id":12608893,"body_markdown":"No, sorry. Android devices have no access to their host PC via USB cable.","title":"Save file from android device to windows programmatically","body":"<p>No, sorry. Android devices have no access to their host PC via USB cable.</p>\n"},{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678618539,"creation_date":1348688316,"answer_id":12609155,"question_id":12608893,"body_markdown":"Short answer - not that I know of.\r\n\r\nFor &quot;file transfer&quot; in general, I would definitely look at both [Dropbox](https://www.dropbox.com/) (save/synch anything to anything, anywhere) and [ESFileExplorer](https://play.google.com/store/apps/details?id=com.estrongs.android.pop&amp;hl=en).  Both are user-oriented, but Dropbox has an API that you *should* be able to use with Android (I haven&#39;t tried it).  ESFileExplorer works with both USB and Windows shares.\r\n\r\nIf you have the Android SDK, you can copy files from the command line with &quot;adb pull&quot;.  And of course you can invoke &quot;adb pull&quot; from Java with &quot;Runtime.exec()&quot;.  Ugly ... but do-able :)\r\n\r\nOne other possibility for Windows shares might be:\r\n\r\n1. Get an SMB client (for example, [Samba Filesharing](https://play.google.com/store/apps/details?id=com.funkyfresh.samba&amp;hl=en)), then\r\n\r\n2. Use standard Java IO to read and write to and from the share\r\n\r\nAgain, I haven&#39;t tried this, and I don&#39;t know if it would work; but it *might* be worth a shot.  I don&#39;t see anything in Android File I/O that appears fundamentally incompatible with Samba file sharing:\r\n\r\nhttp://developer.android.com/reference/java/io/File.html","title":"Save file from android device to windows programmatically","body":"<p>Short answer - not that I know of.</p>\n<p>For &quot;file transfer&quot; in general, I would definitely look at both <a href=\"https://www.dropbox.com/\" rel=\"nofollow noreferrer\">Dropbox</a> (save/synch anything to anything, anywhere) and <a href=\"https://play.google.com/store/apps/details?id=com.estrongs.android.pop&amp;hl=en\" rel=\"nofollow noreferrer\">ESFileExplorer</a>.  Both are user-oriented, but Dropbox has an API that you <em>should</em> be able to use with Android (I haven't tried it).  ESFileExplorer works with both USB and Windows shares.</p>\n<p>If you have the Android SDK, you can copy files from the command line with &quot;adb pull&quot;.  And of course you can invoke &quot;adb pull&quot; from Java with &quot;Runtime.exec()&quot;.  Ugly ... but do-able :)</p>\n<p>One other possibility for Windows shares might be:</p>\n<ol>\n<li><p>Get an SMB client (for example, <a href=\"https://play.google.com/store/apps/details?id=com.funkyfresh.samba&amp;hl=en\" rel=\"nofollow noreferrer\">Samba Filesharing</a>), then</p>\n</li>\n<li><p>Use standard Java IO to read and write to and from the share</p>\n</li>\n</ol>\n<p>Again, I haven't tried this, and I don't know if it would work; but it <em>might</em> be worth a shot.  I don't see anything in Android File I/O that appears fundamentally incompatible with Samba file sharing:</p>\n<p><a href=\"http://developer.android.com/reference/java/io/File.html\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/java/io/File.html</a></p>\n"},{"tags":[],"owner":{"account_id":1683087,"reputation":185,"user_id":1546921,"accept_rate":25,"display_name":"vokuheila"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369077597,"creation_date":1369077597,"answer_id":16656775,"question_id":12608893,"body_markdown":"Try using `adb pull` command from your PC to fetch the file from Android.  You will need to install the Android SDK and have a usb cable (although there are ways to do it wirelessly).","title":"Save file from android device to windows programmatically","body":"<p>Try using <code>adb pull</code> command from your PC to fetch the file from Android.  You will need to install the Android SDK and have a usb cable (although there are ways to do it wirelessly).</p>\n"},{"tags":[],"owner":{"account_id":4316598,"reputation":11,"user_id":3526245,"display_name":"Ali Kharazani"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1464306798,"creation_date":1464271218,"answer_id":37463065,"question_id":12608893,"body_markdown":"You cannot write a file from an Android device to a PC by Android programming. However, you can copy a file from Android device by Windows programming (C#). You can get help from windows device portable library: https://github.com/notpod/wpd-lib","title":"Save file from android device to windows programmatically","body":"<p>You cannot write a file from an Android device to a PC by Android programming. However, you can copy a file from Android device by Windows programming (C#). You can get help from windows device portable library: <a href=\"https://github.com/notpod/wpd-lib\" rel=\"nofollow\">https://github.com/notpod/wpd-lib</a></p>\n"}],"owner":{"account_id":1086354,"reputation":3929,"user_id":1081978,"accept_rate":63,"display_name":"kosbou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1678618539,"creation_date":1348687252,"question_id":12608893,"body_markdown":"Is there any way to save a text file created from an android app to a USB connected windows PC programmatically?","title":"Save file from android device to windows programmatically","body":"<p>Is there any way to save a text file created from an android app to a USB connected windows PC programmatically?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678618352,"post_id":55661345,"comment_id":133565161,"body_markdown":"one problem per question please - that said: a) the stacktrace is telling you exactly what&#39;s wrong (there simply is no method getText in your controller, at least not in what you are showing here, add the method in code or remove the handler attribute in the fxml ), b) the warning alerts you to a potential problem in your module-info, fix what it complains about","body":"one problem per question please - that said: a) the stacktrace is telling you exactly what&#39;s wrong (there simply is no method getText in your controller, at least not in what you are showing here, add the method in code or remove the handler attribute in the fxml ), b) the warning alerts you to a potential problem in your module-info, fix what it complains about"}],"answers":[{"tags":[],"owner":{"account_id":14533343,"reputation":1,"user_id":10497551,"display_name":"Paulo Henrique"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555128553,"creation_date":1555128553,"answer_id":55661904,"question_id":55661345,"body_markdown":"There&#39;s an &quot;on action&quot; event called &quot;getText&quot; associated with your TextField. When you remove it, your program should work properly.","title":"javafx.fxml.LoadException: Error resolving onAction=&#39;#getText&#39;, either the event handler is not in the Namespace or there is an error in the script","body":"<p>There's an \"on action\" event called \"getText\" associated with your TextField. When you remove it, your program should work properly.</p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678617846,"post_id":57458327,"comment_id":133565087,"body_markdown":"buttonClick is public .. annotation not necessary - and is not the error, anyway","body":"buttonClick is public .. annotation not necessary - and is not the error, anyway"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678628165,"post_id":57458327,"comment_id":133566497,"body_markdown":"... in other words: this answer is unrelated to the problem in the question and even if it were related it&#39;s plain wrong ..","body":"... in other words: this answer is unrelated to the problem in the question and even if it were related it&#39;s plain wrong .."}],"tags":[],"owner":{"account_id":10386049,"reputation":383,"user_id":8274784,"display_name":"Slayahh"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1565600776,"creation_date":1565600776,"answer_id":57458327,"question_id":55661345,"body_markdown":"Might be a little late to the party, but had the same issue and got it fixed. The problem is that in your FXML-file, you have declared #buttonclick as a function, however in your code, the function is not marked with the nesseccary @FXML annotation like you have on your attibutes. This breaks the FXML-loader on start since it cannot find the function without the @FXML annotation.","title":"javafx.fxml.LoadException: Error resolving onAction=&#39;#getText&#39;, either the event handler is not in the Namespace or there is an error in the script","body":"<p>Might be a little late to the party, but had the same issue and got it fixed. The problem is that in your FXML-file, you have declared #buttonclick as a function, however in your code, the function is not marked with the nesseccary @FXML annotation like you have on your attibutes. This breaks the FXML-loader on start since it cannot find the function without the @FXML annotation.</p>\n"}],"owner":{"account_id":14094930,"reputation":25,"user_id":10182025,"display_name":"Random coder 123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2256,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1678618371,"creation_date":1555120582,"question_id":55661345,"body_markdown":"Beginner with JavaFX, please help me, my code keeps throwing this error. Also, my buttonClick method throws a warning &quot;The type ActionEvent from module javafx.base may not be accessible to clients due to missing &#39;requires transitive&#39;&quot;.\r\n\r\n\r\n\r\n\r\nI&#39;ve tried importing different ActionEvent and EventHandler\r\n\r\nMy FXML code\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n&lt;?import javafx.scene.layout.GridPane?&gt;\r\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.text.Text?&gt;\r\n\r\n&lt;GridPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/10.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.SampleController&quot;&gt;\r\n  &lt;columnConstraints&gt;\r\n    &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;360.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;301.0&quot; /&gt;\r\n    &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;345.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;299.0&quot; /&gt;\r\n  &lt;/columnConstraints&gt;\r\n  &lt;rowConstraints&gt;\r\n      &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n  &lt;/rowConstraints&gt;\r\n   &lt;children&gt;\r\n      &lt;Text fx:id=&quot;celsius&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Celsius:&quot; textAlignment=&quot;CENTER&quot; wrappingWidth=&quot;300.611328125&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Britannic Bold&quot; size=&quot;36.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Text&gt;\r\n      &lt;Text fx:id=&quot;fahrenheit&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Fahrenheit:&quot; textAlignment=&quot;CENTER&quot; wrappingWidth=&quot;302.3359375&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Britannic Bold&quot; size=&quot;36.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Text&gt;\r\n      &lt;Text fx:id=&quot;kelvin&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Kelvin:&quot; textAlignment=&quot;CENTER&quot; wrappingWidth=&quot;302.490234375&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Britannic Bold&quot; size=&quot;36.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Text&gt;\r\n      &lt;TextField fx:id=&quot;textBox&quot; alignment=&quot;CENTER&quot; onAction=&quot;#getText&quot; text=&quot;0&quot; GridPane.columnIndex=&quot;1&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Britannic Bold&quot; size=&quot;36.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/TextField&gt;\r\n      &lt;Text fx:id=&quot;fahrenheitNumber&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;0&quot; textAlignment=&quot;CENTER&quot; wrappingWidth=&quot;300.97265625&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Britannic Bold&quot; size=&quot;36.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Text&gt;\r\n      &lt;Text fx:id=&quot;kelvinNumber&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;0&quot; textAlignment=&quot;CENTER&quot; wrappingWidth=&quot;299.97265625&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Britannic Bold&quot; size=&quot;36.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Text&gt;\r\n      &lt;Button fx:id=&quot;button&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#buttonClick&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;576.0&quot; text=&quot;Convert Now!&quot; translateX=&quot;10.0&quot; GridPane.columnSpan=&quot;2&quot; GridPane.rowIndex=&quot;3&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Britannic Bold&quot; size=&quot;39.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Button&gt;\r\n   &lt;/children&gt;\r\n&lt;/GridPane&gt;\r\n```\r\n\r\nMy controller class\r\n```\r\npackage application;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.text.Text;\r\nimport javafx.event.ActionEvent;\r\n\r\npublic class SampleController {\r\n\t@FXML\r\n\tprivate Button button;\r\n\t@FXML\r\n\tprivate Text celsius;\r\n\t@FXML\r\n\tprivate Text fahrenheit;\r\n\t@FXML\r\n\tprivate Text kelvin;\r\n\t@FXML\r\n\tprivate Text fahrenheitNumber;\r\n\t@FXML\r\n\tprivate Text kelvinNumber;\r\n\t@FXML\r\n\tprivate TextField textBox;\r\n\t\r\n\tpublic void buttonClick(ActionEvent event) {\r\n\t\tint x = Integer.parseInt(textBox.getText());\r\n\t\tfahrenheitNumber.setText(Integer.toString(x * (9 / 5) + 32));\r\n\t\tkelvinNumber.setText(Double.toString(x + 273.15));\r\n\t}\r\n}\r\n```\r\n\r\nA window should be shown but instead, this is thrown.\r\n\r\njavafx.fxml.LoadException: Error resolving onAction=&#39;#getText&#39;, either the event handler is not in the Namespace or there is an error in the script.\r\n/C:/Users/user/eclipse-workspace/JavaFXSceneBuilder/bin/application/Sample.fxml:42\r\n\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2621)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.access$100(FXMLLoader.java:105)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:618)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:778)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2838)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2557)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\r\n\tat hellofxmlcode/application.Main.start(Main.java:14)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)","title":"javafx.fxml.LoadException: Error resolving onAction=&#39;#getText&#39;, either the event handler is not in the Namespace or there is an error in the script","body":"<p>Beginner with JavaFX, please help me, my code keeps throwing this error. Also, my buttonClick method throws a warning \"The type ActionEvent from module javafx.base may not be accessible to clients due to missing 'requires transitive'\".</p>\n\n<p>I've tried importing different ActionEvent and EventHandler</p>\n\n<p>My FXML code</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;GridPane maxHeight=\"-Infinity\" maxWidth=\"-Infinity\" minHeight=\"-Infinity\" minWidth=\"-Infinity\" prefHeight=\"400.0\" prefWidth=\"600.0\" xmlns=\"http://javafx.com/javafx/10.0.1\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"application.SampleController\"&gt;\n  &lt;columnConstraints&gt;\n    &lt;ColumnConstraints hgrow=\"SOMETIMES\" maxWidth=\"360.0\" minWidth=\"10.0\" prefWidth=\"301.0\" /&gt;\n    &lt;ColumnConstraints hgrow=\"SOMETIMES\" maxWidth=\"345.0\" minWidth=\"10.0\" prefWidth=\"299.0\" /&gt;\n  &lt;/columnConstraints&gt;\n  &lt;rowConstraints&gt;\n      &lt;RowConstraints minHeight=\"10.0\" prefHeight=\"30.0\" vgrow=\"SOMETIMES\" /&gt;\n    &lt;RowConstraints minHeight=\"10.0\" prefHeight=\"30.0\" vgrow=\"SOMETIMES\" /&gt;\n    &lt;RowConstraints minHeight=\"10.0\" prefHeight=\"30.0\" vgrow=\"SOMETIMES\" /&gt;\n    &lt;RowConstraints minHeight=\"10.0\" prefHeight=\"30.0\" vgrow=\"SOMETIMES\" /&gt;\n  &lt;/rowConstraints&gt;\n   &lt;children&gt;\n      &lt;Text fx:id=\"celsius\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"Celsius:\" textAlignment=\"CENTER\" wrappingWidth=\"300.611328125\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Britannic Bold\" size=\"36.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/Text&gt;\n      &lt;Text fx:id=\"fahrenheit\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"Fahrenheit:\" textAlignment=\"CENTER\" wrappingWidth=\"302.3359375\" GridPane.rowIndex=\"1\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Britannic Bold\" size=\"36.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/Text&gt;\n      &lt;Text fx:id=\"kelvin\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"Kelvin:\" textAlignment=\"CENTER\" wrappingWidth=\"302.490234375\" GridPane.rowIndex=\"2\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Britannic Bold\" size=\"36.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/Text&gt;\n      &lt;TextField fx:id=\"textBox\" alignment=\"CENTER\" onAction=\"#getText\" text=\"0\" GridPane.columnIndex=\"1\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Britannic Bold\" size=\"36.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/TextField&gt;\n      &lt;Text fx:id=\"fahrenheitNumber\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"0\" textAlignment=\"CENTER\" wrappingWidth=\"300.97265625\" GridPane.columnIndex=\"1\" GridPane.rowIndex=\"1\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Britannic Bold\" size=\"36.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/Text&gt;\n      &lt;Text fx:id=\"kelvinNumber\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"0\" textAlignment=\"CENTER\" wrappingWidth=\"299.97265625\" GridPane.columnIndex=\"1\" GridPane.rowIndex=\"2\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Britannic Bold\" size=\"36.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/Text&gt;\n      &lt;Button fx:id=\"button\" mnemonicParsing=\"false\" onAction=\"#buttonClick\" prefHeight=\"25.0\" prefWidth=\"576.0\" text=\"Convert Now!\" translateX=\"10.0\" GridPane.columnSpan=\"2\" GridPane.rowIndex=\"3\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Britannic Bold\" size=\"39.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/Button&gt;\n   &lt;/children&gt;\n&lt;/GridPane&gt;\n</code></pre>\n\n<p>My controller class</p>\n\n<pre><code>package application;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.text.Text;\nimport javafx.event.ActionEvent;\n\npublic class SampleController {\n    @FXML\n    private Button button;\n    @FXML\n    private Text celsius;\n    @FXML\n    private Text fahrenheit;\n    @FXML\n    private Text kelvin;\n    @FXML\n    private Text fahrenheitNumber;\n    @FXML\n    private Text kelvinNumber;\n    @FXML\n    private TextField textBox;\n\n    public void buttonClick(ActionEvent event) {\n        int x = Integer.parseInt(textBox.getText());\n        fahrenheitNumber.setText(Integer.toString(x * (9 / 5) + 32));\n        kelvinNumber.setText(Double.toString(x + 273.15));\n    }\n}\n</code></pre>\n\n<p>A window should be shown but instead, this is thrown.</p>\n\n<p>javafx.fxml.LoadException: Error resolving onAction='#getText', either the event handler is not in the Namespace or there is an error in the script.\n/C:/Users/user/eclipse-workspace/JavaFXSceneBuilder/bin/application/Sample.fxml:42</p>\n\n<pre><code>at javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2621)\nat javafx.fxml/javafx.fxml.FXMLLoader.access$100(FXMLLoader.java:105)\nat javafx.fxml/javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:618)\nat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:778)\nat javafx.fxml/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2838)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2557)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\nat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\nat hellofxmlcode/application.Main.start(Main.java:14)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\nat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\nat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\nat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\nat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\nat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\nat java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n"},{"tags":["java","arrays","random","seed"],"answers":[{"comments":[{"owner":{"account_id":24606867,"reputation":21,"user_id":18508953,"display_name":"JG2022"},"score":0,"creation_date":1678649775,"post_id":75712596,"comment_id":133570372,"body_markdown":"Thank you for your solution but your output is incorrect. The output needs to be for when the input value is 5 and seed is 22, needs to be:\n\n\nPlease enter a seed number for testing purposes.\n\n   2   1   1   5   3\n   4   2   4   3   5","body":"Thank you for your solution but your output is incorrect. The output needs to be for when the input value is 5 and seed is 22, needs to be:   Please enter a seed number for testing purposes.     2   1   1   5   3    4   2   4   3   5"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1678696604,"post_id":75712596,"comment_id":133576642,"body_markdown":"@JG2022 If you want an exact output then you cant use `java.util.Random`. I assume that this is a project for school, if so, then you should have been given more information about how the seed needs to work, and what the rules are so that it produces the same output each time. You will need to use that seed information to create the logic yourself. For more help please edit your question to include the extra information about the seed function.","body":"@JG2022 If you want an exact output then you cant use <code>java.util.Random</code>. I assume that this is a project for school, if so, then you should have been given more information about how the seed needs to work, and what the rules are so that it produces the same output each time. You will need to use that seed information to create the logic yourself. For more help please edit your question to include the extra information about the seed function."}],"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678618179,"creation_date":1678618179,"answer_id":75712596,"question_id":75712436,"body_markdown":"You are very close to the solution. The following line is the key, and will need to be un-commented:\r\n\r\n    Collections.shuffle(pairs, new java.util.Random(seed));\r\n\r\nYou don&#39;t need to play with `index` and `number` in your final loop, you can simply use exactly the same loop structure as the first time because `Collections.shuffle` does all the work for us. The working final loop could look like this using your code:\r\n\r\n    Collections.shuffle(pairs, new java.util.Random(seed));\r\n\r\n    // Print the pairs in a table with a max of 5 numbers per row\r\n    newLine = 0;\r\n    for (i = 0; i &lt; count; i++) {\r\n        int pair = pairs.get(i);\r\n        System.out.printf(&quot;%4d&quot;, pair);\r\n        System.out.print(&quot;&quot;);\r\n        newLine = newLine + 1;\r\n\r\n        if (newLine == 5) {\r\n            System.out.println(&quot;&quot;);\r\n            // Reset lineCount back to 0 to allow for new calc to occur\r\n            newLine = 0;\r\n        }\r\n    }\r\n\r\nSo with this input:\r\n\r\n    5\r\n    22\r\n\r\nI get the following output:\r\n\r\n    Please enter the number of elements to be paired.\r\n    5\r\n       1   1   2   2   3\r\n       3   4   4   5   5\r\n    \r\n    Please enter a seed number for testing purposes.\r\n    \r\n    22\r\n       1   4   1   5   3\r\n       2   3   5   4   2","title":"Issues with seed value output of randomized values Java","body":"<p>You are very close to the solution. The following line is the key, and will need to be un-commented:</p>\n<pre><code>Collections.shuffle(pairs, new java.util.Random(seed));\n</code></pre>\n<p>You don't need to play with <code>index</code> and <code>number</code> in your final loop, you can simply use exactly the same loop structure as the first time because <code>Collections.shuffle</code> does all the work for us. The working final loop could look like this using your code:</p>\n<pre><code>Collections.shuffle(pairs, new java.util.Random(seed));\n\n// Print the pairs in a table with a max of 5 numbers per row\nnewLine = 0;\nfor (i = 0; i &lt; count; i++) {\n    int pair = pairs.get(i);\n    System.out.printf(&quot;%4d&quot;, pair);\n    System.out.print(&quot;&quot;);\n    newLine = newLine + 1;\n\n    if (newLine == 5) {\n        System.out.println(&quot;&quot;);\n        // Reset lineCount back to 0 to allow for new calc to occur\n        newLine = 0;\n    }\n}\n</code></pre>\n<p>So with this input:</p>\n<pre><code>5\n22\n</code></pre>\n<p>I get the following output:</p>\n<pre><code>Please enter the number of elements to be paired.\n5\n   1   1   2   2   3\n   3   4   4   5   5\n\nPlease enter a seed number for testing purposes.\n\n22\n   1   4   1   5   3\n   2   3   5   4   2\n</code></pre>\n"}],"owner":{"account_id":24606867,"reputation":21,"user_id":18508953,"display_name":"JG2022"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678618179,"creation_date":1678616172,"question_id":75712436,"body_markdown":"I am trying to build a program in java that a user inserts a value and with the numbers up to that value, a seed is used to pseudo-randomize the table of values. For example, if the user inputs 5, the program creates a 5x5 table that has every number up until one duplicated e.g \r\n\r\n[![this is the example][1]][1]\r\n\r\n\r\nAfter this, the table should be pseudo-randomized by another value the user is prompted to enter. My issue is that the values that are being randomized are incorrect, as per the below image where the numbers range from 1-5. as the user inputted 5,and is pseudo-randomized by the seed value of 22. Can someone please help? Thank you.\r\n\r\n[![Output of my program versus expected output][2]][2]\r\n\r\nThis is my code:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n\r\n    public class LabProgram {\r\n        public static void main(String[] args) {\r\n            Scanner scnr = new Scanner(System.in);\r\n            System.out.println(&quot;Please enter the number of elements to be paired.&quot;);\r\n            int input = scnr.nextInt();\r\n            // Initialize a 1D Array\r\n            int i = 0;\r\n            // Append duplicates of pair values 1-input \r\n            List&lt;Integer&gt; pairs = new ArrayList&lt;&gt;();\r\n            for (i = 1; i &lt;= input; i++) {\r\n                // Adds value twice to the array\r\n                pairs.add(i);\r\n                pairs.add(i);\r\n            }\r\n\r\n        // Prints pairs into a table and creates a new line every fifth value\r\n        int count = pairs.size();\r\n        int newLine = 0;\r\n        for (i = 0; i &lt; count; i++) {\r\n            int pair = pairs.get(i);\r\n            System.out.printf(&quot;%4d&quot;, pair);\r\n            System.out.print(&quot;&quot;);\r\n            newLine = newLine + 1;\r\n\r\n            if (newLine == 5) {\r\n                System.out.println(&quot;&quot;);\r\n                // Reset lineCount back to 0 to allow for new calc to occur\r\n                newLine = 0;\r\n            }\r\n        }\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Please enter a seed number for testing purposes.\\n&quot;);\r\n        int seed = scnr.nextInt();\r\n       // Collections.shuffle(pairs, new java.util.Random(seed));\r\n       Random randomGeneratorName = new Random(seed);\r\n\r\n        // Print the pairs in a table with a max of 5 numbers per row\r\n        count = pairs.size();\r\n        newLine = 0;\r\n        int[] usedNumbers = new int[input];\r\n        int unusedNumbers = input * 2;\r\n        for (i = 0; i &lt; count; i++) {\r\n            int index = pairs.get(i) - 1; // change index to start at 0\r\n            int number = index + 1; // change number to start at 1\r\n            if (usedNumbers[index] == 0) {\r\n                System.out.printf(&quot;%4d&quot;, number);\r\n                usedNumbers[index] = 1;\r\n                unusedNumbers--;\r\n                newLine++;\r\n                if (newLine == 5) {\r\n                    System.out.println();\r\n                    newLine = 0;\r\n                }\r\n            }\r\n        }\r\n        System.out.println();\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ELrew.png\r\n  [2]: https://i.stack.imgur.com/81yqH.png","title":"Issues with seed value output of randomized values Java","body":"<p>I am trying to build a program in java that a user inserts a value and with the numbers up to that value, a seed is used to pseudo-randomize the table of values. For example, if the user inputs 5, the program creates a 5x5 table that has every number up until one duplicated e.g</p>\n<p><a href=\"https://i.stack.imgur.com/ELrew.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ELrew.png\" alt=\"this is the example\" /></a></p>\n<p>After this, the table should be pseudo-randomized by another value the user is prompted to enter. My issue is that the values that are being randomized are incorrect, as per the below image where the numbers range from 1-5. as the user inputted 5,and is pseudo-randomized by the seed value of 22. Can someone please help? Thank you.</p>\n<p><a href=\"https://i.stack.imgur.com/81yqH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/81yqH.png\" alt=\"Output of my program versus expected output\" /></a></p>\n<p>This is my code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class LabProgram {\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        System.out.println(&quot;Please enter the number of elements to be paired.&quot;);\n        int input = scnr.nextInt();\n        // Initialize a 1D Array\n        int i = 0;\n        // Append duplicates of pair values 1-input \n        List&lt;Integer&gt; pairs = new ArrayList&lt;&gt;();\n        for (i = 1; i &lt;= input; i++) {\n            // Adds value twice to the array\n            pairs.add(i);\n            pairs.add(i);\n        }\n\n    // Prints pairs into a table and creates a new line every fifth value\n    int count = pairs.size();\n    int newLine = 0;\n    for (i = 0; i &lt; count; i++) {\n        int pair = pairs.get(i);\n        System.out.printf(&quot;%4d&quot;, pair);\n        System.out.print(&quot;&quot;);\n        newLine = newLine + 1;\n\n        if (newLine == 5) {\n            System.out.println(&quot;&quot;);\n            // Reset lineCount back to 0 to allow for new calc to occur\n            newLine = 0;\n        }\n    }\n    System.out.println();\n\n    System.out.println(&quot;Please enter a seed number for testing purposes.\\n&quot;);\n    int seed = scnr.nextInt();\n   // Collections.shuffle(pairs, new java.util.Random(seed));\n   Random randomGeneratorName = new Random(seed);\n\n    // Print the pairs in a table with a max of 5 numbers per row\n    count = pairs.size();\n    newLine = 0;\n    int[] usedNumbers = new int[input];\n    int unusedNumbers = input * 2;\n    for (i = 0; i &lt; count; i++) {\n        int index = pairs.get(i) - 1; // change index to start at 0\n        int number = index + 1; // change number to start at 1\n        if (usedNumbers[index] == 0) {\n            System.out.printf(&quot;%4d&quot;, number);\n            usedNumbers[index] = 1;\n            unusedNumbers--;\n            newLine++;\n            if (newLine == 5) {\n                System.out.println();\n                newLine = 0;\n            }\n        }\n    }\n    System.out.println();\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","annotations","spring-aop"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1618798553,"post_id":67155048,"comment_id":118703231,"body_markdown":"You don&#39;t need to provide your actual source code, an example which produces the problem is fine.","body":"You don&#39;t need to provide your actual source code, an example which produces the problem is fine."},{"owner":{"account_id":17965198,"reputation":75,"user_id":13055225,"display_name":"mat_e_44"},"score":0,"creation_date":1618802132,"post_id":67155048,"comment_id":118703785,"body_markdown":"I&#39;ve updated the description with an example to reproduce the problem.","body":"I&#39;ve updated the description with an example to reproduce the problem."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1618814180,"post_id":67155048,"comment_id":118706289,"body_markdown":"Please learn what an [MCVE](https://stackoverflow.com/help/mcve) is and why your question is not one. You describe problems with two conflicting aspects, only posting one of them. That is counter-productive, because it leaves too much room for speculation and likely leads to iterations of comments back and forth, which is avoidable in this case. SO is not a discussion forum but a Q/A site. So the more precise you ask, the more precise the answer shall be. Help yourself by helping others reproducing your problem. _Dunny_ probably guessed right what you want here, but still he had to guess.","body":"Please learn what an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> is and why your question is not one. You describe problems with two conflicting aspects, only posting one of them. That is counter-productive, because it leaves too much room for speculation and likely leads to iterations of comments back and forth, which is avoidable in this case. SO is not a discussion forum but a Q/A site. So the more precise you ask, the more precise the answer shall be. Help yourself by helping others reproducing your problem. <i>Dunny</i> probably guessed right what you want here, but still he had to guess."},{"owner":{"account_id":17965198,"reputation":75,"user_id":13055225,"display_name":"mat_e_44"},"score":0,"creation_date":1618816505,"post_id":67155048,"comment_id":118707146,"body_markdown":"@kriegaex, thanks for the feedback. I&#39;ve added in the aspect for `Log`.","body":"@kriegaex, thanks for the feedback. I&#39;ve added in the aspect for <code>Log</code>."}],"answers":[{"comments":[{"owner":{"account_id":17965198,"reputation":75,"user_id":13055225,"display_name":"mat_e_44"},"score":0,"creation_date":1618812608,"post_id":67156697,"comment_id":118705797,"body_markdown":"Thanks for your response. Does using `@Order` work if we sometimes want the `@Log` aspect not to run at all?","body":"Thanks for your response. Does using <code>@Order</code> work if we sometimes want the <code>@Log</code> aspect not to run at all?"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1618812651,"post_id":67156697,"comment_id":118705810,"body_markdown":"From my understanding yes, if you don&#39;t call `joinPoint.proceed();` in an advice, all following advices will not be executed as well as the method itself. It will not work however, if you just don&#39;t want to execute the Log advice, but still want to call the underlying method or other advices following. Then you would need to add some logic to the Log advice itself to determine, if you want to create a log statement.","body":"From my understanding yes, if you don&#39;t call <code>joinPoint.proceed();</code> in an advice, all following advices will not be executed as well as the method itself. It will not work however, if you just don&#39;t want to execute the Log advice, but still want to call the underlying method or other advices following. Then you would need to add some logic to the Log advice itself to determine, if you want to create a log statement."},{"owner":{"account_id":17965198,"reputation":75,"user_id":13055225,"display_name":"mat_e_44"},"score":0,"creation_date":1618816674,"post_id":67156697,"comment_id":118707201,"body_markdown":"I&#39;ve given this a try, but it&#39;s throwing an exception. From my research I think this is because the logic inside the method annotated with `@Annotation1` executes inside another thread (I&#39;ll update the description in a moment with that info. I didn&#39;t think it was relevant, but can now see that it might be). Another stackoverflow post explains that for a method to execute in another thread, we need to make sure that it has the highest order value, but in my case we want the lowest value - https://stackoverflow.com/questions/7147031/spring-aspect-fails-when-join-point-is-invoked-in-new-thread","body":"I&#39;ve given this a try, but it&#39;s throwing an exception. From my research I think this is because the logic inside the method annotated with <code>@Annotation1</code> executes inside another thread (I&#39;ll update the description in a moment with that info. I didn&#39;t think it was relevant, but can now see that it might be). Another stackoverflow post explains that for a method to execute in another thread, we need to make sure that it has the highest order value, but in my case we want the lowest value - <a href=\"https://stackoverflow.com/questions/7147031/spring-aspect-fails-when-join-point-is-invoked-in-new-thread\" title=\"spring aspect fails when join point is invoked in new thread\">stackoverflow.com/questions/7147031/&hellip;</a>"},{"owner":{"account_id":17965198,"reputation":75,"user_id":13055225,"display_name":"mat_e_44"},"score":0,"creation_date":1618816736,"post_id":67156697,"comment_id":118707222,"body_markdown":"Exception:\n\nNo MethodInvocation found: Check that an AOP invocation is in progress and that the ExposeInvocationInterceptor is upfront in the interceptor chain. Specifically, note that advices with order HIGHEST_PRECEDENCE will execute before ExposeInvocationInterceptor! In addition, ExposeInvocationInterceptor and ExposeInvocationInterceptor.currentInvocation() must be invoked from the same thread.\n...","body":"Exception:  No MethodInvocation found: Check that an AOP invocation is in progress and that the ExposeInvocationInterceptor is upfront in the interceptor chain. Specifically, note that advices with order HIGHEST_PRECEDENCE will execute before ExposeInvocationInterceptor! In addition, ExposeInvocationInterceptor and ExposeInvocationInterceptor.currentInvocation() must be invoked from the same thread. ..."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1618817197,"post_id":67156697,"comment_id":118707400,"body_markdown":"Please edit the question and just leave a short comment about the update, rather than posting exceptions and other technical information as unformatted comments. IMO your situation is too complex to deal with by just posting an incoherent set of code snippets which **you** think are relevant. You don&#39;t know the answer to your question, so you have no way of knowing what causes it. Please condense the problem into an [MCVE](https://stackoverflow.com/help/mcve) and post it on GitHub. I need to reproduce it, then probably I can help you. I dislike guessing and speculating.","body":"Please edit the question and just leave a short comment about the update, rather than posting exceptions and other technical information as unformatted comments. IMO your situation is too complex to deal with by just posting an incoherent set of code snippets which <b>you</b> think are relevant. You don&#39;t know the answer to your question, so you have no way of knowing what causes it. Please condense the problem into an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> and post it on GitHub. I need to reproduce it, then probably I can help you. I dislike guessing and speculating."},{"owner":{"account_id":17965198,"reputation":75,"user_id":13055225,"display_name":"mat_e_44"},"score":0,"creation_date":1618889630,"post_id":67156697,"comment_id":118732994,"body_markdown":"I&#39;ve updated the description with more info to help reproduce the problem, and an extra note about the `@Order`. I&#39;m not sure of the reason, but this time when I tried `@Order` it doesn&#39;t give an exception but instead fails to receive messages at all.\n\nBefore posting on GitHub I&#39;d like to hear your thoughts now that I&#39;ve provided some more info about the problem.","body":"I&#39;ve updated the description with more info to help reproduce the problem, and an extra note about the <code>@Order</code>. I&#39;m not sure of the reason, but this time when I tried <code>@Order</code> it doesn&#39;t give an exception but instead fails to receive messages at all.  Before posting on GitHub I&#39;d like to hear your thoughts now that I&#39;ve provided some more info about the problem."}],"tags":[],"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618812327,"creation_date":1618812327,"answer_id":67156697,"question_id":67155048,"body_markdown":"You can add the `@Order` annotation on the two aspects to define the ordering. If it&#39;s not provided, the execution order of aspects is undefined. \r\nFor example, if the Log aspect should always be executed as the last advice, no matter what other advices there are, give it e.g. an order of 10000, and all other advices lower numbers (lower numbers are executed first).\r\n\r\nDocumentation: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-ordering","title":"Advice precedence problem when one @Around advice does not proceed","body":"<p>You can add the <code>@Order</code> annotation on the two aspects to define the ordering. If it's not provided, the execution order of aspects is undefined.\nFor example, if the Log aspect should always be executed as the last advice, no matter what other advices there are, give it e.g. an order of 10000, and all other advices lower numbers (lower numbers are executed first).</p>\n<p>Documentation: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-ordering\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-ordering</a></p>\n"},{"comments":[{"owner":{"account_id":17965198,"reputation":75,"user_id":13055225,"display_name":"mat_e_44"},"score":0,"creation_date":1619052651,"post_id":67173325,"comment_id":118791014,"body_markdown":"I&#39;ve given your sample code a try. It works for me if I don&#39;t care about the Kafka message. But if I try to add the Kafka message as a param to the joinpoint (if that&#39;s the right word to use here?) then I get an exception. I&#39;ve updated the description above with some details.\n\nAny ideas?\n\nThanks again for your help","body":"I&#39;ve given your sample code a try. It works for me if I don&#39;t care about the Kafka message. But if I try to add the Kafka message as a param to the joinpoint (if that&#39;s the right word to use here?) then I get an exception. I&#39;ve updated the description above with some details.  Any ideas?  Thanks again for your help"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1619153089,"post_id":67173325,"comment_id":118823779,"body_markdown":"I updated my answer in response to your follow-up question yesterday, but forgot to notify you. Please take a look, then accept + upvote the answer. I think I did more than enough to answer your questions (plural), even the modified one after you updated your original one.","body":"I updated my answer in response to your follow-up question yesterday, but forgot to notify you. Please take a look, then accept + upvote the answer. I think I did more than enough to answer your questions (plural), even the modified one after you updated your original one."},{"owner":{"account_id":17965198,"reputation":75,"user_id":13055225,"display_name":"mat_e_44"},"score":0,"creation_date":1619155728,"post_id":67173325,"comment_id":118824301,"body_markdown":"Yes, I saw that you updated your response. Thanks. I&#39;ve been busy with other things today, but will try out your updated sample soon.","body":"Yes, I saw that you updated your response. Thanks. I&#39;ve been busy with other things today, but will try out your updated sample soon."},{"owner":{"account_id":17965198,"reputation":75,"user_id":13055225,"display_name":"mat_e_44"},"score":0,"creation_date":1619415487,"post_id":67173325,"comment_id":118888280,"body_markdown":"Sorry for the delay, but I&#39;ve finally used your suggested approach in my app and it&#39;s working. I&#39;ve accepted and upvoted your answer.","body":"Sorry for the delay, but I&#39;ve finally used your suggested approach in my app and it&#39;s working. I&#39;ve accepted and upvoted your answer."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1619068179,"creation_date":1618898743,"answer_id":67173325,"question_id":67155048,"body_markdown":"Because of [this problem](https://github.com/spring-projects/spring-framework/issues/16956#issuecomment-822988103), you need to use `@Order(value = Ordered.HIGHEST_PRECEDENCE)` on `PollableStreamListenerAspect`. Quite weird indeed, but then it works as you wish it to. IMO the issue ought to be fixed in Spring, though. Having to use this workaround is ugly and only works if your aspect calling `proceed()` asynchronously actually does have the highest precedence, which is not always the case. As an alternative, you could use native AspectJ and its own concept of declaring advice precedence, which is independent of Spring internals.\r\n\r\nHere is a simplified version of your application as an [MCVE](https://stackoverflow.com/help/mcve):\r\n\r\n**Annotations:**\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface CustomLogging {}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface PollableStreamListener {}\r\n```\r\n\r\n**Component with method carrying both annotations:**\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class MyComponent {\r\n  private int counter = 0;\r\n\r\n  @PollableStreamListener\r\n  @CustomLogging\r\n  public void submitDeletion() {\r\n    try {\r\n      System.out.println(&quot;  Starting processing #&quot; + ++counter);\r\n      Thread.sleep(1000);\r\n      System.out.println(&quot;  Finished processing #&quot; + counter);\r\n    }\r\n    catch (InterruptedException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**Aspects:**\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Aspect\r\n@Component\r\npublic class CustomLoggingAspect {\r\n  @Before(&quot;@annotation(de.scrum_master.spring.q67155048.CustomLogging)&quot;)\r\n  public void addCustomLogging() {\r\n    System.out.println(&quot;Logging&quot;);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\n@Aspect\r\n@Component\r\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\r\npublic class PollableStreamListenerAspect {\r\n  public static final ExecutorService EXECUTOR_SERVICE = Executors.newFixedThreadPool(1);\r\n  private volatile boolean paused = false;\r\n\r\n  @Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener)&quot;)\r\n  public void receiveMessage(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    System.out.println(&quot;Receiving message&quot;);\r\n    if (!paused) {\r\n      // The separate thread is not busy with a previous message, so process this message:\r\n      Runnable runnable = () -&gt; {\r\n        try {\r\n          paused = true;\r\n          joinPoint.proceed();\r\n        }\r\n        catch (Throwable throwable) {\r\n          throwable.printStackTrace();\r\n        }\r\n        finally {\r\n          paused = false;\r\n        }\r\n      };\r\n      EXECUTOR_SERVICE.submit(runnable);\r\n    }\r\n    else {\r\n      System.out.println(&quot;  Re-queue&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**Driver application:**\r\n\r\nThe application calls the target method every 500 ms, but execution takes 1,000 ms. So we expect to see ~50% of the calls being re-queued without any logging in that case, because the higher precedence aspect does not proceed to the target method.\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@SpringBootApplication\r\n@Configuration\r\npublic class DemoApplication {\r\n  public static void main(String[] args) throws InterruptedException {\r\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\r\n      doStuff(appContext);\r\n    }\r\n  }\r\n\r\n  private static void doStuff(ConfigurableApplicationContext appContext) throws InterruptedException {\r\n    MyComponent myComponent = appContext.getBean(MyComponent.class);\r\n    for (int i = 0; i &lt; 10; i++) {\r\n      myComponent.submitDeletion();\r\n      Thread.sleep(500);\r\n    }\r\n    // This is just to make the application exit cleanly\r\n    PollableStreamListenerAspect.EXECUTOR_SERVICE.shutdown();\r\n  }\r\n}\r\n```\r\n\r\n**Console log:**\r\n\r\n```none\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.1.8.RELEASE)\r\n\r\n2021-04-20 12:56:03.675  INFO 13560 --- [           main] d.s.spring.q67155048.DemoApplication     : Starting DemoApplication on Xander-Ultrabook with PID 13560 (C:\\Users\\alexa\\Documents\\java-src\\spring-aop-playground\\target\\classes started by alexa in C:\\Users\\alexa\\Documents\\java-src\\spring-aop-playground)\r\n...\r\n2021-04-20 12:56:07.666  INFO 13560 --- [           main] d.s.spring.q67155048.DemoApplication     : Started DemoApplication in 4.65 seconds (JVM running for 7.181)\r\nReceiving message\r\nLogging\r\n  Starting processing #1\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #1\r\nReceiving message\r\nLogging\r\n  Starting processing #2\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #2\r\nReceiving message\r\nLogging\r\n  Starting processing #3\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #3\r\nReceiving message\r\nLogging\r\n  Starting processing #4\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #4\r\nReceiving message\r\nLogging\r\n  Starting processing #5\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #5\r\n2021-04-20 12:56:12.767  INFO 13560 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n...\r\n```\r\n\r\nSee? We count 10x &quot;Receiving message&quot;, but only 5x &quot;Re-queue&quot; and 5x &quot;Logging&quot;. Please note that I numbered the processing calls because they are asynchronous. That way it is easier to follow when they start and finish.\r\n\r\n---\r\n\r\n**Update in response to user comment:**\r\n\r\nI have updated my MCVE in order to reproduce your problem with the parameter binding. The new or changed files are:\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\npublic class Message&lt;T&gt; {\r\n  private T content;\r\n\r\n  public Message(T content) {\r\n    this.content = content;\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return &quot;Message{&quot; +\r\n      &quot;content=&quot; + content +\r\n      &#39;}&#39;;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@SpringBootApplication\r\n@Configuration\r\npublic class DemoApplication {\r\n  public static void main(String[] args) throws InterruptedException {\r\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\r\n      doStuff(appContext);\r\n    }\r\n  }\r\n\r\n  private static void doStuff(ConfigurableApplicationContext appContext) throws InterruptedException {\r\n    MyComponent myComponent = appContext.getBean(MyComponent.class);\r\n    Message&lt;String&gt; message = new Message&lt;&gt;(&quot;Hi there!&quot;);\r\n    for (int i = 0; i &lt; 10; i++) {\r\n      myComponent.submitDeletion(message);\r\n      Thread.sleep(500);\r\n    }\r\n    // This is just to make the application exit cleanly\r\n    PollableStreamListenerAspect.EXECUTOR_SERVICE.shutdown();\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\n@Aspect\r\n@Component\r\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\r\npublic class PollableStreamListenerAspect {\r\n  public static final ExecutorService EXECUTOR_SERVICE = Executors.newFixedThreadPool(1);\r\n  private volatile boolean paused = false;\r\n\r\n  @Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener) &amp;&amp; args(dataCapsule, ..)&quot;)\r\n  public void receiveMessage(ProceedingJoinPoint joinPoint, Object dataCapsule) throws Throwable {\r\n    System.out.println(&quot;Receiving message&quot;);\r\n    if (!paused) {\r\n      // The separate thread is not busy with a previous message, so process this message:\r\n      Runnable runnable = () -&gt; {\r\n        try {\r\n          paused = true;\r\n          System.out.println(&quot;dataCapsule = &quot; + dataCapsule);\r\n          joinPoint.proceed();\r\n        }\r\n        catch (Throwable throwable) {\r\n          throwable.printStackTrace();\r\n        }\r\n        finally {\r\n          paused = false;\r\n        }\r\n      };\r\n      EXECUTOR_SERVICE.submit(runnable);\r\n    }\r\n    else {\r\n      System.out.println(&quot;  Re-queue&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis yields, according to your own experience:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.argBinding(AbstractAspectJAdvice.java:605)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\r\n\tat de.scrum_master.spring.q67155048.MyComponent$$EnhancerBySpringCGLIB$$4baa410d.submitDeletion(&lt;generated&gt;)\r\n\tat de.scrum_master.spring.q67155048.DemoApplication.doStuff(DemoApplication.java:21)\r\n\tat de.scrum_master.spring.q67155048.DemoApplication.main(DemoApplication.java:13)\r\n```\r\n\r\nYou are hitting [this problem](https://stackoverflow.com/a/54286747/1082681), and I have commented on the closed [Spring issue #16956](https://github.com/spring-projects/spring-framework/issues/16956#issuecomment-824536173) about it, hoping to get it repoened and someone to fix it.\r\n\r\nFor now, your workaround is not to use the elegant AOP argument binding but to fetch the parameter manually using `JoinPoint.getArgs()`:\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\n@Aspect\r\n@Component\r\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\r\npublic class PollableStreamListenerAspect {\r\n  public static final ExecutorService EXECUTOR_SERVICE = Executors.newFixedThreadPool(1);\r\n  private volatile boolean paused = false;\r\n\r\n  //@Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener) &amp;&amp; args(dataCapsule, ..)&quot;)\r\n  @Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener) &amp;&amp; execution(* *(*, ..))&quot;)\r\n  //public void receiveMessage(ProceedingJoinPoint joinPoint, Object dataCapsule) throws Throwable {\r\n  public void receiveMessage(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    Object dataCapsule = joinPoint.getArgs()[0];\r\n    System.out.println(&quot;Receiving message&quot;);\r\n    if (!paused) {\r\n      // The separate thread is not busy with a previous message, so process this message:\r\n      Runnable runnable = () -&gt; {\r\n        try {\r\n          paused = true;\r\n          System.out.println(&quot;dataCapsule = &quot; + dataCapsule);\r\n          joinPoint.proceed();\r\n        }\r\n        catch (Throwable throwable) {\r\n          throwable.printStackTrace();\r\n        }\r\n        finally {\r\n          paused = false;\r\n        }\r\n      };\r\n      EXECUTOR_SERVICE.submit(runnable);\r\n    }\r\n    else {\r\n      System.out.println(&quot;  Re-queue&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNow it works again like this:\r\n\r\n```none\r\nReceiving message\r\ndataCapsule = Message{content=Hi there!}\r\nLogging\r\n  Starting processing #1, message = Message{content=Hi there!}\r\nReceiving message\r\n  Re-queue\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #1, message = Message{content=Hi there!}\r\nReceiving message\r\ndataCapsule = Message{content=Hi there!}\r\nLogging\r\n  Starting processing #2, message = Message{content=Hi there!}\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #2, message = Message{content=Hi there!}\r\nReceiving message\r\ndataCapsule = Message{content=Hi there!}\r\nLogging\r\n  Starting processing #3, message = Message{content=Hi there!}\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #3, message = Message{content=Hi there!}\r\nReceiving message\r\ndataCapsule = Message{content=Hi there!}\r\nLogging\r\n  Starting processing #4, message = Message{content=Hi there!}\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #4, message = Message{content=Hi there!}\r\nReceiving message\r\ndataCapsule = Message{content=Hi there!}\r\nLogging\r\n  Starting processing #5, message = Message{content=Hi there!}\r\n```\r\n","title":"Advice precedence problem when one @Around advice does not proceed","body":"<p>Because of <a href=\"https://github.com/spring-projects/spring-framework/issues/16956#issuecomment-822988103\" rel=\"nofollow noreferrer\">this problem</a>, you need to use <code>@Order(value = Ordered.HIGHEST_PRECEDENCE)</code> on <code>PollableStreamListenerAspect</code>. Quite weird indeed, but then it works as you wish it to. IMO the issue ought to be fixed in Spring, though. Having to use this workaround is ugly and only works if your aspect calling <code>proceed()</code> asynchronously actually does have the highest precedence, which is not always the case. As an alternative, you could use native AspectJ and its own concept of declaring advice precedence, which is independent of Spring internals.</p>\n<p>Here is a simplified version of your application as an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>:</p>\n<p><strong>Annotations:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface CustomLogging {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PollableStreamListener {}\n</code></pre>\n<p><strong>Component with method carrying both annotations:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class MyComponent {\n  private int counter = 0;\n\n  @PollableStreamListener\n  @CustomLogging\n  public void submitDeletion() {\n    try {\n      System.out.println(&quot;  Starting processing #&quot; + ++counter);\n      Thread.sleep(1000);\n      System.out.println(&quot;  Finished processing #&quot; + counter);\n    }\n    catch (InterruptedException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p><strong>Aspects:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic class CustomLoggingAspect {\n  @Before(&quot;@annotation(de.scrum_master.spring.q67155048.CustomLogging)&quot;)\n  public void addCustomLogging() {\n    System.out.println(&quot;Logging&quot;);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n@Aspect\n@Component\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\npublic class PollableStreamListenerAspect {\n  public static final ExecutorService EXECUTOR_SERVICE = Executors.newFixedThreadPool(1);\n  private volatile boolean paused = false;\n\n  @Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener)&quot;)\n  public void receiveMessage(ProceedingJoinPoint joinPoint) throws Throwable {\n    System.out.println(&quot;Receiving message&quot;);\n    if (!paused) {\n      // The separate thread is not busy with a previous message, so process this message:\n      Runnable runnable = () -&gt; {\n        try {\n          paused = true;\n          joinPoint.proceed();\n        }\n        catch (Throwable throwable) {\n          throwable.printStackTrace();\n        }\n        finally {\n          paused = false;\n        }\n      };\n      EXECUTOR_SERVICE.submit(runnable);\n    }\n    else {\n      System.out.println(&quot;  Re-queue&quot;);\n    }\n  }\n}\n</code></pre>\n<p><strong>Driver application:</strong></p>\n<p>The application calls the target method every 500 ms, but execution takes 1,000 ms. So we expect to see ~50% of the calls being re-queued without any logging in that case, because the higher precedence aspect does not proceed to the target method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Configuration;\n\n@SpringBootApplication\n@Configuration\npublic class DemoApplication {\n  public static void main(String[] args) throws InterruptedException {\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\n      doStuff(appContext);\n    }\n  }\n\n  private static void doStuff(ConfigurableApplicationContext appContext) throws InterruptedException {\n    MyComponent myComponent = appContext.getBean(MyComponent.class);\n    for (int i = 0; i &lt; 10; i++) {\n      myComponent.submitDeletion();\n      Thread.sleep(500);\n    }\n    // This is just to make the application exit cleanly\n    PollableStreamListenerAspect.EXECUTOR_SERVICE.shutdown();\n  }\n}\n</code></pre>\n<p><strong>Console log:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.1.8.RELEASE)\n\n2021-04-20 12:56:03.675  INFO 13560 --- [           main] d.s.spring.q67155048.DemoApplication     : Starting DemoApplication on Xander-Ultrabook with PID 13560 (C:\\Users\\alexa\\Documents\\java-src\\spring-aop-playground\\target\\classes started by alexa in C:\\Users\\alexa\\Documents\\java-src\\spring-aop-playground)\n...\n2021-04-20 12:56:07.666  INFO 13560 --- [           main] d.s.spring.q67155048.DemoApplication     : Started DemoApplication in 4.65 seconds (JVM running for 7.181)\nReceiving message\nLogging\n  Starting processing #1\nReceiving message\n  Re-queue\n  Finished processing #1\nReceiving message\nLogging\n  Starting processing #2\nReceiving message\n  Re-queue\n  Finished processing #2\nReceiving message\nLogging\n  Starting processing #3\nReceiving message\n  Re-queue\n  Finished processing #3\nReceiving message\nLogging\n  Starting processing #4\nReceiving message\n  Re-queue\n  Finished processing #4\nReceiving message\nLogging\n  Starting processing #5\nReceiving message\n  Re-queue\n  Finished processing #5\n2021-04-20 12:56:12.767  INFO 13560 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n...\n</code></pre>\n<p>See? We count 10x &quot;Receiving message&quot;, but only 5x &quot;Re-queue&quot; and 5x &quot;Logging&quot;. Please note that I numbered the processing calls because they are asynchronous. That way it is easier to follow when they start and finish.</p>\n<hr />\n<p><strong>Update in response to user comment:</strong></p>\n<p>I have updated my MCVE in order to reproduce your problem with the parameter binding. The new or changed files are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\npublic class Message&lt;T&gt; {\n  private T content;\n\n  public Message(T content) {\n    this.content = content;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;Message{&quot; +\n      &quot;content=&quot; + content +\n      '}';\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Configuration;\n\n@SpringBootApplication\n@Configuration\npublic class DemoApplication {\n  public static void main(String[] args) throws InterruptedException {\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\n      doStuff(appContext);\n    }\n  }\n\n  private static void doStuff(ConfigurableApplicationContext appContext) throws InterruptedException {\n    MyComponent myComponent = appContext.getBean(MyComponent.class);\n    Message&lt;String&gt; message = new Message&lt;&gt;(&quot;Hi there!&quot;);\n    for (int i = 0; i &lt; 10; i++) {\n      myComponent.submitDeletion(message);\n      Thread.sleep(500);\n    }\n    // This is just to make the application exit cleanly\n    PollableStreamListenerAspect.EXECUTOR_SERVICE.shutdown();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n@Aspect\n@Component\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\npublic class PollableStreamListenerAspect {\n  public static final ExecutorService EXECUTOR_SERVICE = Executors.newFixedThreadPool(1);\n  private volatile boolean paused = false;\n\n  @Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener) &amp;&amp; args(dataCapsule, ..)&quot;)\n  public void receiveMessage(ProceedingJoinPoint joinPoint, Object dataCapsule) throws Throwable {\n    System.out.println(&quot;Receiving message&quot;);\n    if (!paused) {\n      // The separate thread is not busy with a previous message, so process this message:\n      Runnable runnable = () -&gt; {\n        try {\n          paused = true;\n          System.out.println(&quot;dataCapsule = &quot; + dataCapsule);\n          joinPoint.proceed();\n        }\n        catch (Throwable throwable) {\n          throwable.printStackTrace();\n        }\n        finally {\n          paused = false;\n        }\n      };\n      EXECUTOR_SERVICE.submit(runnable);\n    }\n    else {\n      System.out.println(&quot;  Re-queue&quot;);\n    }\n  }\n}\n</code></pre>\n<p>This yields, according to your own experience:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.argBinding(AbstractAspectJAdvice.java:605)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n    at de.scrum_master.spring.q67155048.MyComponent$$EnhancerBySpringCGLIB$$4baa410d.submitDeletion(&lt;generated&gt;)\n    at de.scrum_master.spring.q67155048.DemoApplication.doStuff(DemoApplication.java:21)\n    at de.scrum_master.spring.q67155048.DemoApplication.main(DemoApplication.java:13)\n</code></pre>\n<p>You are hitting <a href=\"https://stackoverflow.com/a/54286747/1082681\">this problem</a>, and I have commented on the closed <a href=\"https://github.com/spring-projects/spring-framework/issues/16956#issuecomment-824536173\" rel=\"nofollow noreferrer\">Spring issue #16956</a> about it, hoping to get it repoened and someone to fix it.</p>\n<p>For now, your workaround is not to use the elegant AOP argument binding but to fetch the parameter manually using <code>JoinPoint.getArgs()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n@Aspect\n@Component\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\npublic class PollableStreamListenerAspect {\n  public static final ExecutorService EXECUTOR_SERVICE = Executors.newFixedThreadPool(1);\n  private volatile boolean paused = false;\n\n  //@Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener) &amp;&amp; args(dataCapsule, ..)&quot;)\n  @Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener) &amp;&amp; execution(* *(*, ..))&quot;)\n  //public void receiveMessage(ProceedingJoinPoint joinPoint, Object dataCapsule) throws Throwable {\n  public void receiveMessage(ProceedingJoinPoint joinPoint) throws Throwable {\n    Object dataCapsule = joinPoint.getArgs()[0];\n    System.out.println(&quot;Receiving message&quot;);\n    if (!paused) {\n      // The separate thread is not busy with a previous message, so process this message:\n      Runnable runnable = () -&gt; {\n        try {\n          paused = true;\n          System.out.println(&quot;dataCapsule = &quot; + dataCapsule);\n          joinPoint.proceed();\n        }\n        catch (Throwable throwable) {\n          throwable.printStackTrace();\n        }\n        finally {\n          paused = false;\n        }\n      };\n      EXECUTOR_SERVICE.submit(runnable);\n    }\n    else {\n      System.out.println(&quot;  Re-queue&quot;);\n    }\n  }\n}\n</code></pre>\n<p>Now it works again like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Receiving message\ndataCapsule = Message{content=Hi there!}\nLogging\n  Starting processing #1, message = Message{content=Hi there!}\nReceiving message\n  Re-queue\nReceiving message\n  Re-queue\n  Finished processing #1, message = Message{content=Hi there!}\nReceiving message\ndataCapsule = Message{content=Hi there!}\nLogging\n  Starting processing #2, message = Message{content=Hi there!}\nReceiving message\n  Re-queue\n  Finished processing #2, message = Message{content=Hi there!}\nReceiving message\ndataCapsule = Message{content=Hi there!}\nLogging\n  Starting processing #3, message = Message{content=Hi there!}\nReceiving message\n  Re-queue\n  Finished processing #3, message = Message{content=Hi there!}\nReceiving message\ndataCapsule = Message{content=Hi there!}\nLogging\n  Starting processing #4, message = Message{content=Hi there!}\nReceiving message\n  Re-queue\n  Finished processing #4, message = Message{content=Hi there!}\nReceiving message\ndataCapsule = Message{content=Hi there!}\nLogging\n  Starting processing #5, message = Message{content=Hi there!}\n</code></pre>\n"}],"owner":{"account_id":17965198,"reputation":75,"user_id":13055225,"display_name":"mat_e_44"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1272,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67173325,"answer_count":2,"score":2,"last_activity_date":1678617928,"creation_date":1618796880,"question_id":67155048,"body_markdown":"**Updated to rephrase question with additional information**\r\n\r\nWe have two annotations:\r\n* `CustomLogging`\r\n* `PollableStreamListener`\r\n\r\nBoth are implemented using aspects with Spring AOP.\r\n\r\n`CustomLogging` annotation:\r\n```java\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface CustomLogging {\r\n\r\n}\r\n```\r\n\r\n`CustomLoggingAspect` class:\r\n```java\r\n@Aspect\r\n@Component\r\n@Slf4j\r\n@Order(value = 1)\r\npublic class CustomLoggingAspect {\r\n\r\n  @Before(&quot;@annotation(customLogging)&quot;)\r\n  public void addCustomLogging(CustomLogging customLogging) {\r\n    log.info(&quot;Logging some information&quot;);\r\n  }\r\n\r\n}\r\n```\r\n\r\n`PollableStreamListener` annotation:\r\n```java\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface PollableStreamListener {\r\n\r\n}\r\n```\r\n\r\n`PollableStreamListenerAspect` class:\r\n```java\r\n@Aspect\r\n@Component\r\n@Slf4j\r\npublic class PollableStreamListenerAspect {\r\n\r\n  private final ExecutorService executor = Executors.newFixedThreadPool(1);\r\n\r\n  private volatile boolean paused = false;\r\n\r\n  @Around(value = &quot;@annotation(pollableStreamListener) &amp;&amp; args(dataCapsule,..)&quot;)\r\n  public void receiveMessage(ProceedingJoinPoint joinPoint,\r\n      PollableStreamListener pollableStreamListener, Object dataCapsule) {\r\n    if (dataCapsule instanceof Message) {\r\n      Message&lt;?&gt; message = (Message&lt;?&gt;) dataCapsule;\r\n      AcknowledgmentCallback callback = StaticMessageHeaderAccessor\r\n          .getAcknowledgmentCallback(message);\r\n      callback.noAutoAck();\r\n\r\n      if (!paused) {\r\n        // The separate thread is not busy with a previous message, so process this message:\r\n        Runnable runnable = () -&gt; {\r\n          try {\r\n            paused = true;\r\n\r\n            // Call method to process this Kafka message\r\n            joinPoint.proceed();\r\n\r\n            callback.acknowledge(Status.ACCEPT);\r\n          } catch (Throwable e) {\r\n            callback.acknowledge(Status.REJECT);\r\n            throw new PollableStreamListenerException(e);\r\n          } finally {\r\n            paused = false;\r\n          }\r\n        };\r\n\r\n        executor.submit(runnable);\r\n      } else {\r\n        // The separate thread is busy with a previous message, so re-queue this message for later:\r\n        callback.acknowledge(Status.REQUEUE);\r\n        log.info(&quot;Re-queue&quot;);\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n```\r\n\r\nWe have a class called `CleanupController` which regularly executes according to a schedule.\r\n\r\n`CleanupController` class:\r\n```java\r\n@Scheduled(fixedDelayString = &quot;${app.pollable-consumer.time-interval}&quot;)\r\n  public void pollForDeletionRequest() {\r\n    log.trace(&quot;Polling for new messages&quot;);\r\n    cleanupInput.poll(cleanupSubmissionService::submitDeletion);\r\n  }\r\n```\r\n\r\nWhen the schedule executes, it calls a method in another class that is annotated with both `PollableStreamListener` and `CustomLogging`. I&#39;ve added a `Thread.sleep()` to imitate the method taking a while to execute.\r\n\r\n```java\r\n@PollableStreamListener\r\n  @CustomLogging\r\n  public void submitDeletion(Message&lt;?&gt; received) {\r\n    try {\r\n      log.info(&quot;Starting processing&quot;);\r\n      Thread.sleep(10000);\r\n      log.info(&quot;Finished processing&quot;);\r\n    } catch (Exception e) {\r\n      log.info(&quot;Error&quot;, e);\r\n    }\r\n  }\r\n```\r\n\r\nThe problem I&#39;m facing is that the output produced by `CustomLogging` is printed each time we poll for new messages using the `@Schedule`, but I only want it to print if the annotated method is actually executed (which may happen now, or may happen in the future depending on whether another message is currently being processed). This leads to confusing log messages because it implies that the message is being processed now when in fact it has been re-queued for future execution.\r\n\r\nIs there some way that we can make these annotations work well together so that the `CustomLogging` output only happens if the annotated method executes?\r\n\r\n\r\n--------\r\n\r\n**Update to use `@Order` on `PollableStreamListener`**\r\n\r\nAs per the suggestion of @dunni, I made the following changes to the original example above.\r\n\r\nSet the order of 1 on the `PollableStreamListenerAspect`:\r\n```java\r\n@Aspect\r\n@Component\r\n@Slf4j\r\n@Order(value = 1)\r\npublic class PollableStreamListenerAspect {\r\n...\r\n}\r\n```\r\n\r\nIncrease the order to 2 for `CustomLoggingAspect`:\r\n```java\r\n@Aspect\r\n@Component\r\n@Slf4j\r\n@Order(value = 2)\r\npublic class CustomLoggingAspect {\r\n...\r\n}\r\n```\r\n\r\nI found that after making these changes that the polling fails to detect new requests at all. It is the change on the `PollableStreamListenerAspect` that introduced this issue (I commented out that line and re-ran it, and things behaved as they did before).\r\n\r\n\r\n------------\r\n\r\n**Update to use `@Order(value = Ordered.HIGHEST_PRECEDENCE)` on `PollableStreamListener`**\r\n\r\nI&#39;ve updated the `PollableStreamListener` to use the `HIGHEST_PRECEDENCE` and update the `@Around` value:\r\n\r\n```java\r\n@Aspect\r\n@Component\r\n@Slf4j\r\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\r\npublic class PollableStreamListenerAspect {\r\n\r\n  private final ExecutorService executor = Executors.newFixedThreadPool(1);\r\n\r\n  private volatile boolean paused = false;\r\n\r\n  @Around(value = &quot;@annotation(au.com.brolly.commons.stream.PollableStreamListener)&quot;)\r\n  public void receiveMessage(ProceedingJoinPoint joinPoint) {\r\n    if (!paused) {\r\n      // The separate thread is not busy with a previous message, so process this message:\r\n      Runnable runnable = () -&gt; {\r\n        try {\r\n          paused = true;\r\n\r\n          // Call method to process this Kafka message\r\n          joinPoint.proceed();\r\n        } catch (Throwable e) {\r\n          e.printStackTrace();\r\n          throw new PollableStreamListenerException(e);\r\n        } finally {\r\n          paused = false;\r\n        }\r\n      };\r\n\r\n      executor.submit(runnable);\r\n    } else {\r\n      // The separate thread is busy with a previous message, so re-queue this message for later:\r\n      log.info(&quot;Re-queue&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis is partially working now. When I send a Kafka message, it gets processed, and the logging from the `CustomLogging` annotation only prints if another Kafka message isn&#39;t being processed. So far so good.\r\n\r\nThe next challenge is to get the `@Around` to accept the `Message` that is being provided via Kafka. I attempted this using the above example with the following lines changed:\r\n```java\r\n  @Around(value = &quot;@annotation(au.com.brolly.commons.stream.PollableStreamListener) &amp;&amp; args(dataCapsule,..)&quot;)\r\n  public void receiveMessage(ProceedingJoinPoint joinPoint, Object dataCapsule) {\r\n...\r\n}\r\n```\r\n\r\nThe server starts correctly, but when I publish a Kafka message then I get the following exception:\r\n\r\n```\r\n2021-04-22 10:38:00,055 ERROR [scheduling-1] org.springframework.core.log.LogAccessor: org.springframework.messaging.MessageHandlingException: nested exception is java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation), failedMessage=GenericMessage...\r\n\tat org.springframework.cloud.stream.binder.DefaultPollableMessageSource.doHandleMessage(DefaultPollableMessageSource.java:330)\r\n\tat org.springframework.cloud.stream.binder.DefaultPollableMessageSource.handle(DefaultPollableMessageSource.java:361)\r\n\tat org.springframework.cloud.stream.binder.DefaultPollableMessageSource.poll(DefaultPollableMessageSource.java:219)\r\n\tat org.springframework.cloud.stream.binder.DefaultPollableMessageSource.poll(DefaultPollableMessageSource.java:200)\r\n\tat org.springframework.cloud.stream.binder.DefaultPollableMessageSource.poll(DefaultPollableMessageSource.java:68)\r\n\tat xyx.pollForDeletionRequest(CleanupController.java:35)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.argBinding(AbstractAspectJAdvice.java:596)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n\tat xyz.CleanupSubmissionServiceImpl$$EnhancerBySpringCGLIB$$8737f6f8.submitDeletion(&lt;generated&gt;)\r\n\tat org.springframework.cloud.stream.binder.DefaultPollableMessageSource.doHandleMessage(DefaultPollableMessageSource.java:327)\r\n\t... 17 more\r\n```","title":"Advice precedence problem when one @Around advice does not proceed","body":"<p><strong>Updated to rephrase question with additional information</strong></p>\n<p>We have two annotations:</p>\n<ul>\n<li><code>CustomLogging</code></li>\n<li><code>PollableStreamListener</code></li>\n</ul>\n<p>Both are implemented using aspects with Spring AOP.</p>\n<p><code>CustomLogging</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface CustomLogging {\n\n}\n</code></pre>\n<p><code>CustomLoggingAspect</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@Slf4j\n@Order(value = 1)\npublic class CustomLoggingAspect {\n\n  @Before(&quot;@annotation(customLogging)&quot;)\n  public void addCustomLogging(CustomLogging customLogging) {\n    log.info(&quot;Logging some information&quot;);\n  }\n\n}\n</code></pre>\n<p><code>PollableStreamListener</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PollableStreamListener {\n\n}\n</code></pre>\n<p><code>PollableStreamListenerAspect</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@Slf4j\npublic class PollableStreamListenerAspect {\n\n  private final ExecutorService executor = Executors.newFixedThreadPool(1);\n\n  private volatile boolean paused = false;\n\n  @Around(value = &quot;@annotation(pollableStreamListener) &amp;&amp; args(dataCapsule,..)&quot;)\n  public void receiveMessage(ProceedingJoinPoint joinPoint,\n      PollableStreamListener pollableStreamListener, Object dataCapsule) {\n    if (dataCapsule instanceof Message) {\n      Message&lt;?&gt; message = (Message&lt;?&gt;) dataCapsule;\n      AcknowledgmentCallback callback = StaticMessageHeaderAccessor\n          .getAcknowledgmentCallback(message);\n      callback.noAutoAck();\n\n      if (!paused) {\n        // The separate thread is not busy with a previous message, so process this message:\n        Runnable runnable = () -&gt; {\n          try {\n            paused = true;\n\n            // Call method to process this Kafka message\n            joinPoint.proceed();\n\n            callback.acknowledge(Status.ACCEPT);\n          } catch (Throwable e) {\n            callback.acknowledge(Status.REJECT);\n            throw new PollableStreamListenerException(e);\n          } finally {\n            paused = false;\n          }\n        };\n\n        executor.submit(runnable);\n      } else {\n        // The separate thread is busy with a previous message, so re-queue this message for later:\n        callback.acknowledge(Status.REQUEUE);\n        log.info(&quot;Re-queue&quot;);\n      }\n    }\n  }\n\n}\n</code></pre>\n<p>We have a class called <code>CleanupController</code> which regularly executes according to a schedule.</p>\n<p><code>CleanupController</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(fixedDelayString = &quot;${app.pollable-consumer.time-interval}&quot;)\n  public void pollForDeletionRequest() {\n    log.trace(&quot;Polling for new messages&quot;);\n    cleanupInput.poll(cleanupSubmissionService::submitDeletion);\n  }\n</code></pre>\n<p>When the schedule executes, it calls a method in another class that is annotated with both <code>PollableStreamListener</code> and <code>CustomLogging</code>. I've added a <code>Thread.sleep()</code> to imitate the method taking a while to execute.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PollableStreamListener\n  @CustomLogging\n  public void submitDeletion(Message&lt;?&gt; received) {\n    try {\n      log.info(&quot;Starting processing&quot;);\n      Thread.sleep(10000);\n      log.info(&quot;Finished processing&quot;);\n    } catch (Exception e) {\n      log.info(&quot;Error&quot;, e);\n    }\n  }\n</code></pre>\n<p>The problem I'm facing is that the output produced by <code>CustomLogging</code> is printed each time we poll for new messages using the <code>@Schedule</code>, but I only want it to print if the annotated method is actually executed (which may happen now, or may happen in the future depending on whether another message is currently being processed). This leads to confusing log messages because it implies that the message is being processed now when in fact it has been re-queued for future execution.</p>\n<p>Is there some way that we can make these annotations work well together so that the <code>CustomLogging</code> output only happens if the annotated method executes?</p>\n<hr />\n<p><strong>Update to use <code>@Order</code> on <code>PollableStreamListener</code></strong></p>\n<p>As per the suggestion of @dunni, I made the following changes to the original example above.</p>\n<p>Set the order of 1 on the <code>PollableStreamListenerAspect</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@Slf4j\n@Order(value = 1)\npublic class PollableStreamListenerAspect {\n...\n}\n</code></pre>\n<p>Increase the order to 2 for <code>CustomLoggingAspect</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@Slf4j\n@Order(value = 2)\npublic class CustomLoggingAspect {\n...\n}\n</code></pre>\n<p>I found that after making these changes that the polling fails to detect new requests at all. It is the change on the <code>PollableStreamListenerAspect</code> that introduced this issue (I commented out that line and re-ran it, and things behaved as they did before).</p>\n<hr />\n<p><strong>Update to use <code>@Order(value = Ordered.HIGHEST_PRECEDENCE)</code> on <code>PollableStreamListener</code></strong></p>\n<p>I've updated the <code>PollableStreamListener</code> to use the <code>HIGHEST_PRECEDENCE</code> and update the <code>@Around</code> value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@Slf4j\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\npublic class PollableStreamListenerAspect {\n\n  private final ExecutorService executor = Executors.newFixedThreadPool(1);\n\n  private volatile boolean paused = false;\n\n  @Around(value = &quot;@annotation(au.com.brolly.commons.stream.PollableStreamListener)&quot;)\n  public void receiveMessage(ProceedingJoinPoint joinPoint) {\n    if (!paused) {\n      // The separate thread is not busy with a previous message, so process this message:\n      Runnable runnable = () -&gt; {\n        try {\n          paused = true;\n\n          // Call method to process this Kafka message\n          joinPoint.proceed();\n        } catch (Throwable e) {\n          e.printStackTrace();\n          throw new PollableStreamListenerException(e);\n        } finally {\n          paused = false;\n        }\n      };\n\n      executor.submit(runnable);\n    } else {\n      // The separate thread is busy with a previous message, so re-queue this message for later:\n      log.info(&quot;Re-queue&quot;);\n    }\n  }\n}\n</code></pre>\n<p>This is partially working now. When I send a Kafka message, it gets processed, and the logging from the <code>CustomLogging</code> annotation only prints if another Kafka message isn't being processed. So far so good.</p>\n<p>The next challenge is to get the <code>@Around</code> to accept the <code>Message</code> that is being provided via Kafka. I attempted this using the above example with the following lines changed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Around(value = &quot;@annotation(au.com.brolly.commons.stream.PollableStreamListener) &amp;&amp; args(dataCapsule,..)&quot;)\n  public void receiveMessage(ProceedingJoinPoint joinPoint, Object dataCapsule) {\n...\n}\n</code></pre>\n<p>The server starts correctly, but when I publish a Kafka message then I get the following exception:</p>\n<pre><code>2021-04-22 10:38:00,055 ERROR [scheduling-1] org.springframework.core.log.LogAccessor: org.springframework.messaging.MessageHandlingException: nested exception is java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation), failedMessage=GenericMessage...\n    at org.springframework.cloud.stream.binder.DefaultPollableMessageSource.doHandleMessage(DefaultPollableMessageSource.java:330)\n    at org.springframework.cloud.stream.binder.DefaultPollableMessageSource.handle(DefaultPollableMessageSource.java:361)\n    at org.springframework.cloud.stream.binder.DefaultPollableMessageSource.poll(DefaultPollableMessageSource.java:219)\n    at org.springframework.cloud.stream.binder.DefaultPollableMessageSource.poll(DefaultPollableMessageSource.java:200)\n    at org.springframework.cloud.stream.binder.DefaultPollableMessageSource.poll(DefaultPollableMessageSource.java:68)\n    at xyx.pollForDeletionRequest(CleanupController.java:35)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.argBinding(AbstractAspectJAdvice.java:596)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n    at xyz.CleanupSubmissionServiceImpl$$EnhancerBySpringCGLIB$$8737f6f8.submitDeletion(&lt;generated&gt;)\n    at org.springframework.cloud.stream.binder.DefaultPollableMessageSource.doHandleMessage(DefaultPollableMessageSource.java:327)\n    ... 17 more\n</code></pre>\n"},{"tags":["java","spring","tomcat","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1525087162,"post_id":50098806,"comment_id":87215237,"body_markdown":"Your aspect needs to be a `@Component` if you want it to be detected by component scan. It also needs to be in the package you specified for component scan.","body":"Your aspect needs to be a <code>@Component</code> if you want it to be detected by component scan. It also needs to be in the package you specified for component scan."},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1525091575,"post_id":50098806,"comment_id":87217726,"body_markdown":"I have added the @Component but it did not work either, the aspect is inside the package which i defined in the componentscan. I tried this by breaking some pointcut syntax and here i receive some &quot;Pointcut is not well formated exception&quot; so I guess that my LoggingAspect has been loaded, but somehow its not active?","body":"I have added the @Component but it did not work either, the aspect is inside the package which i defined in the componentscan. I tried this by breaking some pointcut syntax and here i receive some &quot;Pointcut is not well formated exception&quot; so I guess that my LoggingAspect has been loaded, but somehow its not active?"},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1525091712,"post_id":50098806,"comment_id":87217806,"body_markdown":"During startup I can see: 14:34:20 DEBUG Found AspectJ method: private java.lang.Object my.foobar.aspects.LoggingAspect","body":"During startup I can see: 14:34:20 DEBUG Found AspectJ method: private java.lang.Object my.foobar.aspects.LoggingAspect"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1525091860,"post_id":50098806,"comment_id":87217877,"body_markdown":"Make your `@Around` advice public, please. Spring needs to find it. If that is not enough, please also make the pointcuts public. And if both is not enough, tell me as a last step after making every method in the aspect public, what happens if you change the `completePackage()` pointcut to `execution(* *(..))`?","body":"Make your <code>@Around</code> advice public, please. Spring needs to find it. If that is not enough, please also make the pointcuts public. And if both is not enough, tell me as a last step after making every method in the aspect public, what happens if you change the <code>completePackage()</code> pointcut to <code>execution(* *(..))</code>?"},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1525092633,"post_id":50098806,"comment_id":87218358,"body_markdown":"I have changed the pointcuts to public also i tried to use your execution(* *(..)) but also with this change I do not receive any message from my LoggingAspect. Can it be a problem that I am trying this with an embedded tomcat by using gretty?","body":"I have changed the pointcuts to public also i tried to use your execution(* *(..)) but also with this change I do not receive any message from my LoggingAspect. Can it be a problem that I am trying this with an embedded tomcat by using gretty?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1525092937,"post_id":50098806,"comment_id":87218536,"body_markdown":"When changing the pointcut, did you do that **in addition** to making everything public, as I said? And are your target classes also components? Did you ever get _any_ Spring-AOP aspect running on your Tomcat based on a sample project or so? Probably you have some configuration issue. If all this guesswork (which I dislike anyway) does not help, please edit your question and provide an [MCVE](http://stackoverflow.com/help/mcve), optimally ready to clone and build with Maven on GitHub.","body":"When changing the pointcut, did you do that <b>in addition</b> to making everything public, as I said? And are your target classes also components? Did you ever get <i>any</i> Spring-AOP aspect running on your Tomcat based on a sample project or so? Probably you have some configuration issue. If all this guesswork (which I dislike anyway) does not help, please edit your question and provide an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>, optimally ready to clone and build with Maven on GitHub."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1525100111,"post_id":50098806,"comment_id":87223045,"body_markdown":"I just saw the Gretty remark. I did not even know what it is before I googled it, so I cannot say anything intelligent about it. Maybe keep it simple for starters and start Tomcat manually so as to exclude other possible error sources. Get the simplest possible setup running, then refine and automate it. That way you will find out what is wrong. Debugging with all bells and whistles activated is maybe a bit too ambitious if you are just starting with a new technology.","body":"I just saw the Gretty remark. I did not even know what it is before I googled it, so I cannot say anything intelligent about it. Maybe keep it simple for starters and start Tomcat manually so as to exclude other possible error sources. Get the simplest possible setup running, then refine and automate it. That way you will find out what is wrong. Debugging with all bells and whistles activated is maybe a bit too ambitious if you are just starting with a new technology."},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1525122862,"post_id":50098806,"comment_id":87233927,"body_markdown":"I tried it like you described with public pointcuts. My target classes are no components and till now i did not get it working on a tomact. Currently i deployed it, as you suggested,  on a default tomcat 8 installation without gretty stuff but this did not work as well. I will try to make a sample project to see if I get it running in a simple web-project.","body":"I tried it like you described with public pointcuts. My target classes are no components and till now i did not get it working on a tomact. Currently i deployed it, as you suggested,  on a default tomcat 8 installation without gretty stuff but this did not work as well. I will try to make a sample project to see if I get it running in a simple web-project."}],"answers":[{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1525135404,"post_id":50109788,"comment_id":87237340,"body_markdown":"I got to say I am somewhat disappointed for you cannibalising my comments into your own answer. You found my other answer, fine. But even in my previous comment I explicitly asked you if your target classes are `@Component`s and you said no before I could wake up and tell you that that is the problem. If you already answer your question and steal my points, can you at least describe what you did to solve your problem? Did you e.g. switch from Spring to AspectJ via LTW in your Spring configuration? See, that&#39;s exactly why I wanted an MCVE in order to answer your question.","body":"I got to say I am somewhat disappointed for you cannibalising my comments into your own answer. You found my other answer, fine. But even in my previous comment I explicitly asked you if your target classes are <code>@Component</code>s and you said no before I could wake up and tell you that that is the problem. If you already answer your question and steal my points, can you at least describe what you did to solve your problem? Did you e.g. switch from Spring to AspectJ via LTW in your Spring configuration? See, that&#39;s exactly why I wanted an MCVE in order to answer your question."},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1525168146,"post_id":50109788,"comment_id":87245790,"body_markdown":"Sorry to disappoint you, you were really helpful and i am grateful for you answers. I tried everything you described and with those answers and reading some documentation  I came to this conclusion. My solution is a bit disappointing I stopping my feature branch at this point because it currently to much effort to solve it, as I read and you answer suggest I need to switch to AspectJ via LTW. You can post an answer and I will accept it as solution (I dont want to steal anything), I guess you can summarize the topic better than me. So again thank you","body":"Sorry to disappoint you, you were really helpful and i am grateful for you answers. I tried everything you described and with those answers and reading some documentation  I came to this conclusion. My solution is a bit disappointing I stopping my feature branch at this point because it currently to much effort to solve it, as I read and you answer suggest I need to switch to AspectJ via LTW. You can post an answer and I will accept it as solution (I dont want to steal anything), I guess you can summarize the topic better than me. So again thank you"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1525656549,"post_id":50109788,"comment_id":87429135,"body_markdown":"Thanks for accepting my answer. So now please delete this redundant answer and all our comments with it. The whole question + answer looks cleaner and less redundant then.","body":"Thanks for accepting my answer. So now please delete this redundant answer and all our comments with it. The whole question + answer looks cleaner and less redundant then."}],"tags":[],"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525133011,"creation_date":1525133011,"answer_id":50109788,"question_id":50098806,"body_markdown":"I think I figured out my problem. I thought I could use just spring-aop as a standalone feature in my application. I was adding some JSP pages and used for this the first time spring-mvc and during this I saw spring-aop and thought why not using this for some additional measurements of my methods. My sample standalone application worked really good thats why i tried to adapt this to my existing application. But here the problem starts, the methods which I want to measure are not spring related so as posted here from @kriegaex here https://stackoverflow.com/questions/38043089/spring-aop-for-non-spring-component?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa this is not working","title":"Spring AOP not working in web-application on tomcat 8","body":"<p>I think I figured out my problem. I thought I could use just spring-aop as a standalone feature in my application. I was adding some JSP pages and used for this the first time spring-mvc and during this I saw spring-aop and thought why not using this for some additional measurements of my methods. My sample standalone application worked really good thats why i tried to adapt this to my existing application. But here the problem starts, the methods which I want to measure are not spring related so as posted here from @kriegaex here <a href=\"https://stackoverflow.com/questions/38043089/spring-aop-for-non-spring-component?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">Spring AOP for non spring component</a> this is not working</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1525224901,"creation_date":1525224901,"answer_id":50126022,"question_id":50098806,"body_markdown":"_Al Phaba_ wrote:\r\n\r\n&gt; I think I figured out my problem. I thought I could use just spring-aop as a standalone feature in my application. I was adding some JSP pages and used for this the first time spring-mvc and during this I saw spring-aop and thought why not using this for some additional measurements of my methods. My sample standalone application worked really good thats why i tried to adapt this to my existing application. But here the problem starts, the **methods** which I want to measure are **not spring related** so as posted from _kriegaex_ [here](https://stackoverflow.com/a/38158365/1082681) this is not working.\r\n\r\nYes, Spring relies on dynamic proxies (by default JDK proxies for classes implementing interfaces, CGLIB proxies for classes not implementing interfaces), and these proxies only work on Spring components because only those get proxied by Spring while wiring the application. AspectJ however weaves directly into the original class&#39;s bytecode and can be applied to non-Spring classes as well, as long as they are not already loaded when AspectJ is activated (e.g. JRE classes).\r\n\r\n&gt; My solution is a bit disappointing I stopping my feature branch at this point because it currently to much effort to solve it, as I read and you answer suggest I need to switch to AspectJ via LTW.\r\n\r\nWell, if your application is working already, if you do it right it is a matter of minutes to change the configuration from Spring AOP to AspectJ as described in the [Spring manual](https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-using-aspectj). I am encouraging you to give it a try, it is really not that hard. Good luck.","title":"Spring AOP not working in web-application on tomcat 8","body":"<p><em>Al Phaba</em> wrote:</p>\n\n<blockquote>\n  <p>I think I figured out my problem. I thought I could use just spring-aop as a standalone feature in my application. I was adding some JSP pages and used for this the first time spring-mvc and during this I saw spring-aop and thought why not using this for some additional measurements of my methods. My sample standalone application worked really good thats why i tried to adapt this to my existing application. But here the problem starts, the <strong>methods</strong> which I want to measure are <strong>not spring related</strong> so as posted from <em>kriegaex</em> <a href=\"https://stackoverflow.com/a/38158365/1082681\">here</a> this is not working.</p>\n</blockquote>\n\n<p>Yes, Spring relies on dynamic proxies (by default JDK proxies for classes implementing interfaces, CGLIB proxies for classes not implementing interfaces), and these proxies only work on Spring components because only those get proxied by Spring while wiring the application. AspectJ however weaves directly into the original class's bytecode and can be applied to non-Spring classes as well, as long as they are not already loaded when AspectJ is activated (e.g. JRE classes).</p>\n\n<blockquote>\n  <p>My solution is a bit disappointing I stopping my feature branch at this point because it currently to much effort to solve it, as I read and you answer suggest I need to switch to AspectJ via LTW.</p>\n</blockquote>\n\n<p>Well, if your application is working already, if you do it right it is a matter of minutes to change the configuration from Spring AOP to AspectJ as described in the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-using-aspectj\" rel=\"nofollow noreferrer\">Spring manual</a>. I am encouraging you to give it a try, it is really not that hard. Good luck.</p>\n"}],"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":859,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50126022,"answer_count":2,"score":0,"last_activity_date":1678617874,"creation_date":1525084786,"question_id":50098806,"body_markdown":"I want to use Spring AOP for some logging stuff in my application. I used AOP already in a standalone application and it worked but now with a web-app on a tomcat it&#39;s not working.\r\n\r\nI have a application-core and a application-web project, where in the core project all the logic happens and the web-project contains only the web-related stuff.\r\n\r\nFirst I tried to add my LoggingAspect class inside my core project, as this did not work I moved it now to the web project but although there it does not work.\r\n\r\n\r\nHere is my applicationContext.xml which is in folder: /application-web/src/main/webapp\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n            xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n            xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n            xsi:schemaLocation=&quot;\r\n                http://www.springframework.org/schema/beans\r\n                http://www.springframework.org/schema/beans/spring-beans.xsd\r\n                http://www.springframework.org/schema/context\r\n                http://www.springframework.org/schema/context/spring-context.xsd\r\n                http://www.springframework.org/schema/mvc\r\n                http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n                http://www.springframework.org/schema/aop\r\n                http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;\r\n\r\n            &lt;!-- Add AspectJ autoproxy support for AOP --&gt;\r\n            &lt;aop:aspectj-autoproxy/&gt;\r\n\r\n\r\n            &lt;!-- Step 3: Add support for component scanning --&gt;\r\n            &lt;context:component-scan base-package=&quot;my.foobar&quot;/&gt;\r\n\r\n            &lt;!-- Step 4: Add support for conversion, formatting and validation support --&gt;\r\n            &lt;mvc:annotation-driven/&gt;\r\n\r\n            &lt;!-- Step 5: Define Spring MVC view resolver --&gt;\r\n            &lt;bean\r\n                class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n                &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot; /&gt;\r\n                &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/beans&gt;\r\n\r\n\r\n\r\nAnd This is my LoggingAspect class which is now here located: application-web/src/main/my.foobar.web/aspects/LoggingAspect\r\n\r\n        @Aspect\r\n        @Order(1)\r\n        public class LoggingAspect {\r\n            private static final LogHandler LOG = LogHandler.getLogger(LoggingAspect.class);\r\n\r\n            @Pointcut(&quot;execution(* my.foobar.*.*.*(..))&quot;)\r\n            private void completePackage(){}\r\n\r\n            @Pointcut(&quot;execution(* my.foobar.*.*.get*(..))&quot;)\r\n            private void getterMethods(){}\r\n\r\n            @Pointcut(&quot;execution(* my.foobar.*.*.set*(..))&quot;)\r\n            private void setterMethods(){}\r\n\r\n            @Pointcut(&quot;completePackage() &amp;&amp; !(getterMethods() || setterMethods())&quot;)\r\n            private void allMethodsExceptGetterAndSetter(){}\r\n\r\n            @Around(&quot;completePackage()&quot;)\r\n            private Object aroundMethod(ProceedingJoinPoint theProceedingJointPoint) throws Throwable{\r\n                LOG.info(&quot;around method&quot;);\r\n                String method = theProceedingJointPoint.getSignature().getName();\r\n                Object[] arguments = theProceedingJointPoint.getArgs();\r\n\r\n                LOG.info(&quot;method call: {0}&quot;, method);                \r\n                for(Object arg: arguments){\r\n                    LOG.info(&quot;argument[{0}]&quot;, arg);\r\n                }\r\n\r\n                Object result = theProceedingJointPoint.proceed();\r\n                return result;\r\n            }\r\n\r\n        }\r\n\r\nI have also added a class to my application-web project\r\n\r\n    @Configurable\r\n    @EnableAspectJAutoProxy\r\n    @ComponentScan(&quot;my.foobar&quot;)\r\n    public class ApplicationWebAppConfig {\r\n\r\n    }\r\n\r\n\r\nWhat I expect is, that each method which is called will be logged but thats not happen.","title":"Spring AOP not working in web-application on tomcat 8","body":"<p>I want to use Spring AOP for some logging stuff in my application. I used AOP already in a standalone application and it worked but now with a web-app on a tomcat it's not working.</p>\n\n<p>I have a application-core and a application-web project, where in the core project all the logic happens and the web-project contains only the web-related stuff.</p>\n\n<p>First I tried to add my LoggingAspect class inside my core project, as this did not work I moved it now to the web project but although there it does not work.</p>\n\n<p>Here is my applicationContext.xml which is in folder: /application-web/src/main/webapp</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns:context=\"http://www.springframework.org/schema/context\"\n        xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n        xmlns:aop=\"http://www.springframework.org/schema/aop\"\n        xsi:schemaLocation=\"\n            http://www.springframework.org/schema/beans\n            http://www.springframework.org/schema/beans/spring-beans.xsd\n            http://www.springframework.org/schema/context\n            http://www.springframework.org/schema/context/spring-context.xsd\n            http://www.springframework.org/schema/mvc\n            http://www.springframework.org/schema/mvc/spring-mvc.xsd\n            http://www.springframework.org/schema/aop\n            http://www.springframework.org/schema/aop/spring-aop.xsd\"&gt;\n\n        &lt;!-- Add AspectJ autoproxy support for AOP --&gt;\n        &lt;aop:aspectj-autoproxy/&gt;\n\n\n        &lt;!-- Step 3: Add support for component scanning --&gt;\n        &lt;context:component-scan base-package=\"my.foobar\"/&gt;\n\n        &lt;!-- Step 4: Add support for conversion, formatting and validation support --&gt;\n        &lt;mvc:annotation-driven/&gt;\n\n        &lt;!-- Step 5: Define Spring MVC view resolver --&gt;\n        &lt;bean\n            class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n            &lt;property name=\"prefix\" value=\"/WEB-INF/view/\" /&gt;\n            &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n        &lt;/bean&gt;\n    &lt;/beans&gt;\n</code></pre>\n\n<p>And This is my LoggingAspect class which is now here located: application-web/src/main/my.foobar.web/aspects/LoggingAspect</p>\n\n<pre><code>    @Aspect\n    @Order(1)\n    public class LoggingAspect {\n        private static final LogHandler LOG = LogHandler.getLogger(LoggingAspect.class);\n\n        @Pointcut(\"execution(* my.foobar.*.*.*(..))\")\n        private void completePackage(){}\n\n        @Pointcut(\"execution(* my.foobar.*.*.get*(..))\")\n        private void getterMethods(){}\n\n        @Pointcut(\"execution(* my.foobar.*.*.set*(..))\")\n        private void setterMethods(){}\n\n        @Pointcut(\"completePackage() &amp;&amp; !(getterMethods() || setterMethods())\")\n        private void allMethodsExceptGetterAndSetter(){}\n\n        @Around(\"completePackage()\")\n        private Object aroundMethod(ProceedingJoinPoint theProceedingJointPoint) throws Throwable{\n            LOG.info(\"around method\");\n            String method = theProceedingJointPoint.getSignature().getName();\n            Object[] arguments = theProceedingJointPoint.getArgs();\n\n            LOG.info(\"method call: {0}\", method);                \n            for(Object arg: arguments){\n                LOG.info(\"argument[{0}]\", arg);\n            }\n\n            Object result = theProceedingJointPoint.proceed();\n            return result;\n        }\n\n    }\n</code></pre>\n\n<p>I have also added a class to my application-web project</p>\n\n<pre><code>@Configurable\n@EnableAspectJAutoProxy\n@ComponentScan(\"my.foobar\")\npublic class ApplicationWebAppConfig {\n\n}\n</code></pre>\n\n<p>What I expect is, that each method which is called will be logged but thats not happen.</p>\n"},{"tags":["java","spring","aop","spring-aop"],"comments":[{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1610178854,"post_id":65639913,"comment_id":116054919,"body_markdown":"the problem is not the exception not being catched, but `aroundAdviceDemo` not even being called at all (as it should show the first system.out you declared)","body":"the problem is not the exception not being catched, but <code>aroundAdviceDemo</code> not even being called at all (as it should show the first system.out you declared)"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1610417118,"post_id":65639913,"comment_id":116120603,"body_markdown":"Welcome to SO. It would be nice to show some respect towards the people who are trying to help you by replying to them. Your feedback would help us to finally resolve your issue, if for some reason none of the answers posted so far help you answer your question. If however one of them solves your problem, please be encouraged to mark it as accepted by clicking the grey check mark, making it green. &#128578;","body":"Welcome to SO. It would be nice to show some respect towards the people who are trying to help you by replying to them. Your feedback would help us to finally resolve your issue, if for some reason none of the answers posted so far help you answer your question. If however one of them solves your problem, please be encouraged to mark it as accepted by clicking the grey check mark, making it green. 🙂"}],"answers":[{"tags":[],"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610188191,"creation_date":1610178411,"answer_id":65640460,"question_id":65639913,"body_markdown":"Add `@EnableAspectJAutoProxy` to your spring config class (add to `MyAroundAspect.java` is OK).\r\n\r\nSpring Boot will automatically open this function with `@SpringBootApplication` as described [here](https://stackoverflow.com/a/48626789/9304616), so in normal spring boot application, it&#39;s not mandatory to mark this annotation manually. But in your case, you are starting the application manually, so it just not works.","title":"Not able to run @Advice catch Exception block","body":"<p>Add <code>@EnableAspectJAutoProxy</code> to your spring config class (add to <code>MyAroundAspect.java</code> is OK).</p>\n<p>Spring Boot will automatically open this function with <code>@SpringBootApplication</code> as described <a href=\"https://stackoverflow.com/a/48626789/9304616\">here</a>, so in normal spring boot application, it's not mandatory to mark this annotation manually. But in your case, you are starting the application manually, so it just not works.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610258018,"creation_date":1610184921,"answer_id":65641162,"question_id":65639913,"body_markdown":"Don&#39;t make your normal application class an `@Aspect`. Firstly, it does not make any sense. Secondly, Spring AOP aspects cannot advise each other, so you are effectively stopping yourself from achieving your goal, shooting yourself in the foot.\r\n\r\n---\r\n\r\n**Update:** I was talking about this:\r\n\r\n```java\r\n//@Aspect &lt;-- You got to get rid of this, the serice is not an aspect!\r\n@Component\r\npublic class TrafficFortuneService {\r\n  // (...)\r\n}\r\n```\r\n","title":"Not able to run @Advice catch Exception block","body":"<p>Don't make your normal application class an <code>@Aspect</code>. Firstly, it does not make any sense. Secondly, Spring AOP aspects cannot advise each other, so you are effectively stopping yourself from achieving your goal, shooting yourself in the foot.</p>\n<hr />\n<p><strong>Update:</strong> I was talking about this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//@Aspect &lt;-- You got to get rid of this, the serice is not an aspect!\n@Component\npublic class TrafficFortuneService {\n  // (...)\n}\n</code></pre>\n"}],"owner":{"account_id":20405832,"reputation":1,"user_id":14970415,"display_name":"NotAProgrammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678617854,"creation_date":1610172951,"question_id":65639913,"body_markdown":"This is my Aop Aspect that I have created to run after my main app throws an error.\r\n\r\n\r\n```java\r\npackage com.demo.aspects;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@Aspect\r\npublic class MyAroundAspect {\r\n\r\n  @Around(&quot;execution(* com.demo.aop.*.getFortune(..))&quot;)\r\n  public Object aroundAdviceDemo(ProceedingJoinPoint thePJP) throws Throwable\r\n  {\r\n    System.out.println(&quot;run this before the fortune method&quot;);\r\n\r\n    Object result = null;\r\n    try {\r\n      result = thePJP.proceed();\r\n    }\r\n    catch(Exception exc)\r\n    {   //this should run but is not running\r\n      System.out.println(&quot;Catching the &quot; + exc.getMessage());\r\n    }\r\n\r\n\r\n    System.out.println(&quot;Run this after the fortune service&quot;);\r\n\r\n    return result;\r\n  }\r\n}\r\n```\r\n\r\n\r\nThis is my trafficFortuneservuce class which has a method that is throwing an error and I am trying to catch that error using my @Around advice.\r\n\r\n```java\r\npackage com.demo.aop;\r\n\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Aspect\r\n@Component\r\npublic class TrafficFortuneService {\r\n\r\n  public String getFortune(boolean tripwire)\r\n  {\r\n    if(tripwire)\r\n    {    //this is running but it should go to the advice catch block\r\n      throw new RuntimeException(&quot;Inside run time exception in the fortune service&quot;);\r\n    }\r\n\r\n    return &quot;Today is your lucky day&quot;;\r\n  }\r\n}\r\n```\r\n\r\nThis is my main method class where I am running my app.\r\n\r\n```java\r\npackage com.demo.aop.app;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n\r\nimport com.demo.aop.Account;\r\nimport com.demo.aop.AccountDAO;\r\nimport com.demo.aop.AppConfig;\r\nimport com.demo.aop.MemberDAO;\r\nimport com.demo.aop.TrafficFortuneService;\r\n\r\npublic class AroundDemoApp {\r\n\r\n  public static void main(String[] args) {\r\n    //Getting context object\r\n    AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);\r\n    TrafficFortuneService theService = context.getBean(&quot;trafficFortuneService&quot;, TrafficFortuneService.class);\r\n    boolean tripwire = true;\r\n    String temp = \ttheService.getFortune(tripwire);\r\n\r\n    System.out.println(temp);\r\n\r\n    context.close();\r\n  }\r\n}\r\n```\r\n\r\nHere is the output, which is printing the message that I have declared in the `trafficfortuneservice` class\r\n\r\n```text\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Inside run time exception in the fortune service\r\n    at com.demo.aop.TrafficFortuneService.getFortune(TrafficFortuneService.java:15)\r\n    at com.demo.aop.app.AroundDemoApp.main(AroundDemoApp.java:20)\r\n```\r\n\r\n\r\n","title":"Not able to run @Advice catch Exception block","body":"<p>This is my Aop Aspect that I have created to run after my main app throws an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.demo.aspects;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Aspect\npublic class MyAroundAspect {\n\n  @Around(&quot;execution(* com.demo.aop.*.getFortune(..))&quot;)\n  public Object aroundAdviceDemo(ProceedingJoinPoint thePJP) throws Throwable\n  {\n    System.out.println(&quot;run this before the fortune method&quot;);\n\n    Object result = null;\n    try {\n      result = thePJP.proceed();\n    }\n    catch(Exception exc)\n    {   //this should run but is not running\n      System.out.println(&quot;Catching the &quot; + exc.getMessage());\n    }\n\n\n    System.out.println(&quot;Run this after the fortune service&quot;);\n\n    return result;\n  }\n}\n</code></pre>\n<p>This is my trafficFortuneservuce class which has a method that is throwing an error and I am trying to catch that error using my @Around advice.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.demo.aop;\n\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic class TrafficFortuneService {\n\n  public String getFortune(boolean tripwire)\n  {\n    if(tripwire)\n    {    //this is running but it should go to the advice catch block\n      throw new RuntimeException(&quot;Inside run time exception in the fortune service&quot;);\n    }\n\n    return &quot;Today is your lucky day&quot;;\n  }\n}\n</code></pre>\n<p>This is my main method class where I am running my app.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.demo.aop.app;\n\nimport java.util.List;\n\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\nimport com.demo.aop.Account;\nimport com.demo.aop.AccountDAO;\nimport com.demo.aop.AppConfig;\nimport com.demo.aop.MemberDAO;\nimport com.demo.aop.TrafficFortuneService;\n\npublic class AroundDemoApp {\n\n  public static void main(String[] args) {\n    //Getting context object\n    AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);\n    TrafficFortuneService theService = context.getBean(&quot;trafficFortuneService&quot;, TrafficFortuneService.class);\n    boolean tripwire = true;\n    String temp =   theService.getFortune(tripwire);\n\n    System.out.println(temp);\n\n    context.close();\n  }\n}\n</code></pre>\n<p>Here is the output, which is printing the message that I have declared in the <code>trafficfortuneservice</code> class</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Inside run time exception in the fortune service\n    at com.demo.aop.TrafficFortuneService.getFortune(TrafficFortuneService.java:15)\n    at com.demo.aop.app.AroundDemoApp.main(AroundDemoApp.java:20)\n</code></pre>\n"},{"tags":["java","intellij-idea","search","replace"],"answers":[{"comments":[{"owner":{"account_id":9339235,"reputation":53,"user_id":6932574,"display_name":"Fr&#233;d&#233;ric Thomas"},"score":0,"creation_date":1678584568,"post_id":75693549,"comment_id":133561971,"body_markdown":"It works like a charm, thanks!\n\nNote the issue link returns 404","body":"It works like a charm, thanks!  Note the issue link returns 404"},{"owner":{"account_id":3169,"reputation":24414,"user_id":4510,"display_name":"Bas Leijdekkers"},"score":0,"creation_date":1678616905,"post_id":75693549,"comment_id":133564979,"body_markdown":"Sorry, it was a copy-paste mistake. The link is fixed now.","body":"Sorry, it was a copy-paste mistake. The link is fixed now."}],"tags":[],"owner":{"account_id":3169,"reputation":24414,"user_id":4510,"display_name":"Bas Leijdekkers"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678616873,"creation_date":1678435326,"answer_id":75693549,"question_id":75675352,"body_markdown":"This appears to be a bug, I have filed [an issue](https://youtrack.jetbrains.com/issue/IDEA-315080/Comma-between-Java-type-parameter-is-lost-on-replacement)\r\n\r\n\r\nYou can work around the bug by using a replacement variable in the replacement template. The script on the replacement variable can calculate the correct type parameter from the complete type. The script looks like this: \r\n```\r\ndef x = Type.getInnermostComponentReferenceElement().getParameterList().getText()\r\nx.substring(1, x.length() - 1)\r\n```\r\nIt takes the type and retrieves its type parameter list converts it to text. Then the `&lt;` and `&gt;` are chopped off.\r\n\r\nHere is the complete configuration:\r\n```\r\n&lt;replaceConfiguration name=&quot;replace with var&quot; text=&quot;$Type$&amp;lt;$GenericArgument$&amp;gt; $Var$ = new $Ctor$&amp;lt;&amp;gt;($Params$);&quot; recursive=&quot;false&quot; type=&quot;JAVA&quot; pattern_context=&quot;default&quot; search_injected=&quot;false&quot; reformatAccordingToStyle=&quot;true&quot; shortenFQN=&quot;false&quot; replacement=&quot;var $Var$ = new $Ctor$&amp;lt;$GenericArgument2$&amp;gt;($Params$);&amp;#10;&quot;&gt;\r\n  &lt;constraint name=&quot;__context__&quot; script=&quot;&amp;quot;__context__.getParent() instanceof com.intellij.psi.PsiCodeBlock&amp;quot;&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n  &lt;constraint name=&quot;Type&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n  &lt;constraint name=&quot;GenericArgument&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n  &lt;constraint name=&quot;Var&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n  &lt;constraint name=&quot;Params&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n  &lt;constraint name=&quot;Ctor&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n  &lt;variableDefinition name=&quot;GenericArgument2&quot; script=&quot;&amp;quot;def x = Type.getInnermostComponentReferenceElement().getParameterList().getText()&amp;#10;x.substring(1, x.length() - 1)&amp;quot;&quot; /&gt;\r\n&lt;/replaceConfiguration&gt;\r\n```","title":"How to use structural search and replace in IntelliJ to convert Java generic declarations to var declarations in local scope only?","body":"<p>This appears to be a bug, I have filed <a href=\"https://youtrack.jetbrains.com/issue/IDEA-315080/Comma-between-Java-type-parameter-is-lost-on-replacement\" rel=\"nofollow noreferrer\">an issue</a></p>\n<p>You can work around the bug by using a replacement variable in the replacement template. The script on the replacement variable can calculate the correct type parameter from the complete type. The script looks like this:</p>\n<pre><code>def x = Type.getInnermostComponentReferenceElement().getParameterList().getText()\nx.substring(1, x.length() - 1)\n</code></pre>\n<p>It takes the type and retrieves its type parameter list converts it to text. Then the <code>&lt;</code> and <code>&gt;</code> are chopped off.</p>\n<p>Here is the complete configuration:</p>\n<pre><code>&lt;replaceConfiguration name=&quot;replace with var&quot; text=&quot;$Type$&amp;lt;$GenericArgument$&amp;gt; $Var$ = new $Ctor$&amp;lt;&amp;gt;($Params$);&quot; recursive=&quot;false&quot; type=&quot;JAVA&quot; pattern_context=&quot;default&quot; search_injected=&quot;false&quot; reformatAccordingToStyle=&quot;true&quot; shortenFQN=&quot;false&quot; replacement=&quot;var $Var$ = new $Ctor$&amp;lt;$GenericArgument2$&amp;gt;($Params$);&amp;#10;&quot;&gt;\n  &lt;constraint name=&quot;__context__&quot; script=&quot;&amp;quot;__context__.getParent() instanceof com.intellij.psi.PsiCodeBlock&amp;quot;&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n  &lt;constraint name=&quot;Type&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n  &lt;constraint name=&quot;GenericArgument&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n  &lt;constraint name=&quot;Var&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n  &lt;constraint name=&quot;Params&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n  &lt;constraint name=&quot;Ctor&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n  &lt;variableDefinition name=&quot;GenericArgument2&quot; script=&quot;&amp;quot;def x = Type.getInnermostComponentReferenceElement().getParameterList().getText()&amp;#10;x.substring(1, x.length() - 1)&amp;quot;&quot; /&gt;\n&lt;/replaceConfiguration&gt;\n</code></pre>\n"}],"owner":{"account_id":9339235,"reputation":53,"user_id":6932574,"display_name":"Fr&#233;d&#233;ric Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678616873,"creation_date":1678291228,"question_id":75675352,"body_markdown":"I am trying to create an inspection using a structural search and replace template in IntelliJ that will convert generic declarations to var declarations in local scope only. For example, I want to convert code like this:\r\n\r\n``` java\r\nMap&lt;String, List&lt;String&gt;&gt; myVar = new ConcurrentHashMap&lt;&gt;(10, 2);\r\n```\r\n\r\nto: \r\n``` java\r\nvar myVar = new ConcurrentHashMap&lt;String, List&lt;String&gt;&gt;(10, 2);\r\n```\r\n\r\nI&#39;ve created a search template that matches the generic declaration, and a replacement template that replaces it with the var declaration. I&#39;ve also added a script constraint to limit the search and replace to local scope only:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSearch: `$Type$&lt;$GenericArgument$&gt; $Var$ = new $Ctor$&lt;&gt;($Params$);`\r\n\r\nreplace:`var $Var$ = new $Ctor$&lt;$GenericArgument$&gt;($Params$);`\r\n\r\nFull replaceConfiguration:\r\n``` xml\r\n&lt;replaceConfiguration name=&quot;replace with var&quot; text=&quot;$Type$&amp;lt;$GenericArgument$&amp;gt; $Var$ = new $Ctor$&amp;lt;&amp;gt;($Params$);&quot; recursive=&quot;false&quot; caseInsensitive=&quot;true&quot; type=&quot;JAVA&quot; pattern_context=&quot;default&quot; reformatAccordingToStyle=&quot;true&quot; shortenFQN=&quot;true&quot; useStaticImport=&quot;true&quot; replacement=&quot;var $Var$ = new $Ctor$&amp;lt;$GenericArgument$&amp;gt;($Params$);&amp;#10;&quot;&gt;\r\n   &lt;constraint name=&quot;__context__&quot; script=&quot;&amp;quot;__context__.getParent() instanceof com.intellij.psi.PsiCodeBlock&amp;quot;&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n   &lt;constraint name=&quot;Type&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n   &lt;constraint name=&quot;GenericArgument&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n   &lt;constraint name=&quot;Var&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n   &lt;constraint name=&quot;Params&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n   &lt;constraint name=&quot;Ctor&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n&lt;/replaceConfiguration&gt;\r\n```\r\n\r\nHowever, when I run the structural search and replace, the resulting code is missing the comma between the generic arguments:\r\n\r\n``` java\r\nvar myVar = new ConcurrentHashMap&lt;String List&lt;String&gt;&gt;(10, 2);\r\n```\r\n\r\nHow can I modify my search and replace templates to include the comma between the generic arguments?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oNMJu.png","title":"How to use structural search and replace in IntelliJ to convert Java generic declarations to var declarations in local scope only?","body":"<p>I am trying to create an inspection using a structural search and replace template in IntelliJ that will convert generic declarations to var declarations in local scope only. For example, I want to convert code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;String&gt;&gt; myVar = new ConcurrentHashMap&lt;&gt;(10, 2);\n</code></pre>\n<p>to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var myVar = new ConcurrentHashMap&lt;String, List&lt;String&gt;&gt;(10, 2);\n</code></pre>\n<p>I've created a search template that matches the generic declaration, and a replacement template that replaces it with the var declaration. I've also added a script constraint to limit the search and replace to local scope only:</p>\n<p><a href=\"https://i.stack.imgur.com/oNMJu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oNMJu.png\" alt=\"enter image description here\" /></a></p>\n<p>Search: <code>$Type$&lt;$GenericArgument$&gt; $Var$ = new $Ctor$&lt;&gt;($Params$);</code></p>\n<p>replace:<code>var $Var$ = new $Ctor$&lt;$GenericArgument$&gt;($Params$);</code></p>\n<p>Full replaceConfiguration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;replaceConfiguration name=&quot;replace with var&quot; text=&quot;$Type$&amp;lt;$GenericArgument$&amp;gt; $Var$ = new $Ctor$&amp;lt;&amp;gt;($Params$);&quot; recursive=&quot;false&quot; caseInsensitive=&quot;true&quot; type=&quot;JAVA&quot; pattern_context=&quot;default&quot; reformatAccordingToStyle=&quot;true&quot; shortenFQN=&quot;true&quot; useStaticImport=&quot;true&quot; replacement=&quot;var $Var$ = new $Ctor$&amp;lt;$GenericArgument$&amp;gt;($Params$);&amp;#10;&quot;&gt;\n   &lt;constraint name=&quot;__context__&quot; script=&quot;&amp;quot;__context__.getParent() instanceof com.intellij.psi.PsiCodeBlock&amp;quot;&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n   &lt;constraint name=&quot;Type&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n   &lt;constraint name=&quot;GenericArgument&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n   &lt;constraint name=&quot;Var&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n   &lt;constraint name=&quot;Params&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n   &lt;constraint name=&quot;Ctor&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n&lt;/replaceConfiguration&gt;\n</code></pre>\n<p>However, when I run the structural search and replace, the resulting code is missing the comma between the generic arguments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var myVar = new ConcurrentHashMap&lt;String List&lt;String&gt;&gt;(10, 2);\n</code></pre>\n<p>How can I modify my search and replace templates to include the comma between the generic arguments?</p>\n"},{"tags":["java","spring","reflection","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1604292710,"post_id":64604586,"comment_id":114293160,"body_markdown":"Instead of making things complicated just for the sake of being able to freely naming your method and then annotating it by a known annotation, why don&#39;t you just make each class with a validator method implement a specific interface with a given validator method name, implement that method and just intercept method with arguments implementing that interface, then call the method right on the object? If the method is in a known position of the argument list such as first, second, third from left or right, you can even directly bind the argument via `args()`.","body":"Instead of making things complicated just for the sake of being able to freely naming your method and then annotating it by a known annotation, why don&#39;t you just make each class with a validator method implement a specific interface with a given validator method name, implement that method and just intercept method with arguments implementing that interface, then call the method right on the object? If the method is in a known position of the argument list such as first, second, third from left or right, you can even directly bind the argument via <code>args()</code>."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1604292896,"post_id":64604586,"comment_id":114293202,"body_markdown":"Then you do not need any reflection for method calls, no special libraries or Spring `AnnotationUtils` etc. Just let me know if you are interested in this approach (please understand if first, though). Then I can write a corresponding answer. Like R.G, I could suggest a way to do directly what you asked for, but I believe this is an instance of the [XY problem](https://meta.stackexchange.com/a/66378/309898). You are asking with a specific technical solution in mind instead of focusing on what you want to achieve.","body":"Then you do not need any reflection for method calls, no special libraries or Spring <code>AnnotationUtils</code> etc. Just let me know if you are interested in this approach (please understand if first, though). Then I can write a corresponding answer. Like R.G, I could suggest a way to do directly what you asked for, but I believe this is an instance of the <a href=\"https://meta.stackexchange.com/a/66378/309898\">XY problem</a>. You are asking with a specific technical solution in mind instead of focusing on what you want to achieve."},{"owner":{"account_id":10160262,"reputation":604,"user_id":7503961,"display_name":"Ashish Sharma"},"score":0,"creation_date":1604431684,"post_id":64604586,"comment_id":114344625,"body_markdown":"If u have psuedo code handy with you then I want to look into it. I don&#39;t know how exactly that work. My purpose is to perform bean validation using inbuilt hibernate annotations and also apply my custom logic which is based on path-variable. Issue which I m trying to solve here is to first perform normal validation and then run my custom validation rule (path variable based) and then merge both set and throw error if present.","body":"If u have psuedo code handy with you then I want to look into it. I don&#39;t know how exactly that work. My purpose is to perform bean validation using inbuilt hibernate annotations and also apply my custom logic which is based on path-variable. Issue which I m trying to solve here is to first perform normal validation and then run my custom validation rule (path variable based) and then merge both set and throw error if present."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1604451067,"post_id":64604586,"comment_id":114350749,"body_markdown":"I don&#39;t do pseudo code, I would rather prepare something that compiles and runs, but I would use AspectJ without Spring so as not to have to prepare a full Spring example. But the aspect syntax would be the same in Spring AOP, don&#39;t worry.","body":"I don&#39;t do pseudo code, I would rather prepare something that compiles and runs, but I would use AspectJ without Spring so as not to have to prepare a full Spring example. But the aspect syntax would be the same in Spring AOP, don&#39;t worry."}],"answers":[{"tags":[],"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604114008,"creation_date":1604114008,"answer_id":64618039,"question_id":64604586,"body_markdown":"[MethodUtils][1] (Apache Commons Lang) can be used to achieve the requirement.\r\n\r\nAPI used in the example code : [MethodUtils.getMethodsListWithAnnotation][2]\r\n\r\nAspect Code\r\n\r\n    @Component\r\n    @Aspect\r\n    public class CallAnnotatedMethodAspect {\r\n    \r\n    \t@Pointcut(&quot;within(rg.so.q64604586.service.*) &amp;&amp; @annotation(rg.so.q64604586.annotation.ValidateAction)&quot;)\r\n    \tpublic void validateActionMethod() {\r\n    \t};\r\n    \r\n    \t@Before(&quot;validateActionMethod() &amp;&amp; args(request,..)&quot;)\r\n    \tpublic void adviceMethod(InputRequest request)\r\n    \t\t\tthrows IllegalAccessException, IllegalArgumentException, InvocationTargetException {\r\n    \t\tList&lt;Method&gt; methodList = MethodUtils.getMethodsListWithAnnotation(request.getClass(), MyValidator.class);\r\n    \t\tfor (Method m : methodList) {\r\n    \t\t\tm.invoke(request, new Object[] {});\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nNote : The Retention Policy of `MyValidator` annotation is RUNTIME for this code to work. \r\n\r\nIf the `InputRequest` instance obtained in the aspect is a proxy , the code will need to be modified to get the actual class of the same.\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/MethodUtils.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/MethodUtils.html#getMethodsListWithAnnotation-java.lang.Class-java.lang.Class-\r\n","title":"How to get Method annotated with given annotation in springboot / java app","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/MethodUtils.html\" rel=\"nofollow noreferrer\">MethodUtils</a> (Apache Commons Lang) can be used to achieve the requirement.</p>\n<p>API used in the example code : <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/MethodUtils.html#getMethodsListWithAnnotation-java.lang.Class-java.lang.Class-\" rel=\"nofollow noreferrer\">MethodUtils.getMethodsListWithAnnotation</a></p>\n<p>Aspect Code</p>\n<pre><code>@Component\n@Aspect\npublic class CallAnnotatedMethodAspect {\n\n    @Pointcut(&quot;within(rg.so.q64604586.service.*) &amp;&amp; @annotation(rg.so.q64604586.annotation.ValidateAction)&quot;)\n    public void validateActionMethod() {\n    };\n\n    @Before(&quot;validateActionMethod() &amp;&amp; args(request,..)&quot;)\n    public void adviceMethod(InputRequest request)\n            throws IllegalAccessException, IllegalArgumentException, InvocationTargetException {\n        List&lt;Method&gt; methodList = MethodUtils.getMethodsListWithAnnotation(request.getClass(), MyValidator.class);\n        for (Method m : methodList) {\n            m.invoke(request, new Object[] {});\n        }\n    }\n}\n</code></pre>\n<p>Note : The Retention Policy of <code>MyValidator</code> annotation is RUNTIME for this code to work.</p>\n<p>If the <code>InputRequest</code> instance obtained in the aspect is a proxy , the code will need to be modified to get the actual class of the same.</p>\n"},{"comments":[{"owner":{"account_id":10160262,"reputation":604,"user_id":7503961,"display_name":"Ashish Sharma"},"score":0,"creation_date":1604640271,"post_id":64673144,"comment_id":114414334,"body_markdown":"Hi @kriegaex thanks for your solution. II have two questions though: 1) what does it mean `&amp;&amp; args(validator, ..)`?   2) What would happen if more than one class implementing MyValidator interface .  I mean how would FW figure out that which implementation has to passed while invoking current controller operation ?","body":"Hi @kriegaex thanks for your solution. II have two questions though: 1) what does it mean <code>&amp;&amp; args(validator, ..)</code>?   2) What would happen if more than one class implementing MyValidator interface .  I mean how would FW figure out that which implementation has to passed while invoking current controller operation ?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1604714906,"post_id":64673144,"comment_id":114439737,"body_markdown":"I updated my answer, also answering your follow-up questions. I would have needed multiple comments to do so.","body":"I updated my answer, also answering your follow-up questions. I would have needed multiple comments to do so."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1604714840,"creation_date":1604453601,"answer_id":64673144,"question_id":64604586,"body_markdown":"Here is my stand-alone AspectJ [MCVE](https://stackoverflow.com/help/mcve). I just imported some Spring classes. The syntax would be the same in Spring AOP.\r\n\r\n**Helper classes:**\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class Result {\r\n  public Result(int i) {}\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\nimport static java.lang.annotation.ElementType.METHOD;\r\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.Target;\r\n\r\n@Retention(RUNTIME)\r\n@Target(METHOD)\r\npublic @interface ValidateAction {}\r\n```\r\n\r\n**Custom validator interface (_not_ annotation):**\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic interface MyValidator {\r\n  boolean validate();\r\n}\r\n```\r\n\r\n**Class implementing custom validator interface:**\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class InputRequest implements MyValidator {\r\n  private Integer a;\r\n  private Integer b;\r\n\r\n  public InputRequest(Integer a, Integer b) {\r\n    this.a = a;\r\n    this.b = b;\r\n  }\r\n\r\n  @Override\r\n  public boolean validate() {\r\n    System.out.println(&quot;Performing custom validation&quot;);\r\n    return false;\r\n  }\r\n\r\n  public Integer getA() {\r\n    return a;\r\n  }\r\n\r\n  public Integer getB() {\r\n    return b;\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return &quot;InputRequest(a=&quot; + a + &quot;, b=&quot; + b + &quot;)&quot;;\r\n  }\r\n}\r\n```\r\n\r\nSee? Instead of annotating the validator method, you just override the interface method. It is just as simple as before, but more type-safe and feels more &quot;standard-ish&quot;. It will also be much easier to handle by AOP, as you are going to find out below.\r\n\r\n**Controller:**\r\n\r\nThe controller looks just the same as before. You still have the method annotated with `@ValidateAction` and taking `InputRequest` as its first parameter.\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\n\r\npublic class MyController {\r\n  @PostMapping(&quot;/sum/{platform}&quot;)\r\n  @ValidateAction\r\n  public Result sum(@RequestBody InputRequest input, @PathVariable(&quot;platform&quot;) String platform) {\r\n    System.out.println(&quot;input: &quot; + input + &quot;, platform: &quot; + platform);\r\n    return new Result(input.getA() + input.getB());\r\n  }\r\n}\r\n```\r\n\r\n**Sample driver application:**\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class Application {\r\n  public static void main(String[] args) {\r\n    new MyController().sum(new InputRequest(11, 22), &quot;foo&quot;);\r\n  }\r\n}\r\n```\r\n\r\n**Aspect:**\r\n\r\nThe aspect is super simple now, like I said in my comment to your question. The pointcut checks for methods which\r\n  * are annotated with `@ValidateAction` and\r\n  * have a first parameter implementing `MyValidator`.\r\n\r\nThen it binds the `MyValidator` parameter to an advice method argument by `args()`.\r\n\r\nPlease note that you can omit the trailing `&amp;&amp; execution(* *(..))` in Spring AOP because it only supports method `execution()` joinpoints, while in AspectJ there are also `call()` joinpoints which here would lead to double validation and log output.\r\n\r\n```java\r\npackage de.scrum_master.aspect;\r\n\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport de.scrum_master.app.MyValidator;\r\n\r\n@Aspect\r\n@Component\r\npublic class MyValidatorAspect {\r\n  @Before(&quot;@annotation(de.scrum_master.app.ValidateAction) &amp;&amp; execution(* *(..)) &amp;&amp; args(validator, ..)&quot;)\r\n  public void validateAspect(JoinPoint joinPoint, MyValidator validator) throws Throwable {\r\n    System.out.println(joinPoint);\r\n    validator.validate();\r\n  }\r\n}\r\n```\r\n\r\n**Console log:**\r\n\r\n```none\r\nexecution(Result de.scrum_master.app.MyController.sum(InputRequest, String))\r\nPerforming custom validation\r\ninput: InputRequest(a=11, b=22), platform: foo\r\n```\r\n\r\n---\r\n\r\n**Update answering follow-up questions:** Please read some documentation. The Spring manual is a good source.\r\n\r\n&gt; 1) what does it mean `&amp;&amp; args(validator, ..)`?\r\n\r\nIt is called argument binding. This specific pointcut designator means: Match all target methods where the first argument matches the type of `validator` in the advice method arguments list and bind the value to that argument. As you see, the argument is declared as `MyValidator validator`. The `, ..` means that any subsequent target method arguments (if any) do not matter. For more information see [this manual paragraph](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-params-passing).\r\n\r\n&gt; 2) What would happen if more than one class implementing `MyValidator` interface . I mean how would FW figure out that which implementation has to passed while invoking current controller operation ?\r\n\r\nFW meaning what? Maybe framework? Anyway, I do not see the problem. Why would the framework have to figure out which implementation there is? That is the beauty of OOP and virtual methods: You do not need to figure out anything because each implementation has a `boolean validate()` which then gets called. It is simple, type-safe, hassle-free. Your solution is neither of these. This approach just works. Instead of asking, why don&#39;t you just try?","title":"How to get Method annotated with given annotation in springboot / java app","body":"<p>Here is my stand-alone AspectJ <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. I just imported some Spring classes. The syntax would be the same in Spring AOP.</p>\n<p><strong>Helper classes:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Result {\n  public Result(int i) {}\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport static java.lang.annotation.ElementType.METHOD;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\n@Retention(RUNTIME)\n@Target(METHOD)\npublic @interface ValidateAction {}\n</code></pre>\n<p><strong>Custom validator interface (<em>not</em> annotation):</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic interface MyValidator {\n  boolean validate();\n}\n</code></pre>\n<p><strong>Class implementing custom validator interface:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class InputRequest implements MyValidator {\n  private Integer a;\n  private Integer b;\n\n  public InputRequest(Integer a, Integer b) {\n    this.a = a;\n    this.b = b;\n  }\n\n  @Override\n  public boolean validate() {\n    System.out.println(&quot;Performing custom validation&quot;);\n    return false;\n  }\n\n  public Integer getA() {\n    return a;\n  }\n\n  public Integer getB() {\n    return b;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;InputRequest(a=&quot; + a + &quot;, b=&quot; + b + &quot;)&quot;;\n  }\n}\n</code></pre>\n<p>See? Instead of annotating the validator method, you just override the interface method. It is just as simple as before, but more type-safe and feels more &quot;standard-ish&quot;. It will also be much easier to handle by AOP, as you are going to find out below.</p>\n<p><strong>Controller:</strong></p>\n<p>The controller looks just the same as before. You still have the method annotated with <code>@ValidateAction</code> and taking <code>InputRequest</code> as its first parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\n\npublic class MyController {\n  @PostMapping(&quot;/sum/{platform}&quot;)\n  @ValidateAction\n  public Result sum(@RequestBody InputRequest input, @PathVariable(&quot;platform&quot;) String platform) {\n    System.out.println(&quot;input: &quot; + input + &quot;, platform: &quot; + platform);\n    return new Result(input.getA() + input.getB());\n  }\n}\n</code></pre>\n<p><strong>Sample driver application:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Application {\n  public static void main(String[] args) {\n    new MyController().sum(new InputRequest(11, 22), &quot;foo&quot;);\n  }\n}\n</code></pre>\n<p><strong>Aspect:</strong></p>\n<p>The aspect is super simple now, like I said in my comment to your question. The pointcut checks for methods which</p>\n<ul>\n<li>are annotated with <code>@ValidateAction</code> and</li>\n<li>have a first parameter implementing <code>MyValidator</code>.</li>\n</ul>\n<p>Then it binds the <code>MyValidator</code> parameter to an advice method argument by <code>args()</code>.</p>\n<p>Please note that you can omit the trailing <code>&amp;&amp; execution(* *(..))</code> in Spring AOP because it only supports method <code>execution()</code> joinpoints, while in AspectJ there are also <code>call()</code> joinpoints which here would lead to double validation and log output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.springframework.stereotype.Component;\n\nimport de.scrum_master.app.MyValidator;\n\n@Aspect\n@Component\npublic class MyValidatorAspect {\n  @Before(&quot;@annotation(de.scrum_master.app.ValidateAction) &amp;&amp; execution(* *(..)) &amp;&amp; args(validator, ..)&quot;)\n  public void validateAspect(JoinPoint joinPoint, MyValidator validator) throws Throwable {\n    System.out.println(joinPoint);\n    validator.validate();\n  }\n}\n</code></pre>\n<p><strong>Console log:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>execution(Result de.scrum_master.app.MyController.sum(InputRequest, String))\nPerforming custom validation\ninput: InputRequest(a=11, b=22), platform: foo\n</code></pre>\n<hr />\n<p><strong>Update answering follow-up questions:</strong> Please read some documentation. The Spring manual is a good source.</p>\n<blockquote>\n<ol>\n<li>what does it mean <code>&amp;&amp; args(validator, ..)</code>?</li>\n</ol>\n</blockquote>\n<p>It is called argument binding. This specific pointcut designator means: Match all target methods where the first argument matches the type of <code>validator</code> in the advice method arguments list and bind the value to that argument. As you see, the argument is declared as <code>MyValidator validator</code>. The <code>, ..</code> means that any subsequent target method arguments (if any) do not matter. For more information see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-params-passing\" rel=\"nofollow noreferrer\">this manual paragraph</a>.</p>\n<blockquote>\n<ol start=\"2\">\n<li>What would happen if more than one class implementing <code>MyValidator</code> interface . I mean how would FW figure out that which implementation has to passed while invoking current controller operation ?</li>\n</ol>\n</blockquote>\n<p>FW meaning what? Maybe framework? Anyway, I do not see the problem. Why would the framework have to figure out which implementation there is? That is the beauty of OOP and virtual methods: You do not need to figure out anything because each implementation has a <code>boolean validate()</code> which then gets called. It is simple, type-safe, hassle-free. Your solution is neither of these. This approach just works. Instead of asking, why don't you just try?</p>\n"}],"owner":{"account_id":10160262,"reputation":604,"user_id":7503961,"display_name":"Ashish Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2603,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64673144,"answer_count":2,"score":0,"last_activity_date":1678616784,"creation_date":1604044895,"question_id":64604586,"body_markdown":"Is there a way to directly get hold of a method(non-static)  annotated with given annotation present in a given object? I don&#39;t want to iterate over list of all methods and check if the given annotation present or not.\r\nIn below sample code, I have used dummy method(not exist) **getMethodAnnotatedWith()** . I need to replace this with actual method.\r\n\r\n```java\r\npublic class MyController {\r\n  @PostMapping(&quot;/sum/{platform}&quot;)\r\n  @ValidateAction\r\n  public Result sum(@RequestBody InputRequest input, @PathVariable(&quot;platform&quot;) String platform) {\r\n    log.info(&quot;input: {}, platform: {}&quot;, input, platform);\r\n    return new Result(input.getA() + input.getB());\r\n  }\r\n}\r\n```\r\n\r\n```java\r\nclass InputRequest {\r\n  @NotNull\r\n  private Integer a;\r\n  @NotNull\r\n  private Integer b;\r\n\r\n  @MyValidator\r\n  public boolean customMyValidator() {\r\n    log.info(&quot;From customMyValidator-----------&quot;);\r\n    return false;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@Aspect\r\n@Component\r\n@Slf4j\r\npublic class AspectClass {\r\n  @Before(&quot; @annotation(com.example.ValidateAction)&quot;)\r\n  public void validateAspect(JoinPoint joinPoint) throws Throwable {\r\n    log.info(&quot; MethodName : &quot; + joinPoint.getSignature().getName());\r\n    Object[] args = joinPoint.getArgs();\r\n    log.info(&quot;args[0]==&gt;&quot;+args[0] +&quot;, args[1]==&gt;&quot;+args[1]);\r\n\r\n    MethodSignature signature = (MethodSignature) joinPoint.getSignature();\r\n    Method method = signature.getMethod();\r\n    Parameter[] parameters = method.getParameters();\r\n    Method customMyValidator = parameters[0].getType().getMethodAnnotatedWith(MyValidator.class);  // InputRequest class type which has a method annotated with @MyValidator\r\n\r\n    customMyValidator.invoke(args[0]);\r\n  }\r\n}\r\n```\r\n","title":"How to get Method annotated with given annotation in springboot / java app","body":"<p>Is there a way to directly get hold of a method(non-static)  annotated with given annotation present in a given object? I don't want to iterate over list of all methods and check if the given annotation present or not.\nIn below sample code, I have used dummy method(not exist) <strong>getMethodAnnotatedWith()</strong> . I need to replace this with actual method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyController {\n  @PostMapping(&quot;/sum/{platform}&quot;)\n  @ValidateAction\n  public Result sum(@RequestBody InputRequest input, @PathVariable(&quot;platform&quot;) String platform) {\n    log.info(&quot;input: {}, platform: {}&quot;, input, platform);\n    return new Result(input.getA() + input.getB());\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class InputRequest {\n  @NotNull\n  private Integer a;\n  @NotNull\n  private Integer b;\n\n  @MyValidator\n  public boolean customMyValidator() {\n    log.info(&quot;From customMyValidator-----------&quot;);\n    return false;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@Slf4j\npublic class AspectClass {\n  @Before(&quot; @annotation(com.example.ValidateAction)&quot;)\n  public void validateAspect(JoinPoint joinPoint) throws Throwable {\n    log.info(&quot; MethodName : &quot; + joinPoint.getSignature().getName());\n    Object[] args = joinPoint.getArgs();\n    log.info(&quot;args[0]==&gt;&quot;+args[0] +&quot;, args[1]==&gt;&quot;+args[1]);\n\n    MethodSignature signature = (MethodSignature) joinPoint.getSignature();\n    Method method = signature.getMethod();\n    Parameter[] parameters = method.getParameters();\n    Method customMyValidator = parameters[0].getType().getMethodAnnotatedWith(MyValidator.class);  // InputRequest class type which has a method annotated with @MyValidator\n\n    customMyValidator.invoke(args[0]);\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","aspectj","spring-aop"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1565592561,"post_id":57456474,"comment_id":101387237,"body_markdown":"You need either to provide method for after/before or at least wildcard it.","body":"You need either to provide method for after/before or at least wildcard it."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1565593761,"post_id":57456474,"comment_id":101387630,"body_markdown":"Your sample code is incomplete. Please be advised to learn about [MCVE](https://stackoverflow.com/help/mcve) and write/edit your questions accordingly. Otherwise I have to make educated guesses like I did in my answer, which is suboptimal because maybe it helps you, maybe not.","body":"Your sample code is incomplete. Please be advised to learn about <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> and write/edit your questions accordingly. Otherwise I have to make educated guesses like I did in my answer, which is suboptimal because maybe it helps you, maybe not."}],"answers":[{"comments":[{"owner":{"account_id":15831134,"reputation":31,"user_id":11422413,"display_name":"徐松峰"},"score":0,"creation_date":1565600885,"post_id":57456924,"comment_id":101390163,"body_markdown":"Thx for ur feedback! \nI add the Component and @Retention(RetentionPolicy.RUNTIME).\nIt works now.\nI need to google the details~","body":"Thx for ur feedback!  I add the Component and @Retention(RetentionPolicy.RUNTIME). It works now. I need to google the details~"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1565611993,"post_id":57456924,"comment_id":101395218,"body_markdown":"Google is not necessary, the [Spring AOP manual](https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop) will do. Oh, and by the way, please click the grey checkmark beside my answer in order to accept it, it will turn to green then.","body":"Google is not necessary, the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop\" rel=\"nofollow noreferrer\">Spring AOP manual</a> will do. Oh, and by the way, please click the grey checkmark beside my answer in order to accept it, it will turn to green then."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565593670,"creation_date":1565593670,"answer_id":57456924,"question_id":57456474,"body_markdown":"Some things come to mind:\r\n\r\n* Your annotation needs runtime retention, but I do not see `@Retention(RetentionPolicy.RUNTIME)` in your code.\r\n* Your aspect should be a `@Component`, but I do not see the corresponding annotation either.\r\n* The target class containing method `public Response get(..)` also has to be a Spring bean/component. Because you only show incoherent snippets instead of full class definitions, I have no idea which package that class resides in, if it is a Spring component and whether or not it is picked up by component scan.","title":"Spring AOP aspect does not intercept annotated method","body":"<p>Some things come to mind:</p>\n\n<ul>\n<li>Your annotation needs runtime retention, but I do not see <code>@Retention(RetentionPolicy.RUNTIME)</code> in your code.</li>\n<li>Your aspect should be a <code>@Component</code>, but I do not see the corresponding annotation either.</li>\n<li>The target class containing method <code>public Response get(..)</code> also has to be a Spring bean/component. Because you only show incoherent snippets instead of full class definitions, I have no idea which package that class resides in, if it is a Spring component and whether or not it is picked up by component scan.</li>\n</ul>\n"}],"owner":{"account_id":15831134,"reputation":31,"user_id":11422413,"display_name":"徐松峰"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":997,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678616740,"creation_date":1565590938,"question_id":57456474,"body_markdown":"i want to use the `@before` ,`@after` and `@AfterThrowing` in my function.\r\nIf other function use the annotation like `@MyAspectTest`, it should run `beforeAction()`, `afterAction()` and `afterExcept()` at related time.\r\nBut, it seems doesn&#39;t work.\r\n\r\ni have already input the dependency and modified the beans.\r\n\r\n```java\r\npackage com.service.metrics;\r\n\r\nimport com.mgr.CMPMgr;\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.annotation.After;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\n\r\nimport org.aspectj.lang.annotation.AfterThrowing;\r\n\r\nimport java.lang.reflect.Method;\r\n\r\n@Aspect\r\npublic class CMPAspect {\r\n    @Before(value=&quot;@annotation(com.mgr.CMPMgr)&quot;)\r\n    public void beforeAction(JoinPoint joinPoint) throws ClassNotFoundException {\r\n      testcode\r\n    }\r\n\r\n    @After(value=&quot;@annotation(com.mgr.CMPMgr)&quot;)\r\n    public void afterAction(){\r\n      testcode\r\n    }\r\n\r\n    @AfterThrowing(value=&quot;@annotation(com.mgr.CMPMgr)&quot;)\r\n    public void afterExcept(){\r\n      testcode\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage com.mgr;\r\n\r\npublic @interface CMPMgr {\r\n    String name() default &quot;&quot;;\r\n    long startTime = System.currentTimeMillis();\r\n}\r\n```\r\n\r\n```java\r\n    @CMPMgr(name = &quot;vipGet&quot;)\r\n    @GET\r\n    @Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })\r\n    @Path(&quot;/{lbId}&quot;)\r\n    public Response get(@PathParam(&quot;lbId&quot;)String lbId,\r\n                        @HeaderParam(&quot;Authorization&quot;) String basicAuthData,\r\n                        @HeaderParam(&quot;UserID&quot;) String behalf) {\r\n```\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n```\r\n\r\n```xml\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\t   xmlns:jpa=&quot;http://www.springframework.org/schema/data/jpa&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\t   xmlns:task=&quot;http://www.springframework.org/schema/task&quot;\r\n\t   xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n\t   xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\nhttp://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.0.xsd\r\nhttp://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\nhttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\r\nhttp://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.2.xsd\r\nhttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd&quot;&gt;\r\n\t&lt;aop:aspectj-autoproxy /&gt;\r\n\t&lt;!-- enabling annotation driven configuration / --&gt;\r\n\t&lt;context:annotation-config /&gt;\r\n\t&lt;context:component-scan /&gt;\r\n\r\n\t&lt;!-- responsible for registering the necessary Spring components that power\r\n\t\tannotation-driven transaction management; such as when @Transactional methods\r\n\t\tare invoked --&gt;\r\n\t&lt;tx:annotation-driven /&gt;\r\n```\r\n\r\nit should get into the Aspect functions. But i don&#39;t find it work in debug mode. Why?","title":"Spring AOP aspect does not intercept annotated method","body":"<p>i want to use the <code>@before</code> ,<code>@after</code> and <code>@AfterThrowing</code> in my function.\nIf other function use the annotation like <code>@MyAspectTest</code>, it should run <code>beforeAction()</code>, <code>afterAction()</code> and <code>afterExcept()</code> at related time.\nBut, it seems doesn't work.</p>\n\n<p>i have already input the dependency and modified the beans.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.service.metrics;\n\nimport com.mgr.CMPMgr;\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.After;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\n\nimport org.aspectj.lang.annotation.AfterThrowing;\n\nimport java.lang.reflect.Method;\n\n@Aspect\npublic class CMPAspect {\n    @Before(value=\"@annotation(com.mgr.CMPMgr)\")\n    public void beforeAction(JoinPoint joinPoint) throws ClassNotFoundException {\n      testcode\n    }\n\n    @After(value=\"@annotation(com.mgr.CMPMgr)\")\n    public void afterAction(){\n      testcode\n    }\n\n    @AfterThrowing(value=\"@annotation(com.mgr.CMPMgr)\")\n    public void afterExcept(){\n      testcode\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.mgr;\n\npublic @interface CMPMgr {\n    String name() default \"\";\n    long startTime = System.currentTimeMillis();\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @CMPMgr(name = \"vipGet\")\n    @GET\n    @Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })\n    @Path(\"/{lbId}\")\n    public Response get(@PathParam(\"lbId\")String lbId,\n                        @HeaderParam(\"Authorization\") String basicAuthData,\n                        @HeaderParam(\"UserID\") String behalf) {\n</code></pre>\n\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:jpa=\"http://www.springframework.org/schema/data/jpa\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xmlns:task=\"http://www.springframework.org/schema/task\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\nhttp://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.0.xsd\nhttp://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-context-3.0.xsd\nhttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\nhttp://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.2.xsd\nhttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\"&gt;\n    &lt;aop:aspectj-autoproxy /&gt;\n    &lt;!-- enabling annotation driven configuration / --&gt;\n    &lt;context:annotation-config /&gt;\n    &lt;context:component-scan /&gt;\n\n    &lt;!-- responsible for registering the necessary Spring components that power\n        annotation-driven transaction management; such as when @Transactional methods\n        are invoked --&gt;\n    &lt;tx:annotation-driven /&gt;\n</code></pre>\n\n<p>it should get into the Aspect functions. But i don't find it work in debug mode. Why?</p>\n"},{"tags":["java","spring","spring-boot","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":6868812,"reputation":986,"user_id":5280105,"display_name":"JC Carrillo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1587513869,"creation_date":1587513869,"answer_id":61355208,"question_id":61350828,"body_markdown":"You may want to look into [AnnotationUtils][1]\r\n\r\n```java\r\nMethod method = methodSignature.getMethod();\r\nGreetingsMeta greetingsMeta = AnnotationUtils.findAnnotation(method, GreetingsMeta.class);\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html","title":"How do I prevent Spring Boot AOP from removing type annotations?","body":"<p>You may want to look into <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html\" rel=\"nofollow noreferrer\">AnnotationUtils</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Method method = methodSignature.getMethod();\nGreetingsMeta greetingsMeta = AnnotationUtils.findAnnotation(method, GreetingsMeta.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587617885,"creation_date":1587600937,"answer_id":61377232,"question_id":61350828,"body_markdown":"&gt;How do I prevent Spring Boot AOP from removing type annotations?\r\n\r\nSpring Boot does not remove anything, but for Spring AOP is uses dynamic proxies generated during runtime, i.e. subclasses or interface implementations with event hooks (joinpoints) for aspect advice code wired in via pointcuts. By default, annotations are not inherited, so this is just a JVM feature.\r\n\r\nThere is one exception for subclasses inheriting annotations from parent classes: You can add the meta annotation [`@Inherited`](https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Inherited.html) to your own annotation class `GreetingsMeta`. The effect will be that if you annotate any class with it, all subclasses (also dynamic proxies created by Spring AOP) will inherit the annotation and your original code should run as expected.\r\n\r\nSo in this case there is no need to use `AnnotationUtils` as suggested by _JC Carrillo_. His approach works too, of course. It is just more complicated because `AnnotationUtils` uses a lot of reflection magic and lots of helper classes internally in order to compute results. Thus, I would only use `AnnotationUtils` in cases where you don&#39;t directly annotate a class but e.g. methods or interfaces because `@Inherited` has no effect on them as documented. Or if you rely on a hierarchy of Spring (or own) meta annotations (annotations on annotations) and you need to get information from them all merged into one, `AnnotationUtils` or `MergedAnnotations` are appropriate.","title":"How do I prevent Spring Boot AOP from removing type annotations?","body":"<blockquote>\n  <p>How do I prevent Spring Boot AOP from removing type annotations?</p>\n</blockquote>\n\n<p>Spring Boot does not remove anything, but for Spring AOP is uses dynamic proxies generated during runtime, i.e. subclasses or interface implementations with event hooks (joinpoints) for aspect advice code wired in via pointcuts. By default, annotations are not inherited, so this is just a JVM feature.</p>\n\n<p>There is one exception for subclasses inheriting annotations from parent classes: You can add the meta annotation <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Inherited.html\" rel=\"nofollow noreferrer\"><code>@Inherited</code></a> to your own annotation class <code>GreetingsMeta</code>. The effect will be that if you annotate any class with it, all subclasses (also dynamic proxies created by Spring AOP) will inherit the annotation and your original code should run as expected.</p>\n\n<p>So in this case there is no need to use <code>AnnotationUtils</code> as suggested by <em>JC Carrillo</em>. His approach works too, of course. It is just more complicated because <code>AnnotationUtils</code> uses a lot of reflection magic and lots of helper classes internally in order to compute results. Thus, I would only use <code>AnnotationUtils</code> in cases where you don't directly annotate a class but e.g. methods or interfaces because <code>@Inherited</code> has no effect on them as documented. Or if you rely on a hierarchy of Spring (or own) meta annotations (annotations on annotations) and you need to get information from them all merged into one, <code>AnnotationUtils</code> or <code>MergedAnnotations</code> are appropriate.</p>\n"}],"owner":{"account_id":272812,"reputation":4707,"user_id":564092,"accept_rate":94,"display_name":"Darek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61355208,"answer_count":2,"score":1,"last_activity_date":1678616716,"creation_date":1587494637,"question_id":61350828,"body_markdown":"I am pretty new to Spring Boot and its flavor of AOP, but not new to programming in other languages and AOP frameworks. This one challenge I am not sure how to solve. \r\n\r\nI have a simple metadata decorator:\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface GreetingsMeta {\r\n        public float version() default 0;\r\n        public String name() default &quot;&quot;;\r\n    }\r\n\r\nIt works just fine with dependency injection:\r\n\r\n\r\n    public GreetingController(List&lt;IGreetingService&gt; greetings) throws Exception {\r\n        this.greetings = new HashMap&lt;&gt;();\r\n        greetings.forEach(m -&gt; {\r\n            Class&lt;?&gt; clazz = m.getClass();\r\n            if (clazz.isAnnotationPresent(GreetingsMeta.class)) {\r\n                GreetingsMeta[] s = clazz.getAnnotationsByType(GreetingsMeta.class);\r\n                this.greetings.put(s[0].name(), m);\r\n            }\r\n        });\r\n    }\r\n\r\nUntil I applied a standard logging aspect:\r\n\r\n    @Aspect\r\n    @Component\r\n    public class LoggingAspect {\r\n        @Around(&quot;execution(* com.firm..*(..)))&quot;)\r\n        public Object profileAllMethods(ProceedingJoinPoint joinPoint) throws Throwable {\r\n            MethodSignature methodSignature = (MethodSignature) joinPoint.getSignature();\r\n            String methodName = methodSignature.getName();\r\n            final StopWatch stopWatch = new StopWatch();\r\n            stopWatch.start();\r\n            Object result = joinPoint.proceed();\r\n            stopWatch.stop();\r\n            LogManager.getLogger(methodSignature.getDeclaringType())\r\n            .info(methodName + &quot; &quot; + (stopWatch.getTotalTimeSeconds() * 1000) + &quot; &#181;s&quot;);\r\n            return result;\r\n        }\r\n    }\r\n\r\nThen the list of annotationsData becomes empty, even the @Component annotation is gone. \r\n\r\nSample meta-decorated class:\r\n\r\n```\r\n@Component\r\n@GreetingsMeta(name = &quot;Default&quot;, version = 1.0f)\r\npublic class DefaultGreetingsService implements IGreetingService {\r\n\r\n\r\n    @Override\r\n    public String message(String content) {\r\n        return &quot;Hello, &quot; + content;\r\n    }\r\n} \r\n```\r\n\r\nHow should I troubleshoot?","title":"How do I prevent Spring Boot AOP from removing type annotations?","body":"<p>I am pretty new to Spring Boot and its flavor of AOP, but not new to programming in other languages and AOP frameworks. This one challenge I am not sure how to solve. </p>\n\n<p>I have a simple metadata decorator:</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface GreetingsMeta {\n    public float version() default 0;\n    public String name() default \"\";\n}\n</code></pre>\n\n<p>It works just fine with dependency injection:</p>\n\n<pre><code>public GreetingController(List&lt;IGreetingService&gt; greetings) throws Exception {\n    this.greetings = new HashMap&lt;&gt;();\n    greetings.forEach(m -&gt; {\n        Class&lt;?&gt; clazz = m.getClass();\n        if (clazz.isAnnotationPresent(GreetingsMeta.class)) {\n            GreetingsMeta[] s = clazz.getAnnotationsByType(GreetingsMeta.class);\n            this.greetings.put(s[0].name(), m);\n        }\n    });\n}\n</code></pre>\n\n<p>Until I applied a standard logging aspect:</p>\n\n<pre><code>@Aspect\n@Component\npublic class LoggingAspect {\n    @Around(\"execution(* com.firm..*(..)))\")\n    public Object profileAllMethods(ProceedingJoinPoint joinPoint) throws Throwable {\n        MethodSignature methodSignature = (MethodSignature) joinPoint.getSignature();\n        String methodName = methodSignature.getName();\n        final StopWatch stopWatch = new StopWatch();\n        stopWatch.start();\n        Object result = joinPoint.proceed();\n        stopWatch.stop();\n        LogManager.getLogger(methodSignature.getDeclaringType())\n        .info(methodName + \" \" + (stopWatch.getTotalTimeSeconds() * 1000) + \" µs\");\n        return result;\n    }\n}\n</code></pre>\n\n<p>Then the list of annotationsData becomes empty, even the @Component annotation is gone. </p>\n\n<p>Sample meta-decorated class:</p>\n\n<pre><code>@Component\n@GreetingsMeta(name = \"Default\", version = 1.0f)\npublic class DefaultGreetingsService implements IGreetingService {\n\n\n    @Override\n    public String message(String content) {\n        return \"Hello, \" + content;\n    }\n} \n</code></pre>\n\n<p>How should I troubleshoot?</p>\n"},{"tags":["java","spring","intellij-idea","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488629621,"creation_date":1488584924,"answer_id":42590317,"question_id":42435691,"body_markdown":"IntelliJ IDEA is lacking such functionality, unfortunately. It also does not fully support the complete AspectJ syntax. There are many shortcomings in this otherwise so brilliant IDE which is my personal favourite compared to others. **But** whenever I want to do something in AspectJ I switch to Eclipse which is far superior in this regard, maybe because AspectJ is actually an Eclipse project and better maintained IDE-wise. There you have an Xref (cross-reference) view and views for which poinctut is used where in both directions, from aspect to application code and vice versa. See [my other answer](https://stackoverflow.com/a/32806971/1082681) for a few screenshots. **Update:** The last one shows the visual indicators in the editor and the problem view for advices that do not match any joinpoints. This is what you asked for.\r\n\r\nYou get the best of both worlds if you use a Maven project using AspectJ Maven plugin. This can be imported into both IDEA and Eclipse, so you can work in IDEA most of the time, but manage your aspects utilising the better aspect support in Eclipse. Sorry for not having better news for you, but JetBrains is veeeery slow and reluctant with regard to working on AspectJ-related support tickets or feature requests.","title":"Can Intellij show warning if advice advices no method?","body":"<p>IntelliJ IDEA is lacking such functionality, unfortunately. It also does not fully support the complete AspectJ syntax. There are many shortcomings in this otherwise so brilliant IDE which is my personal favourite compared to others. <strong>But</strong> whenever I want to do something in AspectJ I switch to Eclipse which is far superior in this regard, maybe because AspectJ is actually an Eclipse project and better maintained IDE-wise. There you have an Xref (cross-reference) view and views for which poinctut is used where in both directions, from aspect to application code and vice versa. See <a href=\"https://stackoverflow.com/a/32806971/1082681\">my other answer</a> for a few screenshots. <strong>Update:</strong> The last one shows the visual indicators in the editor and the problem view for advices that do not match any joinpoints. This is what you asked for.</p>\n\n<p>You get the best of both worlds if you use a Maven project using AspectJ Maven plugin. This can be imported into both IDEA and Eclipse, so you can work in IDEA most of the time, but manage your aspects utilising the better aspect support in Eclipse. Sorry for not having better news for you, but JetBrains is veeeery slow and reluctant with regard to working on AspectJ-related support tickets or feature requests.</p>\n"}],"owner":{"account_id":1500180,"reputation":424,"user_id":1405112,"accept_rate":40,"display_name":"Sebastian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3808,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1678616669,"creation_date":1487930500,"question_id":42435691,"body_markdown":"\r\nIn my spring-boot application, I am using @AfterReturning to advice methods to be able to send some asynchronous notifications.\r\n\r\nThis is an example of the current implementation:            \r\n\r\n\r\n            @AfterReturning(pointcut = \r\n                 &quot;execution(* test.NotificationService.sendNotification(..)) &amp;&amp; args(informees, dataList)&quot;)\r\n            public void afterSendNotification(Informees informees, List&lt;Data&gt; dataList) {  \r\n                ...\r\n            }\r\n\r\n\r\nDuring development the signature of the sendNotification method changed from **sendNotification(Informees informees, Data data)** to **sendNotification(Informees informees, List&lt;Data&gt; dataList)**. The problem is that the pointcut does not advice the method anymore and no error or warning is shown. The gutter icon in intellij is just telling me that the &quot;Advice advices no method&quot;. Therefore it is hard to see immediately that the code is not functioning correctly anymore.\r\n\r\n 1. Is there a way to get an overview in intellij that shows all adviced methods for the advices?\r\n 2. Can I get a warning if a advice advices no method?\r\n 3. Is there a better way to write the pointcut?\r\n 4. Currently im looking into writing unit tests to make sure that the advices are executed. Is this the way to go?\r\n\r\n\r\n\r\n","title":"Can Intellij show warning if advice advices no method?","body":"<p>In my spring-boot application, I am using @AfterReturning to advice methods to be able to send some asynchronous notifications.</p>\n\n<p>This is an example of the current implementation:            </p>\n\n<pre><code>        @AfterReturning(pointcut = \n             \"execution(* test.NotificationService.sendNotification(..)) &amp;&amp; args(informees, dataList)\")\n        public void afterSendNotification(Informees informees, List&lt;Data&gt; dataList) {  \n            ...\n        }\n</code></pre>\n\n<p>During development the signature of the sendNotification method changed from <strong>sendNotification(Informees informees, Data data)</strong> to <strong>sendNotification(Informees informees, List dataList)</strong>. The problem is that the pointcut does not advice the method anymore and no error or warning is shown. The gutter icon in intellij is just telling me that the \"Advice advices no method\". Therefore it is hard to see immediately that the code is not functioning correctly anymore.</p>\n\n<ol>\n<li>Is there a way to get an overview in intellij that shows all adviced methods for the advices?</li>\n<li>Can I get a warning if a advice advices no method?</li>\n<li>Is there a better way to write the pointcut?</li>\n<li>Currently im looking into writing unit tests to make sure that the advices are executed. Is this the way to go?</li>\n</ol>\n"},{"tags":["java","spring","aspectj","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1531104345,"creation_date":1531104345,"answer_id":51237654,"question_id":51235716,"body_markdown":"This does not work in Spring AOP, as is [documented here](https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-at-aspectj):\r\n\r\n&gt; **Advising aspects with other aspects?**\r\n&gt;\r\n&gt; In Spring AOP, it is not possible to have aspects themselves be the target of advice from other aspects. The `@Aspect` annotation on a class marks it as an aspect, and hence excludes it from auto-proxying.\r\n\r\nIf you want to do this, you need to activate full [AspectJ via LTW](https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-using-aspectj) in Spring. Then you can target advices directly if you know their method name. There even is a special pointcut designator `adviceexecution()` if you generally want to limit pointcut matching to advice execution or exclude the latter from matching via `!adviceexecution()`. For more details please check the AspectJ documentation.","title":"Can I declare advice for surrounding an advice itself in aop java?","body":"<p>This does not work in Spring AOP, as is <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-at-aspectj\" rel=\"nofollow noreferrer\">documented here</a>:</p>\n\n<blockquote>\n  <p><strong>Advising aspects with other aspects?</strong></p>\n  \n  <p>In Spring AOP, it is not possible to have aspects themselves be the target of advice from other aspects. The <code>@Aspect</code> annotation on a class marks it as an aspect, and hence excludes it from auto-proxying.</p>\n</blockquote>\n\n<p>If you want to do this, you need to activate full <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-using-aspectj\" rel=\"nofollow noreferrer\">AspectJ via LTW</a> in Spring. Then you can target advices directly if you know their method name. There even is a special pointcut designator <code>adviceexecution()</code> if you generally want to limit pointcut matching to advice execution or exclude the latter from matching via <code>!adviceexecution()</code>. For more details please check the AspectJ documentation.</p>\n"}],"owner":{"account_id":13843435,"reputation":85,"user_id":9993111,"display_name":"Lakshya Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51237654,"answer_count":1,"score":1,"last_activity_date":1678616656,"creation_date":1531081362,"question_id":51235716,"body_markdown":"I have made an annotation(@MethodLogger) and written an aspect over it which basically logs the timing of the method and keep storing it. So on any method on which i put that annotation it works fine\r\nBut in a special use case I need to monitor an advice itself:\r\n\r\neg:\r\n\r\n    @MethodLogger\r\n    @Around(&quot;some function specified&quot;)\r\n    public Object method(ProceedingJoinPoint pjp) throws Throwable{\r\n   \r\n\r\n    // code here\r\n\r\n    }\r\n\r\nBut this thing does not works. It never invokes my annotations aspect.\r\n","title":"Can I declare advice for surrounding an advice itself in aop java?","body":"<p>I have made an annotation(@MethodLogger) and written an aspect over it which basically logs the timing of the method and keep storing it. So on any method on which i put that annotation it works fine\nBut in a special use case I need to monitor an advice itself:</p>\n\n<p>eg:</p>\n\n<pre><code>@MethodLogger\n@Around(\"some function specified\")\npublic Object method(ProceedingJoinPoint pjp) throws Throwable{\n\n\n// code here\n\n}\n</code></pre>\n\n<p>But this thing does not works. It never invokes my annotations aspect.</p>\n"},{"tags":["java","spring","spring-boot","spring-aop"],"comments":[{"owner":{"account_id":139109,"reputation":7472,"user_id":344480,"accept_rate":92,"display_name":"Matthias"},"score":0,"creation_date":1628095000,"post_id":68654715,"comment_id":121331806,"body_markdown":"From my point of view, it should work... Can you please check it again to be on the safe side?","body":"From my point of view, it should work... Can you please check it again to be on the safe side?"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1628095108,"post_id":68654715,"comment_id":121331847,"body_markdown":"You didn&#39;t show how you&#39;re actually invoking your service. Do you have a self-call?","body":"You didn&#39;t show how you&#39;re actually invoking your service. Do you have a self-call?"},{"owner":{"account_id":356150,"reputation":1634,"user_id":695486,"accept_rate":66,"display_name":"wxkevin"},"score":0,"creation_date":1628095792,"post_id":68654715,"comment_id":121332083,"body_markdown":"No I am not making a self call. I am aware that would not work. The service is being called from a RestController. The Service is Autowired into the Controller.","body":"No I am not making a self call. I am aware that would not work. The service is being called from a RestController. The Service is Autowired into the Controller."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1628306217,"post_id":68654715,"comment_id":121391407,"body_markdown":"Some feedback to my answer would be nice. _(I will delete this comment again after the feedback will have arrived.)_","body":"Some feedback to my answer would be nice. <i>(I will delete this comment again after the feedback will have arrived.)</i>"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628129540,"creation_date":1628129540,"answer_id":68659823,"question_id":68654715,"body_markdown":"Probably the class implementing `MyService` is defined in a package other than `com.test.services`, such as\r\n  * a subpackage like `com.test.services.impl` or\r\n  * a totally different package like `com.test.app`.\r\n\r\nAs described [Language semantics - Pointcuts](https://www.eclipse.org/aspectj/doc/next/progguide/semantics-pointcuts.html) in the AspectJ documentation,\r\n  * some pointcut types like `execution()` or `call()` (unavailable in Spring AOP) deal with the runtime structure (match signatures),\r\n  * while others like `within()` or `withincode()` deal with lexical structure (where the matching code is defined). See e.g. [section &quot;Program text-based pointcuts&quot;](https://www.eclipse.org/aspectj/doc/next/progguide/semantics-pointcuts.html#d0e5495).\r\n\r\nSo if we have a class `com.test.app.MyServiceImpl`, you can fix your pointcut to be `within(com.test.services.*+)` in order to also match subtypes of classes defined in the `com.test.services` package. The `+` for subtypes is not necessary in `execution()`, because `MyServiceImpl` is also a `MyService`, i.e. `execution(* com.test.services.MyService.*(..))` already matches.\r\n\r\nIf on the other hand the class name was `com.test.services.impl.MyServiceImpl` instead, the pointcut `within(com.test.services..*)` (double dot for including subpackages) would also work, but then it would again exclude implementations in other packages. The most universal one is `within(com.test.services..*+)`, but which one you use really depends on your use case, and too broad is not good either in many cases.","title":"Why is my Spring AOP within pointcut not working but execution is?","body":"<p>Probably the class implementing <code>MyService</code> is defined in a package other than <code>com.test.services</code>, such as</p>\n<ul>\n<li>a subpackage like <code>com.test.services.impl</code> or</li>\n<li>a totally different package like <code>com.test.app</code>.</li>\n</ul>\n<p>As described <a href=\"https://www.eclipse.org/aspectj/doc/next/progguide/semantics-pointcuts.html\" rel=\"nofollow noreferrer\">Language semantics - Pointcuts</a> in the AspectJ documentation,</p>\n<ul>\n<li>some pointcut types like <code>execution()</code> or <code>call()</code> (unavailable in Spring AOP) deal with the runtime structure (match signatures),</li>\n<li>while others like <code>within()</code> or <code>withincode()</code> deal with lexical structure (where the matching code is defined). See e.g. <a href=\"https://www.eclipse.org/aspectj/doc/next/progguide/semantics-pointcuts.html#d0e5495\" rel=\"nofollow noreferrer\">section &quot;Program text-based pointcuts&quot;</a>.</li>\n</ul>\n<p>So if we have a class <code>com.test.app.MyServiceImpl</code>, you can fix your pointcut to be <code>within(com.test.services.*+)</code> in order to also match subtypes of classes defined in the <code>com.test.services</code> package. The <code>+</code> for subtypes is not necessary in <code>execution()</code>, because <code>MyServiceImpl</code> is also a <code>MyService</code>, i.e. <code>execution(* com.test.services.MyService.*(..))</code> already matches.</p>\n<p>If on the other hand the class name was <code>com.test.services.impl.MyServiceImpl</code> instead, the pointcut <code>within(com.test.services..*)</code> (double dot for including subpackages) would also work, but then it would again exclude implementations in other packages. The most universal one is <code>within(com.test.services..*+)</code>, but which one you use really depends on your use case, and too broad is not good either in many cases.</p>\n"}],"owner":{"account_id":356150,"reputation":1634,"user_id":695486,"accept_rate":66,"display_name":"wxkevin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678616560,"creation_date":1628093681,"question_id":68654715,"body_markdown":"In my Spring Boot application I have working a pointcut against an interface that successfully works using &quot;execution&quot;. I tried converting it to &quot;within&quot; as an exercise following a tutorial and it is not working and I can&#39;t figure out why.\r\n\r\nHere is Service Interface:\r\n\r\n    package com.test.services;\r\n\r\n    import com.test.model.MyObject;\r\n\r\n    public interface MyService {\r\n        MyObject get(Long id);\r\n    }\r\n\r\nHere is Aspect that works:\r\n\r\n    package com.test.aop;\r\n\r\n    import org.aspectJ.lang.annoation.Aspect;\r\n    import org.aspectJ.lang.annoation.Before;\r\n    import org.aspectJ.lang.annoation.Pointcut;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    @Aspect\r\n    public class MyAspect {\r\n        @Pointcut(&quot;execution(* com.test.services.MyService.*(..))&quot;)\r\n        public void anyMyServiceMethod() {}\r\n\r\n        @Before(&quot;anyMyServiceMethod()&quot;)\r\n        public void beforeAnyServiceMethod() {\r\n            System.out.println(&quot;HERE!&quot;);\r\n        }\r\n    }\r\n\r\nI changed it to this and it doesn&#39;t work:\r\n\r\n    package com.test.aop;\r\n\r\n    import org.aspectJ.lang.annoation.Aspect;\r\n    import org.aspectJ.lang.annoation.Before;\r\n    import org.aspectJ.lang.annoation.Pointcut;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    @Aspect\r\n    public class MyAspect {\r\n        @Pointcut(&quot;within(com.test.services.*)&quot;)\r\n        public void anyMyServiceMethod() {}\r\n\r\n        @Before(&quot;anyMyServiceMethod()&quot;)\r\n        public void beforeAnyServiceMethod() {\r\n            System.out.println(&quot;HERE!&quot;);\r\n        }\r\n    }\r\n\r\nFrom what I read I thought the pointcut above using &quot;within&quot; should match any method in the package com.test.services but it is not. Am I missing something?","title":"Why is my Spring AOP within pointcut not working but execution is?","body":"<p>In my Spring Boot application I have working a pointcut against an interface that successfully works using &quot;execution&quot;. I tried converting it to &quot;within&quot; as an exercise following a tutorial and it is not working and I can't figure out why.</p>\n<p>Here is Service Interface:</p>\n<pre><code>package com.test.services;\n\nimport com.test.model.MyObject;\n\npublic interface MyService {\n    MyObject get(Long id);\n}\n</code></pre>\n<p>Here is Aspect that works:</p>\n<pre><code>package com.test.aop;\n\nimport org.aspectJ.lang.annoation.Aspect;\nimport org.aspectJ.lang.annoation.Before;\nimport org.aspectJ.lang.annoation.Pointcut;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Aspect\npublic class MyAspect {\n    @Pointcut(&quot;execution(* com.test.services.MyService.*(..))&quot;)\n    public void anyMyServiceMethod() {}\n\n    @Before(&quot;anyMyServiceMethod()&quot;)\n    public void beforeAnyServiceMethod() {\n        System.out.println(&quot;HERE!&quot;);\n    }\n}\n</code></pre>\n<p>I changed it to this and it doesn't work:</p>\n<pre><code>package com.test.aop;\n\nimport org.aspectJ.lang.annoation.Aspect;\nimport org.aspectJ.lang.annoation.Before;\nimport org.aspectJ.lang.annoation.Pointcut;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Aspect\npublic class MyAspect {\n    @Pointcut(&quot;within(com.test.services.*)&quot;)\n    public void anyMyServiceMethod() {}\n\n    @Before(&quot;anyMyServiceMethod()&quot;)\n    public void beforeAnyServiceMethod() {\n        System.out.println(&quot;HERE!&quot;);\n    }\n}\n</code></pre>\n<p>From what I read I thought the pointcut above using &quot;within&quot; should match any method in the package com.test.services but it is not. Am I missing something?</p>\n"},{"tags":["java","spring","aspectj","spring-aop"],"comments":[{"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"score":0,"creation_date":1675245248,"post_id":75308056,"comment_id":132885140,"body_markdown":"Maybe this helps https://stackoverflow.com/questions/23199222/pointcut-for-inherited-methods","body":"Maybe this helps <a href=\"https://stackoverflow.com/questions/23199222/pointcut-for-inherited-methods\" title=\"pointcut for inherited methods\">stackoverflow.com/questions/23199222/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":475248,"reputation":2320,"user_id":885453,"accept_rate":44,"display_name":"maqjav"},"score":0,"creation_date":1675752280,"post_id":75338325,"comment_id":132990872,"body_markdown":"Thank you very much for your comment, it was very clear and useful. I&#39;m actually looking for the second solution, so I&#39;m going to switch to AspectJ and take a look to `cflow` as you suggested.","body":"Thank you very much for your comment, it was very clear and useful. I&#39;m actually looking for the second solution, so I&#39;m going to switch to AspectJ and take a look to <code>cflow</code> as you suggested."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675760584,"creation_date":1675440739,"answer_id":75338325,"question_id":75308056,"body_markdown":"The syntax you just invented is illegal, unfortunately. You cannot describe chained method calls the ways you dreamed up.\r\n\r\nWhat you really want is to intercept method executions of type `WhateverObject`, not of `MyAbstractObject` or `MyObject`. I.e., your pointcut should rather bet something like\r\n\r\n```java\r\nexecution(* mypackage.WhateverObject.set*(*))\r\n```\r\n\r\nI am just guessing, but if you want to limit matching to control flows where the setter method is called (directly or indirectly) from `getMyOtherObject()`, in AspectJ your would add something like\r\n\r\n```java\r\n&amp;&amp; cflow(execution(* mypackage.MyAbstractObject.getMyOtherObject()))\r\n```\r\n\r\nto the first pointcut. But `cflow` pointcuts are unavailable in Spring AOP, which is what you seem to be using. So\r\n  * either you switch to native AspectJ, which is easy to [integrate into Spring](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-using-aspectj) applications, but can also be used outside of the Spring context because it is an idependent product,\r\n  * or you check if Spring AOP&#39;s [&quot;lite&quot; version of control flow pointcuts](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-api-pointcuts-cflow) does what you need. I posted a few answers and links mentioning this almost undocumented feature [here](https://stackoverflow.com/a/69567232/1082681) and [there](https://stackoverflow.com/a/66649082/1082681).\r\n\r\nAs a native AspectJ fan who does not normally use Spring, you can imagine which option I would recommend regarding control flow pointcuts, but I think you can make your own decision.","title":"AspectJ on children objects","body":"<p>The syntax you just invented is illegal, unfortunately. You cannot describe chained method calls the ways you dreamed up.</p>\n<p>What you really want is to intercept method executions of type <code>WhateverObject</code>, not of <code>MyAbstractObject</code> or <code>MyObject</code>. I.e., your pointcut should rather bet something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>execution(* mypackage.WhateverObject.set*(*))\n</code></pre>\n<p>I am just guessing, but if you want to limit matching to control flows where the setter method is called (directly or indirectly) from <code>getMyOtherObject()</code>, in AspectJ your would add something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>&amp;&amp; cflow(execution(* mypackage.MyAbstractObject.getMyOtherObject()))\n</code></pre>\n<p>to the first pointcut. But <code>cflow</code> pointcuts are unavailable in Spring AOP, which is what you seem to be using. So</p>\n<ul>\n<li>either you switch to native AspectJ, which is easy to <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-using-aspectj\" rel=\"nofollow noreferrer\">integrate into Spring</a> applications, but can also be used outside of the Spring context because it is an idependent product,</li>\n<li>or you check if Spring AOP's <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-api-pointcuts-cflow\" rel=\"nofollow noreferrer\">&quot;lite&quot; version of control flow pointcuts</a> does what you need. I posted a few answers and links mentioning this almost undocumented feature <a href=\"https://stackoverflow.com/a/69567232/1082681\">here</a> and <a href=\"https://stackoverflow.com/a/66649082/1082681\">there</a>.</li>\n</ul>\n<p>As a native AspectJ fan who does not normally use Spring, you can imagine which option I would recommend regarding control flow pointcuts, but I think you can make your own decision.</p>\n"}],"owner":{"account_id":475248,"reputation":2320,"user_id":885453,"accept_rate":44,"display_name":"maqjav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75338325,"answer_count":1,"score":0,"last_activity_date":1678616537,"creation_date":1675243734,"question_id":75308056,"body_markdown":"I&#39;m starting to work with AspectJ and I&#39;m trying to do something that I don&#39;t know if it&#39;s possible. This is my code:\r\n\r\n\r\n    public abstract class MyAbstractObject&lt;T&gt; {\r\n        private T myOtherObject;\r\n\r\n        public T getMyOtherObject() {\r\n            return myOtherObject;\r\n        }\r\n    }\r\n\r\n    @Component\r\n    public class MyObject extends MyAbstractObject&lt;WhateverObject&gt; {\r\n        \r\n    }\r\n\r\n    @Aspect\r\n    @Component\r\n    public class MyAspects {\r\n        \r\n        @Before(&quot;execution(* mypackage.MyAbstractObject.getMyOtherObject().set*(*))&quot;)\r\n        public void beforeExample(JoinPoint joinPoint) {\r\n\t\t    // DO THINGS\r\n        }\r\n\t}\r\n    \r\nThis code fails, with the error:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Pointcut is not well-formed: expecting &#39;)&#39; at character position 58 execution(* mypackage.MyAbstractObject.getMyOtherObject().set*(*))\r\n\r\nHowever, I can intercept MyOtherObject like this, but not it&#39;s setters:\r\n\r\n    @Aspect\r\n    @Component\r\n    public class MyAspects {\r\n        \r\n        @Before(&quot;execution(* mypackage.MyAbstractObject.getMyOtherObject())&quot;)\r\n        public void beforeExample(JoinPoint joinPoint) {\r\n\t\t    // DO THINGS\r\n\t    }\r\n    }\r\n\r\nI don&#39;t want to intercept the setters of the object MyOtherObject everywhere, because this object is used in more places in the program where I don&#39;t need aspects. However I want to intercept them only when used in a class that extends MyAbstractObject.\r\n\r\nI&#39;m using Spring with AspectJ.\r\n\r\nThanks.","title":"AspectJ on children objects","body":"<p>I'm starting to work with AspectJ and I'm trying to do something that I don't know if it's possible. This is my code:</p>\n<pre><code>public abstract class MyAbstractObject&lt;T&gt; {\n    private T myOtherObject;\n\n    public T getMyOtherObject() {\n        return myOtherObject;\n    }\n}\n\n@Component\npublic class MyObject extends MyAbstractObject&lt;WhateverObject&gt; {\n    \n}\n\n@Aspect\n@Component\npublic class MyAspects {\n    \n    @Before(&quot;execution(* mypackage.MyAbstractObject.getMyOtherObject().set*(*))&quot;)\n    public void beforeExample(JoinPoint joinPoint) {\n        // DO THINGS\n    }\n}\n</code></pre>\n<p>This code fails, with the error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Pointcut is not well-formed: expecting ')' at character position 58 execution(* mypackage.MyAbstractObject.getMyOtherObject().set*(*))\n</code></pre>\n<p>However, I can intercept MyOtherObject like this, but not it's setters:</p>\n<pre><code>@Aspect\n@Component\npublic class MyAspects {\n    \n    @Before(&quot;execution(* mypackage.MyAbstractObject.getMyOtherObject())&quot;)\n    public void beforeExample(JoinPoint joinPoint) {\n        // DO THINGS\n    }\n}\n</code></pre>\n<p>I don't want to intercept the setters of the object MyOtherObject everywhere, because this object is used in more places in the program where I don't need aspects. However I want to intercept them only when used in a class that extends MyAbstractObject.</p>\n<p>I'm using Spring with AspectJ.</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-aop","pointcut"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1469286595,"creation_date":1469286595,"answer_id":38543236,"question_id":38507316,"body_markdown":"The pointcut should be:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    within(com.mypackage.Super+)\r\n\r\nwhere `com.mypackage.Super` is the fully qualified base class name and `+` means &quot;all subclasses&quot;. This works for Spring AOP. In AspectJ this would match too many joinpoints, not just method executions. Here is another pointcut that works for both Spring AOP and AspectJ:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    execution(* com.mypackage.Super+.*(..))","title":"How to specify single pointcut for all classes that extend a specific class","body":"<p>The pointcut should be:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>within(com.mypackage.Super+)\n</code></pre>\n\n<p>where <code>com.mypackage.Super</code> is the fully qualified base class name and <code>+</code> means \"all subclasses\". This works for Spring AOP. In AspectJ this would match too many joinpoints, not just method executions. Here is another pointcut that works for both Spring AOP and AspectJ:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>execution(* com.mypackage.Super+.*(..))\n</code></pre>\n"}],"owner":{"account_id":2447950,"reputation":448,"user_id":2134835,"accept_rate":45,"display_name":"junior developper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4982,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":38543236,"answer_count":1,"score":6,"last_activity_date":1678616408,"creation_date":1469112155,"question_id":38507316,"body_markdown":"I have multiple classes from different packages that extends a class Super.\r\nAnd i want to create an AOP pointcut around that match all the methods in all classes that extends Super.\r\nI have tried this:\r\n\r\n    @Around(&quot;within(com.mypackage.that.contains.super..*)&quot;)\r\n    public void aroundAllEndPoints(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    \t\tLOGGER.info(&quot;before Proceed &quot;);\r\n    \t\tjoinPoint.proceed();\r\n    \t\tLOGGER.info(&quot;after Proceed&quot;);\r\n    }\r\n\r\nBut it doesn&#39;t work.\r\nAny Suggestions?\r\n","title":"How to specify single pointcut for all classes that extend a specific class","body":"<p>I have multiple classes from different packages that extends a class Super.\nAnd i want to create an AOP pointcut around that match all the methods in all classes that extends Super.\nI have tried this:</p>\n\n<pre><code>@Around(\"within(com.mypackage.that.contains.super..*)\")\npublic void aroundAllEndPoints(ProceedingJoinPoint joinPoint) throws Throwable {\n        LOGGER.info(\"before Proceed \");\n        joinPoint.proceed();\n        LOGGER.info(\"after Proceed\");\n}\n</code></pre>\n\n<p>But it doesn't work.\nAny Suggestions?</p>\n"},{"tags":["java","android","kotlin","gesture","touch-event"],"answers":[{"comments":[{"owner":{"account_id":5479106,"reputation":1088,"user_id":4356169,"accept_rate":57,"display_name":"jdleung"},"score":0,"creation_date":1678606705,"post_id":75703754,"comment_id":133563661,"body_markdown":"This doesn&#39;t solve the problem, it will still cancel the player&#39;s touch event while playing game.","body":"This doesn&#39;t solve the problem, it will still cancel the player&#39;s touch event while playing game."}],"tags":[],"owner":{"account_id":21992416,"reputation":51,"user_id":16265547,"display_name":"ilyassavli"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678524374,"creation_date":1678524374,"answer_id":75703754,"question_id":75702774,"body_markdown":"You can check the statement whether user playing.\r\n\r\nFor example;\r\n\r\n    override fun onBackPressed() {\r\n        if(!isPlaying){\r\n            super.onBackPressed()\r\n        }\r\n    }\r\n    \r\nand so on.\r\nI hope, this will help you :)","title":"How to totally disable swipe back on Android phone?","body":"<p>You can check the statement whether user playing.</p>\n<p>For example;</p>\n<pre><code>override fun onBackPressed() {\n    if(!isPlaying){\n        super.onBackPressed()\n    }\n}\n</code></pre>\n<p>and so on.\nI hope, this will help you :)</p>\n"},{"comments":[{"owner":{"account_id":5479106,"reputation":1088,"user_id":4356169,"accept_rate":57,"display_name":"jdleung"},"score":0,"creation_date":1678660355,"post_id":75712448,"comment_id":133572075,"body_markdown":"Actually the code does the same thing as the above, I had also tried method `override fun onKeyDown(keyCode: Int, event: KeyEvent?): Boolean`. On android,  When player swipe from the screen edge left to right, player&#39;s operation will be stopped while a left arrow shows up. I&#39;m looking for a setting to disable this default detection like iOS does.","body":"Actually the code does the same thing as the above, I had also tried method <code>override fun onKeyDown(keyCode: Int, event: KeyEvent?): Boolean</code>. On android,  When player swipe from the screen edge left to right, player&#39;s operation will be stopped while a left arrow shows up. I&#39;m looking for a setting to disable this default detection like iOS does."}],"tags":[],"owner":{"account_id":21992416,"reputation":51,"user_id":16265547,"display_name":"ilyassavli"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678616279,"creation_date":1678616279,"answer_id":75712448,"question_id":75702774,"body_markdown":"Maybe you can use setOnKeyListener to listen all hardware keys.\r\n\r\nFor this Hardware Back Button equals to `KeyEvent.KEYCODE_BACK`\r\n\r\nSo the code can be like in this example;\r\n\r\n    view.apply {\r\n                isFocusableInTouchMode = true\r\n                requestFocus()\r\n    \r\n                setOnKeyListener { v, keyCode, event -&gt;\r\n                    if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n                        Toast.makeText(requireContext(), &quot;Hardware Back Clicked!&quot;, Toast.LENGTH_SHORT).show()\r\n                    }\r\n                    true // If this is true then it will not send to onBackPressed() otherwise it will send\r\n                }\r\n            }\r\nThe point is return value. If it is true then it will not call onBackPressed() otherwise it will call onBackPressed().\r\n\r\nview equals to Fragment.view or view of onViewCreated() parameter.\r\n\r\nSo you can read all the time if any key pressed with these function, you can send return value according to your needs.","title":"How to totally disable swipe back on Android phone?","body":"<p>Maybe you can use setOnKeyListener to listen all hardware keys.</p>\n<p>For this Hardware Back Button equals to <code>KeyEvent.KEYCODE_BACK</code></p>\n<p>So the code can be like in this example;</p>\n<pre><code>view.apply {\n            isFocusableInTouchMode = true\n            requestFocus()\n\n            setOnKeyListener { v, keyCode, event -&gt;\n                if (keyCode == KeyEvent.KEYCODE_BACK) {\n                    Toast.makeText(requireContext(), &quot;Hardware Back Clicked!&quot;, Toast.LENGTH_SHORT).show()\n                }\n                true // If this is true then it will not send to onBackPressed() otherwise it will send\n            }\n        }\n</code></pre>\n<p>The point is return value. If it is true then it will not call onBackPressed() otherwise it will call onBackPressed().</p>\n<p>view equals to Fragment.view or view of onViewCreated() parameter.</p>\n<p>So you can read all the time if any key pressed with these function, you can send return value according to your needs.</p>\n"}],"owner":{"account_id":5479106,"reputation":1088,"user_id":4356169,"accept_rate":57,"display_name":"jdleung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678616279,"creation_date":1678508902,"question_id":75702774,"body_markdown":"Gestures are common operatons while playing games , if players swipe right from the edge of the screen, The screen goes back to previous screen and the game will be paused (or over).\r\n\r\nThe following code can stop going back, but the swipe gesture first causes `onTouchEvent(event: MotionEvent)` to be cancelled and stops the operation the players want to do, it&#39;s not a good experience for players.\r\n\r\nIs there a better idea to disable the back gesture?\r\n\r\n\r\n    override fun onBackPressed() {\r\n       // super.onBackPressed()\r\n    }","title":"How to totally disable swipe back on Android phone?","body":"<p>Gestures are common operatons while playing games , if players swipe right from the edge of the screen, The screen goes back to previous screen and the game will be paused (or over).</p>\n<p>The following code can stop going back, but the swipe gesture first causes <code>onTouchEvent(event: MotionEvent)</code> to be cancelled and stops the operation the players want to do, it's not a good experience for players.</p>\n<p>Is there a better idea to disable the back gesture?</p>\n<pre><code>override fun onBackPressed() {\n   // super.onBackPressed()\n}\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","cpu-cores"],"comments":[{"owner":{"account_id":7601119,"reputation":655,"user_id":5765683,"display_name":"user5765683"},"score":4,"creation_date":1452397012,"post_id":34689709,"comment_id":57149690,"body_markdown":"Wow thank you.  All of these are such great responses and has really helped in understanding this subject better.","body":"Wow thank you.  All of these are such great responses and has really helped in understanding this subject better."}],"answers":[{"tags":[],"owner":{"account_id":3089813,"reputation":2349,"user_id":2616221,"accept_rate":0,"display_name":"gardenhead"},"comment_count":0,"down_vote_count":0,"up_vote_count":111,"is_accepted":true,"score":111,"last_activity_date":1452315634,"creation_date":1452315634,"answer_id":34689857,"question_id":34689709,"body_markdown":"## Processes vs Threads ##\r\n\r\nIn days of old, each process had precisely one *thread* of execution, so processes were scheduled onto cores directly (and in these old days, there was almost only one core to schedule onto). However, in operating systems that support threading (which is almost all moderns OS&#39;s), it is *threads*, not processes that are scheduled. So for the rest of this discussion we will talk exclusively about threads, and you should understand that each running process has one or more threads of execution.\r\n\r\n## Parallelism vs Concurrency ##\r\n\r\nWhen two threads are running in **parallel**, they are both running *at the same time*. For example, if we have two threads, A and B, then their parallel execution would look like this:\r\n\r\nCPU 1: A -------------------------&gt;\r\n\r\nCPU 2: B -------------------------&gt;\r\n\r\nWhen two threads are running **concurrently**, their execution *overlaps*. Overlapping can happen in one of two ways: either the threads are executing at the same time (i.e. in parallel, as above), or their executions are being interleaved on the processor, like so:\r\n\r\nCPU 1: A -----------&gt; B ----------&gt; A -----------&gt; B ----------&gt;\r\n\r\n\r\nSo, *for our purposes*, parallelism can be thought of as a special case of concurrency*\r\n\r\n## Scheduling ##\r\n\r\n&gt; But we are able to produce a thread pool(lets say 30) with a larger number than the number of cores that we posses(lets say 4) and have them run concurrently. How is this possible if we are only have 4 cores? \r\n\r\nIn this case, they can run concurrently because the CPU scheduler is giving each one of those 30 threads some share of CPU time. Some threads *will* be running in parallel (if you have 4 cores, then 4 threads will be running in parallel at any one time), but all 30 threads will be running concurrently. The reason you can then go play games or browse the web is that these new threads are added to the thread pool/queue and also given a share of CPU time.\r\n\r\n## Logical vs Physical Cores ##\r\n\r\n&gt; According to my current understanding, a core can only perform 1 process at a time\r\n\r\nThis is not *quite* true. Due to very clever hardware design and pipelining that would be much too long to go into here (plus I don&#39;t understand it), it is possible for one physical core to actually be executing *two completely different threads of execution at the same time*. Chew over that sentence a bit if you need to -- it still blows my mind.\r\n\r\nThis amazing feat is called simultaneous multi-threading (or popularly Hyper-Threading, although that is a proprietary name for a specific instance of such technology). Thus, we have **physical cores**, which are the actual hardware CPU cores, and **logical cores**, which is the number of cores the operating system tells software is available for use. Logical cores are essentially an abstraction. In typical modern Intel CPUs, each physical core acts as two logical cores.\r\n\r\n&gt; can someone explain how this works and also recommend some good reading on this?\r\n\r\nI would recommend *Operating System Concepts* if you really want to understand how processes, threads, and scheduling all work together.\r\n\r\n* The precise meanings of the terms *parallel* and *concurrent* are hotly debated, even [here in our very own stack overflow][1]. What one means by these terms depends a lot on the application domain.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1050222/concurrency-vs-parallelism-what-is-the-difference","title":"Java threads and number of cores","body":"<h2>Processes vs Threads</h2>\n\n<p>In days of old, each process had precisely one <em>thread</em> of execution, so processes were scheduled onto cores directly (and in these old days, there was almost only one core to schedule onto). However, in operating systems that support threading (which is almost all moderns OS's), it is <em>threads</em>, not processes that are scheduled. So for the rest of this discussion we will talk exclusively about threads, and you should understand that each running process has one or more threads of execution.</p>\n\n<h2>Parallelism vs Concurrency</h2>\n\n<p>When two threads are running in <strong>parallel</strong>, they are both running <em>at the same time</em>. For example, if we have two threads, A and B, then their parallel execution would look like this:</p>\n\n<p>CPU 1: A -------------------------></p>\n\n<p>CPU 2: B -------------------------></p>\n\n<p>When two threads are running <strong>concurrently</strong>, their execution <em>overlaps</em>. Overlapping can happen in one of two ways: either the threads are executing at the same time (i.e. in parallel, as above), or their executions are being interleaved on the processor, like so:</p>\n\n<p>CPU 1: A -----------> B ----------> A -----------> B ----------></p>\n\n<p>So, <em>for our purposes</em>, parallelism can be thought of as a special case of concurrency*</p>\n\n<h2>Scheduling</h2>\n\n<blockquote>\n  <p>But we are able to produce a thread pool(lets say 30) with a larger number than the number of cores that we posses(lets say 4) and have them run concurrently. How is this possible if we are only have 4 cores? </p>\n</blockquote>\n\n<p>In this case, they can run concurrently because the CPU scheduler is giving each one of those 30 threads some share of CPU time. Some threads <em>will</em> be running in parallel (if you have 4 cores, then 4 threads will be running in parallel at any one time), but all 30 threads will be running concurrently. The reason you can then go play games or browse the web is that these new threads are added to the thread pool/queue and also given a share of CPU time.</p>\n\n<h2>Logical vs Physical Cores</h2>\n\n<blockquote>\n  <p>According to my current understanding, a core can only perform 1 process at a time</p>\n</blockquote>\n\n<p>This is not <em>quite</em> true. Due to very clever hardware design and pipelining that would be much too long to go into here (plus I don't understand it), it is possible for one physical core to actually be executing <em>two completely different threads of execution at the same time</em>. Chew over that sentence a bit if you need to -- it still blows my mind.</p>\n\n<p>This amazing feat is called simultaneous multi-threading (or popularly Hyper-Threading, although that is a proprietary name for a specific instance of such technology). Thus, we have <strong>physical cores</strong>, which are the actual hardware CPU cores, and <strong>logical cores</strong>, which is the number of cores the operating system tells software is available for use. Logical cores are essentially an abstraction. In typical modern Intel CPUs, each physical core acts as two logical cores.</p>\n\n<blockquote>\n  <p>can someone explain how this works and also recommend some good reading on this?</p>\n</blockquote>\n\n<p>I would recommend <em>Operating System Concepts</em> if you really want to understand how processes, threads, and scheduling all work together.</p>\n\n<ul>\n<li>The precise meanings of the terms <em>parallel</em> and <em>concurrent</em> are hotly debated, even <a href=\"https://stackoverflow.com/questions/1050222/concurrency-vs-parallelism-what-is-the-difference\">here in our very own stack overflow</a>. What one means by these terms depends a lot on the application domain.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4714434,"reputation":41866,"user_id":3814029,"accept_rate":67,"display_name":"Andy Guibert"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1452369666,"creation_date":1452369666,"answer_id":34698264,"question_id":34689709,"body_markdown":"In short, your understanding of a core is correct.  A core can execute 1 thread (aka process) at a time.\r\n\r\nHowever, your program doesn&#39;t **really** run 30 threads at once.  Of those 30 threads, only 4 are running at a time, and the other 26 are waiting.  The CPU will schedule threads and give each thread a slice of time to run on a core.  So the CPU will make all the threads take turns running.\r\n\r\n**A common misconception:**\r\n&gt; Having more threads will make my program run faster.\r\n\r\nFALSE: Having more threads will **NOT** always make your program run faster.  It just means the CPU has to do more switching, and in fact, having too many threads will make your program run *slower* because of the overhead caused by switching out all the different processes.","title":"Java threads and number of cores","body":"<p>In short, your understanding of a core is correct.  A core can execute 1 thread (aka process) at a time.</p>\n\n<p>However, your program doesn't <strong>really</strong> run 30 threads at once.  Of those 30 threads, only 4 are running at a time, and the other 26 are waiting.  The CPU will schedule threads and give each thread a slice of time to run on a core.  So the CPU will make all the threads take turns running.</p>\n\n<p><strong>A common misconception:</strong></p>\n\n<blockquote>\n  <p>Having more threads will make my program run faster.</p>\n</blockquote>\n\n<p>FALSE: Having more threads will <strong>NOT</strong> always make your program run faster.  It just means the CPU has to do more switching, and in fact, having too many threads will make your program run <em>slower</em> because of the overhead caused by switching out all the different processes.</p>\n"},{"comments":[{"owner":{"account_id":7601119,"reputation":655,"user_id":5765683,"display_name":"user5765683"},"score":0,"creation_date":1452397141,"post_id":34698627,"comment_id":57149717,"body_markdown":"Thank you for the response.  And i will be sure to check out Erlang and do more research on green threads","body":"Thank you for the response.  And i will be sure to check out Erlang and do more research on green threads"}],"tags":[],"owner":{"display_name":"user4774371"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1452372744,"creation_date":1452371773,"answer_id":34698627,"question_id":34689709,"body_markdown":"Java do not perform **Thread scheduling**, it leaves this on **Operating System** to perform Thread scheduling.\r\n\r\nFor **computationally intensive** tasks, It is recommended to have thread pool size equal to number of cores available. But for **I/O bound** tasks we should have larger number of threads. There are many other variations, if both type of tasks are available and needs CPU time slice.\r\n\r\n&gt; a core can only perform 1 process at a time\r\n\r\nYes, but they can **multitask** and create an **illusion** that they are processing more than one process at a time\r\n\r\n&gt; How is this possible if we are only have 4 cores? I am also able to\r\n&gt; run my 30 thread program on my local computer and also continue to\r\n&gt; perform other activities on my computer\r\n\r\nThis is possible due to **multitasking** (which is **concurrency**). Lets say you started 30 threads and OS is also running 50 threads, all 80 threads will share 4 CPU cores by getting CPU time slice one by one (one thread per core at a time). Which means on average each core will run 80/4=20 threads concurrently. And you will feel all threads/processes are running at the same time.\r\n\r\n&gt; can someone explain how this works\r\n\r\nAll of this happens at **OS level**. If you are a programmer then you should not worry about this. But if you are a student of OS then pick any OS book &amp; learn more about Multi-threading at OS level in detail or find some good research paper for depth. One thing you should know that each OS handle these things in different way (but generally concepts are same)\r\n\r\nThere are some languages like **Erlang**, which use green threads (or processes), due to which they get the ability to map and schedule threads on their own eliminating OS. So, do some research on **green threads** as well if you are interested.\r\n\r\n**Note:** You can also research on **actors** which is another **abstraction** over threads. Languages like Erlang, Scala etc use actors to accomplish tasks. One thread can have hundred of actors; each actor can perform different task (similar to threads in java).\r\n\r\nThis is a very **vast and active research topic** and there are many things to learn.","title":"Java threads and number of cores","body":"<p>Java do not perform <strong>Thread scheduling</strong>, it leaves this on <strong>Operating System</strong> to perform Thread scheduling.</p>\n\n<p>For <strong>computationally intensive</strong> tasks, It is recommended to have thread pool size equal to number of cores available. But for <strong>I/O bound</strong> tasks we should have larger number of threads. There are many other variations, if both type of tasks are available and needs CPU time slice.</p>\n\n<blockquote>\n  <p>a core can only perform 1 process at a time</p>\n</blockquote>\n\n<p>Yes, but they can <strong>multitask</strong> and create an <strong>illusion</strong> that they are processing more than one process at a time</p>\n\n<blockquote>\n  <p>How is this possible if we are only have 4 cores? I am also able to\n  run my 30 thread program on my local computer and also continue to\n  perform other activities on my computer</p>\n</blockquote>\n\n<p>This is possible due to <strong>multitasking</strong> (which is <strong>concurrency</strong>). Lets say you started 30 threads and OS is also running 50 threads, all 80 threads will share 4 CPU cores by getting CPU time slice one by one (one thread per core at a time). Which means on average each core will run 80/4=20 threads concurrently. And you will feel all threads/processes are running at the same time.</p>\n\n<blockquote>\n  <p>can someone explain how this works</p>\n</blockquote>\n\n<p>All of this happens at <strong>OS level</strong>. If you are a programmer then you should not worry about this. But if you are a student of OS then pick any OS book &amp; learn more about Multi-threading at OS level in detail or find some good research paper for depth. One thing you should know that each OS handle these things in different way (but generally concepts are same)</p>\n\n<p>There are some languages like <strong>Erlang</strong>, which use green threads (or processes), due to which they get the ability to map and schedule threads on their own eliminating OS. So, do some research on <strong>green threads</strong> as well if you are interested.</p>\n\n<p><strong>Note:</strong> You can also research on <strong>actors</strong> which is another <strong>abstraction</strong> over threads. Languages like Erlang, Scala etc use actors to accomplish tasks. One thread can have hundred of actors; each actor can perform different task (similar to threads in java).</p>\n\n<p>This is a very <strong>vast and active research topic</strong> and there are many things to learn.</p>\n"},{"tags":[],"owner":{"account_id":22232274,"reputation":21,"user_id":16468236,"display_name":"sangon-g"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678615545,"creation_date":1678565257,"answer_id":75709223,"question_id":34689709,"body_markdown":"I&#39;d like to add to the excellent answer of gardenhead. \r\n\r\nAs far as I know, even in simultaneous multithreading (Intel&#39;s Hyperthreading is an implementation thereof), the threads running on a specific core need to be from the same process. The reason is that each process has its own virtual address space. When these threads want to access memory, they do so with the virtual address. However, if the threads are from different processes, they use different virtual addresses to refer to the same physical address (this is what it means to have a different virtual address space). Hence this cannot work.\r\n\r\nLet us now talk about a specific implementation of simultaneous multi-threading: Hyperthreading. This allows each core to have two threads scheduled at the same time (from the same process). It is achieved by simply adding a second set of architectural registers. Keep in mind that these include special registers like the instruction pointer and stack pointer. Now, in each clock cycle, the core can decide which thread to fetch an instruction from, since it has all the information it needs to execute instructions for any of the two threads:\r\n- thanks to the instruction pointers, it knows which instruction it needs to fetch\r\n- thanks to the stack pointer, it knows where to place variables when the registers are full\r\n- assuming that the threads are in fact from the same process: they share a heap and hence no matter which thread the instruction is from, the core also knows where to place larger datastructures\r\n\r\nUsually the core switches to instructions from the other thread when a memory access occurs or data dependencies would force a no-op. Hence, the second thread can reduce the bubbles in the cpu pipeline. This of course means we cannot expect 2x speedup - but we can get more throughput for the small cost of adding a set of architectural registers and adding some logic to decide which instruction pointer and so on we need to choose. Intel talks of roughly 20% speedup depending on the application.","title":"Java threads and number of cores","body":"<p>I'd like to add to the excellent answer of gardenhead.</p>\n<p>As far as I know, even in simultaneous multithreading (Intel's Hyperthreading is an implementation thereof), the threads running on a specific core need to be from the same process. The reason is that each process has its own virtual address space. When these threads want to access memory, they do so with the virtual address. However, if the threads are from different processes, they use different virtual addresses to refer to the same physical address (this is what it means to have a different virtual address space). Hence this cannot work.</p>\n<p>Let us now talk about a specific implementation of simultaneous multi-threading: Hyperthreading. This allows each core to have two threads scheduled at the same time (from the same process). It is achieved by simply adding a second set of architectural registers. Keep in mind that these include special registers like the instruction pointer and stack pointer. Now, in each clock cycle, the core can decide which thread to fetch an instruction from, since it has all the information it needs to execute instructions for any of the two threads:</p>\n<ul>\n<li>thanks to the instruction pointers, it knows which instruction it needs to fetch</li>\n<li>thanks to the stack pointer, it knows where to place variables when the registers are full</li>\n<li>assuming that the threads are in fact from the same process: they share a heap and hence no matter which thread the instruction is from, the core also knows where to place larger datastructures</li>\n</ul>\n<p>Usually the core switches to instructions from the other thread when a memory access occurs or data dependencies would force a no-op. Hence, the second thread can reduce the bubbles in the cpu pipeline. This of course means we cannot expect 2x speedup - but we can get more throughput for the small cost of adding a set of architectural registers and adding some logic to decide which instruction pointer and so on we need to choose. Intel talks of roughly 20% speedup depending on the application.</p>\n"}],"owner":{"account_id":7601119,"reputation":655,"user_id":5765683,"display_name":"user5765683"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39058,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":34689857,"answer_count":4,"score":65,"last_activity_date":1678615545,"creation_date":1452314114,"question_id":34689709,"body_markdown":"I just had a quick question on how processors and threads work.  According to my current understanding, a core can only perform 1 process at a time.  But we are able to produce a thread pool(lets say 30) with a larger number than the number of cores that we posses(lets say 4) and have them run concurrently.  How is this possible if we are only have 4 cores?  I am also able to run my 30 thread program on my local computer and also continue to perform other activities on my computer such as watch movies or browse the internet.  \r\n\r\nI have read somewhere that scheduling of threads occurs and that sort of gives the illusion that these 30 threads are running concurrently by the 4 cores.  Is this true and if so can someone explain how this works and also recommend some good reading on this?      \r\n\r\nThank you in advance for the help.","title":"Java threads and number of cores","body":"<p>I just had a quick question on how processors and threads work.  According to my current understanding, a core can only perform 1 process at a time.  But we are able to produce a thread pool(lets say 30) with a larger number than the number of cores that we posses(lets say 4) and have them run concurrently.  How is this possible if we are only have 4 cores?  I am also able to run my 30 thread program on my local computer and also continue to perform other activities on my computer such as watch movies or browse the internet.  </p>\n\n<p>I have read somewhere that scheduling of threads occurs and that sort of gives the illusion that these 30 threads are running concurrently by the 4 cores.  Is this true and if so can someone explain how this works and also recommend some good reading on this?      </p>\n\n<p>Thank you in advance for the help.</p>\n"},{"tags":["java","hadoop","mapreduce","hadoop2","hadoop-partitioning"],"comments":[{"owner":{"account_id":6333754,"reputation":2065,"user_id":4917881,"display_name":"aventurin"},"score":0,"creation_date":1471252985,"post_id":38773248,"comment_id":65258983,"body_markdown":"Did fixing the compareTo method work for you?","body":"Did fixing the compareTo method work for you?"}],"answers":[{"tags":[],"owner":{"account_id":6333754,"reputation":2065,"user_id":4917881,"display_name":"aventurin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470504733,"creation_date":1470504733,"answer_id":38806982,"question_id":38773248,"body_markdown":"It seems that your `compareTo` method violates the common [contract][1] that requires `sgn(x.compareTo(y))`to be equal to `-sgn(y.compareTo(x))`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html#compareTo-T-","title":"Secondary Sort in Hadoop","body":"<p>It seems that your <code>compareTo</code> method violates the common <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html#compareTo-T-\" rel=\"nofollow\">contract</a> that requires <code>sgn(x.compareTo(y))</code>to be equal to <code>-sgn(y.compareTo(x))</code>.</p>\n"},{"tags":[],"owner":{"account_id":10697217,"reputation":71,"user_id":7873867,"display_name":"Sandeep Dabhade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492917120,"creation_date":1492876487,"answer_id":43561299,"question_id":38773248,"body_markdown":"After your customWritable, give one basic partitioner with a composite key and NullWritable value. For example:\r\n\r\n    public class SecondarySortBasicPartitioner extends\r\n      \tPartitioner&lt;CompositeKeyWritable, NullWritable&gt; {\r\n    \r\n    \tpublic int getPartition(CompositeKeyWritable key, NullWritable value,\r\n    \t\t\tint numReduceTasks) {\r\n    \r\n    \t\treturn (key.DEPT().hashCode() % numReduceTasks);\r\n    \t}\r\n    }\r\n\r\n\r\nAnd after this specify Key sort comparator and with 2 compositeKeyWritable variables the grouping will be done.","title":"Secondary Sort in Hadoop","body":"<p>After your customWritable, give one basic partitioner with a composite key and NullWritable value. For example:</p>\n\n<pre><code>public class SecondarySortBasicPartitioner extends\n    Partitioner&lt;CompositeKeyWritable, NullWritable&gt; {\n\n    public int getPartition(CompositeKeyWritable key, NullWritable value,\n            int numReduceTasks) {\n\n        return (key.DEPT().hashCode() % numReduceTasks);\n    }\n}\n</code></pre>\n\n<p>And after this specify Key sort comparator and with 2 compositeKeyWritable variables the grouping will be done.</p>\n"},{"tags":[],"owner":{"account_id":12638735,"reputation":81,"user_id":9187028,"display_name":"Harper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515577913,"creation_date":1515577913,"answer_id":48184568,"question_id":38773248,"body_markdown":"There are 3 procedures during shuffle: **Partitioning**, **Sorting** and **grouping**.\r\nI guess that you have multiple reducers and your similar results were processed by different reducers for they are in different partitions.\r\n\r\nYou can set the number of reducers to 1 or set a custom Partitioner which extends **org.apache.hadoop.mapreduce.Partitioner** for you job.","title":"Secondary Sort in Hadoop","body":"<p>There are 3 procedures during shuffle: <strong>Partitioning</strong>, <strong>Sorting</strong> and <strong>grouping</strong>.\nI guess that you have multiple reducers and your similar results were processed by different reducers for they are in different partitions.</p>\n\n<p>You can set the number of reducers to 1 or set a custom Partitioner which extends <strong>org.apache.hadoop.mapreduce.Partitioner</strong> for you job.</p>\n"}],"owner":{"account_id":3555007,"reputation":285,"user_id":2968968,"accept_rate":33,"display_name":"Abhishek Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":3,"score":18,"last_activity_date":1678615344,"creation_date":1470329681,"question_id":38773248,"body_markdown":"I am working on a `hadoop` project and after many visit to various blogs and reading the documentation, I realized I need to use secondary sort feature provided by `hadoop` framework.\r\n\r\nMy input format is of the form:\r\n\r\n    DESC(String) Price(Integer) and some other Text\r\nI want the values in the reducer to be descending order of the Price.\r\nAlso while comparing `DESC` I have a method which takes two strings and a Percentage and if similarity between the two strings equals or is greater than the percentage then I should consider them as equal.\r\n\r\nThe problem is after the Reduce Job is finished I can see some `DESC` which is similar to the other string and yet they are in different group.\r\n\r\n\r\nHere is my `compareTo` method of Composite key:\r\n\r\n    public int compareTo(VendorKey o) {\r\n        int result =-\r\n        result = compare(token, o.token, &quot;:&quot;) &gt;= percentage ? 0:1;\r\n        if (result == 0) {\r\n            return pid&gt; o.pid  ?-1: pid &lt; o.pid ?1:0;\r\n        }\r\n        return result;\r\n    }\r\n\r\nand compare method of Grouping Comparator:\r\n\r\n    public int compare(WritableComparable a, WritableComparable b) {\r\n        VendorKey one = (VendorKey) a;\r\n        VendorKey two = (VendorKey) b;\r\n        int result = ClusterUtil.compare(one.getToken(), two.getToken(), &quot;:&quot;) &gt;= one.getPercentage() ? 0 : 1;\r\n        // if (result != 0)\r\n        // return two.getToken().compareTo(one.getToken());\r\n        return result;\r\n    }\r\n","title":"Secondary Sort in Hadoop","body":"<p>I am working on a <code>hadoop</code> project and after many visit to various blogs and reading the documentation, I realized I need to use secondary sort feature provided by <code>hadoop</code> framework.</p>\n<p>My input format is of the form:</p>\n<pre><code>DESC(String) Price(Integer) and some other Text\n</code></pre>\n<p>I want the values in the reducer to be descending order of the Price.\nAlso while comparing <code>DESC</code> I have a method which takes two strings and a Percentage and if similarity between the two strings equals or is greater than the percentage then I should consider them as equal.</p>\n<p>The problem is after the Reduce Job is finished I can see some <code>DESC</code> which is similar to the other string and yet they are in different group.</p>\n<p>Here is my <code>compareTo</code> method of Composite key:</p>\n<pre><code>public int compareTo(VendorKey o) {\n    int result =-\n    result = compare(token, o.token, &quot;:&quot;) &gt;= percentage ? 0:1;\n    if (result == 0) {\n        return pid&gt; o.pid  ?-1: pid &lt; o.pid ?1:0;\n    }\n    return result;\n}\n</code></pre>\n<p>and compare method of Grouping Comparator:</p>\n<pre><code>public int compare(WritableComparable a, WritableComparable b) {\n    VendorKey one = (VendorKey) a;\n    VendorKey two = (VendorKey) b;\n    int result = ClusterUtil.compare(one.getToken(), two.getToken(), &quot;:&quot;) &gt;= one.getPercentage() ? 0 : 1;\n    // if (result != 0)\n    // return two.getToken().compareTo(one.getToken());\n    return result;\n}\n</code></pre>\n"},{"tags":["java","parsing","lex","jflex","cup"],"comments":[{"owner":{"account_id":3908710,"reputation":700,"user_id":3234641,"accept_rate":80,"display_name":"A-_-S"},"score":0,"creation_date":1678721088,"post_id":75712371,"comment_id":133584110,"body_markdown":"if you want to define TEXT as a string, rather than java.lang.Object you should declare it as &#39;terminal String TEXT;&#39;","body":"if you want to define TEXT as a string, rather than java.lang.Object you should declare it as &#39;terminal String TEXT;&#39;"}],"owner":{"account_id":25062339,"reputation":3,"user_id":18917065,"display_name":"Ale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678615339,"creation_date":1678615339,"question_id":75712371,"body_markdown":"I&#39;m using CUP for a project but I&#39;m not really sure how to save the value of the token TEXT into a String \r\n\r\nhere&#180;s my production:\r\n\r\n```\r\nerror_content ::= LEXEMA_START TEXT LEXEMA_END {:   System.out.println(&quot;&#180;text value&quot; ); :}\r\n                | LINE_START numero LINE_END {: System.out.println(&quot;numero value&quot;); :}\r\n                | COLUMN_START numero COLUMN_END {: System.out.println(&quot;numero value&quot;); :}\r\n                | TIPO_START TEXT TIPO_END {: System.out.println(&quot;text value&quot;); :}\r\n                | DESCRIPCION_START TEXT DESCRIPCION_END {: \r\n                      String textToken = &quot;TEXT VALUE&quot;\r\n                      System.out.println(&quot;p description: &quot; + textoToken); \r\n                   :};\r\n```\r\n\r\nhere&#39;s the complete code\r\n\r\n\r\n```\r\nparser code\r\n{:\r\n    public String resultado=&quot;&quot;;\r\n    public static LinkedList&lt;TError&gt; TablaES = new LinkedList&lt;TError&gt;(); \r\n    public static Flexcup f = new Flexcup();\r\n\r\n\r\n    //Metodo al que se llama en el momento en que ya no es posible una recuperacion de errores\r\n    public void unrecovered_syntax_error(Symbol s) throws java.lang.Exception\r\n    {        \r\n        String lexema = s.value.toString();\r\n        int fila = s.right;\r\n        int columna = s.left;\r\n        \r\n        System.out.println(&quot;!!!!!!! Error Sintactico, Panic Mode !!!!!!! &quot;);\r\n        System.out.println(&quot;\\t\\tLexema: &quot;+lexema);\r\n        System.out.println(&quot;\\t\\tFila: &quot;+fila);\r\n        System.out.println(&quot;\\t\\tColumna: &quot;+columna);\r\n\r\n        TError datos = new TError(lexema,fila,columna,&quot;Error Sintactico&quot;,&quot;Caracter no esperado&quot;);\r\n        TablaES.add(datos);\r\n     \r\n    }\r\n:}\r\n\r\n//------&gt; Codigo para las acciones gramaticales\r\naction code\r\n{:\r\n:}\r\n\r\n/* Clases y variables de los s&#237;mbolos terminales */\r\nterminal TEXT,\r\n         ERROR_START, ERROR_END, ERRORS_START, ERRORS_END,\r\n         LEXEMA_START, LEXEMA_END, TIPO_START, TIPO_END,\r\n         LINE_START, LINE_END, COLUMN_START, COLUMN_END,\r\n         DESCRIPCION_START, DESCRIPCION_END, numero;\r\nnon terminal document, errors, element, error_tag, error_content, error_content_list;\r\n/* Producciones */\r\nstart with document;\r\n\r\ndocument ::= errors;\r\n\r\nerrors ::= ERRORS_START element ERRORS_END;\r\n\r\nelement ::= error_tag\r\n            | element error_tag;\r\n\r\nerror_tag ::= ERROR_START error_content_list ERROR_END;\r\n\r\nerror_content_list ::= error_content\r\n                        | error_content_list  error_content;\r\n\r\nerror_content ::= LEXEMA_START TEXT LEXEMA_END {:   System.out.println(&quot;&#180;text value&quot; ); :}\r\n                | LINE_START numero LINE_END {: System.out.println(&quot;numero value&quot;); :}\r\n                | COLUMN_START numero COLUMN_END {: System.out.println(&quot;numero value&quot;); :}\r\n                | TIPO_START TEXT TIPO_END {: System.out.println(&quot;text value&quot;); :}\r\n                | DESCRIPCION_START TEXT DESCRIPCION_END {: \r\n                      String textToken = &quot;TEXT VALUE&quot;\r\n                      System.out.println(&quot;p description: &quot; + textoToken); \r\n                   :};\r\n```\r\n","title":"How to save a symbol value in CUP? java parser","body":"<p>I'm using CUP for a project but I'm not really sure how to save the value of the token TEXT into a String</p>\n<p>here´s my production:</p>\n<pre><code>error_content ::= LEXEMA_START TEXT LEXEMA_END {:   System.out.println(&quot;´text value&quot; ); :}\n                | LINE_START numero LINE_END {: System.out.println(&quot;numero value&quot;); :}\n                | COLUMN_START numero COLUMN_END {: System.out.println(&quot;numero value&quot;); :}\n                | TIPO_START TEXT TIPO_END {: System.out.println(&quot;text value&quot;); :}\n                | DESCRIPCION_START TEXT DESCRIPCION_END {: \n                      String textToken = &quot;TEXT VALUE&quot;\n                      System.out.println(&quot;p description: &quot; + textoToken); \n                   :};\n</code></pre>\n<p>here's the complete code</p>\n<pre><code>parser code\n{:\n    public String resultado=&quot;&quot;;\n    public static LinkedList&lt;TError&gt; TablaES = new LinkedList&lt;TError&gt;(); \n    public static Flexcup f = new Flexcup();\n\n\n    //Metodo al que se llama en el momento en que ya no es posible una recuperacion de errores\n    public void unrecovered_syntax_error(Symbol s) throws java.lang.Exception\n    {        \n        String lexema = s.value.toString();\n        int fila = s.right;\n        int columna = s.left;\n        \n        System.out.println(&quot;!!!!!!! Error Sintactico, Panic Mode !!!!!!! &quot;);\n        System.out.println(&quot;\\t\\tLexema: &quot;+lexema);\n        System.out.println(&quot;\\t\\tFila: &quot;+fila);\n        System.out.println(&quot;\\t\\tColumna: &quot;+columna);\n\n        TError datos = new TError(lexema,fila,columna,&quot;Error Sintactico&quot;,&quot;Caracter no esperado&quot;);\n        TablaES.add(datos);\n     \n    }\n:}\n\n//------&gt; Codigo para las acciones gramaticales\naction code\n{:\n:}\n\n/* Clases y variables de los símbolos terminales */\nterminal TEXT,\n         ERROR_START, ERROR_END, ERRORS_START, ERRORS_END,\n         LEXEMA_START, LEXEMA_END, TIPO_START, TIPO_END,\n         LINE_START, LINE_END, COLUMN_START, COLUMN_END,\n         DESCRIPCION_START, DESCRIPCION_END, numero;\nnon terminal document, errors, element, error_tag, error_content, error_content_list;\n/* Producciones */\nstart with document;\n\ndocument ::= errors;\n\nerrors ::= ERRORS_START element ERRORS_END;\n\nelement ::= error_tag\n            | element error_tag;\n\nerror_tag ::= ERROR_START error_content_list ERROR_END;\n\nerror_content_list ::= error_content\n                        | error_content_list  error_content;\n\nerror_content ::= LEXEMA_START TEXT LEXEMA_END {:   System.out.println(&quot;´text value&quot; ); :}\n                | LINE_START numero LINE_END {: System.out.println(&quot;numero value&quot;); :}\n                | COLUMN_START numero COLUMN_END {: System.out.println(&quot;numero value&quot;); :}\n                | TIPO_START TEXT TIPO_END {: System.out.println(&quot;text value&quot;); :}\n                | DESCRIPCION_START TEXT DESCRIPCION_END {: \n                      String textToken = &quot;TEXT VALUE&quot;\n                      System.out.println(&quot;p description: &quot; + textoToken); \n                   :};\n</code></pre>\n"},{"tags":["java","spring","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1566779985,"post_id":57644655,"comment_id":101751859,"body_markdown":"There are many possible reasons aspects not kicking in. So before I answer, a few questions: Have you verified that Spring AOP works at all in your project, e.g. with a different pointcut? Have you made sure your aspect is a `@Component` and being picked up by component scan? Are the target classes also Spring components?","body":"There are many possible reasons aspects not kicking in. So before I answer, a few questions: Have you verified that Spring AOP works at all in your project, e.g. with a different pointcut? Have you made sure your aspect is a <code>@Component</code> and being picked up by component scan? Are the target classes also Spring components?"},{"owner":{"account_id":16402538,"reputation":29,"user_id":11848044,"display_name":"CHIRAG LADDHA"},"score":0,"creation_date":1566831208,"post_id":57644655,"comment_id":101769857,"body_markdown":"@kriegaex yes when i gave complete pkg for service ,its kicking.","body":"@kriegaex yes when i gave complete pkg for service ,its kicking."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566860406,"creation_date":1566860406,"answer_id":57665849,"question_id":57644655,"body_markdown":"&gt; @kriegaex: Yes, when I gave complete pkg for service, it&#39;s kicking\r\n\r\nThen the explanation is simple: Your pointcut does not capture the classes and methods you expect it to:\r\n\r\n    execution(* com.example.platform.test.*.*.*(..))\r\n\r\nThis would e.g. capture\r\n\r\n    com.example.platform.test.foo.ClassA.methodX(..)\r\n    com.example.platform.test.bar.ClassB.methodY(..)\r\n\r\nBut not\r\n\r\n    com.example.platform.test.ClassA.methodX(..)\r\n    com.example.platform.test.foo.bar.ClassA.methodX(..)\r\n\r\nThis is because you gave an exact number of subpackages (1) + class name + method name with `.*.*.*`. You are more flexible like this:\r\n\r\n    execution(* com.example.platform.test..*(..))\r\n\r\nIt will capture all of the above because `..` says: No matter how many packages and class names in between, capture all methods in `com.example.platform.test` and all sub-packages.","title":"I have created a point cut for base package execution( * com.blk.example.*.*.*)&quot; but @advice method is not calling at all..?","body":"<blockquote>\n  <p>@kriegaex: Yes, when I gave complete pkg for service, it's kicking</p>\n</blockquote>\n\n<p>Then the explanation is simple: Your pointcut does not capture the classes and methods you expect it to:</p>\n\n<pre><code>execution(* com.example.platform.test.*.*.*(..))\n</code></pre>\n\n<p>This would e.g. capture</p>\n\n<pre><code>com.example.platform.test.foo.ClassA.methodX(..)\ncom.example.platform.test.bar.ClassB.methodY(..)\n</code></pre>\n\n<p>But not</p>\n\n<pre><code>com.example.platform.test.ClassA.methodX(..)\ncom.example.platform.test.foo.bar.ClassA.methodX(..)\n</code></pre>\n\n<p>This is because you gave an exact number of subpackages (1) + class name + method name with <code>.*.*.*</code>. You are more flexible like this:</p>\n\n<pre><code>execution(* com.example.platform.test..*(..))\n</code></pre>\n\n<p>It will capture all of the above because <code>..</code> says: No matter how many packages and class names in between, capture all methods in <code>com.example.platform.test</code> and all sub-packages.</p>\n"}],"owner":{"account_id":16402538,"reputation":29,"user_id":11848044,"display_name":"CHIRAG LADDHA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678615259,"creation_date":1566723687,"question_id":57644655,"body_markdown":"AOP `@Around` is not calling at all for base package point cut. Below is the code I am using. It should show me start time, end time, time taken but &quot;AOP method&quot; is not firing at all for any controller, service method within the base package.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Aspect\r\n    @Configuration\r\n    public  class LoggerAOP {\r\n    \tprivate static final Logger logger = oggerFactory.getLogger(LoggerAOP.class);\r\n    \t\r\n    \t@Around(&quot;execution(* com.example.platform.test.*.*.*(..))&quot;)\r\n    \tpublic void customAOPMetrics(ProceedingJoinPoint pjp) throws Throwable {\r\n    \r\n    \t\tMDC.put(&quot;CorelationalId&quot;, UUID.randomUUID());\r\n    \t\tMDC.put(&quot;eventId&quot;, UUID.randomUUID());\r\n    \r\n    \t\tlogger.info(pjp.getSignature().getName() + &quot; called with &quot;);\r\n    \t\tlogger.info(Arrays.toString(pjp.getArgs()));\r\n    \r\n    \t\tlong startTime = System.currentTimeMillis();\r\n    \t\tlogger.info(&quot;Start time: &quot; + startTime);\r\n    \r\n    \t\ttry {\r\n    \t\t\tpjp.proceed();\r\n    \r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tlogger.error(&quot;Error occured: &quot; + ex.getStackTrace());\r\n    \t\t}\r\n    \r\n    \t\tlong endTime = System.currentTimeMillis();\r\n    \t\tlogger.info(&quot;End Time :&quot; + endTime);\r\n    \t\tlong timeTaken = endTime - startTime;\r\n    \t\tMDC.clear();\r\n    \t\tlogger.info(&quot;Time taken: &quot; + timeTaken);\r\n    \t}\r\n    }\r\n","title":"I have created a point cut for base package execution( * com.blk.example.*.*.*)&quot; but @advice method is not calling at all..?","body":"<p>AOP <code>@Around</code> is not calling at all for base package point cut. Below is the code I am using. It should show me start time, end time, time taken but \"AOP method\" is not firing at all for any controller, service method within the base package.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Configuration\npublic  class LoggerAOP {\n    private static final Logger logger = oggerFactory.getLogger(LoggerAOP.class);\n\n    @Around(\"execution(* com.example.platform.test.*.*.*(..))\")\n    public void customAOPMetrics(ProceedingJoinPoint pjp) throws Throwable {\n\n        MDC.put(\"CorelationalId\", UUID.randomUUID());\n        MDC.put(\"eventId\", UUID.randomUUID());\n\n        logger.info(pjp.getSignature().getName() + \" called with \");\n        logger.info(Arrays.toString(pjp.getArgs()));\n\n        long startTime = System.currentTimeMillis();\n        logger.info(\"Start time: \" + startTime);\n\n        try {\n            pjp.proceed();\n\n        } catch (Exception ex) {\n            logger.error(\"Error occured: \" + ex.getStackTrace());\n        }\n\n        long endTime = System.currentTimeMillis();\n        logger.info(\"End Time :\" + endTime);\n        long timeTaken = endTime - startTime;\n        MDC.clear();\n        logger.info(\"Time taken: \" + timeTaken);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1625114428,"post_id":68197142,"comment_id":120542202,"body_markdown":"Welcome to SO. Your question does not constitute an [MCVE](https://stackoverflow.com/help/mcve), which is the preferred way to ask questions here and dramatically improves your chances to receive helpful answers. Nobody can compile an incoherent set of code snippets, therefore nobody can reproduce your problem. Probably, the problem is in the portion of the code/configuration you are hiding from us. so please edit the question, then leave a comment here. The pointcut looks OK to me. Does the aspect kick in if you change it to `execution(* com.xxx.mypackage..*(..))`?","body":"Welcome to SO. Your question does not constitute an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, which is the preferred way to ask questions here and dramatically improves your chances to receive helpful answers. Nobody can compile an incoherent set of code snippets, therefore nobody can reproduce your problem. Probably, the problem is in the portion of the code/configuration you are hiding from us. so please edit the question, then leave a comment here. The pointcut looks OK to me. Does the aspect kick in if you change it to <code>execution(* com.xxx.mypackage..*(..))</code>?"},{"owner":{"account_id":7596006,"reputation":33,"user_id":5762171,"display_name":"Shubham Narvariya"},"score":0,"creation_date":1625121006,"post_id":68197142,"comment_id":120543707,"body_markdown":"@kriegaex thanks for letting me know the problem with my post , I have edit the question and also gave a try to change the pointcut expression you mentioned but still it is not executing.","body":"@kriegaex thanks for letting me know the problem with my post , I have edit the question and also gave a try to change the pointcut expression you mentioned but still it is not executing."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1625122721,"post_id":68197142,"comment_id":120544260,"body_markdown":"What was unclear about the term [MCVE](https://stackoverflow.com/help/mcve)?","body":"What was unclear about the term <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>?"},{"owner":{"account_id":7596006,"reputation":33,"user_id":5762171,"display_name":"Shubham Narvariya"},"score":0,"creation_date":1625129468,"post_id":68197142,"comment_id":120546952,"body_markdown":"@kriegaex I again re edited the question and I hope this will suffice to understand the problem, any more info required pls let me know , will update here. With regarding MCVE , being a newbie slowly will learn the process.","body":"@kriegaex I again re edited the question and I hope this will suffice to understand the problem, any more info required pls let me know , will update here. With regarding MCVE , being a newbie slowly will learn the process."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1625145227,"post_id":68197142,"comment_id":120553790,"body_markdown":"Besides, I reformatted your question before, now again you are using weird quotations for your own text. I am going to fix that again, it looks weird. I do not mean to be unfriendly, really. But please do listen to my advice. I am sure if I had the MCVe, I could solve your problem in 2 minutes. Writing this here takes much longer. It is a waste of time for both of us, and my time is limited. You are also suffering, waiting for your solution longer than necessary.","body":"Besides, I reformatted your question before, now again you are using weird quotations for your own text. I am going to fix that again, it looks weird. I do not mean to be unfriendly, really. But please do listen to my advice. I am sure if I had the MCVe, I could solve your problem in 2 minutes. Writing this here takes much longer. It is a waste of time for both of us, and my time is limited. You are also suffering, waiting for your solution longer than necessary."},{"owner":{"account_id":7596006,"reputation":33,"user_id":5762171,"display_name":"Shubham Narvariya"},"score":0,"creation_date":1625161121,"post_id":68197142,"comment_id":120560750,"body_markdown":"I have gone through that article, earlier my whole idea was to explain the problem without proper MCVe. I cannot post entire or minimal project on GitHub due to organisation restricted policies. Thanks for your time and valuable suggestions. Let&#39;s close it here , I would like to put my time to fix the problem rather than commenting here because now it really looks weird. Niehter you are going to understand the problem without proper MCVe nor I am going post the same thing here again and again.","body":"I have gone through that article, earlier my whole idea was to explain the problem without proper MCVe. I cannot post entire or minimal project on GitHub due to organisation restricted policies. Thanks for your time and valuable suggestions. Let&#39;s close it here , I would like to put my time to fix the problem rather than commenting here because now it really looks weird. Niehter you are going to understand the problem without proper MCVe nor I am going post the same thing here again and again."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1625187552,"post_id":68197142,"comment_id":120567345,"body_markdown":"You still do not seem to understand what MCVE means. I do not need a copy of your full project with confidential code. An MCVE is a minimal, abstracted version of it, just enough to reproduce the problem. You can rename all packages and classes, strip them down to do nothing else than is necessary to reproduce the problem. If you call yourself a developer, you should be able to do it. You don&#39;t need to add anything, only remove as much as possible. It does not get much easier than that, every developer can do that. Don&#39;t use company policies as an excuse, they don&#39;t apply to an MCVE.","body":"You still do not seem to understand what MCVE means. I do not need a copy of your full project with confidential code. An MCVE is a minimal, abstracted version of it, just enough to reproduce the problem. You can rename all packages and classes, strip them down to do nothing else than is necessary to reproduce the problem. If you call yourself a developer, you should be able to do it. You don&#39;t need to add anything, only remove as much as possible. It does not get much easier than that, every developer can do that. Don&#39;t use company policies as an excuse, they don&#39;t apply to an MCVE."},{"owner":{"account_id":7596006,"reputation":33,"user_id":5762171,"display_name":"Shubham Narvariya"},"score":0,"creation_date":1625195864,"post_id":68197142,"comment_id":120568618,"body_markdown":"Did that only while posting the code on SO. I replaced packages name with xxxx etc and also it&#39;s not excuse (git link doesn&#39;t open - restricted access). I can only post required classes with minimal and required code to reproduce the problem on SO and I already did that. The last thing I can do is to create a replica project of same on my personal machine and reproduce the problem. Then I will upload the same on git and will share a link to you. FYI I am not saying company policies apply to MCVe and also I am not making any excuse","body":"Did that only while posting the code on SO. I replaced packages name with xxxx etc and also it&#39;s not excuse (git link doesn&#39;t open - restricted access). I can only post required classes with minimal and required code to reproduce the problem on SO and I already did that. The last thing I can do is to create a replica project of same on my personal machine and reproduce the problem. Then I will upload the same on git and will share a link to you. FYI I am not saying company policies apply to MCVe and also I am not making any excuse"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1625208912,"post_id":68197142,"comment_id":120571280,"body_markdown":"No, for the 3rd time: You did **not** post an MCVe here, only an aspect. You really need to pay a bit more respect to the people trying to help you by thoroughly reading their messages. Quoting myself: _&quot;No, it does not suffice, because in order to understand why an aspect might not be working as expected, I need **full aspects** incl. imports and package names, **full application classes** and **full configuration**. All three could be wrong or contain information necessary to debug.&quot;_ So where are your application code and configuration, please?","body":"No, for the 3rd time: You did <b>not</b> post an MCVe here, only an aspect. You really need to pay a bit more respect to the people trying to help you by thoroughly reading their messages. Quoting myself: <i>&quot;No, it does not suffice, because in order to understand why an aspect might not be working as expected, I need <b>full aspects</b> incl. imports and package names, <b>full application classes</b> and <b>full configuration</b>. All three could be wrong or contain information necessary to debug.&quot;</i> So where are your application code and configuration, please?"},{"owner":{"account_id":7596006,"reputation":33,"user_id":5762171,"display_name":"Shubham Narvariya"},"score":0,"creation_date":1625221722,"post_id":68197142,"comment_id":120576035,"body_markdown":"@kriegaex Please find the updated post with project source code link","body":"@kriegaex Please find the updated post with project source code link"},{"owner":{"account_id":7596006,"reputation":33,"user_id":5762171,"display_name":"Shubham Narvariya"},"score":0,"creation_date":1625249060,"post_id":68197142,"comment_id":120586415,"body_markdown":"I really apologize for being a disrespectful and appreciate your patience. I never meant to be in that way.","body":"I really apologize for being a disrespectful and appreciate your patience. I never meant to be in that way."}],"answers":[{"comments":[{"owner":{"account_id":7596006,"reputation":33,"user_id":5762171,"display_name":"Shubham Narvariya"},"score":0,"creation_date":1625249448,"post_id":68227673,"comment_id":120586526,"body_markdown":"Thanks it not only solve my problem, it also highlighted my mistakes and helped me to learn. Once again thanks for code review along with helpful review comments.","body":"Thanks it not only solve my problem, it also highlighted my mistakes and helped me to learn. Once again thanks for code review along with helpful review comments."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1625269744,"creation_date":1625239165,"answer_id":68227673,"question_id":68197142,"body_markdown":"Thanks for the MCVE on GitHub. There are so many problems in your application, without the full project I would never have been able to find out what is wrong with it. Among other things, you have these problems:\r\n\r\n* Your aspect has not one, but two `@Around` advices. None of them proceeds to the original method. This has the effect that only the first advice gets triggered (whichever Spring AOP finds first), but never the second one. And also, your original method is never called. Therefore, both advices need to call `lJoinPoint.proceed()`. In `@Before` or `@After` advices, this is not necessary, but in `@Around` it is, hence the parameter type `ProceedingJoinPoint` (not a simple `JoinPoint` like in the other advice types).\r\n\r\n* Spring AOP only works on Spring-managed components or beans, but you instantiate your `EVMLogger` instance by simply calling a static factory method outside the control of Spring. Therefore, Spring AOP can never create an AOP proxy for this class and never intercept any method calls on it. The `@CustomLogged` annotation on method `public void debug(Object lMsg)` has no effect.\r\n\r\n* Also in `EVMLogger`, you save a `Logger` instance in a static variable, but actually if you want a different `Logger` for each class using `EVMLogger`, you cannot overwrite this static field. You have to make it an instance field and set it whenever you create a `EVMLogger` instance.\r\n\r\n* That you need multiple `EVMLogger` instances, also means that you cannot use a singleton bean but should use a prototype bean. There are several ways to [instantiate a parametrised prototype bean](https://medium.com/davebarda/creating-a-dynamically-initialized-bean-in-spring-18d6d41d24df) dynamically. I am showing you how to auto-wire the application context into target class constructors needing the `EVMLogger` and there to get a bean instance from the context. This applies to two different classes in your example.\r\n\r\nOne more thing that looks weird to me, is that your aspect logs what `EVMLogger` does, i.e. a logger loggging infos about another logger. But maybe your aspect does something else in reality and logging was just for the sake of the MCVE. I am assuming it is so.\r\n\r\nI created a [pull request](https://github.com/ssnarvariya/July_Projects/pull/1) for your convenience. The key commits are:\r\n  * https://github.com/ssnarvariya/July_Projects/pull/1/commits/c8ed9aab\r\n  * https://github.com/ssnarvariya/July_Projects/pull/1/commits/597d8ccd\r\n\r\nThe console log when calling `curl http://127.0.0.1:8080/getreq` looks like this:\r\n\r\n```none\r\nInside logEntryLevelInfo for method ::showSampleData\r\nInside logEntryLevelInfo for method ::tryService\r\n{&quot;@timestamp&quot;:&quot;2021-07-02T19:49:54.879+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Debug Msg...&quot;,&quot;logger_name&quot;:&quot;org.ssn.app.config.CustomLogService&quot;,&quot;thread_name&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;app_msg&quot;:{&quot;mthd_name&quot;:&quot;tryService&quot;,&quot;mtd_args&quot;:[&quot;Message1&quot;]}}\r\nInside logCustomAnnotatedInfo for annotated method ::debug\r\n{&quot;@timestamp&quot;:&quot;2021-07-02T19:49:54.879+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Custom Debug Msg...&quot;,&quot;logger_name&quot;:&quot;org.ssn.app.controller.TestController1&quot;,&quot;thread_name&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;app_msg&quot;:From Controller---}\r\n{&quot;@timestamp&quot;:&quot;2021-07-02T19:49:54.879+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Debug Msg...&quot;,&quot;logger_name&quot;:&quot;org.ssn.app.config.CustomLogService&quot;,&quot;thread_name&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;app_msg&quot;:{&quot;mthd_name&quot;:&quot;showSampleData&quot;,&quot;mtd_args&quot;:[]}}\r\n```\r\n\r\nYou see that\r\n  * there are two distinct logger names `CustomLogService` and `TestController1` and\r\n  * both aspect advices fire now.\r\n  ","title":"Advice is not executing for custom annotation used at method level and it seems problem with poincut , any suggestions?","body":"<p>Thanks for the MCVE on GitHub. There are so many problems in your application, without the full project I would never have been able to find out what is wrong with it. Among other things, you have these problems:</p>\n<ul>\n<li><p>Your aspect has not one, but two <code>@Around</code> advices. None of them proceeds to the original method. This has the effect that only the first advice gets triggered (whichever Spring AOP finds first), but never the second one. And also, your original method is never called. Therefore, both advices need to call <code>lJoinPoint.proceed()</code>. In <code>@Before</code> or <code>@After</code> advices, this is not necessary, but in <code>@Around</code> it is, hence the parameter type <code>ProceedingJoinPoint</code> (not a simple <code>JoinPoint</code> like in the other advice types).</p>\n</li>\n<li><p>Spring AOP only works on Spring-managed components or beans, but you instantiate your <code>EVMLogger</code> instance by simply calling a static factory method outside the control of Spring. Therefore, Spring AOP can never create an AOP proxy for this class and never intercept any method calls on it. The <code>@CustomLogged</code> annotation on method <code>public void debug(Object lMsg)</code> has no effect.</p>\n</li>\n<li><p>Also in <code>EVMLogger</code>, you save a <code>Logger</code> instance in a static variable, but actually if you want a different <code>Logger</code> for each class using <code>EVMLogger</code>, you cannot overwrite this static field. You have to make it an instance field and set it whenever you create a <code>EVMLogger</code> instance.</p>\n</li>\n<li><p>That you need multiple <code>EVMLogger</code> instances, also means that you cannot use a singleton bean but should use a prototype bean. There are several ways to <a href=\"https://medium.com/davebarda/creating-a-dynamically-initialized-bean-in-spring-18d6d41d24df\" rel=\"nofollow noreferrer\">instantiate a parametrised prototype bean</a> dynamically. I am showing you how to auto-wire the application context into target class constructors needing the <code>EVMLogger</code> and there to get a bean instance from the context. This applies to two different classes in your example.</p>\n</li>\n</ul>\n<p>One more thing that looks weird to me, is that your aspect logs what <code>EVMLogger</code> does, i.e. a logger loggging infos about another logger. But maybe your aspect does something else in reality and logging was just for the sake of the MCVE. I am assuming it is so.</p>\n<p>I created a <a href=\"https://github.com/ssnarvariya/July_Projects/pull/1\" rel=\"nofollow noreferrer\">pull request</a> for your convenience. The key commits are:</p>\n<ul>\n<li><a href=\"https://github.com/ssnarvariya/July_Projects/pull/1/commits/c8ed9aab\" rel=\"nofollow noreferrer\">https://github.com/ssnarvariya/July_Projects/pull/1/commits/c8ed9aab</a></li>\n<li><a href=\"https://github.com/ssnarvariya/July_Projects/pull/1/commits/597d8ccd\" rel=\"nofollow noreferrer\">https://github.com/ssnarvariya/July_Projects/pull/1/commits/597d8ccd</a></li>\n</ul>\n<p>The console log when calling <code>curl http://127.0.0.1:8080/getreq</code> looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Inside logEntryLevelInfo for method ::showSampleData\nInside logEntryLevelInfo for method ::tryService\n{&quot;@timestamp&quot;:&quot;2021-07-02T19:49:54.879+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Debug Msg...&quot;,&quot;logger_name&quot;:&quot;org.ssn.app.config.CustomLogService&quot;,&quot;thread_name&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;app_msg&quot;:{&quot;mthd_name&quot;:&quot;tryService&quot;,&quot;mtd_args&quot;:[&quot;Message1&quot;]}}\nInside logCustomAnnotatedInfo for annotated method ::debug\n{&quot;@timestamp&quot;:&quot;2021-07-02T19:49:54.879+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Custom Debug Msg...&quot;,&quot;logger_name&quot;:&quot;org.ssn.app.controller.TestController1&quot;,&quot;thread_name&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;app_msg&quot;:From Controller---}\n{&quot;@timestamp&quot;:&quot;2021-07-02T19:49:54.879+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Debug Msg...&quot;,&quot;logger_name&quot;:&quot;org.ssn.app.config.CustomLogService&quot;,&quot;thread_name&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;app_msg&quot;:{&quot;mthd_name&quot;:&quot;showSampleData&quot;,&quot;mtd_args&quot;:[]}}\n</code></pre>\n<p>You see that</p>\n<ul>\n<li>there are two distinct logger names <code>CustomLogService</code> and <code>TestController1</code> and</li>\n<li>both aspect advices fire now.</li>\n</ul>\n"}],"owner":{"account_id":7596006,"reputation":33,"user_id":5762171,"display_name":"Shubham Narvariya"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":68227673,"answer_count":1,"score":-1,"last_activity_date":1678615091,"creation_date":1625064861,"question_id":68197142,"body_markdown":"My advice in the following aspect is not getting executed:\r\n\r\n```java\r\npackage com.xxxx.logging.core.config;\r\n\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.AfterThrowing;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Pointcut;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Aspect\r\n@Component\r\npublic class LogingAspectHandler {\r\n\r\n\t@Autowired\r\n\tCustomAppender lCustomAppender;\r\n\r\n\t//@Pointcut(&quot;execution(@com.xxxx.logging.core.config.CustomLogged * *(..))&quot;)\r\n\t@Pointcut(&quot;@annotation(com.xxxx.logging.core.config.CustomLogged)&quot;)\r\n\tpublic void customAnnotated() {}\r\n\r\n    @Around(&quot;customAnnotated()&quot;)\r\n\tpublic void customLogger(ProceedingJoinPoint lProceedingJointPoint) {\r\n\t    System.out.println(&quot;Get it &quot;+lProceedingJointPoint.getSignature().getName());\r\n\t\tlCustomAppender.logEntryLevelInfo(lProceedingJointPoint);\r\n\t\t  \r\n    }\r\n}\r\n```\r\n\r\nI have created a custom annotation named `CustomLogged` with `Target(ElementType.METHOD)` and using it at method level in a class within package `com.xxxx.logging.core.config`. Now I want a pointcut for all those methods which are annotated with `@CustomLogged`.\r\n\r\nPlease find the source code link  &lt;br/&gt;\r\n&lt;https://github.com/ssnarvariya/July_Projects.git&gt;\r\n","title":"Advice is not executing for custom annotation used at method level and it seems problem with poincut , any suggestions?","body":"<p>My advice in the following aspect is not getting executed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.xxxx.logging.core.config;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.AfterThrowing;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic class LogingAspectHandler {\n\n    @Autowired\n    CustomAppender lCustomAppender;\n\n    //@Pointcut(&quot;execution(@com.xxxx.logging.core.config.CustomLogged * *(..))&quot;)\n    @Pointcut(&quot;@annotation(com.xxxx.logging.core.config.CustomLogged)&quot;)\n    public void customAnnotated() {}\n\n    @Around(&quot;customAnnotated()&quot;)\n    public void customLogger(ProceedingJoinPoint lProceedingJointPoint) {\n        System.out.println(&quot;Get it &quot;+lProceedingJointPoint.getSignature().getName());\n        lCustomAppender.logEntryLevelInfo(lProceedingJointPoint);\n          \n    }\n}\n</code></pre>\n<p>I have created a custom annotation named <code>CustomLogged</code> with <code>Target(ElementType.METHOD)</code> and using it at method level in a class within package <code>com.xxxx.logging.core.config</code>. Now I want a pointcut for all those methods which are annotated with <code>@CustomLogged</code>.</p>\n<p>Please find the source code link  <br/>\n<a href=\"https://github.com/ssnarvariya/July_Projects.git\" rel=\"nofollow noreferrer\">https://github.com/ssnarvariya/July_Projects.git</a></p>\n"},{"tags":["java","spring-boot","hibernate","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1678572206,"post_id":75709806,"comment_id":133560672,"body_markdown":"Stop using classes annotated with `@Entity` in your API. Learn about proper 3tier architecture","body":"Stop using classes annotated with <code>@Entity</code> in your API. Learn about proper 3tier architecture"},{"owner":{"account_id":27994638,"reputation":1,"user_id":21380166,"display_name":"aakriti"},"score":0,"creation_date":1678573084,"post_id":75709806,"comment_id":133560774,"body_markdown":"Any suggestions Sir? I am new to this.","body":"Any suggestions Sir? I am new to this."},{"owner":{"account_id":17067635,"reputation":517,"user_id":12349305,"display_name":"Ballo Ibrahima"},"score":0,"creation_date":1678576407,"post_id":75709806,"comment_id":133561223,"body_markdown":"I don&#39;t see where you asked to return the post.","body":"I don&#39;t see where you asked to return the post."},{"owner":{"account_id":17067635,"reputation":517,"user_id":12349305,"display_name":"Ballo Ibrahima"},"score":0,"creation_date":1678576742,"post_id":75709806,"comment_id":133561273,"body_markdown":"maybe add  a temo.add(user. getPosts()) before return temp","body":"maybe add  a temo.add(user. getPosts()) before return temp"},{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1678582448,"post_id":75709806,"comment_id":133561793,"body_markdown":"Remove FetchType.LAZY from your Posts class. It should work after that.","body":"Remove FetchType.LAZY from your Posts class. It should work after that."}],"answers":[{"tags":[],"owner":{"account_id":17857092,"reputation":26,"user_id":12971433,"display_name":"Navid Mahbub"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678615048,"creation_date":1678615048,"answer_id":75712345,"question_id":75709806,"body_markdown":"```java\r\n@OneToMany(mappedBy = &quot;user&quot;)\r\nprivate List&lt;Post&gt; posts;\r\n```\r\nBy default OneToMany relations are `FetchType.LAZY` that&#39;s why the post list is not fetching. The list will appear if you make it eager or write a custom repository function to get users with a posts list.\r\n\r\n```java\r\n@Query(value = &quot;Select u from User u left join fetch u.posts where u.id = :id&quot;)\r\nUser getUserWithPostList(Integer id)\r\n```\r\n\r\nthen replace the `userRepository.findById(id);` by `userRepository.getUserWithPostList(id);`","title":"SpringBoot JPA - Not getting model class data member while fetching that model class","body":"<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = &quot;user&quot;)\nprivate List&lt;Post&gt; posts;\n</code></pre>\n<p>By default OneToMany relations are <code>FetchType.LAZY</code> that's why the post list is not fetching. The list will appear if you make it eager or write a custom repository function to get users with a posts list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;Select u from User u left join fetch u.posts where u.id = :id&quot;)\nUser getUserWithPostList(Integer id)\n</code></pre>\n<p>then replace the <code>userRepository.findById(id);</code> by <code>userRepository.getUserWithPostList(id);</code></p>\n"}],"owner":{"account_id":27994638,"reputation":1,"user_id":21380166,"display_name":"aakriti"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678615048,"creation_date":1678572073,"question_id":75709806,"body_markdown":"I am implementing simple JPA Use case of Social media app .\r\nThere are 2 classes User and Post mentioned below . \r\nWhen I try to list the user of particular id I am not getting posts of that user in\r\nreturned User Object\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n**User classs\r\n**\r\n```\r\npackage com.practice.learnsb.model;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.validation.constraints.Past;\r\nimport jakarta.validation.constraints.Size;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\n\r\n\r\n@Entity(name = &quot;user_details&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer id;\r\n   @Size(min = 4 ,message = &quot;Name should have min of 4 letters&quot;)\r\n   @JsonProperty (&quot;user_name&quot;)\r\n   private String name;\r\n   @Past\r\n    private LocalDate dob;\r\n\r\n   @OneToMany(mappedBy = &quot;user&quot;)\r\n   private List&lt;Post&gt; posts;\r\n\r\n    public User() {\r\n\r\n    }\r\n\r\n\r\n    public User(Integer id, String name, LocalDate dob) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.dob = dob;\r\n    }\r\n\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public LocalDate getDob() {\r\n        return dob;\r\n    }\r\n\r\n    public void setDob(LocalDate dateOfBirth) {\r\n        this.dob = dateOfBirth;\r\n    }\r\n\r\n    public List&lt;Post&gt; getPosts() {\r\n        return posts;\r\n    }\r\n\r\n    public void setPosts(List&lt;Post&gt; posts) {\r\n        this.posts = posts;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, dateOfBirth=&quot; + dob +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Post class \r\n**\r\n\r\n\r\n```\r\npackage com.practice.learnsb.model;\r\n\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\npublic class Post {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private Integer id;\r\n\r\n    private String description;\r\n\r\n    @ManyToOne (fetch = FetchType.LAZY)\r\n    private User user;\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public Post(Integer id, String description) {\r\n        this.id = id;\r\n        this.description = description;\r\n    }\r\n\r\n    public Post() {\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n**Controller\r\n**\r\n\r\n\r\n\r\n```\r\n@RestController\r\npublic class UserJPAController {\r\n\r\n\r\n    @Autowired\r\n    UserRepository userRepository;\r\n\r\n\r\n    @GetMapping(path = &quot;/jpa/user&quot;)\r\n    public List&lt;User&gt; getAllUsers(){\r\n        return userRepository.findAll();\r\n\r\n    }\r\n\r\n   @GetMapping(path = &quot;/jpa/user/{id}&quot;)\r\n    public EntityModel&lt;User&gt; getUserById(@PathVariable int id){\r\n        Optional&lt;User&gt; user = userRepository.findById(id);\r\n\r\n\r\n       if(user.isEmpty()){\r\n           throw new UserNotFoundException(&quot;id&quot;+id);\r\n       }\r\n\r\n        EntityModel&lt;User&gt; temp = EntityModel.of(user.get());\r\n        WebMvcLinkBuilder link = linkTo(methodOn(this.getClass()).getAllUsers());\r\n        temp.add(link.withRel(&quot;all-users&quot;));\r\n        return temp;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n**UserJPARepository\r\n**\r\n\r\n\r\n\r\n```\r\npackage com.practice.learnsb.repository;\r\n\r\nimport com.practice.learnsb.model.User;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User,Integer&gt; {\r\n}\r\n```\r\n\r\nWe have initialized some Users and Posts in data.sql\r\n\r\n```\r\ninsert into user_details(id,name,dob)\r\nvalues(1001,&#39;temp&#39;,current_date()-1),\r\n      (1002,&#39;temp1&#39;,current_date()-3),\r\n      (1003,&#39;temp2&#39;,current_date()-5),\r\n      (1004,&#39;temp3&#39;,current_date()-7);\r\n\r\n\r\ninsert into post(id,description,user_id)\r\nvalues(2001,&#39;post1&#39;,1001),\r\n      (2002,&#39;post2&#39;,1001),\r\n      (2003,&#39;post3&#39;,1002),\r\n      (2004,&#39;post4&#39;,1002);\r\n```\r\n\r\n\r\n\r\n\r\n\r\nWhen I hit the url `http://localhost:8080/jpa/user/1001` \r\nI get the below response \r\n```\r\n{\r\n    &quot;dob&quot;: &quot;2023-03-11&quot;,\r\n    &quot;user_name&quot;: &quot;temp&quot;,\r\n    &quot;_links&quot;: {\r\n        &quot;all-users&quot;: {\r\n            &quot;href&quot;: &quot;http://localhost:8080/jpa/user&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nSo why are the posts for user not showing Up ?\r\n\r\nPls help me out !\r\n\r\n\r\n\r\n","title":"SpringBoot JPA - Not getting model class data member while fetching that model class","body":"<p>I am implementing simple JPA Use case of Social media app .\nThere are 2 classes User and Post mentioned below .\nWhen I try to list the user of particular id I am not getting posts of that user in\nreturned User Object</p>\n<p>**User classs\n**</p>\n<pre><code>package com.practice.learnsb.model;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.OneToMany;\nimport jakarta.validation.constraints.Past;\nimport jakarta.validation.constraints.Size;\n\nimport java.time.LocalDate;\nimport java.util.List;\n\n\n@Entity(name = &quot;user_details&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n   @Size(min = 4 ,message = &quot;Name should have min of 4 letters&quot;)\n   @JsonProperty (&quot;user_name&quot;)\n   private String name;\n   @Past\n    private LocalDate dob;\n\n   @OneToMany(mappedBy = &quot;user&quot;)\n   private List&lt;Post&gt; posts;\n\n    public User() {\n\n    }\n\n\n    public User(Integer id, String name, LocalDate dob) {\n        this.id = id;\n        this.name = name;\n        this.dob = dob;\n    }\n\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public LocalDate getDob() {\n        return dob;\n    }\n\n    public void setDob(LocalDate dateOfBirth) {\n        this.dob = dateOfBirth;\n    }\n\n    public List&lt;Post&gt; getPosts() {\n        return posts;\n    }\n\n    public void setPosts(List&lt;Post&gt; posts) {\n        this.posts = posts;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, dateOfBirth=&quot; + dob +\n                '}';\n    }\n}\n</code></pre>\n<p>**Post class\n**</p>\n<pre><code>package com.practice.learnsb.model;\n\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport jakarta.persistence.*;\n\n@Entity\npublic class Post {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Integer id;\n\n    private String description;\n\n    @ManyToOne (fetch = FetchType.LAZY)\n    private User user;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public Post(Integer id, String description) {\n        this.id = id;\n        this.description = description;\n    }\n\n    public Post() {\n    }\n}\n\n</code></pre>\n<p>**Controller\n**</p>\n<pre><code>@RestController\npublic class UserJPAController {\n\n\n    @Autowired\n    UserRepository userRepository;\n\n\n    @GetMapping(path = &quot;/jpa/user&quot;)\n    public List&lt;User&gt; getAllUsers(){\n        return userRepository.findAll();\n\n    }\n\n   @GetMapping(path = &quot;/jpa/user/{id}&quot;)\n    public EntityModel&lt;User&gt; getUserById(@PathVariable int id){\n        Optional&lt;User&gt; user = userRepository.findById(id);\n\n\n       if(user.isEmpty()){\n           throw new UserNotFoundException(&quot;id&quot;+id);\n       }\n\n        EntityModel&lt;User&gt; temp = EntityModel.of(user.get());\n        WebMvcLinkBuilder link = linkTo(methodOn(this.getClass()).getAllUsers());\n        temp.add(link.withRel(&quot;all-users&quot;));\n        return temp;\n    }\n}\n</code></pre>\n<p>**UserJPARepository\n**</p>\n<pre><code>package com.practice.learnsb.repository;\n\nimport com.practice.learnsb.model.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User,Integer&gt; {\n}\n</code></pre>\n<p>We have initialized some Users and Posts in data.sql</p>\n<pre><code>insert into user_details(id,name,dob)\nvalues(1001,'temp',current_date()-1),\n      (1002,'temp1',current_date()-3),\n      (1003,'temp2',current_date()-5),\n      (1004,'temp3',current_date()-7);\n\n\ninsert into post(id,description,user_id)\nvalues(2001,'post1',1001),\n      (2002,'post2',1001),\n      (2003,'post3',1002),\n      (2004,'post4',1002);\n</code></pre>\n<p>When I hit the url <code>http://localhost:8080/jpa/user/1001</code>\nI get the below response</p>\n<pre><code>{\n    &quot;dob&quot;: &quot;2023-03-11&quot;,\n    &quot;user_name&quot;: &quot;temp&quot;,\n    &quot;_links&quot;: {\n        &quot;all-users&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/jpa/user&quot;\n        }\n    }\n}\n</code></pre>\n<p>So why are the posts for user not showing Up ?</p>\n<p>Pls help me out !</p>\n"},{"tags":["java","android","timeout"],"answers":[{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678615000,"creation_date":1678615000,"answer_id":75712343,"question_id":75711936,"body_markdown":"This will solve your problem :\r\n\r\n    Timer timer = new Timer();\r\n    TimerTask task = new TimerTask() {\r\n       public void run() {\r\n          // Your method code here\r\n       }\r\n    };\r\n    timer.schedule(task, 5000);","title":"How to set a Timeout in java for Android Development?","body":"<p>This will solve your problem :</p>\n<pre><code>Timer timer = new Timer();\nTimerTask task = new TimerTask() {\n   public void run() {\n      // Your method code here\n   }\n};\ntimer.schedule(task, 5000);\n</code></pre>\n"}],"owner":{"account_id":27097368,"reputation":1,"user_id":20644435,"display_name":"AHDZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75712343,"answer_count":1,"score":0,"last_activity_date":1678615000,"creation_date":1678610220,"question_id":75711936,"body_markdown":"I&#39;m working on an app for Android 4.0 and later using Java.\r\n\r\nI want to set a timeout method in java that starts automatically and runs a method after 5 seconds.\r\n\r\nPlease tell me how to do that with explanation.\r\n\r\nI researched a lot about it on the Internet, but I couldn&#39;t get any result.","title":"How to set a Timeout in java for Android Development?","body":"<p>I'm working on an app for Android 4.0 and later using Java.</p>\n<p>I want to set a timeout method in java that starts automatically and runs a method after 5 seconds.</p>\n<p>Please tell me how to do that with explanation.</p>\n<p>I researched a lot about it on the Internet, but I couldn't get any result.</p>\n"},{"tags":["java","spring","spring-aop"],"comments":[{"owner":{"account_id":164924,"reputation":3611,"user_id":388006,"accept_rate":79,"display_name":"pgreen2"},"score":0,"creation_date":1490182730,"post_id":42950515,"comment_id":72996070,"body_markdown":"Did you ensure that MyAspect was added to your application context?","body":"Did you ensure that MyAspect was added to your application context?"},{"owner":{"account_id":8669845,"reputation":43,"user_id":6489128,"display_name":"JavaInMotion"},"score":0,"creation_date":1490183405,"post_id":42950515,"comment_id":72996533,"body_markdown":"I don&#39;t think I made any entry for that. Also I don&#39;t know what/where exactly is application context. I&#39;m working on an existing system.","body":"I don&#39;t think I made any entry for that. Also I don&#39;t know what/where exactly is application context. I&#39;m working on an existing system."},{"owner":{"account_id":164924,"reputation":3611,"user_id":388006,"accept_rate":79,"display_name":"pgreen2"},"score":0,"creation_date":1490184635,"post_id":42950515,"comment_id":72997386,"body_markdown":"I would start with ensuring sprint is aware of MyAspect (ie it has been added to the application context).  This is generally done via `application-context.xml` or via class path scanning.  You already have @Component on the class, which is good, but you just need to make sure spring is aware of the class.","body":"I would start with ensuring sprint is aware of MyAspect (ie it has been added to the application context).  This is generally done via <code>application-context.xml</code> or via class path scanning.  You already have @Component on the class, which is good, but you just need to make sure spring is aware of the class."},{"owner":{"account_id":8669845,"reputation":43,"user_id":6489128,"display_name":"JavaInMotion"},"score":0,"creation_date":1490184839,"post_id":42950515,"comment_id":72997528,"body_markdown":"I could not find application-context.xml in my application. So as a workaround I put my code in an existing Aspect. There also getting same error.","body":"I could not find application-context.xml in my application. So as a workaround I put my code in an existing Aspect. There also getting same error."},{"owner":{"account_id":164924,"reputation":3611,"user_id":388006,"accept_rate":79,"display_name":"pgreen2"},"score":0,"creation_date":1490185106,"post_id":42950515,"comment_id":72997728,"body_markdown":"What is the error?","body":"What is the error?"},{"owner":{"account_id":8669845,"reputation":43,"user_id":6489128,"display_name":"JavaInMotion"},"score":0,"creation_date":1490185471,"post_id":42950515,"comment_id":72998017,"body_markdown":"Error I mean I am not able to see my  log.debug(&quot;I am in doAfterThrowingException&quot;); in the logs. Is there any other way to find out if my Aspect is triggered? I am not aware of any other way.","body":"Error I mean I am not able to see my  log.debug(&quot;I am in doAfterThrowingException&quot;); in the logs. Is there any other way to find out if my Aspect is triggered? I am not aware of any other way."},{"owner":{"account_id":164924,"reputation":3611,"user_id":388006,"accept_rate":79,"display_name":"pgreen2"},"score":0,"creation_date":1490186121,"post_id":42950515,"comment_id":72998515,"body_markdown":"2 questions. Is there a typo in the package or class b or method name?  Do you your logger set to print out debug messages? As a quick check,  I would change debug to error or fatal; which ever is the highest for your logging library.","body":"2 questions. Is there a typo in the package or class b or method name?  Do you your logger set to print out debug messages? As a quick check,  I would change debug to error or fatal; which ever is the highest for your logging library."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1490196930,"post_id":42950515,"comment_id":73007093,"body_markdown":"Before you bother about narrowing down the scope of your aspect, first it should run at all. I think it makes sense to read the fine Spring manual, especially the chapter about [Spring AOP](https://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html), and the come back here if afterwards you still have questions. Working on an existing application as a newbie is no excuse not to learn about the technologies used there befor you mess up the code. I mean no offense, but StackOverflow is hardly the right platform for you to delegate your work to others.","body":"Before you bother about narrowing down the scope of your aspect, first it should run at all. I think it makes sense to read the fine Spring manual, especially the chapter about <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html\" rel=\"nofollow noreferrer\">Spring AOP</a>, and the come back here if afterwards you still have questions. Working on an existing application as a newbie is no excuse not to learn about the technologies used there befor you mess up the code. I mean no offense, but StackOverflow is hardly the right platform for you to delegate your work to others."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1490197023,"post_id":42950515,"comment_id":73007161,"body_markdown":"Another recommendation to you if you want to get good answers here: Please create a [Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve) so as to enable other users to reproduce and understand your problem.","body":"Another recommendation to you if you want to get good answers here: Please create a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> so as to enable other users to reproduce and understand your problem."},{"owner":{"account_id":8669845,"reputation":43,"user_id":6489128,"display_name":"JavaInMotion"},"score":0,"creation_date":1490339802,"post_id":42950515,"comment_id":73077595,"body_markdown":"Thanks for the suggestions @kriegaex. I have tried making some changes to the question. hope this helps.","body":"Thanks for the suggestions @kriegaex. I have tried making some changes to the question. hope this helps."}],"answers":[{"comments":[{"owner":{"account_id":8669845,"reputation":43,"user_id":6489128,"display_name":"JavaInMotion"},"score":1,"creation_date":1490350759,"post_id":42995884,"comment_id":73083514,"body_markdown":"I tried making them public also but that too didn&#39;t work for me.","body":"I tried making them public also but that too didn&#39;t work for me."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1490351886,"post_id":42995884,"comment_id":73084310,"body_markdown":"Does AOP work in other cases in the very same project? We need to find out if there is a configuration problem or just a problem in your aspect.","body":"Does AOP work in other cases in the very same project? We need to find out if there is a configuration problem or just a problem in your aspect."},{"owner":{"account_id":8669845,"reputation":43,"user_id":6489128,"display_name":"JavaInMotion"},"score":0,"creation_date":1490352536,"post_id":42995884,"comment_id":73084747,"body_markdown":"Yup, its working in the same project. I checked the other classes as well and found out that those are standalone classes i.e. they are not extending/implementing any other classes/interfaces. But in my case the class implements an interface &quot;Service.java&quot;. One more thing that the method worker() is specific to my class only, its not an overridden method.","body":"Yup, its working in the same project. I checked the other classes as well and found out that those are standalone classes i.e. they are not extending/implementing any other classes/interfaces. But in my case the class implements an interface &quot;Service.java&quot;. One more thing that the method worker() is specific to my class only, its not an overridden method."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1490355431,"creation_date":1490348064,"answer_id":42995884,"question_id":42950515,"body_markdown":"You made a typical Spring AOP beginner&#39;s mistake: You assume that it works for private methods, but as the documentation clearly says, it does not. Spring AOP is based on dynamic proxies, and those only work for public methods when implementing interfaces via JDK proxies and additionally for protected and package-scoped methods when using CGLIB proxies.\r\n\r\nYou should make the `worker()` method public if you want to intercept it from an aspect.\r\n\r\nP.S.: Full-fledged AspectJ also works for private methods, but to switch to another AOP framework would be overkill here.\r\n\r\n&lt;hr&gt;\r\n\r\n**Update:** You also have other problems in your code:\r\n\r\n* The first `worker` method, even if you make it public, does not return anything. The last statement should be `return worker(send.getRequest(), send.getId());`, not just `worker(send.getRequest(), send.getId());`.\r\n* Your pointcut `com.xyz.myapp.ServiceImpl.worker()` will never match because it has an empty argument list, but your method has arguments. The `args()` does not help you here.\r\n* The syntax of your pointcut is also wrong because it does not specify a return type for the method, not even `*`. Furthermore, the method name itself is not enough, it should be enclosed in an actual pointcut type such as `execution()`. I.e. you want to write something like:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Pointcut(&quot;execution(* com.xyz.myapp.ServiceImpl.worker(..)) &amp;&amp; args(request, ..)&quot;)\r\n    private void someOperation(Request request) {}","title":"Spring-AOP pointcut not working?","body":"<p>You made a typical Spring AOP beginner's mistake: You assume that it works for private methods, but as the documentation clearly says, it does not. Spring AOP is based on dynamic proxies, and those only work for public methods when implementing interfaces via JDK proxies and additionally for protected and package-scoped methods when using CGLIB proxies.</p>\n\n<p>You should make the <code>worker()</code> method public if you want to intercept it from an aspect.</p>\n\n<p>P.S.: Full-fledged AspectJ also works for private methods, but to switch to another AOP framework would be overkill here.</p>\n\n<hr>\n\n<p><strong>Update:</strong> You also have other problems in your code:</p>\n\n<ul>\n<li>The first <code>worker</code> method, even if you make it public, does not return anything. The last statement should be <code>return worker(send.getRequest(), send.getId());</code>, not just <code>worker(send.getRequest(), send.getId());</code>.</li>\n<li>Your pointcut <code>com.xyz.myapp.ServiceImpl.worker()</code> will never match because it has an empty argument list, but your method has arguments. The <code>args()</code> does not help you here.</li>\n<li>The syntax of your pointcut is also wrong because it does not specify a return type for the method, not even <code>*</code>. Furthermore, the method name itself is not enough, it should be enclosed in an actual pointcut type such as <code>execution()</code>. I.e. you want to write something like:</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Pointcut(\"execution(* com.xyz.myapp.ServiceImpl.worker(..)) &amp;&amp; args(request, ..)\")\nprivate void someOperation(Request request) {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1750637,"reputation":2903,"user_id":1599792,"accept_rate":100,"display_name":"Aftab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490350342,"creation_date":1490348662,"answer_id":42996062,"question_id":42950515,"body_markdown":"To intercept a method that throws an exception you can use this code (works only if methods are public): \r\n\r\n     @AfterThrowing(pointcut=&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation()&quot;,throwing=&quot;ex&quot;)\r\n             public void doRecoveryActions(NullPointerException ex) {\r\n              // ...\r\n             }\r\n\r\nSource: [Spring AOP][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html","title":"Spring-AOP pointcut not working?","body":"<p>To intercept a method that throws an exception you can use this code (works only if methods are public): </p>\n\n<pre><code> @AfterThrowing(pointcut=\"com.xyz.myapp.SystemArchitecture.dataAccessOperation()\",throwing=\"ex\")\n         public void doRecoveryActions(NullPointerException ex) {\n          // ...\n         }\n</code></pre>\n\n<p>Source: <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html\" rel=\"nofollow noreferrer\">Spring AOP</a></p>\n"}],"owner":{"account_id":8669845,"reputation":43,"user_id":6489128,"display_name":"JavaInMotion"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3245,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":42995884,"answer_count":2,"score":4,"last_activity_date":1678614993,"creation_date":1490182526,"question_id":42950515,"body_markdown":"Below is my code snippet:\r\n\r\n**ServiceImpl.java**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Service\r\n    public class ServiceImpl implements Service {\r\n      private Response worker(Audit send) throws ArgumentException {\r\n        System.out.println(&quot;STEP_1&quot;);\r\n        worker(send.getRequest(), send.getId());\r\n      }\r\n    \r\n      private Response worker(Request request, String id) throws ArgumentException {\r\n        System.out.println(&quot;STEP_2&quot;);\r\n        try {\r\n          //throwing some exception\r\n        } catch (Exception e) {\r\n          System.out.println(&quot;STEP_3&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nNow, what I want is whenever `NullPointerException` is being thrown from method `worker(Request request, String id)` as shown above I want to perform some specific task. For that I have written an Aspect class which is following:\r\n\r\n**MyAspect.java**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Aspect\r\n    @Component\r\n    public class MyAspect{\r\n      @Pointcut(&quot;com.xyz.myapp.ServiceImpl.worker() &amp;&amp; args(request,..)&quot;)\r\n      private void someOperation(Request request) {}\r\n    \r\n      @Before(&quot;someOperation(request)&quot;)\r\n      public void process(Request request) {\r\n        System.out.println(&quot;SUCCESS&quot;);\r\n      }\r\n    \r\n      @AfterThrowing(&quot;com.xyz.myapp.ServiceImpl.worker() &amp;&amp; args(request,..)&quot;)\r\n      public void doRecoveryActions() {\r\n        System.out.println(&quot;EXCEPTION_SUCCESS&quot;);\r\n      }\r\n    }\r\n\r\n**Current Output:**\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    STEP_1 \r\n    STEP_2\r\n    STEP_3\r\n\r\n**Desired Output:**\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    STEP_1 \r\n    STEP_2\r\n    STEP_3\r\n    SUCCESS\r\n    EXCEPTION_SUCCESS\r\n\r\nAs you can see `MyAspect.java` is not getting triggered hence NOT printing values.\r\nWhat can be the reason for this?\r\n\r\n**Note:**\r\n\r\n1. I tried making worker as public classes too but it didn&#39;t work.\r\n\r\n2. Also tried changing the name of the methods to eliminate any overloading issue that too didn&#39;t work.\r\n\r\n3. Tried various other pointcut expressions all in vain as of now.\r\n\r\n4. In my application there are other aspect classes working absolutely fine.","title":"Spring-AOP pointcut not working?","body":"<p>Below is my code snippet:</p>\n\n<p><strong>ServiceImpl.java</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ServiceImpl implements Service {\n  private Response worker(Audit send) throws ArgumentException {\n    System.out.println(\"STEP_1\");\n    worker(send.getRequest(), send.getId());\n  }\n\n  private Response worker(Request request, String id) throws ArgumentException {\n    System.out.println(\"STEP_2\");\n    try {\n      //throwing some exception\n    } catch (Exception e) {\n      System.out.println(\"STEP_3\");\n    }\n  }\n}\n</code></pre>\n\n<p>Now, what I want is whenever <code>NullPointerException</code> is being thrown from method <code>worker(Request request, String id)</code> as shown above I want to perform some specific task. For that I have written an Aspect class which is following:</p>\n\n<p><strong>MyAspect.java</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\npublic class MyAspect{\n  @Pointcut(\"com.xyz.myapp.ServiceImpl.worker() &amp;&amp; args(request,..)\")\n  private void someOperation(Request request) {}\n\n  @Before(\"someOperation(request)\")\n  public void process(Request request) {\n    System.out.println(\"SUCCESS\");\n  }\n\n  @AfterThrowing(\"com.xyz.myapp.ServiceImpl.worker() &amp;&amp; args(request,..)\")\n  public void doRecoveryActions() {\n    System.out.println(\"EXCEPTION_SUCCESS\");\n  }\n}\n</code></pre>\n\n<p><strong>Current Output:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>STEP_1 \nSTEP_2\nSTEP_3\n</code></pre>\n\n<p><strong>Desired Output:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>STEP_1 \nSTEP_2\nSTEP_3\nSUCCESS\nEXCEPTION_SUCCESS\n</code></pre>\n\n<p>As you can see <code>MyAspect.java</code> is not getting triggered hence NOT printing values.\nWhat can be the reason for this?</p>\n\n<p><strong>Note:</strong></p>\n\n<ol>\n<li><p>I tried making worker as public classes too but it didn't work.</p></li>\n<li><p>Also tried changing the name of the methods to eliminate any overloading issue that too didn't work.</p></li>\n<li><p>Tried various other pointcut expressions all in vain as of now.</p></li>\n<li><p>In my application there are other aspect classes working absolutely fine.</p></li>\n</ol>\n"},{"tags":["java","spring","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1516672426,"creation_date":1516671552,"answer_id":48392910,"question_id":48391704,"body_markdown":"I have answered similar questions several times, e.g. here:\r\n\r\n* [AspectJ pointcut expression match parameter annotations at any position\r\n](https://stackoverflow.com/a/15605403/1082681)\r\n* [How to write an Aspect pointcut based on an annotated parameter\r\n](https://stackoverflow.com/a/29714549/1082681)\r\n\r\nYour case is a bit simpler because you just want to extract a parameter and not its annotation. So along the lines of those other two answers you would use a pointcut like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Before(&quot;execution(* *(.., com.hadi.student.Student, ..))&quot;)\r\n\r\nand then extract the argument in your advice via iterating over `thisJoinPoint.getArgs()` and checking for the right parameter type. This is slower and uglier than directly binding a method argument to an advice parameter via `args()`, but your only option for parameters in arbitrary positions because `args(.., Student, ..)` will yield an &quot;ambiguous argument binding&quot; error. This is because both AspectJ and Spring AOP cannot decide what should happen if there is more than one `Student` argument in your method. Which one should they choose?\r\n\r\nHere is an [MCVE](http://stackoverflow.com/help/mcve) in AspectJ (no Spring required, but works the same way there):\r\n\r\n**Helper class and driver application:**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    public class Student {\r\n      private String name;\r\n    \r\n      public Student(String name) {\r\n        this.name = name;\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        return &quot;Student [name=&quot; + name + &quot;]&quot;;\r\n      }\r\n    }\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    public class Application {\r\n      public void doSomething() {}\r\n    \r\n      public Student createStudent(String s, Student student) {\r\n        return student;\r\n      }\r\n    \r\n      public Student updateStudent(Student student, String s) {\r\n        return student;\r\n      }\r\n    \r\n      public void marryStudents(Student student1, Student student2) {}\r\n    \r\n      public static void main(String[] args) {\r\n        Application application = new Application();\r\n        application.doSomething();\r\n        application.createStudent(&quot;x&quot;, new Student(&quot;John Doe&quot;));\r\n        application.updateStudent(new Student(&quot;Jane Doe&quot;), &quot;y&quot;);\r\n        // What happens if we have multiple Student parameters?\r\n        application.marryStudents(new Student(&quot;Jane&quot;), new Student(&quot;John&quot;));\r\n      }\r\n    }\r\n\r\n**Aspect:**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.aspect;\r\n    \r\n    import org.aspectj.lang.JoinPoint;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.annotation.Before;\r\n    \r\n    import de.scrum_master.app.Student;\r\n    \r\n    @Aspect\r\n    public class MyAspect {\r\n      @Before(&quot;execution(* *(.., de.scrum_master.app.Student, ..))&quot;)\r\n      public void interceptMethodsWithStudentArgs(JoinPoint thisJoinPoint) throws Throwable {\r\n        System.out.println(thisJoinPoint);\r\n        for(Object arg : thisJoinPoint.getArgs()) {\r\n          if (!(arg instanceof Student))\r\n            continue;\r\n          Student student = (Student) arg;\r\n          System.out.println(&quot;  &quot; + student);\r\n        }\r\n      }\r\n    }\r\n\r\n**Console log:**\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    execution(Student de.scrum_master.app.Application.createStudent(String, Student))\r\n      Student [name=John Doe]\r\n    execution(Student de.scrum_master.app.Application.updateStudent(Student, String))\r\n      Student [name=Jane Doe]\r\n    execution(void de.scrum_master.app.Application.marryStudents(Student, Student))\r\n      Student [name=Jane]\r\n      Student [name=John]\r\n","title":"Spring AOP args","body":"<p>I have answered similar questions several times, e.g. here:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/15605403/1082681\">AspectJ pointcut expression match parameter annotations at any position\n</a></li>\n<li><a href=\"https://stackoverflow.com/a/29714549/1082681\">How to write an Aspect pointcut based on an annotated parameter\n</a></li>\n</ul>\n\n<p>Your case is a bit simpler because you just want to extract a parameter and not its annotation. So along the lines of those other two answers you would use a pointcut like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Before(\"execution(* *(.., com.hadi.student.Student, ..))\")\n</code></pre>\n\n<p>and then extract the argument in your advice via iterating over <code>thisJoinPoint.getArgs()</code> and checking for the right parameter type. This is slower and uglier than directly binding a method argument to an advice parameter via <code>args()</code>, but your only option for parameters in arbitrary positions because <code>args(.., Student, ..)</code> will yield an \"ambiguous argument binding\" error. This is because both AspectJ and Spring AOP cannot decide what should happen if there is more than one <code>Student</code> argument in your method. Which one should they choose?</p>\n\n<p>Here is an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> in AspectJ (no Spring required, but works the same way there):</p>\n\n<p><strong>Helper class and driver application:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Student {\n  private String name;\n\n  public Student(String name) {\n    this.name = name;\n  }\n\n  @Override\n  public String toString() {\n    return \"Student [name=\" + name + \"]\";\n  }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Application {\n  public void doSomething() {}\n\n  public Student createStudent(String s, Student student) {\n    return student;\n  }\n\n  public Student updateStudent(Student student, String s) {\n    return student;\n  }\n\n  public void marryStudents(Student student1, Student student2) {}\n\n  public static void main(String[] args) {\n    Application application = new Application();\n    application.doSomething();\n    application.createStudent(\"x\", new Student(\"John Doe\"));\n    application.updateStudent(new Student(\"Jane Doe\"), \"y\");\n    // What happens if we have multiple Student parameters?\n    application.marryStudents(new Student(\"Jane\"), new Student(\"John\"));\n  }\n}\n</code></pre>\n\n<p><strong>Aspect:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\n\nimport de.scrum_master.app.Student;\n\n@Aspect\npublic class MyAspect {\n  @Before(\"execution(* *(.., de.scrum_master.app.Student, ..))\")\n  public void interceptMethodsWithStudentArgs(JoinPoint thisJoinPoint) throws Throwable {\n    System.out.println(thisJoinPoint);\n    for(Object arg : thisJoinPoint.getArgs()) {\n      if (!(arg instanceof Student))\n        continue;\n      Student student = (Student) arg;\n      System.out.println(\"  \" + student);\n    }\n  }\n}\n</code></pre>\n\n<p><strong>Console log:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>execution(Student de.scrum_master.app.Application.createStudent(String, Student))\n  Student [name=John Doe]\nexecution(Student de.scrum_master.app.Application.updateStudent(Student, String))\n  Student [name=Jane Doe]\nexecution(void de.scrum_master.app.Application.marryStudents(Student, Student))\n  Student [name=Jane]\n  Student [name=John]\n</code></pre>\n"}],"owner":{"account_id":3762876,"reputation":133,"user_id":3127271,"display_name":"HadiMohammadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7801,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678614932,"creation_date":1516662555,"question_id":48391704,"body_markdown":"&lt;br/&gt;\r\nI Have a problem with Spring AOP. I want to get the object of Student in a Pointcut. But my JoinPoints can have this object in any priority. &lt;br/&gt;Look at the snipped below code for the two different JoinPoints and the Pointcut that I have Created:\r\n\r\n    public Student createStudent(String s, Student student) {...}\r\n    public Student updateStudent(Student student, String s) {...}\r\n\r\n    @Before(&quot;args(..,com.hadi.student.Student)&quot;) \r\n    public void myAdvice(JoinPoint jp) {\r\n        Student student = null;\r\n        for (Object o : jp.getArgs()) {\r\n            if (o instanceof Student) {\r\n                student = (Student) o;\r\n            }\r\n        }\r\n    }\r\nThe above code works only for the first JoinPoint. So the question is how to create a Pointcut that will be executed for any situation of Student in input parameter. &lt;br /&gt;\r\nI could not use below code, it throws runtimeException:&lt;br/&gt;\r\n`@Before(&quot;args(..,com.hadi.student.Student,..)&quot;) `\r\n&lt;br/&gt;\r\n\r\nI make the code easy to understand, actually my Poincut is so bigger than this. So please just answer with **args** way.","title":"Spring AOP args","body":"<p><br/>\nI Have a problem with Spring AOP. I want to get the object of Student in a Pointcut. But my JoinPoints can have this object in any priority. <br/>Look at the snipped below code for the two different JoinPoints and the Pointcut that I have Created:</p>\n\n<pre><code>public Student createStudent(String s, Student student) {...}\npublic Student updateStudent(Student student, String s) {...}\n\n@Before(\"args(..,com.hadi.student.Student)\") \npublic void myAdvice(JoinPoint jp) {\n    Student student = null;\n    for (Object o : jp.getArgs()) {\n        if (o instanceof Student) {\n            student = (Student) o;\n        }\n    }\n}\n</code></pre>\n\n<p>The above code works only for the first JoinPoint. So the question is how to create a Pointcut that will be executed for any situation of Student in input parameter. <br />\nI could not use below code, it throws runtimeException:<br/>\n<code>@Before(\"args(..,com.hadi.student.Student,..)\")</code>\n<br/></p>\n\n<p>I make the code easy to understand, actually my Poincut is so bigger than this. So please just answer with <strong>args</strong> way.</p>\n"},{"tags":["java","spring-boot","minio"],"answers":[{"tags":[],"owner":{"account_id":26177885,"reputation":1,"user_id":19861711,"display_name":"cret"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678614172,"creation_date":1678614172,"answer_id":75712264,"question_id":75001921,"body_markdown":"Do you want to generate a presigned url and use it to upload multiple files to a folder? You may need to use `getPresignedPostForm` api. For example:\r\n```java\r\n  PostPolicy policy = new PostPolicy(&quot;myBucket&quot;,ZonedDateTime.now().plusHours(1));\r\n        policy.addContentLengthRangeCondition(0,100*1024*1024); // file size range\r\n        policy.addStartsWithCondition(&quot;key&quot;,&quot;myDir/); //directory\r\n        return minioClient.getPresignedPostFormData(policy);\r\n```\r\nThen you will get a formData, you can use this formData to upload any file to `myDir/` in `myBucket`.\r\nfor example:\r\n[post formData][1]\r\n\r\n`key` is the objectKey you want upload file to. \r\n`file` is the file you want upload. \r\nYou can use this formData multiple times to upload multiple files.\r\n\r\n  [1]: https://i.stack.imgur.com/GKZe4.png","title":"Minio presigned url not working in browser","body":"<p>Do you want to generate a presigned url and use it to upload multiple files to a folder? You may need to use <code>getPresignedPostForm</code> api. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  PostPolicy policy = new PostPolicy(&quot;myBucket&quot;,ZonedDateTime.now().plusHours(1));\n        policy.addContentLengthRangeCondition(0,100*1024*1024); // file size range\n        policy.addStartsWithCondition(&quot;key&quot;,&quot;myDir/); //directory\n        return minioClient.getPresignedPostFormData(policy);\n</code></pre>\n<p>Then you will get a formData, you can use this formData to upload any file to <code>myDir/</code> in <code>myBucket</code>.\nfor example:\n<a href=\"https://i.stack.imgur.com/GKZe4.png\" rel=\"nofollow noreferrer\">post formData</a></p>\n<p><code>key</code> is the objectKey you want upload file to.\n<code>file</code> is the file you want upload.\nYou can use this formData multiple times to upload multiple files.</p>\n"}],"owner":{"account_id":1621467,"reputation":1024,"user_id":4579356,"accept_rate":57,"display_name":"prab2112"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678614172,"creation_date":1672815703,"question_id":75001921,"body_markdown":"I am generating minio presigned url using code and then trying to open the url in browser but when i am opening that url in browser it gives me below error:\r\n```&lt;Error&gt;\r\n&lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;\r\n&lt;Message&gt;The request signature we calculated does not match the signature you provided. Check your key and signing method.&lt;/Message&gt;\r\n&lt;Key&gt;PAEHXVONAHDVJ/A&lt;/Key&gt;\r\n&lt;BucketName&gt;test&lt;/BucketName&gt;\r\n&lt;Resource&gt;/test/PAEHXVONAHDVJ/A&lt;/Resource&gt;\r\n&lt;RequestId&gt;173708A8FD5721F0&lt;/RequestId&gt;\r\n&lt;HostId&gt;fcc0c2f9-167f-4502-981c-61a3fedb3487&lt;/HostId&gt;\r\n&lt;/Error&gt;\r\n```\r\nBelow is the code i am using to create pre signed url :\r\n\r\n```\r\nMap&lt;String, String&gt; reqParams = new HashMap&lt;&gt;();\r\n        reqParams.put(&quot;response-content-type&quot;, &quot;application/json&quot;);\r\n        String minioUploadUrl = &quot;&quot;;\r\n\r\n        try {\r\n            minioUploadUrl = minioPrimaryClient.getPresignedObjectUrl(\r\n                    GetPresignedObjectUrlArgs.builder()\r\n                            .method(Method.GET)\r\n                            .bucket(org) //org is variable here \r\n                            .object(tId + &quot;/&quot; + task) //task is variable\r\n                            .expiry(60 * 60)\r\n                            .extraQueryParams(reqParams)\r\n                            .build());\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return minioUploadUrl;\r\n```\r\nBasically i am creating url which will have two folders inside the mentioned bucket and i would like ti upload multiple files inside that.\r\n\r\nSame url which is getting generated when i am using through postman it&#39;s working fine but in minio server it gets uploaded without name.","title":"Minio presigned url not working in browser","body":"<p>I am generating minio presigned url using code and then trying to open the url in browser but when i am opening that url in browser it gives me below error:</p>\n<pre><code>&lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;\n&lt;Message&gt;The request signature we calculated does not match the signature you provided. Check your key and signing method.&lt;/Message&gt;\n&lt;Key&gt;PAEHXVONAHDVJ/A&lt;/Key&gt;\n&lt;BucketName&gt;test&lt;/BucketName&gt;\n&lt;Resource&gt;/test/PAEHXVONAHDVJ/A&lt;/Resource&gt;\n&lt;RequestId&gt;173708A8FD5721F0&lt;/RequestId&gt;\n&lt;HostId&gt;fcc0c2f9-167f-4502-981c-61a3fedb3487&lt;/HostId&gt;\n&lt;/Error&gt;\n</code></pre>\n<p>Below is the code i am using to create pre signed url :</p>\n<pre><code>Map&lt;String, String&gt; reqParams = new HashMap&lt;&gt;();\n        reqParams.put(&quot;response-content-type&quot;, &quot;application/json&quot;);\n        String minioUploadUrl = &quot;&quot;;\n\n        try {\n            minioUploadUrl = minioPrimaryClient.getPresignedObjectUrl(\n                    GetPresignedObjectUrlArgs.builder()\n                            .method(Method.GET)\n                            .bucket(org) //org is variable here \n                            .object(tId + &quot;/&quot; + task) //task is variable\n                            .expiry(60 * 60)\n                            .extraQueryParams(reqParams)\n                            .build());\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n        return minioUploadUrl;\n</code></pre>\n<p>Basically i am creating url which will have two folders inside the mentioned bucket and i would like ti upload multiple files inside that.</p>\n<p>Same url which is getting generated when i am using through postman it's working fine but in minio server it gets uploaded without name.</p>\n"},{"tags":["java","algorithm","file","search"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1678429247,"post_id":75692819,"comment_id":133534077,"body_markdown":"*search in a csv file for a string that has a column with a prefix entered by the user* is not a very clear requirement. Can you provide example input/output?","body":"<i>search in a csv file for a string that has a column with a prefix entered by the user</i> is not a very clear requirement. Can you provide example input/output?"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1678430364,"post_id":75692819,"comment_id":133534256,"body_markdown":"It sounds like sorting the rows ahead of the search could solve the problem if you are allowed to handle the stored data. Either that or creating some index.","body":"It sounds like sorting the rows ahead of the search could solve the problem if you are allowed to handle the stored data. Either that or creating some index."},{"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"score":0,"creation_date":1678431768,"post_id":75692819,"comment_id":133534555,"body_markdown":"@shmosel, question updated, added example","body":"@shmosel, question updated, added example"},{"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"score":0,"creation_date":1678431871,"post_id":75692819,"comment_id":133534582,"body_markdown":"@ODDminus1, unforunately it is not available to edit stored data.","body":"@ODDminus1, unforunately it is not available to edit stored data."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1678433909,"post_id":75692819,"comment_id":133534927,"body_markdown":"Got it, thanks. Does &quot;not reading all lines from file&quot; imply that we may repeatedly read parts of the file? Also, is the column only specified once?","body":"Got it, thanks. Does &quot;not reading all lines from file&quot; imply that we may repeatedly read parts of the file? Also, is the column only specified once?"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1678434072,"post_id":75692819,"comment_id":133534958,"body_markdown":"Okay, but creating an index which only stores the column which you are querying and a reference to the line number in the csv should be a solution which meets the criteria. E.g. `Map&lt;String, List&lt;Integer&gt;&gt;` which holds all the line numbers for a searchable value. Then you only need to build the map by reading the full file once, and you can later find the values in the map to find a narrow way to query the csv.","body":"Okay, but creating an index which only stores the column which you are querying and a reference to the line number in the csv should be a solution which meets the criteria. E.g. <code>Map&lt;String, List&lt;Integer&gt;&gt;</code> which holds all the line numbers for a searchable value. Then you only need to build the map by reading the full file once, and you can later find the values in the map to find a narrow way to query the csv."},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1678435034,"post_id":75692819,"comment_id":133535157,"body_markdown":"@ODDminus1: If you create such an index for each column (which you need to allow searches for each column) you practically stored all data of the file in memory.","body":"@ODDminus1: If you create such an index for each column (which you need to allow searches for each column) you practically stored all data of the file in memory."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1678435872,"post_id":75692819,"comment_id":133535338,"body_markdown":"If the prefix is &quot;Ma&quot;, will that match rows 2 and 4, or just 4?","body":"If the prefix is &quot;Ma&quot;, will that match rows 2 and 4, or just 4?"},{"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"score":0,"creation_date":1678441665,"post_id":75692819,"comment_id":133536956,"body_markdown":"@shmosel, the column number is specified once, only the prefix changes during the subsequent search. The algorithm can read some blocks of the file repeatedly, the main condition is not to read the whole file.","body":"@shmosel, the column number is specified once, only the prefix changes during the subsequent search. The algorithm can read some blocks of the file repeatedly, the main condition is not to read the whole file."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1678441728,"post_id":75692819,"comment_id":133536971,"body_markdown":"@MrSmith42 you can exclude all columns which isn&#39;t a part of the index, and if the search term is just for a prefix of a maximum certain size, you are saving some data there as well. With the given example, you aren&#39;t really saving anything, but with a larger csv, this could become significant. At any cost, it fits the criteria of not storing all the data.","body":"@MrSmith42 you can exclude all columns which isn&#39;t a part of the index, and if the search term is just for a prefix of a maximum certain size, you are saving some data there as well. With the given example, you aren&#39;t really saving anything, but with a larger csv, this could become significant. At any cost, it fits the criteria of not storing all the data."},{"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"score":0,"creation_date":1678442285,"post_id":75692819,"comment_id":133537138,"body_markdown":"@ODDminus1, we will have to fill in the Map for each prefix, which means going through the entire file again.  E.g. for the first search we filled Map for one prefix, now we can go through this map to find suitable lines from file. But if search again for another prefix we will have to read all file again, to find suitable line numbers for this prefix and put it in the Map. So for every search we will read all file again. Did I understand your solution correctly?","body":"@ODDminus1, we will have to fill in the Map for each prefix, which means going through the entire file again.  E.g. for the first search we filled Map for one prefix, now we can go through this map to find suitable lines from file. But if search again for another prefix we will have to read all file again, to find suitable line numbers for this prefix and put it in the Map. So for every search we will read all file again. Did I understand your solution correctly?"},{"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"score":0,"creation_date":1678442507,"post_id":75692819,"comment_id":133537197,"body_markdown":"@user3386109, prefix &quot;Ma&quot; will only match row 4.","body":"@user3386109, prefix &quot;Ma&quot; will only match row 4."},{"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"score":0,"creation_date":1678443492,"post_id":75692819,"comment_id":133537471,"body_markdown":"@ODDminus1, I think that the only correct solution to this problem may be the answer proposed by icelop, in which a cache of a certain size is used. This cache will be updated with each search (the Least Recently Used or a Fixed-Size cache). In this case, we really won&#39;t store the whole file, but only part of it. And also we will not read the entire file again, because some part of it will already be stored in memory.","body":"@ODDminus1, I think that the only correct solution to this problem may be the answer proposed by icelop, in which a cache of a certain size is used. This cache will be updated with each search (the Least Recently Used or a Fixed-Size cache). In this case, we really won&#39;t store the whole file, but only part of it. And also we will not read the entire file again, because some part of it will already be stored in memory."},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1678446856,"post_id":75692819,"comment_id":133538397,"body_markdown":"Row count = cache size. Row&#39;s column value = cache entry (key-value pair of row number and column value). Then, for searching use some data structure like Trie.","body":"Row count = cache size. Row&#39;s column value = cache entry (key-value pair of row number and column value). Then, for searching use some data structure like Trie."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1678456267,"post_id":75692819,"comment_id":133540894,"body_markdown":"@Ymrik, is the prefix of a set maximum size, or could it be any length - potentially the entire string? If the former, I could throw together an answer with some code examples.","body":"@Ymrik, is the prefix of a set maximum size, or could it be any length - potentially the entire string? If the former, I could throw together an answer with some code examples."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1678476391,"post_id":75692819,"comment_id":133546408,"body_markdown":"Then you can hack the requirements by loading half the file into memory and reading half from disk. But I don&#39;t imagine that&#39;s the intent.","body":"Then you can hack the requirements by loading half the file into memory and reading half from disk. But I don&#39;t imagine that&#39;s the intent."}],"answers":[{"tags":[],"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678508658,"creation_date":1678508658,"answer_id":75702761,"question_id":75692819,"body_markdown":"I would create an index of three-letter prefixes for the selected column. There are only 17576 three-letter prefixes (ignoring case) so the index would have 17576 entries.\r\nEach entry in the index would be a list of offsets into the file for the lines that match the prefix. \r\n\r\nFor example, if the file contains this:\r\n\r\n| Line from the file | Offset into the file |\r\n| :-- | :-- |\r\n| 1,&quot;Sara&quot;,&quot;Common Algorithms&quot; | 0 |\r\n| 2,&quot;Adam&quot;,&quot;Computer Science&quot; | 29 |\r\n| 3,&quot;Liza&quot;,&quot;Condensed Matter Physics&quot; | 57 |\r\n| 4,&quot;Bob&quot;,&quot;Electrochemistry&quot; | 93 |\r\n| 5,&quot;Eva&quot;,&quot;Material Culture&quot; | 120 |\r\n\r\nThen the index would contain this:\r\n\r\n|prefix | offsets |\r\n| :-- | :-- |\r\n| &quot;Com&quot; | 0, 29 |\r\n| &quot;Con&quot; | 57 |\r\n| &quot;Ele&quot; | 93 |\r\n| &quot;Mat&quot; | 120 |\r\n\r\nThis is a variation on a [set-associative cache](https://en.wikipedia.org/wiki/Cache_placement_policies#Set-associative_cache) where the three-letter prefix is the set identifier, and the file offsets are the data. The cache can be implemented as a dictionary where the key is the prefix, and the value is a list of file offsets.\r\n\r\nWhen the search request contains a three-letter prefix, simply get the list for that prefix from the cache, seek to each offset in the file, and read the line.\r\n\r\nWhen the search request contains a two-letter prefix, it matches up to 26 three-letter prefixes. So check the dictionary for each of the possible matching three-letter prefixes, and read the lines for each of those.\r\nFor the example above, the two-letter prefix &quot;Co&quot; matches &quot;Com&quot; and &quot;Con&quot;, so the search result contains three lines, starting at offsets 0, 29, and 57. (A one-letter prefix matches up to 676 three-letter prefixes.) \r\n\r\nWhen the search request contains a four-letter (or longer) prefix, read all of the lines for the corresponding three-letter prefix, but only return those lines that match the given prefix. For the example above, the four-letter prefix &quot;Comp&quot; would read both lines for &quot;Com&quot;, but only return the line `2,&quot;Adam&quot;,&quot;Computer Science&quot;`. \r\n","title":"How to cache file in order to not reading it in every search iteration?","body":"<p>I would create an index of three-letter prefixes for the selected column. There are only 17576 three-letter prefixes (ignoring case) so the index would have 17576 entries.\nEach entry in the index would be a list of offsets into the file for the lines that match the prefix.</p>\n<p>For example, if the file contains this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">Line from the file</th>\n<th style=\"text-align: left;\">Offset into the file</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1,&quot;Sara&quot;,&quot;Common Algorithms&quot;</td>\n<td style=\"text-align: left;\">0</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">2,&quot;Adam&quot;,&quot;Computer Science&quot;</td>\n<td style=\"text-align: left;\">29</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">3,&quot;Liza&quot;,&quot;Condensed Matter Physics&quot;</td>\n<td style=\"text-align: left;\">57</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">4,&quot;Bob&quot;,&quot;Electrochemistry&quot;</td>\n<td style=\"text-align: left;\">93</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">5,&quot;Eva&quot;,&quot;Material Culture&quot;</td>\n<td style=\"text-align: left;\">120</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Then the index would contain this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">prefix</th>\n<th style=\"text-align: left;\">offsets</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">&quot;Com&quot;</td>\n<td style=\"text-align: left;\">0, 29</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">&quot;Con&quot;</td>\n<td style=\"text-align: left;\">57</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">&quot;Ele&quot;</td>\n<td style=\"text-align: left;\">93</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">&quot;Mat&quot;</td>\n<td style=\"text-align: left;\">120</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>This is a variation on a <a href=\"https://en.wikipedia.org/wiki/Cache_placement_policies#Set-associative_cache\" rel=\"nofollow noreferrer\">set-associative cache</a> where the three-letter prefix is the set identifier, and the file offsets are the data. The cache can be implemented as a dictionary where the key is the prefix, and the value is a list of file offsets.</p>\n<p>When the search request contains a three-letter prefix, simply get the list for that prefix from the cache, seek to each offset in the file, and read the line.</p>\n<p>When the search request contains a two-letter prefix, it matches up to 26 three-letter prefixes. So check the dictionary for each of the possible matching three-letter prefixes, and read the lines for each of those.\nFor the example above, the two-letter prefix &quot;Co&quot; matches &quot;Com&quot; and &quot;Con&quot;, so the search result contains three lines, starting at offsets 0, 29, and 57. (A one-letter prefix matches up to 676 three-letter prefixes.)</p>\n<p>When the search request contains a four-letter (or longer) prefix, read all of the lines for the corresponding three-letter prefix, but only return those lines that match the given prefix. For the example above, the four-letter prefix &quot;Comp&quot; would read both lines for &quot;Com&quot;, but only return the line <code>2,&quot;Adam&quot;,&quot;Computer Science&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678613626,"creation_date":1678600314,"answer_id":75711282,"question_id":75692819,"body_markdown":"You can construct an index that maps each value in the specified column to its line offset in the file, and then jump to the line using `RandomAccessFile`.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Scanner in = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;File: &quot;);\r\n        String path = in.nextLine();\r\n\r\n        System.out.print(&quot;Column: &quot;);\r\n        int col = in.nextInt();\r\n        in.nextLine();\r\n\r\n        Map&lt;Long, String&gt; index = index(path, col);\r\n\r\n        while (true) {\r\n            System.out.print(&quot;Prefix: &quot;);\r\n            String prefix = in.nextLine();\r\n            if (prefix.equals(&quot;end&quot;)) {\r\n                return;\r\n            }\r\n\r\n            try (RandomAccessFile file = new RandomAccessFile(path, &quot;r&quot;)) {\r\n                for (Map.Entry&lt;Long, String&gt; line : index.entrySet()) {\r\n                    if (line.getValue().startsWith(prefix)) {\r\n                        file.seek(line.getKey());\r\n                        System.out.println(file.readLine());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private static Map&lt;Long, String&gt; index(String file, int col) throws IOException {\r\n        Map&lt;Long, String&gt; index = new LinkedHashMap&lt;&gt;();\r\n        long offset = 0;\r\n        for (String line : Files.readAllLines(Paths.get(file))) {\r\n            String value = line.split(&quot;,&quot;)[col - 1]\r\n                    .replaceAll(&quot;^ *\\&quot;|\\&quot; *$&quot;, &quot;&quot;);\r\n            index.put(offset, value);\r\n            offset += line.length() + System.lineSeparator().length();\r\n        }\r\n        return index;\r\n    }\r\n\r\nTo keep things simple, I took the liberty of assuming lines don&#39;t contain nested quotes or commas and that we&#39;re using the system line separator. But feel free to adjust as necessary.\r\n\r\nAlso note that the map is not really a map so much as a list of entries. The column is stored as the value in case it contains duplicates. `Map` isn&#39;t designed for prefix searching anyway, but it shouldn&#39;t matter much unless you&#39;re dealing with huge files. You can optimize with a trie if necessary, but I&#39;ll leave that as an exercise for the reader.","title":"How to cache file in order to not reading it in every search iteration?","body":"<p>You can construct an index that maps each value in the specified column to its line offset in the file, and then jump to the line using <code>RandomAccessFile</code>.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    Scanner in = new Scanner(System.in);\n\n    System.out.print(&quot;File: &quot;);\n    String path = in.nextLine();\n\n    System.out.print(&quot;Column: &quot;);\n    int col = in.nextInt();\n    in.nextLine();\n\n    Map&lt;Long, String&gt; index = index(path, col);\n\n    while (true) {\n        System.out.print(&quot;Prefix: &quot;);\n        String prefix = in.nextLine();\n        if (prefix.equals(&quot;end&quot;)) {\n            return;\n        }\n\n        try (RandomAccessFile file = new RandomAccessFile(path, &quot;r&quot;)) {\n            for (Map.Entry&lt;Long, String&gt; line : index.entrySet()) {\n                if (line.getValue().startsWith(prefix)) {\n                    file.seek(line.getKey());\n                    System.out.println(file.readLine());\n                }\n            }\n        }\n    }\n}\n\nprivate static Map&lt;Long, String&gt; index(String file, int col) throws IOException {\n    Map&lt;Long, String&gt; index = new LinkedHashMap&lt;&gt;();\n    long offset = 0;\n    for (String line : Files.readAllLines(Paths.get(file))) {\n        String value = line.split(&quot;,&quot;)[col - 1]\n                .replaceAll(&quot;^ *\\&quot;|\\&quot; *$&quot;, &quot;&quot;);\n        index.put(offset, value);\n        offset += line.length() + System.lineSeparator().length();\n    }\n    return index;\n}\n</code></pre>\n<p>To keep things simple, I took the liberty of assuming lines don't contain nested quotes or commas and that we're using the system line separator. But feel free to adjust as necessary.</p>\n<p>Also note that the map is not really a map so much as a list of entries. The column is stored as the value in case it contains duplicates. <code>Map</code> isn't designed for prefix searching anyway, but it shouldn't matter much unless you're dealing with huge files. You can optimize with a trie if necessary, but I'll leave that as an exercise for the reader.</p>\n"}],"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75711282,"answer_count":2,"score":2,"last_activity_date":1678613626,"creation_date":1678429148,"question_id":75692819,"body_markdown":"I am implementing an algorithm that will search in a csv file for a string that has a column with a prefix entered by the user. After finding the first search result, the user can enter a different prefix to perform a second search. The column number is specified only once, and only the prefix is allowed to be changed during the subsequent search. This will continue until the user enters &quot;end&quot;.\r\n\r\n**Example of search:**\r\n\r\n**File Data:**\r\n\r\n    1, &quot;Adam&quot;, &quot;Computer Science&quot;\r\n    2, &quot;Liza&quot;, &quot;Condensed Matter Physics&quot;\r\n    3, &quot;Bob&quot;, &quot;Electrochemistry&quot;\r\n    4, &quot;Eva&quot;, &quot;Material Culture&quot;\r\n\r\n**Search parameters:** \r\n\r\n    column: 3, prefix: &quot;Co&quot;\r\n\r\n**Search result:** \r\n\r\n    1, &quot;Adam&quot;, &quot;Computer Science&quot;\r\n    2, &quot;Liza&quot;, &quot;Condensed Matter Physics&quot;\r\n\r\n**My algorithm must meet specific conditions:**\r\n- not reading all lines from file at each search\r\n- not store all file data in memory (dont matter if it is bytes array or any other structure which contains all file data)\r\n- not edit file and not create other files (also not use db)\r\n\r\nIt turns out that with each search operation we have to process the entire file, because any string in file can have the specified prefix. How can this be implemented without violating the above conditions? Maybe you know algorithm that can be used in this case?\r\n\r\nAccording to my guesses, we will need to process the entire file anyway. This means either reading all the lines from it at each search, or storing it completely in memory in order to exclude access to the file and work with this structure. Both of these options violate the condition of the problem.","title":"How to cache file in order to not reading it in every search iteration?","body":"<p>I am implementing an algorithm that will search in a csv file for a string that has a column with a prefix entered by the user. After finding the first search result, the user can enter a different prefix to perform a second search. The column number is specified only once, and only the prefix is allowed to be changed during the subsequent search. This will continue until the user enters &quot;end&quot;.</p>\n<p><strong>Example of search:</strong></p>\n<p><strong>File Data:</strong></p>\n<pre><code>1, &quot;Adam&quot;, &quot;Computer Science&quot;\n2, &quot;Liza&quot;, &quot;Condensed Matter Physics&quot;\n3, &quot;Bob&quot;, &quot;Electrochemistry&quot;\n4, &quot;Eva&quot;, &quot;Material Culture&quot;\n</code></pre>\n<p><strong>Search parameters:</strong></p>\n<pre><code>column: 3, prefix: &quot;Co&quot;\n</code></pre>\n<p><strong>Search result:</strong></p>\n<pre><code>1, &quot;Adam&quot;, &quot;Computer Science&quot;\n2, &quot;Liza&quot;, &quot;Condensed Matter Physics&quot;\n</code></pre>\n<p><strong>My algorithm must meet specific conditions:</strong></p>\n<ul>\n<li>not reading all lines from file at each search</li>\n<li>not store all file data in memory (dont matter if it is bytes array or any other structure which contains all file data)</li>\n<li>not edit file and not create other files (also not use db)</li>\n</ul>\n<p>It turns out that with each search operation we have to process the entire file, because any string in file can have the specified prefix. How can this be implemented without violating the above conditions? Maybe you know algorithm that can be used in this case?</p>\n<p>According to my guesses, we will need to process the entire file anyway. This means either reading all the lines from it at each search, or storing it completely in memory in order to exclude access to the file and work with this structure. Both of these options violate the condition of the problem.</p>\n"},{"tags":["java","mockito","powermock","powermockito"],"comments":[{"owner":{"account_id":18329183,"reputation":43,"user_id":13348140,"display_name":"Aakash V"},"score":0,"creation_date":1678685593,"post_id":75711694,"comment_id":133574767,"body_markdown":"I saw this, everyone is using powermockito here. Is powermockito is the only way, I have to do this in mockito , is it possible ?","body":"I saw this, everyone is using powermockito here. Is powermockito is the only way, I have to do this in mockito , is it possible ?"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1678703933,"post_id":75711694,"comment_id":133578680,"body_markdown":"Have you checked javadoc: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks","body":"Have you checked javadoc: <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/&hellip;</a>"},{"owner":{"account_id":18329183,"reputation":43,"user_id":13348140,"display_name":"Aakash V"},"score":0,"creation_date":1678801265,"post_id":75711694,"comment_id":133600859,"body_markdown":"Yeah I checked the doc but I cant find anything useful.","body":"Yeah I checked the doc but I cant find anything useful."}],"owner":{"account_id":18329183,"reputation":43,"user_id":13348140,"display_name":"Aakash V"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678613033,"creation_date":1678606700,"question_id":75711694,"body_markdown":"``` PowerMock.verifyStatic(Util.class)```\r\n\r\nI use this method in powermockito to verify this class, What is the method I need to use in mockito to verify the similar behaviour ?","title":"PowerMock.VerifyStatic alternate in mockito","body":"<p><code> PowerMock.verifyStatic(Util.class)</code></p>\n<p>I use this method in powermockito to verify this class, What is the method I need to use in mockito to verify the similar behaviour ?</p>\n"},{"tags":["java","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":2621829,"reputation":990,"user_id":2269692,"display_name":"Sergi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659031195,"creation_date":1659031195,"answer_id":73157313,"question_id":73049887,"body_markdown":"You might want to have a look at [Railflow](https://railflow.io/) - it can parse Cucumber JSON reports and create/update tests and test runs in TestRail.  \r\n\r\nP.S. I&#39;m developer of TestRail","title":"Cucumber integration in testrail(java)","body":"<p>You might want to have a look at <a href=\"https://railflow.io/\" rel=\"nofollow noreferrer\">Railflow</a> - it can parse Cucumber JSON reports and create/update tests and test runs in TestRail.</p>\n<p>P.S. I'm developer of TestRail</p>\n"}],"owner":{"account_id":25852417,"reputation":11,"user_id":19586213,"display_name":"Salo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678610995,"creation_date":1658312482,"question_id":73049887,"body_markdown":"i try to integrate cucumber scenarios in testrail, but i don&#39;t find some solutions, if somebody integrate it, can help?\r\ni have scenarios write in java cucumber and need to integrate it in testrail. if it possible.\r\n i try with api from documentation, but it is not work or i have some mistake\r\n\r\n```public class TestRailManager {\r\n    public static String TEST_RUN_ID = &quot;5400&quot;;\r\n    public static String TESTRAIL_USERNAME = &quot;username&quot;;\r\n    public static String TESTRAIL_PASSWORD = &quot;password&quot;;\r\n    public static String RAILS_URL = &quot;url&quot;;\r\n    public static final int TEST_CASE_PASSED_STATUS = 1;\r\n    public static final int TEST_CASE_FAILED_STATUS = 5;\r\n\r\n\r\n    public static void addResultForTestCase(String testCseId, int status,\r\n                                            String error) throws IOException, APIException {\r\n        String testRunId = TEST_RUN_ID;\r\n        APIClient client = new APIClient(RAILS_URL);\r\n        client.setUser(TESTRAIL_USERNAME);\r\n        client.setPassword(TESTRAIL_PASSWORD);\r\n        Map data = new HashMap();\r\n        data.put(&quot;status_id&quot;, status);\r\n        data.put(&quot;comment&quot;, &quot;Test Executed - status updates automatically&quot;);\r\n        client.sendPost(&quot;add_result_for_case/&quot; + testRunId+ &quot;/&quot; + testCseId + &quot;&quot;, data);\r\n\r\n    }\r\n\r\n}```\r\n\r\n","title":"Cucumber integration in testrail(java)","body":"<p>i try to integrate cucumber scenarios in testrail, but i don't find some solutions, if somebody integrate it, can help?\ni have scenarios write in java cucumber and need to integrate it in testrail. if it possible.\ni try with api from documentation, but it is not work or i have some mistake</p>\n<pre><code>    public static String TEST_RUN_ID = &quot;5400&quot;;\n    public static String TESTRAIL_USERNAME = &quot;username&quot;;\n    public static String TESTRAIL_PASSWORD = &quot;password&quot;;\n    public static String RAILS_URL = &quot;url&quot;;\n    public static final int TEST_CASE_PASSED_STATUS = 1;\n    public static final int TEST_CASE_FAILED_STATUS = 5;\n\n\n    public static void addResultForTestCase(String testCseId, int status,\n                                            String error) throws IOException, APIException {\n        String testRunId = TEST_RUN_ID;\n        APIClient client = new APIClient(RAILS_URL);\n        client.setUser(TESTRAIL_USERNAME);\n        client.setPassword(TESTRAIL_PASSWORD);\n        Map data = new HashMap();\n        data.put(&quot;status_id&quot;, status);\n        data.put(&quot;comment&quot;, &quot;Test Executed - status updates automatically&quot;);\n        client.sendPost(&quot;add_result_for_case/&quot; + testRunId+ &quot;/&quot; + testCseId + &quot;&quot;, data);\n\n    }\n\n}```\n\n</code></pre>\n"},{"tags":["java","java-17","java-http-client"],"comments":[{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1678211476,"post_id":75641800,"comment_id":133488151,"body_markdown":"1. if you want to return something then instead of `thenAccept()` use `thenApply()`. If you use `thenAccept()` the only possible value that you can return is `null` - which is the only value compatible with `Void`.\n2. in your first lambda, where the parameter is an `HttpResponse&lt;String&gt;`, you should probably look at the HTTP status code before mapping the body to JSon.","body":"1. if you want to return something then instead of <code>thenAccept()</code> use <code>thenApply()</code>. If you use <code>thenAccept()</code> the only possible value that you can return is <code>null</code> - which is the only value compatible with <code>Void</code>. 2. in your first lambda, where the parameter is an <code>HttpResponse&lt;String&gt;</code>, you should probably look at the HTTP status code before mapping the body to JSon."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1678219293,"post_id":75641800,"comment_id":133490057,"body_markdown":"This looks like a good question, but prior to my edit it rather sounded like a request for free work. It is worth being aware that Stack Overflow gets hundreds of requests for volunteer labour every day, and most of those are downvoted and/or closed (quite rightly). I recommend differentiating your own questions from those - make it clear that you know the work is yours to complete.","body":"This looks like a good question, but prior to my edit it rather sounded like a request for free work. It is worth being aware that Stack Overflow gets hundreds of requests for volunteer labour every day, and most of those are downvoted and/or closed (quite rightly). I recommend differentiating your own questions from those - make it clear that you know the work is yours to complete."},{"owner":{"account_id":2035096,"reputation":1987,"user_id":1817617,"accept_rate":60,"display_name":"Sumon Bappi"},"score":0,"creation_date":1678598017,"post_id":75641800,"comment_id":133562934,"body_markdown":"@daniel if I use only thenApply() then I have to use join other wise it shows error. In first lambda not looking for status code because if it fails Then I have to save response into a table as well","body":"@daniel if I use only thenApply() then I have to use join other wise it shows error. In first lambda not looking for status code because if it fails Then I have to save response into a table as well"},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1678716676,"post_id":75641800,"comment_id":133582572,"body_markdown":"I guess this is your IDE complaining that you ignore the result (not a compiler error). Then just return null. You&#39;re ignoring the returned completable feature anyway, so why  not use thenAccept() and return null?","body":"I guess this is your IDE complaining that you ignore the result (not a compiler error). Then just return null. You&#39;re ignoring the returned completable feature anyway, so why  not use thenAccept() and return null?"},{"owner":{"account_id":2035096,"reputation":1987,"user_id":1817617,"accept_rate":60,"display_name":"Sumon Bappi"},"score":0,"creation_date":1678768174,"post_id":75641800,"comment_id":133593172,"body_markdown":"@daniel,  will check that. But I think if I return null in thenAccept() then the caller method will get null as response","body":"@daniel,  will check that. But I think if I return null in thenAccept() then the caller method will get null as response"},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1678806646,"post_id":75641800,"comment_id":133602694,"body_markdown":"Yes of course. But you&#39;re not using the response in the calling code, which is why you got an error when you tried to use thenApply().","body":"Yes of course. But you&#39;re not using the response in the calling code, which is why you got an error when you tried to use thenApply()."},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":1,"creation_date":1678807089,"post_id":75641800,"comment_id":133602842,"body_markdown":"If you don&#39;t want to return null, change your code to:\nCompletableFuture&lt;Map&lt;String, Object&gt;&gt; result = HttpClient.newClient().sendAsync(...).thenApply(...).exceptionally(...).thenApply(body -&gt; callback(body));\nwhere callback(body) is a Function&lt;Map&lt;String,Object&gt;,Map&lt;String,Object&gt;&gt;.","body":"If you don&#39;t want to return null, change your code to: CompletableFuture&lt;Map&lt;String, Object&gt;&gt; result = HttpClient.newClient().sendAsync(...).thenApply(...).excepti&zwnj;&#8203;onally(...).thenAppl&zwnj;&#8203;y(body -&gt; callback(body)); where callback(body) is a Function&lt;Map&lt;String,Object&gt;,Map&lt;String,Object&gt;&gt;."}],"answers":[{"comments":[{"owner":{"account_id":2035096,"reputation":1987,"user_id":1817617,"accept_rate":60,"display_name":"Sumon Bappi"},"score":0,"creation_date":1678103299,"post_id":75648006,"comment_id":133462490,"body_markdown":"But user is waiting for a response that was it success or not. That&#39;s why I need to return","body":"But user is waiting for a response that was it success or not. That&#39;s why I need to return"},{"owner":{"account_id":2035096,"reputation":1987,"user_id":1817617,"accept_rate":60,"display_name":"Sumon Bappi"},"score":0,"creation_date":1678103351,"post_id":75648006,"comment_id":133462502,"body_markdown":"I can do it by using get() or join() but that will stop the main thread. So performance will be compromised","body":"I can do it by using get() or join() but that will stop the main thread. So performance will be compromised"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678105005,"post_id":75648006,"comment_id":133462896,"body_markdown":"So I assume you are making this call from inside your own controller method (which is handling a REST call)? In your current implementation, the &quot;main&quot; thread is not waiting for the result, and will simply continue without wating and will &quot;lose&quot; the result from the http POST call. I think this sort of functionality which you would like to achieve can be done via Spring Webflux.","body":"So I assume you are making this call from inside your own controller method (which is handling a REST call)? In your current implementation, the &quot;main&quot; thread is not waiting for the result, and will simply continue without wating and will &quot;lose&quot; the result from the http POST call. I think this sort of functionality which you would like to achieve can be done via Spring Webflux."},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678106089,"post_id":75648006,"comment_id":133463191,"body_markdown":"If you will post the whole enclosing method I will try to propose you a solution based on spring Webflux","body":"If you will post the whole enclosing method I will try to propose you a solution based on spring Webflux"},{"owner":{"account_id":2035096,"reputation":1987,"user_id":1817617,"accept_rate":60,"display_name":"Sumon Bappi"},"score":0,"creation_date":1678598280,"post_id":75648006,"comment_id":133562950,"body_markdown":"I will try Webflux later as you suggest","body":"I will try Webflux later as you suggest"}],"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678610967,"creation_date":1678086793,"answer_id":75648006,"question_id":75641800,"body_markdown":"Method: \r\n\r\n    public CompletableFuture&lt;Void&gt; thenAccept(Consumer&lt;? super T&gt; action)\r\n\r\ncan only accept a Consumer object. A Consumer object does not return anything, it only consumes an action so it could for instance look like this:\r\n\r\n    Consumer&lt;LinkedHashMap&lt;String, Object&gt;&gt; callback = System.out::println;\r\n\r\n \r\nThe best would be to use your consumer method and do there whatever you would like to do with the retVal variable. Instead of returning you have to do your logic inside the callback method. For instance:\r\n\r\n    Consumer&lt;LinkedHashMap&lt;String, Object&gt;&gt; callback = linkedMap -&gt; {\r\n        if (linkedMap != null) {\r\n            linkedMap.keySet().forEach(k -&gt; doSomethingWithEveryKey(k));\r\n        }\r\n    };\r\n\r\nIf you would like to create a fully asynchronous and non-blocking application you can use Spring Webflux, where your method can look like:\r\n\r\n    @GetMapping(&quot;/firstCall&quot;)\r\n    public Mono&lt;String&gt; getMessage() {\r\n        return this.client.get().uri(&quot;/secondCall&quot;).accept(MediaType.APPLICATION_JSON)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .map(this::mapResponse);\r\n    }\r\n    \r\n    private String mapResponse(String input) {\r\n        return &quot;modified response&quot;;\r\n    }","title":"java.net.http httpclient sendasync consumer callback says unexpected return value","body":"<p>Method:</p>\n<pre><code>public CompletableFuture&lt;Void&gt; thenAccept(Consumer&lt;? super T&gt; action)\n</code></pre>\n<p>can only accept a Consumer object. A Consumer object does not return anything, it only consumes an action so it could for instance look like this:</p>\n<pre><code>Consumer&lt;LinkedHashMap&lt;String, Object&gt;&gt; callback = System.out::println;\n</code></pre>\n<p>The best would be to use your consumer method and do there whatever you would like to do with the retVal variable. Instead of returning you have to do your logic inside the callback method. For instance:</p>\n<pre><code>Consumer&lt;LinkedHashMap&lt;String, Object&gt;&gt; callback = linkedMap -&gt; {\n    if (linkedMap != null) {\n        linkedMap.keySet().forEach(k -&gt; doSomethingWithEveryKey(k));\n    }\n};\n</code></pre>\n<p>If you would like to create a fully asynchronous and non-blocking application you can use Spring Webflux, where your method can look like:</p>\n<pre><code>@GetMapping(&quot;/firstCall&quot;)\npublic Mono&lt;String&gt; getMessage() {\n    return this.client.get().uri(&quot;/secondCall&quot;).accept(MediaType.APPLICATION_JSON)\n            .retrieve()\n            .bodyToMono(String.class)\n            .map(this::mapResponse);\n}\n\nprivate String mapResponse(String input) {\n    return &quot;modified response&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":2035096,"reputation":1987,"user_id":1817617,"accept_rate":60,"display_name":"Sumon Bappi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678610967,"creation_date":1678014613,"question_id":75641800,"body_markdown":"I am using Java 17. I am trying to get the response from a message service and create a map object. Then send it to the caller method. I am using `java.net.http`.\r\n\r\nI am willing to use a callback so that I could not use join or get to delay the main thread. But at my callback, the message shown `unexpected return value`.\r\n\r\nMy attempts are as below:\r\n\r\n\r\n        LinkedHashMap&lt;String, Object&gt; retVal = new LinkedHashMap&lt;&gt;();\r\n    \r\n    HttpRequest request = HttpRequest.newBuilder(URI.create(url))\r\n                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                    .POST(HttpRequest.BodyPublishers.ofString(params))\r\n                    .build();\t\t\t\t\r\n    \t\t\r\n    HttpClient.newHttpClient()\r\n                    .sendAsync(request, HttpResponse.BodyHandlers.ofString())\r\n                    .thenApply(responseBody -&gt; {\r\n                        try {\r\n                            LinkedHashMap&lt;String, Object&gt; responseMap = new ObjectMapper().readValue(responseBody.body(), new TypeReference&lt;&gt;() {});\r\n    \r\n                            ArrayList&lt;LinkedHashMap&lt;String, String&gt;&gt; resultList = (ArrayList&lt;LinkedHashMap&lt;String, String&gt;&gt;) responseMap.get(&quot;result&quot;);\r\n                            HashMap&lt;String, String&gt; resultMap = resultList.get(0);\r\n                            retVal.put(&quot;status&quot;, resultMap.get(&quot;status&quot;));\r\n                            retVal.put(&quot;message&quot;, resultMap.get(&quot;message&quot;));\r\n                        } catch (JsonProcessingException e) {\r\n                            retVal.put(&quot;status&quot;, &quot;FAILED&quot;);\r\n                            retVal.put(&quot;message&quot;, e.getMessage());\r\n                            e.printStackTrace();\r\n                        }\r\n                        return retVal;\r\n                    })\r\n                    .exceptionally(ex -&gt; {\r\n                        retVal.put(&quot;status&quot;, &quot;FAILED&quot;);\r\n                        retVal.put(&quot;message&quot;, ex.getMessage());\r\n                        System.out.println(&quot;Exception occurred: &quot; + ex.getMessage());\r\n                        return retVal;\r\n                    })\r\n                    .thenAccept(callback);\t\r\n    \t\t\t\t\r\n    // Define a callback function\r\n            Consumer&lt;LinkedHashMap&lt;String, Object&gt;&gt; callback = responseBody -&gt; {\r\n                // Send the response back to the caller here\r\n                return responseBody;\r\n            };\t\r\n\r\nHow can I achieve this?\r\n","title":"java.net.http httpclient sendasync consumer callback says unexpected return value","body":"<p>I am using Java 17. I am trying to get the response from a message service and create a map object. Then send it to the caller method. I am using <code>java.net.http</code>.</p>\n<p>I am willing to use a callback so that I could not use join or get to delay the main thread. But at my callback, the message shown <code>unexpected return value</code>.</p>\n<p>My attempts are as below:</p>\n<pre><code>    LinkedHashMap&lt;String, Object&gt; retVal = new LinkedHashMap&lt;&gt;();\n\nHttpRequest request = HttpRequest.newBuilder(URI.create(url))\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .POST(HttpRequest.BodyPublishers.ofString(params))\n                .build();               \n        \nHttpClient.newHttpClient()\n                .sendAsync(request, HttpResponse.BodyHandlers.ofString())\n                .thenApply(responseBody -&gt; {\n                    try {\n                        LinkedHashMap&lt;String, Object&gt; responseMap = new ObjectMapper().readValue(responseBody.body(), new TypeReference&lt;&gt;() {});\n\n                        ArrayList&lt;LinkedHashMap&lt;String, String&gt;&gt; resultList = (ArrayList&lt;LinkedHashMap&lt;String, String&gt;&gt;) responseMap.get(&quot;result&quot;);\n                        HashMap&lt;String, String&gt; resultMap = resultList.get(0);\n                        retVal.put(&quot;status&quot;, resultMap.get(&quot;status&quot;));\n                        retVal.put(&quot;message&quot;, resultMap.get(&quot;message&quot;));\n                    } catch (JsonProcessingException e) {\n                        retVal.put(&quot;status&quot;, &quot;FAILED&quot;);\n                        retVal.put(&quot;message&quot;, e.getMessage());\n                        e.printStackTrace();\n                    }\n                    return retVal;\n                })\n                .exceptionally(ex -&gt; {\n                    retVal.put(&quot;status&quot;, &quot;FAILED&quot;);\n                    retVal.put(&quot;message&quot;, ex.getMessage());\n                    System.out.println(&quot;Exception occurred: &quot; + ex.getMessage());\n                    return retVal;\n                })\n                .thenAccept(callback);  \n                \n// Define a callback function\n        Consumer&lt;LinkedHashMap&lt;String, Object&gt;&gt; callback = responseBody -&gt; {\n            // Send the response back to the caller here\n            return responseBody;\n        };  \n</code></pre>\n<p>How can I achieve this?</p>\n"},{"tags":["java","arrays","switch-statement"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1678522766,"post_id":75703641,"comment_id":133552100,"body_markdown":"[How do I compare strings in Java?](https://stackoverflow.com/q/513832)","body":"<a href=\"https://stackoverflow.com/q/513832\">How do I compare strings in Java?</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678525318,"post_id":75703641,"comment_id":133552338,"body_markdown":"You should review a tutorial on `switch` statements.","body":"You should review a tutorial on <code>switch</code> statements."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1678533806,"post_id":75703641,"comment_id":133553426,"body_markdown":"`userInputCar` is a `String`, while `cars` is `String[]`, those can never be the same. Maybe you meant to use `switch (userInputCar)`? Otherwise, you really need to be better explain what you&#39;re trying to do. Maybe you meant `Arrays.asList(cars).contains(userInputCar)`? However, then your use of `switch` makes no sense.","body":"<code>userInputCar</code> is a <code>String</code>, while <code>cars</code> is <code>String[]</code>, those can never be the same. Maybe you meant to use <code>switch (userInputCar)</code>? Otherwise, you really need to be better explain what you&#39;re trying to do. Maybe you meant <code>Arrays.asList(cars).contains(userInputCar)</code>? However, then your use of <code>switch</code> makes no sense."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1678634340,"post_id":75703641,"comment_id":133567548,"body_markdown":"Hello. To update your question use [edit] option. Consider using it to clarify what you mean by &quot;*..compare user input with The given array*&quot; (mentioned in one of your comments). Note that single String object *can&#39;t be compared to array* since array *is not a String itself*. It is like attempting to comparing Human to House (single House can *contain* many Humans, but is not Human itself). Maybe you wanted to ask about checking &quot;if array *contains* a String?&quot;.","body":"Hello. To update your question use <a href=\"https://stackoverflow.com/posts/75703641/edit\">edit</a> option. Consider using it to clarify what you mean by &quot;<i>..compare user input with The given array</i>&quot; (mentioned in one of your comments). Note that single String object <i>can&#39;t be compared to array</i> since array <i>is not a String itself</i>. It is like attempting to comparing Human to House (single House can <i>contain</i> many Humans, but is not Human itself). Maybe you wanted to ask about checking &quot;if array <i>contains</i> a String?&quot;."}],"answers":[{"comments":[{"owner":{"account_id":18828978,"reputation":3,"user_id":13733222,"display_name":"DIPTENU SARKAR"},"score":0,"creation_date":1678526024,"post_id":75703733,"comment_id":133552426,"body_markdown":"I think I am unable to ask this question correctly!\nLet me ask this question in the proper way, We are going to compare user input with The given array. \nSo now the question is how can we do this?","body":"I think I am unable to ask this question correctly! Let me ask this question in the proper way, We are going to compare user input with The given array.  So now the question is how can we do this?"},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1678526657,"post_id":75703733,"comment_id":133552495,"body_markdown":"Added how to use Arrays to compare the contents of your list.","body":"Added how to use Arrays to compare the contents of your list."}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678526614,"creation_date":1678524054,"answer_id":75703733,"question_id":75703641,"body_markdown":"A `switch` is like having a lot of &quot;if .. &quot; commands.\r\n\r\nSo the comparison isn&#39;t in the switch:\r\n\r\n    switch (userInputCar == cars)\r\n\r\nbut in the `case`\r\n\r\n    switch (userInputCar) { // Value to check\r\n\r\n        case &quot;TATA&quot;:   // if &quot;TATA&quot;.equals(userInputCar)\r\n            break;\r\n\r\n        case &quot;BMW&quot;:   // else if &quot;BMW&quot;.equals(userInputCar)\r\n            break;\r\n\r\n        default:      // else\r\n    }\r\n\r\nTo check against the list:\r\n\r\n    if(Arrays.asList(cars).contains(userInputCar)) {\r\n       // Found\r\n    } else {\r\n       // Not found\r\n    }\r\n","title":"Can we compare a user Input with an array? If yes then what wrong am I doing?","body":"<p>A <code>switch</code> is like having a lot of &quot;if .. &quot; commands.</p>\n<p>So the comparison isn't in the switch:</p>\n<pre><code>switch (userInputCar == cars)\n</code></pre>\n<p>but in the <code>case</code></p>\n<pre><code>switch (userInputCar) { // Value to check\n\n    case &quot;TATA&quot;:   // if &quot;TATA&quot;.equals(userInputCar)\n        break;\n\n    case &quot;BMW&quot;:   // else if &quot;BMW&quot;.equals(userInputCar)\n        break;\n\n    default:      // else\n}\n</code></pre>\n<p>To check against the list:</p>\n<pre><code>if(Arrays.asList(cars).contains(userInputCar)) {\n   // Found\n} else {\n   // Not found\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18828978,"reputation":3,"user_id":13733222,"display_name":"DIPTENU SARKAR"},"score":0,"creation_date":1678526318,"post_id":75703750,"comment_id":133552451,"body_markdown":"Look! This is not the case.","body":"Look! This is not the case."}],"tags":[],"owner":{"account_id":27811565,"reputation":11,"user_id":21233858,"display_name":"bardia dorry"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678524300,"creation_date":1678524300,"answer_id":75703750,"question_id":75703641,"body_markdown":"I think you need to do this :\r\n \r\n\r\n    public static void switchTest() {\r\n        switch ( userInputCar ) {\r\n            case &quot;TATA&quot;:\r\n                System.out.println(&quot;You enter TATA as a car name&quot;);\r\n                break;\r\n            case &quot;BMW&quot;:\r\n                System.out.println(&quot;You enter BMW as a car name&quot;);\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Ops! we are unable to get that name. Thank You:)&quot;);\r\n        }\r\n    }","title":"Can we compare a user Input with an array? If yes then what wrong am I doing?","body":"<p>I think you need to do this :</p>\n<pre><code>public static void switchTest() {\n    switch ( userInputCar ) {\n        case &quot;TATA&quot;:\n            System.out.println(&quot;You enter TATA as a car name&quot;);\n            break;\n        case &quot;BMW&quot;:\n            System.out.println(&quot;You enter BMW as a car name&quot;);\n            break;\n        default:\n            System.out.println(&quot;Ops! we are unable to get that name. Thank You:)&quot;);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18828978,"reputation":3,"user_id":13733222,"display_name":"DIPTENU SARKAR"},"score":0,"creation_date":1678526231,"post_id":75703900,"comment_id":133552443,"body_markdown":"Hay can we implement this same thing on the switch?","body":"Hay can we implement this same thing on the switch?"},{"owner":{"account_id":26552809,"reputation":7,"user_id":20181875,"display_name":"Pushpendra Sharma"},"score":0,"creation_date":1678527538,"post_id":75703900,"comment_id":133552594,"body_markdown":"No, we can not to the same with switch because switch requires  a constants which than matches with all the cases and if not match with any case than the default case will run.","body":"No, we can not to the same with switch because switch requires  a constants which than matches with all the cases and if not match with any case than the default case will run."}],"tags":[],"owner":{"account_id":26552809,"reputation":7,"user_id":20181875,"display_name":"Pushpendra Sharma"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678526095,"creation_date":1678526095,"answer_id":75703900,"question_id":75703641,"body_markdown":"If you want to try to **check user input with an array** you can check the below code\r\n\r\n    import java.util.Scanner;\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t String[] cars = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;Hero&quot;, &quot;Honda&quot;, &quot;Bajaj&quot;, &quot;Yamaha&quot;};\r\n         boolean check=true;\r\n        System.out.println(&quot;Enter a car name:&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        String userInputCar = sc.nextLine();\r\n        \r\n        \r\n        for(int i=0;i&lt;cars.length;i++)\r\n        {\r\n            if(cars[i].equals(userInputCar))\r\n            {\r\n                 System.out.println(&quot;You enter &quot;+ cars[i] +&quot; as a car name&quot;);\r\n                 check=false;\r\n            }\r\n          \r\n        }\r\n        \r\n           if(check)\r\n            {\r\n              System.out.println(&quot;Ops! we are unable to get that name. Thank You&quot;);\r\n            }\r\n        \r\n    \t}\r\n    \t\r\n    \t\r\n    \t/*\r\n           Here is the Output\r\n           \r\n           Enter a car name:\r\n           Hero\r\n           You enter Hero as a car name\r\n    \r\n    \r\n    \r\n    \r\n    \t*/\r\n    }\r\n\r\n","title":"Can we compare a user Input with an array? If yes then what wrong am I doing?","body":"<p>If you want to try to <strong>check user input with an array</strong> you can check the below code</p>\n<pre><code>import java.util.Scanner;\npublic class Main\n{\n    public static void main(String[] args) {\n     String[] cars = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;Hero&quot;, &quot;Honda&quot;, &quot;Bajaj&quot;, &quot;Yamaha&quot;};\n     boolean check=true;\n    System.out.println(&quot;Enter a car name:&quot;);\n    Scanner sc = new Scanner(System.in);\n    String userInputCar = sc.nextLine();\n    \n    \n    for(int i=0;i&lt;cars.length;i++)\n    {\n        if(cars[i].equals(userInputCar))\n        {\n             System.out.println(&quot;You enter &quot;+ cars[i] +&quot; as a car name&quot;);\n             check=false;\n        }\n      \n    }\n    \n       if(check)\n        {\n          System.out.println(&quot;Ops! we are unable to get that name. Thank You&quot;);\n        }\n    \n    }\n    \n    \n    /*\n       Here is the Output\n       \n       Enter a car name:\n       Hero\n       You enter Hero as a car name\n\n\n\n\n    */\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678528851,"creation_date":1678528851,"answer_id":75704122,"question_id":75703641,"body_markdown":"`userInputCar == cars`.... It doesn&#39;t work that way, even if you used the [String#equals()](https://www.tutorialspoint.com/java/lang/string_equals.htm) method to check for proper string equality. If anything it should be something like:\r\n\r\n    switch (userInputCar.toUpperCase()) {\r\n        case &quot;TATA&quot;:\r\n            System.out.println(&quot;You enter TATA as a car name&quot;);\r\n            break;\r\n        case &quot;BMW&quot;:\r\n            System.out.println(&quot;You enter BMW as a car name&quot;);\r\n            break;\r\n        default:\r\n            System.out.println(&quot;Oops! we are unable to get that name. Thank You:&quot;);\r\n    }\r\n\r\nNotice how `userInputCar.toUpperCase()` is used. This allows the User to enter the car name in any letter case an still produce a positive result.\r\n\r\nIn any case...since the car names are already contained within a String[] Array (`cars[]`) you should be checking through the array of names rather than creating a `switch/case` mechanism to do this, for example:\r\n\r\n```\r\n// Declare Scanner object as class global:\r\nprivate final static Scanner sc = new Scanner(System.in);\r\n    \r\npublic static String getCarName() {\r\n    String[] cars = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;Hero&quot;, &quot;Honda&quot;, &quot;Bajaj&quot;, &quot;Yamaha&quot;};\r\n\r\n    String carName = &quot;&quot;;\r\n    while (carName.isEmpty()) {\r\n        System.out.print(&quot;Enter a car name (q to quit): -&gt; &quot;);\r\n        carName = sc.nextLine();\r\n        // See if &#39;q&#39; for quit was supplied by User:\r\n        if (carName.equalsIgnoreCase(&quot;q&quot;)) {\r\n            return null;\r\n        }\r\n            \r\n        // Flag to indicate that supplied car was found within Array:\r\n        boolean found = false; \r\n        /* Iterate the the cars[] array and see if the User supplied\r\n           car exists within that array (ignoring letter case):   */\r\n        for (String car: cars) {\r\n            if (car.equalsIgnoreCase(carName)) {\r\n                /* The supplied car name exists. Make the supplied \r\n                   car name equal the proper car name in array: */\r\n                carName = car;\r\n                found = true;  // Set the `found` flag to true:\r\n                break;         // Break out of `for` loop:\r\n            }\r\n        }\r\n        // Was the supplied car name found?\r\n        if (!found) {\r\n            // No...Inform User and have him/her try again...\r\n            System.out.println(&quot;Oops! We are unable to get that name (&quot; \r\n                             + carName + &quot;). Try again...&quot; \r\n                             + System.lineSeparator());\r\n            carName = &quot;&quot;;  // Empty carName to ensure re-loop:\r\n        }\r\n    }\r\n        \r\n    /* If we get to this point then validation was successfull,\r\n       return the car name:   */\r\n    return carName;\r\n}\r\n```\r\n\r\nTo use the above method, you might have something like this:\r\n\r\n    String car = getCarName();\r\n    if (car == null) {\r\n        System.out.println(&quot;&#39;Quit&#39; Provided!&quot;); \r\n        return;\r\n    }\r\n    System.out.println(&quot;You entered &quot; + car +  &quot; as a car name.&quot;);","title":"Can we compare a user Input with an array? If yes then what wrong am I doing?","body":"<p><code>userInputCar == cars</code>.... It doesn't work that way, even if you used the <a href=\"https://www.tutorialspoint.com/java/lang/string_equals.htm\" rel=\"nofollow noreferrer\">String#equals()</a> method to check for proper string equality. If anything it should be something like:</p>\n<pre><code>switch (userInputCar.toUpperCase()) {\n    case &quot;TATA&quot;:\n        System.out.println(&quot;You enter TATA as a car name&quot;);\n        break;\n    case &quot;BMW&quot;:\n        System.out.println(&quot;You enter BMW as a car name&quot;);\n        break;\n    default:\n        System.out.println(&quot;Oops! we are unable to get that name. Thank You:&quot;);\n}\n</code></pre>\n<p>Notice how <code>userInputCar.toUpperCase()</code> is used. This allows the User to enter the car name in any letter case an still produce a positive result.</p>\n<p>In any case...since the car names are already contained within a String[] Array (<code>cars[]</code>) you should be checking through the array of names rather than creating a <code>switch/case</code> mechanism to do this, for example:</p>\n<pre><code>// Declare Scanner object as class global:\nprivate final static Scanner sc = new Scanner(System.in);\n    \npublic static String getCarName() {\n    String[] cars = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;Hero&quot;, &quot;Honda&quot;, &quot;Bajaj&quot;, &quot;Yamaha&quot;};\n\n    String carName = &quot;&quot;;\n    while (carName.isEmpty()) {\n        System.out.print(&quot;Enter a car name (q to quit): -&gt; &quot;);\n        carName = sc.nextLine();\n        // See if 'q' for quit was supplied by User:\n        if (carName.equalsIgnoreCase(&quot;q&quot;)) {\n            return null;\n        }\n            \n        // Flag to indicate that supplied car was found within Array:\n        boolean found = false; \n        /* Iterate the the cars[] array and see if the User supplied\n           car exists within that array (ignoring letter case):   */\n        for (String car: cars) {\n            if (car.equalsIgnoreCase(carName)) {\n                /* The supplied car name exists. Make the supplied \n                   car name equal the proper car name in array: */\n                carName = car;\n                found = true;  // Set the `found` flag to true:\n                break;         // Break out of `for` loop:\n            }\n        }\n        // Was the supplied car name found?\n        if (!found) {\n            // No...Inform User and have him/her try again...\n            System.out.println(&quot;Oops! We are unable to get that name (&quot; \n                             + carName + &quot;). Try again...&quot; \n                             + System.lineSeparator());\n            carName = &quot;&quot;;  // Empty carName to ensure re-loop:\n        }\n    }\n        \n    /* If we get to this point then validation was successfull,\n       return the car name:   */\n    return carName;\n}\n</code></pre>\n<p>To use the above method, you might have something like this:</p>\n<pre><code>String car = getCarName();\nif (car == null) {\n    System.out.println(&quot;'Quit' Provided!&quot;); \n    return;\n}\nSystem.out.println(&quot;You entered &quot; + car +  &quot; as a car name.&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27987985,"reputation":3,"user_id":21374421,"display_name":"21SCS34 Arumugaperumal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678610904,"creation_date":1678610904,"answer_id":75711982,"question_id":75703641,"body_markdown":"You no cannot compare a entire array with the single variable but you can compare a each and element of an array with the user input value...\r\n````\r\nScanner scanner = new Scanner(System.in);\r\nString[] cars  = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;AMBASSADOR&quot;, &quot;MARUTI&quot;};\r\nString input = scanner.nextLine();\r\nint flag = 0;\r\nfor(String tempcar : car) {\r\nif(tempcar == input.toUpperCase())\r\n    flag = 1;\r\n}\r\nif(flag == 1)\r\n    System.out.println(&quot;car founded in the list&quot;);\r\nelse\r\n   System.out.println(&quot;oops! No such in the list&quot;);","title":"Can we compare a user Input with an array? If yes then what wrong am I doing?","body":"<p>You no cannot compare a entire array with the single variable but you can compare a each and element of an array with the user input value...</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nString[] cars  = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;AMBASSADOR&quot;, &quot;MARUTI&quot;};\nString input = scanner.nextLine();\nint flag = 0;\nfor(String tempcar : car) {\nif(tempcar == input.toUpperCase())\n    flag = 1;\n}\nif(flag == 1)\n    System.out.println(&quot;car founded in the list&quot;);\nelse\n   System.out.println(&quot;oops! No such in the list&quot;);\n</code></pre>\n"}],"owner":{"account_id":18828978,"reputation":3,"user_id":13733222,"display_name":"DIPTENU SARKAR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678643302,"accepted_answer_id":75704122,"answer_count":5,"score":0,"last_activity_date":1678610904,"creation_date":1678522676,"question_id":75703641,"body_markdown":"The pitch of the code shows an error!\r\n\r\n```\r\npublic static void switchTest() {\r\n    String[] cars = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;Hero&quot;, &quot;Honda&quot;, &quot;Bajaj&quot;, &quot;Yamaha&quot;};\r\n\r\n    System.out.println(&quot;Enter a car name:&quot;);\r\n    Scanner sc = new Scanner(System.in);\r\n    String userInputCar = sc.nextLine();\r\n\r\n    switch (userInputCar == cars) {\r\n        case &quot;TATA&quot;:\r\n            System.out.println(&quot;You enter TATA as a car name&quot;);\r\n            break;\r\n        case &quot;BMW&quot;:\r\n            System.out.println(&quot;You enter BMW as a car name&quot;);\r\n            break;\r\n        default:\r\n            System.out.println(&quot;Ops! we are unable to get that name. Thank You:)&quot;);\r\n    }\r\n}\r\n```\r\n\r\nLet me ask this question in the proper way, We are going to compare user input with The given array. \r\nSo now the question is how can we do this?","title":"Can we compare a user Input with an array? If yes then what wrong am I doing?","body":"<p>The pitch of the code shows an error!</p>\n<pre><code>public static void switchTest() {\n    String[] cars = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;Hero&quot;, &quot;Honda&quot;, &quot;Bajaj&quot;, &quot;Yamaha&quot;};\n\n    System.out.println(&quot;Enter a car name:&quot;);\n    Scanner sc = new Scanner(System.in);\n    String userInputCar = sc.nextLine();\n\n    switch (userInputCar == cars) {\n        case &quot;TATA&quot;:\n            System.out.println(&quot;You enter TATA as a car name&quot;);\n            break;\n        case &quot;BMW&quot;:\n            System.out.println(&quot;You enter BMW as a car name&quot;);\n            break;\n        default:\n            System.out.println(&quot;Ops! we are unable to get that name. Thank You:)&quot;);\n    }\n}\n</code></pre>\n<p>Let me ask this question in the proper way, We are going to compare user input with The given array.\nSo now the question is how can we do this?</p>\n"},{"tags":["java","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678610827,"creation_date":1678610827,"answer_id":75711975,"question_id":75705954,"body_markdown":"You need to pass the property via `-G` command-line argument.\r\n\r\nTo wit change `-JLG_TG2=10.0.0.3` to `-GLG_TG2=10.0.0.3` \r\n\r\nMore information:\r\n\r\n - [Configuring JMeter][1] \r\n - [Overriding Properties Via The Command Line][2]\r\n - [Apache JMeter Properties Customization Guide][3]\r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/get-started.html#configuring_jmeter\r\n  [2]: https://jmeter.apache.org/usermanual/get-started.html#override\r\n  [3]: https://www.blazemeter.com/blog/jmeter-properties-customization","title":"JMX file with Multiple Thread Groups executing on 3 remote machines, how to control the traffic for 2nd thread group only using one LG out of 3","body":"<p>You need to pass the property via <code>-G</code> command-line argument.</p>\n<p>To wit change <code>-JLG_TG2=10.0.0.3</code> to <code>-GLG_TG2=10.0.0.3</code></p>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://jmeter.apache.org/usermanual/get-started.html#configuring_jmeter\" rel=\"nofollow noreferrer\">Configuring JMeter</a></li>\n<li><a href=\"https://jmeter.apache.org/usermanual/get-started.html#override\" rel=\"nofollow noreferrer\">Overriding Properties Via The Command Line</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/jmeter-properties-customization\" rel=\"nofollow noreferrer\">Apache JMeter Properties Customization Guide</a></li>\n</ul>\n"}],"owner":{"account_id":2537901,"reputation":51,"user_id":2204487,"display_name":"Akshat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75711975,"answer_count":1,"score":0,"last_activity_date":1678610827,"creation_date":1678548470,"question_id":75705954,"body_markdown":"I have two thread group in JMX and trying to run using Gitlab pipeline,On one thread group all the 3 Windows Load generators are used, but in second thread group I only want to use 1 LG out of 3 LGs.\r\nOn Second thread group we have put a if controller and passing condition as &quot;{__machineIP())&quot;==&quot;10.0.0.3&quot;, in this expression I am hard coding the IP, and this is **perfectly working fine** when I am passing command like:\r\n**jmeter.bat -n -t C:\\GitLab-Runner\\Builds\\\\\\&lt;Location or path of JMX script&gt;.jmx -R 10.0.0.1,10.0.0.2,10.0.0.3 -l \\&lt;Path and name of jtl file&gt;.jtl -GNoOfThreads_TG1=1,-GRampUpPeriod_TG1=3 -GNoOfLoops_TG1=2 -GNoOfThreads_TG2=1,-GRampUpPeriod_TG2=1 -GNoOfLoops_TG2=2**\r\n\r\nTG1: Thread Group 1 where 1 threads are distributed across 3 LGs so total load is 3 on Application\r\n\r\nTG2: Thread Group 2\r\n\r\nBut now I want to pass as variable in gitlab so instead on hardcoding the IP , on if controller  I am changing expression like **&quot;{__machineIP())&quot;==&quot;${__P(LG_TG2)&quot;}** and passing the command like:\r\n**jmeter.bat -n -t C:\\GitLab-Runner\\Builds\\\\\\&lt;Location or path of JMX script&gt;.jmx -R 10.0.0.1,10.0.0.2,10.0.0.3 -l \\&lt;Path and name of jtl file&gt;.jtl -GNoOfThreads_TG1=1,-GRampUpPeriod_TG1=3 -GNoOfLoops_TG1=2 -JNoOfThreads_TG2=1,-JRampUpPeriod_TG2=1 -JNoOfLoops_TG2=2 -JLG_TG2=10.0.0.3**\r\n\r\nAfter executing the command using pipeline **Thread Group1(TG1) is executed successfully** but **it doesn&#39;t execute Thread Group2(TG2)**.\r\n\r\nPlease let me know where I am doing wrong.\r\n","title":"JMX file with Multiple Thread Groups executing on 3 remote machines, how to control the traffic for 2nd thread group only using one LG out of 3","body":"<p>I have two thread group in JMX and trying to run using Gitlab pipeline,On one thread group all the 3 Windows Load generators are used, but in second thread group I only want to use 1 LG out of 3 LGs.\nOn Second thread group we have put a if controller and passing condition as &quot;{__machineIP())&quot;==&quot;10.0.0.3&quot;, in this expression I am hard coding the IP, and this is <strong>perfectly working fine</strong> when I am passing command like:\n<strong>jmeter.bat -n -t C:\\GitLab-Runner\\Builds\\&lt;Location or path of JMX script&gt;.jmx -R 10.0.0.1,10.0.0.2,10.0.0.3 -l &lt;Path and name of jtl file&gt;.jtl -GNoOfThreads_TG1=1,-GRampUpPeriod_TG1=3 -GNoOfLoops_TG1=2 -GNoOfThreads_TG2=1,-GRampUpPeriod_TG2=1 -GNoOfLoops_TG2=2</strong></p>\n<p>TG1: Thread Group 1 where 1 threads are distributed across 3 LGs so total load is 3 on Application</p>\n<p>TG2: Thread Group 2</p>\n<p>But now I want to pass as variable in gitlab so instead on hardcoding the IP , on if controller  I am changing expression like <strong>&quot;{__machineIP())&quot;==&quot;${__P(LG_TG2)&quot;}</strong> and passing the command like:\n<strong>jmeter.bat -n -t C:\\GitLab-Runner\\Builds\\&lt;Location or path of JMX script&gt;.jmx -R 10.0.0.1,10.0.0.2,10.0.0.3 -l &lt;Path and name of jtl file&gt;.jtl -GNoOfThreads_TG1=1,-GRampUpPeriod_TG1=3 -GNoOfLoops_TG1=2 -JNoOfThreads_TG2=1,-JRampUpPeriod_TG2=1 -JNoOfLoops_TG2=2 -JLG_TG2=10.0.0.3</strong></p>\n<p>After executing the command using pipeline <strong>Thread Group1(TG1) is executed successfully</strong> but <strong>it doesn't execute Thread Group2(TG2)</strong>.</p>\n<p>Please let me know where I am doing wrong.</p>\n"},{"tags":["java","protocol-buffers","grpc","mapstruct","grpc-java"],"answers":[{"comments":[{"owner":{"account_id":1027355,"reputation":2721,"user_id":1036386,"accept_rate":91,"display_name":"Kalec"},"score":0,"creation_date":1680516848,"post_id":72673232,"comment_id":133906109,"body_markdown":"I did use this for quite some time, but the mapstruct-spi-protobuf is just better for the task. However this is a neat trick for other things, I still use it for some JPAs.","body":"I did use this for quite some time, but the mapstruct-spi-protobuf is just better for the task. However this is a neat trick for other things, I still use it for some JPAs."}],"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655592169,"creation_date":1655592169,"answer_id":72673232,"question_id":72646659,"body_markdown":"MapStruct does not support such ignoring, but you can use [Mapping Composition][1] to simplify your mapper. All fields which need to be ignored can be gathered into one or several annotations.\r\n&lt;br&gt;**Create composite annotation for ignoring fields**\r\n```java\r\nimport org.mapstruct.Mapping;\r\n\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\n\r\n@Retention(RetentionPolicy.CLASS)\r\n@Mapping(target = &quot;aBytes&quot;, ignore = true)\r\n@Mapping(target = &quot;bBytes&quot;, ignore = true)\r\n@Mapping(target = &quot;cBytes&quot;, ignore = true)\r\n@Mapping(target = &quot;dBytes&quot;, ignore = true)\r\n@Mapping(target = &quot;eBytes&quot;, ignore = true)\r\n@Mapping(target = &quot;fBytes&quot;, ignore = true)\r\n@Mapping(target = &quot;mergeFrom&quot;, ignore = true)\r\n@Mapping(target = &quot;clearField&quot;, ignore = true)\r\n@Mapping(target = &quot;clearOneof&quot;, ignore = true)\r\n@Mapping(target = &quot;unknownFields&quot;, ignore = true)\r\n@Mapping(target = &quot;mergeUnknownFields&quot;, ignore = true)\r\n@Mapping(target = &quot;allFields&quot;, ignore = true)\r\npublic @interface IgnoreProtobuff {\r\n}\r\n```\r\n**Apply `@IgnoreProtobuff` to your mappers**\r\n```java\r\n@Mapper\r\npublic interface ProtoMapperExample {\r\n    @IgnoreProtobuff\r\n    ProtoMessage toMessage(Source s);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#mapping-composition","title":"Customize mapstruct to ignore protobuff fields","body":"<p>MapStruct does not support such ignoring, but you can use <a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-composition\" rel=\"nofollow noreferrer\">Mapping Composition</a> to simplify your mapper. All fields which need to be ignored can be gathered into one or several annotations.\n<br><strong>Create composite annotation for ignoring fields</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.mapstruct.Mapping;\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\n\n@Retention(RetentionPolicy.CLASS)\n@Mapping(target = &quot;aBytes&quot;, ignore = true)\n@Mapping(target = &quot;bBytes&quot;, ignore = true)\n@Mapping(target = &quot;cBytes&quot;, ignore = true)\n@Mapping(target = &quot;dBytes&quot;, ignore = true)\n@Mapping(target = &quot;eBytes&quot;, ignore = true)\n@Mapping(target = &quot;fBytes&quot;, ignore = true)\n@Mapping(target = &quot;mergeFrom&quot;, ignore = true)\n@Mapping(target = &quot;clearField&quot;, ignore = true)\n@Mapping(target = &quot;clearOneof&quot;, ignore = true)\n@Mapping(target = &quot;unknownFields&quot;, ignore = true)\n@Mapping(target = &quot;mergeUnknownFields&quot;, ignore = true)\n@Mapping(target = &quot;allFields&quot;, ignore = true)\npublic @interface IgnoreProtobuff {\n}\n</code></pre>\n<p><strong>Apply <code>@IgnoreProtobuff</code> to your mappers</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface ProtoMapperExample {\n    @IgnoreProtobuff\n    ProtoMessage toMessage(Source s);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6878179,"reputation":4558,"user_id":5285908,"display_name":"Amith Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678610744,"creation_date":1678610744,"answer_id":75711969,"question_id":72646659,"body_markdown":"There is already a MapStruct extension for Protobuf support which give you this feature right out-of-the-box. Community is actively maintaining this repo, so I would suggest to instead use this:\r\nhttps://github.com/entur/mapstruct-spi-protobuf","title":"Customize mapstruct to ignore protobuff fields","body":"<p>There is already a MapStruct extension for Protobuf support which give you this feature right out-of-the-box. Community is actively maintaining this repo, so I would suggest to instead use this:\n<a href=\"https://github.com/entur/mapstruct-spi-protobuf\" rel=\"nofollow noreferrer\">https://github.com/entur/mapstruct-spi-protobuf</a></p>\n"}],"owner":{"account_id":1027355,"reputation":2721,"user_id":1036386,"accept_rate":91,"display_name":"Kalec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":789,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75711969,"answer_count":2,"score":3,"last_activity_date":1678610744,"creation_date":1655385994,"question_id":72646659,"body_markdown":"Since I&#39;ve noticed that MapStruct was updated to interact with Protobuff and its builder, I thought about migrating our services to fully use MapStruct.\r\n\r\nHowever we&#39;re still writing manual conversions to protobuff messages because it&#39;s rather clumsy to write a full mapping, considering we have the target_unmapped = Error policy:\r\n\r\n```gradle\r\ncompileJava {\r\n    options.compilerArgs += [\r\n            &#39;-Amapstruct.unmappedTargetPolicy=ERROR&#39;\r\n    ]\r\n}\r\n```\r\n\r\nThis means that even a rather simple mapping, of two classes with the same 6 identical field names (a throug f) looks like this:\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, uses = {...})\r\npublic interface ProtoMapperExample {\r\n\r\n    @Mapping(target = &quot;aBytes&quot;, ignore = true)\r\n    @Mapping(target = &quot;bBytes&quot;, ignore = true)\r\n    @Mapping(target = &quot;cBytes&quot;, ignore = true)\r\n    @Mapping(target = &quot;dBytes&quot;, ignore = true)\r\n    @Mapping(target = &quot;eBytes&quot;, ignore = true)\r\n    @Mapping(target = &quot;fBytes&quot;, ignore = true)\r\n    @Mapping(target = &quot;mergeFrom&quot;, ignore = true)\r\n    @Mapping(target = &quot;clearField&quot;, ignore = true)\r\n    @Mapping(target = &quot;clearOneof&quot;, ignore = true)\r\n    @Mapping(target = &quot;unknownFields&quot;, ignore = true)\r\n    @Mapping(target = &quot;mergeUnknownFields&quot;, ignore = true)\r\n    @Mapping(target = &quot;allFields&quot;, ignore = true)\r\n    ProtoMessage toMessage(Source s);\r\n\r\n}\r\n```\r\n\r\nWhich is honestly unacceptable. But the option of turning off the error is just as unacceptable.\r\n\r\nOur solution was to simply not use MapStruct for this conversion, and I totally agree. It&#39;s cumbersome to say the least.\r\n\r\nHowever if there were a way of configurating our mapper to ignore at least the latter 6 fields (mergeFrom, clearField, clearOneof, unknownFields, mergeUnknownFields, allFields) which one would assume and hope mapstruct did by default. Even that would be an improvement.\r\n\r\nBut we&#39;d also need a way to ignore fields that end in &quot;*Bytes&quot;.\r\n\r\nIs there any way of doing this?","title":"Customize mapstruct to ignore protobuff fields","body":"<p>Since I've noticed that MapStruct was updated to interact with Protobuff and its builder, I thought about migrating our services to fully use MapStruct.</p>\n<p>However we're still writing manual conversions to protobuff messages because it's rather clumsy to write a full mapping, considering we have the target_unmapped = Error policy:</p>\n<pre><code>compileJava {\n    options.compilerArgs += [\n            '-Amapstruct.unmappedTargetPolicy=ERROR'\n    ]\n}\n</code></pre>\n<p>This means that even a rather simple mapping, of two classes with the same 6 identical field names (a throug f) looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, uses = {...})\npublic interface ProtoMapperExample {\n\n    @Mapping(target = &quot;aBytes&quot;, ignore = true)\n    @Mapping(target = &quot;bBytes&quot;, ignore = true)\n    @Mapping(target = &quot;cBytes&quot;, ignore = true)\n    @Mapping(target = &quot;dBytes&quot;, ignore = true)\n    @Mapping(target = &quot;eBytes&quot;, ignore = true)\n    @Mapping(target = &quot;fBytes&quot;, ignore = true)\n    @Mapping(target = &quot;mergeFrom&quot;, ignore = true)\n    @Mapping(target = &quot;clearField&quot;, ignore = true)\n    @Mapping(target = &quot;clearOneof&quot;, ignore = true)\n    @Mapping(target = &quot;unknownFields&quot;, ignore = true)\n    @Mapping(target = &quot;mergeUnknownFields&quot;, ignore = true)\n    @Mapping(target = &quot;allFields&quot;, ignore = true)\n    ProtoMessage toMessage(Source s);\n\n}\n</code></pre>\n<p>Which is honestly unacceptable. But the option of turning off the error is just as unacceptable.</p>\n<p>Our solution was to simply not use MapStruct for this conversion, and I totally agree. It's cumbersome to say the least.</p>\n<p>However if there were a way of configurating our mapper to ignore at least the latter 6 fields (mergeFrom, clearField, clearOneof, unknownFields, mergeUnknownFields, allFields) which one would assume and hope mapstruct did by default. Even that would be an improvement.</p>\n<p>But we'd also need a way to ignore fields that end in &quot;*Bytes&quot;.</p>\n<p>Is there any way of doing this?</p>\n"},{"tags":["java","android","admob","ads","native-ads"],"answers":[{"tags":[],"owner":{"account_id":19060623,"reputation":81,"user_id":13916819,"display_name":"algodextrous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678610086,"creation_date":1678610086,"answer_id":75711923,"question_id":75711675,"body_markdown":"\r\n    apply plugin: &#39;com.android.application&#39;\r\n    android {\r\n    compileSdkVersion 33\r\n    \r\n    defaultConfig {\r\n    \r\n            applicationId &quot;xxx-xxx-xxx&quot;\r\n            minSdkVersion 19\r\n            targetSdkVersion 33\r\n            versionCode 1\r\n            versionName &quot;1.0.0&quot;\r\n            vectorDrawables.useSupportLibrary = true\r\n            multiDexEnabled true\r\n            compileOptions {\r\n                sourceCompatibility JavaVersion.VERSION_1_8\r\n                targetCompatibility JavaVersion.VERSION_1_8\r\n            }\r\n        }\r\n    }\r\n    dependencies {\r\n    .....\r\n    implementation &quot;androidx.multidex:multidex:2.0.1&quot;\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads:21.5.0&#39;\r\n    // implementation &#39;com.google.android.gms:play-services-ads:20.5.0&#39;\r\n    ........\r\n    }\r\n\r\n\r\nUpdate `compileSdkVersion` support to `33`","title":"Cannot resolve class com.google.android.gms.ads.formats.UnifiedNativeAdView","body":"<pre><code>apply plugin: 'com.android.application'\nandroid {\ncompileSdkVersion 33\n\ndefaultConfig {\n\n        applicationId &quot;xxx-xxx-xxx&quot;\n        minSdkVersion 19\n        targetSdkVersion 33\n        versionCode 1\n        versionName &quot;1.0.0&quot;\n        vectorDrawables.useSupportLibrary = true\n        multiDexEnabled true\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_1_8\n            targetCompatibility JavaVersion.VERSION_1_8\n        }\n    }\n}\ndependencies {\n.....\nimplementation &quot;androidx.multidex:multidex:2.0.1&quot;\nimplementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\nimplementation 'com.google.android.gms:play-services-ads:21.5.0'\n// implementation 'com.google.android.gms:play-services-ads:20.5.0'\n........\n}\n</code></pre>\n<p>Update <code>compileSdkVersion</code> support to <code>33</code></p>\n"}],"owner":{"account_id":12409382,"reputation":141,"user_id":9042411,"display_name":"Abdul Basit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678610086,"creation_date":1678606532,"question_id":75711675,"body_markdown":"i am trying admobe native ads in app and getting this error on\r\n`implementation &#39;com.google.android.gms:play-services-ads:21.5.0&#39;`\r\n\r\nbut working fine on\r\n`implementation &#39;com.google.android.gms:play-services-ads:19.6.0&#39;`\r\n\r\nmy gradle file is\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\nandroid {\r\ncompileSdkVersion 32\r\n\r\ndefaultConfig {\r\n\r\n        applicationId &quot;xxx-xxx-xxx&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 32\r\n        versionCode 1\r\n        versionName &quot;1.0.0&quot;\r\n        vectorDrawables.useSupportLibrary = true\r\n        multiDexEnabled true\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n     \r\n    buildToolsVersion = &#39;28.0.3&#39;\r\n}\r\ndependencies {\r\n.....\r\nimplementation &quot;androidx.multidex:multidex:2.0.1&quot;\r\nimplementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\nimplementation &#39;com.google.android.gms:play-services-ads:21.5.0&#39;\r\n// implementation &#39;com.google.android.gms:play-services-ads:20.5.0&#39;\r\n........\r\n}\r\n```\r\n\r\n**here is the picture of my code error in XML file**\r\n\r\n[error in xml file implementation &#39;com.google.android.gms:play-services-ads:21.5.0&#39; ](https://i.stack.imgur.com/l4Szm.png)\r\n\r\ni tried implementation `&#39;com.google.android.gms:play-services-ads:19.6.0&#39;` and it is working fine in this dependency but it giving error in `implementation &#39;com.google.android.gms:play-services-ads:21.5.0&#39;`\r\n\r\ni want to upade my dependency what will be the soultion for this error","title":"Cannot resolve class com.google.android.gms.ads.formats.UnifiedNativeAdView","body":"<p>i am trying admobe native ads in app and getting this error on\n<code>implementation 'com.google.android.gms:play-services-ads:21.5.0'</code></p>\n<p>but working fine on\n<code>implementation 'com.google.android.gms:play-services-ads:19.6.0'</code></p>\n<p>my gradle file is</p>\n<pre><code>apply plugin: 'com.android.application'\nandroid {\ncompileSdkVersion 32\n\ndefaultConfig {\n\n        applicationId &quot;xxx-xxx-xxx&quot;\n        minSdkVersion 19\n        targetSdkVersion 32\n        versionCode 1\n        versionName &quot;1.0.0&quot;\n        vectorDrawables.useSupportLibrary = true\n        multiDexEnabled true\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_1_8\n            targetCompatibility JavaVersion.VERSION_1_8\n        }\n    }\n     \n    buildToolsVersion = '28.0.3'\n}\ndependencies {\n.....\nimplementation &quot;androidx.multidex:multidex:2.0.1&quot;\nimplementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\nimplementation 'com.google.android.gms:play-services-ads:21.5.0'\n// implementation 'com.google.android.gms:play-services-ads:20.5.0'\n........\n}\n</code></pre>\n<p><strong>here is the picture of my code error in XML file</strong></p>\n<p><a href=\"https://i.stack.imgur.com/l4Szm.png\" rel=\"nofollow noreferrer\">error in xml file implementation 'com.google.android.gms:play-services-ads:21.5.0' </a></p>\n<p>i tried implementation <code>'com.google.android.gms:play-services-ads:19.6.0'</code> and it is working fine in this dependency but it giving error in <code>implementation 'com.google.android.gms:play-services-ads:21.5.0'</code></p>\n<p>i want to upade my dependency what will be the soultion for this error</p>\n"},{"tags":["java","maven","testing","report","jacoco"],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630403608,"creation_date":1630403608,"answer_id":68996568,"question_id":68996406,"body_markdown":"I solved the same issue by adding the following property each module:\r\n\r\n```xml\r\n&lt;propertie&gt;\r\n  &lt;sonar.sources&gt;target/generated-sources/java&lt;/sonar.sources&gt;\r\n&lt;/properties&gt;\r\n```","title":"Java JaCoCo integration report in multi-module project","body":"<p>I solved the same issue by adding the following property each module:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;propertie&gt;\n  &lt;sonar.sources&gt;target/generated-sources/java&lt;/sonar.sources&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19746132,"reputation":21,"user_id":14458532,"display_name":"nietzsche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678610048,"creation_date":1672325205,"answer_id":74952559,"question_id":68996406,"body_markdown":"I had same problem and used jacoco-aggragete execution. I guess, there are many solution but I will try to tell most suitable for your problem. You should add jacoco plugin to pom.xml into root directory. \r\n\r\nAnd this plugin should have 2 different specify execution: first one jacoco-initialize, second one jacoco-report. After that, I think you can module-A such as reporter module. Reporter module&#39;s pom has again jacoco plugin but it has different execution. That execution is jacoco-site-aggregate. This execution calculate the all report aggregating with depends on module.\r\n\r\nYour root pom.xml should have this;\r\n\r\n               &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.5&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-report&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nYour module-A&#39;s pom.xml should have this;\r\n\r\n     &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;Module-B&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;Module-C&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.5&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-site-aggregate&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nAnd please run maven command\r\n\r\n    mvn clean verify\r\n\r\nNow, merged reports should be in your module-A&gt;target&gt;site&gt;jacoco-aggregate.\r\n\r\nI hope, this answer can help you for this problem. Maybe this article can help you more.","title":"Java JaCoCo integration report in multi-module project","body":"<p>I had same problem and used jacoco-aggragete execution. I guess, there are many solution but I will try to tell most suitable for your problem. You should add jacoco plugin to pom.xml into root directory.</p>\n<p>And this plugin should have 2 different specify execution: first one jacoco-initialize, second one jacoco-report. After that, I think you can module-A such as reporter module. Reporter module's pom has again jacoco plugin but it has different execution. That execution is jacoco-site-aggregate. This execution calculate the all report aggregating with depends on module.</p>\n<p>Your root pom.xml should have this;</p>\n<pre><code>           &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.8.5&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;jacoco-initialize&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;jacoco-report&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Your module-A's pom.xml should have this;</p>\n<pre><code> &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;Module-B&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;Module-C&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.8.5&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;jacoco-site-aggregate&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report-aggregate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>And please run maven command</p>\n<pre><code>mvn clean verify\n</code></pre>\n<p>Now, merged reports should be in your module-A&gt;target&gt;site&gt;jacoco-aggregate.</p>\n<p>I hope, this answer can help you for this problem. Maybe this article can help you more.</p>\n"}],"owner":{"account_id":4280452,"reputation":11,"user_id":3499994,"display_name":"user3499994"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678610048,"creation_date":1630402842,"question_id":68996406,"body_markdown":"My project has the following structure as shown below. My integration tests are in module A and it uses classes in other modules. I want JaCoCo to include the code-coverage of the other modules that are executed by module A.\r\n\r\nI understand that the plugin can merge reports of other modules, but this is an different scenario. I&#39;m executing the integration-test on module A\r\n\r\n```\r\npom.xml\r\n|\r\n|\r\n-----sub module A - application layer - executable integration-test with submodule B &amp; C\r\n|\r\n|\r\n-----sub module B - business logic - has no integration test\r\n|\r\n|\r\n-----sub module C - business logic - has no integration test\r\n```","title":"Java JaCoCo integration report in multi-module project","body":"<p>My project has the following structure as shown below. My integration tests are in module A and it uses classes in other modules. I want JaCoCo to include the code-coverage of the other modules that are executed by module A.</p>\n<p>I understand that the plugin can merge reports of other modules, but this is an different scenario. I'm executing the integration-test on module A</p>\n<pre><code>pom.xml\n|\n|\n-----sub module A - application layer - executable integration-test with submodule B &amp; C\n|\n|\n-----sub module B - business logic - has no integration test\n|\n|\n-----sub module C - business logic - has no integration test\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","oauth-2.0","alexa-skills-kit"],"answers":[{"tags":[],"owner":{"account_id":7653119,"reputation":69,"user_id":5801045,"display_name":"Ompratap Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548086741,"creation_date":1548086741,"answer_id":54293696,"question_id":54293414,"body_markdown":"As per my experiences, **state** parameter is nothing but one random number or string which are used to maintaining the state between application and IDP server during authentication performed. I had also used this parameter in one of my projects. You can create any random string for passing state parameter value and ensure that you will get same state parameter value in callback/redirect after authentication done.\r\n    ","title":"Spring OAuth2 pass state parameter","body":"<p>As per my experiences, <strong>state</strong> parameter is nothing but one random number or string which are used to maintaining the state between application and IDP server during authentication performed. I had also used this parameter in one of my projects. You can create any random string for passing state parameter value and ensure that you will get same state parameter value in callback/redirect after authentication done.</p>\n"},{"tags":[],"owner":{"account_id":7794873,"reputation":11,"user_id":5896378,"display_name":"Justin G."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548243295,"creation_date":1548243295,"answer_id":54326351,"question_id":54293414,"body_markdown":"Problem solved, actually it passed the state parameter it was an error by amaon i had to put my skill into Beta testing for amazon to link my account.","title":"Spring OAuth2 pass state parameter","body":"<p>Problem solved, actually it passed the state parameter it was an error by amaon i had to put my skill into Beta testing for amazon to link my account.</p>\n"}],"owner":{"account_id":7794873,"reputation":11,"user_id":5896378,"display_name":"Justin G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678609760,"creation_date":1548085736,"question_id":54293414,"body_markdown":"im working on an application which has to support OAuth2 for Account-Linking with Amazon Alexa (Smart home skill).\r\n\r\nSo i researched the web and started using Spring for that and it works fine, my Android app can easily obtain access_tokens and fetch data.\r\n\r\nNow... according to the Amazon Alexa Account-Linking docs the App will pass an &quot;state&quot; parameter which has to be passed to the redirect_uri.\r\nFor more clearity here is the direct link to the documentation: https://developer.amazon.com/de/docs/account-linking/configure-authorization-code-grant.html#authorization-url-parameters\r\n\r\nAnyways i have no clue how to achieve this and i hope someone here can help me here because it starts to drive me crazy","title":"Spring OAuth2 pass state parameter","body":"<p>im working on an application which has to support OAuth2 for Account-Linking with Amazon Alexa (Smart home skill).</p>\n\n<p>So i researched the web and started using Spring for that and it works fine, my Android app can easily obtain access_tokens and fetch data.</p>\n\n<p>Now... according to the Amazon Alexa Account-Linking docs the App will pass an \"state\" parameter which has to be passed to the redirect_uri.\nFor more clearity here is the direct link to the documentation: <a href=\"https://developer.amazon.com/de/docs/account-linking/configure-authorization-code-grant.html#authorization-url-parameters\" rel=\"nofollow noreferrer\">https://developer.amazon.com/de/docs/account-linking/configure-authorization-code-grant.html#authorization-url-parameters</a></p>\n\n<p>Anyways i have no clue how to achieve this and i hope someone here can help me here because it starts to drive me crazy</p>\n"},{"tags":["java","amazon-web-services","alexa-skills-kit","amazon-echo"],"answers":[{"comments":[{"owner":{"account_id":1228162,"reputation":17908,"user_id":1193321,"accept_rate":65,"display_name":"EGHDK"},"score":0,"creation_date":1505358658,"post_id":46207040,"comment_id":79382904,"body_markdown":"Amazons support for Alexa development is beyond terrible. I appreciate the help. Looks like the big thing I was missing was the call to `speechletResp.setNullableShouldEndSession(false);` Cheers!","body":"Amazons support for Alexa development is beyond terrible. I appreciate the help. Looks like the big thing I was missing was the call to <code>speechletResp.setNullableShouldEndSession(false);</code> Cheers!"},{"owner":{"account_id":438153,"reputation":300,"user_id":826246,"accept_rate":78,"display_name":"DLee"},"score":0,"creation_date":1505410388,"post_id":46207040,"comment_id":79413676,"body_markdown":"I can&#39;t agree more... the documents are very abstract and does not have concrete example for java","body":"I can&#39;t agree more... the documents are very abstract and does not have concrete example for java"}],"tags":[],"owner":{"account_id":438153,"reputation":300,"user_id":826246,"accept_rate":78,"display_name":"DLee"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1505338140,"creation_date":1505337814,"answer_id":46207040,"question_id":45858785,"body_markdown":"I ran into this issue the other day and I got the solution based on another [post][1]. Here&#39;s the slightly modified version that works for me in version `1.5.0` of Alexa Skill Kit. Hope this helps. You might want to handle the `IN_PROGRESS` state differently if you have more than 1 slot to fill. This code here is only designed for 1 slot.\r\n\r\n  [1]: https://stackoverflow.com/a/45681399/826246\r\n\r\n         if (speechletRequestEnvelope.getRequest().getDialogState() != IntentRequest.DialogState.COMPLETED)\r\n            // 1. Create DialogIntent based on your original intent\r\n            DialogIntent dialogIntent = new DialogIntent(speechletRequestEnvelope.getRequest().getIntent());\r\n\r\n            // 2. Create Directive\r\n            DelegateDirective dd = new DelegateDirective();\r\n            dd.setUpdatedIntent(dialogIntent);\r\n    \r\n            List&lt;Directive&gt; directiveList = new ArrayList&lt;&gt;();\r\n            directiveList.add(dd);\r\n    \r\n            SpeechletResponse speechletResp = new SpeechletResponse();\r\n            speechletResp.setDirectives(directiveList);\r\n            // 3. return the response.\r\n            speechletResp.setNullableShouldEndSession(false);\r\n            return speechletResp;\r\n        }","title":"How to return Dialog.Delegate in Amazon Alexa SDK?","body":"<p>I ran into this issue the other day and I got the solution based on another <a href=\"https://stackoverflow.com/a/45681399/826246\">post</a>. Here's the slightly modified version that works for me in version <code>1.5.0</code> of Alexa Skill Kit. Hope this helps. You might want to handle the <code>IN_PROGRESS</code> state differently if you have more than 1 slot to fill. This code here is only designed for 1 slot.</p>\n\n<pre><code>     if (speechletRequestEnvelope.getRequest().getDialogState() != IntentRequest.DialogState.COMPLETED)\n        // 1. Create DialogIntent based on your original intent\n        DialogIntent dialogIntent = new DialogIntent(speechletRequestEnvelope.getRequest().getIntent());\n\n        // 2. Create Directive\n        DelegateDirective dd = new DelegateDirective();\n        dd.setUpdatedIntent(dialogIntent);\n\n        List&lt;Directive&gt; directiveList = new ArrayList&lt;&gt;();\n        directiveList.add(dd);\n\n        SpeechletResponse speechletResp = new SpeechletResponse();\n        speechletResp.setDirectives(directiveList);\n        // 3. return the response.\n        speechletResp.setNullableShouldEndSession(false);\n        return speechletResp;\n    }\n</code></pre>\n"}],"owner":{"account_id":1228162,"reputation":17908,"user_id":1193321,"accept_rate":65,"display_name":"EGHDK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2353,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46207040,"answer_count":1,"score":3,"last_activity_date":1678609602,"creation_date":1503569222,"question_id":45858785,"body_markdown":"A few of my Intents for my Alexa app require certain slots. The Alexa skills builder makes this easy. I can mark a slot as required and set what Alexa should ask in order for the user to provide the information for the slot. The thing is that as a developer, you have to tell Alexa with your lambda that you want Alexa to handle the slot filling.\r\n\r\nReading the documentation, I get to this part:\r\n\r\nhttps://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/dialog-interface-reference#details\r\n\r\nIt states\r\n\r\n&gt; If the dialog is IN_PROGRESS, return Dialog.Delegate with no updatedIntent.\r\n\r\nHow do I do this? In my lambda I have\r\n\r\n\r\n      @Override\r\n      public SpeechletResponse onIntent(final IntentRequest request, final Session session)\r\n          throws SpeechletException {\r\n       \r\n        Intent intent = request.getIntent();\r\n        String intentName = (intent != null) ? intent.getName() : null;\r\n    \r\n        if (&quot;AddTwoNumbers&quot;.equals(intentName)) {\r\n          if (!request.getDialogState().equals(&quot;COMPLETED&quot;)) {\r\n              return new DelegateDirective();\r\n          } else {\r\n           handleAdditionIntent();\r\n          }\r\n        } else { // handle other intents}\r\n        }\r\n\r\nTheir code sample doesn&#39;t seem too helpful either.\r\n\r\n    } else if (intentRequest.dialogState != &quot;COMPLETED&quot;){\r\n        // return a Dialog.Delegate directive with no updatedIntent property.\r\n    } else {","title":"How to return Dialog.Delegate in Amazon Alexa SDK?","body":"<p>A few of my Intents for my Alexa app require certain slots. The Alexa skills builder makes this easy. I can mark a slot as required and set what Alexa should ask in order for the user to provide the information for the slot. The thing is that as a developer, you have to tell Alexa with your lambda that you want Alexa to handle the slot filling.</p>\n\n<p>Reading the documentation, I get to this part:</p>\n\n<p><a href=\"https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/dialog-interface-reference#details\" rel=\"nofollow noreferrer\">https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/dialog-interface-reference#details</a></p>\n\n<p>It states</p>\n\n<blockquote>\n  <p>If the dialog is IN_PROGRESS, return Dialog.Delegate with no updatedIntent.</p>\n</blockquote>\n\n<p>How do I do this? In my lambda I have</p>\n\n<pre><code>  @Override\n  public SpeechletResponse onIntent(final IntentRequest request, final Session session)\n      throws SpeechletException {\n\n    Intent intent = request.getIntent();\n    String intentName = (intent != null) ? intent.getName() : null;\n\n    if (\"AddTwoNumbers\".equals(intentName)) {\n      if (!request.getDialogState().equals(\"COMPLETED\")) {\n          return new DelegateDirective();\n      } else {\n       handleAdditionIntent();\n      }\n    } else { // handle other intents}\n    }\n</code></pre>\n\n<p>Their code sample doesn't seem too helpful either.</p>\n\n<pre><code>} else if (intentRequest.dialogState != \"COMPLETED\"){\n    // return a Dialog.Delegate directive with no updatedIntent property.\n} else {\n</code></pre>\n"},{"tags":["java","mongodb","amazon-web-services","aggregation-framework"],"answers":[{"comments":[{"owner":{"account_id":1909200,"reputation":366,"user_id":1723471,"display_name":"kidnan1991"},"score":0,"creation_date":1566986858,"post_id":57684886,"comment_id":101824371,"body_markdown":"The op_query is too long (18 secs), i check back the query but it shouldn&#39;t take long like that :(","body":"The op_query is too long (18 secs), i check back the query but it shouldn&#39;t take long like that :("}],"tags":[],"owner":{"account_id":9246574,"reputation":832,"user_id":6868255,"display_name":"Dexter"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566964824,"creation_date":1566964824,"answer_id":57684886,"question_id":57625250,"body_markdown":"I don&#39;t see any issue in the query performance. I can see it has used the index to filter the document. Unfortunately, I couldn&#39;t download the logs for review as it is blocked by my organization. I suspect, this could be due to some other reason like memory, network, load on the server etc., \r\n\r\nIf you&#39;ve already resolved the issue, please post the details of the issue and how you resolved","title":"MongoDB query executed too long","body":"<p>I don't see any issue in the query performance. I can see it has used the index to filter the document. Unfortunately, I couldn't download the logs for review as it is blocked by my organization. I suspect, this could be due to some other reason like memory, network, load on the server etc., </p>\n\n<p>If you've already resolved the issue, please post the details of the issue and how you resolved</p>\n"}],"owner":{"account_id":1909200,"reputation":366,"user_id":1723471,"display_name":"kidnan1991"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678609472,"creation_date":1566558982,"question_id":57625250,"body_markdown":"Our production is getting slow and Application got paused for about 10-20 seconds.\r\n\r\nOur environment\r\n\r\n - Mongo Version 3.6.1\r\n - Ram 128GB, R5d.x2 Amazon Instance\r\n\r\nYou guys can download log file here: https://gofile.io/?c=9Douwb\r\n\r\nThere are some suspicious points but i dont see why it took the query too long to process.\r\nCould anyone have experiences about this problem?\r\n\r\nI appreciate your help a lot\r\n\r\n&gt; \r\n2019-08-23T02:49:57.860+0000 I COMMAND  [conn363101] command chatlogextension4.5ccd7631383cb22a2aa62c01 command: find { find: &quot;5ccd7631383cb22a2aa62c01&quot;, filter: { $or: [ { from: &quot;5d5f524d383cb2048c617ca4&quot; }, { to: &quot;5d5f524d383cb2048c617ca4&quot; } ], _id: { $lt: ObjectId(&#39;5d5f5443383cb2044bc48ccf&#39;) }, $and: [ { type: { $ne: &quot;REAL_GIFT&quot; } }, { type: { $ne: &quot;REAL_GIFT_STATUS&quot; } } ] }, sort: { _id: -1 }, limit: 24, $readPreference: { mode: &quot;secondaryPreferred&quot; }, $db: &quot;chatlogextension4&quot; } planSummary: IXSCAN { from: 1 }, IXSCAN { to: 1 } keysExamined:1 docsExamined:1 hasSortStage:1 cursorExhausted:1 numYields:2 nreturned:1 reslen:454 locks:{ Global: { acquireCount: { r: 6 } }, Database: { acquireCount: { r: 3 } }, Collection: { acquireCount: { r: 3 } } } protocol:op_query 18480ms","title":"MongoDB query executed too long","body":"<p>Our production is getting slow and Application got paused for about 10-20 seconds.</p>\n\n<p>Our environment</p>\n\n<ul>\n<li>Mongo Version 3.6.1</li>\n<li>Ram 128GB, R5d.x2 Amazon Instance</li>\n</ul>\n\n<p>You guys can download log file here: <a href=\"https://gofile.io/?c=9Douwb\" rel=\"nofollow noreferrer\">https://gofile.io/?c=9Douwb</a></p>\n\n<p>There are some suspicious points but i dont see why it took the query too long to process.\nCould anyone have experiences about this problem?</p>\n\n<p>I appreciate your help a lot</p>\n\n<blockquote>\n  <p>2019-08-23T02:49:57.860+0000 I COMMAND  [conn363101] command chatlogextension4.5ccd7631383cb22a2aa62c01 command: find { find: \"5ccd7631383cb22a2aa62c01\", filter: { $or: [ { from: \"5d5f524d383cb2048c617ca4\" }, { to: \"5d5f524d383cb2048c617ca4\" } ], _id: { $lt: ObjectId('5d5f5443383cb2044bc48ccf') }, $and: [ { type: { $ne: \"REAL_GIFT\" } }, { type: { $ne: \"REAL_GIFT_STATUS\" } } ] }, sort: { _id: -1 }, limit: 24, $readPreference: { mode: \"secondaryPreferred\" }, $db: \"chatlogextension4\" } planSummary: IXSCAN { from: 1 }, IXSCAN { to: 1 } keysExamined:1 docsExamined:1 hasSortStage:1 cursorExhausted:1 numYields:2 nreturned:1 reslen:454 locks:{ Global: { acquireCount: { r: 6 } }, Database: { acquireCount: { r: 3 } }, Collection: { acquireCount: { r: 3 } } } protocol:op_query 18480ms</p>\n</blockquote>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1452240600,"post_id":15340207,"comment_id":57089613,"body_markdown":"Possible duplicate of [After a string literal, all the + will be treated as string concatenation operator why?](http://stackoverflow.com/questions/34589340/after-a-string-literal-all-the-will-be-treated-as-string-concatenation-operat)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/34589340/after-a-string-literal-all-the-will-be-treated-as-string-concatenation-operat\">After a string literal, all the + will be treated as string concatenation operator why?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2314635,"reputation":2022,"user_id":2031946,"display_name":"uba"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1678609399,"creation_date":1363009988,"answer_id":15340361,"question_id":15340207,"body_markdown":"`+` can represent addition or concatenation. \r\n\r\n- If both operands are numeric it is addition. \r\n- If at least one operand is String it is concatenation.\r\n\r\nAlso addition and concatenation is left associative, so `a+b+c` is same as `(a+b)+c` (the `b` is associated with left `+`). \r\n\r\nTaking the first case\r\n\r\n    20+30+&quot;abc&quot;+(10+10)  &lt;--- here both operands are integers with the + operator, which is addition\r\n    -----       -------\r\n      50 +&quot;abc&quot;+  20     &lt;--- + operator on integer and string results in concatenation\r\n      ---------\r\n      &quot;50abc&quot;  +  20     &lt;--- + operator on integer and string results in concatenation\r\n        ------------\r\n          &quot;50abc20&quot;     \r\n\r\nIn the second case:\r\n\r\n    20+30+&quot;abc&quot;+10+10   &lt;--- here both operands are integers with the + operator, which is addition\r\n    -----\r\n      50 +&quot;abc&quot;+10+10   &lt;--- + operator on integer and string results in concatenation\r\n      ---------\r\n       &quot;50abc&quot;  +10+10  &lt;--- + operator on integer and string results in concatenation\r\n        ----------\r\n        &quot;50abc10&quot;  +10  &lt;--- + operator on integer and string results in concatenation\r\n         ------------\r\n          &quot;50abc1010&quot;   ","title":"Java String Concatenation with + operator","body":"<p><code>+</code> can represent addition or concatenation.</p>\n<ul>\n<li>If both operands are numeric it is addition.</li>\n<li>If at least one operand is String it is concatenation.</li>\n</ul>\n<p>Also addition and concatenation is left associative, so <code>a+b+c</code> is same as <code>(a+b)+c</code> (the <code>b</code> is associated with left <code>+</code>).</p>\n<p>Taking the first case</p>\n<pre><code>20+30+&quot;abc&quot;+(10+10)  &lt;--- here both operands are integers with the + operator, which is addition\n-----       -------\n  50 +&quot;abc&quot;+  20     &lt;--- + operator on integer and string results in concatenation\n  ---------\n  &quot;50abc&quot;  +  20     &lt;--- + operator on integer and string results in concatenation\n    ------------\n      &quot;50abc20&quot;     \n</code></pre>\n<p>In the second case:</p>\n<pre><code>20+30+&quot;abc&quot;+10+10   &lt;--- here both operands are integers with the + operator, which is addition\n-----\n  50 +&quot;abc&quot;+10+10   &lt;--- + operator on integer and string results in concatenation\n  ---------\n   &quot;50abc&quot;  +10+10  &lt;--- + operator on integer and string results in concatenation\n    ----------\n    &quot;50abc10&quot;  +10  &lt;--- + operator on integer and string results in concatenation\n     ------------\n      &quot;50abc1010&quot;   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1676171,"reputation":1696,"user_id":1541697,"display_name":"MFarmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363010352,"creation_date":1363010352,"answer_id":15340467,"question_id":15340207,"body_markdown":"Adding to the concept of associativity, you could ensure that two integers are never added together by using parentheses to always pair a string with an integer so the desired concatenation operation will take place rather than an addition.\r\n\r\n    String s4 = ((20 + (30 + &quot;abc&quot;)) + 10)+10;\r\n\r\nwould produce:\r\n\r\n    2030abc1010","title":"Java String Concatenation with + operator","body":"<p>Adding to the concept of associativity, you could ensure that two integers are never added together by using parentheses to always pair a string with an integer so the desired concatenation operation will take place rather than an addition.</p>\n\n<pre><code>String s4 = ((20 + (30 + \"abc\")) + 10)+10;\n</code></pre>\n\n<p>would produce:</p>\n\n<pre><code>2030abc1010\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1634144,"reputation":55,"user_id":1508093,"accept_rate":50,"display_name":"Jonathan Schober Jr."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363011888,"creation_date":1363010525,"answer_id":15340541,"question_id":15340207,"body_markdown":"You will need to start with an empty string.\r\n\r\nSo, this might work:\r\n\r\n    String s2 = &quot;&quot;+20+30+&quot;abc&quot;+10+10; \r\n\r\nOr this:\r\n\r\n    String s2 =&quot;&quot;;\r\n    s2 = 20+30+&quot;abc&quot;+10+10;\r\n    System.out.println(s2);","title":"Java String Concatenation with + operator","body":"<p>You will need to start with an empty string.</p>\n\n<p>So, this might work:</p>\n\n<pre><code>String s2 = \"\"+20+30+\"abc\"+10+10; \n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>String s2 =\"\";\ns2 = 20+30+\"abc\"+10+10;\nSystem.out.println(s2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1169780,"reputation":408,"user_id":1147207,"display_name":"Mark Yao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363080035,"creation_date":1363080035,"answer_id":15357343,"question_id":15340207,"body_markdown":"You need to know some rules:  \r\n1, Java operator priority,most of the left-to-right  \r\n2, Brackets priority than **+** sign priority.  \r\n3, The result is sum,if both sides of  **+** sign are integer,  else is concatenation.","title":"Java String Concatenation with + operator","body":"<p>You need to know some rules:<br>\n1, Java operator priority,most of the left-to-right<br>\n2, Brackets priority than <strong>+</strong> sign priority.<br>\n3, The result is sum,if both sides of  <strong>+</strong> sign are integer,  else is concatenation.</p>\n"},{"tags":[],"owner":{"account_id":1836786,"reputation":20603,"user_id":1667004,"display_name":"ppeterka"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363080873,"creation_date":1363080873,"answer_id":15357620,"question_id":15340207,"body_markdown":"Also, to add to this topic, as the wrong part of the answer of Jonathan Schober tipped me off on a thing to keep in mind:\r\n\r\n**`a+=something` is not equal to `a=a+&lt;something&gt;`** : the `+=` evaluates the right side first, and only then adds it to the left side. So it has to be rewritten, it is equivalent to:\r\n\r\n    a=a+(something); //notice the parentheses!\r\n\r\nShowing the difference\r\n\r\n    public class StringTest {\r\n      public static void main(String... args){\r\n        String a = &quot;&quot;;\r\n        a+=10+10+10;\r\n    \r\n        String b = &quot;&quot;+10+10+10;\r\n    \r\n        System.out.println(&quot;First string, with += : &quot; + a);\r\n        System.out.println(&quot;Second string, with simple =\\&quot;\\&quot; &quot; + b);\r\n    \r\n      }\r\n    }\r\n  ","title":"Java String Concatenation with + operator","body":"<p>Also, to add to this topic, as the wrong part of the answer of Jonathan Schober tipped me off on a thing to keep in mind:</p>\n\n<p><strong><code>a+=something</code> is not equal to <code>a=a+&lt;something&gt;</code></strong> : the <code>+=</code> evaluates the right side first, and only then adds it to the left side. So it has to be rewritten, it is equivalent to:</p>\n\n<pre><code>a=a+(something); //notice the parentheses!\n</code></pre>\n\n<p>Showing the difference</p>\n\n<pre><code>public class StringTest {\n  public static void main(String... args){\n    String a = \"\";\n    a+=10+10+10;\n\n    String b = \"\"+10+10+10;\n\n    System.out.println(\"First string, with += : \" + a);\n    System.out.println(\"Second string, with simple =\\\"\\\" \" + b);\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2183122,"reputation":95,"user_id":1932154,"display_name":"shekhar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3359,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":15340361,"answer_count":5,"score":8,"last_activity_date":1678609399,"creation_date":1363009564,"question_id":15340207,"body_markdown":"I got confused with the String concatenation.\r\n                         \r\n                \r\n    String s1 = 20 + 30 + &quot;abc&quot; + (10 + 10);\r\n    String s2 = 20 + 30 + &quot;abc&quot; + 10 + 10;\r\n    System.out.println(s1);\r\n    System.out.println(s2);\r\n\r\nThe output is:\r\n\r\n&gt; 50abc20  \r\n50abc1010\r\n\r\nI wonder why *20 + 30* are added together in both cases, but *10 + 10* require parenthese in order to be added (s1) instead of concatenated to the String (s2). Please explain how the String operator `+` works here.\r\n     ","title":"Java String Concatenation with + operator","body":"<p>I got confused with the String concatenation.</p>\n\n<pre><code>String s1 = 20 + 30 + \"abc\" + (10 + 10);\nString s2 = 20 + 30 + \"abc\" + 10 + 10;\nSystem.out.println(s1);\nSystem.out.println(s2);\n</code></pre>\n\n<p>The output is:</p>\n\n<blockquote>\n  <p>50abc20<br>\n  50abc1010</p>\n</blockquote>\n\n<p>I wonder why <em>20 + 30</em> are added together in both cases, but <em>10 + 10</em> require parenthese in order to be added (s1) instead of concatenated to the String (s2). Please explain how the String operator <code>+</code> works here.</p>\n"},{"tags":["java","amazon-web-services","jvm","cpu","cpu-usage"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1443335289,"creation_date":1443334869,"answer_id":32805172,"question_id":32805076,"body_markdown":"&gt; Based on their specifications, can I [estimate] the runtime of B after knowing the runtime on A?\r\n\r\nThe answer is No.  Or at least, not with any accuracy or confidence.  The performance of an application often depends on complex interactions between the algorithm&#39;s memory access patterns, memory caches and virtual memory hardware.  These are impossible to predict if you treat the application as a black box, and they can be difficult to model even if you understand what it is doing.  GC can also have the same kind of unpredictable behavior.\r\n\r\n&gt; Can I [estimate] the runtime of machine with i cores after knowing the result on the same machine with j cores?\r\n\r\nThe answer is No.  Application performance as you increase the number of cores is highly dependent on the way that you have designed and implemented your application.  In the best case you could linear speedup ... up to the limit of the platform&#39;s memory system.  In the worst case, you could get no speedup at all.\r\n\r\n--------------------\r\n\r\nThe only practical solution is to make a guesstimate ... then try out the various alternative platforms and see how your application performs on them.","title":"JVM performance based on CPU type","body":"<blockquote>\n  <p>Based on their specifications, can I [estimate] the runtime of B after knowing the runtime on A?</p>\n</blockquote>\n\n<p>The answer is No.  Or at least, not with any accuracy or confidence.  The performance of an application often depends on complex interactions between the algorithm's memory access patterns, memory caches and virtual memory hardware.  These are impossible to predict if you treat the application as a black box, and they can be difficult to model even if you understand what it is doing.  GC can also have the same kind of unpredictable behavior.</p>\n\n<blockquote>\n  <p>Can I [estimate] the runtime of machine with i cores after knowing the result on the same machine with j cores?</p>\n</blockquote>\n\n<p>The answer is No.  Application performance as you increase the number of cores is highly dependent on the way that you have designed and implemented your application.  In the best case you could linear speedup ... up to the limit of the platform's memory system.  In the worst case, you could get no speedup at all.</p>\n\n<hr>\n\n<p>The only practical solution is to make a guesstimate ... then try out the various alternative platforms and see how your application performs on them.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443432872,"creation_date":1443432872,"answer_id":32819775,"question_id":32805076,"body_markdown":"&gt; I don&#39;t know if there is a straightforward answer to this. I have the specifications of different CPU types. For example, two instances,A and B. I want to run some simple java console application in A and B. Based on their specifications, can I assume the runtime of B after knowing the runtime on A?\r\n\r\nYou can guesitmate it by looking at the relative performance using a benchmark like PassMark.  However, you can see occasions where a system which is supposed to be faster is in fact slower.  This is only a very rough estimation.\r\n\r\n&gt; Second questions is about the core numbers. So, can I assume the runtime of machine with i cores after knowing the result on the same machine with j cores?\r\n\r\nIt is hihgly unlikely that say you have double the number of cores, you will get double the amount of performance.\r\n\r\n- Your application may not scale by number of cores as your bottleneck might be another resources e.g. the network, or disk, or your program has too much sequential coding.\r\n- When you have more cores, the speed of those cores tends to be slower on a sustained basis because the sockets can only produce so much heat.\r\n\r\n&gt; Is there some approximations on this? The instances I am talking are Amazon EMR instances.\r\n\r\nIf you are talking about virtual machines instead of real machines, it is even harder to estimate.  You might find that two virtual machines with the same spec don&#39;t perform the same. e.g. since your application might be running on different machines at different times, you may find it&#39;s performance varies even though the machine should have much the same spec.\r\n","title":"JVM performance based on CPU type","body":"<blockquote>\n  <p>I don't know if there is a straightforward answer to this. I have the specifications of different CPU types. For example, two instances,A and B. I want to run some simple java console application in A and B. Based on their specifications, can I assume the runtime of B after knowing the runtime on A?</p>\n</blockquote>\n\n<p>You can guesitmate it by looking at the relative performance using a benchmark like PassMark.  However, you can see occasions where a system which is supposed to be faster is in fact slower.  This is only a very rough estimation.</p>\n\n<blockquote>\n  <p>Second questions is about the core numbers. So, can I assume the runtime of machine with i cores after knowing the result on the same machine with j cores?</p>\n</blockquote>\n\n<p>It is hihgly unlikely that say you have double the number of cores, you will get double the amount of performance.</p>\n\n<ul>\n<li>Your application may not scale by number of cores as your bottleneck might be another resources e.g. the network, or disk, or your program has too much sequential coding.</li>\n<li>When you have more cores, the speed of those cores tends to be slower on a sustained basis because the sockets can only produce so much heat.</li>\n</ul>\n\n<blockquote>\n  <p>Is there some approximations on this? The instances I am talking are Amazon EMR instances.</p>\n</blockquote>\n\n<p>If you are talking about virtual machines instead of real machines, it is even harder to estimate.  You might find that two virtual machines with the same spec don't perform the same. e.g. since your application might be running on different machines at different times, you may find it's performance varies even though the machine should have much the same spec.</p>\n"}],"owner":{"account_id":968621,"reputation":1295,"user_id":991607,"accept_rate":74,"display_name":"Jeyhun Karimov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32805172,"answer_count":2,"score":0,"last_activity_date":1678609102,"creation_date":1443333692,"question_id":32805076,"body_markdown":"I don&#39;t know if there is a straightforward answer to this. I have the specifications of different CPU types. For example, two instances,A and B. \r\nI want to run some simple java console application in A and B. Based on their specifications, can I assume the runtime of B after knowing the runtime on A?\r\n\r\nSecond questions is about the core numbers. So, can I assume the runtime of machine with i cores after knowing the result on the same machine with j cores?\r\n\r\nIs there some approximations on this? The instances I am talking are Amazon EMR instances.\r\n\r\nThank you.","title":"JVM performance based on CPU type","body":"<p>I don't know if there is a straightforward answer to this. I have the specifications of different CPU types. For example, two instances,A and B. \nI want to run some simple java console application in A and B. Based on their specifications, can I assume the runtime of B after knowing the runtime on A?</p>\n\n<p>Second questions is about the core numbers. So, can I assume the runtime of machine with i cores after knowing the result on the same machine with j cores?</p>\n\n<p>Is there some approximations on this? The instances I am talking are Amazon EMR instances.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","amazon-web-services","amazon-emr"],"comments":[{"owner":{"account_id":308584,"reputation":5209,"user_id":620554,"accept_rate":40,"display_name":"Judge Mental"},"score":0,"creation_date":1393956841,"post_id":22178415,"comment_id":33665032,"body_markdown":"listClusters() is the replacement you seek","body":"listClusters() is the replacement you seek"},{"owner":{"account_id":286219,"reputation":1098,"user_id":1180153,"accept_rate":78,"display_name":"mcsilvio"},"score":0,"creation_date":1393957244,"post_id":22178415,"comment_id":33665269,"body_markdown":"@JudgeMental Thank you. I&#39;m going to experiment with that now.","body":"@JudgeMental Thank you. I&#39;m going to experiment with that now."},{"owner":{"account_id":286219,"reputation":1098,"user_id":1180153,"accept_rate":78,"display_name":"mcsilvio"},"score":0,"creation_date":1393958163,"post_id":22178415,"comment_id":33665880,"body_markdown":"@JudgeMental This appears to not be so helpful, sadly. :( listClusters() allows me to get the cluster ID (in an inelegant way), but I don&#39;t see how I can terminate the cluster using a cluster&#39;s ID (crazy I know). Any ideas how to terminate the cluster using this info?","body":"@JudgeMental This appears to not be so helpful, sadly. :( listClusters() allows me to get the cluster ID (in an inelegant way), but I don&#39;t see how I can terminate the cluster using a cluster&#39;s ID (crazy I know). Any ideas how to terminate the cluster using this info?"},{"owner":{"account_id":308584,"reputation":5209,"user_id":620554,"accept_rate":40,"display_name":"Judge Mental"},"score":0,"creation_date":1393959284,"post_id":22178415,"comment_id":33666528,"body_markdown":"How do you want to find the cluster, if not by ID?  I think you are misunderstanding how the client works.  It (the client) is not stateful; the particular instance of the client that you used to start a cluster does not maintain any association with that cluster.","body":"How do you want to find the cluster, if not by ID?  I think you are misunderstanding how the client works.  It (the client) is not stateful; the particular instance of the client that you used to start a cluster does not maintain any association with that cluster."},{"owner":{"account_id":286219,"reputation":1098,"user_id":1180153,"accept_rate":78,"display_name":"mcsilvio"},"score":0,"creation_date":1394046360,"post_id":22178415,"comment_id":33713850,"body_markdown":"Because even if I had the cluster, I see no method for terminating a cluster, only a JobFlow. Please correct me if I&#39;m wrong.","body":"Because even if I had the cluster, I see no method for terminating a cluster, only a JobFlow. Please correct me if I&#39;m wrong."},{"owner":{"account_id":286219,"reputation":1098,"user_id":1180153,"accept_rate":78,"display_name":"mcsilvio"},"score":0,"creation_date":1394047439,"post_id":22178415,"comment_id":33714501,"body_markdown":"Ah! Thank you for that. Will keep experimenting. With that in mind, I should mark the answer given as correct, as it is.","body":"Ah! Thank you for that. Will keep experimenting. With that in mind, I should mark the answer given as correct, as it is."}],"answers":[{"comments":[{"owner":{"account_id":426173,"reputation":18141,"user_id":807231,"accept_rate":38,"display_name":"Marsellus Wallace"},"score":1,"creation_date":1420928743,"post_id":22180511,"comment_id":44165356,"body_markdown":"what if termination protection is enabled on the cluster?","body":"what if termination protection is enabled on the cluster?"}],"tags":[],"owner":{"account_id":308584,"reputation":5209,"user_id":620554,"accept_rate":40,"display_name":"Judge Mental"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1393959401,"creation_date":1393959401,"answer_id":22180511,"question_id":22178415,"body_markdown":"    emrClient.terminateJobFlows(\r\n        new TerminateJobFlowsRequest().withJobFlowIds( strId )\r\n    );","title":"How do I terminate a specific JobFlow in Amazon EMR?","body":"<pre><code>emrClient.terminateJobFlows(\n    new TerminateJobFlowsRequest().withJobFlowIds( strId )\n);\n</code></pre>\n"}],"owner":{"account_id":286219,"reputation":1098,"user_id":1180153,"accept_rate":78,"display_name":"mcsilvio"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22180511,"answer_count":1,"score":1,"last_activity_date":1678609090,"creation_date":1393952960,"question_id":22178415,"body_markdown":"I have one job flow, and it&#39;s &quot;KeepAlive&quot; value is set to true. When I run it, it naturally starts an EMR cluster. \r\n\r\nMy goal is to terminate this cluster entirely. I assume this is done using a TerminateJobFlowRequest, which requires some JobFlowIDs to work.\r\n\r\nThis is problematic for two reasons:\r\n\r\n1) [These](http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/elasticmapreduce/AmazonElasticMapReduce.html) docs say the &quot;describeJobFlows&quot; method is deprecated and suggests no alternative.\r\n\r\n2) Describing all job flows gives me all the recent job flows on my account. I&#39;d prefer to receive only the info for the job flows attached to the current AmazonEMRClient.\r\n\r\nDoes anyone have any ideas on how to find my specific JobFlow and terminate it? Please and thank you.","title":"How do I terminate a specific JobFlow in Amazon EMR?","body":"<p>I have one job flow, and it's \"KeepAlive\" value is set to true. When I run it, it naturally starts an EMR cluster. </p>\n\n<p>My goal is to terminate this cluster entirely. I assume this is done using a TerminateJobFlowRequest, which requires some JobFlowIDs to work.</p>\n\n<p>This is problematic for two reasons:</p>\n\n<p>1) <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/elasticmapreduce/AmazonElasticMapReduce.html\" rel=\"nofollow\">These</a> docs say the \"describeJobFlows\" method is deprecated and suggests no alternative.</p>\n\n<p>2) Describing all job flows gives me all the recent job flows on my account. I'd prefer to receive only the info for the job flows attached to the current AmazonEMRClient.</p>\n\n<p>Does anyone have any ideas on how to find my specific JobFlow and terminate it? Please and thank you.</p>\n"},{"tags":["java","amazon-web-services","amazon-emr"],"answers":[{"tags":[],"owner":{"account_id":1562593,"reputation":1758,"user_id":1452132,"display_name":"user1452132"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419099012,"creation_date":1419099012,"answer_id":27582946,"question_id":27515732,"body_markdown":"You can look at &#39;controller&#39; log file to see where the jar file is copied to - and the hadoop streaming jar command run.  \r\n\r\nThe custom jar gets copied to some folder under /mnt/var/hadoop (specific to the step).  The only way this jar file would conflict with another jar is - if the it is under hadoop/lib - and part of classpath of &#39;hadoop jar&#39;.  \r\n\r\nOne solution is to use script-runner step to run the jar file instead of &#39;custom jar&#39;. Here you may override classpath - set any relevant environment vars.\r\n\r\nhttp://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/emr-hadoop-script.html\r\n\r\nThis script may even run your customer jar using &#39;hadoop jar&#39; command - in essence almost equivalent to running the custom jar directly.","title":"When running a custom Jar in Amazon EMR where is my jar run from?","body":"<p>You can look at 'controller' log file to see where the jar file is copied to - and the hadoop streaming jar command run.  </p>\n\n<p>The custom jar gets copied to some folder under /mnt/var/hadoop (specific to the step).  The only way this jar file would conflict with another jar is - if the it is under hadoop/lib - and part of classpath of 'hadoop jar'.  </p>\n\n<p>One solution is to use script-runner step to run the jar file instead of 'custom jar'. Here you may override classpath - set any relevant environment vars.</p>\n\n<p><a href=\"http://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/emr-hadoop-script.html\" rel=\"nofollow\">http://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/emr-hadoop-script.html</a></p>\n\n<p>This script may even run your customer jar using 'hadoop jar' command - in essence almost equivalent to running the custom jar directly.</p>\n"}],"owner":{"account_id":32552,"reputation":5819,"user_id":90416,"accept_rate":44,"display_name":"NSA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1704,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678609088,"creation_date":1418771933,"question_id":27515732,"body_markdown":"All,\r\n\r\nI am packaging my custom jar with all its dependencies, one of these conflicts with another jar on the EMR instance, so I want to add a step to set my classpath to the directory containing my custom jar, but to do that I need to know where that jar will reside on the various nodes and if there are any env vars that I can use to make these changes, if someone knows of a better way to resolve the root problem other than building against the same version of the jars on the EMR as that is not possible that would also be welcome input. \r\n\r\nThank you,\r\n","title":"When running a custom Jar in Amazon EMR where is my jar run from?","body":"<p>All,</p>\n\n<p>I am packaging my custom jar with all its dependencies, one of these conflicts with another jar on the EMR instance, so I want to add a step to set my classpath to the directory containing my custom jar, but to do that I need to know where that jar will reside on the various nodes and if there are any env vars that I can use to make these changes, if someone knows of a better way to resolve the root problem other than building against the same version of the jars on the EMR as that is not possible that would also be welcome input. </p>\n\n<p>Thank you,</p>\n"},{"tags":["java","amazon-web-services","api","web-services"],"answers":[{"tags":[],"owner":{"account_id":300633,"reputation":15049,"user_id":607874,"accept_rate":100,"display_name":"Jose Rui Santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1301767926,"creation_date":1301767926,"answer_id":5524965,"question_id":5387759,"body_markdown":"I am afraid to be a bit late, but here we go.\r\n\r\nAfter this piece of code:\r\n\r\n    ItemLookupRequest itemLookup = new ItemLookupRequest();\r\n    itemLookup.setIdType(&quot;ASIN&quot;);\r\n    itemLookup.getItemId().add(&quot;B0036WT3EI&quot;);\r\n\r\nadd the following line:\r\n\r\n    itemLookup.setResponseGroup(new String[] { &quot;Images&quot;, &quot;ItemAttributes&quot; });\r\n\r\nYou need to say that you want the `ItemLookupRequest` request to return a response with both Images and ItemAttributes (from where you extract the ListPrice).\r\n\r\nI didn&#39;t test in Java, but should work fine.","title":"Devoloping amazon WS-client using the product API in java","body":"<p>I am afraid to be a bit late, but here we go.</p>\n\n<p>After this piece of code:</p>\n\n<pre><code>ItemLookupRequest itemLookup = new ItemLookupRequest();\nitemLookup.setIdType(\"ASIN\");\nitemLookup.getItemId().add(\"B0036WT3EI\");\n</code></pre>\n\n<p>add the following line:</p>\n\n<pre><code>itemLookup.setResponseGroup(new String[] { \"Images\", \"ItemAttributes\" });\n</code></pre>\n\n<p>You need to say that you want the <code>ItemLookupRequest</code> request to return a response with both Images and ItemAttributes (from where you extract the ListPrice).</p>\n\n<p>I didn't test in Java, but should work fine.</p>\n"}],"owner":{"account_id":340581,"reputation":21,"user_id":670681,"display_name":"user670681"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1385,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678609020,"creation_date":1300776707,"question_id":5387759,"body_markdown":"I am developing an Amazon webservice client in java. I have developed all the stubs needed as specified in their site. I could access the title and asin using ItemLookup response. I need to access the price information and image of products. Can someone help me to sort the issue.The code and its response is given below\r\n\r\n\r\n   \r\n\r\n    public class iteml {\r\n       public void itemdetails()\r\n       {\r\n        System.out.println(&quot;sample test&quot;);\r\n        AWSECommerceService service = new AWSECommerceService();\r\n        service.setHandlerResolver(new awshandlerresolver(&quot;secret key&quot;));  // important\r\n        AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\r\n\r\n    ItemLookupRequest itemLookup = new ItemLookupRequest();\r\n    itemLookup.setIdType(&quot;ASIN&quot;);\r\n    itemLookup.getItemId().add(&quot;B0036WT3EI&quot;);\r\n\r\n    ItemLookup lookup = new ItemLookup();\r\n    lookup.setAWSAccessKeyId(&quot;APi key&quot;); // important\r\n    lookup.getRequest().add(itemLookup);\r\n\r\n    ItemLookupResponse response = port.itemLookup(lookup);\r\n\r\n    String r = response.toString();\r\n    System.out.println(&quot;response: &quot; + r);\r\n\r\n\r\n          for (Items itemList:response.getItems())\r\n\r\n            for (Item item : itemList.getItem())\r\n            {\r\n               final String asin= item.getASIN();\r\n                System.out.println(asin);\r\n                System.out.println(&quot;Title: &quot; +\r\n                item.getItemAttributes().getTitle());\r\n               // Image I=item.getSmallImage();\r\n                 // final Image I1 = I;\r\n               // String url=I1.getURL();\r\n               // System.out.println(url);\r\n                \r\n                String pr=item.getItemAttributes().getListPrice().getFormattedPrice();\r\n               // System.out.println(p);\r\n                System.out.println(pr);\r\n    }\r\n    }\r\n  \r\n\r\n    public static void main(String args[])\r\n        {\r\n          iteml l=new iteml();\r\n          l.itemdetails();\r\n        }\r\n      }\r\n\r\n  \r\n\r\n&gt; **output is** B0036WT3EI  //asin id\r\n&gt; Exception in thread &quot;main&quot;\r\n&gt; java.lang.NullPointerException Title:\r\n&gt; Samsung LN19C350 19-Inch 720p 60 Hz\r\n&gt; LCD HDTV (Black)\r\n&gt;         at plugin.iteml.itemdetails(iteml.java:65)\r\n&gt;         at plugin.iteml.main(iteml.java:73) Java\r\n&gt; Result: 1\r\n\r\n\r\n\r\n","title":"Devoloping amazon WS-client using the product API in java","body":"<p>I am developing an Amazon webservice client in java. I have developed all the stubs needed as specified in their site. I could access the title and asin using ItemLookup response. I need to access the price information and image of products. Can someone help me to sort the issue.The code and its response is given below</p>\n\n<pre><code>public class iteml {\n   public void itemdetails()\n   {\n    System.out.println(\"sample test\");\n    AWSECommerceService service = new AWSECommerceService();\n    service.setHandlerResolver(new awshandlerresolver(\"secret key\"));  // important\n    AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\n\nItemLookupRequest itemLookup = new ItemLookupRequest();\nitemLookup.setIdType(\"ASIN\");\nitemLookup.getItemId().add(\"B0036WT3EI\");\n\nItemLookup lookup = new ItemLookup();\nlookup.setAWSAccessKeyId(\"APi key\"); // important\nlookup.getRequest().add(itemLookup);\n\nItemLookupResponse response = port.itemLookup(lookup);\n\nString r = response.toString();\nSystem.out.println(\"response: \" + r);\n\n\n      for (Items itemList:response.getItems())\n\n        for (Item item : itemList.getItem())\n        {\n           final String asin= item.getASIN();\n            System.out.println(asin);\n            System.out.println(\"Title: \" +\n            item.getItemAttributes().getTitle());\n           // Image I=item.getSmallImage();\n             // final Image I1 = I;\n           // String url=I1.getURL();\n           // System.out.println(url);\n\n            String pr=item.getItemAttributes().getListPrice().getFormattedPrice();\n           // System.out.println(p);\n            System.out.println(pr);\n}\n}\n\n\npublic static void main(String args[])\n    {\n      iteml l=new iteml();\n      l.itemdetails();\n    }\n  }\n</code></pre>\n\n<blockquote>\n  <p><strong>output is</strong> B0036WT3EI  //asin id\n  Exception in thread \"main\"\n  java.lang.NullPointerException Title:\n  Samsung LN19C350 19-Inch 720p 60 Hz\n  LCD HDTV (Black)\n          at plugin.iteml.itemdetails(iteml.java:65)\n          at plugin.iteml.main(iteml.java:73) Java\n  Result: 1</p>\n</blockquote>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":2770660,"reputation":4602,"user_id":2385324,"accept_rate":87,"display_name":"Diego Martinoia"},"score":1,"creation_date":1454946314,"post_id":35273498,"comment_id":58258751,"body_markdown":"is it normal that you have a colon on the boolean (:p_deleted) but not on the string (:p_prefix) ?","body":"is it normal that you have a colon on the boolean (:p_deleted) but not on the string (:p_prefix) ?"},{"owner":{"account_id":2635104,"reputation":1293,"user_id":2280027,"accept_rate":39,"display_name":"yazabara"},"score":0,"creation_date":1454946626,"post_id":35273498,"comment_id":58258981,"body_markdown":"No. it isn&#39;t normal, thanks! But it doesn&#39;t wotk with &#39;:&#39;","body":"No. it isn&#39;t normal, thanks! But it doesn&#39;t wotk with &#39;:&#39;"},{"owner":{"account_id":2770660,"reputation":4602,"user_id":2385324,"accept_rate":87,"display_name":"Diego Martinoia"},"score":0,"creation_date":1454946855,"post_id":35273498,"comment_id":58259144,"body_markdown":"from your error it seems that you cant test for &quot;contains&quot; in the key in the filterexpression. I&#39;m no expert on that, but I think you can only test key for equality, not subproperties?","body":"from your error it seems that you cant test for &quot;contains&quot; in the key in the filterexpression. I&#39;m no expert on that, but I think you can only test key for equality, not subproperties?"},{"owner":{"account_id":2635104,"reputation":1293,"user_id":2280027,"accept_rate":39,"display_name":"yazabara"},"score":0,"creation_date":1454947053,"post_id":35273498,"comment_id":58259284,"body_markdown":"Scan - can read nested queries. (subproperties.)  http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Condition.html","body":"Scan - can read nested queries. (subproperties.)  <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Condition.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/amazondynamodb/latest/APIReference/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2635104,"reputation":1293,"user_id":2280027,"accept_rate":39,"display_name":"yazabara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455107006,"creation_date":1455107006,"answer_id":35315218,"question_id":35273498,"body_markdown":"     ValueMap values = new ValueMap().withString( &quot;:p_status&quot;, &quot;READY&quot; ).withString( &quot;:p_prefix&quot;, prefix );\r\n    \r\n    NameMap names = new NameMap().with( &quot;#status_name&quot;, &quot;status&quot; ).with( &quot;#path_name&quot;, CDynamoDbCommon.RANGE_KEY_NAME );\r\n\r\n\r\n    scanSpec = new ScanSpec()\r\n        .withFilterExpression( UAwsBasic.DATABASE_JSON_DEFINITION_NAME + &quot;.#status_name = :p_status AND contains( #path_name , :p_prefix)&quot; )\r\n        .withNameMap( names ).withValueMap( values )\r\n        .withMaxResultSize( 10 ).withExclusiveStartKey( CDynamoDbCommon.PRIMARY_KEY_NAME, primaryLast, CDynamoDbCommon.RANGE_KEY_NAME, hashLast );\r\n    ","title":"DynamoDB. How to scan list with contains","body":"<pre><code> ValueMap values = new ValueMap().withString( \":p_status\", \"READY\" ).withString( \":p_prefix\", prefix );\n\nNameMap names = new NameMap().with( \"#status_name\", \"status\" ).with( \"#path_name\", CDynamoDbCommon.RANGE_KEY_NAME );\n\n\nscanSpec = new ScanSpec()\n    .withFilterExpression( UAwsBasic.DATABASE_JSON_DEFINITION_NAME + \".#status_name = :p_status AND contains( #path_name , :p_prefix)\" )\n    .withNameMap( names ).withValueMap( values )\n    .withMaxResultSize( 10 ).withExclusiveStartKey( CDynamoDbCommon.PRIMARY_KEY_NAME, primaryLast, CDynamoDbCommon.RANGE_KEY_NAME, hashLast );\n</code></pre>\n"}],"owner":{"account_id":2635104,"reputation":1293,"user_id":2280027,"accept_rate":39,"display_name":"yazabara"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678608928,"creation_date":1454946154,"question_id":35273498,"body_markdown":"    ValueMap attributes = new ValueMap()\r\n    .withBoolean( &quot;:p_deleted&quot;, true )\r\n    .withString( &quot;:p_prefix&quot;, prefix );\r\n    ScanSpec scanSpec = new ScanSpec()\r\n    .withFilterExpression( UAwsBasic.DATABASE_JSON_DEFINITION_NAME + &quot;.deleted = :p_deleted and &quot; + dynamoDbCommon.RANGE_KEY_NAME + &quot; contains :p_prefix&quot; ).withValueMap( attributes );\r\n                \r\n    ItemCollection&lt; ScanOutcome &gt; items1 = dynamoDbCommon.scanList(getTableName(), scanSpec );\r\n\r\nHow to get items list?\r\n\r\nI need get not deleted items with prefix.\r\n\r\nI have an error:\r\n\r\n  \r\n\r\n    Caused by: com.amazonaws.AmazonServiceException: Invalid FilterExpression: Syntax error; token: &quot;contains&quot;, near: &quot;path contains :p_prefix&quot;\r\n\r\nI&#39;ve tried write the simmilar scan-request:\r\n\r\n    ScanSpec scanSpec = new ScanSpec().withScanFilters( new ScanFilter[] { typeFilter, deletedFilter } ).withConditionalOperator( ConditionalOperator.AND );\r\n\r\nBut it doesn&#39;t work.","title":"DynamoDB. How to scan list with contains","body":"<pre><code>ValueMap attributes = new ValueMap()\n.withBoolean( \":p_deleted\", true )\n.withString( \":p_prefix\", prefix );\nScanSpec scanSpec = new ScanSpec()\n.withFilterExpression( UAwsBasic.DATABASE_JSON_DEFINITION_NAME + \".deleted = :p_deleted and \" + dynamoDbCommon.RANGE_KEY_NAME + \" contains :p_prefix\" ).withValueMap( attributes );\n\nItemCollection&lt; ScanOutcome &gt; items1 = dynamoDbCommon.scanList(getTableName(), scanSpec );\n</code></pre>\n\n<p>How to get items list?</p>\n\n<p>I need get not deleted items with prefix.</p>\n\n<p>I have an error:</p>\n\n<pre><code>Caused by: com.amazonaws.AmazonServiceException: Invalid FilterExpression: Syntax error; token: \"contains\", near: \"path contains :p_prefix\"\n</code></pre>\n\n<p>I've tried write the simmilar scan-request:</p>\n\n<pre><code>ScanSpec scanSpec = new ScanSpec().withScanFilters( new ScanFilter[] { typeFilter, deletedFilter } ).withConditionalOperator( ConditionalOperator.AND );\n</code></pre>\n\n<p>But it doesn't work.</p>\n"},{"tags":["java","amazon-web-services","sorting","amazon-dynamodb"],"comments":[{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":1,"creation_date":1421999799,"post_id":28081885,"comment_id":44585236,"body_markdown":"What makes you think that `com.amazonaws.services.codedeploy.model.SortOrder` would be used for DynamoDB? The AWS SDK is essentially split up per service.","body":"What makes you think that <code>com.amazonaws.services.codedeploy.model.SortOrder</code> would be used for DynamoDB? The AWS SDK is essentially split up per service."},{"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"score":0,"creation_date":1422435300,"post_id":28081885,"comment_id":44744361,"body_markdown":"@MikeKobit In `SortOrder` class it contains `Ascending(&quot;ascending&quot;),\n    Descending(&quot;descending&quot;);`. Can you tell me how to sort `countryCode` column data in ascending / descending order in java.","body":"@MikeKobit In <code>SortOrder</code> class it contains <code>Ascending(&quot;ascending&quot;),     Descending(&quot;descending&quot;);</code>. Can you tell me how to sort <code>countryCode</code> column data in ascending / descending order in java."},{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":0,"creation_date":1422466595,"post_id":28081885,"comment_id":44763825,"body_markdown":"`SortOrder` is specific to [AWS CodyDeploy](http://aws.amazon.com/codedeploy/). You need to use the `Scan` operation to read the entire table and pull the results into memory where you will have to sort it, as I said in my answer. Another option would be to use [DynamoDB Online Indexing announced yesterday](https://aws.amazon.com/blogs/aws/amazon-dynamodb-update-online-indexing-reserved-capacity-improvements/) to create an index on the table, and then you can use the `Query` operation to fetch the ordered results and you can paginate through without having to read the entire table first.","body":"<code>SortOrder</code> is specific to <a href=\"http://aws.amazon.com/codedeploy/\" rel=\"nofollow noreferrer\">AWS CodyDeploy</a>. You need to use the <code>Scan</code> operation to read the entire table and pull the results into memory where you will have to sort it, as I said in my answer. Another option would be to use <a href=\"https://aws.amazon.com/blogs/aws/amazon-dynamodb-update-online-indexing-reserved-capacity-improvements/\" rel=\"nofollow noreferrer\">DynamoDB Online Indexing announced yesterday</a> to create an index on the table, and then you can use the <code>Query</code> operation to fetch the ordered results and you can paginate through without having to read the entire table first."},{"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"score":0,"creation_date":1423026672,"post_id":28081885,"comment_id":44977672,"body_markdown":"@MikeKobit Can you post a code.","body":"@MikeKobit Can you post a code."}],"answers":[{"tags":[],"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421999973,"creation_date":1421999973,"answer_id":28105405,"question_id":28081885,"body_markdown":"You cannot sort the `countryCode` since there is not an [index][1] on it. You will have to use a [`Scan`][2] to fetch all the rows and sort the data in your application.\r\n\r\nSide note: `countryCode` is not a column in DynamoDB - it is an attribute. See the [DynamoDB DataModel][3] for more information.\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/SecondaryIndexes.html\r\n  [2]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ScanJavaDocumentAPI.html\r\n  [3]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DataModel.html","title":"How to sort the data in Amazon dynamodb using java","body":"<p>You cannot sort the <code>countryCode</code> since there is not an <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/SecondaryIndexes.html\" rel=\"nofollow\">index</a> on it. You will have to use a <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ScanJavaDocumentAPI.html\" rel=\"nofollow\"><code>Scan</code></a> to fetch all the rows and sort the data in your application.</p>\n\n<p>Side note: <code>countryCode</code> is not a column in DynamoDB - it is an attribute. See the <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DataModel.html\" rel=\"nofollow\">DynamoDB DataModel</a> for more information.</p>\n"}],"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1969,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678608882,"creation_date":1421904832,"question_id":28081885,"body_markdown":"How to sort the `countryCode` column data in ascending order or descending order in amazon dynamodb using java\r\n\r\nHow to use `SortOrder enum` in code.\r\n\r\n`SortOrder` enum is available in package`com.amazonaws.services.codedeploy.model.SortOrder`.\r\n\r\n    import java.io.Serializable;\r\n    \r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAutoGeneratedKey;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;\r\n    \r\n    @DynamoDBTable(tableName = &quot;cd_country&quot;)\r\n    public class Country implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 5698425418072128936L;\r\n    \r\n        @DynamoDBAutoGeneratedKey\r\n        @DynamoDBHashKey\r\n        private String countryId;\r\n    \r\n        private String countryCode;\r\n    \r\n        private String countryName;\r\n    \r\n        private Long isActive;\r\n    \r\n        public String getCountryId() {\r\n            return countryId;\r\n        }\r\n    \r\n        public void setCountryId(String countryId) {\r\n            this.countryId = countryId;\r\n        }\r\n    \r\n        public String getCountryCode() {\r\n            return countryCode;\r\n        }\r\n    \r\n        public void setCountryCode(String countryCode) {\r\n            this.countryCode = countryCode;\r\n        }\r\n    \r\n        public String getCountryName() {\r\n            return countryName;\r\n        }\r\n    \r\n        public void setCountryName(String countryName) {\r\n            this.countryName = countryName;\r\n        }\r\n    \r\n        public Long getIsActive() {\r\n            return isActive;\r\n        }\r\n    \r\n        public void setIsActive(Long isActive) {\r\n            this.isActive = isActive;\r\n        }\r\n    \r\n    }","title":"How to sort the data in Amazon dynamodb using java","body":"<p>How to sort the <code>countryCode</code> column data in ascending order or descending order in amazon dynamodb using java</p>\n\n<p>How to use <code>SortOrder enum</code> in code.</p>\n\n<p><code>SortOrder</code> enum is available in package<code>com.amazonaws.services.codedeploy.model.SortOrder</code>.</p>\n\n<pre><code>import java.io.Serializable;\n\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAutoGeneratedKey;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;\n\n@DynamoDBTable(tableName = \"cd_country\")\npublic class Country implements Serializable {\n\n    private static final long serialVersionUID = 5698425418072128936L;\n\n    @DynamoDBAutoGeneratedKey\n    @DynamoDBHashKey\n    private String countryId;\n\n    private String countryCode;\n\n    private String countryName;\n\n    private Long isActive;\n\n    public String getCountryId() {\n        return countryId;\n    }\n\n    public void setCountryId(String countryId) {\n        this.countryId = countryId;\n    }\n\n    public String getCountryCode() {\n        return countryCode;\n    }\n\n    public void setCountryCode(String countryCode) {\n        this.countryCode = countryCode;\n    }\n\n    public String getCountryName() {\n        return countryName;\n    }\n\n    public void setCountryName(String countryName) {\n        this.countryName = countryName;\n    }\n\n    public Long getIsActive() {\n        return isActive;\n    }\n\n    public void setIsActive(Long isActive) {\n        this.isActive = isActive;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":1942356,"reputation":194,"user_id":1748253,"accept_rate":50,"display_name":"user1748253"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1365437740,"creation_date":1355260878,"answer_id":13828698,"question_id":11611819,"body_markdown":"In comparison of `AttributeValue`, the value type is validated before comparing the value. If you check `.equals(obj)` of `AttributeValue`, that may give you a better explanation. ","title":"DynamoDB between query on String attribute","body":"<p>In comparison of <code>AttributeValue</code>, the value type is validated before comparing the value. If you check <code>.equals(obj)</code> of <code>AttributeValue</code>, that may give you a better explanation. </p>\n"}],"owner":{"account_id":191954,"reputation":2273,"user_id":432836,"accept_rate":82,"display_name":"vacuum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2928,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13828698,"answer_count":1,"score":0,"last_activity_date":1678608880,"creation_date":1343043673,"question_id":11611819,"body_markdown":"Working with [Query][1]  API from DynamoDB. \r\nEntities table has hash-and-range primary key. Range column is of String type.\r\nWhile doing BETWEEN query on range key I got strange results:\r\n\r\n![query][2]\r\n[bigger][3]\r\n\r\nAnd documentation is not very clear:\r\n\r\n*BETWEEN : Greater than, or equal to, the first value and less than, or equal to, the second value.\r\nFor BETWEEN, AttributeValueList must contain two AttributeValue elements of the same type, either String or Number (not a set). A target attribute matches if the target value is greater than, or equal to, the first element and less than, or equal to, the second element. If an item contains an AttributeValue of a different type than the one specified in the request, the value does not match. For example, {&quot;S&quot;:&quot;6&quot;} does not compare to {&quot;N&quot;:&quot;6&quot;}. Also, {&quot;N&quot;:&quot;6&quot;} does not compare to {&quot;NS&quot;:[&quot;6&quot;, &quot;2&quot;, &quot;1&quot;]}.*\r\n\r\nCan anybody explain this results?\r\n\r\n\r\n  [1]: http://docs.amazonwebservices.com/amazondynamodb/latest/developerguide/API_Query.html\r\n  [2]: http://i.stack.imgur.com/zjLoz.png\r\n  [3]: http://i.stack.imgur.com/C1bSC.png","title":"DynamoDB between query on String attribute","body":"<p>Working with <a href=\"http://docs.amazonwebservices.com/amazondynamodb/latest/developerguide/API_Query.html\" rel=\"nofollow noreferrer\">Query</a>  API from DynamoDB. \nEntities table has hash-and-range primary key. Range column is of String type.\nWhile doing BETWEEN query on range key I got strange results:</p>\n\n<p><img src=\"https://i.stack.imgur.com/zjLoz.png\" alt=\"query\">\n<a href=\"https://i.stack.imgur.com/C1bSC.png\" rel=\"nofollow noreferrer\">bigger</a></p>\n\n<p>And documentation is not very clear:</p>\n\n<p><em>BETWEEN : Greater than, or equal to, the first value and less than, or equal to, the second value.\nFor BETWEEN, AttributeValueList must contain two AttributeValue elements of the same type, either String or Number (not a set). A target attribute matches if the target value is greater than, or equal to, the first element and less than, or equal to, the second element. If an item contains an AttributeValue of a different type than the one specified in the request, the value does not match. For example, {\"S\":\"6\"} does not compare to {\"N\":\"6\"}. Also, {\"N\":\"6\"} does not compare to {\"NS\":[\"6\", \"2\", \"1\"]}.</em></p>\n\n<p>Can anybody explain this results?</p>\n"},{"tags":["java","android","amazon-web-services","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":1906774,"reputation":3759,"user_id":1721492,"display_name":"Yosuke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1454618039,"creation_date":1454618039,"answer_id":35211074,"question_id":35189292,"body_markdown":"The DynamoDB Object Mapper for Android currently does not support complex data type mapping for the array and map. You need to manually map a dictionary to a custom object for yourself.","title":"DynamoDB Storing/ Mapping Complex Objects in Maps","body":"<p>The DynamoDB Object Mapper for Android currently does not support complex data type mapping for the array and map. You need to manually map a dictionary to a custom object for yourself.</p>\n"}],"owner":{"account_id":187286,"reputation":1679,"user_id":425234,"display_name":"Alex Bailey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35211074,"answer_count":1,"score":0,"last_activity_date":1678608878,"creation_date":1454539753,"question_id":35189292,"body_markdown":"We are trying to get started with dynamo db and I&#39;m breaking my head over a mapping problem.\r\n\r\nI have a model Match and matchPlayer.\r\n\r\nMatch has a map property which contains matchPlayer objects.\r\n\r\nI can&#39;t get dynamodb to correctly map this property.\r\nI tried the json Marshaller but that just results into an error\r\n\r\nExpected S in value {M: {player2={M:(More json)\r\n\r\nAre there any good examples or tutorials for mapping/ marshalling a map with complex objects to work with dynamodb? I found tutorials for working with simple complex objects but not with a map of objects.\r\n\r\nI&#39;m glad for any help!\r\n\r\n    @DynamoDBTable(tableName=&quot;Matches&quot;)\r\n    public class Match {\r\n    \r\n        private String matchId;\r\n        private Boolean active;\r\n        private int currentRound;\r\n        private Boolean finished;\r\n    \r\n        private Map&lt;String, MatchPlayers&gt; players;\r\n    \r\n        @DynamoDBHashKey(attributeName = &quot;matchId&quot;)\r\n        public String getMatchId() {\r\n            return matchId;\r\n        }\r\n    \r\n        public void setMatchId(String matchId) {\r\n            this.matchId = matchId;\r\n        }\r\n        @DynamoDBIndexRangeKey(attributeName = &quot;active&quot;)\r\n        public Boolean getActive() {\r\n            return active;\r\n        }\r\n    \r\n        public void setActive(Boolean active) {\r\n            this.active = active;\r\n        }\r\n    \r\n    \r\n        @DynamoDBIndexRangeKey(attributeName = &quot;currentRound&quot;)\r\n        public int getCurrentRound() {\r\n            return currentRound;\r\n        }\r\n    \r\n        public void setCurrentRound(int currentRound) {\r\n            this.currentRound = currentRound;\r\n        }\r\n    \r\n        @DynamoDBIndexRangeKey(attributeName = &quot;finished&quot;)\r\n        public Boolean getFinished() {\r\n            return finished;\r\n        }\r\n    \r\n        public void setFinished(Boolean finished) {\r\n            this.finished = finished;\r\n        }\r\n    \r\n        @DynamoDBMarshalling(marshallerClass = MatchPlayersMarshaller.class)\r\n        @DynamoDBIndexRangeKey(attributeName = &quot;players&quot;)\r\n        public Map&lt;String, MatchPlayers&gt; getPlayers() {\r\n            return players;\r\n        }\r\n    \r\n        public void setPlayers(Map&lt;String, MatchPlayers&gt; players) {\r\n            this.players = players;\r\n        }\r\n    }","title":"DynamoDB Storing/ Mapping Complex Objects in Maps","body":"<p>We are trying to get started with dynamo db and I'm breaking my head over a mapping problem.</p>\n\n<p>I have a model Match and matchPlayer.</p>\n\n<p>Match has a map property which contains matchPlayer objects.</p>\n\n<p>I can't get dynamodb to correctly map this property.\nI tried the json Marshaller but that just results into an error</p>\n\n<p>Expected S in value {M: {player2={M:(More json)</p>\n\n<p>Are there any good examples or tutorials for mapping/ marshalling a map with complex objects to work with dynamodb? I found tutorials for working with simple complex objects but not with a map of objects.</p>\n\n<p>I'm glad for any help!</p>\n\n<pre><code>@DynamoDBTable(tableName=\"Matches\")\npublic class Match {\n\n    private String matchId;\n    private Boolean active;\n    private int currentRound;\n    private Boolean finished;\n\n    private Map&lt;String, MatchPlayers&gt; players;\n\n    @DynamoDBHashKey(attributeName = \"matchId\")\n    public String getMatchId() {\n        return matchId;\n    }\n\n    public void setMatchId(String matchId) {\n        this.matchId = matchId;\n    }\n    @DynamoDBIndexRangeKey(attributeName = \"active\")\n    public Boolean getActive() {\n        return active;\n    }\n\n    public void setActive(Boolean active) {\n        this.active = active;\n    }\n\n\n    @DynamoDBIndexRangeKey(attributeName = \"currentRound\")\n    public int getCurrentRound() {\n        return currentRound;\n    }\n\n    public void setCurrentRound(int currentRound) {\n        this.currentRound = currentRound;\n    }\n\n    @DynamoDBIndexRangeKey(attributeName = \"finished\")\n    public Boolean getFinished() {\n        return finished;\n    }\n\n    public void setFinished(Boolean finished) {\n        this.finished = finished;\n    }\n\n    @DynamoDBMarshalling(marshallerClass = MatchPlayersMarshaller.class)\n    @DynamoDBIndexRangeKey(attributeName = \"players\")\n    public Map&lt;String, MatchPlayers&gt; getPlayers() {\n        return players;\n    }\n\n    public void setPlayers(Map&lt;String, MatchPlayers&gt; players) {\n        this.players = players;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":147778,"reputation":9734,"user_id":359134,"accept_rate":82,"display_name":"Chen Harel"},"score":0,"creation_date":1418549664,"post_id":27455709,"comment_id":43371351,"body_markdown":"please show definition of Account","body":"please show definition of Account"},{"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"score":0,"creation_date":1418613773,"post_id":27455709,"comment_id":43387836,"body_markdown":"@ChenHarel added the definition of Account.","body":"@ChenHarel added the definition of Account."}],"answers":[{"tags":[],"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1418623737,"creation_date":1418623737,"answer_id":27478286,"question_id":27455709,"body_markdown":"`documentTypeId` is primarykey for `cd_documentTypes` table, this primarykey is used in `cd_accounts` table as a foreignkey. \r\n\r\nIf the table having foreignkey relation we must mention the `@DynamoDBRangeKey` annotation above documentTypeId attribute in Account class. Problem is solved after declared the `@DynamoDBRangeKey` on top of the attribute `documentTypeId`.\r\n\r\n    @DynamoDBRangeKey\r\n        private String documentTypeId;\r\n\r\n\r\nIf we want to save or update or delete records in amazon dynamodb using java we must mention the\r\nannotation `@DynamoDBHashKey` on top of the primarykey column.\r\n\r\n    @DynamoDBAutoGeneratedKey\r\n\t@DynamoDBHashKey\r\n\tprivate String accountId;\r\n\r\nBelow is the image shown for foreignkey relation exists in `cd_accounts` table.\r\n\r\n**Note:**`Range key attribute` field is displayed if the table is mapping to another table primarykey in amaozong dynamodb.\r\n![ForeignKey relation][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/lZvBX.png","title":"How to delete record using primarykey in dynamodb","body":"<p><code>documentTypeId</code> is primarykey for <code>cd_documentTypes</code> table, this primarykey is used in <code>cd_accounts</code> table as a foreignkey. </p>\n\n<p>If the table having foreignkey relation we must mention the <code>@DynamoDBRangeKey</code> annotation above documentTypeId attribute in Account class. Problem is solved after declared the <code>@DynamoDBRangeKey</code> on top of the attribute <code>documentTypeId</code>.</p>\n\n<pre><code>@DynamoDBRangeKey\n    private String documentTypeId;\n</code></pre>\n\n<p>If we want to save or update or delete records in amazon dynamodb using java we must mention the\nannotation <code>@DynamoDBHashKey</code> on top of the primarykey column.</p>\n\n<pre><code>@DynamoDBAutoGeneratedKey\n@DynamoDBHashKey\nprivate String accountId;\n</code></pre>\n\n<p>Below is the image shown for foreignkey relation exists in <code>cd_accounts</code> table.</p>\n\n<p><strong>Note:</strong><code>Range key attribute</code> field is displayed if the table is mapping to another table primarykey in amaozong dynamodb.\n<img src=\"https://i.stack.imgur.com/lZvBX.png\" alt=\"ForeignKey relation\"></p>\n"}],"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27478286,"answer_count":1,"score":0,"last_activity_date":1678608874,"creation_date":1418446677,"question_id":27455709,"body_markdown":"I get the record using primarykey id in amazon dynamodb using java. \r\n\r\n**AccountController.java**\r\n\r\n    package com.dynamodb.controller;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    import com.account.json.AccountJson;\r\n    import com.account.service.AccountService;\r\n    \r\n    @Controller\r\n    public class AccountController extends AbstractServiceController {\r\n\r\n\t@Autowired\r\n\tprivate AccountService accountService;\r\n\t\r\n\t@RequestMapping(value = &quot;/deleteAccountByAccountId&quot;, method = RequestMethod.POST)\r\n\tpublic @ResponseBody String deleteAccountByAccountId(@RequestBody AccountJson accountJson) {\r\n\t\ttry {\r\n\t\t\tBoolean bool = accountService.deleteAccountByAccountId(accountJson.getAccountId());\r\n\t\t\tif (bool) {\r\n\t\t\t\treturn &quot;Record deleted Successfully&quot;;\r\n\t\t\t} else {\r\n\t\t\t\treturn &quot;Record not deleted&quot;;\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn e.getMessage();\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n**AccountService.java**\r\n\r\n    package com.account.service;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.account.dao.AccountRepository;\r\n    \r\n    @Service\r\n    public class AccountService {\r\n\r\n\t@Autowired\r\n\tprivate AccountRepository accountRepository;\r\n\r\n\tpublic Boolean deleteAccountByAccountId(String accountId) {\r\n\t\treturn accountRepository.deleteAccountByAccountId(accountId);\r\n\t}\r\n\r\n    }\r\n\r\n**AccountRepository.java**\r\n\r\n    package com.account.dao;\r\n\r\n    import java.util.List;\r\n    \r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBScanExpression;\r\n    import com.amazonaws.services.dynamodbv2.model.AttributeValue;\r\n    import com.amazonaws.services.dynamodbv2.model.ComparisonOperator;\r\n    import com.amazonaws.services.dynamodbv2.model.Condition;\r\n    import com.account.datastore.Account;\r\n    \r\n    @Repository\r\n    public class AccountRepository extends BaseRepository {\r\n\r\n\tpublic Account getAccountByAccountId(String accountId) {\r\n\t\tAccount account = null;\r\n\t\ttry {\r\n\t\t\tDynamoDBMapper mapper = getDynameDbMapper();\r\n\t\t\tDynamoDBScanExpression scanExpression = new DynamoDBScanExpression();\r\n\t\t\tscanExpression.addFilterCondition(&quot;accountId&quot;, new Condition().withComparisonOperator(ComparisonOperator.EQ).withAttributeValueList(new AttributeValue().withS(accountId)));\r\n\t\t\tList&lt;Account&gt; accounts = mapper.scan(Account.class, scanExpression);\r\n\t\t\tif (accounts != null &amp;&amp; accounts.size() &gt; 0) {\r\n\t\t\t\taccount = accounts.get(0);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn account;\r\n\t}\r\n\r\n\tpublic Boolean deleteAccountByAccountId(String accountId) {\r\n\t\ttry {\r\n\t\t\tAccount account = getAccountByAccountId(accountId);\r\n\t\t\tif (account != null) {\r\n\t\t\t\tDynamoDBMapper mapper = getDynameDbMapper();\r\n\t\t\t\tmapper.delete(account);\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n    }\r\n\r\n**Account.java**\r\n\r\n    package com.account.datastore;\r\n\r\n    import java.io.Serializable;\r\n    \r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAutoGeneratedKey;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;\r\n    \r\n    @DynamoDBTable(tableName = &quot;cd_accounts&quot;)\r\n    public class Account implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 244669855912873613L;\r\n\t\r\n\t@DynamoDBAutoGeneratedKey\r\n\t@DynamoDBHashKey\r\n\tprivate String accountId;\r\n\tprivate String documentTypeId;\r\n\tprivate String accountName;\r\n\tprivate Long isActive;\r\n\tprivate Long isBill;\r\n\r\n\tpublic String getAccountId() {\r\n\t\treturn accountId;\r\n\t}\r\n\r\n\tpublic void setAccountId(String accountId) {\r\n\t\tthis.accountId = accountId;\r\n\t}\r\n\r\n\tpublic String getDocumentTypeId() {\r\n\t\treturn documentTypeId;\r\n\t}\r\n\r\n\tpublic void setDocumentTypeId(String documentTypeId) {\r\n\t\tthis.documentTypeId = documentTypeId;\r\n\t}\r\n\r\n\tpublic String getAccountName() {\r\n\t\treturn accountName;\r\n\t}\r\n\r\n\tpublic void setAccountName(String accountName) {\r\n\t\tthis.accountName = accountName;\r\n\t}\r\n\r\n\tpublic Long getIsActive() {\r\n\t\treturn isActive;\r\n\t}\r\n\r\n\tpublic void setIsActive(Long isActive) {\r\n\t\tthis.isActive = isActive;\r\n\t}\r\n\r\n\tpublic Long getIsBill() {\r\n\t\treturn isBill;\r\n\t}\r\n\r\n\tpublic void setIsBill(Long isBill) {\r\n\t\tthis.isBill = isBill;\r\n\t}\r\n\r\n    }\r\n\r\nError is occurred while deleting the record. How to delete the record in amazon dynamodb using java.\r\n\r\n    com.amazonaws.AmazonServiceException: The provided key element does not match the schema (Service: AmazonDynamoDBv2; Status Code: 400; Error Code: ValidationException; Request ID: NR1SVIM98PVPFNHUOL49EI4JPFVV4KQNSO5AEMVJF66Q9ASUAAJG)\r\n    10:02:18,739 ERROR [AccountRepository] deleteAccountByAccountId Error:The provided key element does not match the schema (Service: AmazonDynamoDBv2; Status Code: 400; Error Code: ValidationException; Request ID: NR1SVIM98PVPFNHUOL49EI4JPFVV4KQNSO5AEMVJF66Q9ASUAAJG)\r\n    10:02:18,739 DEBUG [AccountController] --------------deleteAccountByAccountId----------------END------------------\r\n    \tat com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1077)\r\n    \tat com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:725)\r\n    \tat com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:460)\r\n    \tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:295)\r\n    \tat com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.invoke(AmazonDynamoDBClient.java:3106)\r\n    \tat com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.deleteItem(AmazonDynamoDBClient.java:967)\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.delete(DynamoDBMapper.java:1364)\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.delete(DynamoDBMapper.java:1272)\r\n    \tat com.account.dao.AccountRepository.deleteAccountByAccountId(AccountRepository.java:110)\r\n    \tat com.account.service.AccountService.deleteAccountByAccountId(AccountService.java:40)\r\n    \tat com.account.controller.AccountController.deleteAccountByAccountId(AccountController.java:62)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:781)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:721)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:943)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:877)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:868)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n","title":"How to delete record using primarykey in dynamodb","body":"<p>I get the record using primarykey id in amazon dynamodb using java. </p>\n\n<p><strong>AccountController.java</strong></p>\n\n<pre><code>package com.dynamodb.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport com.account.json.AccountJson;\nimport com.account.service.AccountService;\n\n@Controller\npublic class AccountController extends AbstractServiceController {\n\n@Autowired\nprivate AccountService accountService;\n\n@RequestMapping(value = \"/deleteAccountByAccountId\", method = RequestMethod.POST)\npublic @ResponseBody String deleteAccountByAccountId(@RequestBody AccountJson accountJson) {\n    try {\n        Boolean bool = accountService.deleteAccountByAccountId(accountJson.getAccountId());\n        if (bool) {\n            return \"Record deleted Successfully\";\n        } else {\n            return \"Record not deleted\";\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n        return e.getMessage();\n    }\n}\n}\n</code></pre>\n\n<p><strong>AccountService.java</strong></p>\n\n<pre><code>package com.account.service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.account.dao.AccountRepository;\n\n@Service\npublic class AccountService {\n\n@Autowired\nprivate AccountRepository accountRepository;\n\npublic Boolean deleteAccountByAccountId(String accountId) {\n    return accountRepository.deleteAccountByAccountId(accountId);\n}\n\n}\n</code></pre>\n\n<p><strong>AccountRepository.java</strong></p>\n\n<pre><code>package com.account.dao;\n\nimport java.util.List;\n\nimport org.springframework.stereotype.Repository;\n\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBScanExpression;\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue;\nimport com.amazonaws.services.dynamodbv2.model.ComparisonOperator;\nimport com.amazonaws.services.dynamodbv2.model.Condition;\nimport com.account.datastore.Account;\n\n@Repository\npublic class AccountRepository extends BaseRepository {\n\npublic Account getAccountByAccountId(String accountId) {\n    Account account = null;\n    try {\n        DynamoDBMapper mapper = getDynameDbMapper();\n        DynamoDBScanExpression scanExpression = new DynamoDBScanExpression();\n        scanExpression.addFilterCondition(\"accountId\", new Condition().withComparisonOperator(ComparisonOperator.EQ).withAttributeValueList(new AttributeValue().withS(accountId)));\n        List&lt;Account&gt; accounts = mapper.scan(Account.class, scanExpression);\n        if (accounts != null &amp;&amp; accounts.size() &gt; 0) {\n            account = accounts.get(0);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return account;\n}\n\npublic Boolean deleteAccountByAccountId(String accountId) {\n    try {\n        Account account = getAccountByAccountId(accountId);\n        if (account != null) {\n            DynamoDBMapper mapper = getDynameDbMapper();\n            mapper.delete(account);\n        } else {\n            return false;\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n        return false;\n    }\n    return true;\n}\n\n}\n</code></pre>\n\n<p><strong>Account.java</strong></p>\n\n<pre><code>package com.account.datastore;\n\nimport java.io.Serializable;\n\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAutoGeneratedKey;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;\n\n@DynamoDBTable(tableName = \"cd_accounts\")\npublic class Account implements Serializable {\n\nprivate static final long serialVersionUID = 244669855912873613L;\n\n@DynamoDBAutoGeneratedKey\n@DynamoDBHashKey\nprivate String accountId;\nprivate String documentTypeId;\nprivate String accountName;\nprivate Long isActive;\nprivate Long isBill;\n\npublic String getAccountId() {\n    return accountId;\n}\n\npublic void setAccountId(String accountId) {\n    this.accountId = accountId;\n}\n\npublic String getDocumentTypeId() {\n    return documentTypeId;\n}\n\npublic void setDocumentTypeId(String documentTypeId) {\n    this.documentTypeId = documentTypeId;\n}\n\npublic String getAccountName() {\n    return accountName;\n}\n\npublic void setAccountName(String accountName) {\n    this.accountName = accountName;\n}\n\npublic Long getIsActive() {\n    return isActive;\n}\n\npublic void setIsActive(Long isActive) {\n    this.isActive = isActive;\n}\n\npublic Long getIsBill() {\n    return isBill;\n}\n\npublic void setIsBill(Long isBill) {\n    this.isBill = isBill;\n}\n\n}\n</code></pre>\n\n<p>Error is occurred while deleting the record. How to delete the record in amazon dynamodb using java.</p>\n\n<pre><code>com.amazonaws.AmazonServiceException: The provided key element does not match the schema (Service: AmazonDynamoDBv2; Status Code: 400; Error Code: ValidationException; Request ID: NR1SVIM98PVPFNHUOL49EI4JPFVV4KQNSO5AEMVJF66Q9ASUAAJG)\n10:02:18,739 ERROR [AccountRepository] deleteAccountByAccountId Error:The provided key element does not match the schema (Service: AmazonDynamoDBv2; Status Code: 400; Error Code: ValidationException; Request ID: NR1SVIM98PVPFNHUOL49EI4JPFVV4KQNSO5AEMVJF66Q9ASUAAJG)\n10:02:18,739 DEBUG [AccountController] --------------deleteAccountByAccountId----------------END------------------\n    at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1077)\n    at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:725)\n    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:460)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:295)\n    at com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.invoke(AmazonDynamoDBClient.java:3106)\n    at com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.deleteItem(AmazonDynamoDBClient.java:967)\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.delete(DynamoDBMapper.java:1364)\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.delete(DynamoDBMapper.java:1272)\n    at com.account.dao.AccountRepository.deleteAccountByAccountId(AccountRepository.java:110)\n    at com.account.service.AccountService.deleteAccountByAccountId(AccountService.java:40)\n    at com.account.controller.AccountController.deleteAccountByAccountId(AccountController.java:62)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:781)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:721)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:877)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:868)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","nosql"],"answers":[{"comments":[{"owner":{"account_id":3042165,"reputation":523,"user_id":2578889,"accept_rate":12,"display_name":"dushyantashu"},"score":0,"creation_date":1438064214,"post_id":31665405,"comment_id":51280679,"body_markdown":"Okay, I was looking for a way to extract only those items according to my condition, rather than getting all Items and then filtering out on my conditions.","body":"Okay, I was looking for a way to extract only those items according to my condition, rather than getting all Items and then filtering out on my conditions."},{"owner":{"account_id":414294,"reputation":6451,"user_id":788433,"display_name":"JaredHatfield"},"score":0,"creation_date":1438086612,"post_id":31665405,"comment_id":51294629,"body_markdown":"If your condition is only on the range key that is possible using a different method, but without the specifics what I described above is exactly what you are asking for.","body":"If your condition is only on the range key that is possible using a different method, but without the specifics what I described above is exactly what you are asking for."}],"tags":[],"owner":{"account_id":414294,"reputation":6451,"user_id":788433,"display_name":"JaredHatfield"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438042120,"creation_date":1438042120,"answer_id":31665405,"question_id":31657197,"body_markdown":"Yes, you can ask DynamoDB to perform [filtering of queries][1] before it returns results.  However, you will still incur the &#39;cost&#39; of reading these items even though they are not returned to your client.  This is still a good practice as it will eliminate unnecessary transfer of items over the network.\r\n\r\nTo do this you will call additional methods on your DynamoDBQueryExpression object, specifically [withFilterExpression][2] and [addExpressionAttributeNamesEntry][3] / [addExpressionAttributeValuesEntry][4] to complete the expression.\r\n\r\nWithout the specific example of what type of conditions you want to apply it is hard to give an example, but depending on how simple your condition you want to apply is you could contain it in just the withFilterExpression method.\r\n\r\n    DynamoDBQueryExpression&lt;MusicData&gt; queryExpression = new DynamoDBQueryExpression&lt;MusicData&gt;().withHashKeyValues(hashKey).withFilterExpression(&quot;foo &gt; 10&quot;);\r\n\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#FilteringResults\r\n  [2]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBQueryExpression.html#withFilterExpression(java.lang.String)\r\n  [3]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBQueryExpression.html#addExpressionAttributeNamesEntry(java.lang.String,%20java.lang.String)\r\n  [4]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBQueryExpression.html#addExpressionAttributeValuesEntry(java.lang.String,%20com.amazonaws.services.dynamodbv2.model.AttributeValue)","title":"Query in DynamoDB using Java API","body":"<p>Yes, you can ask DynamoDB to perform <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#FilteringResults\" rel=\"nofollow\">filtering of queries</a> before it returns results.  However, you will still incur the 'cost' of reading these items even though they are not returned to your client.  This is still a good practice as it will eliminate unnecessary transfer of items over the network.</p>\n\n<p>To do this you will call additional methods on your DynamoDBQueryExpression object, specifically <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBQueryExpression.html#withFilterExpression(java.lang.String)\" rel=\"nofollow\">withFilterExpression</a> and <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBQueryExpression.html#addExpressionAttributeNamesEntry(java.lang.String,%20java.lang.String)\" rel=\"nofollow\">addExpressionAttributeNamesEntry</a> / <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBQueryExpression.html#addExpressionAttributeValuesEntry(java.lang.String,%20com.amazonaws.services.dynamodbv2.model.AttributeValue)\" rel=\"nofollow\">addExpressionAttributeValuesEntry</a> to complete the expression.</p>\n\n<p>Without the specific example of what type of conditions you want to apply it is hard to give an example, but depending on how simple your condition you want to apply is you could contain it in just the withFilterExpression method.</p>\n\n<pre><code>DynamoDBQueryExpression&lt;MusicData&gt; queryExpression = new DynamoDBQueryExpression&lt;MusicData&gt;().withHashKeyValues(hashKey).withFilterExpression(\"foo &gt; 10\");\n</code></pre>\n"}],"owner":{"account_id":3042165,"reputation":523,"user_id":2578889,"accept_rate":12,"display_name":"dushyantashu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678608872,"creation_date":1438011081,"question_id":31657197,"body_markdown":"I need to implement a Query operation on DynamoDB. Right now I&#39;m doing it by giving the HashKey and then filtering out the results according to my conditions on non-key attributes. \r\n\r\nThis is what I&#39;m doing : \r\n\r\n    MusicData hashKey = new MusicData();\r\n    hashKey.setID(singer); \r\n    \r\n    DynamoDBQueryExpression&lt;MusicData&gt; queryExpression = new DynamoDBQueryExpression&lt;MusicData&gt;().withHashKeyValues(hashKey);\r\n    \r\n    List&lt;MusicData&gt; queryResult = mapper.query(MusicData.class, queryExpression);\r\n              \r\n    for (MusicData musicData : queryResult) {\r\n        if( my condtions ) {\r\n            do something;   \r\n        }\r\n    }\r\n\r\nWhat I&#39;m trying to do is to be able to do something like this : \r\n\r\n    MusicData hashKey = new MusicData();\r\n    hashKey.setID(singer); \r\n    hashKey.setAlbum(sampleAlbum);\r\n    hashKey.setSinger(duration);\r\n    \r\n    DynamoDBQueryExpression&lt;MusicData&gt; queryExpression = new DynamoDBQueryExpression&lt;MusicData&gt;().withHashKeyValues(hashKey);\r\n    \r\n    List&lt;MusicData&gt; queryResult = mapper.query(MusicData.class, queryExpression);\r\n              \r\n    for (MusicData musicData : queryResult) {\r\n        if( my condtions ) {\r\n            do something;   \r\n        }\r\n    }\r\n\r\nAnd get results already filtered out. Is there a way to do this in DynamoDB?","title":"Query in DynamoDB using Java API","body":"<p>I need to implement a Query operation on DynamoDB. Right now I'm doing it by giving the HashKey and then filtering out the results according to my conditions on non-key attributes. </p>\n\n<p>This is what I'm doing : </p>\n\n<pre><code>MusicData hashKey = new MusicData();\nhashKey.setID(singer); \n\nDynamoDBQueryExpression&lt;MusicData&gt; queryExpression = new DynamoDBQueryExpression&lt;MusicData&gt;().withHashKeyValues(hashKey);\n\nList&lt;MusicData&gt; queryResult = mapper.query(MusicData.class, queryExpression);\n\nfor (MusicData musicData : queryResult) {\n    if( my condtions ) {\n        do something;   \n    }\n}\n</code></pre>\n\n<p>What I'm trying to do is to be able to do something like this : </p>\n\n<pre><code>MusicData hashKey = new MusicData();\nhashKey.setID(singer); \nhashKey.setAlbum(sampleAlbum);\nhashKey.setSinger(duration);\n\nDynamoDBQueryExpression&lt;MusicData&gt; queryExpression = new DynamoDBQueryExpression&lt;MusicData&gt;().withHashKeyValues(hashKey);\n\nList&lt;MusicData&gt; queryResult = mapper.query(MusicData.class, queryExpression);\n\nfor (MusicData musicData : queryResult) {\n    if( my condtions ) {\n        do something;   \n    }\n}\n</code></pre>\n\n<p>And get results already filtered out. Is there a way to do this in DynamoDB?</p>\n"},{"tags":["java","amazon-web-services"],"answers":[{"tags":[],"owner":{"account_id":2530698,"reputation":4240,"user_id":2199059,"accept_rate":34,"display_name":"Vivek Sadh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483527158,"creation_date":1483527158,"answer_id":41462055,"question_id":41461345,"body_markdown":"I got the reason from the Amazon documentation. Its because Amazon updates the list once in a day and it takes some time to show up there.","title":"Unable to see Archives on Amazon","body":"<p>I got the reason from the Amazon documentation. Its because Amazon updates the list once in a day and it takes some time to show up there.</p>\n"}],"owner":{"account_id":2530698,"reputation":4240,"user_id":2199059,"accept_rate":34,"display_name":"Vivek Sadh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678608827,"creation_date":1483525055,"question_id":41461345,"body_markdown":"    BasicAWSCredentials awsCreds = new BasicAWSCredentials(&quot;...&quot;, &quot;...&quot;);\r\n    \r\n        client = new AmazonGlacierClient(awsCreds);\r\n    \r\n        client.setEndpoint(&quot;https://glacier.us-east-1.amazonaws.com/&quot;);\r\n    \r\n        try {\r\n            ArchiveTransferManager atm = new ArchiveTransferManager(client, awsCreds);\r\n    \r\n            UploadResult result = atm.upload(vaultName, &quot;my archive2&quot; + (new Date()), new File(archiveToUpload));\r\n            System.out.println(&quot;Archive ID: &quot; + result.getArchiveId());\r\n    \r\n        } catch (Exception e)\r\n        {\r\n            System.err.println(e);\r\n        }\r\n\r\n\r\nI got the archive ID generated in response but not able to see file that I uploaded at  https://console.aws.amazon.com/glacier/home?region=us-east-1#/vaults","title":"Unable to see Archives on Amazon","body":"<pre><code>BasicAWSCredentials awsCreds = new BasicAWSCredentials(\"...\", \"...\");\n\n    client = new AmazonGlacierClient(awsCreds);\n\n    client.setEndpoint(\"https://glacier.us-east-1.amazonaws.com/\");\n\n    try {\n        ArchiveTransferManager atm = new ArchiveTransferManager(client, awsCreds);\n\n        UploadResult result = atm.upload(vaultName, \"my archive2\" + (new Date()), new File(archiveToUpload));\n        System.out.println(\"Archive ID: \" + result.getArchiveId());\n\n    } catch (Exception e)\n    {\n        System.err.println(e);\n    }\n</code></pre>\n\n<p>I got the archive ID generated in response but not able to see file that I uploaded at  <a href=\"https://console.aws.amazon.com/glacier/home?region=us-east-1#/vaults\" rel=\"nofollow noreferrer\">https://console.aws.amazon.com/glacier/home?region=us-east-1#/vaults</a></p>\n"},{"tags":["java","amazon-web-services","deployment","playframework","war"],"comments":[{"owner":{"account_id":28851,"reputation":29373,"user_id":77409,"accept_rate":100,"display_name":"James Ward"},"score":0,"creation_date":1359701742,"post_id":14637670,"comment_id":20454798,"body_markdown":"What does &quot;I would prefer a .war since I want traffic from all sources to be able to run the app, not just on port 9000.&quot; mean?  War files and ports are unrelated.","body":"What does &quot;I would prefer a .war since I want traffic from all sources to be able to run the app, not just on port 9000.&quot; mean?  War files and ports are unrelated."},{"owner":{"account_id":20530,"reputation":263492,"user_id":49153,"accept_rate":91,"display_name":"Ali"},"score":0,"creation_date":1359757749,"post_id":14637670,"comment_id":20481237,"body_markdown":"@JamesWard Sorry, I meant that I wanted anyone coming to the website to be able to access the app, and not just on port 9000. But that&#39;s not a problem, I&#39;ve discovered that running the app via `stage` or `start` will take care of that, so that should be good to go. Now I just want to know how to deply / run on amazon.","body":"@JamesWard Sorry, I meant that I wanted anyone coming to the website to be able to access the app, and not just on port 9000. But that&#39;s not a problem, I&#39;ve discovered that running the app via <code>stage</code> or <code>start</code> will take care of that, so that should be good to go. Now I just want to know how to deply / run on amazon."}],"answers":[{"tags":[],"owner":{"account_id":36812,"reputation":3352,"user_id":105085,"accept_rate":67,"display_name":"palako"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359713324,"creation_date":1359713324,"answer_id":14643885,"question_id":14637670,"body_markdown":"You&#39;ve got quite few concepts mixed there.\r\n\r\nThe Port the app listens to is 9000 by default but you can change it in application.conf to whatever you want, or even have different ports configured for dev/test/production,... This has nothing to do with war or no war deployment.\r\n\r\nTraffic from all sources to be able to run the app, if you mean where the traffic comes from, that&#39;s the source port, not the port where your server runs. The only thing I can make sense of there is that you might be thinking about people behind firewalls or proxy&#39;s that can typically only access ports 80 or 8080. But as said before, you can listen at whatever port you want. \r\n\r\nYou might also be referring to port 9000 being firewalled by default in AWS, but again this is something you can set up.\r\n\r\nIn any case, the answer to the original question is yes, you can create a war and instead of installing Play you can install Tomcat/Jboss/... and deploy it there, but is not related to any of your concerns, so probably just go with Play standalone and save yourself a bunch of problems.","title":"How to deploy a Play framework project to Amazon?","body":"<p>You've got quite few concepts mixed there.</p>\n\n<p>The Port the app listens to is 9000 by default but you can change it in application.conf to whatever you want, or even have different ports configured for dev/test/production,... This has nothing to do with war or no war deployment.</p>\n\n<p>Traffic from all sources to be able to run the app, if you mean where the traffic comes from, that's the source port, not the port where your server runs. The only thing I can make sense of there is that you might be thinking about people behind firewalls or proxy's that can typically only access ports 80 or 8080. But as said before, you can listen at whatever port you want. </p>\n\n<p>You might also be referring to port 9000 being firewalled by default in AWS, but again this is something you can set up.</p>\n\n<p>In any case, the answer to the original question is yes, you can create a war and instead of installing Play you can install Tomcat/Jboss/... and deploy it there, but is not related to any of your concerns, so probably just go with Play standalone and save yourself a bunch of problems.</p>\n"},{"tags":[],"owner":{"account_id":921631,"reputation":1105,"user_id":953241,"display_name":"nylund"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1379403965,"creation_date":1359797212,"answer_id":14660455,"question_id":14637670,"body_markdown":"Read this for play 1.x, http://www.playframework.org/documentation/1.2.5/production\r\nand this for 2.x, http://www.playframework.org/documentation/2.0.4/Production\r\n\r\nFor easier deployment over SSH you may want to look at, https://github.com/nylund/play-deploy/blob/master/documentation/manual/home.textile (disclaimer I wrote the plugin).\r\n","title":"How to deploy a Play framework project to Amazon?","body":"<p>Read this for play 1.x, <a href=\"http://www.playframework.org/documentation/1.2.5/production\" rel=\"nofollow\">http://www.playframework.org/documentation/1.2.5/production</a>\nand this for 2.x, <a href=\"http://www.playframework.org/documentation/2.0.4/Production\" rel=\"nofollow\">http://www.playframework.org/documentation/2.0.4/Production</a></p>\n\n<p>For easier deployment over SSH you may want to look at, <a href=\"https://github.com/nylund/play-deploy/blob/master/documentation/manual/home.textile\" rel=\"nofollow\">https://github.com/nylund/play-deploy/blob/master/documentation/manual/home.textile</a> (disclaimer I wrote the plugin).</p>\n"}],"owner":{"account_id":20530,"reputation":263492,"user_id":49153,"accept_rate":91,"display_name":"Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14660455,"answer_count":2,"score":2,"last_activity_date":1678608808,"creation_date":1359678208,"question_id":14637670,"body_markdown":"Is it possible to create a .war of a project running on Play, so that it can be easily deployed on Amazon? Or is it necessary to install play on the server itself where the app will be run? \r\n\r\n\r\nI would prefer a .war since I want traffic from all sources to be able to run the app, not just on port 9000.","title":"How to deploy a Play framework project to Amazon?","body":"<p>Is it possible to create a .war of a project running on Play, so that it can be easily deployed on Amazon? Or is it necessary to install play on the server itself where the app will be run? </p>\n\n<p>I would prefer a .war since I want traffic from all sources to be able to run the app, not just on port 9000.</p>\n"},{"tags":["java","amazon-web-services","glassfish"],"answers":[{"comments":[{"owner":{"account_id":8443493,"reputation":184,"user_id":6335099,"accept_rate":100,"display_name":"Marcel Caferati"},"score":0,"creation_date":1487003166,"post_id":42208689,"comment_id":71578795,"body_markdown":"That is exactly what I am trying to do. My project doesn&#39;t have a domain.xml, how can I generate one? I am using netbeans. Or can I just create a &quot;domain.xml&quot; under web-inf and paste it there?","body":"That is exactly what I am trying to do. My project doesn&#39;t have a domain.xml, how can I generate one? I am using netbeans. Or can I just create a &quot;domain.xml&quot; under web-inf and paste it there?"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1487003403,"post_id":42208689,"comment_id":71578953,"body_markdown":"I haven&#39;t used Glassfish in years, but I think the `domain.xml` file is a server configuration file, not a project file. You would need to SSH into your EC2 server(s) and update the file there. Also see my update to an alternate way to set this.","body":"I haven&#39;t used Glassfish in years, but I think the <code>domain.xml</code> file is a server configuration file, not a project file. You would need to SSH into your EC2 server(s) and update the file there. Also see my update to an alternate way to set this."},{"owner":{"account_id":8443493,"reputation":184,"user_id":6335099,"accept_rate":100,"display_name":"Marcel Caferati"},"score":0,"creation_date":1487003562,"post_id":42208689,"comment_id":71579049,"body_markdown":"Thanks, will try that, one more question, after I manage to change the domain.xml I still need that piece of code on web.conf I posted originally?","body":"Thanks, will try that, one more question, after I manage to change the domain.xml I still need that piece of code on web.conf I posted originally?"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1487003633,"post_id":42208689,"comment_id":71579105,"body_markdown":"Yes, the update just tells Glassfish how to determine if the client is connected via HTTPS. You still have to have your previous configuration change to tell Glassfish that HTTPS is a requirement.","body":"Yes, the update just tells Glassfish how to determine if the client is connected via HTTPS. You still have to have your previous configuration change to tell Glassfish that HTTPS is a requirement."},{"owner":{"account_id":8443493,"reputation":184,"user_id":6335099,"accept_rate":100,"display_name":"Marcel Caferati"},"score":0,"creation_date":1487004848,"post_id":42208689,"comment_id":71579872,"body_markdown":"Thank you, that looks like to be it, too bad apparently I don&#39;t have an associated key par to my instance, and wont be able to log in via ssh. Guess I will wait till I have the time to drop that instance and create a new one. Thanks, that helped a lot","body":"Thank you, that looks like to be it, too bad apparently I don&#39;t have an associated key par to my instance, and wont be able to log in via ssh. Guess I will wait till I have the time to drop that instance and create a new one. Thanks, that helped a lot"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1487005367,"post_id":42208689,"comment_id":71580176,"body_markdown":"I&#39;m curious how you deployed your project to Glassfish on the server if you don&#39;t have an SSH key. Are you using Elastic Beanstalk? If so you should configure a container command in your Beanstalk config to run the `asadmin` command.","body":"I&#39;m curious how you deployed your project to Glassfish on the server if you don&#39;t have an SSH key. Are you using Elastic Beanstalk? If so you should configure a container command in your Beanstalk config to run the <code>asadmin</code> command."},{"owner":{"account_id":8443493,"reputation":184,"user_id":6335099,"accept_rate":100,"display_name":"Marcel Caferati"},"score":0,"creation_date":1487005675,"post_id":42208689,"comment_id":71580353,"body_markdown":"yes, I have been using elastik beanstalk, will try and find more info on the container command, thank you again, if I find how to do that it will save me a good amount of time :)","body":"yes, I have been using elastik beanstalk, will try and find more info on the container command, thank you again, if I find how to do that it will save me a good amount of time :)"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1487005949,"post_id":42208689,"comment_id":71580522,"body_markdown":"Yeah you need to do it via the container command instead of SSH anyway, as Elastic Beanstalk will automatically create and delete servers for you based on application load, and it needs to be configured to automatically set that value whenever it creates a new server.","body":"Yeah you need to do it via the container command instead of SSH anyway, as Elastic Beanstalk will automatically create and delete servers for you based on application load, and it needs to be configured to automatically set that value whenever it creates a new server."},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1487005993,"post_id":42208689,"comment_id":71580546,"body_markdown":"It&#39;s still handy to be able to SSH into Elastic Beanstalk servers, to watch logs and debug issues. You shouldn&#39;t make changes to an EB server via SSH though.","body":"It&#39;s still handy to be able to SSH into Elastic Beanstalk servers, to watch logs and debug issues. You shouldn&#39;t make changes to an EB server via SSH though."},{"owner":{"account_id":8443493,"reputation":184,"user_id":6335099,"accept_rate":100,"display_name":"Marcel Caferati"},"score":0,"creation_date":1487006146,"post_id":42208689,"comment_id":71580636,"body_markdown":"Yea, I will try get access anyways, but can you get me some directions on how to set those commands via container? Can&#39;t find much information about it on the web","body":"Yea, I will try get access anyways, but can you get me some directions on how to set those commands via container? Can&#39;t find much information about it on the web"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1487006314,"post_id":42208689,"comment_id":71580724,"body_markdown":"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/customize-containers-ec2.html#linux-container-commands","body":"<a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/customize-containers-ec2.html#linux-container-commands\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/elasticbeanstalk/latest/dg/&hellip;</a>"},{"owner":{"account_id":8443493,"reputation":184,"user_id":6335099,"accept_rate":100,"display_name":"Marcel Caferati"},"score":0,"creation_date":1487006544,"post_id":42208689,"comment_id":71580847,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/135614/discussion-between-marcel-caferati-and-mark-b).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/135614/discussion-between-marcel-caferati-and-mark-b\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"comment_count":12,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1487003401,"creation_date":1487002631,"answer_id":42208689,"question_id":42208594,"body_markdown":"I assume you are running Glassfish behind a load balancer on AWS, and SSL termination is happening at the load balancer. \r\n\r\nYou need to configure Glassfish to check the `x-forwarded-proto` header to determine if the client is connecting via HTTP or HTTPS. You can do this via the scheme-mapping parameter in your `domain.xml` file:\r\n\r\n    &lt;http default-virtual-server=&quot;server&quot;\r\n          max-connections=&quot;100&quot;\r\n          scheme-mapping=&quot;X-Forwarded-Proto&quot;&gt;\r\n\r\nAlternatively, you can run this command on the server to set the `scheme-mapping` value:\r\n\r\n    asadmin set server.network-config.protocols.protocol.http-listener-1.http.scheme-mapping=X-Forwarded-Proto","title":"How to redirect all HTTP request to HTTPS on glassfish","body":"<p>I assume you are running Glassfish behind a load balancer on AWS, and SSL termination is happening at the load balancer. </p>\n\n<p>You need to configure Glassfish to check the <code>x-forwarded-proto</code> header to determine if the client is connecting via HTTP or HTTPS. You can do this via the scheme-mapping parameter in your <code>domain.xml</code> file:</p>\n\n<pre><code>&lt;http default-virtual-server=\"server\"\n      max-connections=\"100\"\n      scheme-mapping=\"X-Forwarded-Proto\"&gt;\n</code></pre>\n\n<p>Alternatively, you can run this command on the server to set the <code>scheme-mapping</code> value:</p>\n\n<pre><code>asadmin set server.network-config.protocols.protocol.http-listener-1.http.scheme-mapping=X-Forwarded-Proto\n</code></pre>\n"}],"owner":{"account_id":8443493,"reputation":184,"user_id":6335099,"accept_rate":100,"display_name":"Marcel Caferati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42208689,"answer_count":1,"score":0,"last_activity_date":1678608793,"creation_date":1487002364,"question_id":42208594,"body_markdown":"I have tried putting the following on my web.conf\r\n\r\n    &lt;security-constraint&gt;\r\n        &lt;web-resource-collection&gt;\r\n            &lt;web-resource-name&gt;SecureResource&lt;/web-resource-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/web-resource-collection&gt;\r\n        &lt;user-data-constraint&gt;\r\n            &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n        &lt;/user-data-constraint&gt;\r\n    &lt;/security-constraint&gt;\r\n\r\nBut when I publish I get a &quot;Too many redirects&quot; on chrome.","title":"How to redirect all HTTP request to HTTPS on glassfish","body":"<p>I have tried putting the following on my web.conf</p>\n\n<pre><code>&lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n        &lt;web-resource-name&gt;SecureResource&lt;/web-resource-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;user-data-constraint&gt;\n        &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n    &lt;/user-data-constraint&gt;\n&lt;/security-constraint&gt;\n</code></pre>\n\n<p>But when I publish I get a \"Too many redirects\" on chrome.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","nosql"],"answers":[{"tags":[],"owner":{"account_id":327638,"reputation":6874,"user_id":650133,"accept_rate":75,"display_name":"yadutaf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353422701,"creation_date":1353422701,"answer_id":13475665,"question_id":13464560,"body_markdown":"I don&#39;t know Java SDK at all but, from a design point of view, may I suggest you a &quot;DynamoDBier&quot; approach ?\n\n### Table ``Post_MyApp``\n\n - article_id as ``hash_key``\n - title\n - ...\n\n### Table ``Comments_MyApp``\n\n - article_id as ``hash_key``\n - datetime as ``range_key``\n - text\n - ...\n\nThis allows you to get all comments for an article in a single ``Query`` and even to paginate using ``limit`` and ``ExclusiveStartKey``\n\nBy the way, I found excellent examples In DynamoDb documentation&#39;s appendix: http://docs.amazonwebservices.com/amazondynamodb/latest/developerguide/SampleTablesAndData.html","title":"One-to-many in DynamoDB with Java Object Persistence Model","body":"<p>I don't know Java SDK at all but, from a design point of view, may I suggest you a &quot;DynamoDBier&quot; approach ?</p>\n<h3>Table <code>Post_MyApp</code></h3>\n<ul>\n<li>article_id as <code>hash_key</code></li>\n<li>title</li>\n<li>...</li>\n</ul>\n<h3>Table <code>Comments_MyApp</code></h3>\n<ul>\n<li>article_id as <code>hash_key</code></li>\n<li>datetime as <code>range_key</code></li>\n<li>text</li>\n<li>...</li>\n</ul>\n<p>This allows you to get all comments for an article in a single <code>Query</code> and even to paginate using <code>limit</code> and <code>ExclusiveStartKey</code></p>\n<p>By the way, I found excellent examples In DynamoDb documentation's appendix: <a href=\"http://docs.amazonwebservices.com/amazondynamodb/latest/developerguide/SampleTablesAndData.html\" rel=\"nofollow noreferrer\">http://docs.amazonwebservices.com/amazondynamodb/latest/developerguide/SampleTablesAndData.html</a></p>\n"},{"tags":[],"owner":{"account_id":3542352,"reputation":4032,"user_id":2959100,"display_name":"Sony Kadavan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1392126781,"creation_date":1392126781,"answer_id":21703782,"question_id":13464560,"body_markdown":"One post to many comments. You just need the following tables:\r\n1. Post table: post-id (Hash Key), \r\n2. Comment table: post-id (Hash Key), comment-id (Range Key)\r\n\r\nTo get all the comment for a post, you query the comment table by just giving the HashKey (post-id).\r\n\r\nOn Java side, you will have 2 classes (Post, Comments) mapped with the Dynamo DB Mapper.\r\n\r\nDynamoDBMapper (AWS SDK for Java - 1.7.1) : http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodb/datamodeling/DynamoDBMapper.html\r\n\r\n","title":"One-to-many in DynamoDB with Java Object Persistence Model","body":"<p>One post to many comments. You just need the following tables:\n1. Post table: post-id (Hash Key), \n2. Comment table: post-id (Hash Key), comment-id (Range Key)</p>\n\n<p>To get all the comment for a post, you query the comment table by just giving the HashKey (post-id).</p>\n\n<p>On Java side, you will have 2 classes (Post, Comments) mapped with the Dynamo DB Mapper.</p>\n\n<p>DynamoDBMapper (AWS SDK for Java - 1.7.1) : <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodb/datamodeling/DynamoDBMapper.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodb/datamodeling/DynamoDBMapper.html</a></p>\n"}],"owner":{"account_id":974596,"reputation":33,"user_id":996288,"display_name":"Deivid Martins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2939,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1678608657,"creation_date":1353369551,"question_id":13464560,"body_markdown":"Is possible to create a relationship between two tables using DynamoDB Java Persistence Model?\r\n\r\nI have the follow relationship of One Post to Many Comments\r\n\r\n    @DynamoDBTable(tableName=&quot;Post_MyApp&quot;)\r\n    public class Post {\r\n\t\r\n\tprivate String id;\r\n\tprivate String title;\r\n\tprivate Set &lt;Comment&gt; comments;\r\n    //... Getters and setters and dynamo annotations\r\n    }\r\n\r\nI have a separated table of comments, that Comment is another dynamo table/entity.\r\nMy idea is create a table of post_comments like in SQL with all the comments of a post. This is the right way to do this with Dynamo or there is another way to do it better?","title":"One-to-many in DynamoDB with Java Object Persistence Model","body":"<p>Is possible to create a relationship between two tables using DynamoDB Java Persistence Model?</p>\n\n<p>I have the follow relationship of One Post to Many Comments</p>\n\n<pre><code>@DynamoDBTable(tableName=\"Post_MyApp\")\npublic class Post {\n\nprivate String id;\nprivate String title;\nprivate Set &lt;Comment&gt; comments;\n//... Getters and setters and dynamo annotations\n}\n</code></pre>\n\n<p>I have a separated table of comments, that Comment is another dynamo table/entity.\nMy idea is create a table of post_comments like in SQL with all the comments of a post. This is the right way to do this with Dynamo or there is another way to do it better?</p>\n"},{"tags":["java","android","amazon-web-services","nosql","mapper"],"answers":[{"comments":[{"owner":{"account_id":7255687,"reputation":146,"user_id":5534428,"accept_rate":0,"display_name":"Max"},"score":0,"creation_date":1455489197,"post_id":35398209,"comment_id":58499941,"body_markdown":"Im really sorry, But I didnt get it. Where should I add this line?","body":"Im really sorry, But I didnt get it. Where should I add this line?"}],"tags":[],"owner":{"account_id":1985087,"reputation":441,"user_id":1780554,"display_name":"Yair Harel"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455513484,"creation_date":1455485422,"answer_id":35398209,"question_id":35397698,"body_markdown":"Looks like this exception comes from here :\r\nhttps://github.com/Widen/aws-sdk-for-java/blob/master/src/main/java/com/amazonaws/services/dynamodb/datamodeling/DynamoDBMapper.java (line 291)\r\n\r\nIt means there is no default constructor to the class, is it possible that you defined non default constructor to phrase ? try to add \r\n\r\n    public Phrase(){}\r\n\r\nHope it helped.\r\n ","title":"DynamoDB NoSQL and Failed to instantiate new instance of class","body":"<p>Looks like this exception comes from here :\n<a href=\"https://github.com/Widen/aws-sdk-for-java/blob/master/src/main/java/com/amazonaws/services/dynamodb/datamodeling/DynamoDBMapper.java\" rel=\"nofollow\">https://github.com/Widen/aws-sdk-for-java/blob/master/src/main/java/com/amazonaws/services/dynamodb/datamodeling/DynamoDBMapper.java</a> (line 291)</p>\n\n<p>It means there is no default constructor to the class, is it possible that you defined non default constructor to phrase ? try to add </p>\n\n<pre><code>public Phrase(){}\n</code></pre>\n\n<p>Hope it helped.</p>\n"},{"tags":[],"owner":{"account_id":5057262,"reputation":41,"user_id":4060115,"display_name":"Prabhendu Pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461369793,"creation_date":1461369793,"answer_id":36805033,"question_id":35397698,"body_markdown":"I ran into the same issue.\r\nDynamoDBMapper creates a new instance of the class when try to access the table for the sake of marshalling.\r\ntry writing a constructor for your class.\r\nworked for me","title":"DynamoDB NoSQL and Failed to instantiate new instance of class","body":"<p>I ran into the same issue.\nDynamoDBMapper creates a new instance of the class when try to access the table for the sake of marshalling.\ntry writing a constructor for your class.\nworked for me</p>\n"},{"comments":[{"owner":{"account_id":9475630,"reputation":1,"user_id":7045079,"display_name":"Kohei Moroi"},"score":1,"creation_date":1476938091,"post_id":40143402,"comment_id":67560570,"body_markdown":"I&#39;m sorry the above way is not technically the solution.\nI could solve the issue when each table class is the static class.","body":"I&#39;m sorry the above way is not technically the solution. I could solve the issue when each table class is the static class."}],"tags":[],"owner":{"account_id":9475630,"reputation":1,"user_id":7045079,"display_name":"Kohei Moroi"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476921671,"creation_date":1476921671,"answer_id":40143402,"question_id":35397698,"body_markdown":"Each table class must be subclass in the parent class that manipulate each table class.","title":"DynamoDB NoSQL and Failed to instantiate new instance of class","body":"<p>Each table class must be subclass in the parent class that manipulate each table class.</p>\n"}],"owner":{"account_id":7255687,"reputation":146,"user_id":5534428,"accept_rate":0,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5537,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1678608655,"creation_date":1455482245,"question_id":35397698,"body_markdown":"Need some help with  AmazonDynamoDB (NoSQL) but I believe its a general error AmazonDynamoDB not related.\r\n\r\nHere is a class below to work with DB, talbe name=table and has 2 columns PhraseID(integer, key column) and phrase (string). \r\n\r\n     @DynamoDBTable(tableName = &quot;table&quot;)\r\n       public class Phrase {\r\n        private Integer PhraseID;\r\n        private String phrase;\r\n       \r\n        @DynamoDBHashKey(attributeName = &quot;phraseID&quot;)\r\n        public Integer getID()\r\n        { return PhraseID;  }\r\n\r\n        public void setID(Integer PhraseID) {\r\n            this.PhraseID = PhraseID;}\r\n\r\n        @DynamoDBAttribute(attributeName = &quot;phrase&quot;)\r\n        public String getPhrase()\r\n        { return phrase;     }\r\n\r\n        public void setPhrase(String phrase)\r\n        {  this.phrase = phrase;     }\r\n\r\n    }\r\n\r\nI have no problems writing/updating this table with mapper.save (phrase) via phrase.setID and etc  but not with reading/loading. I call this readDB by: new  readDB().execute(&quot;&quot;);\r\n \r\n    private class readDB extends AsyncTask&lt;String, Void, String&gt; {\r\n        @Override\r\n        protected String doInBackground(String... params)\r\n        {\r\n\r\n            AmazonDynamoDBClient ddbClient = new          AmazonDynamoDBClient(credentialsProvider); //sdk-ddb\r\n            DynamoDBMapper mapper = new DynamoDBMapper(ddbClient);\r\n            Phrase phrase = new Phrase();\r\n            int a=1;\r\n            mapper.load(Phrase.class, a);  //want to load a phrase from db with phraseID=1\r\n            return &quot;Executed&quot;;\r\n        }\r\n    }\r\n\r\nSo Im getting the error: &quot;com.amazonaws.services.dynamodb.datamodeling.DynamoDBMappingException: **Failed to instantiate new instance of class**&quot; and one more below **&quot;Main activity Phrase has no zero argument constructor&quot;**\r\n\r\nGoogling this error gives me an answer  that I &quot;need to create a default constructor to solve this exception&quot; but I dont really understand what exactly I need to do / change in my code.\r\nThank you!!","title":"DynamoDB NoSQL and Failed to instantiate new instance of class","body":"<p>Need some help with  AmazonDynamoDB (NoSQL) but I believe its a general error AmazonDynamoDB not related.</p>\n\n<p>Here is a class below to work with DB, talbe name=table and has 2 columns PhraseID(integer, key column) and phrase (string). </p>\n\n<pre><code> @DynamoDBTable(tableName = \"table\")\n   public class Phrase {\n    private Integer PhraseID;\n    private String phrase;\n\n    @DynamoDBHashKey(attributeName = \"phraseID\")\n    public Integer getID()\n    { return PhraseID;  }\n\n    public void setID(Integer PhraseID) {\n        this.PhraseID = PhraseID;}\n\n    @DynamoDBAttribute(attributeName = \"phrase\")\n    public String getPhrase()\n    { return phrase;     }\n\n    public void setPhrase(String phrase)\n    {  this.phrase = phrase;     }\n\n}\n</code></pre>\n\n<p>I have no problems writing/updating this table with mapper.save (phrase) via phrase.setID and etc  but not with reading/loading. I call this readDB by: new  readDB().execute(\"\");</p>\n\n<pre><code>private class readDB extends AsyncTask&lt;String, Void, String&gt; {\n    @Override\n    protected String doInBackground(String... params)\n    {\n\n        AmazonDynamoDBClient ddbClient = new          AmazonDynamoDBClient(credentialsProvider); //sdk-ddb\n        DynamoDBMapper mapper = new DynamoDBMapper(ddbClient);\n        Phrase phrase = new Phrase();\n        int a=1;\n        mapper.load(Phrase.class, a);  //want to load a phrase from db with phraseID=1\n        return \"Executed\";\n    }\n}\n</code></pre>\n\n<p>So Im getting the error: \"com.amazonaws.services.dynamodb.datamodeling.DynamoDBMappingException: <strong>Failed to instantiate new instance of class</strong>\" and one more below <strong>\"Main activity Phrase has no zero argument constructor\"</strong></p>\n\n<p>Googling this error gives me an answer  that I \"need to create a default constructor to solve this exception\" but I dont really understand what exactly I need to do / change in my code.\nThank you!!</p>\n"},{"tags":["javascript","java","amazon-web-services","google-drive-api"],"comments":[{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1401721582,"post_id":23446147,"comment_id":36982599,"body_markdown":"&quot;Doesn&#39;t work&quot; is not helpful.  Please describe what exactly doesn&#39;t work, what error messages you saw or what lead you to conclude it&#39;s not working, and what steps you tried to debug the issue yourself.","body":"&quot;Doesn&#39;t work&quot; is not helpful.  Please describe what exactly doesn&#39;t work, what error messages you saw or what lead you to conclude it&#39;s not working, and what steps you tried to debug the issue yourself."}],"answers":[{"tags":[],"owner":{"account_id":2183786,"reputation":147,"user_id":1932683,"display_name":"mblomdahl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1399135642,"creation_date":1399135642,"answer_id":23447224,"question_id":23446147,"body_markdown":"## Configuring Email Notification Intervals ##\r\n\r\nThe email notifications are configured as Google Apps Scripts triggers invoking the `priceEmail` function. They&#39;re randomly assigned when you initialize the spreadsheet (refer to the ``Start_Tracking`` implementation).\r\n\r\nTo configure email notifications manually – e.g. adding a second daily email –&#160;open the ``Copy of Amazon Price Tracker by ctrlq.org`` script associated with the spreadsheet (via the spreadsheet *Tools &gt; Script editor...* menu command). Then proceed to opening the triggers dialog (*Resources &gt; Current project&#39;s triggers* menu command) and add a new time-driven trigger for the `priceEmail` hook.\r\n\r\n\r\n## Script Errors ##\r\n\r\nBy default, the `priceEmail` function handles all errors silently. There&#39;s not much clue to what would cause the script to *not work 100% of the time*. If you&#39;d like to be notified of the errors, either remove the exception handling in the current implementation or update the `priceEmail` body.\r\n\r\nI&#39;d advice making the following modifications (again via the spreadsheet *Tools &gt; Script editor...* menu command):\r\n\r\n    function priceEmail() {\r\n  \r\n      var sheet, data, page, table=&quot;&quot;;\r\n  \r\n      sheet = SpreadsheetApp.getActiveSheet();\r\n      data  = sheet.getRange(2, 2, 21, 2).getValues();  // Note that the script will only look at the first 20 rows.\r\n      \r\n      try {\r\n        for (i in data) {      \r\n          if (data[i][0] !== &quot;&quot;) {\r\n            page = UrlFetchApp.fetch(\r\n              &quot;http://ctrlq.org/aws/lookup/&quot;, {\r\n                &quot;method&quot;: &quot;post&quot;, &quot;payload&quot;: {&quot;url&quot;:data[i][0]}\r\n              }).getContentText();\r\n            \r\n            table = table + tableRow(page);                \r\n          }     \r\n        }\r\n      } catch (e) {\r\n        Logger.log(e.toString());\r\n        // Following line inserted to include any error messages in your daily email(s).\r\n        table += &quot;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;Error:&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;&quot; + e + &quot; (url: \\&quot;&quot; + data[i][0] + &quot;\\&quot;)&lt;/td&gt;&lt;/tr&gt;&quot;;  \r\n      }\r\n      // ...\r\n","title":"Google Drive script doesn&#39;t work,","body":"<h2>Configuring Email Notification Intervals</h2>\n\n<p>The email notifications are configured as Google Apps Scripts triggers invoking the <code>priceEmail</code> function. They're randomly assigned when you initialize the spreadsheet (refer to the <code>Start_Tracking</code> implementation).</p>\n\n<p>To configure email notifications manually – e.g. adding a second daily email – open the <code>Copy of Amazon Price Tracker by ctrlq.org</code> script associated with the spreadsheet (via the spreadsheet <em>Tools > Script editor...</em> menu command). Then proceed to opening the triggers dialog (<em>Resources > Current project's triggers</em> menu command) and add a new time-driven trigger for the <code>priceEmail</code> hook.</p>\n\n<h2>Script Errors</h2>\n\n<p>By default, the <code>priceEmail</code> function handles all errors silently. There's not much clue to what would cause the script to <em>not work 100% of the time</em>. If you'd like to be notified of the errors, either remove the exception handling in the current implementation or update the <code>priceEmail</code> body.</p>\n\n<p>I'd advice making the following modifications (again via the spreadsheet <em>Tools > Script editor...</em> menu command):</p>\n\n<pre><code>function priceEmail() {\n\n  var sheet, data, page, table=\"\";\n\n  sheet = SpreadsheetApp.getActiveSheet();\n  data  = sheet.getRange(2, 2, 21, 2).getValues();  // Note that the script will only look at the first 20 rows.\n\n  try {\n    for (i in data) {      \n      if (data[i][0] !== \"\") {\n        page = UrlFetchApp.fetch(\n          \"http://ctrlq.org/aws/lookup/\", {\n            \"method\": \"post\", \"payload\": {\"url\":data[i][0]}\n          }).getContentText();\n\n        table = table + tableRow(page);                \n      }     \n    }\n  } catch (e) {\n    Logger.log(e.toString());\n    // Following line inserted to include any error messages in your daily email(s).\n    table += \"&lt;tr&gt;&lt;td&gt;&lt;strong&gt;Error:&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;\" + e + \" (url: \\\"\" + data[i][0] + \"\\\")&lt;/td&gt;&lt;/tr&gt;\";  \n  }\n  // ...\n</code></pre>\n"}],"owner":{"account_id":4350375,"reputation":331,"user_id":3550932,"display_name":"Ron.B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23447224,"answer_count":1,"score":1,"last_activity_date":1678608650,"creation_date":1399129750,"question_id":23446147,"body_markdown":"I found online google drive script that sends an email with the changes on the prices of Amazon products that I insert.\r\n[This is the file][1]\r\n\r\n\r\n  [1]: https://docs.google.com/spreadsheet/ccc?key=0Aofk8L6brI_edFc1cGpBQkhtRE1UYV9Dc0Y5akI4dEE&amp;newcopy=true\r\n\r\nI couldn&#39;t make it work for 100%.. It work sometimes only for some of the products, and I cant find the reason.\r\nPlease help me to understand what is wrong.\r\n\r\nAlso, I wanted to know if I could modify the script so it will send me an alert twice a day and not only once, as it is now.\r\n","title":"Google Drive script doesn&#39;t work,","body":"<p>I found online google drive script that sends an email with the changes on the prices of Amazon products that I insert.\n<a href=\"https://docs.google.com/spreadsheet/ccc?key=0Aofk8L6brI_edFc1cGpBQkhtRE1UYV9Dc0Y5akI4dEE&amp;newcopy=true\" rel=\"nofollow\">This is the file</a></p>\n\n<p>I couldn't make it work for 100%.. It work sometimes only for some of the products, and I cant find the reason.\nPlease help me to understand what is wrong.</p>\n\n<p>Also, I wanted to know if I could modify the script so it will send me an alert twice a day and not only once, as it is now.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","elasticsearch","amazon-elasticsearch"],"comments":[{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":1,"creation_date":1494956938,"post_id":44008267,"comment_id":75044696,"body_markdown":"can you call elasticsearch endpoint from local `curl -XGET 55.66.223.158:9200` from you local or not?","body":"can you call elasticsearch endpoint from local <code>curl -XGET 55.66.223.158:9200</code> from you local or not?"},{"owner":{"account_id":10604878,"reputation":555,"user_id":7810667,"accept_rate":33,"display_name":"Damien Gallagher"},"score":0,"creation_date":1494957440,"post_id":44008267,"comment_id":75045010,"body_markdown":"I can curl to port 80 but not port 9200 or port 9300","body":"I can curl to port 80 but not port 9200 or port 9300"},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":1,"creation_date":1494957575,"post_id":44008267,"comment_id":75045090,"body_markdown":"Does port 80 return elasticsearch info or simply http response? I mean what is the response of `curl -XGET 55.66.223.158:80`. I just wanted to make sure that elasticsearch on your remote machine runs on port 9200, and AWS has firewall open for that port.","body":"Does port 80 return elasticsearch info or simply http response? I mean what is the response of <code>curl -XGET 55.66.223.158:80</code>. I just wanted to make sure that elasticsearch on your remote machine runs on port 9200, and AWS has firewall open for that port."},{"owner":{"account_id":10604878,"reputation":555,"user_id":7810667,"accept_rate":33,"display_name":"Damien Gallagher"},"score":0,"creation_date":1494958386,"post_id":44008267,"comment_id":75045555,"body_markdown":"This is the response of curl on port 80 - {\n  &quot;name&quot; : &quot;Mimir&quot;,\n  &quot;cluster_name&quot; : &quot;&lt;my cluster name&gt;&quot;,\n  &quot;version&quot; : {\n    &quot;number&quot; : &quot;2.3.2&quot;,\n    &quot;build_hash&quot; : &quot;72aa8010df1a4fc849da359c9c58acba6c4d9518&quot;,\n    &quot;build_timestamp&quot; : &quot;2016-11-14T15:59:50Z&quot;,\n    &quot;build_snapshot&quot; : false,\n    &quot;lucene_version&quot; : &quot;5.5.0&quot;\n  },\n  &quot;tagline&quot; : &quot;You Know, for Search&quot;\n}","body":"This is the response of curl on port 80 - {   &quot;name&quot; : &quot;Mimir&quot;,   &quot;cluster_name&quot; : &quot;&lt;my cluster name&gt;&quot;,   &quot;version&quot; : {     &quot;number&quot; : &quot;2.3.2&quot;,     &quot;build_hash&quot; : &quot;72aa8010df1a4fc849da359c9c58acba6c4d9518&quot;,     &quot;build_timestamp&quot; : &quot;2016-11-14T15:59:50Z&quot;,     &quot;build_snapshot&quot; : false,     &quot;lucene_version&quot; : &quot;5.5.0&quot;   },   &quot;tagline&quot; : &quot;You Know, for Search&quot; }"},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":1,"creation_date":1494959089,"post_id":44008267,"comment_id":75046000,"body_markdown":"so its running on port 80, but you are connecting to 9200. change your config, `elasticsearch.port=80`. should work","body":"so its running on port 80, but you are connecting to 9200. change your config, <code>elasticsearch.port=80</code>. should work"},{"owner":{"account_id":10604878,"reputation":555,"user_id":7810667,"accept_rate":33,"display_name":"Damien Gallagher"},"score":0,"creation_date":1494959347,"post_id":44008267,"comment_id":75046145,"body_markdown":"that gives me this error - java.io.StreamCorruptedException: invalid internal transport message format, got (48,54,54,50)","body":"that gives me this error - java.io.StreamCorruptedException: invalid internal transport message format, got (48,54,54,50)"},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":0,"creation_date":1494961488,"post_id":44008267,"comment_id":75047354,"body_markdown":"There are few reasons why `StreamCorruptedException` happens. Can you check your java running on elasticsearch server and your local machine are same? - https://discuss.elastic.co/t/java-io-streamcorruptedexception-invalid-internal-transport-message-format-got-3-41-4d-52/25247/3","body":"There are few reasons why <code>StreamCorruptedException</code> happens. Can you check your java running on elasticsearch server and your local machine are same? - <a href=\"https://discuss.elastic.co/t/java-io-streamcorruptedexception-invalid-internal-transport-message-format-got-3-41-4d-52/25247/3\" rel=\"nofollow noreferrer\">discuss.elastic.co/t/&hellip;</a>"},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":0,"creation_date":1494961717,"post_id":44008267,"comment_id":75047472,"body_markdown":"The other reason would be port `80` is be equivalent to `9200` which is default port for http communication for elasticsearch. But there used to be port `9300` for TCP connection from api like Java. I am not what sure what port Amazon runs for tcp transportation. Please check AWS elasticsearch config for that - http://elasticsearch-users.115913.n3.nabble.com/Failing-starting-due-to-transport-layer-exception-td4033399.html","body":"The other reason would be port <code>80</code> is be equivalent to <code>9200</code> which is default port for http communication for elasticsearch. But there used to be port <code>9300</code> for TCP connection from api like Java. I am not what sure what port Amazon runs for tcp transportation. Please check AWS elasticsearch config for that - <a href=\"http://elasticsearch-users.115913.n3.nabble.com/Failing-starting-due-to-transport-layer-exception-td4033399.html\" rel=\"nofollow noreferrer\">elasticsearch-users.115913.n3.nabble.com/&hellip;</a>"},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":0,"creation_date":1494961869,"post_id":44008267,"comment_id":75047559,"body_markdown":"Nevermind it would be port 80 for TCP communication as well, as this [answer mentions](http://stackoverflow.com/a/33558330/432903). so check java versions are similar in server and client, BUT also make sure your clustername is right","body":"Nevermind it would be port 80 for TCP communication as well, as this <a href=\"http://stackoverflow.com/a/33558330/432903\">answer mentions</a>. so check java versions are similar in server and client, BUT also make sure your clustername is right"}],"answers":[{"tags":[],"owner":{"account_id":1484336,"reputation":2037,"user_id":1392894,"accept_rate":61,"display_name":"Brian Ecker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494965036,"creation_date":1494965036,"answer_id":44010622,"question_id":44008267,"body_markdown":"AWS Elasticsearch doesn&#39;t support TCP connections, only HTTP connections. This explains why your CURL commands work, but your java connection doesn&#39;t work. \r\n\r\n    TCP transport\r\n    The service supports HTTP on port 80, but does not support TCP transport.\r\n\r\nhttp://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/aes-supported-resources.html\r\n\r\nhttps://forums.aws.amazon.com/thread.jspa?messageID=683536","title":"Spring Boot Elastic Search And Not Able to Connect","body":"<p>AWS Elasticsearch doesn't support TCP connections, only HTTP connections. This explains why your CURL commands work, but your java connection doesn't work. </p>\n\n<pre><code>TCP transport\nThe service supports HTTP on port 80, but does not support TCP transport.\n</code></pre>\n\n<p><a href=\"http://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/aes-supported-resources.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/aes-supported-resources.html</a></p>\n\n<p><a href=\"https://forums.aws.amazon.com/thread.jspa?messageID=683536\" rel=\"nofollow noreferrer\">https://forums.aws.amazon.com/thread.jspa?messageID=683536</a></p>\n"},{"tags":[],"owner":{"account_id":1936670,"reputation":2894,"user_id":1743971,"display_name":"Yeshodhan Kulkarni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494970039,"creation_date":1494970039,"answer_id":44011868,"question_id":44008267,"body_markdown":"AWS Elasticsearch only works on port 80 using Rest API. The default transport API from elasticsearch does not work with Hosted AWS elasticsearch.\r\n\r\nI had to customize the [Jest client][1] to add additional hooks to sign every request.\r\n\r\nYou may want to refer to [this][2] post on Stack Overflow for more details on how to sign the HTTP request.\r\n\r\n\r\n  [1]: https://github.com/searchbox-io/Jest/tree/master/jest\r\n  [2]: https://stackoverflow.com/questions/33760144/signing-aws-http-requests-with-apache-httpcomponents-client/43550224#43550224","title":"Spring Boot Elastic Search And Not Able to Connect","body":"<p>AWS Elasticsearch only works on port 80 using Rest API. The default transport API from elasticsearch does not work with Hosted AWS elasticsearch.</p>\n\n<p>I had to customize the <a href=\"https://github.com/searchbox-io/Jest/tree/master/jest\" rel=\"nofollow noreferrer\">Jest client</a> to add additional hooks to sign every request.</p>\n\n<p>You may want to refer to <a href=\"https://stackoverflow.com/questions/33760144/signing-aws-http-requests-with-apache-httpcomponents-client/43550224#43550224\">this</a> post on Stack Overflow for more details on how to sign the HTTP request.</p>\n"},{"tags":[],"owner":{"account_id":2701929,"reputation":209,"user_id":2332478,"display_name":"Aniruddh Rathore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624526126,"creation_date":1570603129,"answer_id":58298359,"question_id":44008267,"body_markdown":"Use HOST: ip address of hosted AWS elasticsearch or path of hosted AWS es and PORT : 80\r\n\r\nEx:\r\n\r\n10.100.1.1 or xyz.abc.com","title":"Spring Boot Elastic Search And Not Able to Connect","body":"<p>Use HOST: ip address of hosted AWS elasticsearch or path of hosted AWS es and PORT : 80</p>\n<p>Ex:</p>\n<p>10.100.1.1 or xyz.abc.com</p>\n"}],"owner":{"account_id":10604878,"reputation":555,"user_id":7810667,"accept_rate":33,"display_name":"Damien Gallagher"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2016,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1678608634,"creation_date":1494956738,"question_id":44008267,"body_markdown":"I was following this tutorial on  the Mkyong site\r\nhttps://www.mkyong.com/spring-boot/spring-boot-spring-data-elasticsearch-example/\r\n\r\nIt uses the spring-boot-starter-data-elasticsearch library to connect to elasticSearch\r\n\r\nI was using the following details to try and connect to an elastic search instance on Amazon`\r\n\r\n    elasticsearch.host=&lt;search address in amazon elastic search console&gt;\r\n    elasticsearch.port=9200\r\n    elasticsearch.clustername=&lt;accountId:clusterName&gt;`\r\n\r\n\r\nHowever I keep getting the following errors\r\n\r\n   \r\n\r\n     2017-05-16 18:37:24.308  INFO 7108 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean &#39;elasticsearchTemplate&#39; with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=esConfig; factoryMethodName=elasticsearchTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/mkyong/EsConfig.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration; factoryMethodName=elasticsearchTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchDataAutoConfiguration.class]]\r\n    2017-05-16 18:37:24.859  INFO 7108 --- [           main] org.elasticsearch.plugins                : [Rawhide Kid] modules [], plugins [], sites []\r\n    2017-05-16 18:37:46.911  INFO 7108 --- [           main] org.elasticsearch.client.transport       : [Rawhide Kid] failed to connect to node [{#transport#-1}{55.66.223.158}{55.66.223.158:9200}], removed from nodes list\r\n    \r\n    org.elasticsearch.transport.ConnectTransportException: [][55.66.223.158:9200] connect_timeout[30s]\r\n    \tat org.elasticsearch.transport.netty.NettyTransport.connectToChannelsLight(NettyTransport.java:967) ~[elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat org.elasticsearch.transport.netty.NettyTransport.connectToNode(NettyTransport.java:933) ~[elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat org.elasticsearch.transport.netty.NettyTransport.connectToNodeLight(NettyTransport.java:906) ~[elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat org.elasticsearch.transport.TransportService.connectToNodeLight(TransportService.java:267) ~[elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat org.elasticsearch.client.transport.TransportClientNodesService$SimpleNodeSampler.doSample(TransportClientNodesService.java:390) ~[elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat org.elasticsearch.client.transport.TransportClientNodesService$NodeSampler.sample(TransportClientNodesService.java:336) [elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat org.elasticsearch.client.transport.TransportClientNodesService.addTransportAddresses(TransportClientNodesService.java:187) [elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat org.elasticsearch.client.transport.TransportClient.addTransportAddress(TransportClient.java:243) [elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat com.mkyong.EsConfig.client(EsConfig.java:45) [classes/:na]\r\n    \tat com.mkyong.EsConfig$$EnhancerBySpringCGLIB$$7e0ccfee.CGLIB$client$0(&lt;generated&gt;) [classes/:na]\r\n    \tat com.mkyong.EsConfig$$EnhancerBySpringCGLIB$$7e0ccfee$$FastClassBySpringCGLIB$$83a2b819.invoke(&lt;generated&gt;) [classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) [spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356) [spring-context-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n    \tat com.mkyong.EsConfig$$EnhancerBySpringCGLIB$$7e0ccfee.client(&lt;generated&gt;) [classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_65]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_65]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_65]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_65]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instant\r\n\r\nAny ideas what I need to do to connect to an elastic search instance on Amazon?\r\n\r\nThanks\r\nDamien","title":"Spring Boot Elastic Search And Not Able to Connect","body":"<p>I was following this tutorial on  the Mkyong site\n<a href=\"https://www.mkyong.com/spring-boot/spring-boot-spring-data-elasticsearch-example/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/spring-boot/spring-boot-spring-data-elasticsearch-example/</a></p>\n\n<p>It uses the spring-boot-starter-data-elasticsearch library to connect to elasticSearch</p>\n\n<p>I was using the following details to try and connect to an elastic search instance on Amazon`</p>\n\n<pre><code>elasticsearch.host=&lt;search address in amazon elastic search console&gt;\nelasticsearch.port=9200\nelasticsearch.clustername=&lt;accountId:clusterName&gt;`\n</code></pre>\n\n<p>However I keep getting the following errors</p>\n\n<pre><code> 2017-05-16 18:37:24.308  INFO 7108 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'elasticsearchTemplate' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=esConfig; factoryMethodName=elasticsearchTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/mkyong/EsConfig.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration; factoryMethodName=elasticsearchTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchDataAutoConfiguration.class]]\n2017-05-16 18:37:24.859  INFO 7108 --- [           main] org.elasticsearch.plugins                : [Rawhide Kid] modules [], plugins [], sites []\n2017-05-16 18:37:46.911  INFO 7108 --- [           main] org.elasticsearch.client.transport       : [Rawhide Kid] failed to connect to node [{#transport#-1}{55.66.223.158}{55.66.223.158:9200}], removed from nodes list\n\norg.elasticsearch.transport.ConnectTransportException: [][55.66.223.158:9200] connect_timeout[30s]\n    at org.elasticsearch.transport.netty.NettyTransport.connectToChannelsLight(NettyTransport.java:967) ~[elasticsearch-2.4.4.jar:2.4.4]\n    at org.elasticsearch.transport.netty.NettyTransport.connectToNode(NettyTransport.java:933) ~[elasticsearch-2.4.4.jar:2.4.4]\n    at org.elasticsearch.transport.netty.NettyTransport.connectToNodeLight(NettyTransport.java:906) ~[elasticsearch-2.4.4.jar:2.4.4]\n    at org.elasticsearch.transport.TransportService.connectToNodeLight(TransportService.java:267) ~[elasticsearch-2.4.4.jar:2.4.4]\n    at org.elasticsearch.client.transport.TransportClientNodesService$SimpleNodeSampler.doSample(TransportClientNodesService.java:390) ~[elasticsearch-2.4.4.jar:2.4.4]\n    at org.elasticsearch.client.transport.TransportClientNodesService$NodeSampler.sample(TransportClientNodesService.java:336) [elasticsearch-2.4.4.jar:2.4.4]\n    at org.elasticsearch.client.transport.TransportClientNodesService.addTransportAddresses(TransportClientNodesService.java:187) [elasticsearch-2.4.4.jar:2.4.4]\n    at org.elasticsearch.client.transport.TransportClient.addTransportAddress(TransportClient.java:243) [elasticsearch-2.4.4.jar:2.4.4]\n    at com.mkyong.EsConfig.client(EsConfig.java:45) [classes/:na]\n    at com.mkyong.EsConfig$$EnhancerBySpringCGLIB$$7e0ccfee.CGLIB$client$0(&lt;generated&gt;) [classes/:na]\n    at com.mkyong.EsConfig$$EnhancerBySpringCGLIB$$7e0ccfee$$FastClassBySpringCGLIB$$83a2b819.invoke(&lt;generated&gt;) [classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) [spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356) [spring-context-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at com.mkyong.EsConfig$$EnhancerBySpringCGLIB$$7e0ccfee.client(&lt;generated&gt;) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_65]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_65]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_65]\n    at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_65]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instant\n</code></pre>\n\n<p>Any ideas what I need to do to connect to an elastic search instance on Amazon?</p>\n\n<p>Thanks\nDamien</p>\n"},{"tags":["java","amazon-web-services","eclipse","api"],"answers":[{"tags":[],"owner":{"account_id":2565537,"reputation":21,"user_id":2225722,"display_name":"Harry H"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365213946,"creation_date":1365213946,"answer_id":15846236,"question_id":15730351,"body_markdown":"The line in my code:\r\n\r\n    Signature.calculateRFC2104HMAC(data, key);\r\n\r\nis missing a print statement to display the results. Changing it to\r\n\r\n    System.out.println(Signature.calculateRFC2104HMAC(data, key));\r\n\r\ngives me the result I was expecting.","title":"How do I sign a REST request for Amazon API using Java and Eclipse?","body":"<p>The line in my code:</p>\n\n<pre><code>Signature.calculateRFC2104HMAC(data, key);\n</code></pre>\n\n<p>is missing a print statement to display the results. Changing it to</p>\n\n<pre><code>System.out.println(Signature.calculateRFC2104HMAC(data, key));\n</code></pre>\n\n<p>gives me the result I was expecting.</p>\n"}],"owner":{"account_id":2565537,"reputation":21,"user_id":2225722,"display_name":"Harry H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1962,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678608621,"creation_date":1364739574,"question_id":15730351,"body_markdown":"Here is my dilemma. I&#39;m familiar with reading Java code, but no good at writing it. I have several examples from Amazon documentation, but I&#39;m doing something wrong. I&#39;m using Eclipse. I have the AWS Java SDK, Apache Commons Codec &amp; Logging, and Base64. I have all the code in the proper classpaths inside my project.\r\n\r\nI understand how to form the request (the order of elements, timestamp, etc.), but I don&#39;t know how to send this info to the java code to create the signed request. So I&#39;ll start with the code I am using from the documentation.\r\n\r\nCode for Signature:\r\n\r\n    import java.security.SignatureException;\r\n    import javax.crypto.Mac;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    \t/**\r\n    \t* This class defines common routines for generating\r\n    \t* authentication signatures for AWS requests.\r\n    \t*/\r\n    \tpublic class Signature {\r\n    \t\tprivate static final String HMAC_SHA1_ALGORITHM = &quot;HmacSHA1&quot;;\r\n    \t/**\r\n    \t* Computes RFC 2104-compliant HMAC signature.\r\n    \t* * @param data\r\n    \t* The data to be signed.\r\n    \t* @param key\r\n    \t* The signing key.\r\n    \t* @return\r\n    \t* The Base64-encoded RFC 2104-compliant HMAC signature.\r\n    \t* @throws\r\n    \t* java.security.SignatureException when signature generation fails\r\n    \t*/\r\n    \t\tpublic static String calculateRFC2104HMAC(String data, String key)\r\n    \t\t\t\tthrows java.security.SignatureException\r\n    \t\t{\r\n    \t\t\tString result;\r\n    \t\t\ttry {\r\n    \r\n    \t\t\t\t// get an hmac_sha1 key from the raw key bytes\r\n    \t\t\t\tSecretKeySpec signingKey = new SecretKeySpec(key.getBytes(), HMAC_SHA1_ALGORITHM);\r\n    \r\n    \t\t\t\t// get an hmac_sha1 Mac instance and initialize with the signing key\r\n    \t\t\t\tMac mac = Mac.getInstance(HMAC_SHA1_ALGORITHM);\r\n    \t\t\t\tmac.init(signingKey);\r\n    \r\n    \t\t\t\t// compute the hmac on input data bytes\r\n    \t\t\t\tbyte[] rawHmac = mac.doFinal(data.getBytes());\r\n    \r\n    \t\t\t\t// base64-encode the hmac\r\n    \t\t\t\tresult = Encoding.EncodeBase64(rawHmac);\r\n    \r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tthrow new SignatureException(&quot;Failed to generate HMAC : &quot; + e.getMessage());\r\n    \t\t\t}\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    }\r\n\r\nCode for Encoding:\r\n\r\n    /**\r\n    * This class defines common routines for encoding * data in AWS requests.\r\n    */\r\n    public class Encoding {\r\n    \t/**\r\n    \t* Performs base64-encoding of input bytes.\r\n    \t*\r\n    \t* @param rawData * Array of bytes to be encoded.\r\n    \t* @return * The base64 encoded string representation of rawData.\r\n    \t*/\r\n    \tpublic static String EncodeBase64(byte[] rawData) {\r\n    \t\treturn Base64.encodeBytes(rawData);\r\n    \t}\r\n    }\r\n\r\nCode I came up with to sign request:\r\n\r\n    import java.security.SignatureException;\r\n    \r\n    public class SignatureTest {\r\n    \t/**\r\n    \t * @param args\r\n    \t * @throws SignatureException\r\n    \t */\r\n    \tpublic static void main( String[] args ) throws SignatureException {\r\n    \t\t// data is the URL parameters and time stamp to be encoded\r\n    \t\tString data = &quot;&lt;data-to-encode&gt;&quot;;\r\n    \t\t// key is the secret key\r\n    \t\tString key = &quot;&lt;my-secret-key&gt;&quot;;\r\n    \t\tSignature.calculateRFC2104HMAC(data, key);\r\n    \t}\r\n    }\r\n\r\nAt first, I was getting errors related to classpath, so I added those to my project. Now when I run the code, I get no errors and no response, I just return to a command prompt. I know this is probably a simple solution. I&#39;ve spent a week trying to figure this out and have had no success finding any answers. Can someone point me in the right direction?\r\n\r\nNote: I didn&#39;t include the Base64 code here because of the size, but I do have that in my project.","title":"How do I sign a REST request for Amazon API using Java and Eclipse?","body":"<p>Here is my dilemma. I'm familiar with reading Java code, but no good at writing it. I have several examples from Amazon documentation, but I'm doing something wrong. I'm using Eclipse. I have the AWS Java SDK, Apache Commons Codec &amp; Logging, and Base64. I have all the code in the proper classpaths inside my project.</p>\n\n<p>I understand how to form the request (the order of elements, timestamp, etc.), but I don't know how to send this info to the java code to create the signed request. So I'll start with the code I am using from the documentation.</p>\n\n<p>Code for Signature:</p>\n\n<pre><code>import java.security.SignatureException;\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\n\n    /**\n    * This class defines common routines for generating\n    * authentication signatures for AWS requests.\n    */\n    public class Signature {\n        private static final String HMAC_SHA1_ALGORITHM = \"HmacSHA1\";\n    /**\n    * Computes RFC 2104-compliant HMAC signature.\n    * * @param data\n    * The data to be signed.\n    * @param key\n    * The signing key.\n    * @return\n    * The Base64-encoded RFC 2104-compliant HMAC signature.\n    * @throws\n    * java.security.SignatureException when signature generation fails\n    */\n        public static String calculateRFC2104HMAC(String data, String key)\n                throws java.security.SignatureException\n        {\n            String result;\n            try {\n\n                // get an hmac_sha1 key from the raw key bytes\n                SecretKeySpec signingKey = new SecretKeySpec(key.getBytes(), HMAC_SHA1_ALGORITHM);\n\n                // get an hmac_sha1 Mac instance and initialize with the signing key\n                Mac mac = Mac.getInstance(HMAC_SHA1_ALGORITHM);\n                mac.init(signingKey);\n\n                // compute the hmac on input data bytes\n                byte[] rawHmac = mac.doFinal(data.getBytes());\n\n                // base64-encode the hmac\n                result = Encoding.EncodeBase64(rawHmac);\n\n            } catch (Exception e) {\n                throw new SignatureException(\"Failed to generate HMAC : \" + e.getMessage());\n            }\n            return result;\n        }\n}\n</code></pre>\n\n<p>Code for Encoding:</p>\n\n<pre><code>/**\n* This class defines common routines for encoding * data in AWS requests.\n*/\npublic class Encoding {\n    /**\n    * Performs base64-encoding of input bytes.\n    *\n    * @param rawData * Array of bytes to be encoded.\n    * @return * The base64 encoded string representation of rawData.\n    */\n    public static String EncodeBase64(byte[] rawData) {\n        return Base64.encodeBytes(rawData);\n    }\n}\n</code></pre>\n\n<p>Code I came up with to sign request:</p>\n\n<pre><code>import java.security.SignatureException;\n\npublic class SignatureTest {\n    /**\n     * @param args\n     * @throws SignatureException\n     */\n    public static void main( String[] args ) throws SignatureException {\n        // data is the URL parameters and time stamp to be encoded\n        String data = \"&lt;data-to-encode&gt;\";\n        // key is the secret key\n        String key = \"&lt;my-secret-key&gt;\";\n        Signature.calculateRFC2104HMAC(data, key);\n    }\n}\n</code></pre>\n\n<p>At first, I was getting errors related to classpath, so I added those to my project. Now when I run the code, I get no errors and no response, I just return to a command prompt. I know this is probably a simple solution. I've spent a week trying to figure this out and have had no success finding any answers. Can someone point me in the right direction?</p>\n\n<p>Note: I didn't include the Base64 code here because of the size, but I do have that in my project.</p>\n"},{"tags":["java","linux","amazon-web-services","amazon-ec2"],"answers":[{"comments":[{"owner":{"account_id":2532720,"reputation":8397,"user_id":2200659,"accept_rate":79,"display_name":"Anders"},"score":0,"creation_date":1436947355,"post_id":31424626,"comment_id":50820975,"body_markdown":"Hello and welcome to Stack Overflow! Please do not answer with only a link - instead include the link and a short summary of the information relevant to the question. Links are not permanent, but your answer is.","body":"Hello and welcome to Stack Overflow! Please do not answer with only a link - instead include the link and a short summary of the information relevant to the question. Links are not permanent, but your answer is."},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1436950240,"post_id":31424626,"comment_id":50822692,"body_markdown":"This is incorrect. Amazon instance don&#39;t use Ubuntu, unless you specifically select that OS.","body":"This is incorrect. Amazon instance don&#39;t use Ubuntu, unless you specifically select that OS."}],"tags":[],"owner":{"account_id":6629173,"reputation":1,"user_id":5118349,"display_name":"Benjamin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436947040,"creation_date":1436947040,"answer_id":31424626,"question_id":31423465,"body_markdown":"Please refer to this guide. The second Tutorial should help you.\r\n\r\n[Installing Sun Java on Newer versions of Ubuntu (10.04 an above)][1]\r\n\r\n\r\n  [1]: https://askubuntu.com/a/21133\r\n","title":"Removing Open JDK","body":"<p>Please refer to this guide. The second Tutorial should help you.</p>\n\n<p><a href=\"https://askubuntu.com/a/21133\">Installing Sun Java on Newer versions of Ubuntu (10.04 an above)</a></p>\n"}],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678608525,"creation_date":1436943441,"question_id":31423465,"body_markdown":"I am somewhat new to amazon aws and I just created a Linux instance. Now I am interested in Java 7, but I found the system is having OpenJDK installed.\n\n![enter image description here][1]\n\nHow can I remove this OpenJDK &quot;completely&quot; so I can install Oracle Java?\n\n  [1]: http://i.stack.imgur.com/SBooA.png","title":"Removing Open JDK","body":"<p>I am somewhat new to amazon aws and I just created a Linux instance. Now I am interested in Java 7, but I found the system is having OpenJDK installed.</p>\n<p><img src=\"https://i.stack.imgur.com/SBooA.png\" alt=\"enter image description here\" /></p>\n<p>How can I remove this OpenJDK &quot;completely&quot; so I can install Oracle Java?</p>\n"},{"tags":["java","amazon-web-services","workflow","amazon-swf"],"answers":[{"comments":[{"owner":{"account_id":1690387,"reputation":1427,"user_id":1552862,"accept_rate":71,"display_name":"jianweichuah"},"score":0,"creation_date":1441055525,"post_id":27365801,"comment_id":52515140,"body_markdown":"How do I register 2 workflows with a single WorkflowWorker?","body":"How do I register 2 workflows with a single WorkflowWorker?"},{"owner":{"account_id":1833470,"reputation":6598,"user_id":1664318,"display_name":"Maxim Fateev"},"score":0,"creation_date":1441090256,"post_id":27365801,"comment_id":52524966,"body_markdown":"Call WorkflowWorker#addWorkflowImplementationType with both workflows","body":"Call WorkflowWorker#addWorkflowImplementationType with both workflows"}],"tags":[],"owner":{"account_id":1833470,"reputation":6598,"user_id":1664318,"display_name":"Maxim Fateev"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1418068534,"creation_date":1418068534,"answer_id":27365801,"question_id":27357797,"body_markdown":"The exception means that the WorkflowWorker (decider) receives a decision task for a workflow it is not configured to run. My guess is that you have two WorkflowWorkers one for the parent and one for the child workflow that share the same task list name. And as the task list name is the same any of them can get tasks from the other. So the solution is either register both workflows with a single WorkflowWorker or use different task lists for each worker. Note that workflow version should be bumped if task list name is changed as workflow type properties are immutable once registered. ","title":"Amazon Simple Workflow and child workflow","body":"<p>The exception means that the WorkflowWorker (decider) receives a decision task for a workflow it is not configured to run. My guess is that you have two WorkflowWorkers one for the parent and one for the child workflow that share the same task list name. And as the task list name is the same any of them can get tasks from the other. So the solution is either register both workflows with a single WorkflowWorker or use different task lists for each worker. Note that workflow version should be bumped if task list name is changed as workflow type properties are immutable once registered. </p>\n"}],"owner":{"account_id":4664936,"reputation":3,"user_id":3778220,"display_name":"user3778220"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27365801,"answer_count":1,"score":0,"last_activity_date":1678608515,"creation_date":1418040916,"question_id":27357797,"body_markdown":"I am trying to run a childworkflow from a workflow in amazon simple workflow service using java flow framework for AWS. Below is the main workflow implementation code:\r\n\r\n    package SWF.ChildWorkFlow;\r\n    \r\n    import org.springframework.core.annotation.Order;\r\n    \r\n    import com.amazonaws.services.simpleworkflow.flow.core.Promise;\r\n    \r\n    public class OrderWorkflowImpl implements OrderWorkflow {\r\n    \r\n        private OrderActivitiesClient client = new OrderActivitiesClientImpl();\r\n    \r\n        ProcessPaymentWorkflowClientFactory factory = new ProcessPaymentWorkflowClientFactoryImpl();\r\n    \r\n        @Override\r\n        public void getCustomerOrder() {\r\n            Promise&lt;String&gt; a = client.getOrder();\r\n    \r\n    \r\n            ProcessPaymentWorkflowClient childWorkflowClient = factory.getClient(&quot;ChildWorkflow&quot;);\r\n            childWorkflowClient.paymentProcessor(a);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nActivities from main workflows are running but activities from childorkflow(paymentProcessor) is running after it throws some error.\r\n\r\nbelow is the error message-\r\n\r\n    Dec 08, 2014 3:11:21 PM com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler createDecider\r\n    SEVERE: Received decision task for workflow type not configured with a worker: workflowType={Name: OrderWorkflow.getCustomerOrder,Version: 1.1}, taskToken=AAAAKgAAAAIAAAAAAAAAAjtd06ct8IXpzt5gbkfiKHXQbZci9kmJuSq1rKtpPVW+l+7hhLESuQDt5e3oVobCfbjEhfrRae26bnGLV3Kz2zsOUDBxpMGlFGReCBKeUc9BNGzKyOj4uiX5bPMdvez6zn8/Xfy69KTARDWvy15EsoP/4fp/9z3t4XJkzuk/Ks857gvtfNEZ1RfnlBqaqv2i9hpVBgHQXeoly0soewELhUxdOWHhYOxsGnGnM/MsEPFaXwKgzqwddXfuco7Pho0qle2xViYudOs7wcEECfi2Tgw=, workflowExecution={WorkflowId: workflow,RunId: 22fW/b5Qf+8M5AYj7S2PHY9N74LQGlouoWwszAFXH8VFI=}\r\n    Dec 08, 2014 3:11:21 PM com.amazonaws.services.simpleworkflow.flow.worker.DecisionTaskPoller pollAndProcessSingleTask\r\n    WARNING: DecisionTask failure: taskId= 9, workflowExecution={WorkflowId: workflow,RunId: 22fW/b5Qf+8M5AYj7S2PHY9N74LQGlouoWwszAFXH8VFI=}\r\n    java.lang.IllegalArgumentException: No implementation was found for {Name: OrderWorkflow.getCustomerOrder,Version: 1.1}\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.createDecider(AsyncDecisionTaskHandler.java:111)\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.handleDecisionTask(AsyncDecisionTaskHandler.java:49)\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.DecisionTaskPoller.pollAndProcessSingleTask(DecisionTaskPoller.java:201)\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.GenericWorker$PollServiceTask.run(GenericWorker.java:94)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    \r\n    Dec 08, 2014 3:11:21 PM com.amazonaws.services.simpleworkflow.flow.worker.GenericWorker uncaughtException\r\n    SEVERE: Failure in thread SWF Decider HelloWorldListParallel 1\r\n    java.lang.IllegalArgumentException: No implementation was found for {Name: OrderWorkflow.getCustomerOrder,Version: 1.1}\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.createDecider(AsyncDecisionTaskHandler.java:111)\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.handleDecisionTask(AsyncDecisionTaskHandler.java:49)\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.DecisionTaskPoller.pollAndProcessSingleTask(DecisionTaskPoller.java:201)\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.GenericWorker$PollServiceTask.run(GenericWorker.java:94)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\nCould anyone please help me out in the problem. And I am also not able to find out any proper documentation on childworkflows in AWS SWF service on internet. Thanks in advance.","title":"Amazon Simple Workflow and child workflow","body":"<p>I am trying to run a childworkflow from a workflow in amazon simple workflow service using java flow framework for AWS. Below is the main workflow implementation code:</p>\n\n<pre><code>package SWF.ChildWorkFlow;\n\nimport org.springframework.core.annotation.Order;\n\nimport com.amazonaws.services.simpleworkflow.flow.core.Promise;\n\npublic class OrderWorkflowImpl implements OrderWorkflow {\n\n    private OrderActivitiesClient client = new OrderActivitiesClientImpl();\n\n    ProcessPaymentWorkflowClientFactory factory = new ProcessPaymentWorkflowClientFactoryImpl();\n\n    @Override\n    public void getCustomerOrder() {\n        Promise&lt;String&gt; a = client.getOrder();\n\n\n        ProcessPaymentWorkflowClient childWorkflowClient = factory.getClient(\"ChildWorkflow\");\n        childWorkflowClient.paymentProcessor(a);\n\n    }\n\n}\n</code></pre>\n\n<p>Activities from main workflows are running but activities from childorkflow(paymentProcessor) is running after it throws some error.</p>\n\n<p>below is the error message-</p>\n\n<pre><code>Dec 08, 2014 3:11:21 PM com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler createDecider\nSEVERE: Received decision task for workflow type not configured with a worker: workflowType={Name: OrderWorkflow.getCustomerOrder,Version: 1.1}, taskToken=AAAAKgAAAAIAAAAAAAAAAjtd06ct8IXpzt5gbkfiKHXQbZci9kmJuSq1rKtpPVW+l+7hhLESuQDt5e3oVobCfbjEhfrRae26bnGLV3Kz2zsOUDBxpMGlFGReCBKeUc9BNGzKyOj4uiX5bPMdvez6zn8/Xfy69KTARDWvy15EsoP/4fp/9z3t4XJkzuk/Ks857gvtfNEZ1RfnlBqaqv2i9hpVBgHQXeoly0soewELhUxdOWHhYOxsGnGnM/MsEPFaXwKgzqwddXfuco7Pho0qle2xViYudOs7wcEECfi2Tgw=, workflowExecution={WorkflowId: workflow,RunId: 22fW/b5Qf+8M5AYj7S2PHY9N74LQGlouoWwszAFXH8VFI=}\nDec 08, 2014 3:11:21 PM com.amazonaws.services.simpleworkflow.flow.worker.DecisionTaskPoller pollAndProcessSingleTask\nWARNING: DecisionTask failure: taskId= 9, workflowExecution={WorkflowId: workflow,RunId: 22fW/b5Qf+8M5AYj7S2PHY9N74LQGlouoWwszAFXH8VFI=}\njava.lang.IllegalArgumentException: No implementation was found for {Name: OrderWorkflow.getCustomerOrder,Version: 1.1}\n    at com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.createDecider(AsyncDecisionTaskHandler.java:111)\n    at com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.handleDecisionTask(AsyncDecisionTaskHandler.java:49)\n    at com.amazonaws.services.simpleworkflow.flow.worker.DecisionTaskPoller.pollAndProcessSingleTask(DecisionTaskPoller.java:201)\n    at com.amazonaws.services.simpleworkflow.flow.worker.GenericWorker$PollServiceTask.run(GenericWorker.java:94)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n\nDec 08, 2014 3:11:21 PM com.amazonaws.services.simpleworkflow.flow.worker.GenericWorker uncaughtException\nSEVERE: Failure in thread SWF Decider HelloWorldListParallel 1\njava.lang.IllegalArgumentException: No implementation was found for {Name: OrderWorkflow.getCustomerOrder,Version: 1.1}\n    at com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.createDecider(AsyncDecisionTaskHandler.java:111)\n    at com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.handleDecisionTask(AsyncDecisionTaskHandler.java:49)\n    at com.amazonaws.services.simpleworkflow.flow.worker.DecisionTaskPoller.pollAndProcessSingleTask(DecisionTaskPoller.java:201)\n    at com.amazonaws.services.simpleworkflow.flow.worker.GenericWorker$PollServiceTask.run(GenericWorker.java:94)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>Could anyone please help me out in the problem. And I am also not able to find out any proper documentation on childworkflows in AWS SWF service on internet. Thanks in advance.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","maven","amazon-s3"],"answers":[{"comments":[{"owner":{"account_id":9746622,"reputation":487,"user_id":7226384,"accept_rate":33,"display_name":"DemeCarvO"},"score":0,"creation_date":1485957902,"post_id":41942513,"comment_id":71141128,"body_markdown":"Kiran, about &quot;...setting it to null, i hope null works...&quot; I get \n&quot;java.lang.IllegalArgumentException: client configuration cannot be null&quot; when &quot;... new AmazonS3Client(credentials, null)&quot;. Well, I can check if itis null but it means that I will have different flow depending on profile I am using. I mean, I will control the route with an &quot;if&quot; to use either new AmazonS3Client(credentials) or new AmazonS3Client(credentials, config). Gentily, I would like to highlight this part of my question &quot;using my local proxy configuration but taking it out when deploying the code?&quot;","body":"Kiran, about &quot;...setting it to null, i hope null works...&quot; I get  &quot;java.lang.IllegalArgumentException: client configuration cannot be null&quot; when &quot;... new AmazonS3Client(credentials, null)&quot;. Well, I can check if itis null but it means that I will have different flow depending on profile I am using. I mean, I will control the route with an &quot;if&quot; to use either new AmazonS3Client(credentials) or new AmazonS3Client(credentials, config). Gentily, I would like to highlight this part of my question &quot;using my local proxy configuration but taking it out when deploying the code?&quot;"},{"owner":{"account_id":9746622,"reputation":487,"user_id":7226384,"accept_rate":33,"display_name":"DemeCarvO"},"score":0,"creation_date":1485959118,"post_id":41942513,"comment_id":71141995,"body_markdown":"Please, note how strange is my solution although it works. I keep the values  blank in application.properties and then I test if all four proxy variables were filled in. Note that by changing spring.config.location will not improve at all. I have to instanciate AmazonS3Client in diferent ways. Is there any approach where I can pass AmazonS3Client according to the profile? Maybe by extending it and initialize according to the profile?","body":"Please, note how strange is my solution although it works. I keep the values  blank in application.properties and then I test if all four proxy variables were filled in. Note that by changing spring.config.location will not improve at all. I have to instanciate AmazonS3Client in diferent ways. Is there any approach where I can pass AmazonS3Client according to the profile? Maybe by extending it and initialize according to the profile?"},{"owner":{"account_id":946466,"reputation":21,"user_id":5011384,"display_name":"Kiran Phadatare"},"score":0,"creation_date":1486388843,"post_id":41942513,"comment_id":71309888,"body_markdown":"AmazonS3Client.java source shows that AmazonS3Client(credentials) internally calls new AmazonS3Client(credentials, config) where config=new ClientConfiguration();\n\nrefer [AmazonS3Client source](http://grepcode.com/file/repo1.maven.org/maven2/com.amazonaws/aws-java-sdk/1.8.10/com/amazonaws/services/s3/AmazonS3Client.java#AmazonS3Client.%3Cinit%3E%28com.amazonaws.auth.AWSCredentials%2Ccom.amazonaws.ClientConfiguration%29)","body":"AmazonS3Client.java source shows that AmazonS3Client(credentials) internally calls new AmazonS3Client(credentials, config) where config=new ClientConfiguration();  refer <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.amazonaws/aws-java-sdk/1.8.10/com/amazonaws/services/s3/AmazonS3Client.java#AmazonS3Client.%3Cinit%3E%28com.amazonaws.auth.AWSCredentials%2Ccom.amazonaws.ClientConfiguration%29\" rel=\"nofollow noreferrer\">AmazonS3Client source</a>"}],"tags":[],"owner":{"account_id":946466,"reputation":21,"user_id":5011384,"display_name":"Kiran Phadatare"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485799378,"creation_date":1485799378,"answer_id":41942513,"question_id":41942212,"body_markdown":"Hi you can always use multiple config file option such that one will be \r\nlocal-app.properties and live-app.properties\r\n\r\nand when you start your application you pass along the file that you want to use as configuration using the parameter\r\n\r\n    --spring.config.location=local-app.properties\r\nor\r\n\r\n    --spring.config.location=live-app.properties\r\n\r\nyour local file will contain properties for proxy and live wont contain it (thus setting it to null, i hope null works or you can add null checks).\r\n\r\nfor more details look at this question : [Spring boot multiple config files][1] it dosent answer your question but answer by ***ganesh jadhav*** clearly shows an example.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25855795/spring-boot-and-multiple-external-configuration-files","title":"how setup AmazonS3Client to work with proxy in DEV profile but without proxy when in PROD profile","body":"<p>Hi you can always use multiple config file option such that one will be \nlocal-app.properties and live-app.properties</p>\n\n<p>and when you start your application you pass along the file that you want to use as configuration using the parameter</p>\n\n<pre><code>--spring.config.location=local-app.properties\n</code></pre>\n\n<p>or</p>\n\n<pre><code>--spring.config.location=live-app.properties\n</code></pre>\n\n<p>your local file will contain properties for proxy and live wont contain it (thus setting it to null, i hope null works or you can add null checks).</p>\n\n<p>for more details look at this question : <a href=\"https://stackoverflow.com/questions/25855795/spring-boot-and-multiple-external-configuration-files\">Spring boot multiple config files</a> it dosent answer your question but answer by <strong><em>ganesh jadhav</em></strong> clearly shows an example.</p>\n"}],"owner":{"account_id":9746622,"reputation":487,"user_id":7226384,"accept_rate":33,"display_name":"DemeCarvO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3009,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678608479,"creation_date":1485798370,"question_id":41942212,"body_markdown":"According to http://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html there are 5 ways to work with AWS Credentials. All 5, as far as I can see, offer someway to settup AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY. Nevertheless, I use proxy configuration when I am developing but I don&#39;t need it when it is running in AWS. I am manually commenting the code where I set up the proxy details while deploying to AWS. I couldn&#39;t find better solution but I am sure I am not doing the best way. My straigh question is: how can I turn it more flexible? I mean, using my local proxy configuration but taking it out when deploying the code? Certainly, there is some option using maven profile or other way.\r\n\r\nBasically, the point is: I am using &quot;new AmazonS3Client(credentials, config)&quot; while developing but &quot;new AmazonS3Client(credentials)&quot; when building and deploying to AWS.\r\n\r\n\r\n    @Component\r\n    public class MyClass {\r\n\r\n\t@Value(&quot;${bucketName}&quot;)\r\n\tprivate String bucketName;\r\n\t\r\n\t@Value(&quot;${accessKey}&quot;)\r\n\tprivate String accessKey;\r\n\t\r\n\t@Value(&quot;${secretKey}&quot;)\r\n\tprivate String secretKey;\r\n\r\n//...\r\n\r\n\t\t\tAWSCredentials credentials = null;\r\n\t\t\tcredentials = new BasicAWSCredentials(accessKey, secretKey); \r\n\r\nWhen I am developing:\r\n\r\n    ClientConfiguration config = new ClientConfiguration();\r\n    String proxyHost = &quot;my.local.proxy.ip&quot;;\r\n    String proxyPort = &quot;8080&quot;;\r\n    String proxyUser = &quot;my-local-network-user&quot;; \r\n    String proxyPassword = &quot;pwpwd&quot;;\r\n    config.setProxyHost(proxyHost);\r\n    config.setProxyPort(Integer.valueOf(proxyPort));\r\n    config.setProxyUsername(proxyUser);\r\n    config.setProxyPassword(proxyPassword);\r\n    AmazonS3 s3client = new AmazonS3Client(credentials, config);\r\n\r\nwhen deployed to AWS\r\n\r\n    AmazonS3 s3client = new AmazonS3Client(credentials);\r\n\r\napplication.properties (file commonly used by Spring Boot)\r\n\r\n    accessKey=A..W\r\n    secretKey=b1234..rewq\r\n\r\n\r\n*** Edited in February 1st 2017\r\n\r\nI am using this work around but I am sure there is better way to accomplish it\r\n\r\n    @Value(&quot;${proxyHost}&quot;)\r\n    private String proxyHost;\r\n    \r\n    @Value(&quot;${proxyPort}&quot;)\r\n    private Integer proxyPort;\r\n    \r\n    @Value(&quot;${proxyUser}&quot;)\r\n    private String proxyUser;\r\n    \r\n    @Value(&quot;${proxyPassword}&quot;)\r\n    private String proxyPassword;\r\n\r\n    //...\r\n\r\n\t\tcredentials = new BasicAWSCredentials(accessKey, secretKey);\r\n\r\n\t\tif (proxyHost != null &amp;&amp; proxyHost.length() &gt; 0 &amp;&amp; proxyPort != null &amp;&amp; proxyUser != null\r\n\t\t\t\t&amp;&amp; proxyUser.length() &gt; 0 &amp;&amp; proxyPassword != null &amp;&amp; proxyPassword.length() &gt; 0) {\r\n\t\t\tconfig = new ClientConfiguration();\r\n\t\t\tconfig.setProxyHost(proxyHost);\r\n\t\t\tconfig.setProxyPort(proxyPort);\r\n\t\t\tconfig.setProxyUsername(proxyUser);\r\n\t\t\tconfig.setProxyPassword(proxyPassword);\r\n\t\t\ts3client = new AmazonS3Client(credentials, config);\r\n\t\t} else {\r\n\t\t\ts3client = new AmazonS3Client(credentials);\r\n\t\t}\r\n\r\n","title":"how setup AmazonS3Client to work with proxy in DEV profile but without proxy when in PROD profile","body":"<p>According to <a href=\"http://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html</a> there are 5 ways to work with AWS Credentials. All 5, as far as I can see, offer someway to settup AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY. Nevertheless, I use proxy configuration when I am developing but I don't need it when it is running in AWS. I am manually commenting the code where I set up the proxy details while deploying to AWS. I couldn't find better solution but I am sure I am not doing the best way. My straigh question is: how can I turn it more flexible? I mean, using my local proxy configuration but taking it out when deploying the code? Certainly, there is some option using maven profile or other way.</p>\n\n<p>Basically, the point is: I am using \"new AmazonS3Client(credentials, config)\" while developing but \"new AmazonS3Client(credentials)\" when building and deploying to AWS.</p>\n\n<pre><code>@Component\npublic class MyClass {\n\n@Value(\"${bucketName}\")\nprivate String bucketName;\n\n@Value(\"${accessKey}\")\nprivate String accessKey;\n\n@Value(\"${secretKey}\")\nprivate String secretKey;\n</code></pre>\n\n<p>//...</p>\n\n<pre><code>        AWSCredentials credentials = null;\n        credentials = new BasicAWSCredentials(accessKey, secretKey); \n</code></pre>\n\n<p>When I am developing:</p>\n\n<pre><code>ClientConfiguration config = new ClientConfiguration();\nString proxyHost = \"my.local.proxy.ip\";\nString proxyPort = \"8080\";\nString proxyUser = \"my-local-network-user\"; \nString proxyPassword = \"pwpwd\";\nconfig.setProxyHost(proxyHost);\nconfig.setProxyPort(Integer.valueOf(proxyPort));\nconfig.setProxyUsername(proxyUser);\nconfig.setProxyPassword(proxyPassword);\nAmazonS3 s3client = new AmazonS3Client(credentials, config);\n</code></pre>\n\n<p>when deployed to AWS</p>\n\n<pre><code>AmazonS3 s3client = new AmazonS3Client(credentials);\n</code></pre>\n\n<p>application.properties (file commonly used by Spring Boot)</p>\n\n<pre><code>accessKey=A..W\nsecretKey=b1234..rewq\n</code></pre>\n\n<p>*** Edited in February 1st 2017</p>\n\n<p>I am using this work around but I am sure there is better way to accomplish it</p>\n\n<pre><code>@Value(\"${proxyHost}\")\nprivate String proxyHost;\n\n@Value(\"${proxyPort}\")\nprivate Integer proxyPort;\n\n@Value(\"${proxyUser}\")\nprivate String proxyUser;\n\n@Value(\"${proxyPassword}\")\nprivate String proxyPassword;\n\n//...\n\n    credentials = new BasicAWSCredentials(accessKey, secretKey);\n\n    if (proxyHost != null &amp;&amp; proxyHost.length() &gt; 0 &amp;&amp; proxyPort != null &amp;&amp; proxyUser != null\n            &amp;&amp; proxyUser.length() &gt; 0 &amp;&amp; proxyPassword != null &amp;&amp; proxyPassword.length() &gt; 0) {\n        config = new ClientConfiguration();\n        config.setProxyHost(proxyHost);\n        config.setProxyPort(proxyPort);\n        config.setProxyUsername(proxyUser);\n        config.setProxyPassword(proxyPassword);\n        s3client = new AmazonS3Client(credentials, config);\n    } else {\n        s3client = new AmazonS3Client(credentials);\n    }\n</code></pre>\n"},{"tags":["java","android","amazon-web-services","intellij-idea"],"comments":[{"owner":{"account_id":20374,"reputation":867,"user_id":48651,"accept_rate":65,"display_name":"Lee Winder"},"score":1,"creation_date":1410967412,"post_id":25465754,"comment_id":40527223,"body_markdown":"I&#39;ve encountered the same problem with v2.1 detailed here - http://stackoverflow.com/questions/25894513/building-the-android-aws-2-1-0-sdk\n\nBut, for v1.x, can&#39;t you just use Maven with the packaged pom.xml file?","body":"I&#39;ve encountered the same problem with v2.1 detailed here - <a href=\"http://stackoverflow.com/questions/25894513/building-the-android-aws-2-1-0-sdk\" title=\"building the android aws 2 1 0 sdk\">stackoverflow.com/questions/25894513/&hellip;</a>  But, for v1.x, can&#39;t you just use Maven with the packaged pom.xml file?"}],"answers":[{"tags":[],"owner":{"account_id":1662191,"reputation":670,"user_id":1530254,"accept_rate":73,"display_name":"Phillip Godzin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1417663066,"creation_date":1417663066,"answer_id":27285652,"question_id":25465754,"body_markdown":"It looks like the issue was how I was adding it in Intellij - it should have been added as a project dependency rather than module.","title":"AWS Android sdk 1.7.1.1 not compiling - issues with AmazonHttpClient and HttpClientFactory","body":"<p>It looks like the issue was how I was adding it in Intellij - it should have been added as a project dependency rather than module.</p>\n"}],"owner":{"account_id":1662191,"reputation":670,"user_id":1530254,"accept_rate":73,"display_name":"Phillip Godzin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27285652,"answer_count":1,"score":0,"last_activity_date":1678608473,"creation_date":1408823135,"question_id":25465754,"body_markdown":"I downloaded the latest version, 1.7.1.1, added it as a module in Intellij, and added it as a dependency in my project. Building it against Android API 17. When building, the AmazonHttpClient and HttpClientFactory classes give a few compile errors. \r\n\r\nFor example, in AmazonHTTPClient.java,\r\n\r\n    SSLSocketFactory sf = new SSLSocketFactory(\r\n                SSLContext.getDefault(),\r\n                SSLSocketFactory.BROWSER_COMPATIBLE_HOSTNAME_VERIFIER);\r\n\r\nis not an applicable constructor.\r\n\r\nAlso, httpClient.setRedirectStrategy cannot be resolved, and the Scheme constructors have their parameters in the wrong order. \r\n\r\nIs this an Amazon issue or is something wrong on my end?\r\n","title":"AWS Android sdk 1.7.1.1 not compiling - issues with AmazonHttpClient and HttpClientFactory","body":"<p>I downloaded the latest version, 1.7.1.1, added it as a module in Intellij, and added it as a dependency in my project. Building it against Android API 17. When building, the AmazonHttpClient and HttpClientFactory classes give a few compile errors. </p>\n\n<p>For example, in AmazonHTTPClient.java,</p>\n\n<pre><code>SSLSocketFactory sf = new SSLSocketFactory(\n            SSLContext.getDefault(),\n            SSLSocketFactory.BROWSER_COMPATIBLE_HOSTNAME_VERIFIER);\n</code></pre>\n\n<p>is not an applicable constructor.</p>\n\n<p>Also, httpClient.setRedirectStrategy cannot be resolved, and the Scheme constructors have their parameters in the wrong order. </p>\n\n<p>Is this an Amazon issue or is something wrong on my end?</p>\n"},{"tags":["java","amazon-web-services","amazon-cognito"],"answers":[{"tags":[],"owner":{"account_id":260606,"reputation":1599,"user_id":544261,"accept_rate":80,"display_name":"David Kierans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485186180,"creation_date":1485186180,"answer_id":41810170,"question_id":41715038,"body_markdown":"When you created your user pool double check you have all the expected federated providers supported.  If you use developer authenticated make sure you add that &#39;login....&#39; domain as well.\r\nGrab your/a token and look at it in jwt.io for clues as well.","title":"Authenticate with Cognito Federated Identities","body":"<p>When you created your user pool double check you have all the expected federated providers supported.  If you use developer authenticated make sure you add that 'login....' domain as well.\nGrab your/a token and look at it in jwt.io for clues as well.</p>\n"},{"tags":[],"owner":{"account_id":3594383,"reputation":10797,"user_id":2999566,"display_name":"Mike Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510110150,"creation_date":1507995681,"answer_id":46746314,"question_id":41715038,"body_markdown":"There are three pieces of data that need to match in this scenario:\r\n\r\n - Provider as configured in AWS. \r\n - Provider as put into the `Logins` map.\r\n - `iss` value (issuer) in the id token.\r\n\r\nWhen I have seen this error, it has been because the value in the Logins map does not match the provider as configured in AWS.\r\n\r\nFor example, an unexpected port number or [trailing slash][1] can cause these not to match.\r\n\r\nBeyond this, there are a couple of settings in AWS that need to line up.\r\n\r\n**Provider as configured in AWS**\r\n\r\nWith a Cognito User Pool, Amazon configures this name for you, so it&#39;s non-configurable on the backend.  The format of the `providerName` in your Java code looks good, but first I&#39;d triple check the `xxxxxxx` part for a typo.\r\n\r\n**App Client settings**\r\n\r\nThen, make sure your App Client has Cognito enabled in your User Pool settings:\r\n\r\n[![Cognito enabled for App Client][2]][2]\r\n\r\n**Federated Identities settings**\r\n\r\nNext, in your federated identities settings, verify that the user pool id and client id appear in the Cognito tab under &quot;Authentication providers&quot;, and that they match your user pool and App Client.\r\n\r\n[![Federated Identities settings][3]][3]\r\n\r\n**JWT issuer**\r\n\r\nFinally, I would expect the error to be `&quot;Invalid login token. Issuer doesn&#39;t match providerName&quot;` if there was a problem with the `iss` value in the JWT.  However, decoding the id token you get back and inspecting the contents (as suggested in another answer) is also good advice.\r\n\r\nIf all these pieces appear to be in place, and the error persists, please leave a comment.  Happy Hacking!\r\n\r\n  [1]: https://stackoverflow.com/questions/44451605/token-is-not-from-a-supported-provider-of-this-identity-pool-amazon-mobile-hub-a\r\n  [2]: https://i.stack.imgur.com/xnWkg.png\r\n  [3]: https://i.stack.imgur.com/R7cpZ.png","title":"Authenticate with Cognito Federated Identities","body":"<p>There are three pieces of data that need to match in this scenario:</p>\n\n<ul>\n<li>Provider as configured in AWS. </li>\n<li>Provider as put into the <code>Logins</code> map.</li>\n<li><code>iss</code> value (issuer) in the id token.</li>\n</ul>\n\n<p>When I have seen this error, it has been because the value in the Logins map does not match the provider as configured in AWS.</p>\n\n<p>For example, an unexpected port number or <a href=\"https://stackoverflow.com/questions/44451605/token-is-not-from-a-supported-provider-of-this-identity-pool-amazon-mobile-hub-a\">trailing slash</a> can cause these not to match.</p>\n\n<p>Beyond this, there are a couple of settings in AWS that need to line up.</p>\n\n<p><strong>Provider as configured in AWS</strong></p>\n\n<p>With a Cognito User Pool, Amazon configures this name for you, so it's non-configurable on the backend.  The format of the <code>providerName</code> in your Java code looks good, but first I'd triple check the <code>xxxxxxx</code> part for a typo.</p>\n\n<p><strong>App Client settings</strong></p>\n\n<p>Then, make sure your App Client has Cognito enabled in your User Pool settings:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xnWkg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xnWkg.png\" alt=\"Cognito enabled for App Client\"></a></p>\n\n<p><strong>Federated Identities settings</strong></p>\n\n<p>Next, in your federated identities settings, verify that the user pool id and client id appear in the Cognito tab under \"Authentication providers\", and that they match your user pool and App Client.</p>\n\n<p><a href=\"https://i.stack.imgur.com/R7cpZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R7cpZ.png\" alt=\"Federated Identities settings\"></a></p>\n\n<p><strong>JWT issuer</strong></p>\n\n<p>Finally, I would expect the error to be <code>\"Invalid login token. Issuer doesn't match providerName\"</code> if there was a problem with the <code>iss</code> value in the JWT.  However, decoding the id token you get back and inspecting the contents (as suggested in another answer) is also good advice.</p>\n\n<p>If all these pieces appear to be in place, and the error persists, please leave a comment.  Happy Hacking!</p>\n"}],"owner":{"account_id":7447732,"reputation":71,"user_id":5663409,"display_name":"Kamil Czyznielewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678608411,"creation_date":1484729979,"question_id":41715038,"body_markdown":"I am having a hard time trying to figure out how to use Amazon Cognito in my web app (Java based). I want to have some kind of authentication hub (Amazon Cognito) to authenticate user with multiple Auth Providers - that&#39;s why I want to use Amazon Cognito! :) \r\n\r\nFirstly, I set up User Pool (I have my UserPoolId: eu-central-1_xxxxxxxxxx) and created there one user. Next I created Identity Pool with IdentityPoolId (eu-central-1:yyyyyyyyyy). Then I authenticate with AWS JavaScript SDK to UserPool to get idToken and it working quite fine! I receive idToken from Cognito UserPool. Then I am sending this idToken to my backend app (Java based) and there I want to validate this idToken with IdentityPool. I added new Authentication Provider - Cognito with UserPoolId and newly created id of an App that I added in UserPool. I tried to follow with this tutorial:\r\nhttps://aws.amazon.com/blogs/mobile/use-amazon-cognito-in-your-website-for-simple-aws-authentication/ \r\nBut everytime I make\r\n\r\n    GetID\r\n\r\nrequest I recevied Exception with\r\n\r\n    com.amazonaws.services.cognitoidentity.model.NotAuthorizedException: Token is not from a supported provider of this identity pool.\r\n\r\n\r\nMy Java code is below:\r\n\r\n    final AmazonCognitoIdentityClient identityClient = new AmazonCognitoIdentityClient(\r\n    \t\t\t\tnew BasicAWSCredentials(&quot;accessKey&quot;, &quot;secretKey&quot;));\r\n    identityClient.setRegion(Region.getRegion(Regions.EU_CENTRAL_1));\r\n     \r\n    GetIdRequest idRequest = new GetIdRequest();\r\n    idRequest.setAccountId(&quot;accountId&quot;);\r\n    idRequest.setIdentityPoolId(identityPoolId);\r\n     \r\n    final String providerName = &quot;cognito-idp.eu-central-1.amazonaws.com/eu-central-1_xxxxxxxx&quot;;\r\n     \r\n    Map providerTokens = new HashMap();\r\n    providerTokens.put(providerName, idToken);\r\n    idRequest.setLogins(providerTokens);\r\n     \r\n    GetIdResult idResp = identityClient.getId(idRequest);\r\n\r\n\r\nDoes anyone could help me with this task? Maybe I am doing something wrong?\r\n\r\nThanks,\r\nKamil :)","title":"Authenticate with Cognito Federated Identities","body":"<p>I am having a hard time trying to figure out how to use Amazon Cognito in my web app (Java based). I want to have some kind of authentication hub (Amazon Cognito) to authenticate user with multiple Auth Providers - that's why I want to use Amazon Cognito! :) </p>\n\n<p>Firstly, I set up User Pool (I have my UserPoolId: eu-central-1_xxxxxxxxxx) and created there one user. Next I created Identity Pool with IdentityPoolId (eu-central-1:yyyyyyyyyy). Then I authenticate with AWS JavaScript SDK to UserPool to get idToken and it working quite fine! I receive idToken from Cognito UserPool. Then I am sending this idToken to my backend app (Java based) and there I want to validate this idToken with IdentityPool. I added new Authentication Provider - Cognito with UserPoolId and newly created id of an App that I added in UserPool. I tried to follow with this tutorial:\n<a href=\"https://aws.amazon.com/blogs/mobile/use-amazon-cognito-in-your-website-for-simple-aws-authentication/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/mobile/use-amazon-cognito-in-your-website-for-simple-aws-authentication/</a> \nBut everytime I make</p>\n\n<pre><code>GetID\n</code></pre>\n\n<p>request I recevied Exception with</p>\n\n<pre><code>com.amazonaws.services.cognitoidentity.model.NotAuthorizedException: Token is not from a supported provider of this identity pool.\n</code></pre>\n\n<p>My Java code is below:</p>\n\n<pre><code>final AmazonCognitoIdentityClient identityClient = new AmazonCognitoIdentityClient(\n                new BasicAWSCredentials(\"accessKey\", \"secretKey\"));\nidentityClient.setRegion(Region.getRegion(Regions.EU_CENTRAL_1));\n\nGetIdRequest idRequest = new GetIdRequest();\nidRequest.setAccountId(\"accountId\");\nidRequest.setIdentityPoolId(identityPoolId);\n\nfinal String providerName = \"cognito-idp.eu-central-1.amazonaws.com/eu-central-1_xxxxxxxx\";\n\nMap providerTokens = new HashMap();\nproviderTokens.put(providerName, idToken);\nidRequest.setLogins(providerTokens);\n\nGetIdResult idResp = identityClient.getId(idRequest);\n</code></pre>\n\n<p>Does anyone could help me with this task? Maybe I am doing something wrong?</p>\n\n<p>Thanks,\nKamil :)</p>\n"},{"tags":["java","amazon-web-services","rest"],"comments":[{"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"score":0,"creation_date":1394037967,"post_id":22203038,"comment_id":33708267,"body_markdown":"How did you calculate the signature ? Signature=mb6Stjz4I5GHV51bxVyACS4T%2FwGjplkVymW8eLDoh4Q%3D","body":"How did you calculate the signature ? Signature=mb6Stjz4I5GHV51bxVyACS4T%2FwGjplkVymW8eLDoh4Q%3D"}],"answers":[{"tags":[],"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1394039957,"creation_date":1394039957,"answer_id":22204675,"question_id":22203038,"body_markdown":"It works for me. Could be something wrong in your signature. AssociateTag is your &#39;Associates ID&#39; that you get after sign up for affiliate not any tracking ID. And I sign for Amazon.co.uk Associates.\r\n\r\n\r\nhttp://ecs.amazonaws.com/onca/xml?AWSAccessKeyId=AKIAIAAPUKLVP6OGAT4Q&amp;AssociateTag=jay048-21&amp;ItemId=0545010225&amp;Operation=ItemLookup&amp;ResponseGroup=Small&amp;Service=AWSECommerceService&amp;Timestamp=2014-03-05T17%3A14%3A31Z&amp;Version=2009-03-31&amp;Signature=Vfto8GdjP875KGwYrpe1QyfDkpUr3HDkQAyAcyyI4n0%3D\r\n\r\n\r\n\r\n\t\t\t&lt;ItemLookupResponse xmlns=&quot;http://webservices.amazon.com/AWSECommerceService/2011-08-01&quot;&gt;\r\n\t\t\t&lt;OperationRequest&gt;\r\n\t\t\t&lt;HTTPHeaders&gt;\r\n\t\t\t&lt;Header Name=&quot;UserAgent&quot; Value=&quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.146 Safari/537.36&quot;/&gt;\r\n\t\t\t&lt;/HTTPHeaders&gt;\r\n\t\t\t&lt;RequestId&gt;5f5e44b1-8005-4b27-846a-9959775bdf24&lt;/RequestId&gt;\r\n\t\t\t&lt;Arguments&gt;\r\n\t\t\t&lt;Argument Name=&quot;Operation&quot; Value=&quot;ItemLookup&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;Service&quot; Value=&quot;AWSECommerceService&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;Signature&quot; Value=&quot;Vfto8GdjP875KGwYrpe1QyfDkpUr3HDkQAyAcyyI4n0=&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;AssociateTag&quot; Value=&quot;jay048-21&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;Version&quot; Value=&quot;2009-03-31&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;ItemId&quot; Value=&quot;0545010225&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;AWSAccessKeyId&quot; Value=&quot;AKIAIAAPUKLVP6OGAT4Q&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;Timestamp&quot; Value=&quot;2014-03-05T17:14:31Z&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;ResponseGroup&quot; Value=&quot;Small&quot;/&gt;\r\n\t\t\t&lt;/Arguments&gt;\r\n\t\t\t&lt;RequestProcessingTime&gt;0.0143640000000000&lt;/RequestProcessingTime&gt;\r\n\t\t\t&lt;/OperationRequest&gt;\r\n\t\t\t&lt;Items&gt;\r\n\t\t\t&lt;Request&gt;\r\n\t\t\t&lt;IsValid&gt;True&lt;/IsValid&gt;\r\n\t\t\t&lt;ItemLookupRequest&gt;\r\n\t\t\t&lt;IdType&gt;ASIN&lt;/IdType&gt;\r\n\t\t\t&lt;ItemId&gt;0545010225&lt;/ItemId&gt;\r\n\t\t\t&lt;ResponseGroup&gt;Small&lt;/ResponseGroup&gt;\r\n\t\t\t&lt;VariationPage&gt;All&lt;/VariationPage&gt;\r\n\t\t\t&lt;/ItemLookupRequest&gt;\r\n\t\t\t&lt;/Request&gt;\r\n\t\t\t&lt;Item&gt;\r\n\t\t\t&lt;ASIN&gt;0545010225&lt;/ASIN&gt;\r\n\t\t\t&lt;DetailPageURL&gt;\r\n\t\t\thttp://www.amazon.com/Harry-Potter-Deathly-Hallows-Book/dp/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/DetailPageURL&gt;\r\n\t\t\t&lt;ItemLinks&gt;\r\n\t\t\t&lt;ItemLink&gt;\r\n\t\t\t&lt;Description&gt;Technical Details&lt;/Description&gt;\r\n\t\t\t&lt;URL&gt;\r\n\t\t\thttp://www.amazon.com/Harry-Potter-Deathly-Hallows-Book/dp/tech-data/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/URL&gt;\r\n\t\t\t&lt;/ItemLink&gt;\r\n\t\t\t&lt;ItemLink&gt;\r\n\t\t\t&lt;Description&gt;Add To Baby Registry&lt;/Description&gt;\r\n\t\t\t&lt;URL&gt;\r\n\t\t\thttp://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D0545010225%26SubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/URL&gt;\r\n\t\t\t&lt;/ItemLink&gt;\r\n\t\t\t&lt;ItemLink&gt;\r\n\t\t\t&lt;Description&gt;Add To Wedding Registry&lt;/Description&gt;\r\n\t\t\t&lt;URL&gt;\r\n\t\t\thttp://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D0545010225%26SubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/URL&gt;\r\n\t\t\t&lt;/ItemLink&gt;\r\n\t\t\t&lt;ItemLink&gt;\r\n\t\t\t&lt;Description&gt;Add To Wishlist&lt;/Description&gt;\r\n\t\t\t&lt;URL&gt;\r\n\t\t\thttp://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D0545010225%26SubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/URL&gt;\r\n\t\t\t&lt;/ItemLink&gt;\r\n\t\t\t&lt;ItemLink&gt;\r\n\t\t\t&lt;Description&gt;Tell A Friend&lt;/Description&gt;\r\n\t\t\t&lt;URL&gt;\r\n\t\t\thttp://www.amazon.com/gp/pdp/taf/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/URL&gt;\r\n\t\t\t&lt;/ItemLink&gt;\r\n\t\t\t&lt;ItemLink&gt;\r\n\t\t\t&lt;Description&gt;All Customer Reviews&lt;/Description&gt;\r\n\t\t\t&lt;URL&gt;\r\n\t\t\thttp://www.amazon.com/review/product/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/URL&gt;\r\n\t\t\t&lt;/ItemLink&gt;\r\n\t\t\t&lt;ItemLink&gt;\r\n\t\t\t&lt;Description&gt;All Offers&lt;/Description&gt;\r\n\t\t\t&lt;URL&gt;\r\n\t\t\thttp://www.amazon.com/gp/offer-listing/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/URL&gt;\r\n\t\t\t&lt;/ItemLink&gt;\r\n\t\t\t&lt;/ItemLinks&gt;\r\n\t\t\t&lt;ItemAttributes&gt;\r\n\t\t\t&lt;Author&gt;J. K. Rowling&lt;/Author&gt;\r\n\t\t\t&lt;Creator Role=&quot;Illustrator&quot;&gt;Mary GrandPr&#233;&lt;/Creator&gt;\r\n\t\t\t&lt;Manufacturer&gt;Arthur A. Levine Books&lt;/Manufacturer&gt;\r\n\t\t\t&lt;ProductGroup&gt;Book&lt;/ProductGroup&gt;\r\n\t\t\t&lt;Title&gt;Harry Potter and the Deathly Hallows (Book 7)&lt;/Title&gt;\r\n\t\t\t&lt;/ItemAttributes&gt;\r\n\t\t\t&lt;/Item&gt;\r\n\t\t\t&lt;/Items&gt;\r\n\t\t\t&lt;/ItemLookupResponse&gt;","title":"Error trying to consume Amazon Product Affiliate API","body":"<p>It works for me. Could be something wrong in your signature. AssociateTag is your 'Associates ID' that you get after sign up for affiliate not any tracking ID. And I sign for Amazon.co.uk Associates.</p>\n\n<p><a href=\"http://ecs.amazonaws.com/onca/xml?AWSAccessKeyId=AKIAIAAPUKLVP6OGAT4Q&amp;AssociateTag=jay048-21&amp;ItemId=0545010225&amp;Operation=ItemLookup&amp;ResponseGroup=Small&amp;Service=AWSECommerceService&amp;Timestamp=2014-03-05T17%3A14%3A31Z&amp;Version=2009-03-31&amp;Signature=Vfto8GdjP875KGwYrpe1QyfDkpUr3HDkQAyAcyyI4n0%3D\" rel=\"nofollow\">http://ecs.amazonaws.com/onca/xml?AWSAccessKeyId=AKIAIAAPUKLVP6OGAT4Q&amp;AssociateTag=jay048-21&amp;ItemId=0545010225&amp;Operation=ItemLookup&amp;ResponseGroup=Small&amp;Service=AWSECommerceService&amp;Timestamp=2014-03-05T17%3A14%3A31Z&amp;Version=2009-03-31&amp;Signature=Vfto8GdjP875KGwYrpe1QyfDkpUr3HDkQAyAcyyI4n0%3D</a></p>\n\n<pre><code>        &lt;ItemLookupResponse xmlns=\"http://webservices.amazon.com/AWSECommerceService/2011-08-01\"&gt;\n        &lt;OperationRequest&gt;\n        &lt;HTTPHeaders&gt;\n        &lt;Header Name=\"UserAgent\" Value=\"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.146 Safari/537.36\"/&gt;\n        &lt;/HTTPHeaders&gt;\n        &lt;RequestId&gt;5f5e44b1-8005-4b27-846a-9959775bdf24&lt;/RequestId&gt;\n        &lt;Arguments&gt;\n        &lt;Argument Name=\"Operation\" Value=\"ItemLookup\"/&gt;\n        &lt;Argument Name=\"Service\" Value=\"AWSECommerceService\"/&gt;\n        &lt;Argument Name=\"Signature\" Value=\"Vfto8GdjP875KGwYrpe1QyfDkpUr3HDkQAyAcyyI4n0=\"/&gt;\n        &lt;Argument Name=\"AssociateTag\" Value=\"jay048-21\"/&gt;\n        &lt;Argument Name=\"Version\" Value=\"2009-03-31\"/&gt;\n        &lt;Argument Name=\"ItemId\" Value=\"0545010225\"/&gt;\n        &lt;Argument Name=\"AWSAccessKeyId\" Value=\"AKIAIAAPUKLVP6OGAT4Q\"/&gt;\n        &lt;Argument Name=\"Timestamp\" Value=\"2014-03-05T17:14:31Z\"/&gt;\n        &lt;Argument Name=\"ResponseGroup\" Value=\"Small\"/&gt;\n        &lt;/Arguments&gt;\n        &lt;RequestProcessingTime&gt;0.0143640000000000&lt;/RequestProcessingTime&gt;\n        &lt;/OperationRequest&gt;\n        &lt;Items&gt;\n        &lt;Request&gt;\n        &lt;IsValid&gt;True&lt;/IsValid&gt;\n        &lt;ItemLookupRequest&gt;\n        &lt;IdType&gt;ASIN&lt;/IdType&gt;\n        &lt;ItemId&gt;0545010225&lt;/ItemId&gt;\n        &lt;ResponseGroup&gt;Small&lt;/ResponseGroup&gt;\n        &lt;VariationPage&gt;All&lt;/VariationPage&gt;\n        &lt;/ItemLookupRequest&gt;\n        &lt;/Request&gt;\n        &lt;Item&gt;\n        &lt;ASIN&gt;0545010225&lt;/ASIN&gt;\n        &lt;DetailPageURL&gt;\n        http://www.amazon.com/Harry-Potter-Deathly-Hallows-Book/dp/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0545010225\n        &lt;/DetailPageURL&gt;\n        &lt;ItemLinks&gt;\n        &lt;ItemLink&gt;\n        &lt;Description&gt;Technical Details&lt;/Description&gt;\n        &lt;URL&gt;\n        http://www.amazon.com/Harry-Potter-Deathly-Hallows-Book/dp/tech-data/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\n        &lt;/URL&gt;\n        &lt;/ItemLink&gt;\n        &lt;ItemLink&gt;\n        &lt;Description&gt;Add To Baby Registry&lt;/Description&gt;\n        &lt;URL&gt;\n        http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D0545010225%26SubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\n        &lt;/URL&gt;\n        &lt;/ItemLink&gt;\n        &lt;ItemLink&gt;\n        &lt;Description&gt;Add To Wedding Registry&lt;/Description&gt;\n        &lt;URL&gt;\n        http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D0545010225%26SubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\n        &lt;/URL&gt;\n        &lt;/ItemLink&gt;\n        &lt;ItemLink&gt;\n        &lt;Description&gt;Add To Wishlist&lt;/Description&gt;\n        &lt;URL&gt;\n        http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D0545010225%26SubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\n        &lt;/URL&gt;\n        &lt;/ItemLink&gt;\n        &lt;ItemLink&gt;\n        &lt;Description&gt;Tell A Friend&lt;/Description&gt;\n        &lt;URL&gt;\n        http://www.amazon.com/gp/pdp/taf/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\n        &lt;/URL&gt;\n        &lt;/ItemLink&gt;\n        &lt;ItemLink&gt;\n        &lt;Description&gt;All Customer Reviews&lt;/Description&gt;\n        &lt;URL&gt;\n        http://www.amazon.com/review/product/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\n        &lt;/URL&gt;\n        &lt;/ItemLink&gt;\n        &lt;ItemLink&gt;\n        &lt;Description&gt;All Offers&lt;/Description&gt;\n        &lt;URL&gt;\n        http://www.amazon.com/gp/offer-listing/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\n        &lt;/URL&gt;\n        &lt;/ItemLink&gt;\n        &lt;/ItemLinks&gt;\n        &lt;ItemAttributes&gt;\n        &lt;Author&gt;J. K. Rowling&lt;/Author&gt;\n        &lt;Creator Role=\"Illustrator\"&gt;Mary GrandPré&lt;/Creator&gt;\n        &lt;Manufacturer&gt;Arthur A. Levine Books&lt;/Manufacturer&gt;\n        &lt;ProductGroup&gt;Book&lt;/ProductGroup&gt;\n        &lt;Title&gt;Harry Potter and the Deathly Hallows (Book 7)&lt;/Title&gt;\n        &lt;/ItemAttributes&gt;\n        &lt;/Item&gt;\n        &lt;/Items&gt;\n        &lt;/ItemLookupResponse&gt;\n</code></pre>\n"}],"owner":{"account_id":4124941,"reputation":315,"user_id":3384340,"accept_rate":70,"display_name":"Ethan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22204675,"answer_count":1,"score":1,"last_activity_date":1678608387,"creation_date":1394035836,"question_id":22203038,"body_markdown":"I&#39;m trying to consume amazon product affiliate API and it has been a really confusing experience. \r\n\r\nI&#39;ve signed up for AWS so I have my `ACCESS_KEY_ID` and `SECRET_ACCESS_KEY` additionally I&#39;ve signed up on `https://affiliate-program.amazon.com/` and have gotten my `Tracking ID`\r\n\r\nNow when trying to make a request with this URL\r\n\r\n    http://ecs.amazonaws.com/onca/xml?\r\n    AWSAccessKeyId=AKIAI4E9BPWYGSC7VNZQ\r\n    &amp;ItemId=0545010225\r\n    &amp;Operation=ItemLookup\r\n    &amp;ResponseGroup=Small\r\n    &amp;Service=AWSECommerceService\r\n    &amp;Timestamp=2014-03-05T15%3A55%3A46Z\r\n    &amp;Version=2009-03-31\r\n    &amp;Signature=mb6Stjz4I5GHV51bxVyACS4T%2FwGjplkVymW8eLDoh4Q%3D\r\n    &amp;AssociateTag=sample026-20\r\n\r\nI get an error \r\n\r\n    &lt;Error&gt;\r\n        &lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;\r\n        &lt;Message&gt;The request signature we calculated does not match the signature you provided. \r\n         Check your AWS Secret Access Key and signing method. \r\n         Consult the service documentation for details.&lt;/Message&gt;\r\n    &lt;/Error&gt;\r\n\r\nI&#39;ve supplied all the parameters required but not sure why the information isn&#39;t matching.\r\nIf I remove the `AssociateTag` parameter from the URL then I get this error:\r\n\r\n    &lt;Error&gt;\r\n       &lt;Code&gt;AWS.MissingParameters&lt;/Code&gt;\r\n       &lt;Message&gt;Your request is missing required parameters. Required parameters include AssociateTag.&lt;/Message&gt;\r\n    &lt;/Error&gt;\r\n\r\nIs `AssociateTag` something different than the `Tracking ID` that I received after signing up on [amazon link][1]\r\n\r\nI&#39;m trying to get the sample code form `http://aws.amazon.com/code/Product-Advertising-API/2478` to execute. Unless there is a better option out there....\r\n\r\n\r\n  [1]: https://affiliate-program.amazon.com","title":"Error trying to consume Amazon Product Affiliate API","body":"<p>I'm trying to consume amazon product affiliate API and it has been a really confusing experience. </p>\n\n<p>I've signed up for AWS so I have my <code>ACCESS_KEY_ID</code> and <code>SECRET_ACCESS_KEY</code> additionally I've signed up on <code>https://affiliate-program.amazon.com/</code> and have gotten my <code>Tracking ID</code></p>\n\n<p>Now when trying to make a request with this URL</p>\n\n<pre><code>http://ecs.amazonaws.com/onca/xml?\nAWSAccessKeyId=AKIAI4E9BPWYGSC7VNZQ\n&amp;ItemId=0545010225\n&amp;Operation=ItemLookup\n&amp;ResponseGroup=Small\n&amp;Service=AWSECommerceService\n&amp;Timestamp=2014-03-05T15%3A55%3A46Z\n&amp;Version=2009-03-31\n&amp;Signature=mb6Stjz4I5GHV51bxVyACS4T%2FwGjplkVymW8eLDoh4Q%3D\n&amp;AssociateTag=sample026-20\n</code></pre>\n\n<p>I get an error </p>\n\n<pre><code>&lt;Error&gt;\n    &lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;\n    &lt;Message&gt;The request signature we calculated does not match the signature you provided. \n     Check your AWS Secret Access Key and signing method. \n     Consult the service documentation for details.&lt;/Message&gt;\n&lt;/Error&gt;\n</code></pre>\n\n<p>I've supplied all the parameters required but not sure why the information isn't matching.\nIf I remove the <code>AssociateTag</code> parameter from the URL then I get this error:</p>\n\n<pre><code>&lt;Error&gt;\n   &lt;Code&gt;AWS.MissingParameters&lt;/Code&gt;\n   &lt;Message&gt;Your request is missing required parameters. Required parameters include AssociateTag.&lt;/Message&gt;\n&lt;/Error&gt;\n</code></pre>\n\n<p>Is <code>AssociateTag</code> something different than the <code>Tracking ID</code> that I received after signing up on <a href=\"https://affiliate-program.amazon.com\" rel=\"nofollow\">amazon link</a></p>\n\n<p>I'm trying to get the sample code form <code>http://aws.amazon.com/code/Product-Advertising-API/2478</code> to execute. Unless there is a better option out there....</p>\n"},{"tags":["java","amazon-web-services","logging","slf4j"],"answers":[{"tags":[],"owner":{"account_id":5820826,"reputation":1244,"user_id":4588977,"accept_rate":100,"display_name":"Luan Kevin Ferreira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1454495894,"creation_date":1454495894,"answer_id":35174706,"question_id":35135675,"body_markdown":"I solved the problem setting the path that matches the structure that the logs are stored in tomcat Amazon.\r\n\r\nI made the following change in my filter configuration file.\r\n\r\n    &lt;File&gt;/var/log/tomcat8/nomedoarquivo.log&lt;/File&gt;\r\n\r\n[http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.logging.html][1]\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.logging.html","title":"AWS logging separate log files using SLF4J","body":"<p>I solved the problem setting the path that matches the structure that the logs are stored in tomcat Amazon.</p>\n\n<p>I made the following change in my filter configuration file.</p>\n\n<pre><code>&lt;File&gt;/var/log/tomcat8/nomedoarquivo.log&lt;/File&gt;\n</code></pre>\n\n<p><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.logging.html\" rel=\"nofollow\">http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.logging.html</a></p>\n"}],"owner":{"account_id":5820826,"reputation":1244,"user_id":4588977,"accept_rate":100,"display_name":"Luan Kevin Ferreira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35174706,"answer_count":1,"score":1,"last_activity_date":1678608366,"creation_date":1454344862,"question_id":35135675,"body_markdown":"Has anyone implemented using log **SLF4J** to enable the application separate the files by tenant on Amazon environment?\r\n\r\nI made this implementation in my application, running on *tomcat* in localhost site, the log files are generated normally, but when I deploy on Amazon and then I download the logs, files are not generated, the outputs end up going to the `catalina.out`.","title":"AWS logging separate log files using SLF4J","body":"<p>Has anyone implemented using log <strong>SLF4J</strong> to enable the application separate the files by tenant on Amazon environment?</p>\n\n<p>I made this implementation in my application, running on <em>tomcat</em> in localhost site, the log files are generated normally, but when I deploy on Amazon and then I download the logs, files are not generated, the outputs end up going to the <code>catalina.out</code>.</p>\n"},{"tags":["java","scala","sbt","apple-m1"],"comments":[{"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"score":0,"creation_date":1678539906,"post_id":75704110,"comment_id":133554289,"body_markdown":"can you check that you&#39;re running jdk compiled for arm64? One way you can do it via `sbt console` and when console is launched, execute `System.getProperty(&quot;os.arch&quot;)` and it should print `aarch64`","body":"can you check that you&#39;re running jdk compiled for arm64? One way you can do it via <code>sbt console</code> and when console is launched, execute <code>System.getProperty(&quot;os.arch&quot;)</code> and it should print <code>aarch64</code>"},{"owner":{"account_id":2843926,"reputation":399,"user_id":2442868,"display_name":"Gesar"},"score":0,"creation_date":1678608220,"post_id":75704110,"comment_id":133563808,"body_markdown":"It does print `aarch64` yep.","body":"It does print <code>aarch64</code> yep."},{"owner":{"account_id":2843926,"reputation":399,"user_id":2442868,"display_name":"Gesar"},"score":0,"creation_date":1678608273,"post_id":75704110,"comment_id":133563814,"body_markdown":"I&#39;ve narrowed down the issue and if I run SBT forked, then it can&#39;t compile in parallel (presumably can&#39;t test in parallel too but I&#39;ve yet to check).\n\nIf I run SBT in non-forked mode then it can compile in parallel","body":"I&#39;ve narrowed down the issue and if I run SBT forked, then it can&#39;t compile in parallel (presumably can&#39;t test in parallel too but I&#39;ve yet to check).  If I run SBT in non-forked mode then it can compile in parallel"}],"owner":{"account_id":2843926,"reputation":399,"user_id":2442868,"display_name":"Gesar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678608299,"creation_date":1678528667,"question_id":75704110,"body_markdown":"It dramatically slows my build time down.\r\n\r\nEvery module is compiled in sequence rather than in parallel when SBT is in &quot;fork&quot; mode.\r\n\r\nOn my old mac, non-M architecture, it compiled as many unrelated modules concurrently as possible. No SBT settings have changed.\r\n\r\nI&#39;ve tried a variety of java distros.\r\n\r\nCurrent setup is:\r\n\r\n* SBT 1.8.2 installed with SDKMan\r\n* Eclipse Adoptium Java 17.0.4.1 installed with SDKMan\r\n\r\nAnyone got any hints on how to get parallelisation back? What settings I&#39;m missing?","title":"SBT on Mac M2 architecture not compiling modules in parallel in fork mode","body":"<p>It dramatically slows my build time down.</p>\n<p>Every module is compiled in sequence rather than in parallel when SBT is in &quot;fork&quot; mode.</p>\n<p>On my old mac, non-M architecture, it compiled as many unrelated modules concurrently as possible. No SBT settings have changed.</p>\n<p>I've tried a variety of java distros.</p>\n<p>Current setup is:</p>\n<ul>\n<li>SBT 1.8.2 installed with SDKMan</li>\n<li>Eclipse Adoptium Java 17.0.4.1 installed with SDKMan</li>\n</ul>\n<p>Anyone got any hints on how to get parallelisation back? What settings I'm missing?</p>\n"},{"tags":["java","amazon-web-services"],"answers":[{"tags":[],"owner":{"account_id":249119,"reputation":13921,"user_id":524946,"display_name":"jpkroehling"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343661048,"creation_date":1343661048,"answer_id":11724267,"question_id":11673834,"body_markdown":"Given your setup, the best solution is to use Amazon&#39;s SNS. This is equivalent to a JMS Topic, so, your app can subscribe to events published by other parties (probably the same app running in another instance) on the topic. Then, each consumer of the topic would broadcast the chat message to the users connected to said server. \r\n\r\nhttp://aws.amazon.com/sns/","title":"Amazon Elastic Beanstalk Broadcast","body":"<p>Given your setup, the best solution is to use Amazon's SNS. This is equivalent to a JMS Topic, so, your app can subscribe to events published by other parties (probably the same app running in another instance) on the topic. Then, each consumer of the topic would broadcast the chat message to the users connected to said server. </p>\n\n<p><a href=\"http://aws.amazon.com/sns/\" rel=\"nofollow\">http://aws.amazon.com/sns/</a></p>\n"}],"owner":{"account_id":989385,"reputation":611,"user_id":1007099,"accept_rate":31,"display_name":"Rookee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678607956,"creation_date":1343320177,"question_id":11673834,"body_markdown":"I would like to develop a simple chat, but for that I need to inform all clients that a user wrote a message. Simple with one server instance, but how it works with 2+...\r\n\r\nIs there a way to inform all registered instances in my beanstalk or how can I resolve this problem. \r\n\r\nThanks for help!\r\n\r\nRegards,\r\n\r\nRookee","title":"Amazon Elastic Beanstalk Broadcast","body":"<p>I would like to develop a simple chat, but for that I need to inform all clients that a user wrote a message. Simple with one server instance, but how it works with 2+...</p>\n\n<p>Is there a way to inform all registered instances in my beanstalk or how can I resolve this problem. </p>\n\n<p>Thanks for help!</p>\n\n<p>Regards,</p>\n\n<p>Rookee</p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot"],"comments":[{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1521461526,"post_id":49361317,"comment_id":85725350,"body_markdown":"you can use it as long as it is within free tier limit. If you happen to use any other service, then they will charge. It depends on what services you are using","body":"you can use it as long as it is within free tier limit. If you happen to use any other service, then they will charge. It depends on what services you are using"}],"answers":[{"tags":[],"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1521457566,"creation_date":1521457566,"answer_id":49361472,"question_id":49361317,"body_markdown":"It is possible to do so, but free tier for EC2 instances that you need to run spring boot application (and mongo/postgres that you install manually on that instance) does expire after 12 months.","title":"Spring Boot project using only AWS free tier","body":"<p>It is possible to do so, but free tier for EC2 instances that you need to run spring boot application (and mongo/postgres that you install manually on that instance) does expire after 12 months.</p>\n"},{"tags":[],"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521464608,"creation_date":1521464608,"answer_id":49363692,"question_id":49361317,"body_markdown":"Yes, You can deploy your project on AWS infrastructure in free tier with above requirement. \r\n\r\n - For hosting the application you can use **EC2** \r\n - For relational db you can use **RDS** service with **postgres**.\r\n - AWS URLs are very big and complex. So to access your application from AWS infrastructure, You need to use Route 53 service to map it some nice domain name.\r\n\r\nNote: If you want to do it for development purpose only, then you can skip the route 53 part.","title":"Spring Boot project using only AWS free tier","body":"<p>Yes, You can deploy your project on AWS infrastructure in free tier with above requirement. </p>\n\n<ul>\n<li>For hosting the application you can use <strong>EC2</strong> </li>\n<li>For relational db you can use <strong>RDS</strong> service with <strong>postgres</strong>.</li>\n<li>AWS URLs are very big and complex. So to access your application from AWS infrastructure, You need to use Route 53 service to map it some nice domain name.</li>\n</ul>\n\n<p>Note: If you want to do it for development purpose only, then you can skip the route 53 part.</p>\n"}],"owner":{"account_id":6379814,"reputation":3935,"user_id":4949653,"display_name":"torina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1528,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49361472,"answer_count":2,"score":3,"last_activity_date":1678607923,"creation_date":1521457109,"question_id":49361317,"body_markdown":"AWS has a list of free tier (non-expiring offers) [here][1]. I wonder if it is enough to deploy a small(less than 1 Gb in total) Spring Boot(+ mongo/postgres) hobby project using ONLY these features. \r\n\r\n\r\n  [1]: https://aws.amazon.com/free/","title":"Spring Boot project using only AWS free tier","body":"<p>AWS has a list of free tier (non-expiring offers) <a href=\"https://aws.amazon.com/free/\" rel=\"nofollow noreferrer\">here</a>. I wonder if it is enough to deploy a small(less than 1 Gb in total) Spring Boot(+ mongo/postgres) hobby project using ONLY these features. </p>\n"},{"tags":["java","string","integer","numbers","concatenation"],"comments":[{"owner":{"account_id":2445796,"reputation":618,"user_id":2133224,"display_name":"j.karlsson"},"score":1,"creation_date":1678608350,"post_id":75711747,"comment_id":133563820,"body_markdown":"This has been answered here: https://stackoverflow.com/questions/29313253/precedence-in-strings-in-java#29313288\nand here: https://stackoverflow.com/questions/15340207/java-string-concatenation-with-operator","body":"This has been answered here: <a href=\"https://stackoverflow.com/questions/29313253/precedence-in-strings-in-java#29313288\" title=\"precedence in strings in java%2329313288\">stackoverflow.com/questions/29313253/&hellip;</a> and here: <a href=\"https://stackoverflow.com/questions/15340207/java-string-concatenation-with-operator\" title=\"java string concatenation with operator\">stackoverflow.com/questions/15340207/&hellip;</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678608896,"post_id":75711747,"comment_id":133563883,"body_markdown":"See the official specification [JLS 15.18. Additive Operators](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.18) and [15.7. Evaluation Order](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.7)","body":"See the official specification <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.18\" rel=\"nofollow noreferrer\">JLS 15.18. Additive Operators</a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.7\" rel=\"nofollow noreferrer\">15.7. Evaluation Order</a>"}],"owner":{"account_id":19187137,"reputation":1,"user_id":14017691,"display_name":"Vishal Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678609150,"answer_count":0,"score":0,"last_activity_date":1678607823,"creation_date":1678607628,"question_id":75711747,"body_markdown":"    public static void main(String[] args) {\r\n            int a = 10;\r\n            int b = 20;\r\n    \r\n            System.out.println(&quot;result &quot; + a + b); //OUTPUT: result 1020\r\n            System.out.println(a + b);             //OUTPUT: 30\r\n            System.out.println(a + b + &quot;result &quot;); //OUTPUT: 30result\r\n            System.out.println(a + b + &quot;result &quot; + a + b);  //OUTPUT: 30result 1020\r\n        }\r\n    \r\n\r\nDOUBT:\r\nWhen we do &quot;result &quot; + a + b we are getting concatenation of all, i.e output = result 1020\r\n    \r\nBut when we do a + b + &quot;result &quot;, we are getting addition and then concatenation,i.e output = 30result, as per the above logic shouldn&#39;t output be output = 1020result...........?\r\n\r\nCan someone please explain to me all 4 print statements of what is happening as some cases concatenation is taking precedence over addition and vice versa in other cases...can someone please give clarity on what exactly is happening in all 4 print cases mentioned in the above code?`","title":"when is addition taking place and when is concatenation taking place in the case of the below 4 cases?","body":"<pre><code>public static void main(String[] args) {\n        int a = 10;\n        int b = 20;\n\n        System.out.println(&quot;result &quot; + a + b); //OUTPUT: result 1020\n        System.out.println(a + b);             //OUTPUT: 30\n        System.out.println(a + b + &quot;result &quot;); //OUTPUT: 30result\n        System.out.println(a + b + &quot;result &quot; + a + b);  //OUTPUT: 30result 1020\n    }\n</code></pre>\n<p>DOUBT:\nWhen we do &quot;result &quot; + a + b we are getting concatenation of all, i.e output = result 1020</p>\n<p>But when we do a + b + &quot;result &quot;, we are getting addition and then concatenation,i.e output = 30result, as per the above logic shouldn't output be output = 1020result...........?</p>\n<p>Can someone please explain to me all 4 print statements of what is happening as some cases concatenation is taking precedence over addition and vice versa in other cases...can someone please give clarity on what exactly is happening in all 4 print cases mentioned in the above code?`</p>\n"},{"tags":["java","amazon-web-services","api","amazon-ec2","amazon-ami"],"comments":[{"owner":{"account_id":2413214,"reputation":53,"user_id":2107854,"accept_rate":40,"display_name":"Andriy "},"score":0,"creation_date":1455827245,"post_id":32157262,"comment_id":58676204,"body_markdown":"No, only option is to get platform for windows machines, but it&#39;s not helpful at all","body":"No, only option is to get platform for windows machines, but it&#39;s not helpful at all"}],"answers":[{"comments":[{"owner":{"account_id":2413214,"reputation":53,"user_id":2107854,"accept_rate":40,"display_name":"Andriy "},"score":1,"creation_date":1440356302,"post_id":32162415,"comment_id":52227256,"body_markdown":"Thanks, I got the same info - and if AMI doesn&#39;t contain description - there is no way to determine what kind of OS is inside. How Amazon determines amount of money they suppose to charge for some vm - if the is no any way to get it with their API?","body":"Thanks, I got the same info - and if AMI doesn&#39;t contain description - there is no way to determine what kind of OS is inside. How Amazon determines amount of money they suppose to charge for some vm - if the is no any way to get it with their API?"},{"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1440365509,"post_id":32162415,"comment_id":52229832,"body_markdown":"There is hidden information associated with disk images that identifies the Operating System. This information is associated with disks when they are created, and is used to determine on-going charging.","body":"There is hidden information associated with disk images that identifies the Operating System. This information is associated with disks when they are created, and is used to determine on-going charging."}],"tags":[],"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440294304,"creation_date":1440294304,"answer_id":32162415,"question_id":32157262,"body_markdown":"There is no Amazon EC2 API call to see &quot;inside&quot; the Amazon EC2 instance. However, you can **obtain information about the AMI used to launch the instance**.\r\n\r\nHere&#39;s an example, using the [AWS Command-Line Interface (CLI)][1], which makes similar API calls to Java.\r\n\r\n    $ aws ec2 describe-instances --query &#39;Reservations[*].Instances[*].ImageId&#39; --filter Name=instance-id,Values=i-xxxxxxxx --output text\r\n    ami-d9fe9be3\r\n    \r\n    $ aws ec2 describe-images --image-ids ami-d9fe9be3\r\n    {\r\n        &quot;Images&quot;: [\r\n            {\r\n                &quot;VirtualizationType&quot;: &quot;hvm&quot;, \r\n                &quot;Name&quot;: &quot;amzn-ami-hvm-2014.03.2.x86_64-ebs&quot;, \r\n                &quot;Hypervisor&quot;: &quot;xen&quot;, \r\n                &quot;ImageOwnerAlias&quot;: &quot;amazon&quot;, \r\n                &quot;SriovNetSupport&quot;: &quot;simple&quot;, \r\n                &quot;ImageId&quot;: &quot;ami-d9fe9be3&quot;, \r\n                &quot;State&quot;: &quot;available&quot;, \r\n                &quot;BlockDeviceMappings&quot;: [\r\n                    {\r\n                        &quot;DeviceName&quot;: &quot;/dev/xvda&quot;, \r\n                        &quot;Ebs&quot;: {\r\n                            &quot;DeleteOnTermination&quot;: true, \r\n                            &quot;SnapshotId&quot;: &quot;snap-c90a03fd&quot;, \r\n                            &quot;VolumeSize&quot;: 8, \r\n                            &quot;VolumeType&quot;: &quot;standard&quot;, \r\n                            &quot;Encrypted&quot;: false\r\n                        }\r\n                    }\r\n                ], \r\n                &quot;Architecture&quot;: &quot;x86_64&quot;, \r\n                &quot;ImageLocation&quot;: &quot;amazon/amzn-ami-hvm-2014.03.2.x86_64-ebs&quot;, \r\n                &quot;RootDeviceType&quot;: &quot;ebs&quot;, \r\n                &quot;OwnerId&quot;: &quot;137112412989&quot;, \r\n                &quot;RootDeviceName&quot;: &quot;/dev/xvda&quot;, \r\n                &quot;CreationDate&quot;: &quot;2014-06-11T19:46:45.000Z&quot;, \r\n                &quot;Public&quot;: true, \r\n                &quot;ImageType&quot;: &quot;machine&quot;, \r\n                &quot;Description&quot;: &quot;Amazon Linux AMI x86_64 HVM EBS&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nInformation can be extracted from the `Description` field. However, please note that **Windows AMIs are deprecated each month** as updates are made available by Microsoft. This means that old Windows instances might not have information accessible about their AMIs.\r\n\r\n  [1]: http://aws.amazon.com/cli/\r\n","title":"How can I get OS info from Amazon instance?","body":"<p>There is no Amazon EC2 API call to see \"inside\" the Amazon EC2 instance. However, you can <strong>obtain information about the AMI used to launch the instance</strong>.</p>\n\n<p>Here's an example, using the <a href=\"http://aws.amazon.com/cli/\" rel=\"nofollow\">AWS Command-Line Interface (CLI)</a>, which makes similar API calls to Java.</p>\n\n<pre><code>$ aws ec2 describe-instances --query 'Reservations[*].Instances[*].ImageId' --filter Name=instance-id,Values=i-xxxxxxxx --output text\nami-d9fe9be3\n\n$ aws ec2 describe-images --image-ids ami-d9fe9be3\n{\n    \"Images\": [\n        {\n            \"VirtualizationType\": \"hvm\", \n            \"Name\": \"amzn-ami-hvm-2014.03.2.x86_64-ebs\", \n            \"Hypervisor\": \"xen\", \n            \"ImageOwnerAlias\": \"amazon\", \n            \"SriovNetSupport\": \"simple\", \n            \"ImageId\": \"ami-d9fe9be3\", \n            \"State\": \"available\", \n            \"BlockDeviceMappings\": [\n                {\n                    \"DeviceName\": \"/dev/xvda\", \n                    \"Ebs\": {\n                        \"DeleteOnTermination\": true, \n                        \"SnapshotId\": \"snap-c90a03fd\", \n                        \"VolumeSize\": 8, \n                        \"VolumeType\": \"standard\", \n                        \"Encrypted\": false\n                    }\n                }\n            ], \n            \"Architecture\": \"x86_64\", \n            \"ImageLocation\": \"amazon/amzn-ami-hvm-2014.03.2.x86_64-ebs\", \n            \"RootDeviceType\": \"ebs\", \n            \"OwnerId\": \"137112412989\", \n            \"RootDeviceName\": \"/dev/xvda\", \n            \"CreationDate\": \"2014-06-11T19:46:45.000Z\", \n            \"Public\": true, \n            \"ImageType\": \"machine\", \n            \"Description\": \"Amazon Linux AMI x86_64 HVM EBS\"\n        }\n    ]\n}\n</code></pre>\n\n<p>Information can be extracted from the <code>Description</code> field. However, please note that <strong>Windows AMIs are deprecated each month</strong> as updates are made available by Microsoft. This means that old Windows instances might not have information accessible about their AMIs.</p>\n"}],"owner":{"account_id":2413214,"reputation":53,"user_id":2107854,"accept_rate":40,"display_name":"Andriy "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2082,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678607779,"creation_date":1440253981,"question_id":32157262,"body_markdown":"is it any way to get OS from Amazon Instance using Java API?\r\nthere are methods platform - but it returns only &quot;Windows&quot; or null, even if I get Windows how I can figure out what kind of Os family it is - like Windows, windows + sql standard, windows + websql, windows + sql enterprice\r\nThe same about linux - I didn&#39;t find a way to get info - is it ubuntu or redhat","title":"How can I get OS info from Amazon instance?","body":"<p>is it any way to get OS from Amazon Instance using Java API?\nthere are methods platform - but it returns only \"Windows\" or null, even if I get Windows how I can figure out what kind of Os family it is - like Windows, windows + sql standard, windows + websql, windows + sql enterprice\nThe same about linux - I didn't find a way to get info - is it ubuntu or redhat</p>\n"},{"tags":["java","postgresql","amazon-web-services"],"comments":[{"owner":{"account_id":415426,"reputation":19183,"user_id":790224,"display_name":"datasage"},"score":0,"creation_date":1397157011,"post_id":22996284,"comment_id":35122689,"body_markdown":"To connect to postgreSQL on RDS you would just use the normal postgreSQL java driver. The SDK provides methods to control RDS instances.","body":"To connect to postgreSQL on RDS you would just use the normal postgreSQL java driver. The SDK provides methods to control RDS instances."}],"answers":[{"tags":[],"owner":{"account_id":171331,"reputation":310944,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1397177871,"creation_date":1397177871,"answer_id":23001716,"question_id":22996284,"body_markdown":"Java APIs for RDS are part of the broader [AWS Java SDK](http://aws.amazon.com/sdkforjava/). The APIs exposed there can be used to start, modify, and destroy RDS instances.\r\n\r\nData connectivity is via PgJDBC. The AWS SDK for RDS doesn&#39;t know or care about actually accessing the data, just managing the instances.\r\n\r\nSo there&#39;s no single API like you describe, though you could probably write one as an extension/wrapper for an ORM like Hibernate, using the AWS SDK to provide automatic provisioning of servers when persistence units are created.","title":"Amazon RDS: is there java API for PostgreSQL?","body":"<p>Java APIs for RDS are part of the broader <a href=\"http://aws.amazon.com/sdkforjava/\" rel=\"nofollow\">AWS Java SDK</a>. The APIs exposed there can be used to start, modify, and destroy RDS instances.</p>\n\n<p>Data connectivity is via PgJDBC. The AWS SDK for RDS doesn't know or care about actually accessing the data, just managing the instances.</p>\n\n<p>So there's no single API like you describe, though you could probably write one as an extension/wrapper for an ORM like Hibernate, using the AWS SDK to provide automatic provisioning of servers when persistence units are created.</p>\n"}],"owner":{"account_id":2819926,"reputation":351,"user_id":2423894,"accept_rate":67,"display_name":"tmn4jq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":23001716,"answer_count":1,"score":0,"last_activity_date":1678607640,"creation_date":1397154969,"question_id":22996284,"body_markdown":"I&#39;m new to Amazon RDS and stuck in a vast amout of information about it. So, my brain is rejecting new information now, that&#39;s why I decided to ask this question =)\r\n\r\nThe question is: is there java API for PostgreSQL in Amazon RDS? I mean something like that:\r\n\r\n    AmazonPosgtreSQL aps = new AmazonPostreSQL(...);\r\n    aps.connect(...);\r\n    aps.persist(...);\r\n    aps.get(...);\r\n\r\nThere AmazonPostgreSQL is some class provided by SDK.\r\n\r\nI have read some manuals, including user guide about Amazon RDS, and as far as I understand, there is no such API. We just create a DB Instance in cloud and Amazon just provides us with a link to it, am I right?","title":"Amazon RDS: is there java API for PostgreSQL?","body":"<p>I'm new to Amazon RDS and stuck in a vast amout of information about it. So, my brain is rejecting new information now, that's why I decided to ask this question =)</p>\n\n<p>The question is: is there java API for PostgreSQL in Amazon RDS? I mean something like that:</p>\n\n<pre><code>AmazonPosgtreSQL aps = new AmazonPostreSQL(...);\naps.connect(...);\naps.persist(...);\naps.get(...);\n</code></pre>\n\n<p>There AmazonPostgreSQL is some class provided by SDK.</p>\n\n<p>I have read some manuals, including user guide about Amazon RDS, and as far as I understand, there is no such API. We just create a DB Instance in cloud and Amazon just provides us with a link to it, am I right?</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","cloud"],"answers":[{"comments":[{"owner":{"account_id":6905090,"reputation":485,"user_id":5303291,"accept_rate":8,"display_name":"Harry"},"score":0,"creation_date":1478833860,"post_id":40487073,"comment_id":68320325,"body_markdown":"No, I have an end point to read the log of particular instance, this is for non-admins, so incase if anyone want to see the log file of a particular server, I am checking whether they can go to that instance. I can always do it physically login into the server. I am checking whether this is an option.","body":"No, I have an end point to read the log of particular instance, this is for non-admins, so incase if anyone want to see the log file of a particular server, I am checking whether they can go to that instance. I can always do it physically login into the server. I am checking whether this is an option."}],"tags":[],"owner":{"account_id":9083772,"reputation":275,"user_id":6795820,"display_name":"Alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478608339,"creation_date":1478608339,"answer_id":40487073,"question_id":40483116,"body_markdown":"In the management console, under particular Load Balancer and Instances section just delete ec22 from the list.\r\n\r\nOnce you completed all tests - add this instance back behind your LB.\r\n\r\nIs it what you meant?","title":"Redirect traffic to particular instance from load balancer","body":"<p>In the management console, under particular Load Balancer and Instances section just delete ec22 from the list.</p>\n\n<p>Once you completed all tests - add this instance back behind your LB.</p>\n\n<p>Is it what you meant?</p>\n"},{"tags":[],"owner":{"account_id":9021984,"reputation":371,"user_id":6748044,"display_name":"Anton Zorin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478796614,"creation_date":1478796614,"answer_id":40532958,"question_id":40483116,"body_markdown":"Access your instance with direct internal hostname via VPN or from another instance with elastic IP configured.\r\nFor example: ip-172-31-7-112.ec2.internal","title":"Redirect traffic to particular instance from load balancer","body":"<p>Access your instance with direct internal hostname via VPN or from another instance with elastic IP configured.\nFor example: ip-172-31-7-112.ec2.internal</p>\n"}],"owner":{"account_id":6905090,"reputation":485,"user_id":5303291,"accept_rate":8,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678607436,"creation_date":1478596882,"question_id":40483116,"body_markdown":"I am using the [Amazon EC2][1] elastic load balancer for my application. For testing purposes, I need to hit a particular application instance. Is there a way to hit the specified instance from the EC2 load balancer?\r\n\r\nFor example, for my load balancer http://myloadbalancer.com I have two instances attached, ec21 and ec22. If I need to hit ec22, is there a way to achieve this?\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Amazon_Elastic_Compute_Cloud\r\n","title":"Redirect traffic to particular instance from load balancer","body":"<p>I am using the <a href=\"http://en.wikipedia.org/wiki/Amazon_Elastic_Compute_Cloud\" rel=\"nofollow noreferrer\">Amazon EC2</a> elastic load balancer for my application. For testing purposes, I need to hit a particular application instance. Is there a way to hit the specified instance from the EC2 load balancer?</p>\n\n<p>For example, for my load balancer <a href=\"http://myloadbalancer.com\" rel=\"nofollow noreferrer\">http://myloadbalancer.com</a> I have two instances attached, ec21 and ec22. If I need to hit ec22, is there a way to achieve this?</p>\n"},{"tags":["java","amazon-web-services","extract","amazon-kinesis"],"answers":[{"tags":[],"owner":{"account_id":1778937,"reputation":3589,"user_id":1622134,"display_name":"az3"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1439537748,"creation_date":1439537748,"answer_id":32004689,"question_id":31985581,"body_markdown":"First of all, Amazon Kinesis API endpoints are on public IP addresses, so you don&#39;t need to have EC2 instances within AWS environment to access Kinesis.\r\n\r\nTo read data from Kinesis, you can use Amazon&#39;s own Kinesis Client Library (KCL). \r\nhttps://github.com/awslabs/amazon-kinesis-client\r\n\r\nOn AwsLabs GitHub, there are also sample applications written in Java.\r\nhttps://github.com/awslabs/amazon-kinesis-connectors/tree/master/src/main/samples\r\n\r\nAbout your architecture; if you want to process raw data and create meaningful extracts, I recommend you do some ETL tasks (aka: post processing) and write your results to another place (ie. RDBMS). On the view layer (your web app) you can display the resulting output in any format you like by reading from your database.","title":"get data from amazon kinesis into java web application","body":"<p>First of all, Amazon Kinesis API endpoints are on public IP addresses, so you don't need to have EC2 instances within AWS environment to access Kinesis.</p>\n\n<p>To read data from Kinesis, you can use Amazon's own Kinesis Client Library (KCL). \n<a href=\"https://github.com/awslabs/amazon-kinesis-client\" rel=\"nofollow\">https://github.com/awslabs/amazon-kinesis-client</a></p>\n\n<p>On AwsLabs GitHub, there are also sample applications written in Java.\n<a href=\"https://github.com/awslabs/amazon-kinesis-connectors/tree/master/src/main/samples\" rel=\"nofollow\">https://github.com/awslabs/amazon-kinesis-connectors/tree/master/src/main/samples</a></p>\n\n<p>About your architecture; if you want to process raw data and create meaningful extracts, I recommend you do some ETL tasks (aka: post processing) and write your results to another place (ie. RDBMS). On the view layer (your web app) you can display the resulting output in any format you like by reading from your database.</p>\n"}],"owner":{"account_id":5952299,"reputation":9,"user_id":4679935,"accept_rate":100,"display_name":"Kajal Bhanushali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32004689,"answer_count":1,"score":0,"last_activity_date":1678607309,"creation_date":1439461467,"question_id":31985581,"body_markdown":"I am new to amazon kinesis so might be this question is very basic question.\r\nBut i need help on this,\r\nI am having one use case where i need to pull the data from amazon kinesis into my web application which has been created in JAva, i need to obtain the connection between the kinesis and java so that i can take the data from amazon kinesis and do some of the analytics on the data and if the data is modified then i need to put the data back to amazon kinesis from java application.\r\nhere my java application is not on the amazon clould, it is on my private cloud. so how do i do the above task.\r\n\r\nKindly help me.","title":"get data from amazon kinesis into java web application","body":"<p>I am new to amazon kinesis so might be this question is very basic question.\nBut i need help on this,\nI am having one use case where i need to pull the data from amazon kinesis into my web application which has been created in JAva, i need to obtain the connection between the kinesis and java so that i can take the data from amazon kinesis and do some of the analytics on the data and if the data is modified then i need to put the data back to amazon kinesis from java application.\nhere my java application is not on the amazon clould, it is on my private cloud. so how do i do the above task.</p>\n\n<p>Kindly help me.</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","sdk","instance"],"answers":[{"comments":[{"owner":{"account_id":179202,"reputation":7876,"user_id":411709,"accept_rate":75,"display_name":"Abidi"},"score":0,"creation_date":1670523214,"post_id":13836920,"comment_id":131900005,"body_markdown":"I know it&#39;s a ten year old thread - does AWS support MMF? If one EC2 instance die, is the state going to die with it as well?","body":"I know it&#39;s a ten year old thread - does AWS support MMF? If one EC2 instance die, is the state going to die with it as well?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1671440241,"post_id":13836920,"comment_id":132091718,"body_markdown":"@Abidi AWS support MultiMode Fibre, however, I suspect you are asking if the state of services is retained, and I suspect you need to have the state stored in a datastore to ensure that.","body":"@Abidi AWS support MultiMode Fibre, however, I suspect you are asking if the state of services is retained, and I suspect you need to have the state stored in a datastore to ensure that."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355306108,"creation_date":1355305475,"answer_id":13836920,"question_id":13836784,"body_markdown":"You should not try to make the heap size much larger than the main memory size. AFAIK EC2 don&#39;t offer machines with more than 160 GB of main memory (I could be wrong) http://aws.amazon.com/ec2/instance-types/\r\n\r\nIf you are talking about this instance\r\n\r\n    M1 Small Instance – default++\r\n    \r\n    1.7 GiB memory\r\n     1 EC2 Compute Unit (1 virtual core with 1 EC2 Compute Unit)\r\n     160 GB instance storage\r\n     32-bit or 64-bit platform\r\n     I/O Performance: Moderate\r\n     EBS-Optimized Available: No\r\n     API name: m1.small\r\n\r\nThis reads as, you can use a heap of about 1.2 to 1.5 GB and 160 GB of local disk space.\r\n\r\nAFAIK, You can access storage as regular files.\r\n\r\nBTW: Java can take increasing long time to perform a Full GC on large heap sizes.  The worst time can be 1 second per 1-4 GB depending on your system.  You could expect that a system with a 160 GB heap can see 40 second stop-the-world GCs.\r\n\r\nFor this reason, off heap options are often explored such as using a database, BigMemory or use direct memory/memory mapped files.\r\n\r\n\r\n","title":"Creating EC2 Instance with more than 30gb - In Java","body":"<p>You should not try to make the heap size much larger than the main memory size. AFAIK EC2 don't offer machines with more than 160 GB of main memory (I could be wrong) <a href=\"http://aws.amazon.com/ec2/instance-types/\" rel=\"nofollow\">http://aws.amazon.com/ec2/instance-types/</a></p>\n\n<p>If you are talking about this instance</p>\n\n<pre><code>M1 Small Instance – default++\n\n1.7 GiB memory\n 1 EC2 Compute Unit (1 virtual core with 1 EC2 Compute Unit)\n 160 GB instance storage\n 32-bit or 64-bit platform\n I/O Performance: Moderate\n EBS-Optimized Available: No\n API name: m1.small\n</code></pre>\n\n<p>This reads as, you can use a heap of about 1.2 to 1.5 GB and 160 GB of local disk space.</p>\n\n<p>AFAIK, You can access storage as regular files.</p>\n\n<p>BTW: Java can take increasing long time to perform a Full GC on large heap sizes.  The worst time can be 1 second per 1-4 GB depending on your system.  You could expect that a system with a 160 GB heap can see 40 second stop-the-world GCs.</p>\n\n<p>For this reason, off heap options are often explored such as using a database, BigMemory or use direct memory/memory mapped files.</p>\n"}],"owner":{"account_id":2137981,"reputation":39,"user_id":1897278,"accept_rate":0,"display_name":"gilad a"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678607278,"creation_date":1355305076,"question_id":13836784,"body_markdown":"When I build an EC2 instance m1.small (for example), by deafult I get 30gb instead of 160gb.\r\n\r\nI&#39;ve seen in google that I need to add ephemeral storage / instance stored storage..\r\nTo my question:\r\nIs there a way to add the ephemeral storage using the java sdk?\r\nIf I create an instance (using the sdk) with a standard volume of 160gb, I get charged as if I was creating a regular instance and attached a new volume to it?\r\n\r\nAnd more generally, so when they write that an instance has 160gb, \r\nthat means I only have 30gb and another 140gb that I should only use for temporary files which i dont mind to lose?\r\n\r\nThanks in advance.","title":"Creating EC2 Instance with more than 30gb - In Java","body":"<p>When I build an EC2 instance m1.small (for example), by deafult I get 30gb instead of 160gb.</p>\n\n<p>I've seen in google that I need to add ephemeral storage / instance stored storage..\nTo my question:\nIs there a way to add the ephemeral storage using the java sdk?\nIf I create an instance (using the sdk) with a standard volume of 160gb, I get charged as if I was creating a regular instance and attached a new volume to it?</p>\n\n<p>And more generally, so when they write that an instance has 160gb, \nthat means I only have 30gb and another 140gb that I should only use for temporary files which i dont mind to lose?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","mongodb","amazon-web-services","amazon-ec2"],"comments":[{"owner":{"account_id":238952,"reputation":2166,"user_id":508214,"accept_rate":73,"display_name":"titogeo"},"score":0,"creation_date":1383666939,"post_id":19785918,"comment_id":29422937,"body_markdown":"Check the AWS security groups, is application and mongo in same system? is 27017 open for read/write?","body":"Check the AWS security groups, is application and mongo in same system? is 27017 open for read/write?"}],"answers":[{"comments":[{"owner":{"account_id":1902804,"reputation":23,"user_id":1718302,"display_name":"user1718302"},"score":0,"creation_date":1383659435,"post_id":19786087,"comment_id":29418035,"body_markdown":"I have disabled the firewall and i am able to ping it.","body":"I have disabled the firewall and i am able to ping it."},{"owner":{"account_id":963492,"reputation":10559,"user_id":987339,"display_name":"user987339"},"score":0,"creation_date":1383659747,"post_id":19786087,"comment_id":29418237,"body_markdown":"What are you getting with: telnet 54.200.155.174 27017","body":"What are you getting with: telnet 54.200.155.174 27017"}],"tags":[],"owner":{"account_id":963492,"reputation":10559,"user_id":987339,"display_name":"user987339"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1383645314,"creation_date":1383645314,"answer_id":19786087,"question_id":19785918,"body_markdown":"This is a network issue. Maybe there is some firewall? \r\nCheck if you can `telnet` to this ip and port. Or check if you can `ping` it.","title":"Java mongodb connecion to remote server","body":"<p>This is a network issue. Maybe there is some firewall? \nCheck if you can <code>telnet</code> to this ip and port. Or check if you can <code>ping</code> it.</p>\n"}],"owner":{"account_id":1902804,"reputation":23,"user_id":1718302,"display_name":"user1718302"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":983,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19786087,"answer_count":1,"score":2,"last_activity_date":1678607234,"creation_date":1383644808,"question_id":19785918,"body_markdown":"I have amazon ec2 windows instance running, and i have associated elastic ip to it. I have installed mongoDB on this instance. When i try to connect to this remote mongodb database using java it gives me following error:\r\n\r\n&gt; com.mongodb.DBTCPConnector initDirectConnection WARNING: Exception\r\n&gt; executing isMaster command on /54.200.155.174:27017\r\n&gt; java.io.IOException: couldn&#39;t connect to [/54.200.155.174:27017]\r\n&gt; bc:java.net.SocketTimeoutException: connect timed out.\r\n\r\n\r\nMongodb version used is 2.0.7 and this is my connection code:\r\n\r\n    try\r\n    \t{\r\n    \t\tMongo mongo=new Mongo(&quot;54.200.155.174&quot;,27017);\r\n    \t\tDB db=mongo.getDB(&quot;mydb&quot;);\r\n    \t\tDBCollection coll=db.getCollection(&quot;users&quot;);\r\n    \t\tDBCursor cursor=coll.find();\r\n    \t\tDBObject db1;\r\n    \t\r\n    \t\twhile(cursor.hasNext())\r\n    \t\t{\r\n    \t\t\tdb1=cursor.next();\r\n    \t\t\tObject o=db1.get(&quot;email_id&quot;);\r\n    \t\t\tSystem.out.println(&quot;email:&quot;+o.toString());\r\n    \t\t}\r\n    \t}\r\n    \tcatch(Exception e)\r\n    \t{\r\n    \t\te.printStackTrace();\r\n    \t}","title":"Java mongodb connecion to remote server","body":"<p>I have amazon ec2 windows instance running, and i have associated elastic ip to it. I have installed mongoDB on this instance. When i try to connect to this remote mongodb database using java it gives me following error:</p>\n\n<blockquote>\n  <p>com.mongodb.DBTCPConnector initDirectConnection WARNING: Exception\n  executing isMaster command on /54.200.155.174:27017\n  java.io.IOException: couldn't connect to [/54.200.155.174:27017]\n  bc:java.net.SocketTimeoutException: connect timed out.</p>\n</blockquote>\n\n<p>Mongodb version used is 2.0.7 and this is my connection code:</p>\n\n<pre><code>try\n    {\n        Mongo mongo=new Mongo(\"54.200.155.174\",27017);\n        DB db=mongo.getDB(\"mydb\");\n        DBCollection coll=db.getCollection(\"users\");\n        DBCursor cursor=coll.find();\n        DBObject db1;\n\n        while(cursor.hasNext())\n        {\n            db1=cursor.next();\n            Object o=db1.get(\"email_id\");\n            System.out.println(\"email:\"+o.toString());\n        }\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","amazon-ec2"],"answers":[{"tags":[],"owner":{"account_id":4258861,"reputation":1877,"user_id":3619084,"accept_rate":81,"display_name":"Smokey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1402460398,"creation_date":1402460398,"answer_id":24154592,"question_id":24132945,"body_markdown":"I added this &#39;&amp;Version=2014-05-01&#39; and everything worked fine.\r\n\r\nThis parameter is used to specify the version of the service we are trying to use. This is the latest version of EC2.\r\n\r\nWhen I don&#39;t mention a specific version, aws looks for this version (2005-10-05) of service &amp; may be, it does not exist.","title":"Error: No Such Version of Amazon EC2","body":"<p>I added this '&amp;Version=2014-05-01' and everything worked fine.</p>\n\n<p>This parameter is used to specify the version of the service we are trying to use. This is the latest version of EC2.</p>\n\n<p>When I don't mention a specific version, aws looks for this version (2005-10-05) of service &amp; may be, it does not exist.</p>\n"}],"owner":{"account_id":4258861,"reputation":1877,"user_id":3619084,"accept_rate":81,"display_name":"Smokey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24154592,"answer_count":1,"score":0,"last_activity_date":1678607018,"creation_date":1402374963,"question_id":24132945,"body_markdown":"I&#39;m trying to Add an Ingress rule to one of my security groups.\r\nAll I&#39;m trying to do is add my Ip-address `192.88.137.28` to my EC2 security group `sg-fakegrpid`.\r\n\r\n    User Type: IAM\r\n    region: eu-west-1\r\n\r\nSo, should I make the endpoint as `ec2.eu-west-1.amazonaws.com/` instead of `ec2.amazonaws.com/`?\r\n\r\nThis is a signed request &amp; encoded as well.\r\n\r\n    https://ec2.amazonaws.com/?AWSAccessKeyId=THISISFAKEAWSDRACULA\r\n    &amp;Action=AuthorizeSecurityGroupIngress\r\n    &amp;GroupId=sg-fakegrpid\r\n    &amp;IpPermissions.1.FromPort=3389\r\n    &amp;IpPermissions.1.IpProtocol=tcp\r\n    &amp;IpPermissions.1.IpRanges.1.CidrIp=192.88.137.28%2F32\r\n    &amp;IpPermissions.1.ToPort=3389\r\n    &amp;SignatureMethod=HmacSHA256\r\n    &amp;SignatureVersion=2\r\n    &amp;Timestamp=2014-06-09T10%3A57%3A31Z\r\n    &amp;Signature=hIKzcwPDdYKw4HsxozCFzzzzl8LxzsdC6XlX83DV4NU=\r\n\r\nI use the Java SDK to create the signature. Here&#39;s the link to it.\r\n\r\n    http://docs.aws.amazon.com/general/latest/gr/signature-version-2.html\r\n\r\nWhen I run the above given url in the browser, I get the following response.\r\n\r\n&gt; The requested version (2005-10-05) of service AmazonEC2 does not exist\r\n\r\nThen I visited this page `http://associates-amazon.s3.amazonaws.com/signed-requests/helper/index.html`\r\n\r\nI generated a signed url from there. But signature is different from the above url&#39;s signature.\r\n\r\n    http://ec2.amazonaws.com/onca/xml?AWSAccessKeyId=THISISFAKEAWSDRACULA\r\n    &amp;Action=AuthorizeSecurityGroupIngress\r\n    &amp;GroupId=sg-fakegrpid\r\n    &amp;IpPermissions.1.FromPort=3389\r\n    &amp;IpPermissions.1.IpProtocol=tcp\r\n    &amp;IpPermissions.1.IpRanges.1.CidrIp=192.88.137.28%2F32\r\n    &amp;IpPermissions.1.ToPort=3389\r\n    &amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2\r\n    &amp;Timestamp=2014-06-09T11%3A22%3A14.000Z\r\n    &amp;Signature=hr%2FwZBMi3duJpOgud6Hzx2MIhd8QUuqzockqyysRQCY%3D\r\n\r\nBut I get the same error as before.\r\n\r\nThis is the string to sign:\r\n\r\n    GET\r\n    ec2.amazonaws.com\r\n    AWSAccessKeyId=THISISFAKEAWSDRACULA\r\n    &amp;Action=AuthorizeSecurityGroupIngress\r\n    &amp;GroupId=sg-fakegrpid\r\n    &amp;IpPermissions.1.FromPort=3389\r\n    &amp;IpPermissions.1.IpProtocol=tcp\r\n    &amp;IpPermissions.1.IpRanges.1.CidrIp=192.88.137.28%2F32\r\n    &amp;IpPermissions.1.ToPort=3389\r\n    &amp;SignatureMethod=HmacSHA256\r\n    &amp;SignatureVersion=2\r\n    &amp;Timestamp=2014-06-09T11%3A22%3A14.000Z","title":"Error: No Such Version of Amazon EC2","body":"<p>I'm trying to Add an Ingress rule to one of my security groups.\nAll I'm trying to do is add my Ip-address <code>192.88.137.28</code> to my EC2 security group <code>sg-fakegrpid</code>.</p>\n\n<pre><code>User Type: IAM\nregion: eu-west-1\n</code></pre>\n\n<p>So, should I make the endpoint as <code>ec2.eu-west-1.amazonaws.com/</code> instead of <code>ec2.amazonaws.com/</code>?</p>\n\n<p>This is a signed request &amp; encoded as well.</p>\n\n<pre><code>https://ec2.amazonaws.com/?AWSAccessKeyId=THISISFAKEAWSDRACULA\n&amp;Action=AuthorizeSecurityGroupIngress\n&amp;GroupId=sg-fakegrpid\n&amp;IpPermissions.1.FromPort=3389\n&amp;IpPermissions.1.IpProtocol=tcp\n&amp;IpPermissions.1.IpRanges.1.CidrIp=192.88.137.28%2F32\n&amp;IpPermissions.1.ToPort=3389\n&amp;SignatureMethod=HmacSHA256\n&amp;SignatureVersion=2\n&amp;Timestamp=2014-06-09T10%3A57%3A31Z\n&amp;Signature=hIKzcwPDdYKw4HsxozCFzzzzl8LxzsdC6XlX83DV4NU=\n</code></pre>\n\n<p>I use the Java SDK to create the signature. Here's the link to it.</p>\n\n<pre><code>http://docs.aws.amazon.com/general/latest/gr/signature-version-2.html\n</code></pre>\n\n<p>When I run the above given url in the browser, I get the following response.</p>\n\n<blockquote>\n  <p>The requested version (2005-10-05) of service AmazonEC2 does not exist</p>\n</blockquote>\n\n<p>Then I visited this page <code>http://associates-amazon.s3.amazonaws.com/signed-requests/helper/index.html</code></p>\n\n<p>I generated a signed url from there. But signature is different from the above url's signature.</p>\n\n<pre><code>http://ec2.amazonaws.com/onca/xml?AWSAccessKeyId=THISISFAKEAWSDRACULA\n&amp;Action=AuthorizeSecurityGroupIngress\n&amp;GroupId=sg-fakegrpid\n&amp;IpPermissions.1.FromPort=3389\n&amp;IpPermissions.1.IpProtocol=tcp\n&amp;IpPermissions.1.IpRanges.1.CidrIp=192.88.137.28%2F32\n&amp;IpPermissions.1.ToPort=3389\n&amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2\n&amp;Timestamp=2014-06-09T11%3A22%3A14.000Z\n&amp;Signature=hr%2FwZBMi3duJpOgud6Hzx2MIhd8QUuqzockqyysRQCY%3D\n</code></pre>\n\n<p>But I get the same error as before.</p>\n\n<p>This is the string to sign:</p>\n\n<pre><code>GET\nec2.amazonaws.com\nAWSAccessKeyId=THISISFAKEAWSDRACULA\n&amp;Action=AuthorizeSecurityGroupIngress\n&amp;GroupId=sg-fakegrpid\n&amp;IpPermissions.1.FromPort=3389\n&amp;IpPermissions.1.IpProtocol=tcp\n&amp;IpPermissions.1.IpRanges.1.CidrIp=192.88.137.28%2F32\n&amp;IpPermissions.1.ToPort=3389\n&amp;SignatureMethod=HmacSHA256\n&amp;SignatureVersion=2\n&amp;Timestamp=2014-06-09T11%3A22%3A14.000Z\n</code></pre>\n"},{"tags":["java","mysql","amazon-web-services","tomcat","amazon-ec2"],"comments":[{"owner":{"account_id":106567,"reputation":6967,"user_id":283844,"accept_rate":88,"display_name":"Nick"},"score":1,"creation_date":1309609173,"post_id":6556925,"comment_id":7727250,"body_markdown":"Have opened up the appropriate ports on your EC2 instance?","body":"Have opened up the appropriate ports on your EC2 instance?"},{"owner":{"account_id":422503,"reputation":12328,"user_id":801325,"accept_rate":83,"display_name":"Michael J. Lee"},"score":0,"creation_date":1309609271,"post_id":6556925,"comment_id":7727262,"body_markdown":"good question.  Yes, i&#39;ve opened 8080.","body":"good question.  Yes, i&#39;ve opened 8080."},{"owner":{"account_id":422503,"reputation":12328,"user_id":801325,"accept_rate":83,"display_name":"Michael J. Lee"},"score":0,"creation_date":1309609336,"post_id":6556925,"comment_id":7727270,"body_markdown":"... and i can get an instance of the servlet connector.  I just can&#39;t do anything with it.","body":"... and i can get an instance of the servlet connector.  I just can&#39;t do anything with it."},{"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"score":1,"creation_date":1309613157,"post_id":6556925,"comment_id":7727704,"body_markdown":"It&#39;s a long shot, but something like this? http://forum.springsource.org/showthread.php?81441-Mysql-Tomcat-java.sql.SQLException","body":"It&#39;s a long shot, but something like this? <a href=\"http://forum.springsource.org/showthread.php?81441-Mysql-Tomcat-java.sql.SQLException\" rel=\"nofollow noreferrer\">forum.springsource.org/&hellip;</a>"},{"owner":{"account_id":422503,"reputation":12328,"user_id":801325,"accept_rate":83,"display_name":"Michael J. Lee"},"score":0,"creation_date":1309615962,"post_id":6556925,"comment_id":7728041,"body_markdown":"Thanks for looking @Enno but, no this is not the problem.  It also works fine with a non-EC2 server that i have in my office that is of similar setup.  It seems like a configuration issue but i can&#39;t pin-point it.","body":"Thanks for looking @Enno but, no this is not the problem.  It also works fine with a non-EC2 server that i have in my office that is of similar setup.  It seems like a configuration issue but i can&#39;t pin-point it."},{"owner":{"account_id":269420,"reputation":6750,"user_id":558751,"accept_rate":80,"display_name":"Amol Katdare"},"score":0,"creation_date":1309621946,"post_id":6556925,"comment_id":7728709,"body_markdown":"Can you connect to mysql on command line using the same userid? Also, you have specified a password in context.xml but the log says &quot;using password:no&quot; are you expecting to login using a password or without?","body":"Can you connect to mysql on command line using the same userid? Also, you have specified a password in context.xml but the log says &quot;using password:no&quot; are you expecting to login using a password or without?"},{"owner":{"account_id":422503,"reputation":12328,"user_id":801325,"accept_rate":83,"display_name":"Michael J. Lee"},"score":0,"creation_date":1309690806,"post_id":6556925,"comment_id":7735113,"body_markdown":"I can connect fine over the cli with the user name and password. I am expecting the client to log in with the provided username and password but as you said it seems it does not.  The error also shows the internal dns name for EC2 not the one i provided in the servlet.  This is why I think this error is coming form the internal connection from Tomcat -&gt; Mysql and not from my Client -&gt; Tomcat.  Lastly the client doesn&#39;t connect to the DB at all it&#39;s all tomcat.","body":"I can connect fine over the cli with the user name and password. I am expecting the client to log in with the provided username and password but as you said it seems it does not.  The error also shows the internal dns name for EC2 not the one i provided in the servlet.  This is why I think this error is coming form the internal connection from Tomcat -&gt; Mysql and not from my Client -&gt; Tomcat.  Lastly the client doesn&#39;t connect to the DB at all it&#39;s all tomcat."}],"answers":[{"tags":[],"owner":{"account_id":422503,"reputation":12328,"user_id":801325,"accept_rate":83,"display_name":"Michael J. Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1309867565,"creation_date":1309867565,"answer_id":6582377,"question_id":6556925,"body_markdown":"I found the issue.  My persistance.xml had the following code...\r\n\r\n     &lt;properties&gt;\r\n          &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;&quot;/&gt;\r\n          &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;&quot;/&gt;\r\n          &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;&quot;/&gt;\r\n          &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;&quot;/&gt;\r\n        &lt;/properties&gt;\r\n\r\nNot sure how that got in there!  The settings in the persistance.xml must override the settings in my Spring context file.","title":"ec2+tomcat+mysql Access Denied!","body":"<p>I found the issue.  My persistance.xml had the following code...</p>\n\n<pre><code> &lt;properties&gt;\n      &lt;property name=\"hibernate.connection.username\" value=\"\"/&gt;\n      &lt;property name=\"hibernate.connection.driver_class\" value=\"\"/&gt;\n      &lt;property name=\"hibernate.connection.password\" value=\"\"/&gt;\n      &lt;property name=\"hibernate.connection.url\" value=\"\"/&gt;\n    &lt;/properties&gt;\n</code></pre>\n\n<p>Not sure how that got in there!  The settings in the persistance.xml must override the settings in my Spring context file.</p>\n"}],"owner":{"account_id":422503,"reputation":12328,"user_id":801325,"accept_rate":83,"display_name":"Michael J. Lee"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":6582377,"answer_count":1,"score":0,"last_activity_date":1678606883,"creation_date":1309608956,"question_id":6556925,"body_markdown":"I&#39;m running tomcat6 and mysql5 on a single ec2 instance and i cannot cannot from the outside world.\r\n\r\n\r\nMy context.xml on tomcat in ec2...\r\n\r\n\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource&quot;&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://ec2-xx-xx-xxx-178.compute1.amazonaws.com:3306/data_dbo&quot; /&gt;\r\n        &lt;property name=&quot;user&quot; value=&quot;a_user&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;a_password&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nClient context.xml\r\n\r\n   \r\n\r\n     &lt;bean id=&quot;myService&quot; class=&quot;org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean&quot;&gt;\r\n            &lt;property name=&quot;serviceUrl&quot; value=&quot;http://ec2-xx-xx-xxx-xxx.compute-1.amazonaws.com:8080/MyService-services/remoting/thingServiceExporter&quot;/&gt;\r\n            &lt;property name=&quot;serviceInterface&quot; value=&quot;com.things.services.MyService&quot;/&gt;\r\n        &lt;/bean&gt;\r\n\r\nError on clinet...\r\n\r\n    Caused by: java.sql.SQLException: Access denied for user &#39;&#39;@&#39;domU-xx-xx-xx-xx-xx-DB.compute-1.internal&#39; (using password: NO)\r\n\r\n\r\nI&#39;ve setup privileges for my user but it doesn&#39;t seem to be using the user i setup in my tomcat datasource.  I say this because of the error on the client (Access denied for user &#39;&#39;@) no user, no password.  **Do i need to setup something between tomcat and mysql on ec2** because it seems to be using the internal dns to access MySql?\r\n\r\n**Let me know if i can provide any other information!**","title":"ec2+tomcat+mysql Access Denied!","body":"<p>I'm running tomcat6 and mysql5 on a single ec2 instance and i cannot cannot from the outside world.</p>\n\n<p>My context.xml on tomcat in ec2...</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource\"&gt;\n    &lt;property name=\"url\" value=\"jdbc:mysql://ec2-xx-xx-xxx-178.compute1.amazonaws.com:3306/data_dbo\" /&gt;\n    &lt;property name=\"user\" value=\"a_user\" /&gt;\n    &lt;property name=\"password\" value=\"a_password\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Client context.xml</p>\n\n<pre><code> &lt;bean id=\"myService\" class=\"org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean\"&gt;\n        &lt;property name=\"serviceUrl\" value=\"http://ec2-xx-xx-xxx-xxx.compute-1.amazonaws.com:8080/MyService-services/remoting/thingServiceExporter\"/&gt;\n        &lt;property name=\"serviceInterface\" value=\"com.things.services.MyService\"/&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>Error on clinet...</p>\n\n<pre><code>Caused by: java.sql.SQLException: Access denied for user ''@'domU-xx-xx-xx-xx-xx-DB.compute-1.internal' (using password: NO)\n</code></pre>\n\n<p>I've setup privileges for my user but it doesn't seem to be using the user i setup in my tomcat datasource.  I say this because of the error on the client (Access denied for user ''@) no user, no password.  <strong>Do i need to setup something between tomcat and mysql on ec2</strong> because it seems to be using the internal dns to access MySql?</p>\n\n<p><strong>Let me know if i can provide any other information!</strong></p>\n"},{"tags":["java","amazon-web-services","class","amazon-s3"],"comments":[{"owner":{"account_id":1349209,"reputation":63,"user_id":1289334,"accept_rate":100,"display_name":"John V"},"score":0,"creation_date":1333556989,"post_id":10003110,"comment_id":12805514,"body_markdown":"Which one is better or any of them even better/correct?","body":"Which one is better or any of them even better/correct?"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1333557086,"post_id":10003110,"comment_id":12805562,"body_markdown":"You&#39;re creating a Matcher object, but instead of actually using it, you are converting it to a String.  That&#39;s never going to be correct.","body":"You&#39;re creating a Matcher object, but instead of actually using it, you are converting it to a String.  That&#39;s never going to be correct."},{"owner":{"account_id":1349209,"reputation":63,"user_id":1289334,"accept_rate":100,"display_name":"John V"},"score":0,"creation_date":1333557207,"post_id":10003110,"comment_id":12805620,"body_markdown":"I see. Do you have any suggestions as to how I should approach this differently? I need to make a pattern that would go before &quot;reports&quot;.","body":"I see. Do you have any suggestions as to how I should approach this differently? I need to make a pattern that would go before &quot;reports&quot;."},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1333563592,"post_id":10003110,"comment_id":12808100,"body_markdown":"Well I definitely don&#39;t see any methods in the Amazon S3 API that take a Matcher object, do you?  I think you&#39;re going to have to get a bigger list than you want, and then trim down the results via pattern matching in your app.","body":"Well I definitely don&#39;t see any methods in the Amazon S3 API that take a Matcher object, do you?  I think you&#39;re going to have to get a bigger list than you want, and then trim down the results via pattern matching in your app."}],"answers":[{"comments":[{"owner":{"account_id":1349209,"reputation":63,"user_id":1289334,"accept_rate":100,"display_name":"John V"},"score":0,"creation_date":1333556846,"post_id":10003345,"comment_id":12805449,"body_markdown":"Please correct me if I misunderstood you, but from what you&#39;re saying is that with the (m + &quot;reports&quot;) piece that I made, the matcher will look for the pattern stated on p, then concatenate it with reports, yes? If so, I believe that it is doing what I want. Although I did some minor adjustments on it. Please look at my edited post. I&#39;d sincerely love to hear more from you!","body":"Please correct me if I misunderstood you, but from what you&#39;re saying is that with the (m + &quot;reports&quot;) piece that I made, the matcher will look for the pattern stated on p, then concatenate it with reports, yes? If so, I believe that it is doing what I want. Although I did some minor adjustments on it. Please look at my edited post. I&#39;d sincerely love to hear more from you!"},{"owner":{"account_id":134574,"reputation":2522,"user_id":336802,"display_name":"Christian Garbin"},"score":0,"creation_date":1333590029,"post_id":10003345,"comment_id":12815751,"body_markdown":"The `m + &quot;reports&quot;` piece will not look for any pattern. It&#39;s the same as `m.toString() + &quot;reports&quot;`. The toSTring() for the Matcher object is just a string representation of the object itself, not a match. It will vary by JRE. In mine it resulted in the `java.util.regex.Matcher[pattern=[a-zA-Z][0-9] region=0,4 lastmatch=]` I showed above.","body":"The <code>m + &quot;reports&quot;</code> piece will not look for any pattern. It&#39;s the same as <code>m.toString() + &quot;reports&quot;</code>. The toSTring() for the Matcher object is just a string representation of the object itself, not a match. It will vary by JRE. In mine it resulted in the <code>java.util.regex.Matcher[pattern=[a-zA-Z][0-9] region=0,4 lastmatch=]</code> I showed above."},{"owner":{"account_id":134574,"reputation":2522,"user_id":336802,"display_name":"Christian Garbin"},"score":0,"creation_date":1333590596,"post_id":10003345,"comment_id":12815826,"body_markdown":"A quick look at the Amazon API seems to indicate that you can&#39;t use a regular expression as a prefix. It seems to accept a simple string only. See the example in http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/ObjectListing.html#getCommonPrefixes(). So unless you can find a positive indication that it can support a regular expression, I think you need to abandon this approach and revert to simple strings as prefixes, then have your own code to filter what you need.","body":"A quick look at the Amazon API seems to indicate that you can&#39;t use a regular expression as a prefix. It seems to accept a simple string only. See the example in <a href=\"http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/ObjectListing.html#getCommonPrefixes()\" rel=\"nofollow noreferrer\">docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/&hellip;</a>. So unless you can find a positive indication that it can support a regular expression, I think you need to abandon this approach and revert to simple strings as prefixes, then have your own code to filter what you need."},{"owner":{"account_id":227595,"reputation":761,"user_id":489363,"display_name":"Peter Davis"},"score":0,"creation_date":1451575860,"post_id":10003345,"comment_id":56838739,"body_markdown":"So...this is not actually an answer.","body":"So...this is not actually an answer."}],"tags":[],"owner":{"account_id":134574,"reputation":2522,"user_id":336802,"display_name":"Christian Garbin"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1333499164,"creation_date":1333499164,"answer_id":10003345,"question_id":10003110,"body_markdown":"Don&#39;t know much about AWS, but the `m + &quot;reports&quot;` piece of the code is invoking `m.toString` and concatenating it with the literal &quot;reports&quot;. The toString of a Matcher object is usually not that useful. \r\n\r\nFrom this piece of code:\r\n\r\n    Pattern p = Pattern.compile(&quot;[a-zA-Z][0-9]&quot;);\r\n    Matcher m = p.matcher(&quot;test&quot;);\r\n    System.out.println( m +  &quot;reports&quot; );\r\n\r\nI get this on OS X:\r\n\r\n     java.util.regex.Matcher[pattern=[a-zA-Z][0-9] region=0,4 lastmatch=]reports\r\n\r\nProbably not what you want to pass on to `ObjectListing`.\r\n\r\nYou need to replace the `m + ` with something that makes more sense for your code.\r\n\r\n","title":"Pattern And Matcher: How to -- concatenate a pattern and a string for file search","body":"<p>Don't know much about AWS, but the <code>m + \"reports\"</code> piece of the code is invoking <code>m.toString</code> and concatenating it with the literal \"reports\". The toString of a Matcher object is usually not that useful. </p>\n\n<p>From this piece of code:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"[a-zA-Z][0-9]\");\nMatcher m = p.matcher(\"test\");\nSystem.out.println( m +  \"reports\" );\n</code></pre>\n\n<p>I get this on OS X:</p>\n\n<pre><code> java.util.regex.Matcher[pattern=[a-zA-Z][0-9] region=0,4 lastmatch=]reports\n</code></pre>\n\n<p>Probably not what you want to pass on to <code>ObjectListing</code>.</p>\n\n<p>You need to replace the <code>m +</code> with something that makes more sense for your code.</p>\n"}],"owner":{"account_id":1349209,"reputation":63,"user_id":1289334,"accept_rate":100,"display_name":"John V"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2976,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10003345,"answer_count":1,"score":0,"last_activity_date":1678606792,"creation_date":1333497163,"question_id":10003110,"body_markdown":"So I&#39;m using the AWS SDK in Java and I&#39;ve created a class to download the buckets/objects that are in the S3 Server.\r\n\r\nWhat I need to now is to create something like a wildcard or a pattern to append with say a string named (&quot;reports&quot;). The only thing I&#39;ve come up with is to create a pattern-matcher variable like so: \r\n\r\n     Pattern p = Pattern.compile(&quot;[a-zA-Z][0-9]&quot;);\r\n        Matcher m = p.matcher(prePattern);\r\n\r\n        ObjectListing s3ObjectList = s3client.listObjects(new ListObjectsRequest()\r\n                                                   .withBucketName(bucketName)\r\n                                                   .withPrefix(m  + &quot;reports&quot;));+\r\n\r\nCan anyone please tell me if there&#39;s a better solution with what I&#39;m trying to do or if I even did it properly?\r\n\r\nThanks!\r\n\r\n\r\n----\r\nNew code:\r\n\r\n          String bucketName = &quot;blabla&quot;;\r\n          String prePattern = &quot;^[a-z0-9_-]{1,30}$&quot;;\r\n          String prefixPat = &quot; -- Insert Pattern Here -- &quot;;\r\n          ArrayList&lt;String&gt; objPrefix = new ArrayList();\r\n\r\n        Pattern p = Pattern.compile(prePattern);\r\n        Matcher m = p.matcher(prefixPat);\r\n        \r\n        for(int i=0; i&lt;= objPrefix.size(); i++)\r\n       {\r\n            objPrefix.add(m + &quot;reports&quot;);\r\n            ObjectListing s3ObjectList = s3client.listObjects(new ListObjectsRequest()\r\n                                                   .withBucketName(bucketName)\r\n                                                   .withPrefix(objPrefix.get(i)));\r\n\r\n       }   \r\n\r\nThoughts you guys? Would really appreciate it. Thanks!\r\n      \r\n","title":"Pattern And Matcher: How to -- concatenate a pattern and a string for file search","body":"<p>So I'm using the AWS SDK in Java and I've created a class to download the buckets/objects that are in the S3 Server.</p>\n\n<p>What I need to now is to create something like a wildcard or a pattern to append with say a string named (\"reports\"). The only thing I've come up with is to create a pattern-matcher variable like so: </p>\n\n<pre><code> Pattern p = Pattern.compile(\"[a-zA-Z][0-9]\");\n    Matcher m = p.matcher(prePattern);\n\n    ObjectListing s3ObjectList = s3client.listObjects(new ListObjectsRequest()\n                                               .withBucketName(bucketName)\n                                               .withPrefix(m  + \"reports\"));+\n</code></pre>\n\n<p>Can anyone please tell me if there's a better solution with what I'm trying to do or if I even did it properly?</p>\n\n<p>Thanks!</p>\n\n<hr>\n\n<p>New code:</p>\n\n<pre><code>      String bucketName = \"blabla\";\n      String prePattern = \"^[a-z0-9_-]{1,30}$\";\n      String prefixPat = \" -- Insert Pattern Here -- \";\n      ArrayList&lt;String&gt; objPrefix = new ArrayList();\n\n    Pattern p = Pattern.compile(prePattern);\n    Matcher m = p.matcher(prefixPat);\n\n    for(int i=0; i&lt;= objPrefix.size(); i++)\n   {\n        objPrefix.add(m + \"reports\");\n        ObjectListing s3ObjectList = s3client.listObjects(new ListObjectsRequest()\n                                               .withBucketName(bucketName)\n                                               .withPrefix(objPrefix.get(i)));\n\n   }   \n</code></pre>\n\n<p>Thoughts you guys? Would really appreciate it. Thanks!</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","jar"],"answers":[{"comments":[{"owner":{"account_id":1175776,"reputation":324,"user_id":1151865,"accept_rate":75,"display_name":"Saeger"},"score":0,"creation_date":1339961256,"post_id":11072688,"comment_id":14495616,"body_markdown":"It is possible to the .JAR to run the code of httpclient from the jar inside my jar only ?","body":"It is possible to the .JAR to run the code of httpclient from the jar inside my jar only ?"},{"owner":{"display_name":"user1431390"},"score":0,"creation_date":1340004128,"post_id":11072688,"comment_id":14502516,"body_markdown":"Yes, to make the code clear, you could merge all HttpClient invocation in to one Class (let&#39;s call it HttpClientHelper); Then create a class loader which has 4.1.1 in its class path, and use this class loader to load HttpClientHelper. If you need some sample codes, give me your email address.","body":"Yes, to make the code clear, you could merge all HttpClient invocation in to one Class (let&#39;s call it HttpClientHelper); Then create a class loader which has 4.1.1 in its class path, and use this class loader to load HttpClientHelper. If you need some sample codes, give me your email address."}],"tags":[],"owner":{"display_name":"user1431390"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1339948298,"creation_date":1339948298,"answer_id":11072688,"question_id":11072590,"body_markdown":"you cannot use 2 versions of same Lib in the same class loader; but you can use different class loader to load th different versions. For example, you can use a sub classloader to loader httpclient-4.0.1, and shield 4.1.0 in the super class loader.","title":"Use 2 versions of same Lib","body":"<p>you cannot use 2 versions of same Lib in the same class loader; but you can use different class loader to load th different versions. For example, you can use a sub classloader to loader httpclient-4.0.1, and shield 4.1.0 in the super class loader.</p>\n"}],"owner":{"account_id":1175776,"reputation":324,"user_id":1151865,"accept_rate":75,"display_name":"Saeger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11072688,"answer_count":1,"score":0,"last_activity_date":1678606771,"creation_date":1339947672,"question_id":11072590,"body_markdown":"Is it possible to use the same lib with different versions ?\r\n\r\nThe thing is:\r\n\r\ni have the httpclient-4.0.1 into my application in the WEB-INF/lib directory.\r\n\r\nI made an API for the Amazon S3 service, which use the httpclient-4.1.1. But i don&#39;t want to update my application library to use the newer version, because i don&#39;t have enough time to test and garantee that the application will run properly.\r\nSo, is there a way, that my API i`ve made (actually a jar) to use the httpclient-4.1.1 without need to upgrade the library of my application (4.0.1)?","title":"Use 2 versions of same Lib","body":"<p>Is it possible to use the same lib with different versions ?</p>\n\n<p>The thing is:</p>\n\n<p>i have the httpclient-4.0.1 into my application in the WEB-INF/lib directory.</p>\n\n<p>I made an API for the Amazon S3 service, which use the httpclient-4.1.1. But i don't want to update my application library to use the newer version, because i don't have enough time to test and garantee that the application will run properly.\nSo, is there a way, that my API i`ve made (actually a jar) to use the httpclient-4.1.1 without need to upgrade the library of my application (4.0.1)?</p>\n"},{"tags":["java","android","amazon-web-services","amazon-s3","uploading"],"comments":[{"owner":{"account_id":3340846,"reputation":2516,"user_id":2807172,"accept_rate":70,"display_name":"Raju Sharma"},"score":0,"creation_date":1504682280,"post_id":46069036,"comment_id":79098579,"body_markdown":"You need to define access for folder in Amazon s3 bucket, so can be restricted","body":"You need to define access for folder in Amazon s3 bucket, so can be restricted"},{"owner":{"account_id":1845098,"reputation":171677,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":0,"creation_date":1504700353,"post_id":46069036,"comment_id":79110917,"body_markdown":"@RajuSharma, that statement is not correct.  **S3 buckets and objects are secure and inaccessible by default**.  If an object can be unexpectedly be downloaded anonymously, then a mistake has been made by the user, either during the upload or on the bucket policy or ACLs. Your comment implies that &quot;folders&quot; are somehow needed for security.","body":"@RajuSharma, that statement is not correct.  <b>S3 buckets and objects are secure and inaccessible by default</b>.  If an object can be unexpectedly be downloaded anonymously, then a mistake has been made by the user, either during the upload or on the bucket policy or ACLs. Your comment implies that &quot;folders&quot; are somehow needed for security."}],"answers":[{"comments":[{"owner":{"account_id":7815530,"reputation":23,"user_id":5910362,"display_name":"rajat raikar"},"score":0,"creation_date":1504688135,"post_id":46069084,"comment_id":79102141,"body_markdown":"thnx for the help. this helped.","body":"thnx for the help. this helped."},{"owner":{"account_id":7815530,"reputation":23,"user_id":5910362,"display_name":"rajat raikar"},"score":0,"creation_date":1504688212,"post_id":46069084,"comment_id":79102187,"body_markdown":"adding this did the job. request.setCannedACL(CannedAccessControlList.AuthenticatedRead);","body":"adding this did the job. request.setCannedACL(CannedAccessControlList.AuthenticatedRe&zwnj;&#8203;ad);"}],"tags":[],"owner":{"account_id":8312671,"reputation":1135,"user_id":6247159,"accept_rate":88,"display_name":"Vardaan Sharma"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504682283,"creation_date":1504682283,"answer_id":46069084,"question_id":46069036,"body_markdown":"For managing access to your file, you will need to follow the instructions here: http://docs.aws.amazon.com/AmazonS3/latest/dev/s3-access-control.html\r\n\r\nIt is covered in more detail here: http://docs.aws.amazon.com/AmazonS3/latest/dev/intro-managing-access-s3-resources.html","title":"AmazonS3 multipart uploading","body":"<p>For managing access to your file, you will need to follow the instructions here: <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/s3-access-control.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/AmazonS3/latest/dev/s3-access-control.html</a></p>\n\n<p>It is covered in more detail here: <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/intro-managing-access-s3-resources.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/AmazonS3/latest/dev/intro-managing-access-s3-resources.html</a></p>\n"},{"comments":[{"owner":{"account_id":7815530,"reputation":23,"user_id":5910362,"display_name":"rajat raikar"},"score":0,"creation_date":1504690612,"post_id":46070180,"comment_id":79104080,"body_markdown":"got a exception com.amazonaws.AmazonClientException: Unable to execute HTTP request: Read timed out .","body":"got a exception com.amazonaws.AmazonClientException: Unable to execute HTTP request: Read timed out ."},{"owner":{"account_id":7541011,"reputation":186,"user_id":5725589,"display_name":"Kumar Panchal"},"score":0,"creation_date":1504690834,"post_id":46070180,"comment_id":79104246,"body_markdown":"instead of  AmazonS3 amazons3Client = new AmazonS3Client(new ProfileCredentialsProvider()); use your AmazonS3 Client Object.","body":"instead of  AmazonS3 amazons3Client = new AmazonS3Client(new ProfileCredentialsProvider()); use your AmazonS3 Client Object."},{"owner":{"account_id":7815530,"reputation":23,"user_id":5910362,"display_name":"rajat raikar"},"score":0,"creation_date":1504693890,"post_id":46070180,"comment_id":79106371,"body_markdown":"ya i did that. i am using multipart uploading. so will the request keyName change to foldername + &quot;/&quot; +key; ?\nhttp://docs.aws.amazon.com/AmazonS3/latest/dev/llJavaUploadFile.html","body":"ya i did that. i am using multipart uploading. so will the request keyName change to foldername + &quot;/&quot; +key; ? <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/llJavaUploadFile.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/dev/llJavaUploadFile.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":7541011,"reputation":186,"user_id":5725589,"display_name":"Kumar Panchal"},"score":0,"creation_date":1504694133,"post_id":46070180,"comment_id":79106563,"body_markdown":"Yeah it will change while uploading you have to use folderName+&quot;/&quot;+Key","body":"Yeah it will change while uploading you have to use folderName+&quot;/&quot;+Key"},{"owner":{"account_id":7815530,"reputation":23,"user_id":5910362,"display_name":"rajat raikar"},"score":0,"creation_date":1504695469,"post_id":46070180,"comment_id":79107441,"body_markdown":"this worked tnx man, but the file path returned after uploading is like\nhttps://amazonexample.com/5628%2F1035d02b35beec44c08a39c15b95897d\n\n5628 is folder and it comes as % idk y","body":"this worked tnx man, but the file path returned after uploading is like <a href=\"https://amazonexample.com/5628%2F1035d02b35beec44c08a39c15b95897d\" rel=\"nofollow noreferrer\">amazonexample.com/5628%2F1035d02b35beec44c08a39c15b95897d</a>  5628 is folder and it comes as % idk y"},{"owner":{"account_id":7815530,"reputation":23,"user_id":5910362,"display_name":"rajat raikar"},"score":0,"creation_date":1504699485,"post_id":46070180,"comment_id":79110198,"body_markdown":"no problem. found a solution. just had to decode the url for  %2F","body":"no problem. found a solution. just had to decode the url for  %2F"}],"tags":[],"owner":{"account_id":7541011,"reputation":186,"user_id":5725589,"display_name":"Kumar Panchal"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1504686053,"creation_date":1504686053,"answer_id":46070180,"question_id":46069036,"body_markdown":"Yes you can create folder by using below method.\r\n   \r\n\r\n         AmazonS3 amazons3Client = new AmazonS3Client(new ProfileCredentialsProvider());\r\n         public void createFolder(String bucketName, String folderName)\r\n        \t{\r\n        \t\ttry\r\n        \t\t{\r\n        \t\t\t\r\n        \t\t\t\t    ObjectMetadata objectMetaData = new ObjectMetadata();\r\n        \t\t\t\t\tobjectMetaData.setContentLength(0);\r\n        \t\t\t\t\tInputStream emptyContent = new ByteArrayInputStream(new byte[0]);\r\n        \t\t\t\t\tamazons3Client.putObject(new PutObjectRequest(bucketName, folderName + &quot;/&quot;, emptyContent, objectMetaData));\r\n        \t\t}\r\n        \t\tcatch (Exception exception)\r\n        \t\t{\r\n        \t\t\tLOGGER.error(&quot;Exception In Create Folder&quot;, exception);\r\n        \t\t}\r\n        \r\n        \t}\r\n\r\nAccess rights you can use policy and it will apply on specific to your bucket,Please go through below link\r\nYou can allow specific IP to access.\r\nhttp://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies.html\r\n\r\n","title":"AmazonS3 multipart uploading","body":"<p>Yes you can create folder by using below method.</p>\n\n<pre><code>     AmazonS3 amazons3Client = new AmazonS3Client(new ProfileCredentialsProvider());\n     public void createFolder(String bucketName, String folderName)\n        {\n            try\n            {\n\n                        ObjectMetadata objectMetaData = new ObjectMetadata();\n                        objectMetaData.setContentLength(0);\n                        InputStream emptyContent = new ByteArrayInputStream(new byte[0]);\n                        amazons3Client.putObject(new PutObjectRequest(bucketName, folderName + \"/\", emptyContent, objectMetaData));\n            }\n            catch (Exception exception)\n            {\n                LOGGER.error(\"Exception In Create Folder\", exception);\n            }\n\n        }\n</code></pre>\n\n<p>Access rights you can use policy and it will apply on specific to your bucket,Please go through below link\nYou can allow specific IP to access.\n<a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies.html</a></p>\n"}],"owner":{"account_id":7815530,"reputation":23,"user_id":5910362,"display_name":"rajat raikar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46070180,"answer_count":2,"score":2,"last_activity_date":1678606755,"creation_date":1504682135,"question_id":46069036,"body_markdown":"I have used multi part uploading for uploading image to Amazon S3 as mentioned in [documentation](http://docs.aws.amazon.com/AmazonS3/latest/dev/llJavaUploadFile.html).\r\n\r\nBut then the files uploaded can be access directly without access key or anything. Tested using the remote URL which is got from response for a particular file. \r\nIs there any way to restrict access to uploaded file?\r\nAlso is there a way to change the upload URL here, If I want to add a folder and the the file?","title":"AmazonS3 multipart uploading","body":"<p>I have used multi part uploading for uploading image to Amazon S3 as mentioned in <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/llJavaUploadFile.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n\n<p>But then the files uploaded can be access directly without access key or anything. Tested using the remote URL which is got from response for a particular file. \nIs there any way to restrict access to uploaded file?\nAlso is there a way to change the upload URL here, If I want to add a folder and the the file?</p>\n"},{"tags":["java","amazon-web-services","image-processing"],"comments":[{"owner":{"account_id":211025,"reputation":10266,"user_id":462963,"display_name":"Werner Kvalem Vester&#229;s"},"score":1,"creation_date":1357472324,"post_id":14181554,"comment_id":19654560,"body_markdown":"My suggestion is that you start working on task number 1, and then you come back when you have a real question.","body":"My suggestion is that you start working on task number 1, and then you come back when you have a real question."}],"answers":[{"tags":[],"owner":{"display_name":"user846969"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378238440,"creation_date":1378238440,"answer_id":18600525,"question_id":14181554,"body_markdown":"Please read the documentation for java.net.HttpURLConnection to see how to download a file using Java.\r\n\r\nThen read &lt;http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html&gt; which explains how to download and upload to Amazon S3. Here is an example of S3 in action from Java:\r\n\r\n    //---------------------------------------------------------------------     \r\n    // Amazon S3\r\n    //---------------------------------------------------------------------     \r\n    class S3 extends AmazonS3Client\r\n     {final String bucket;\r\n      S3(String u, String p, String Bucket)\r\n       {super(new BasicAWSCredentials(u, p));\r\n        bucket = Bucket;\r\n       }\r\n      boolean put(String k, String v)      \r\n       {try \r\n         {final ByteArrayInputStream b = new ByteArrayInputStream(v.toString().getBytes());\r\n          putObject(bucket, k, b, new ObjectMetadata());\r\n          setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be here to allow change to reduced redundancy\r\n          changeObjectStorageClass(bucket, k, StorageClass.ReducedRedundancy);\r\n          setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be repeated because it is now a new object again\r\n          return true; \r\n         }\r\n        catch(Exception e) {log(&quot;Cannot put &quot;+bucket+&quot;/&quot;+k+&quot; to S3 because &quot;+e);}\r\n        return false; \r\n       }\r\n      String get(String k) \r\n       {try \r\n         {final S3Object f = getObject(bucket, k);\r\n          final BufferedInputStream i = new BufferedInputStream(f.getObjectContent());  \r\n          final StringBuilder s = new StringBuilder(); \r\n          final byte[]b = new byte[1024];\r\n          for(int n = i.read(b); n != -1; n = i.read(b)) {s.append(new String(b, 0, n));}\r\n          return s.toString(); \r\n         }\r\n        catch(Exception e) {log(&quot;Cannot get &quot;+bucket+&quot;/&quot;+k+&quot; from S3 because &quot;+e);}\r\n        return null; \r\n       }\r\n      String[]list(String d) \r\n       {try \r\n         {final ObjectListing l = listObjects(bucket, d);\r\n          final List&lt;S3ObjectSummary&gt; L = l.getObjectSummaries(); \r\n          final int n = L.size();\r\n          final String[]s = new String[n];  \r\n          for(int i = 0; i &lt; n; ++i)\r\n           {final S3ObjectSummary k = L.get(i);\r\n            s[i] = k.getKey();\r\n           } \r\n          return s; \r\n         }\r\n        catch(Exception e) {log(&quot;Cannot list &quot;+bucket+&quot;/&quot;+d+&quot; on S3 because &quot;+e);}\r\n        return new String[]{}; \r\n       }\r\n     }\r\n   }\r\n\r\n\r\nOnce you have the image on Amazon S3, you can make the file publically visible and thus displayable in any web browser.\r\n\r\n","title":"amazon AWS - download images from web and manipulate them","body":"<p>Please read the documentation for java.net.HttpURLConnection to see how to download a file using Java.</p>\n\n<p>Then read <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html</a> which explains how to download and upload to Amazon S3. Here is an example of S3 in action from Java:</p>\n\n<pre><code>//---------------------------------------------------------------------     \n// Amazon S3\n//---------------------------------------------------------------------     \nclass S3 extends AmazonS3Client\n {final String bucket;\n  S3(String u, String p, String Bucket)\n   {super(new BasicAWSCredentials(u, p));\n    bucket = Bucket;\n   }\n  boolean put(String k, String v)      \n   {try \n     {final ByteArrayInputStream b = new ByteArrayInputStream(v.toString().getBytes());\n      putObject(bucket, k, b, new ObjectMetadata());\n      setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be here to allow change to reduced redundancy\n      changeObjectStorageClass(bucket, k, StorageClass.ReducedRedundancy);\n      setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be repeated because it is now a new object again\n      return true; \n     }\n    catch(Exception e) {log(\"Cannot put \"+bucket+\"/\"+k+\" to S3 because \"+e);}\n    return false; \n   }\n  String get(String k) \n   {try \n     {final S3Object f = getObject(bucket, k);\n      final BufferedInputStream i = new BufferedInputStream(f.getObjectContent());  \n      final StringBuilder s = new StringBuilder(); \n      final byte[]b = new byte[1024];\n      for(int n = i.read(b); n != -1; n = i.read(b)) {s.append(new String(b, 0, n));}\n      return s.toString(); \n     }\n    catch(Exception e) {log(\"Cannot get \"+bucket+\"/\"+k+\" from S3 because \"+e);}\n    return null; \n   }\n  String[]list(String d) \n   {try \n     {final ObjectListing l = listObjects(bucket, d);\n      final List&lt;S3ObjectSummary&gt; L = l.getObjectSummaries(); \n      final int n = L.size();\n      final String[]s = new String[n];  \n      for(int i = 0; i &lt; n; ++i)\n       {final S3ObjectSummary k = L.get(i);\n        s[i] = k.getKey();\n       } \n      return s; \n     }\n    catch(Exception e) {log(\"Cannot list \"+bucket+\"/\"+d+\" on S3 because \"+e);}\n    return new String[]{}; \n   }\n }\n</code></pre>\n\n<p>}</p>\n\n<p>Once you have the image on Amazon S3, you can make the file publically visible and thus displayable in any web browser.</p>\n"}],"owner":{"account_id":2210759,"reputation":349,"user_id":1952686,"accept_rate":12,"display_name":"user1952686"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678606752,"creation_date":1357470900,"question_id":14181554,"body_markdown":"I want to build a little project.\r\n\r\nHo do i do this:\r\n\r\n1) automatically download RGB image from a known internet address to amazon AWS.\r\n\r\n2) convert the image to grayscale (eventually will do more advanced image processing).\r\n\r\n3) store the grayscale image in amazon AWS.\r\n\r\n4) be able to view / download the grayscale image in a web browser.\r\n\r\n\r\nprogramming languages i know is matlab, and basic java (OOP university course).\r\n\r\nis there any step by step guide?\r\n\r\nwhere should i start?","title":"amazon AWS - download images from web and manipulate them","body":"<p>I want to build a little project.</p>\n\n<p>Ho do i do this:</p>\n\n<p>1) automatically download RGB image from a known internet address to amazon AWS.</p>\n\n<p>2) convert the image to grayscale (eventually will do more advanced image processing).</p>\n\n<p>3) store the grayscale image in amazon AWS.</p>\n\n<p>4) be able to view / download the grayscale image in a web browser.</p>\n\n<p>programming languages i know is matlab, and basic java (OOP university course).</p>\n\n<p>is there any step by step guide?</p>\n\n<p>where should i start?</p>\n"},{"tags":["java","amazon-web-services","glassfish-3","jets3t"],"answers":[{"comments":[{"owner":{"account_id":1260439,"reputation":99,"user_id":1218873,"accept_rate":100,"display_name":"Harsha Reddy"},"score":0,"creation_date":1330063938,"post_id":9426164,"comment_id":11917483,"body_markdown":"Thanlks for the reply. I put my libraries which come with jets#t in Applibs folder and my jars in classes folder. I am still getting the above error. Am I placing these files correctly? I am a total noob to Glassfish btw.","body":"Thanlks for the reply. I put my libraries which come with jets#t in Applibs folder and my jars in classes folder. I am still getting the above error. Am I placing these files correctly? I am a total noob to Glassfish btw."},{"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"score":0,"creation_date":1330068468,"post_id":9426164,"comment_id":11918438,"body_markdown":"What is applib? Why you put your jar in classes? Have you actually read my answer?","body":"What is applib? Why you put your jar in classes? Have you actually read my answer?"},{"owner":{"account_id":1260439,"reputation":99,"user_id":1218873,"accept_rate":100,"display_name":"Harsha Reddy"},"score":0,"creation_date":1330078810,"post_id":9426164,"comment_id":11921422,"body_markdown":"Applibs and Classes are two of the directories I found in the  domains/domain1/lib folder ... but anyway , I followed your method and dumped everything related to jets3t in it and it worked. Thanks for the effort.","body":"Applibs and Classes are two of the directories I found in the  domains/domain1/lib folder ... but anyway , I followed your method and dumped everything related to jets3t in it and it worked. Thanks for the effort."}],"tags":[],"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1330063357,"creation_date":1330063357,"answer_id":9426164,"question_id":9426106,"body_markdown":"GlassFish v3 has a well defined Class Loader hierarchy which identifies the common class loader as the proper way to deal with shared libraries. So to make a long story short, putting you libraries and other framework JARs in domains/domain1/lib is all you need to do.\r\n\r\nGood luck!\r\n","title":"Amazon JetS3t API and Glassfish Server","body":"<p>GlassFish v3 has a well defined Class Loader hierarchy which identifies the common class loader as the proper way to deal with shared libraries. So to make a long story short, putting you libraries and other framework JARs in domains/domain1/lib is all you need to do.</p>\n\n<p>Good luck!</p>\n"}],"owner":{"account_id":1260439,"reputation":99,"user_id":1218873,"accept_rate":100,"display_name":"Harsha Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":9426164,"answer_count":1,"score":0,"last_activity_date":1678606728,"creation_date":1330062948,"question_id":9426106,"body_markdown":"Where do I put the Amazon JetS3t and the related jar files in Glassfish 3? \r\n\r\nI have a sample Restful Web application which currently uses a Arraylist to maintain objects at back-end, I would like them to be stored as text files on Amazon S3. So I am using jets@t API for that.\r\n\r\nWhen I deploy the application onto Glassfish, it throes an error like this\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.jets3t.service.security.ProviderCredentials\r\n    \tat \r\n    \r\n    org.glassfish.web.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1519) \tat org.glassfish.web.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1369) \t... 45 more\r\n","title":"Amazon JetS3t API and Glassfish Server","body":"<p>Where do I put the Amazon JetS3t and the related jar files in Glassfish 3?</p>\n<p>I have a sample Restful Web application which currently uses a Arraylist to maintain objects at back-end, I would like them to be stored as text files on Amazon S3. So I am using jets@t API for that.</p>\n<p>When I deploy the application onto Glassfish, it throes an error like this</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.jets3t.service.security.ProviderCredentials\n    at \n\norg.glassfish.web.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1519)   at org.glassfish.web.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1369)    ... 45 more\n</code></pre>\n"},{"tags":["java","amazon-web-services","maven","amazon-s3","glassfish"],"answers":[{"tags":[],"owner":{"account_id":245231,"reputation":306,"user_id":518612,"display_name":"Jiř&#237; Šitina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394910271,"creation_date":1394910271,"answer_id":22428378,"question_id":19053457,"body_markdown":"The error states that you&#39;re missing commons logging dependency, add it into your maven file: \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThat should help.","title":"How to use Amazon Java SDK with Maven on Glassfish?","body":"<p>The error states that you're missing commons logging dependency, add it into your maven file: </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>That should help.</p>\n"}],"owner":{"account_id":380513,"reputation":1213,"user_id":734586,"accept_rate":69,"display_name":"coffee_machine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678606707,"creation_date":1380292590,"question_id":19053457,"body_markdown":"So in my POM I have\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n      &lt;version&gt;1.5.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd when I first create my client:\r\n\r\n    AmazonS3 s3 = new AmazonS3Client(Config.AWS_CREDENTIALS);\r\n\r\nI get an exception\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory\r\n      at com.amazonaws.services.s3.AmazonS3Client.&lt;clinit&gt;(AmazonS3Client.java:193)\r\n      at (my code)\r\n      at (glassfish trace)\r\n      at java.lang.Thread.run(Thread.java:680)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\r\n      at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\r\n      at java.security.AccessController.doPrivileged(Native Method)\r\n      at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n      at sun.misc.Launcher$ExtClassLoader.findClass(Launcher.java:229)\r\n      at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n      at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n      ... 48 more\r\n\r\nAny idea? Thanks","title":"How to use Amazon Java SDK with Maven on Glassfish?","body":"<p>So in my POM I have</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n  &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n  &lt;version&gt;1.5.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And when I first create my client:</p>\n\n<pre><code>AmazonS3 s3 = new AmazonS3Client(Config.AWS_CREDENTIALS);\n</code></pre>\n\n<p>I get an exception</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory\n  at com.amazonaws.services.s3.AmazonS3Client.&lt;clinit&gt;(AmazonS3Client.java:193)\n  at (my code)\n  at (glassfish trace)\n  at java.lang.Thread.run(Thread.java:680)\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\n  at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n  at java.security.AccessController.doPrivileged(Native Method)\n  at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n  at sun.misc.Launcher$ExtClassLoader.findClass(Launcher.java:229)\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n  ... 48 more\n</code></pre>\n\n<p>Any idea? Thanks</p>\n"},{"tags":["java","amazon-web-services","apache","ssl"],"answers":[{"tags":[],"owner":{"account_id":5934605,"reputation":137,"user_id":4668045,"display_name":"VNN456"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553548768,"creation_date":1553548768,"answer_id":55346554,"question_id":46689593,"body_markdown":"I had a similar issue with AWS + Java7 + HTTPClient4.3; upgrading Apache HTTPClient to v4.5.7 fixed it. See if this version fixes your problem.","title":"Simple POST request to API Gateway from jdk1.6.0_45 using Apache Http Client 4.5.3","body":"<p>I had a similar issue with AWS + Java7 + HTTPClient4.3; upgrading Apache HTTPClient to v4.5.7 fixed it. See if this version fixes your problem.</p>\n"}],"owner":{"account_id":981530,"reputation":1652,"user_id":1001120,"accept_rate":59,"display_name":"IgorOK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678606690,"creation_date":1507728820,"question_id":46689593,"body_markdown":"Hі,\r\n\r\n I am trying to send POST request to API Gateway from jdk1.6.0_45 using Apache Http Client 4.5.3\r\n\r\n    public class App {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        System.setProperty(&quot;javax.net.debug&quot;, &quot;ssl&quot;);\r\n\r\n        HttpClient connection = HttpClientBuilder.create().build();\r\n        String url = &quot;https://76mpviml3c.execute-api.us-east-1.amazonaws.com/agstage/&quot;;\r\n        HttpPost request = new HttpPost(url);\r\n\r\n        connection.execute(request);\r\n    }\r\n\r\n}\r\n\r\nAnd I get javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure.\r\n\r\n**Could you please help me to understand what I am duing wrong ?**\r\n\r\n*By the way: AmazonS3Client (aws-java-sdk-s3 rev=&quot;1.11.109&quot;) works well on jdk1.6.0_45*\r\n \r\nLog:\r\n\r\ntrigger seeding of SecureRandom\r\ndone seeding SecureRandom\r\nAllow unsafe renegotiation: false\r\nAllow legacy hello messages: true\r\nIs initial handshake: true\r\nIs secure renegotiation: false\r\n%% No cached client session\r\n*** ClientHello, TLSv1\r\nRandomCookie:  GMT: 1490949205 bytes = { 187, 178, 36, 198, 107, 55, 182, 178, 107, 167, 74, 180, 59, 166, 13, 66, 247, 17, 201, 9, 36, 195, 234, 237, 68, 23, 124, 177 }\r\nSession ID:  {}\r\nCipher Suites: [SSL_RSA_WITH_RC4_128_MD5, SSL_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RSA_EXPORT_WITH_RC4_40_MD5, SSL_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\nCompression Methods:  { 0 }\r\n***\r\nmain, WRITE: TLSv1 Handshake, length = 75\r\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\tat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\r\n\tat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:136)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1822)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1004)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1188)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1215)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1199)\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:396)\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:355)\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:359)\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:381)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n\tat App.main(App.java:18)\r\nmain, READ: TLSv1 Alert, length = 2\r\nmain, RECV TLSv1 ALERT:  fatal, handshake_failure\r\nmain, called closeSocket()\r\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure","title":"Simple POST request to API Gateway from jdk1.6.0_45 using Apache Http Client 4.5.3","body":"<p>Hі,</p>\n\n<p>I am trying to send POST request to API Gateway from jdk1.6.0_45 using Apache Http Client 4.5.3</p>\n\n<pre><code>public class App {\n\npublic static void main(String[] args) throws IOException {\n    System.setProperty(\"javax.net.debug\", \"ssl\");\n\n    HttpClient connection = HttpClientBuilder.create().build();\n    String url = \"https://76mpviml3c.execute-api.us-east-1.amazonaws.com/agstage/\";\n    HttpPost request = new HttpPost(url);\n\n    connection.execute(request);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And I get javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure.</p>\n\n<p><strong>Could you please help me to understand what I am duing wrong ?</strong></p>\n\n<p><em>By the way: AmazonS3Client (aws-java-sdk-s3 rev=\"1.11.109\") works well on jdk1.6.0_45</em></p>\n\n<p>Log:</p>\n\n<p>trigger seeding of SecureRandom\ndone seeding SecureRandom\nAllow unsafe renegotiation: false\nAllow legacy hello messages: true\nIs initial handshake: true\nIs secure renegotiation: false\n%% No cached client session\n*** ClientHello, TLSv1\nRandomCookie:  GMT: 1490949205 bytes = { 187, 178, 36, 198, 107, 55, 182, 178, 107, 167, 74, 180, 59, 166, 13, 66, 247, 17, 201, 9, 36, 195, 234, 237, 68, 23, 124, 177 }\nSession ID:  {}\nCipher Suites: [SSL_RSA_WITH_RC4_128_MD5, SSL_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RSA_EXPORT_WITH_RC4_40_MD5, SSL_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\nCompression Methods:  { 0 }</p>\n\n<hr>\n\n<p>main, WRITE: TLSv1 Handshake, length = 75\nException in thread \"main\" javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\n    at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:136)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1822)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1004)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1188)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1215)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1199)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:396)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:355)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:359)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:381)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    at App.main(App.java:18)\nmain, READ: TLSv1 Alert, length = 2\nmain, RECV TLSv1 ALERT:  fatal, handshake_failure\nmain, called closeSocket()\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure</p>\n"},{"tags":["java","amazon-web-services","hadoop","mapreduce","amazon-emr"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1317056448,"post_id":7558030,"comment_id":9161919,"body_markdown":"You can specify how much memory each JVM should use but you have to run each task in its own process to do this.","body":"You can specify how much memory each JVM should use but you have to run each task in its own process to do this."}],"answers":[{"tags":[],"owner":{"account_id":304573,"reputation":32977,"user_id":614157,"accept_rate":56,"display_name":"Praveen Sripati"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1317058846,"creation_date":1317057493,"answer_id":7558716,"question_id":7558030,"body_markdown":"Check the [mapred.child.java.opts](http://hadoop.apache.org/mapreduce/docs/r0.21.0/mapred-default.html) property. It&#39;s defaulted to -Xmx200m, which means 200MB of heap for each of the map/reduce task.\r\n\r\nLooks like [EC2 small](http://aws.amazon.com/ec2/instance-types/) has 1.7 GB memory. Here is the memory with the default settings by the Hadoop processes on the TaskTracker node. Thanks to [&quot;Hadoop : The Definitive Guide&quot;](http://shop.oreilly.com/product/0636920010388.do)\r\n\r\nDatanode 1,000 MB  \r\nTasktracker 1,000 MB  \r\nTasktracker child map task 400 MB (2 * 200 MB)  \r\nTasktracker child map task 400 MB (2 * 200 MB)  \r\n\r\nTotal&#39;s to 2,800MB.\r\n\r\nOn top of this, there is the OS memory. Either pickup a nicer configuration or change the default settings. FYI, here is the [recommendation](http://www.cloudera.com/blog/2010/03/clouderas-support-team-shares-some-basic-hardware-recommendations/) on the H/W configuration for the different nodes.","title":"How to tell hadoop how much memory to allocate to a single mapper job?","body":"<p>Check the <a href=\"http://hadoop.apache.org/mapreduce/docs/r0.21.0/mapred-default.html\" rel=\"nofollow\">mapred.child.java.opts</a> property. It's defaulted to -Xmx200m, which means 200MB of heap for each of the map/reduce task.</p>\n\n<p>Looks like <a href=\"http://aws.amazon.com/ec2/instance-types/\" rel=\"nofollow\">EC2 small</a> has 1.7 GB memory. Here is the memory with the default settings by the Hadoop processes on the TaskTracker node. Thanks to <a href=\"http://shop.oreilly.com/product/0636920010388.do\" rel=\"nofollow\">\"Hadoop : The Definitive Guide\"</a></p>\n\n<p>Datanode 1,000 MB<br>\nTasktracker 1,000 MB<br>\nTasktracker child map task 400 MB (2 * 200 MB)<br>\nTasktracker child map task 400 MB (2 * 200 MB)  </p>\n\n<p>Total's to 2,800MB.</p>\n\n<p>On top of this, there is the OS memory. Either pickup a nicer configuration or change the default settings. FYI, here is the <a href=\"http://www.cloudera.com/blog/2010/03/clouderas-support-team-shares-some-basic-hardware-recommendations/\" rel=\"nofollow\">recommendation</a> on the H/W configuration for the different nodes.</p>\n"}],"owner":{"account_id":451349,"reputation":24587,"user_id":847200,"accept_rate":69,"display_name":"Arsen Zahray"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678606635,"creation_date":1317053685,"question_id":7558030,"body_markdown":"I&#39;ve created a Elastic MapReduce job, and I&#39;m trying to optimize its performance.\r\n\r\nAt this moment I&#39;m trying to increase the number of mappers per instance. I am doing this via mapred.tasktracker.map.tasks.maximum=X\r\n\r\n    elastic-mapreduce --create --alive --num-instance 3 \\\r\n     --bootstrap-action s3://elasticmapreduce/bootstrap-actions/configure-hadoop \\\r\n     --args -s,mapred.tasktracker.map.tasks.maximum=5\r\n\r\nEach time I try to set X over 2 per small instance, the initialization fails, from which I conclude, that hadoop allocated 800m of memory per map task. To me that seems too excessive. I&#39;d like it to be 400m tops.\r\n\r\nHow do I tell hadoop to use less memory for each map task?","title":"How to tell hadoop how much memory to allocate to a single mapper job?","body":"<p>I've created a Elastic MapReduce job, and I'm trying to optimize its performance.</p>\n\n<p>At this moment I'm trying to increase the number of mappers per instance. I am doing this via mapred.tasktracker.map.tasks.maximum=X</p>\n\n<pre><code>elastic-mapreduce --create --alive --num-instance 3 \\\n --bootstrap-action s3://elasticmapreduce/bootstrap-actions/configure-hadoop \\\n --args -s,mapred.tasktracker.map.tasks.maximum=5\n</code></pre>\n\n<p>Each time I try to set X over 2 per small instance, the initialization fails, from which I conclude, that hadoop allocated 800m of memory per map task. To me that seems too excessive. I'd like it to be 400m tops.</p>\n\n<p>How do I tell hadoop to use less memory for each map task?</p>\n"},{"tags":["java","obfuscation"],"comments":[{"owner":{"account_id":10986311,"reputation":165,"user_id":8071915,"display_name":"Col-E"},"score":0,"creation_date":1658516878,"post_id":73037590,"comment_id":129079687,"body_markdown":"Have you tried emailing their support team? I&#39;m sure they&#39;ve had customers with Spring Boot. They&#39;ll probably have some prior experience that would be helpful to lean on.","body":"Have you tried emailing their support team? I&#39;m sure they&#39;ve had customers with Spring Boot. They&#39;ll probably have some prior experience that would be helpful to lean on."},{"owner":{"account_id":10986311,"reputation":165,"user_id":8071915,"display_name":"Col-E"},"score":0,"creation_date":1658538793,"post_id":73037590,"comment_id":129083735,"body_markdown":"Actually, Spring boot is specifically addressed in their FAQ: https://www.zelix.com/klassmaster/FAQ.html#Q5 - seems like its just a matter of configuring it properly","body":"Actually, Spring boot is specifically addressed in their FAQ: <a href=\"https://www.zelix.com/klassmaster/FAQ.html#Q5\" rel=\"nofollow noreferrer\">zelix.com/klassmaster/FAQ.html#Q5</a> - seems like its just a matter of configuring it properly"}],"owner":{"account_id":25561773,"reputation":1,"user_id":19428578,"display_name":"Danrley Brasil dos Santos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678606458,"creation_date":1658236355,"question_id":73037590,"body_markdown":"I&#39;m having trouble obfuscating a Spring Boot application using Zelix KlassMaster.\r\nI tested it with a standard maven application and it worked.\r\nI tried with ProGuard, but it doesn&#39;t have a tool to obfuscate strings. And it seems that with Spring Boot Zelix behaves badly!\r\n\r\nI need help! Does anyone have any example ZKM scripts?","title":"How to obfuscate Spring Boot application with Zelix KlassMaster?","body":"<p>I'm having trouble obfuscating a Spring Boot application using Zelix KlassMaster.\nI tested it with a standard maven application and it worked.\nI tried with ProGuard, but it doesn't have a tool to obfuscate strings. And it seems that with Spring Boot Zelix behaves badly!</p>\n<p>I need help! Does anyone have any example ZKM scripts?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1678597779,"post_id":75711102,"comment_id":133562912,"body_markdown":"[How do I compare strings in Java](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"<a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1678597990,"post_id":75711102,"comment_id":133562932,"body_markdown":"`input = new Scanner(System.in).nextLine();` Create a `Scanner` object once only, before the `while` loop.","body":"<code>input = new Scanner(System.in).nextLine();</code> Create a <code>Scanner</code> object once only, before the <code>while</code> loop."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1678614337,"post_id":75711102,"comment_id":133564629,"body_markdown":"Does this answer your question? [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678604090,"creation_date":1678604090,"answer_id":75711520,"question_id":75711102,"body_markdown":"Do this:\r\n\r\n    public static void readInputSpeed(String prompt) {\r\n        Scanner sc = new Scanner(System.in); // create scanner outside loop\r\n        int speed = 0; // need a variable to hold speed\r\n        String input = &quot;&quot;;\r\n        while (!input.equalsIgnoreCase(&quot;quit&quot;)) { // comparing strings case insensitively\r\n            System.out.print(prompt);\r\n            input = sc.nextLine();\r\n            \r\n            if (input.equalsIgnoreCase(&quot;more&quot;)) // comparing strings case insensitively\r\n                speed += 5;\r\n            else if (input.equalsIgnoreCase(“less&quot;))\r\n                speed -= 5;\r\n            System.out.println(speed + &quot; MPH&quot;);\r\n        }\r\n    }\r\n","title":"Want to have speed increase with each type of the keyword chosen. But add speed not repeat speed","body":"<p>Do this:</p>\n<pre><code>public static void readInputSpeed(String prompt) {\n    Scanner sc = new Scanner(System.in); // create scanner outside loop\n    int speed = 0; // need a variable to hold speed\n    String input = &quot;&quot;;\n    while (!input.equalsIgnoreCase(&quot;quit&quot;)) { // comparing strings case insensitively\n        System.out.print(prompt);\n        input = sc.nextLine();\n        \n        if (input.equalsIgnoreCase(&quot;more&quot;)) // comparing strings case insensitively\n            speed += 5;\n        else if (input.equalsIgnoreCase(“less&quot;))\n            speed -= 5;\n        System.out.println(speed + &quot; MPH&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16886288,"reputation":1,"user_id":12211018,"display_name":"Kierzoh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678605694,"creation_date":1678605694,"answer_id":75711613,"question_id":75711102,"body_markdown":"I believe your problem is the way you&#39;re comparing strings. The reason why it doesn&#39;t keep storing increments of 5 into your &#39;i&#39; variable is because when you use the &#39;==&#39; operator in java, you&#39;re telling the program to check to see if two strings are the same **object**, but that&#39;s not what you want. You want to use the &#39;str.equals()&#39; method when you want to see if two strings share the exact same characters. Since your if statement checks to see if these strings are equal and it&#39;s not passing because of your conditions not being setup properly, it&#39;s not able to increment the value of &#39;i&#39;. Also, I&#39;m not sure if you need the for loop or array since I can&#39;t see the rest of your code, but here&#39;s some sort of way I would go about coding it. Hope this helps. \r\n```\r\npackage readInputSpeed;\r\nimport java.util.Scanner;\r\n\r\npublic class rInputSpeed {\r\n\tpublic static void main(String args[]) {\r\n        int inputSpeed = new Scanner(System.in).nextInt();\r\n        readInputSpeed(inputSpeed);\r\n\t}\r\n\t\r\n\tpublic static void readInputSpeed(int prompt) {\r\n        String input = &quot;&quot;;\r\n        int i = prompt;\r\n        while (!(input.equals(&quot;quit&quot;))) {\r\n        \tSystem.out.println(prompt);\r\n        \tinput = new Scanner(System.in).nextLine();\r\n        \tif (input.equals(&quot;more&quot;))\r\n                i += 5;\r\n            else if (input.equals(&quot;less&quot;))\r\n                i -= 5;\r\n        \tSystem.out.println(i + &quot; MPH&quot;);\r\n        }\r\n\t}\r\n}\r\n\r\n```","title":"Want to have speed increase with each type of the keyword chosen. But add speed not repeat speed","body":"<p>I believe your problem is the way you're comparing strings. The reason why it doesn't keep storing increments of 5 into your 'i' variable is because when you use the '==' operator in java, you're telling the program to check to see if two strings are the same <strong>object</strong>, but that's not what you want. You want to use the 'str.equals()' method when you want to see if two strings share the exact same characters. Since your if statement checks to see if these strings are equal and it's not passing because of your conditions not being setup properly, it's not able to increment the value of 'i'. Also, I'm not sure if you need the for loop or array since I can't see the rest of your code, but here's some sort of way I would go about coding it. Hope this helps.</p>\n<pre><code>package readInputSpeed;\nimport java.util.Scanner;\n\npublic class rInputSpeed {\n    public static void main(String args[]) {\n        int inputSpeed = new Scanner(System.in).nextInt();\n        readInputSpeed(inputSpeed);\n    }\n    \n    public static void readInputSpeed(int prompt) {\n        String input = &quot;&quot;;\n        int i = prompt;\n        while (!(input.equals(&quot;quit&quot;))) {\n            System.out.println(prompt);\n            input = new Scanner(System.in).nextLine();\n            if (input.equals(&quot;more&quot;))\n                i += 5;\n            else if (input.equals(&quot;less&quot;))\n                i -= 5;\n            System.out.println(i + &quot; MPH&quot;);\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":27068204,"reputation":1,"user_id":20619231,"display_name":"Stewl3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678605694,"creation_date":1678596647,"question_id":75711102,"body_markdown":"Here I have the code to receive input to the speed. However I am wanting to make it so when type &quot;more&quot; it will give 5 MPH and the next time I type move it will be 10 MPH, so adding 5 to the previous output. \r\n\r\n```\r\npublic static void readInputSpeed(String prompt) {\r\n        System.out.print(prompt);\r\n        String inputSpeed = new Scanner(System.in).nextLine();\r\n        Car.speed(inputSpeed);\r\n\r\n    }\r\n``` \r\n\r\nWhat I am looking for is \r\n\r\nUser types &quot;more&quot;\r\nOutput: 5\r\nUser types &quot;more&quot;\r\nOutput: moves from 5 to 10 (so the code stores the previous value and then add 5 to the previous value that it was from the last iteration)\r\n\r\nI have tried to insert the block of code into a while loop and that works to get multiple inputs. As for input I am trying to implement, I have tried to use the while loop with a fori loop. I have also tried to use arrays to try to maybe store the input into the array and reference back to that same spot in the array.\r\n\r\n\r\nHere is the code for the array and loops I used:\r\n\r\n```\r\npublic static void readInputSpeed(String prompt) {\r\n        String input = &quot;&quot;;\r\n        int[] array = new int[1];\r\n        array[0] = 0;\r\n        while (input != &quot;quit&quot;) {\r\n            System.out.print(prompt);\r\n            input = new Scanner(System.in).nextLine();\r\n                for (int i = 0; i &lt; 1; i++) {\r\n                    array[i] = i;\r\n                    if (input == &quot;more&quot;)\r\n                        i += 5;\r\n                    else if (input == &quot;less&quot;)\r\n                        i -= 5;\r\n                    System.out.println(i + &quot; MPH&quot;);\r\n            }\r\n        }\r\n    }\r\n```\r\n","title":"Want to have speed increase with each type of the keyword chosen. But add speed not repeat speed","body":"<p>Here I have the code to receive input to the speed. However I am wanting to make it so when type &quot;more&quot; it will give 5 MPH and the next time I type move it will be 10 MPH, so adding 5 to the previous output.</p>\n<pre><code>public static void readInputSpeed(String prompt) {\n        System.out.print(prompt);\n        String inputSpeed = new Scanner(System.in).nextLine();\n        Car.speed(inputSpeed);\n\n    }\n</code></pre>\n<p>What I am looking for is</p>\n<p>User types &quot;more&quot;\nOutput: 5\nUser types &quot;more&quot;\nOutput: moves from 5 to 10 (so the code stores the previous value and then add 5 to the previous value that it was from the last iteration)</p>\n<p>I have tried to insert the block of code into a while loop and that works to get multiple inputs. As for input I am trying to implement, I have tried to use the while loop with a fori loop. I have also tried to use arrays to try to maybe store the input into the array and reference back to that same spot in the array.</p>\n<p>Here is the code for the array and loops I used:</p>\n<pre><code>public static void readInputSpeed(String prompt) {\n        String input = &quot;&quot;;\n        int[] array = new int[1];\n        array[0] = 0;\n        while (input != &quot;quit&quot;) {\n            System.out.print(prompt);\n            input = new Scanner(System.in).nextLine();\n                for (int i = 0; i &lt; 1; i++) {\n                    array[i] = i;\n                    if (input == &quot;more&quot;)\n                        i += 5;\n                    else if (input == &quot;less&quot;)\n                        i -= 5;\n                    System.out.println(i + &quot; MPH&quot;);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-cloud-gateway"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1670251669,"post_id":74689784,"comment_id":131826765,"body_markdown":"Clients must connect directly to the Kafka brokers. Any gateway/proxy/load balancer doesn&#39;t really work in context of Kafka protocol","body":"Clients must connect directly to the Kafka brokers. Any gateway/proxy/load balancer doesn&#39;t really work in context of Kafka protocol"}],"answers":[{"tags":[],"owner":{"account_id":9072930,"reputation":91,"user_id":6755424,"display_name":"Mostafa Hosseinzadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678605626,"creation_date":1678605626,"answer_id":75711608,"question_id":74689784,"body_markdown":"You can use [this][1] tutorial\r\n  \r\n\r\n    @SpringBootApplication\r\n    @EnableWebSocketMessageBroker\r\n    public class MicroserviceWebApplication extends AbstractWebSocketMessageBrokerConfigurer {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;true&quot;);\r\n    \t\tSpringApplication.run(MicroserviceWebApplication.class, args);\r\n    \t}\r\n       @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n            config.enableSimpleBroker(&quot;/topic&quot;);\r\n            config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n    \r\n            registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\r\n        }\r\n    }\r\n  [1]: https://dzone.com/articles/developing-async-microservices-architecture-using\r\n","title":"Spring Cloud Gateway with Kafka Broadcaster","body":"<p>You can use <a href=\"https://dzone.com/articles/developing-async-microservices-architecture-using\" rel=\"nofollow noreferrer\">this</a> tutorial</p>\n<pre><code>@SpringBootApplication\n@EnableWebSocketMessageBroker\npublic class MicroserviceWebApplication extends AbstractWebSocketMessageBrokerConfigurer {\n    public static void main(String[] args) {\n        System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;true&quot;);\n        SpringApplication.run(MicroserviceWebApplication.class, args);\n    }\n   @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n\n        registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14237543,"reputation":295,"user_id":10284940,"display_name":"Ismail Dogan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75711608,"answer_count":1,"score":1,"last_activity_date":1678605626,"creation_date":1670250680,"question_id":74689784,"body_markdown":"I am working on a project and working on spring-cloud-gateway and kafka broadcaster.  The project  uses spring-cloud-gateway, so that means that there is no any controller. The requests are being forwarded to another microservice by using spring-cloud-gateway.\r\n\r\nMy problem is that I need to send a message to a kafka topic. I know that there are some examples about amazon sqs and sns with spring-cloud-gateway. Is there any example for using of kafka and spring-cloud-gateway? ","title":"Spring Cloud Gateway with Kafka Broadcaster","body":"<p>I am working on a project and working on spring-cloud-gateway and kafka broadcaster.  The project  uses spring-cloud-gateway, so that means that there is no any controller. The requests are being forwarded to another microservice by using spring-cloud-gateway.</p>\n<p>My problem is that I need to send a message to a kafka topic. I know that there are some examples about amazon sqs and sns with spring-cloud-gateway. Is there any example for using of kafka and spring-cloud-gateway?</p>\n"},{"tags":["java","file","intellij-idea","text","src"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678629508,"post_id":75711601,"comment_id":133566707,"body_markdown":"(1) move `Recipe.txt` into `C:\\Users\\Kevin\\IdeaProjects\\Restaurant` directory (2) this is only for IDEA test.","body":"(1) move <code>Recipe.txt</code> into <code>C:\\Users\\Kevin\\IdeaProjects\\Restaurant</code> directory (2) this is only for IDEA test."},{"owner":{"account_id":26932630,"reputation":1,"user_id":20504782,"display_name":"Jay Money"},"score":0,"creation_date":1678643132,"post_id":75711601,"comment_id":133569169,"body_markdown":"They are already in the same directory; not sure what you mean by step 2 though.","body":"They are already in the same directory; not sure what you mean by step 2 though."}],"owner":{"account_id":26932630,"reputation":1,"user_id":20504782,"display_name":"Jay Money"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678605503,"creation_date":1678605503,"question_id":75711601,"body_markdown":"So let say I have a package called food in src folder inside my restaurant project. Then I created a file call recipe which contains some food names that is also inside the same food package. Then when I call to the file&#39;s name which is &quot;recipe.txt&quot;, I get the error that can&#39;t find the file. So I have create a project call restaurant and inside it I have created a package called food and inside the package food, I have created a file called recipe.txt and tried to open it and read it by it does not let me.\r\n\r\nI have tried all the different way I could, so first I tried to open and read it by direct path of the file which works-&gt;\r\n    String directPath = &quot;C:\\\\Users\\\\Kevin\\\\IdeaProjects\\\\Restaurant\\\\src\\\\Food\\\\Recipe.txt&quot;;\r\n            try {\r\n                Files.lines(Paths.get(directPath))\r\n                        .forEach(System.out::println);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Error file: &quot; + e.getMessage());\r\n            }\r\nHowever, whenever I want to make it work where I can just use the name of the file because I have other problems where I open it from another class and direct path don&#39;t seem to work. So back to the original question where I want to use file name to open and read the file.\r\n    //String directPath = &quot;C:\\\\Users\\\\Kevin\\\\IdeaProjects\\\\Restaurant\\\\src\\\\Food\\\\Recipe.txt&quot;;\r\n        try {\r\n            Files.lines(Paths.get(&quot;recipe.txt&quot;))\r\n                    .forEach(System.out::println);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error file: &quot; + e.getMessage());\r\n        }\r\nSo I have confirmed that the file is in the correct directory since it is in the package called food and the Main class where I try to open and read the file is also in the package called food. I have also checked if I can access of edit a file by using the &quot;file.exists&quot;,&quot;file.canRead&quot;,&quot;file.canWrite&quot;,and &quot;file.canExecute&quot;. So I am quite sure that my file is not locked based on these tests? None other program is also using the file since I just created it to test. So I have no idea why I can not open the File just by using the File name since the file is accessible and is in the correct package. Thank you guys so much since this problem has been eating at me for so long.","title":"How to get certain files in Intellij IDEA just by name and not direct path","body":"<p>So let say I have a package called food in src folder inside my restaurant project. Then I created a file call recipe which contains some food names that is also inside the same food package. Then when I call to the file's name which is &quot;recipe.txt&quot;, I get the error that can't find the file. So I have create a project call restaurant and inside it I have created a package called food and inside the package food, I have created a file called recipe.txt and tried to open it and read it by it does not let me.</p>\n<p>I have tried all the different way I could, so first I tried to open and read it by direct path of the file which works-&gt;\nString directPath = &quot;C:\\Users\\Kevin\\IdeaProjects\\Restaurant\\src\\Food\\Recipe.txt&quot;;\ntry {\nFiles.lines(Paths.get(directPath))\n.forEach(System.out::println);\n} catch (Exception e) {\nSystem.out.println(&quot;Error file: &quot; + e.getMessage());\n}\nHowever, whenever I want to make it work where I can just use the name of the file because I have other problems where I open it from another class and direct path don't seem to work. So back to the original question where I want to use file name to open and read the file.\n//String directPath = &quot;C:\\Users\\Kevin\\IdeaProjects\\Restaurant\\src\\Food\\Recipe.txt&quot;;\ntry {\nFiles.lines(Paths.get(&quot;recipe.txt&quot;))\n.forEach(System.out::println);\n} catch (Exception e) {\nSystem.out.println(&quot;Error file: &quot; + e.getMessage());\n}\nSo I have confirmed that the file is in the correct directory since it is in the package called food and the Main class where I try to open and read the file is also in the package called food. I have also checked if I can access of edit a file by using the &quot;file.exists&quot;,&quot;file.canRead&quot;,&quot;file.canWrite&quot;,and &quot;file.canExecute&quot;. So I am quite sure that my file is not locked based on these tests? None other program is also using the file since I just created it to test. So I have no idea why I can not open the File just by using the File name since the file is accessible and is in the correct package. Thank you guys so much since this problem has been eating at me for so long.</p>\n"},{"tags":["java","multithreading","javafx","java-threads"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678589286,"post_id":75710764,"comment_id":133562354,"body_markdown":"Short answer is no - or at least not the way you might be thinking - the longer as is, you could use a Runnable which could have your other threads “run”, much like a queue of tasks, just as an example","body":"Short answer is no - or at least not the way you might be thinking - the longer as is, you could use a Runnable which could have your other threads “run”, much like a queue of tasks, just as an example"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1678589495,"post_id":75710764,"comment_id":133562370,"body_markdown":"This just isn’t how GUI frameworks work (at least, any I’ve worked with, including JavaFX). They are *event driven*. Just register an event handler with the button and it will be invoked when the button is pressed. The UI thread is already implemented for you, running (transparently; you never even need to be aware of it) a loop for you which waits for user events to happe","body":"This just isn’t how GUI frameworks work (at least, any I’ve worked with, including JavaFX). They are <i>event driven</i>. Just register an event handler with the button and it will be invoked when the button is pressed. The UI thread is already implemented for you, running (transparently; you never even need to be aware of it) a loop for you which waits for user events to happe"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678604736,"creation_date":1678603985,"answer_id":75711507,"question_id":75710764,"body_markdown":"I believe you&#39;ve got a slight conceptual misunderstanding. Don&#39;t think about how to call a method from one thread and have it execute on a different thread. Instead, think about how to pass objects between threads. You want to give your &quot;worker thread&quot; a message to send. So, you need to figure out how to give that message _object_ to said thread.\r\n\r\nEssentially, you need to provide a &quot;synchronization point&quot; where you can pass data (or even actions, e.g., as `Runnable`s&lt;sup&gt;**1**&lt;/sup&gt;) between threads. There are quite a few ways you can do this. And how exactly you decide to do this depends on how exactly this &quot;worker thread&quot; of yours is supposed to work. Regardless, I recommend doing some research into Java concurrency. Take a look at:\r\n\r\n* Concurrency tutorials (e.g., [this one][4] or [this one][5], among many others, including full books).\r\n\r\n* The `synchronized` keyword and the corresponding `wait`, `notify`, and `notifyAll` methods (all declared in `Object`).\r\n\r\n* The [`java.util.concurrent`][1], [`java.util.concurrent.atomic`][2], and [`java.util.concurrent.locks`][3] packages.\r\n\r\n* [Concurrency in JavaFX][6] and the [`javafx.concurrent`][7] package (both JavaFX-specific; you included the [tag:javafx] tag).\r\n\r\n\r\nConcurrency is hard, and it&#39;s going to take some work to become proficient with it.\r\n\r\nThat said, if your &quot;worker thread&quot; is meant to send multiple messages as the user enters them, then probably one of the easiest solutions is to use a [`BlockingQueue`][8]. Here&#39;s an example (in JavaFX, given the [tag:javafx] tag):\r\n\r\n\r\n```lang-java\r\nimport java.util.Objects;\r\nimport java.util.concurrent.ArrayBlockingQueue;\r\nimport java.util.concurrent.BlockingQueue;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.Priority;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n  private ExecutorService executor;\r\n\r\n  @Override\r\n  public void start(Stage primaryStage) {\r\n    executor = Executors.newSingleThreadExecutor();\r\n\r\n    BlockingQueue&lt;String&gt; messageQueue = new ArrayBlockingQueue&lt;&gt;(10);\r\n    executor.execute(new Messenger(messageQueue));\r\n\r\n    TextField inputField = new TextField();\r\n\r\n    Button sendBtn = new Button(&quot;Send&quot;);\r\n    sendBtn.setDefaultButton(true);\r\n    sendBtn.setOnAction(e -&gt; {\r\n      e.consume();\r\n\r\n      String message = inputField.getText();\r\n      if (message != null &amp;&amp; !message.isEmpty()) {\r\n        System.out.printf(\r\n            &quot;[%s] Enqueueing message: &#39;%s&#39;%n&quot;,\r\n            Thread.currentThread().getName(),\r\n            message  \r\n        );\r\n        messageQueue.add(message);\r\n        inputField.clear();\r\n      }\r\n    });\r\n\r\n    HBox root = new HBox(10, inputField, sendBtn);\r\n    root.setPadding(new Insets(10));\r\n    HBox.setHgrow(inputField, Priority.ALWAYS);\r\n\r\n    primaryStage.setScene(new Scene(root, 600, -1));\r\n    primaryStage.setTitle(&quot;JavaFX Demo&quot;);\r\n    primaryStage.show();\r\n  }\r\n\r\n  @Override\r\n  public void stop() {\r\n    executor.shutdownNow();\r\n  }\r\n\r\n  private static class Messenger implements Runnable {\r\n\r\n    private final BlockingQueue&lt;String&gt; queue;\r\n\r\n    Messenger(BlockingQueue&lt;String&gt; queue) {\r\n      this.queue = Objects.requireNonNull(queue, &quot;queue&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n      try {\r\n        searchForConnections();\r\n        while (!Thread.interrupted()) {\r\n          String message = queue.take();\r\n          sendMessage(message);\r\n        }\r\n      } catch (InterruptedException ignore) {\r\n        // If the thread is interrupted, we simply want to stop\r\n      }\r\n    }\r\n\r\n    private void searchForConnections() {}\r\n\r\n    private void sendMessage(String message) {\r\n      System.out.printf(\r\n          &quot;[%s] Sending message: &#39;%s&#39;%n&quot;,\r\n          Thread.currentThread().getName(),\r\n          message\r\n      );\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNote how this actually works. We aren&#39;t calling a method from one thread, but having it execute on another. We have the background thread (your &quot;worker thread&quot;) blocked on the `BlockingQueue` waiting for messages to send. When the _JavaFX Application Thread_ (the UI thread) places a `String` in the queue, the background thread takes it and calls `sendMessage` with the `String`.\r\n\r\nAlso, in case there&#39;s some confusion here, note how we do not create nor manage the UI thread. That is handled by the UI framework, and the thread is already running in essentially a loop that processes user-generated events and syncs the rendered UI with the state of the scene graph.\r\n\r\nIf you run the above example, type `Hello, World!` into the text field, and then trigger the &lt;kbd&gt;Send&lt;/kbd&gt; button, you should see something like:\r\n\r\n```lang-none\r\n[JavaFX Application Thread] Enqueueing message: &#39;Hello, World!&#39;\r\n[pool-2-thread-1] Sending message: &#39;Hello, World!&#39;\r\n```\r\n\r\nPrinted to the console.\r\n\r\n\r\n---\r\n\r\n&lt;sup&gt;**1.** One of the main `ExecutorService` implementations, `ThreadPoolExecutor`, works on this principle. It maintains a `BlockingQueue&lt;Runnable&gt;` and a pool of threads. These threads essentially loop trying to take a `Runnable` from the queue and then calling its `run()` method. The queue is populated by calling e.g., `execute` and `submit` on the `ExecutorService`. And that&#39;s one way you can give a &quot;task&quot; to another thread. It&#39;s also how the above example executes `Messenger` on a background thread.&lt;/sup&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/package-summary.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/atomic/package-summary.html\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/locks/package-summary.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/concurrency/\r\n  [5]: https://jenkov.com/tutorials/java-concurrency/index.html\r\n  [6]: https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm#JFXIP546\r\n  [7]: https://openjfx.io/javadoc/19/javafx.graphics/javafx/concurrent/package-summary.html\r\n  [8]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/BlockingQueue.html","title":"How to call a method on one running thread but execute it on another running thread?","body":"<p>I believe you've got a slight conceptual misunderstanding. Don't think about how to call a method from one thread and have it execute on a different thread. Instead, think about how to pass objects between threads. You want to give your &quot;worker thread&quot; a message to send. So, you need to figure out how to give that message <em>object</em> to said thread.</p>\n<p>Essentially, you need to provide a &quot;synchronization point&quot; where you can pass data (or even actions, e.g., as <code>Runnable</code>s<sup><strong>1</strong></sup>) between threads. There are quite a few ways you can do this. And how exactly you decide to do this depends on how exactly this &quot;worker thread&quot; of yours is supposed to work. Regardless, I recommend doing some research into Java concurrency. Take a look at:</p>\n<ul>\n<li><p>Concurrency tutorials (e.g., <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/\" rel=\"nofollow noreferrer\">this one</a> or <a href=\"https://jenkov.com/tutorials/java-concurrency/index.html\" rel=\"nofollow noreferrer\">this one</a>, among many others, including full books).</p>\n</li>\n<li><p>The <code>synchronized</code> keyword and the corresponding <code>wait</code>, <code>notify</code>, and <code>notifyAll</code> methods (all declared in <code>Object</code>).</p>\n</li>\n<li><p>The <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/atomic/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent.atomic</code></a>, and <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/locks/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent.locks</code></a> packages.</p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm#JFXIP546\" rel=\"nofollow noreferrer\">Concurrency in JavaFX</a> and the <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/concurrent/package-summary.html\" rel=\"nofollow noreferrer\"><code>javafx.concurrent</code></a> package (both JavaFX-specific; you included the <a href=\"/questions/tagged/javafx\" class=\"post-tag\" title=\"show questions tagged &#39;javafx&#39;\" aria-label=\"show questions tagged &#39;javafx&#39;\" rel=\"tag\" aria-labelledby=\"tag-javafx-tooltip-container\">javafx</a> tag).</p>\n</li>\n</ul>\n<p>Concurrency is hard, and it's going to take some work to become proficient with it.</p>\n<p>That said, if your &quot;worker thread&quot; is meant to send multiple messages as the user enters them, then probably one of the easiest solutions is to use a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\"><code>BlockingQueue</code></a>. Here's an example (in JavaFX, given the <a href=\"/questions/tagged/javafx\" class=\"post-tag\" title=\"show questions tagged &#39;javafx&#39;\" aria-label=\"show questions tagged &#39;javafx&#39;\" rel=\"tag\" aria-labelledby=\"tag-javafx-tooltip-container\">javafx</a> tag):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Objects;\nimport java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Priority;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n  private ExecutorService executor;\n\n  @Override\n  public void start(Stage primaryStage) {\n    executor = Executors.newSingleThreadExecutor();\n\n    BlockingQueue&lt;String&gt; messageQueue = new ArrayBlockingQueue&lt;&gt;(10);\n    executor.execute(new Messenger(messageQueue));\n\n    TextField inputField = new TextField();\n\n    Button sendBtn = new Button(&quot;Send&quot;);\n    sendBtn.setDefaultButton(true);\n    sendBtn.setOnAction(e -&gt; {\n      e.consume();\n\n      String message = inputField.getText();\n      if (message != null &amp;&amp; !message.isEmpty()) {\n        System.out.printf(\n            &quot;[%s] Enqueueing message: '%s'%n&quot;,\n            Thread.currentThread().getName(),\n            message  \n        );\n        messageQueue.add(message);\n        inputField.clear();\n      }\n    });\n\n    HBox root = new HBox(10, inputField, sendBtn);\n    root.setPadding(new Insets(10));\n    HBox.setHgrow(inputField, Priority.ALWAYS);\n\n    primaryStage.setScene(new Scene(root, 600, -1));\n    primaryStage.setTitle(&quot;JavaFX Demo&quot;);\n    primaryStage.show();\n  }\n\n  @Override\n  public void stop() {\n    executor.shutdownNow();\n  }\n\n  private static class Messenger implements Runnable {\n\n    private final BlockingQueue&lt;String&gt; queue;\n\n    Messenger(BlockingQueue&lt;String&gt; queue) {\n      this.queue = Objects.requireNonNull(queue, &quot;queue&quot;);\n    }\n\n    @Override\n    public void run() {\n      try {\n        searchForConnections();\n        while (!Thread.interrupted()) {\n          String message = queue.take();\n          sendMessage(message);\n        }\n      } catch (InterruptedException ignore) {\n        // If the thread is interrupted, we simply want to stop\n      }\n    }\n\n    private void searchForConnections() {}\n\n    private void sendMessage(String message) {\n      System.out.printf(\n          &quot;[%s] Sending message: '%s'%n&quot;,\n          Thread.currentThread().getName(),\n          message\n      );\n    }\n  }\n}\n</code></pre>\n<p>Note how this actually works. We aren't calling a method from one thread, but having it execute on another. We have the background thread (your &quot;worker thread&quot;) blocked on the <code>BlockingQueue</code> waiting for messages to send. When the <em>JavaFX Application Thread</em> (the UI thread) places a <code>String</code> in the queue, the background thread takes it and calls <code>sendMessage</code> with the <code>String</code>.</p>\n<p>Also, in case there's some confusion here, note how we do not create nor manage the UI thread. That is handled by the UI framework, and the thread is already running in essentially a loop that processes user-generated events and syncs the rendered UI with the state of the scene graph.</p>\n<p>If you run the above example, type <code>Hello, World!</code> into the text field, and then trigger the <kbd>Send</kbd> button, you should see something like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[JavaFX Application Thread] Enqueueing message: 'Hello, World!'\n[pool-2-thread-1] Sending message: 'Hello, World!'\n</code></pre>\n<p>Printed to the console.</p>\n<hr />\n<p><sup><strong>1.</strong> One of the main <code>ExecutorService</code> implementations, <code>ThreadPoolExecutor</code>, works on this principle. It maintains a <code>BlockingQueue&lt;Runnable&gt;</code> and a pool of threads. These threads essentially loop trying to take a <code>Runnable</code> from the queue and then calling its <code>run()</code> method. The queue is populated by calling e.g., <code>execute</code> and <code>submit</code> on the <code>ExecutorService</code>. And that's one way you can give a &quot;task&quot; to another thread. It's also how the above example executes <code>Messenger</code> on a background thread.</sup></p>\n"}],"owner":{"account_id":27744528,"reputation":19,"user_id":21180299,"display_name":"User"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75711507,"answer_count":1,"score":-1,"last_activity_date":1678604736,"creation_date":1678588211,"question_id":75710764,"body_markdown":"I am new to java threads. I have an client application that is running on 2 threads: `WorkerThread` and `JavaFxGuiThread`. My question is: can i call a method on `GuiThread` (on press of a button) but execute it on `WorkerThread`? Note that that at the time when i call method and execute it both threads are already doing other stuff.\r\nHere is the sample of my code:\r\n\r\n```\r\nclass WorkerThread implements Runnable {\r\n    @Override\r\n    public void run() {\r\n        searchForConnections(); // &lt;-- should run at the start of a thread\r\n        \r\n        // should wait for onButtonPressed() and only then execute\r\n        // sendMessage() on WorkerThread, not on GuiThread\r\n    }\r\n    private String searchForConnections() {\r\n        // constantly searches for connections\r\n        return connection;\r\n    }\r\n    private void sendMessage() {\r\n        //sends message\r\n        System.out.println(&quot;message sent!&quot;);\r\n    }\r\n}\r\nclass GuiThread implements Runnable {\r\n    @Override\r\n    public void run() {\r\n        runGui(); // &lt;-- should run at the start of a thread\r\n        \r\n        // waits until user press the button\r\n        // and only then:\r\n        onButtonPressed();\r\n    }\r\n    private void onButtonPressed() {\r\n        // should somehow run sendMessage() inside\r\n        // WorkerThread run() method\r\n        // ( which should run sendMessage() on WorkerThread not GuiThread )\r\n    }\r\n}\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        new Thread(new WorkerThread()).start();  // starts GuiThread run() method\r\n        new Thread(new GuiThread()).start();     // starts WorkerThread run() method\r\n    }\r\n}\r\n```\r\n\r\nI want to avoid calling `sendMessage()` on `GuiThread`.\r\n\r\n\r\nSimilar answers here only show how to run methods AT THE START of a thread while i believe that my situation is different because threads are already running.","title":"How to call a method on one running thread but execute it on another running thread?","body":"<p>I am new to java threads. I have an client application that is running on 2 threads: <code>WorkerThread</code> and <code>JavaFxGuiThread</code>. My question is: can i call a method on <code>GuiThread</code> (on press of a button) but execute it on <code>WorkerThread</code>? Note that that at the time when i call method and execute it both threads are already doing other stuff.\nHere is the sample of my code:</p>\n<pre><code>class WorkerThread implements Runnable {\n    @Override\n    public void run() {\n        searchForConnections(); // &lt;-- should run at the start of a thread\n        \n        // should wait for onButtonPressed() and only then execute\n        // sendMessage() on WorkerThread, not on GuiThread\n    }\n    private String searchForConnections() {\n        // constantly searches for connections\n        return connection;\n    }\n    private void sendMessage() {\n        //sends message\n        System.out.println(&quot;message sent!&quot;);\n    }\n}\nclass GuiThread implements Runnable {\n    @Override\n    public void run() {\n        runGui(); // &lt;-- should run at the start of a thread\n        \n        // waits until user press the button\n        // and only then:\n        onButtonPressed();\n    }\n    private void onButtonPressed() {\n        // should somehow run sendMessage() inside\n        // WorkerThread run() method\n        // ( which should run sendMessage() on WorkerThread not GuiThread )\n    }\n}\npublic class Main {\n    public static void main(String[] args) {\n        new Thread(new WorkerThread()).start();  // starts GuiThread run() method\n        new Thread(new GuiThread()).start();     // starts WorkerThread run() method\n    }\n}\n</code></pre>\n<p>I want to avoid calling <code>sendMessage()</code> on <code>GuiThread</code>.</p>\n<p>Similar answers here only show how to run methods AT THE START of a thread while i believe that my situation is different because threads are already running.</p>\n"},{"tags":["java","android","unit-testing","mocking","android-bluetooth"],"comments":[{"owner":{"account_id":2406407,"reputation":3654,"user_id":2102748,"accept_rate":100,"display_name":"milosmns"},"score":0,"creation_date":1527808061,"post_id":43770321,"comment_id":88278122,"body_markdown":"To avoid using Robolectric (i.e. you want JUnit only), you have to mock the Parcel properly, no faking will work. I do have a simple implementation of how that might work, but it&#39;s limited to the Parcelable problem only (nothing to do with Bluetooth). Here it is: https://gist.github.com/milosmns/7f6448a3602595948449d3bfaff9b005","body":"To avoid using Robolectric (i.e. you want JUnit only), you have to mock the Parcel properly, no faking will work. I do have a simple implementation of how that might work, but it&#39;s limited to the Parcelable problem only (nothing to do with Bluetooth). Here it is: <a href=\"https://gist.github.com/milosmns/7f6448a3602595948449d3bfaff9b005\" rel=\"nofollow noreferrer\">gist.github.com/milosmns/7f6448a3602595948449d3bfaff9b005</a>"}],"answers":[{"tags":[],"owner":{"account_id":3967622,"reputation":918,"user_id":3273067,"accept_rate":33,"display_name":"Marcin D"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1511382977,"creation_date":1511382977,"answer_id":47443487,"question_id":43770321,"body_markdown":"In order to connect to a BLE device, an app needs to obtain a BluetoothDevice object. This can be done using one of\r\nthree methods:\r\n\r\n- By scanning: a BluetoothDevice object is returned for each scanned advertising packet in a callback\r\nparameter ScanResult.\r\n\r\n- By obtaining a list of bonded devices using BluetoothAdapter#getBondedDevices().\r\n\r\n- By creating a device object using BluetoothAdapter#getRemoteDevice(String address).\r\n\r\nWhen a BluetoothDevice object is obtained using the last method (or by creating a new object with new\r\nBluetoothDevice(address)), a connection attempt to it will work only if:\r\n\r\n - The device has a PUBLIC address or is bonded, or\r\n - The device has been scanned at least once before connection attempt\r\n   since Bluetooth adapter have been started\r\n\r\nSource: https://devzone.nordicsemi.com/blogs/1046/what-to-keep-in-mind-when-developing-your-ble-andr/","title":"Android unit test: mock BluetoothDevice and write to parcel","body":"<p>In order to connect to a BLE device, an app needs to obtain a BluetoothDevice object. This can be done using one of\nthree methods:</p>\n\n<ul>\n<li><p>By scanning: a BluetoothDevice object is returned for each scanned advertising packet in a callback\nparameter ScanResult.</p></li>\n<li><p>By obtaining a list of bonded devices using BluetoothAdapter#getBondedDevices().</p></li>\n<li><p>By creating a device object using BluetoothAdapter#getRemoteDevice(String address).</p></li>\n</ul>\n\n<p>When a BluetoothDevice object is obtained using the last method (or by creating a new object with new\nBluetoothDevice(address)), a connection attempt to it will work only if:</p>\n\n<ul>\n<li>The device has a PUBLIC address or is bonded, or</li>\n<li>The device has been scanned at least once before connection attempt\nsince Bluetooth adapter have been started</li>\n</ul>\n\n<p>Source: <a href=\"https://devzone.nordicsemi.com/blogs/1046/what-to-keep-in-mind-when-developing-your-ble-andr/\" rel=\"nofollow noreferrer\">https://devzone.nordicsemi.com/blogs/1046/what-to-keep-in-mind-when-developing-your-ble-andr/</a></p>\n"},{"tags":[],"owner":{"account_id":15041750,"reputation":114,"user_id":10856090,"display_name":"Nicolas "},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1612946734,"creation_date":1612946734,"answer_id":66133528,"question_id":43770321,"body_markdown":"Late answer... but if anybody need that. \r\nRobolectric has now a class **ShadowBluetoothDevice**\r\n\r\nUsable this way : `ShadowBluetoothDevice.newInstance(&quot;00:11:22:33:AA:BB&quot;)`\r\n\r\nCheers","title":"Android unit test: mock BluetoothDevice and write to parcel","body":"<p>Late answer... but if anybody need that.\nRobolectric has now a class <strong>ShadowBluetoothDevice</strong></p>\n<p>Usable this way : <code>ShadowBluetoothDevice.newInstance(&quot;00:11:22:33:AA:BB&quot;)</code></p>\n<p>Cheers</p>\n"},{"tags":[],"owner":{"account_id":2758183,"reputation":528,"user_id":2375663,"display_name":"Jonny Right"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678604135,"creation_date":1678604135,"answer_id":75711521,"question_id":43770321,"body_markdown":"Since ShadowBluetoothDevice.newInstance() is deprecated, it is also possible to create a mock instance via bluetooth adapter:\r\n\r\n    \r\n\r\n    val bluetoothManager = context.getSystemService(Context.BLUETOOTH_SERVICE) as? BluetoothManager\r\n            val bluetoothAdapter = bluetoothManager?.adapter\r\n    val mockedBluetoothDevice = bluetoothAdapter?.getRemoteDevice(&quot;00:11:22:33:FF:EE&quot;)","title":"Android unit test: mock BluetoothDevice and write to parcel","body":"<p>Since ShadowBluetoothDevice.newInstance() is deprecated, it is also possible to create a mock instance via bluetooth adapter:</p>\n<pre><code>val bluetoothManager = context.getSystemService(Context.BLUETOOTH_SERVICE) as? BluetoothManager\n        val bluetoothAdapter = bluetoothManager?.adapter\nval mockedBluetoothDevice = bluetoothAdapter?.getRemoteDevice(&quot;00:11:22:33:FF:EE&quot;)\n</code></pre>\n"}],"owner":{"account_id":6700420,"reputation":43,"user_id":7947022,"display_name":"Bentleylust"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4912,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1678604135,"creation_date":1493846959,"question_id":43770321,"body_markdown":"I would like to ask about unit testing a class that has `BluetoothDevice` variable. \r\n\r\nMy object is a simple object that contains some primitive variable and a BluetoothDevice variable. My object is also parcelable.\r\n\r\nEventually my code works totally fine on the mobile device but I have strange error when I run my unit tests.\r\n\r\nI mocked the BluetoothDevice in the test class as shown below:\r\n\r\n\r\n    @RunWith(RobolectricTestRunner.class)\r\n    @Config(manifest=Config.NONE)\r\n    public class BluetoothDeviceTest {\r\n\r\n        @Mock\r\n        BluetoothDevice device1;\r\n\r\n        @Before\r\n        public void initMocks(){\r\n            MockitoAnnotations.initMocks(this);\r\n\r\n            when(device1.getAddress()).thenReturn(&quot;01:02:03:04:05:06&quot;);\r\n            when(device1.getName()).thenReturn(&quot;device767b1&quot;);\r\n            when(device1.getBondState()).thenReturn(BOND_NONE);\r\n        }\r\n    }\r\n\r\nIn my object among other primitives I use:\r\n\r\n- I use `out.writeParcelable(mBluetoothDevice,0);` inside `@Override public void writeToParcel(Parcel out, int flags)` method.   \r\n\r\n- I use `mBluetoothDevice = in.readParcelable(BluetoothDevice.class.getClassLoader());` inside `protected MyObject(Parcel in)` constructor.\r\n\r\nThe unit test that tests parcelling of my object instance fails with an exception\r\n```java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String```\r\n\r\nOnce again please note that when my code runs totally fine and parcelling works good in the mobile app I work on. Only unit test is acting strange.\r\n\r\nI suspect this is because my mocked `BluetoothDevice` variable is shorter in the parcel than a normal real instance and the order of the data fields in the parcel gets messed up. \r\n\r\nHas anybody unit tested with a mocked `BluetoothDevice` and can give me some hint ? Thank you","title":"Android unit test: mock BluetoothDevice and write to parcel","body":"<p>I would like to ask about unit testing a class that has <code>BluetoothDevice</code> variable. </p>\n\n<p>My object is a simple object that contains some primitive variable and a BluetoothDevice variable. My object is also parcelable.</p>\n\n<p>Eventually my code works totally fine on the mobile device but I have strange error when I run my unit tests.</p>\n\n<p>I mocked the BluetoothDevice in the test class as shown below:</p>\n\n<pre><code>@RunWith(RobolectricTestRunner.class)\n@Config(manifest=Config.NONE)\npublic class BluetoothDeviceTest {\n\n    @Mock\n    BluetoothDevice device1;\n\n    @Before\n    public void initMocks(){\n        MockitoAnnotations.initMocks(this);\n\n        when(device1.getAddress()).thenReturn(\"01:02:03:04:05:06\");\n        when(device1.getName()).thenReturn(\"device767b1\");\n        when(device1.getBondState()).thenReturn(BOND_NONE);\n    }\n}\n</code></pre>\n\n<p>In my object among other primitives I use:</p>\n\n<ul>\n<li><p>I use <code>out.writeParcelable(mBluetoothDevice,0);</code> inside <code>@Override public void writeToParcel(Parcel out, int flags)</code> method.   </p></li>\n<li><p>I use <code>mBluetoothDevice = in.readParcelable(BluetoothDevice.class.getClassLoader());</code> inside <code>protected MyObject(Parcel in)</code> constructor.</p></li>\n</ul>\n\n<p>The unit test that tests parcelling of my object instance fails with an exception\n<code>java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String</code></p>\n\n<p>Once again please note that when my code runs totally fine and parcelling works good in the mobile app I work on. Only unit test is acting strange.</p>\n\n<p>I suspect this is because my mocked <code>BluetoothDevice</code> variable is shorter in the parcel than a normal real instance and the order of the data fields in the parcel gets messed up. </p>\n\n<p>Has anybody unit tested with a mocked <code>BluetoothDevice</code> and can give me some hint ? Thank you</p>\n"},{"tags":["javascript","java","node.js","camunda","camunda-modeler"],"answers":[{"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678604073,"creation_date":1678604073,"answer_id":75711516,"question_id":75683422,"body_markdown":"Could it be that your yaml uses incorrect spacing? The property is camunda.bpm.authorization.enabled. \r\nIn the yaml the authorization seems to be on the same level as camunda.bpm. Try to indent it 2 spaces.","title":"Problems with authorization Camunda","body":"<p>Could it be that your yaml uses incorrect spacing? The property is camunda.bpm.authorization.enabled.\nIn the yaml the authorization seems to be on the same level as camunda.bpm. Try to indent it 2 spaces.</p>\n"}],"owner":{"account_id":27752345,"reputation":9,"user_id":21186554,"display_name":"Nikita Afanasiev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678604073,"creation_date":1678358198,"question_id":75683422,"body_markdown":"The problem is that I am trying to add myself a rights check for users as all new users have admin access\r\n\r\nEverything is set up via Docker. Build Camunda: \r\n```\r\nFROM camunda/camunda-bpm-platform:run-7.17.0\r\n\r\nCOPY production.yml /camunda/configuration/production.yml\r\n```\r\n.yml setup file: \r\n\r\n```\r\ncamunda.bpm:\r\n  webapp:\r\n    csrf:\r\n      enable-same-site-cookie: true\r\n      same-site-cookie-option: STRICT\r\n    header-security:\r\n      hsts-disabled: false\r\n      content-security-policy-value: base-uri &#39;self&#39;;\r\n        default-src &#39;self&#39; &#39;unsafe-inline&#39; &#39;unsafe-eval&#39;;\r\n        img-src &#39;self&#39; data:;\r\n        block-all-mixed-content;\r\n        form-action &#39;self&#39;;\r\n        frame-ancestors &#39;none&#39;;\r\n        object-src &#39;none&#39;;\r\n        sandbox\r\n        allow-forms\r\n        allow-scripts\r\n        allow-same-origin\r\n        allow-popups\r\nauthorization:\r\n    enabled: true\r\n    user-id-claim: sub\r\n    administratorGroupName: camunda-admin\r\n    authorizationCheckRevokes: never\r\n  generic-properties:\r\n    properties:\r\n      enable-password-policy: true\r\n   admin-auth:\r\n     enabled: true\r\n     administrator-user-name: admin\r\n     administrator-group-name: admins\r\n\r\n```\r\nThe project is being built, but authorization still does not work, judging by the documentation, then all these settings are the maximum that needs to be done to make it work. Who set up authorization, please tell me what is wrong\r\n","title":"Problems with authorization Camunda","body":"<p>The problem is that I am trying to add myself a rights check for users as all new users have admin access</p>\n<p>Everything is set up via Docker. Build Camunda:</p>\n<pre><code>FROM camunda/camunda-bpm-platform:run-7.17.0\n\nCOPY production.yml /camunda/configuration/production.yml\n</code></pre>\n<p>.yml setup file:</p>\n<pre><code>camunda.bpm:\n  webapp:\n    csrf:\n      enable-same-site-cookie: true\n      same-site-cookie-option: STRICT\n    header-security:\n      hsts-disabled: false\n      content-security-policy-value: base-uri 'self';\n        default-src 'self' 'unsafe-inline' 'unsafe-eval';\n        img-src 'self' data:;\n        block-all-mixed-content;\n        form-action 'self';\n        frame-ancestors 'none';\n        object-src 'none';\n        sandbox\n        allow-forms\n        allow-scripts\n        allow-same-origin\n        allow-popups\nauthorization:\n    enabled: true\n    user-id-claim: sub\n    administratorGroupName: camunda-admin\n    authorizationCheckRevokes: never\n  generic-properties:\n    properties:\n      enable-password-policy: true\n   admin-auth:\n     enabled: true\n     administrator-user-name: admin\n     administrator-group-name: admins\n\n</code></pre>\n<p>The project is being built, but authorization still does not work, judging by the documentation, then all these settings are the maximum that needs to be done to make it work. Who set up authorization, please tell me what is wrong</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26130464,"reputation":11,"user_id":19821256,"display_name":"Dheeraj"},"score":1,"creation_date":1678572896,"post_id":75709755,"comment_id":133560753,"body_markdown":"This is solved here:\nhttps://stackoverflow.com/questions/21547462/how-to-multiply-2-dimensional-arrays-matrix-multiplication","body":"This is solved here: <a href=\"https://stackoverflow.com/questions/21547462/how-to-multiply-2-dimensional-arrays-matrix-multiplication\" title=\"how to multiply 2 dimensional arrays matrix multiplication\">stackoverflow.com/questions/21547462/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678576467,"post_id":75709755,"comment_id":133561240,"body_markdown":"Please repeat for me, how does one multiply two matrices? I would have expected three nested loops, not just two?","body":"Please repeat for me, how does one multiply two matrices? I would have expected three nested loops, not just two?"}],"answers":[{"tags":[],"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678578090,"creation_date":1678578090,"answer_id":75710261,"question_id":75709755,"body_markdown":"You are missing an inner loop :\r\n\r\n      public double[][] producto(double[][] m1, double[][] m2){\r\n        final int nbRow1 = m1.length;\r\n        final int nbColumn1 = m1[0].length;\r\n        final int nbRow2 = m2.length;\r\n        final int nbColumn2 = m2[0].length;\r\n    \r\n        if (nbColumn1 != nbRow2) {\r\n          throw new IllegalArgumentException(&quot;Invalid input&quot;);\r\n        }\r\n    \r\n        double[][] r=new double[nbRow1][nbColumn2];\r\n        for(int row=0;row&lt;nbRow1;row++){\r\n          for(int col=0; col&lt;nbColumn2;col++){\r\n            r[row][col] = 0;\r\n            for (int i = 0; i &lt; nbColumn1; i++) {\r\n              r[row][col]+=m1[row][i]*m2[i][col];\r\n            }\r\n          }\r\n        }\r\n        return r;\r\n      }\r\n\r\n","title":"Translating the algorithm of multiplying 2 arrays into Java","body":"<p>You are missing an inner loop :</p>\n<pre><code>  public double[][] producto(double[][] m1, double[][] m2){\n    final int nbRow1 = m1.length;\n    final int nbColumn1 = m1[0].length;\n    final int nbRow2 = m2.length;\n    final int nbColumn2 = m2[0].length;\n\n    if (nbColumn1 != nbRow2) {\n      throw new IllegalArgumentException(&quot;Invalid input&quot;);\n    }\n\n    double[][] r=new double[nbRow1][nbColumn2];\n    for(int row=0;row&lt;nbRow1;row++){\n      for(int col=0; col&lt;nbColumn2;col++){\n        r[row][col] = 0;\n        for (int i = 0; i &lt; nbColumn1; i++) {\n          r[row][col]+=m1[row][i]*m2[i][col];\n        }\n      }\n    }\n    return r;\n  }\n</code></pre>\n"}],"owner":{"account_id":27991778,"reputation":35,"user_id":21377483,"display_name":"CDAMXI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678615996,"accepted_answer_id":75710261,"answer_count":1,"score":1,"last_activity_date":1678603200,"creation_date":1678571436,"question_id":75709755,"body_markdown":"I&#39;m trying to multiply 2 arrays in Java. I know how to multiply 2 arrays with each other, but I&#39;m struggling to translate that into Java using 2D arrays (It&#39;s my first time using 2D arrays).\r\n\r\nI&#39;ve tried creating a new column variable for the first array, another one for the second one, and another one for the result, but it&#39;s not working.\r\n\r\nThis is what I&#39;ve written so far\r\n\r\n```\r\npublic double[][] producto(double[][] m1, double[][] m2){\r\n        double[][] r=new double[m1.length][m1[0].length];\r\n        for(int fila=0, col1 = 0, col=0;fila&lt;m1.length &amp;&amp; col1&lt;m1[fila].length;fila++,col1++,col++){\r\n            for(int col2=0; col2&lt;m1[fila].length;col2++){\r\n                r[fila][col]+=m1[fila][col1]*m2[fila][col2];\r\n            }\r\n        }\r\n        return r;\r\n    }\r\n```\r\n\r\nWhen I use `{{1,1,1},{1,1,1},{1,1,1}}` and `{{2,2,2},{2,2,2},{2,2,2}}` as inputs I get tze actual output `{{6,0,0},{0,6,0},{0,0,6}}` while I would expect it to be `{{6,6,6},{6,6,6},{6,6,6}}`.","title":"Translating the algorithm of multiplying 2 arrays into Java","body":"<p>I'm trying to multiply 2 arrays in Java. I know how to multiply 2 arrays with each other, but I'm struggling to translate that into Java using 2D arrays (It's my first time using 2D arrays).</p>\n<p>I've tried creating a new column variable for the first array, another one for the second one, and another one for the result, but it's not working.</p>\n<p>This is what I've written so far</p>\n<pre><code>public double[][] producto(double[][] m1, double[][] m2){\n        double[][] r=new double[m1.length][m1[0].length];\n        for(int fila=0, col1 = 0, col=0;fila&lt;m1.length &amp;&amp; col1&lt;m1[fila].length;fila++,col1++,col++){\n            for(int col2=0; col2&lt;m1[fila].length;col2++){\n                r[fila][col]+=m1[fila][col1]*m2[fila][col2];\n            }\n        }\n        return r;\n    }\n</code></pre>\n<p>When I use <code>{{1,1,1},{1,1,1},{1,1,1}}</code> and <code>{{2,2,2},{2,2,2},{2,2,2}}</code> as inputs I get tze actual output <code>{{6,0,0},{0,6,0},{0,0,6}}</code> while I would expect it to be <code>{{6,6,6},{6,6,6},{6,6,6}}</code>.</p>\n"},{"tags":["javascript","java","servlets"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1678606316,"post_id":75711281,"comment_id":133563631,"body_markdown":"Basically this is not a servlet or Java question.  The problem is purely in the HTML &amp; Javascript documents.  It is not relevant how they are being served to the browser.","body":"Basically this is not a servlet or Java question.  The problem is purely in the HTML &amp; Javascript documents.  It is not relevant how they are being served to the browser."},{"owner":{"account_id":4533970,"reputation":458,"user_id":3683684,"display_name":"sanjeev"},"score":0,"creation_date":1692988784,"post_id":75711281,"comment_id":135705304,"body_markdown":"With script tag you can either provide a source file to load the code from or can have the code mentioned within the script tags, cannot mix both.","body":"With script tag you can either provide a source file to load the code from or can have the code mentioned within the script tags, cannot mix both."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678602770,"creation_date":1678602770,"answer_id":75711436,"question_id":75711281,"body_markdown":"Your script tag has a src attrib and contents. This will cause undesired behaviour. See this [question][1].\r\n\r\n\r\nThe fix is to change this\r\n\r\n    out.println(&quot;&lt;script type=&#39;text/javascript&#39; src=&#39;app.js&#39;&gt;&quot;);\r\n\r\ninto this:\r\n\r\n    out.println(&quot;&lt;script type=&#39;text/javascript&#39; src=&#39;app.js&#39;&gt;&lt;/script&gt;&quot;);\r\n    out.println(&quot;&lt;script type=&#39;text/javascript&#39;&gt;&quot;);\r\n\r\n  [1]: https://stackoverflow.com/questions/6528325/what-does-a-script-tag-with-src-and-content-mean","title":"java servlet doesn&#39;t work with JavaScript properly","body":"<p>Your script tag has a src attrib and contents. This will cause undesired behaviour. See this <a href=\"https://stackoverflow.com/questions/6528325/what-does-a-script-tag-with-src-and-content-mean\">question</a>.</p>\n<p>The fix is to change this</p>\n<pre><code>out.println(&quot;&lt;script type='text/javascript' src='app.js'&gt;&quot;);\n</code></pre>\n<p>into this:</p>\n<pre><code>out.println(&quot;&lt;script type='text/javascript' src='app.js'&gt;&lt;/script&gt;&quot;);\nout.println(&quot;&lt;script type='text/javascript'&gt;&quot;);\n</code></pre>\n"}],"owner":{"account_id":22854500,"reputation":5,"user_id":16999552,"display_name":"Wonjun Jo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678602770,"creation_date":1678600301,"question_id":75711281,"body_markdown":"\r\n\r\n        out.println(&quot;&lt;script type=&#39;text/javascript&#39; src=&#39;app.js&#39;&gt;&quot;);\r\n        out.println(&quot;Calendar.$calendar = document.querySelector(&#39;.calendar&#39;)&quot;);\r\n        out.println(&quot;Calendar.$date = document.querySelector(&#39;.cur-date&#39;)&quot;);\r\n        out.println(&quot;Calendar.init()&quot;);\r\n        out.println(&quot;&lt;/script&gt;&quot;);\r\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n\r\nI&#39;m trying to make the code for Full year calendar that can add to-do list on any date you choose. but it seems to doesn&#39;t work.\r\n\r\nwhen I run this code. It&#39;s showing me this error.\r\nUncaught TypeError: Cannot set properties of undefined (setting &#39;innerHTML&#39;)\r\n\r\nhow do I fix this problem?","title":"java servlet doesn&#39;t work with JavaScript properly","body":"<pre><code>    out.println(&quot;&lt;script type='text/javascript' src='app.js'&gt;&quot;);\n    out.println(&quot;Calendar.$calendar = document.querySelector('.calendar')&quot;);\n    out.println(&quot;Calendar.$date = document.querySelector('.cur-date')&quot;);\n    out.println(&quot;Calendar.init()&quot;);\n    out.println(&quot;&lt;/script&gt;&quot;);\n    out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n</code></pre>\n<p>I'm trying to make the code for Full year calendar that can add to-do list on any date you choose. but it seems to doesn't work.</p>\n<p>when I run this code. It's showing me this error.\nUncaught TypeError: Cannot set properties of undefined (setting 'innerHTML')</p>\n<p>how do I fix this problem?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":0,"creation_date":1300446372,"post_id":5350975,"comment_id":6043413,"body_markdown":"In fact it probably can&#39;t, as the GC moves objects around in the physical memory a lot, so the JVM needs an extra level of indirection to keep references up to date.","body":"In fact it probably can&#39;t, as the GC moves objects around in the physical memory a lot, so the JVM needs an extra level of indirection to keep references up to date."}],"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1300445967,"creation_date":1300445967,"answer_id":5350975,"question_id":5350950,"body_markdown":"This is because a reference variable doesn&#39;t actually hold the object. It&#39;s a way to reach the object. The way JVM manages this is something of our least concern. You can think of it as an address to the location of the object in the heap. But it need not be as straight forward as an address.","title":"reference type size in java","body":"<p>This is because a reference variable doesn't actually hold the object. It's a way to reach the object. The way JVM manages this is something of our least concern. You can think of it as an address to the location of the object in the heap. But it need not be as straight forward as an address.</p>\n"},{"tags":[],"owner":{"account_id":10732,"reputation":54830,"user_id":20400,"accept_rate":72,"display_name":"Omar Kooheji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300446292,"creation_date":1300446292,"answer_id":5351031,"question_id":5350950,"body_markdown":"8 Bytes is the size of a Long variable in Java and allows for 1.01457092 &#215; 10^19 references to be referenced, that should be enough for most applications, and bigger than most hard drives can address considering that each of those reference points needs to also hold data...\r\n\r\n**Edit:**\r\nHaving read one of the other answers I wanted to clarify that the reference is just a pointer to the data and doesn&#39;t contain the data, the Java architects decided to use 64 bit values to denote references because it gives you a huge address space.","title":"reference type size in java","body":"<p>8 Bytes is the size of a Long variable in Java and allows for 1.01457092 × 10^19 references to be referenced, that should be enough for most applications, and bigger than most hard drives can address considering that each of those reference points needs to also hold data...</p>\n\n<p><strong>Edit:</strong>\nHaving read one of the other answers I wanted to clarify that the reference is just a pointer to the data and doesn't contain the data, the Java architects decided to use 64 bit values to denote references because it gives you a huge address space.</p>\n"},{"tags":[],"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300446566,"creation_date":1300446566,"answer_id":5351084,"question_id":5350950,"body_markdown":"Values of type reference can be thought of as pointers to objects. the 8 byte should adress this in the heap.\r\n\r\nRead about [The Structure of the Java Virtual Machine][1]\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/Overview.doc.html#31069","title":"reference type size in java","body":"<p>Values of type reference can be thought of as pointers to objects. the 8 byte should adress this in the heap.</p>\n\n<p>Read about <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/Overview.doc.html#31069\" rel=\"nofollow\">The Structure of the Java Virtual Machine</a></p>\n"},{"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1374593203,"post_id":5356799,"comment_id":25994930,"body_markdown":"64 bit JVMs don&#39;t necessarily use 64 bit references. Hotspot for example uses 32 bits by default.","body":"64 bit JVMs don&#39;t necessarily use 64 bit references. Hotspot for example uses 32 bits by default."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1374651506,"post_id":5356799,"comment_id":26019021,"body_markdown":"Thanks for the correction ... do you have a link to the relevant documentation?","body":"Thanks for the correction ... do you have a link to the relevant documentation?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1374659885,"post_id":5356799,"comment_id":26024062,"body_markdown":"See also: http://docs.oracle.com/javase/7/docs/technotes/guides/vm/performance-enhancements-7.html","body":"See also: <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/vm/performance-enhancements-7.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/vm/&hellip;</a>"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":1,"creation_date":1374754096,"post_id":5356799,"comment_id":26070502,"body_markdown":"@assylias Thanks, I added this to my answer.","body":"@assylias Thanks, I added this to my answer."}],"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"comment_count":4,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1374754079,"creation_date":1300475868,"answer_id":5356799,"question_id":5350950,"body_markdown":"Actually, it is nowhere specified how much bytes a reference variable shall have, and in fact, it is not everywhere the same.\r\n\r\nCommon virtual machines for 32-bit systems (i.e. systems with 32 bit adresses in the memory bus) usually use 32-bit (= 4 bytes, same as `int` and `float`) as the size for object references, while virtual machines for 64-bit systems often use the native address size 64 bits (= 8 bytes) for these.  (Note that most 64 bit systems can run 32-bit programs, too, so often even there you&#39;ll be using a 32 bit VM.)\r\n\r\nIt is simply a matter of simplifying the implementation, if you can use an actual memory address for your references instead of something else.\r\n\r\nAs this increases the size of memory used (and often we don&#39;t actually need to access *that* much memory), [from Java 7 on][1] the 64-bit HotSpot VM will be able to use 32-bit references under certain conditions, i.e. when the heap is smaller than 32 GB (8&#183;2&lt;sup&gt;32&lt;/sup&gt; bytes). To convert them to a actual memory address, they are multiplied by 8 (as objects will be aligned on 8-byte-boundaries) and then added to the base address (if this is not zero). (For heaps smaller than 4 GB, we don&#39;t need the multiplication step.)\r\n\r\nOther VMs might use similar tricks.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/vm/performance-enhancements-7.html#compressedOop","title":"reference type size in java","body":"<p>Actually, it is nowhere specified how much bytes a reference variable shall have, and in fact, it is not everywhere the same.</p>\n\n<p>Common virtual machines for 32-bit systems (i.e. systems with 32 bit adresses in the memory bus) usually use 32-bit (= 4 bytes, same as <code>int</code> and <code>float</code>) as the size for object references, while virtual machines for 64-bit systems often use the native address size 64 bits (= 8 bytes) for these.  (Note that most 64 bit systems can run 32-bit programs, too, so often even there you'll be using a 32 bit VM.)</p>\n\n<p>It is simply a matter of simplifying the implementation, if you can use an actual memory address for your references instead of something else.</p>\n\n<p>As this increases the size of memory used (and often we don't actually need to access <em>that</em> much memory), <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/vm/performance-enhancements-7.html#compressedOop\" rel=\"noreferrer\">from Java 7 on</a> the 64-bit HotSpot VM will be able to use 32-bit references under certain conditions, i.e. when the heap is smaller than 32 GB (8·2<sup>32</sup> bytes). To convert them to a actual memory address, they are multiplied by 8 (as objects will be aligned on 8-byte-boundaries) and then added to the base address (if this is not zero). (For heaps smaller than 4 GB, we don't need the multiplication step.)</p>\n\n<p>Other VMs might use similar tricks.</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1368876779,"creation_date":1368876779,"answer_id":16623803,"question_id":5350950,"body_markdown":"Let me give an example to help you understand better\r\n\r\n\t\tString myName = new String(&quot;John&quot;);\r\n\t\tString yourName = new String(&quot;John&quot;);\r\n\t\tif (myName == yourName) \r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Refereces point to Same objects on heap&quot;);\r\n\t\t} else \r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Refereces point to different objects on heap&quot;);\r\n\t\t}\r\n\r\nand output is **Refereces point to different objects on heap**.\r\n\r\nHere **myName** and **yourName** are two references which point to objects of type String(**memory allocated on Heap**). Note memory for reference variables is allocated on **stack** and not on the Heap. Both the reference variables merely have the address(or similar unique abstraction) of the String object which resides on the Heap. The size of address will be constant for a particular architecture of OS. In case of 32 bits it will be 4 bytes where as for 64 bits it will be 8 bytes.\r\n\r\n So size of objects pointed be the reverence variable may change but the size of references remain the same as they simply carry address which remains constant for any particular architecture. ","title":"reference type size in java","body":"<p>Let me give an example to help you understand better</p>\n\n<pre><code>    String myName = new String(\"John\");\n    String yourName = new String(\"John\");\n    if (myName == yourName) \n    {\n        System.out.println(\"Refereces point to Same objects on heap\");\n    } else \n    {\n        System.out.println(\"Refereces point to different objects on heap\");\n    }\n</code></pre>\n\n<p>and output is <strong>Refereces point to different objects on heap</strong>.</p>\n\n<p>Here <strong>myName</strong> and <strong>yourName</strong> are two references which point to objects of type String(<strong>memory allocated on Heap</strong>). Note memory for reference variables is allocated on <strong>stack</strong> and not on the Heap. Both the reference variables merely have the address(or similar unique abstraction) of the String object which resides on the Heap. The size of address will be constant for a particular architecture of OS. In case of 32 bits it will be 4 bytes where as for 64 bits it will be 8 bytes.</p>\n\n<p>So size of objects pointed be the reverence variable may change but the size of references remain the same as they simply carry address which remains constant for any particular architecture. </p>\n"},{"tags":[],"owner":{"account_id":27881238,"reputation":11,"user_id":21289603,"display_name":"dys"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678602674,"creation_date":1678602674,"answer_id":75711431,"question_id":5350950,"body_markdown":"because 64bit is enough for most hardware address space. and the reference can be seen as a pointer.","title":"reference type size in java","body":"<p>because 64bit is enough for most hardware address space. and the reference can be seen as a pointer.</p>\n"}],"owner":{"account_id":337558,"reputation":81,"user_id":665897,"display_name":"manoj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8319,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1678602674,"creation_date":1300445756,"question_id":5350950,"body_markdown":"Why does a reference type in java take 8 bytes? Why not less or more than 8 bytes?","title":"reference type size in java","body":"<p>Why does a reference type in java take 8 bytes? Why not less or more than 8 bytes?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1533727278,"post_id":51745277,"comment_id":90450435,"body_markdown":"Use the criteria API or QueryDSL predicates to create dynamic queries.","body":"Use the criteria API or QueryDSL predicates to create dynamic queries."},{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1533731054,"post_id":51745277,"comment_id":90453001,"body_markdown":"If your JPA provider throws an NPE then you should raise a bug on your JPA provider. The JPQL ought to cater for null input parameters.","body":"If your JPA provider throws an NPE then you should raise a bug on your JPA provider. The JPQL ought to cater for null input parameters."}],"answers":[{"tags":[],"owner":{"account_id":11343192,"reputation":642,"user_id":8316534,"display_name":"Vitalii Muzalevskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533727390,"creation_date":1533727390,"answer_id":51745466,"question_id":51745277,"body_markdown":"As for me the best solution for such cases is Criteria API, if you not familiar with it you can find some information here:\r\n\r\nhttps://www.objectdb.com/java/jpa/query/criteria","title":"JPA &#39;where in&#39; to be considered only if List passed as parameter has elements","body":"<p>As for me the best solution for such cases is Criteria API, if you not familiar with it you can find some information here:</p>\n\n<p><a href=\"https://www.objectdb.com/java/jpa/query/criteria\" rel=\"nofollow noreferrer\">https://www.objectdb.com/java/jpa/query/criteria</a></p>\n"},{"comments":[{"owner":{"account_id":3121388,"reputation":161,"user_id":2641088,"accept_rate":79,"display_name":"Michal Joštiak"},"score":1,"creation_date":1549540028,"post_id":51746592,"comment_id":95942962,"body_markdown":"Hi, empty is also possible to write as:\n    ( :#{#countryIds== null} = true or :#{#countryIds.size() == 0} = true or a.countryId in :#{#countryIds.size() == 0 ? null : #countryIds} )","body":"Hi, empty is also possible to write as:     ( :#{#countryIds== null} = true or :#{#countryIds.size() == 0} = true or a.countryId in :#{#countryIds.size() == 0 ? null : #countryIds} )"},{"owner":{"account_id":7236580,"reputation":16360,"user_id":5521607,"accept_rate":25,"display_name":"Olivier Boiss&#233;"},"score":1,"creation_date":1654376955,"post_id":51746592,"comment_id":128077789,"body_markdown":"you could also write `COALESCE(:countryIds) IS NULL` instead of `:#{#countryIds == null} = true`","body":"you could also write <code>COALESCE(:countryIds) IS NULL</code> instead of <code>:#{#countryIds == null} = true</code>"}],"tags":[],"owner":{"account_id":1351838,"reputation":9009,"user_id":1291238,"accept_rate":81,"display_name":"Random42"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1533730798,"creation_date":1533730798,"answer_id":51746592,"question_id":51745277,"body_markdown":"After lots of trial and error I found an acceptable working solution with SpEL; thought some might find it useful:\r\n\r\n    @Query(&quot;select a from Alert a where a.date &gt;= :startDate &quot; \r\n            &quot;and (:#{#countryIds == null} = true or (a.countryId in (:countryIds))) &quot; +\r\n            &quot;and (:#{#siteTypeIds == null} = true or (a.siteTypeId in (:siteTypeIds))) &quot;)\r\n    List&lt;Alert&gt; findBy(@Param(&quot;startDate&quot;) Date startDate, \r\n                       @Param(&quot;countryIds&quot;) Set&lt;Long&gt; countryIds,\r\n                       @Param(&quot;siteTypeIds&quot;) Set&lt;Long&gt; siteTypeIds);\r\n\r\nThe Sets sent as parameters have to be `null` instead of empty sets. \r\nIt yields an acceptable SQL: \r\n\r\n    select alert0_.alertId              as alertId1_0_, [...]\r\n    from alert alert0_\r\n    where alert0_.date &gt;= &#39;2018-01-01&#39; and\r\n          (0 = 1 or alert0_.countryId in (1, 123)) and\r\n          (1 = 1 or alert0_.siteTypeId in (null));","title":"JPA &#39;where in&#39; to be considered only if List passed as parameter has elements","body":"<p>After lots of trial and error I found an acceptable working solution with SpEL; thought some might find it useful:</p>\n\n<pre><code>@Query(\"select a from Alert a where a.date &gt;= :startDate \" \n        \"and (:#{#countryIds == null} = true or (a.countryId in (:countryIds))) \" +\n        \"and (:#{#siteTypeIds == null} = true or (a.siteTypeId in (:siteTypeIds))) \")\nList&lt;Alert&gt; findBy(@Param(\"startDate\") Date startDate, \n                   @Param(\"countryIds\") Set&lt;Long&gt; countryIds,\n                   @Param(\"siteTypeIds\") Set&lt;Long&gt; siteTypeIds);\n</code></pre>\n\n<p>The Sets sent as parameters have to be <code>null</code> instead of empty sets. \nIt yields an acceptable SQL: </p>\n\n<pre><code>select alert0_.alertId              as alertId1_0_, [...]\nfrom alert alert0_\nwhere alert0_.date &gt;= '2018-01-01' and\n      (0 = 1 or alert0_.countryId in (1, 123)) and\n      (1 = 1 or alert0_.siteTypeId in (null));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1663152978,"post_id":54572829,"comment_id":130170568,"body_markdown":"The answer might be improved by just highlighting the relevant part : `:#{#suppliers != null &amp;&amp; #suppliers.size() &gt; 0} = true and supplier in :#{#supplier}`. Personnally, I&#39;ve achieved something similar thanks to your solution : &quot;find entities whose id is found in list_of_ids, or all entities if list_of_ids is null or empty&quot; : `SELECT ... WHERE :#{#list_of_ids == null || #list_of_ids.size() &lt; 1} = true OR myEntity.id IN :list_of_ids`","body":"The answer might be improved by just highlighting the relevant part : <code>:#{#suppliers != null &amp;&amp; #suppliers.size() &gt; 0} = true and supplier in :#{#supplier}</code>. Personnally, I&#39;ve achieved something similar thanks to your solution : &quot;find entities whose id is found in list_of_ids, or all entities if list_of_ids is null or empty&quot; : <code>SELECT ... WHERE :#{#list_of_ids == null || #list_of_ids.size() &lt; 1} = true OR myEntity.id IN :list_of_ids</code>"}],"tags":[],"owner":{"account_id":3121388,"reputation":161,"user_id":2641088,"accept_rate":79,"display_name":"Michal Joštiak"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549543108,"creation_date":1549540583,"answer_id":54572829,"question_id":51745277,"body_markdown":"I had the same problem so im writing extended solution with using also embedded parameter \r\n\r\n    @Query(&quot;from PartPrice where &quot;\r\n    \t\t\t+ &quot;customer in :#{#customers} and &quot;\r\n    \t\t\t+ &quot;( (:#{#suppliers == null || #suppliers.size() == 0} = true and supplier is null) or (:#{#suppliers != null &amp;&amp; #suppliers.size() &gt; 0} = true and supplier in :#{#supplier}) ) and &quot;\r\n    \t\t\t+ &quot; productIdentifier.manufacturerId = :#{#productIdentifier.manufacturerId} and productIdentifier.productNumber = :#{#productIdentifier.productNumber} and &quot;\r\n    \t\t\t+ &quot; ( (:#{#isAbsPrice} = true and abs_price is not null) or (:#{#isAbsPrice} = false and abs_price is null) ) &quot;\r\n    \t\t\t+ &quot; and (validUntil is null or validUntil &gt;= :#{#fromDate}) and (:#{#untilDate == null} = true or validFrom &lt;= :#{#untilDate}) &quot;)\r\n\r\nwhere suppliers is nullable, empty or contains values and productIdentifier is embedded id containing productNumber and manufacturerId passing as \r\n\r\n    @Param(&quot;productIdentifier&quot;) ProductIdentifier productIdentifier\r\n\r\nAlso interval is valid from fromDate to null (forever) or untilDate.","title":"JPA &#39;where in&#39; to be considered only if List passed as parameter has elements","body":"<p>I had the same problem so im writing extended solution with using also embedded parameter </p>\n\n<pre><code>@Query(\"from PartPrice where \"\n            + \"customer in :#{#customers} and \"\n            + \"( (:#{#suppliers == null || #suppliers.size() == 0} = true and supplier is null) or (:#{#suppliers != null &amp;&amp; #suppliers.size() &gt; 0} = true and supplier in :#{#supplier}) ) and \"\n            + \" productIdentifier.manufacturerId = :#{#productIdentifier.manufacturerId} and productIdentifier.productNumber = :#{#productIdentifier.productNumber} and \"\n            + \" ( (:#{#isAbsPrice} = true and abs_price is not null) or (:#{#isAbsPrice} = false and abs_price is null) ) \"\n            + \" and (validUntil is null or validUntil &gt;= :#{#fromDate}) and (:#{#untilDate == null} = true or validFrom &lt;= :#{#untilDate}) \")\n</code></pre>\n\n<p>where suppliers is nullable, empty or contains values and productIdentifier is embedded id containing productNumber and manufacturerId passing as </p>\n\n<pre><code>@Param(\"productIdentifier\") ProductIdentifier productIdentifier\n</code></pre>\n\n<p>Also interval is valid from fromDate to null (forever) or untilDate.</p>\n"},{"tags":[],"owner":{"account_id":27996499,"reputation":1,"user_id":21381613,"display_name":"ilmar ferreira marques"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678602373,"creation_date":1678602251,"answer_id":75711396,"question_id":51745277,"body_markdown":"After some try and errors I got this working for those who`d like to handle the empty lists when using IN JPA clause. If there is at least one element it filters normally otherwise it will bring the entire resultset if the collection is empty:\r\n\r\n\t@Query(&quot;SELECT h FROM Holiday h WHERE (:#{#ids.empty? T(java.util.Arrays).asList(null) : #ids} is null or h.id in :#{#ids.empty? T(java.util.Arrays).asList(null) : #ids} )&quot;)\r\n\tOptional&lt;List&lt;Holiday&gt;&gt; listAllIn(@Param(&quot;ids&quot;) Collection&lt;Long&gt; ids);\r\n\r\nGot this working on Eclipselink 2.7.11.v20220804-52dea2a3c0 + spring-data-jpa 2.7.7","title":"JPA &#39;where in&#39; to be considered only if List passed as parameter has elements","body":"<p>After some try and errors I got this working for those who`d like to handle the empty lists when using IN JPA clause. If there is at least one element it filters normally otherwise it will bring the entire resultset if the collection is empty:</p>\n<pre><code>@Query(&quot;SELECT h FROM Holiday h WHERE (:#{#ids.empty? T(java.util.Arrays).asList(null) : #ids} is null or h.id in :#{#ids.empty? T(java.util.Arrays).asList(null) : #ids} )&quot;)\nOptional&lt;List&lt;Holiday&gt;&gt; listAllIn(@Param(&quot;ids&quot;) Collection&lt;Long&gt; ids);\n</code></pre>\n<p>Got this working on Eclipselink 2.7.11.v20220804-52dea2a3c0 + spring-data-jpa 2.7.7</p>\n"}],"owner":{"account_id":1351838,"reputation":9009,"user_id":1291238,"accept_rate":81,"display_name":"Random42"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4561,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":51746592,"answer_count":4,"score":5,"last_activity_date":1678602373,"creation_date":1533726809,"question_id":51745277,"body_markdown":"I have one query that should filter based on various parameters; one of those parameters is a list. If there are entries in the list, there should be a filtering based on the entries; but if the list is empty/null, there shouldn&#39;t be any filtering on that field.\r\n\r\n\r\nWhat I&#39;ve thought is something like this: \r\n\r\n    @Query(&quot;select a from Alert a where a.date &gt;= :startDate &quot; +\r\n                &quot;and (((:countryIds) is null) or a.countryId in (:countryIds)) &quot; +\r\n                &quot;and (((:typeIds) is null) or a.siteTypeId in (:typeIds)) &quot;)\r\n    List&lt;Alert&gt; findBy(@Param(&quot;startDate&quot;) Date startDate,\r\n                       @Param(&quot;countryIds&quot;) Set&lt;Long&gt; countryIds,\r\n                       @Param(&quot;typeIds&quot;) Set&lt;Long&gt; typeIds);\r\n\r\nSending null List it throws NPE; sending an empty list it generates the following SQL, which is invalid \r\n                                                \r\n    where alert0_.date &gt;= &#39;2018-01-01&#39; and                                                       \r\n     ((1, 123) is null or alert0_.countryId in (1, 123))\r\n\r\nI&#39;ve also tried in JPQL to have `and (((:countryIds) is empty) or a.countryId in (:countryIds))` but it also doesn&#39;t work when trying to compile the JPQL (at application startup): `Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: ??? is not mapped\r\n\tat org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:171)`\r\nOr using SpEL: \r\n`&quot;and (:#{countryIds.size() &gt; 0} or (a.countryId in (:countryIds))) &quot;`\r\nbut again, it doesn&#39;t compile the JPQL.\r\n\r\nThe only solution I&#39;ve thought is to dynamically generate the JPQL which is ugly or to populate all existing values for `countryIds` and `siteTypeIds` which is inefficient. \r\n\r\nJPA implementation is Hibernate and database is MySQL.\r\n\r\n\r\n","title":"JPA &#39;where in&#39; to be considered only if List passed as parameter has elements","body":"<p>I have one query that should filter based on various parameters; one of those parameters is a list. If there are entries in the list, there should be a filtering based on the entries; but if the list is empty/null, there shouldn't be any filtering on that field.</p>\n\n<p>What I've thought is something like this: </p>\n\n<pre><code>@Query(\"select a from Alert a where a.date &gt;= :startDate \" +\n            \"and (((:countryIds) is null) or a.countryId in (:countryIds)) \" +\n            \"and (((:typeIds) is null) or a.siteTypeId in (:typeIds)) \")\nList&lt;Alert&gt; findBy(@Param(\"startDate\") Date startDate,\n                   @Param(\"countryIds\") Set&lt;Long&gt; countryIds,\n                   @Param(\"typeIds\") Set&lt;Long&gt; typeIds);\n</code></pre>\n\n<p>Sending null List it throws NPE; sending an empty list it generates the following SQL, which is invalid </p>\n\n<pre><code>where alert0_.date &gt;= '2018-01-01' and                                                       \n ((1, 123) is null or alert0_.countryId in (1, 123))\n</code></pre>\n\n<p>I've also tried in JPQL to have <code>and (((:countryIds) is empty) or a.countryId in (:countryIds))</code> but it also doesn't work when trying to compile the JPQL (at application startup): <code>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: ??? is not mapped\n    at org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:171)</code>\nOr using SpEL: \n<code>\"and (:#{countryIds.size() &gt; 0} or (a.countryId in (:countryIds))) \"</code>\nbut again, it doesn't compile the JPQL.</p>\n\n<p>The only solution I've thought is to dynamically generate the JPQL which is ugly or to populate all existing values for <code>countryIds</code> and <code>siteTypeIds</code> which is inefficient. </p>\n\n<p>JPA implementation is Hibernate and database is MySQL.</p>\n"},{"tags":["java","json","equals","assert","jsonassert"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1678576937,"post_id":75707726,"comment_id":133561296,"body_markdown":"I would expect these would have to be represented as pure numbers without enclosing &quot;&quot;.","body":"I would expect these would have to be represented as pure numbers without enclosing &quot;&quot;."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678601212,"creation_date":1678600049,"answer_id":75711267,"question_id":75707726,"body_markdown":"The balance field in the Java class should be defined as an int (or float), not a String.\r\n\r\nIf applicable, it should be defined as a “number” in any JsonSchema, swagger or open-api definition.\r\n\r\nThe ‘expected’ can be defined as either of the following and the `JSONAssert.assertEquals` will work without a custom comparator - see [Introduction to JSONassert][1] section 3.4 Logical Camparison:\r\n\r\n    {\r\n    &quot;id&quot; : &quot;1234567&quot;\r\n    &quot;balance&quot; : 123\r\n    }\r\n\r\nor \r\n\r\n    {  \r\n    &quot;id&quot; : &quot;1234567&quot;\r\n    &quot;balance&quot; : 123.00\r\n    }\r\n\r\nIf you do not have control of the field types then a  comparator for the balance field would look like this:\r\n\r\n    public int compare(String firstBalance, String secondBalance) {\r\n           return\r\n    Float.compare(Float.parseFloat(firstBalance), Float.parseFloat(secondBalance));\r\n        }\r\n\r\n\r\n  [1]: https://www.baeldung.com/jsonassert","title":"How JSONAssert will treat int 5 and double 5.0 same","body":"<p>The balance field in the Java class should be defined as an int (or float), not a String.</p>\n<p>If applicable, it should be defined as a “number” in any JsonSchema, swagger or open-api definition.</p>\n<p>The ‘expected’ can be defined as either of the following and the <code>JSONAssert.assertEquals</code> will work without a custom comparator - see <a href=\"https://www.baeldung.com/jsonassert\" rel=\"nofollow noreferrer\">Introduction to JSONassert</a> section 3.4 Logical Camparison:</p>\n<pre><code>{\n&quot;id&quot; : &quot;1234567&quot;\n&quot;balance&quot; : 123\n}\n</code></pre>\n<p>or</p>\n<pre><code>{  \n&quot;id&quot; : &quot;1234567&quot;\n&quot;balance&quot; : 123.00\n}\n</code></pre>\n<p>If you do not have control of the field types then a  comparator for the balance field would look like this:</p>\n<pre><code>public int compare(String firstBalance, String secondBalance) {\n       return\nFloat.compare(Float.parseFloat(firstBalance), Float.parseFloat(secondBalance));\n    }\n</code></pre>\n"}],"owner":{"account_id":9461442,"reputation":1,"user_id":7035058,"display_name":"vaibhav23123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678601212,"creation_date":1678557373,"question_id":75707726,"body_markdown":"I have two JSON objects represented as Java `String`s\r\nExpected:\r\n```json\r\n{\r\n&quot;id&quot; : &quot;1234567&quot;\r\n&quot;balance&quot; : &quot;123&quot;\r\n}\r\n```\r\nI converted this into JSON object and trying to validate this with output JSON\r\nActual:\r\n```json\r\n{\r\n&quot;id&quot; : &quot;1234567&quot;\r\n&quot;balance&quot; : &quot;123.00&quot;\r\n}\r\n```\r\n\r\nI am using `JSONAssert.assertequal(&quot;incorrect json&quot;,actual,expected,false);`\r\n\r\nThis is failing with expected `123` and got `123.00`.\r\n\r\nwhat to do so that it will treat both the values same.in a nutshell how do I use custom comaparator ,please note that I dont want to exclude/suppress this attribute from my validation","title":"How JSONAssert will treat int 5 and double 5.0 same","body":"<p>I have two JSON objects represented as Java <code>String</code>s\nExpected:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;id&quot; : &quot;1234567&quot;\n&quot;balance&quot; : &quot;123&quot;\n}\n</code></pre>\n<p>I converted this into JSON object and trying to validate this with output JSON\nActual:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;id&quot; : &quot;1234567&quot;\n&quot;balance&quot; : &quot;123.00&quot;\n}\n</code></pre>\n<p>I am using <code>JSONAssert.assertequal(&quot;incorrect json&quot;,actual,expected,false);</code></p>\n<p>This is failing with expected <code>123</code> and got <code>123.00</code>.</p>\n<p>what to do so that it will treat both the values same.in a nutshell how do I use custom comaparator ,please note that I dont want to exclude/suppress this attribute from my validation</p>\n"},{"tags":["python","java","android","django"],"comments":[{"owner":{"account_id":24401476,"reputation":1704,"user_id":18400908,"display_name":"Сергей Кох"},"score":2,"creation_date":1678600957,"post_id":75711317,"comment_id":133563146,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1678601222,"post_id":75711317,"comment_id":133563162,"body_markdown":"I added a link at the top of your question. Hopefully it answers your question.","body":"I added a link at the top of your question. Hopefully it answers your question."}],"answers":[{"tags":[],"owner":{"account_id":25381110,"reputation":1,"user_id":19193499,"display_name":"Felicia Ann Kelley"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678601011,"creation_date":1678601011,"answer_id":75711331,"question_id":75711317,"body_markdown":"Try setting it to IO I never heard of a socket that is.net it could be wrong but as far as I understand this I&#39;ll so just put java.io","title":"Iam trying to connect my android application and my django server for sending data from androiod application to django server but an error is occured","body":"<p>Try setting it to IO I never heard of a socket that is.net it could be wrong but as far as I understand this I'll so just put java.io</p>\n"}],"owner":{"account_id":27996388,"reputation":1,"user_id":21381519,"display_name":"JITHIN KRISHNAN P G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1678601202,"answer_count":1,"score":-3,"last_activity_date":1678601139,"creation_date":1678600816,"question_id":75711317,"body_markdown":"```\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err: com.android.volley.NoConnectionError: java.net.SocketException: socket failed: EPERM (Operation not permitted)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.NetworkUtility.shouldRetryException(NetworkUtility.java:173)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:145)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:132)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:111)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:90)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err: Caused by: java.net.SocketException: socket failed: EPERM (Operation not permitted)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at java.net.Socket.createImpl(Socket.java:517)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at java.net.Socket.getImpl(Socket.java:577)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at java.net.Socket.setSoTimeout(Socket.java:1203)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.io.RealConnection.connectSocket(RealConnection.java:143)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.io.RealConnection.connect(RealConnection.java:116)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:186)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:131)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getOutputStream(HttpURLConnectionImpl.java:262)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.createOutputStream(HurlStack.java:319)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.addBody(HurlStack.java:301)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.addBodyIfExists(HurlStack.java:285)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.setConnectionParametersForRequest(HurlStack.java:257)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.executeRequest(HurlStack.java:89)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:104)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err: \t... 3 more\r\n```\r\n\r\nConnection between android app and django n\r\nserver","title":"Iam trying to connect my android application and my django server for sending data from androiod application to django server but an error is occured","body":"<pre><code>2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err: com.android.volley.NoConnectionError: java.net.SocketException: socket failed: EPERM (Operation not permitted)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.NetworkUtility.shouldRetryException(NetworkUtility.java:173)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:145)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:132)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:111)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:90)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err: Caused by: java.net.SocketException: socket failed: EPERM (Operation not permitted)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at java.net.Socket.createImpl(Socket.java:517)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at java.net.Socket.getImpl(Socket.java:577)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at java.net.Socket.setSoTimeout(Socket.java:1203)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.io.RealConnection.connectSocket(RealConnection.java:143)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.io.RealConnection.connect(RealConnection.java:116)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:186)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:131)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getOutputStream(HttpURLConnectionImpl.java:262)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.createOutputStream(HurlStack.java:319)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.addBody(HurlStack.java:301)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.addBodyIfExists(HurlStack.java:285)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.setConnectionParametersForRequest(HurlStack.java:257)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.executeRequest(HurlStack.java:89)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:104)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     ... 3 more\n</code></pre>\n<p>Connection between android app and django n\nserver</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9642,"page":583,"page_size":100}
